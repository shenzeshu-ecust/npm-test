{"version":3,"file":"common.js","mappings":"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","sources":["webpack://xTaroProject/common.js"],"sourcesContent":["\"use strict\";\n(wx[\"tripTaroGlobal92\"] = wx[\"tripTaroGlobal92\"] || []).push([[592],{\n\n/***/ 5542:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": function() { return /* binding */ taroBase; }\n/* harmony export */ });\n/* harmony import */ var _Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(298);\n/* harmony import */ var _Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(8277);\n/* harmony import */ var _Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(7042);\n/* harmony import */ var _Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(4460);\n/* harmony import */ var _Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(1876);\n/* harmony import */ var _Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(1867);\n/* harmony import */ var _Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(94);\n/* harmony import */ var _Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(5023);\n/* harmony import */ var _Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3212);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(201);\n/* harmony import */ var _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6884);\n/* harmony import */ var _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _miniapp_cwx_cpage_ubt_wx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1783);\n/* harmony import */ var _miniapp_cwx_cpage_ubt_wx__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_miniapp_cwx_cpage_ubt_wx__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9181);\n/* harmony import */ var _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _miniapp_cwx_ext_global__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5238);\n/* harmony import */ var _miniapp_cwx_ext_global__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_miniapp_cwx_ext_global__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2954);\n/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_5__);\n/* provided dependency */ var document = __webpack_require__(2180)[\"document\"];\n\n\n\n\n\n\n\n\n\nvar _excluded = [\"duration\"];\n\n\n\n\n\n\nvar instanceId = 0;\nfunction serializeQueryObj(obj) {\n  var ret = [];\n  for (var k in obj) {\n    if (k !== '__navigator') {\n      var t = (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_6__/* [\"default\"] */ .Z)(obj[k]);\n      if (t === 'string' || t === 'number' || t === 'boolean') {\n        ret.push(encodeURIComponent(k) + '=' + encodeURIComponent(obj[k]));\n      }\n    }\n  }\n  return ret.length > 0 ? '?' + ret.join('&') : '';\n}\nvar tabs = function () {\n  var ret = [];\n  var __wxConfig = (_miniapp_cwx_ext_global__WEBPACK_IMPORTED_MODULE_4___default().__wxConfig) || {};\n  if (__wxConfig.tabBar && __wxConfig.tabBar.list) {\n    ret = __wxConfig.tabBar.list.map(function (item) {\n      return item.pagePath;\n    });\n  } else {\n    if ((_miniapp_cwx_ext_global__WEBPACK_IMPORTED_MODULE_4___default().tabbar)) {\n      ret = (_miniapp_cwx_ext_global__WEBPACK_IMPORTED_MODULE_4___default().tabbar); //安卓检测不到tabbar\n    }\n  }\n\n  return ret;\n}();\nfunction __getIndex(tabs, route) {\n  var index = -1;\n  for (var i = 0; i < tabs.length; i++) {\n    var r = tabs[i];\n    if (r.indexOf(route) != -1) {\n      index = i;\n      break;\n    }\n  }\n  return index;\n}\nvar noop = function noop() {};\n// 注意：Taro 页面没有 onShow, onHide ( 20230321记 )\nvar lifeCycleFns = [\"onLoad\",\n// 可访问页面路由参数：通过访问 options 参数或调用 getCurrentInstance().router。\n\"componentDidShow\",\n// 页面显示/切入前台时触发。【页面没有 onShow, 只有页面组件才会触发 onShow 生命周期】\n\"onReady\",\n// 可访问小程序渲染层的 DOM 节点：使用 createCanvasContext 或 createSelectorQuery 等 API 。【使用时，需查看官方文档中的注意事项】\n\"componentDidHide\",\n// 在下一个页面的 onLoad 之前触发。页面隐藏/切入后台时触发。【页面没有 onHide, 只有页面组件才会触发 onHide 生命周期】\n\"onUnload\",\n// 【在下一个页面的 onLoad 之前触发】\n\"componentWillUnmount\" // 【在下一个页面的 onLoad 之后触发】页面退出时触发。在微信小程序中这一生命周期方法对应 onUnload\n];\n\nvar eventHandlerFns = [\"onShareAppMessage\", \"onShareTimeline\"];\nvar extraAttrsMap = {\n  // 曝光埋点相关属性\n  autoExpose: [\"autoExpose\", \"exposeThreshold\", \"exposeDuration\", \"getExposeData\"],\n  // 性能检测相关属性\n  checkPerformance: [\"checkPerformance\" // 白屏检测\n  ]\n};\n\nvar extraApisMap = {\n  ubt: [\"ubtSendPV\", \"ubtTrace\", \"ubtMetric\", \"ubtDevTrace\", \"ubtExposure\", \"ubtTrackError\", \"__ubt_getPageInfo\", \"ubtSet\", \"navigateTo\", \"navigateBack\", \"invokeCallback\"],\n  dom: [\"getDOMProps\"]\n  // checkPerformance: [\n  //   \"viewReadyHandle\", // 监听 CSS动画结束 事件\n  // ],\n};\nvar taroBase = /*#__PURE__*/function (_Component) {\n  (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__/* [\"default\"] */ .Z)(taroBase, _Component);\n  var _super = (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_8__/* [\"default\"] */ .Z)(taroBase);\n  function taroBase(props) {\n    var _this2;\n    (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_9__/* [\"default\"] */ .Z)(this, taroBase);\n    _this2 = _super.call(this, props);\n    //= 创建PV\n    (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__/* [\"default\"] */ .Z)((0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_11__/* [\"default\"] */ .Z)(_this2), \"viewReadyHandle\", function () {\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"handleViewReadyEvent\") && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().handleViewReadyEvent(_this2.whiteScreenGUID);\n    });\n    _this2.runReady = false;\n    _this2.cwx = (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default());\n    _this2.__ubt_events = {};\n    _this2.__ubt_instance = _miniapp_cwx_cpage_ubt_wx__WEBPACK_IMPORTED_MODULE_2___default().createPV();\n    _this2.__route = props && props.tid && props.tid.split(\"?\")[0];\n    if (_this2._getCurrentPageRouter() === _this2.__route) {\n      //绑定当前页面的ubt\n      _this2._bindPageIns(\"constructor\");\n    }\n    _this2.wrapLifeCycle();\n    _this2.wrapPopularEventHandler(); // 处理分享内容\n    _this2.bindEntryQueryToIns(); // 个保整改3期，将首个页面参数绑定到页面实例的2个参数相关的属性上\n    return _this2;\n  }\n  (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__/* [\"default\"] */ .Z)(taroBase, [{\n    key: \"bindEntryQueryToIns\",\n    value: function bindEntryQueryToIns() {\n      // 判断小程序壳中是否包含 checkRediToGuide 方法，即是否包含个保整改3期的个保指引页面重定向逻辑\n      if (!_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"checkRediToGuide\")) {\n        return;\n      }\n      var instance = _tarojs_taro__WEBPACK_IMPORTED_MODULE_5___default().getCurrentInstance();\n      var guid = instance && instance.router && instance.router.params && instance.router.params.enterQueryGUID || \"\";\n      if (!guid) {\n        guid = instance && instance.page && instance.page.options && instance.page.options.enterQueryGUID || \"\";\n      }\n      if (!guid) {\n        return;\n      }\n      console.log(\"%c [bindEntryQueryToIns] guid:\", \"color:#0f0;\", guid);\n      var enterQuery = _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().getEnterQueryByGUID(guid);\n      console.log(\"%c [bindEntryQueryToIns] enterQuery:\", \"color:#0f0;\", enterQuery);\n      if (enterQuery) {\n        // 处理 Taro 页面实例：如果有 guid, 塞入真实的参数值\n        if (instance && instance.router && instance.router.params) {\n          Object.assign(instance.router.params, enterQuery);\n        }\n        if (instance && instance.page && instance.page.options) {\n          Object.assign(instance.page.options, enterQuery);\n        }\n      }\n    }\n  }, {\n    key: \"wrapLifeCycle\",\n    value: function wrapLifeCycle() {\n      var _this3 = this;\n      lifeCycleFns.forEach(function (fnName) {\n        var oldFn = _this3[fnName] || noop;\n        var newFn = function newFn(args) {\n          if (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"checkRediToGuide\")) {\n            if (fnName === 'onLoad') {\n              // 经过 constructor 的处理后，因为 instance.router.params === args, 所以 args 里已经包含 enterQuery, 因此不需要再次将 enterQuery 绑定到 args 上\n\n              // 个人信息保护指引相关处理：不是 个保指引页，并且 生命周期是 onLoad，并且用户未同意授权，则需要重定向至 个保指引页\n              if (!_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().checkRediToGuide({\n                isPIPGPage: _this3.isPIPGPage,\n                pagePath: _this3._getCurrentPageRouter(),\n                pageQuery: args\n              })) {\n                if (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"checkUsePerInfoProtectComponent\") && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().checkUsePerInfoProtectComponent()) {\n                  if (_this3.__page) {\n                    _this3.__page.isShowGuideComponent = true; // 绑定到小程序的页面实例上\n                  }\n                } else {\n                  _this3.isRediToGuide = true;\n                  _this3[\"_\" + fnName].call(_this3, args);\n                  return;\n                }\n              }\n            }\n\n            // 重定向到个保指引页的首屏页面，不执行业务生命周期\n            if (_this3.isRediToGuide) {\n              _this3[\"_\" + fnName].call(_this3, args);\n              return;\n            }\n          }\n          _this3[\"_\" + fnName].call(_this3, args);\n          // BU主动入参，控制：如果是在朋友圈打开，是否执行业务生命周期逻辑；\n          if (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"checkInTimeline\") && _this3.stopRunLifeInTL && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().checkInTimeline()) {\n            return;\n          }\n          oldFn.call(_this3, args);\n        };\n        _this3[fnName] = newFn.bind(_this3);\n      });\n    }\n\n    // 包裹分享、收藏事件处理函数，一般是要 return 一个东西出去的\n  }, {\n    key: \"wrapPopularEventHandler\",\n    value: function wrapPopularEventHandler() {\n      var _this4 = this;\n      eventHandlerFns.forEach(function (fnName) {\n        console.log('[wrapPopularEventHandler] typeof this[fnName]:', (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_6__/* [\"default\"] */ .Z)(_this4[fnName]));\n        // todo? 暂不添加 showShareToTimeline || (fnName === \"onShareTimeline\" && this.showShareToTimeline)\n        if (typeof _this4[fnName] === 'function') {\n          var oldFn = _this4[fnName] || noop; // 这个是BU调用的函数\n          var newFn = function newFn(args) {\n            console.log('[wrapPopularEventHandler] fnName:', fnName);\n            console.log('[wrapPopularEventHandler] args:', args);\n            var res = oldFn.call(_this4, args);\n            console.log('[wrapPopularEventHandler] res:', res);\n            var processedRes = _this4[\"_\".concat(fnName)].call(_this4, args, res); // 执行 _ 的函数\n            console.log('经过处理，最终返回的 sharedata:', processedRes);\n            return processedRes;\n          };\n          _this4[fnName] = newFn.bind(_this4);\n        }\n      });\n    }\n  }, {\n    key: \"_getCurrentPageRouter\",\n    value: function _getCurrentPageRouter(page) {\n      if ((_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().getCurrentPageRouter)) {\n        return _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().getCurrentPageRouter(page);\n      }\n      // 保留原有逻辑，兼容 其他平台主板 及 独立小程序（兼容尚未添加 cwx.getCurrentPageRouter 的情况）\n      var currentPage = page || _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().getCurrentPage();\n      return currentPage && currentPage.__route__ || currentPage && currentPage.route || \"\";\n    }\n  }, {\n    key: \"_onShareTimeline\",\n    value: function _onShareTimeline(args) {\n      var shareData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      console.log('处理前的 shareData:', shareData);\n      if (shareData && typeof shareData === \"boolean\" && typeof (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().processShareTimeline) === \"function\") {\n        shareData = _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().processShareTimeline(this.originOptions);\n      }\n      console.log('处理后的 shareData:', shareData);\n      return shareData;\n    }\n  }, {\n    key: \"_onShareAppMessage\",\n    value: function _onShareAppMessage(args) {\n      var shareData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      console.log('处理前的 args:', args);\n      console.log('处理前的 sharedata:', shareData);\n      if ((_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().processShareData)) {\n        shareData = _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().processShareData(args, shareData);\n      }\n      console.log('处理后的 sharedata:', shareData);\n      return shareData;\n    }\n  }, {\n    key: \"bindExtraApiToPage\",\n    value: function bindExtraApiToPage(type) {\n      var _this5 = this;\n      var apiList = extraApisMap[type] || [];\n      apiList.forEach(function (item) {\n        _this5.__page[item] = _this5[item].bind(_this5);\n      });\n    }\n  }, {\n    key: \"userActionWrapper\",\n    value: function userActionWrapper(fnName) {\n      var _this = this;\n      return function eventWrapper(e) {\n        if (typeof _this[fnName] === 'function') {\n          //上报event\n          try {\n            _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().uploadUserAction(e, fnName, _this);\n          } catch (e) {}\n          _this[fnName].apply(_this, arguments);\n        }\n      };\n    }\n  }, {\n    key: \"ubtSendPV\",\n    value: function ubtSendPV(options) {\n      /**\n       * 如果产生了新的PV需要更新当前page下的ubt.pv实例对象\n       * 避免新PV下的埋点数据（tracelog,metric）关联到上一个PV\n       */\n      this.__ubt_instance = this.__ubt_instance.send('pv', options || {});\n    }\n  }, {\n    key: \"ubtTrace\",\n    value: function ubtTrace(name, value, _extend) {\n      var ubtConfig = (_miniapp_cwx_ext_global__WEBPACK_IMPORTED_MODULE_4___default().ubtConfig) || {};\n      if (value && JSON.stringify(value).length > ubtConfig.maxSize) {\n        value = {\n          UBT_WARN: \"The user data exceeded the upper limit of \".concat(ubtConfig.maxSize, \"KB.\")\n        };\n      }\n      var traceValue = value;\n      //默认不平铺\n      if (!(_extend !== null && _extend !== void 0 && _extend.tiled)) {\n        switch (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().util.type(value)) {\n          case \"string\":\n          case \"number\":\n            traceValue = value;\n            break;\n          default:\n            traceValue = JSON.stringify(value);\n            break;\n        }\n      }\n      if ((_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().config.ubtDebug)) {\n        var ubtTrace = this.__ubt_getPageInfo();\n        ubtTrace.traceName = name;\n        ubtTrace.traceValue = traceValue;\n        console.log(\"UBT Page Trace\", ubtTrace);\n      }\n      if (!(_extend !== null && _extend !== void 0 && _extend.tiled)) {\n        this.__ubt_instance.send(\"tracelog\", {\n          name: name,\n          value: traceValue,\n          _extend: _extend || {}\n        });\n      } else {\n        this.__ubt_instance.send(\"trace\", {\n          key: name,\n          val: traceValue,\n          _extend: _extend || {}\n        });\n      }\n    }\n  }, {\n    key: \"ubtDevTrace\",\n    value: function ubtDevTrace(name, value) {\n      var option = {\n        \"$.ubt.hermes.topic.classifier\": \"DebugCustom\",\n        key: name,\n        val: (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_6__/* [\"default\"] */ .Z)(value) != 'object' ? {\n          data: value + ''\n        } : value,\n        applet_scene: ((_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().scene) || \"\") + \"\"\n      };\n      this.__ubt_instance.send('trace', option);\n    }\n  }, {\n    key: \"ubtMetric\",\n    value: function ubtMetric(option) {\n      // 想办法让ubt取到pageId\n      this.__ubt_instance.send('metric', option || {});\n    }\n  }, {\n    key: \"ubtTrackError\",\n    value: function ubtTrackError(options) {\n      this.__ubt_instance.send('error', options);\n    }\n  }, {\n    key: \"ubtExposure\",\n    value: function ubtExposure(name, value, _extend) {\n      var _ref = value || {},\n        duration = _ref.duration,\n        rest = (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_13__/* [\"default\"] */ .Z)(_ref, _excluded);\n      rest.scene = (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().scene) || \"\";\n      var option = {\n        key: name,\n        data: JSON.stringify(rest),\n        duration: duration || 0,\n        _extend: _extend || {}\n      };\n      this.__ubt_instance.send('exposure', option || {});\n    }\n  }, {\n    key: \"ubtSet\",\n    value: function ubtSet(name, value) {\n      // 想办法让ubt取到pageId\n      _miniapp_cwx_cpage_ubt_wx__WEBPACK_IMPORTED_MODULE_2___default().ubtSet(name, value);\n    }\n  }, {\n    key: \"_bindPageIns\",\n    value: function _bindPageIns(type) {\n      var _this6 = this;\n      if (this.bindTimer) {\n        clearTimeout(this.bindTimer);\n        this.bindTimer = null;\n      }\n      if (this.isBindedUbt) {\n        return;\n      }\n      var allPages = _tarojs_taro__WEBPACK_IMPORTED_MODULE_5___default().getCurrentPages(); // Taro 给出的页面堆栈\n      var currentRoute = this._getCurrentPageRouter();\n      this.__page = allPages[allPages.length - 1];\n      var cwxCurrentPage = _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().getCurrentPage(); // 微信原生API 给出的页面实例\n      try {\n        if (this.__page || cwxCurrentPage) {\n          _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().sendUbtByPage.ubtDevTrace(\"tpage_bindPageIns_type\", {\n            type: type,\n            thisRoute: this.__route || \"\",\n            // constructor 的 props && props.tid && props.tid.split(\"?\")[0];\n            wxGetPRoute: currentRoute,\n            // getCurrentPages()\n            taroGetPRoute: this.__page && this.__page.__route__ || \"\" // Taro.getCurrentPages()\n          });\n        }\n      } catch (e) {}\n      if (this.__page && (!this.__route || this._getCurrentPageRouter(this.__page) === this.__route)) {\n        _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().sendUbtByPage.ubtDevTrace(\"tpage_bindPageIns_start\", {\n          type: type,\n          thisRoute: this.__route || \"\",\n          // constructor 的 props && props.tid && props.tid.split(\"?\")[0];\n          wxGetPRoute: this._getCurrentPageRouter(this.__page),\n          // getCurrentPages()\n          taroGetPRoute: this.__page && this.__page.__route__ || \"\",\n          // Taro.getCurrentPages()\n          _isAlreadyBindPage: this.__page._isAlreadyBindPage // 标志位\n        });\n\n        if (this.__page._isAlreadyBindPage) {\n          return;\n        }\n        this.__page._isAlreadyBindPage = true;\n        // console.log(\"currentPage.__route__:\",this.__page.__route__);\n        // console.log(\"this.__route__:\",this.__route);\n        // console.log(\"type:\",type);\n        this.isBindedUbt = true;\n        this.__page.pageId = this.pageId;\n        this.__page.__ubt_instance = this.__ubt_instance;\n        //添加一个双向绑定\n\n        this.__page.__cpage = {\n          __ubt_querystring: this.__ubt_querystring,\n          pageId: this.pageId,\n          __ubt_instance: this.__ubt_instance,\n          __instanceId: \"taro_\" + instanceId++\n        };\n        this.bindExtraApiToPage(\"ubt\");\n        this.bindExtraApiToPage(\"dom\");\n        this.bindExtraApiToPage(\"checkPerformance\");\n        _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().sendUbtByPage.flush(); // 发送ubt埋点\n        return;\n      }\n      this.bindTimer = setTimeout(function () {\n        _this6.bindTimer = null;\n        _this6._bindPageIns(\"retry\");\n      }, 20);\n    }\n  }, {\n    key: \"getDOMProps\",\n    value: function getDOMProps(id) {\n      if (document && document.getElementById) {\n        var element = document.getElementById(id);\n        return element && element.props || null;\n      }\n      return null;\n    }\n  }, {\n    key: \"handleLifeCycleNotiOpt\",\n    value: function handleLifeCycleNotiOpt() {\n      return {\n        fcpGUID: this.fcpGUID || \"\",\n        bridgeGUID: this.bridgeGUID || \"\",\n        whiteScreenGUID: this.whiteScreenGUID || \"\",\n        __pageType: \"taro\",\n        pagePath: this._getCurrentPageRouter(this.__page)\n      };\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.originOptions = options;\n      if (this.checkPerformance && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"initWhiteScreen\")) {\n        // console.log(\"%c --- Taro页面的 checkPerformance 属性为 true\", \"color:#0f0\");\n        this.whiteScreenGUID = _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().initWhiteScreen();\n      }\n      if (options.fcpGUID) {\n        this.fcpGUID = options.fcpGUID;\n      }\n      // 供 引用了 bridge.js 的 webview 内嵌 h5 使用\n      if (options.bridgeGUID) {\n        this.bridgeGUID = options.bridgeGUID;\n      }\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().Observer.noti(\"cpage_onLoad\", (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__/* [\"default\"] */ .Z)((0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__/* [\"default\"] */ .Z)({}, options), this.handleLifeCycleNotiOpt()));\n      try {\n        //添加同步市场营销数据的逻辑\n        _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().mkt.setUnion(options);\n      } catch (e) {\n        console.log(\"CPage cwx.mkt.setUnion error = \", e);\n      }\n      this.__ubt_totalActiveTime = 0;\n      this.__ubt_onLoadTime = +new Date();\n      this.__ubt_querystring = serializeQueryObj(options);\n      this._bindPageIns(\"onLoad\");\n      // loadTime\n      this.__ubt_onLoadTime = +new Date();\n      this.__ubt_isBack = false;\n      this.__ubt_isBackFlag = false;\n      if (typeof this.pageId !== 'undefined' && this.__page) {\n        this.__page['pageId'] = this.pageId;\n        this.__page.__cpage && (this.__page.__cpage['pageId'] = this.pageId);\n      }\n      if (_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.pageStack.length === 1 && this.__page && __getIndex(tabs, this.__page.__route__) !== -1) {\n        _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.pageStack.splice(0, 1, this.__page.__route__);\n      } else {\n        this.__page && _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.pageStack.push(this.__page.__route__);\n      }\n      var uid = null;\n      delete this.__navigator_fromUid;\n      if (options && options['__navigator']) {\n        uid = options.__navigator;\n        delete options.__navigator;\n        var opts = _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid];\n        if (opts) {\n          console.log('__navigator_fromUid', uid);\n          this.__navigator_fromUid = uid;\n          options.data = opts.data;\n        }\n      }\n      var prePageLoadPromise = _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.getCWXPageLoadData && (0,_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.getCWXPageLoadData)();\n      if (prePageLoadPromise) {\n        var lastPagePreData = prePageLoadPromise;\n        if (prePageLoadPromise.data) {\n          lastPagePreData = prePageLoadPromise.data;\n        }\n        var currentPage = _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().getCurrentPage();\n        if (!prePageLoadPromise.path || prePageLoadPromise.path && prePageLoadPromise.path === currentPage.route) {\n          if (options) {\n            options.lastPagePreData = lastPagePreData;\n          } else {\n            options = {\n              lastPagePreData: lastPagePreData\n            };\n          }\n          //直接置空，只能相邻页面使用\n          _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.setCWXPageLoadData && (0,_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.setCWXPageLoadData)(null);\n        }\n      }\n      this.__navigator_isBack = false;\n      this.__navigator_isBackFlag = false;\n      (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._wxGetCurrentPages) = _tarojs_taro__WEBPACK_IMPORTED_MODULE_5___default().getCurrentPages();\n      try {\n        (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._currentPage) = (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._wxGetCurrentPages)[(_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._wxGetCurrentPages.length) - 1];\n      } catch (e) {}\n      // 兼容cwx上不存在该API的情况\n      // 比较 onLoad 时，this 和 微信原生API返回的页面实例是否绝对相等\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"sendUbtByPage\") && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().sendUbtByPage.ubtDevTrace(\"weapp_tpage_onLoad_comparePage\", {\n        compare: this.__page === _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().getCurrentPage()\n      });\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"sendPageRoute\") && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().sendPageRoute({\n        type: \"taro\"\n      });\n    }\n  }, {\n    key: \"_appendAttrsToPage\",\n    value:\n    // 将 CPage 实例上的指定属性绑定到 Page 页面实例上\n    function _appendAttrsToPage(type) {\n      var _this7 = this;\n      var attrList = extraAttrsMap[type] || [];\n      attrList.forEach(function (a) {\n        if (typeof _this7[a] !== \"undefined\") {\n          _this7.__page[a] = _this7[a];\n        }\n      });\n    }\n  }, {\n    key: \"_onReady\",\n    value: function _onReady() {\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().Observer.noti(\"cpage_onReady\", (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__/* [\"default\"] */ .Z)({}, this.handleLifeCycleNotiOpt()));\n      if (this.autoExpose) {\n        this._appendAttrsToPage(\"autoExpose\");\n        _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"sendUbtExpose\") && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().sendUbtExpose.observe(this.__page);\n      }\n      if (!this.runReady) {\n        this._bindPageIns(\"onReady\");\n        // active\n        if (!this.__ubt_isBack) {\n          this.__ubt_onActiveTime = +new Date();\n        }\n        this.__ubt_instance.send('metric', {\n          name: 100359,\n          //perf.weixin.ready\n          value: +new Date() - this.__ubt_onLoadTime\n        });\n      }\n      this.runReady = true;\n    }\n  }, {\n    key: \"_componentDidShow\",\n    value: function _componentDidShow() {\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().Observer.noti(\"cpage_onShow\", (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__/* [\"default\"] */ .Z)((0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__/* [\"default\"] */ .Z)({}, this.handleLifeCycleNotiOpt()), {}, {\n        cpageOnShowTS: Date.now()\n      }));\n      this.isRunPreLoad = false;\n      this._bindPageIns(\"componentDidShow\");\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"sendUbtGather\") && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().sendUbtGather.getPageDurationProps('pageOnShow');\n\n      // active\n      if (this.__ubt_isBack) {\n        this.__ubt_onActiveTime = +new Date();\n      }\n      if (this.hasOwnProperty('__navigator_isBackFlag')) {\n        delete this.__navigator_isBackFlag;\n      } else {\n        this.__navigator_isBack = true;\n      }\n      if (this.__navigator_isBack) {\n        if (_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.pageStack.length === 1 && this.__page && tabs.indexOf(this.__page.__route__) !== -1) {\n          _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.pageStack.splice(0, 1, this.__page.__route__);\n        }\n        var uid = this.__navigator_toUid;\n        if (uid && _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid] && !(_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().__skipCallback)) {\n          if (_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].callback) {\n            _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].backDatas.forEach(function (data) {\n              _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].callback.call(this.__page, data);\n            }.bind(this));\n          }\n          if (_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].navComplete) {\n            _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].navComplete.call(this.__page);\n          }\n          delete this.__navigator_toUid;\n        }\n        if ((_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().__skipCallback) == true) {\n          (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().__skipCallback) = false;\n        }\n      }\n      (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._wxGetCurrentPages) = _tarojs_taro__WEBPACK_IMPORTED_MODULE_5___default().getCurrentPages();\n      try {\n        (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._currentPage) = (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._wxGetCurrentPages)[(_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._wxGetCurrentPages.length) - 1];\n      } catch (e) {}\n      // back\n      if (this.hasOwnProperty('__ubt_isBackFlag')) {\n        delete this.__ubt_isBackFlag;\n      } else {\n        this.__ubt_isBack = true;\n      }\n      // log pv\n      //处理ubt返回相关\n      var ubtPv = this.__ubt_getPageInfo();\n      ubtPv.url = '' + this.props.tid;\n      if (ubtPv.url.indexOf(\"?\") === -1) {\n        ubtPv.url += this.__ubt_querystring;\n      }\n      ubtPv.isBack = this.__ubt_isBack;\n      //=发送PV数据，包含是否需要生成新PV的逻辑\n      if (ubtPv.pageId !== 'ignore_page_pv') {\n        this.__ubt_instance = this.__ubt_instance.send('pv', ubtPv);\n        console.log(\"this.__ubt_instance\", this.__ubt_instance);\n      }\n    }\n\n    // 由于 Taro页面 跳转到 原生页面的情况下，\n    // Taro 页面的 componentWillUnmount 是在原生页面的 _onUnload 之后触发的，\n    // 因此需要把之前写在 _componentWillUnmount 里的逻辑，挪到 _onUnload 里，\n    // 才能保证时机的准确性（尤其是获取的页面实例是真正卸载的页面实例）\n  }, {\n    key: \"_onUnload\",\n    value: function _onUnload() {\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().Observer.noti(\"cpage_onUnload\", (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__/* [\"default\"] */ .Z)({}, this.handleLifeCycleNotiOpt()));\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"sendUbtGather\") && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().sendUbtGather.getPageDurationProps('pageOnUnload');\n      if (this.__page && _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.pageStack[_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.pageStack.length - 1] == this.__page.__route__) {\n        _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.pageStack.pop();\n      }\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._wxGetCurrentPages.pop();\n      try {\n        (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._currentPage) = (_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._wxGetCurrentPages)[(_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default()._wxGetCurrentPages.length) - 1];\n      } catch (e) {}\n    }\n  }, {\n    key: \"_componentWillUnmount\",\n    value: function _componentWillUnmount() {\n      // console.log(\"%c _componentWillUnmount -----------\", \"color:#0f0\")\n    }\n  }, {\n    key: \"_componentDidHide\",\n    value: function _componentDidHide() {\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().Observer.noti(\"cpage_onHide\", (0,_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__/* [\"default\"] */ .Z)({}, this.handleLifeCycleNotiOpt()));\n      if (this.autoExpose) {\n        _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().canIUse(\"sendUbtExpose\") && _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().sendUbtExpose.disconnect(this.__page);\n      }\n      this.runPreLoad();\n    }\n  }, {\n    key: \"__ubt_getPageInfo\",\n    value: function __ubt_getPageInfo() {\n      return {\n        pageId: '' + (this.pageId || this.pageid || '0')\n      };\n    }\n  }, {\n    key: \"runPreLoad\",\n    value: function runPreLoad() {\n      if (this.isRunPreLoad) {\n        return;\n      }\n      this.isRunPreLoad = true;\n      if (typeof this.cwxPrePageLoad === 'function') {\n        _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.setCWXPageLoadData && (0,_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.setCWXPageLoadData)(this.cwxPrePageLoad());\n      }\n    }\n  }, {\n    key: \"navigateTo\",\n    value: function navigateTo(opts) {\n      var uid = (0,_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.getNavigatorUid)();\n      var url = opts.url;\n      var navOpts = {\n        url: url + (/\\?/.test(url) ? '&' : '?') + '__navigator=' + encodeURIComponent(uid),\n        success: opts.success ? opts.success.bind(this.__page) : null,\n        fail: opts.fail ? opts.fail.bind(this.__page) : null,\n        complete: opts.complete ? opts.complete.bind(this.__page) : null\n      };\n      if (this.getPageLevel() >= 10) {\n        var err = {\n          error: '页面层级超过10层',\n          errorCode: '500'\n        };\n        console.log(\"CPage.navigateTo :\", err, url);\n        // console.log( \"CPage.stack :\", this.getPageStack() );\n\n        navOpts.fail && navOpts.fail(err);\n        navOpts.complete && navOpts.complete(err);\n        return;\n      }\n      _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid] = {\n        data: opts.data,\n        immediateCallback: opts.immediateCallback ? opts.immediateCallback.bind(this.__page) : null,\n        callback: opts.callback ? opts.callback.bind(this.__page) : null,\n        navComplete: opts.navComplete ? opts.navComplete.bind(this.__page) : null,\n        backDatas: []\n      };\n      this.runPreLoad();\n      this.__navigator_toUid = uid;\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().navigateTo(navOpts);\n    }\n  }, {\n    key: \"navigateBack\",\n    value: function navigateBack(data) {\n      var uid = this && this.__navigator_fromUid || \"\";\n      if (uid && _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid] && arguments.length > 0) {\n        _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].backDatas.push(data);\n        _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].immediateCallback && _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].immediateCallback(data);\n      }\n      _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().navigateBack();\n    }\n  }, {\n    key: \"invokeCallback\",\n    value: function invokeCallback(data) {\n      var uid = this && this.__navigator_fromUid || \"\";\n      if (uid && _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid]) {\n        _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].backDatas.push(data);\n        _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].immediateCallback && _miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.navigatorOpts[uid].immediateCallback(data);\n      }\n    }\n  }, {\n    key: \"getPageStack\",\n    value: function getPageStack() {\n      return _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default().util.copy(_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__.pageStack);\n    }\n  }, {\n    key: \"getPageLevel\",\n    value: function getPageLevel() {\n      return this.getPageStack().length;\n    }\n  }]);\n  return taroBase;\n}(react__WEBPACK_IMPORTED_MODULE_0__.Component);\n\n\n/***/ })\n\n}]);"],"names":["wx","push","__unused_webpack_module","__webpack_exports__","__webpack_require__","d","taroBase","_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__","_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_13__","_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_9__","_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__","_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_11__","_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_7__","_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_8__","_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__","_Users_szz_Desktop_LearnReactAndVite_xTaro_xtaro_myapp_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_6__","react__WEBPACK_IMPORTED_MODULE_0__","_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1__","_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_1___default","n","_miniapp_cwx_cpage_ubt_wx__WEBPACK_IMPORTED_MODULE_2__","_miniapp_cwx_cpage_ubt_wx__WEBPACK_IMPORTED_MODULE_2___default","_miniapp_cwx_cpage_initNavigator__WEBPACK_IMPORTED_MODULE_3__","_miniapp_cwx_ext_global__WEBPACK_IMPORTED_MODULE_4__","_miniapp_cwx_ext_global__WEBPACK_IMPORTED_MODULE_4___default","_tarojs_taro__WEBPACK_IMPORTED_MODULE_5__","_tarojs_taro__WEBPACK_IMPORTED_MODULE_5___default","document","_excluded","instanceId","serializeQueryObj","obj","ret","k","t","Z","encodeURIComponent","length","join","tabs","__wxConfig","tabBar","list","map","item","pagePath","__getIndex","route","index","i","r","indexOf","noop","lifeCycleFns","eventHandlerFns","extraAttrsMap","autoExpose","checkPerformance","extraApisMap","ubt","dom","_Component","_super","props","_this2","this","call","canIUse","handleViewReadyEvent","whiteScreenGUID","runReady","cwx","__ubt_events","__ubt_instance","createPV","__route","tid","split","_getCurrentPageRouter","_bindPageIns","wrapLifeCycle","wrapPopularEventHandler","bindEntryQueryToIns","key","value","instance","getCurrentInstance","guid","router","params","enterQueryGUID","page","options","console","log","enterQuery","getEnterQueryByGUID","Object","assign","_this3","forEach","fnName","oldFn","newFn","args","checkRediToGuide","isPIPGPage","pageQuery","checkUsePerInfoProtectComponent","isRediToGuide","__page","isShowGuideComponent","stopRunLifeInTL","checkInTimeline","bind","_this4","res","processedRes","concat","getCurrentPageRouter","currentPage","getCurrentPage","__route__","shareData","arguments","undefined","processShareTimeline","originOptions","processShareData","type","_this5","apiList","_this","e","uploadUserAction","apply","send","name","_extend","ubtConfig","JSON","stringify","maxSize","UBT_WARN","traceValue","tiled","util","config","ubtTrace","__ubt_getPageInfo","traceName","val","option","data","applet_scene","_ref","duration","rest","scene","ubtSet","_this6","bindTimer","clearTimeout","isBindedUbt","allPages","getCurrentPages","currentRoute","cwxCurrentPage","sendUbtByPage","ubtDevTrace","thisRoute","wxGetPRoute","taroGetPRoute","_isAlreadyBindPage","pageId","__cpage","__ubt_querystring","__instanceId","bindExtraApiToPage","flush","setTimeout","id","getElementById","element","fcpGUID","bridgeGUID","__pageType","initWhiteScreen","Observer","noti","handleLifeCycleNotiOpt","mkt","setUnion","__ubt_totalActiveTime","__ubt_onLoadTime","Date","__ubt_isBack","__ubt_isBackFlag","pageStack","splice","uid","__navigator_fromUid","__navigator","opts","navigatorOpts","prePageLoadPromise","getCWXPageLoadData","lastPagePreData","path","setCWXPageLoadData","__navigator_isBack","__navigator_isBackFlag","_wxGetCurrentPages","compare","sendPageRoute","_this7","attrList","a","_appendAttrsToPage","sendUbtExpose","observe","__ubt_onActiveTime","cpageOnShowTS","now","isRunPreLoad","sendUbtGather","getPageDurationProps","hasOwnProperty","__navigator_toUid","callback","backDatas","navComplete","ubtPv","url","isBack","pop","disconnect","runPreLoad","pageid","cwxPrePageLoad","getNavigatorUid","navOpts","test","success","fail","complete","getPageLevel","err","error","errorCode","immediateCallback","navigateTo","navigateBack","copy","getPageStack","Component"],"sourceRoot":""}