(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[560],{88381:function(t,e,n){var r=n(32180)["window"],o=n(32180)["document"],i=n(66371)["default"];!function(){var e={786:function(t,e,n){t.exports=n(108)},108:function(t,e,n){t=n.nmd(t);var r=n(125).default,o=function(t){"use strict";var e,n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),c=new _(r||[]);return i(a,"_invoke",{value:I(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",y={};function m(){}function b(){}function w(){}var S={};f(S,c,(function(){return this}));var O=Object.getPrototypeOf,T=O&&O(O(A([])));T&&T!==n&&o.call(T,c)&&(S=T);var x=w.prototype=m.prototype=Object.create(S);function k(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(i,a,c,u){var s=d(t[i],t,a);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"===r(l)&&o.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(l).then((function(t){f.value=t,c(f)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function I(t,e,n){var r=h;return function(o,i){if(r===v)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var u=d(t,e,n);if("normal"===u.type){if(r=n.done?g:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}function E(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function A(t){if(t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:C}}function C(){return{value:e,done:!0}}return b.prototype=w,i(x,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},k(P.prototype),f(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),f(x,s,"Generator"),f(x,c,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=A,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}("object"===r(t)?t.exports:{});try{regeneratorRuntime=o}catch(t){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},64:function(t,e,n){var o,i=n(125).default;!function(){"use strict";var a={}.hasOwnProperty;function c(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=i(n);if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)){if(n.length){var o=c.apply(null,n);o&&t.push(o)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var u in n)a.call(n,u)&&n[u]&&t.push(u)}}}return t.join(" ")}t.exports?(c.default=c,t.exports=c):"object"===i(n.amdO)&&n.amdO?void 0===(o=function(){return c}.apply(e,[]))||(t.exports=o):r.classNames=c}()},516:function(t,e,n){var r,o,i,a=n(125).default;i=function(){"use strict";var t=6e4,e=36e5,n="millisecond",r="second",o="minute",i="hour",c="day",u="week",s="month",f="quarter",l="year",d="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},y=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},m={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+y(r,2,"0")+":"+y(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,s),i=n-o<0,a=e.clone().add(r+(i?-1:1),s);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:l,w:u,d:c,D:d,h:i,m:o,s:r,ms:n,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",w={};w[b]=g;var S="$isDayjsObject",O=function(t){return t instanceof P||!(!t||!t[S])},T=function t(e,n,r){var o;if(!e)return b;if("string"==typeof e){var i=e.toLowerCase();w[i]&&(o=i),n&&(w[i]=n,o=i);var a=e.split("-");if(!o&&a.length>1)return t(a[0])}else{var c=e.name;w[c]=e,o=c}return!r&&o&&(b=o),o||!r&&b},x=function(t,e){if(O(t))return t.clone();var n="object"==a(e)?e:{};return n.date=t,n.args=arguments,new P(n)},k=m;k.l=T,k.i=O,k.w=function(t,e){return x(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var P=function(){function a(t){this.$L=T(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[S]=!0}var g=a.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(k.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return k},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(t,e){var n=x(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return x(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<x(t)},g.$g=function(t,e,n){return k.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,a=!!k.u(e)||e,f=k.p(t),h=function(t,e){var r=k.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return a?r:r.endOf(c)},p=function(t,e){return k.w(n.toDate()[t].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,g=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(f){case l:return a?h(1,0):h(31,11);case s:return a?h(1,g):h(0,g+1);case u:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return h(a?y-w:y+(6-w),g);case c:case d:return p(m+"Hours",0);case i:return p(m+"Minutes",1);case o:return p(m+"Seconds",2);case r:return p(m+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var a,u=k.p(t),f="set"+(this.$u?"UTC":""),h=(a={},a[c]=f+"Date",a[d]=f+"Date",a[s]=f+"Month",a[l]=f+"FullYear",a[i]=f+"Hours",a[o]=f+"Minutes",a[r]=f+"Seconds",a[n]=f+"Milliseconds",a)[u],p=u===c?this.$D+(e-this.$W):e;if(u===s||u===l){var v=this.clone().set(d,1);v.$d[h](p),v.init(),this.$d=v.set(d,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[k.p(t)]()},g.add=function(n,a){var f,d=this;n=Number(n);var h=k.p(a),p=function(t){var e=x(d);return k.w(e.date(e.date()+Math.round(t*n)),d)};if(h===s)return this.set(s,this.$M+n);if(h===l)return this.set(l,this.$y+n);if(h===c)return p(1);if(h===u)return p(7);var v=(f={},f[o]=t,f[i]=e,f[r]=1e3,f)[h]||1,g=this.$d.getTime()+n*v;return k.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",o=k.z(this),i=this.$H,a=this.$m,c=this.$M,u=n.weekdays,s=n.months,f=n.meridiem,l=function(t,n,o,i){return t&&(t[n]||t(e,r))||o[n].slice(0,i)},d=function(t){return k.s(i%12||12,t,"0")},p=f||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(v,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return k.s(e.$y,4,"0");case"M":return c+1;case"MM":return k.s(c+1,2,"0");case"MMM":return l(n.monthsShort,c,s,3);case"MMMM":return l(s,c);case"D":return e.$D;case"DD":return k.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return l(n.weekdaysMin,e.$W,u,2);case"ddd":return l(n.weekdaysShort,e.$W,u,3);case"dddd":return u[e.$W];case"H":return String(i);case"HH":return k.s(i,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return p(i,a,!0);case"A":return p(i,a,!1);case"m":return String(a);case"mm":return k.s(a,2,"0");case"s":return String(e.$s);case"ss":return k.s(e.$s,2,"0");case"SSS":return k.s(e.$ms,3,"0");case"Z":return o}return null}(t)||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,a,d){var h,p=this,v=k.p(a),g=x(n),y=(g.utcOffset()-this.utcOffset())*t,m=this-g,b=function(){return k.m(p,g)};switch(v){case l:h=b()/12;break;case s:h=b();break;case f:h=b()/3;break;case u:h=(m-y)/6048e5;break;case c:h=(m-y)/864e5;break;case i:h=m/e;break;case o:h=m/t;break;case r:h=m/1e3;break;default:h=m}return d?h:k.a(h)},g.daysInMonth=function(){return this.endOf(s).$D},g.$locale=function(){return w[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=T(t,e,!0);return r&&(n.$L=r),n},g.clone=function(){return k.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},a}(),I=P.prototype;return x.prototype=I,[["$ms",n],["$s",r],["$m",o],["$H",i],["$W",c],["$M",s],["$y",l],["$D",d]].forEach((function(t){I[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),x.extend=function(t,e){return t.$i||(t(e,P,x),t.$i=!0),x},x.locale=T,x.isDayjs=O,x.unix=function(t){return x(1e3*t)},x.en=w[b],x.Ls=w,x.p={},x},"object"==a(e)?t.exports=i():void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},810:function(t,e,n){var r,o,i;i=function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,o,i){var a=o.prototype;i.utc=function(t){return new o({date:t,utc:!0,args:arguments})},a.utc=function(e){var n=i(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},a.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var c=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),c.call(this,t)};var u=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else u.call(this)};var s=a.utcOffset;a.utcOffset=function(r,o){var i=this.$utils().u;if(i(r))return this.$u?0:i(this.$offset)?s.call(this):this.$offset;if("string"==typeof r&&(r=function(t){void 0===t&&(t="");var r=t.match(e);if(!r)return null;var o=(""+r[0]).match(n)||["-",0,0],i=o[0],a=60*+o[1]+ +o[2];return 0===a?0:"+"===i?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r,c=this;if(o)return c.$offset=a,c.$u=0===r,c;if(0!==r){var u=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(c=this.local().add(a+u,t)).$offset=a,c.$x.$localOffset=u}else c=this.utc();return c};var f=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var l=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var d=a.diff;a.diff=function(t,e,n){if(t&&this.$u===t.$u)return d.call(this,t,e,n);var r=this.local(),o=i(t).local();return d.call(r,o,e,n)}}},"object"==(0,n(125).default)(e)?t.exports=i():void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},121:function(t,e,n){"use strict";var r=n(469),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function u(t){return r.isMemo(t)?a:c[t.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=a;var s=Object.defineProperty,f=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(p){var o=h(n);o&&o!==p&&t(e,o,r)}var a=f(n);l&&(a=a.concat(l(n)));for(var c=u(e),v=u(n),g=0;g<a.length;++g){var y=a[g];if(!(i[y]||r&&r[y]||v&&v[y]||c&&c[y])){var m=d(n,y);try{s(e,y,m)}catch(t){}}}}return e}},29:function(t,e,n){var r=n(125).default,o="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")(),c=Object.prototype,u=c.hasOwnProperty,s=c.toString,f=a.Symbol,l=f?f.toStringTag:void 0;t.exports=function(t){if(!function(t){var e=r(t);return null!=t&&("object"==e||"function"==e)}(t))return!1;var e=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":l&&l in Object(t)?function(t){var e=u.call(t,l),n=t[l];try{t[l]=void 0;var r=!0}catch(t){}var o=s.call(t);return r&&(e?t[l]=n:delete t[l]),o}(t):function(t){return s.call(t)}(t)}(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},469:function(t){"use strict";t.exports=n(10668)},125:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}},a={};function c(t){var n=a[t];if(void 0!==n)return n.exports;var r=a[t]={id:t,loaded:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.loaded=!0,r.exports}c.amdO={},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,{a:e}),e},c.d=function(t,e){for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.g=function(){if("object"==("undefined"===typeof globalThis?"undefined":i(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==("undefined"===typeof r?"undefined":i(r)))return r}}(),c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var u={};!function(){"use strict";c.r(u),c.d(u,{URLSearchParams:function(){return f},classnames:function(){return d()},createModel:function(){return Ln},createReplayPage:function(){return mt},createStore:function(){return Nn},dayjs:function(){return p()},default:function(){return Gn},getToken:function(){return Ot},initCoffeebeanTaro:function(){return bt},trackFn:function(){return wt},trackInitData:function(){return xt},trackPage:function(){return Tt},withModel:function(){return $n},wrapLogin:function(){return kt},wrapOpt:function(){return St},wrapRunOnlyUser:function(){return Pt}});var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},e(t)}c.r(t),c.d(t,{__DO_NOT_USE__ActionTypes:function(){return Ut},applyMiddleware:function(){return Yt},bindActionCreators:function(){return Bt},combineReducers:function(){return qt},compose:function(){return Vt},createStore:function(){return Zt},legacy_createStore:function(){return Ft}});var a={};try{!function(t,e){if(new t("q=%2B").get("q")!==e||new t({q:e}).get("q")!==e||new t([["q",e]]).get("q")!==e||"q=%0A"!==new t("q=\n").toString()||"q=+%26"!==new t({q:" &"}).toString()||"q=%25zx"!==new t({q:"%zx"}).toString())throw t;a.URLSearchParams=t}(URLSearchParams,"+")}catch(t){!function(t,e,n){var r=t.create,o=t.defineProperty,i=/[!'\(\)~]|%20|%00/g,c=/%(?![0-9a-fA-F]{2})/g,u=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},f={append:function(t,e){p(this._ungap,t,e)},delete:function(t){delete this._ungap[t]},get:function(t){return this.has(t)?this._ungap[t][0]:null},getAll:function(t){return this.has(t)?this._ungap[t].slice(0):[]},has:function(t){return t in this._ungap},set:function(t,n){this._ungap[t]=[e(n)]},forEach:function(t,n){var r=this;for(var o in r._ungap)r._ungap[o].forEach(i,o);function i(i){t.call(n,i,e(o),r)}},toJSON:function(){return{}},toString:function(){var t=[];for(var e in this._ungap)for(var n=g(e),r=0,o=this._ungap[e];r<o.length;r++)t.push(n+"="+g(o[r]));return t.join("&")}};for(var l in f)o(d.prototype,l,{configurable:!0,writable:!0,value:f[l]});function d(t){var e=r(null);switch(o(this,"_ungap",{value:e}),!0){case!t:break;case"string"==typeof t:"?"===t.charAt(0)&&(t=t.slice(1));for(var i=t.split("&"),a=0,c=i.length;a<c;a++){var u=(s=i[a]).indexOf("=");-1<u?p(e,v(s.slice(0,u)),v(s.slice(u+1))):s.length&&p(e,v(s),"")}break;case n(t):for(a=0,c=t.length;a<c;a++){var s;p(e,(s=t[a])[0],s[1])}break;case"forEach"in t:t.forEach(h,e);break;default:for(var f in t)p(e,f,t[f])}}function h(t,e){p(this,e,t)}function p(t,e,r){var o=n(r)?r.join(","):r;e in t?t[e].push(o):t[e]=[o]}function v(t){return decodeURIComponent(t.replace(c,"%25").replace(u," "))}function g(t){return encodeURIComponent(t).replace(i,y)}function y(t){return s[t]}a.URLSearchParams=d}(Object,String,Array.isArray)}!function(t){var n=!1;try{n=!!Symbol.iterator}catch(t){}function r(t,e){var r=[];return t.forEach(e,r),n?r[Symbol.iterator]():{next:function(){var t=r.shift();return{done:void 0===t,value:t}}}}"forEach"in t||(t.forEach=function(t,e){var n=this,r=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(o){o.length&&!(o in r)&&(r[o]=n.getAll(o)).forEach((function(r){t.call(e,r,o,n)}))}))}),"keys"in t||(t.keys=function(){return r(this,(function(t,e){this.push(e)}))}),"values"in t||(t.values=function(){return r(this,(function(t,e){this.push(t)}))}),"entries"in t||(t.entries=function(){return r(this,(function(t,e){this.push([e,t])}))}),n&&!(Symbol.iterator in t)&&(t[Symbol.iterator]=t.entries),"sort"in t||(t.sort=function(){for(var t,e,n,r=this.entries(),o=r.next(),i=o.done,a=[],c=Object.create(null);!i;)e=(n=o.value)[0],a.push(e),e in c||(c[e]=[]),c[e].push(n[1]),i=(o=r.next()).done;for(a.sort(),t=0;t<a.length;t++)this.delete(a[t]);for(t=0;t<a.length;t++)e=a[t],this.append(e,c[e].shift())}),function(n){var r=n.defineProperty,o=n.getOwnPropertyDescriptor,i=function(e){var n=e.append;e.append=t.append,URLSearchParams.call(e,e._usp.search.slice(1)),e.append=n},a=function(t,e){if(!(t instanceof e))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+e.name)},c=function(e){var c,u,s=e.prototype,f=o(s,"searchParams"),l=o(s,"href"),d=o(s,"search");!f&&d&&d.set&&(u=function(e){function n(n,r){t.append.call(this,n,r),n=this.toString(),e.set.call(this._usp,n?"?"+n:"")}function o(n){t.delete.call(this,n),n=this.toString(),e.set.call(this._usp,n?"?"+n:"")}function i(n,r){t.set.call(this,n,r),n=this.toString(),e.set.call(this._usp,n?"?"+n:"")}return function(t,e){return t.append=n,t.delete=o,t.set=i,r(t,"_usp",{configurable:!0,writable:!0,value:e})}}(d),c=function(t,e){return r(t,"_searchParams",{configurable:!0,writable:!0,value:u(e,t)}),e},n.defineProperties(s,{href:{get:function(){return l.get.call(this)},set:function(t){var e=this._searchParams;l.set.call(this,t),e&&i(e)}},search:{get:function(){return d.get.call(this)},set:function(t){var e=this._searchParams;d.set.call(this,t),e&&i(e)}},searchParams:{get:function(){return a(this,e),this._searchParams||c(this,new URLSearchParams(this.search.slice(1)))},set:function(t){a(this,e),c(this,t)}}}))};try{c(HTMLAnchorElement),/^function|object$/.test("undefined"==typeof URL?"undefined":e(URL))&&URL.prototype&&c(URL)}catch(t){}}(Object)}(a.URLSearchParams.prototype);var s,f=a.URLSearchParams,l=c(64),d=c.n(l),h=c(516),p=c.n(h),v=c(810),g=c.n(v),y=n(92954),m=c.n(y),b=function(){return"function"!=typeof m().getLaunchOptionsSync?{fakeDate:!1}:(null===(t=m().getLaunchOptionsSync())||void 0===t?void 0:t.query)||{fakeDate:!1};var t},w=function(){return b().playback},S=function(t,e,n){var r=t[e];t[e]=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var i=r.apply(void 0,e);if(!n({args:e,res:i}))return i}},O={base64:{key:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",btoa:function(t,e){for(var n=(e=e||{}).key||O.base64.key,r="",o=0,i=e.charCodeArray?function(e){return t[e]}:function(e){return t.charCodeAt(e)};o<t.length;){var a=i(o++),c=i(o++),u=i(o++);r+=n[a>>2]+n[(3&a)<<4|c>>4]+n[isNaN(c)?64:(15&c)<<2|u>>6]+n[isNaN(u)?64:63&u]}return r},encode:function(t){return O.base64.btoa(unescape(encodeURIComponent(t)))}}},T=O.base64.encode,x=function(){return!!b().coffeebean};function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return e&&j(t.prototype,e),n&&j(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}!function(t){t.MINI_INIT="MINI_INIT",t.INIT_PAGE="INIT_PAGE",t.AJAX="AJAX",t.FN="FN",t.STORAGE_LOAD="STORAGE_LOAD",t.GET_AJAX_LIST="GET_AJAX_LIST",t.GET_STORAGE="GET_STORAGE",t.MINI_PAGE_SCROLL="MINI_PAGE_SCROLL",t.SCROLL_VIEW_SCROLL="SCROLL_VIEW_SCROLL",t.INIT_LOAD_DATA="INIT_LOAD_DATA"}(s||(s={}));var _,A="%c[coffeebean]",C=x(),L=C?console.log.bind(console,A,"color:cyan"):function(){},R=C?console.error.bind(console,A,"color:cyan"):function(){},M="0.5.9",N="$COFFEEBEAN_INIT$",$=0,G=function(t){return t.replace(/.+(\d{4})(\d{2})(\d{2}).+/,"$1-$2-$3")},U=function(){function t(e){E(this,t),k(this,"devData",[]),k(this,"data",[]),k(this,"routeMap",new Map),k(this,"lastIdx",-1),k(this,"idx",0),k(this,"prevScrollInfo",null),k(this,"prevScrollID",void 0),k(this,"reqBaseParam",{}),k(this,"sendLocker",!1),k(this,"token",function(){var t=new Date,e=t.getFullYear(),n="0"+(t.getMonth()+1),r="0"+t.getDate();return $++,"".concat("PRD","-").concat(0,"-").concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),"-").concat(e).concat(n.slice(-2)).concat(r.slice(-2),"-").concat($,"-").concat(M,"-MINI")}()),k(this,"collectSwitch",!0),t.$instanceList.push(this),t.instance=this,e&&this.setSaveReqParam(e)}return D(t,[{key:"bindRoute",value:function(t){this.routeMap.set(t,!0)}},{key:"unBindRoute",value:function(t){return this.routeMap.delete(t),0===this.routeMap.size&&(this.save(!1),!0)}},{key:"hasRoute",value:function(){return this.routeMap.size>0}},{key:"setSaveReqParam",value:function(t){this.reqBaseParam=I({},t)}},{key:"createSaveReqParam",value:function(t){return I(I({},this.reqBaseParam),{},{token:this.token,replayContent:t})}},{key:"setCollectSwitch",value:function(t){this.collectSwitch=t}},{key:"getLastItem",value:function(){return this.data[this.data.length-1]}},{key:"isScrollItem",value:function(t){return[s.SCROLL_VIEW_SCROLL,s.MINI_PAGE_SCROLL].includes(t)}},{key:"add",value:function(t){if(this.collectSwitch){var e=I({ts:Date.now(),idx:this.idx},t);this.data.push(e),x()&&this.devData.push(e),this.idx++,this.isScrollItem(t.eventType)||(this.prevScrollInfo=null)}}},{key:"addPage",value:function(e,n){this.add({eventType:s.INIT_PAGE,eventParam:e,eventExtend:{params:n,miniInitData:t.miniInitData}})}},{key:"addInit",value:function(e){this.add(e),t.miniInitData=e}},{key:"checkScrollInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(t){case"+":return e>=n?"":"-";case"-":return e<=n?"":"+";default:return e>n?"+":e<n?"-":""}}},{key:"addScroll",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.SCROLL_VIEW_SCROLL,o=e.scrollTop,i=e.scrollLeft,a=e.route,c=this.getLastItem();this.prevScrollID&&clearTimeout(this.prevScrollID),this.prevScrollID=setTimeout((function(){n.prevScrollInfo=null}),1e3);var u=!0,f="",l="";c&&this.prevScrollInfo&&this.prevScrollInfo.eventType===r&&((f=this.checkScrollInfo(this.prevScrollInfo.scrollLeftType,i,this.prevScrollInfo.scrollLeft))||(c.ts=+new Date,c.eventExtend.scrollLeft=i,u=!1),(l=this.checkScrollInfo(this.prevScrollInfo.scrollTopType,o,this.prevScrollInfo.scrollTop))||(c.ts=+new Date,c.eventExtend.scrollTop=o,u=!1)),this.prevScrollInfo&&(this.prevScrollInfo.scrollLeftType=f,this.prevScrollInfo.scrollTopType=l),u&&(this.prevScrollInfo={eventType:r,scrollTop:o||0,scrollLeft:i||0,scrollLeftType:f,scrollTopType:l},this.add({eventType:r,eventParam:t,eventExtend:{scrollTop:o,scrollLeft:i,route:a}}))}},{key:"addGetStorage",value:function(t,e){this.add({eventType:s.STORAGE_LOAD,eventParam:t,eventExtend:{params:{value:e}}})}},{key:"addInitLoadData",value:function(t,e){this.add({eventType:s.INIT_LOAD_DATA,eventParam:t,eventExtend:{data:e}})}},{key:"addFn",value:function(t,e){this.add({eventType:s.FN,eventParam:t,eventExtend:e})}},{key:"getSendData",value:function(){return this.data}},{key:"getSendContentList",value:function(){return L("getSendContentList",this.data),this.data.length?(this.lastIdx=this.data[this.data.length-1].idx,function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5,n=[],r=Math.ceil(t.length/e),o=0;o<r;o++)n.push(t.slice(0,e)),t=t.slice(e);return n}(T(JSON.stringify(this.data)))):[]}},{key:"clearData",value:function(){var t=this;this.data=this.data.filter((function(e){return e.idx>t.lastIdx}))}},{key:"addRequest",value:function(t,e){this.add({eventType:s.AJAX,eventParam:t,eventExtend:e})}},{key:"validate",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return L("validate",JSON.stringify(this.reqBaseParam)),!(t&&this.sendLocker||!this.collectSwitch||!this.getSendData().length)}},{key:"send",value:function(e){var n=t.cwx;return new Promise((function(t,r){n.request({url:"/restapi/soa2/20589/SaveTraceInfo?_fxpcqlniredt",header:{"Content-Type":"application/json"},data:e,success:function(e){t(e)},fail:function(t){r(t)}})}))}},{key:"save",value:function(t){var e=this;if(this.validate(t)){this.sendLocker=!0;var n=+new Date,r=this.getSendContentList()||[],o=r.length;Promise.all(r.map((function(t,r){var i="{spID=".concat(r,",gID=").concat(n,",len=").concat(o,"}")+t,a=e.createSaveReqParam(i);return e.send(a)}))).then((function(t){e.sendLocker=!1,e.clearData(),L(e.token,"save success",t)})).catch((function(t){e.sendLocker=!1,R(e.token,"save error",t)}))}}},{key:"getToken",value:function(){return this.token}}],[{key:"onPageUnload",value:function(e){var n=t.instance.unBindRoute(e);if(L("onPageUnload",n),n){var r=t.$instanceList.pop();t.instance=t.$instanceList[t.$instanceList.length-1],r&&t.instance.setSaveReqParam(r.reqBaseParam)}}},{key:"useNewToken",value:function(e){return new t(I({},t.instance.reqBaseParam)),t.instance.bindRoute(e),t.instance.token}}]),t}();k(U,"cwx",void 0),k(U,"$instanceList",[]),k(U,"instance",void 0),k(U,"miniInitData",void 0),Object.defineProperty(U,"instance",{get:function(){return _||(_=new U)},set:function(t){_=t}}),new Map;var Z={},F=function(){function t(e,n){var o,i,a,u;E(this,t),k(this,"config",void 0),k(this,"tid",void 0),k(this,"sendLocker",void 0),k(this,"dep",void 0),this.dep=n,this.config=I({code:"",env:m().getEnv(),extendCommon:"",autoInterval:5e3,path:""},e),this.sendLocker=!1,this.initQConfig(),e.requestConfig&&(u=e.requestConfig,Z=I(I({},Z),u));var f=n.cwx,l=f.getSystemInfoSync(),d=l.windowWidth,h=l.windowHeight,p=l.pixelRatio,v=l.language,g=null===(o=function(){switch("weapp"){case"weapp":return wx;case"swan":return swan;case"alipay":return my;case"tt":return Page;case"qq":return qq;case"quickapp":default:return{};case"h5":return r}}())||void 0===o?void 0:o.buildId,y="function"==typeof(null===m()||void 0===m()?void 0:m().getAccountInfoSync)&&(null===(i=m().getAccountInfoSync())||void 0===i||null===(a=i.miniProgram)||void 0===a?void 0:a.envVersion);x()&&(c.g.ActionList=U.instance),U.cwx=f;var b,w,O,T,P,j={code:this.config.code||"",bizCode:this.config.bizCode||"",orderid:this.config.orderid||0,tsid:this.config.transactionid||"",replayType:"MINI-"+this.config.env,uid:this.config.uid||"",version:M,extend:this.config.extendCommon||""};U.instance.setSaveReqParam(j),U.instance.addInit({eventType:s.MINI_INIT,eventParam:g,eventExtend:{w:d,h:h,pr:p,locale:v,taroEnv:this.config.env,tzo:(new Date).getTimezoneOffset()}}),b=new Set,w=function(t){return t[0].key},O=function(t){var e=t.args,n=t.res;Promise.resolve(n).then((function(t){var n=w(e);!b.has(n)&&t&&(U.instance.addGetStorage(n,t),b.add(n))}))},T=function(t){var e=t.args,n=w(e);b.add(n)},P=function(t){var e=t.args,n=w(e);b.delete(n)},S(m(),"getStorageSync",O),S(m(),"getStorageInfo",O),S(m(),"getStorageInfoSync",O),S(m(),"getStorage",O),S(m(),"setStorageSync",T),S(m(),"setStorage",T),S(m(),"removeStorageSync",P),S(m(),"removeStorage",P),this.auto(),"release"===y&&g&&f.mcdAppId&&U.instance.send(I(I({},j),{},{extend:JSON.stringify({buildId:g,mcdAppId:f.mcdAppId}),token:U.instance.token,replayType:"MINI",replayContent:"START"})).catch(R)}return D(t,[{key:"auto",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;this.tid=setTimeout((function(){t.save(),t.auto(e)}),e)}},{key:"initQConfig",value:function(){var t=this;return L("initQConfig"),new Promise((function(e,n){t.dep.cwx.request({url:"/restapi/soa2/16163/GetConfigInfo?_fxpcqlniredt",header:{"Content-Type":"application/json"},data:{},success:e,fail:n})})).then((function(t){var e=JSON.parse(t.data.text);return b().coffeebean||e.switch&&Math.random()<=e.ratio?(L("initQConfig 1"),U.instance.setCollectSwitch(!0)):(L("initQConfig 2"),U.instance.setCollectSwitch(!1)),t})).catch((function(t){U.instance.setCollectSwitch(!1),R("initQConfig catch",t)}))}},{key:"save",value:function(){U.instance.save(this.dep.cwx)}},{key:"trackPage",value:function(){var t,e=this.config.path,n=m().getCurrentPages(),r=n[n.length-2],o=n[n.length-1],i=(null==r||null===(t=r.route)||void 0===t?void 0:t.indexOf(e))>-1;if(o&&(i||!U.instance.hasRoute()?U.instance.bindRoute(o.route):U.useNewToken(o.route),!o[N])){var a=o.onUnload;o.onUnload=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.apply(o,e),L("currentPage.route",o.route,e),U.onPageUnload(o.route)},o[N]=!0}}},{key:"getToken",value:function(){return U.instance.token}}]),t}();function q(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function W(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){q(i,r,o,a,c,"next",t)}function c(t){q(i,r,o,a,c,"throw",t)}a(void 0)}))}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=c(786),z=c.n(Y),H=function(){function t(e,n){if(E(this,t),k(this,"token",void 0),k(this,"res",void 0),t.current=this,this.token=e,!n)throw Error("\u56de\u6eaf\u6570\u636e\u4e0d\u5b58\u5728 res:".concat(n," token:").concat(e));this.res=n}return D(t,[{key:"getActionList",value:function(){return this.res.actionList.filter((function(t){return![s.MINI_INIT].includes(t.eventType)}))}},{key:"getRequestItem",value:function(t){return this.res.requestList.filter((function(e){return!e.played&&e.eventParam.indexOf(t.replace(/.+\/platform-taro/,""))>-1}))[0]}},{key:"getInitItem",value:function(){return this.res.actionList.filter((function(t){return t.eventType===s.MINI_INIT}))[0]}},{key:"getJumpInfo",value:function(){var t=this.res.actionList.filter((function(t){return t.eventType===s.INIT_PAGE}))[0];if(!t)return null;var e=null==t?void 0:t.eventParam;return{url:e?"/"+e:"",data:t.eventExtend.params.data}}},{key:"getInitLoadData",value:function(t){var e,n=this.res.actionList.filter((function(e){return e.eventParam===t&&e.eventType===s.INIT_LOAD_DATA}))[0];return null==n||null===(e=n.eventExtend)||void 0===e?void 0:e.data}}]),t}();k(H,"current",void 0);var J,K={code:"",setConfig:function(t){K.code=t.code},fetch:(J=W(z().mark((function t(e,n,r){var o;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,o){var i=G(n);L("tokenDate",i),r({url:e,header:{"Content-Type":"application/json"},data:{code:K.code,token:n,sTime:"".concat(i," 00:00:00"),eTime:"".concat(i," 23:59:59")},success:t,fail:o})}));case 2:return o=t.sent,L("data",o.data),t.abrupt("return",new H(n,o.data));case 5:case"end":return t.stop()}}),t)}))),function(t,e,n){return J.apply(this,arguments)})},X={},Q=function(){},tt=function(t){L("mockFn",t.eventParam);var e=X[t.eventParam];if(!e)return!0;try{e&&e.apply(void 0,V(t.eventExtend.args.map((function(t){return"TaroEvent"===t.__type__&&(t.stopPropagation=Q),t}))))}catch(t){console.error(t)}},et=function(t){L("fireScroll",t);var e=o.getElementById(t.eventParam);L("elem",e,null==e?void 0:e.scrollTo,m()),e?m().createSelectorQuery().select("#"+t.eventParam).node().exec((function(e){e[0].node.scrollTo({top:t.eventExtend.scrollTop,left:t.eventExtend.scrollLeft})})):m().pageScrollTo({scrollTop:t.eventExtend.scrollTop})},nt=function(t){m().pageScrollTo({scrollTop:t.eventExtend.scrollTop})},rt=function(){var t=W(z().mark((function t(e,n){var r;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=H.current.getInitLoadData(e),t.abrupt("return",n(r));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ot=n(32180),it=!0;function at(t,e){return at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},at(t,e)}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}function ut(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function st(t){return st="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},st(t)}var ft=n(90201),lt=c.n(ft),dt=n(71515);function ht(t,e,n){return ht=ut()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&at(o,n.prototype),o},ht.apply(null,arguments)}var pt,vt=function(t){r.__RealDate=r.__RealDate||r.Date;var e=r.__RealDate,n=e.now(),o=new e(t).getTime(),i=function(){return+(e.now()-n+o)};r.Date=new Proxy(r.Date,{construct:function(t,e){return 0===e.length?new t(i()):ht(t,V(e))},get:function(t,e){return"now"===e?function(){return new t(i()).getTime()}:Reflect.get(t,e)}})},gt=function(){function t(e,n,r){var o=this;E(this,t),k(this,"handlerMap",void 0),k(this,"processList",void 0),k(this,"totalDelay",void 0),k(this,"tid",void 0),this.handlerMap=n,this.totalDelay=0,this.processList=e,function t(){o.tid=setTimeout((function(){o.run(),o.processList.length?t():r()}),300)}()}return D(t,[{key:"stop",value:function(){clearTimeout(this.tid)}},{key:"run",value:function(){var t=this;this.totalDelay+=300;var e=[];this.processList.forEach((function(n){if(n.delay>t.totalDelay)e.push(n);else{var r=(n.retryTimes||0)+1;L("fire action",n,"times:",r),t.handlerMap[n.eventType]&&t.handlerMap[n.eventType](n)&&(r<10?e.push(I(I({},n),{},{retryTimes:r})):(o="o_flight_coffeebean_mini_dev",i=n,(c=(a=m().getCurrentPages())[a.length-1])&&c.ubtDevTrace?(c.ubtDevTrace(o,i),L("[ubtDevTrace]",o,i)):L("[ubtDevTrace error]","page",!c,"ubtTrace",!c.ubtDevTrace,o,i),L("error action",n)))}var o,i,a,c})),this.processList=e}}]),t}();!function(t){t[t.START_RECORD=1]="START_RECORD",t[t.STOP_RECORD=2]="STOP_RECORD"}(pt||(pt={}));var yt,mt=function(t,e){var n=function(){var t=W(z().mark((function t(n,r){var o;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(t){x()?(L("changeUITaskStatus",t.url,t.data),setTimeout((function(){t.success({data:{success:!0}})}),1e3)):e.request(t)},t.abrupt("return",new Promise((function(t){o({url:decodeURIComponent(null==r?void 0:r.aUrl),header:{"Content-Type":"application/json"},data:{key:null==r?void 0:r.airTestToken,status:n},success:function(e){e.data.success?t(!0):(R(e.data),t(!1))},fail:function(e){R(e),t(!1)}})})));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(f,t);var r,o,i,a,u=(r=f,o=ut(),function(){var t,e=ct(r);if(o){var n=ct(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function f(){return E(this,f),u.apply(this,arguments)}return D(f,[{key:"mockEnv",value:function(t){var e=t.getInitItem();null!=e&&e.ts&&new vt(+e.ts)}},{key:"mockStorage",value:function(t){m().setStorageSync("flight_scrollView_enhanced",1),t.res.storageList.forEach((function(t){var e,n="string"==typeof t.eventExtend.params.value?t.eventExtend.params.value:null===(e=t.eventExtend.params.value)||void 0===e?void 0:e.data;m().setStorageSync(t.eventParam,n)}))}},{key:"jump",value:(a=W(z().mark((function t(e){var r,o,i,a;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.getJumpInfo(),i=null===(r=(0,y.getCurrentInstance)().router)||void 0===r?void 0:r.params,L("navigateTo",o),a=Boolean((null==i?void 0:i.airTestToken)&&(null==i?void 0:i.aUrl)),!o){t.next=14;break}if(!a){t.next=11;break}return t.next=8,n(pt.START_RECORD,i);case 8:if(t.sent){t.next=11;break}return t.abrupt("return");case 11:this.navigateTo(I(I({},o),{},{complete:function(t){var e;L("navigateTo complete",t);var r=H.current.getActionList();L("actionList",r);var o=(k(e={},s.FN,tt),k(e,s.SCROLL_VIEW_SCROLL,et),k(e,s.MINI_PAGE_SCROLL,nt),e);c.g.coffeebeanActionRunner=new gt(r,o,(function(){a&&n(pt.STOP_RECORD,i)}))}})),t.next=15;break;case 14:console.error("\u672a\u83b7\u53d6\u5230\u8df3\u8f6curl\uff0c\u65e0\u6cd5\u56de\u6eaf \uff08\u53ef\u80fd\u6570\u636e\u4e0d\u5168\uff09",e);case 15:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"autoCheckPage",value:function(t){setInterval((function(){var n=m().getCurrentPages(),r=n[n.length-1];null!=r&&r.route&&!t.res.pageList.includes(null==r?void 0:r.route)&&(L("autoCheckPage navigateBack"),e.navigateBack()),console.log("currentPage",r)}),5e3)}},{key:"onLoad",value:(i=W(z().mark((function t(){var n,r,o;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null===(n=(0,y.getCurrentInstance)().router)||void 0===n?void 0:n.params,L("before fetch"),null==r||!r.url||null==r||!r.token){t.next=6;break}return t.next=5,K.fetch(decodeURIComponent(r.url),r.token,e.request).catch((function(t){L("err",t)}));case 5:o=t.sent;case 6:if(!o){t.next=14;break}return this.mockEnv(o),this.mockStorage(o),this.autoCheckPage(o),t.next=12,this.jump(o);case 12:t.next=15;break;case 14:console.error("token",null==r?void 0:r.token,"replayData\u83b7\u53d6\u5931\u8d25\u65e0\u6cd5\u56de\u6eaf");case 15:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"render",value:function(){return lt().createElement(dt.View,null,lt().createElement(dt.Text,null,"loading...."))}}]),f}(t)},bt=function(t,e){var n=e.cwx;m().getEnv()!==y.ENV_TYPE.WEB&&(w()?(K.setConfig(t),L("isPlaybackModel")):yt||(yt=new F(t,{cwx:n})))},wt=function(t,e){return w()?function(t,e){return X[t]=function(){e.apply(void 0,arguments)},function(){e.apply(void 0,arguments)}}(t,e):function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];try{var i,a,c={args:r.map((function(t){return t instanceof ot.TaroEvent?(a=t,{__type__:"TaroEvent",detail:t.detail,type:t.type}):t}))};if(1===c.args.length&&"scroll"===(null===(i=a)||void 0===i?void 0:i.type)){var u={scrollTop:a.detail.scrollTop,scrollLeft:a.detail.scrollLeft,route:(s=m().getCurrentPages(),s.length?s[s.length-1].route:"")};U.instance.addScroll(t,u)}else it&&(L(t),U.instance.addFn(t,c),it=!1)}catch(t){console.error(t)}var s;try{e&&e.apply(void 0,r)}catch(t){throw it=!0,t}it=!0}}(t,e)},St=function(t){return w()?function(t){var e=t||{},n=e.url,r=e.success,o=e.fail,i=H.current.getRequestItem(n);return i?(i.played=!0,L("inject",n),setTimeout((function(){"fail"===i.eventExtend.type?o(i.eventExtend.response):r(i.eventExtend.response)}),100),{url:"/",data:{ori:n}}):(L("pass",n),t)}(t):function(t){var e=t||{},n=e.url,r=e.success,o=e.fail;if(/\/20589\/SaveTraceInfo/.test(n))return t;var i=Date.now();return t.success=function(t){var e,o,a,c=Z.getRootID?Z.getRootID(n,t):Z.useRootMessageId&&(null==t||null===(e=t.data)||void 0===e||null===(o=e.ResponseStatus)||void 0===o||null===(a=o.Extension)||void 0===a?void 0:a.filter((function(t){return"RootMessageId"===(null==t?void 0:t.Id)}))[0].Value)||0;U.instance.addRequest(n,{startTime:i,url:n,responseTime:Date.now(),response:c?"":t,rootID:c}),r&&r(t)},t.fail=function(t){U.instance.addRequest(n,{startTime:i,url:n,type:"fail",responseTime:Date.now(),response:t,rootID:""}),o&&o(t)},t}(t)},Ot=function(){return yt?yt.getToken():""},Tt=function(){return m().getEnv()===y.ENV_TYPE.WEB||w()?void 0:(yt.trackPage(),function(){var t=m().getCurrentPages();if(t.length){var e=t[t.length-1];U.instance.addPage(e.$taroPath,e.$taroParams),e.$cb$onPageScroll||(e.$cb$onPageScroll=e.onPageScroll||function(){},e.onPageScroll=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];try{var o;L("onPageScroll",n),n[0]&&null!==(o=n[0])&&void 0!==o&&o.scrollTop&&U.instance.addScroll(e.route,{scrollTop:n[0].scrollTop},s.MINI_PAGE_SCROLL)}catch(t){console.error(t)}e.$cb$onPageScroll.apply(e,n)})}}())},xt=function(t,e,n){return w()?rt(t,n):function(t,e){U.instance.addInitLoadData(t,e)}(t,e)},kt=function(t){return w()?function(t){null==t||t.callback({ReturnCode:"0"})}:t},Pt=function(t){return w()?function(){}:t};function It(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var Et=It();Et.withExtraArgument=It;var jt=Et,Dt=function(t){},_t={exposed:{storeDispatch:function(t,e){console.warn("Warning: store not yet loaded")},storeGetState:function(){console.warn("Warning: store not yet loaded")},dispatch:function(t){return this.storeDispatch(t)},createDispatcher:function(t,e){var n=this;return function(r,o){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))}(n,void 0,void 0,(function(){var n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(i){return n={type:"".concat(t,"/").concat(e)},void 0!==r&&(n.payload=r),void 0!==o&&(n.meta=o),[2,this.dispatch(n)]}))}))}}},onStoreCreated:function(t){return this.storeDispatch=t.dispatch,this.storeGetState=t.getState,{dispatch:this.dispatch}},onModel:function(t){if(this.dispatch[t.name]={},t.reducers)for(var e=0,n=Object.keys(t.reducers);e<n.length;e++){var r=n[e];this.validate([[!!r.match(/\/.+\//),"Invalid reducer name (".concat(t.name,"/").concat(r,")")],["function"!=typeof t.reducers[r],"Invalid reducer (".concat(t.name,"/").concat(r,"). Must be a function")]]),this.dispatch[t.name][r]=this.createDispatcher.apply(this,[t.name,r])}}},At={exposed:{effects:{}},onModel:function(t){if(t.effects){var n="function"==typeof t.effects?t.effects(this.dispatch):t.effects;this.validate([["object"!==e(n),"Invalid effects from Model(".concat(t.name,"), effects should return an object")]]);for(var r=0,o=Object.keys(n);r<o.length;r++){var i=o[r];this.validate([[!!i.match(/\//),"Invalid effect name (".concat(t.name,"/").concat(i,")")],["function"!=typeof n[i],"Invalid effect (".concat(t.name,"/").concat(i,"). Must be a function")]]),this.effects["".concat(t.name,"/").concat(i)]=n[i].bind(this.dispatch[t.name]),this.dispatch[t.name][i]=this.createDispatcher.apply(this,[t.name,i]),this.dispatch[t.name][i].isEffect=!0}}},middleware:function(t){var e=this;return function(n){return function(r){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))}(e,void 0,void 0,(function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(e){switch(e.label){case 0:return r.type in this.effects?[4,n(r)]:[3,2];case 1:return e.sent(),[2,this.effects[r.type](r.payload,t.getState(),r.meta)];case 2:return[2,n(r)]}}))}))}}}},Ct=At;function Lt(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){var r,o,i;r=t,o=e,i=n[e],(o=Lt(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var $t="function"==typeof Symbol&&Symbol.observable||"@@observable",Gt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ut={INIT:"@@redux/INIT"+Gt(),REPLACE:"@@redux/REPLACE"+Gt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gt()}};function Zt(t,n,r){var o;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(Nt(0));if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error(Nt(1));return r(Zt)(t,n)}if("function"!=typeof t)throw new Error(Nt(2));var i=t,a=n,c=[],u=c,s=!1;function f(){u===c&&(u=c.slice())}function l(){if(s)throw new Error(Nt(3));return a}function d(t){if("function"!=typeof t)throw new Error(Nt(4));if(s)throw new Error(Nt(5));var e=!0;return f(),u.push(t),function(){if(e){if(s)throw new Error(Nt(6));e=!1,f();var n=u.indexOf(t);u.splice(n,1),c=null}}}function h(t){if(!function(t){if("object"!==e(t)||null===t)return!1;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(t))throw new Error(Nt(7));if(void 0===t.type)throw new Error(Nt(8));if(s)throw new Error(Nt(9));try{s=!0,a=i(a,t)}finally{s=!1}for(var n=c=u,r=0;r<n.length;r++)(0,n[r])();return t}return h({type:Ut.INIT}),(o={dispatch:h,subscribe:d,getState:l,replaceReducer:function(t){if("function"!=typeof t)throw new Error(Nt(10));i=t,h({type:Ut.REPLACE})}})[$t]=function(){var t,n=d;return(t={subscribe:function(t){if("object"!==e(t)||null===t)throw new Error(Nt(11));function r(){t.next&&t.next(l())}return r(),{unsubscribe:n(r)}}})[$t]=function(){return this},t},o}var Ft=Zt;function qt(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:Ut.INIT}))throw new Error(Nt(12));if(void 0===n(void 0,{type:Ut.PROBE_UNKNOWN_ACTION()}))throw new Error(Nt(13))}))}(n)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var r=!1,o={},c=0;c<a.length;c++){var u=a[c],s=n[u],f=t[u],l=s(f,e);if(void 0===l)throw e&&e.type,new Error(Nt(14));o[u]=l,r=r||l!==f}return(r=r||a.length!==Object.keys(t).length)?o:t}}function Wt(t,e){return function(){return e(t.apply(this,arguments))}}function Bt(t,n){if("function"==typeof t)return Wt(t,n);if("object"!==e(t)||null===t)throw new Error(Nt(16));var r={};for(var o in t){var i=t[o];"function"==typeof i&&(r[o]=Wt(i,n))}return r}function Vt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function Yt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(Nt(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return r=Vt.apply(void 0,i)(n.dispatch),Mt(Mt({},n),{},{dispatch:r})}}}var zt=function(){return zt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},zt.apply(this,arguments)},Ht=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function Jt(n){var o=this,i=n.redux,a=n.models,c=i.combineReducers||qt,u=i.createStore||Zt,s=void 0!==i.initialStates?i.initialStates:{};this.reducers=i.reducers,this.mergeReducers=function(t){return void 0===t&&(t={}),o.reducers=zt(zt({},o.reducers),t),Object.keys(o.reducers).length?c(o.reducers):function(t){return t}},this.createModelReducer=function(t){for(var e=t.baseReducer,n={},r=0,i=Object.keys(t.reducers||{});r<i.length;r++){var a=i[r],c=a.indexOf("/")>-1?a:"".concat(t.name,"/").concat(a);n[c]=t.reducers[a]}var u=function(e,r){return void 0===e&&(e=t.state),"function"==typeof n[r.type]?n[r.type](e,r.payload,r.meta):e};o.reducers[t.name]=e?function(t,n){return u(e(t,n),n)}:u};for(var f=0,l=a;f<l.length;f++){var d=l[f];this.createModelReducer(d)}this.createRootReducer=function(t){void 0===t&&(t={});var e=o.mergeReducers();return Object.keys(t).length?function(n,r){var o=t[r.type];return e(o?o(n,r):n,r)}:e};var h=this.createRootReducer(i.rootReducers),p=Yt.apply(t,i.middlewares),v=function(t){void 0===t&&(t={});var n=t.disabled,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["disabled"]);return!n&&"object"===("undefined"==typeof r?"undefined":e(r))&&r.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?r.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(o):Vt}(i.devtoolOptions).apply(void 0,Ht(Ht([],i.enhancers,!1),[p],!1));return this.store=u(h,s,v),this}var Kt=function(){return Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Kt.apply(this,arguments)},Xt=[_t,Ct],Qt=function(){function t(t){var e=this;this.plugins=[],this.getModels=function(t){return Object.keys(t).map((function(e){return Kt(Kt({name:e},t[e]),{reducers:t[e].reducers||{}})}))},this.config=t,this.pluginFactory=function(t){return{config:t,validate:Dt,create:function(t){t.onStoreCreated&&t.onStoreCreated,t.onModel&&t.onModel,t.middleware&&t.middleware,t.onInit&&t.onInit.call(this);var e={};if(t.exposed)for(var n=0,r=Object.keys(t.exposed);n<r.length;n++){var o=r[n];this[o]="function"==typeof t.exposed[o]?t.exposed[o].bind(this):Object.create(t.exposed[o])}for(var i=0,a=["onModel","middleware","onStoreCreated"];i<a.length;i++){var c=a[i];t[c]&&(e[c]=t[c].bind(this))}return e}}}(t);for(var n=0,r=Xt.concat(this.config.plugins);n<r.length;n++){var o=r[n];this.plugins.push(this.pluginFactory.create(o))}this.forEachPlugin("middleware",(function(t){e.config.redux.middlewares.push(t)}))}return t.prototype.forEachPlugin=function(t,e){for(var n=0,r=this.plugins;n<r.length;n++){var o=r[n];o[t]&&e(o[t])}},t.prototype.addModel=function(t){t.name,void 0===t.state&&t.baseReducer,"model(".concat(t.name,') "state" is required'),void 0!==t.baseReducer&&t.baseReducer,"model(".concat(t.name,') "baseReducer" must be a function'),this.forEachPlugin("onModel",(function(e){return e(t)}))},t.prototype.init=function(){var t=this;this.models=this.getModels(this.config.models);for(var e=0,n=this.models;e<n.length;e++){var r=n[e];this.addModel(r)}var o=Jt.call(this,{redux:this.config.redux,models:this.models}),i=Kt(Kt({name:this.config.name},o.store),{model:function(e){t.addModel(e),o.mergeReducers(o.createModelReducer(e)),o.store.replaceReducer(o.createRootReducer(t.config.redux.rootReducers)),o.store.dispatch({type:"@@redux/REPLACE "})}});return this.forEachPlugin("onStoreCreated",(function(t){var e=t(i);e&&Object.keys(e||{}).forEach((function(t){i[t]=e[t]}))})),i},t}(),te=Qt,ee=function(){return ee=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ee.apply(this,arguments)},ne=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},re=function(t,e){return e?ee(ee({},e),t||{}):t||{}},oe=lt().createContext(null),ie=function(t){t()},ae=function(){return ie},ce={notify:function(){},get:function(){return[]}};function ue(t,e){var n,r=ce;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=function(){var t=ae(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,o=n={callback:t,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){r&&null!==e&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}var a={addNestedSub:function(t){return i(),r.subscribe(t)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ce)},getListeners:function(){return r}};return a}var se="undefined"!=typeof r&&void 0!==r.document&&void 0!==r.document.createElement?ft.useLayoutEffect:ft.useEffect,fe=function(t){var e=t.store,n=t.context,r=t.children,o=(0,ft.useMemo)((function(){var t=ue(e);return{store:e,subscription:t}}),[e]),i=(0,ft.useMemo)((function(){return e.getState()}),[e]);se((function(){var t=o.subscription;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),i!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[o,i]);var a=n||oe;return lt().createElement(a.Provider,{value:o},r)};function le(){return(0,ft.useContext)(oe)}function de(t){void 0===t&&(t=oe);var e=t===oe?le:function(){return(0,ft.useContext)(t)};return function(){return e().store}}c(121),c(469);var he,pe=de(),ve=function(t,e){return t===e};he=n(88967).unstable_batchedUpdates,ie=he;var ge={SET_STATE:"@@icestore_SET_STATE".concat(function(){return Math.random().toString(36).substring(7).split("").join(".")}())},ye=ge.SET_STATE,me=function(){return me=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},me.apply(this,arguments)};function be(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function we(t){return!!t&&!!t[cn]}function Se(t){var e;return!!t&&(function(t){if(!t||"object"!=i(t))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===un}(t)||Array.isArray(t)||!!t[an]||!!(null===(e=t.constructor)||void 0===e?void 0:e[an])||Ie(t)||Ee(t))}function Oe(t,e,n){void 0===n&&(n=!1),0===Te(t)?(n?Object.keys:sn)(t).forEach((function(r){n&&"symbol"==i(r)||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function Te(t){var e=t[cn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ie(t)?2:Ee(t)?3:0}function xe(t,e){return 2===Te(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ke(t,e,n){var r=Te(t);2===r?t.set(e,n):3===r?t.add(n):t[e]=n}function Pe(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function Ie(t){return en&&t instanceof Map}function Ee(t){return nn&&t instanceof Set}function je(t){return t.o||t.t}function De(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=fn(t);delete e[cn];for(var n=sn(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function _e(t,e){return void 0===e&&(e=!1),Ce(t)||we(t)||!Se(t)||(Te(t)>1&&(t.set=t.add=t.clear=t.delete=Ae),Object.freeze(t),e&&Oe(t,(function(t,e){return _e(e,!0)}),!0)),t}function Ae(){be(2)}function Ce(t){return null==t||"object"!=i(t)||Object.isFrozen(t)}function Le(t){var e=ln[t];return e||be(18,t),e}function Re(){return Qe}function Me(t,e){e&&(Le("Patches"),t.u=[],t.s=[],t.v=e)}function Ne(t){$e(t),t.p.forEach(Ue),t.p=null}function $e(t){t===Qe&&(Qe=t.l)}function Ge(t){return Qe={p:[],l:Qe,h:t,m:!0,_:0}}function Ue(t){var e=t[cn];0===e.i||1===e.i?e.j():e.g=!0}function Ze(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.O||Le("ES5").S(e,t,r),r?(n[cn].P&&(Ne(e),be(4)),Se(t)&&(t=Fe(e,t),e.l||We(e,t)),e.u&&Le("Patches").M(n[cn].t,t,e.u,e.s)):t=Fe(e,n,[]),Ne(e),e.u&&e.v(e.u,e.s),t!==on?t:void 0}function Fe(t,e,n){if(Ce(e))return e;var r=e[cn];if(!r)return Oe(e,(function(o,i){return qe(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return We(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=De(r.k):r.o,i=o,a=!1;3===r.i&&(i=new Set(o),o.clear(),a=!0),Oe(i,(function(e,i){return qe(t,r,o,e,i,n,a)})),We(t,o,!1),n&&t.u&&Le("Patches").N(r,n,t.u,t.s)}return r.o}function qe(t,e,n,r,o,i,a){if(we(o)){var c=Fe(t,o,i&&e&&3!==e.i&&!xe(e.R,r)?i.concat(r):void 0);if(ke(n,r,c),!we(c))return;t.m=!1}else a&&n.add(o);if(Se(o)&&!Ce(o)){if(!t.h.D&&t._<1)return;Fe(t,o),e&&e.A.l||We(t,o)}}function We(t,e,n){void 0===n&&(n=!1),!t.l&&t.h.D&&t.m&&_e(e,n)}function Be(t,e){var n=t[cn];return(n?je(n):t)[e]}function Ve(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ye(t){t.P||(t.P=!0,t.l&&Ye(t.l))}function ze(t){t.o||(t.o=De(t.t))}function He(t,e,n){var r=Ie(e)?Le("MapSet").F(e,n):Ee(e)?Le("MapSet").T(e,n):t.O?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:Re(),P:!1,I:!1,R:{},l:e,t:t,k:null,o:null,j:null,C:!1},o=r,i=dn;n&&(o=[r],i=hn);var a=Proxy.revocable(o,i),c=a.revoke,u=a.proxy;return r.k=u,r.j=c,u}(e,n):Le("ES5").J(e,n);return(n?n.A:Re()).p.push(r),r}function Je(t){return we(t)||be(22,t),function t(e){if(!Se(e))return e;var n,r=e[cn],o=Te(e);if(r){if(!r.P&&(r.i<4||!Le("ES5").K(r)))return r.t;r.I=!0,n=Ke(e,o),r.I=!1}else n=Ke(e,o);return Oe(n,(function(e,o){r&&function(t,e){return 2===Te(t)?t.get(e):t[e]}(r.t,e)===o||ke(n,e,t(o))})),3===o?new Set(n):n}(t)}function Ke(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return De(t)}var Xe,Qe,tn="undefined"!=typeof Symbol&&"symbol"==i(Symbol("x")),en="undefined"!=typeof Map,nn="undefined"!=typeof Set,rn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,on=tn?Symbol.for("immer-nothing"):((Xe={})["immer-nothing"]=!0,Xe),an=tn?Symbol.for("immer-draftable"):"__$immer_draftable",cn=tn?Symbol.for("immer-state"):"__$immer_state",un=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),sn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,fn=Object.getOwnPropertyDescriptors||function(t){var e={};return sn(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},ln={},dn={get:function(t,e){if(e===cn)return t;var n=je(t);if(!xe(n,e))return function(t,e,n){var r,o=Ve(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!Se(r)?r:r===Be(t.t,e)?(ze(t),t.o[e]=He(t.A.h,r,t)):r},has:function(t,e){return e in je(t)},ownKeys:function(t){return Reflect.ownKeys(je(t))},set:function(t,e,n){var r=Ve(je(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=Be(je(t),e),i=null==o?void 0:o[cn];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Pe(n,o)&&(void 0!==n||xe(t.t,e)))return!0;ze(t),Ye(t)}return t.o[e]===n&&(void 0!==n||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return void 0!==Be(t.t,e)||e in t.t?(t.R[e]=!1,ze(t),Ye(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=je(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){be(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){be(12)}},hn={};Oe(dn,(function(t,e){hn[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),hn.deleteProperty=function(t,e){return hn.set.call(this,t,e,void 0)},hn.set=function(t,e,n){return dn.set.call(this,t[0],e,n,t[0])};var pn=function(){function t(t){var e=this;this.O=rn,this.D=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var o=n;n=t;var a=e;return function(t){var e=this;void 0===t&&(t=o);for(var r=arguments.length,i=Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];return a.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(i))}))}}var c;if("function"!=typeof n&&be(6),void 0!==r&&"function"!=typeof r&&be(7),Se(t)){var u=Ge(e),s=He(e,t,void 0),f=!0;try{c=n(s),f=!1}finally{f?Ne(u):$e(u)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(t){return Me(u,r),Ze(t,u)}),(function(t){throw Ne(u),t})):(Me(u,r),Ze(c,u))}if(!t||"object"!=i(t)){if(void 0===(c=n(t))&&(c=t),c===on&&(c=void 0),e.D&&_e(c,!0),r){var l=[],d=[];Le("Patches").M(t,c,l,d),r(l,d)}return c}be(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))};var r,o,i=e.produce(t,n,(function(t,e){r=t,o=e}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(t){return[t,r,o]})):[i,r,o]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){Se(t)||be(8),we(t)&&(t=Je(t));var e=Ge(this),n=He(this,t,void 0);return n[cn].C=!0,$e(e),n},e.finishDraft=function(t,e){var n=(t&&t[cn]).A;return Me(n,e),Ze(void 0,n)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!rn&&be(20),this.O=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var o=Le("Patches").$;return we(t)?o(t,e):this.produce(t,(function(t){return o(t,e)}))},t}(),vn=new pn,gn=vn.produce,yn=(vn.produceWithPatches.bind(vn),vn.setAutoFreeze.bind(vn),vn.setUseProxies.bind(vn),vn.applyPatches.bind(vn),vn.createDraft.bind(vn),vn.finishDraft.bind(vn),gn);!function(){function t(t,e){var n=o[t];return n?n.enumerable=e:o[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[cn];return dn.get(e,t)},set:function(e){var n=this[cn];dn.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][cn];if(!o.P)switch(o.i){case 5:r(o)&&Ye(o);break;case 4:n(o)&&Ye(o)}}}function n(t){for(var e=t.t,n=t.k,r=sn(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==cn){var a=e[i];if(void 0===a&&!xe(e,i))return!0;var c=n[i],u=c&&c[cn];if(u?u.t!==a:!Pe(c,a))return!0}}var s=!!e[cn];return r.length!==sn(e).length+(s?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);if(n&&!n.get)return!0;for(var r=0;r<e.length;r++)if(!e.hasOwnProperty(r))return!0;return!1}var o={};!function(t,e){ln[t]||(ln[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),o=function(e,n){if(e){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,t(o,!0));return r}var i=fn(n);delete i[cn];for(var a=sn(i),c=0;c<a.length;c++){var u=a[c];i[u]=t(u,e||!!i[u].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,e),i={i:r?5:4,A:n?n.A:Re(),P:!1,I:!1,R:{},l:n,t:e,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,cn,{value:i,writable:!0}),o},S:function(t,n,o){o?we(n)&&n[cn].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==i(e)){var n=e[cn];if(n){var o=n.t,a=n.k,c=n.R,u=n.i;if(4===u)Oe(a,(function(e){e!==cn&&(void 0!==o[e]||xe(o,e)?c[e]||t(a[e]):(c[e]=!0,Ye(n)))})),Oe(o,(function(t){void 0!==a[t]||xe(a,t)||(c[t]=!1,Ye(n))}));else if(5===u){if(r(n)&&(Ye(n),c.length=!0),a.length<o.length)for(var s=a.length;s<o.length;s++)c[s]=!1;else for(var f=o.length;f<a.length;f++)c[f]=!0;for(var l=Math.min(a.length,o.length),d=0;d<l;d++)a.hasOwnProperty(d)||(c[d]=!0),void 0===c[d]&&t(a[d])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}();var mn=function(){return mn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},mn.apply(this,arguments)},bn={global:0,models:{},effects:{}},wn=mn(mn({},bn),{models:mn({},bn.models),effects:mn({},bn.effects)}),Sn=function(t,e){return function(n,r){var o,i,a,c=r.name,u=r.action;return wn.global+=e,void 0===wn.models[c]&&(wn.models[c]=0),wn.models[c]+=e,void 0===wn.effects[c]&&(wn.effects[c]={}),void 0===wn.effects[c][u]&&(wn.effects[c][u]=0),wn.effects[c][u]+=e,mn(mn({},n),{global:t(wn.global),models:mn(mn({},n.models),(o={},o[c]=t(wn.models[c]),o)),effects:mn(mn({},n.effects),(i={},i[c]=mn(mn({},n.effects[c]),(a={},a[u]=t(wn.effects[c][u]),a)),i))})}},On=function(t){void 0===t&&(t={}),function(t){if(t.name&&"string"!=typeof t.name)throw new Error("loading plugin config name must be a string");if(t.asNumber&&"boolean"!=typeof t.asNumber)throw new Error("loading plugin config asNumber must be a boolean");if(t.whitelist&&!Array.isArray(t.whitelist))throw new Error("loading plugin config whitelist must be an array of strings");if(t.blacklist&&!Array.isArray(t.blacklist))throw new Error("loading plugin config blacklist must be an array of strings");if(t.whitelist&&t.blacklist)throw new Error("loading plugin config cannot have both a whitelist & a blacklist")}(t);var e=t.name||"loading",n=!0===t.asNumber?function(t){return t}:function(t){return t>0},r={name:e,reducers:{hide:Sn(n,-1),show:Sn(n,1)},state:mn({},bn)};return bn.global=0,r.state.global=n(bn.global),{config:{models:{loading:r}},onModel:function(o){var i=this,a=o.name;if(a!==e){bn.models[a]=0,r.state.models[a]=n(bn.models[a]),r.state.effects[a]={};var c=this.dispatch[a];Object.keys(c).forEach((function(e){if(!0===i.dispatch[a][e].isEffect){bn.effects[a][e]=0,r.state.effects[a][e]=n(bn.effects[a][e]);var o="".concat(a,"/").concat(e);if((!t.whitelist||t.whitelist.includes(o))&&(!t.blacklist||!t.blacklist.includes(o))){var c=i.dispatch[a][e],u=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))}(i,void 0,void 0,(function(){var n,r;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.dispatch.loading.show({name:a,action:e}),[4,c.apply(void 0,t)];case 1:return n=o.sent(),this.dispatch.loading.hide({name:a,action:e}),[2,n];case 2:throw r=o.sent(),this.dispatch.loading.hide({name:a,action:e}),r;case 3:return[2]}}))}))};u.isEffect=!0,i.dispatch[a][e]=u}}}))}}}},Tn=function(){return Tn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Tn.apply(this,arguments)},xn={error:null,value:0},kn={global:Tn({},xn),models:{},effects:{}},Pn={global:Tn({},kn.global),models:Tn({},kn.models),effects:Tn({},kn.effects)};function In(t){return t<0?0:t}var En=function(t,e){return function(n,r,o){var i,a,c,u=r.name,s=r.action;return Pn.global={value:In(Pn.global.value+e),error:o},void 0===Pn.models[u]&&(Pn.models[u]=Tn({},xn)),Pn.models[u]={value:In(Pn.models[u].value+e),error:o},void 0===Pn.effects[u]&&(Pn.effects[u]={}),void 0===Pn.effects[u][s]&&(Pn.effects[u][s]=Tn({},xn)),Pn.effects[u][s]={value:In(Pn.effects[u][s].value+e),error:o},Tn(Tn({},n),{global:t(Pn.global),models:Tn(Tn({},n.models),(i={},i[u]=t(Pn.models[u]),i)),effects:Tn(Tn({},n.effects),(a={},a[u]=Tn(Tn({},n.effects[u]),(c={},c[s]=t(Pn.effects[u][s]),c)),a))})}},jn=function(t){void 0===t&&(t={}),function(t){if(t.name&&"string"!=typeof t.name)throw new Error("error plugin config name must be a string");if(t.asNumber&&"boolean"!=typeof t.asNumber)throw new Error("error plugin config asNumber must be a boolean");if(t.whitelist&&!Array.isArray(t.whitelist))throw new Error("error plugin config whitelist must be an array of strings");if(t.blacklist&&!Array.isArray(t.blacklist))throw new Error("error plugin config blacklist must be an array of strings");if(t.whitelist&&t.blacklist)throw new Error("error plugin config cannot have both a whitelist & a blacklist")}(t);var e=t.name||"error",n=!0===t.asNumber?function(t){return t}:function(t){return Tn(Tn({},t),{value:t.value>0})},r={name:e,reducers:{hide:En(n,-1),show:En(n,1)},state:Tn({},kn)};return kn.global=Tn({},xn),r.state.global=n(kn.global),{config:{models:{error:r}},onModel:function(o){var i=this,a=o.name;if(a!==e){kn.models[a]=Tn({},xn),r.state.models[a]=n(kn.models[a]),r.state.effects[a]={};var c=this.dispatch[a];Object.keys(c).forEach((function(e){if(!0===i.dispatch[a][e].isEffect){kn.effects[a][e]=Tn({},xn),r.state.effects[a][e]=n(kn.effects[a][e]);var o="".concat(a,"/").concat(e);if((!t.whitelist||t.whitelist.includes(o))&&(!t.blacklist||!t.blacklist.includes(o))){var c=i.dispatch[a][e],u=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))}(i,void 0,void 0,(function(){var n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(r){switch(r.label){case 0:Pn.effects[a]&&Pn.effects[a][e]&&Pn.effects[a][e].error&&this.dispatch.error.hide({name:a,action:e},null),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,c.apply(void 0,t)];case 2:return[2,r.sent()];case 3:return n=r.sent(),console.error(n),this.dispatch.error.show({name:a,action:e},n),[3,4];case 4:return[2]}}))}))};u.isEffect=!0,i.dispatch[a][e]=u}}}))}}}},Dn=c(29),_n=c.n(Dn),An=function(){return An=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},An.apply(this,arguments)},Cn=ge.SET_STATE;function Ln(t){return t}var Rn=function(){return Rn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Rn.apply(this,arguments)},Mn=0,Nn=function(t,n){var r=n||{},o=r.disableImmer,i=r.disableLoading,a=r.disableError,c=r.plugins,u=void 0===c?[]:c,s=r.redux,f=void 0===s?{}:s,l=f.middlewares||[],d=lt().createContext(null);l.push(jt),u.push(function(t){var e=t.context;return{onStoreCreated:function(t){return{Provider:function(n){var r=n.children,o=n.initialStates;return o&&Object.keys(o).forEach((function(e){var n=o[e];n&&t.dispatch[e][ye]&&t.dispatch[e][ye](n)})),lt().createElement(fe,{store:t,context:e},r)},context:e}}}}({context:d})),u.push(function(t){var e=t.context,n=function(t){void 0===t&&(t=oe);var e=t===oe?le:function(){return(0,ft.useContext)(t)};return function(t,n){void 0===n&&(n=ve);var r=e(),o=function(t,e,n,r){var o,i=(0,ft.useReducer)((function(t){return t+1}),0),a=i[1],c=(0,ft.useMemo)((function(){return ue(n,r)}),[n,r]),u=(0,ft.useRef)(),s=(0,ft.useRef)(),f=(0,ft.useRef)(),l=(0,ft.useRef)(),d=n.getState();try{if(t!==s.current||d!==f.current||u.current){var h=t(d);o=void 0!==l.current&&e(h,l.current)?l.current:h}else o=l.current}catch(t){throw u.current&&(t.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),t}return se((function(){s.current=t,f.current=d,l.current=o,u.current=void 0})),se((function(){function t(){try{var t=n.getState();if(t===f.current)return;var r=s.current(t);if(e(r,l.current))return;l.current=r,f.current=t}catch(t){u.current=t}a()}return c.onStateChange=t,c.trySubscribe(),t(),function(){return c.tryUnsubscribe()}}),[n,c]),o}(t,n,r.store,r.subscription);return(0,ft.useDebugValue)(o),o}}(e),r=function(t){void 0===t&&(t=oe);var e=t===oe?pe:de(t);return function(){return e().dispatch}}(e);return{onStoreCreated:function(){return{useSelector:n,useDispatch:r}}}}({context:d})),u.push({onStoreCreated:function(t){function e(t){return[n(t),r(t)]}function n(e){var n=t.useSelector((function(t){return t[e]}));if(void 0!==n)return n;throw new Error("Not found model by namespace: ".concat(e,"."))}function r(e){var n=t.useDispatch();if(n[e])return n[e];throw new Error("Not found model by namespace: ".concat(e,"."))}function o(t){var e=r(t),n=a(t),o=i(t),c={};return Object.keys(e).forEach((function(t){c[t]={isLoading:n[t],error:o[t]?o[t].error:null}})),c}function i(e){return t.useSelector((function(t){return t.error?t.error.effects[e]:void 0}))}function a(e){return t.useSelector((function(t){return t.loading?t.loading.effects[e]:void 0}))}function c(t){return[u(t),s(t)]}function u(e){return t.getState()[e]}function s(e){return t.dispatch[e]}function f(t,n){return n=n||function(e){var n;return(n={})[t]=e,n},function(r){return function(o){var i=e(t),a=n(i);return lt().createElement(r,me({},a,o))}}}var l,d=(void 0===l&&(l="Dispatchers"),function(t,e){return e=e||function(e){var n;return(n={})["".concat(t).concat(l)]=e,n},function(n){return function(o){var i=r(t),a=e(i);return lt().createElement(n,me({},a,o))}}}),h=function(t){return void 0===t&&(t="EffectsState"),function(e,n){return n=n||function(n){var r;return(r={})["".concat(e).concat(t)]=n,r},function(t){return function(r){var i=o(e),a=n(i);return lt().createElement(t,me({},a,r))}}}}();function p(t,e){return e=e||function(e){var n;return(n={})["".concat(t,"EffectsError")]=e,n},function(n){return function(r){var o=i(t),a=e(o);return lt().createElement(n,me({},a,r))}}}function v(t,e){return e=e||function(e){var n;return(n={})["".concat(t,"EffectsLoading")]=e,n},function(n){return function(r){var o=a(t),i=e(o);return lt().createElement(n,me({},i,r))}}}return{getModelAPIs:function(t){return{useValue:function(){return e(t)},useState:function(){return n(t)},useDispatchers:function(){return r(t)},useEffectsState:function(){return o(t)},useEffectsError:function(){return i(t)},useEffectsLoading:function(){return a(t)},getValue:function(){return c(t)},getState:function(){return u(t)},getDispatchers:function(){return s(t)},withValue:function(e){return f(t,e)},withDispatchers:function(e){return d(t,e)},withEffectsState:function(e){return h(t,e)},withEffectsError:function(e){return p(t,e)},withEffectsLoading:function(e){return v(t,e)}}},useModel:e,useModelState:n,useModelDispatchers:r,useModelEffectsState:o,useModelEffectsError:i,useModelEffectsLoading:a,getModel:c,getModelState:u,getModelDispatchers:s,withModel:f,withModelDispatchers:d,withModelEffectsState:h,withModelEffectsError:p,withModelEffectsLoading:v}}});var h,p,v,g=[];i||(u.push(On()),g.push("loading")),a||(u.push(jn()),g.push("error")),o||u.push((void 0===(p={blacklist:g})&&(p={}),{config:{redux:{combineReducers:(v=p.blacklist,void 0===v&&(v=[]),function(t){var n={};return Object.keys(t).forEach((function(r){var o=t[r];n[r]=function(t,n){return"object"!==e(t)||v.includes(r)?o(t,n):yn(t,(function(t){var r=o(t,n);if("object"===e(r))return r}))}})),qt(n)})}}})),h=t,Object.keys(h).forEach((function(t){var e=h[t];if(e.effects&&!_n()(e.effects))throw new Error("Model(".concat(t,"): Defining effects as objects has been detected, please use `{ effects: () => ({ effectName: () => {} }) }` instead. \n\n\n Visit https://github.com/ice-lab/icestore/blob/master/docs/upgrade-guidelines.md#define-model-effects to learn about how to upgrade."));if(e.actions)throw new Error("Model(".concat(t,"): The actions field has been detected, please use `reducers` and `effects` instead. Visit https://github.com/ice-lab/icestore/blob/master/docs/upgrade-guidelines.md#define-model-actions to learn about how to upgrade."))}));var y=function(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n];r.reducers||(r.reducers={}),r.reducers.setState||(r.reducers.setState=function(t,e){return An(An({},t),e)}),r.reducers[Cn]||(r.reducers[Cn]=function(t,e){return e}),e[n]=r})),e}(t);return function(t){void 0===t&&(t={});var e=t.name||Mn.toString();Mn+=1;var n=function(t){for(var e=ee(ee({name:t.name,models:{},plugins:[]},t),{redux:ee(ee({reducers:{},rootReducers:{},enhancers:[],middlewares:[]},t.redux),{devtoolOptions:ee({name:t.name},t.redux&&t.redux.devtoolOptions?t.redux.devtoolOptions:{})})}),n=0,r=e.plugins;n<r.length;n++){var o=r[n];if(o.config){var i=re(e.models,o.config.models);e.models=i,e.plugins=ne(ne([],e.plugins,!0),o.config.plugins||[],!0),o.config.redux&&(e.redux.initialStates=re(e.redux.initialStates,o.config.redux.initialStates),e.redux.reducers=re(e.redux.reducers,o.config.redux.reducers),e.redux.rootReducers=re(e.redux.rootReducers,o.config.redux.reducers),e.redux.enhancers=ne(ne([],e.redux.enhancers,!0),o.config.redux.enhancers||[],!0),e.redux.middlewares=ne(ne([],e.redux.middlewares,!0),o.config.redux.middlewares||[],!0),e.redux.combineReducers=e.redux.combineReducers||o.config.redux.combineReducers,e.redux.createStore=e.redux.createStore||o.config.redux.createStore)}}return e}(Rn(Rn({},t),{name:e}));return new te(n).init()}({models:y,plugins:u,redux:Rn(Rn({},f),{middlewares:l})})},$n=function(t,e,n){var r,o="model";e=e||function(t){var e;return(e={})[o]=t,e};var i=Nn(((r={})[o]=t,r),n),a=i.Provider,c=e((0,i.getModelAPIs)(o));return function(t){return function(e){return lt().createElement(a,null,lt().createElement(t,Rn({},c,e)))}}};p().extend(g());var Gn={URLSearchParams:f,classnames:d(),dayjs:p(),initCoffeebeanTaro:bt,wrapOpt:St,trackFn:wt,trackPage:Tt,trackInitData:xt,getToken:Ot,wrapLogin:kt,wrapRunOnlyUser:Pt,createReplayPage:mt}}(),t.exports=u}()},99263:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(56884),o=n.n(r),i="___20220406_15:28:05___",a=i.replace(/___/g,""),c="",u="",s="",f="weixin";switch(o().appId){case"11048657":c="Baidu",u="Train.Baidu",s="baidu",f="baidu";break;case"wxd18d0e7f7784a6c4":c="WX_Train",u="Train.Train",s="wexinTrain",f="train";break;case"2017081708237081":c="AliApp",u="Train.Aliapp",s="alipay",f="alipay";break;case"ttaf70d9cd305a16cb":s="tt";break;case"wx45de275447723a6d":s="quickApp",f="quickapp";break;case"wx0e6ed4f51db9d078":default:c="WX",u="Train.Ctrip",s="weixin",f="weixin";break}var l={WXVersion:a,maxOtherAmount:11,pasCntLimit:5,channel:c,requestChannel:u,miniProgramType:s,traceChannel:f,isTrainApp:"Train.Train"===u,isCtripApp:"Train.Ctrip"===u}},39765:function(t,e,n){"use strict";n.d(e,{zq:function(){return r},c8:function(){return o},Bg:function(){return i},oF:function(){return a}});var r=["\u4f4e\u901f","\u5feb\u901f","\u9ad8\u901f","\u6781\u901f","\u5149\u901f","VIP"],o=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],i={MIN_ACTIVE_POINT:1e4,EXCHANGE_RATE:100},a=[0,1,2,4]},82566:function(t,e,n){"use strict";var r=n(99263),o={grabDetail:"10650072279",changeDetail:"10650083530",ordinaryDetail:"10650037941"};("baidu"===r.Z.miniProgramType||"wexinTrain"===r.Z.miniProgramType||"alipay"===r.Z.miniProgramType||"tt"===r.Z.miniProgramType||"quickApp"===r.Z.miniProgramType)&&Object.assign(o,{}),e["Z"]=o},61981:function(t,e,n){"use strict";n.d(e,{T3:function(){return $},DB:function(){return G},aE:function(){return b},iW:function(){return x},PT:function(){return B},iX:function(){return k},fJ:function(){return D},QN:function(){return w},jk:function(){return F},iQ:function(){return W},V8:function(){return P},ld:function(){return T},xi:function(){return m},nT:function(){return g},ur:function(){return Y},ez:function(){return O},gt:function(){return S},N8:function(){return Z},De:function(){return R},L6:function(){return q},DK:function(){return M},l:function(){return p},KS:function(){return U},Ay:function(){return C},ZT:function(){return y},fU:function(){return z},Fz:function(){return _},Gl:function(){return h},Z8:function(){return H},Gs:function(){return A},nZ:function(){return I},c1:function(){return N},ok:function(){return E},dV:function(){return V},bA:function(){return j},sS:function(){return v},PH:function(){return L}});var r=n(79301),o=n(95308),i=n(56884),a=n.n(i),c=n(91783),u=n.n(c),s=n(12033),f=n(99263);n(67);function l(){return"baidu"===f.Z.miniProgramType?"Train.Baidu":"wexinTrain"===f.Z.miniProgramType?"Train.Train":"alipay"===f.Z.miniProgramType?"Train.Aliapp":"tt"===f.Z.miniProgramType?"Train.Toutiao":"quickApp"===f.Z.miniProgramType?"Train.Quickapp":"Train.Ctrip"}function d(t,e){if("string"!==typeof t)throw new Error("url \u5fc5\u987b\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32");return t=t.replace(/^\//,""),function(){var n=(0,o.Z)((0,r.Z)().mark((function n(o){var i,c,d,h,p,v,g,y,m,b,w;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=a().util.systemInfo||{},c=i.platform||"",d=i.model,h=(0,s.sx)()||"",p="".concat(c," | ").concat(d," | ").concat(h),v="canary"===a().getStorageSync("_globalEnvSetting"),g="1"===a().getStorageSync("_enableProxyMock"),y=a().locate.getCachedGeoPoint(),m={head:{extension:[{name:"xtrainwxplatform",value:c},{name:"xtrainwxversion",value:f.Z.WXVersion},{name:"xtrainminiappchannel",value:l()},{name:"xtrainclientInfo",value:p},{name:"xtrainwxcityname",value:h},{name:"xtrainwxlatitude",value:(null===y||void 0===y?void 0:y.latitude)||"0"},{name:"xtrainwxlongitude",value:(null===y||void 0===y?void 0:y.longitude)||"0"},{name:"clientInfo",value:p}]}},Object.assign(o,m),+new Date,b="/restapi/soa2/".concat(t),w=v?{"x-ctrip-canary-req":"1"}:{},n.next=15,new Promise((function(t,n){if(g){var r=u().getState();return w.sessionid="".concat(null===r||void 0===r?void 0:r.vid,"-").concat(null===r||void 0===r?void 0:r.sid),void a().request({url:b.replace("/restapi","/ztmockprod/restapi"),data:o,method:"POST",header:w,success:function(r){return r.statusCode>=400?n(r):e?t(r.data):void t((0,s.Zs)(r.data))},fail:n})}a().request({url:b,data:o,method:"POST",header:w,success:function(r){return r.statusCode>=400?n(r):e?t(r.data):void t((0,s.Zs)(r.data))},fail:n})}));case 15:return n.abrupt("return",n.sent);case 16:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}var h=d("19436/json/GetConfigInfo"),p=(d("18212/json/OrderCreateV4"),d("18212/json/TrainOrderDetailSearchV3Out")),v=(d("14666/json/TrainTicketDetailSearchV4"),d("14674/json/trainGrabForecastInfo")),g=d("14703/json/JoinGroupEntrance"),y=d("19436/json/checkIsOpenSuperMember"),m=d("14681/json/InnovationWorkCreateOrder"),b=d("17076/json/CheckIsCanGiftPackageForWx"),w=d("14681/json/GetOrderHBInfoV2"),S=d("14666/json/TrainFaceAuthenticationRisk"),O=d("14666/json/TrainChangeGrabTicketDetailOuter"),T=(d("13534/json/GrabTicketSharedLoad"),d("14674/json/HBPeakPeriodStrategy")),x=d("13534/json/GetActivateAssistedFriendsInfo"),k=(d("14681/json/GetIntelligentAuthorizeAlertInfo"),d("14666/json/GetBookingByTrainNameV3")),P=d("14674/json/GrabTicketRecommendTrainList"),I=d("14681/json/getGrabLogInfoList"),E=d("14681/json/OrderCancel"),j=d("14681/json/TrainAlternateOrderPreCancel"),D=d("14666/json/GetGrabDiagnosisInfo"),_=d("23841/json/getConfigByKeys"),A=(d("14681/json/GetPaymentRequestId"),d("14666/json/GetPaySign"),d("14681/json/getDedicatedGrabAisleInfo")),C=d("14681/json/chatScence"),L=(d("14681/json/getOrderHBInfoV2"),d("14681/json/trainGrabTicketChangeAcceptInfoV2Outer")),R=d("18212/json/TrainGetPaymentRequestIdAuth"),M=d("18212/json/TrainCreatePayOrder"),N=d("14681/json/GetTrainHBInfoDetail"),$=d("14703/json/AddOrderAccountInfo"),G=d("14681/json/CheckFaceSuccessNotify"),U=d("14681/json/TrainSingleChannelToDoubleChannel"),Z=d("13534/json/TrainFriendsSpeedUpList"),F=d("13892/json/GetShareImg"),q=d("17076/json/TrainGiftPackageForWx"),W=(d("14681/json/IntelligentAuthorizeOperate"),d("14666/json/GrabTicketApproachRecommend")),B=d("14666/json/GetBookingByStationV3"),V=d("23619/json/recordErrorLog"),Y=(d("14681/json/ChangeTicketOrderDetail"),d("14681/json/ChangeTicketCancelOrder"),d("14674/json/GetTrainServiceInfo"),d("14681/json/TrainPreEleCounterTicketArtificialReturn"),d("14681/json/GetVerifyOrderPayTypeInfo"),d("14681/json/PrePayActionOut")),z=d("14681/json/checkPrePayOut");function H(){return J.apply(this,arguments)}function J(){return J=(0,o.Z)((0,r.Z)().mark((function t(){var e,n,o=arguments;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",t.prev=1,t.next=4,h({ConfigKey:e});case 4:return n=t.sent,t.abrupt("return",JSON.parse(n.configInfo.content));case 8:return t.prev=8,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[1,8]])}))),J.apply(this,arguments)}},67:function(t,e,n){"use strict";n.d(e,{BT:function(){return u},WG:function(){return s},ZK:function(){return f}});var r=n(57042),o=n(24460),i=n(56884),a=n.n(i),c=function(){function t(e){(0,r.Z)(this,t),this.key=e}return(0,o.Z)(t,[{key:"set",value:function(t){if(void 0==t)return a().setStorageSync(this.key,"");a().setStorageSync(this.key,t)}},{key:"get",value:function(){return a().getStorageSync(this.key)||{}}},{key:"setAttr",value:function(t,e){var n=this.get()||{};e&&e.timeout?e.expiredTime=Date.now()+60*e.timeout*1e3:Array.isArray(e)&&e.forEach((function(t,n){"[object Object]"===Object.prototype.toString.call(e[n])&&(e[n].expiredTime=Date.now()+60*t.timeout*1e3)})),n[t]=e,this.set(n)}},{key:"getAttr",value:function(t){var e=this.get();return"[object Object]"===Object.prototype.toString.call(e[t])?Date.now()>parseInt(e[t].expiredTime)&&delete e[t]:"[object Array]"===Object.prototype.toString.call(e[t])&&e[t].map((function(n,r){Date.now()>parseInt(n.expiredTime)&&e[t].splice(r,1)})),e[t]}},{key:"removeAttr",value:function(t){var e=this.get();delete e[t],this.set(e)}}],[{key:"getInstance",value:function(e){return new t(e)}}]),t}(),u=c.getInstance("TRAIN_STATION_STORE"),s=(c.getInstance("TRAIN_QUERY_STORE"),c.getInstance("TRAIN_BOOK_STORE")),f=c.getInstance("TRAIN_ACTIVITY_STORE")},12033:function(t,e,n){"use strict";n.d(e,{zy:function(){return b},gw:function(){return w},nP:function(){return S},OP:function(){return x},Xz:function(){return I},Rq:function(){return E},Zs:function(){return j},sx:function(){return D},Ab:function(){return _},Ej:function(){return C},AQ:function(){return M},c6:function(){return N},wW:function(){return U},td:function(){return q},Uv:function(){return B},rP:function(){return Y},L5:function(){return z},Qu:function(){return J},E2:function(){return K},fT:function(){return X},Yt:function(){return Q},Pm:function(){return tt},_E:function(){return et},vJ:function(){return nt}});var r=n(90129),o=n(298),i=n(93212),a=n(79301),c=n(95308),u=n(56884),s=n.n(u),f=n(92954),l=n.n(f),d=n(99263),h=n(67),p=n(61981),v=n(88381),g=n(39765),y=s().aes.enc.Utf8.parse("-!@QWaszx#^GDFUN"),m=s().aes.enc.Utf8.parse("09,.34ajoydfuEEi");function b(t){var e=s().aes.AES.encrypt(s().aes.enc.Utf8.parse(t),y,{mode:s().aes.mode.CBC,padding:s().aes.pad.Pkcs7,iv:m});return e.toString()}function w(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,o){var i;e&&setTimeout((function(){clearTimeout(i),o("polling timeout")}),e);var u=0,s=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(c){var f;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(n>0&&u>n)){e.next=2;break}return e.abrupt("return",o("polling count exceeded"));case 2:return u++,e.next=5,t(c);case 5:if(f=e.sent,!f.pollingFlag){e.next=9;break}return i=setTimeout((function(){s(f)}),1e3*(f.requestRate||5)),e.abrupt("return");case 9:r(f);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();s()}))}var O=u.__global.env,T="https://m.ctrip.com/";"fat"==O?T="https://m.fws.qa.nt.ctripcorp.com/":"uat"==O&&(T="https://m.ctrip.uat.qa.nt.ctripcorp.com/");var x=T,k=!1,P={costTimeString:function(t){var e,n,r,o=Math.floor(t/1440);return o?(e=Math.floor(t/60%24),n=Math.floor(t%60),r=o+"\u5929"+e+"\u65f6"+n+"\u5206"):(e=Math.floor(t/60%24),n=Math.floor(t%60),r=e?e+"\u65f6"+n+"\u5206":n+"\u5206"),r},goToHomepage:function(){d.Z.isTrainApp?s().switchTab({url:"/pages/train/index/index"}):s().switchTab({url:"/pages/home/homepage"})},jumpToUrl:function(t){if(t){if(-1!==t.indexOf("https")||-1!==t.indexOf("http"))s().navigateTo({url:"/pages/trainActivity/twebview/index?url=".concat(encodeURIComponent(t))});else if(-1!==t.indexOf("appId")){var e,n=/[?&]([^=&#]+)=([^&#]*)/g,r=t.match(n);for(var o in r){var i=r[o].split("="),a=i[0].substr(1),c=i[1];"appId"==a&&(e=c)}s().navigateToMiniProgram({appId:e,path:t,envVersion:"release",success:function(){}})}else s().navigateTo({url:t});console.log("---------------- navigateTo",t)}},showLoading:function(t){if(s().showLoading)return k=!0,s().showLoading({title:t||"\u6b63\u5728\u52a0\u8f7d",mask:!0});s().showToast({title:t||"\u6b63\u5728\u52a0\u8f7d",icon:"loading",duration:1e4,mask:!0})},hideLoading:function(){var t;k&&(k=!1,null===(t=s().hideLoading)||void 0===t||t.call(s()))},showToast:function(t,e,n){var r;k&&(k=!1,null===(r=s().hideLoading)||void 0===r||r.call(s()));s().showToast({title:t,icon:e||"success",mask:!0,duration:n||1500})},hideToast:function(){s().hideToast()},showModal:function(t){s().showModal({title:t.title||"\u63d0\u793a",content:t.m,showCancel:t.showCancel||!1,cancelText:t.cancelText||"\u53d6\u6d88",cancelColor:"#19a0f0",confirmText:t.confirmText||"\u786e\u5b9a",confirmColor:"#19a0f0",success:t.done})},ubtTrace:function(t,e){var n=s().getCurrentPage();e.channel=d.Z.traceChannel,n&&n.ubtTrace&&t&&n.ubtTrace(t,e)},ubtDevTrace:function(t,e){var n=s().getCurrentPage();n&&n.ubtDevTrace&&t&&n.ubtDevTrace(t,e)},handleTrains:function(t,e){var n,r=this,o=function(t){var n=e?e.replace(/\-/g,"/"):(0,v.dayjs)().format("YYYY/MM/DD");return+new Date(n+" "+t+":00")},i=function(t){var e=parseInt(t/60),n=t%60;return"".concat(e>0?"".concat(e,"\u65f6"):"").concat(n,"\u5206")},a=function(t){return t>=s[0]&&t<=s[1]?2:t>=s[1]&&t<=s[2]?4:t>=s[2]&&t<=s[3]?8:16},c=function(t){return f.indexOf(t)>=0?2:l.indexOf(t)>=0?4:d.indexOf(t)>=0?8:16},s=[o("00:00"),o("06:00"),o("12:00"),o("18:00")],f=["G","C"],l=["D"],d=["Z","T","K"],h=[];return t.forEach((function(t){if(0==t.seatList.length||o(t.departTime)<=+new Date)return h.push(t);n=t.seatList[0],t.seatCount=r.handleSeats(t.seatList),t.extraEmptytSeat=new Array(t.seatList.length>3?0:4-t.seatList.length),t.price=n.seatPrice,t.seatName=n.seatName,t.isJianLou=!n.seatInventory,t.timesCost=i(t.runTime),t.departTimeStamp=o(t.departTime),t.timePeriod=a(t.departTimeStamp),t.trainType=c(t.trainNumber[0]),t.saleNote=(t.saleNote||"").replace(/(<br\/>)/g,""),t.canRobTag=u._.some(t.seatList,(function(t){return"\u4e8c\u7b49\u5ea7"===t.seatName&&!t.seatInventory})),h.push(t)})),h},handleSeats:function(t){var e=0;return t.forEach((function(t){e+=t.seatInventory})),e},aidsidPath:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="allianceid=".concat(e,"&sid=").concat(n);return t.indexOf("?")>-1?t+"&".concat(r):t+"?".concat(r)}};function I(t){var e=/-?\d+/,n=e.exec(t);if(n&&n.length){var r=new Date(parseInt(n[0]));return r}}function E(){var t=l().getSystemInfoSync(),e=t.model.slice(t.model.indexOf("<")+1,t.model.indexOf(">")),n=["iPhone10,3","iPhone10,6","iPhone11,2","iPhone11,4","iPhone11,6","iPhone11,8","iPhone12,1","iPhone12,3","iPhone12,5"];return n.findIndex((function(t){return t===e}))>-1}function j(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||"object"!==(0,i.Z)(t))return null;if("[object Array]"===Object.prototype.toString.call(t)){var n=[];return n=t.map((function(t){return"object"===(0,i.Z)(t)?j(t):t})),n}var r={};return Object.keys(t).forEach((function(n){var o="";"ResponseHead"!==n&&"ResponseStatus"!==n?(o=e?n[0].toLowerCase()+n.substring(1):n[0].toUpperCase()+n.substring(1),"object"===(0,i.Z)(t[n])?r[o]=j(t[n]):r[o]=t[n]):r[n]=t[n]})),r}function D(){var t=s().locate.getCachedCtripCity(),e=function(t){try{var e=!!t.data&&t.data.ctripPOIInfo.cityIDList[0].cityName||"";return e}catch(t){console.log("getCurrentCity",t)}};return t?e(t):""}function _(){return A.apply(this,arguments)}function A(){return A=(0,c.Z)((0,a.Z)().mark((function t(){var e,n,r,o,i,c,u,s=arguments;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:{},t.next=3,(0,p.iX)(e);case 3:for(n=t.sent,r=n.responseBody,r.seatList=r.seatItemInfoList,r.runTime=r.useTime,r.departStation=r.departureStationName,r.arriveStation=r.arrivalStationName,r.departTime=r.departureTime,r.arriveTime=r.arrivalTime,o=0,i=r.seatList.length;o<i;o++)c=r.seatList[o],c.seatInventory=c.inventory,c.seatBookable=c.bookable,c.seatName=c.seatTypeName,c.seatPrice=c.price;return u=P.handleTrains([r],e.departDate),t.abrupt("return",u[0]);case 14:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.AppendList,n=void 0===e?[]:e,r=t.OriginalOrderId,o=t.ChangeType,i=void 0===o?0:o,a=t.RecommmendServiceList,c=void 0===a?[]:a,u=t.TrainNumbers,s=t.SeatNames,f=t.CrossStationGrabTicketList,l=t.GrabLogInfo,d=t.UseRightsInfoList,h=t.subOrderId;return{Channel:"ctripwx",IsAllDayJL:!1,IsAcceptRecTrainJL:!1,GrabType:0,ChangeType:i,PreOrderId:0,AppendList:n,OriginalOrderId:r,RecommmendServiceList:c,TrainNumbers:u,SeatNames:s,CrossStationGrabTicketList:f,GrabLogInfo:l,UseRightsInfoList:d,subOrderId:h}}function L(t){var e,n=!1;return null===t||void 0===t||null===(e=t.relationOrderInfoList)||void 0===e||e.forEach((function(t){R(t.orderStatus)&&(n=!0)})),R(t.currentOrderStatus)||n}function R(t){return g.oF.includes(t)}function M(t,e){return!!t&&(e&&e.multipleBookingAndGrabSegmentation?L(e.multipleBookingAndGrabSegmentation):R(t.orderStatus))}function N(t){return $.apply(this,arguments)}function $(){return $=(0,c.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r={oid:e,sbackCallback:function(e){t(e)},fromCallback:function(t){console.log(t);var e=(0,o.Z)((0,o.Z)({},t),{},{type:1});n(e)},ebackCallback:function(t){var e=(0,o.Z)((0,o.Z)({},t),{},{type:2});n(e)},rbackCallback:function(t){console.log(t);var e=(0,o.Z)((0,o.Z)({},t),{},{type:0});n(e)}};q(r)})));case 1:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}function G(t){return[{orderNumber:t,masterOrder:!0}]}function U(t){var e=G(t);return new Promise((function(t,n){var r={orderList:e,sbackCallback:function(e){t(e)},fromCallback:function(t){console.log(t);var e=(0,o.Z)((0,o.Z)({},t),{},{type:1});n(e)},ebackCallback:function(t){var e=(0,o.Z)((0,o.Z)({},t),{},{type:2});n(e)},rbackCallback:function(t){console.log(t);var e=(0,o.Z)((0,o.Z)({},t),{},{type:0});n(e)}};Z(r)}))}function Z(t){return F.apply(this,arguments)}function F(){return F=(0,c.Z)((0,a.Z)().mark((function t(e){var n,r,o,i,c;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.orderList,r=e.sbackCallback,o=e.ebackCallback,i=e.rbackCallback,t.prev=1,t.next=4,(0,p.DK)({channel:"ctrip.wx",paySdkType:3,orderItemList:n});case 4:if(c=t.sent,0!=c.retCode){t.next=9;break}s().payment.callPay2({serverData:{payLink:c.cashierJumpUrl,requestId:c.paymentRequestId},sbackCallback:r,ebackCallback:o,rbackCallback:i}),t.next=11;break;case 9:throw P.showModal({m:"\u652f\u4ed8\u9047\u5230\u95ee\u9898\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"}),c;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),P.showModal({m:t.t0.message||"\u652f\u4ed8\u9047\u5230\u95ee\u9898\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"});case 16:case"end":return t.stop()}}),t,null,[[1,13]])}))),F.apply(this,arguments)}function q(t){return W.apply(this,arguments)}function W(){return W=(0,c.Z)((0,a.Z)().mark((function t(e){var n,r,o,i,c;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.oid,r=e.sbackCallback,o=e.ebackCallback,i=e.rbackCallback,n&&(n=parseInt(n)),t.next=4,(0,p.De)({OrderNumber:n,Channel:"ctrip.wx"});case 4:if(c=t.sent,t.prev=5,1!=c.retCode||1!=c.payType){t.next=10;break}s().payment.callPay2({serverData:{orderId:n,payToken:c.payToken,busType:4,requestId:c.paymentRequestId},sbackCallback:r,ebackCallback:o,rbackCallback:i}),t.next=11;break;case 10:throw new Error("\u8bf7\u6c42\u5931\u8d25");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),P.showModal({m:"\u652f\u4ed8\u9047\u5230\u95ee\u9898\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"});case 16:case"end":return t.stop()}}),t,null,[[5,13]])}))),W.apply(this,arguments)}function B(t){return V.apply(this,arguments)}function V(){return V=(0,c.Z)((0,a.Z)().mark((function t(e){var n,i,c,u,s,f,l,d,h,p,v;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.fromType,i=e.accountInfo,c=e.orderInfo,t.next=3,z((0,o.Z)((0,o.Z)({from:"orderdetail"},i),{},{traceFrom:"loginAction"}));case 3:return u=t.sent,s=(0,r.Z)(u,1),f=s[0],l=f.userName,d=void 0===l?"":l,h=f.loginPW,p=void 0===h?"":h,t.next=7,Y(d,p,n,c);case 7:if(v=t.sent,1!=v.retCode){t.next=10;break}return t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}function Y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o={Channel:"ctripwx",FromType:n,OrderNumber:null===r||void 0===r?void 0:r.orderId,UserName12306:t,Password12306:e,ExtendInfoList:null===r||void 0===r?void 0:r.extendList};return(0,p.T3)(o)}function z(t){var e=t.from,n=void 0===e?"":e,o=t.push,i=void 0===o?"":o,a=t.scene,c=void 0===a?"":a,u=t.userId12306,f=void 0===u?"":u,l=t.isAutoLogin,d=void 0!==l&&l,p=t.refundPsgName,v=void 0===p?"":p,g=t.refundPassportNumber,y=void 0===g?"":g,m=t.traceFrom,b=void 0===m?"":m;return new Promise((function(t,e){var o=function(n){if(console.log("TRN PROPS gotten",n.detail.data),n.detail.data){var o=(0,r.Z)(n.detail.data,1),i=o[0],a=i.userName,c=void 0===a?"":a,u=i.displayName,f=void 0===u?"":u,l=i.loginPW,d=void 0===l?"":l;if(c&&d){var p={displayName:f,name:c};h.WG.setAttr("bind12306",p),h.WG.setAttr("auth",s().user.auth)}t(n.detail.data)}else e()},a=s().getCurrentPage(),u="".concat(T,"webapp/train/activity/ctrip-train-12306/#/login?from=").concat(n,"&userName=").concat(f,"&refundPsgName=").concat(v,"&refundPassportNumber=").concat(y,"&push=").concat(i,"&source=").concat(c,"&tracefrom=").concat(b);if(d){var l=h.WG.getAttr("bind12306")||{},p=h.WG.getAttr("12306Accounts")||[],g=p.find((function(t){return t.userName==l.name}))||{},m=g.userName,w=void 0===m?"":m,S=g.loginPW,O=void 0===S?"":S;u="".concat(T,"webapp/train/activity/ctrip-train-12306/#/login?from=").concat(n,"&userName=").concat(encodeURIComponent(w),"&loginPW=").concat(encodeURIComponent(O),"&push=").concat(i,"&source=").concat(c,"&tracefrom=").concat(b,"&autoLogin=1")}a.navigateTo({url:"/pages/trainActivity/twebview/index",data:{url:u,bridgeIns:o,needLogin:!0}})}))}var H=function(t,e,n){s().saveImageToPhotosAlbum({filePath:t,success:function(){e&&e()},fail:function(t){console.log(t),n&&n()}})},J=function(t,e,n,r){s().getSetting({success:function(o){o.authSetting["scope.writePhotosAlbum"]?downloadFile(t).then((function(t){H(t,e,n)})):s().authorize({scope:"scope.writePhotosAlbum",success:function(){downloadFile(t).then((function(t){H(t,e,n)}))},fail:function(){P.showToast("\u8bf7\u5148\u6388\u6743\u76f8\u518c\u6743\u9650","none"),r()}})},fail:function(t){P.showToast("\u6388\u6743\u5931\u8d25","none"),console.log(t)}})};function K(t){var e=(0,o.Z)((0,o.Z)({},t),{},{RequestId:s().cwx_mkt.openid,ReqTime:""+(new Date).getTime(),Partner:"ctrip",channel:"ctripwx"});return(0,p.jk)(e).then((function(t){return t.imgUrl?t.imgUrl:Promise.reject()}))}function X(t){var e,n=t.arriveStation,r=void 0===n?"":n,o=t.oid,i=void 0===o?"":o,a=t.avatar,c=void 0===a?"":a,u=t.subOrderId,f=void 0===u?"":u,l=t.shareImgs,d=void 0===l?[]:l,h=t.aid,p=void 0===h?"1023020":h,v=t.sid,g=void 0===v?"1625631":v,y=t.success,m=void 0===y?function(){}:y,b=t.fail,w=void 0===b?function(){}:b,S=t.newFeatureFlag,O=t.filterType,T=void 0===O?"":O,x=t.stuFlag,k=void 0===x?0:x,I=t.sharePath,E=void 0===I?"/pages/train/robshare/robshare":I,j=t.ref,D=r?"\u6211\u6b63\u5728\u62a2\u5230".concat(r,"\u7684\u706b\u8f66\u7968"):"\u6211\u6b63\u5728\u62a2\u706b\u8f66\u7968";s().mkt.getUnion((function(t){e=t}));var _="".concat(E,"?oid=").concat(i,"&stuFlag=").concat(k,"&newFeatureFlag=").concat(S);j&&(_+="&ref="+j),c&&(_+="&avatar="+c),f&&(_+="&suborderid="+f),p&&g?_=P.aidsidPath(_,p,g):e&&(_=P.aidsidPath(_,e.allianceid,e.sid));var A="https://images3.c-ctrip.com/train/wechat/jiasu/onshareapp.jpg";if(d.length)if("time"===T){var C=+new Date,L=d.find((function(t){return C>=+new Date(t.beginTime)&&C<=+new Date(t.endTime)}));A=L&&L.src?L.src:"https://images3.c-ctrip.com/train/2021/app/V8.43/xiaochengxu/xinkezhuanhua/img-fengmian.png"}else A=d[Math.floor(Math.random()*d.length)];return console.log("\u5206\u4eab\u8def\u5f84",_),{bu:"train",title:D,path:_,imageUrl:A,success:m,fail:w}}function Q(t){if(!t)return 0;var e=t.sceneType,n=0;return 4==e?n=1:7==e&&(n=2),n}function tt(t){try{if(parseInt(t))return parseInt(t);var e=t.replace(/\/Date\(([+-\d]+)\)\//gi,"$1");return parseInt(e)}catch(t){return""}}function et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="https://m.ctrip.com/webapp/train/modifyOrder?orderId=".concat(t,"&subOrderId=").concat(e,"&fromminiapp=1&bgColor=19A0F0");if(e)return s().navigateTo({url:"/pages/trainActivity/twebview/index?url=".concat(encodeURIComponent(n))});s().navigateTo({url:"/pages/trainActivity/twebview/index?url=".concat(encodeURIComponent(n))})}function nt(t){var e=s().getCurrentPage();(0,p.dV)({message:t.toString().substring(0,1e3),url:e.route,source:e.route,channel:d.Z.channel})}e["ZP"]=P}}]);
//# sourceMappingURL=taroCommon.js.map