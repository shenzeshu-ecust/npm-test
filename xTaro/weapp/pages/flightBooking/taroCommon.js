(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[6011],{26707:function(e,t){"use strict";t["Z"]={SeparatorComp:"index-module_z3jpA",RightDisplayArrow:"index-module_ugBdW"}},37444:function(e,t){"use strict";t["Z"]={tabOuter:"TabWithScroll-module_voXXt",tabImgWrap:"TabWithScroll-module_Wjodz",tabImg:"TabWithScroll-module_ObgcD",header:"TabWithScroll-module_Dw8__",tabItemContainer:"TabWithScroll-module_Fngwt",tabItemScrollContainer:"TabWithScroll-module_BMnhp",tabItem:"TabWithScroll-module_DhJEP",activeTabItem:"TabWithScroll-module_FfzAg"}},44682:function(e,t){"use strict";t["Z"]={"flight-info":"FlightInfo-module_RjeIi",container:"FlightInfo-module__5VCr",info:"FlightInfo-module_hJlWw",right:"FlightInfo-module_y4lSZ",section:"FlightInfo-module_vnd4Q",segment:"FlightInfo-module_FJ1N6",title:"FlightInfo-module_zhZqQ",detail:"FlightInfo-module_OwEUC",price:"FlightInfo-module_DLNLD",block:"FlightInfo-module_VRnsJ",priceText:"FlightInfo-module_NdJ_s",taxesOil:"FlightInfo-module_Tdr1X",warning:"FlightInfo-module_WJJnO",policy:"FlightInfo-module_xidlw",rl:"FlightInfo-module_Srsix",imply:"FlightInfo-module_CHEbK",bell:"FlightInfo-module_liQfh","imply-icon":"FlightInfo-module_Un46Y","lock-left":"FlightInfo-module_VaWQg","lock-security":"FlightInfo-module_qg5yw","security-text":"FlightInfo-module_wNlE7","lock-tag":"FlightInfo-module_qcsOj","lock-text":"FlightInfo-module_BHCjN"}},10073:function(e,t,n){"use strict";n.d(t,{Z:function(){return p},F:function(){return f}});var r=n(68277),i=n(62171),o=n(79301),a=n(298),c=n(95308),s=n(89494),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=(0,c.Z)((0,o.Z)().mark((function n(r){var i,c,u,l,d,f,p,m,h,v,g;return(0,o.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=r.url,c=r.serverCode,u=r.method,l=r.format,d=void 0===l?"json":l,f=r.queryObject,p=void 0===f?{}:f,m=r.cver,h=r.queryParams,v=i||"/".concat(c,"/").concat(d,"/").concat(encodeURIComponent(u||"")),n.prev=2,n.next=5,(0,s.Z)({cver:m,noCache:!0,url:"".concat(e).concat(v),queryObject:(0,a.Z)((0,a.Z)({},t),p)}).promise(h);case 5:return g=n.sent,n.abrupt("return",{data:g});case 9:return n.prev=9,n.t0=n["catch"](2),n.abrupt("return",{error:{status:n.t0.status,data:n.t0,skipCaptcha:n.t0.skipCaptcha}});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},l=["skipCaptcha"],d=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,(function(e,t){return(0,i.isPlainObject)(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))+")"},f=(0,i.createApi)({reducerPath:"flightBaseServer",baseQuery:u(),endpoints:function(){return{}},serializeQueryArgs:function(e){var t=e.queryArgs,n=void 0===t?{}:t,i=e.endpointName,o=(n.skipCaptcha,(0,r.Z)(n,l));return d({endpointName:i,queryArgs:o})}}),p=f},10830:function(e,t,n){"use strict";n.d(t,{XC:function(){return o},Wf:function(){return a}});n(62171);var r=n(10073),i=r.Z.injectEndpoints({endpoints:function(e){return{getPassengers:e.query({query:function(e){var t=e.userId,n=e.isStudent,r=e.policyId,i=e.intl;return{url:i?"/19691/queryUserV2":"/19691/queryUser",queryParams:i?{userId:t,data:{intl:!0,policyId:r},extension:n?[{name:"Student",value:"T"}]:void 0,timeout:2e4}:{userId:t,extension:n?[{name:"Student",value:"T"}]:void 0,timeout:2e4}}},transformResponse:function(e){var t=e.data;return t}}),savePassenger:e.mutation({query:function(e){return{url:"/19691/savePassenger",queryParams:e}},transformResponse:function(e){var t=e.data;return t}})}}}),o=i.useGetPassengersQuery,a=(i.usePrefetch,i.useSavePassengerMutation)},26962:function(e,t,n){"use strict";n.r(t);n(62171)},34869:function(e,t,n){"use strict";n.d(t,{C0:function(){return i}});n(62171);var r=n(96756),i=function(){var e,t=null===r.n||void 0===r.n||null===(e=r.n.cmpBridge)||void 0===e?void 0:e.isMiniProgram();return"QQAPP"!==t&&t}},88431:function(e,t,n){"use strict";n.d(t,{GN:function(){return s},Z1:function(){return u},Rc:function(){return l},oP:function(){return d},Ak:function(){return f},mM:function(){return p},Ov:function(){return g}});var r=n(62171),i=n(27201),o=n(96756);function a(e,t){var n=(0,i.G)(),r=n.allianceid,o=void 0===r?"":r,a=n.sid,c=void 0===a?"":a;return o===e&&c===t}a("108881","552683");var c=o.n&&o.n.Fusion||{},s=(o.n&&o.n.isLighthouse,function(){return"hide"===c.loginButton}),u=function(){return"hide"===c.homeBackButton},l=function(){return c.flightHomeBackUrl},d=function(){return"hide"===c.navBar},f=function(){return"hide"===c.navBarBackBtn},p=function(){return f()||d()},m=c.homeEntrance,h=(c.flightPlusHotel,c.orderListFilter),v=void 0===h?"":h,g=function(){return"hide"===v};m&&r.R.includes("OrderList",m),m&&r.R.includes("FlightSchedule",m),m&&r.R.includes("CheckIn",m),m&&r.R.includes("FlyGuide",m),m&&r.R.includes("Subscription",m),m&&r.R.includes("LowPrice",m)},66792:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(298),i=n(57042),o=n(24460),a=n(45023),c=(n(62171),n(92954)),s=n(27201),u=n(67316),l=n(47130),d=n(96756),f=n(68675),p={},m=n(22275),h=n(52296),v={fat:"https://m.ctrip.fat33.qa.nt.ctripcorp.com/html5/flight/api/getConfig",prd:"https://m.ctrip.com/html5/flight/api/getConfig"},g=null,y=3,x={promotionImagesConfig:{homepageImages:[],listpageImage:{}},serviceAssurance:{},OrderCards:{},shareEdit:{},switchers:{},travelPackageConfig:{},i18n:{},paymentTerms:{},preShareEdit:{},festivalDate:{},expTrace:{}},_=function(){function e(){(0,i.Z)(this,e),(0,a.Z)(this,"_status","init"),(0,a.Z)(this,"initPromise",new Promise((function(e){g=e}))),this.fetchPageConfig()}return(0,o.Z)(e,[{key:"_resolveConfig",value:function(e){this._status="loaded",x=e,d.n&&!d.n.FlightConfigs&&(d.n.FlightConfigs=e),g(e)}},{key:"fetchPageConfig",value:function(){var e=this;if((0,m.s)())return this._resolveConfig({}),this.initPromise;if("init"!==this._status||!y)return this.initPromise;if(d.n&&d.n.FlightConfigs)return this._resolveConfig(d.n.FlightConfigs);this._status="loading",y--;var t=(0,s.G)()||{},n=t.allianceid,i=t.sid,o=(0,r.Z)({cid:(0,u.al)(),allianceid:n,sid:i,env:"weapp"},p);return(0,c.request)({method:"GET",url:(0,f.Nv)({url:v[(0,l.i)()]||v.prd,query:o})}).then((function(t){(0,h.jq)("fetch_page_config_success");var n=t.data;return e._resolveConfig(n),n})).catch((function(t){(0,h.jq)("fetch_page_config_fail",t),e._resolveConfig({})})),this.initPromise}},{key:"get",value:function(e,t){return x[e]||t}},{key:"getSwitcher",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=x&&x.switchers&&x.switchers[e];return void 0===n?t:n}},{key:"getI18n",value:function(e){return x&&x.i18n&&x.i18n[e]||!1}}]),e}(),N=new _,b=N},13374:function(e,t,n){"use strict";n.d(t,{xS:function(){return o},NF:function(){return a},zR:function(){return c},e$:function(){return s},sk:function(){return u},Ti:function(){return l}});for(var r=n(62171),i=n(14828),o={ROUND_TRIP0:"\u53bb\u7a0b",ROUND_TRIP1:"\u8fd4\u7a0b",seg0:"\u7b2c\u4e00\u7a0b",seg1:"\u7b2c\u4e8c\u7a0b",seg2:"\u7b2c\u4e09\u7a0b",seg3:"\u7b2c\u56db\u7a0b"},a=function(e){return e[e["LockPriceNote"]=1]="LockPriceNote",e[e["LockPriceCoupon"]=2]="LockPriceCoupon",e[e["RealNameTip"]=3]="RealNameTip",e[e["ImmediatelyDiscount"]=10]="ImmediatelyDiscount",e[e["ImmediatelyDiscountTitle"]=11]="ImmediatelyDiscountTitle",e[e["ImmediatelyDiscountDesc"]=12]="ImmediatelyDiscountDesc",e[e["ImmediatelyDiscountBombFlag"]=13]="ImmediatelyDiscountBombFlag",e[e["PolicyNoteType15"]=15]="PolicyNoteType15",e[e["ImmediatelyDiscountAfter"]=14]="ImmediatelyDiscountAfter",e[e["PolicyNoteType16"]=16]="PolicyNoteType16",e[e["PolicyNoteType17"]=17]="PolicyNoteType17",e[e["PolicyNoteType18"]=18]="PolicyNoteType18",e[e["LockPriceNoteNew"]=19]="LockPriceNoteNew",e[e["StudentCertification"]=20]="StudentCertification",e[e["FamilyLimit"]=21]="FamilyLimit",e[e["LockPriceService"]=22]="LockPriceService",e[e["LockPricePolicy"]=23]="LockPricePolicy",e[e["DebugInfo"]=24]="DebugInfo",e[e["TravelCoupon"]=31]="TravelCoupon",e}({}),c={ID:"\u8eab\u4efd\u8bc1",PASSPORT:"\u62a4\u7167",TW_SIBLING:"\u53f0\u80de\u8bc1",HOME_VISIT_PERMIT:"\u56de\u4e61\u8bc1",ARMY:"\u519b\u4eba\u8bc1",HK_MO_TW:"\u6e2f\u6fb3\u53f0\u5c45\u6c11\u5c45\u4f4f\u8bc1",OTHER:"\u5176\u4ed6"},s={ID:{cardName:"\u8eab\u4efd\u8bc1",expired:!1,birth:!1,region:!1},PASSPORT:{cardName:"\u62a4\u7167",expired:!0,birth:!0,region:!0,gender:!0},TW_SIBLING:{cardName:"\u53f0\u80de\u8bc1",expired:!0,birth:!0,region:!1,gender:!0},HOME_VISIT_PERMIT:{cardName:"\u56de\u4e61\u8bc1",expired:!0,birth:!0,region:!1,gender:!0},ARMY:{cardName:"\u519b\u4eba\u8bc1",expired:!0,birth:!0,region:!1,gender:!0},RESIDENCE:{cardName:"\u6237\u53e3\u7c3f",expired:!1,birth:!1,region:!1,gender:!0},BIRTH_CERTIFICATE:{cardName:"\u51fa\u751f\u8bc1\u660e",expired:!1,birth:!0,region:!0,gender:!0},HK_MO_TW:{cardName:"\u6e2f\u6fb3\u53f0\u5c45\u6c11\u5c45\u4f4f\u8bc1",expired:!0,birth:!0,region:!1},PERMANENT_RESIDENCE_ID:{cardName:"\u5916\u56fd\u4eba\u6c38\u4e45\u5c45\u7559\u8eab\u4efd\u8bc1",expired:!0,birth:!0,region:!0,gender:!0},OTHER:{cardName:"\u5176\u5b83",expired:!0,birth:!0,region:!0,gender:!0}},u={PASSPORT:{cardName:"\u62a4\u7167",pinyinSwitch:!0,chineseName:!0,surName:!0,givenName:!0,expired:!0,birth:!0,region:!0,gender:!0},TW_SIBLING:{cardName:"\u53f0\u80de\u8bc1",pinyinSwitch:!0,chineseName:!0,surName:!0,givenName:!0,expired:!0,birth:!0,region:!0,gender:!0},HOME_VISIT_PERMIT:{cardName:"\u56de\u4e61\u8bc1",pinyinSwitch:!0,chineseName:!0,surName:!0,givenName:!0,expired:!0,birth:!0,region:!0,gender:!0},TW:{cardName:"\u53f0\u6e7e\u901a\u884c\u8bc1",pinyinSwitch:!0,chineseName:!0,surName:!0,givenName:!0,expired:!0,birth:!0,region:!0,gender:!0},HK_MO:{cardName:"\u6e2f\u6fb3\u901a\u884c\u8bc1",pinyinSwitch:!0,chineseName:!0,surName:!0,givenName:!0,expired:!0,birth:!0,region:!0,gender:!0}},l=(i.pI.ECONOMY,i.pI["BUSINESS,FIRST"],i.IS["ECONOMY\u3001SUPER_ECONOMY"],i.IS["BUSINESS\u3001FIRST"],i.IS.BUSINESS,i.IS.FIRST,i.c2.ECONOMY,i.c2.SUPER_ECONOMY,i.c2.BUSINESS,i.c2.FIRST,{title:"\u672a\u6765\u4e00\u4e2a\u6708",begin:(0,r.dayjs)().format("YYYY-MM-DD"),end:(0,r.dayjs)().add(1,"month").format("YYYY-MM-DD"),type:""}),d=[l,{title:"\u672a\u6765\u4e09\u4e2a\u6708",begin:(0,r.dayjs)().format("YYYY-MM-DD"),end:(0,r.dayjs)().add(3,"month").format("YYYY-MM-DD")},{title:(0,r.dayjs)().format("M\u6708"),begin:(0,r.dayjs)().format("YYYY-MM-DD"),end:(0,r.dayjs)().endOf("month").format("YYYY-MM-DD")}],f=1;f<4;f++)d.push({title:(0,r.dayjs)().add(f,"month").format("M\u6708"),begin:(0,r.dayjs)().add(f,"month").startOf("month").format("YYYY-MM-DD"),end:(0,r.dayjs)().add(f,"month").endOf("month").format("YYYY-MM-DD")})},71055:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});n(62171);var r="flight_taro_error_weapp"},51491:function(e,t,n){"use strict";n.d(t,{WK:function(){return r},eJ:function(){return i},lt:function(){return o},eu:function(){return a},$N:function(){return c},qe:function(){return s},Iy:function(){return u},IT:function(){return l},Dd:function(){return d},ng:function(){return f},uo:function(){return p},Mk:function(){return m},Be:function(){return h}});n(62171),n(71055);var r="\u9009\u4ef7\u683c",i="\u586b\u8ba2\u5355",o="\u6838\u5bf9\u652f\u4ed8",a="\u77e5\u9053\u4e86",c="\u65c5\u9014\u4e2d\u5e74\u9f84\u53d8\u5316",s=[{type:"ID",name:"\u8eab\u4efd\u8bc1",value:""},{type:"PASSPORT",name:"\u62a4\u7167",value:""},{type:"TW_SIBLING",name:"\u53f0\u80de\u8bc1",value:""},{type:"HOME_VISIT_PERMIT",name:"\u56de\u4e61\u8bc1",value:""},{type:"ARMY",name:"\u519b\u4eba\u8bc1",value:""},{type:"RESIDENCE",name:"\u6237\u53e3\u7c3f",value:""},{type:"BIRTH_CERTIFICATE",name:"\u51fa\u751f\u8bc1\u660e",value:""},{type:"HK_MO_TW",name:"\u6e2f\u6fb3\u53f0\u5c45\u6c11\u5c45\u4f4f\u8bc1",value:""},{type:"PERMANENT_RESIDENCE_ID",name:"\u5916\u56fd\u4eba\u6c38\u4e45\u5c45\u7559\u8eab\u4efd\u8bc1",value:""}],u=[{type:"PASSPORT",name:"\u62a4\u7167",value:""},{type:"TW_SIBLING",name:"\u53f0\u80de\u8bc1",value:""},{type:"HOME_VISIT_PERMIT",name:"\u56de\u4e61\u8bc1",value:""},{type:"TW",name:"\u53f0\u6e7e\u901a\u884c\u8bc1",value:""},{type:"HK_MO",name:"\u6e2f\u6fb3\u901a\u884c\u8bc1",value:""}],l=["ADULT","CHILD","INFANT"],d="61712aa7f14bcf8b46d4aa63-f98dd9cbd5334ad2",f=function(e){return e["middle"]="5300816",e["booking"]="4300823",e["booking_retain"]="4300824",e}({}),p={1:"IDCard",2:"Passport",4:"JRZ",7:"HXZ",8:"TBZ",10:"GATXZ",11:"GJHYZ",20:"WGRYJJLZ",21:"LXZ",22:"TWTXZ",25:"HKB",27:"CSZM",28:"FPC",99:"Other"},m={ECONOMY:1,BUSINESS:2,FIRST:3,SUPER_ECONOMY:4,"ECONOMY\u3001SUPER_ECONOMY":5,"BUSINESS\u3001FIRST":6},h={1:"ECONOMY",2:"BUSINESS",3:"FIRST",4:"SUPER_ECONOMY",5:"ECONOMY\u3001SUPER_ECONOMY",6:"BUSINESS\u3001FIRST"}},17311:function(e,t,n){"use strict";n.d(t,{BJ:function(){return f},x2:function(){return d},bZ:function(){return p},gU:function(){return c},Iz:function(){return m},ex:function(){return l},uP:function(){return u},YP:function(){return s},u:function(){return a},y:function(){return o}});n(62171);var r={ONE_WAY:"10650034710",ROUND_TRIP:"10650034712",TRANSIT:"10650034714"},i={ONE_WAY:"10650098052",ROUND_TRIP:"10650098054",TRANSIT:"10650098056"},o="10650047304",a="10650047306",c="",s="10650067106",u="10650064032",l="10650064034",d="10650070656",f="10650070660",p={DOMESTIC:r,INTERNATIONAL:i},m={DOMESTIC:{ONE_WAY:"10650080822",ROUND_TRIP:"10650081086",TRANSIT:"10650081088"},INTERNATIONAL:{ONE_WAY:"",ROUND_TRIP:"",TRANSIT:""}}},33943:function(e,t,n){"use strict";n.d(t,{Mq:function(){return i.getApp},PO:function(){return l},tL:function(){return u},R2:function(){return s},So:function(){return c}});n(62171);var r,i=n(92954),o=function(){return(0,i.getMenuButtonBoundingClientRect)()},a=n(298);function c(){if(r)return r;var e=(0,i.getSystemInfoSync)(),t=e,n=t.statusBarHeight;return n&&!Number.isNaN(n)||(e=(0,a.Z)((0,a.Z)({},e),{},{statusBarHeight:0})),r=e}var s=function(){var e=c()||{},t=e.safeArea,n=e.screenHeight;if(t&&t.bottom>0){var r=n-t.bottom;return{top:0,bottom:r,left:0,right:0}}return{top:0,bottom:0,left:0,right:0}},u=function(){var e=c(),t=e.statusBarHeight,n=void 0===t?0:t,r=e.platform,i="android"===r?48:40,a=o(),s=a.top,u=a.height;return s&&0!==s&&u&&0!==u?2*(s-n)+u:i},l=function(){var e=c(),t=e.host,n=e.appName,r=e.app;return n||(null===t||void 0===t?void 0:t.env)||t||r}},8811:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});n(62171);var r=function(e){switch(e){case 1:return"ID";case 2:return"PASSPORT";case 4:return"ARMY";case 7:return"HOME_VISIT_PERMIT";case 8:return"TW_SIBLING";default:return"ID"}}},69121:function(e,t,n){"use strict";n.d(t,{Qi:function(){return i}});n(62171);var r=n(63745),i=function(){var e;return(e=r.Y8.ABTestingManager).valueForKeySync.apply(e,arguments)}},5709:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});n(62171);var r=n(63745),i=function(){var e;return(e=r.Y8.util).base64Encode.apply(e,arguments)}},57062:function(e,t,n){"use strict";n.d(t,{eW:function(){return o},Cr:function(){return a},as:function(){return s}});n(62171);var r=n(34869),i=function(){return!1},o=function(){return!i()},a=function(){return i()&&(0,r.C0)()},c={WECHATMINIAPP:"weapp",ALIPAYAPP:"alipay",BAIDUAPP:"swan",OLDQUICKAPP:"quickapp",NEWQUICKAPP:"quickapp",TOUTIAOAPP:"tt",QQAPP:"qq"},s=function(){var e="weapp";if("h5"!==e)return e;var t=c[(0,r.C0)()||""];return t?"h5:".concat(t):"h5"}},67316:function(e,t,n){"use strict";n.d(t,{I8:function(){return c},T8:function(){return s},gB:function(){return u},n:function(){return l},rE:function(){return d},bW:function(){return f},al:function(){return p},I1:function(){return m},eC:function(){return h},Td:function(){return v},bo:function(){return g},qW:function(){return y},qN:function(){return x},Y8:function(){return a.Y8}});n(62171);var r=n(92954),i=n.n(r),o=n(92148),a=n(63745),c=function(){var e;null===(e=a.Y8.sendUbtExpose)||void 0===e||e.refreshObserve()},s=o.T8,u=o.gB,l=o.n,d=(i().navigateToMiniProgram,function(){return a.Y8.user.duid}),f=function(){return a.Y8.user.auth},p=function(){return a.Y8.clientID},m=function(){return Promise.resolve("")},h=function(){return""},v=function(e){i().setNavigationBarTitle({title:e})},g=function(){return a.Y8.wxSystemInfo.version||a.z4.version},y=function(){return a.z4.cversion||""},x=function(e){return a.Y8.canIUse(e)}},63745:function(e,t,n){"use strict";n.d(t,{Y8:function(){return i.a},z4:function(){return a.a}});n(62171);var r=n(56884),i=n.n(r),o=n(65238),a=n.n(o);n(91783)},33699:function(e,t,n){"use strict";var r=n(62171);t["Z"]=function(){return(0,r.getToken)()}},47130:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});n(62171);var r=n(63745);function i(){return r.z4.env}},38896:function(e,t,n){"use strict";n.d(t,{I2:function(){return o},uN:function(){return a},SU:function(){return c}});n(62171);var r=n(92954),i=n(13441);function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,r.getCurrentInstance)();return(null===(e=n.router)||void 0===e?void 0:e.path)||t}function a(){return(0,i.CU)(o())}var c=function(e){return e}},49574:function(e,t,n){"use strict";n.d(t,{qN:function(){return i.qN},bW:function(){return i.bW},rE:function(){return i.rE},I1:function(){return i.I1},eC:function(){return i.eC},Gm:function(){return r.G},n:function(){return i.n},gB:function(){return i.gB},I8:function(){return i.I8},Td:function(){return i.Td}});n(62171),n(57062);var r=n(27201),i=(n(63745),n(54347),n(52296),n(48091),n(57895),n(67316));n(47130)},17745:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var r=n(298),i=n(68277),o=(n(62171),n(63745)),a=n(68675),c=["query","hash","needLogin"],s=function(e,t){var n=t||{},s=n.query,u=n.hash,l=n.needLogin,d=void 0!==l&&l,f=(0,i.Z)(n,c),p=e;s&&(p=(0,a.Nv)({url:e,query:s})),u&&(p+="#"+u),o.Y8.component.cwebview({data:(0,r.Z)((0,r.Z)({},f),{},{url:encodeURIComponent(p),needLogin:d})})}},48091:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(62171),i=n(63745),o=n(52296),a=function(){return(0,o.jq)("go-to-login"),new Promise((function(e,t){(0,r.wrapLogin)(i.Y8.user.login)({callback:function(n){n&&"0"===n.ReturnCode?e(!0):t(!1)}})}))}},57895:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var r=n(62171),i=n(63745),o=n(42587),a=function(e){return(0,o.Z)((function(e){return i.Y8.request((0,r.wrapOpt)(e))}))(e)}},92148:function(e,t,n){"use strict";n.d(t,{T8:function(){return i},gB:function(){return o},n:function(){return a},MR:function(){return c},UY:function(){return s}});n(62171);var r=n(63745),i=r.Y8.navigateTo,o=r.Y8.redirectTo,a=r.Y8.navigateBack,c=r.Y8.switchTab,s=r.Y8.reLaunch},9147:function(e,t,n){"use strict";n.d(t,{po:function(){return s},Fj:function(){return u},cF:function(){return l},qu:function(){return d},Li:function(){return f},hq:function(){return p},B$:function(){return m},nQ:function(){return h}});var r=n(62171),i=n(63745),o=n(92954),a=n(42587),c=(0,r.wrapCWXStorage)(i.Y8),s=(0,a.F)(c.setStorage),u=c.setStorageSync,l=(0,a.F)(c.getStorage),d=c.getStorageSync,f=(0,a.F)(i.Y8.removeStorage),p=i.Y8.removeStorageSync,m=(i.Y8.getStorageInfoSync,o.clearStorage),h=o.getStorageInfo},27201:function(e,t,n){"use strict";n.d(t,{G:function(){return i},c:function(){return o}});n(62171);var r=n(63745),i=function(){var e=r.Y8.mkt.getUnion();return e?{allianceid:e.allianceid,sid:e.sid,ouid:e.ouid,sourceid:e.sourceid,exmktid:e.exmktid,openid:r.Y8.cwx_mkt.openid,unionid:r.Y8.cwx_mkt.unionid}:{}},o=function(e){if(e){var t=r.Y8.getCurrentPage();r.Y8.mkt.sendUnionTrace(t,e,"FLT")}}},48937:function(e,t,n){"use strict";n.d(t,{F:function(){return r.FlightHotelApi},C:function(){return r.IFHType}});var r=n(62171)},94772:function(e,t,n){"use strict";n.d(t,{E_:function(){return f},D4:function(){return m},oq:function(){return h},rr:function(){return v}});var r=n(298),i=n(62171),o=n(38896),a=n(67316),c=n(5709),s=n(27201),u=n(33943),l=n(50783),d=function(e){return e["FlowEvent"]="FlowEvent",e["RemoteCallEvent"]="RemoteCallEvent",e["ActionEvent"]="ActionEvent",e["StackEvent"]="StackEvent",e["PV"]="PV",e}(d||{}),f=function(e){var t=(0,u.So)(),n=t.platform,i=(0,o.uN)()||{},a=i.mini,c=i.name;return(0,r.Z)((0,r.Z)({},e),{},{platform:n,eventPage:a,pageName:c,from:"weapp"})},p=function(e){return function(t){var n=(0,s.G)(),o=n.allianceid,c=n.sid;return(0,l.iA)((0,r.Z)((0,r.Z)({},f(t)),{},{eventType:e,belongTo:"/taro3/flight",timestamp:(0,i.dayjs)().format("YYYY-MM-DD HH:mm:ss.SSS"),createTime:(0,i.dayjs)().format(),cid:(0,a.al)(),version:(0,a.bo)(),appName:(0,u.PO)(),allianceid:o,sid:c}))}},m=p(d.FlowEvent),h=p(d.StackEvent),v=function(e,t){return p(d.RemoteCallEvent)({value:{pageName:e,apiName:t.apiName,url:t.url,request:t.request,response:(0,c.h)(t.response)}})}},52296:function(e,t,n){"use strict";n.d(t,{eI:function(){return r.eI},im:function(){return l},$J:function(){return a.$J},jq:function(){return a.jq},ff:function(){return a.ff},$Y:function(){return a.$Y},bd:function(){return a.bd},rb:function(){return a.rb}});n(62171);var r=n(34439),i=n(298),o=n(20844),a=n(43752),c=n(96756),s=n(32180)["window"],u=c.Z.startTime||(new s.Date).getTime(),l=function(e,t,n,r){var c,l=t||{},d=l.data,f=l.header,p=void 0===f?{}:f,m=(null===d||void 0===d||null===(c=d.ResponseStatus)||void 0===c?void 0:c.Extension)||[],h=(m.find((function(e){return"RootMessageId"===e.Id}))||{}).Value,v=(m.find((function(e){return"CLOGGING_TRACE_ID"===e.Id}))||{}).Value,g=(m.find((function(e){return"uuid"===e.Id}))||{}).Value;if(h&&v){var y=(0,i.Z)({framework:"nfes",success:!0,statusCode:200,RootMessageId:h,CLOGGING_TRACE_ID:v,url:e,uuid:g},r),x=1e3*parseFloat(p["x-service-call"]||"0"),_=+new s.Date-n,N={start:o.Z.pageName.last?0:n-u,value:_,service:x,network:_-x};(0,a.A9)("http_request_perf",y,N)}}},34439:function(e,t,n){"use strict";n.d(t,{u9:function(){return c},eI:function(){return s}});n(62171);var r=n(71055),i=n(43752),o=n(94772),a=["pages/gs","pages/hotel","pages/myctrip","pages/train","pages/search"],c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{var n;if(e instanceof Error)n=String(e),e.stack&&(n+="\n"+e.stack);else try{n=JSON.stringify(e)}catch(e){n="error\u662f\u4e2a\u5b58\u5728\u5faa\u73af\u5f15\u7528\u7684obj"}var c=a.filter((function(e){return n.indexOf(e)>-1}));if(c.length)return;var s=(0,o.oq)({value:n}),u=t||r.g;(0,i.bd)(u,s),(0,i.rb)(e)}catch(e){console.error("addStackEvent failed",e)}},s=function(e,t){if("string"===typeof e){var n=e.split("?")[0],r=(0,o.rr)(n,t);(0,i.bd)("flight_taro_api_performance",r)}}},43752:function(e,t,n){"use strict";n.d(t,{cj:function(){return m},A9:function(){return v},ff:function(){return g},bd:function(){return y},rb:function(){return _},$Y:function(){return N},jq:function(){return b},$J:function(){return T}});var r=n(298),i=n(79301),o=n(95308),a=(n(62171),n(92954)),c=n(63745),s=n(68675),u=n(50783),l=n(33943),d=n(94772),f=n(32180)["window"],p=function(e){if(e){var t=c.Y8.getCurrentPage();if(t&&t.ubtSendPV){var n=(0,a.getCurrentInstance)().router||{},r=n.path,i=n.params,o={pageId:e,url:(0,s.Nv)({url:r,query:i}),refer:(0,l.PO)()};return console.debug("%cubtSendPV","color:cyan",o),t.ubtSendPV(o)}}},m=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.pageId&&p(t.pageId),console.debug("%cubtSet","color:cyan",t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){var o;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,o=c.Y8.getCurrentPage(),o&&o.ubtTrace){e.next=4;break}return e.abrupt("return");case 4:o.ubtTrace(t,n),console.debug("%cubtTrace","color:cyan",t,n,r),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r,o){var a,s;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=c.Y8.getCurrentPage(),a&&a.ubtMetric){e.next=4;break}return e.abrupt("return");case 4:s=(0,u.iA)((0,d.E_)(n)),a.ubtMetric({name:t,value:r,tag:s}),console.debug("%cubtMetric","color:cyan",t,s,r,o),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:h(t,(0,d.D4)(n||{}),r);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){var o,a;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,o=c.Y8.getCurrentPage(),o&&o.ubtDevTrace){e.next=4;break}return e.abrupt("return");case 4:a=(0,d.D4)(n),o.ubtDevTrace(t,a),console.debug("%cubtDevTrace","color:cyan",t,a,r),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),x=f.Date.now(),_=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,o,a,s,u,l,d,p;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,s=c.Y8.getCurrentPage(),u=null===s||void 0===s||null===(r=s.__cpage)||void 0===r?void 0:r.__ubt_instance,u){e.next=5;break}return e.abrupt("return");case 5:"string"===typeof t&&(t=new Error(t)),l=null===(o=t)||void 0===o||null===(o=o.stack)||void 0===o?void 0:o.split("\n"),d=null===(a=t)||void 0===a?void 0:a.message,p=f.Date.now()-x,u.send("error",{message:d,time:p,stack:l,file:0,category:"inner-error",framework:"normal",line:0,column:0,repeat:1}),console.error("%cubtError","color:cyan",t,n),e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(e){var t=e.abResult;t&&(h("o_abtest_expresult_weixin",t),console.debug("%csetABTracker","color:cyan",t))},b=function(e,t,n){g("_flight_tinyapp_click",(0,r.Z)({speed:e},t),n)},T=function(e,t,n){g("_flight_tinyapp_show",(0,r.Z)({speed:e},t),n)}},35877:function(e,t,n){"use strict";n.d(t,{r:function(){return te},Z:function(){return ne}});var r=n(79301),i=n(298),o=n(68277),a=n(95308),c=n(22276),s=n(57042),u=n(24460),l=n(45023),d=(n(62171),n(68675)),f=n(67316),p=n(57895),m=n(52296),h=n(47130),v=n(51491),g=n(9147),y=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,g.qu)("MarsID"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=(0,h.i)(),"fat"!==n){e.next=7;break}return e.next=4,y();case 4:if(i=e.sent,!i){e.next=7;break}return e.abrupt("return","https://mars.fws.qa.nt.ctripcorp.com/mid/".concat(i,"/token-").concat(v.Dd,"/platform-taro").concat(t));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=n(81876),N=n(21867),b=n(86066),T=n(28009),w=n(92954),C=n(90201),I=n(67347),E=n(90129),S=n(71515),j=n(33943),k=n(49574),A=n(43752),P={CaptchaModal:"CaptchaModal-module_m5kRP","modal-wrap":"CaptchaModal-module_gXnGF",full:"CaptchaModal-module_SAYkr","captcha-title":"CaptchaModal-module_MzFSV","captcha-container":"CaptchaModal-module_iv0jU","captcha-content":"CaptchaModal-module_GIjFX"},R=n(2269),O=function(e){(0,N.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"render",value:function(){return(0,R.jsx)("captcha",{settings:this.props.settings})}}]),n}(C.Component),D=function(e){var t=e.show,n=e.title,r=void 0===n?"\u8bf7\u5b8c\u6210\u4ee5\u4e0b\u9a8c\u8bc1\uff1a":n,i=e.appId,o=e.businessSite,a=e.onConfirm,c=(0,C.useState)(!1),s=(0,E.Z)(c,2),u=s[0],l=s[1],d=(0,C.useCallback)((function(){}),[]),f=(0,C.useMemo)((function(){setTimeout((function(){l(!0)}),200),(0,A.ff)("c_flight_gray_show",{speed:"\u98ce\u63a7\u5f39\u6846\u5c55\u793a"});var e=(0,j.So)(),t=e.windowWidth,n=e.windowHeight,r=e.language,c=e.model,s=e.version,u=(0,k.Gm)(),f=u.unionid,p=u.openid;return{appId:i,businessSite:o,dev:"prd"===(0,h.i)()?"pro":"uat",width:"280px",height:"40px",margin:"auto",textslider:!1,language:r,openid:p,unionid:f,model:c,wx_version:s,duid:(0,k.rE)(),windowWidth:t,windowHeight:n,chooseOpt:{position:"fixed",width:"240px",height:"160px",type:"pop"},stateChange:function(e){0===e?(0,A.$J)("\u62fc\u56fe\u9a8c\u8bc1\u7801\u663e\u793a"):1===e?(0,A.$J)("\u56fe\u6807\u9a8c\u8bc1\u7801\u663e\u793a"):2===e&&(0,A.$J)("\u56fe\u6807\u9a8c\u8bc1\u7801\u6d88\u5931")},onJigsawFail:function(){(0,A.$J)("\u62fc\u56fe\u9a8c\u8bc1\u9519\u8bef")},onSelectFail:function(){(0,A.$J)("\u9009\u5b57\u9a8c\u8bc1\u9519\u8bef")},onSelectClose:function(){(0,A.$J)("\u5173\u95ed\u9a8c\u8bc1")},resultHandler:function(e){if(console.log("token:",e.token,"e.checkState:",e.checkState,"e.version",e.version,"e.rid:",e.rid),"success"===e.checkState||"hidden"===e.checkState)return a&&a({token:e.token,rid:e.rid,version:e.version});(0,A.ff)("c_flight_gray_result_handler",{speed:e.checkState}),d()}}}),[i,o,d,a]);if(!u)return null;var p=!0;return(0,R.jsxs)(S.View,{className:P.CaptchaModal,style:{display:t?"block":"none"},children:[(0,R.jsx)(S.View,{className:"mask"}),(0,R.jsxs)(S.View,{className:P["modal-wrap"],children:[!p&&(0,R.jsxs)(S.View,{className:P["captcha-content"],children:[(0,R.jsx)(S.Text,{className:P["captcha-title"],children:r}),(0,R.jsx)(S.View,{className:P["captcha-container"],children:(0,R.jsx)(O,{settings:f})})]}),p&&(0,R.jsx)(S.View,{children:(0,R.jsx)(O,{settings:f})})]})]})},L=D,V=function(e){return(0,I.K4)({mask:{callback:e.onCancel},content:(0,R.jsx)(L,(0,i.Z)({},(0,i.Z)({show:!0},e))),animationClassName:"animate__animated animate__slideInUp animate__faster",style:{width:"310px",padding:0}})},Z=[],M=null,F=function(e,t){var n="flight_search_airtickets_miniapp";n="flight_search_airtickets_miniapp_pic",(0,w.nextTick)((function(){M&&((0,I.Mr)(M),M=null),M=V({appId:"100008344",businessSite:n,onConfirm:function(t){var n=t.token,r=t.rid,i=t.version;(0,m.jq)("confirm_captcha_modal"),(0,I.Mr)(M),M=null,e({token:n,rid:r,version:i})},onCancel:t})}))},B=function(e){(0,N.Z)(n,e);var t=(0,b.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e),(0,l.Z)((0,_.Z)(i),"skipCaptcha",void 0),i.skipCaptcha=r,i}return(0,u.Z)(n)}((0,T.Z)(Error));function U(e,t){var n=e.skipCaptcha,r=e.url;return new Promise((function(e,i){var o=function o(a){t(a).then((function(e){var t=null===e||[432,430,500].includes((null===e||void 0===e?void 0:e.statusCode)||0);return t?((0,m.jq)("response_check_is_spider",{code:null===e||void 0===e?void 0:e.statusCode,url:r}),Promise.reject(new Error("response_check_is_spider"))):e})).then(e).catch((function(e){return n||a||[404,502].includes(e.status)?i(new B("\u547d\u4e2d\u722c\u866b\u5207\u53cd\u590d\u6d17\u767d\u8d85\u51fa\u91cd\u8bd5\u6b21\u6570",n)):"AbortError"===e.name?((0,m.jq)("request_timeout"),i(new B("\u8d85\u65f6\u4e0d\u5904\u7406",n))):(Z.push(o),(0,m.jq)("show_captcha_modal",{url:r,err:e}),void F((function(e){var t=e.token,n=e.rid,r=e.version;Z.forEach((function(e){e&&e({token:t,rid:n,version:r})})),Z=[]}),(function(){i(new B("\u5173\u95ed\u53cd\u722c\u5f39\u7a97"))})))}))};o()}))}var q=15e3,H=5,G=function(){function e(t){(0,s.Z)(this,e),(0,l.Z)(this,"cache",void 0),(0,l.Z)(this,"timer",void 0),(0,l.Z)(this,"maxCache",void 0),this.cache=new Map,this.timer={},this.maxCache=(t||{}).maxCache||H}return(0,u.Z)(e,[{key:"get",value:function(e){return this.cache.get(JSON.stringify(e))}},{key:"set",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q;if(this.maxCache>0&&this.cache.size>=this.maxCache){var i=(0,c.Z)(this.cache.keys())[0];this.cache.delete(i),this.timer[i]&&clearTimeout(this.timer[i])}var o=JSON.stringify(e);this.cache.set(o,t),r>0&&(this.timer[o]=setTimeout((function(){n.delete(o)}),r))}},{key:"delete",value:function(e){return delete this.timer[e],this.cache.delete(e)}},{key:"clear",value:function(){return this.timer={},this.cache.clear()}}]),e}(),Y=new G({});function K(e,t){var n=e.url,r=e.noCache,i=e.param,o=e.ttl,a=n+(i?JSON.stringify(i):"");r&&Y.delete(a);var c=Y.get(a);if(c)return c;var s=t().catch((function(e){return Y.delete(a),Promise.reject(e)}));return r||Y.set(a,s,o),s}var W="noNeedToken";function z(e,t){return W}var Q,$,X=n(32180)["window"],J=["skipCaptcha","timeout","extension","auth","data"],ee="flt_app_session_transactionId",te=function(){function e(t){(0,s.Z)(this,e),(0,l.Z)(this,"extension",[]),(0,l.Z)(this,"option",void 0),this.option=t}return(0,u.Z)(e,[{key:"setExtension",value:function(e,t){this.extension=[{name:e,value:t}]}},{key:"getApiHeader",value:function(e){var t=e.extension,n=void 0===t?[]:t,r=e.auth,i=e.cver,o=(0,f.qW)();return{auth:r||(0,f.bW)()||"",cver:i||o||"",extension:[].concat((0,c.Z)(this.extension),(0,c.Z)(n),[{name:ee,value:Q}])}}},{key:"promise",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s,u,l,f,p,m,h,v,g,y,_,N,b,T,w,C,I,E,S;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.option,s=a.url,u=a.ttl,l=a.path,f=void 0===l?"/restapi/soa2":l,p=a.queryObject,m=a.dataformat,h=a.cver,v=(0,i.Z)((0,i.Z)({},this.option.param),n),g=v.skipCaptcha,y=void 0!==g&&g,_=v.timeout,N=v.extension,b=v.auth,T=v.data,w=(0,o.Z)(v,J),C=this.option.noCache||n.noCache,t.next=5,x((0,d.Nv)({url:"".concat(f).concat(s),query:(0,i.Z)({},p)}));case 5:return I=t.sent,E=(0,i.Z)((0,i.Z)({},w),{},{data:T,head:this.getApiHeader({extension:N,auth:b,cver:h,data:T})}),E.idlst&&$&&(E.idlst=[{idtype:2,ID:$}].concat((0,c.Z)(E.idlst))),E.params&&$&&(E.params=[{idtype:12,ID:$}].concat((0,c.Z)(E.params))),S=U({skipCaptcha:y,url:s},(function(t){return K({url:s,noCache:C,param:(0,i.Z)((0,i.Z)({},w),{},{data:T,captchaInfo:t}),ttl:u},(function(){return e.request({targetUrl:I,paramData:E,timeout:_,captchaInfo:t})}))})).then((function(e){var t=null===e||void 0===e?void 0:e.data;return m?m(t):t})),t.abrupt("return",S);case 11:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()}],[{key:"request",value:function(e){var t=e.targetUrl,n=e.paramData,r=e.timeout,i=e.captchaInfo;(0,m.eI)({url:t,request:n},void 0);var o=+new X.Date,a={"Content-Type":"application/json"};if(i){var c=i.token,s=i.rid,u=i.version;a["x-gate-captcha-token-pass"]=c,a["x-gate-captcha-token-token"]=c,a["x-gate-captcha-rid"]=s,a["x-gate-captcha-version"]=u}var l=z(n,t);return l!==W&&(l?(a["token"]=l,(0,m.bd)("hotel_capture_with_token")):(n.head.extension.push({name:"flt_h5fp_cs",value:"1"}),(0,m.bd)("hotel_capture_no_token"))),new Promise((function(e,i){(0,m.jq)("ajax_model_request",{targetUrl:t,paramData:n}),(0,p.W)({url:t,data:n,header:a,timeout:r,success:function(n){var r;(0,m.eI)({url:t,response:n},void 0),e(n);var i=n&&n.data,a=(null===i||void 0===i||null===(r=i.ResponseStatus)||void 0===r?void 0:r.Extension)||[],c=(a.find((function(e){return e.Id===ee}))||{}).Value;c&&(Q=c);var s=(null===i||void 0===i?void 0:i.Tranno)||(null===i||void 0===i?void 0:i.transactionNo);s&&($=s),(0,m.im)(t,n,o,{transactionId:Q||"",transactionNo:$||""})}}).catch((function(e){i(e||new Error("\u8bf7\u6c42\u5931\u8d25\u9ed8\u8ba4\u9519\u8bef"))}))}))}}]),e}();function ne(e){return new te(e)}},89494:function(e,t,n){"use strict";var r=n(79301),i=n(95308),o=n(22276),a=n(298),c=n(68277),s=n(57042),u=n(24460),l=n(79038),d=n(59772),f=n(21867),p=n(86066),m=n(62171),h=n(16921),v=n(38896),g=n(67316),y=n(5709),x=n(27201),_=n(54347),N=n(43752),b=n(57062),T=n(35877),w=n(92954),C=n(34869),I=["dataformat"],E=(0,h.Vj)().substr(1,36),S=function(e){(0,f.Z)(n,e);var t=(0,p.Z)(n);function n(e){var r=e.dataformat,i=(0,c.Z)(e,I);return(0,s.Z)(this,n),t.call(this,(0,a.Z)((0,a.Z)({},i),{},{dataformat:function(e){if(m.R.is(Function,r))return r(e);if(e&&e.data&&"ok"!==e.data)try{e.data=JSON.parse(e.data)}catch(e){e instanceof Error&&(0,N.jq)("soa_data_format_error",e)}return e}}))}return(0,u.Z)(n,[{key:"getApiHeader",value:function(e){var t,r,i=e.extension,a=void 0===i?[]:i,c=e.auth,s=e.cver,u=e.data,f=void 0,p=void 0,m="".concat((0,g.al)()||"",".").concat(u||""),h=(0,x.G)()||{},N=null===(t=(0,w.getCurrentInstance)())||void 0===t||null===(t=t.router)||void 0===t?void 0:t.params,T=null!==N&&void 0!==N&&N.hotelToken?decodeURIComponent(null===N||void 0===N?void 0:N.hotelToken):void 0,I=T?"101":_.cm.getAttr("channel","");return(0,l.Z)((0,d.Z)(n.prototype),"getApiHeader",this).call(this,{auth:c,cver:s,extension:[].concat((0,o.Z)(a),[{name:"Flt_SubChannel",value:I},{name:"mystery",value:(0,y.h)(m).substring(0,64)},{name:"sessionId",value:E},{name:"pageName",value:null===(r=(0,v.uN)())||void 0===r?void 0:r.name},{name:"aId",value:""+(h.allianceid||"")},{name:"sId",value:""+(h.sid||"")},{name:"ouId",value:""+(h.ouid||"")},{name:"sourceId",value:""+(h.sourceid||"")},{name:"exmktID",value:""+(h.exmktid||"")},{name:"env",value:(0,b.as)()||""},{name:"version",value:"2023.11.02"},{name:"platform.source",value:(0,C.C0)()||"H5"},(f||p)&&{name:"FLT_SSID",value:f},(f||p)&&{name:"FLT_BSSID",value:p},T&&{name:"hotelKeys",value:JSON.stringify([{hotelToken:T}])}]).filter(Boolean)})}},{key:"promise",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(0,a.Z)((0,a.Z)({},this.option.param),t),o=i.data,e.abrupt("return",(0,l.Z)((0,d.Z)(n.prototype),"promise",this).call(this,(0,a.Z)((0,a.Z)({},t),{},{data:JSON.stringify(o)})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(T.r);t["Z"]=function(e){return new S(e)}},99065:function(e,t,n){"use strict";n.d(t,{u$:function(){return i},jo:function(){return o},ug:function(){return a},Zn:function(){return c},KJ:function(){return s},VK:function(){return u}});n(62171);var r=n(35877),i=(0,r.Z)({noCache:!0,url:"/13515/queryUserInfo"}),o=((0,r.Z)({url:"/14420/7087/json/flightGloryDetail"}),(0,r.Z)({url:"/15095/flightSameCityDetect"})),a=(0,r.Z)({url:"/15037/flightClauseSearch"}),c=(0,r.Z)({url:"/17909/queryuserauthinfo"}),s=((0,r.Z)({ServiceCode:"13060501",url:"/17909/giftPackage"}),(0,r.Z)({ServiceCode:"13032701",url:"/15467/extendCoupon"}),(0,r.Z)({url:"/14047/PopupActivity"}),(0,r.Z)({url:"/14047/ReceiveCoupon"}),(0,r.Z)({url:"/14047/NewUserReceiveCoupon"}),(0,r.Z)({url:"/15756/bjjson/bookingquery"})),u=(0,r.Z)({url:"/15449/bjjson/QueryValidityOfCredential"})},24873:function(e,t,n){"use strict";n.d(t,{g9:function(){return i},OG:function(){return o},s8:function(){return a},G4:function(){return c},m_:function(){return s},K5:function(){return u},Zu:function(){return l},Ki:function(){return d},yG:function(){return f},yw:function(){return p},B:function(){return m},ZO:function(){return h},s5:function(){return v},Kt:function(){return g},yB:function(){return y}});n(62171);var r=n(89494),i=((0,r.Z)({url:"/19691/note",queryObject:{subEnv:"fat6"}}),(0,r.Z)({url:"/19691/xList",queryObject:{subEnv:"fat6"}})),o=(0,r.Z)({url:"/15490/flightXListSearch"}),a=(0,r.Z)({url:"/13956/getXProductDetailInfo"}),c=(0,r.Z)({noCache:!0,url:"/19691/orderCreate",queryObject:{subEnv:"fat6"}}),s=(0,r.Z)({noCache:!0,url:"/15756/bjjson/orderCreate",queryObject:{subEnv:"fat3"}}),u=(0,r.Z)({noCache:!0,url:"/15449/flightrepeatordercheck"}),l=(0,r.Z)({url:"/19691/verify"}),d=(0,r.Z)({url:"/19691/airportFuzzySearch"}),f=((0,r.Z)({ttl:36e5,url:"/19691/getRegion"}),(0,r.Z)({url:"/19691/reportMetric"}),(0,r.Z)({url:"/19691/report"})),p=(0,r.Z)({noCache:!0,url:"/19691/saveSharePassenger"}),m=((0,r.Z)({url:"/19691/getMemberInterests"}),(0,r.Z)({noCache:!0,url:"/19691/getCoupons"}),(0,r.Z)({url:"/19691/handleUserContact"})),h=(0,r.Z)({noCache:!0,url:"/19691/getHorn"}),v=((0,r.Z)({noCache:!0,url:"/17964/hornContent"}),(0,r.Z)({url:"/19691/getTravelCard"}),(0,r.Z)({url:"/19691/getConfig"})),g=((0,r.Z)({url:"/19691/PersonalizedTheme"}),(0,r.Z)({url:"/19691/specialRoutesSearch"}),(0,r.Z)({url:"/19691/getPassengerENName"}),(0,r.Z)({url:"/19691/getSwitch"})),y=((0,r.Z)({url:"/19691/orderComplete"}),(0,r.Z)({url:"/19691/completeInvoice"}),(0,r.Z)({url:"/19691/getHomeFlightInfo"}),(0,r.Z)({url:"/19691/subscribeToShare"}),(0,r.Z)({url:"/19691/getSharePassenger"}),(0,r.Z)({url:"/19691/getAvailableCardList"}))},65386:function(e,t,n){"use strict";n.d(t,{Mi:function(){return o}});n(62171);var r=n(90201),i=(0,r.createContext)({pageProps:{}});i.displayName="PageContext";i.Consumer;var o=i.Provider},63871:function(e,t,n){"use strict";n.d(t,{hk:function(){return m},aT:function(){return u},aN:function(){return h},Gm:function(){return f},Sl:function(){return p}});n(62171);var r=n(90201),i=(n(65386),n(90129)),o=n(9154),a=n(43752),c=n(67347),s=n(32180)["window"];function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5,u=(0,r.useState)((new s.Date).getTime()),l=(0,i.Z)(u,2),d=l[0],f=l[1],p=function(){var e=(new s.Date).getTime(),r=e-d;return r>n&&((0,a.jq)("page_detention_timeout",{desc:"\u9875\u9762\u505c\u7559\u8fc7\u957f",timeSpan:r}),(0,o.w)({content:"\u60a8\u5728\u5f53\u524d\u9875\u9762\u505c\u7559\u7684\u65f6\u95f4\u8fc7\u957f\uff0c\u8bf7\u91cd\u65b0\u67e5\u8be2\uff01",buttons:[{text:"\u77e5\u9053\u4e86",callback:function(){f((new s.Date).getTime()),t(),(0,c.Mr)()}}]}),!0)},m=function(){p()||e.apply(void 0,arguments)};return{callback:m}}var l=n(92954),d=n(66792);n(52296);function f(e,t){var n=(0,r.useState)(d.Z.get(e)||t),o=(0,i.Z)(n,2),a=o[0],c=o[1];return(0,r.useEffect)((function(){var t=!0;return d.Z.initPromise.then((function(){var n=d.Z.get(e);t&&n&&c(n)})),function(){t=!1}}),[e]),a}var p=function(e){var t=(0,r.useState)("loaded"===d.Z._status&&d.Z.getSwitcher(e)),n=(0,i.Z)(t,2),o=n[0],a=n[1];return(0,r.useEffect)((function(){var t=!0;return d.Z.initPromise.then((function(){t&&a(d.Z.getSwitcher(e))})),function(){t=!1}}),[e]),o},m=function(e,t){var n=(0,r.useState)(e),o=(0,i.Z)(n,2),a=o[0],c=o[1];return(0,r.useEffect)((function(){if(!(a<t)){var e=setInterval((function(){c(a-1)}),1e3);return function(){clearInterval(e)}}}),[a,t]),a};n(69121);function h(e){var t=(0,l.useRouter)(),n=t.params;return n}n(22213),n(14828);n(62461)},55172:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(298),i=n(57042),o=n(24460),a=n(81876),c=n(21867),s=n(86066),u=n(45023),l=n(62171),d=n(90201);function f(e){return function(t,n){var r=e.asyncReducers,i=Reflect.has(r,t);i||(e.asyncReducers[t]=n(e.getState()),e.replaceReducer(e.createReducer(e.asyncReducers)))}}function p(e){return function(t,n){var r=e.asyncReducers,i=Reflect.has(r,t);i||(e.asyncReducers[t]=n,e.replaceReducer(e.createReducer(e.asyncReducers)))}}function m(e){return{injectReducer:f(e),injectSlice:p(e)}}var h=n(2269);function v(e){var t=e.key,n=e.reducerCreator,f=e.reducer;return function(e){var p=function(d){(0,c.Z)(v,d);var p=(0,s.Z)(v);function v(){var e;(0,i.Z)(this,v);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=p.call.apply(p,[this].concat(n)),(0,u.Z)((0,a.Z)(e),"isInitialized",!1),e}return(0,o.Z)(v,[{key:"render",value:function(){var i=this;return(0,h.jsx)(l.ReactReduxContext.Consumer,{children:function(o){var a=o.store;if(!i.isInitialized){var c=m(a),s=c.injectReducer,u=c.injectSlice;n&&s(t,n),f&&u(t,f),i.isInitialized=!0}return(0,h.jsx)(e,(0,r.Z)({},i.props))}})}}]),v}(d.Component);return(0,u.Z)(p,"WrappedComponent",e),(0,u.Z)(p,"displayName","withReducer(".concat(e.displayName||e.name||"Component",")")),(0,l.hoistNonReactStatics)(p,e)}}},96756:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});n(62171);var r=n(32180)["window"],i=function(){return"undefined"!==typeof r?r:{location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},screen:{width:390,height:844},devicePixelRatio:1,addEventListener:function(){}}}();t["Z"]=i},56027:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(62171),i=function(e,t){var n=(0,r.dayjs)(e),i=(0,r.dayjs)(t);return i.diff(n,"years")}},14927:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});n(62171);var r=function(e){return!e||"string"!==typeof e&&"number"!==typeof e?"":String(e).substring(6,14).replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")}},46636:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(62171),i=function(){var e=(0,r.dayjs)().add(-100,"year"),t=e.format("YYYY-MM-DD"),n=e?t:"1922-01-01";return n}},14044:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(62171),i=n(14927),o=function(e){var t,n;return-1!==["ID","RESIDENCE"].indexOf((null===(t=e.document)||void 0===t?void 0:t.type)||"")&&null!==(n=e.document)&&void 0!==n&&n.no?(0,i.B)(e.document.no):e.birth?(0,r.dayjs)(e.birth).format("YYYY-MM-DD"):e.birth}},30847:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});n(62171);var r=function(e,t){var n=e.find((function(e){return e.etype===t}));return(null===n||void 0===n?void 0:n.econt)||""};t["Z"]=r},43762:function(e,t,n){"use strict";n.d(t,{k8:function(){return s},hs:function(){return u},LU:function(){return l},s2:function(){return d},ix:function(){return f},mi:function(){return m}});var r=n(62171),i=n(51491),o=n(66792),a=[{name:"\u51fa\u751f\u8bc1",typeNo:0,type:"BIRTH"},{name:"\u8eab\u4efd\u8bc1",typeNo:1,type:"ID"},{name:"\u62a4\u7167",typeNo:2,type:"PASSPORT"},{name:"\u5b66\u751f\u8bc1",typeNo:3,type:"STUDENT"},{name:"\u519b\u4eba\u8bc1",typeNo:4,type:"ARMY"},{name:"\u9a7e\u9a76\u8bc1",typeNo:6,type:"DRIVER"},{name:"\u56de\u4e61\u8bc1",typeNo:7,type:"HOME_VISIT_PERMIT"},{name:"\u53f0\u80de\u8bc1",typeNo:8,type:"TW_SIBLING"},{name:"\u6e2f\u6fb3\u901a\u884c\u8bc1",typeNo:10,type:"HK_MO"},{name:"\u56fd\u9645\u6d77\u5458\u8bc1",typeNo:11,type:"SAILOR"},{name:"\u5916\u56fd\u4eba\u6c38\u4e45\u5c45\u7559\u8bc1",typeNo:20,type:"FOREIGNER"},{name:"\u65c5\u884c\u8bc1",typeNo:21,type:"TRAVEL"},{name:"\u53f0\u6e7e\u901a\u884c\u8bc1",typeNo:22,type:"TW"},{name:"\u58eb\u5175\u8bc1",typeNo:23,type:"SOLDIER_ID"},{name:"\u4e34\u65f6\u8eab\u4efd\u8bc1",typeNo:24,type:"TEMPORARY_ID"},{name:"\u6237\u53e3\u8584",typeNo:25,type:"RESIDENCE"},{name:"\u8b66\u5b98\u8bc1",typeNo:26,type:"POLICE_OFFICER"},{name:"\u51fa\u751f\u8bc1\u660e",typeNo:27,type:"BIRTH_CERTIFICATE"},{name:"\u5916\u56fd\u4eba\u6c38\u4e45\u5c45\u7559\u8eab\u4efd\u8bc1",typeNo:28,type:"PERMANENT_RESIDENCE_ID"},{name:"\u6e2f\u6fb3\u53f0\u5c45\u6c11\u5c45\u4f4f\u8bc1",typeNo:32,type:"HK_MO_TW"},{name:"\u5176\u4ed6",typeNo:99,type:"OTHER"}];function c(){var e=o.Z.get("OrderCards",{});return e.cardlist||[]}function s(e){var t=c().find((function(t){return t.value===e}));return t?t.label:""}function u(e){return(a.find((function(t){return t.type===e}))||{}).typeNo}function l(e){return(a.find((function(t){return t.typeNo===e}))||{}).name}function d(e){return(a.find((function(t){return t.type===e}))||{}).name}function f(e){return(a.find((function(t){return t.typeNo===e}))||{}).type}var p=function(e,t){return e.isd&&t.isd||(null===e||void 0===e||!e.isd)&&(null===t||void 0===t||!t.isd)?t.wgt-e.wgt:Number(!(null===t||void 0===t||!t.isd))-Number(!(null===e||void 0===e||!e.isd))};function m(e){var t,n=e.clst,o=void 0===n?[]:n,a="PASSPORT",c=r.R.sort(p,o);return a=f((null===c||void 0===c||null===(t=c[0])||void 0===t?void 0:t.ctype)||2)||"PASSPORT",i.Iy.find((function(e){return e.type===a}))}},32620:function(e,t,n){"use strict";n.d(t,{WU:function(){return a},Ay:function(){return s},Ug:function(){return u},b6:function(){return l},F0:function(){return d},xF:function(){return f}});var r=n(62171),i=n(32180)["window"],o={0:"\u5468\u65e5",1:"\u5468\u4e00",2:"\u5468\u4e8c",3:"\u5468\u4e09",4:"\u5468\u56db",5:"\u5468\u4e94",6:"\u5468\u516d"},a=function(e,t){var n=(0,r.dayjs)(e),i=t.replace(/yyyy/,n.year());return i=i.replace(/MM/,"".concat(("0"+(n.month()+1)).slice(-2))),i=i.replace(/dd/,"".concat(("0"+n.date()).slice(-2))),i=i.replace(/EE/,o[n.day()]&&o[n&&n.day()].toString()),i},c=function(e,t){var n=+new i.Date(e)+864e5*t;return a(new i.Date(n),"yyyy-MM-dd")},s=function(e,t){t=t?t.replace(/-/g,""):a(new i.Date,"yyyyMMdd");var n=e&&e.replace(/-/g,""),r=-1,o=!1;if(n){var s=parseInt(t.substr(0,4)),u=parseInt(n.substr(0,4)),l=parseInt(t.substr(4)),d=parseInt(n.substr(4));r=s-u;var f=l-d;f<0&&r--;var p=n.substr(0,4)+"-"+n.substr(4,2)+"-"+n.substr(6),m=c(p,14);m=m.replace(/-/g,""),r<=1&&parseInt(t)<parseInt(m)&&(o=!0)}return{age:r,isSmallerThan14Days:o}},u=function(e,t,n){return(0,r.dayjs)(t).diff((0,r.dayjs)(e),n)},l=function(e,t){if(e&&t){var n=u(t,e,"seconds"),r=Math.floor(n/3600),i=Math.floor(n%3600/60),o=Math.floor(n%3600%60);return{hours:r,minutes:i,seconds:o}}return{hours:0,minutes:0,seconds:0}},d=function(e){return(0,r.dayjs)(e).isAfter((0,r.dayjs)("2019-12-31"),"date")&&(0,r.dayjs)(e).isBefore((0,r.dayjs)("2023-12-31"),"date")},f=function(e){if(!e)return"";var t=Math.floor(e/60)>0?Math.floor(e/60):0,n=e-60*t;return"".concat(t>0?t+"h":"").concat(n>0?n+"m":"")}},22275:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});n(62171);var r=n(32180)["window"],i=function(){return"undefined"===typeof r}},81789:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=n(79301),i=n(298),o=n(95308),a=n(57042),c=n(24460),s=n(81876),u=n(21867),l=n(86066),d=n(45023),f=n(62171),p=n(90201);n(26962);var m=n(1967),h=n(38896),v=n(60175),g=n(71515),y=n(16304),x=n(13441),_=n(65386),N=n(92954),b=n(52296),T=n(62461),w=n(16248),C=n(20844),I=n(69967),E={value:"DOMESTIC"},S=(0,f.createSlice)({name:"regionType",initialState:E,reducers:{changeRegionType:function(e,t){e.value=t.payload}}}),j=S.actions.changeRegionType,k=(S.reducer,n(57012)),A=n(24873),P=n(34390),R=n(17856),O=n(73067),D=n(48754),L=n(22213),V=n(64353),Z=n(68675),M=(n(57062),n(48091),n(54339)),F=(n(88431),n(17745),n(34093)),B=n(2269);function U(e){var t=e.needLogin,n=e.createNonUser,r=e.children,i=e.bootstrapped,o=(0,T.T)(),a=(0,N.useRouter)(),c=a.path,s=a.params,u=(0,T.C)(V.c7),l=(0,T.C)(L.QY),d=(0,p.useCallback)((function(){o((0,M.Xq)())}),[o]);(0,p.useEffect)((function(){C.Z.setPageName(c)}),[c]),(0,p.useEffect)((function(){(0,w.Zw)().catch((function(){t&&(0,w.fN)().then((function(){(0,N.redirectTo)({url:(0,Z.Nv)({url:c,query:s})})}))}))}),[c,s,t,n,d,u]),(0,p.useEffect)((function(){if(i&&(!l||(0,D.Uc)(s))){var e=(0,D.ZD)(s);if(!e)return void o((0,k.mI)(!0));var t=e,n=t.tripType,r=t.regionType,a=t.departure,c=t.arrival,u=t.passengerType,d=t.interCabin;o((0,I.mA)(n)),o(j(r)),o((0,P.b7)(a)),o((0,P.AO)(a.date)),o((0,R.FS)(c.date)),o((0,R.oC)(c)),o((0,P.jW)(a.cabin)),o((0,R.Pc)(c.cabin)),o((0,O.wl)(u)),o((0,F.dS)(d)),o((0,k.mI)(!0))}}),[s,o,i,l,c]);var f=(0,T.C)(L.wQ),m=(0,T.C)(L.wG);return(0,p.useEffect)((function(){var e=f.cityCode,t=f.regionType,n=f.cityName;A.Ki.promise({data:{key:e}}).then((function(r){var i=r.data,a=(i||[]).find((function(t){return"CITY"===t.poiType&&t.cityCode===e.toUpperCase()}));if(a){var c=a.isIntl?"INTERNATIONAL":"DOMESTIC";c!==t&&o((0,P.ro)(c)),n!==a.cityName&&o((0,P.Mb)(a.cityName))}})).catch((function(){}))}),[f,m,o]),(0,p.useEffect)((function(){var e=m.cityCode,t=m.regionType,n=m.cityName;A.Ki.promise({data:{key:e}}).then((function(r){var i=r.data,a=(i||[]).find((function(t){return"CITY"===t.poiType&&t.cityCode===e.toUpperCase()}));if(a){var c=a.isIntl?"INTERNATIONAL":"DOMESTIC";c!==t&&o((0,R.gN)(c)),n!==a.cityName&&o((0,R.nR)(a.cityName))}})).catch((function(){}))}),[f,m,o]),(0,B.jsx)(B.Fragment,{children:r})}var q=(0,p.memo)(U),H=n(69972),G=n(23987),Y=G.C,K=function(){return null},W=K,z=W,Q=function(e){var t=e.needLogin,n=e.createNonUser,r=e.children,i=(0,N.useRouter)(),o=i.params;return(0,p.useEffect)((function(){try{var e=o.abinfo;if(e){var t=JSON.parse(e)||{},n=t.abResult,r=t.abTracker;(0,b.$Y)({abResult:n,abTracker:r})}}catch(e){}})),(0,B.jsx)(f.Provider,{store:H.h,children:(0,B.jsx)(f.PersistGate,{loading:null,persistor:H.Dj,children:function(e){return(0,B.jsxs)(q,{needLogin:t,createNonUser:n,params:o,bootstrapped:e,children:[(0,B.jsx)(z,{}),r,(0,B.jsx)(Y,{})]})}})})},$=(0,p.memo)(Q),X=n(83674),J=n(34439),ee=n(43752),te=n(90983),ne=n(66792),re=function(e){ne.Z.initPromise.then((function(){var t,n=ne.Z.get("expTrace",{}),r=n.pageTrace,i=void 0===r?{}:r,o=n.expResult,a=void 0===o?{}:o,c=n.expTracker,s=void 0===c?{}:c,u=i["".concat("weapp",":").concat(e)]||i["".concat(e)]||[],l=(0,te.Z)(u);try{for(l.s();!(t=l.n()).done;){var d=t.value,f=a[d],p=s[d];(0,ee.$Y)({abResult:f,abTracker:p})}}catch(e){l.e(e)}finally{l.f()}}))};function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageId,n=e.needLogin,p=e.createNonUser;return function(e){return function(m){(0,u.Z)(N,m);var y=(0,l.Z)(N);function N(e){var n;return(0,a.Z)(this,N),n=y.call(this,e),(0,d.Z)((0,s.Z)(n),"setCurrentPageId",function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.props.pvIdAsync;case 2:o=e.sent,n.setState((0,i.Z)((0,i.Z)({},n.state),{},{currentPageId:t})),t&&(0,ee.cj)({pageId:t},o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.checkPerformance=!0,n.state={currentPageId:t},f.trackPage&&(0,f.trackPage)(),n}return(0,c.Z)(N,[{key:"onUnload",value:function(){var e=(0,h.I2)();(0,X.of)(e)}},{key:"componentDidShow",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,i,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.state.currentPageId,e.next=3,this.props.pvIdAsync;case 3:n=e.sent,i=(0,h.I2)(),(0,X.FB)(i),o=(0,x.kK)(i),v.ZP.emit(v.Ke,o),re(o),t&&(0,ee.cj)({pageId:t},n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentDidCatch",value:function(e){(0,J.u9)(e)}},{key:"render",value:function(){var t=this,r=this.props,o=r.pageProps,a=void 0===o?{}:o,c=r.routerType,s=r.customRoutes;return(0,B.jsxs)(_.Mi,{value:{pageProps:a,routerType:c,customRoutes:s},children:[(0,B.jsx)($,(0,i.Z)((0,i.Z)({},(0,i.Z)((0,i.Z)({},a),{},{needLogin:n,createNonUser:p})),{},{children:(0,B.jsx)(e,(0,i.Z)({},(0,i.Z)((0,i.Z)({},a),{},{setCurrentPageId:this.setCurrentPageId})))})),(0,B.jsx)(g.View,{className:"view-check",onAnimationEnd:function(){return t.viewReadyHandle()}})]})}}]),N}(m.Z)}}(0,y.Iy)(y.TC)},54491:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});n(62171);var r=function(e,t){if(e){var n=JSON.parse(e),r=null===n||void 0===n?void 0:n.find((function(e){return e.ctname===t}));return!r||1===Number(null===r||void 0===r?void 0:r.etype)}return!0}},47844:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});n(62171);function r(e){var t="";return e.forEach((function(n,r){0===n.maxAge||999===n.maxAge?(n.maxAge=999,t+=n.minAge+"\u5c81\u53ca\u4ee5\u4e0a"):0===n.minAge?t+=n.maxAge-1+"\u5c81\u53ca\u4ee5\u4e0b":t+=n.minAge+"-"+(n.maxAge-1)+"\u5c81",t+=r===e.length-1?"":"\u3001"})),t}},50783:function(e,t,n){"use strict";n.d(t,{iA:function(){return u}});var r=n(45023),i=n(298),o=n(90129),a=n(62171),c=function(e){return"[object Object]"===Object.prototype.toString.call(e)},s=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1};return function(n){var a=e(t);return Array.isArray(n)?n.map((function(e){return a(e)})):c(n)?Object.entries(n).reduce((function(e,n){var c=(0,o.Z)(n,2),s=c[0],u=c[1];return t(u)?e:(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},s,a(u)))}),{}):n}},u=s(a.R.either(a.R.isNil,a.R.isEmpty))},25457:function(e,t,n){"use strict";var r=n(62171),i=n(66792),o="\u8bf7\u586b\u5199\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801",a="[\xb7]",c={ID:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"no",field:"document.no",type:"DOCUMENT_ID"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0}],PASSPORT:[{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"},{name:"region",field:"region.name",type:"REGION"}],TW_SIBLING:[{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],HOME_VISIT_PERMIT:[{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],TW:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],HK_MO:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],ARMY:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_ARMY"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],RESIDENCE:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_ID"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"gender",field:"gender",type:"GENDER"}],BIRTH_CERTIFICATE:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_BIRTH_CERTIFICATE"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"birth",field:"birth",type:"BIRTH_CERTIFICATE"},{name:"gender",field:"gender",type:"GENDER"},{name:"region",field:"region.name",type:"REGION"}],HK_MO_TW:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"}],PERMANENT_RESIDENCE_ID:[{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"gender",field:"gender",type:"GENDER"},{name:"birth",field:"birth",type:"DATE"},{name:"region",field:"region.name",type:"REGION"}],OTHER:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE",isOptional:!0},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"},{name:"region",field:"region.name",type:"REGION"}]},s={ID:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"no",field:"document.no",type:"DOCUMENT_ID"},{name:"mobile",field:"phone.mobile",type:"MOBILE"}],PASSPORT:[{name:"chineseName",field:"name.chineseName",type:"NAME",isOptional:!0},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"},{name:"region",field:"region.name",type:"REGION"}],TW_SIBLING:[{name:"chineseName",field:"name.chineseName",type:"NAME",isOptional:!0},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],HOME_VISIT_PERMIT:[{name:"chineseName",field:"name.chineseName",type:"NAME",isOptional:!0},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],TW:[{name:"chineseName",field:"name.chineseName",type:"NAME",isOptional:!0},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],HK_MO:[{name:"chineseName",field:"name.chineseName",type:"NAME",isOptional:!0},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],ARMY:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_ARMY"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"}],RESIDENCE:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_ID"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"gender",field:"gender",type:"GENDER"}],BIRTH_CERTIFICATE:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_BIRTH_CERTIFICATE"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"birth",field:"birth",type:"BIRTH_CERTIFICATE"},{name:"gender",field:"gender",type:"GENDER"},{name:"region",field:"region.name",type:"REGION"}],HK_MO_TW:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"}],PERMANENT_RESIDENCE_ID:[{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"gender",field:"gender",type:"GENDER"},{name:"birth",field:"birth",type:"DATE"},{name:"region",field:"region.name",type:"REGION"}],OTHER:[{name:"chineseName",field:"name.chineseName",type:"NAME"},{name:"surName",field:"name.surName",type:"SUR_NAME"},{name:"givenName",field:"name.givenName",type:"GIVEN_NAME"},{name:"no",field:"document.no",type:"DOCUMENT_FOREIGNER"},{name:"mobile",field:"phone.mobile",type:"MOBILE"},{name:"expired",field:"document.expired",type:"EXPIRED_DATE"},{name:"birth",field:"birth",type:"DATE"},{name:"gender",field:"gender",type:"GENDER"},{name:"region",field:"region.name",type:"REGION"}]};t["Z"]={VALIDATOR:{_trimTarget:function(e){return"string"===typeof e&&e.trim&&e.trim()||e},_regMatch:function(e,t,n){return e.test(t)?"":n},_OTHER:function(e){if(e=this._trimTarget(e),!e)return"\u8bf7\u586b\u5199\u8bc1\u4ef6\u53f7\u7801";var t=20;return e.length>t?"\u8bc1\u4ef6\u53f7\u7801\u4e0d\u53ef\u591a\u4e8e20\u4f4d":this._regMatch(/^[A-Za-z0-9]+$/g,e,"\u8bc1\u4ef6\u53f7\u7801\u53ea\u80fd\u662f\u82f1\u6587\u6216\u6570\u5b57")},MOBILE:function(e,t){var n=t.regionCode;if(e=this._trimTarget(e),!e)return"\u8bf7\u586b\u5199\u4e58\u673a\u4eba\u624b\u673a\u53f7\uff0c\u63a5\u6536\u822a\u73ed\u52a8\u6001\u4fe1\u606f";switch(n||(n="86",console.error("regionCode is Empty")),"+".concat(n)){case"+86":return r.R.test(/^(1)\d{10}$/,e)?"":o;case"+852":return r.R.test(/^\d{8}$/,e)?"":o;case"+886":return r.R.test(/^\d{9}$/,e)?"":o;default:return r.R.test(/^\d{6,15}/,e)?"":o}},NAME:function(e){if(e=this._trimTarget(e),!e)return"\u8bf7\u586b\u5199\u4e2d\u6587\u59d3\u540d";if(e.length>26)return"\u4e2d\u6587\u59d3\u540d\u603b\u957f\u5ea6\u5fc5\u987b\u5c11\u4e8e\u7b49\u4e8e26\u4e2a\u5b57\u7b26\uff0c\u8bf7\u4f7f\u7528\u7f29\u5199";var t=i.Z.get("DotSymbolSwitch",{}),n=t.activeTaro,r=/[\uff0c\u3002\uff1f\uff01\u3001\uff1a\uff1b\u201c\u201d\uff08\uff09\u300a\u300b{}\u3010\u3011~\u2014\u2014\uff03\uff0a|\u3016\u3017\u300e\u300f\u3014\u3015\u300c\u300d\uffe5\u2026,.?;':"{}[\]/!~@#$%^&*()\-\\`_+=><0-9]/,o=/[\uff0c\u3002\uff1f\uff01\u3001\uff1a\uff1b\u201c\u201d\uff08\uff09\u300a\u300b{}\u3010\u3011~\u2014\u2014\xb7\uff03\uff0a|\u3016\u3017\u300e\u300f\u3014\u3015\u300c\u300d\uffe5\u2026,.?;':"{}[\]/!~@#$%^&*()\-\\`_+=><0-9]/,c=n?r:o;return/^[A-Za-z]+/.test(e)?"\u4e2d\u6587\u59d3\u540d\u7684\u7b2c\u4e00\u4e2a\u5b57\u5fc5\u987b\u4e3a\u6c49\u5b57":c.test(e)?"\u4e2d\u6587\u59d3\u540d\u65e0\u9700\u8f93\u5165\u7279\u6b8a\u7b26\u53f7\uff0c\u8bf7\u76f4\u63a5\u53bb\u6389":/[^\u4e00-\u9fffa-zA-Z\uff0c\u3002\uff1f\uff01\u3001\uff1a\uff1b\u201c\u201d\uff08\uff09 \u300a\u300b{}\u3010\u3011~\u2014\u2014\xb7\uff03\uff0a|\u3016\u3017\u300e\u300f\u3014\u3015\u300c\u300d\uffe5\u2026,.?;':"{}[\]/!~@#$%^&*()\-\\`_+=><0-9]/.test(e)?"\u59d3\u540d\u542b\u751f\u50fb\u5b57\uff0c\u8bf7\u7528\u62fc\u97f3\u4ee3\u66ff\u751f\u50fb\u5b57\uff0c\u4f8b\uff1a\u201c\u738b\u4729\u201d\u53ef\u8f93\u5165\u201c\u738byan\u201d":/[a-zA-Z]+[\u4e00-\u9fff]/.test(e)?"\u62fc\u97f3\u4e4b\u540e\u4e0d\u53ef\u518d\u8f93\u5165\u6c49\u5b57\uff0c\u8bf7\u7528\u62fc\u97f3\u4ee3\u66ff\uff0c\u4f8b\uff1a\u201c\u738byanjun\u201d":/^[\u4e00-\u9fff]+[a-zA-Z]+$/.test(e)?void 0:/^[\u4E00-\u9FA5]{2,15}$/.test(e)?"":new RegExp("".concat(a)).test(e)?new RegExp("".concat(a,"{2}")).test(e)?"\u59d3\u540d\u4e0d\u80fd\u51fa\u73b0\u8fde\u7eed\u7684\u201c\xb7\u201d\u7b26\u53f7":new RegExp("".concat(a,"$")).test(e)?"\u59d3\u540d\u672b\u4f4d\u4e0d\u80fd\u51fa\u73b0\u201c\xb7\u201d\u7b26\u53f7":new RegExp("^".concat(a)).test(e)?"\u59d3\u540d\u9996\u4f4d\u4e0d\u80fd\u51fa\u73b0\u201c\xb7\u201d\u7b26\u53f7":void 0:"\u59d3\u540d\u53ef\u80fd\u6709\u8bef\uff0c\u8bf7\u4e0e\u4e58\u673a\u8bc1\u4ef6\u59d3\u540d\u4e00\u81f4"},SUR_NAME:function(e){return e=this._trimTarget(e),e?e.length>26?"\u82f1\u6587\u59d3\u957f\u5ea6\u5fc5\u987b\u5c11\u4e8e\u7b49\u4e8e26\u4e2a\u5b57\u7b26\uff0c\u8bf7\u4f7f\u7528\u7f29\u5199":/[\uff0c\u3002\uff1f\uff01\u3001\uff1a\uff1b\u201c\u201d\uff08\uff09\u300a\u300b{}\u3010\u3011~\u2014\u2014\xb7\uff03\uff0a|\u3016\u3017\u300e\u300f\u3014\u3015\u300c\u300d\uffe5\u2026,.?;':"{}[\]/!~@#$%^&*()\-\\`_+=><0-9]/.test(e)?"\u59d3(\u62fc\u97f3)\u65e0\u9700\u8f93\u5165\u7279\u6b8a\u7b26\u53f7\uff0c\u8bf7\u76f4\u63a5\u53bb\u6389":this._regMatch(/^\s*[a-z]+\s*$/i,e,"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u82f1\u6587\u59d3"):"\u8bf7\u586b\u5199\u82f1\u6587\u59d3"},GIVEN_NAME:function(e){return e=this._trimTarget(e),e?e.length>26?"\u82f1\u6587\u540d\u957f\u5ea6\u5fc5\u987b\u5c11\u4e8e\u7b49\u4e8e26\u4e2a\u5b57\u7b26\uff0c\u8bf7\u4f7f\u7528\u7f29\u5199":/[\uff0c\u3002\uff1f\uff01\u3001\uff1a\uff1b\u201c\u201d\uff08\uff09\u300a\u300b{}\u3010\u3011~\u2014\u2014\xb7\uff03\uff0a|\u3016\u3017\u300e\u300f\u3014\u3015\u300c\u300d\uffe5\u2026,.?;':"{}[\]/!~@#$%^&*()\-\\`_+=><0-9]/.test(e)?"\u540d(\u62fc\u97f3)\u4e0d\u80fd\u6709\u7279\u6b8a\u7b26\u53f7\uff0c\u8bf7\u7528\u7a7a\u683c\u4ee3\u66ff":this._regMatch(/^[a-z\s]*$/i,e,"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u82f1\u6587\u540d"):"\u8bf7\u586b\u5199\u82f1\u6587\u540d"},BIRTH_CERTIFICATE:function(e){return e=this._trimTarget(e),e?"":"\u8bf7\u9009\u62e9\u51fa\u751f\u65e5\u671f"},DOCUMENT_ID:function(e){if(e=this._trimTarget(e),!e)return"\u8bf7\u586b\u5199\u8bc1\u4ef6\u53f7\u7801";var t=e.toLowerCase().match(/\w/g);if(!e.match(/^\d{17}[\dx]$/i))return"\u8bf7\u586b\u5199\u6b63\u786e\u768418\u4f4d\u8eab\u4efd\u8bc1\u53f7\u7801";for(var n=0,r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=0;i<17;i++)n+=parseInt(t[i],10)*r[i];if("10x98765432".charAt(n%11)!==t[17])return"\u8bf7\u586b\u5199\u6b63\u786e\u768418\u4f4d\u8eab\u4efd\u8bc1\u53f7\u7801";var o=!!e.replace(/^\d{6}(\d{4})(\d{2})(\d{2}).+$/,"$1-$2-$3");return o?"":"\u8bf7\u586b\u5199\u6b63\u786e\u768418\u4f4d\u8eab\u4efd\u8bc1\u53f7\u7801"},DOCUMENT_FOREIGNER:function(e){if(e=this._trimTarget(e),!e)return"\u8bf7\u586b\u5199\u8bc1\u4ef6\u53f7\u7801";var t=20;return e.length>t?"\u8bc1\u4ef6\u53f7\u7801\u4e0d\u53ef\u591a\u4e8e20\u4f4d":this._regMatch(/^[A-Za-z0-9]+$/g,e,"\u8bc1\u4ef6\u53f7\u7801\u53ea\u80fd\u662f\u82f1\u6587\u6216\u6570\u5b57")},DOCUMENT_ARMY:function(e){if(e=this._trimTarget(e),!e)return"\u8bf7\u586b\u5199\u8bc1\u4ef6\u53f7\u7801";var t=20;return e.length>t?"\u8bc1\u4ef6\u53f7\u7801\u4e0d\u53ef\u591a\u4e8e20\u4f4d":this._regMatch(/^\d+$/g,e,"\u519b\u4eba\u8bc1\u4ef6\u53f7\u4ec5\u9700\u586b\u5199\u6570\u5b57\u90e8\u5206")},DOCUMENT_BIRTH_CERTIFICATE:function(e){return this._OTHER(e)},SUR_GIVEN_LENGTH:function(e,t){var n=e&&e.length||0,r=t&&t.length||0;return n+r>26?"\u82f1\u6587\u59d3\u540d\u603b\u957f\u5ea6\u5fc5\u987b\u5c11\u4e8e\u7b49\u4e8e26\u4e2a\u5b57\u7b26\uff0c\u8bf7\u4f7f\u7528\u7f29\u5199":""},DATE:function(e){return e?"":"\u8bf7\u9009\u62e9\u51fa\u751f\u65e5\u671f"},EXPIRED_DATE:function(e){return e?"":"\u8bf7\u9009\u62e9\u8bc1\u4ef6\u6709\u6548\u671f"},EMAIL:function(e,t){var n=t||{},r=n.isOptional,i=e&&e.trim();return i&&!i.match(/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/i)||!r&&!i?"\u8bf7\u586b\u5199\u6b63\u786e\u7684E-mail\u5730\u5740":""},CITY:function(e){return e?"":"\u8bf7\u9009\u62e9\u5728\u7f8e\u5c45\u4f4f\u5730\u6240\u5728\u5dde"},LOCATION:function(e){return e?/^[0-9a-zA-Z\s]{1,35}$/.test(e)?"":"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u8be6\u7ec6\u5730\u5740\uff0c\u4ec5\u652f\u6301\u6570\u5b57\u53ca\u82f1\u6587":"\u8bf7\u586b\u5199\u5728\u7f8e\u5c45\u4f4f\u8be6\u7ec6\u5730\u5740"},ZIPCODE:function(e){return e?/^[0-9]{1,50}$/.test(e)?"":"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u90ae\u653f\u7f16\u7801\uff0c\u4ec5\u652f\u6301\u6570\u5b57":"\u8bf7\u586b\u5199\u90ae\u653f\u7f16\u7801"},GENDER:function(e){return e?"":"\u8bf7\u9009\u62e9\u6027\u522b"},REGION:function(e){return e?"":"\u8bf7\u9009\u62e9\u56fd\u7c4d"}},getSetting:function(e){return e?s:c},getValidator:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getSetting(n);if(e){var i=r[e].filter((function(e){return e.name===t}));return i.length?i[0]:void 0}},getField:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getSetting(n);if(e)return r[e].filter((function(e){return e.name===t}))[0].field}}},42587:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(298),i=(n(62171),function(e){return function(t){return new Promise((function(n,i){try{var o=t||{},a=o.success,c=o.fail,s=o.complete;e((0,r.Z)((0,r.Z)({},t),{},{success:function(e){n(e),a&&a(e)},complete:function(e){s&&s(e)},fail:function(e){i(e),c&&c(e)}}))}catch(e){i(e),fail&&fail(e)}}))}});t["Z"]=i},68675:function(e,t,n){"use strict";n.d(t,{Qc:function(){return u},en:function(){return d},Nv:function(){return f}});var r=n(298),i=n(90129),o=n(62171),a=o.R.compose(o.R.head,o.R.split("?")),c=o.R.compose(o.R.head,o.R.tail,o.R.split("?"));function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.R.startsWith("?",e)&&(e=o.R.tail(e)),o.R.compose(o.R.fromPairs,o.R.map(o.R.split("=")),o.R.filter((function(e){return!o.R.isEmpty(e)})),o.R.split("&"))(e)}var u=s,l=function(e,t){var n,r=null!==(n=null===t||void 0===t?void 0:t.encode)&&void 0!==n&&n;return o.R.compose(o.R.join("&"),o.R.map(o.R.join("=")),o.R.when((function(){return r}),o.R.map(o.R.map(encodeURIComponent))),o.R.filter((function(e){var t=(0,i.Z)(e,2),n=(t[0],t[1]);return!o.R.isEmpty(n)&&!o.R.isNil(n)})),o.R.toPairs)(e)};function d(e){return{url:a(e),query:s(c(e))}}var f=function(e,t){var n=e.url,i=e.query;return o.R.compose(o.R.join("?"),o.R.filter((function(e){return!o.R.isEmpty(e)})))([n,l((0,r.Z)({},i),t)])}},9154:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(298),i=(n(62171),n(67347)),o={title:"",content:"",buttons:[{text:"\u77e5\u9053\u4e86"}]},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"===typeof e?(0,r.Z)((0,r.Z)({},o),{},{content:e}):(0,r.Z)((0,r.Z)({},o),e),n=t.buttons;n[1]&&(n[1].class="primary"),(0,i.K4)((0,r.Z)({className:"taro-show-alert"},t))}},54347:function(e,t,n){"use strict";n.d(t,{NQ:function(){return i},cm:function(){return o}});n(62171);var r=n(49386),i=(new r.ZP({version:"2020-05-29",key:function(){return"fioReadStore"},expires:function(){return 1*r.v0}}),new r.ZP({version:"2020-05-29",key:function(){return"showedFIOLayerStore"},expires:function(){return 1*r.v0}}),new r.ZP({version:"2022-11-24",key:function(){return"userLocation"},expires:function(){return 2*r.v0}}),new r.ZP({version:"2020-05-29",key:function(){return"contactinfo"},expires:function(){return 1*r.v0}})),o=(new r.ZP({version:"2020-05-29",key:function(){return"cityData"},expires:function(){return 1*r.v0},default:function(){}}),new r.ZP({version:"2022-08-29",key:function(){return"cityHistory"},expires:function(){return 1*r.v0}}),new r.ZP({version:"2020-10-14",key:function(){return"searchContext"},expires:function(){return 7*r.v0},default:function(){}}),new r.ZP({version:"2022-04-08",key:function(){return"FLIGHT_H5ST_DOMESTIC_SUBCHANNEL_CACHE"},expires:function(){return 30*r.Z7},default:function(){return{}}}));new r.ZP({version:"2022-06-01",key:function(){return"searchCondition"},expires:function(){return 7*r.v0},default:function(){}})},49386:function(e,t,n){"use strict";n.d(t,{Z7:function(){return l},v0:function(){return f}});var r=n(57042),i=n(24460),o=n(45023),a=(n(62171),n(9147)),c=n(32180)["window"],s="2020-11-18",u="FLT_STOREGE_",l=6e4,d=60*l,f=24*d,p=function(){function e(t){(0,r.Z)(this,e),(0,o.Z)(this,"opt",void 0),this.opt=t}return(0,i.Z)(e,[{key:"getKey",value:function(){return u+this.opt.key()}},{key:"getCacheVersion",value:function(){return s+this.opt.version}},{key:"get",value:function(){var t=(0,a.qu)(this.getKey()),n=this.opt.default&&this.opt.default();if(!t)return n;try{t=JSON.parse(t)}catch(e){return n}return e.getTime()-t.timeStamp>this.opt.expires()||t.version&&t.version!==this.getCacheVersion()?(this.remove(),n):t.data}},{key:"set",value:function(t){(0,a.Fj)(this.getKey(),JSON.stringify({data:t,version:this.getCacheVersion(),timeStamp:e.getTime()}))}},{key:"setAttr",value:function(e,t){var n=this.get()||{};n[e]=t,this.set(n)}},{key:"getAttr",value:function(e,t){var n=this.get()||{};return n[e]||t}},{key:"modify",value:function(e){this.set(e(this.get()))}},{key:"remove",value:function(){(0,a.hq)(this.getKey())}}],[{key:"getTime",value:function(){return(new c.Date).getTime()}}]),e}();t["ZP"]=p},10546:function(e,t,n){"use strict";n.d(t,{Hj:function(){return d}});var r,i=n(298),o=(n(62171),n(43752)),a=n(96756),c=n(32180)["window"],s=a.Z.startTime||(new c.Date).getTime(),u=function(){var e=(new c.Date).getTime();r={start:e,hasLogin:!0}},l=function(e){r=(0,i.Z)((0,i.Z)({},r),e)},d=function(e){var t,n=(new c.Date).getTime(),a=e.key,u=void 0===a?"":a,l=e.name,d=void 0===l?"":l,f=e.pageId,p=void 0===f?"":f,m=e.timestamp||(null===(t=r)||void 0===t?void 0:t.start)||s;if(m){var h=n-m,v=(0,i.Z)((0,i.Z)({spend:h,isRefresh:!r},r),{},{key:u,name:d,pageId:p});r=void 0,s=void 0,(0,o.ff)("_flight_tinyapp",{speed:JSON.stringify(v)}),(0,o.A9)("_flight_tinyapp_spend",v,h)}};t["ZP"]={add:u,addInfo:l,report:d}},16921:function(e,t,n){"use strict";n.d(t,{Vj:function(){return o},i9:function(){return a},t8:function(){return c},U2:function(){return s},If:function(){return l},NJ:function(){return d}});var r=n(62171),i=(n(92954),n(33943));function o(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}var a=function(e){var t=[],n=(0,r.handleHighlightByRegex)(/\[O\](.*?)\[\/O\]/gm,3,-4)(e);return(null===n||void 0===n?void 0:n.length)&&n.forEach((function(e){var n=e.active,i=e.text,o=(0,r.handleHighlightByRegex)(/\[B\](.*?)\[\/B\]/gm,3,-4)(i);(null===o||void 0===o?void 0:o.length)&&o.forEach((function(e){var r=e.active,i=e.text;t.push({text:i,hightLight:n,bold:r})}))})),t};function c(e,t,n){for(var r=e,i=t.split("."),o=i.length,a=0;a<o-1;a++){var c=i[a];r[c]||(r[c]={}),r=r[c]}r[i[o-1]]=n}var s=function(e,t){return r.R.path(t.split("."),e)};function u(){var e=(0,i.Mq)(),t=e.globalData,n=(0,i.So)();return n.statusBarHeight+t.titleBarHeight}function l(){return(0,i.So)().screenHeight-u()}var d=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>=0&&r<=128?t++:t+=2}return t}},12265:function(e,t,n){"use strict";n.d(t,{g:function(){return a},T:function(){return c}});n(62171),n(90201);var r=n(71515),i={"international-detail-loading":"InternationalLoading-module_AZ0ol","loading-section":"InternationalLoading-module_Kp7Y3","loading-row":"InternationalLoading-module_PZM8h","justify-between":"InternationalLoading-module_jpWPh","justify-start":"InternationalLoading-module_XTO9r","loading-column":"InternationalLoading-module_gqcFh","align-start":"InternationalLoading-module_znZO3","loading-1":"InternationalLoading-module_t1dIN","loading-2":"InternationalLoading-module_j8HyR","loading-3":"InternationalLoading-module_JHaiO","loading-block":"InternationalLoading-module_XIJRH",loadingBlink:"InternationalLoading-module_cDPpu","loading-block-1":"InternationalLoading-module_CX1CY","loading-block-2":"InternationalLoading-module_Ak9NB","loading-block-3":"InternationalLoading-module_Espr2","loading-block-4":"InternationalLoading-module_aiZCs","loading-block-5":"InternationalLoading-module_Ut2AH","loading-block-6":"InternationalLoading-module_NQzoR","loading-block-7":"InternationalLoading-module_D8nzU","loading-block-8":"InternationalLoading-module_r8aeq","loading-block-9":"InternationalLoading-module_laen6","loading-block-10":"InternationalLoading-module_gYH18","international-passenger-loading":"InternationalLoading-module_xl_cB"},o=n(2269),a=function(){return(0,o.jsx)(r.View,{className:i["international-detail-loading"],style:{marginLeft:0,marginRight:0},children:(0,o.jsxs)(r.View,{className:i["loading-section"],children:[(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-1"])}),(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-2"])}),(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-3"])})]})})},c=function(){return(0,o.jsx)(r.View,{className:i["international-passenger-loading"],style:{marginLeft:0,marginRight:0},children:(0,o.jsxs)(r.View,{className:i["loading-section"],children:[(0,o.jsxs)(r.View,{className:"".concat(i["loading-row"]," ").concat(i["justify-between"]," ").concat(i["loading-1"]),children:[(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-4"])}),(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-5"])})]}),(0,o.jsxs)(r.View,{className:"".concat(i["loading-row"]," ").concat(i["justify-between"]," ").concat(i["loading-2"]),children:[(0,o.jsxs)(r.View,{className:"".concat(i["loading-row"]," ").concat(i["justify-start"]),children:[(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-6"])}),(0,o.jsxs)(r.View,{className:"".concat(i["loading-column"]," ").concat(i["align-start"]," ").concat(i["loading-3"]),children:[(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-7"])}),(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-8"])})]})]}),(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-6"])})]}),(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-9"])}),(0,o.jsx)(r.View,{className:"".concat(i["loading-block"]," ").concat(i["loading-block-10"])})]})})}},36903:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(62171),i=n(45023),o=(n(90201),n(71515)),a={btn:"button-module_bqw3f",blue:"button-module_GDTxP",disable:"button-module_hq_9P"},c=n(2269),s=function(e){var t=e.type,n=void 0===t?"primary":t,s=e.className,u=e.disable,l=e.children,d=e.onClick,f=e.ubtValue,p=void 0===f?"":f;return(0,c.jsx)(o.View,{onClick:(0,r.trackFn)(p+"Button",d),className:(0,r.classnames)(a.btn,a[n],s,(0,i.Z)({},a.disable,u)),ubtKey:p+"Button",children:l})}},69191:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(298),i=n(62171),o=(n(90201),n(63871)),a=n(45023),c=n(71515),s=n(61659),u=n(43752),l=n(17745),d={exposure:function(e,t){return{ubtKeyName:"s_flt_miniapp_homeshow",speed:"s_flt_miniapp_home_".concat(e),data:t}},click:function(e,t){return(0,u.ff)("c_flt_miniapp_homeclick",(0,r.Z)({speed:"c_flt_miniapp_home_".concat(e)},t))}},f={"cService-container":"CService-module_G4P9J","margin-bottom":"CService-module_T3XcT","service-container":"CService-module_TnVy_","service-icon":"CService-module_zhzJn","c-header":"CService-module_zmn5z","c-symbol":"CService-module_vgliN","service-box":"CService-module_MsoMR","service-box-row":"CService-module_Mxq6O","service-assurance":"CService-module_ctUcU","last-broaden":"CService-module_TE2Bc","service-title":"CService-module_oAPxf","t-symbol":"CService-module_TC85u"},p=n(2269),m=function(e){var t=e.pageName,n=e.secondPromote,r=e.serviceAssuranceItems,o=function(e,i,o){(0,u.jq)(i,{pageName:t,index:o}),n?d.click("guarantee"):(0,u.jq)("c_flt_tinyapp_home_guarantee");var a=r&&r.jumpUrl;if(a){var c="".concat(a).concat("&showback=false").concat(e);return c&&(0,l.G)(c)}};if(r&&0===Object.keys(r).length)return null;var m=null===r||void 0===r?void 0:r.detail;if(null!==m&&void 0!==m&&m.length){var h,v=m.slice(0,3),g=m.slice(3);return(0,p.jsx)(c.View,{className:(0,i.classnames)("autoExpose",f["cService-container"],(0,a.Z)({},f["margin-bottom"],"\u586b\u5199\u9875"===t)),"data-expose":n?d.exposure("guarantee"):{speed:"s_flt_tinyapp_home_guarantee"},children:(0,p.jsxs)(c.View,{className:f["service-container"],children:[(0,p.jsx)(c.View,{className:(0,i.classnames)(f["service-icon"],f["c-header"]),children:(0,p.jsx)(s.Z,{className:f["c-symbol"],src:"".concat((null===r||void 0===r||null===(h=r.title)||void 0===h?void 0:h.iconUrl)||"","blue.png"),lazyLoad:!0})}),(0,p.jsxs)(c.View,{className:f["service-box"],children:[(0,p.jsx)(c.View,{className:f["service-box-row"],children:v&&v.map((function(e,t){return(0,p.jsx)(c.View,{className:f["service-assurance"],onClick:(0,i.trackFn)(t+"--fd230",(function(){return o(e.anchorPoint,e.speed,t)})),"data-testid":"on-click-service-".concat(t),children:(0,p.jsxs)(c.View,{className:f["service-title"],children:[(0,p.jsx)(s.Z,{className:f["t-symbol"],src:"".concat(e.iconUrl,"gray.png"),lazyLoad:!0}),e.text]})},t)}))}),(0,p.jsx)(c.View,{className:f["service-box-row"],children:g&&g.map((function(e,t){return(0,p.jsx)(c.View,{className:(0,i.classnames)(f["service-assurance"],(0,a.Z)({},f["last-broaden"],t===g.length-1)),onClick:(0,i.trackFn)(t+"--3781c",(function(){return o(e.anchorPoint,e.speed,t)})),"data-testid":"on-click-service-".concat(v.length+t),children:(0,p.jsxs)(c.View,{className:f["service-title"],children:[(0,p.jsx)(s.Z,{className:f["t-symbol"],src:"".concat(e.iconUrl,"gray.png")}),e.text]})},t)}))})]})]})})}return null},h=function(e){var t=(0,o.Gm)("serviceAssuranceItems",{});return(0,p.jsx)(m,(0,r.Z)({},(0,r.Z)((0,r.Z)({},e),{},{serviceAssuranceItems:t})))}},33037:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(62171),i=(n(90201),n(71515)),o=n(40459),a=n(81369),c={"document-wrap":"CardTypePicker-module_Xm5kY","document-type":"CardTypePicker-module_xGB3X","document-desc":"CardTypePicker-module_aDjeo","document-no":"CardTypePicker-module_PX569",active:"CardTypePicker-module_NFIcg",moreType:"CardTypePicker-module_KV9wi",moreTypeBox:"CardTypePicker-module__29xM",detailText:"CardTypePicker-module_f_ZQQ"},s=n(2269),u=function(e){var t=e.show,n=e.documents,u=e.onClosePopup,l=e.onClickDocumentType,d=e.goToPassengerAdd,f=e.fromBookingPage,p=e.ubtValue;return(0,s.jsxs)(a.Z,{show:t,title:"\u8bc1\u4ef6\u7c7b\u578b",limitHeight:!1,heightPercentage:.6,onClose:u,fromBookingPage:f,children:[(0,s.jsx)(o.GM,{scrollY:!0,children:n.map((function(e,t){return(0,s.jsxs)(o.n_,{ubtKey:p+e.type,active:e.checked,onClick:(0,r.trackFn)(p+e.type+"--"+t+"--onClick-5fc0a",(function(){return l(e.type,f)})),children:[(0,s.jsxs)(i.View,{children:[e.name,(0,s.jsx)(o.Rt,{children:e.value})]}),e.checked&&(0,s.jsx)(i.View,{className:"iconfont-h5 icon-tick ".concat(c.active)})]},t)}))}),f&&(0,s.jsxs)(i.View,{children:[(0,s.jsx)(i.View,{className:c.moreType,children:"\u5176\u4ed6\u9009\u62e9"}),(0,s.jsxs)(i.View,{className:c.moreTypeBox,children:[(0,s.jsxs)(o.n_,{ubtKey:p+"CardTypePicker",onClick:(0,r.trackFn)(p+"CardTypePicker",(function(){return d&&d()})),children:[(0,s.jsx)(i.View,{children:"\u6240\u6709\u8bc1\u4ef6"}),(0,s.jsx)(i.View,{className:"iconfont-h5 icon-arrow-right"})]}),(0,s.jsxs)(i.View,{className:c.detailText,children:[(0,s.jsx)(i.View,{children:"\u5a74\u513f\uff1a\u8ba2\u7968\u53ef\u4f7f\u7528\u8eab\u4efd\u8bc1\u3001\u62a4\u7167\u3001\u6237\u53e3\u8584\u3001\u51fa\u751f\u8bc1\u660e"}),(0,s.jsx)(i.View,{className:"mt-2",children:"\u513f\u7ae5\uff1a\u8ba2\u7968\u53ef\u4f7f\u7528\u8eab\u4efd\u8bc1\u3001\u62a4\u7167\u3001\u6237\u53e3\u8584"})]})]})]})]})},l=u},81983:function(e,t,n){"use strict";n.d(t,{v:function(){return c}});var r=n(62171),i=(n(90201),n(61659)),o={SelectWrap:"Common-module_aUYmJ",smaller:"Common-module_Vc12D",smallerMR6:"Common-module_VZtAk",ML10:"Common-module_przOJ",ML18:"Common-module_zxn5p"},a=n(2269),c=function(e){var t=e.className,n=e.checked,c=e.testId,s=e.onClick;return(0,a.jsx)(i.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/components/".concat(n?"select":"unselect",".png"),className:(0,r.classnames)(o.SelectWrap,o[t||""]),"data-testid":c,onClick:(0,r.trackFn)("onClick--e8891",s)})}},40459:function(e,t,n){"use strict";n.d(t,{SH:function(){return m},Rt:function(){return g},n_:function(){return v},GM:function(){return h}});var r=n(62171),i=n(298),o=n(68277),a=(n(90201),n(71515)),c=n(12809),s={ConfirmWrap:"ConfirmWrap-module_KOtTo",DocumentWrap:"ConfirmWrap-module_XRQsM",DocumentType:"ConfirmWrap-module_YwR9y",DocumentNo:"ConfirmWrap-module_REd8C"},u=n(2269),l=["className"],d=["className"],f=["className","active","testId"],p=["className","active"],m=function(e){var t=e.className,n=(0,o.Z)(e,l);return(0,u.jsx)(a.View,(0,i.Z)({className:(0,r.classnames)(s.ConfirmWrap,t)},n))},h=function(e){var t=e.className,n=(0,o.Z)(e,d);return(0,u.jsx)(c.Z,(0,i.Z)((0,i.Z)({className:(0,r.classnames)(s.DocumentWrap,t)},n),{},{id:"id_e4d96",onScroll:(0,r.trackFn)("id_e4d96")}))},v=function(e){var t=e.className,n=e.active,c=e.testId,l=(0,o.Z)(e,f);return(0,u.jsx)(a.View,(0,i.Z)({"data-testid":c,className:(0,r.classnames)(s.DocumentType,t),style:{color:n?"#0086f6":""}},l))},g=function(e){var t=e.className,n=(e.active,(0,o.Z)(e,p));return(0,u.jsx)(a.Text,(0,i.Z)({className:(0,r.classnames)(s.DocumentNo,t)},n))}},51897:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});n(62171);var r=n(57042),i=n(24460),o=n(21867),a=n(86066),c=n(52296),s=n(90201),u=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),i.state={error:null,errorInfo:null},i}return(0,i.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.state.errorInfo;if(e){try{(0,c.rb)(e)}catch(e){console.error(e)}return this.props.fallback||null}return this.props.children}}]),n}(s.Component),l=u},84724:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(45023),i=n(90129),o=n(62171),a=n(90201),c=n(92954),s=n(71515),u=n(24873),l=n(43752),d={container:"FioMsgDetail-module_IR33O",detail:"FioMsgDetail-module__VChj",box:"FioMsgDetail-module_uUuqQ",title:"FioMsgDetail-module_A3SgV","l-1":"FioMsgDetail-module_RifoE","l-2":"FioMsgDetail-module_AUYNf",dot:"FioMsgDetail-module_TtutQ",content:"FioMsgDetail-module_QCvbO",hideMore:"FioMsgDetail-module_mHeHF",text:"FioMsgDetail-module_rCrcl",copy:"FioMsgDetail-module_Wcgey",more:"FioMsgDetail-module_ZlYFM"},f=n(2269),p=function(e){(0,c.setClipboardData)({data:e,success:function(e){e&&(0,o.showToast)("\u5df2\u590d\u5236\u94fe\u63a5")}})},m=function(e){var t=e.notiInfo,n=e.isIntl,c=(0,a.useState)(!1),m=(0,i.Z)(c,2),h=m[0],v=m[1],g=(0,a.useState)([]),y=(0,i.Z)(g,2),x=y[0],_=y[1];(0,a.useEffect)((function(){n||setTimeout((function(){u.ZO.promise({data:{pageId:"100011000210004"}}).then((function(e){var t=(null===e||void 0===e?void 0:e.data)||[];(0,l.jq)("fio_notices_from_server",{desc:"\u4ece\u63a5\u53e3\u83b7\u53d6\u7684\u516c\u544a\u5185\u5bb9(\u975e\u586b\u5199\u9875\u4e0d\u5c55\u793a3\u7ea7\u516c\u544a)",notifies:JSON.stringify(t)});var n=o.R.pipe(o.R.filter((function(e){return e.notificationLevel<3})),o.R.sort((function(e,t){return e.notificationLevel-t.notificationLevel})))(t);_(n)}))}),1e3)}),[n]),(0,a.useEffect)((function(){if(n){var e=null===t||void 0===t?void 0:t.map((function(e){return{content:e.content,notificationId:e.notiId,notificationLevel:e.notiLevel,title:e.ttl}})),r=o.R.pipe(o.R.filter((function(e){return e.notificationLevel<3})),o.R.sort((function(e,t){return e.notificationLevel-t.notificationLevel})))(e);_(r)}}),[n,t]);var N=(0,a.useCallback)((function(){v(!0)}),[v]);return null!==x&&void 0!==x&&x.length?(0,f.jsx)(s.View,{children:(0,f.jsx)(s.View,{className:d.container,children:(0,f.jsxs)(s.View,{className:d.detail,children:[x.map((function(e){var t=(0,o.handleCopyText)(e.content);return(0,f.jsxs)(s.View,{className:d.box,children:[(0,f.jsxs)(s.View,{className:(0,o.classnames)(d.title,d["l-".concat(e.notificationLevel)]),children:[(0,f.jsx)(s.Text,{className:(0,o.classnames)(d.dot,d["l-".concat(e.notificationLevel)])}),e.title]}),(0,f.jsx)(s.View,{className:(0,o.classnames)(d.content,(0,r.Z)({},d.hideMore,!h)),children:0!==(null===t||void 0===t?void 0:t.length)?t.map((function(e,t){return e.active?(0,f.jsx)(s.View,{className:d.copy,onClick:(0,o.trackFn)(t+"--dbbd9",(function(){return p(e.text)})),"data-testid":"copy-link",children:"(\u70b9\u51fb\u590d\u5236)"},t):(0,f.jsx)(s.View,{className:d.text,dangerouslySetInnerHTML:{__html:e.text}},t)})):(0,f.jsx)(s.View,{className:d.text,dangerouslySetInnerHTML:{__html:e.content}})})]},e.notificationId)})),!h&&(0,f.jsxs)(s.View,{className:d.more,onClick:(0,o.trackFn)("showMore--8f3f4",N),"data-testid":"show-more",children:[(0,f.jsx)(s.Text,{children:"\u67e5\u770b\u66f4\u591a"}),(0,f.jsx)(s.Text,{className:"iconfont-h5 icon-arrow-down icon-down"})]})]})})}):null},h=m},41103:function(e,t,n){"use strict";n.d(t,{k:function(){return ne}});var r=n(45023),i=n(90129),o=n(62171),a=n(90201),c=n(71515),s=n(61659),u=n(17745),l=n(43752),d=(n(68675),{BAGGAGE_STRAIGHT_UP:"green",BAGGAGE_FORWARDING:"green",BAGGAGE_NEED:"orange"}),f=function(e){var t,n=null===e||void 0===e||null===(t=e.segments)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.comfortPopupLink;((0,l.jq)("openComfort"),n)&&(0,u.G)(n,{url:encodeURIComponent(n)})},p=function(e){return e&&0!==Object.keys(e).length?Object.entries(e).filter((function(e){var t=(0,i.Z)(e,2),n=t[1];return!!n})).map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1],o=(null===r||void 0===r?void 0:r.split("|"))||[],a=(0,i.Z)(o,2),c=a[0],s=void 0===c?"":c,u=a[1],l=void 0===u?"":u,f="CHECK_IN"===n?s.includes("\u514d\u503c\u673a")?"green":"orange":d[n];return{title:s,content:l,color:f}})):[]},m=function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((function(e){var t;return null===e||void 0===e||null===(t=e.segments)||void 0===t?void 0:t.some((function(e){var t;return(null===e||void 0===e||null===(t=e.stops)||void 0===t?void 0:t.length)>0}))})))&&void 0!==t&&t},h=function(e){var t,n;return(null===e||void 0===e||null===(t=e[0])||void 0===t||null===(t=t.segments)||void 0===t?void 0:t.length)>1||(null===e||void 0===e||null===(n=e[1])||void 0===n||null===(n=n.segments)||void 0===n?void 0:n.length)>1},v=n(67347),g=n(12809),y={SeparatorComp:"Transit-module_sDXXj",item:"Transit-module_IPXzg",TransitBox:"Transit-module_YTC21","transit-info-box":"Transit-module_aukYD","transit-info-container":"Transit-module_BuAr0",virtualServicesBox:"Transit-module_iGtgd","transfer-city":"Transit-module_KQQys",transitTipsBox:"Transit-module_S8RRp",green787:"Transit-module_dVSU4",orange700:"Transit-module_rGw75",black333:"Transit-module_WlXVq",noServicesBox:"Transit-module_dTUPI","icon-arrow-right":"Transit-module_VnvTe","basic-info":"Transit-module_cpZoJ","trip-icon":"Transit-module_l78a_","trip-type":"Transit-module_QpjZu","airline-description":"Transit-module_fPMOE","flight-time":"Transit-module_V4UtP",plus:"Transit-module_SD2tZ","flight-airport":"Transit-module_qWdQh",isNewAirport:"Transit-module_QTqGu","c-green":"Transit-module_WRpc2","text-bg":"Transit-module_nwrOv","c-orange":"Transit-module_cnfO6","transit-pop-subtitle":"Transit-module_uVXGW","tip-icon":"Transit-module_SK0pX","transit-pop-subcontent":"Transit-module_gNfo9"},x=n(2269),_=function(e){var t=e.transitTips,n=e.canScroll,r=e.scrollTop,i=e.tips,a=e.isTransit,s=void 0===a||a;return(0,x.jsx)(c.View,{style:{display:"flex",maxHeight:"70vh",minHeight:"50vh"},id:"transit-pop",children:(0,x.jsx)(g.Z,{className:"scroll",scrollY:n,scrollTop:r,id:"transit-pop_id_e4265",onScroll:(0,o.trackFn)("transit-pop_id_e4265"),children:(0,x.jsx)(c.View,{className:"no-border pl-4 pr-4 max-w-full",style:{height:"100%",overflowY:"scroll",marginTop:0,paddingTop:0},children:(0,x.jsxs)(c.View,{className:"container mb-2",children:[i&&i.map((function(e,t){return(0,x.jsxs)(c.View,{className:"row mt-3",children:[(0,x.jsxs)(c.View,{className:"col-12 ".concat(y["transit-pop-subtitle"]," ").concat(y["c-orange"]),children:[(0,x.jsx)(c.Text,{className:y["tip-icon"],style:{backgroundColor:"#ff7700"}}),e.title]}),(0,x.jsx)(c.View,{className:"col-12 mt-1 ".concat(y["transit-pop-subcontent"]),children:e.content})]},t)})),s&&(0,x.jsxs)(x.Fragment,{children:[t&&t.map((function(e,t){var n={green:"#00b87a",orange:"#ff7700"}[e.color]||"#999999";return(0,x.jsxs)(c.View,{className:(0,o.classnames)("row",{"mt-3":0!==t||i}),children:[(0,x.jsxs)(c.View,{className:(0,o.classnames)(y["transit-pop-subtitle"],"col-12",{"text-ctripGreen-787a":"green"===e.color,"text-ctripOrange-700":"orange"===e.color,"text-ctripBlack-333":"orange"!==e.color&&"green"!==e.color}),children:[(0,x.jsx)(c.Text,{className:y["tip-icon"],style:{background:n}}),e.title]}),(0,x.jsx)(c.View,{className:"col-12 mt-1 ".concat(y["transit-pop-subcontent"]),children:e.content})]},t)})),(0,x.jsxs)(c.View,{className:"row mt-3",children:[(0,x.jsxs)(c.View,{className:"col-12 ".concat(y["transit-pop-subtitle"]),children:[(0,x.jsx)(c.Text,{className:y["tip-icon"]}),"\u7a0e\u8d39\u53ca\u822a\u7a7a\u516c\u53f8"]}),(0,x.jsxs)(c.View,{className:"col-12 mt-1 ".concat(y["transit-pop-subcontent"]),children:[(0,x.jsxs)(c.View,{className:y.item,children:[(0,x.jsx)(c.Text,{className:y["tip-icon"]}),"1. \u6bcf\u6bb5\u822a\u73ed\u5747\u9700\u7f34\u7eb3\u673a\u573a\u5efa\u8bbe\u8d39\u548c\u71c3\u6cb9\u7a0e"]}),(0,x.jsx)(c.View,{className:y.item,children:"2. \u5efa\u8bae\u8d2d\u4e70\u540c\u4e00\u822a\u7a7a\u516c\u53f8\u7684\u4e2d\u8f6c\u8054\u7a0b\u673a\u7968\uff0c\u4fbf\u4e8e\u786e\u8ba4\u673a\u7968\uff0c\u53ca\u53d1\u751f\u822a\u73ed\u5ef6\u8bef\u65f6\u4fdd\u969c\u6743\u76ca\u3002"})]})]}),(0,x.jsxs)(c.View,{className:"row mt-3",children:[(0,x.jsxs)(c.View,{className:"col-12 ".concat(y["transit-pop-subtitle"]),children:[(0,x.jsx)(c.Text,{className:y["tip-icon"]}),"\u8f6c\u673a\u65f6\u95f4"]}),(0,x.jsxs)(c.View,{className:"col-12 mt-1 ".concat(y["transit-pop-subcontent"]),children:[(0,x.jsx)(c.View,{className:y.item,children:"1. \u4e58\u5ba2\u5e94\u8be5\u9884\u7559\u5145\u8db3\u7684\u8f6c\u673a\u65f6\u95f4\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u540e\u4e00\u7a0b\u822a\u73ed\u65e0\u6cd5\u53ca\u65f6\u767b\u673a\uff1b"}),(0,x.jsx)(c.View,{className:y.item,children:"2. \u8f6c\u673a\u8fc7\u7a0b\u4e2d\uff0c\u4e58\u5ba2\u9700\u5904\u7406\u884c\u674e\u548c\u91cd\u65b0\u529e\u7406\u767b\u673a\u624b\u7eed\u3002"})]})]}),(0,x.jsxs)(c.View,{className:"row mt-3",children:[(0,x.jsxs)(c.View,{className:"col-12 ".concat(y["transit-pop-subtitle"]),children:[(0,x.jsx)(c.Text,{className:y["tip-icon"]}),"\u6f5c\u5728\u98ce\u9669"]}),(0,x.jsxs)(c.View,{className:"col-12 mt-1 ".concat(y["transit-pop-subcontent"]),children:[(0,x.jsx)(c.View,{className:y.item,children:"1. \u4e58\u5ba2\u5982\u653e\u5f03\u540e\u7eed\u884c\u7a0b\uff0c\u5219\u540e\u7eed\u822a\u73ed\u4ec5\u80fd\u4eab\u53d7\u81ea\u613f\u9000\u7968\u7684\u6743\u76ca\uff1b"}),(0,x.jsx)(c.View,{className:y.item,children:"2. \u5982\u53d1\u751f\u822a\u73ed\u5ef6\u8bef\uff0c\u5efa\u8bae\u4e58\u5ba2\u4e0e\u822a\u7a7a\u516c\u53f8\u534f\u5546\u89e3\u51b3\uff1b"}),(0,x.jsx)(c.View,{className:y.item,children:"3. \u901a\u5e38\u540c\u4e00\u822a\u7a7a\u516c\u53f8\u7684\u822a\u73ed\u5ef6\u8bef\u5904\u7406\u8f83\u4e3a\u59a5"})]})]}),(0,x.jsxs)(c.View,{className:"row mt-3",children:[(0,x.jsxs)(c.View,{className:"col-12 ".concat(y["transit-pop-subtitle"]),children:[(0,x.jsx)(c.Text,{className:y["tip-icon"]}),"\u81ea\u8eab\u6743\u76ca"]}),(0,x.jsxs)(c.View,{className:"col-12 mt-1 ".concat(y["transit-pop-subcontent"]),children:[(0,x.jsx)(c.View,{className:y.item,children:"1. \u5982\u53d1\u751f\u822a\u73ed\u5ef6\u8bef\uff0c\u60a8\u6709\u6743\u7d22\u8981\u5ef6\u8bef\u8bc1\u660e\u4ee5\u4fbf\u4e8e\u4e0e\u822a\u7a7a\u516c\u53f8\u534f\u5546\u5904\u7406\u3002 \u53c2\u8003:\u300a\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u6c11\u7528\u822a\u7a7a\u6cd5\u300b\u7b2c\u4e00\u767e\u4e8c\u5341\u516d\u6761\u65c5\u5ba2\u3001\u884c\u674e\u6216\u8005\u8d27\u7269\u5728\u822a\u7a7a\u8fd0\u8f93\u4e2d\u56e0\u5ef6\u8bef\u9020\u6210\u7684\u635f\u5931\uff0c\u627f\u8fd0\u4eba\u5e94\u5f53\u627f\u62c5\u8d23\u4efb\uff1b\u4f46\u662f\uff0c\u627f\u8fd0\u4eba\u8bc1\u660e\u672c\u4eba\u6216\u8005\u5176\u53d7\u96c7\u4eba\u3001\u4ee3\u7406\u4eba\u4e3a\u4e86\u907f\u514d\u635f\u5931\u7684\u53d1\u751f\uff0c\u5df2\u7ecf\u91c7\u53d6\u4e00\u5207\u5fc5\u8981\u63aa\u65bd\u6216\u8005\u4e0d\u53ef\u80fd\u91c7\u53d6\u6b64\u79cd\u63aa\u65bd\u7684\uff0c\u4e0d\u627f\u62c5\u8d23\u4efb\u3002"}),(0,x.jsx)(c.View,{className:y.item,style:{marginBottom:"200px"},children:"2. \u8f6c\u673a\u8fc7\u7a0b\u4e2d\uff0c\u4e58\u5ba2\u9700\u5904\u7406\u884c\u674e\u548c\u91cd\u65b0\u529e\u7406\u767b\u673a\u624b\u7eed\u3002"})]})]})]})]})})})})},N=(0,a.memo)(_),b=function(e){var t=e.name,n=e.transitTips,r=e.tips,i=e.isTransitValue,o=void 0!==i&&i,a=e.isMiddleFloat,c=void 0!==a&&a;return(0,l.jq)("\u67e5\u770b\u884c\u7a0b\u63d0\u793a/\u4e2d\u8f6c\u8bf4\u660e"),(0,v.K4)({close:{position:"top-left",isBack:c},closeMethod:"close",title:t,content:(0,x.jsx)(N,{transitTips:n,tips:r,isTransit:o}),position:"bottom"})},T=n(66792),w=function(e){var t=T.Z.get("Flight.Mobile.H5Swift.NewAirport")||T.Z.get("NewAirport");if(!t||!t.active)return!1;var n=t&&t.airport,r=!1;return n&&n.forEach((function(t){r=r||e&&e.indexOf(t)>-1})),r},C=n(26707);function I(){return(0,x.jsx)(c.Text,{className:C.Z.SeparatorComp})}var E=I,S=n(13839),j={tagsMapBox:"TagsMap-module_QtdIP",SeparatorComp:"TagsMap-module_wyUbu",RightDisplayArrow:"TagsMap-module_yPnag"},k=["MEAT","CRAFT","IN_TIME"];function A(e){var t=e.flightTags;if(t){var n=k.map((function(e){return null===t||void 0===t?void 0:t[e]})).filter((function(e){return!!e}));return(0,x.jsxs)(a.Fragment,{children:[!!n.length&&n.map((function(e,t){return(0,x.jsxs)(c.View,{className:j.tagsMapBox,children:[(0,x.jsx)(E,{}),(0,x.jsx)(c.Text,{children:e}),t===n.length-1&&(0,x.jsx)(S.Z,{})]},t)})),!n.length&&(0,x.jsx)(S.Z,{})]})}return null}var P=A,R={BasicInfoBox:"BasicInfo-module_r7qoe","flight-time-new":"BasicInfo-module_dbpZU",h186:"BasicInfo-module_gSolw",h116:"BasicInfo-module_v7cjc",dateBox:"BasicInfo-module_vqTij","time-plus-new":"BasicInfo-module_QxDCo","flight-info-new":"BasicInfo-module_xVLAD","info-city-box":"BasicInfo-module_x1c8B",verticalBar:"BasicInfo-module_ljSLi",pointBox:"BasicInfo-module_b6pI1",lineBox:"BasicInfo-module_paqPG",h150:"BasicInfo-module_gTXG8",h78:"BasicInfo-module_i0eHX",lineText:"BasicInfo-module_y3lji","city-info":"BasicInfo-module_BgI18","stop-info":"BasicInfo-module_kefOz","info-high-tip":"BasicInfo-module_njn8L","different-terminal":"BasicInfo-module_h6K7e","info-tag":"BasicInfo-module_LUV8p","tag-box":"BasicInfo-module_gXLD3","tag-box-new":"BasicInfo-module__diqX","airline-company":"BasicInfo-module_Y7svA","airline-logo":"BasicInfo-module_Cq6zt",shared:"BasicInfo-module_VRchR","airline-name":"BasicInfo-module_EQhLx",imageBox:"BasicInfo-module_mZl77",share:"BasicInfo-module_XuckQ"},O=function(e){var t=e.segment,n=e.departDate,i=e.fromBookingPage,d=e.showTerminalTip,f=e.differentTransitDepartPort,p=e.differentTransitArrivePort,m=(e.isMiddleFloatLayer,t.stopInfoList||[]),h=function(){((0,l.jq)("middle_openComfort"),t&&t.comfortPopupLink)&&(0,u.G)(t.comfortPopupLink)};return(0,x.jsxs)(c.View,{className:R.BasicInfoBox,children:[(0,x.jsxs)(c.View,{className:"flight-time ".concat(R["flight-time-new"]," ").concat(null!==m&&void 0!==m&&m.length?R.h186:R.h116),children:[(0,x.jsxs)(c.View,{className:R.dateBox,children:[t.date!==n&&(0,x.jsx)(a.Fragment,{children:(0,x.jsx)(c.Text,{className:R["time-plus-new"],children:t.date})}),t.departureTime]}),(0,x.jsxs)(c.View,{className:R.dateBox,children:[t.crossDays>0&&(0,x.jsx)(c.Text,{className:R["time-plus-new"],children:(0,o.dayjs)(t.arriveDateTime).locale("zh-cn").format("MM-DD ddd")}),t.arrivalTime]})]}),(0,x.jsxs)(c.View,{className:R["flight-info-new"],children:[(0,x.jsxs)(c.View,{className:R["info-city-box"],children:[(0,x.jsxs)(c.View,{className:R.verticalBar,children:[(0,x.jsx)(c.View,{className:R.pointBox}),(0,x.jsx)(c.View,{className:(0,o.classnames)(R.pointBox,R.lineBox,(0,r.Z)((0,r.Z)({},R.h150,null===m||void 0===m?void 0:m.length),R.h78,!(null!==m&&void 0!==m&&m.length))),children:(null===m||void 0===m?void 0:m.length)>0&&(0,x.jsx)(c.View,{className:R.lineText})}),(0,x.jsx)(c.View,{className:R.pointBox})]}),(0,x.jsxs)(c.View,{className:(0,o.classnames)(R["city-info"],R.lineBox,(0,r.Z)((0,r.Z)({},R.h186,null===m||void 0===m?void 0:m.length),R.h116,!(null!==m&&void 0!==m&&m.length))),children:[(0,x.jsx)(c.Text,{className:(0,o.classnames)((0,r.Z)({},R.isNewAirport,w(t.departureName)||f),"item"),children:t.departureName}),m.map((function(e,t){return(0,x.jsx)(a.Fragment,{children:(0,x.jsx)(c.View,{className:R["stop-info"],children:"\u7ecf\u505c".concat(null===e||void 0===e?void 0:e.cityName," ").concat((null===e||void 0===e?void 0:e.airportShortName)||"").concat((null===e||void 0===e?void 0:e.buildingShortName)||""," ").concat((null===e||void 0===e?void 0:e.stopCostTime)||"")})},t)})),(0,x.jsx)(c.View,{className:(0,o.classnames)((0,r.Z)({},R.isNewAirport,w(t.arrivalName)||p),"item"),children:t.arrivalName})]})]}),d?(0,x.jsx)(c.View,{className:R["info-high-tip"],children:(0,x.jsx)(c.Text,{className:R["different-terminal"],children:"\u4e0e\u53bb\u7a0b\u51fa\u53d1\u673a\u573a\u4e0d\u540c"})}):null,(0,x.jsxs)(c.View,{className:"airline-info ".concat(R["info-tag"]),onClick:(0,o.trackFn)("onClick--cde99",(function(){h()})),"data-testid":"jump-comfort",children:[(0,x.jsx)(c.View,{className:R["tag-box"],children:(0,x.jsxs)(c.View,{className:"".concat(R["airline-company"]," flex-middle"),children:[(0,x.jsx)(s.Z,{className:R["airline-logo"],src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+t.airlineCode+".png"}),(0,x.jsx)(c.Text,{className:R["airline-name"],children:t.airline}),!i&&(0,x.jsx)(P,{flightTags:null===t||void 0===t?void 0:t.flightTags})]})}),(t.shareAirline||t.shareFlightNo)&&(0,x.jsxs)(c.View,{className:"".concat(R["tag-box"]," ").concat(R["tag-box-new"]),children:[(0,x.jsx)(s.Z,{className:R.imageBox,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/arrowdownright.png"}),(0,x.jsx)(c.Text,{className:R.share,children:"\u5b9e\u9645\u627f\u8fd0"}),t.shareAirlineCode&&(0,x.jsx)(s.Z,{className:"".concat(R["airline-logo"]," ").concat(R.shared),src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+t.shareAirlineCode+".png"}),t.shareAirline||t.shareFlightNo]})]})]})]})},D=O,L=function(e){var t=e.flight,n=e.page,r=e.fromBookingPage,i=e.isDifferentTrip,s=e.isMiddleFloatLayer,u=p(null===t||void 0===t?void 0:t.transitTips);if(!t||!t.segments)return null;var l=!["BOOKING","SHARE_PASSENGER_EDIT","SHARE_PASSENGER_EDIT_NEW"].includes(n);return(0,x.jsx)(c.View,{className:"FlightCardTransitNew",children:(0,x.jsx)(c.View,{className:y.TransitBox,children:t.segments.map((function(e,d){var f,p,m,h=d===t.segments.length-1&&i,v=d&&(null===t||void 0===t||null===(f=t.segments)||void 0===f||null===(f=f[d-1])||void 0===f?void 0:f.arrivalName)!==(null===e||void 0===e?void 0:e.departureName),g=d<t.segments.length-1&&(null===t||void 0===t||null===(p=t.segments)||void 0===p||null===(p=p[d+1])||void 0===p?void 0:p.departureName)!==(null===e||void 0===e?void 0:e.arrivalName);return(0,x.jsxs)(a.Fragment,{children:[(0,x.jsx)(D,{segment:e,departDate:t.segments[0].date,fromBookingPage:r,showTerminalTip:h,differentTransitDepartPort:v,differentTransitArrivePort:g,isMiddleFloatLayer:s}),d<t.segments.length-1&&(0,x.jsx)(c.View,{className:y["transit-info-box"],children:(0,x.jsxs)(c.View,{className:y["transit-info-container"],onClick:(0,o.trackFn)(e.arrivalTime+"--ae3b4",(function(){return l&&b({name:"\u4e2d\u8f6c\u63d0\u793a",transitTips:u,isTransitValue:!0})})),"data-testid":"on-open-popup",children:[(0,x.jsxs)(c.View,{className:y.virtualServicesBox,children:[(0,x.jsxs)(c.View,{children:[(0,x.jsx)(c.Text,{className:y["transfer-city"],children:(t.virtualServices&&Object.keys(t.virtualServices).length?"\u901a\u7a0b":"\u4e2d\u8f6c")+e.arrivalCityName+(t.transitDuration?" "+t.transitDuration:"")+(null!==(m=t.transitDurationV2)&&void 0!==m&&m.length?" "+t.transitDurationV2[d]:"")}),1===u.length&&!r&&(0,x.jsxs)(a.Fragment,{children:[(0,x.jsx)(E,{}),(0,x.jsx)(c.Text,{children:"\u9700\u6258\u8fd0\u884c\u674e"})]})]}),u.length>1&&!r&&(0,x.jsx)(c.View,{className:y.transitTipsBox,children:u.map((function(e){return(0,x.jsxs)(a.Fragment,{children:[(0,x.jsx)(E,{}),(0,x.jsx)(c.Text,{className:"".concat("green"===e.color?y.green87a:"orange"===e.color?y.orange700:y.black333),children:e.title})]},e.title)}))})]}),!t.virtualServices&&"BOOKING"!==n&&"SHARE_PASSENGER_EDIT"!==n&&"SHARE_PASSENGER_EDIT_NEW"!==n&&(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(c.View,{className:y.noServicesBox,children:[!u.length&&(0,x.jsx)(c.Text,{children:"\u4e2d\u8f6c\u8bf4\u660e"}),(0,x.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-right"})]})})]})})]},e.arrivalTime)}))})})},V=n(62461),Z=n(22213),M={"top-container":"Top-module_ooECI","top-container-new":"Top-module_IprQe","top-box":"Top-module_xehWN","box-title":"Top-module_JN_kj","image-box":"Top-module_CloW7","text-box":"Top-module_hpwEX","date-box":"Top-module_Bwh7m","city-box":"Top-module_HnZyl","img-box":"Top-module_xya6d","box-title-inBooking":"Top-module_hFReV",boxUnion:"Top-module_HPwqA","box-title-union":"Top-module_fd_E9"};function F(e){var t,n,u,l,d=e.tripIndex,f=e.flight,p=e.fromBookingPage,m=e.tripTypefromOuter,h=void 0===m?"":m,v=(0,V.C)(Z.e_),g=(0,a.useMemo)((function(){return h||v}),[h,v]),y="ROUND_TRIP"===g?d?"\u8fd4\u7a0b":"\u53bb\u7a0b":"MULTIPLE_TRIP"===g?"\u7b2c".concat(d+1,"\u7a0b"):"\u5355\u7a0b",_=(0,a.useState)(y),N=(0,i.Z)(_,1),b=N[0],T=f||{},w=T.segments,C=void 0===w?[]:w;return(0,x.jsxs)(c.View,{className:(0,o.classnames)(M["top-container"],(0,r.Z)({},M["top-container-new"],p)),children:[(0,x.jsxs)(c.View,{className:M["top-box"],children:[p?(0,x.jsx)(c.View,{className:M["box-title-inBooking"],children:b}):(0,x.jsxs)(c.View,{className:M["box-title"],children:[(0,x.jsx)(s.Z,{className:M["image-box"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/Rectangle.png"}),(0,x.jsx)(c.Text,{className:"".concat(M["text-box"]," ").concat(M["box-title-union"]),children:b})]}),(0,x.jsx)(c.View,{className:"".concat(M["date-box"]," ").concat(M.boxUnion),children:null===(t=C[0])||void 0===t?void 0:t.date}),(null===(n=C[0])||void 0===n?void 0:n.departureCityName)&&(0,x.jsxs)(c.View,{className:"".concat(M["city-box"]," ").concat(M.boxUnion),children:[null===(u=C[0])||void 0===u?void 0:u.departureCityName,(0,x.jsx)(s.Z,{className:M["img-box"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/arrowrighttrip.png"}),null===(l=C[C.length-1])||void 0===l?void 0:l.arrivalCityName]})]}),(null===f||void 0===f?void 0:f.duration)&&(0,x.jsx)(c.View,{className:M.boxUnion,children:"\u603b\u65f6\u957f"+((null===f||void 0===f?void 0:f.duration)||"")})]})}var B=F,U=function(e){var t=e.flight,n=void 0===t?{}:t,r=e.fromBookingPage,i=void 0!==r&&r,o=e.isDifferentTrip,a=void 0!==o&&o,c=e.isMiddleFloatLayer;return(0,x.jsx)(D,{segment:n.segments[0],departDate:n.segments[0].date,fromBookingPage:i,showTerminalTip:a,isMiddleFloatLayer:c})},q=U,H={"airline-comTags":"Comtag-module_LjW8g",marginT:"Comtag-module_ICsLt","airline-description":"Comtag-module_ZGrc7","airline-image":"Comtag-module_tQW3O","airline-logo":"Comtag-module_YjJSQ",marginX:"Comtag-module_N_C5l"};function G(e){var t,n=e.flight,r=e.fromBookingPage;return(0,x.jsxs)(c.View,{className:H["airline-comTags"],onClick:(0,o.trackFn)("onClick--b9736",(function(){f(n)})),"data-testid":"jump-comfort",children:[(0,x.jsx)(s.Z,{className:H["airline-logo"],src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+n.segments[0].airlineCode+".png"}),(0,x.jsx)(c.Text,{className:H.marginT,children:n.segments[0].airline}),n.segments[0].shareFlightNo&&(0,x.jsxs)(c.View,{className:H["airline-description"],children:[(0,x.jsx)(s.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/arrowright.png",className:H["airline-image"]}),"\u5b9e\u9645\u627f\u8fd0",n.segments[0].shareAirlineCode&&(0,x.jsx)(s.Z,{className:"".concat(H["airline-logo"]," ").concat(H.marginX),src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+n.segments[0].shareAirlineCode+".png"}),n.segments[0].shareAirline||n.segments[0].shareFlightNo]}),!r&&(0,x.jsx)(P,{flightTags:null===n||void 0===n||null===(t=n.segments)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.flightTags})]})}var Y=G,K={FlightCardDirectNew:"Direct-module_V1RWK",directCardBox:"Direct-module_rjSva","icon-oneway":"Direct-module_bs7Ln",direct:"Direct-module_fnzI4",time:"Direct-module_elf_Q","time-plus":"Direct-module_arEm2",newColor:"Direct-module_ameRJ",lineH:"Direct-module_huRWB",paddingX:"Direct-module_QPM80",airport:"Direct-module__YOo_",isNewAirport:"Direct-module_SpM6s","arrow-right":"Direct-module_AjgoS",tagsMapBox:"Direct-module_NWrww",SeparatorComp:"Direct-module_BzLwg",RightDisplayArrow:"Direct-module_aKQbI","share-pop-title":"Direct-module_nYEt7","airline-logo":"Direct-module_QZEWE","share-pop-content":"Direct-module_vbWV_","icon-warning":"Direct-module_EmkaN"},W=function(e){var t=e.flight,n=e.fromBookingPage;return t.segments&&t.segments.length?(0,x.jsx)(c.View,{className:K.FlightCardDirectNew,children:(0,x.jsxs)(c.View,{className:"container",children:[(0,x.jsxs)(c.View,{className:K.directCardBox,children:[(0,x.jsxs)(c.View,{className:"align-self-center text-left",children:[(0,x.jsxs)(c.View,{className:K.time,children:[t.segments[0].crossDays>0&&(0,x.jsx)(c.Text,{className:K["time-plus"],children:(0,o.dayjs)(t.segments[0].departDateTime).locale("zh-cn").format("MM-DD ddd")}),(0,x.jsx)(c.Text,{className:K.lineH,children:t.segments[0].departureTime})]}),(0,x.jsx)(c.View,{className:(0,o.classnames)((0,r.Z)({},K.isNewAirport,w(t.segments[0].departureName)),K.airport,"text-center"),children:t.segments[0].departureName})]}),(0,x.jsx)(c.View,{className:"align-self-center text-center ".concat(K.paddingX),children:(0,x.jsx)(c.View,{className:K["arrow-right"],children:" "})}),(0,x.jsxs)(c.View,{className:"align-self-center text-right",children:[(0,x.jsxs)(c.View,{className:K.time,children:[t.segments[0].crossDays>0&&(0,x.jsx)(c.Text,{className:"".concat(K["time-plus"]," ").concat(K.newColor),children:(0,o.dayjs)(t.segments[0].arriveDateTime).locale("zh-cn").format("MM-DD ddd")}),(0,x.jsx)(c.Text,{className:K.lineH,children:t.segments[0].arrivalTime})]}),(0,x.jsx)(c.View,{className:(0,o.classnames)((0,r.Z)({},K.isNewAirport,w(t.segments[0].arrivalName)),K.airport,"text-center"),children:t.segments[0].arrivalName})]})]}),(0,x.jsx)(Y,{flight:t,fromBookingPage:n})]})}):null},z={"card-body-box":"TripComponent-module_kqtDO","flight-tips":"TripComponent-module_guuVb","tips-container":"TripComponent-module_Bifn6",justifyB:"TripComponent-module_U_XxN",tipsShowAll:"TripComponent-module__MrBh","txt-title":"TripComponent-module_by8_a","txt-hidden":"TripComponent-module_t6Q9V","flight-tips-new":"TripComponent-module_hE2iF",wFull:"TripComponent-module_TPVS3",marginL:"TripComponent-module_kriac",transformStyle:"TripComponent-module_VGgIa","tips-box":"TripComponent-module_R5doL","tips-box-new":"TripComponent-module_i85ai"},Q=function(e){var t=e.tips,n=e.isHidden,r=e.handleIsHidden,s=(0,a.useState)(!1),u=(0,i.Z)(s,2),d=u[0],f=u[1],p=function(){(0,l.jq)("middle_displayTips"),f(!0)},m=function(){f(!1)};return t.length<=0?null:(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(c.View,{className:z["card-body-box"],children:(0,x.jsxs)(c.View,{className:z["flight-tips"],children:[1===t.length&&(0,x.jsxs)(c.View,{className:z["tips-container"],children:[t.map((function(e,t){return(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(c.View,{className:"".concat(!n&&z["txt-hidden"]),children:[(0,x.jsx)(c.Text,{className:z["txt-title"],children:e.title+"\uff1a"}),e.content]})},t)})),!n&&(0,x.jsxs)(c.View,{className:"".concat(z["flight-tips"]," ").concat(z["flight-tips-new"]),onClick:(0,o.trackFn)("onClick--42a7c",(function(){return r(!0)})),"data-testid":"on-switch-popup",children:[(0,x.jsx)(c.Text,{children:"\u5c55\u5f00\u63d0\u9192"}),(0,x.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-down"})]})]}),t.length>1&&!d&&(0,x.jsxs)(c.View,{className:"".concat(z["tips-container"]," ").concat(z.justifyB),children:[(0,x.jsxs)(c.View,{className:z["tips-box"],children:[t.map((function(e,t){return(0,x.jsx)(c.View,{className:"".concat(!n&&z["txt-hidden"]),children:(0,x.jsx)(c.Text,{className:z["txt-title"],children:(t>0?"\u3001":"")+e.title})},t)})),(0,x.jsx)(c.Text,{children:"\u7b49"+t.length+"\u6761\u9884\u8ba2\u63d0\u793a"})]}),!n&&(0,x.jsxs)(c.View,{className:"".concat(z["flight-tips"]," ").concat(z["flight-tips-new"]),onClick:(0,o.trackFn)("showAllTips--6c070",p),children:[(0,x.jsx)(c.Text,{children:"\u5c55\u5f00\u63d0\u9192"}),(0,x.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-down ".concat(z.marginL)})]})]}),t.length>1&&d&&(0,x.jsxs)(c.View,{className:"".concat(z["tips-container"]," ").concat(z.tipsShowAll),children:[t.map((function(e,t){return(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(c.View,{className:z["tips-box-new"],children:[(0,x.jsx)(c.Text,{className:z["txt-title"],children:e.title+"\uff1a"}),e.content]})},t)})),(0,x.jsxs)(c.View,{className:"".concat(z.wFull," ").concat(z["flight-tips-new"]),onClick:(0,o.trackFn)("foldTips--56226",m),children:[(0,x.jsx)(c.Text,{children:"\u6536\u8d77\u63d0\u9192"}),(0,x.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-down ".concat(z.transformStyle)})]})]})]})})})},$=(0,a.memo)(Q),X={"virtual-pop":"VirtualTipsModal-module_hquZY","virtual-title":"VirtualTipsModal-module_QiSD2","vdesc-title":"VirtualTipsModal-module_amwtP","vdesc-content":"VirtualTipsModal-module_D4rmc"},J=function(e){var t=e.virtualServices;return(0,x.jsx)(c.View,{children:(0,x.jsxs)(c.View,{className:"".concat(X["virtual-pop"]," px-3 pt-1"),children:[(0,x.jsx)(c.View,{className:"".concat(X["virtual-title"]," mb-3"),children:"\u4e58\u5750\u8be5\u822a\u73ed\u60a8\u5c06\u4eab\u53d7\u4e00\u4e0b\u670d\u52a1"}),t.CONTACT_HELP&&(0,x.jsx)(a.Fragment,{children:(0,x.jsx)(c.View,{className:"".concat(X["virtual-desc"]," mb-3"),children:(0,x.jsx)(c.View,{className:X["vdesc-content"],children:t.CONTACT_HELP})})}),t.DIRECT_BAGGAGE&&(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(c.View,{className:"".concat(X["virtual-desc"]," mb-3"),children:[(0,x.jsx)(c.View,{className:"".concat(X["virtual-title"]," mb-1"),children:"\u884c\u674e\u76f4\u8fbe"}),(0,x.jsx)(c.View,{className:X["vdesc-content"],children:t.DIRECT_BAGGAGE})]})}),t.FREE_ACCOMMODATION&&(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(c.View,{className:"".concat(X["virtual-desc"]," mb-3"),children:[(0,x.jsx)(c.View,{className:"".concat(X["vdesc-title"]," mb-1"),children:"\u514d\u8d39\u4f4f\u5bbf"}),(0,x.jsx)(c.View,{className:X["vdesc-content"],children:t.FREE_ACCOMMODATION})]})}),t.TRANSFER_CAR&&(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(c.View,{className:"".concat(X["virtual-desc"]," mb-3"),children:[(0,x.jsx)(c.View,{className:"".concat(X["vdesc-title"]," mb-1"),children:"\u642d\u4e58\u4e13\u8f66"}),(0,x.jsx)(c.View,{className:X["vdesc-content"],children:t.TRANSFER_CAR})]})}),t.FLIGHT_FREE&&(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(c.View,{className:"".concat(X["virtual-desc"]," mb-3"),children:[(0,x.jsx)(c.View,{className:"".concat(X["vdesc-title"]," mb-1"),children:"\u822a\u53d8\u65e0\u5fe7"}),(0,x.jsx)(c.View,{className:X["vdesc-content"],children:t.FLIGHT_FREE})]})}),t.FLIGHT_FREE&&(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(c.View,{className:"".concat(X["virtual-desc"]," mb-3"),children:[(0,x.jsx)(c.View,{className:"".concat(X["vdesc-title"]," mb-1"),children:"\u4e00\u7968\u5230\u5e95"}),(0,x.jsx)(c.View,{className:X["vdesc-content"],children:t.TICKET_TO_END})]})})]})})},ee=function(e){var t=e.virtualServices;(0,l.jq)("middle_displayTips");var n=(0,v.K4)({close:{position:"top-left"},closeMethod:"close",title:"\u901a\u7a0b\u822a\u73ed\u4e13\u4eab",mask:{callback:function(){(0,v.Mr)(n)}},content:(0,x.jsx)(J,{virtualServices:t}),position:"bottom",animationClassName:"animate__animated animate__slideInUp animate__faster",style:{height:"78%",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})},te={FlightCardNew:"FlightCard-module_BrPWz","flight-info-seg":"FlightCard-module_hCjph","border-bottom-none":"FlightCard-module_qjTcq","virtual-box":"FlightCard-module_YOq5b","virtual-container":"FlightCard-module_j17yw","virtual-tips":"FlightCard-module_jDstF","virtual-txt":"FlightCard-module_fwfcp","symbol-virtual":"FlightCard-module_o4mmj","txt-hidden":"FlightCard-module_Js7oq","virtual-btn":"FlightCard-module_klB7i","flight-guide":"FlightCard-module_QZ8qs",symbol_fire_inspire:"FlightCard-module_kkpJk","icon-share":"FlightCard-module_G_Jpj",isNewAirport:"FlightCard-module_Bgpmo"},ne=function(e){var t,n=e.tripType,u=e.tips,l=e.flights,d=e.page,f=e.tripTypefromOuter,p=e.fromBookingPage,v=void 0!==p&&p,g=e.isMiddleFloatLayer,y=(0,a.useState)(!1),_=(0,i.Z)(y,2),N=_[0],b=_[1],T=(null===u||void 0===u?void 0:u.filter((function(e){return e.content})))||[],w=(0,a.useMemo)((function(){return"ROUND_TRIP"===f||"ROUND_TRIP"===n}),[f,n]),C=(0,a.useMemo)((function(){var e,t,n,r=null===l||void 0===l?void 0:l.length,i=null===l||void 0===l||null===(e=l[0])||void 0===e||null===(e=e.segments)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.departureAirportCode,o=null===l||void 0===l||null===(t=l[r-1])||void 0===t?void 0:t.segments,a=null===o||void 0===o?void 0:o.length,c=null===o||void 0===o||null===(n=o[a-1])||void 0===n?void 0:n.arrivalAirportCode;return r>1&&i!==c}),[l]),I=function(e){b(e)};if(!l||!l.length)return null;var E=null===l||void 0===l||null===(t=l[0])||void 0===t?void 0:t.virtualServices;return(0,x.jsxs)(c.View,{className:te.FlightCardNew,children:[l.map((function(e,t){var n=t===l.length-1&&C;return(0,x.jsx)(a.Fragment,{children:(0,x.jsxs)(c.View,{className:(0,o.classnames)(te["flight-info-seg"],(0,r.Z)({},te["border-bottom-none"],t===l.length-1)),id:"flight-info-".concat(t),children:[(0,x.jsx)(B,{tripIndex:t,flight:e,fromBookingPage:v,tripTypefromOuter:f}),h(l)||w?(0,x.jsx)(L,{tripIndex:t,flight:e,page:d,fromBookingPage:v,isDifferentTrip:n,isMiddleFloatLayer:g}):m(l)?(0,x.jsx)(q,{tripIndex:t,flight:e,fromBookingPage:v,isDifferentTrip:n,isMiddleFloatLayer:g}):(0,x.jsx)(W,{tripIndex:t,flight:e,fromBookingPage:v,isDifferentTrip:n})]})},"".concat(e.duration,"_").concat(t))})),(0,x.jsx)($,{tips:T,isHidden:N,handleIsHidden:I}),E&&!!Object.keys(E).length&&(0,x.jsx)(a.Fragment,{children:(0,x.jsx)(c.View,{className:te["virtual-box"],children:(0,x.jsx)(c.View,{className:te["virtual-container"],children:(0,x.jsxs)(c.View,{className:"row ".concat(te["virtual-tips"]),children:[(0,x.jsxs)(c.View,{className:"".concat(te["virtual-txt"]," col-10"),children:[(0,x.jsx)(s.Z,{className:"".concat(te["symbol-virtual"]," mr-2"),src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/detail-flightcard/icon-flight-fireinspire.svg"}),(0,x.jsx)(c.View,{className:"col-10",children:(0,x.jsxs)(c.View,{className:"txt-content ".concat(te["txt-hidden"]),children:[(0,x.jsx)(c.Text,{className:"txt-title",children:"\u901a\u7a0b\u4e13\u4eab\uff1a"}),E.DIRECT_BAGGAGE&&(0,x.jsx)(c.Text,{children:"\u884c\u674e\u76f4\u8fbe"}),E.TRANSFER_CAR&&(0,x.jsx)(c.Text,{children:"\u3001\u6362\u4e58\u4e13\u8f66"}),E.FREE_ACCOMMODATION&&(0,x.jsx)(c.Text,{children:"\u3001\u514d\u8d39\u4f4f\u5bbf"}),E.FLIGHT_FREE&&(0,x.jsx)(c.Text,{children:"\u3001\u822a\u53d8\u65e0\u5fe7"}),E.DIRECT_BAGG&&(0,x.jsx)(c.Text,{children:"\u3001\u4e00\u6b21\u503c\u673a"}),E.FLIGHT_FREE&&(0,x.jsx)(c.Text,{children:"\u3001\u4e00\u7968\u5230\u5e95"})]})})]}),(0,x.jsxs)(c.View,{className:te["virtual-btn"],onClick:(0,o.trackFn)("onClick--2e9db",(function(){return ee({virtualServices:E})})),children:["\u67e5\u770b",(0,x.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-right"})]})]})})})})]})}},13839:function(e,t,n){"use strict";n(62171),n(90201);var r=n(71515),i=n(26707),o=n(2269);function a(){return(0,o.jsx)(r.Text,{className:"iconfont-h5 icon-arrow-right ".concat(i.Z.RightDisplayArrow)})}t["Z"]=a},44152:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(45023),i=n(62171),o=(n(90201),n(71515)),a=n(61659),c={FormItem:"FormItem-module_aSjiK",wrapperClass:"FormItem-module_jLTl6",newLockInputClass:"FormItem-module_d6RU8",lockInputClass:"FormItem-module_jO5cg","input-container-box":"FormItem-module_dEIbK","input-container-box-swan":"FormItem-module_uyl8h","input-container":"FormItem-module_NotjF","picker-box":"FormItem-module_er8SK","input-label":"FormItem-module_PKmzY",columns:"FormItem-module_ogRjX",field:"FormItem-module_K9jSc",alphabet:"FormItem-module_QzUFL","icon-info-slim":"FormItem-module_Y2wpz","label-left":"FormItem-module_wl3Dr","label-right":"FormItem-module_hr8rq","radio-icon":"FormItem-module_nJYok",active:"FormItem-module_zHCqu","error-message":"FormItem-module_RxIvh","tip-message":"FormItem-module_uggwA","color-blue":"FormItem-module_kSt9B","inner-input":"FormItem-module_u03YT",selector:"FormItem-module_Qp3a9","selector-swan":"FormItem-module_kDXmW"},s=n(2269),u=function(e){var t=e.wrapperClass,n=void 0===t?"":t,u=e.lockInputClass,l=void 0===u?"":u,d=e.title,f=void 0===d?"":d,p=e.showTitleArrow,m=void 0!==p&&p,h=e.subTitle,v=void 0===h?"":h,g=e.error,y=void 0===g?"":g,x=e.isLast,_=void 0!==x&&x,N=e.placeholder,b=void 0===N?"":N,T=e.inputWidth,w=void 0===T?"":T,C=e.inputType,I=void 0===C?"text":C,E=e.value,S=void 0===E?"":E,j=e.defaultValue,k=void 0===j?"":j,A=e.formType,P=void 0===A?"input":A,R=e.dateStart,O=void 0===R?"":R,D=e.dateEnd,L=void 0===D?"":D,V=e.showItemArrow,Z=void 0!==V&&V,M=e.fromBookingPage,F=void 0!==M&&M,B=e.radioTitle,U=void 0===B?["",""]:B,q=e.radioValue,H=void 0===q?["",""]:q,G=e.iconName,Y=void 0===G?["",""]:G,K=e.onClickTitle,W=void 0===K?function(){}:K,z=e.onClickItem,Q=void 0===z?function(){}:z,$=e.onBlur,X=void 0===$?function(){}:$,J=e.onSelectRadio,ee=void 0===J?function(){}:J,te=e.canDelay,ne=void 0!==te&&te;return(0,s.jsxs)(o.View,{className:(0,i.classnames)(c.FormItem,n),children:[(0,s.jsxs)(o.View,{className:"row",children:[(0,s.jsxs)(o.View,{className:(0,i.classnames)("col-3",{"bb-grey-1":F&&!y}),"data-testid":"title",ubtKey:f+"onClickTitle",onClick:(0,i.trackFn)(f+"onClickTitle",W),children:[!v&&(0,s.jsxs)(o.View,{className:c["input-label"],children:[(0,s.jsx)(o.View,{className:(0,i.classnames)(l,(0,r.Z)({},c.newLockInputClass,F)),children:f}),m&&(0,s.jsx)(o.Text,{className:"iconfont-h5 icon-arrow-down ".concat(c["color-blue"]," ml-3")})]}),v&&(0,s.jsxs)(o.View,{className:"".concat(c["input-label"]," ").concat(c.columns),children:[(0,s.jsx)(o.View,{className:c.field,children:f}),(0,s.jsx)(o.View,{className:c.alphabet,children:v})]})]}),(0,s.jsxs)(o.View,{className:(0,i.classnames)("col","align-self-center ",(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},c["input-container-box"],!0),c["input-container-box-swan"],!1),"bb-grey-1",!y&&!_),c.lockInputClass,l)),"data-testid":"item",ubtKey:f+"onClickItem",onClick:(0,i.trackFn)(f+"onClickItem",Q),children:["input"===P&&(0,s.jsx)(i.MiniInput,{ubtKey:f+"miniInput onBlur","data-testid":"input",placeholder:b,style:{width:w||""},placeholderStyle:"color: #ccc;",type:I,onBlur:(0,i.trackFn)(f+"miniInput onBlur",X),value:S}),"date"===P&&(0,s.jsx)(o.View,{className:c["picker-box"],children:(0,s.jsx)(o.Picker,{mode:"date",value:S||k,start:O||"1940-01-01",end:L,onChange:X,ubtKey:f+"picker onChange",children:(0,s.jsx)(o.View,{className:"picker",children:(0,s.jsx)(o.View,{className:c["input-label"],children:S})})})}),"select"===P&&(0,s.jsx)(o.View,{className:c["input-label"],children:S}),"radio"===P&&(0,s.jsxs)(o.View,{className:c["input-label"],children:[(0,s.jsxs)(o.View,{className:(0,i.classnames)(c["label-left"],{active:S===H[0]}),onClick:(0,i.trackFn)(f+"onClickItem--onClick--9e3f6",(function(){return ee(H[0])})),children:[(0,s.jsx)(a.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/form-item/".concat(Y[0],"_").concat(S===H[0]?"true":"false",".png"),className:c["radio-icon"]}),(0,s.jsx)(o.Text,{children:U[0]})]}),(0,s.jsxs)(o.View,{className:(0,i.classnames)(c["label-right"],(0,r.Z)({},c.active,S===H[1])),onClick:(0,i.trackFn)(f+"onClickItem--onClick--298b7",(function(){return ee(H[1])})),children:[(0,s.jsx)(a.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/form-item/".concat(Y[1],"_").concat(S===H[1]?"true":"false",".png"),className:c["radio-icon"]}),(0,s.jsx)(o.Text,{children:U[1]})]})]}),Z&&(0,s.jsx)(o.View,{className:"iconfont-h5 icon-arrow-down ".concat(c.selector)})]})]}),ne&&(0,s.jsx)(o.View,{className:"row",children:(0,s.jsx)(o.View,{className:"col offset-3",children:(0,s.jsx)(o.View,{className:c["tip-message"],children:"\u51fa\u5165\u5883\u7ba1\u7406\u5c40\u901a\u77e5\uff0c\u57282020.1.1\u81f32023.12.30\u8fc7\u671f\u7684\u56de\u4e61\u8bc1\u53ef\u5ef6\u671f\u81f32023.12.31\uff0c\u8bf7\u624b\u52a8\u8c03\u6574"})})}),(0,s.jsx)(o.View,{className:"row",children:!!y&&(0,s.jsx)(o.View,{className:(0,i.classnames)("col","bt-red-1",{"offset-3":!F}),children:(0,s.jsx)(o.View,{className:(0,i.classnames)(c["error-message"],{"offset-3":F}),children:y})})})]})},l=u},61659:function(e,t,n){"use strict";n(62171);var r=n(71515);t["Z"]=r.Image},45283:function(e,t,n){"use strict";var r=n(57042),i=n(24460),o=n(81876),a=n(21867),c=n(86066),s=n(45023),u=(n(62171),n(90201)),l=n(71515),d=n(2269),f=function(e){(0,a.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,s.Z)((0,o.Z)(e),"state",{show:!1}),e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onLoad||function(){};setTimeout((function(){e.setState({show:!0},t)}),this.props.time)}},{key:"render",value:function(){return(0,d.jsx)(l.View,{children:this.state.show?this.props.children:null})}}]),n}(u.Component);f.defaultProps={time:150},t["Z"]=f},66187:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(45023),i=n(62171),o=(n(90201),n(71515)),a=n(51491),c=n(61659),s=n(94345),u=n(34869),l=n(48937),d={"title-box":"LoadBarTitle-module_Zg39p",tt:"LoadBarTitle-module_pCOEz",normal:"LoadBarTitle-module_kb_e4",active:"LoadBarTitle-module_aIayn","arrow-icon":"LoadBarTitle-module_HKL3A"},f=n(2269);function p(e){var t=e.clsName,n=e.pageName,p=e.onBack;if(l.F.isFlightHotel&&(0,u.C0)())return null;var m="middle"===n,h="booking"===n;return(0,f.jsx)(o.View,{className:d["title-container"],children:(0,f.jsx)(s.Z,{clsName:t,onBack:p,children:function(){return(0,f.jsxs)(o.View,{className:(0,i.classnames)(d["title-box"],(0,r.Z)({},d.tt,!1)),children:[(0,f.jsx)(o.View,{className:(0,i.classnames)(d.normal,(0,r.Z)({},d.active,m)),children:a.WK}),(0,f.jsx)(c.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/title_arrow.png",className:d["arrow-icon"]}),(0,f.jsx)(o.View,{className:(0,i.classnames)(d.normal,(0,r.Z)({},d.active,h)),children:a.eJ}),(0,f.jsx)(c.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/title_arrow.png",className:d["arrow-icon"]}),(0,f.jsx)(o.View,{className:d.normal,children:a.lt})]})}})})}var m=p},23987:function(e,t,n){"use strict";n.d(t,{C:function(){return T}});var r=n(22276),i=n(90129),o=n(298),a=n(62171),c=n(90201),s=n(71515),u=n(38896),l=function(e){return"function"===typeof e},d=function(e,t){return l(e)?e(t):e},f=n(10072),p=n(32904),m=function(e){var t=(0,f.oR)(e),n=t.modals,r=e.name,i=(0,c.useMemo)((function(){return{close:function(e){p.$.emit(r,{type:f.Us.REMOVE_MODAL,modalId:e})},dismiss:function(e){},hidden:function(e){p.$.emit(r,{type:f.Us.HIDDEN_MODAL,modalId:e})}}}),[r]);return{modals:n,handlers:i}},h=n(82605),v=n(2269);function g(e){var t=e.options,n=e.handlers,r=e.maskStyle,i=t.id,c=t.mask,u=t.type,l=c||{},d=l.enableClose,f=void 0===d||d,p=l.style,m=l.callback;return(0,v.jsx)(s.View,{className:"taro-modal-mask",style:(0,o.Z)((0,o.Z)({},r),p),onClick:(0,a.trackFn)("onClick--33f1f",(function(){f&&("display"===u?n.hidden(i):n.close(i)),m&&m()})),catchMove:!0})}function y(e){var t=e.options,n=e.handlers,r=t.close,i=t.id;if(r){var c=r.style,u=r.position,l=void 0===u?"":u,d=r.callback,f=r.isBack,p=void 0!==f&&f,m=l.includes("top")?{top:0}:{bottom:0},h=l.includes("left")?{left:0}:{right:0};return(0,v.jsx)(s.View,{className:"modal-close",style:(0,o.Z)((0,o.Z)((0,o.Z)({},m),h),c),onClick:(0,a.trackFn)("onClick--66a2a",(function(){n.close(i),d&&d()})),children:p?(0,v.jsx)(s.Text,{className:"iconfont-h5 icon-arrow-left"}):(0,v.jsx)(s.Text,{className:"iconfont-h5 icon-close icon-special"})})}return null}function x(e){var t=e.options,n=t.title;return n?"string"===typeof n?(0,v.jsx)(s.View,{className:"modal-title",children:(0,v.jsx)(s.Text,{children:n})}):n:null}function _(e){var t=e.options,n=t.content;return n?"string"!==typeof n?d(n,t):(0,v.jsx)(s.View,{className:"modal-content",children:(0,v.jsx)(s.Text,{children:n})}):null}function N(e){var t=e.options,n=e.handlers,r=t.buttons,i=t.autoClose,c=t.id,u=t.btnDirection,l=void 0===u?"row":u;if(!r||r.length<=0)return null;function d(e){i?(n.close(c),e&&e()):e&&e()}return(0,v.jsx)(s.View,{className:"modal-btns ".concat("column"===l?"btn-column":""),children:r.map((function(e){return(0,v.jsx)(s.Text,{className:"modal-btn ".concat(e.class?e.class:""),style:(0,o.Z)({},e.style),onClick:(0,a.trackFn)(e.text+"--15700",(function(){return d(e.callback)})),children:e.text},e.text)}))})}var b=function(){var e=(0,c.useMemo)((function(){return(0,u.I2)(Math.random().toString())}),[]),t=m({name:e}),n=t.modals,a=void 0===n?[]:n,l=t.handlers,d=(0,c.useState)([]),f=(0,i.Z)(d,2),p=f[0],b=f[1];return(0,c.useEffect)((function(){var e=a.map((function(e){if(e.visible)return e.id})).filter((function(e){return e}));b((function(t){var n=t.filter((function(t){return!e.includes(t)}));return n}))}),[a]),(0,v.jsx)(s.View,{className:"taro-modal-wrapper",catchMove:!0,children:null===a||void 0===a?void 0:a.map((function(e){var t=e.animationClassName,n=void 0===t?"":t,i=e.position,a=e.style,c=e.id,u=n||("bottom"===i?"animate__animated animate__slideInUp animate__faster":""),d=!1===e.visible&&p.includes(c);return(0,v.jsx)(s.View,{className:"taro-modal-container ".concat(e&&e.className?e.className:""),style:{display:d?"none":""},children:(0,v.jsxs)(s.View,{className:"taro-modal-content",children:[(0,v.jsx)(g,{options:e,handlers:l,maskStyle:{display:!1===e.visible?"none":""}}),(0,v.jsxs)(s.View,{className:"flex-content ".concat(u," ").concat(!1===e.visible?"animate__slideOutDown":""),onAnimationEnd:function(){!1===e.visible&&b((function(e){return[].concat((0,r.Z)(e),[c])}))},style:(0,o.Z)((0,o.Z)({},(0,h.C)(i)),a),children:[(0,v.jsx)(y,{options:e,handlers:l}),(0,v.jsx)(x,{options:e}),(0,v.jsx)(_,{options:e}),(0,v.jsx)(N,{options:e,handlers:l})]})]})},c)}))})},T=b},32904:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(22276),i=(n(62171),{list:new Map,emitQueue:new Map,queue:new Map,on:function(e,t){var n,i=this;return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),null!==(n=this.queue.get(e))&&void 0!==n&&n.length&&(this.queue.get(e).forEach((function(n){i.excute.apply(i,[e,t].concat((0,r.Z)(n)))})),this.queue.delete(e)),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)?this.list.get(e).forEach((function(n){t.excute.apply(t,[e,n].concat(r))})):this.queue.has(e)?this.queue.get(e).push(r):this.queue.set(e,[r])},excute:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=setTimeout((function(){t.apply(void 0,r)}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(o)}})},10072:function(e,t,n){"use strict";n.d(t,{Us:function(){return u},oR:function(){return m}});var r=n(90129),i=n(22276),o=n(298),a=(n(62171),n(90201)),c=n(32904),s=20,u=function(e){return e[e["ADD_MODAL"]=0]="ADD_MODAL",e[e["UPDATE_MODAL"]=1]="UPDATE_MODAL",e[e["UPSERT_MODAL"]=2]="UPSERT_MODAL",e[e["DISMISS_MODAL"]=3]="DISMISS_MODAL",e[e["REMOVE_MODAL"]=4]="REMOVE_MODAL",e[e["HIDDEN_MODAL"]=5]="HIDDEN_MODAL",e[e["DISPLAY_MODAL"]=6]="DISPLAY_MODAL",e}({}),l=new Map,d=function(e){if(!l.has(e)){var t=setTimeout((function(){l.delete(e)}),1e3);l.set(e,t)}},f=function(e){var t=l.get(e);t&&clearTimeout(t)},p=function e(t,n){switch(n.type){case u.ADD_MODAL:return(0,o.Z)((0,o.Z)({},t),{},{modals:[].concat((0,i.Z)(t.modals),[n.modal]).slice(0,s)});case u.UPDATE_MODAL:return n.modal.id&&f(n.modal.id),(0,o.Z)((0,o.Z)({},t),{},{modals:t.modals.map((function(e){return e.id===n.modal.id?(0,o.Z)((0,o.Z)({},e),n.modal):e}))});case u.UPSERT_MODAL:var r=n.modal;return t.modals.find((function(e){return e.id===r.id}))?e(t,{type:u.UPDATE_MODAL,modal:r}):e(t,{type:u.ADD_MODAL,modal:r});case u.DISMISS_MODAL:var a=n.modalId;return a?d(a):t.modals.forEach((function(e){d(e.id)})),(0,o.Z)((0,o.Z)({},t),{},{modals:t.modals.map((function(e){return e.id===a||void 0===a?(0,o.Z)((0,o.Z)({},e),{},{visible:!1}):e}))});case u.HIDDEN_MODAL:var c=n.modalId;return(0,o.Z)((0,o.Z)({},t),{},{modals:t.modals.map((function(e){return e.id===c?(0,o.Z)((0,o.Z)({},e),{},{visible:!1}):e}))});case u.DISPLAY_MODAL:var l=n.modalId,p=n.modal,m=t.modals.find((function(e){return e.id===l}));if(!m)return e(t,{type:u.ADD_MODAL,modal:(0,o.Z)((0,o.Z)({},p),{},{resolve:n.resolve,reject:n.reject})});var h=t.modals.filter((function(e){return e.id!==l}));return(0,o.Z)((0,o.Z)({},t),{},{modals:[].concat((0,i.Z)(h),[(0,o.Z)((0,o.Z)({},p),{},{visible:!0,resolve:n.resolve,reject:n.reject})])});case u.REMOVE_MODAL:return void 0===n.modalId?(0,o.Z)((0,o.Z)({},t),{},{modals:[]}):(0,o.Z)((0,o.Z)({},t),{},{modals:t.modals.filter((function(e){return e.id!==n.modalId}))});default:return t}},m=function(e){var t=e.name,n=(0,a.useReducer)(p,{modals:[]}),i=(0,r.Z)(n,2),o=i[0],s=i[1];return(0,a.useEffect)((function(){return c.$.on(t,s),function(){c.$.off(t)}}),[t]),o}},82605:function(e,t,n){"use strict";n.d(t,{B:function(){return i},C:function(){return o}});n(62171);var r=n(33943),i=function(){var e=0;return function(){return(++e).toString()}}(),o=function(e){if("bottom"===e){var t=(0,r.R2)(),n=t.bottom,i=void 0===n?0:n;return{position:"absolute",bottom:0,left:0,width:"100%",padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,paddingBottom:"".concat(i,"px")}}return null}},67347:function(e,t,n){"use strict";n.d(t,{Mr:function(){return g},DE:function(){return v},K4:function(){return h}});n(62171),n(23987);var r=n(298),i=n(96756),o=n(38896),a=n(82605),c=n(10072),s=n(32904),u=n(32180)["window"],l=(n(32180)["document"],function(e){return(0,r.Z)((0,r.Z)({createdAt:u.Date.now(),autoClose:!0},e),{},{id:(null===e||void 0===e?void 0:e.id)||(0,a.B)()})}),d=function(e){var t=(0,o.I2)(),n=l(e);return s.$.emit(t,{type:c.Us.UPSERT_MODAL,modal:n}),n.id},f=[];var p=function(e){var t,n,a=(0,o.I2)(),u=new Promise((function(e,r){t=e,n=r})),d=l((0,r.Z)({type:"display"},(0,r.Z)({id:e.layerId},e))),p=function(){s.$.emit(a,{type:c.Us.HIDDEN_MODAL,modalId:d.id}),n.apply(void 0,arguments)};f.push(p);var m=function(){s.$.emit(a,{type:c.Us.HIDDEN_MODAL,modalId:d.id}),t.apply(void 0,arguments)};return s.$.emit(a,{type:c.Us.DISPLAY_MODAL,modal:d,modalId:d.id,resolve:function(){m.apply(void 0,arguments),i.n.history.back()},reject:function(){p.apply(void 0,arguments),i.n.history.back()}}),u};function m(){}var h=function(e){return m(),d(e)},v=function(e){return m(),p(e)},g=function(e){m(!1);var t=(0,o.I2)();s.$.emit(t,{type:c.Us.REMOVE_MODAL,modalId:e})}},94345:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(45023),i=n(90129),o=n(62171),a=n(90201),c=n(71515),s=n(92954),u=n(61659),l=n(80425),d=n(33943),f=n(88431),p=n(49574),m=n(62461),h=n(13441),v=n(69905),g=n(22213),y=n(34869),x=function(){return null},_={"navigation-container":"NavBar-module_GQrn5",list:"NavBar-module_cJzUH","status-bar":"NavBar-module_aqvey","navigation-bar":"NavBar-module_zEypT",show:"NavBar-module_fRuyt",booking:"NavBar-module_wJzQD","navigation-left":"NavBar-module_MMXCw","navigation-icon":"NavBar-module_xiqis","navigation-middle":"NavBar-module_dx00B",tt:"NavBar-module_m_ZKt","navigation-title":"NavBar-module_xugfZ","nav-wrap":"NavBar-module_DPqyJ","nav-titleContainer":"NavBar-module_vrgiV","nav-title":"NavBar-module_F98xK",whiteColor:"NavBar-module_qduWi","home-btn-group":"NavBar-module_PJqob","btn-wrap":"NavBar-module_f6bVy","btn-home":"NavBar-module_xCYHz","swan-home":"NavBar-module_ftA8H","btn-icon":"NavBar-module_o3V9Y","btn-back":"NavBar-module_DsKcw",line:"NavBar-module_R1RRo","title-bar":"NavBar-module_QR36t",barBox:"NavBar-module_zHnlK","b-nav-wrap":"NavBar-module_bYGgx","user-login-right":"NavBar-module_g7n2A","user-manu-list":"NavBar-module_vmuIa","m-list-item":"NavBar-module_yBaBC","jifen-yunfei":"NavBar-module_KQaYl","home-btn-group-new":"NavBar-module_ZKwIR"},N=n(2269),b=function(e){var t=e.onBack,n=e.onBackBefore,u=e.children,y=e.title,b=e.titleText,w=e.clsName,C=e.reject,I=e.resolve,E=(0,a.useState)(!1),S=(0,i.Z)(E,2),j=S[0],k=S[1],A=(0,m.C)(g.e_),P=(0,m.C)(g.R1),R=(0,m.C)(g.cY),O=(0,s.useRouter)(),D=O.path,L=(0,h.kK)(D),V=(0,a.useMemo)((function(){if(y)return y;var e=String.fromCharCode(8640),t=String.fromCharCode(8652),n="ROUND_TRIP"===A,r="ONE_WAY"===A;if([l.m8.FIRST,l.m8.INTER_FIRST].includes(L))return"".concat(n?"\u53bb\uff1a":"").concat(P," ").concat(e," ").concat(R);if([l.m8.SECOND,l.m8.INTER_SECOND].includes(L))return"\u8fd4: ".concat(R," ").concat(e," ").concat(P);if(L===l.m8.MIDDLE){var i=r?e:t;return"".concat(P," ").concat(i," ").concat(R)}return L===l.m8.BIGHOME?"\u586b\u8ba2\u5355":"\u643a\u7a0b\u673a\u7968"}),[L,y,R,P,A]);(0,a.useEffect)((function(){(0,p.Td)(b||V)}),[b,V]);var Z=(0,a.useMemo)((function(){return(0,d.So)().statusBarHeight}),[]),M=(0,a.useMemo)((function(){return(0,d.tL)()}),[]),F=(0,a.useCallback)((function(){return"function"===typeof n?n():"function"===typeof t?t():"function"===typeof C?C():void([l.m8.HOME].includes(L)?(0,v.Ss)({resolve:I}):(0,v.z_)({resolve:I}))}),[n,t,L,C,I]),B=(0,a.useMemo)((function(){var e=u&&u({clickTitle:function(e){k(void 0===e?!j:e)},fold:j});return e||("string"===typeof V?(0,N.jsx)(c.Text,{className:_["navigation-title"],children:V}):V)}),[u,j,V]);if((0,f.oP)())return null;var U=(0,o.classnames)(_["navigation-container"],w&&_[w],(0,r.Z)({},_.show,w&&j));return(0,N.jsxs)(c.View,{id:"navigation-box",children:[(0,N.jsxs)(c.View,{className:U,children:[(0,N.jsx)(c.View,{className:(0,o.classnames)(_["status-bar"]),style:{height:"".concat(Z,"px")}}),(0,N.jsxs)(c.View,{className:(0,o.classnames)(_["navigation-bar"]),style:{height:"".concat(M,"px")},children:[(0,N.jsx)(c.View,{className:(0,o.classnames)(_["navigation-middle"],(0,r.Z)({},_.tt,!1)),children:B}),(0,N.jsx)(T,{leftClickFn:F}),(0,N.jsx)(x,{})]})]}),(0,N.jsx)(c.View,{style:{height:"".concat(M+Z,"px")}})]})};function T(e){var t=e.leftClickFn,n=(0,s.useRouter)(),i=n.path,d=(0,h.kK)(i),p=(0,s.getCurrentPages)(),m=(0,a.useMemo)((function(){return!(0,f.Z1)()&&(null===p||void 0===p?void 0:p.length)<=1&&[l.m8.HOME].includes(d)}),[p,d]),g=!1,x=!1,b=!1,T=b&&(0,y.C0)(),w=T||(0,f.Ak)();return x||w?null:(0,N.jsxs)(c.View,{className:_["home-btn-group-new"],children:[!g&&(0,N.jsx)(c.View,{className:"".concat(_["btn-wrap"]," ").concat(_["btn-back"]),onClick:(0,o.trackFn)("leftClickFn--d6f5e",t),children:(0,N.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-left ".concat(_["btn-icon"])})}),m&&(0,N.jsx)(c.View,{className:(0,o.classnames)(_["btn-wrap"],_["btn-home"],(0,r.Z)({},_["swan-home"],g)),onClick:(0,o.trackFn)("backBigHome--930c4",v.l0),children:(0,N.jsx)(u.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/home/home-black.png",mode:"aspectFit",className:_["btn-icon"]})})]})}var w=b},30864:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r=n(45023),i=n(62171),o=n(90201),a=n(71515),c=n(61659),s=n(2269),u=function(e){var t=e.children;return(0,s.jsx)(s.Fragment,{children:t})},l=u,d=l,f=n(33943),p=n(81369),m=n(48937),h=n(43752),v=n(49574),g={"change-mask":"PriceChange-module_LlH6U","pop-full":"PriceChange-module_AD0rl","pop-full-close":"PriceChange-module_MebBE",icon:"PriceChange-module_A5rhI","pop-content":"PriceChange-module_OmPWl",active:"PriceChange-module_bipzT","modal-icon":"PriceChange-module_ralYw","icon-wrap":"PriceChange-module_Dfk4L",content:"PriceChange-module_fdA6e",title:"PriceChange-module_jt3QU",text:"PriceChange-module_y1q6K",strong:"PriceChange-module_hISvY",hot:"PriceChange-module_jWNyd",price:"PriceChange-module_Jbucj","p-span":"PriceChange-module_fpknD","p-strong":"PriceChange-module_pqeE4","p-dfn":"PriceChange-module_ab7eB","p-del":"PriceChange-module_jFWaN",operate:"PriceChange-module_AKwTZ",button:"PriceChange-module_lGw1y",info:"PriceChange-module_Paqni","i-span":"PriceChange-module_Q4lUg"},y=function(e){var t=e.info,n=e.show,c=void 0!==n&&n,u=e.onClose,l=e.callback;(0,o.useEffect)((function(){c&&(0,h.jq)("price_change_onshow",{desc:"\u53d1\u751f\u53d8\u4ef7",text:t.oldPrice<t.newPrice?"\u6da8\u4ef7\u7acb\u5373\u8ba2":"\u964d\u4ef7\u8d76\u7d27\u8ba2"})}),[t,c]);var d=(0,o.useCallback)((function(){(0,h.jq)("PriceChange_onClose",{desc:"\u5173\u95ed"}),u()}),[u]),f=(0,o.useCallback)((function(){(0,h.jq)("PriceChange_onTapBack",{desc:"\u641c\u7d22\u5176\u4ed6\u822a\u73ed"}),(0,v.n)({delta:2})}),[]),p=(0,o.useCallback)((function(){(0,h.jq)("PriceChange_onTapAccept",{desc:"\u63a5\u53d7\u53d8\u4ef7\u7ee7\u7eed\u9884\u8ba2",text:t.oldPrice<t.newPrice?"\u6da8\u4ef7\u7acb\u5373\u8ba2":"\u964d\u4ef7\u8d76\u7d27\u8ba2"}),u(),l&&l()}),[t,u,l]);return c&&(0,s.jsxs)(a.View,{children:[(0,s.jsx)(a.View,{className:g["change-mask"],onClick:(0,i.trackFn)("onCloseCallback--11efe",d),style:{zIndex:100}}),(0,s.jsxs)(a.View,{className:g["pop-full"],children:[(0,s.jsx)(a.View,{className:g["pop-full-close"],onClick:(0,i.trackFn)("onCloseCallback--1a66c",d),children:(0,s.jsx)(a.View,{className:g.icon})}),(0,s.jsx)(a.View,{className:g["pop-content"],children:(0,s.jsxs)(a.View,{className:(0,i.classnames)((0,r.Z)({},g.active,t.oldPrice<t.newPrice)),children:[(0,s.jsx)(a.View,{className:g["icon-wrap"],children:(0,s.jsx)(a.View,{className:g["modal-icon"]})}),(0,s.jsxs)(a.View,{className:g.content,children:[(0,s.jsx)(a.View,{className:g.title,children:t.changeTitle}),(0,s.jsxs)(a.View,{className:g.text,children:["\u8fd8\u6709",(0,s.jsx)(a.Text,{className:g.strong,children:t.bookingcnt+"\u4f4d"}),"\u7528\u6237\u5728\u6d4f\u89c8\u8be5\u822a\u73ed",(0,s.jsx)(a.Text,{className:g.hot,children:"HOT"})]}),t.oldPrice<t.newPrice?(0,s.jsx)(o.Fragment,{children:(0,s.jsxs)(a.View,{className:g.price,style:{display:"flex",alignItems:"flex-end"},children:[(0,s.jsx)(a.Text,{className:g["p-dfn"],children:"\xa5"}),(0,s.jsx)(a.Text,{className:g["p-strong"],children:t.newPrice}),(0,s.jsx)(a.Text,{className:g["p-del"],children:"\u539f\u8ba2\u5355\u4ef7\xa5"+t.oldPrice})]})}):(0,s.jsx)(o.Fragment,{children:(0,s.jsxs)(a.View,{className:g.price,children:[(0,s.jsx)(a.Text,{className:g["p-span"],children:"\u964d\u4e86"}),(0,s.jsx)(a.Text,{className:g["p-dfn"],children:"\xa5"}),(0,s.jsx)(a.Text,{className:g["p-stromg"],children:t.oldPrice-t.newPrice})]})}),(0,s.jsxs)(a.View,{className:g.operate,children:[(0,s.jsx)(a.View,{className:g.button,onClick:(0,i.trackFn)("onTapAccept--81463",p),children:t.oldPrice<t.newPrice?"\u9501\u5b9a\u4ef7\u683c\u7acb\u5373\u8ba2":"\u8d76\u7d27\u8ba2"}),t.oldPrice<t.newPrice&&(0,s.jsx)(a.View,{className:g.button,onClick:(0,i.trackFn)("onTapBack--4f56c",f),children:"\u641c\u7d22\u5176\u4ed6\u822a\u73ed"})]}),(0,s.jsxs)(a.View,{className:g.info,children:[(0,s.jsx)(a.View,{children:"\u4ef7\u683c\u53d8\u52a8\u8bf4\u660e"}),(0,s.jsx)(a.View,{className:g["i-span"],children:"\u4ef7\u683c\u4fe1\u606f\u6e90\u4e8e\u822a\u7a7a\u516c\u53f8\u53ca\u4f9b\u5e94\u5546\u516c\u5e03\u6570\u636e, \u4ee5\u6700\u65b0\u516c\u5e03\u6570\u636e\u4e3a\u51c6\uff0c\u4ef7\u683c\u5b9e\u65f6\u53d8\u52a8\u53ef\u80fd\u7531\u4e8e\uff1a"}),(0,s.jsx)(a.View,{className:g["i-span"],children:"1. \u4ef7\u683c\u4fe1\u606f\u5237\u65b0\u5b58\u5728\u5ef6\u8fdf\uff1b"}),(0,s.jsx)(a.View,{className:g["i-span"],children:"2.\u673a\u7968\u5404\u8231\u4f4d\u4ef7\u683c\u5e93\u5b58\u6709\u9650\uff0c\u6839\u636e\u8231\u4f4d\u552e\u5356\u60c5\u51b5\u4ef7\u683c\u4f1a\u6709\u6ce2\u52a8\u3002"})]})]})]})})]})]})||null},x=y,_=n(63871),N={"pop-payment":"PayLoading-module_WP5FB",title:"PayLoading-module_vgbLY","title-view-content":"PayLoading-module_Gm8hY","move-top":"PayLoading-module_xCdeh",moveTop:"PayLoading-module_MzxWh","move-top2":"PayLoading-module_KPnYR",moveTop2:"PayLoading-module_ljAu4","insurance-title":"PayLoading-module__UEop","icon-pay-guaranteed":"PayLoading-module_MkpED","pay-title":"PayLoading-module_ylQqp",progress:"PayLoading-module_LrYEC","progress-bar":"PayLoading-module_SuOvv",payProgress:"PayLoading-module_AvL4h","aircraft-item":"PayLoading-module_r241y","airline-code":"PayLoading-module_JAcRf","show-item":"PayLoading-module_t3PLY",fadeIn:"PayLoading-module_NtWy0",city:"PayLoading-module_gYWab","icon-arrow-line":"PayLoading-module_r1ikg",round:"PayLoading-module_Vl6CF","item-flight-icon":"PayLoading-module_wCBBs","item-flight-con":"PayLoading-module_tHbxa","item-icon":"PayLoading-module_sXbsZ","item-con":"PayLoading-module_PZr9V","item-passenger":"PayLoading-module_AW5sr","item-xproduct":"PayLoading-module_ER0AY","pop-hotel":"PayLoading-module_bPNGu","move-left":"PayLoading-module_Zx1IL",moveLeft:"PayLoading-module_tZsOw","flight-content":"PayLoading-module_fC2UL","insurance-content":"PayLoading-module_AhmAh","loading-icon":"PayLoading-module_zpd9A","insurance-text":"PayLoading-module_s08HS",fadeOut:"PayLoading-module_FaMbw"},b=function(e){var t=e.tripType,n=e.departCity,u=e.arrivalCity,l=e.insuranceRuleSwitch,d=e.selectedPassengers,f=e.selectedLounge,p=void 0===f?[]:f,h=e.selectedSecurity,v=void 0===h?[]:h,g=e.selectedInsurances,y=e.selectedServicePackage,x=e.sections,b=(0,_.Gm)("insuranceAgentConfig",{createOrder:{popupTitle:"\u6b63\u5728\u521b\u5efa\u4fdd\u9669\u8ba2\u5355\u2026",popupContent:"\u5373\u5c06\u8fdb\u5165\u643a\u7a0b\u4fdd\u9669\u4ee3\u7406\u5e73\u53f0\u8fdb\u884c\u6295\u4fdd\uff0c\u5e76\u6388\u6743\u4e58\u673a\u4eba\u4e3a\u88ab\u4fdd\u9669\u4eba\uff0c\u9700\u4ed4\u7ec6\u9605\u8bfb\u4fdd\u9669\u6761\u6b3e\uff0c\u6295\u4fdd\u4eba\u5728\u9500\u552e\u9875\u9762\u7684\u64cd\u4f5c\u5c06\u88ab\u8bb0\u5f55"}}),T=b.createOrder,w=(0,_.Sl)("insuranceAgentLayer"),C=(0,o.useMemo)((function(){return g&&(null===g||void 0===g?void 0:g.length)>0}),[g]),I=(0,o.useMemo)((function(){return C&&l&&w}),[C,w,l]),E=(0,o.useMemo)((function(){return d.map((function(e){return e.name.name})).join("\u3001")}),[d]),S=(0,o.useMemo)((function(){var e=(null===g||void 0===g?void 0:g.map((function(e){return e.typeName})))||[];if(p.length&&e.push("\u8d35\u5bbe\u4f11\u606f\u5ba4"),v.length&&e.push("\u5feb\u901f\u5b89\u68c0"),null!==y&&void 0!==y&&y.length){var t=y[0].PackageDetailInfo,n=void 0===t?[]:t,r=n[0]||{},i=r.PackageSalePolicyInfo,o=void 0===i?[]:i,a=o[0];null!==a&&void 0!==a&&a.PackageName&&e.push(a.PackageName)}return e}),[g,p.length,v.length,y]);return(0,s.jsx)(a.View,{className:N["popup-pay-loding"],children:(0,s.jsxs)(a.View,{className:(0,i.classnames)(N["pop-payment"],(0,r.Z)({},N["pop-hotel"],m.F.isFlightHotel)),children:[(0,s.jsx)(a.View,{className:N.title,children:(0,s.jsxs)(a.View,{className:N["title-view-content"],children:[C?(0,s.jsxs)(a.View,{className:"".concat(N["insurance-title"]," ").concat(N["move-top"]),children:[(0,s.jsx)(a.Text,{className:"iconfont-h5 ".concat(N["icon-pay-guaranteed"])}),"\u884c\u7a0b\u5df2\u6dfb\u52a0\u4fdd\u969c"]}):(0,s.jsx)(a.View,{className:"".concat(N["pay-title"]," ").concat(N["move-top"]),children:"\u6b63\u5728\u4e3a\u60a8\u521b\u5efa\u5b89\u5168\u652f\u4ed8"}),(0,s.jsxs)(a.View,{className:I?"move-top2":"",children:[(0,s.jsx)(a.View,{className:"".concat(N["pay-title"]," ").concat(N["move-top"]),children:"\u6838\u5bf9\u8ba2\u5355\u4fe1\u606f"}),I&&(0,s.jsx)(a.View,{className:"".concat(N["pay-title"]," ").concat(N["move-top"]),children:T.popupTitle})]})]})}),(0,s.jsxs)(a.View,{className:(0,i.classnames)(N["flight-content"],(0,r.Z)({},N["move-left"],I)),children:[(0,s.jsx)(a.View,{className:N.progress,children:(0,s.jsx)(a.View,{className:N["progress-bar"]})}),(0,s.jsxs)(a.View,{className:"".concat(N["show-item"]," ").concat(N["item-flight"]),children:[(0,s.jsx)(a.View,{className:N["item-flight-icon"],children:(0,s.jsx)(a.Text,{className:"iconfont-h5 icon-pay-flight"})}),(0,s.jsxs)(a.View,{className:N["item-flight-con"],children:[(n||u)&&(0,s.jsxs)(a.View,{className:N.city,children:[n,(0,s.jsxs)(a.View,{className:(0,i.classnames)("icon-arrow",(0,r.Z)({},N.round,"ROUND_TRIP"===t)),children:[(0,s.jsx)(a.View,{className:N["icon-arrow-line"]}),(0,s.jsx)(a.View,{className:N["icon-arrow-line"]})]}),u]}),(0,s.jsx)(a.View,{className:"aircraft",children:null===x||void 0===x?void 0:x.map((function(e,n){return(0,s.jsxs)(a.View,{className:N["aircraft-item"],children:[(0,s.jsx)(a.View,{children:"ROUND_TRIP"===t?0===n?"\u53bb:":"\u8fd4:":""}),(0,s.jsxs)(a.View,{children:[(0,s.jsx)(a.Label,{children:e.date}),(0,s.jsx)(a.Label,{children:e.segments[0].departureTime+"\u8d77\u98de"}),(0,s.jsx)(a.View,{className:N["airline-code"],children:e.segments[0].airline})]})]},n)}))})]}),(0,s.jsx)(a.Text,{className:"iconfont-h5 icon-ic_goods"})]}),m.F.isFlightHotel&&(0,s.jsxs)(a.View,{className:"".concat(N["show-item"]," ").concat(N["item-flight"]),children:[(0,s.jsx)(m.F.Component,{type:m.C.payLayerItem}),(0,s.jsx)(a.Text,{className:"iconfont-h5 icon-ic_goods"})]}),(0,s.jsxs)(a.View,{className:"".concat(N["show-item"]," ").concat(N["item-passenger"]),children:[(0,s.jsx)(a.View,{className:N["item-icon"],children:(0,s.jsx)(a.Text,{className:"iconfont-h5 icon-pay-person"})}),(0,s.jsx)(a.View,{className:N["item-con"],children:E}),(0,s.jsx)(a.Text,{className:"iconfont-h5 icon-ic_goods"})]}),!(null===S||void 0===S||!S.length)&&(0,s.jsxs)(a.View,{className:"".concat(N["show-item"]," ").concat(N["item-xproduct"]),children:[(0,s.jsx)(a.View,{className:N["item-icon"],children:(0,s.jsx)(a.Text,{className:"iconfont-h5 icon-pay-added"})}),(0,s.jsx)(a.View,{className:N["item-con"],children:i.R.join("\u3001",S)}),(0,s.jsx)(a.Text,{className:"iconfont-h5 icon-ic_goods"})]})]}),(0,s.jsxs)(a.View,{className:(0,i.classnames)(N["insurance-content"],(0,r.Z)({},N["move-left"],I)),children:[(0,s.jsx)(c.Z,{className:N["loading-icon"],src:"https://pages.c-ctrip.com/flight_h5/swift/loading.gif"}),(0,s.jsx)(a.View,{className:N["insurance-text"],children:T.popupContent})]})]})})},T=(0,o.memo)(b),w=T,C={"travel-package":"TravelPackage-module_EHdk6","coupon-container":"TravelPackage-module_I0kPV","coupon-hd":"TravelPackage-module_VaXjV","coupon-title":"TravelPackage-module_ExkVH","coupon-subTitle":"TravelPackage-module_zzJuF","coupon-expiry":"TravelPackage-module_RH0H3","coupon-bd":"TravelPackage-module_x3cPy"},I=(0,o.memo)((function(e){var t=e.noticeDetail,n=void 0===t?{}:t,r=(null===n||void 0===n?void 0:n.couponDetails)||[];return(0,s.jsx)(a.View,{className:C["travel-package"],children:(0,s.jsx)(a.View,{className:"notice-main",children:r.map((function(e,t){return(0,s.jsx)(o.Fragment,{children:(0,s.jsxs)(a.View,{className:C["coupon-container"],children:[(0,s.jsxs)(a.View,{className:C["coupon-hd"],children:[(0,s.jsx)(a.View,{className:C["coupon-title"],children:e.title}),(0,s.jsx)(a.View,{className:C["coupon-subTitle"],children:e.subTitle}),(0,s.jsx)(a.View,{className:C["coupon-expiry"],children:e.expiry})]}),(0,s.jsx)(a.View,{className:C["coupon-bd"],children:e.desc.map((function(e,t){return(0,s.jsx)(a.View,{className:"coupon-descList",children:e},t)}))})]})},t)}))})})})),E=I,S=n(67347),j=n(12809),k=function(e){var t=e.noticeDetail;(0,S.K4)({content:(0,s.jsx)(j.Z,{style:{maxHeight:"80vh"},scrollY:!0,id:"id_60817",onScroll:(0,i.trackFn)("id_60817"),children:(0,s.jsx)(E,{noticeDetail:t})}),title:t.title,position:"bottom",style:{width:"100vw"},close:{position:"top-left"}})},A={"cash-back-tip":"PriceDetail-module_ptEQd","tip-title":"PriceDetail-module_h_WqH","title-text":"PriceDetail-module_p8KEk","cash-amount":"PriceDetail-module_JksEU","tip-describe":"PriceDetail-module_vJyJr","container-item":"PriceDetail-module_xMXB2",dot:"PriceDetail-module__RbBp","item-header":"PriceDetail-module_vB1p2","coupon-tag":"PriceDetail-module_gBbiH","coupon-tag-text":"PriceDetail-module_uzp26","item-name":"PriceDetail-module_pV0V6","sub-item":"PriceDetail-module_b1Xju","discount-tag":"PriceDetail-module_NC61v","discount-tag-text":"PriceDetail-module_EmdsZ","lock-icon-box":"PriceDetail-module_RIfTx","lock-icon":"PriceDetail-module_bE3cj","flight-price":"PriceDetail-module_glIoI",green:"PriceDetail-module_wNlOL",warning:"PriceDetail-module_tHXZI"},P=function(e){var t,n=e.priceDetail,o=(null===n||void 0===n||null===(t=n.policy)||void 0===t?void 0:t.noticeDetail)||{};return(0,s.jsx)(a.View,{className:"card no-border",children:(0,s.jsx)(a.View,{className:"card-body",style:{marginBottom:"110px"},id:"price-detail-pop",children:((null===n||void 0===n?void 0:n.items)||[]).map((function(e,t){var n="X_COUPON"===e.type?"\u60e0":"X_PRODUCT_FREE"===e.type?"\u8d60":"";return(0,s.jsxs)(a.View,{className:"container",children:[e.name?(0,s.jsxs)(a.View,{className:(0,i.classnames)("row",A["container-item"]),children:[(0,s.jsx)(a.View,{className:(0,i.classnames)("col",A.dot),children:(0,s.jsxs)(a.View,{className:A["item-header"],children:[n&&(0,s.jsx)(a.View,{className:A["coupon-tag"],children:(0,s.jsx)(a.Text,{className:A["coupon-tag-text"],children:n})}),(0,s.jsx)(a.Text,{className:A["item-name"],children:e.name})]})}),(0,s.jsx)(a.View,{className:"col-2 text-right",children:e.total}),(0,s.jsx)(a.View,{className:"col-2 text-right",children:e.count})]}):null,(e.subItems||[]).map((function(e){return(0,s.jsxs)(a.View,{className:(0,i.classnames)("row",A["sub-item"]),children:["FLIGHT_DISCOUNT"===e.type&&(0,s.jsx)(a.View,{className:A["discount-tag"],children:(0,s.jsx)(a.Text,{className:A["discount-tag-text"],children:"\u60e0"})}),"FAVOURED_PRICE"===e.type&&(0,s.jsx)(a.View,{className:A["lock-icon-box"],children:(0,s.jsx)(c.Z,{className:A["lock-icon"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/priceLock/lock_icon.png"})}),(0,s.jsxs)(a.View,{className:(0,i.classnames)("col",A["flight-price"],(0,r.Z)({},A.green,"FAVOURED_PRICE"===e.type)),children:[(0,s.jsx)(a.View,{children:e.name}),e.showTravelPackage&&(null===o||void 0===o?void 0:o.title)&&["FLIGHT","FLIGHT_DISCOUNT"].includes(e.type)&&(0,s.jsx)(c.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/book-top/Icon_wraning.png",className:A.warning,onClick:(0,i.trackFn)("price-detail-pop--"+e.name+"--f0f74",(function(){return k({noticeDetail:o})}))})]}),(0,s.jsx)(a.View,{className:(0,i.classnames)("col-2","text-right",(0,r.Z)({},A.green,"FAVOURED_PRICE"===e.type)),children:e.price}),(0,s.jsxs)(a.View,{className:"col-2 text-right",children:[(0,s.jsx)(a.Text,{children:e.count}),(0,s.jsx)(a.Text,{children:e.unit})]})]},e.name)}))]},t)}))})})},R=(0,o.memo)(P),O=R,D={"payment-container":"PayCommon-module_jZBZz","total-summary":"PayCommon-module_h0zya","payment-bar":"PayCommon-module_J3gF9","price-wrap":"PayCommon-module_wN__x","payment-reservation-animate":"PayCommon-module_QmS0O","price-box":"PayCommon-module_Ei6AH",box:"PayCommon-module_f62Uy","total-currency-symbol":"PayCommon-module_REHX1","total-price":"PayCommon-module_IAfQr","discount-tag":"PayCommon-module_LT_hg","user-count":"PayCommon-module_i7RDF","price-summary":"PayCommon-module_MNWRy","go-to-payment":"PayCommon-module_ls4g9","time-promote":"PayCommon-module_cN86n","loading-mask":"PayCommon-module_lzf6M","loading-img":"PayCommon-module_wxlQh","loading-gif-mask":"PayCommon-module_PcLkN","loading-gif-container":"PayCommon-module_aNcwT","img-gif":"PayCommon-module_HgEKB","price-detail":"PayCommon-module_coxpK"},L=function(e){var t,n=e.children,o=e.priceDetail,u=e.passengerCount,l=e.onSwitchPopup,h=e.popup,v=e.reservationAnimate,g=e.showTimePromote,y=e.timePromoteTextJest,_=e.clickPayment,N=e.timePromoteText,b=e.showLoading,T=e.priceChangeInfo,C=e.showPayLoading,I=e.sections,E=e.tripType,S=e.departCity,j=e.arrivalCity,k=e.selectedPassengers,A=e.selectedLounge,P=e.selectedSecurity,R=e.selectedInsurances,L=e.selectedCoupons,V=e.selectedServicePackage,Z=e.bookingSwitch,M=e.onClosePopup,F=e.priceChangeCallback,B=e.freeX,U=e.isIntl,q=Z||{},H=q.insuranceRuleSwitch,G=(0,f.R2)(),Y=G.bottom,K=void 0===Y?0:Y,W=u||{},z=W.TOTAL,Q=W.ADULT,$=W.CHILD,X=W.INFANT,J="".concat(Q,"\u6210\u4eba").concat($?"+".concat($,"\u513f\u7ae5"):"").concat(X?"+".concat(X,"\u5a74\u513f"):""," \u542b\u7a0e\u4ef7"),ee=z?U?J:"\u5171".concat(z,"\u4eba"):"",te=((null===o||void 0===o||null===(t=o.policy)||void 0===t?void 0:t.discountAmount)||0)*(Q||0),ne=(0,i.classnames)(D["price-wrap"],(0,r.Z)({},D["payment-reservation-animate"],v)),re=(0,i.classnames)(D["go-to-payment"],(0,r.Z)({},D["payment-reservation-animate"],v));return(0,s.jsxs)(a.View,{className:D["payment-container"],children:[n,(0,s.jsx)(a.View,{className:D["total-summary"],style:{paddingBottom:"".concat(K,"px")},children:(0,s.jsx)(a.View,{className:"container",children:(0,s.jsxs)(a.View,{className:(0,i.classnames)("row",D["payment-bar"]),children:[(0,s.jsxs)(a.View,{className:ne,children:[m.F.isFlightHotel?(0,s.jsx)(m.F.Component,{type:m.C.totalPriceArea,selectParams:{passengerCount:u,selectedCoupons:L,selectedInsurances:R,selectedLounge:A,selectedSecurity:P,selectedServicePackage:V,freeX:B}}):(0,s.jsxs)(a.View,{children:[(0,s.jsxs)(a.View,{className:D["price-box"],id:"price-box",children:[(0,s.jsxs)(a.View,{className:D.box,children:[(0,s.jsx)(a.Text,{className:D["total-currency-symbol"],children:"\xa5"}),(0,s.jsx)(a.Text,{className:(0,i.classnames)(D["total-price"],"ml-1"),children:null!==o&&void 0!==o&&o.total?o.total:"--"})]}),!!te&&(0,s.jsx)(a.View,{className:D["discount-tag"],children:"\u5df2\u4f18\u60e0\xa5".concat(te)}),!(null===o||void 0===o||!o.total)&&!(null===o||void 0===o||!o.cashBackAmount)&&(0,s.jsx)(a.View,{className:D["discount-tag"],children:"\u53ef\u8fd4\xa5".concat(o.cashBackAmount)})]}),(0,s.jsx)(a.View,{className:D["user-count"],children:ee})]}),(0,s.jsxs)(a.View,{className:D["price-summary"],onClick:(0,i.trackFn)("onClick--a6a87",(function(){return l("PRICE_DETAIL")})),style:z?{}:{display:"none"},children:["\u660e\u7ec6",(0,s.jsx)(a.Text,{className:(0,i.classnames)("iconfont-h5",{"icon-arrow-down":h.PRICE_DETAIL,"icon-arrow-up":!h.PRICE_DETAIL})})]})]}),(0,s.jsx)(a.View,{className:re,onClick:(0,i.trackFn)("onClick--ce797",(function(){return _()})),children:v?"\u540c\u610f\u5e76\u652f\u4ed8":"\u53bb\u652f\u4ed8"}),(0,s.jsx)(d,{children:g?(0,s.jsxs)(a.View,{className:D["time-promote"],children:[(0,s.jsx)(a.Text,{className:"iconfont-h5 icon-sort-clock"}),y||N]}):null})]})})}),b&&(0,s.jsxs)(a.View,{children:[(0,s.jsx)(a.View,{className:D["loading-mask"]}),(0,s.jsx)(c.Z,{className:D["loading-img"],src:"https://pages.c-ctrip.com/flight_h5/swift/loading.gif"})]}),(0,s.jsx)(x,{show:h.PRICE_CHANGE,info:T,onClose:function(){return M("PRICE_CHANGE")},callback:function(){F&&F()}}),(0,s.jsx)(p.Z,{show:h.PRICE_DETAIL,zIndex:5,title:"\u91d1\u989d\u660e\u7ec6",className:D["price-detail"],onClose:function(){return M("PRICE_DETAIL")},children:(0,s.jsx)(O,{priceDetail:o})}),C&&U&&(0,s.jsx)(a.View,{className:D["loading-gif-mask"],children:(0,s.jsx)(a.View,{className:D["loading-gif-container"],children:(0,s.jsx)(c.Z,{className:D["img-gif"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/global_loading.gif"})})}),(0,s.jsx)(p.Z,{show:C&&!U,children:(0,s.jsx)(w,{insuranceRuleSwitch:H,selectedPassengers:k,selectedLounge:A,selectedSecurity:P,selectedInsurances:R,selectedServicePackage:V,tripType:E,departCity:S,arrivalCity:j,sections:I})})]})},V=L},19025:function(e,t,n){"use strict";var r=n(57042),i=n(24460),o=n(21867),a=n(86066),c=(n(62171),n(90201)),s=n(2269),u=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,s.jsx)("perinfo-protect-float",{})}}]),n}(c.Component);t["Z"]=u},81369:function(e,t,n){"use strict";var r=n(298),i=n(68277),o=n(62171),a=n(90201),c=n(71515),s=n(43752),u=n(33943),l=n(16921),d=n(2269),f=["renderTitle","title","iconClosable","richText","onClose","onConfirm","onCancel","heightPercentage"],p=function(e){var t=e.iconClosable,n=void 0===t||t,r=e.richText,i=void 0!==r&&r,a=e.title,s=void 0===a?"":a;if(n){if(i)return(0,d.jsx)(o.MiniRichText,{nodes:s})}else if(i)return(0,d.jsx)(c.View,{dangerouslySetInnerHTML:{__html:s}});return(0,d.jsx)(d.Fragment,{children:s})},m=function(e){var t=e.renderTitle,n=e.title,c=e.iconClosable,m=e.richText,h=e.onClose,v=e.onConfirm,g=e.onCancel,y=e.heightPercentage,x=void 0===y?.8:y,_=(0,i.Z)(e,f),N=(0,a.useCallback)((function(e){(0,s.jq)("Popup_onClose",{title:n}),h&&h(e)}),[h,n]),b=(0,a.useCallback)((function(e){(0,s.jq)("Popup_onConfirm",{title:n}),v&&v(e)}),[v,n]),T=(0,a.useCallback)((function(e){(0,s.jq)("Popup_onCancel",{title:n}),g&&g(e)}),[g,n]),w=(0,a.useMemo)((function(){return(0,l.If)()}),[]),C=(0,a.useMemo)((function(){return(0,u.So)().windowHeight*x}),[x]);return(0,d.jsx)(o.Popup,(0,r.Z)({},(0,r.Z)((0,r.Z)({},_),{},{height:C,availableFullHeight:w,renderTitle:(t||n)&&(0,d.jsxs)(d.Fragment,{children:[t,(0,d.jsx)(p,{iconClosable:c,richText:m,title:n})]}),onClose:N,onConfirm:b,onCancel:T})))};t["Z"]=m},72776:function(e,t,n){"use strict";n.d(t,{ZP:function(){return v},GV:function(){return m},Rq:function(){return f}});var r=n(79301),i=n(95308),o=n(62171),a=(n(90201),n(71515)),c=n(33943),s=n(67347),u={boxPadding:"index-module_EaOxW",titleBoxStyle:"index-module_CGHXZ",liStyle:"index-module_4DHTg",indexStyle:"index-module_Dggbs",boxContainer:"index-module_xMZR5",marginBottom:"index-module_g0qpB",bottomContainer:"index-module_AssMk",bottomStyle:"index-module_YmpLk",contentStyle:"index-module_pWVli"},l=n(2269),d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,d,f,p,m,h,v,g;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.intermsg,d=t.callback,f=t.interSubMsg,p=(0,c.R2)(),m=p.bottom,h=void 0===m?0:m,v=new Promise((function(e){var t=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:(0,s.Mr)(c),e&&e(!0),d&&d(!0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=(0,s.K4)({title:"\u8bc1\u4ef6\u5373\u5c06\u8fc7\u671f",close:{position:"top-left"},mask:{enableClose:!0,callback:t},style:{position:"fixed",bottom:0,width:"100%",padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0},content:(0,l.jsxs)(a.View,{className:u.boxPadding,style:{paddingBottom:"".concat(10+h,"px")},children:[(0,l.jsx)(a.View,{className:u.titleBoxStyle,children:n}),(0,l.jsx)(a.View,{className:u.marginBottom,children:null===f||void 0===f?void 0:f.map((function(e,t){return(0,l.jsxs)(a.View,{className:u.boxContainer,children:[(0,l.jsx)(a.View,{className:u.indexStyle,children:t+1}),(0,l.jsx)(a.View,{className:u.liStyle,children:(0,l.jsx)(a.View,{dangerouslySetInnerHTML:{__html:e}})})]},e)}))}),(0,l.jsx)(a.View,{className:u.bottomContainer,onClick:(0,o.trackFn)("closeModalfn--d3739",t),children:"\u5df2\u77e5\u6089\uff0c\u7ee7\u7eed\u9884\u5b9a"})]})})})),e.next=5,v;case 5:return g=e.sent,e.abrupt("return",g);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=d,p=function(e){var t=e.intermsg,n=e.callback,r=function(){(0,s.Mr)(i),n&&n(!1)},i=(0,s.K4)({content:(0,l.jsxs)(a.View,{children:[(0,l.jsx)(a.View,{className:u.contentStyle,children:t}),(0,l.jsx)(a.View,{className:u.bottomStyle,onClick:(0,o.trackFn)("closeModalfn--b9fb8",r),children:"\u77e5\u9053\u4e86"})]})})},m=p,h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.flightCredentialResult,n){e.next=3;break}return e.abrupt("return",!0);case 3:return i=new Promise((function(e){"W"===n.interceptStatus?f({intermsg:n.interceptMessage,callback:e,interSubMsg:n.interceptSubMessages}):"T"===n.interceptStatus?m({intermsg:n.interceptMessage,callback:e}):e(!0)})),e.next=6,i;case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=h},12809:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(298),i=(n(62171),n(90201),n(71515)),o=n(2269);function a(e){var t=e.enhanced,n=!1,a=t||(n?1:0);return(0,o.jsx)(i.ScrollView,(0,r.Z)((0,r.Z)({},e),{},{enhanced:!!a}))}},43198:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});n(62171),n(90201);var r=n(71515),i={"share-msg-container":"ShareMsgPop-module_DKtmb","share-msg-title":"ShareMsgPop-module_ZgAX_","share-msg-description":"ShareMsgPop-module_Or3w5"},o=n(2269),a=function(e){var t=e.title,n=void 0===t?"\u5206\u4eab\u6210\u529f":t,a=e.content,c=void 0===a?"\u5f85\u597d\u53cb\u4fe1\u606f\u63d0\u4ea4\u540e\uff0c\u4e0b\u62c9\u5237\u65b0\u53ef\u83b7\u53d6":a;return(0,o.jsxs)(r.View,{catchMove:!0,className:i["share-msg-container"],children:[(0,o.jsx)(r.View,{className:i["share-msg-title"],children:n}),(0,o.jsx)(r.View,{className:i["share-msg-description"],children:c})]})},c=a},43480:function(e,t,n){"use strict";n.d(t,{$:function(){return u}});n(62171);var r=n(49574),i=n(43752),o=n(62461),a=n(64353),c=n(44720),s=n(14828),u=function(){var e=(0,o.C)(a.L4),t=(0,o.C)(a.pL),n=(0,c.Ck)(c.C3),u=(0,c.Ck)(c.e_),l=(0,c.Ck)(c.gs),d=(0,c.Ck)(c.Lj),f="ROUND_TRIP"===u,p="".concat(l," ").concat(f?"\u21cc":"\u21c0"," ").concat(d),m={tripType:u,sections:n,userInfo:{auth:(0,r.bW)(),nickName:e||"\u60a8\u7684\u597d\u53cb",avatarUrl:t||"https://pic.c-ctrip.com/h5/rwd_myctrip/v6.7/portrain_unlogin%402x.png"},regionType:s.Og.INTERNATIONAL},h="parms=".concat(encodeURIComponent(JSON.stringify(m)));return(0,i.jq)("c_share_edit_click",{querys:h,parms:m}),{bu:"flight",imageUrl:"https://pages.c-ctrip.com/flight_h5/tinyapp/domBooking/invite.png",title:"\u586b\u4e00\u4e0b\u4f60\u7684\u4fe1\u606f\uff0c\u6211\u6765\u5e2e\u4f60\u4e70".concat(p,"\u7684\u673a\u7968"),path:"/pages/flightBooking/pages/shareEditPsg/index?".concat(h)}}},51595:function(e,t,n){"use strict";n.d(t,{i:function(){return u}});n(62171);var r=n(49574),i=n(43752),o=n(62461),a=n(64353),c=n(83845),s=n(14828),u=function(){var e=(0,o.C)(a.L4),t=(0,o.C)(a.pL),n=(0,c.Ck)(c.C3),u=(0,c.Ck)(c.e_),l=(0,c.Ck)(c.gs),d=(0,c.Ck)(c.Lj),f="ROUND_TRIP"===u,p="".concat(l," ").concat(f?"\u21cc":"\u21c0"," ").concat(d),m={tripType:u,sections:n,userInfo:{auth:(0,r.bW)(),nickName:e||"\u60a8\u7684\u597d\u53cb",avatarUrl:t||"https://pic.c-ctrip.com/h5/rwd_myctrip/v6.7/portrain_unlogin%402x.png"},regionType:s.Og.DOMESTIC},h="parms=".concat(encodeURIComponent(JSON.stringify(m)));return(0,i.jq)("c_share_edit_click",{querys:h,parms:m}),{bu:"flight",imageUrl:"https://pages.c-ctrip.com/flight_h5/tinyapp/domBooking/invite.png",title:"\u586b\u4e00\u4e0b\u4f60\u7684\u4fe1\u606f\uff0c\u6211\u6765\u5e2e\u4f60\u4e70".concat(p,"\u7684\u673a\u7968"),path:"/pages/flightBooking/pages/shareEditPsg/index?".concat(h)}}},94244:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(79301),i=n(95308),o=n(90129),a=n(62171),c=n(90201),s=n(71515),u=n(12809),l=n(68277),d=n(92954),f=["retry","delayTime"],p=200,m={retry:0,delayTime:p,id:!1,dataset:!1,mark:!1,rect:!1,size:!1,scrollOffset:!1,context:!1,node:!1,properties:[],computedStyle:[]};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,n=t.retry,r=void 0===n?0:n,i=t.delayTime,o=void 0===i?p:i,a=(0,l.Z)(t,f),c=r,s=function t(n){try{(0,d.createSelectorQuery)().selectAll(e).fields(a).exec((function(e){var r=e[0];r&&r.length?n(r):c>0?setTimeout((function(){c--,t(n)}),o):n([])}))}catch(e){n([])}};return new Promise(s)}var v=n(37444),g=n(2269);function y(e){var t=e.tabs,n=e.activeIndex,l=void 0===n?0:n,d=e.title,f=e.isScrollTitle,p=e.style,m=e.hideTabSwitch,y=(0,c.useState)(l),x=(0,o.Z)(y,2),_=x[0],N=x[1],b=(0,c.useState)(!1),T=(0,o.Z)(b,2),w=T[0],C=T[1],I=(0,c.useState)([]),E=(0,o.Z)(I,2),S=E[0],j=E[1],k=(0,c.useState)("auto"),A=(0,o.Z)(k,2),P=A[0],R=A[1],O=(0,c.useState)(0),D=(0,o.Z)(O,2),L=D[0],V=D[1],Z=(0,c.useRef)(null),M=(0,c.useRef)({timer:null,inScroll:!1}),F=t.map((function(e){return"#"+e.id})).join(",");(0,c.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return t=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h(F,{retry:3,size:!0});case 2:if(t=e.sent,t.length){e.next=5;break}return e.abrupt("return",[]);case 5:return n=t.map((function(e){return parseInt(e.height)})),j(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}function n(){return o.apply(this,arguments)}function o(){return o=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h("#tab-container, #tab-header",{retry:3,size:!0});case 2:if(t=e.sent,t.length){e.next=5;break}return e.abrupt("return");case 5:n=t[0].height-t[1].height,R(n);case 7:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}Promise.all([e(),n()]).then((function(e){for(var t=0,n=0;n<l;n++)t+=e[0][n];setTimeout((function(){V(t)}),300)}))}),[l,F]);var B=(0,c.useCallback)((function(e){if(e!==_){for(var t=0,n=0;n<e;n++)t+=S[n];M.current.inScroll=!0,V(t===L?t+1:t),N(e)}}),[S,_,L]),U=function(e){if(!m){var t=Math.ceil(e.target.scrollTop),n=0,r=S.map((function(e){return n+=e,n})),i=r.findIndex((function(e){return e>t}));return w?M.current.inScroll?(M.current.timer&&clearTimeout(M.current.timer),void(M.current.timer=setTimeout((function(){M.current.inScroll=!1,i<_||N(i)}),150))):void N(i):(Z.current&&clearTimeout(Z.current),void(Z.current=setTimeout((function(){C(!0),i<_||N(i)}),150)))}},q=function(){if(m)return null;function e(){return t.map((function(e,t){return(0,g.jsx)(s.View,{className:"".concat(v.Z.tabItem," ").concat(_===t?v.Z.activeTabItem:""),onClick:(0,a.trackFn)(e.id+"--f062e",(function(){return B(t)})),children:(0,g.jsx)(s.Text,{className:v.Z.tabText,children:e.title})},e.id)}))}return f?(0,g.jsx)(u.Z,{scrollX:!0,className:v.Z.tabItemScrollContainer,id:"id_65d15",onScroll:(0,a.trackFn)("id_65d15"),children:e()}):(0,g.jsx)(s.View,{className:v.Z.tabItemContainer,children:e()})};return(0,g.jsxs)(s.View,{className:v.Z.tabOuter,id:"tab-container",style:p,children:[(0,g.jsxs)(s.View,{className:v.Z.header,id:"tab-header",children:[d,q()]}),(0,g.jsxs)(u.Z,{scrollY:!0,scrollWithAnimation:!0,className:v.Z.scrollContainer,onScroll:(0,a.trackFn)("tab-container_id_e4265",U),style:{height:P},scrollTop:L,id:"tab-container_id_e4265",children:[t.map((function(e){return(0,g.jsx)(s.View,{className:"tabs-item",id:e.id,children:e.content},e.title)})),(0,g.jsx)(s.View,{style:{height:"120px"}})]})]})}},37360:function(e,t,n){"use strict";n.d(t,{ZP:function(){return w},DK:function(){return v},cE:function(){return g},GX:function(){return p}});var r=n(62171),i=n(90201),o=n(55172),a=n(79301),c=n(95308),s=n(43752),u=n(24873),l=(0,r.createAsyncThunk)("pageConfigStore/bookingSwitch",(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.Kt.promise({data:{requestType:"BOOKING"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),d={bookingSwitch:{insuranceRuleSwitch:!1,insuranceRuleActive:!1}},f=(0,r.createSlice)({name:"pageConfigStore",initialState:d,reducers:{},extraReducers:function(e){e.addCase(l.fulfilled,(function(e,t){t.payload||(0,s.ff)("flight_monitor_special_error",{type:"\u66f4\u65b0bookingSwitch\u4e3a\u7a7a"}),e.bookingSwitch=t.payload}))}}),p=r.useSelector,m=f,h=function(e){return e.pageConfigStore},v=(0,r.createSelector)([h],(function(e){return null===e||void 0===e?void 0:e.bookingSwitch})),g=(0,r.createSelector)([v],(function(e){return!(null===e||void 0===e||!e.insuranceRuleSwitch)})),y=function(e){var t=e.fetchBookingSwitch,n=e.children,r=e.bookingSwitch;return(0,i.useEffect)((function(){t()})),n({bookingSwitch:r})},x=function(e){return{bookingSwitch:v(e)}},_=function(e){return{fetchBookingSwitch:function(){return e(l())}}},N=(0,r.connect)(x,_),b=(0,o.Z)({key:m.name,reducer:m.reducer}),T=(0,r.compose)(b,N)((0,i.memo)(y)),w=T},5328:function(e,t,n){"use strict";n.d(t,{ZP:function(){return D}});var r=n(62171),i=n(90201),o=n(52296),a=n(87108),c=n(9154),s=n(55172),u=n(49386),l={},d=(0,r.createSlice)({name:"applicantStore",initialState:l,reducers:{setApplicantListAction:function(e,t){var n=t.payload;e.applicantList=n},setEditApplicantAction:function(e,t){var n=t.payload;e.editApplicant=n},setApplicantAction:function(e,t){var n=t.payload;e.applicant=n}}}),f=d.actions,p=f.setApplicantListAction,m=f.setEditApplicantAction,h=f.setApplicantAction,v=d,g=function(e){return e.applicantStore},y=(0,r.createSelector)([g],(function(e){return null===e||void 0===e?void 0:e.applicantList})),x=(0,r.createSelector)([g],(function(e){return null===e||void 0===e?void 0:e.applicant})),_=(0,r.createSelector)([g],(function(e){return null===e||void 0===e?void 0:e.editApplicant})),N=n(298),b=n(22276),T=n(56027),w=n(14044),C=n(13374),I=n(32180)["window"],E=function(e,t){var n=t?[t].concat((0,b.Z)(e.filter((function(e){return e.id!==(null===t||void 0===t?void 0:t.id)})))):e;return n.map((function(e){var n=e.document,r=e.documents,i=(n?[n].concat((0,b.Z)(r.filter((function(e){return e.type!==n.type})))):r).filter((function(e){return e&&e.valid&&e.no&&C.zR[e.type]}));return(0,N.Z)((0,N.Z)({},e),{},{documents:r,document:i[0],checked:e.id===(null===t||void 0===t?void 0:t.id)})})).filter((function(e){var t=e.name,n=e.document,r=t.chineseName,i=t.givenName,o=t.surName,a=(0,w.h)(e);if(a&&(r||i&&o)){var c=(0,T.r)(a,new I.Date);if(c>=18&&n)return!0}return!1})).sort((function(e,t){return t.checked-e.checked}))},S=new u.ZP({version:"2020-07-27",key:function(){return"nonageInsureApplicant"},expires:function(){return 1*u.v0}}),j=function(e){var t=e.isIntl,n=e.passengerList,r=e.editApplicant,s=e.applicantList,u=e.applicant,l=e.setApplicantState,d=e.setEditApplicantState,f=e.setApplicantList,p=e.children;(0,i.useEffect)((function(){u?S.set(u):l(S.get())}),[u,l]),(0,i.useEffect)((function(){if(!s&&null!==n&&void 0!==n&&n.length){var e=E(n,u);e&&f(e)}}),[u,s,n,f]);var m=(0,i.useCallback)((function(){null!==s&&void 0!==s&&s.length?((0,o.jq)("onOpenApplicantListPopup",{desc:"\u6253\u5f00\u9009\u62e9\u6295\u4fdd\u4eba\u5217\u8868"}),(0,a.j4)({isIntl:String(Number(t))})):((0,o.jq)("onOpenApplicantListPopup",{desc:"\u6253\u5f00\u9009\u62e9\u6295\u4fdd\u4eba\u7f16\u8f91"}),d(),(0,a.pi)({isIntl:String(Number(t))}))}),[null===s||void 0===s?void 0:s.length,t,d]),h=(0,i.useCallback)((function(){(0,o.jq)("clickApplicantNotice",{desc:"\u70b9\u51fb\u5c55\u5f00\u6295\u4fdd\u4eba\u8bf4\u660e"}),(0,c.w)({title:"\u6295\u4fdd\u4eba\u8bf4\u660e",content:"\u6295\u4fdd\u4eba\u662f\u4e0e\u4fdd\u9669\u516c\u53f8\u7b7e\u8ba2\u5408\u540c\uff0c\u6709\u652f\u4ed8\u4fdd\u9669\u4e49\u52a1\u7684\u4eba\uff0c\u987b\u5927\u4e8e18\u5468\u5c81"})}),[]);return p({editApplicant:r,applicantList:s,applicant:u,setApplicantState:l,setEditApplicantState:d,setApplicantList:f,onOpenApplicantListPopup:m,onClickApplicantNotice:h})},k=function(e){return{applicant:x(e),applicantList:y(e),editApplicant:_(e)}},A=function(e){return{setApplicantState:function(t){return e(h(t))},setEditApplicantState:function(t){return e(m(t))},setApplicantList:function(t){return e(p(t))}}},P=(0,r.connect)(k,A),R=(0,s.Z)({key:v.name,reducer:v.reducer}),O=(0,r.compose)(R,P)((0,i.memo)(j)),D=O},83845:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Se},f8:function(){return ie},lI:function(){return U},sw:function(){return me},n8:function(){return de},Lj:function(){return G},ww:function(){return B},gL:function(){return M},gs:function(){return H},cA:function(){return Z},Wt:function(){return F},eG:function(){return te},s7:function(){return R},J3:function(){return q},FT:function(){return fe},Nb:function(){return L},Dq:function(){return X},xt:function(){return ne},WY:function(){return J},ow:function(){return oe},Gi:function(){return se},v$:function(){return z},W9:function(){return re},mg:function(){return O},pp:function(){return W},C3:function(){return V},kA:function(){return ee},xy:function(){return Q},sq:function(){return Y},e_:function(){return D},OI:function(){return $},Ck:function(){return j}});var r=n(62171),i=n(90201),o=n(55172),a=n(92954),c=n(10975),s=n(62461),u=n(22213),l=n(60175),d=n(17311),f=n(298),p=n(22276),m=n(5709),h=n(48754),v=n(14828),g=function(e){var t=e.departureCodeArr,n=e.arrivalCodeArr,i=e.date,o=e.trafficNumber,a=e.journeyNo;return r.R.reduce((function(e,t){return[].concat((0,p.Z)(e),[(0,f.Z)((0,f.Z)({},r.R.mergeAll(t)),{},{segmentType:"FLIGHT",journeyNo:a,segmentNo:e.length+1,transitType:0})])}),[],r.R.transpose([r.R.map(r.R.objOf("departureCode"),t),r.R.map(r.R.objOf("arrivalCode"),n),r.R.map((function(e){return r.R.objOf("date",(0,r.dayjs)(e).format("YYYY-MM-DDTHH:mm:ss"))}),r.R.split(".",i)),r.R.map(r.R.objOf("trafficNumber"),r.R.split(".",o))]))},y=function(e){var t=(0,h.BD)(e),n=(0,h.BK)(t(["tripType","triptype","tripTypeParam"])),o=t(["dcode","dcity","dCityCodeParam"])||"",a=t(["acode","acity","aCityCodeParam"])||"",c=t(["ddate","dDateParam"])||"",s=t(["adate","aDateParam"])||"",u=t(["pid"])||"",l=t(["subclass"])||"",d=t(["price"])||"",f=t(["dfltno"])||"",y=t(["afltno"])||"",x=t(["searchKey"]);return(0,i.useMemo)((function(){var e;if(x)return null===(e=decodeURIComponent(x||""))||void 0===e?void 0:e.replace(/\s/g,"+");var t=u&&l?r.R.transpose([r.R.map(r.R.objOf("pid"),r.R.split(".",decodeURIComponent(u))),r.R.map(r.R.objOf("subclass"),r.R.split(".",l)),r.R.map(r.R.objOf("price"),r.R.split(".",d))]).map(r.R.mergeAll):[],i=r.R.split(".",o),_=r.R.split(".",a),N=[].concat((0,p.Z)(i.slice(1)),[_[0]]),b=(0,p.Z)(g({departureCodeArr:i,arrivalCodeArr:N,date:c,trafficNumber:f,journeyNo:1}));if(n===v.X9.ROUND_TRIP||_.length>1){var T=r.R.split(".",a),w=[].concat((0,p.Z)(T.slice(1)),[r.R.split(".",o)[0]]);b.push.apply(b,(0,p.Z)(g({departureCodeArr:T,arrivalCodeArr:w,date:s,trafficNumber:y,journeyNo:2})))}return(0,m.h)(JSON.stringify({maxJourneyNo:(0,h.Ll)(n),searchJourneys:b,searchPolices:t}))}),[x,u,l,d,n,o,a,c,s,f,y])},x=n(43752),_=n(24873),N=n(48937),b=n(34869),T=n(16654),w={},C=(0,r.createSlice)({name:"flightDetailStore",initialState:w,reducers:{setFlightDetailAction:function(e,t){var n=t.payload;e.flightDetail=n},setSearchKeyAction:function(e,t){var n=t.payload;e.searchKey=n}}}),I=C.actions,E=I.setFlightDetailAction,S=I.setSearchKeyAction,j=r.useSelector,k=C,A=n(13374),P=function(e){return e.flightDetailStore},R=(0,r.createSelector)([P],(function(e){return null===e||void 0===e?void 0:e.flightDetail})),O=(0,r.createSelector)([P],(function(e){return null===e||void 0===e?void 0:e.searchKey})),D=(0,r.createSelector)([R],(function(e){return null===e||void 0===e?void 0:e.tripType})),L=(0,r.createSelector)([R],(function(e){return null===e||void 0===e?void 0:e.policy})),V=(0,r.createSelector)([R],(function(e){return null===e||void 0===e?void 0:e.sections})),Z=(0,r.createSelector)([V],(function(e){return r.R.pathOr("",[0,"segments",0,"departDateTime"],e)})),M=(0,r.createSelector)([V],(function(e){return r.R.pathOr("",[0,"segments",0,"arriveDateTime"],e)})),F=(0,r.createSelector)([V],(function(e){return r.R.pathOr("",[0,"segments",0,"departureCityCode"],e)})),B=(0,r.createSelector)([V],(function(e){return r.R.pathOr("",[0,"segments",0,"arrivalCityCode"],e)})),U=(0,r.createSelector)([V],(function(e){return r.R.pathOr("",[0,"segments",0,"airline"],e)})),q=(0,r.createSelector)([V],(function(e){return r.R.pathOr("",[-1,"segments",-1,"departDateTime"],e)})),H=(0,r.createSelector)([V],(function(e){return r.R.pathOr("",[0,"segments",0,"departureCityName"],e)})),G=(0,r.createSelector)([V],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.R.pathOr("",[0,"segments",-1,"arrivalCityName"],e)})),Y=(0,r.createSelector)([L],(function(e){return null===e||void 0===e?void 0:e.totalPrices})),K=(0,r.createSelector)([R],(function(e){return null===e||void 0===e?void 0:e.noteList})),W=(0,r.createSelector)([L],(function(e){return null===e||void 0===e?void 0:e.searchToken})),z=(0,r.createSelector)([L],(function(e){return null===e||void 0===e?void 0:e.restriction})),Q=(0,r.createSelector)([L],(function(e){var t=null===e||void 0===e?void 0:e.ticketCount;return t?t>9?9:t:9})),$=(0,r.createSelector)([K],(function(e){var t=null===e||void 0===e?void 0:e.find((function(e){return 1===e.noteType}));return t&&t.noteContent||""})),X=(0,r.createSelector)([L],(function(e){return(null===e||void 0===e?void 0:e.policyNoteList)||[]})),J=(0,r.createSelector)([X],(function(e){return r.R.find(r.R.propEq("type",A.NF.RealNameTip),e)})),ee=(0,r.createSelector)([X],(function(e){var t,n,i=r.R.find(r.R.propEq("type",A.NF.StudentCertification),e);return!(null===i||void 0===i||null===(t=i.extendNoteEntityList)||void 0===t||!t.length)&&(null===(n=i.extendNoteEntityList.find((function(e){return 1===e.type})))||void 0===n?void 0:n.content)||""})),te=(0,r.createSelector)([X],(function(e){var t,n,i=r.R.find(r.R.propEq("type",A.NF.FamilyLimit),e);return!(null===i||void 0===i||null===(t=i.extendNoteEntityList)||void 0===t||!t.length)&&(null===(n=i.extendNoteEntityList.find((function(e){return 1===e.type})))||void 0===n?void 0:n.content)||""})),ne=(0,r.createSelector)([L],(function(e){return r.R.flatten((null===e||void 0===e?void 0:e.productTypes)||[])})),re=(0,r.createSelector)([L],(function(e){return(null===e||void 0===e?void 0:e.salepolinfo)||{}})),ie=(0,r.createSelector)([L],(function(e){return r.R.flatten((null===e||void 0===e?void 0:e.acardlst)||[])})),oe=(0,r.createSelector)([ne,J],(function(e,t){if(e.indexOf("LIMITED_REAL_NAME_REGISTER_PRODUCT")>-1){var n,r=null===t||void 0===t||null===(n=t.extendNoteEntityList)||void 0===n?void 0:n.find((function(e){return 0===e.type}));return"REAL_NAME_REGISTER_ONLY"===(null===r||void 0===r?void 0:r.content)?2:1}return 0}));function ae(e){var t="NONE",n=(null===e||void 0===e?void 0:e.registerMemberTypes)||[];return n.length&&(n.some((function(e){return"PASSENGER"===e}))&&(t="PASSENGER"),n.some((function(e){return"MULTI_PASSENGER"===e}))&&(t="MULTI_PASSENGER"),n.some((function(e){return"CONTRACT"===e}))&&(t="CONTRACT"),n.some((function(e){return"REAL_NAME_REGISTER"===e}))&&(t="REAL_NAME_REGISTER"),n.some((function(e){return"REAL_NAME_REGISTER_ALL"===e}))&&(t="REAL_NAME_REGISTER_ALL")),t}function ce(e){var t="NONE",n=(null===e||void 0===e?void 0:e.flightPsgRegisterSettings)||[];return null!==n&&void 0!==n&&n.length&&n.forEach((function(e){var n;(null===e||void 0===e||null===(n=e.registerMemberTypes)||void 0===n?void 0:n.length)&&e.registerMemberTypes.forEach((function(e){"NONE"!==e&&(t=e)}))})),"NONE"===t?ae(e):t}var se=(0,r.createSelector)([L],(function(e){return ce(e)}));function ue(e){var t=[],n=e.policy||{},r=n.registerMemberTypes,i=void 0===r?[]:r;return i.forEach((function(e,n){["PASSENGER","CONTRACT","MULTI_PASSENGER"].indexOf(e)>-1&&t.push(n)})),t.length&&e.sections&&e.sections[t[0]]&&e.sections[t[0]].segments&&e.sections[t[0]].segments.length&&e.sections[t[0]].segments[0].airlineName||""}function le(e){var t;if(!e)return"";var n=(null===e||void 0===e?void 0:e.policy)||{},r=n.flightPsgRegisterSettings,i=void 0===r?[]:r,o=[],a=[];return(null===i||void 0===i?void 0:i.length)&&i.forEach((function(e){-1===a.indexOf(e.airlineCode)&&e.registerMemberTypes.forEach((function(t){["PASSENGER","CONTRACT","MULTI_PASSENGER"].indexOf(t)>-1&&a.push(e.airlineCode)}))})),(null===e||void 0===e||null===(t=e.sections)||void 0===t?void 0:t.length)&&e.sections.forEach((function(e){var t;(null===e||void 0===e||null===(t=e.segments)||void 0===t?void 0:t.length)&&e.segments.forEach((function(e){-1!==a.indexOf(e.airlineCode)&&-1===o.indexOf(e.airlineName)&&o.push(e.airlineName)}))})),0===o.length?ue(e):o.join(",")}var de=(0,r.createSelector)([R],(function(e){return le(e)})),fe=(0,r.createSelector)([X],(function(e){var t=r.R.find(r.R.propEq("type",A.NF.LockPricePolicy),e);return t&&t.content||""})),pe=function(e){var t=[];return null===e||void 0===e||e.forEach((function(e){var n=e.segments,r=void 0===n?[]:n;r.forEach((function(e){var n=e.airlineCode;t.push(n)}))})),(0,p.Z)(new Set(t))},me=(0,r.createSelector)([V],(function(e){return pe(e)})),he=n(90129),ve=n(10073),ge=ve.Z.injectEndpoints({endpoints:function(e){return{getFlightDetail:e.query({query:function(e){return{url:"/14488/flightDetail",queryObject:{subEnv:"fat128"},queryParams:{data:e,extension:e.extension}}},transformResponse:function(e){return e.data}})}}}),ye=ge.useGetFlightDetailQuery,xe=(ge.endpoints,ge.usePrefetch,n(67347)),_e=n(52296),Ne=function(e){var t=ye(e),n=t.data,r=t.isFetching,o=t.isError,a=t.refetch,c=(0,i.useState)(!0),s=(0,he.Z)(c,2),u=s[0],l=s[1],d=(0,i.useState)(),f=(0,he.Z)(d,2),p=f[0],m=f[1],h=(0,i.useState)(),v=(0,he.Z)(h,2),g=v[0],y=v[1],x=(0,i.useState)(!0),_=(0,he.Z)(x,2),b=_[0],T=_[1],w=(0,i.useCallback)((function(){var e=N.F.promise();l(!0),e.then((function(e){m(e),l(!1)}))}),[m,l]);(0,i.useEffect)((function(){w()}),[w]);var C=(0,i.useCallback)((function(){w(),a()}),[w,a]),I=r||u;return(0,i.useEffect)((function(){if(!I){var e=n,t=p;N.F.loadData(xe.K4,xe.Mr,_e.ff,{data:e},t),N.F.logTrace("load","load",{passengerCount:{},selectedCoupons:[],selectedInsurance:[],selectedLounge:[],selectedSecurity:[],selectedServicePackage:[],freeX:[]}),y(e),T(!1)}}),[I]),{data:g,isFetching:b,isError:o,refetch:C}},be=function(e){var t=e.children,n=e.setFlightDetail,o=e.setSearchKey,f=(0,a.useRouter)(),p=f.params,m=p.filterSCabin,h=p.dfilter,v=void 0===h?"":h,g=p.hotelToken,w=p.hotelMemory,C=(0,s.C)(u.e_),I=y(p),E="true"===decodeURIComponent((null===p||void 0===p?void 0:p.LockPriceV3Use)||""),S=g&&w?[{hotelToken:decodeURIComponent(null!==g&&void 0!==g?g:""),memoryToken:decodeURIComponent(null!==w&&void 0!==w?w:"")}]:void 0,j=Ne({searchKey:I,extension:[{name:"searchKey",value:I},E&&{name:"LockPriceV3Use",value:"true"}].filter(Boolean),hotelKeys:S}),k=j.data,A=j.isFetching,P=j.isError,R=j.refetch;(0,i.useEffect)((function(){o(I)}),[I,o]),(0,i.useEffect)((function(){n(k)}),[I,n,k]),(0,i.useEffect)((function(){if(!A&&k){var e,t=N.F.isFlightHotel&&(0,b.C0)()?d.Iz:d.bZ,n="ROUND_TRIP"===C,i=(null===k||void 0===k||null===(e=k.sections)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.segments)||void 0===e?void 0:e.length)>1;l.ZP.emit(l.aN,r.R.path(["DOMESTIC",n?"ROUND_TRIP":i?"TRANSIT":"ONE_WAY"],t))}}),[A,k,C]),(0,i.useEffect)((function(){A||P||_.Zu.promise({data:"",extension:[{name:"searchKey",value:I}]}).then((function(){(0,x.jq)("verify_request_success")})).catch((function(){(0,x.jq)("verify_request_failure")}))}),[A,P,I]);var O=(0,i.useMemo)((function(){return!A&&!(k&&k.sections&&k.sections.length&&k.policy)}),[k,A]);return(0,i.useEffect)((function(){(P||O)&&(0,T.S)({catchJump:function(){return(0,c.A)({searchKey:I,filterSCabin:m,dfilter:v})}})}),[P,A,v,m,I,O]),t({loadingFlight:A||P||O,detail:k,refetch:R})},Te=function(e){return{flightDetail:R(e)}},we=function(e){return{setFlightDetail:function(t){return e(E(t))},setSearchKey:function(t){return e(S(t))}}},Ce=(0,r.connect)(Te,we),Ie=(0,o.Z)({key:k.name,reducer:k.reducer}),Ee=(0,r.compose)(Ie,Ce)((0,i.memo)(be)),Se=Ee},97081:function(e,t,n){"use strict";n.d(t,{ZP:function(){return L},vY:function(){return P},Oh:function(){return A},FG:function(){return k},f3:function(){return x},GT:function(){return D}});var r=n(62171),i=n(22276),o=n(298),a=n(90201),c=n(52296),s=n(56027),u=n(14044),l=n(19836),d=n(55172),f=n(95569),p={selectedInsurances:[],passengerIds:[]},m=(0,r.createSlice)({name:"insuranceStore",initialState:p,reducers:{initStateAction:function(e){e.selectedInsurances=p.selectedInsurances,e.passengerIds=p.passengerIds},setSelectedInsurancesAction:function(e,t){var n=t.payload;e.selectedInsurances=n},setPassengerIdsAction:function(e,t){var n=t.payload;e.passengerIds=n}}}),h=m.actions,v=h.initStateAction,g=h.setSelectedInsurancesAction,y=h.setPassengerIdsAction,x=r.useSelector,_=m,N=n(32180)["window"],b=function(e){return/[-/]/.test(e)?e:((0,c.jq)("nonageInsure birth error",{birth:e}),(0,r.dayjs)().subtract(18,"years").format("YYYY-MM-DD"))},T=function(e){var t=e.name;return(0,o.Z)((0,o.Z)({},t),{},{name:(0,l.Ob)(e)})},w=function(e){var t=e.selected,n=e.insuranceRuleSwitch,r=e.applicant,d=e.selectedPassengers,p=e.selectedInsurances,m=e.showInsuranceRetainsPop,h=e.initState,v=e.setSelectedInsurances,g=e.setPassengerIds,y=e.children,x=(0,a.useMemo)((function(){return!!Object.values(t).filter(Boolean).length}),[t]),_=(0,a.useMemo)((function(){return!!t["SGX"]}),[t]),w=(0,a.useMemo)((function(){return null===d||void 0===d?void 0:d.some((function(e){var t=(0,u.h)(e);return t&&(0,s.r)(t,new N.Date)<18}))}),[d]),C=(0,a.useMemo)((function(){return null===d||void 0===d?void 0:d.some((function(e){var t=e.id;return!t}))}),[d]);(0,a.useEffect)((function(){return function(){h()}}),[]),(0,a.useEffect)((function(){v(p)}),[p]),(0,a.useEffect)((function(){var e=Object.values(t).reduce((function(e,t){var n=t.passengerIds,r=void 0===n?[]:n;return[].concat((0,i.Z)(e),(0,i.Z)(r))}),[]);g(e)}),[t]);var I=(0,a.useMemo)((function(){return!n&&(x&&w)}),[x,n,w]),E=(0,a.useCallback)((function(e,t){(0,c.jq)("Order INSURANCE_DETAIN check: insurance detain"),m({skipInsuranceRetains:function(){e({result:f.rG.PASS})},onClickNoneInsurance:function(){e({result:f.rG.PASS,insurancePopped:!0})},onClickNeedInsurance:function(){t({insurancePopped:!0})}})}),[m]);(0,f.Up)(f.O4.INSURANCE_DETAIN,E);var S=(0,a.useCallback)((function(e){if(_&&C)e({result:f.rG.FAIL,errors:["\u4e58\u673a\u4eba\u6ca1\u6709\u7ed1\u5b9a\u4e58\u673a\u4ebaid\uff0c\u65e0\u6cd5\u4e3a\u5176\u6295\u4fdd"]});else if(I)if(null!==r&&void 0!==r&&r.name){var t=r.relationship,n=void 0===t?5:t,i=r.birth;(0,l.Jw)((0,o.Z)((0,o.Z)({},r),{},{policyHolderType:n,birth:b(i),name:T(r)})),(0,c.jq)("Order nonageInsure check set holder"),e({result:f.rG.PASS})}else(0,l.Jw)(null),(0,c.jq)("Order NONAGE_INSURE_CHECK check failed"),e({result:f.rG.FAIL,errors:["\u56e0\u4e58\u673a\u4eba\u6709\u672a\u6210\u5e74\u4eba\uff0c\u987b\u670918\u5c81\u4ee5\u4e0a\u6210\u4eba\u4e3a\u5176\u6295\u4fdd"]});else(0,l.Jw)(null),(0,c.jq)("Order NONAGE_INSURE_CHECK check ok"),e({result:f.rG.PASS})}),[_,C,I,r]);return(0,f.Up)(f.O4.NONAGE_INSURE_CHECK,S),y({showNonageInsure:I})},C=function(e){return{setSelectedInsurances:function(t){return e(g(t))},setPassengerIds:function(t){return e(y(t))},initState:function(){return e(v())}}},I=(0,r.connect)(null,C),E=(0,d.Z)({key:_.name,reducer:_.reducer}),S=(0,r.compose)(E,I)((0,a.memo)(w)),j=function(e){return e.insuranceStore},k=(0,r.createSelector)([j],(function(e){return null===e||void 0===e?void 0:e.selectedInsurances})),A=(0,r.createSelector)([j],(function(e){return(null===e||void 0===e?void 0:e.passengerIds)||[]})),P=(0,r.createSelector)([k],(function(e){return!(null===e||void 0===e||!e.length)})),R=n(10073),O=R.Z.injectEndpoints({endpoints:function(e){return{insuranceList:e.query({query:function(e){var t=e.searchToken,n=e.regionType,r=e.xproductParamsString;return{serverCode:"27064",method:"InsuranceListSearch",format:"bjjson",queryObject:{subEnv:"fat3"},queryParams:{insuranceParamString:JSON.stringify({searchToken:t,regionType:n,xproductParamsString:r})}}},transformResponse:function(e){if(e)return{insuranceGroups:e.insuranceGroups,insuranceHead:e.insuranceHead,insuranceFooter:e.footer,insuranceRetains:e.retains}}})}}}),D=(O.useInsuranceListQuery,O.useLazyInsuranceListQuery),L=S},62944:function(e,t,n){"use strict";n.d(t,{O:function(){return r},r:function(){return i}});n(62171);var r=function(e){return e["USER_CHECK"]="USER_CHECK",e["CONTACT_CHECK"]="CONTACT_CHECK",e["REAL_NAME_CHECK"]="REAL_NAME_CHECK",e["RESERVATION_CHECK"]="RESERVATION_CHECK",e["INSURANCE_DETAIN"]="INSURANCE_DETAIN",e["NONAGE_INSURE_CHECK"]="NONAGE_INSURE_CHECK",e["SERVICE_PACKAGE_DETAIN"]="SERVICE_PACKAGE_DETAIN",e}({}),i=function(e){return e[e["REGISTERED"]=-1]="REGISTERED",e[e["NOT_START"]=-2]="NOT_START",e[e["START"]=0]="START",e[e["PASS"]=1]="PASS",e[e["FAIL"]=2]="FAIL",e}({})},95569:function(e,t,n){"use strict";n.d(t,{O4:function(){return y.O},rG:function(){return y.r},ZP:function(){return _},EZ:function(){return a.EZ},T:function(){return a.T},rM:function(){return u},Zc:function(){return c},Up:function(){return x},a8:function(){return a.a8}});var r=n(62171),i=n(90201),o=n(55172),a=n(18952),c=function(e){return e.orderCheck},s=(0,r.createSelector)([c],(function(e){return null===e||void 0===e?void 0:e.fields})),u=((0,r.createSelector)([c],(function(e){return null===e||void 0===e?void 0:e.init})),(0,r.createSelector)([c],(function(e){return null===e||void 0===e?void 0:e.checkField})),(0,r.createSelector)([c],(function(e){return null===e||void 0===e?void 0:e.callbacks})),(0,r.createSelector)([c],(function(e){return null===e||void 0===e?void 0:e.checkPassengers}))),l=function(e){var t=e.children,n=e.orderCheck,r=e.initOrderCheckResult,i=e.initPassengerCheck;return t({initOrderCheckResult:r,initPassengerCheck:i,orderCheck:n})},d=function(e){return{orderCheck:c(e)}},f=function(e){return{initOrderCheckResult:function(){return e((0,a.EZ)())},initPassengerCheck:function(){return e((0,a.T)())}}},p=(0,r.connect)(d,f),m=(0,o.Z)({key:a.ZP.name,reducer:a.ZP.reducer}),h=(0,r.compose)(m,p)((0,i.memo)(l)),v=n(298),g=n(62461),y=n(62944),x=function(e,t){var n=(0,g.T)(),r=(0,a.a8)(s);(0,i.useEffect)((function(){return n((0,a.Ep)({name:e})),function(){n((0,a.PK)({name:e}))}}),[e]),(0,i.useEffect)((function(){if(r&&r[e]===y.r.NOT_START){var i=!1;t((function(t){return i=!0,n((0,a.zR)((0,v.Z)((0,v.Z)({},t),{},{name:e}))),!0}),(function(e){return setTimeout((function(){n((0,a.EZ)(e))}),50),!0})),i||n((0,a.zR)({name:e,result:y.r.START}))}}),[t,e,n,r])},_=h},18952:function(e,t,n){"use strict";n.d(t,{Ep:function(){return f},PK:function(){return p},EZ:function(){return m},zR:function(){return h},T:function(){return v},xb:function(){return g},a8:function(){return y}});var r=n(298),i=n(62171),o=n(62944),a=[o.O.USER_CHECK,o.O.CONTACT_CHECK,o.O.REAL_NAME_CHECK,o.O.RESERVATION_CHECK,o.O.INSURANCE_DETAIN,o.O.NONAGE_INSURE_CHECK,o.O.SERVICE_PACKAGE_DETAIN],c={registryFields:{},fields:{},init:0,errors:[],callbacks:[],pass:0,insurancePopped:!1,checkPassengers:[]},s=function e(t,n,r){var o=i.R.indexOf(t,n);if(o+1<n.length){var a=n[o+1];return a&&void 0===r[a]?e(a,n,r):a}},u=function(e){return 0===Object.values(e).filter((function(e){return e===o.r.NOT_START})).length?0===Object.values(e).filter((function(e){return e!==o.r.PASS})).length?1:-1:0},l=(0,i.createSlice)({name:"orderCheck",initialState:c,reducers:{initOrderCheckResultAction:function(e,t){var n=t.payload,i=n||{},c=i.insurancePopped,s=void 0!==c&&c;e.fields=(0,r.Z)({},e.registryFields),e.fields[a[0]]=o.r.NOT_START,e.init=e.init+1,e.pass=0,e.errors=[],e.callbacks=[],e.insurancePopped=s},registryOrderCheckAction:function(e,t){var n=t.payload,r=n.name;e.registryFields[r]=o.r.REGISTERED},unRegistryOrderCheckAction:function(e,t){var n=t.payload,r=n.name;delete e.registryFields[r]},changeOrderCheckResultAction:function(e,t){var n=t.payload,r=n.name,i=n.result,c=n.errors,l=void 0===c?[]:c,d=n.callback,f=n.insurancePopped,p=r===o.O.INSURANCE_DETAIN&&f||e.insurancePopped,m=e.fields;m[r]=i;var h=s(r,a,m);h&&m[h]===o.r.REGISTERED&&1===i&&(h===o.O.SERVICE_PACKAGE_DETAIN&&p?m[h]=o.r.PASS:m[h]=o.r.NOT_START),e.insurancePopped=p,e.fields=m,e.errors=l,e.callbacks="function"===typeof d&&[d]||[],e.pass=u(m)},initPassengerCheckAction:function(e){e.checkPassengers=[]},updatePassengerCheckAction:function(e,t){var n=t.payload.id;!e.checkPassengers.includes(String(n))&&e.checkPassengers.push(String(n))}}}),d=l.actions,f=d.registryOrderCheckAction,p=d.unRegistryOrderCheckAction,m=d.initOrderCheckResultAction,h=d.changeOrderCheckResultAction,v=d.initPassengerCheckAction,g=d.updatePassengerCheckAction,y=i.useSelector;t["ZP"]=l},16654:function(e,t,n){"use strict";n.d(t,{S:function(){return c}});n(62171);var r=n(52296),i=n(9154),o=n(16304),a=!1,c=function(e){var t=e.catchJump;a||(a=!0,(0,i.w)({content:"\u5f88\u62b1\u6b49\uff0c\u60a8\u9009\u62e9\u7684\u8231\u4f4d\u4ef7\u683c\u5df2\u552e\u5b8c!",buttons:[{text:"\u91cd\u65b0\u67e5\u8be2",callback:function(){a=!1,(0,r.jq)("booking_sold_out"),(0,o.n)({catchJump:t,result:{hasRefetch:!0}})}}]}))}},1967:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(298),i=n(68277),o=n(57042),a=n(24460),c=n(81876),s=n(21867),u=n(86066),l=n(45023),d=(n(62171),n(65542)),f=n(32180)["document"],p=["ubtKeyName","speed"],m=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,l.Z)((0,c.Z)(e),"pageId","ignore_page_pv"),(0,l.Z)((0,c.Z)(e),"autoExpose",!0),(0,l.Z)((0,c.Z)(e),"pathname",""),(0,l.Z)((0,c.Z)(e),"isForceShowAuthorization",!1),(0,l.Z)((0,c.Z)(e),"isPIPGPage",!0),e}return(0,a.Z)(n,[{key:"getDOMProps",value:function(e){var t,n=null===(t=f)||void 0===t||null===(t=t.getElementById(e))||void 0===t?void 0:t.props;if(n&&("undefined"!==typeof n["data-expose"]||"undefined"!==typeof n.expose)){var o="undefined"!==typeof n["data-expose"]?n["data-expose"]:n.expose,a=o.ubtKeyName,c=o.speed,s=(0,i.Z)(o,p),u=(0,r.Z)((0,r.Z)({},n),{},{"data-expose":{ubtKeyName:a||"_flight_tinyapp_exposure",data:(0,r.Z)((0,r.Z)({},s.data||s),{},{speed:c})}});return u}return n}}]),n}(d.Z)},62171:function(e,t,n){var r=n(32180)["window"],i=n(32180)["navigator"],o=n(32180)["document"],a=(n(32180)["requestAnimationFrame"],n(66371)["default"]);!function(){var t={410:function(e,t,n){var i,o=n(896).default;!function(){"use strict";var a={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=o(n);if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var i=c.apply(null,n);i&&e.push(i)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):"object"===o(n.amdO)&&n.amdO?void 0===(i=function(){return c}.apply(t,[]))||(e.exports=i):r.classNames=c}()},999:function(e,t,n){var r,i,o,a=n(896).default;o=function(){"use strict";var e=6e4,t=36e5,n="millisecond",r="second",i="minute",o="hour",c="day",s="week",u="month",l="quarter",d="year",f="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,u),o=n-i<0,a=t.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:s,d:c,D:f,h:o,m:i,s:r,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},x="en",_={};_[x]=v;var N="$isDayjsObject",b=function(e){return e instanceof I||!(!e||!e[N])},T=function e(t,n,r){var i;if(!t)return x;if("string"==typeof t){var o=t.toLowerCase();_[o]&&(i=o),n&&(_[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var c=t.name;_[c]=t,i=c}return!r&&i&&(x=i),i||!r&&x},w=function(e,t){if(b(e))return e.clone();var n="object"==a(t)?t:{};return n.date=e,n.args=arguments,new I(n)},C=y;C.l=T,C.i=b,C.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var I=function(){function a(e){this.$L=T(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[N]=!0}var v=a.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return C},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return w(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<w(e)},v.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,a=!!C.u(t)||t,l=C.p(e),p=function(e,t){var r=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return a?r:r.endOf(c)},m=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,v=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return a?p(1,0):p(31,11);case u:return a?p(1,v):p(0,v+1);case s:var x=this.$locale().weekStart||0,_=(h<x?h+7:h)-x;return p(a?g-_:g+(6-_),v);case c:case f:return m(y+"Hours",0);case o:return m(y+"Minutes",1);case i:return m(y+"Seconds",2);case r:return m(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var a,s=C.p(e),l="set"+(this.$u?"UTC":""),p=(a={},a[c]=l+"Date",a[f]=l+"Date",a[u]=l+"Month",a[d]=l+"FullYear",a[o]=l+"Hours",a[i]=l+"Minutes",a[r]=l+"Seconds",a[n]=l+"Milliseconds",a)[s],m=s===c?this.$D+(t-this.$W):t;if(s===u||s===d){var h=this.clone().set(f,1);h.$d[p](m),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[C.p(e)]()},v.add=function(n,a){var l,f=this;n=Number(n);var p=C.p(a),m=function(e){var t=w(f);return C.w(t.date(t.date()+Math.round(e*n)),f)};if(p===u)return this.set(u,this.$M+n);if(p===d)return this.set(d,this.$y+n);if(p===c)return m(1);if(p===s)return m(7);var h=(l={},l[i]=e,l[o]=t,l[r]=1e3,l)[p]||1,v=this.$d.getTime()+n*h;return C.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),o=this.$H,a=this.$m,c=this.$M,s=n.weekdays,u=n.months,l=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},f=function(e){return C.s(o%12||12,e,"0")},m=l||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(h,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return c+1;case"MM":return C.s(c+1,2,"0");case"MMM":return d(n.monthsShort,c,u,3);case"MMMM":return d(u,c);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,s,2);case"ddd":return d(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(o);case"HH":return C.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return m(o,a,!0);case"A":return m(o,a,!1);case"m":return String(a);case"mm":return C.s(a,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(n,a,f){var p,m=this,h=C.p(a),v=w(n),g=(v.utcOffset()-this.utcOffset())*e,y=this-v,x=function(){return C.m(m,v)};switch(h){case d:p=x()/12;break;case u:p=x();break;case l:p=x()/3;break;case s:p=(y-g)/6048e5;break;case c:p=(y-g)/864e5;break;case o:p=y/t;break;case i:p=y/e;break;case r:p=y/1e3;break;default:p=y}return f?p:C.a(p)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return _[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=T(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return C.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},a}(),E=I.prototype;return w.prototype=E,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",c],["$M",u],["$y",d],["$D",f]].forEach((function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,I,w),e.$i=!0),w},w.locale=T,w.isDayjs=b,w.unix=function(e){return w(1e3*e)},w.en=_[x],w.Ls=_,w.p={},w},"object"==a(t)?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},251:function(e,t,n){var r,i,o,a,c=n(896).default;a=function(e){"use strict";var t=function(e){return e&&"object"==c(e)&&"default"in e?e:{default:e}}(e),n={name:"zh-cn",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e,t){return"W"===t?e+"\u5468":e+"\u65e5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(e,t){var n=100*e+t;return n<600?"\u51cc\u6668":n<900?"\u65e9\u4e0a":n<1100?"\u4e0a\u5348":n<1300?"\u4e2d\u5348":n<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return t.default.locale(n,null,!0),n},"object"==c(t)?e.exports=a(n(999)):(i=[n(999)],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},972:function(e,t,n){var r,i,o;o=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,i){var o=n(e),a=n(t),c="("===(i=i||"()")[0],s=")"===i[1];return(c?this.isAfter(o,r):!this.isBefore(o,r))&&(s?this.isBefore(a,r):!this.isAfter(a,r))||(c?this.isBefore(o,r):!this.isAfter(o,r))&&(s?this.isAfter(a,r):!this.isBefore(a,r))}}},"object"==(0,n(896).default)(t)?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},994:function(e,t,n){var r,i,o;o=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}},"object"==(0,n(896).default)(t)?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},900:function(e){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},283:function(e,t,n){var r=n(896).default,i=n(900),o=/\s+/g,a=n(800),c=n(622);function s(e,t,n){"object"===r(e)?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=u),this._callback=e,this._options=t||u,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var u={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(c):Object.create(a),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?i.Script:"style"===e?i.Style:i.Tag,name:e,attribs:t,children:[]},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)},s.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===i.Text)n?t.data=(t.data+e).replace(o," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===i.Text)n?t.data=(t.data+e).replace(o," "):t.data+=e;else{n&&(e=e.replace(o," "));var r=this._createDomElement({data:e,type:i.Text});this._addDomElement(r)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===i.Comment)t.data+=e;else{var n={data:e,type:i.Comment},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:i.Text}],type:i.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:i.Directive});this._addDomElement(n)},e.exports=s},622:function(e,t,n){var r=n(800),i=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach((function(e){var t=o[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},800:function(e){var t=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return r[this.type]||r.element}},n={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},r={element:1,text:3,cdata:4,comment:8};Object.keys(n).forEach((function(e){var r=n[e];Object.defineProperty(t,e,{get:function(){return this[r]||null},set:function(e){return this[r]=e,e}})}))},962:function(e,t,n){var r=n(790);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"\ufffd";e in r&&(e=r[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)}},878:function(e,t,n){"use strict";var r,i=n(896).default,o="object"===("undefined"==typeof Reflect?"undefined":i(Reflect))?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var c=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(e))}function d(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a,c;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=d(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,c=s,console&&console.warn&&console.warn(c)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+i(e));e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)a(s,this,t);else{var u=s.length,l=g(s,u);for(n=0;n<u;++n)a(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,m(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,m(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},650:function(e,t,n){"use strict";var r=n(214),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return r.isMemo(e)?a:c[e.$$typeof]||i}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var i=p(n);i&&i!==m&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var c=s(t),h=s(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||r&&r[g]||h&&h[g]||c&&c[g])){var y=f(n,g);try{u(t,g,y)}catch(e){}}}}return t}},342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(114),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c={__proto__:null,math:!0,svg:!0},s={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function l(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(568)(l,n(878).EventEmitter),l.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},l.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},l.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in a||(this._stack.push(e),e in c?this._foreignContext.push(!0):e in s&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},l.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},l.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in c||e in s)&&this._foreignContext.pop(),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},l.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},l.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},l.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},l.prototype.onattribdata=function(e){this._attribvalue+=e},l.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},l.prototype._getInstructionName=function(e){var t=e.search(u),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},l.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},l.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},l.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},l.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},l.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},l.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},l.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},l.prototype.parseComplete=function(e){this.reset(),this.end(e)},l.prototype.write=function(e){this._tokenizer.write(e)},l.prototype.end=function(e){this._tokenizer.end(e)},l.prototype.pause=function(){this._tokenizer.pause()},l.prototype.resume=function(){this._tokenizer.resume()},l.prototype.parseChunk=l.prototype.write,l.prototype.done=l.prototype.end,t.default=l,e.exports=t.default},114:function(e,t,n){"use strict";var r=n(962),i={},o=n(269),a=n(893),c=0,s=c++,u=c++,l=c++,d=c++,f=c++,p=c++,m=c++,h=c++,v=c++,g=c++,y=c++,x=c++,_=c++,N=c++,b=c++,T=c++,w=c++,C=c++,I=c++,E=c++,S=c++,j=c++,k=c++,A=c++,P=c++,R=c++,O=c++,D=c++,L=c++,V=c++,Z=c++,M=c++,F=c++,B=c++,U=c++,q=c++,H=c++,G=c++,Y=c++,K=c++,W=c++,z=c++,Q=c++,$=c++,X=c++,J=c++,ee=c++,te=c++,ne=c++,re=c++,ie=c++,oe=c++,ae=c++,ce=c++,se=c++,ue=0,le=ue++,de=ue++,fe=ue++;function pe(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function me(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function he(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=l,this._index--)}}function ve(e,t){this._state=s,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=s,this._special=le,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ve.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===le&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=s,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateBeforeTagName=function(e){"/"===e?this._state=f:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==le||pe(e)?this._state=s:"!"===e?(this._state=b,this._sectionStart=this._index+1):"?"===e?(this._state=w,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?l:Z,this._sectionStart=this._index)},ve.prototype._stateInTagName=function(e){("/"===e||">"===e||pe(e))&&(this._emitToken("onopentagname"),this._state=h,this._index--)},ve.prototype._stateBeforeCloseingTagName=function(e){pe(e)||(">"===e?this._state=s:this._special!==le?"s"===e||"S"===e?this._state=M:(this._state=s,this._index--):(this._state=p,this._sectionStart=this._index))},ve.prototype._stateInCloseingTagName=function(e){(">"===e||pe(e))&&(this._emitToken("onclosetag"),this._state=m,this._index--)},ve.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=s,this._sectionStart=this._index+1)},ve.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=s,this._sectionStart=this._index+1):"/"===e?this._state=d:pe(e)||(this._state=v,this._sectionStart=this._index)},ve.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=s,this._sectionStart=this._index+1):pe(e)||(this._state=h,this._index--)},ve.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||pe(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=g,this._index--)},ve.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=h,this._index--):pe(e)||(this._cbs.onattribend(),this._state=v,this._sectionStart=this._index)},ve.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=x,this._sectionStart=this._index+1):"'"===e?(this._state=_,this._sectionStart=this._index+1):pe(e)||(this._state=N,this._sectionStart=this._index,this._index--)},ve.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=h):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=h):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateInAttributeValueNoQuotes=function(e){pe(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=h,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateBeforeDeclaration=function(e){this._state="["===e?j:"-"===e?C:T},ve.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=s,this._sectionStart=this._index+1)},ve.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=s,this._sectionStart=this._index+1)},ve.prototype._stateBeforeComment=function(e){"-"===e?(this._state=I,this._sectionStart=this._index+1):this._state=T},ve.prototype._stateInComment=function(e){"-"===e&&(this._state=E)},ve.prototype._stateAfterComment1=function(e){this._state="-"===e?S:I},ve.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=s,this._sectionStart=this._index+1):"-"!==e&&(this._state=I)},ve.prototype._stateBeforeCdata1=me("C",k,T),ve.prototype._stateBeforeCdata2=me("D",A,T),ve.prototype._stateBeforeCdata3=me("A",P,T),ve.prototype._stateBeforeCdata4=me("T",R,T),ve.prototype._stateBeforeCdata5=me("A",O,T),ve.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=D,this._sectionStart=this._index+1):(this._state=T,this._index--)},ve.prototype._stateInCdata=function(e){"]"===e&&(this._state=L)},ve.prototype._stateAfterCdata1=function(e){this._state="]"===e?V:D},ve.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=s,this._sectionStart=this._index+1):"]"!==e&&(this._state=D)},ve.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=F:"t"===e||"T"===e?this._state=Q:(this._state=l,this._index--)},ve.prototype._stateBeforeSpecialEnd=function(e){this._special!==de||"c"!==e&&"C"!==e?this._special!==fe||"t"!==e&&"T"!==e?this._state=s:this._state=ee:this._state=G},ve.prototype._stateBeforeScript1=he("R",B),ve.prototype._stateBeforeScript2=he("I",U),ve.prototype._stateBeforeScript3=he("P",q),ve.prototype._stateBeforeScript4=he("T",H),ve.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||pe(e))&&(this._special=de),this._state=l,this._index--},ve.prototype._stateAfterScript1=me("R",Y,s),ve.prototype._stateAfterScript2=me("I",K,s),ve.prototype._stateAfterScript3=me("P",W,s),ve.prototype._stateAfterScript4=me("T",z,s),ve.prototype._stateAfterScript5=function(e){">"===e||pe(e)?(this._special=le,this._state=p,this._sectionStart=this._index-6,this._index--):this._state=s},ve.prototype._stateBeforeStyle1=he("Y",$),ve.prototype._stateBeforeStyle2=he("L",X),ve.prototype._stateBeforeStyle3=he("E",J),ve.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||pe(e))&&(this._special=fe),this._state=l,this._index--},ve.prototype._stateAfterStyle1=me("Y",te,s),ve.prototype._stateAfterStyle2=me("L",ne,s),ve.prototype._stateAfterStyle3=me("E",re,s),ve.prototype._stateAfterStyle4=function(e){">"===e||pe(e)?(this._special=le,this._state=p,this._sectionStart=this._index-5,this._index--):this._state=s},ve.prototype._stateBeforeEntity=me("#",oe,ae),ve.prototype._stateBeforeNumericEntity=me("X",se,ce),ve.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:i;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ve.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=t+1);t--}},ve.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==s?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ve.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var i=this._buffer.substring(n,this._index),o=parseInt(i,t);this._emitPartial(r(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ve.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ve.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ve.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===s?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ve.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ve.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===s?this._stateText(e):this._state===u?this._stateBeforeTagName(e):this._state===l?this._stateInTagName(e):this._state===f?this._stateBeforeCloseingTagName(e):this._state===p?this._stateInCloseingTagName(e):this._state===m?this._stateAfterCloseingTagName(e):this._state===d?this._stateInSelfClosingTag(e):this._state===h?this._stateBeforeAttributeName(e):this._state===v?this._stateInAttributeName(e):this._state===g?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===x?this._stateInAttributeValueDoubleQuotes(e):this._state===_?this._stateInAttributeValueSingleQuotes(e):this._state===N?this._stateInAttributeValueNoQuotes(e):this._state===b?this._stateBeforeDeclaration(e):this._state===T?this._stateInDeclaration(e):this._state===w?this._stateInProcessingInstruction(e):this._state===C?this._stateBeforeComment(e):this._state===I?this._stateInComment(e):this._state===E?this._stateAfterComment1(e):this._state===S?this._stateAfterComment2(e):this._state===j?this._stateBeforeCdata1(e):this._state===k?this._stateBeforeCdata2(e):this._state===A?this._stateBeforeCdata3(e):this._state===P?this._stateBeforeCdata4(e):this._state===R?this._stateBeforeCdata5(e):this._state===O?this._stateBeforeCdata6(e):this._state===D?this._stateInCdata(e):this._state===L?this._stateAfterCdata1(e):this._state===V?this._stateAfterCdata2(e):this._state===Z?this._stateBeforeSpecial(e):this._state===M?this._stateBeforeSpecialEnd(e):this._state===F?this._stateBeforeScript1(e):this._state===B?this._stateBeforeScript2(e):this._state===U?this._stateBeforeScript3(e):this._state===q?this._stateBeforeScript4(e):this._state===H?this._stateBeforeScript5(e):this._state===G?this._stateAfterScript1(e):this._state===Y?this._stateAfterScript2(e):this._state===K?this._stateAfterScript3(e):this._state===W?this._stateAfterScript4(e):this._state===z?this._stateAfterScript5(e):this._state===Q?this._stateBeforeStyle1(e):this._state===$?this._stateBeforeStyle2(e):this._state===X?this._stateBeforeStyle3(e):this._state===J?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===oe?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===ce?this._stateInNumericEntity(e):this._state===se?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ve.prototype.pause=function(){this._running=!1},ve.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ve.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ve.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ve.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===D||this._state===L||this._state===V?this._cbs.oncdata(e):this._state===I||this._state===E||this._state===S?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==ce||this._xmlMode?this._state!==se||this._xmlMode?this._state!==l&&this._state!==h&&this._state!==y&&this._state!==g&&this._state!==v&&this._state!==_&&this._state!==x&&this._state!==N&&this._state!==p&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ve.prototype.reset=function(){ve.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ve.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ve.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ve.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ve.prototype._emitPartial=function(e){this._baseState!==s?this._cbs.onattribdata(e):this._cbs.ontext(e)},e.exports=ve},509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new r.default((function(e,n){e&&(console.error(e),t(e));try{t(null,c(n))}catch(e){console.error(e),t(e)}}),{}),o=new i.default(n,{xmlMode:!1});o.write(e),o.done()};var r=o(n(283)),i=o(n(342));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(-1===["tag","text"].indexOf(e.type))throw new Error("not supported name "+e.name+" of type "+e.type);return"text"===e.type?{type:e.type,text:e.data}:{name:e.name,children:c(e.children),attrs:e.attribs}}function c(e){return e.map(a)}e.exports=t.default},568:function(e){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},865:function(e,t,n){"use strict";var r=n(896).default,i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,c=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.async_mode"):60111,p=i?Symbol.for("react.concurrent_mode"):60111,m=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,x=i?Symbol.for("react.block"):60121,_=i?Symbol.for("react.fundamental"):60117,N=i?Symbol.for("react.responder"):60118,b=i?Symbol.for("react.scope"):60119;function T(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case c:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case d:case m:case y:case g:case l:return e;default:return t}}case a:return t}}}function w(e){return T(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=d,t.ContextProvider=l,t.Element=o,t.ForwardRef=m,t.Fragment=c,t.Lazy=y,t.Memo=g,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||T(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return T(e)===d},t.isContextProvider=function(e){return T(e)===l},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return T(e)===m},t.isFragment=function(e){return T(e)===c},t.isLazy=function(e){return T(e)===y},t.isMemo=function(e){return T(e)===g},t.isPortal=function(e){return T(e)===a},t.isProfiler=function(e){return T(e)===u},t.isStrictMode=function(e){return T(e)===s},t.isSuspense=function(e){return T(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===c||e===p||e===u||e===s||e===h||e===v||"object"===r(e)&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===l||e.$$typeof===d||e.$$typeof===m||e.$$typeof===_||e.$$typeof===N||e.$$typeof===b||e.$$typeof===x)},t.typeOf=T},214:function(e,t,n){"use strict";e.exports=n(865)},296:function(e,t,n){"use strict";var r=n(896).default,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy");Symbol.for("react.offscreen"),Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return function(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case s:case c:case p:case m:return e;default:switch(e=e&&e.$$typeof){case d:case l:case f:case v:case h:case u:return e;default:return t}}case o:return t}}}(e)===l}},913:function(e,t,n){"use strict";e.exports=n(296)},390:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(617))&&r.__esModule?r:{default:r}},617:function(e,t,n){"use strict";var r=n(896).default;function i(e){return i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},i(e)}function o(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"==typeof self?"undefined":i(self))||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(e){return!1}return!0}(t)?self[t]:a};var a={getItem:o,setItem:o,removeItem:o}},647:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(390))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},691:function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(482),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},482:function(e,t,n){e=n.nmd(e);var r=n(896).default;!function(t){"use strict";var n,i=Object.prototype,o=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag",l="object"===r(e),d=t.regeneratorRuntime;if(d)l&&(e.exports=d);else{(d=t.regeneratorRuntime=l?e.exports:{}).wrap=N;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={},g={};g[c]=function(){return this};var y=Object.getPrototypeOf,x=y&&y(y(P([])));x&&x!==i&&o.call(x,c)&&(g=x);var _=C.prototype=T.prototype=Object.create(g);w.prototype=_.constructor=C,C.constructor=w,C[u]=w.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(_),e},d.awrap=function(e){return{__await:e}},I(E.prototype),E.prototype[s]=function(){return this},d.AsyncIterator=E,d.async=function(e,t,n,r){var i=new E(N(e,t,n,r));return d.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},I(_),_[u]="Generator",_[c]=function(){return this},_.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},d.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return c.type="throw",c.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function N(e,t,n,r){var i=t&&t.prototype instanceof T?t:T,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===m)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=S(a,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var s=b(e,t,n);if("normal"===s.type){if(r=n.done?h:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function T(){}function w(){}function C(){}function I(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){function t(n,i,a,c){var s=b(e[n],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===r(l)&&o.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,a,c)}),(function(e){t("throw",e,a,c)})):Promise.resolve(l).then((function(e){u.value=e,a(u)}),c)}c(s.arg)}var n;this._invoke=function(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}}function S(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=b(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},571:function(e,t,n){"use strict";var i=n(689),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useState,c=i.useEffect,s=i.useLayoutEffect,u=i.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var d="undefined"==typeof r||void 0===r.document||void 0===r.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&o({inst:i})}),[e,n,t]),c((function(){return l(i)&&o({inst:i}),e((function(){l(i)&&o({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:d},419:function(e,t,n){"use strict";var r=n(689),i=n(256),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,c=r.useRef,s=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=c(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return c=t}return c=e}if(t=c,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,c=n)}var a,c,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var p=a(e,d[0],d[1]);return s((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},256:function(e,t,n){"use strict";e.exports=n(571)},848:function(e,t,n){"use strict";e.exports=n(419)},689:function(e){"use strict";e.exports=n(90201)},896:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},790:function(e){"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},269:function(e){"use strict";e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},893:function(e){"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}},c={};function s(e){var n=c[e];if(void 0!==n)return n.exports;var r=c[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.amdO={},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==("undefined"===typeof globalThis?"undefined":a(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"===typeof r?"undefined":a(r)))return r}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var u={};!function(){"use strict";s.r(u),s.d(u,{BackTop:function(){return ev},FlightHotelApi:function(){return tg},IFHType:function(){return eg},IndexList:function(){return Jh},Insurance:function(){return Jv},InsuranceContextProvider:function(){return fv},MiniInput:function(){return ov},MiniRichText:function(){return uv},NonageInsureComponent:function(){return Xv},PersistGate:function(){return Up},Popup:function(){return Fh},Provider:function(){return dl},R:function(){return e},ReactReduxContext:function(){return Au},ScrollViewWrap:function(){return rv},Switch:function(){return Bh},classnames:function(){return Dp()},combineReducers:function(){return Nu},compose:function(){return bu},configureStore:function(){return Bd},connect:function(){return ll},createApi:function(){return Pp},createAsyncThunk:function(){return Qd},createReplayPage:function(){return Ph},createSelector:function(){return vf},createSlice:function(){return Hd},dayjs:function(){return c()},debounce:function(){return qh},findCNYPrice:function(){return xv},getToken:function(){return Lh},handleCopyText:function(){return Qh},handleHighlight:function(){return zh},handleHighlightByRegex:function(){return Wh},hoistNonReactStatics:function(){return Gu()},htmlParse:function(){return Kh},imgUrlText:function(){return $h},initCoffeebeanTaro:function(){return Rh},isPlainObject:function(){return Vd},parse:function(){return cv()},persistReducer:function(){return um},persistStore:function(){return vm},showToast:function(){return Yh},storage:function(){return Rp.Z},throttle:function(){return Hh},trackFn:function(){return Oh},trackPage:function(){return Vh},useDispatch:function(){return vl},useSelector:function(){return Vu},wrapCWXStorage:function(){return zm},wrapLogin:function(){return Zh},wrapOpt:function(){return Dh},wrapRunOnlyUser:function(){return Mh}});var e={};s.r(e),s.d(e,{F:function(){return m},T:function(){return h},__:function(){return v},add:function(){return b},addIndex:function(){return j},adjust:function(){return P},all:function(){return B},allPass:function(){return Ce},always:function(){return Ie},and:function(){return Se},andThen:function(){return as},any:function(){return Pe},anyPass:function(){return Oe},ap:function(){return Le},aperture:function(){return Fe},append:function(){return Be},apply:function(){return qe},applySpec:function(){return We},applyTo:function(){return Qe},ascend:function(){return Xe},assoc:function(){return it},assocPath:function(){return nt},binary:function(){return st},bind:function(){return $},both:function(){return ht},call:function(){return gt},chain:function(){return Nt},clamp:function(){return Tt},clone:function(){return Et},collectBy:function(){return jt},comparator:function(){return At},complement:function(){return Ot},compose:function(){return Bt},composeWith:function(){return Kt},concat:function(){return yn},cond:function(){return _n},construct:function(){return Cn},constructN:function(){return wn},converge:function(){return En},count:function(){return jn},countBy:function(){return Pn},curry:function(){return bn},curryN:function(){return E},dec:function(){return Rn},defaultTo:function(){return Dn},descend:function(){return Vn},difference:function(){return Bn},differenceWith:function(){return Un},dissoc:function(){return Wn},dissocPath:function(){return Yn},divide:function(){return Qn},drop:function(){return er},dropLast:function(){return sr},dropLastWhile:function(){return fr},dropRepeats:function(){return gr},dropRepeatsWith:function(){return vr},dropWhile:function(){return _r},either:function(){return wr},empty:function(){return Ir},endsWith:function(){return jr},eqBy:function(){return Ar},eqProps:function(){return Rr},equals:function(){return en},evolve:function(){return Or},filter:function(){return pn},find:function(){return Zr},findIndex:function(){return Ur},findLast:function(){return Yr},findLastIndex:function(){return Qr},flatten:function(){return $r},flip:function(){return Jr},forEach:function(){return ti},forEachObjIndexed:function(){return ri},fromPairs:function(){return ii},groupBy:function(){return oi},groupWith:function(){return ci},gt:function(){return ui},gte:function(){return di},has:function(){return mi},hasIn:function(){return vi},hasPath:function(){return fi},head:function(){return Ut},identical:function(){return gi},identity:function(){return Ht},ifElse:function(){return xi},inc:function(){return _i},includes:function(){return Ni},indexBy:function(){return bi},indexOf:function(){return Ti},init:function(){return wi},innerJoin:function(){return Ii},insert:function(){return Ei},insertAll:function(){return Si},intersection:function(){return Oi},intersperse:function(){return Di},into:function(){return Bi},invert:function(){return qi},invertObj:function(){return Gi},invoker:function(){return Ki},is:function(){return Wi},isEmpty:function(){return Qi},isNil:function(){return tt},join:function(){return $i},juxt:function(){return Ji},keys:function(){return me},keysIn:function(){return to},last:function(){return hr},lastIndexOf:function(){return no},length:function(){return io},lens:function(){return oo},lensIndex:function(){return uo},lensPath:function(){return ho},lensProp:function(){return go},lift:function(){return pt},liftN:function(){return dt},lt:function(){return xo},lte:function(){return No},map:function(){return ve},mapAccum:function(){return To},mapAccumRight:function(){return Co},mapObjIndexed:function(){return Eo},match:function(){return So},mathMod:function(){return ko},max:function(){return q},maxBy:function(){return Po},mean:function(){return Oo},median:function(){return Lo},memoizeWith:function(){return Zo},mergeAll:function(){return Mo},mergeDeepLeft:function(){return Ho},mergeDeepRight:function(){return Go},mergeDeepWith:function(){return Ko},mergeDeepWithKey:function(){return qo},mergeLeft:function(){return zo},mergeRight:function(){return $o},mergeWith:function(){return Jo},mergeWithKey:function(){return Bo},min:function(){return ta},minBy:function(){return ra},modify:function(){return ca},modifyPath:function(){return oa},modulo:function(){return ua},move:function(){return la},multiply:function(){return fa},nAry:function(){return at},negate:function(){return ha},none:function(){return ga},not:function(){return Rt},nth:function(){return ye},nthArg:function(){return xa},o:function(){return Na},objOf:function(){return Vi},of:function(){return Ta},omit:function(){return Ca},on:function(){return Ea},once:function(){return ja},or:function(){return br},otherwise:function(){return Pa},over:function(){return Da},pair:function(){return La},partial:function(){return Za},partialObject:function(){return pa},partialRight:function(){return Ma},partition:function(){return Fa},path:function(){return po},pathEq:function(){return Ba},pathOr:function(){return qa},pathSatisfies:function(){return Ha},paths:function(){return fo},pick:function(){return Ga},pickAll:function(){return Ya},pickBy:function(){return Wa},pipe:function(){return Mt},pipeWith:function(){return Yt},pluck:function(){return be},prepend:function(){return za},product:function(){return Qa},project:function(){return Ja},promap:function(){return rc},prop:function(){return _e},propEq:function(){return ic},propIs:function(){return oc},propOr:function(){return cc},propSatisfies:function(){return sc},props:function(){return lc},range:function(){return fc},reduce:function(){return Te},reduceBy:function(){return An},reduceRight:function(){return mc},reduceWhile:function(){return vc},reduced:function(){return gc},reject:function(){return mn},remove:function(){return Hn},repeat:function(){return Nc},replace:function(){return bc},reverse:function(){return Ft},scan:function(){return wc},sequence:function(){return Ic},set:function(){return Sc},slice:function(){return Vt},sort:function(){return kc},sortBy:function(){return Pc},sortWith:function(){return Oc},split:function(){return Dc},splitAt:function(){return Lc},splitEvery:function(){return Zc},splitWhen:function(){return Mc},splitWhenever:function(){return Bc},startsWith:function(){return Uc},subtract:function(){return Hc},sum:function(){return Ro},symmetricDifference:function(){return Gc},symmetricDifferenceWith:function(){return Yc},tail:function(){return Zt},take:function(){return ir},takeLast:function(){return Sr},takeLastWhile:function(){return Wc},takeWhile:function(){return Xc},tap:function(){return ns},test:function(){return is},thunkify:function(){return du},times:function(){return xc},toLower:function(){return cs},toPairs:function(){return us},toPairsIn:function(){return ds},toString:function(){return vn},toUpper:function(){return fs},transduce:function(){return ms},transpose:function(){return vs},traverse:function(){return ys},trim:function(){return _s},tryCatch:function(){return bs},type:function(){return Ct},unapply:function(){return ws},unary:function(){return Is},uncurryN:function(){return Ss},unfold:function(){return ks},union:function(){return As},unionWith:function(){return Os},uniq:function(){return Ri},uniqBy:function(){return Pi},uniqWith:function(){return Rs},unless:function(){return Ls},unnest:function(){return Vs},until:function(){return Ms},unwind:function(){return Fs},update:function(){return co},useWith:function(){return Xa},values:function(){return Ge},valuesIn:function(){return Us},view:function(){return Gs},when:function(){return Ks},where:function(){return zs},whereAny:function(){return $s},whereEq:function(){return Xs},without:function(){return Js},xor:function(){return tu},xprod:function(){return ru},zip:function(){return ou},zipObj:function(){return cu},zipWith:function(){return uu}});var t=s(999),c=s.n(t),l=(s(251),s(972)),d=s.n(l),f=s(994),p=s.n(f),m=function(){return!1},h=function(){return!0},v={"@@functional/placeholder":!0};function g(e){return g="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},g(e)}function y(e){return null!=e&&"object"===g(e)&&!0===e["@@functional/placeholder"]}function x(e){return function t(n){return 0===arguments.length||y(n)?t:e.apply(this,arguments)}}function _(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return y(n)?t:x((function(t){return e(n,t)}));default:return y(n)&&y(r)?t:y(n)?x((function(t){return e(t,r)})):y(r)?x((function(t){return e(n,t)})):e(n,r)}}}var N=_((function(e,t){return Number(e)+Number(t)})),b=N;function T(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<i;)o[o.length]=t[n],n+=1;return o}function w(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,c){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,c,s){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,c,s,u){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,c,s,u,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function C(e,t,n){return function(){for(var r=[],i=0,o=e,a=0;a<t.length||i<arguments.length;){var c;a<t.length&&(!y(t[a])||i>=arguments.length)?c=t[a]:(c=arguments[i],i+=1),r[a]=c,y(c)||(o-=1),a+=1}return o<=0?n.apply(this,r):w(o,C(e,r,n))}}var I=_((function(e,t){return 1===e?x(t):w(e,C(e,[],t))})),E=I,S=x((function(e){return E(e.length,(function(){var t=0,n=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var e=n.apply(this,T(arguments,[t,r]));return t+=1,e},e.apply(this,i)}))})),j=S;function k(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return y(n)?t:_((function(t,r){return e(n,t,r)}));case 2:return y(n)&&y(r)?t:y(n)?_((function(t,n){return e(t,r,n)})):y(r)?_((function(t,r){return e(n,t,r)})):x((function(t){return e(n,r,t)}));default:return y(n)&&y(r)&&y(i)?t:y(n)&&y(r)?_((function(t,n){return e(t,n,i)})):y(n)&&y(i)?_((function(t,n){return e(t,r,n)})):y(r)&&y(i)?_((function(t,r){return e(n,t,r)})):y(n)?x((function(t){return e(t,r,i)})):y(r)?x((function(t){return e(n,t,i)})):y(i)?x((function(t){return e(n,r,t)})):e(n,r,i)}}}var A=k((function(e,t,n){var r=n.length;if(e>=r||e<-r)return n;var i=(r+e)%r,o=T(n);return o[i]=t(n[i]),o})),P=A,R=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function O(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function D(e,t,n){return function(){if(0===arguments.length)return n();var r=arguments[arguments.length-1];if(!R(r)){for(var i=0;i<e.length;){if("function"==typeof r[e[i]])return r[e[i]].apply(r,Array.prototype.slice.call(arguments,0,-1));i+=1}if(O(r))return t.apply(null,Array.prototype.slice.call(arguments,0,-1))(r)}return n.apply(this,arguments)}}function L(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var V={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},Z=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=L(this.xf["@@transducer/step"](e,!1))),e},e}(),M=_((function(e,t){return new Z(e,t)})),F=_(D(["all"],M,(function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0}))),B=F,U=_((function(e,t){return t>e?t:e})),q=U;function H(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}function G(e){return"[object String]"===Object.prototype.toString.call(e)}var Y=x((function(e){return!!R(e)||!!e&&"object"===g(e)&&!G(e)&&(0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))})),K=Y,W=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function z(e){return new W(e)}var Q=_((function(e,t){return w(e.length,(function(){return e.apply(t,arguments)}))})),$=Q;function X(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function J(e,t,n,r){return e["@@transducer/result"](n[r]($(e["@@transducer/step"],e),t))}var ee="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function te(e,t,n){if("function"==typeof e&&(e=z(e)),K(n))return function(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return J(e,t,n,"fantasy-land/reduce");if(null!=n[ee])return X(e,t,n[ee]());if("function"==typeof n.next)return X(e,t,n);if("function"==typeof n.reduce)return J(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var ne=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),re=_((function(e,t){return new ne(e,t)})),ie=re;function oe(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var ae=Object.prototype.toString,ce=function(){return"[object Arguments]"===ae.call(arguments)?function(e){return"[object Arguments]"===ae.call(e)}:function(e){return oe("callee",e)}}(),se=ce,ue=!{toString:null}.propertyIsEnumerable("toString"),le=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],de=function(){return arguments.propertyIsEnumerable("length")}(),fe=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},pe="function"!=typeof Object.keys||de?x((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=de&&se(e);for(t in e)!oe(t,e)||i&&"length"===t||(r[r.length]=t);if(ue)for(n=le.length-1;n>=0;)oe(t=le[n],e)&&!fe(r,t)&&(r[r.length]=t),n-=1;return r})):x((function(e){return Object(e)!==e?[]:Object.keys(e)})),me=pe,he=_(D(["fantasy-land/map","map"],ie,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return E(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return te((function(n,r){return n[r]=e(t[r]),n}),{},me(t));default:return H(e,t)}}))),ve=he,ge=Number.isInteger||function(e){return e<<0===e},ye=_((function(e,t){var n=e<0?t.length+e:e;return G(t)?t.charAt(n):t[n]})),xe=_((function(e,t){if(null!=t)return ge(e)?ye(e,t):t[e]})),_e=xe,Ne=_((function(e,t){return ve(_e(e),t)})),be=Ne,Te=k(te),we=x((function(e){return E(Te(q,0,be("length",e)),(function(){for(var t=0,n=e.length;t<n;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0}))})),Ce=we,Ie=x((function(e){return function(){return e}})),Ee=_((function(e,t){return e&&t})),Se=Ee,je=function(){function e(e,t){this.xf=t,this.f=e,this.any=!1}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=L(this.xf["@@transducer/step"](e,!0))),e},e}(),ke=_((function(e,t){return new je(e,t)})),Ae=_(D(["any"],ke,(function(e,t){for(var n=0;n<t.length;){if(e(t[n]))return!0;n+=1}return!1}))),Pe=Ae,Re=x((function(e){return E(Te(q,0,be("length",e)),(function(){for(var t=0,n=e.length;t<n;){if(e[t].apply(this,arguments))return!0;t+=1}return!1}))})),Oe=Re,De=_((function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(n){return e(n)(t(n))}:te((function(e,n){return T(e,ve(n,t))}),[],e)})),Le=De;function Ve(e,t){for(var n=0,r=t.length-(e-1),i=new Array(r>=0?r:0);n<r;)i[n]=Array.prototype.slice.call(t,n,n+e),n+=1;return i}var Ze=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return T(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e}(),Me=_((function(e,t){return new Ze(e,t)})),Fe=_(D([],Me,Ve)),Be=_((function(e,t){return T(t,[e])})),Ue=_((function(e,t){return e.apply(this,t)})),qe=Ue,He=x((function(e){for(var t=me(e),n=t.length,r=[],i=0;i<n;)r[i]=e[t[i]],i+=1;return r})),Ge=He;function Ye(e,t){return R(t)?t.map(e):me(t).reduce((function(n,r){return n[r]=e(t[r]),n}),{})}var Ke=x((function e(t){return t=Ye((function(t){return"function"==typeof t?t:e(t)}),t),E(Te(q,0,be("length",Ge(t))),(function(){var e=arguments;return Ye((function(t){return qe(t,e)}),t)}))})),We=Ke,ze=_((function(e,t){return t(e)})),Qe=ze,$e=k((function(e,t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0})),Xe=$e;function Je(e,t,n){if(ge(e)&&R(n)){var r=[].concat(n);return r[e]=t,r}var i={};for(var o in n)i[o]=n[o];return i[e]=t,i}var et=x((function(e){return null==e})),tt=et,nt=k((function e(t,n,r){if(0===t.length)return n;var i=t[0];if(t.length>1){var o=!tt(r)&&oe(i,r)?r[i]:ge(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,o)}return Je(i,n,r)})),rt=k((function(e,t,n){return nt([e],t,n)})),it=rt,ot=_((function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,n){return t.call(this,e,n)};case 3:return function(e,n,r){return t.call(this,e,n,r)};case 4:return function(e,n,r,i){return t.call(this,e,n,r,i)};case 5:return function(e,n,r,i,o){return t.call(this,e,n,r,i,o)};case 6:return function(e,n,r,i,o,a){return t.call(this,e,n,r,i,o,a)};case 7:return function(e,n,r,i,o,a,c){return t.call(this,e,n,r,i,o,a,c)};case 8:return function(e,n,r,i,o,a,c,s){return t.call(this,e,n,r,i,o,a,c,s)};case 9:return function(e,n,r,i,o,a,c,s,u){return t.call(this,e,n,r,i,o,a,c,s,u)};case 10:return function(e,n,r,i,o,a,c,s,u,l){return t.call(this,e,n,r,i,o,a,c,s,u,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),at=ot,ct=x((function(e){return at(2,e)})),st=ct;function ut(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t}var lt=_((function(e,t){var n=E(e,t);return E(e,(function(){return te(Le,ve(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),dt=lt,ft=x((function(e){return dt(e.length,e)})),pt=ft,mt=_((function(e,t){return ut(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:pt(Se)(e,t)})),ht=mt,vt=x((function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))})),gt=vt;function yt(e){return function t(n){for(var r,i,o,a=[],c=0,s=n.length;c<s;){if(K(n[c]))for(o=0,i=(r=e?t(n[c]):n[c]).length;o<i;)a[a.length]=r[o],o+=1;else a[a.length]=n[c];c+=1}return a}}var xt=_((function(e,t){return ve(e,function(e){var t=function(e){return{"@@transducer/init":V.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?function(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}(r):r}}}(e);return{"@@transducer/init":V.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){return K(n)?te(t,e,n):te(t,e,[n])}}}(t))})),_t=_(D(["fantasy-land/chain","chain"],xt,(function(e,t){return"function"==typeof t?function(n){return e(t(n))(n)}:yt(!1)(ve(e,t))}))),Nt=_t,bt=k((function(e,t,n){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<e?e:n>t?t:n})),Tt=bt;function wt(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}var Ct=x((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function It(e,t,n,r){var i=function(i){for(var o=t.length,a=0;a<o;){if(e===t[a])return n[a];a+=1}for(var c in t[a]=e,n[a]=i,e)e.hasOwnProperty(c)&&(i[c]=r?It(e[c],t,n,!0):e[c]);return i};switch(Ct(e)){case"Object":return i(Object.create(Object.getPrototypeOf(e)));case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return wt(e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var Et=x((function(e){return null!=e&&"function"==typeof e.clone?e.clone():It(e,[],[],!0)})),St=_((function(e,t){var n=te((function(t,n){var r=e(n);return void 0===t[r]&&(t[r]=[]),t[r].push(n),t}),{},t),r=[];for(var i in n)r.push(n[i]);return r})),jt=St,kt=x((function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}})),At=kt,Pt=x((function(e){return!e})),Rt=Pt,Ot=pt(Rt);function Dt(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function Lt(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return R(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var Vt=k(Lt("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),Zt=x(Lt("tail",Vt(1,1/0)));function Mt(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return w(arguments[0].length,Te(Dt,arguments[0],Zt(arguments)))}var Ft=x((function(e){return G(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));function Bt(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Mt.apply(this,Ft(arguments))}var Ut=ye(0);function qt(e){return e}var Ht=x(qt),Gt=_((function(e,t){if(t.length<=0)return Ht;var n=Ut(t),r=Zt(t);return w(n.length,(function(){return te((function(t,n){return e.call(this,n,t)}),n.apply(this,arguments),r)}))})),Yt=Gt,Kt=_((function(e,t){return Yt.apply(this,[e,Ft(t)])}));function Wt(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function zt(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}var Qt="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function $t(e,t,n,r){var i=Wt(e);function o(e,t){return Xt(e,t,n.slice(),r.slice())}return!zt((function(e,t){return!zt(o,t,e)}),Wt(t),i)}function Xt(e,t,n,r){if(Qt(e,t))return!0;var i=Ct(e);if(i!==Ct(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(g(e)!==g(t)||!Qt(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Qt(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size===t.size&&$t(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&$t(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=me(e);if(a.length!==me(t).length)return!1;var c=n.concat([e]),s=r.concat([t]);for(o=a.length-1;o>=0;){var u=a[o];if(!oe(u,t)||!Xt(t[u],e[u],c,s))return!1;o-=1}return!0}var Jt=_((function(e,t){return Xt(e,t,[],[])})),en=Jt;function tn(e,t,n){var r,i;if("function"==typeof e.indexOf)switch(g(t)){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(i=e[n])&&1/i===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(i=e[n])&&i!=i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(en(e[n],t))return n;n+=1}return-1}function nn(e,t){return tn(t,e,0)>=0}function rn(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var on=function(e){return(e<10?"0":"")+e},an="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+on(e.getUTCMonth()+1)+"-"+on(e.getUTCDate())+"T"+on(e.getUTCHours())+":"+on(e.getUTCMinutes())+":"+on(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},cn=an;function sn(e){return function(){return!e.apply(this,arguments)}}function un(e,t){for(var n=0,r=t.length,i=[];n<r;)e(t[n])&&(i[i.length]=t[n]),n+=1;return i}function ln(e){return"[object Object]"===Object.prototype.toString.call(e)}var dn=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),fn=_((function(e,t){return new dn(e,t)})),pn=_(D(["fantasy-land/filter","filter"],fn,(function(e,t){return ln(t)?te((function(n,r){return e(t[r])&&(n[r]=t[r]),n}),{},me(t)):un(e,t)}))),mn=_((function(e,t){return pn(sn(e),t)}));function hn(e,t){var n=function(n){var r=t.concat([e]);return nn(n,r)?"<Circular>":hn(n,r)},r=function(e,t){return H((function(t){return rn(t)+": "+n(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+H(n,e).join(", ")+"))";case"[object Array]":return"["+H(n,e).concat(r(e,mn((function(e){return/^\d+$/.test(e)}),me(e)))).join(", ")+"]";case"[object Boolean]":return"object"===g(e)?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):rn(cn(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"===g(e)?"new Number("+n(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"===g(e)?"new String("+n(e.valueOf())+")":rn(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var i=e.toString();if("[object Object]"!==i)return i}return"{"+r(e,me(e)).join(", ")+"}"}}var vn=x((function(e){return hn(e,[])})),gn=_((function(e,t){if(R(e)){if(R(t))return e.concat(t);throw new TypeError(vn(t)+" is not an array")}if(G(e)){if(G(t))return e+t;throw new TypeError(vn(t)+" is not a string")}if(null!=e&&ut(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&ut(e.concat))return e.concat(t);throw new TypeError(vn(e)+' does not have a method named "concat" or "fantasy-land/concat"')})),yn=gn,xn=x((function(e){return w(Te(q,0,ve((function(e){return e[0].length}),e)),(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))})),_n=xn,Nn=x((function(e){return E(e.length,e)})),bn=Nn,Tn=_((function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:bn(at(e,(function(e,n,r,i,o,a,c,s,u,l){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,n);case 3:return new t(e,n,r);case 4:return new t(e,n,r,i);case 5:return new t(e,n,r,i,o);case 6:return new t(e,n,r,i,o,a);case 7:return new t(e,n,r,i,o,a,c);case 8:return new t(e,n,r,i,o,a,c,s);case 9:return new t(e,n,r,i,o,a,c,s,u);case 10:return new t(e,n,r,i,o,a,c,s,u,l)}})))})),wn=Tn,Cn=x((function(e){return wn(e.length,e)})),In=_((function(e,t){return E(Te(q,0,be("length",t)),(function(){var n=arguments,r=this;return e.apply(r,H((function(e){return e.apply(r,n)}),t))}))})),En=In,Sn=bn((function(e,t){return te((function(t,n){return e(n)?t+1:t}),0,t)})),jn=Sn,kn=function(){function e(e,t,n,r){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=r,this.inputs={}}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(oe(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e},e}(),An=C(4,[],D([],C(4,[],(function(e,t,n,r){return new kn(e,t,n,r)})),(function(e,t,n,r){return te((function(r,i){var o=n(i),a=e(oe(o,r)?r[o]:It(t,[],[],!1),i);return a&&a["@@transducer/reduced"]?L(r):(r[o]=a,r)}),{},r)}))),Pn=An((function(e,t){return e+1}),0),Rn=b(-1),On=_((function(e,t){return null==t||t!=t?e:t})),Dn=On,Ln=k((function(e,t,n){var r=e(t),i=e(n);return r>i?-1:r<i?1:0})),Vn=Ln;function Zn(e,t,n){var r,i=g(e);switch(i){case"string":case"number":return 0===e&&1/e==-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?e in n._items[i]||(t&&(n._items[i][e]=!0),!1):(t&&(n._items[i]={},n._items[i][e]=!0),!1);case"boolean":if(i in n._items){var o=e?1:0;return!!n._items[i][o]||(t&&(n._items[i][o]=!0),!1)}return t&&(n._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?!!nn(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1);case"undefined":return!!n._items[i]||(t&&(n._items[i]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in n._items?!!nn(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1)}}var Mn=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!Zn(e,!0,this)},e.prototype.has=function(e){return Zn(e,!1,this)},e}(),Fn=_((function(e,t){for(var n=[],r=0,i=e.length,o=t.length,a=new Mn,c=0;c<o;c+=1)a.add(t[c]);for(;r<i;)a.add(e[r])&&(n[n.length]=e[r]),r+=1;return n})),Bn=Fn,Un=k((function(e,t,n){for(var r=[],i=0,o=t.length;i<o;)zt(e,t[i],n)||zt(e,t[i],r)||r.push(t[i]),i+=1;return r})),qn=k((function(e,t,n){var r=Array.prototype.slice.call(n,0);return r.splice(e,t),r})),Hn=qn,Gn=_((function e(t,n){if(null==n)return n;switch(t.length){case 0:return n;case 1:return function(e,t){if(null==t)return t;if(ge(e)&&R(t))return Hn(e,1,t);var n={};for(var r in t)n[r]=t[r];return delete n[e],n}(t[0],n);default:var r=t[0],i=Array.prototype.slice.call(t,1);return null==n[r]?function(e,t){if(ge(e)&&R(t))return[].concat(t);var n={};for(var r in t)n[r]=t[r];return n}(r,n):it(r,e(i,n[r]),n)}})),Yn=Gn,Kn=_((function(e,t){return Yn([e],t)})),Wn=Kn,zn=_((function(e,t){return e/t})),Qn=zn,$n=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},e}(),Xn=_((function(e,t){return new $n(e,t)})),Jn=_(D(["drop"],Xn,(function(e,t){return Vt(Math.max(0,e),1/0,t)}))),er=Jn,tr=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?L(n):n},e}(),nr=_((function(e,t){return new tr(e,t)})),rr=_(D(["take"],nr,(function(e,t){return Vt(0,e<0?1/0:e,t)}))),ir=rr;function or(e,t){return ir(e<t.length?t.length-e:0,t)}var ar=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}(),cr=_((function(e,t){return new ar(e,t)})),sr=_(D([],cr,or));function ur(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return Vt(0,n+1,t)}var lr=function(){function e(e,t){this.f=e,this.retained=[],this.xf=t}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},e.prototype.flush=function(e,t){return e=te(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},e.prototype.retain=function(e,t){return this.retained.push(t),e},e}(),dr=_((function(e,t){return new lr(e,t)})),fr=_(D([],dr,ur)),pr=function(){function e(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(n=!0):this.seenFirstValue=!0,this.lastValue=t,n?e:this.xf["@@transducer/step"](e,t)},e}(),mr=_((function(e,t){return new pr(e,t)})),hr=ye(-1),vr=_(D([],mr,(function(e,t){var n=[],r=1,i=t.length;if(0!==i)for(n[0]=t[0];r<i;)e(hr(n),t[r])||(n[n.length]=t[r]),r+=1;return n}))),gr=x(D([],mr(en),vr(en))),yr=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},e}(),xr=_((function(e,t){return new yr(e,t)})),_r=_(D(["dropWhile"],xr,(function(e,t){for(var n=0,r=t.length;n<r&&e(t[n]);)n+=1;return Vt(n,1/0,t)}))),Nr=_((function(e,t){return e||t})),br=Nr,Tr=_((function(e,t){return ut(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:pt(br)(e,t)})),wr=Tr,Cr=x((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():R(e)?[]:G(e)?"":ln(e)?{}:se(e)?function(){return arguments}():(t=e,"[object Uint8ClampedArray]"===(n=Object.prototype.toString.call(t))||"[object Int8Array]"===n||"[object Uint8Array]"===n||"[object Int16Array]"===n||"[object Uint16Array]"===n||"[object Int32Array]"===n||"[object Uint32Array]"===n||"[object Float32Array]"===n||"[object Float64Array]"===n||"[object BigInt64Array]"===n||"[object BigUint64Array]"===n?e.constructor.from(""):void 0);var t,n})),Ir=Cr,Er=_((function(e,t){return er(e>=0?t.length-e:0,t)})),Sr=Er,jr=_((function(e,t){return en(Sr(e.length,t),e)})),kr=k((function(e,t,n){return en(e(t),e(n))})),Ar=kr,Pr=k((function(e,t,n){return en(t[e],n[e])})),Rr=Pr,Or=_((function e(t,n){if(!ln(n)&&!R(n))return n;var r,i,o,a=n instanceof Array?[]:{};for(i in n)o=g(r=t[i]),a[i]="function"===o?r(n[i]):r&&"object"===o?e(r,n[i]):n[i];return a})),Dr=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=L(this.xf["@@transducer/step"](e,t))),e},e}(),Lr=_((function(e,t){return new Dr(e,t)})),Vr=_(D(["find"],Lr,(function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return t[n];n+=1}}))),Zr=Vr,Mr=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=L(this.xf["@@transducer/step"](e,this.idx))),e},e}(),Fr=_((function(e,t){return new Mr(e,t)})),Br=_(D([],Fr,(function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return n;n+=1}return-1}))),Ur=Br,qr=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},e}(),Hr=_((function(e,t){return new qr(e,t)})),Gr=_(D([],Hr,(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return t[n];n-=1}}))),Yr=Gr,Kr=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},e}(),Wr=_((function(e,t){return new Kr(e,t)})),zr=_(D([],Wr,(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return n;n-=1}return-1}))),Qr=zr,$r=x(yt(!0)),Xr=x((function(e){return E(e.length,(function(t,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=t,e.apply(this,r)}))})),Jr=Xr,ei=_(Lt("forEach",(function(e,t){for(var n=t.length,r=0;r<n;)e(t[r]),r+=1;return t}))),ti=ei,ni=_((function(e,t){for(var n=me(t),r=0;r<n.length;){var i=n[r];e(t[i],i,t),r+=1}return t})),ri=ni,ii=x((function(e){for(var t={},n=0;n<e.length;)t[e[n][0]]=e[n][1],n+=1;return t})),oi=_(Lt("groupBy",An((function(e,t){return e.push(t),e}),[]))),ai=_((function(e,t){for(var n=[],r=0,i=t.length;r<i;){for(var o=r+1;o<i&&e(t[o-1],t[o]);)o+=1;n.push(t.slice(r,o)),r=o}return n})),ci=ai,si=_((function(e,t){return e>t})),ui=si,li=_((function(e,t){return e>=t})),di=li,fi=_((function(e,t){if(0===e.length||tt(t))return!1;for(var n=t,r=0;r<e.length;){if(tt(n)||!oe(e[r],n))return!1;n=n[e[r]],r+=1}return!0})),pi=_((function(e,t){return fi([e],t)})),mi=pi,hi=_((function(e,t){return!tt(t)&&e in t})),vi=hi,gi=_(Qt),yi=k((function(e,t,n){return E(Math.max(e.length,t.length,n.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}))})),xi=yi,_i=b(1),Ni=_(nn),bi=An((function(e,t){return t}),null),Ti=_((function(e,t){return"function"!=typeof t.indexOf||R(t)?tn(t,e,0):t.indexOf(e)})),wi=Vt(0,-1),Ci=k((function(e,t,n){return un((function(t){return zt(e,t,n)}),t)})),Ii=Ci,Ei=k((function(e,t,n){e=e<n.length&&e>=0?e:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(e,0,t),r})),Si=k((function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))})),ji=function(){function e(e,t){this.xf=t,this.f=e,this.set=new Mn}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){return this.set.add(this.f(t))?this.xf["@@transducer/step"](e,t):e},e}(),ki=_((function(e,t){return new ji(e,t)})),Ai=_(D([],ki,(function(e,t){for(var n,r,i=new Mn,o=[],a=0;a<t.length;)n=e(r=t[a]),i.add(n)&&o.push(r),a+=1;return o}))),Pi=Ai,Ri=Pi(Ht),Oi=_((function(e,t){var n,r;return e.length>t.length?(n=e,r=t):(n=t,r=e),Ri(un(Jr(nn)(n),r))})),Di=_(Lt("intersperse",(function(e,t){for(var n=[],r=0,i=t.length;r<i;)r===i-1?n.push(t[r]):n.push(t[r],e),r+=1;return n}))),Li="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)oe(o,i)&&(t[o]=i[o]);n+=1}return t},Vi=_((function(e,t){var n={};return n[e]=t,n})),Zi={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":qt},Mi={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":qt},Fi={"@@transducer/init":Object,"@@transducer/step":function(e,t){return Li(e,K(t)?Vi(t[0],t[1]):t)},"@@transducer/result":qt},Bi=k((function(e,t,n){return O(e)?te(t(e),e["@@transducer/init"](),n):te(t(function(e){if(O(e))return e;if(K(e))return Zi;if("string"==typeof e)return Mi;if("object"===g(e))return Fi;throw new Error("Cannot create transformer for "+e)}(e)),It(e,[],[],!1),n)})),Ui=x((function(e){for(var t=me(e),n=t.length,r=0,i={};r<n;){var o=t[r],a=e[o],c=oe(a,i)?i[a]:i[a]=[];c[c.length]=o,r+=1}return i})),qi=Ui,Hi=x((function(e){for(var t=me(e),n=t.length,r=0,i={};r<n;){var o=t[r];i[e[o]]=o,r+=1}return i})),Gi=Hi,Yi=_((function(e,t){return E(e+1,(function(){var n=arguments[e];if(null!=n&&ut(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(vn(n)+' does not have a method named "'+t+'"')}))})),Ki=Yi,Wi=_((function(e,t){return t instanceof e||null!=t&&(t.constructor===e||"Object"===e.name&&"object"===g(t))})),zi=x((function(e){return null!=e&&en(e,Ir(e))})),Qi=zi,$i=Ki(1,"join"),Xi=x((function(e){return En((function(){return Array.prototype.slice.call(arguments,0)}),e)})),Ji=Xi,eo=x((function(e){var t,n=[];for(t in e)n[n.length]=t;return n})),to=eo,no=_((function(e,t){if("function"!=typeof t.lastIndexOf||R(t)){for(var n=t.length-1;n>=0;){if(en(t[n],e))return n;n-=1}return-1}return t.lastIndexOf(e)}));function ro(e){return"[object Number]"===Object.prototype.toString.call(e)}var io=x((function(e){return null!=e&&ro(e.length)?e.length:NaN})),oo=_((function(e,t){return function(n){return function(r){return ve((function(e){return t(e,r)}),n(e(r)))}}})),ao=k((function(e,t,n){return P(e,Ie(t),n)})),co=ao,so=x((function(e){return oo(ye(e),co(e))})),uo=so,lo=_((function(e,t){return e.map((function(e){for(var n,r=t,i=0;i<e.length;){if(null==r)return;n=e[i],r=ge(n)?ye(n,r):r[n],i+=1}return r}))})),fo=lo,po=_((function(e,t){return fo([e],t)[0]})),mo=x((function(e){return oo(po(e),nt(e))})),ho=mo,vo=x((function(e){return oo(_e(e),it(e))})),go=vo,yo=_((function(e,t){return e<t})),xo=yo,_o=_((function(e,t){return e<=t})),No=_o,bo=k((function(e,t,n){for(var r=0,i=n.length,o=[],a=[t];r<i;)a=e(a[0],n[r]),o[r]=a[1],r+=1;return[a[0],o]})),To=bo,wo=k((function(e,t,n){for(var r=n.length-1,i=[],o=[t];r>=0;)o=e(o[0],n[r]),i[r]=o[1],r-=1;return[o[0],i]})),Co=wo,Io=_((function(e,t){return te((function(n,r){return n[r]=e(t[r],r,t),n}),{},me(t))})),Eo=Io,So=_((function(e,t){return t.match(e)||[]})),jo=_((function(e,t){return ge(e)?!ge(t)||t<1?NaN:(e%t+t)%t:NaN})),ko=jo,Ao=k((function(e,t,n){return e(n)>e(t)?n:t})),Po=Ao,Ro=Te(b,0),Oo=x((function(e){return Ro(e)/e.length})),Do=x((function(e){var t=e.length;if(0===t)return NaN;var n=2-t%2,r=(t-n)/2;return Oo(Array.prototype.slice.call(e,0).sort((function(e,t){return e<t?-1:e>t?1:0})).slice(r,r+n))})),Lo=Do,Vo=_((function(e,t){var n={};return w(t.length,(function(){var r=e.apply(this,arguments);return oe(r,n)||(n[r]=t.apply(this,arguments)),n[r]}))})),Zo=Vo,Mo=x((function(e){return Li.apply(null,[{}].concat(e))})),Fo=k((function(e,t,n){var r,i={};for(r in t)oe(r,t)&&(i[r]=oe(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)oe(r,n)&&!oe(r,i)&&(i[r]=n[r]);return i})),Bo=Fo,Uo=k((function e(t,n,r){return Bo((function(n,r,i){return ln(r)&&ln(i)?e(t,r,i):t(n,r,i)}),n,r)})),qo=Uo,Ho=_((function(e,t){return qo((function(e,t,n){return t}),e,t)})),Go=_((function(e,t){return qo((function(e,t,n){return n}),e,t)})),Yo=k((function(e,t,n){return qo((function(t,n,r){return e(n,r)}),t,n)})),Ko=Yo,Wo=_((function(e,t){return Li({},t,e)})),zo=Wo,Qo=_((function(e,t){return Li({},e,t)})),$o=Qo,Xo=k((function(e,t,n){return Bo((function(t,n,r){return e(n,r)}),t,n)})),Jo=Xo,ea=_((function(e,t){return t<e?t:e})),ta=ea,na=k((function(e,t,n){return e(n)<e(t)?n:t})),ra=na,ia=k((function e(t,n,r){if(!ln(r)&&!R(r)||0===t.length)return r;var i=t[0];if(!oe(i,r))return r;if(1===t.length)return function(e,t,n){if(ge(e)&&R(n)){var r=[].concat(n);return r[e]=t(r[e]),r}var i={};for(var o in n)i[o]=n[o];return i[e]=t(i[e]),i}(i,n,r);var o=e(Array.prototype.slice.call(t,1),n,r[i]);return o===r[i]?r:Je(i,o,r)})),oa=ia,aa=k((function(e,t,n){return oa([e],t,n)})),ca=aa,sa=_((function(e,t){return e%t})),ua=sa,la=k((function(e,t,n){var r=n.length,i=n.slice(),o=e<0?r+e:e,a=t<0?r+t:t,c=i.splice(o,1);return o<0||o>=n.length||a<0||a>=n.length?n:[].concat(i.slice(0,a)).concat(c).concat(i.slice(a,n.length))})),da=_((function(e,t){return e*t})),fa=da,pa=_((function(e,t){return function(n){return e.call(void 0,Go(t,n))}})),ma=x((function(e){return-e})),ha=ma,va=_((function(e,t){return B(sn(e),t)})),ga=va,ya=x((function(e){return E(e<0?1:e+1,(function(){return ye(e,arguments)}))})),xa=ya,_a=k((function(e,t,n){return e(t(n))})),Na=_a;function ba(e){return[e]}var Ta=x(ba),wa=_((function(e,t){for(var n={},r={},i=0,o=e.length;i<o;)r[e[i]]=1,i+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n})),Ca=wa,Ia=C(4,[],(function(e,t,n,r){return e(t(n),t(r))})),Ea=Ia,Sa=x((function(e){var t,n=!1;return w(e.length,(function(){return n?t:(n=!0,t=e.apply(this,arguments))}))})),ja=Sa;function ka(e,t){if(null==t||!ut(t.then))throw new TypeError("`"+e+"` expected a Promise, received "+hn(t,[]))}var Aa=_((function(e,t){return ka("otherwise",t),t.then(null,e)})),Pa=Aa,Ra=function e(t){return{value:t,map:function(n){return e(n(t))}}},Oa=k((function(e,t,n){return e((function(e){return Ra(t(e))}))(n).value})),Da=Oa,La=_((function(e,t){return[e,t]}));function Va(e){return _((function(t,n){return w(Math.max(0,t.length-n.length),(function(){return t.apply(this,e(n,arguments))}))}))}var Za=Va(T),Ma=Va(Jr(T)),Fa=Ji([pn,mn]),Ba=k((function(e,t,n){return en(po(e,n),t)})),Ua=k((function(e,t,n){return Dn(e,po(t,n))})),qa=Ua,Ha=k((function(e,t,n){return e(po(t,n))})),Ga=_((function(e,t){for(var n={},r=0;r<e.length;)e[r]in t&&(n[e[r]]=t[e[r]]),r+=1;return n})),Ya=_((function(e,t){for(var n={},r=0,i=e.length;r<i;){var o=e[r];n[o]=t[o],r+=1}return n})),Ka=_((function(e,t){var n={};for(var r in t)e(t[r],r,t)&&(n[r]=t[r]);return n})),Wa=Ka,za=_((function(e,t){return T([e],t)})),Qa=Te(fa,1),$a=_((function(e,t){return E(t.length,(function(){for(var n=[],r=0;r<t.length;)n.push(t[r].call(this,arguments[r])),r+=1;return e.apply(this,n.concat(Array.prototype.slice.call(arguments,t.length)))}))})),Xa=$a,Ja=Xa(H,[Ya,Ht]);function ec(e,t,n){return function(r){return t(n(e(r)))}}var tc=function(){function e(e,t,n){this.xf=n,this.f=e,this.g=t}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,ec(this.f,this.g,t))},e}(),nc=k((function(e,t,n){return new tc(e,t,n)})),rc=k(D(["fantasy-land/promap","promap"],nc,ec)),ic=k((function(e,t,n){return en(t,_e(e,n))})),oc=k((function(e,t,n){return Wi(e,_e(t,n))})),ac=k((function(e,t,n){return Dn(e,_e(t,n))})),cc=ac,sc=k((function(e,t,n){return e(_e(t,n))})),uc=_((function(e,t){return e.map((function(e){return po([e],t)}))})),lc=uc,dc=_((function(e,t){if(!ro(e)||!ro(t))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=e;r<t;)n.push(r),r+=1;return n})),fc=dc,pc=k((function(e,t,n){for(var r=n.length-1;r>=0;){if((t=e(n[r],t))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r-=1}return t})),mc=pc,hc=C(4,[],(function(e,t,n,r){return te((function(n,r){return e(n,r)?t(n,r):L(n)}),n,r)})),vc=hc,gc=x(L),yc=_((function(e,t){var n,r=Number(t),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);i<r;)n[i]=e(i),i+=1;return n})),xc=yc,_c=_((function(e,t){return xc(Ie(e),t)})),Nc=_c,bc=k((function(e,t,n){return n.replace(e,t)})),Tc=k((function(e,t,n){for(var r=0,i=n.length,o=[t];r<i;)t=e(t,n[r]),o[r+1]=t,r+=1;return o})),wc=Tc,Cc=_((function(e,t){return"function"==typeof t.sequence?t.sequence(e):mc((function(e,t){return Le(ve(za,e),t)}),e([]),t)})),Ic=Cc,Ec=k((function(e,t,n){return Da(e,Ie(t),n)})),Sc=Ec,jc=_((function(e,t){return Array.prototype.slice.call(t,0).sort(e)})),kc=jc,Ac=_((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0}))})),Pc=Ac,Rc=_((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){for(var r=0,i=0;0===r&&i<e.length;)r=e[i](t,n),i+=1;return r}))})),Oc=Rc,Dc=Ki(1,"split"),Lc=_((function(e,t){return[Vt(0,e,t),Vt(e,io(t),t)]})),Vc=_((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<t.length;)n.push(Vt(r,r+=e,t));return n})),Zc=Vc,Mc=_((function(e,t){for(var n=0,r=t.length,i=[];n<r&&!e(t[n]);)i.push(t[n]),n+=1;return[i,Array.prototype.slice.call(t,n)]})),Fc=C(2,[],(function(e,t){for(var n=[],r=[],i=0;i<t.length;i+=1)e(t[i])||r.push(t[i]),(i<t.length-1&&e(t[i+1])||i===t.length-1)&&r.length>0&&(n.push(r),r=[]);return n})),Bc=Fc,Uc=_((function(e,t){return en(ir(e.length,t),e)})),qc=_((function(e,t){return Number(e)-Number(t)})),Hc=qc,Gc=_((function(e,t){return yn(Bn(e,t),Bn(t,e))})),Yc=k((function(e,t,n){return yn(Un(e,t,n),Un(e,n,t))})),Kc=_((function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return Vt(n+1,1/0,t)})),Wc=Kc,zc=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):L(e)},e}(),Qc=_((function(e,t){return new zc(e,t)})),$c=_(D(["takeWhile"],Qc,(function(e,t){for(var n=0,r=t.length;n<r&&e(t[n]);)n+=1;return Vt(0,n,t)}))),Xc=$c,Jc=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}(),es=_((function(e,t){return new Jc(e,t)})),ts=_(D([],es,(function(e,t){return e(t),t}))),ns=ts,rs=_((function(e,t){if(!function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e))throw new TypeError("\u2018test\u2019 requires a value of type RegExp as its first argument; received "+vn(e));return wt(e).test(t)})),is=rs,os=_((function(e,t){return ka("andThen",t),t.then(e)})),as=os,cs=Ki(0,"toLowerCase"),ss=x((function(e){var t=[];for(var n in e)oe(n,e)&&(t[t.length]=[n,e[n]]);return t})),us=ss,ls=x((function(e){var t=[];for(var n in e)t[t.length]=[n,e[n]];return t})),ds=ls,fs=Ki(0,"toUpperCase"),ps=E(4,(function(e,t,n,r){return te(e("function"==typeof t?z(t):t),n,r)})),ms=ps,hs=x((function(e){for(var t=0,n=[];t<e.length;){for(var r=e[t],i=0;i<r.length;)void 0===n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;t+=1}return n})),vs=hs,gs=k((function(e,t,n){return"function"==typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](t,e):"function"==typeof n.traverse?n.traverse(t,e):Ic(e,ve(t,n))})),ys=gs,xs="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",_s=x("function"==typeof String.prototype.trim&&!xs.trim()&&"\u200b".trim()?function(e){return e.trim()}:function(e){var t=new RegExp("^["+xs+"]["+xs+"]*"),n=new RegExp("["+xs+"]["+xs+"]*$");return e.replace(t,"").replace(n,"")}),Ns=_((function(e,t){return w(e.length,(function(){try{return e.apply(this,arguments)}catch(e){return t.apply(this,T([e],arguments))}}))})),bs=Ns,Ts=x((function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}})),ws=Ts,Cs=x((function(e){return at(1,e)})),Is=Cs,Es=_((function(e,t){return E(e,(function(){for(var n,r=1,i=t,o=0;r<=e&&"function"==typeof i;)n=r===e?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,n)),r+=1,o=n;return i}))})),Ss=Es,js=_((function(e,t){for(var n=e(t),r=[];n&&n.length;)r[r.length]=n[0],n=e(n[1]);return r})),ks=js,As=_(Bt(Ri,T)),Ps=function(){function e(e,t){this.xf=t,this.pred=e,this.items=[]}return e.prototype["@@transducer/init"]=V.init,e.prototype["@@transducer/result"]=V.result,e.prototype["@@transducer/step"]=function(e,t){return zt(this.pred,t,this.items)?e:(this.items.push(t),this.xf["@@transducer/step"](e,t))},e}(),Rs=_(D([],_((function(e,t){return new Ps(e,t)})),(function(e,t){for(var n,r=0,i=t.length,o=[];r<i;)zt(e,n=t[r],o)||(o[o.length]=n),r+=1;return o}))),Os=k((function(e,t,n){return Rs(e,T(t,n))})),Ds=k((function(e,t,n){return e(n)?n:t(n)})),Ls=Ds,Vs=Nt(qt),Zs=k((function(e,t,n){for(var r=n;!e(r);)r=t(r);return r})),Ms=Zs,Fs=_((function(e,t){return e in t&&R(t[e])?H((function(n){return Je(e,n,t)}),t[e]):[t]})),Bs=x((function(e){var t,n=[];for(t in e)n[n.length]=e[t];return n})),Us=Bs,qs=function(e){return{value:e,"fantasy-land/map":function(){return this}}},Hs=_((function(e,t){return e(qs)(t).value})),Gs=Hs,Ys=k((function(e,t,n){return e(n)?t(n):n})),Ks=Ys,Ws=_((function(e,t){for(var n in e)if(oe(n,e)&&!e[n](t[n]))return!1;return!0})),zs=Ws,Qs=_((function(e,t){for(var n in e)if(oe(n,e)&&e[n](t[n]))return!0;return!1})),$s=Qs,Xs=_((function(e,t){return zs(ve(en,e),t)})),Js=_((function(e,t){return mn(Jr(nn)(e),t)})),eu=_((function(e,t){return Boolean(!e^!t)})),tu=eu,nu=_((function(e,t){for(var n,r=0,i=e.length,o=t.length,a=[];r<i;){for(n=0;n<o;)a[a.length]=[e[r],t[n]],n+=1;r+=1}return a})),ru=nu,iu=_((function(e,t){for(var n=[],r=0,i=Math.min(e.length,t.length);r<i;)n[r]=[e[r],t[r]],r+=1;return n})),ou=iu,au=_((function(e,t){for(var n=0,r=Math.min(e.length,t.length),i={};n<r;)i[e[n]]=t[n],n+=1;return i})),cu=au,su=k((function(e,t,n){for(var r=[],i=0,o=Math.min(t.length,n.length);i<o;)r[i]=e(t[i],n[i]),i+=1;return r})),uu=su,lu=x((function(e){return E(e.length,(function(){var t=arguments;return function(){return e.apply(this,t)}}))})),du=lu;function fu(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===g(t)?t:String(t)}function pu(e,t,n){return(t=fu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(n),!0).forEach((function(t){pu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vu(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gu="function"==typeof Symbol&&Symbol.observable||"@@observable",yu=function(){return Math.random().toString(36).substring(7).split("").join(".")},xu={INIT:"@@redux/INIT"+yu(),REPLACE:"@@redux/REPLACE"+yu(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yu()}};function _u(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(vu(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(vu(1));return n(_u)(e,t)}if("function"!=typeof e)throw new Error(vu(2));var i=e,o=t,a=[],c=a,s=!1;function u(){c===a&&(c=a.slice())}function l(){if(s)throw new Error(vu(3));return o}function d(e){if("function"!=typeof e)throw new Error(vu(4));if(s)throw new Error(vu(5));var t=!0;return u(),c.push(e),function(){if(t){if(s)throw new Error(vu(6));t=!1,u();var n=c.indexOf(e);c.splice(n,1),a=null}}}function f(e){if(!function(e){if("object"!==g(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(vu(7));if(void 0===e.type)throw new Error(vu(8));if(s)throw new Error(vu(9));try{s=!0,o=i(o,e)}finally{s=!1}for(var t=a=c,n=0;n<t.length;n++)(0,t[n])();return e}return f({type:xu.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error(vu(10));i=e,f({type:xu.REPLACE})}})[gu]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==g(e)||null===e)throw new Error(vu(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[gu]=function(){return this},e},r}function Nu(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:xu.INIT}))throw new Error(vu(12));if(void 0===n(void 0,{type:xu.PROBE_UNKNOWN_ACTION()}))throw new Error(vu(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},c=0;c<a.length;c++){var s=a[c],u=n[s],l=e[s],d=u(l,t);if(void 0===d)throw t&&t.type,new Error(vu(14));i[s]=d,r=r||d!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function bu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Tu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(vu(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=bu.apply(void 0,o)(n.dispatch),hu(hu({},n),{},{dispatch:r})}}}var wu=s(256),Cu=s(848),Iu=n(88967),Eu=function(e){e()},Su=function(){return Eu},ju=s(689),ku=s.n(ju),Au=(0,ju.createContext)(null);function Pu(){return(0,ju.useContext)(Au)}var Ru=function(){throw new Error("uSES not initialized!")},Ou=Ru,Du=function(e,t){return e===t};function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Au,t=e===Au?Pu:function(){return(0,ju.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Du,r=t(),i=r.store,o=r.subscription,a=r.getServerState,c=Ou(o.addNestedSub,i.getState,a||i.getState,e,n);return(0,ju.useDebugValue)(c),c}}var Vu=Lu();function Zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mu(e,t){if(e){if("string"==typeof e)return Zu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zu(e,t):void 0}}function Fu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(e,t)||Mu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bu(e){return function(e){if(Array.isArray(e))return Zu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uu.apply(this,arguments)}function qu(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Hu=s(650),Gu=s.n(Hu),Yu=s(913),Ku=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Wu(e,t,n,r,i){var o,a,c,s,u,l=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;return function(i,m){return p?function(i,p){var m,h,v=!d(p,a),g=!l(i,o,p,a);return o=i,a=p,v&&g?(c=e(o,a),t.dependsOnOwnProps&&(s=t(r,a)),u=n(c,s,a)):v?(e.dependsOnOwnProps&&(c=e(o,a)),t.dependsOnOwnProps&&(s=t(r,a)),u=n(c,s,a)):g?(m=e(o,a),h=!f(m,c),c=m,h&&(u=n(c,s,a)),u):u}(i,m):(c=e(o=i,a=m),s=t(r,a),u=n(c,s,a),p=!0,u)}}function zu(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function Qu(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function $u(e,t){return function(t,n){n.displayName;var r=function e(t,n){return e.mapToProps(t,e.dependsOnOwnProps?n:void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Qu(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Qu(i),i=r(t,n)),i},r}}function Xu(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(g(e)," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function Ju(e,t,n){return Uu({},n,e,t)}var el={notify:function(){},get:function(){return[]}};function tl(e,t){var n,r=el;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Su(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=el)},getListeners:function(){return r}};return a}var nl="undefined"!=typeof r&&void 0!==r.document&&void 0!==r.document.createElement?ju.useLayoutEffect:ju.useEffect;function rl(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function il(e,t){if(rl(e,t))return!0;if("object"!==g(e)||null===e||"object"!==g(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!rl(e[n[i]],t[n[i]]))return!1;return!0}var ol=["reactReduxForwardedRef"],al=Ru,cl=[null,null];function sl(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function ul(e,t){return e===t}var ll=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(r.pure,r.areStatesEqual),o=void 0===i?ul:i,a=r.areOwnPropsEqual,c=void 0===a?il:a,s=r.areStatePropsEqual,u=void 0===s?il:s,l=r.areMergedPropsEqual,d=void 0===l?il:l,f=r.forwardRef,p=void 0!==f&&f,m=r.context,h=void 0===m?Au:m,v=function(e){return e?"function"==typeof e?$u(e):Xu(e,"mapStateToProps"):zu((function(){return{}}))}(e),y=function(e){return e&&"object"===g(e)?zu((function(t){return function(e,t){var n={},r=function(){var r=e[i];"function"==typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var i in e)r();return n}(e,t)})):e?"function"==typeof e?$u(e):Xu(e,"mapDispatchToProps"):zu((function(e){return{dispatch:e}}))}(t),x=function(e){return e?"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,o=!1;return function(t,n,a){var c=e(t,n,a);return o?i(c,r)||(r=c):(o=!0,r=c),r}}}(e):Xu(e,"mergeProps"):function(){return Ju}}(n),_=Boolean(e);return function(e){var t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),r={shouldHandleStateChanges:_,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:v,initMapDispatchToProps:y,initMergeProps:x,areStatesEqual:o,areStatePropsEqual:u,areOwnPropsEqual:c,areMergedPropsEqual:d};function i(t){var n=(0,ju.useMemo)((function(){var e=t.reactReduxForwardedRef,n=qu(t,ol);return[t.context,e,n]}),[t]),i=Fu(n,3),o=i[0],a=i[1],c=i[2],s=(0,ju.useMemo)((function(){return o&&o.Consumer&&(0,Yu.isContextConsumer)(ku().createElement(o.Consumer,null))?o:h}),[o,h]),u=(0,ju.useContext)(s),l=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),d=Boolean(u)&&Boolean(u.store),f=l?t.store:u.store,p=d?u.getServerState:f.getState,m=(0,ju.useMemo)((function(){return function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=qu(t,Ku);return Wu(n(e,o),r(e,o),i(e,o),e,o)}(f.dispatch,r)}),[f]),v=(0,ju.useMemo)((function(){if(!_)return cl;var e=tl(f,l?void 0:u.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,l,u]),g=Fu(v,2),y=g[0],x=g[1],N=(0,ju.useMemo)((function(){return l?u:Uu({},u,{subscription:y})}),[l,u,y]),b=(0,ju.useRef)(),T=(0,ju.useRef)(c),w=(0,ju.useRef)(),C=(0,ju.useRef)(!1),I=((0,ju.useRef)(!1),(0,ju.useRef)(!1)),E=(0,ju.useRef)();nl((function(){return I.current=!0,function(){I.current=!1}}),[]);var S,j,k,A=(0,ju.useMemo)((function(){return function(){return w.current&&c===T.current?w.current:m(f.getState(),c)}}),[f,c]),P=(0,ju.useMemo)((function(){return function(e){return y?function(e,t,n,r,i,o,a,c,s,u,l){if(!e)return function(){};var d=!1,f=null,p=function(){if(!d&&c.current){var e,n,p=t.getState();try{e=r(p,i.current)}catch(e){n=e,f=e}n||(f=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,l())}};return n.onStateChange=p,n.trySubscribe(),p(),function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}(_,f,y,m,T,b,C,I,w,x,e):function(){}}}),[y]);S=sl,j=[T,b,C,c,w,x],nl((function(){return S.apply(void 0,Bu(j))}),void 0);try{k=al(P,A,p?function(){return m(p(),c)}:A)}catch(e){throw E.current&&(e.message+="\nThe error may be correlated with this previous error:\n".concat(E.current.stack,"\n\n")),e}nl((function(){E.current=void 0,w.current=void 0,b.current=k}));var R=(0,ju.useMemo)((function(){return ku().createElement(e,Uu({},k,{ref:a}))}),[a,e,k]);return(0,ju.useMemo)((function(){return _?ku().createElement(s.Provider,{value:N},R):R}),[s,R,N])}var a=ku().memo(i);if(a.WrappedComponent=e,a.displayName=i.displayName=n,p){var s=ku().forwardRef((function(e,t){return ku().createElement(a,Uu({},e,{reactReduxForwardedRef:t}))})),l=s;return l.displayName=n,l.WrappedComponent=e,Gu()(l,e)}return Gu()(a,e)}},dl=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,o=(0,ju.useMemo)((function(){var e=tl(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}}),[t,i]),a=(0,ju.useMemo)((function(){return t.getState()}),[t]);nl((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,a]);var c=n||Au;return ku().createElement(c.Provider,{value:o},r)};function fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Au,t=e===Au?Pu:function(){return(0,ju.useContext)(e)};return function(){return t().store}}var pl=fl();function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Au,t=e===Au?pl:fl(e);return function(){return t().dispatch}}var hl,vl=ml();function gl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yl(e){return!!e&&!!e[ad]}function xl(e){var t;return!!e&&(function(e){if(!e||"object"!=a(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===cd}(e)||Array.isArray(e)||!!e[od]||!!(null===(t=e.constructor)||void 0===t?void 0:t[od])||Il(e)||El(e))}function _l(e,t,n){void 0===n&&(n=!1),0===Nl(e)?(n?Object.keys:sd)(e).forEach((function(r){n&&"symbol"==a(r)||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Nl(e){var t=e[ad];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Il(e)?2:El(e)?3:0}function bl(e,t){return 2===Nl(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tl(e,t){return 2===Nl(e)?e.get(t):e[t]}function wl(e,t,n){var r=Nl(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Cl(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Il(e){return td&&e instanceof Map}function El(e){return nd&&e instanceof Set}function Sl(e){return e.o||e.t}function jl(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ud(e);delete t[ad];for(var n=sd(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function kl(e,t){return void 0===t&&(t=!1),Pl(e)||yl(e)||!xl(e)||(Nl(e)>1&&(e.set=e.add=e.clear=e.delete=Al),Object.freeze(e),t&&_l(e,(function(e,t){return kl(t,!0)}),!0)),e}function Al(){gl(2)}function Pl(e){return null==e||"object"!=a(e)||Object.isFrozen(e)}function Rl(e){var t=ld[e];return t||gl(18,e),t}function Ol(e,t){ld[e]||(ld[e]=t)}function Dl(){return Jl}function Ll(e,t){t&&(Rl("Patches"),e.u=[],e.s=[],e.v=t)}function Vl(e){Zl(e),e.p.forEach(Fl),e.p=null}function Zl(e){e===Jl&&(Jl=e.l)}function Ml(e){return Jl={p:[],l:Jl,h:e,m:!0,_:0}}function Fl(e){var t=e[ad];0===t.i||1===t.i?t.j():t.g=!0}function Bl(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Rl("ES5").S(t,e,r),r?(n[ad].P&&(Vl(t),gl(4)),xl(e)&&(e=Ul(t,e),t.l||Hl(t,e)),t.u&&Rl("Patches").M(n[ad].t,e,t.u,t.s)):e=Ul(t,n,[]),Vl(t),t.u&&t.v(t.u,t.s),e!==id?e:void 0}function Ul(e,t,n){if(Pl(t))return t;var r=t[ad];if(!r)return _l(t,(function(i,o){return ql(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Hl(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=jl(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),_l(o,(function(t,o){return ql(e,r,i,t,o,n,a)})),Hl(e,i,!1),n&&e.u&&Rl("Patches").N(r,n,e.u,e.s)}return r.o}function ql(e,t,n,r,i,o,a){if(yl(i)){var c=Ul(e,i,o&&t&&3!==t.i&&!bl(t.R,r)?o.concat(r):void 0);if(wl(n,r,c),!yl(c))return;e.m=!1}else a&&n.add(i);if(xl(i)&&!Pl(i)){if(!e.h.D&&e._<1)return;Ul(e,i),t&&t.A.l||Hl(e,i)}}function Hl(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&kl(t,n)}function Gl(e,t){var n=e[ad];return(n?Sl(n):e)[t]}function Yl(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Kl(e){e.P||(e.P=!0,e.l&&Kl(e.l))}function Wl(e){e.o||(e.o=jl(e.t))}function zl(e,t,n){var r=Il(t)?Rl("MapSet").F(t,n):El(t)?Rl("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Dl(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=dd;n&&(i=[r],o=fd);var a=Proxy.revocable(i,o),c=a.revoke,s=a.proxy;return r.k=s,r.j=c,s}(t,n):Rl("ES5").J(t,n);return(n?n.A:Dl()).p.push(r),r}function Ql(e){return yl(e)||gl(22,e),function e(t){if(!xl(t))return t;var n,r=t[ad],i=Nl(t);if(r){if(!r.P&&(r.i<4||!Rl("ES5").K(r)))return r.t;r.I=!0,n=$l(t,i),r.I=!1}else n=$l(t,i);return _l(n,(function(t,i){r&&Tl(r.t,t)===i||wl(n,t,e(i))})),3===i?new Set(n):n}(e)}function $l(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return jl(e)}!function(e){Ou=e}(Cu.useSyncExternalStoreWithSelector),function(e){al=e}(wu.useSyncExternalStore),hl=Iu.unstable_batchedUpdates,Eu=hl;var Xl,Jl,ed="undefined"!=typeof Symbol&&"symbol"==a(Symbol("x")),td="undefined"!=typeof Map,nd="undefined"!=typeof Set,rd="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,id=ed?Symbol.for("immer-nothing"):((Xl={})["immer-nothing"]=!0,Xl),od=ed?Symbol.for("immer-draftable"):"__$immer_draftable",ad=ed?Symbol.for("immer-state"):"__$immer_state",cd=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),sd="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ud=Object.getOwnPropertyDescriptors||function(e){var t={};return sd(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ld={},dd={get:function(e,t){if(t===ad)return e;var n=Sl(e);if(!bl(n,t))return function(e,t,n){var r,i=Yl(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!xl(r)?r:r===Gl(e.t,t)?(Wl(e),e.o[t]=zl(e.A.h,r,e)):r},has:function(e,t){return t in Sl(e)},ownKeys:function(e){return Reflect.ownKeys(Sl(e))},set:function(e,t,n){var r=Yl(Sl(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Gl(Sl(e),t),o=null==i?void 0:i[ad];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Cl(n,i)&&(void 0!==n||bl(e.t,t)))return!0;Wl(e),Kl(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Gl(e.t,t)||t in e.t?(e.R[t]=!1,Wl(e),Kl(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Sl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){gl(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){gl(12)}},fd={};_l(dd,(function(e,t){fd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),fd.deleteProperty=function(e,t){return fd.set.call(this,e,t,void 0)},fd.set=function(e,t,n){return dd.set.call(this,e[0],t,n,e[0])};var pd=function(){function e(e){var t=this;this.O=rd,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),c=1;c<r;c++)a[c-1]=arguments[c];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var c;if("function"!=typeof n&&gl(6),void 0!==r&&"function"!=typeof r&&gl(7),xl(e)){var s=Ml(t),u=zl(t,e,void 0),l=!0;try{c=n(u),l=!1}finally{l?Vl(s):Zl(s)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return Ll(s,r),Bl(e,s)}),(function(e){throw Vl(s),e})):(Ll(s,r),Bl(c,s))}if(!e||"object"!=a(e)){if(void 0===(c=n(e))&&(c=e),c===id&&(c=void 0),t.D&&kl(c,!0),r){var d=[],f=[];Rl("Patches").M(e,c,d,f),r(d,f)}return c}gl(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){xl(e)||gl(8),yl(e)&&(e=Ql(e));var t=Ml(this),n=zl(this,e,void 0);return n[ad].C=!0,Zl(t),n},t.finishDraft=function(e,t){var n=(e&&e[ad]).A;return Ll(n,t),Bl(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!rd&&gl(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Rl("Patches").$;return yl(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),md=new pd,hd=md.produce,vd=md.produceWithPatches.bind(md),gd=(md.setAutoFreeze.bind(md),md.setUseProxies.bind(md),md.applyPatches.bind(md)),yd=(md.createDraft.bind(md),md.finishDraft.bind(md),hd);function xd(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var _d=xd();_d.withExtraArgument=xd;var Nd,bd=_d,Td=(Nd=function(e,t){return Nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Nd(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Nd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),wd=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Cd=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Id=Object.defineProperty,Ed=Object.defineProperties,Sd=Object.getOwnPropertyDescriptors,jd=Object.getOwnPropertySymbols,kd=Object.prototype.hasOwnProperty,Ad=Object.prototype.propertyIsEnumerable,Pd=function(e,t,n){return t in e?Id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Rd=function(e,t){for(var n in t||(t={}))kd.call(t,n)&&Pd(e,n,t[n]);if(jd)for(var r=0,i=jd(t);r<i.length;r++)n=i[r],Ad.call(t,n)&&Pd(e,n,t[n]);return e},Od=function(e,t){return Ed(e,Sd(t))},Dd=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{c(n.next(e))}catch(e){i(e)}},a=function(e){try{c(n.throw(e))}catch(e){i(e)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};c((n=n.apply(e,t)).next())}))},Ld="undefined"!=typeof r&&r.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?r.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===g(arguments[0])?bu:bu.apply(null,arguments)};function Vd(e){if("object"!==g(e)||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}"undefined"!=typeof r&&r.__REDUX_DEVTOOLS_EXTENSION__&&r.__REDUX_DEVTOOLS_EXTENSION__;var Zd=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Td(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Cd([void 0],e[0].concat(this)))):new(t.bind.apply(t,Cd([void 0],e.concat(this))))},t}(Array);function Md(e){return xl(e)?yd(e,(function(){})):e}var Fd=!0;function Bd(e){var t,n=function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Zd);return n&&(function(e){return"boolean"==typeof e}(n)?r.push(bd):r.push(bd.withExtraArgument(n.extraArgument))),r}(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,c=void 0===a?n():a,s=r.devTools,u=void 0===s||s,l=r.preloadedState,d=void 0===l?void 0:l,f=r.enhancers,p=void 0===f?void 0:f;if("function"==typeof o)t=o;else{if(!Vd(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Nu(o)}var m=c;if("function"==typeof m&&(m=m(n),!Fd&&!Array.isArray(m)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!Fd&&m.some((function(e){return"function"!=typeof e})))throw new Error("each middleware provided to configureStore must be a function");var h=Tu.apply(void 0,m),v=bu;u&&(v=Ld(Rd({trace:!Fd},"object"===g(u)&&u)));var y=[h];return Array.isArray(p)?y=Cd([h],p):"function"==typeof p&&(y=p(y)),_u(t,d,v.apply(void 0,y))}function Ud(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Rd(Rd({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function qd(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Hd(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Md(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},c={},s={};function u(){var t="function"==typeof e.extraReducers?qd(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,s=t[2],u=void 0===s?void 0:s,l=Rd(Rd({},i),c);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"==typeof t?qd(t):[t,n,r],a=o[0],c=o[1],s=o[2];if(function(e){return"function"==typeof e}(e))i=function(){return Md(e())};else{var u=Md(e);i=function(){return u}}function l(e,t){void 0===e&&(e=i());var n=Cd([a[t.type]],c.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(yl(e))return void 0===(r=n(e,t))?e:r;if(xl(e))return yd(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,a,u)}return o.forEach((function(e){var n,r,o=i[e],u=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,c[u]=n,s[e]=r?Ud(u,r):Ud(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:s,caseReducers:a,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}var Gd=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Yd=["name","message","stack","code"],Kd=function(e,t){this.payload=e,this.meta=t},Wd=function(e,t){this.payload=e,this.meta=t},zd=function(e){if("object"===g(e)&&null!==e){for(var t={},n=0,r=Yd;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function Qd(e,t,n){var r=Ud(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Od(Rd({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Ud(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Od(Rd({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=Ud(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||zd)(e||"Rejected"),meta:Od(Rd({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(c,s,u){var l,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Gd(),f=new a,p=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),m=!1,h=function(){return Dd(this,null,(function(){var a,l,h,v,y;return wd(this,(function(x){switch(x.label){case 0:return x.trys.push([0,4,,5]),null===(_=v=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:s,extra:u}))||"object"!==g(_)||"function"!=typeof _.then?[3,2]:[4,v];case 1:v=x.sent(),x.label=2;case 2:if(!1===v)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return m=!0,c(i(d,e,null==(l=null==n?void 0:n.getPendingMeta)?void 0:l.call(n,{requestId:d,arg:e},{getState:s,extra:u}))),[4,Promise.race([p,Promise.resolve(t(e,{dispatch:c,getState:s,extra:u,requestId:d,signal:f.signal,rejectWithValue:function(e,t){return new Kd(e,t)},fulfillWithValue:function(e,t){return new Wd(e,t)}})).then((function(t){if(t instanceof Kd)throw t;return t instanceof Wd?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return h=x.sent(),[3,5];case 4:return y=x.sent(),h=y instanceof Kd?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(h)&&h.meta.condition||c(h),[2,h]}var _}))}))}();return Object.assign(h,{abort:function(e){m&&(l=e,f.abort())},requestId:d,arg:e,unwrap:function(){return h.then($d)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}function $d(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Xd=function(e,t){return function(e){return e&&"function"==typeof e.match}(e)?e.match(t):e(t)};function Jd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return Xd(e,t)}))}}function ef(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return Xd(e,t)}))}}function tf(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function nf(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function rf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return tf(e,["pending"])}:nf(e)?function(t){var n=e.map((function(e){return e.pending}));return Jd.apply(void 0,n)(t)}:rf()(e[0])}function of(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return tf(e,["rejected"])}:nf(e)?function(t){var n=e.map((function(e){return e.rejected}));return Jd.apply(void 0,n)(t)}:of()(e[0])}function af(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||nf(e)?function(t){return ef(of.apply(void 0,e),n)(t)}:af()(e[0])}function cf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return tf(e,["fulfilled"])}:nf(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return Jd.apply(void 0,n)(t)}:cf()(e[0])}function sf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return tf(e,["pending","fulfilled","rejected"])}:nf(e)?function(t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];n.push(o.pending,o.rejected,o.fulfilled)}return Jd.apply(void 0,n)(t)}:sf()(e[0])}Object.assign;var uf="listenerMiddleware";Ud(uf+"/add"),Ud(uf+"/removeAll"),Ud(uf+"/remove"),function(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ad];return dd.get(t,e)},set:function(t){var n=this[ad];dd.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ad];if(!i.P)switch(i.i){case 5:r(i)&&Kl(i);break;case 4:n(i)&&Kl(i)}}}function n(e){for(var t=e.t,n=e.k,r=sd(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==ad){var a=t[o];if(void 0===a&&!bl(t,o))return!0;var c=n[o],s=c&&c[ad];if(s?s.t!==a:!Cl(c,a))return!0}}var u=!!t[ad];return r.length!==sd(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Ol("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=ud(n);delete o[ad];for(var a=sd(o),c=0;c<a.length;c++){var s=a[c];o[s]=e(s,t||!!o[s].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Dl(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,ad,{value:o,writable:!0}),i},S:function(e,n,i){i?yl(n)&&n[ad].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==a(t)){var n=t[ad];if(n){var i=n.t,o=n.k,c=n.R,s=n.i;if(4===s)_l(o,(function(t){t!==ad&&(void 0!==i[t]||bl(i,t)?c[t]||e(o[t]):(c[t]=!0,Kl(n)))})),_l(i,(function(e){void 0!==o[e]||bl(o,e)||(c[e]=!1,Kl(n))}));else if(5===s){if(r(n)&&(Kl(n),c.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)c[u]=!1;else for(var l=i.length;l<o.length;l++)c[l]=!0;for(var d=Math.min(o.length,i.length),f=0;f<d;f++)o.hasOwnProperty(f)||(c[f]=!0),void 0===c[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}();var lf="NOT_FOUND",df=function(e,t){return e===t};function ff(e,t){var n="object"===g(t)?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?df:r,o=n.maxSize,a=void 0===o?1:o,c=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),u=1===a?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:lf},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return lf}return{get:r,put:function(t,i){r(t)===lf&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(a,s);function l(){var t=u.get(arguments);if(t===lf){if(t=e.apply(null,arguments),c){var n=u.getEntries().find((function(e){return c(e.value,t)}));n&&(t=n.value)}u.put(arguments,t)}return t}return l.clearCache=function(){return u.clear()},l}function pf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,a=0,c={memoizeOptions:void 0},s=r.pop();if("object"===g(s)&&(c=s,s=r.pop()),"function"!=typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+g(s)+"]");var u=c.memoizeOptions,l=void 0===u?n:u,d=Array.isArray(l)?l:[l],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":g(e)})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),p=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(d)),m=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=p.apply(null,e)}));return Object.assign(m,{resultFunc:s,memoizedResultFunc:p,dependencies:f,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),m}}var mf,hf,vf=pf(ff),gf=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},yf=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xf=Object.defineProperty,_f=Object.defineProperties,Nf=Object.getOwnPropertyDescriptors,bf=Object.getOwnPropertySymbols,Tf=Object.prototype.hasOwnProperty,wf=Object.prototype.propertyIsEnumerable,Cf=function(e,t,n){return t in e?xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},If=function(e,t){for(var n in t||(t={}))Tf.call(t,n)&&Cf(e,n,t[n]);if(bf)for(var r=0,i=bf(t);r<i.length;r++)n=i[r],wf.call(t,n)&&Cf(e,n,t[n]);return e},Ef=function(e,t){return _f(e,Nf(t))},Sf=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{c(n.next(e))}catch(e){i(e)}},a=function(e){try{c(n.throw(e))}catch(e){i(e)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};c((n=n.apply(e,t)).next())}))};(hf=mf||(mf={})).uninitialized="uninitialized",hf.pending="pending",hf.fulfilled="fulfilled",hf.rejected="rejected";var jf=function(e){return[].concat.apply([],e)},kf=Vd;function Af(e,t){if(e===t||!(kf(e)&&kf(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var n=Object.keys(t),r=Object.keys(e),i=n.length===r.length,o=Array.isArray(t)?[]:{},a=0,c=n;a<c.length;a++){var s=c[a];o[s]=Af(e[s],t[s]),i&&(i=e[s]===o[s])}return i?e:o}var Pf,Rf,Of=function(e,t){void 0===t&&(t=void 0),this.value=e,this.meta=t},Df=Ud("__rtkq/focused"),Lf=Ud("__rtkq/unfocused"),Vf=Ud("__rtkq/online"),Zf=Ud("__rtkq/offline");function Mf(e,t,n,r,i,o){return function(e){return"function"==typeof e}(e)?e(t,n,r,i).map(Ff).map(o):Array.isArray(e)?e.map(Ff).map(o):[]}function Ff(e){return"string"==typeof e?{type:e}:e}function Bf(e){return e}function Uf(e,t,n,r){return Mf(n[e.meta.arg.endpointName][t],cf(e)?e.payload:void 0,af(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function qf(e,t,n){var r=e[t];r&&n(r)}function Hf(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function Gf(e,t,n){var r=e[Hf(t)];r&&n(r)}(Rf=Pf||(Pf={})).query="query",Rf.mutation="mutation";var Yf={};function Kf(e){var t=e.reducerPath,n=e.queryThunk,r=e.mutationThunk,a=e.context,c=a.endpointDefinitions,s=a.apiUid,u=a.extractRehydrationInfo,l=a.hasRehydrationInfo,d=e.assertTagType,f=e.config,p=Ud(t+"/resetApiState"),m=Hd({name:t+"/queries",initialState:Yf,reducers:{removeQueryResult:function(e,t){delete e[t.payload.queryCacheKey]},queryResultPatched:function(e,t){var n=t.payload,r=n.queryCacheKey,i=n.patches;qf(e,r,(function(e){e.data=gd(e.data,i.concat())}))}},extraReducers:function(e){e.addCase(n.pending,(function(e,t){var n,r=t.meta,i=t.meta.arg;i.subscribe&&(null!=e[n=i.queryCacheKey]||(e[n]={status:mf.uninitialized,endpointName:i.endpointName})),qf(e,i.queryCacheKey,(function(e){e.status=mf.pending,e.requestId=r.requestId,void 0!==i.originalArgs&&(e.originalArgs=i.originalArgs),e.startedTimeStamp=r.startedTimeStamp}))})).addCase(n.fulfilled,(function(e,t){var n=t.meta,r=t.payload;qf(e,n.arg.queryCacheKey,(function(e){var t;e.requestId===n.requestId&&(e.status=mf.fulfilled,e.data=null==(t=c[n.arg.endpointName].structuralSharing)||t?Af(e.data,r):r,delete e.error,e.fulfilledTimeStamp=n.fulfilledTimeStamp)}))})).addCase(n.rejected,(function(e,t){var n=t.meta,r=n.condition,i=n.arg,o=n.requestId,a=t.error,c=t.payload;qf(e,i.queryCacheKey,(function(e){if(r);else{if(e.requestId!==o)return;e.status=mf.rejected,e.error=null!=c?c:a}}))})).addMatcher(l,(function(e,t){for(var n=u(t).queries,r=0,i=Object.entries(n);r<i.length;r++){var o=i[r],a=o[0],c=o[1];(null==c?void 0:c.status)!==mf.fulfilled&&(null==c?void 0:c.status)!==mf.rejected||(e[a]=c)}}))}}),h=Hd({name:t+"/mutations",initialState:Yf,reducers:{removeMutationResult:function(e,t){var n=Hf(t.payload);n in e&&delete e[n]}},extraReducers:function(e){e.addCase(r.pending,(function(e,t){var n=t.meta,r=t.meta,i=r.requestId,o=r.arg,a=r.startedTimeStamp;o.track&&(e[Hf(n)]={requestId:i,status:mf.pending,endpointName:o.endpointName,startedTimeStamp:a})})).addCase(r.fulfilled,(function(e,t){var n=t.payload,r=t.meta;r.arg.track&&Gf(e,r,(function(e){e.requestId===r.requestId&&(e.status=mf.fulfilled,e.data=n,e.fulfilledTimeStamp=r.fulfilledTimeStamp)}))})).addCase(r.rejected,(function(e,t){var n=t.payload,r=t.error,i=t.meta;i.arg.track&&Gf(e,i,(function(e){e.requestId===i.requestId&&(e.status=mf.rejected,e.error=null!=n?n:r)}))})).addMatcher(l,(function(e,t){for(var n=u(t).mutations,r=0,i=Object.entries(n);r<i.length;r++){var o=i[r],a=o[0],c=o[1];(null==c?void 0:c.status)!==mf.fulfilled&&(null==c?void 0:c.status)!==mf.rejected||a===(null==c?void 0:c.requestId)||(e[a]=c)}}))}}),v=Hd({name:t+"/invalidation",initialState:Yf,reducers:{},extraReducers:function(e){e.addCase(m.actions.removeQueryResult,(function(e,t){for(var n=t.payload.queryCacheKey,r=0,i=Object.values(e);r<i.length;r++)for(var o=i[r],a=0,c=Object.values(o);a<c.length;a++){var s=c[a],u=s.indexOf(n);-1!==u&&s.splice(u,1)}})).addMatcher(l,(function(e,t){for(var n,r,i,o,a=u(t).provided,c=0,s=Object.entries(a);c<s.length;c++)for(var l=s[c],d=l[0],f=l[1],p=0,m=Object.entries(f);p<m.length;p++)for(var h=m[p],v=h[0],g=h[1],y=null!=(o=(r=null!=(n=e[d])?n:e[d]={})[i=v||"__internal_without_id"])?o:r[i]=[],x=0,_=g;x<_.length;x++){var N=_[x];y.includes(N)||y.push(N)}})).addMatcher(Jd(cf(n),af(n)),(function(e,t){for(var n,r,i,o,a=Uf(t,"providesTags",c,d),s=t.meta.arg.queryCacheKey,u=0,l=Object.values(e);u<l.length;u++)for(var f=l[u],p=0,m=Object.values(f);p<m.length;p++){var h=m[p],v=h.indexOf(s);-1!==v&&h.splice(v,1)}for(var g=0,y=a;g<y.length;g++){var x=y[g],_=x.type,N=x.id,b=null!=(o=(r=null!=(n=e[_])?n:e[_]={})[i=N||"__internal_without_id"])?o:r[i]=[];b.includes(s)||b.push(s)}}))}}),g=Hd({name:t+"/subscriptions",initialState:Yf,reducers:{updateSubscriptionOptions:function(e,t){var n,r=t.payload,i=r.queryCacheKey,o=r.requestId,a=r.options;(null==(n=null==e?void 0:e[i])?void 0:n[o])&&(e[i][o]=a)},unsubscribeQueryResult:function(e,t){var n=t.payload,r=n.queryCacheKey,i=n.requestId;e[r]&&delete e[r][i]}},extraReducers:function(e){e.addCase(m.actions.removeQueryResult,(function(e,t){delete e[t.payload.queryCacheKey]})).addCase(n.pending,(function(e,t){var n,r,i,o,a=t.meta,c=a.arg,s=a.requestId;if(c.subscribe){var u=null!=(r=e[n=c.queryCacheKey])?r:e[n]={};u[s]=null!=(o=null!=(i=c.subscriptionOptions)?i:u[s])?o:{}}})).addCase(n.rejected,(function(e,t){var n,r,i,o,a=t.meta,c=a.condition,s=a.arg,u=a.requestId;if(t.error,t.payload,c&&s.subscribe){var l=null!=(r=e[n=s.queryCacheKey])?r:e[n]={};l[u]=null!=(o=null!=(i=s.subscriptionOptions)?i:l[u])?o:{}}})).addMatcher(l,(function(e){return If({},e)}))}}),y=Hd({name:t+"/config",initialState:If({online:"undefined"==typeof i||void 0===i.onLine||i.onLine,focused:"undefined"==typeof o||"hidden"!==o.visibilityState,middlewareRegistered:!1},f),reducers:{middlewareRegistered:function(e,t){var n=t.payload;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&s===n||"conflict"}},extraReducers:function(e){e.addCase(Vf,(function(e){e.online=!0})).addCase(Zf,(function(e){e.online=!1})).addCase(Df,(function(e){e.focused=!0})).addCase(Lf,(function(e){e.focused=!1})).addMatcher(l,(function(e){return If({},e)}))}}),x=Nu({queries:m.reducer,mutations:h.reducer,provided:v.reducer,subscriptions:g.reducer,config:y.reducer});return{reducer:function(e,t){return x(p.match(t)?void 0:e,t)},actions:Ef(If(If(If(If({},y.actions),m.actions),g.actions),h.actions),{unsubscribeMutationResult:h.actions.removeMutationResult,resetApiState:p})}}var Wf=Symbol.for("RTKQ/skipToken"),zf={status:mf.uninitialized},Qf=yd(zf,(function(){})),$f=yd(zf,(function(){})),Xf=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,(function(e,t){return Vd(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))+")"};function Jf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=ff((function(e){var n,r;return null==(r=t.extractRehydrationInfo)?void 0:r.call(t,e,{reducerPath:null!=(n=t.reducerPath)?n:"api"})})),r=Ef(If({reducerPath:"api",serializeQueryArgs:Xf,keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},t),{extractRehydrationInfo:n,tagTypes:yf([],t.tagTypes||[])}),i={endpointDefinitions:{},batch:function(e){e()},apiUid:Gd(),extractRehydrationInfo:n,hasRehydrationInfo:ff((function(e){return null!=n(e)}))},o={injectEndpoints:function(e){for(var t=e.endpoints({query:function(e){return Ef(If({},e),{type:Pf.query})},mutation:function(e){return Ef(If({},e),{type:Pf.mutation})}}),n=0,r=Object.entries(t);n<r.length;n++){var c=r[n],s=c[0],u=c[1];if(e.overrideExisting||!(s in i.endpointDefinitions)){i.endpointDefinitions[s]=u;for(var l=0,d=a;l<d.length;l++)d[l].injectEndpoint(s,u)}}return o},enhanceEndpoints:function(e){var t=e.addTagTypes,n=e.endpoints;if(t)for(var a=0,c=t;a<c.length;a++){var s=c[a];r.tagTypes.includes(s)||r.tagTypes.push(s)}if(n)for(var u=0,l=Object.entries(n);u<l.length;u++){var d=l[u],f=d[0],p=d[1];"function"==typeof p?p(i.endpointDefinitions[f]):Object.assign(i.endpointDefinitions[f]||{},p)}return o}},a=e.map((function(e){return e.init(o,r,i)}));return o.injectEndpoints({endpoints:t.endpoints})}}var ep=function(e){var t=e.reducerPath,n=e.api,r=e.context,i=n.internalActions,o=i.removeQueryResult,a=i.unsubscribeQueryResult;return function(e){var i={};return function(o){return function(s){var u,l=o(s);if(a.match(s)){var d=e.getState()[t];c(N=s.payload.queryCacheKey,null==(u=d.queries[N])?void 0:u.endpointName,e,d.config)}if(n.util.resetApiState.match(s))for(var f=0,p=Object.entries(i);f<p.length;f++){var m=p[f],h=m[0],v=m[1];v&&clearTimeout(v),delete i[h]}if(r.hasRehydrationInfo(s)){d=e.getState()[t];for(var g=r.extractRehydrationInfo(s).queries,y=0,x=Object.entries(g);y<x.length;y++){var _=x[y],N=_[0],b=_[1];c(N,null==b?void 0:b.endpointName,e,d.config)}}return l}};function c(e,n,a,c){var s,u=r.endpointDefinitions[n],l=null!=(s=null==u?void 0:u.keepUnusedDataFor)?s:c.keepUnusedDataFor,d=Math.max(0,Math.min(l,2147482.647)),f=i[e];f&&clearTimeout(f),i[e]=setTimeout((function(){var n=a.getState()[t].subscriptions[e];n&&0!==Object.keys(n).length||a.dispatch(o({queryCacheKey:e})),delete i[e]}),1e3*d)}}},tp=function(e){var t=e.reducerPath,n=e.context,r=e.context.endpointDefinitions,i=e.mutationThunk,o=e.api,a=e.assertTagType,c=e.refetchQuery,s=o.internalActions.removeQueryResult;return function(e){return function(t){return function(n){var c=t(n);return Jd(cf(i),af(i))(n)&&u(Uf(n,"invalidatesTags",r,a),e),o.util.invalidateTags.match(n)&&u(Mf(n.payload,void 0,void 0,void 0,void 0,a),e),c}}};function u(e,r){var i=r.getState(),a=i[t],u=o.util.selectInvalidatedBy(i,e);n.batch((function(){for(var e,t=0,n=Array.from(u.values());t<n.length;t++){var i=n[t].queryCacheKey,o=a.queries[i],l=null!=(e=a.subscriptions[i])?e:{};o&&(0===Object.keys(l).length?r.dispatch(s({queryCacheKey:i})):o.status!==mf.uninitialized&&r.dispatch(c(o,i)))}}))}},np=function(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,i=e.refetchQuery;return function(e){var a={};return function(t){return function(i){var o=t(i);return(r.internalActions.updateSubscriptionOptions.match(i)||r.internalActions.unsubscribeQueryResult.match(i))&&s(i.payload,e),(n.pending.match(i)||n.rejected.match(i)&&i.meta.condition)&&s(i.meta.arg,e),(n.fulfilled.match(i)||n.rejected.match(i)&&!i.meta.condition)&&c(i.meta.arg,e),r.util.resetApiState.match(i)&&function(){for(var e=0,t=Object.keys(a);e<t.length;e++)u(t[e])}(),o}};function c(e,n){var r=e.queryCacheKey,c=n.getState()[t],s=c.queries[r],u=c.subscriptions[r];if(s&&s.status!==mf.uninitialized){var l=o(u);if(Number.isFinite(l)){var d=a[r];(null==d?void 0:d.timeout)&&(clearTimeout(d.timeout),d.timeout=void 0);var f=Date.now()+l,p=a[r]={nextPollTimestamp:f,pollingInterval:l,timeout:setTimeout((function(){p.timeout=void 0,n.dispatch(i(s,r))}),l)}}}}function s(e,n){var r=e.queryCacheKey,i=n.getState()[t],s=i.queries[r],l=i.subscriptions[r];if(s&&s.status!==mf.uninitialized){var d=o(l);if(Number.isFinite(d)){var f=a[r],p=Date.now()+d;(!f||p<f.nextPollTimestamp)&&c({queryCacheKey:r},n)}else u(r)}}function u(e){var t=a[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete a[e]}};function o(e){void 0===e&&(e={});for(var t=Number.POSITIVE_INFINITY,n=0,r=Object.values(e);n<r.length;n++){var i=r[n];i.pollingInterval&&(t=Math.min(i.pollingInterval,t))}return t}},rp=function(e){var t=e.reducerPath,n=e.context,r=e.api,i=e.refetchQuery,o=r.internalActions.removeQueryResult;return function(e){return function(t){return function(n){var r=t(n);return Df.match(n)&&a(e,"refetchOnFocus"),Vf.match(n)&&a(e,"refetchOnReconnect"),r}}};function a(e,r){var a=e.getState()[t],c=a.queries,s=a.subscriptions;n.batch((function(){for(var t=0,n=Object.keys(s);t<n.length;t++){var u=n[t],l=c[u],d=s[u];d&&l&&(Object.values(d).some((function(e){return!0===e[r]}))||Object.values(d).every((function(e){return void 0===e[r]}))&&a.config[r])&&(0===Object.keys(d).length?e.dispatch(o({queryCacheKey:u})):l.status!==mf.uninitialized&&e.dispatch(i(l,u)))}}))}},ip=new Error("Promise never resolved before cacheEntryRemoved."),op=function(e){var t=e.api,n=e.reducerPath,r=e.context,i=e.queryThunk,o=e.mutationThunk,a=sf(i),c=sf(o),s=cf(i,o);return function(e){var u={};return function(r){return function(d){var f=e.getState(),p=r(d),m=function(e){return a(e)?e.meta.arg.queryCacheKey:c(e)?e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?Hf(e.payload):""}(d);if(i.pending.match(d)){var h=f[n].queries[m],v=e.getState()[n].queries[m];!h&&v&&l(d.meta.arg.endpointName,d.meta.arg.originalArgs,m,e,d.meta.requestId)}else if(o.pending.match(d))(v=e.getState()[n].mutations[m])&&l(d.meta.arg.endpointName,d.meta.arg.originalArgs,m,e,d.meta.requestId);else if(s(d))(null==(N=u[m])?void 0:N.valueResolved)&&(N.valueResolved({data:d.payload,meta:d.meta.baseQueryMeta}),delete N.valueResolved);else if(t.internalActions.removeQueryResult.match(d)||t.internalActions.removeMutationResult.match(d))(N=u[m])&&(delete u[m],N.cacheEntryRemoved());else if(t.util.resetApiState.match(d))for(var g=0,y=Object.entries(u);g<y.length;g++){var x=y[g],_=x[0],N=x[1];delete u[_],N.cacheEntryRemoved()}return p}};function l(e,n,i,o,a){var c=r.endpointDefinitions[e],s=null==c?void 0:c.onCacheEntryAdded;if(s){var l={},d=new Promise((function(e){l.cacheEntryRemoved=e})),f=Promise.race([new Promise((function(e){l.valueResolved=e})),d.then((function(){throw ip}))]);f.catch((function(){})),u[i]=l;var p=t.endpoints[e].select(c.type===Pf.query?n:i),m=o.dispatch((function(e,t,n){return n})),h=Ef(If({},o),{getCacheEntry:function(){return p(o.getState())},requestId:a,extra:m,updateCachedData:c.type===Pf.query?function(r){return o.dispatch(t.util.updateQueryData(e,n,r))}:void 0,cacheDataLoaded:f,cacheEntryRemoved:d}),v=s(n,h);Promise.resolve(v).catch((function(e){if(e!==ip)throw e}))}}}},ap=function(e){var t=e.api,n=e.context,r=e.queryThunk,i=e.mutationThunk,o=rf(r,i),a=of(r,i),c=cf(r,i);return function(e){var r={};return function(i){return function(s){var u,l,d,f=i(s);if(o(s)){var p=s.meta,m=p.requestId,h=p.arg,v=h.endpointName,g=h.originalArgs,y=n.endpointDefinitions[v],x=null==y?void 0:y.onQueryStarted;if(x){var _={},N=new Promise((function(e,t){_.resolve=e,_.reject=t}));N.catch((function(){})),r[m]=_;var b=t.endpoints[v].select(y.type===Pf.query?g:m),T=e.dispatch((function(e,t,n){return n})),w=Ef(If({},e),{getCacheEntry:function(){return b(e.getState())},requestId:m,extra:T,updateCachedData:y.type===Pf.query?function(n){return e.dispatch(t.util.updateQueryData(v,g,n))}:void 0,queryFulfilled:N});x(g,w)}}else if(c(s)){var C=s.meta,I=(m=C.requestId,C.baseQueryMeta);null==(u=r[m])||u.resolve({data:s.payload,meta:I}),delete r[m]}else if(a(s)){var E=s.meta,S=(m=E.requestId,E.rejectedWithValue);I=E.baseQueryMeta,null==(d=r[m])||d.reject({error:null!=(l=s.payload)?l:s.error,isUnhandledError:!S,meta:I}),delete r[m]}return f}}}},cp=function(e){var t=e.api,n=e.context.apiUid;return e.reducerPath,function(e){var r=!1;return function(i){return function(o){r||(r=!0,e.dispatch(t.internalActions.middlewareRegistered(n)));var a=i(o);return t.util.resetApiState.match(o)&&e.dispatch(t.internalActions.middlewareRegistered(n)),a}}}};function sp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,yf([e],t))}var up=Symbol(),lp=function(){return{name:up,init:function(e,t,n){var r=t.baseQuery,i=(t.tagTypes,t.reducerPath),o=t.serializeQueryArgs,c=t.keepUnusedDataFor,s=t.refetchOnMountOrArgChange,u=t.refetchOnFocus,l=t.refetchOnReconnect;!function(){function e(t){if(!xl(t))return t;if(Array.isArray(t))return t.map(e);if(Il(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(El(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return bl(t,od)&&(n[od]=t[od]),n}function t(t){return yl(t)?e(t):t}var n="add";Ol("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,o=r.op,c=t,s=0;s<i.length-1;s++){var u=Nl(c),l=i[s];"string"!=typeof l&&"number"!=typeof l&&(l=""+l),0!==u&&1!==u||"__proto__"!==l&&"constructor"!==l||gl(24),"function"==typeof c&&"prototype"===l&&gl(24),"object"!=a(c=Tl(c,l))&&gl(15,i.join("/"))}var d=Nl(c),f=e(r.value),p=i[i.length-1];switch(o){case"replace":switch(d){case 2:return c.set(p,f);case 3:gl(16);default:return c[p]=f}case n:switch(d){case 1:return"-"===p?c.push(f):c.splice(p,0,f);case 2:return c.set(p,f);case 3:return c.add(f);default:return c[p]=f}case"remove":switch(d){case 1:return c.splice(p,1);case 2:return c.delete(p);case 3:return c.delete(r.value);default:return delete c[p]}default:gl(17,o)}})),t},N:function(e,r,i,o){switch(e.i){case 0:case 4:case 2:return function(e,r,i,o){var a=e.t,c=e.o;_l(e.R,(function(e,s){var u=Tl(a,e),l=Tl(c,e),d=s?bl(a,e)?"replace":n:"remove";if(u!==l||"replace"!==d){var f=r.concat(e);i.push("remove"===d?{op:d,path:f}:{op:d,path:f,value:l}),o.push(d===n?{op:"remove",path:f}:"remove"===d?{op:n,path:f,value:t(u)}:{op:"replace",path:f,value:t(u)})}}))}(e,r,i,o);case 5:case 1:return function(e,r,i,o){var a=e.t,c=e.R,s=e.o;if(s.length<a.length){var u=[s,a];a=u[0],s=u[1];var l=[o,i];i=l[0],o=l[1]}for(var d=0;d<a.length;d++)if(c[d]&&s[d]!==a[d]){var f=r.concat([d]);i.push({op:"replace",path:f,value:t(s[d])}),o.push({op:"replace",path:f,value:t(a[d])})}for(var p=a.length;p<s.length;p++){var m=r.concat([p]);i.push({op:n,path:m,value:t(s[p])})}a.length<s.length&&o.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,i,o);case 3:return function(e,t,r,i){var o=e.t,a=e.o,c=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([c]);r.push({op:"remove",path:o,value:e}),i.unshift({op:n,path:o,value:e})}c++})),c=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([c]);r.push({op:n,path:a,value:e}),i.unshift({op:"remove",path:a,value:e})}c++}))}(e,r,i,o)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===id?void 0:t}),r.push({op:"replace",path:[],value:e})}})}();var d=function(e){return e};Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:Vf,onOffline:Zf,onFocus:Df,onFocusLost:Lf},util:{}});var f=function(e){var t=this,n=e.reducerPath,r=e.baseQuery,i=e.context.endpointDefinitions,o=e.serializeQueryArgs,a=e.api,c=function(e,n){return Sf(t,[e,n],(function(e,t){var n,o,a,c,u,l,d=t.signal,f=t.rejectWithValue,p=t.fulfillWithValue,m=t.dispatch,h=t.getState,v=t.extra;return gf(this,(function(t){switch(t.label){case 0:n=i[e.endpointName],t.label=1;case 1:return t.trys.push([1,7,,8]),o=Bf,a=void 0,c={signal:d,dispatch:m,getState:h,extra:v,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?s(e,h()):void 0},n.query?[4,r(n.query(e.originalArgs),c,n.extraOptions)]:[3,3];case 2:return a=t.sent(),n.transformResponse&&(o=n.transformResponse),[3,5];case 3:return[4,n.queryFn(e.originalArgs,c,n.extraOptions,(function(e){return r(e,c,n.extraOptions)}))];case 4:a=t.sent(),t.label=5;case 5:if(a.error)throw new Of(a.error,a.meta);return u=p,[4,o(a.data,a.meta,e.originalArgs)];case 6:return[2,u.apply(void 0,[t.sent(),{fulfilledTimeStamp:Date.now(),baseQueryMeta:a.meta}])];case 7:if((l=t.sent())instanceof Of)return[2,f(l.value,{baseQueryMeta:l.meta})];throw console.error(l),l;case 8:return[2]}}))}))};function s(e,t){var r,i,o,a,c=null==(i=null==(r=t[n])?void 0:r.queries)?void 0:i[e.queryCacheKey],s=null==(o=t[n])?void 0:o.config.refetchOnMountOrArgChange,u=null==c?void 0:c.fulfilledTimeStamp,l=null!=(a=e.forceRefetch)?a:e.subscribe&&s;return!!l&&(!0===l||(Number(new Date)-Number(u))/1e3>=l)}var u=Qd(n+"/executeQuery",c,{getPendingMeta:function(){return{startedTimeStamp:Date.now()}},condition:function(e,t){var r,i,o=(0,t.getState)(),a=null==(i=null==(r=o[n])?void 0:r.queries)?void 0:i[e.queryCacheKey],c=null==a?void 0:a.fulfilledTimeStamp;return!("pending"===(null==a?void 0:a.status)||!s(e,o)&&c)},dispatchConditionRejection:!0});function l(e){return function(t){var n,r;return(null==(r=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:r.endpointName)===e}}return{queryThunk:u,mutationThunk:Qd(n+"/executeMutation",c,{getPendingMeta:function(){return{startedTimeStamp:Date.now()}}}),prefetch:function(e,t,n){return function(r,i){var o=function(e){return"force"in e}(n)&&n.force,c=function(e){return"ifOlderThan"in e}(n)&&n.ifOlderThan,s=function(n){return void 0===n&&(n=!0),a.endpoints[e].initiate(t,{forceRefetch:n})},u=a.endpoints[e].select(t)(i());if(o)r(s());else if(c){var l=null==u?void 0:u.fulfilledTimeStamp;if(!l)return void r(s());(Number(new Date)-Number(new Date(l)))/1e3>=c&&r(s())}else r(s(!1))}},updateQueryData:function(e,t,n){return function(r,i){var o,c,s=a.endpoints[e].select(t)(i()),u={patches:[],inversePatches:[],undo:function(){return r(a.util.patchQueryData(e,t,u.inversePatches))}};if(s.status===mf.uninitialized)return u;if("data"in s)if(xl(s.data)){var l=vd(s.data,n),d=l[1],f=l[2];(o=u.patches).push.apply(o,d),(c=u.inversePatches).push.apply(c,f)}else{var p=n(s.data);u.patches.push({op:"replace",path:[],value:p}),u.inversePatches.push({op:"replace",path:[],value:s.data})}return r(a.util.patchQueryData(e,t,u.patches)),u}},patchQueryData:function(e,t,n){return function(r){var c=i[e];r(a.internalActions.queryResultPatched({queryCacheKey:o({queryArgs:t,endpointDefinition:c,endpointName:e}),patches:n}))}},buildMatchThunkActions:function(e,t){return{matchPending:ef(rf(e),l(t)),matchFulfilled:ef(cf(e),l(t)),matchRejected:ef(of(e),l(t))}}}}({baseQuery:r,reducerPath:i,context:n,api:e,serializeQueryArgs:o}),p=f.queryThunk,m=f.mutationThunk,h=f.patchQueryData,v=f.updateQueryData,y=f.prefetch,x=f.buildMatchThunkActions,_=Kf({context:n,queryThunk:p,mutationThunk:m,reducerPath:i,assertTagType:d,config:{refetchOnFocus:u,refetchOnReconnect:l,refetchOnMountOrArgChange:s,keepUnusedDataFor:c,reducerPath:i}}),N=_.reducer,b=_.actions;sp(e.util,{patchQueryData:h,updateQueryData:v,prefetch:y,resetApiState:b.resetApiState}),sp(e.internalActions,b),Object.defineProperty(e.util,"updateQueryResult",{get:function(){return e.util.updateQueryData}}),Object.defineProperty(e.util,"patchQueryResult",{get:function(){return e.util.patchQueryData}});var T=function(e){var t=e.reducerPath,n=e.queryThunk,r={invalidateTags:Ud(t+"/invalidateTags")},i=[cp,ep,tp,np,rp,op,ap].map((function(t){return t(Ef(If({},e),{refetchQuery:o}))}));return{middleware:function(e){return function(n){var r=bu.apply(void 0,i.map((function(t){return t(e)})))(n);return function(i){return e.getState()[t]?r(i):n(i)}}},actions:r};function o(e,t,r){return void 0===r&&(r={}),n(If({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t},r))}}({reducerPath:i,context:n,queryThunk:p,mutationThunk:m,api:e,assertTagType:d}),w=T.middleware,C=T.actions;sp(e.util,C),sp(e,{reducer:N,middleware:w});var I=function(e){var t=e.serializeQueryArgs,n=e.reducerPath;return{buildQuerySelector:function(e,n){return function(o){var a=vf(i,(function(r){var i,a;return null!=(a=o===Wf||null==(i=null==r?void 0:r.queries)?void 0:i[t({queryArgs:o,endpointDefinition:n,endpointName:e})])?a:Qf}));return vf(a,r)}},buildMutationSelector:function(){return function(e){var t,n;n="object"===g(e)?null!=(t=Hf(e))?t:Wf:e;var o=vf(i,(function(e){var t,r;return null!=(r=n===Wf||null==(t=null==e?void 0:e.mutations)?void 0:t[n])?r:$f}));return vf(o,r)}},selectInvalidatedBy:function(e,t){for(var r,i=e[n],o=new Set,a=0,c=t.map(Ff);a<c.length;a++){var s=c[a],u=i.provided[s.type];if(u)for(var l=0,d=null!=(r=void 0!==s.id?u[s.id]:jf(Object.values(u)))?r:[];l<d.length;l++){var f=d[l];o.add(f)}}return jf(Array.from(o.values()).map((function(e){var t=i.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]})))}};function r(e){return If(If({},e),{status:t=e.status,isUninitialized:t===mf.uninitialized,isLoading:t===mf.pending,isSuccess:t===mf.fulfilled,isError:t===mf.rejected});var t}function i(e){return e[n]}}({serializeQueryArgs:o,reducerPath:i}),E=I.buildQuerySelector,S=I.buildMutationSelector,j=I.selectInvalidatedBy;sp(e.util,{selectInvalidatedBy:j});var k=function(e){var t=e.serializeQueryArgs,n=e.queryThunk,r=e.mutationThunk,i=e.api,o=e.context,a={},c={},s=i.internalActions,u=s.unsubscribeQueryResult,l=s.removeMutationResult,d=s.updateSubscriptionOptions;return{buildInitiateQuery:function(e,r){return function o(c,s){var l=void 0===s?{}:s,f=l.subscribe,p=void 0===f||f,m=l.forceRefetch,h=l.subscriptionOptions;return function(s,l){var f=t({queryArgs:c,endpointDefinition:r,endpointName:e}),v=n({type:"query",subscribe:p,forceRefetch:m,subscriptionOptions:h,endpointName:e,originalArgs:c,queryCacheKey:f}),g=s(v),y=g.requestId,x=g.abort,_=Object.assign(Promise.all([a[f],g]).then((function(){return i.endpoints[e].select(c)(l())})),{arg:c,requestId:y,subscriptionOptions:h,queryCacheKey:f,abort:x,unwrap:function(){return Sf(this,null,(function(){var e;return gf(this,(function(t){switch(t.label){case 0:return[4,_];case 1:if((e=t.sent()).isError)throw e.error;return[2,e.data]}}))}))},refetch:function(){s(o(c,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){p&&s(u({queryCacheKey:f,requestId:y}))},updateSubscriptionOptions:function(t){_.subscriptionOptions=t,s(d({endpointName:e,requestId:y,queryCacheKey:f,options:t}))}});return a[f]||(a[f]=_,_.then((function(){delete a[f]}))),_}}},buildInitiateMutation:function(e){return function(t,n){var i=void 0===n?{}:n,o=i.track,a=void 0===o||o,s=i.fixedCacheKey;return function(n,i){var o=r({type:"mutation",endpointName:e,originalArgs:t,track:a,fixedCacheKey:s}),u=n(o),d=u.requestId,f=u.abort,p=u.unwrap,m=u.unwrap().then((function(e){return{data:e}})).catch((function(e){return{error:e}})),h=function(){n(l({requestId:d,fixedCacheKey:s}))},v=Object.assign(m,{arg:u.arg,requestId:d,abort:f,unwrap:p,unsubscribe:h,reset:h});return c[d]=v,v.then((function(){delete c[d]})),s&&(c[s]=v,v.then((function(){c[s]===v&&delete c[s]}))),v}}},getRunningOperationPromises:function(){return yf(yf([],Object.values(a)),Object.values(c)).filter((function(e){return!!e}))},getRunningOperationPromise:function(e,n){var r=o.endpointDefinitions[e];if(r.type===Pf.query){var i=t({queryArgs:n,endpointDefinition:r,endpointName:e});return a[i]}return c[n]}}}({queryThunk:p,mutationThunk:m,api:e,serializeQueryArgs:o,context:n}),A=k.buildInitiateQuery,P=k.buildInitiateMutation,R=k.getRunningOperationPromises,O=k.getRunningOperationPromise;return sp(e.util,{getRunningOperationPromises:R,getRunningOperationPromise:O}),{name:up,injectEndpoint:function(t,n){var r,i=e;null!=(r=i.endpoints)[t]||(r[t]={}),n.type!==Pf.query?function(e){return e.type===Pf.mutation}(n)&&sp(i.endpoints[t],{select:S(),initiate:P(t)},x(m,t)):sp(i.endpoints[t],{select:E(t,n),initiate:A(t,n)},x(p,t))}}}}},dp=(lp(),function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}),fp=Object.defineProperty,pp=Object.defineProperties,mp=Object.getOwnPropertyDescriptors,hp=Object.getOwnPropertySymbols,vp=Object.prototype.hasOwnProperty,gp=Object.prototype.propertyIsEnumerable,yp=function(e,t,n){return t in e?fp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},xp=function(e,t){for(var n in t||(t={}))vp.call(t,n)&&yp(e,n,t[n]);if(hp)for(var r=0,i=hp(t);r<i.length;r++)n=i[r],gp.call(t,n)&&yp(e,n,t[n]);return e},_p=function(e,t){return pp(e,mp(t))};function Np(e,t,n,r){var i=(0,ju.useMemo)((function(){return{queryArgs:e,serialized:"object"==g(e)?t({queryArgs:e,endpointDefinition:n,endpointName:r}):e}}),[e,t,n,r]),o=(0,ju.useRef)(i);return(0,ju.useEffect)((function(){o.current.serialized!==i.serialized&&(o.current=i)}),[i]),o.current.serialized===i.serialized?o.current.queryArgs:e}var bp=Symbol();function Tp(e){var t=(0,ju.useRef)(e);return(0,ju.useEffect)((function(){il(t.current,e)||(t.current=e)}),[e]),il(t.current,e)?t.current:e}var wp,Cp="undefined"!=typeof r&&r.document&&r.document.createElement?ju.useLayoutEffect:ju.useEffect,Ip=function(e){return e},Ep=function(e){return e},Sp=function(e){return e.isUninitialized?_p(xp({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:mf.pending}):e};function jp(e){return e.replace(e[0],e[0].toUpperCase())}function kp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,dp([e],t))}!function(e){e.query="query",e.mutation="mutation"}(wp||(wp={}));var Ap=Symbol(),Pp=Jf(lp(),function(e){var t={},n=t.batch,r=void 0===n?Iu.unstable_batchedUpdates:n,i=t.useDispatch,o=void 0===i?vl:i,a=t.useSelector,c=void 0===a?Vu:a,s=t.useStore,u=void 0===s?pl:s,l=t.unstable__sideEffectsInRender,d=void 0!==l&&l;return{name:Ap,init:function(e,t,n){var i=t.serializeQueryArgs,a=e,s=function(e){var t=e.api,n=e.moduleOptions,r=n.batch,i=n.useDispatch,o=n.useSelector,a=n.useStore,c=n.unstable__sideEffectsInRender,s=e.serializeQueryArgs,u=e.context,l=c?function(e){return e()}:ju.useEffect;return{buildQueryHooks:function(e){var n=function(n,r){var a=void 0===r?{}:r,c=a.refetchOnReconnect,d=a.refetchOnFocus,f=a.refetchOnMountOrArgChange,p=a.skip,m=void 0!==p&&p,h=a.pollingInterval,v=void 0===h?0:h,g=t.endpoints[e].initiate,y=i(),x=Np(m?Wf:n,s,u.endpointDefinitions[e],e),_=Tp({refetchOnReconnect:c,refetchOnFocus:d,pollingInterval:v}),N=(0,ju.useRef)(),b=N.current||{},T=b.queryCacheKey,w=b.requestId,C=o((function(e){var n;return!!T&&!!w&&!(null==(n=e[t.reducerPath].subscriptions[T])?void 0:n[w])}));return l((function(){N.current=void 0}),[C]),l((function(){var e,t=N.current;if(x===Wf)return null==t||t.unsubscribe(),void(N.current=void 0);var n=null==(e=N.current)?void 0:e.subscriptionOptions;if(t&&t.arg===x)_!==n&&t.updateSubscriptionOptions(_);else{null==t||t.unsubscribe();var r=y(g(x,{subscriptionOptions:_,forceRefetch:f}));N.current=r}}),[y,g,f,x,_,C]),(0,ju.useEffect)((function(){return function(){var e;null==(e=N.current)||e.unsubscribe(),N.current=void 0}}),[]),(0,ju.useMemo)((function(){return{refetch:function(){var e;null==(e=N.current)||e.refetch()}}}),[])},c=function(n){var o=void 0===n?{}:n,a=o.refetchOnReconnect,c=o.refetchOnFocus,s=o.pollingInterval,u=void 0===s?0:s,d=t.endpoints[e].initiate,f=i(),p=(0,ju.useState)(bp),m=p[0],h=p[1],v=(0,ju.useRef)(),g=Tp({refetchOnReconnect:a,refetchOnFocus:c,pollingInterval:u});l((function(){var e,t,n=null==(e=v.current)?void 0:e.subscriptionOptions;g!==n&&(null==(t=v.current)||t.updateSubscriptionOptions(g))}),[g]);var y=(0,ju.useRef)(g);l((function(){y.current=g}),[g]);var x=(0,ju.useCallback)((function(e,t){var n;return void 0===t&&(t=!1),r((function(){var r;null==(r=v.current)||r.unsubscribe(),v.current=n=f(d(e,{subscriptionOptions:y.current,forceRefetch:!t})),h(e)})),n}),[f,d]);return(0,ju.useEffect)((function(){return function(){var e;null==(e=null==v?void 0:v.current)||e.unsubscribe()}}),[]),(0,ju.useEffect)((function(){m===bp||v.current||x(m,!0)}),[m,x]),(0,ju.useMemo)((function(){return[x,m]}),[x,m])},f=function(n,r){var i=void 0===r?{}:r,c=i.skip,l=void 0!==c&&c,f=i.selectFromResult,p=void 0===f?Ip:f,m=t.endpoints[e].select,h=Np(l?Wf:n,s,u.endpointDefinitions[e],e),v=(0,ju.useRef)(),g=(0,ju.useMemo)((function(){return vf([m(h),function(e,t){return t},function(e){return h}],d)}),[m,h]),y=(0,ju.useMemo)((function(){return vf([g],p)}),[g,p]),x=o((function(e){return y(e,v.current)}),il),_=a(),N=g(_.getState(),v.current);return Cp((function(){v.current=N}),[N]),x};return{useQueryState:f,useQuerySubscription:n,useLazyQuerySubscription:c,useLazyQuery:function(e){var t=c(e),n=t[0],r=t[1],i=f(r,_p(xp({},e),{skip:r===bp})),o=(0,ju.useMemo)((function(){return{lastArg:r}}),[r]);return(0,ju.useMemo)((function(){return[n,i,o]}),[n,i,o])},useQuery:function(e,t){var r=n(e,t),i=f(e,xp({selectFromResult:e===Wf||(null==t?void 0:t.skip)?void 0:Sp},t)),o=i.data,a=i.status,c=i.isLoading,s=i.isSuccess,u=i.isError,l=i.error;return(0,ju.useDebugValue)({data:o,status:a,isLoading:c,isSuccess:s,isError:u,error:l}),(0,ju.useMemo)((function(){return xp(xp({},i),r)}),[i,r])}}},buildMutationHook:function(e){return function(n){var a=void 0===n?{}:n,c=a.selectFromResult,s=void 0===c?Ep:c,u=a.fixedCacheKey,l=t.endpoints[e],d=l.select,f=l.initiate,p=i(),m=(0,ju.useState)(),h=m[0],v=m[1];(0,ju.useEffect)((function(){return function(){(null==h?void 0:h.arg.fixedCacheKey)||null==h||h.reset()}}),[h]);var g=(0,ju.useCallback)((function(e){var t=p(f(e,{fixedCacheKey:u}));return v(t),t}),[p,f,u]),y=(h||{}).requestId,x=(0,ju.useMemo)((function(){return vf([d({fixedCacheKey:u,requestId:null==h?void 0:h.requestId})],s)}),[d,h,s,u]),_=o(x,il),N=null==u?null==h?void 0:h.arg.originalArgs:void 0,b=(0,ju.useCallback)((function(){r((function(){h&&v(void 0),u&&p(t.internalActions.removeMutationResult({requestId:y,fixedCacheKey:u}))}))}),[p,u,h,y]),T=_.endpointName,w=_.data,C=_.status,I=_.isLoading,E=_.isSuccess,S=_.isError,j=_.error;(0,ju.useDebugValue)({endpointName:T,data:w,status:C,isLoading:I,isSuccess:E,isError:S,error:j});var k=(0,ju.useMemo)((function(){return _p(xp({},_),{originalArgs:N,reset:b})}),[_,N,b]);return(0,ju.useMemo)((function(){return[g,k]}),[g,k])}},usePrefetch:function(e,n){var r=i(),o=Tp(n);return(0,ju.useCallback)((function(n,i){return r(t.util.prefetch(e,n,xp(xp({},o),i)))}),[e,r,o])}};function d(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){var r=t.endpointName,i=u.endpointDefinitions[r];s({queryArgs:t.originalArgs,endpointDefinition:i,endpointName:r})===s({queryArgs:n,endpointDefinition:i,endpointName:r})&&(t=void 0)}var o=e.isSuccess?e.data:null==t?void 0:t.data;void 0===o&&(o=e.data);var a=void 0!==o,c=e.isLoading,l=!a&&c,d=e.isSuccess||c&&a;return _p(xp({},e),{data:o,currentData:e.data,isFetching:c,isLoading:l,isSuccess:d})}}({api:e,moduleOptions:{batch:r,useDispatch:o,useSelector:c,useStore:u,unstable__sideEffectsInRender:d},serializeQueryArgs:i,context:n}),l=s.buildQueryHooks,f=s.buildMutationHook,p=s.usePrefetch;return kp(a,{usePrefetch:p}),kp(n,{batch:r}),{injectEndpoint:function(t,n){if(n.type===wp.query){var r=l(t),i=r.useQuery,o=r.useLazyQuery,c=r.useLazyQuerySubscription,s=r.useQueryState,u=r.useQuerySubscription;kp(a.endpoints[t],{useQuery:i,useLazyQuery:o,useLazyQuerySubscription:c,useQueryState:s,useQuerySubscription:u}),e["use"+jp(t)+"Query"]=i,e["useLazy"+jp(t)+"Query"]=o}else if(function(e){return e.type===wp.mutation}(n)){var d=f(t);kp(a.endpoints[t],{useMutation:d}),e["use"+jp(t)+"Mutation"]=d}}}}}}()),Rp=s(647),Op=s(410),Dp=s.n(Op);function Lp(e){return Lp="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(e){return g(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":g(e)},Lp(e)}function Vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zp(e)}function Mp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fp(e,t){return Fp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fp(e,t)}function Bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Up=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=function(e,t){return!t||"object"!==Lp(t)&&"function"!=typeof t?Mp(e):t}(this,(e=Zp(t)).call.apply(e,[this].concat(i))),Bp(Mp(n),"state",{bootstrapped:!1}),Bp(Mp(n),"_unsubscribe",void 0),Bp(Mp(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fp(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&Vp(n.prototype,r),t}(ju.PureComponent);Bp(Up,"defaultProps",{children:null,loading:null});var qp="persist:",Hp="persist/FLUSH",Gp="persist/REHYDRATE",Yp="persist/PAUSE",Kp="persist/PERSIST",Wp="persist/PURGE",zp="persist/REGISTER",Qp=-1;function $p(e){return $p="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(e){return g(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":g(e)},$p(e)}function Xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function em(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xp(n,!0).forEach((function(t){Jp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xp(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===$p(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function tm(e){return JSON.stringify(e)}function nm(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:qp).concat(e.key),i=e.storage;return e.debug,t=!1===e.deserialize?function(e){return e}:"function"==typeof e.deserialize?e.deserialize:rm,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(e){throw e}}))}function rm(e){return JSON.parse(e)}function im(e){}function om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?om(n,!0).forEach((function(t){cm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):om(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sm=5e3;function um(e,t){var n=void 0!==e.version?e.version:Qp,r=(e.debug,void 0===e.stateReconciler?em:e.stateReconciler),i=e.getStoredState||nm,o=void 0!==e.timeout?e.timeout:sm,a=null,c=!1,s=!0,u=function(e){return e._persist.rehydrated&&a&&!s&&a.update(e),e};return function(l,d){var f=l||{},p=f._persist,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(f,["_persist"]);if(d.type===Kp){var h=!1,v=function(t,n){h||(d.rehydrate(e.key,t,n),h=!0)};if(o&&setTimeout((function(){!h&&v(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),o),s=!1,a||(a=function(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,a="".concat(void 0!==e.keyPrefix?e.keyPrefix:qp).concat(e.key),c=e.storage;t=!1===e.serialize?function(e){return e}:"function"==typeof e.serialize?e.serialize:tm;var s=e.writeFailHandler||null,u={},l={},d=[],f=null,p=null;function m(){if(0===d.length)return f&&clearInterval(f),void(f=null);var e=d.shift(),n=i.reduce((function(t,n){return n.in(t,e,u)}),u[e]);if(void 0!==n)try{l[e]=t(n)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete l[e];0===d.length&&(Object.keys(l).forEach((function(e){void 0===u[e]&&delete l[e]})),p=c.setItem(a,t(l)).catch(v))}function h(e){return!(r&&-1===r.indexOf(e)&&"_persist"!==e||n&&-1!==n.indexOf(e))}function v(e){s&&s(e)}return{update:function(e){Object.keys(e).forEach((function(t){h(t)&&u[t]!==e[t]&&-1===d.indexOf(t)&&d.push(t)})),Object.keys(u).forEach((function(t){void 0===e[t]&&h(t)&&-1===d.indexOf(t)&&void 0!==u[t]&&d.push(t)})),null===f&&(f=setInterval(m,o)),u=e},flush:function(){for(;0!==d.length;)m();return p||Promise.resolve()}}}(e)),p)return am({},t(m,d),{_persist:p});if("function"!=typeof d.rehydrate||"function"!=typeof d.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),i(e).then((function(t){var r=e.migrate||function(e,t){return Promise.resolve(e)};r(t,n).then((function(e){v(e)}),(function(e){v(void 0,e)}))}),(function(e){v(void 0,e)})),am({},t(m,d),{_persist:{version:n,rehydrated:!1}})}if(d.type===Wp)return c=!0,d.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:qp).concat(e.key);return t.removeItem(n,im)}(e)),am({},t(m,d),{_persist:p});if(d.type===Hp)return d.result(a&&a.flush()),am({},t(m,d),{_persist:p});if(d.type===Yp)s=!0;else if(d.type===Gp){if(c)return am({},m,{_persist:am({},p,{rehydrated:!0})});if(d.key===e.key){var g=t(m,d),y=d.payload,x=am({},!1!==r&&void 0!==y?r(y,l,g,e):g,{_persist:am({},p,{rehydrated:!0})});return u(x)}}if(!p)return t(l,d);var _=t(m,d);return _===m?l:u(am({},_,{_persist:p}))}}function lm(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(n,!0).forEach((function(t){pm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mm={registry:[],bootstrapped:!1},hm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zp:return fm({},e,{registry:[].concat(lm(e.registry),[t.key])});case Gp:var n=e.registry.indexOf(t.key),r=lm(e.registry);return r.splice(n,1),fm({},e,{registry:r,bootstrapped:0===r.length});default:return e}};function vm(e,t,n){var r=n||!1,i=_u(hm,mm,t&&t.enhancer?t.enhancer:void 0),o=function(e){i.dispatch({type:zp,key:e})},a=function(t,n,o){var a={type:Gp,payload:n,err:o,key:t};e.dispatch(a),i.dispatch(a),r&&c.getState().bootstrapped&&(r(),r=!1)},c=fm({},i,{purge:function(){var t=[];return e.dispatch({type:Wp,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:Hp,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:Yp})},persist:function(){e.dispatch({type:Kp,register:o,rehydrate:a})}});return t&&t.manualPersist||c.persist(),c}var gm,ym,xm,_m,Nm=n(92954),bm=s.n(Nm),Tm=!1,wm=function(){return"function"!=typeof bm().getLaunchOptionsSync?{fakeDate:!1}:(null===(e=bm().getLaunchOptionsSync())||void 0===e?void 0:e.query)||{fakeDate:!1};var e},Cm=function(){var e,t;return"release"!==("function"==typeof(null===bm()||void 0===bm()?void 0:bm().getAccountInfoSync)&&(null===(e=bm().getAccountInfoSync())||void 0===e||null===(t=e.miniProgram)||void 0===t?void 0:t.envVersion))&&(wm().playback||Tm)},Im=function(e,t,n){var r=e[t];e[t]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=r.apply(void 0,t);if(!n({args:t,res:o}))return o}},Em={base64:{key:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",btoa:function(e,t){for(var n=(t=t||{}).key||Em.base64.key,r="",i=0,o=t.charCodeArray?function(t){return e[t]}:function(t){return e.charCodeAt(t)};i<e.length;){var a=o(i++),c=o(i++),s=o(i++);r+=n[a>>2]+n[(3&a)<<4|c>>4]+n[isNaN(c)?64:(15&c)<<2|s>>6]+n[isNaN(s)?64:63&s]}return r},encode:function(e){return Em.base64.btoa(unescape(encodeURIComponent(e)))}}},Sm=Em.base64.encode,jm=function(){return!!wm().coffeebean},km=function(e){return e instanceof Error?{message:e.message,stack:e.stack}:"string"==typeof e?e:JSON.stringify(e)};function Am(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fu(r.key),r)}}function Rm(e,t,n){return t&&Pm(e.prototype,t),n&&Pm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.MINI_INIT="MINI_INIT",e.INIT_PAGE="INIT_PAGE",e.AJAX="AJAX",e.FN="FN",e.STORAGE_LOAD="STORAGE_LOAD",e.GET_AJAX_LIST="GET_AJAX_LIST",e.GET_STORAGE="GET_STORAGE",e.MINI_PAGE_SCROLL="MINI_PAGE_SCROLL",e.SCROLL_VIEW_SCROLL="SCROLL_VIEW_SCROLL",e.INIT_LOAD_DATA="INIT_LOAD_DATA"}(gm||(gm={})),function(e){e.REQUEST_RUN_TYPE="REQUEST_RUN_TYPE",e.READY="READY",e.STEP="STEP",e.ERROR="ERROR",e.REPLAY_STEP="REPLAY_STEP",e.EXEC_STEP="EXEC_STEP",e.STOP_RECORD="STOP_RECORD",e.EXPECT="EXPECT"}(ym||(ym={})),function(e){e.RECORD="RECORD",e.REPLAY="REPLAY"}(xm||(xm={})),function(e){e.ADD="ADD"}(_m||(_m={}));var Om,Dm="%c[coffeebean]",Lm=jm(),Vm=Lm?console.log.bind(console,Dm,"color:cyan"):function(){},Zm=Lm?console.error.bind(console,Dm,"color:cyan"):function(){},Mm="0.6.3",Fm="$COFFEEBEAN_INIT$",Bm=0,Um=function(e){return e.replace(/.+(\d{4})(\d{2})(\d{2}).+/,"$1-$2-$3")},qm=function(){function e(t){Am(this,e),pu(this,"devData",[]),pu(this,"data",[]),pu(this,"routeMap",new Map),pu(this,"lastIdx",-1),pu(this,"idx",0),pu(this,"prevScrollInfo",null),pu(this,"prevScrollID",void 0),pu(this,"reqBaseParam",{}),pu(this,"sendLocker",!1),pu(this,"token",function(){var e=new Date,t=e.getFullYear(),n="0"+(e.getMonth()+1),r="0"+e.getDate();return Bm++,"".concat("PRD","-").concat(0,"-").concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),"-").concat(t).concat(n.slice(-2)).concat(r.slice(-2),"-").concat(Bm,"-").concat(Mm,"-MINI")}()),pu(this,"collectSwitch",!0),e.$instanceList.push(this),e.instance=this,t&&this.setSaveReqParam(t)}return Rm(e,[{key:"bindRoute",value:function(e){this.routeMap.set(e,!0)}},{key:"unBindRoute",value:function(e){return this.routeMap.delete(e),0===this.routeMap.size&&(this.save(!1),!0)}},{key:"hasRoute",value:function(){return this.routeMap.size>0}},{key:"setSaveReqParam",value:function(e){this.reqBaseParam=hu({},e)}},{key:"createSaveReqParam",value:function(e){return hu(hu({},this.reqBaseParam),{},{token:this.token,replayContent:e})}},{key:"setCollectSwitch",value:function(e){this.collectSwitch=e}},{key:"getLastItem",value:function(){return this.data[this.data.length-1]}},{key:"isScrollItem",value:function(e){return[gm.SCROLL_VIEW_SCROLL,gm.MINI_PAGE_SCROLL].includes(e)}},{key:"add",value:function(t){if(this.collectSwitch){var n=hu({ts:Date.now(),idx:this.idx},t);this.data.push(n),jm()&&this.devData.push(n),this.idx++,this.isScrollItem(t.eventType)||(this.prevScrollInfo=null),e.events[_m.ADD]&&e.events[_m.ADD].forEach((function(e){return e(n)}))}}},{key:"addPage",value:function(t,n){this.add({eventType:gm.INIT_PAGE,eventParam:t,eventExtend:{params:n,miniInitData:e.miniInitData}})}},{key:"addInit",value:function(t){this.add(t),e.miniInitData=t}},{key:"checkScrollInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case"+":return t>=n?"":"-";case"-":return t<=n?"":"+";default:return t>n?"+":t<n?"-":""}}},{key:"addScroll",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gm.SCROLL_VIEW_SCROLL,i=t.scrollTop,o=t.scrollLeft,a=t.route,c=this.getLastItem();this.prevScrollID&&clearTimeout(this.prevScrollID),this.prevScrollID=setTimeout((function(){n.prevScrollInfo=null}),1e3);var s=!0,u="",l="";c&&this.prevScrollInfo&&this.prevScrollInfo.eventType===r&&((u=this.checkScrollInfo(this.prevScrollInfo.scrollLeftType,o,this.prevScrollInfo.scrollLeft))||(c.ts=+new Date,c.eventExtend.scrollLeft=o,s=!1),(l=this.checkScrollInfo(this.prevScrollInfo.scrollTopType,i,this.prevScrollInfo.scrollTop))||(c.ts=+new Date,c.eventExtend.scrollTop=i,s=!1)),this.prevScrollInfo&&(this.prevScrollInfo.scrollLeftType=u,this.prevScrollInfo.scrollTopType=l),s&&(this.prevScrollInfo={eventType:r,scrollTop:i||0,scrollLeft:o||0,scrollLeftType:u,scrollTopType:l},this.add({eventType:r,eventParam:e,eventExtend:{scrollTop:i,scrollLeft:o,route:a}}))}},{key:"addGetStorage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.add({eventType:gm.STORAGE_LOAD,eventParam:e,eventExtend:{params:{value:t},isCWX:n}})}},{key:"addInitLoadData",value:function(e,t){this.add({eventType:gm.INIT_LOAD_DATA,eventParam:e,eventExtend:{data:t}})}},{key:"addFn",value:function(e,t){this.add({eventType:gm.FN,eventParam:e,eventExtend:t})}},{key:"getSendData",value:function(){return this.data}},{key:"getSendContentList",value:function(){return Vm("getSendContentList",this.data),this.data.length?(this.lastIdx=this.data[this.data.length-1].idx,function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5,n=[],r=Math.ceil(e.length/t),i=0;i<r;i++)n.push(e.slice(0,t)),e=e.slice(t);return n}(Sm(JSON.stringify(this.data)))):[]}},{key:"clearData",value:function(){var e=this;this.data=this.data.filter((function(t){return t.idx>e.lastIdx}))}},{key:"addRequest",value:function(e,t){this.add({eventType:gm.AJAX,eventParam:e,eventExtend:t})}},{key:"validate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Vm("validate",JSON.stringify(this.reqBaseParam)),!(e&&this.sendLocker||!this.collectSwitch||!this.getSendData().length)}},{key:"send",value:function(t){var n=e.cwx;return new Promise((function(e,r){n.request({url:"/restapi/soa2/20589/SaveTraceInfo?_fxpcqlniredt",header:{"Content-Type":"application/json"},data:t,success:function(t){e(t)},fail:function(e){r(e)}})}))}},{key:"save",value:function(e){var t=this;if(this.validate(e)){this.sendLocker=!0;var n=+new Date,r=this.getSendContentList()||[],i=r.length;Promise.all(r.map((function(e,r){var o="{spID=".concat(r,",gID=").concat(n,",len=").concat(i,"}")+e,a=t.createSaveReqParam(o);return t.send(a)}))).then((function(e){t.sendLocker=!1,t.clearData(),Vm(t.token,"save success",e)})).catch((function(e){t.sendLocker=!1,Zm(t.token,"save error",e)}))}}},{key:"getToken",value:function(){return this.token}}],[{key:"on",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}},{key:"onPageUnload",value:function(t){var n=e.instance.unBindRoute(t);if(Vm("onPageUnload",n),n){var r=e.$instanceList.pop();e.instance=e.$instanceList[e.$instanceList.length-1],r&&e.instance.setSaveReqParam(r.reqBaseParam)}}},{key:"useNewToken",value:function(t){return new e(hu({},e.instance.reqBaseParam)),e.instance.bindRoute(t),e.instance.token}}]),e}();pu(qm,"cwx",void 0),pu(qm,"$instanceList",[]),pu(qm,"instance",void 0),pu(qm,"miniInitData",void 0),pu(qm,"events",{}),Object.defineProperty(qm,"instance",{get:function(){return Om||(Om=new qm)},set:function(e){Om=e}}),new Map;var Hm=function(e){return"object"===g(e[0])?e[0].key:e[0]},Gm=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=n.args,i=n.res;Promise.resolve(i).then((function(n){var i=Hm(r);!e.has(i)&&n&&(qm.instance.addGetStorage(i,n,t),e.add(i))}))}},Ym=function(e){return function(t){var n=t.args,r=Hm(n);e.add(r)}},Km=function(e){return function(t){var n=t.args,r=Hm(n);e.delete(r)}},Wm=function(e,t,n){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){var r=t[0];if("object"===g(r)&&(r.success||r.complete))return t[0]=hu(hu({},r),{},{success:function(e){n({args:t,res:e}),r.success&&r.success(e)},complete:function(e){n({args:t,res:e}),r.complete&&r.complete(e)}}),e.apply(void 0,Bu(t))}var i=e.apply(void 0,Bu(t));if(!n({args:t,res:i}))return i},zm=function(e){var t=new Set;return{getStorage:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wm(e.getStorage,r,Gm(t,!0),!0)},setStorage:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wm(e.setStorage,r,Ym(t))},getStorageSync:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wm(e.getStorageSync,r,Gm(t,!0))},setStorageSync:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wm(e.setStorageSync,r,Ym(t))}}},Qm={},$m=function(){function e(t,n){var i,o,a,c;Am(this,e),pu(this,"config",void 0),pu(this,"tid",void 0),pu(this,"sendLocker",void 0),pu(this,"dep",void 0),this.dep=n,this.config=hu({code:"",env:bm().getEnv(),extendCommon:"",autoInterval:5e3,path:""},t),this.sendLocker=!1,this.initQConfig(),t.requestConfig&&(c=t.requestConfig,Qm=hu(hu({},Qm),c));var u=n.cwx,l=u.getSystemInfoSync(),d=l.windowWidth,f=l.windowHeight,p=l.pixelRatio,m=l.language,h=null===(i=function(){switch("weapp"){case"weapp":return wx;case"swan":return swan;case"alipay":return my;case"tt":return Page;case"qq":return qq;case"quickapp":default:return{};case"h5":return r}}())||void 0===i?void 0:i.buildId,v="function"==typeof(null===bm()||void 0===bm()?void 0:bm().getAccountInfoSync)&&(null===(o=bm().getAccountInfoSync())||void 0===o||null===(a=o.miniProgram)||void 0===a?void 0:a.envVersion);jm()&&(s.g.ActionList=qm.instance),qm.cwx=u;var g,y={code:this.config.code||"",bizCode:this.config.bizCode||"",orderid:this.config.orderid||0,tsid:this.config.transactionid||"",replayType:"MINI-"+this.config.env,uid:this.config.uid||"",version:Mm,extend:this.config.extendCommon||""};qm.instance.setSaveReqParam(y),qm.instance.addInit({eventType:gm.MINI_INIT,eventParam:h,eventExtend:{w:d,h:f,pr:p,locale:m,taroEnv:this.config.env,tzo:(new Date).getTimezoneOffset()}}),g=new Set,Im(bm(),"getStorageSync",Gm(g)),Im(bm(),"getStorage",Gm(g)),Im(bm(),"setStorageSync",Ym(g)),Im(bm(),"setStorage",Ym(g)),Im(bm(),"removeStorageSync",Km(g)),Im(bm(),"removeStorage",Km(g)),this.auto(),"release"===v&&h&&u.mcdAppId&&qm.instance.send(hu(hu({},y),{},{extend:JSON.stringify({buildId:h,mcdAppId:u.mcdAppId}),token:qm.instance.token,replayType:"MINI",replayContent:"START"})).catch(Zm)}return Rm(e,[{key:"auto",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;this.tid=setTimeout((function(){e.save(),e.auto(t)}),t)}},{key:"initQConfig",value:function(){var e=this;return Vm("initQConfig"),new Promise((function(t,n){e.dep.cwx.request({url:"/restapi/soa2/16163/GetConfigInfo?_fxpcqlniredt",header:{"Content-Type":"application/json"},data:{},success:t,fail:n})})).then((function(e){var t=JSON.parse(e.data.text);return wm().coffeebean||t.switch&&Math.random()<=t.ratio?(Vm("initQConfig 1"),qm.instance.setCollectSwitch(!0)):(Vm("initQConfig 2"),qm.instance.setCollectSwitch(!1)),e})).catch((function(e){qm.instance.setCollectSwitch(!1),Zm("initQConfig catch",e)}))}},{key:"save",value:function(){qm.instance.save(this.dep.cwx)}},{key:"trackPage",value:function(){var e,t=this.config.path,n=bm().getCurrentPages(),r=n[n.length-2],i=n[n.length-1],o=(null==r||null===(e=r.route)||void 0===e?void 0:e.indexOf(t))>-1;if(i&&(o||!qm.instance.hasRoute()?qm.instance.bindRoute(i.route):qm.useNewToken(i.route),!i[Fm])){var a=i.onUnload;i.onUnload=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.apply(i,t),Vm("currentPage.route",i.route,t),qm.onPageUnload(i.route)},i[Fm]=!0}}},{key:"getToken",value:function(){return qm.instance.token}}]),e}(),Xm=s(691),Jm=s.n(Xm);function eh(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function th(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){eh(o,r,i,a,c,"next",e)}function c(e){eh(o,r,i,a,c,"throw",e)}a(void 0)}))}}var nh=function(){function e(t,n){if(Am(this,e),pu(this,"token",void 0),pu(this,"res",void 0),e.current=this,this.token=t,!n)throw Error("\u56de\u6eaf\u6570\u636e\u4e0d\u5b58\u5728 res:".concat(n," token:").concat(t));this.res=n}return Rm(e,[{key:"getActionList",value:function(){return this.res.actionList.filter((function(e){return![gm.MINI_INIT].includes(e.eventType)}))}},{key:"getRequestItem",value:function(e){return this.res.requestList.filter((function(t){return!t.played&&t.eventParam.indexOf(e.replace(/.+\/platform-taro/,""))>-1}))[0]}},{key:"getInitItem",value:function(){return this.res.actionList.filter((function(e){return e.eventType===gm.MINI_INIT}))[0]}},{key:"getJumpInfo",value:function(){var e,t,n=this.res.actionList.filter((function(e){return e.eventType===gm.INIT_PAGE}))[0];if(!n)return null;var r=null==n?void 0:n.eventParam;return{url:r?"/"+r:"",data:null===(e=n.eventExtend)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.data}}},{key:"getInitLoadData",value:function(e){var t,n=this.res.actionList.filter((function(t){return t.eventParam===e&&t.eventType===gm.INIT_LOAD_DATA}))[0];return null==n||null===(t=n.eventExtend)||void 0===t?void 0:t.data}}]),e}();pu(nh,"current",void 0);var rh,ih={code:"",setConfig:function(e){ih.code=e.code},fetch:(rh=th(Jm().mark((function e(t,n,r){var i;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){var o=Um(n);Vm("tokenDate",o),r({url:t,header:{"Content-Type":"application/json"},data:{code:ih.code,token:n,sTime:"".concat(o," 00:00:00"),eTime:"".concat(o," 23:59:59")},success:e,fail:i})}));case 2:return i=e.sent,Vm("data",i.data),e.abrupt("return",new nh(n,i.data));case 5:case"end":return e.stop()}}),e)}))),function(e,t,n){return rh.apply(this,arguments)})},oh={},ah=function(){},ch=function(e){Vm("mockFn",e.eventParam);var t=oh[e.eventParam];if(!t)return!0;try{t&&t.apply(void 0,Bu(e.eventExtend.args.map((function(e){return"TaroEvent"===e.__type__&&(e.stopPropagation=ah),e}))))}catch(e){console.error(e)}},sh=function(e){Vm("fireScroll",e);var t=o.getElementById(e.eventParam);Vm("elem",t,null==t?void 0:t.scrollTo,bm()),t?bm().createSelectorQuery().select("#"+e.eventParam).node().exec((function(t){t[0].node.scrollTo({top:e.eventExtend.scrollTop,left:e.eventExtend.scrollLeft})})):bm().pageScrollTo({scrollTop:e.eventExtend.scrollTop})},uh=function(e){bm().pageScrollTo({scrollTop:e.eventExtend.scrollTop})},lh=n(32180),dh=!0;function fh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ph(e,t){return ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ph(e,t)}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mh(e)}function hh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var vh=n(71515);function gh(e,t,n){return gh=hh()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ph(i,n.prototype),i},gh.apply(null,arguments)}var yh,xh=function(e){r.__RealDate=r.__RealDate||r.Date;var t=r.__RealDate,n=t.now(),i=new t(e).getTime(),o=function(){return+(t.now()-n+i)};r.Date=new Proxy(r.Date,{construct:function(e,t){return 0===t.length?new e(o()):gh(e,Bu(t))},get:function(e,t){return"now"===t?function(){return new e(o()).getTime()}:Reflect.get(e,t)}})},_h=function(){function e(t,n,r){var i=this,o=r.onFinish,a=r.isRecordModel;Am(this,e),pu(this,"handlerMap",void 0),pu(this,"processList",void 0),pu(this,"totalDelay",void 0),pu(this,"tid",void 0),this.handlerMap=n,this.totalDelay=0,this.processList=t,function e(){i.tid=setTimeout((function(){i.run(),a||i.processList.length?e():o&&o()}),300)}()}return Rm(e,[{key:"stop",value:function(){clearTimeout(this.tid)}},{key:"addAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.processList.push(hu(hu({},e),{},{delay:t}))}},{key:"run",value:function(){var e=this;this.totalDelay+=300;var t=[];this.processList.forEach((function(n){if(n.delay>e.totalDelay)t.push(n);else{var r=(n.retryTimes||0)+1;Vm("fire action",n,"times:",r),e.handlerMap[n.eventType]&&e.handlerMap[n.eventType](n)&&(r<10?t.push(hu(hu({},n),{},{retryTimes:r})):(i="o_flight_coffeebean_mini_dev",o=n,(c=(a=bm().getCurrentPages())[a.length-1])&&c.ubtDevTrace?(c.ubtDevTrace(i,o),Vm("[ubtDevTrace]",i,o)):Vm("[ubtDevTrace error]","page",!c,"ubtTrace",!c.ubtDevTrace,i,o),Vm("error action",n)))}var i,o,a,c})),this.processList=t}}]),e}(),Nh=function(){function e(t){Am(this,e),pu(this,"socketTask",void 0),pu(this,"messageQueue",[]),pu(this,"config",void 0),this.config=hu({},t),this.init()}return Rm(e,[{key:"init",value:function(){var e=this,t=this.config,n=t.cwx,r=t.url,i=n.connectSocket({url:r,header:{sourceGroup:"fltest_minitset"},success:function(){Vm("WebSocket connection success")},fail:function(e){Zm("WebSocket connection fail",e)}});i.onOpen((function(){Vm("WebSocket connection opened"),e.socketTask=i,i.send({data:JSON.stringify({name:"coffeebean_client"})}),e.messageQueue.forEach((function(t){e.socketTask.send({data:JSON.stringify(t.message)})}))})),i.onClose((function(){Vm("WebSocket connection closed"),e.socketTask=null})),i.onError((function(e){bm().showModal({title:"WebSocket connection error",content:JSON.stringify({url:r,error:e})}),Zm("WebSocket connection error",e)})),i.onMessage((function(t){try{var n,r,o=JSON.parse(t.data);e.messageQueue=e.messageQueue.filter((function(e){return e.message.messageID===o.messageID&&e.resolve(o),e.message.messageID!==o.messageID})),null===(n=(r=e.config.onReceiveMessage)[o.cmd])||void 0===n||n.call(r,{message:o,sendFn:function(e){i.send({data:JSON.stringify(hu(hu({},o),{},{data:e,name:"coffeebean_client"}))})}}),Vm("WebSocket received message",o)}catch(e){Zm("WebSocket received message Error",e)}}))}},{key:"waitAllMessageSend",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return new Promise((function(n,r){var i=setTimeout((function(){r("waitAllMessageSend timeout")}),t),o=setInterval((function(){0===e.messageQueue.length&&(clearTimeout(i),clearInterval(o),n())}),100)}))}},{key:"send",value:function(e){var t=this;return new Promise((function(n,r){var i=setTimeout((function(){r("socket send timeout")}),1e4),o=hu(hu({},e),{},{messageID:"C_"+Date.now()});t.messageQueue.push({message:o,resolve:function(e){clearTimeout(i),n(e)}}),Vm("WebSocket send message",o),t.socketTask&&t.socketTask.send({data:JSON.stringify(o)})}))}},{key:"sendError",value:function(e){return this.send({cmd:ym.ERROR,data:{detail:km(e)}})}}]),e}(),bh=new Map,Th=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return new Promise((function(t,n){var r=setTimeout((function(){n("waitAllRequestMapDone timeout")}),e),i=setInterval((function(){0===bh.size&&(clearTimeout(r),clearInterval(i),t())}),100)}))},wh=function e(t,n,r){var i=n.url,o=n.data,a=r.times,c=void 0===a?0:a,s=r.guid,u=void 0===s?i+Date.now():s,l=new Promise((function(n,r){t({url:i,header:{"Content-Type":"application/json"},data:o,success:function(a){Vm(a),a.data.isSuccess?(bh.delete(u),Vm("saveRequest success",a.data),n(a.data)):c<3?n(e(t,{url:i,data:o},{times:c+1,guid:u})):(bh.delete(u),r(a.data))},fail:function(a){c<3?n(e(t,{url:i,data:o},{times:c+1,guid:u})):(bh.delete(u),r(a))}})}));return bh.has(u)||bh.set(u,l),l},Ch=function(e){var t=e.socketService,n=e.cwx,r=e.page,i=e.message,o=i.data.url||"/pages/flight/pages/home/index",a=i.data.saveUrl||"http://test.storage.fws.qa.nt.ctripcorp.com/api/saveEventData";new _h([],{},{onFinish:function(){},isRecordModel:!0}),Vm("navigateTo",o),qm.on(_m.ADD,function(){var e=th(Jm().mark((function e(r){return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(![gm.FN,gm.SCROLL_VIEW_SCROLL,gm.MINI_PAGE_SCROLL].includes(r.eventType)){e.next=5;break}return e.next=3,t.send({cmd:ym.STEP,data:{token:qm.instance.token,action:r}});case 3:e.next=7;break;case 5:Vm("saveRequest",qm.instance.token,r.eventType),wh(n.request,{url:a,data:{token:qm.instance.token,eventData:JSON.stringify([r])}},{}).then((function(e){Vm("saveRequest success",e)})).catch((function(e){t.sendError(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.navigateTo({url:o,success:function(){return Vm("navigateTo success")},fail:function(e){return Zm("navigateTo fail",e)}})},Ih=function(){var e=th(Jm().mark((function e(t){var n,r,i,o,a,c,s,u,l,d,f;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.socketService,r=t.cwx,i=t.page,o=t.message,Tm=!0,a=o.data,c=a.queryUrl,s=void 0===c?"http://test.storage.fws.qa.nt.ctripcorp.com/api/queryEventData":c,u=a.token,e.next=5,wh(r.request,{url:s,data:{token:u}},{}).catch((function(e){n.sendError(e)}));case 5:if(l=e.sent){e.next=8;break}return e.abrupt("return");case 8:["storageList","requestList"].forEach((function(e){l[e]=l[e].map((function(e){return e.eventExtend=JSON.parse(e.eventExtendString),e}))})),d=new nh(u,l),i.mockEnv(d),i.mockStorage(d),Vm("uiReplay",u,l,d),f=d.getJumpInfo(),Vm("info",f),i.navigateTo(hu(hu({},f),{},{complete:function(){n.send({cmd:ym.READY,data:{}})},fail:function(e){n.sendError(e)}}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Eh=function(){var e=th(Jm().mark((function e(t){return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("expectFn",t),e.abrupt("return",{result:!0,msg:""});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sh=function(e){Eh=e},jh=function(){var e=th(Jm().mark((function e(t){return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Eh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kh=function(){var e=th(Jm().mark((function e(t,n,r){var i,o,a,c,s;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu(i={},gm.FN,ch),pu(i,gm.SCROLL_VIEW_SCROLL,sh),pu(i,gm.MINI_PAGE_SCROLL,uh),a=i,c=new Nh({cwx:n,url:decodeURIComponent(t),onReceiveMessage:(o={},pu(o,ym.EXPECT,function(){var e=th(Jm().mark((function e(t){var n,r,i;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.message,r=t.sendFn,e.next=3,jh(n.data).catch((function(e){return Zm(e),{result:!1,detail:km(e)}}));case 3:i=e.sent,r(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),pu(o,ym.STOP_RECORD,function(){var e=th(Jm().mark((function e(t){var n,r,i;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sendFn,qm.instance.collectSwitch=!1,e.next=4,Th().catch((function(e){return e}));case 4:return r=e.sent,e.next=7,c.waitAllMessageSend().catch((function(e){return e}));case 7:i=e.sent,n({isFinish:!(r||i),requestErrMsg:r,socketErrMsg:i});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),pu(o,ym.REPLAY_STEP,function(){var e=th(Jm().mark((function e(t){var n,r,i;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.message,r=t.sendFn,e.next=3,new Promise((function(e,t){var r=setTimeout((function(){clearInterval(i),t("REPLAY_STEP timeout")}),15e3),i=setInterval((function(){a[n.data.eventType](n.data)||(clearInterval(i),clearTimeout(r),e({result:!0,msg:""}))}),100)})).catch((function(e){return Zm(e),{result:!1,detail:km(e)}}));case 3:i=e.sent,r(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),pu(o,ym.EXEC_STEP,(function(e){var t=e.message,n=e.sendFn;Vm(t),n({result:!0,msg:""})})),o)}),e.next=4,c.send({cmd:ym.REQUEST_RUN_TYPE,data:{}});case 4:s=e.sent,e.t0=s.data.runType,e.next=e.t0===xm.RECORD?8:e.t0===xm.REPLAY?10:13;break;case 8:return Ch({socketService:c,cwx:n,page:r,message:s}),e.abrupt("break",14);case 10:return e.next=12,Ih({socketService:c,cwx:n,page:r,message:s});case 12:case 13:return e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();!function(e){e[e.START_RECORD=1]="START_RECORD",e[e.STOP_RECORD=2]="STOP_RECORD"}(yh||(yh={}));var Ah,Ph=function(e,t,n){var r=function(){var e=th(Jm().mark((function e(n,r){var i;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){jm()?(Vm("changeUITaskStatus",e.url,e.data),setTimeout((function(){e.success({data:{success:!0}})}),1e3)):t.request(e)},e.abrupt("return",new Promise((function(e){i({url:decodeURIComponent(null==r?void 0:r.aUrl),header:{"Content-Type":"application/json"},data:{key:null==r?void 0:r.airTestToken,status:n},success:function(t){t.data.success?e(!0):(Zm(t.data),e(!1))},fail:function(t){Zm(t),e(!1)}})})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return n&&n({setExpectFn:Sh}),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ph(e,t)}(s,e);var n,i,o,a,c=(o=s,a=hh(),function(){var e,t=mh(o);if(a){var n=mh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fh(e)}(this,e)});function s(){var e;Am(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pu(fh(e=c.call.apply(c,[this].concat(n))),"coffeebeanActionRunner",void 0),e}return Rm(s,[{key:"mockEnv",value:function(e){var t=e.getInitItem();null!=t&&t.ts&&new xh(+t.ts)}},{key:"mockStorage",value:function(e){Vm("replayData",e),bm().setStorageSync("flight_scrollView_enhanced",1),e.res.storageList.forEach((function(e){var n,r=e.eventExtend.isCWX,i="string"==typeof e.eventExtend.params.value?e.eventExtend.params.value:null===(n=e.eventExtend.params.value)||void 0===n?void 0:n.data;r?t.setStorageSync(e.eventParam,i):bm().setStorageSync(e.eventParam,i)}))}},{key:"jump",value:(i=th(Jm().mark((function e(t){var n,i,o,a,c=this;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getJumpInfo(),o=null===(n=(0,Nm.getCurrentInstance)().router)||void 0===n?void 0:n.params,Vm("navigateTo",i),a=Boolean((null==o?void 0:o.airTestToken)&&(null==o?void 0:o.aUrl)),!i){e.next=14;break}if(!a){e.next=11;break}return e.next=8,r(yh.START_RECORD,o);case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:this.navigateTo(hu(hu({},i),{},{complete:function(e){var t;Vm("navigateTo complete",e);var n=nh.current.getActionList();Vm("actionList",n);var i=(pu(t={},gm.FN,ch),pu(t,gm.SCROLL_VIEW_SCROLL,sh),pu(t,gm.MINI_PAGE_SCROLL,uh),t);c.coffeebeanActionRunner=new _h(n,i,{isRecordModel:!1,onFinish:function(){a&&r(yh.STOP_RECORD,o)}})}})),e.next=15;break;case 14:console.error("\u672a\u83b7\u53d6\u5230\u8df3\u8f6curl\uff0c\u65e0\u6cd5\u56de\u6eaf \uff08\u53ef\u80fd\u6570\u636e\u4e0d\u5168\uff09",t);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"autoCheckPage",value:function(e){setInterval((function(){var n=bm().getCurrentPages(),r=n[n.length-1];null!=r&&r.route&&!e.res.pageList.includes(null==r?void 0:r.route)&&(Vm("autoCheckPage navigateBack"),t.navigateBack()),console.log("currentPage",r)}),5e3)}},{key:"onLoad",value:(n=th(Jm().mark((function e(){var n,r,i;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(n=(0,Nm.getCurrentInstance)().router)||void 0===n?void 0:n.params,Vm("before fetch"),null==r||!r.flyTestSocket){e.next=4;break}return e.abrupt("return",kh(r.flyTestSocket,t,this));case 4:if(null==r||!r.url||null==r||!r.token){e.next=8;break}return e.next=7,ih.fetch(decodeURIComponent(r.url),r.token,t.request).catch((function(e){Vm("err",e)}));case 7:i=e.sent;case 8:if(!i){e.next=16;break}return this.mockEnv(i),this.mockStorage(i),this.autoCheckPage(i),e.next=14,this.jump(i);case 14:e.next=17;break;case 16:console.error("token",null==r?void 0:r.token,"replayData\u83b7\u53d6\u5931\u8d25\u65e0\u6cd5\u56de\u6eaf");case 17:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return ku().createElement(vh.View,null,ku().createElement(vh.Text,null,"loading...."))}}]),s}(e)},Rh=function(e,t){var n=t.cwx;bm().getEnv()!==Nm.ENV_TYPE.WEB&&(Cm()?(ih.setConfig(e),Vm("isPlaybackModel")):Ah||(Ah=new $m(e,{cwx:n})))},Oh=function(e,t){return Cm()?function(e,t){return oh[e]=function(){t.apply(void 0,arguments)},function(){t.apply(void 0,arguments)}}(e,t):function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];try{var o,a,c={args:r.map((function(e){return e instanceof lh.TaroEvent?(a=e,{__type__:"TaroEvent",detail:e.detail,type:e.type}):e}))};if(1===c.args.length&&"scroll"===(null===(o=a)||void 0===o?void 0:o.type)){var s={scrollTop:a.detail.scrollTop,scrollLeft:a.detail.scrollLeft,route:(u=bm().getCurrentPages(),u.length?u[u.length-1].route:"")};qm.instance.addScroll(e,s)}else dh&&(Vm(e),qm.instance.addFn(e,c),dh=!1)}catch(e){console.error(e)}var u;try{t&&t.apply(void 0,r)}catch(e){throw dh=!0,e}dh=!0}}(e,t)},Dh=function(e){return Cm()?function(e){var t=e||{},n=t.url,r=t.success,i=t.fail,o=nh.current.getRequestItem(n);return o?(o.played=!0,Vm("inject",n),setTimeout((function(){"fail"===o.eventExtend.type?i(o.eventExtend.response):r(o.eventExtend.response)}),100),{url:"/",data:{ori:n}}):(Vm("pass",n),e)}(e):function(e){var t=e||{},n=t.url,r=t.success,i=t.fail;if(/\/20589\/SaveTraceInfo/.test(n))return e;var o=Date.now();return e.success=function(e){var t,i,a,c=Qm.getRootID?Qm.getRootID(n,e):Qm.useRootMessageId&&(null==e||null===(t=e.data)||void 0===t||null===(i=t.ResponseStatus)||void 0===i||null===(a=i.Extension)||void 0===a?void 0:a.filter((function(e){return"RootMessageId"===(null==e?void 0:e.Id)}))[0].Value)||0;qm.instance.addRequest(n,{startTime:o,url:n,responseTime:Date.now(),response:c?"":e,rootID:c}),r&&r(e)},e.fail=function(e){qm.instance.addRequest(n,{startTime:o,url:n,type:"fail",responseTime:Date.now(),response:e,rootID:""}),i&&i(e)},e}(e)},Lh=function(){return Ah?Ah.getToken():""},Vh=function(){return bm().getEnv()===Nm.ENV_TYPE.WEB||Cm()?void 0:(Ah.trackPage(),function(){var e=bm().getCurrentPages();if(e.length){var t=e[e.length-1];qm.instance.addPage(t.$taroPath,t.$taroParams),t.$cb$onPageScroll||(t.$cb$onPageScroll=t.onPageScroll||function(){},t.onPageScroll=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];try{var i;Vm("onPageScroll",n),n[0]&&null!==(i=n[0])&&void 0!==i&&i.scrollTop&&qm.instance.addScroll(t.route,{scrollTop:n[0].scrollTop},gm.MINI_PAGE_SCROLL)}catch(e){console.error(e)}t.$cb$onPageScroll.apply(t,n)})}}())},Zh=function(e){return Cm()?function(e){null==e||e.callback({ReturnCode:"0"})}:e},Mh=function(e){return Cm()?function(){}:e},Fh=function(e){var t=e.height,n=e.availableFullHeight,r=void 0===n?0:n,i=e.className,o=void 0===i?"":i,a=e.show,c=void 0!==a&&a,s=e.animation,u=void 0===s||s,l=e.mask,d=void 0===l||l,f=e.zIndex,p=void 0===f?10:f,m=e.noRound,h=void 0!==m&&m,v=e.fullHeight,g=void 0!==v&&v,y=e.backgroundColor,x=void 0===y?"":y,_=e.iconClosable,N=void 0===_||_,b=e.slotTitle,T=void 0!==b&&b,w=e.limitHeight,C=void 0===w||w,I=e.useScrollViewContent,E=void 0===I||I,S=e.render,j=e.confirmText,k=void 0===j?"":j,A=e.preRender,P=void 0===A||A,R=e.renderTitle,O=void 0===R?"":R,D=e.position,L=void 0===D?"bottom":D,V=e.cancelBtnText,Z=void 0===V?"\u53d6\u6d88":V,M=e.confirmBtnText,F=void 0===M?"\u786e\u5b9a":M,B=e.onClose,U=void 0===B?function(){}:B,q=e.onConfirm,H=void 0===q?function(){}:q,G=e.onCancel,Y=void 0===G?function(){}:G,K=e.children,W=Fu((0,ju.useState)(!1),2),z=W[0],Q=W[1];(0,ju.useEffect)((function(){setTimeout((function(){P&&Q(!0)}),500)}),[P]);var $=S||c||z,X=g?{height:"".concat(r,"px"),maxHeight:"100%",borderTop:"1px solid #eee"}:{},J=p?{zIndex:p}:{},ee=x?{backgroundColor:x}:{};return $&&ku().createElement(vh.View,{className:Dp()("popup",o,{"popup-show":c,animation:u}),onTouchMove:function(e){return e.stopPropagation&&e.stopPropagation()},catchtouchmove:function(){}},d&&ku().createElement(vh.View,{className:"popup-mask",style:J,onClick:Oh("onClose--5fc6d",U)}),ku().createElement(vh.View,{className:Dp()("popup-container","popup-".concat(L),{"no-round":h}),style:hu(hu(hu({},J),X),ee)},(O||T)&&ku().createElement(vh.View,{className:Dp()("popup-header",{"btn-header":!N}),style:g?{borderRadius:0}:{}},N?ku().createElement(ku().Fragment,null,ku().createElement(vh.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"}},ku().createElement(vh.View,{className:"icon-content",onClick:Oh("onClose--2b2af",U)},ku().createElement(vh.Text,{className:"iconfont-h5 icon-close"})),ku().createElement(vh.View,{className:"title-content"},O),k?ku().createElement(vh.View,{className:"new-btn-confirm",onClick:Oh("onConfirm--3a222",H)},k):null)):ku().createElement(ku().Fragment,null,ku().createElement(vh.View,{className:"btn-cancel",onClick:Oh("onCancel--d192d",Y)},Z),ku().createElement(vh.View,{className:"title-content"},O),ku().createElement(vh.View,{className:"btn-confirm",onClick:Oh("onConfirm--43c4e",H)},F))),E&&ku().createElement(vh.ScrollView,{scrollY:!0,className:"popup-content",style:C?g?{height:"100%"}:{maxHeight:t+"px"}:{height:t+"px"},id:"id_a6429",onScroll:Oh("id_a6429")},K),!E&&ku().createElement(vh.View,{className:"popup-content",style:C?g?{height:"100%"}:{}:{height:t+"px"}},K)))||null},Bh=function(e){var t=e.checked,n=e.disabled,r=e.classNames,i=e.text,o=e.onChange,a=Fu((0,ju.useState)(t),2),c=a[0],s=a[1],u=(0,ju.useCallback)((function(){n||(s(!c),o(!c),(0,Nm.vibrateShort)())}),[s,o,n,c]),l=Fu(i,2),d=l[0],f=l[1];return ku().createElement(vh.View,{className:Dp()("switch-pinyin",r),onClick:Oh("onSwitch--a75d8",u)},ku().createElement(vh.View,{key:"checked",className:Dp()("switch-pinyin-item",{checked:t})},d),ku().createElement(vh.View,{key:"unchecked",className:Dp()("switch-pinyin-item",{checked:!t})},f))},Uh=function(e){var t=g(e);return null!=e&&("object"===t||"function"===t)};function qh(e){var t,n,i,o,a,c,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,l=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(r){var i=t,a=n;return t=n=void 0,l=r,o=e.apply(a,i)}function h(e,t){return setTimeout(e,t)}function v(e){var t=e-c;return void 0===c||t>=s||t<0||f&&e-l>=i}function g(){var e=r.Date.now();if(v(e))return y(e);a=h(g,function(e){var t=e-l,n=s-(e-c);return f?Math.min(n,i-t):n}(e))}function y(e){return a=void 0,p&&t?m(e):(t=n=void 0,o)}function x(){for(var e=r.Date.now(),i=v(e),u=arguments.length,p=new Array(u),y=0;y<u;y++)p[y]=arguments[y];if(t=p,n=this,c=e,i){if(void 0===a)return function(e){return l=e,a=h(g,s),d?m(e):o}(c);if(f)return a=h(g,s),m(c)}return void 0===a&&(a=h(g,s)),o}return s=+s||0,Uh(u)&&(d=!!u.leading,i=(f="maxWait"in u)?Math.max(+u.maxWait||0,s):i,p="trailing"in u?!!u.trailing:p),x.cancel=function(){void 0!==a&&clearTimeout(a),l=0,t=c=n=a=void 0},x.flush=function(){return void 0===a?o:y(r.Date.now())},x.pending=function(){return void 0!==a},x}function Hh(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Uh(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qh(e,t,{leading:r,trailing:i,maxWait:t})}var Gh={title:"",time:2e3},Yh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?hu(hu({},Gh),{},{title:e}):hu(hu({},Gh),e),n=t.time,r=t.icon||"none";(0,Nm.showToast)({title:t.title||"",duration:n,icon:r,complete:function(){t.onHide&&setTimeout((function(){t.onHide&&t.onHide()}),n-200)}})};function Kh(e){return e.replace(/(<table)|(<tr)|(<td)/g,"$& class='addborder'").replace(/<li/g,"$& class='item'").replace(/(<ul)|(<ol)/g,"$& class='list'")}var Wh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=r.match(e),o=[];if(i&&i.length>0){var a=0;i.forEach((function(e){var i=r.indexOf(e);if(!(i<=-1||a>i)){var c=r.slice(a,i);a=i+e.length,o.push({text:c,active:!1},{text:e.slice(t,n),active:!0})}}));var c=r.slice(a);o.push({text:c,active:!1})}else o.push({text:r,active:!1});return o}},zh=Wh(/\[(.*?)\]/gm,1,-1),Qh=Wh(/<HLink>(.*?)<\/HLink>/gm,7,-8),$h=Wh(/<img>(.*?)<\/img>/gm,5,-6),Xh=function(){return bm().getEnv()===bm().ENV_TYPE.WEB};function Jh(e){var t=e.listComponent,n=e.indexMenuStyle,r=e.list,i=e.className,a=e.jumpTargetIndexKey,c=e.jumpTargetIndex,s=e.isVibrate,u=void 0!==s&&s,l=e.onScroll,d=Fu((0,ju.useState)(!1),2),f=d[0],p=d[1],m=Fu((0,ju.useState)(""),2),h=m[0],v=m[1],g=Fu((0,ju.useState)(0),2),y=g[0],x=g[1],_=Fu((0,ju.useState)(""),2),N=_[0],b=_[1],T=Fu((0,ju.useState)(-1),2),w=T[0],C=T[1],I=Fu((0,ju.useState)(0),2),E=I[0],S=I[1],j=Fu((0,ju.useState)(0),2),k=j[0],A=j[1],P=(0,ju.useMemo)((function(){var e=pn((function(e){return!!e.indexTitle}),r);return e.map((function(e){return{indexTitle:e.indexTitle||"",indexKey:e.indexKey||""}}))}),[r]);(0,ju.useEffect)((function(){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return new Promise((function(n){var r=(0,Nm.createSelectorQuery)();(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;return new Promise((function(t){setTimeout((function(){t()}),e)}))})(t).then((function(){r.select(e).boundingClientRect().exec((function(e){n(e)}))}))}))})(".m-indexes__menu").then((function(e){if(e&&e[0]){var t=e[0].height;S(e[0].top),A(Math.floor(t/(P.length+1)))}}))}),[P]);var R=(0,ju.useMemo)((function(){return"js-list"}),[]),O=(0,ju.useCallback)((function(e,t){var n="m-indexes__list-".concat(e),i=Zr((function(t){return t.indexKey===e}),r),a=null==i?void 0:i.indexTitle;if(Xh()){var c=o.getElementById(R);if(c){var s=c.children[t].offsetTop;x(s)}v(n),a&&b(a)}else v(n),a&&b(a),u&&bm().vibrateShort();p(!0)}),[u,r,R]),D=(0,ju.useCallback)((function(e){e.stopPropagation(),e.preventDefault();var t=e.touches[0].pageY,n=Math.floor((t-E)/k);if(n>=0&&n<r.length&&w!==n){C(n);var i=r[n].indexKey;i&&O(i,n)}}),[E,k,r,w,O]),L=function(){p(!1),C(-1)};(0,ju.useEffect)((function(){a&&!tt(c)&&(O(a,c),L())}),[O,a,c]);var V=(0,ju.useCallback)((function(e){e&&e.detail&&x(e.detail.scrollTop),l&&l(e)}),[l]),Z=(0,ju.useMemo)((function(){var e=Ur(ic("indexTitle",N),r);return r.map((function(n,i){return ku().createElement(vh.View,{id:"m-indexes__list-".concat(n.indexKey||i),style:i===r.length-1?{paddingBottom:"300rpx"}:{},key:"segments-".concat(i)},t({item:n,index:i,isShow:!f||i>=e-2&&i<=e+5}))}))}),[r,t,f,N]);return ku().createElement(vh.View,{className:"m-indexes"},ku().createElement(vh.ScrollView,{scrollY:!0,enableBackToTop:!0,id:R,scrollTop:Xh()?y:void 0,scrollIntoView:Xh()?void 0:h,onScroll:Oh(R,V),className:Dp()("m-indexes__scroll-view",i)},Z),ku().createElement(vh.View,{className:"m-indexes__menu",style:n,catchMove:!0,onTouchMove:D,onTouchEnd:L},P.map((function(e,t){var n=e.indexTitle,r=e.indexKey,i=(null==n?void 0:n.length)>1;return ku().createElement(vh.View,{className:Dp()("m-indexes__menu-item",{first:i,active:f&&!i&&n===N}),key:r,id:"".concat(r),onClick:Oh("".concat(r)+r,(function(){O(r,t),setTimeout((function(){L()}),500)}))},f&&n===N&&ku().createElement(vh.View,{className:Dp()("m-indexes__menu-symbol",{first:i})},n),ku().createElement(vh.Text,{className:"m-indexes__menu-txt"},n))}))))}var ev=function(e){var t,n=e.bottom,r=void 0===n?150:n,i=e.onClick,o=void 0===i?function(e){}:i;return ku().createElement(vh.View,{className:"back-top-icon",onClick:Oh("onClick--6af7f",o),style:{bottom:(t=r,(0,Nm.pxTransform)(t,750))}},ku().createElement(vh.Image,{className:"back-top-icon-svc",src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-backtop/icon-backtop.svg"}))};function tv(e,t){if(null==e)return{};var n,r,i=qu(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var nv=["scrollIntoView","children"];var rv=function(e){var t=e.scrollIntoView,n=e.children,r=tv(e,nv);(0,ju.useRef)();return bm().getEnv()===bm().ENV_TYPE.WEB?ku().createElement(vh.View,hu(hu({},r),{},{scrollIntoView:t}),n):ku().createElement(vh.ScrollView,Uu({},hu(hu({},r),{},{scrollIntoView:t}),{id:"id_c8be3",onScroll:Oh("id_c8be3")}),n)},iv=["className","label","iconNodes","leftNodes"],ov=ku().forwardRef((function(e,t){var n=e.className,r=void 0===n?"":n,i=e.label,o=void 0===i?"":i,a=e.iconNodes,c=void 0===a?null:a,s=e.leftNodes,u=void 0===s?null:s,l=tv(e,iv);return ku().createElement(vh.View,{className:"input-container ".concat(r)},o&&ku().createElement(vh.Text,{className:"mini-input"},o),u,ku().createElement(vh.View,{className:"inner-input-box"},ku().createElement(vh.CustomWrapper,null,ku().createElement(vh.Input,Uu({className:"inner-input",ref:t},l)))),c)}));ov.displayName="MiniInput";var av=s(509),cv=s.n(av),sv=["nodes"];function uv(e){var t=e.nodes,n=tv(e,sv),r=Fu((0,ju.useState)(t),2),i=r[0],o=r[1];return(0,ju.useEffect)((function(){o(t)}),[t]),ku().createElement(vh.RichText,Uu({},n,{nodes:i}))}var lv=(0,ju.createContext)({TARO_ENV:"h5",miniProgram:!1,sourceCode:"Unknown",pageName:"Unknown",screenWidth:0,safeArea:{top:0,bottom:0,left:0,right:0},request:function(){throw new Error("Function not implemented.")},sendSpeed:function(){throw new Error("Function not implemented.")},showModal:function(){throw new Error("Function not implemented.")},closeModal:function(){throw new Error("Function not implemented.")},sendShowTrace:function(){throw new Error("Function not implemented.")},jumpToH5:function(){throw new Error("Function not implemented.")}});lv.displayName="InsuranceContext",lv.Consumer;var dv,fv=lv.Provider,pv=function(){return(0,ju.useContext)(lv)},mv=function(e){var t=pv();return _e(e,t)},hv=fv,vv=function(e){var t=e.guaranteeTips,n=void 0===t?[]:t;return n.length>0?ku().createElement(vh.View,{className:"insurance-serve"},n.map((function(e,t){var n,r=e.content;return null===(n=$h(r))||void 0===n?void 0:n.map((function(e,n){var r;return e.active?ku().createElement(vh.Image,{className:"icon-image",src:e.text,key:"icon-".concat(t)}):ku().createElement(vh.View,{className:"insurance-clause",key:"clause-".concat(t,"-").concat(n)},null===(r=zh(e.text))||void 0===r?void 0:r.map((function(e,n){return e.text&&ku().createElement(vh.Text,{className:Dp()("clause-text",{"high-light":e.active}),key:"keepDesc-".concat(t,"-").concat(n)},e.text)})))}))}))):null},gv=function(){var e=mv("sendSpeed"),t=mv("jumpToH5");return(0,ju.useCallback)((function(n,r){e("openInsPop_".concat(n)),t(r,{target:"_blank"})}),[])},yv=function(e){return Mt(Dn([]),oi((function(e){return e.majorName||"\u4fdd\u969c\u5185\u5bb9"})),us)(e)},xv=function(e){var t;return(null==e||null===(t=e.find((function(e){return"CNY"===e.currency})))||void 0===t?void 0:t.price)||0},_v=function(e){return(0,ju.useMemo)((function(){var t;return null==e||null===(t=e.find((function(e){return"versionName"===e.type})))||void 0===t?void 0:t.content}),[e])},Nv=function(e,t){return(0,ju.useMemo)((function(){return!!t[e]}),[e,t])},bv=function(e){var t=e.insuranceGroup,n=e.insuranceItem,r=e.index,i=e.clickInsurance,o=e.hasSelectInsFlag,a=e.selected,c=void 0===a?{}:a,s=t.insType,u=n.title,l=n.token,d=n.icon,f=n.guaranteeTips,p=n.bubble,m=n.priceDetails,h=n.minUnit,v=(0,ju.useMemo)((function(){return!!c[s]}),[s,c]),g=(0,ju.useMemo)((function(){return Ba([s,"token"],l,c)}),[s,c,l]),y=(0,ju.useMemo)((function(){var e=c[s];return(null==e?void 0:e.token)===l?e.count:0}),[l,s,c]),x=(0,ju.useMemo)((function(){var e=xv(m)*h;return function(e){var t=e.salePrice,n=e.xCount;return e.isSelect&&n?" \xa5".concat(t,"X").concat(n):" \xa5".concat(t,"/\u4eba")}({xCount:y,salePrice:e,isSelect:g})}),[g,h,m,y]),_=(0,ju.useMemo)((function(){var e=p.title,t=void 0===e?"":e,n=p.backgroundColor,i=void 0===n?"":n,o=p.fontColor,a=void 0===o?"":o;return 0!==r||v?g?{title:Dc("|",t)[1],backgroundColor:Dc("|",i)[1],fontColor:Dc("|",a)[1]}:void 0:{title:Dc("|",t)[0],backgroundColor:Dc("|",i)[0],fontColor:Dc("|",a)[0]}}),[p,r,v,g]),N=!o&&!v&&0===r;return ku().createElement(vh.View,{className:"autoExpose sub-item-div",key:"subItem".concat(null==n?void 0:n.token),"data-expose":{ubtKeyName:"_flight_tinyapp_show",speed:"insurance_show",data:{typeid:null==n?void 0:n.typeId,isnewstyle:!0,category:s,index:r}}},ku().createElement(vh.View,{className:Dp()("new-sub-item",{"sub-item-selected":g}),ubtKey:u+"new-sub-item",onClick:Oh(u+"new-sub-item",(function(){i(l)}))},ku().createElement(vh.View,{className:"sub-item-container"},ku().createElement(vh.View,{className:"sub-top"},d?ku().createElement(vh.Image,{src:d,className:Dp()("subIcon ",{bigSubIcon:d.indexOf("sj_zz")>-1})}):null,ku().createElement(vh.View,{className:"subTitle"},u),ku().createElement(vh.View,{className:"subPrice"},ku().createElement(vh.Text,null,x))),ku().createElement(vv,{guaranteeTips:f}),ku().createElement(vh.View,{className:"new-select-circle"},ku().createElement(vh.Image,{className:"ins-select-icon",src:"https://pages.c-ctrip.com/flight_h5/tinyapp/insurance/"+"".concat(g?"selected.png":"unselect.png")})))),null!=_&&_.title?ku().createElement(vh.View,{className:Dp()("bubble-tip ",{"bubble-tip-hidden":!g&&0!==r,"shrink-animation":g,"move-animation":N}),style:{color:"".concat(_.fontColor),backgroundColor:"".concat(_.backgroundColor)}},ku().createElement(vh.View,{className:"bubble-triangle",style:{borderBottom:"8px solid ".concat(_.backgroundColor)}}),_.title):ku().createElement(vh.View,{className:Dp()("bubble-tip")}))},Tv=function(e){var t=e.insuranceGroup,n=e.clickInsurance,r=e.hasSelectInsFlag,i=e.selected,o=void 0===i?{}:i,a=t.extensions,c=t.insType,s=(0,ju.useMemo)((function(){return!!o[c]}),[c,o]),u=(0,ju.useMemo)((function(){var e;return null===(e=a.find((function(e){return"noGuaranteeTitle"===e.type})))||void 0===e?void 0:e.content}),[a]),l=(0,ju.useMemo)((function(){var e;return null===(e=a.find((function(e){return"noGuaranteeIcon"===e.type})))||void 0===e?void 0:e.content}),[a]),d=(0,ju.useMemo)((function(){var e,t=null===(e=a.find((function(e){return"noGuaranteeTip"===e.type})))||void 0===e?void 0:e.content;return Mt(Dc("|"),ve((function(e){return{title:e,content:e}})))(t||"")}),[a]),f=(0,ju.useMemo)((function(){var e;return null===(e=a.find((function(e){return"noGuaranteeBubbleTitle"===e.type})))||void 0===e?void 0:e.content}),[a]),p=Fu(Dc("|","#FF7700|#FFFFFF"),2),m=p[0],h=p[1];return ku().createElement(vh.View,{key:"without_subItem",className:"sub-item-div"},ku().createElement(vh.View,{className:Dp()("without-item",{"sub-item-selected":!s}),ubtKey:u+"without-item",onClick:Oh(u+"without-item",(function(){return n(void 0)})),"data-testid":"on-click-insurance"},ku().createElement(vh.View,{className:"sub-item-container"},ku().createElement(vh.View,{className:"sub-top"},l?ku().createElement(vh.Image,{src:l,className:"subIcon"}):null,ku().createElement(vh.View,{className:"subTitle"},u)),ku().createElement(vv,{guaranteeTips:d}),ku().createElement(vh.View,{className:"new-select-circle"},ku().createElement(vh.Image,{className:"ins-select-icon",src:"https://pages.c-ctrip.com/flight_h5/tinyapp/insurance/"+"".concat(s?"unselect.png":"selected.png")})))),r&&!s?ku().createElement(vh.View,{className:Dp()("bubble-tip ",{"bubble-tip-hidden":r&&s,"shrink-animation":!s}),style:{color:"".concat(m),backgroundColor:"".concat(h)}},ku().createElement(vh.View,{className:"bubble-triangle",style:{borderBottom:"8px solid ".concat(h)}}),f):ku().createElement(vh.View,{className:Dp()("bubble-tip")}))},wv="\u6295\u4fdd\u987b\u77e5",Cv="\u4fdd\u969c\u5185\u5bb9",Iv="\u4fdd\u9669\u6761\u6b3e",Ev="\u514d\u8d23\u8bf4\u660e",Sv="\u88ab\u4fdd\u9669\u4eba\u540c\u610f\u58f0\u660e",jv="\u4e2a\u4eba\u4fe1\u606f\u4fdd\u62a4\u653f\u7b56",kv="\u5ba2\u6237\u544a\u77e5\u4e66",Av=(pu(dv={},wv,"InsuranceNotice"),pu(dv,Iv,"InsuranceNotice"),pu(dv,Ev,"Disclaimer"),pu(dv,Sv,"InsurantAgreeNote"),dv),Pv=function(e){var t=e.guaranteeRules,n=(0,ju.useMemo)((function(){return yv(t)}),[t]);return n.length<=0?null:ku().createElement(vh.View,null,ku().createElement(vh.View,{className:"ins-main-title"},ku().createElement(vh.View,{className:"blue-dot"}),ku().createElement(vh.View,{className:"ins-blue-title"},Cv)),ku().createElement(vh.View,{className:"table-box"},null==n?void 0:n.map((function(e){var t=Fu(e,2),n=t[0],r=t[1],i=r.length;return ku().createElement(vh.View,{key:"guarantee-".concat(n),className:"table-con"},ku().createElement(vh.View,{className:"line-title"},ku().createElement(vh.View,{className:"left-side"},n),ku().createElement(vh.View,{className:"right-side"},"\u6700\u9ad8\u4fdd\u989d")),r.map((function(e,t){return ku().createElement(vh.View,{key:"rule".concat(t),className:Dp()("line-box",{"bottom-border":t!==i-1})},ku().createElement(vh.View,{className:"left-side"},e.title),ku().createElement(vh.View,{className:"right-side"},e.content))})))}))))},Rv=(0,ju.memo)(Pv),Ov=function(e){var t=e.guaranteeRules,n=e.guaranteeDescription,r=(0,ju.useMemo)((function(){return Kh(n)}),[n]);return ku().createElement(vh.ScrollView,{className:"insurance-notice-pop",scrollY:!0,id:"id_f493c",onScroll:Oh("id_f493c")},ku().createElement(Rv,{guaranteeRules:t}),ku().createElement(vh.View,{className:"ins-main-title"},ku().createElement(vh.View,{className:"blue-dot"}),ku().createElement(vh.View,{className:"ins-blue-title"},"\u4fdd\u969c\u8be6\u60c5")),ku().createElement(vh.View,{className:"add-pad-txt"},ku().createElement(uv,{className:"ins-desc",nodes:r})),ku().createElement(vh.View,{className:"bottom-holder"}))},Dv=function(e){var t=e.insuranceGroup,n=e.onSelectInsFromPop,r=e.selected,i=void 0===r?{}:r,o=t.insName,a=void 0===o?"\u7ec4\u6807\u9898\uff08\u7f3a\u5931\uff09":o,c=t.extensions,s=t.displayType,u=t.insType,l=t.insurances,d=(0,ju.useMemo)((function(){var e;return null==c||null===(e=c.find((function(e){return"versionName"===e.type})))||void 0===e?void 0:e.content}),[c]),f=Nv(u,i),p=(0,ju.useMemo)((function(){return f?l.find((function(e){return Ba([u,"token"],e.token,i)})):Ut(l)}),[f,l,u,i]),m=Fu((0,ju.useState)(p.token),2),h=m[0],v=m[1],g=(0,ju.useMemo)((function(){return l.find((function(e){return e.token===h}))}),[h,l]),y=g||{},x=y.guaranteeRules,_=y.guaranteeDescription;return ku().createElement(vh.View,{className:"insurance-des-pop"},ku().createElement(vh.View,{className:"insurance-des-title"},ku().createElement(vh.Text,{className:"desc-main-title"},a),d&&ku().createElement(vh.Text,{className:"desc-sub-title"},d)),"ZHX"===u&&ku().createElement(vh.View,{className:"day-box extra-padding"},ku().createElement(vh.ScrollView,{scrollX:!0,className:"scroll-x-day",scrollWithAnimation:!0,id:"id_edbe7",onScroll:Oh("id_edbe7")},ku().createElement(vh.View,{className:"sub-item-box"},l.map((function(e,t){var n=e.title,r=e.token,i=e.priceDetails,o=e.minUnit,a=xv(i)*o;return ku().createElement(vh.View,{key:"insurance".concat(t),className:Dp()("insurance-item",{"bottom-border":h===r})},ku().createElement(vh.View,{className:Dp()("insurance-btn",{"selected-subItem":h===r}),onClick:Oh("id_edbe7--"+"insurance".concat(t)+"--a71c4",(function(){v(e.token)}))},n,a&&ku().createElement(vh.Text,{className:"_dfn"},"\xa5"),a))}))))),x&&_&&ku().createElement(Ov,{guaranteeRules:x,guaranteeDescription:_}),f&&("ZHX"===u&&p===g||"SGX"===u)&&ku().createElement(vh.View,{className:"with-ins-bottom-area"},ku().createElement(vh.Image,{src:"https://pages.c-ctrip.com/flight_h5/swift/insurance/ic-pay-guaranteed.png",className:"ins-slt-icon"}),"\u884c\u7a0b\u5df2\u83b7\u4fdd\u969c\uff01"),!f&&ku().createElement(vh.View,{className:"bottom-area"},s.startsWith("SECONDARY")&&"SGX"===u&&ku().createElement(vh.View,{className:"day-box"},ku().createElement(vh.View,{className:"day-txt"},"\u4fdd\u969c\u5929\u6570"),ku().createElement(vh.ScrollView,{scrollX:!0,className:"scroll-x-day",scrollWithAnimation:!0,id:"id_b274c",onScroll:Oh("id_b274c")},ku().createElement(vh.View,{className:"sub-item-box"},l.map((function(e,t){var n=e.title,r=e.token;return ku().createElement(vh.View,{key:"day".concat(t),className:Dp()("day-btn",{"selected-sub":h===r}),onClick:Oh("id_b274c--"+"day".concat(t)+"--a269c",(function(){v(e.token)}))},n)}))))),g&&ku().createElement(vh.View,{className:"choose-ins-btn",onClick:Oh("onClick--3f407",(function(){n(u,h)}))},"\u6dfb\u52a0\u4fdd\u969c")))},Lv=function(e,t,n){var r=pv(),i=mv("sendSpeed"),o=mv("showModal"),a=mv("closeModal");return(0,ju.useCallback)((function(){i("clickNotice"+e.insType);var c=o({close:{position:"top-left"},mask:{enableClose:!0},closeMethod:"close",content:ku().createElement(fv,{value:r},ku().createElement(Dv,{insuranceGroup:e,selected:n,chooseSubItem:t,onSelectInsFromPop:function(e,n){t(e,n),a(c)}})),animationClassName:"animate__animated animate__slideInUp animate__faster",style:{width:"100%",position:"absolute",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})}),[t,a,e,r,n,i,o])},Vv=function(e){var t,n=e.insuranceGroup,r=e.chooseSubItem,i=e.passengerTotalCount,o=e.selected,a=n.insName,c=void 0===a?"\u7ec4\u6807\u9898\uff08\u7f3a\u5931\uff09":a,s=n.insType,u=n.insurances,l=n.extensions,d=_v(l),f=Lv(n,r,o),p=Fu((0,ju.useState)(!1),2),m=p[0],h=p[1],v=Fu((0,ju.useState)(0),2),g=v[0],y=v[1],x=(t=pv(),cc(0,"screenWidth",t));(0,ju.useEffect)((function(){var e=u.findIndex((function(e){return Ba([s,"token"],e.token,o)}));u&&u.length>2&&y(e&&e>=0?224*e*x/750:0)}),[x,u,o,c,s]);var _=function(e){e&&h(!0),r(s,e)};return ku().createElement(ku().Fragment,null,ku().createElement(vh.View,{className:"insurance-box"},ku().createElement(vh.View,{className:"d-flex xpro-item"},ku().createElement(vh.View,{className:"xpro-name",ubtKey:c,onClick:Oh(c,(function(){return f()}))},c,d&&ku().createElement(vh.Text,{className:"insurance-version"},d),ku().createElement(vh.Text,{className:"insurance-info"},wv))),!(null==u||!u.length)&&ku().createElement(vh.ScrollView,{scrollX:!0,className:"sub-item-scroll-new",scrollLeft:g,scrollWithAnimation:!0,id:"id_89da3",onScroll:Oh("id_89da3")},ku().createElement(vh.View,{className:"sub-item-box-new"},ku().createElement(Tv,{insuranceGroup:n,clickInsurance:_,hasSelectInsFlag:m,selected:o}),u.map((function(e,t){return ku().createElement(bv,{selected:o,insuranceGroup:n,insuranceItem:e,index:t,clickInsurance:_,hasSelectInsFlag:m,passengerTotalCount:i,key:"sub-item-".concat(t)})})))),ku().createElement(vh.View,{className:"insurance-mask add-height"})))},Zv=function(e){var t=e.insuranceGroup,n=e.chooseSubItem,r=e.selected,i=void 0===r?{}:r,o=t.insName,a=t.insType,c=t.insurances,s=_v(t.extensions),u=Nv(a,i),l=(0,ju.useMemo)((function(){if(u){var e=c.find((function(e){return Ba([a,"token"],e.token,i)}));if(e)return e}return Ut(c)}),[u,c,a,i]),d=(0,ju.useMemo)((function(){var e;return null===(e=i[a])||void 0===e?void 0:e.limitTitle}),[i,a]),f=Fu((0,ju.useState)(""),2),p=f[0],m=f[1];(0,ju.useEffect)((function(){m(l.token||Ut(c).token)}),[l,c]);var h=(0,ju.useMemo)((function(){var e=i[a];return(null==e?void 0:e.token)===p?e.count:0}),[p,a,i]),v=(0,ju.useMemo)((function(){return c.find((function(e){return e.token===p}))}),[p,c]),g=v||{},y=g.title,x=g.priceDetails,_=g.minUnit,N=void 0===_?1:_,b=g.tags,T=g.extensions,w=xv(x)*N,C=(0,ju.useMemo)((function(){var e,t;return zh(u?null==T||null===(e=T.find((function(e){return"recommendNoteSelected"===e.type})))||void 0===e?void 0:e.content:null==T||null===(t=T.find((function(e){return"recommendNoteUnselect"===e.type})))||void 0===t?void 0:t.content)}),[T,u]),I=c.length>0,E=Fu((0,ju.useState)(!1),2),S=E[0],j=E[1],k=Lv(t,n,i),A=(0,ju.useCallback)((function(){u&&j(!1),n(a,i[a]||null==v?void 0:v.token)}),[n,null==v?void 0:v.token,a,u,i]),P=(0,ju.useCallback)((function(e){m(e.token),j(!(u&&e.token===i[a])),n(a,e.token)}),[n,a,u,i]);return ku().createElement(vh.View,{className:"insurance-box"},ku().createElement(vh.View,{className:"d-flex xpro-item"},ku().createElement(vh.View,{className:"xpro-name"},o,s&&ku().createElement(vh.Text,{className:"insurance-version"},s)),ku().createElement(vh.View,{className:"xpro-price"},ku().createElement(vh.View,{className:"travel-ins-arrow",onClick:Oh("onClick--930c4",(function(){return j(!S)}))},ku().createElement(vh.Text,null,y,"".concat(w?" \xa5".concat(w):""),u&&h&&w?"X".concat(h):"/\u4eba"),I?ku().createElement(vh.View,null,ku().createElement(vh.Text,{className:Dp()("ml-2","iconfont-h5","color-blue ",{"icon-arrow-up":S,"icon-arrow-down":!S})})):null),ku().createElement(vh.View,{className:"select-circle",onClick:Oh("onClick--eef69",(function(){return A()}))},ku().createElement(vh.Image,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/components/".concat(u?"select":"unselect",".png"),className:"button-checked"})))),ku().createElement(vh.View,{className:"wrap-note",onClick:Oh("onClick--50bdb",(function(){return k()}))},ku().createElement(vh.Text,{className:"sub-insurance-info"},wv)),ku().createElement(vh.View,null,u&&d&&ku().createElement(vh.View,{className:"ins-container insurance-tip"},ku().createElement(vh.View,{className:"errTip"},ku().createElement(vh.Text,{className:"iconfont-h5 iconfont-h5 icon-info-slim orangeColor"}),d))),ku().createElement(vh.View,null,b&&(null==b?void 0:b.length)>0&&ku().createElement(vh.View,{className:"ins-container"},b.map((function(e){var t=e.fontColor,n=e.title;return ku().createElement(vh.View,{className:"insurance-tip",key:"t"+n},ku().createElement(vh.View,{className:"title",style:{color:"".concat(t)}},n))}))),C&&ku().createElement(vh.View,{className:"ins-container insurance-tip"},C&&ku().createElement(vh.View,{key:"ins-note-".concat(u?1:0),className:"tip"},C.map((function(e){return e.active?ku().createElement(vh.Text,{key:e.text,className:e.active?"highlight-color":""},e.text):e.text}))))),I&&S&&ku().createElement(vh.View,null,ku().createElement(vh.ScrollView,{scrollX:!0,className:"sub-item-scroll",scrollWithAnimation:!0,id:"id_2cca6",onScroll:Oh("id_2cca6")},ku().createElement(vh.View,{className:"autoExpose sub-item-box"},c.map((function(e,t){var n=e.title,r=e.token,o=e.typeId,c=e.priceDetails,s=e.minUnit;return ku().createElement(vh.View,{className:Dp()("subItem ",{"add-more-pad":"SGX"!==a,"sub-item-selected":!!Ba([a,"token"],r,i)}),key:"subItem-".concat(r),"data-expose":{ubtKeyName:"_flight_tinyapp_show",speed:"insurance_show",data:{typeId:o,newStyle:!0,category:a,index:t}},onClick:Oh("id_2cca6--"+"subItem-".concat(r)+"--a269c",(function(){return P(e)}))},ku().createElement(vh.View,{className:"subTitle"},n),ku().createElement(vh.View,{className:"subPrice"},ku().createElement(vh.Text,{className:"_dfn"},"\xa5"),xv(c)*s))})))),ku().createElement(vh.View,{className:"insurance-mask"})))},Mv=function(e){var t=e.insuranceGroups,n=e.passengerTotalCount,r=e.chooseSubItem,i=e.selected,o=Fu((0,ju.useState)(!1),2),a=o[0],c=o[1],s=mv("sendSpeed"),u=(0,ju.useCallback)((function(){s("\u5176\u4ed6\u4fdd\u9669"),c(!1)}),[s]);return ku().createElement(ku().Fragment,null,t.map((function(e,o){var c=e.insType,s=e.displayType,u=o===t.length-1;return ku().createElement(vh.View,{key:"insurance-".concat(c,"-").concat(s),style:{display:o&&a?"none":"",borderBottom:u?"none":""}},s.startsWith("MAIN")&&ku().createElement(Vv,{selected:i,insuranceGroup:e,chooseSubItem:r,passengerTotalCount:n}),s.startsWith("SECONDARY")&&ku().createElement(Zv,{insuranceGroup:e,chooseSubItem:r,selected:i}))})),t.length>1&&a&&ku().createElement(vh.View,{className:"insurance-other",onClick:Oh("showMore--8ccbd",u)},"\u5176\u5b83\u4fdd\u9669",ku().createElement(vh.Text,{className:"iconfont-h5 icon-arrow-down color-blue"})))},Fv=(0,ju.memo)(Mv),Bv=function(e){var t=e.insuranceNotice,n=e.tabIndex,r=e.tabType,i=gv(),o=t[n],a=o.InsuranceNotice,c=o.guaranteeRulesGroups,s=void 0===c?[]:c,u=o.guaranteeRules,l=void 0===u?[]:u,d=o.StipulationUrl;return"Disclaimer"===r?ku().createElement(vh.ScrollView,{className:"insurance-notice",scrollY:!0,id:"id_e0c7b",onScroll:Oh("id_e0c7b")},ku().createElement(uv,{nodes:t&&t[n]&&t[n].Disclaimer})):"InsurantAgreeNote"===r?ku().createElement(vh.ScrollView,{className:"insurance-notice",scrollY:!0,id:"id_3e1a0",onScroll:Oh("id_3e1a0")},t&&t[n]&&t[n].InsurantAgreeNote):"InsuranceNotice"===r?ku().createElement(vh.ScrollView,{className:"insurance-notice",scrollY:!0,id:"id_c88d3",onScroll:Oh("id_c88d3")},ku().createElement(vh.View,{className:"ins-container"},Iv),ku().createElement(vh.View,{className:"ins-item",onClick:Oh("onClick--e841c",(function(){return i("INSURANCE_STIPULATION",d)}))},ku().createElement(vh.Text,null,"\u70b9\u51fb\u67e5\u770b","\uff1a",ku().createElement(vh.Text,{style:{color:"#0086F6"}},Iv))),ku().createElement(Rv,{guaranteeRules:l}),s.length>0&&ku().createElement(vh.View,null,ku().createElement(vh.View,{className:"ins-container"},Cv),ku().createElement(vh.View,{className:"ins-table-box"},s.map((function(e){var t=Fu(e,2),n=t[0],r=t[1],i=r.length;return ku().createElement(vh.View,{className:"ins-table-con",key:"guarantee-".concat(n)},ku().createElement(vh.View,{className:"ins-table-title"},ku().createElement(vh.View,{className:"ins-left-side"},n),ku().createElement(vh.View,{className:"ins-right-side"},"\u6700\u9ad8\u4fdd\u989d")),r.map((function(e,t){return ku().createElement(vh.View,{key:"rule-".concat(e.title),className:Dp()("ins-line-box",{bottomBorder:t!==i-1})},ku().createElement(vh.View,{className:"ins-left-side"},e.title),ku().createElement(vh.View,{className:"ins-right-side"},e.content))})))})))),ku().createElement(vh.View,{className:"ins-container"},wv),ku().createElement(uv,{className:Dp()("ins-desc-rich-text","insDesc"),nodes:a})):null},Uv=(0,ju.memo)(Bv),qv=function(e){var t=e.selectedInsurances,n=e.insuranceAgreeNote,r=e.popType,i=(0,ju.useMemo)((function(){return t.map((function(e){var t=e.token,n=e.title,r=e.stipulationUrl,i=e.guaranteeRules,o=e.guaranteeDescription;return{Token:t,InsName:n,InsTypeName:e.typeName,StipulationUrl:r.replace(/http:/,"https:"),guaranteeRulesGroups:yv(i),guaranteeRules:i,InsuranceNotice:Kh(o)}}))}),[t]),o=(0,ju.useMemo)((function(){return t.map((function(e){var t=e.token,n=e.title,r=e.disClaimer;return{Token:t,InsName:n,InsTypeName:e.typeName,Disclaimer:r.replace(/\\n/g,"<br/>")}}))}),[t]),a=(0,ju.useMemo)((function(){return t.map((function(e){return{Token:e.token,InsName:e.title,InsTypeName:e.typeName,InsurantAgreeNote:n}}))}),[n,t]),c=(0,ju.useMemo)((function(){return[{type:"InsuranceNotice",title:wv,insNote:i},{type:"Disclaimer",title:Ev,insNote:o},{type:"InsurantAgreeNote",title:Sv,insNote:a}]}),[o,i,a]),s=Fu((0,ju.useState)(0),2),u=s[0],l=s[1],d=Fu((0,ju.useState)(r),2),f=d[0],p=d[1],m=function(e,t){var n=t.find((function(t){return t.type===e}));return null==n?void 0:n.insNote},h=Fu((0,ju.useState)(m(r,c)),2),v=h[0],g=h[1],y=(0,ju.useCallback)((function(e){p(e),g(m(e,c))}),[c]),x=(0,ju.useCallback)((function(e){l(e)}),[]);return ku().createElement(vh.View,{className:"InsuranceLayer"},ku().createElement(vh.View,{className:Dp()("insLayerTab",{padBottom:(null==v?void 0:v.length)<=1})},ku().createElement(vh.ScrollView,{className:"tabsTitleWrapper",scrollX:!0,id:"id_424df",onScroll:Oh("id_424df")},null==c?void 0:c.map((function(e){var t=e.type,n=e.title;return ku().createElement(vh.View,{className:"tabsTitle",key:n},ku().createElement(vh.View,{className:Dp()("tabTitle",{active:f===t}),onClick:Oh("id_424df--"+n+"--a269c",(function(){return y(t)}))},n))})))),ku().createElement(vh.View,{className:"insLayerTab"},v.length>1?ku().createElement(vh.ScrollView,{className:"tabsTitleWrapper",id:"id_26869",onScroll:Oh("id_26869")},v.map((function(e,t){var n=e.InsTypeName,r=e.InsName;return ku().createElement(vh.View,{className:"tabsTitle",key:n||r},ku().createElement(vh.View,{className:Dp()("tabTitle",{active:u===t}),onClick:Oh("id_26869--"+(n||r)+"--e1140",(function(){return x(t)}))},n||r))}))):null,ku().createElement(Uv,{insuranceNotice:v,tabIndex:u,tabType:f})))},Hv=function(e){var t=e.insuranceFooter,n=e.selectedInsurances,r=t.icon,i=t.insureBeforeRemark,o=t.insureAfterRemark,a=t.extensions,c=a.personalInformationPolicyNote,s=a.insuranceUserNotice,u=a.insuranceAgreeNote,l=!(null==n||!n.length),d=gv(),f=function(e){var t=e.insuranceAgreeNote,n=e.selectedInsurances,r=pv(),i=mv("sendSpeed"),o=mv("showModal");return(0,ju.useCallback)((function(e){i("openInsPop_".concat(e)),n&&o({close:{position:"top-left"},mask:{enableClose:!0},closeMethod:"close",title:"\u6295\u4fdd\u63d0\u9192",content:ku().createElement(fv,{value:r},ku().createElement(qv,{popType:e,insuranceAgreeNote:t,selectedInsurances:n})),animationClassName:"animate__animated animate__slideInUp animate__faster",style:{width:"100%",position:"absolute",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})}),[t,r,n,i,o])}({insuranceAgreeNote:u,selectedInsurances:n}),p=(0,ju.useMemo)((function(){return Te((function(e,t){var n=t.typeName;return[].concat(Bu(e),[n])}),[],n||[])}),[n]),m=(0,ju.useMemo)((function(){return Mt(bc("#",$i("\u3001",p)),Dc(/[/\\[|/\]]/))(o)}),[o,p]);return ku().createElement(vh.View,null,ku().createElement(vh.View,{className:"InsDescView"},ku().createElement(vh.View,null,l&&ku().createElement(vh.View,{className:"InsDescTextView"},m.map((function(e,t){return[wv,Iv,Ev,Sv].includes(e)?ku().createElement(vh.Text,{key:t,className:"blueTxt",onClick:Oh(t+"--56f22",(function(){return f(Av[e])})),"data-testid":"".concat(Av[e])},e):[jv].includes(e)?ku().createElement(vh.Text,{key:t,className:"blueTxt",onClick:Oh(t+"--58cac",(function(){return d("PRIVACY_POLICY",c)})),"data-testid":"".concat(Av[e])},e):[kv].includes(e)?ku().createElement(vh.Text,{key:t,className:"blueTxt",onClick:Oh(t+"--13665",(function(){return d("GUEST_CONFIRM",s)})),"data-testid":"".concat(Av[e])},e):ku().createElement(ku().Fragment,{key:t},e)}))),!l&&ku().createElement(vh.View,{className:"InsDescTextView",dangerouslySetInnerHTML:{__html:i}})),ku().createElement(vh.View,{className:"InsDescLogoContainer"},ku().createElement(vh.Image,{className:"InsDescLogoImage",src:r}))))},Gv=function(e){var t=e.detainmentData,n=t.insName,r=t.insurance,i=t.extensions,o=r.guaranteeRules,a=r.guaranteeDescription,c=_v(i);return ku().createElement(vh.View,{className:"insurance-des-pop"},ku().createElement(vh.View,{className:"insurance-des-title"},ku().createElement(vh.Text,{className:"desc-main-title"},n),c&&ku().createElement(vh.Text,{className:"desc-sub-title"},c)),ku().createElement(Ov,{guaranteeRules:o,guaranteeDescription:a}))},Yv=function(e){var t=e.platformName,n=e.detainmentData,r=n.insurance,i=n.retain,o=n.extensions,a=i.remark,c=i.headNote,s=i.sceneTitle,u=i.sceneSubTitle,l=i.sceneIcon,d=i.saleIcon,f=i.saleFeatures,p=i.backgroundColor,m=void 0===p?"":p,h=r.typeName,v=r.priceDetails,g=r.minUnit,y=function(e){return(0,ju.useMemo)((function(){return xv(e)}),[e])}(v)*g,x=mv("TARO_ENV"),_=(0,ju.useMemo)((function(){return zh(s)}),[s]),N=(0,ju.useMemo)((function(){return zh(u)}),[u]),b=_v(o),T=function(e){var t=pv(),n=mv("sendSpeed"),r=mv("showModal");return(0,ju.useCallback)((function(){n("openInsInfoPop"),r({close:{position:"top-left"},mask:{enableClose:!0},closeMethod:"close",content:ku().createElement(fv,{value:t},ku().createElement(Gv,{detainmentData:e})),animationClassName:"animate__animated animate__slideInUp animate__faster",className:"liftZindex",style:{width:"100vw",position:"absolute",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})}),[e,t,n,r])}(n),w=Fu((0,ju.useState)(!1),2),C=w[0],I=w[1],E=Fu(Dc("|",m),2),S=E[0],j=E[1];return ku().createElement(vh.View,{className:"insurance-pop-container"},ku().createElement(vh.View,{className:"insurance-pop-title"},ku().createElement(vh.Image,{className:"tle-png",src:c})),ku().createElement(vh.View,{className:"no-insurance-intercept"},ku().createElement(vh.View,{className:"insurance-tips"},ku().createElement(vh.View,{className:"top-box",style:{background:"linear-gradient(-180deg, ".concat(j||"rgb(255, 255, 255)"," 0%, ").concat(S||"rgb(231, 248, 241)"," 100%)")}},ku().createElement(vh.View,{className:"top-left"},_.length>0&&ku().createElement(vh.View,{className:"main-area main-title"},_.map((function(e){return ku().createElement(vh.Text,{key:e.text,className:e.active?"highlight-color":""},e.text)}))),N.length>0&&ku().createElement(vh.View,{className:"sub-area sub-title"},N.map((function(e){return ku().createElement(vh.Text,{key:e.text,className:e.active?"highlight-color":""},e.text)})))),l&&ku().createElement(vh.Image,{className:"insurance-img",src:l})),ku().createElement(vh.View,{className:"bottom-box"},ku().createElement(vh.View,{className:"bottom-left"},ku().createElement(vh.Image,{src:d||"",className:"double-security"})),ku().createElement(vh.View,{className:"bottom-right"},ku().createElement(vh.View,{className:"name-price"},h,b&&ku().createElement(vh.Text,{className:"ins-version"},b),ku().createElement(vh.Text,{className:"_dfn add-margin"},"\xa5".concat(y,"/\u4eba"))),ku().createElement(vh.View,{className:"ins-info-box"},ku().createElement(vh.Text,{className:"ins-info",onClick:Oh("onClick--38dfe",(function(){T()}))},wv)),ku().createElement(vh.View,{className:"tips-area"},null==f?void 0:f.map((function(e,t){var n=zh(e);return n.length>0&&ku().createElement(vh.View,{className:"tip-text",key:"tip-text".concat(t)},ku().createElement(vh.Image,{className:"tip-icon",src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domBooking/gou_icon.png"}),n.map((function(e){return ku().createElement(vh.Text,{key:e.text,className:e.active?"highlight-color":""},e.text)})))})))))),ku().createElement(vh.View,{className:"insurance-desc",style:{display:"swan"===x?"block":"flex"}},ku().createElement(vh.View,{className:C?"":"one-line"},ku().createElement(vh.Text,{className:"title"},t,":"),ku().createElement(vh.Text,{className:C?"text":"text one-line"},a)),!C&&ku().createElement(vh.View,{className:"control",onClick:Oh("onClick--3986f",(function(){return I(!C)}))},ku().createElement(vh.Text,{className:"text"},"\u5c55\u5f00"),ku().createElement(vh.Image,{className:"arrow",src:"https://pages.c-ctrip.com/flight_h5/swift/downArrowIcon.png"})))))},Kv=["insurances"],Wv=function(e){return e?hr:Ut},zv=function(e){var t=e.insuranceHead,n=e.selected,r=(0,ju.useMemo)((function(){return!!Object.values(n).filter(Boolean).length}),[n]),i=(0,ju.useMemo)((function(){return{color:Wv(r)(["orange","green"]),icon:Wv(r)(Dc("|",t.icon||"")),title:Wv(r)(Dc("|",t.title||"")),subIcon:Wv(r)(Dc("|",t.subIcon||"")),subTitle:Wv(r)(Dc("|",t.subTitle||""))}}),[r,t.icon,t.subIcon,t.subTitle,t.title]),o=i.color,a=void 0===o?"":o,c=i.icon,s=void 0===c?"":c,u=i.title,l=void 0===u?"":u,d=i.subIcon,f=void 0===d?"":d,p=i.subTitle,m=void 0===p?"":p;return ku().createElement(vh.View,{className:Dp()("scene-title",a)},ku().createElement(vh.View,{className:"scene-title-left"},ku().createElement(vh.Image,{className:"scene-icon",src:s}),ku().createElement(vh.View,{className:"scene-ins-title"},l)),ku().createElement(vh.View,{className:"scene-sub-text"},f&&ku().createElement(vh.Image,{className:"scene-sub-text-icon",src:f}),m))},Qv=function(e){var t=e.insuranceHead,n=e.insuranceGroups,r=e.insuranceFooter,i=e.passengerTotalCount,o=e.selectedInsurances,a=e.chooseSubItem,c=e.selected,s=e.children;return ku().createElement(vh.View,{className:"insurance-container"},ku().createElement(vh.View,{className:"card new-card-style"},ku().createElement(vh.View,{className:"card-body insurance-wrapper"},t&&ku().createElement(vh.View,null,ku().createElement(zv,{insuranceHead:t,selected:c})),ku().createElement(vh.View,{className:"insurance-list-box"},n&&ku().createElement(vh.View,null,ku().createElement(Fv,{insuranceGroups:n,passengerTotalCount:i,chooseSubItem:a,selected:c})),s,r&&ku().createElement(vh.View,null,ku().createElement(Hv,{insuranceFooter:r,selectedInsurances:o}))))))},$v=function(e){var t=e.departureDate,n=e.regionType,i=e.insuranceParamString,o=e.selectPassengerList,a=e.head,c=e.extension,s=e.promiseRequest,u=e.insData,l=e.children,d=mv("sendSpeed"),f=mv("sendShowTrace"),p=Fu((0,ju.useState)(u),2),m=p[0],h=p[1],v=mv("TARO_ENV"),g=mv("request"),y=mv("miniProgram");(0,ju.useEffect)((function(){if(u||!s||!i||["tt","quickapp"].includes(v)||["TOUTIAOAPP","OLDQUICKAPP","NEWQUICKAPP"].includes(y||"")){if(!u&&g&&i&&!["tt","quickapp"].includes(v)&&!["TOUTIAOAPP","OLDQUICKAPP","NEWQUICKAPP"].includes(y||"")){var e={insuranceParamString:JSON.stringify({regionType:n,xproductParamsString:i}),head:{}};a&&(e.head=a),c&&(e.head.extension=c),g({url:"/restapi/soa2/27064/bjjson/InsuranceListSearch?subEnv=fat3",data:e}).then((function(e){var t,n,r,i,o={insuranceGroups:(null==e||null===(t=e.data)||void 0===t?void 0:t.insuranceGroups)||[],insuranceHead:(null==e||null===(n=e.data)||void 0===n?void 0:n.insuranceHead)||{},insuranceFooter:(null==e||null===(r=e.data)||void 0===r?void 0:r.footer)||{},insuranceRetains:(null==e||null===(i=e.data)||void 0===i?void 0:i.retains)||[]};h(o)}))}}else s({regionType:n,xproductParamsString:i}).then((function(e){h((null==e?void 0:e.data)||{})}))}),[u,s,n,i,v,y,g,a,c]);var x=m||{},_=x.insuranceGroups,N=x.insuranceFooter,b=x.insuranceRetains,T=x.insuranceHead,w=(N||{}).platformName,C=((null==_?void 0:_.length)||0)>0;(0,ju.useEffect)((function(){C&&f("insurance_group_show",{desc:"\u4fdd\u9669\u5217\u8868\u5c55\u793a"})}),[f,C]);var I=Fu((0,ju.useState)({}),2),E=I[0],S=I[1],j=Fu((0,ju.useState)({}),2),k=j[0],A=j[1],P=(0,ju.useMemo)((function(){return!!Object.values(E).filter(Boolean).length}),[E]),R=(0,ju.useMemo)((function(){return(null==_?void 0:_.reduce((function(e,n){var i,a=n.insType,c=n.insurances,s=E[a],u=null==c?void 0:c.find((function(e){return e.token===s}));if(!u)return e;var l=function(e,t){return function(n){if(!t)return!1;var i,o=function(e){return function(t,n){if(!t||Number.isNaN(t))return!1;if(!n||!["YEAR","DAY","Y","D"].includes(n))return!1;var i=new r.Date(e);switch(n){case"YEAR":case"Y":i.setYear(i.getFullYear()-t);break;case"DAY":case"D":i=new r.Date(i.getTime()-864e4*t)}return i}}(e),a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Mu(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(t);try{for(a.s();!(i=a.n()).done;){var c=i.value,s=c.minAge,u=c.minAgeType,l=c.maxAge,d=c.maxAgeType,f=c.limitTitle,p=s&&"*"!==s&&o(parseInt(s,10),u),m=l&&"*"!==l&&o(parseInt(l,10),d);if(n){var h=new r.Date(n);if(p&&h>p||m&&h<m)return f}}}catch(e){a.e(e)}finally{a.f()}return!1}}(t,null==u?void 0:u.ageRules),d=o.map((function(e){var t=e.birth;return{id:e.id,limitTitle:l(t)}}))||[],f=null===(i=d.find((function(e){return!!e.limitTitle})))||void 0===i?void 0:i.limitTitle,p=d.filter((function(e){return!e.limitTitle})).map((function(e){return e.id})),m=d.filter((function(e){return!e.limitTitle})).length;return hu(hu({},e),{},pu({},a,{token:null==u?void 0:u.token,limitTitle:f,passengerIds:p,count:m}))}),{}))||{}}),[t,_,E,o]),O=(0,ju.useCallback)((function(e,t,n){var r;S(hu(hu({},E),{},pu({},e,t))),t&&A(hu(hu({},k),{},pu({},t,n)));var i=null==_?void 0:_.find((function(t){return t.insType===e})),o=(null==i||null===(r=i.insurances)||void 0===r?void 0:r.find((function(e){return e.token===t})))||{},a=o.clauseName;d(t?"order_insurance_select":"order_insurance_unselect",{typeid:e,token:t,channelType:n,clauseName:a})}),[_,E,k,d]),D=function(e,t,n,r,i){var o=pv(),a=mv("sendShowTrace"),c=mv("showModal"),s=mv("safeArea"),u=mv("sendSpeed"),l=(0,ju.useMemo)((function(){var t=Ut(i||[]);if(t&&!e){var n=null==r?void 0:r.find((function(e){return e.insurances.find((function(e){return e.typeId===(null==t?void 0:t.saleTypeId)}))}));if(n){var o=n.insurances,a=tv(n,Kv),c=o.find((function(e){return e.typeId===(null==t?void 0:t.saleTypeId)}));if(c)return hu(hu({},a),{},{retain:t,insurance:c})}}}),[e,r,i]);return(0,ju.useCallback)((function(e){var r=e.skipInsuranceRetains,i=e.onClickNoneInsurance,d=e.onClickNeedInsurance;if(l){var f=l||{},p=f.insurance,m=f.insType,h=f.retain,v=p.typeId,g=p.token,y=h.btnCancelTxt,x=h.btnConfirmTxt;a("insurance_detain",{typeid:v,category:m}),c({close:{position:"top-left"},mask:{enableClose:!0},buttons:[{text:y,class:"default",callback:Hh((function(){u("Order INSURANCE_DETAIN check ok, no insurance "),i()}))},{text:x,class:"primary",callback:Hh((function(){u("ins_detain_choose_insurance"),t(m,g,"booking_retain"),d(m,g)}))}],content:ku().createElement(fv,{value:o},ku().createElement(Yv,{platformName:n,detainmentData:l})),className:"insurance-pop-modal",animationClassName:"animate__animated animate__slideInUp animate__faster",style:{width:"100vw",position:"absolute",bottom:0,left:0,padding:0,paddingBottom:"".concat(s.bottom?s.bottom+10:30,"px"),borderBottomLeftRadius:0,borderBottomRightRadius:0}})}else r()}),[t,l,o,n,s.bottom,a,u,c])}(P,O,w,_,b),L=(0,ju.useMemo)((function(){return null==_?void 0:_.reduce((function(e,t){var n=t.insType,r=t.insurances,i=E[n],o=R[n];return i&&r.forEach((function(t){var n=t.token,r=t.priceDetails,a=t.minUnit;i===n&&o.token===n&&e.push(hu(hu(hu({},t),o),{},{channelType:k[n],salePrice:xv(r)*a}))})),e}),[])}),[_,E,R,k]);return l({insuranceGroups:_,insuranceHead:T,insuranceFooter:N,selectedInsurances:L,showInsuranceRetainsPop:D,chooseSubItem:O,hasInsurance:P,selected:R})},Xv=function(e){var t=e.showNonageInsure,n=e.applicantName,r=e.onOpenApplicantListPopup,i=e.onClickApplicantNotice;return ku().createElement(vh.View,null,t&&ku().createElement(vh.View,{className:"NonageInsure"},ku().createElement(vh.View,{className:"insurance-apply-box"},ku().createElement(vh.View,{className:"applicant-box"},ku().createElement(vh.View,{className:"applicant-label",onClick:Oh("onClickApplicantNotice--f9330",i)},"\u6295\u4fdd\u4eba",ku().createElement(vh.View,{className:"iconfont-h5 icon-info-slim extraMargin"})),ku().createElement(vh.View,{className:"applicant-select"},ku().createElement(vh.View,{className:"select-label",onClick:Oh("onOpenApplicantListPopup--8a530",r)},n?ku().createElement(vh.View,{className:"items name"},n):ku().createElement(vh.View,{className:"items"},"\u9009\u62e9\u6210\u4eba\u6295\u4fdd\u4eba"),ku().createElement(vh.View,{className:"iconfont-h5 icon-arrow-right"})))),ku().createElement(vh.View,null,!n&&ku().createElement(vh.View,{className:"select-desc"},ku().createElement(vh.Text,{className:"color-orange"},"\u63d0\u9192\uff1a"),"\u56e0\u4e58\u673a\u4eba\u4e3a\u672a\u6210\u5e74\u4eba\uff0c\u987b\u670918\u5c81\u4ee5\u4e0a\u6210\u4eba\u4e3a\u5176\u6295\u4fdd")))))},Jv=function(e){var t=e.regionType,n=e.departureDate,r=e.contextProps,i=e.selectPassengerList,o=e.insuranceParamString,a=e.passengerTotalCount,c=e.promiseRequest,s=e.extension,u=e.head,l=e.insData,d=e.children;return ku().createElement(hv,{value:r},ku().createElement($v,{regionType:t,departureDate:n,insuranceParamString:o,passengerTotalCount:a,selectPassengerList:i,promiseRequest:c,insData:l,extension:s,head:u},(function(e){var t=e.insuranceGroups,n=e.insuranceHead,r=e.insuranceFooter,i=e.chooseSubItem,o=e.selected,c=e.selectedInsurances,s=e.showInsuranceRetainsPop;return t&&n&&r&&t.length&&ku().createElement(Qv,{passengerTotalCount:a,insuranceGroups:t,insuranceHead:n,insuranceFooter:r,selectedInsurances:c,chooseSubItem:i,selected:o},d&&d({insuranceGroups:t,insuranceHead:n,insuranceFooter:r,selected:o,selectedInsurances:c,showInsuranceRetainsPop:s}))||null})))},eg=function(e){return e[e.flightInfo=0]="flightInfo",e[e.priceDetail=1]="priceDetail",e[e.restrictedInfo=2]="restrictedInfo",e[e.totalPriceArea=3]="totalPriceArea",e[e.checkPassengerValidation=4]="checkPassengerValidation",e[e.payLayerItem=5]="payLayerItem",e}({}),tg={Component:function(){return null},promise:function(){return new Promise((function(e){return e(void 0)}))},loadData:function(){},isFlightHotel:!1,orderTotalPrice:0,orderCreateInfo:[],getCouponInfo:function(){return[!0,0,""]},passengerSelected:!1,orderErrorHandler:function(){return!1},checkBeforeOrder:function(){return!0},getPassengerValidInfo:function(){return[!0,""]},getPayDetailInfo:function(){},jumpToFlightBunldeReload:function(){},logTrace:function(){}};c().extend(d()),c().extend(p())}(),e.exports=u}()},14426:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(22276),i=n(45023),o=n(298),a=n(90129),c=n(62171),s=n(90201),u=n(71515),l=n(92954),d=n(49574),f=n(12809),p=n(61659),m=n(87108),h=n(43752),v=n(95569),g=n(24094),y=n(24873),x=n(25457),_=n(54347),N=n(67347),b=function(e,t,n){var r=(null===e||void 0===e?void 0:e.code)||"86",i=(null===e||void 0===e?void 0:e.mobile)||"";return!i&&t||i&&(i!==t||i===t&&r!==n)},T={address:"UsAddress-module_eBwWe",title:"UsAddress-module_txpjS",box:"UsAddress-module_NH7dj",item:"UsAddress-module_cbU34",noBottom:"UsAddress-module_MKUoF","i-title":"UsAddress-module_AEDY6",nameCN:"UsAddress-module_ElQhA",nameEN:"UsAddress-module_SbBnM","i-input":"UsAddress-module_YQNIo",label:"UsAddress-module_xEy2r",icon:"UsAddress-module_XVKdO",error:"UsAddress-module_X6Xas",tip:"UsAddress-module_yHqk4"},w=n(2269),C=function(e){var t=e.contact,n=e.contactError,r=e.onContactBlur,i=e.onOpenCityList,o=e.americaTitle;return(0,w.jsxs)(u.View,{className:T.address,children:[(0,w.jsx)(u.View,{className:T.title,children:o}),(0,w.jsxs)(u.View,{className:T.box,children:[(0,w.jsxs)(u.View,{className:T.item,children:[(0,w.jsxs)(u.View,{className:T["i-title"],children:[(0,w.jsx)(u.Text,{className:T.nameCN,children:"\u5dde/\u57ce\u5e02"}),(0,w.jsx)(u.Text,{className:T.nameEN,children:"State/City"})]}),(0,w.jsxs)(u.View,{className:T["i-input"],onClick:(0,c.trackFn)("onOpenCityList--8093a",i),children:[(0,w.jsx)(c.MiniInput,{placeholder:"\u8bf7\u9009\u62e9\u5dde/\u57ce\u5e02",placeholderStyle:"color: #ccc;",value:t.city,className:T.label}),(0,w.jsx)(u.View,{className:"iconfont-h5 icon-arrow-right ".concat(T.icon)})]})]}),n.city&&(0,w.jsx)(u.View,{className:T.error,children:(0,w.jsx)(u.View,{className:T.tip,children:n.city})})]}),(0,w.jsxs)(u.View,{className:T.box,children:[(0,w.jsxs)(u.View,{className:T.item,children:[(0,w.jsxs)(u.View,{className:T["i-title"],children:[(0,w.jsx)(u.Text,{className:T.nameCN,children:"\u8be6\u7ec6\u5730\u5740"}),(0,w.jsx)(u.Text,{className:T.nameEN,children:"Street"})]}),(0,w.jsx)(u.View,{className:T["i-input"],children:(0,w.jsx)(c.MiniInput,{placeholder:"\u8bf7\u7528\u82f1\u6587\u8f93\u5165\u8857\u9053\u53f7\u7801",placeholderStyle:"color: #ccc;",onBlur:(0,c.trackFn)("onBlur--b0039",(function(e){return r(e,"location","LOCATION")})),value:t.location,className:T.label})})]}),n.location&&(0,w.jsx)(u.View,{className:T.error,children:(0,w.jsx)(u.View,{className:T.tip,children:n.location})})]}),(0,w.jsxs)(u.View,{className:T.box,children:[(0,w.jsxs)(u.View,{className:"".concat(T.item," ").concat(T.noBottom),children:[(0,w.jsxs)(u.View,{className:T["i-title"],children:[(0,w.jsx)(u.Text,{className:T.nameCN,children:"\u90ae\u653f\u7f16\u7801"}),(0,w.jsx)(u.Text,{className:T.nameEN,children:"ZIP Code"})]}),(0,w.jsx)(u.View,{className:T["i-input"],children:(0,w.jsx)(c.MiniInput,{placeholder:"\u8bf7\u8f93\u5165\u90ae\u653f\u7f16\u7801",placeholderStyle:"color: #ccc;",onBlur:(0,c.trackFn)("onBlur--1e299",(function(e){return r(e,"zipCode","ZIPCODE")})),value:t.zipCode,className:T.label})})]}),n.zipCode&&(0,w.jsx)(u.View,{className:T.error,children:(0,w.jsx)(u.View,{className:T.tip,children:n.zipCode})})]})]})},I=C,E={contact:"Contact-module_Wa2WC","contact-member-wrap":"Contact-module_N_7Fr","icon-wrap":"Contact-module_LN51e","passenger-gift":"Contact-module_kledL","tip-wrap":"Contact-module_IXGIy","tip-subtitle":"Contact-module_e95kg","contact-fontsize":"Contact-module_Zgwfa","error-message":"Contact-module_EcD4F","contact-num-box":"Contact-module_U4Lir","phone-code":"Contact-module_mAlIo","icon-drop":"Contact-module_rG3Sj","vertical-bar":"Contact-module_Zet2c","contact-tip-box":"Contact-module_UuSnv","tip-left":"Contact-module_IgTx_","text-ares":"Contact-module_zNth7",warning:"Contact-module_LVBy_","scroll-text":"Contact-module_vFDJk","small-width":"Contact-module_GnXh4","big-width":"Contact-module_NZ4CZ","text-box":"Contact-module_DvTOh","tip-text":"Contact-module_cnQ_o","phone-text":"Contact-module_AhTM2","close-ares":"Contact-module_MAwCM",close:"Contact-module_jd2ka","us-address":"Contact-module_DF9ui","contact-explain":"Contact-module_xKDTH","explain-title":"Contact-module_M7lxt","explain-content":"Contact-module_Q2fJr",contactIconBox:"Contact-module_dsjQY",contactIcon:"Contact-module_coDT2"},S=(0,d.qN)("chooseContact"),j=function(e){var t=e.id,n=e.registerMemberType,d=e.airlineName,T=e.bookingPageText,C=e.selectedPassengers,j=e.setTargetView,k=e.isIntl,A=e.americaTitle,P=e.extflag,R=(0,s.useState)({idCardNo:"",name:"",mobile:"",email:"",city:"",location:"",zipCode:""}),O=(0,a.Z)(R,2),D=O[0],L=O[1],V=(0,s.useState)(),Z=(0,a.Z)(V,2),M=Z[0],F=Z[1],B=(0,s.useState)({code:"86"}),U=(0,a.Z)(B,2),q=U[0],H=U[1],G=(0,s.useState)(!1),Y=(0,a.Z)(G,2),K=Y[0],W=Y[1],z=(0,s.useState)({type:0,phone:"",tips:"",code:""}),Q=(0,a.Z)(z,2),$=Q[0],X=Q[1],J=(0,s.useState)(!1),ee=(0,a.Z)(J,2),te=ee[0],ne=ee[1],re=(0,s.useState)({}),ie=(0,a.Z)(re,2),oe=ie[0],ae=ie[1],ce=P&&4===(4&P),se=(0,s.useCallback)((function(e){var t=e.mobile,n=void 0===t?"":t,r=e.email,i=void 0===r?"":r,o=e.idCardNo,a=void 0===o?"":o,c=e.name,s=void 0===c?"":c,u=e.region,l=void 0===u?{code:"86"}:u,d=e.city,f=e.location,p=void 0===f?"":f,m=e.zipCode,h=void 0===m?"":m;L({mobile:n,email:i,idCardNo:a,name:s,city:d,location:p,zipCode:h}),H(l)}),[]);(0,s.useEffect)((function(){var e=(0,o.Z)((0,o.Z)({},D),{},{region:q,cityInfo:M}),t=0;Object.keys(e).forEach((function(n){!["region","cityInfo"].includes(n)&&e[n]&&(t+=1)})),t&&(0,g.Tk)(e),t&&_.NQ.set(e)}),[D,q,M]),(0,s.useEffect)((function(){var e=_.NQ.get()||{},t=e||{},n=t.cityInfo;F(n),se(e),y.B.promise({data:{action:"GET"}}).then((function(t){var n,r=(null===(n=t.data)||void 0===n?void 0:n.contact)||{},i=r.mobile,a=r.countryCode,c=void 0===a?"86":a;se((0,o.Z)((0,o.Z)({},e),{},{mobile:i,region:{code:c||"86"}})),ne(!0)}))}),[se]),(0,s.useEffect)((function(){W(!1);var e=D.mobile;if(C&&1===C.length){var t,n,r,i=C&&C[0];if(te&&!e&&null!==i&&void 0!==i&&null!==(t=i.phone)&&void 0!==t&&t.mobile){var o,a,c=null!==(o=i.name)&&void 0!==o&&o.name?"(".concat(null===(a=i.name)||void 0===a?void 0:a.name,")"):"",s=i.phone.mobile,u=i.phone.code;(0,h.ff)("S_FLT_OrderInput_phoneinfortips",{phoneInfoTips:"\u4f7f\u7528\uff1a".concat(s," ").concat(c)}),W(!0),X({type:1,phone:s,code:u,tips:"".concat(s," ").concat(c)})}!e||null!==i&&void 0!==i&&null!==(n=i.phone)&&void 0!==n&&n.mobile||((0,h.ff)("S_FLT_OrderInput_phoneinfortips",{phoneInfoTips:"\u8ba2\u5355\u4fe1\u606f\u5c06\u53d1\u9001\u81f3\u6b64\u53f7\u7801"}),W(!0),X({type:2,tips:"\u8ba2\u5355\u4fe1\u606f\u5c06\u53d1\u9001\u81f3\u6b64\u53f7\u7801"}));var l=b(null===i||void 0===i?void 0:i.phone,e,q.code);if(e&&q.code&&null!==i&&void 0!==i&&null!==(r=i.phone)&&void 0!==r&&r.mobile&&l){var d,f,p=null!==(d=i.name)&&void 0!==d&&d.name?"(".concat(null===(f=i.name)||void 0===f?void 0:f.name,")"):"",m=i.phone.mobile,v=i.phone.code;(0,h.ff)("S_FLT_OrderInput_phoneinfortips",{phoneInfoTips:"\u66ff\u6362\u6210\uff1a".concat(m," ").concat(p)}),W(!0),X({type:3,code:v,phone:m,tips:"".concat(m," ").concat(p)})}}else if(e&&C&&C.length>=2){var g=C.every((function(t){return b(null===t||void 0===t?void 0:t.phone,e,q.code)}));g?((0,h.ff)("S_FLT_OrderInput_phoneinfortips",{phoneInfoTips:"\u8ba2\u5355\u4fe1\u606f\u5c06\u53d1\u9001\u81f3\u6b64\u53f7\u7801"}),W(!0),X({type:2,tips:"\u8ba2\u5355\u4fe1\u606f\u5c06\u53d1\u9001\u81f3\u6b64\u53f7\u7801"})):(W(!1),X({type:0,tips:""}))}else W(!1),X({type:0,tips:""})}),[C,D,q,te]);var ue=(0,s.useCallback)((function(e,t,n){var r=e.detail.value||"";"mobile"===t&&"string"===typeof r&&(r=r.replace(/[" "]/g,""));var a=(0,o.Z)((0,o.Z)({},D),{},(0,i.Z)({},t,r)),c=!("email"===n&&ce),s=(0,o.Z)((0,o.Z)({},oe),{},(0,i.Z)({},t,x.Z.VALIDATOR[n](r,{regionCode:q.code,isOptional:c})));(0,h.jq)("\u7f16\u8f91\u624b\u673a\u53f7",{contact:a,contactError:s}),L(a),ae(s)}),[D,q,oe,ce]),le=(0,s.useCallback)((function(){var e=q&&q.code||"86",t=D&&D.mobile,i=x.Z.VALIDATOR.MOBILE(t,{regionCode:e});if(i)return ae({mobile:i}),D.mobile?"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u8054\u7cfb\u4eba\u624b\u673a\u53f7\u7801":"\u8bf7\u586b\u5199\u8054\u7cfb\u4eba\u624b\u673a\u53f7\u7801";var a=k||ce,c=["email"].concat((0,r.Z)(A?["city","location","zipCode"]:[]));if(a){var s=0,u="",l={};while(s<c.length){var f,p=!("email"===c[s]&&ce),m=null===(f=x.Z.VALIDATOR)||void 0===f?void 0:f[c[s].toUpperCase()](D[c[s]],{isOptional:p});if(m){l[c[s]]=m,u=m;break}s+=1}if(u)return ae(l),u}else ae({email:"",city:"",location:"",zipCode:""}),D.email="",D.city="",D.location="",D.zipCode="",L(D),(0,g.Tk)((0,o.Z)((0,o.Z)({},D),{},{region:q})),(0,h.jq)("validate_contact",D);if("CONTRACT"===n){var v=x.Z.VALIDATOR.NAME(D.name);if(v)return ae({name:v}),D.name?"\u8bf7\u586b\u5199\u6b63\u786e\u7684".concat(d,"\u4f1a\u5458\u59d3\u540d"):"\u8bf7\u586b\u5199".concat(d,"\u4f1a\u5458\u59d3\u540d");var y=x.Z.VALIDATOR.DOCUMENT_ID(D.idCardNo);if(y)return ae({idCardNo:y}),D.idCardNo?"\u8bf7\u586b\u5199\u6b63\u786e\u7684".concat(d,"\u4f1a\u5458\u8eab\u4efd\u8bc1\u53f7\u7801"):"\u8bf7\u586b\u5199".concat(d,"\u4f1a\u5458\u8eab\u4efd\u8bc1\u53f7\u7801")}}),[d,n,D,q,k,A,ce]),de=(0,s.useCallback)((function(e){var t=le();if(t)return j("contactArea"),(0,h.jq)("Order CONTACT_CHECK check failed, contact error",{errorMessage:t}),(0,c.showToast)(t);var n=(0,g.vS)();return null!==n&&void 0!==n&&n.mobile?((0,h.jq)("Order CONTACT_CHECK check ok"),e({result:1})):((0,h.jq)("Order CONTACT_CHECK check failed, mobile null"),(0,c.showToast)("\u8bf7\u586b\u5199\u8ba2\u5355\u8054\u7cfb\u4eba\u624b\u673a\u53f7"))}),[j,le]);(0,v.Up)(v.O4.CONTACT_CHECK,de);var fe=(0,s.useCallback)((function(){null!==T&&void 0!==T&&T.contactExplain&&(0,N.K4)({close:{position:"top-left"},closeMethod:"close",content:(0,w.jsxs)(u.View,{catchMove:!0,className:E["contact-explain"],children:[(0,w.jsx)(u.View,{className:E["explain-title"],children:"\u8054\u7cfb\u4eba\u4fe1\u606f\u8bf4\u660e"}),(0,w.jsx)(u.View,{className:E["explain-content"],dangerouslySetInnerHTML:{__html:T.contactExplain}})]}),position:"bottom"})}),[T]),pe=(0,s.useCallback)((function(){var e=$.type,t=$.phone,n=$.code,r=$.tips;if(2!==e){var i=(0,o.Z)((0,o.Z)({},D),{},{mobile:t});(0,h.ff)("c_FLT_OrderInput_phonechangebutton",{phoneInfoTips:r});var a=x.Z.VALIDATOR.MOBILE(t,{regionCode:n});ae({mobile:a}),H({code:n}),L(i),!a&&(0,g.Tk)(i),W(!1)}}),[D,$]),me=(0,s.useCallback)((function(){(0,h.ff)("c_FLT_OrderInput_phoneclosebutton",{phoneInfoTips:null===$||void 0===$?void 0:$.tips}),W(!1)}),[$]),he=function(){(0,m.Xp)({title:"\u9009\u62e9\u56fd\u5bb6\u6216\u5730\u533a"}).then((function(e){if(e){var t=x.Z.VALIDATOR.MOBILE(D.mobile,{regionCode:e.code});ae({mobile:t}),H((0,o.Z)({},e))}}))},ve=(0,s.useCallback)((function(){(0,m.Nz)({title:"Select your region",cityInfo:encodeURIComponent(JSON.stringify(M||{}))}).then((function(e){var t=e||{},n=t.mainCity,r=t.subCity;if(null!==n&&void 0!==n&&n.code&&null!==r&&void 0!==r&&r.ename){var i=n.code+" / "+r.ename;F({mainCity:n,subCity:r}),L((0,o.Z)((0,o.Z)({},D),{},{city:i})),ue({detail:{value:i}},"city","CITY")}}))}),[D,L,ue,M]),ge=function(){(0,l.chooseContact)({success:function(e){if(e.phoneNumber){var t=x.Z.VALIDATOR.MOBILE(e.phoneNumber,{regionCode:q.code});ae({mobile:t}),L((0,o.Z)((0,o.Z)({},D),{},{mobile:e.phoneNumber}))}}})};return(0,w.jsxs)(u.View,{className:E.contact,id:t,children:["CONTRACT"===n&&(0,w.jsxs)(s.Fragment,{children:[(0,w.jsxs)(u.View,{className:(0,c.classnames)("row",E["contact-member-wrap"]),children:[(0,w.jsx)(u.View,{className:E["icon-wrap"],children:(0,w.jsx)(p.Z,{className:E["passenger-gift"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/passenger-gift.png"})}),(0,w.jsxs)(u.View,{className:E["tip-wrap"],children:[(0,w.jsx)(u.View,{children:d+"\u4f1a\u5458\u4e13\u4eab\u4ef7"}),(0,w.jsx)(u.View,{className:E["tip-subtitle"],children:"\u586b\u5199\u4ee5\u4e0b\u4fe1\u606f\u6ce8\u518c"+d+"\u4f1a\u5458\uff0c\u65b9\u53ef\u4eab\u4e13\u5c5e\u4f18\u4eab\u4ef7"})]})]}),(0,w.jsxs)(u.View,{className:(0,c.classnames)("row bb-grey-1",E["contact-fontsize"]),style:{paddingTop:"12px"},children:[(0,w.jsx)(u.View,{className:"col-3 align-self-center",children:(0,w.jsx)(u.View,{children:"\u59d3\u540d"})}),(0,w.jsx)(u.View,{className:"col align-self-center",children:(0,w.jsx)(c.MiniInput,{ubtKey:"contact-\u59d3\u540d",placeholder:"\u7528\u4e8e\u6ce8\u518c\u822a\u53f8\u4f1a\u5458",placeholderStyle:"color: #ccc;",onBlur:(0,c.trackFn)("contact-\u59d3\u540d",(function(e){return ue(e,"name","NAME")})),value:D.name})})]}),(0,w.jsx)(u.View,{className:"row",style:{display:oe.name?"":"none"},children:(0,w.jsx)(u.View,{className:"col bt-red-1",children:(0,w.jsx)(u.View,{className:(0,c.classnames)("text-center",E["error-message"]),children:oe.name})})})]}),(0,w.jsxs)(u.View,{className:(0,c.classnames)("row",E["contact-fontsize"],{"bb-grey-1":"CONTRACT"===n||k}),style:{paddingTop:"12px"},children:[(0,w.jsxs)(u.View,{className:E["contact-num-box"],children:[(0,w.jsxs)(u.View,{className:E["contact-num-box"],children:[(0,w.jsx)(u.Text,{children:"\u8054\u7cfb\u7535\u8bdd"}),(0,w.jsx)(u.Text,{className:"iconfont-h5 icon-help-circle",onClick:(0,c.trackFn)(t+"--openContactPop--c0a25",fe),"data-testid":"open-contact-pop"})]}),(0,w.jsxs)(u.View,{className:(0,c.classnames)("align-self-center",E["phone-code"]),onClick:(0,c.trackFn)(t+"--onOpenRegionList--a34c6",he),"data-testid":"on-open-region-list",children:[(0,w.jsx)(u.Text,{children:"+"+((null===q||void 0===q?void 0:q.code)||"")}),(0,w.jsx)(p.Z,{className:E["icon-drop"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/components/drop_blue.png"})]})]}),(0,w.jsx)(u.Text,{className:E["vertical-bar"]}),(0,w.jsx)(u.View,{className:"col align-self-center",children:(0,w.jsx)(c.MiniInput,{ubtKey:"contact-\u8054\u7cfb\u7535\u8bdd",type:"number",placeholder:"\u67e5\u8be2\u548c\u63a5\u6536\u8ba2\u5355\u901a\u77e5",placeholderStyle:"color: #ccc;",onBlur:(0,c.trackFn)("contact-\u8054\u7cfb\u7535\u8bdd",(function(e){return ue(e,"mobile","MOBILE")})),value:D.mobile})}),S&&(0,w.jsx)(u.View,{onClick:(0,c.trackFn)(t+"--chooseContactFn--85838",ge),className:E.contactIconBox,children:(0,w.jsx)(p.Z,{className:E.contactIcon,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/contact.png"})})]}),(0,w.jsx)(u.View,{className:"row",children:!!oe.mobile&&(0,w.jsx)(u.View,{className:"col bt-red-1",children:(0,w.jsx)(u.View,{className:(0,c.classnames)("text-center",E["error-message"]),children:oe.mobile})})}),!oe.mobile&&"CONTRACT"!==n&&K&&$&&(0,w.jsxs)(u.View,{className:E["contact-tip-box"],children:[(0,w.jsx)(u.View,{className:E["tip-left"],onClick:(0,c.trackFn)(t+"--clickTip--9e3f6",pe),"data-testid":"on-change-mobile",children:(0,w.jsxs)(u.View,{className:E["text-ares"],children:[2===$.type&&(0,w.jsx)(p.Z,{className:E.warning,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/components/info_orange.png"}),(0,w.jsx)(f.Z,{className:(0,c.classnames)(E["scroll-text"],(0,i.Z)((0,i.Z)({},E["small-width"],2===$.type),E["big-width"],2!==$.type)),scrollX:!0,id:t+"_id_795e8",onScroll:(0,c.trackFn)(t+"_id_795e8"),children:(0,w.jsxs)(u.View,{className:E["text-box"],children:[(0,w.jsx)(u.Text,{className:E["tip-text"],children:1===$.type?"\u4f7f\u7528\uff1a":3===$.type?"\u66ff\u6362\u6210\uff1a":""}),(0,w.jsx)(u.Text,{className:E["phone-text"],children:$.tips})]})})]})}),(0,w.jsx)(u.View,{className:E["close-ares"],onClick:(0,c.trackFn)(t+"--closeTips--298b7",me),"data-testid":"on-close-tip",children:(0,w.jsx)(p.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/components/close.png",className:E.close})})]}),"CONTRACT"===n&&(0,w.jsxs)(s.Fragment,{children:[(0,w.jsxs)(u.View,{className:(0,c.classnames)("row",E["contact-fontsize"],{"bb-grey-1":k}),style:{paddingTop:"12px"},children:[(0,w.jsx)(u.View,{className:"col-3 align-self-center",children:(0,w.jsx)(u.View,{children:"\u8eab\u4efd\u8bc1"})}),(0,w.jsx)(u.View,{className:"col align-self-center",children:(0,w.jsx)(c.MiniInput,{ubtKey:"contact-\u8eab\u4efd\u8bc1",placeholder:"\u7528\u4e8e\u6ce8\u518c\u822a\u53f8\u4f1a\u5458",placeholderStyle:"color: #ccc;",onBlur:(0,c.trackFn)("contact-\u8eab\u4efd\u8bc1",(function(e){return ue(e,"idCardNo","DOCUMENT_ID")})),value:D.idCardNo})})]}),(0,w.jsx)(u.View,{className:"row",style:{display:oe.idCardNo?"":"none"},children:(0,w.jsx)(u.View,{className:"col bt-red-1",children:(0,w.jsx)(u.View,{className:(0,c.classnames)("text-center",E["error-message"]),children:oe.idCardNo})})})]}),k&&(0,w.jsxs)(s.Fragment,{children:[(0,w.jsxs)(u.View,{className:(0,c.classnames)("row",E["contact-fontsize"]),style:{marginTop:"6px"},children:[(0,w.jsx)(u.View,{className:"col-3 align-self-center",children:"\u7535\u5b50\u90ae\u7bb1"}),(0,w.jsx)(u.View,{className:"col align-self-center",children:(0,w.jsx)(c.MiniInput,{placeholder:"\u7d27\u6025\u8054\u7edc\u65b9\u5f0f\uff0c\u8bf7\u6b63\u786e\u586b\u5199\uff01",placeholderStyle:"color: #ccc;",onBlur:(0,c.trackFn)(t+"--onBlur--708dd",(function(e){return ue(e,"email","EMAIL")})),value:D.email})})]}),!!oe.email&&(0,w.jsx)(u.View,{className:"row",children:(0,w.jsx)(u.View,{className:"col bt-red-1",children:(0,w.jsx)(u.View,{className:(0,c.classnames)("text-center",E["error-message"]),children:oe.email})})})]}),A&&(0,w.jsx)(u.View,{className:E["us-address"],children:(0,w.jsx)(I,{contact:D,contactError:oe,onContactBlur:ue,onOpenCityList:ve,americaTitle:A})})]})},k=j},92139:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(62171),i=n(90201),o=n(71515),a=n(79301),c=n(95308),s=n(298),u=n(90129),l=n(45023),d=n(12809),f=n(33943),p=n(43752),m=n(67347),h={container:"CouponList-module_Nf7sk",box:"CouponList-module_gmvpl",input:"CouponList-module_US7tA",num:"CouponList-module_BkSaf",button:"CouponList-module_QKqCW",disabled:"CouponList-module_vETDu",title:"CouponList-module_NLg2k",coupon:"CouponList-module_JXZI4",select:"CouponList-module_AI2MF","d-icon":"CouponList-module_nIzZz","i-title":"CouponList-module_EKlRH","i-desc":"CouponList-module_p7QNC",btn:"CouponList-module_QSlTp","cash-back-tip":"CouponList-module_DbfqQ",item:"CouponList-module_gk3WL","t-icon":"CouponList-module_xpiDx",amount:"CouponList-module_M950N",tag:"CouponList-module_Vq0lW",info:"CouponList-module_IlzIl",intro:"CouponList-module_NmFZa",foot:"CouponList-module_FZlEw","f-info":"CouponList-module_a0Y2_","f-amount":"CouponList-module_O2Yql","f-btn":"CouponList-module_AzAnW"},v=function(e,t,n){var r,i={};return t&&(null===(r=Object.keys(t))||void 0===r?void 0:r.length)&&Object.keys(t).forEach((function(r){if(t[r]){var o=n.find((function(e){return e.code===r}));e.forEach((function(e){e.code!==r&&((null===o||void 0===o||!o.couponTargetInfo||o.couponTargetInfo&&!e.couponTargetInfo)&&(i[e.code]=!0),null!==o&&void 0!==o&&o.couponTargetInfo&&e.couponTargetInfo&&o.couponTargetInfo.passengerCardType===e.couponTargetInfo.passengerCardType&&o.couponTargetInfo.passengerCardNo===e.couponTargetInfo.passengerCardNo&&(i[e.code]=!0))}))}})),i},g=function(e){return e.filter((function(e){return e.isAvailable}))},y=function(e){return e.filter((function(e){return!e.isAvailable}))},x=n(2269),_=function(e){var t=e.addCouponDomestic,n=e.manualOperateSelected,r=e.addOrVerifyCouponInter,i=e.isIntl,o=e.couponList,a=e.selected;(0,p.jq)("showCouponList",{desc:"\u6253\u5f00\u4f18\u60e0\u5238\u6d6e\u5c42"});var c=(0,m.K4)({close:{position:"top-left"},title:"\u4f18\u60e0\u5238",content:(0,x.jsx)(b,{onConfirmCouponList:function(e){n(e),(0,m.Mr)(c)},isIntl:i,couponList:o,selected:a,addCouponDomestic:t,addOrVerifyCouponInter:r}),position:"bottom"})},N=function(e){var t=e.selectedCouponMap,n=e.uselessCouponMap,i=e.expandedDescCounponCode,a=e.couponsList,c=e.useable,s=e.onClickToggleCouponDesc,u=e.onClickToggleCoupon;return(0,x.jsx)(o.View,{children:a.map((function(e){var a=e.isCashBack,d=e.code,f=e.deductionAmount,p=e.isAdd,m=e.name,v=e.endDate,g=e.remark,y=e.disableDesc,_=t[d],N=_?"selected":"unselected";return(0,x.jsxs)(o.View,{className:(0,r.classnames)(h.coupon,(0,l.Z)({},h.disabled,c&&n[d]||!c)),children:[(0,x.jsxs)(o.View,{className:h.select,children:[(0,x.jsxs)(o.View,{className:(0,r.classnames)(h.item,h["t-icon"]),children:[(0,x.jsxs)(o.View,{className:h["d-icon"],children:[(0,x.jsxs)(o.View,{children:["\xa5",(0,x.jsx)(o.Text,{className:h.amount,children:f})]}),(0,x.jsx)(o.View,{children:a?"\u672c\u5355\u53ef\u8fd4":c&&_?"\u5df2\u51cf":"\u53ef\u51cf"})]}),p&&c&&(0,x.jsx)(o.View,{className:h.tag,children:"\u5238\u7801\u5151\u6362"})]}),(0,x.jsxs)(o.View,{className:(0,r.classnames)(h.item,h.info),children:[(0,x.jsx)(o.View,{className:h["i-title"],children:m}),(0,x.jsx)(o.View,{className:h["i-desc"],children:"\u6709\u6548\u671f\u81f3"+v}),(0,x.jsxs)(o.View,{className:h["i-desc"],onClick:(0,r.trackFn)(d+"--31177",(function(){return s(d)})),children:["\u4f7f\u7528\u8bf4\u660e",(0,x.jsx)(o.Text,{className:"iconfont-h5 icon-arrow-"+(i[d]?"up":"down")})]}),i[d]&&(0,x.jsx)(o.View,{className:h["i-desc"],children:g})]}),(0,x.jsx)(o.View,{className:(0,r.classnames)(h.item,h.btn),onClick:(0,r.trackFn)(d+"--de0a0",(function(){c&&u(d)})),children:c&&(0,x.jsx)(o.Text,{className:"iconfont-h5 icon-"+N})})]}),c&&n[d]&&(0,x.jsx)(o.View,{className:h.intro,children:"\u8be5\u4f18\u60e0\u5238\u4e0d\u53ef\u4e0e\u5df2\u9009\u4f18\u60e0\u5238\u5171\u7528"}),!c&&y&&(0,x.jsx)(o.View,{className:h.intro,children:y})]},d)}))})},b=function(e){var t=e.addCouponDomestic,n=e.onConfirmCouponList,m=e.addOrVerifyCouponInter,_=e.isIntl,b=e.couponList,T=e.selected,w=(0,i.useState)(T),C=(0,u.Z)(w,2),I=C[0],E=C[1];(0,i.useEffect)((function(){E(T)}),[T,E]);var S=(0,i.useState)({}),j=(0,u.Z)(S,2),k=j[0],A=j[1],P=(0,i.useMemo)((function(){return g(b||[])}),[b]),R=(0,i.useMemo)((function(){return y(b||[])}),[b]),O=(0,i.useMemo)((function(){return v(P,I,b)}),[P,I,b]),D=(0,i.useMemo)((function(){return P.filter((function(e){return I[e.code]}))}),[P,I]),L=(0,i.useMemo)((function(){return r.R.reduce((function(e,t){return e+(t.deductionAmount||0)}),0,D)}),[D]),V=(0,i.useState)(),Z=(0,u.Z)(V,2),M=Z[0],F=Z[1],B=(0,i.useMemo)((function(){return!M}),[M]),U=(0,i.useCallback)((function(){(0,p.jq)("onClickConfirmCouponList",{desc:"\u786e\u8ba4\u9009\u62e9\u4f18\u60e0\u5238",selectedCouponMap:I}),n(I)}),[n,I]),q=function(e){var t=(e.detail.value||"").trim();(0,p.jq)("onInputCoupon",{code:t,desc:"\u8f93\u5165\u4f18\u60e0\u5238\u7801"}),F(t)},H=function(){if((0,p.jq)("onClickAddCoupon",{couponValue:M,desc:"\u5151\u6362\u4f18\u60e0\u5238\u7801"}),M)return b.some((function(e){return e.code===M}))?(0,r.showToast)("\u5df2\u6709\u8be5\u4f18\u60e0\u5238"):void(_?m(M,1):t(M))},G=function(e){(0,p.jq)("onClickToggleCouponDesc",{code:e,desc:"\u5c55\u5f00\u4f18\u60e0\u5238\u8be6\u60c5"}),A((0,s.Z)((0,s.Z)({},k),{},(0,l.Z)({},e,!k[e])))},Y=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var n,i,o,c,u,d;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!O[t]){e.next=2;break}return e.abrupt("return");case 2:if(n=!I[t],!n||!_){e.next=10;break}return e.next=6,m(t,2);case 6:if(i=e.sent,o=i||{},c=o.pass,u=o.resultMessage,c){e.next=10;break}return e.abrupt("return",(0,r.showToast)(u||"\u9a8c\u8bc1\u5931\u8d25"));case 10:E((0,s.Z)((0,s.Z)({},I),{},(0,l.Z)({},t,n))),d=n?"\u70b9\u51fb\u52fe\u9009\u4f18\u60e0\u5238":"\u70b9\u51fb\u53d6\u6d88\u52fe\u9009\u4f18\u60e0\u5238",(0,p.jq)(d,{code:t,selected:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=(0,f.R2)(),W=K.bottom,z=void 0===W?0:W;return(0,x.jsxs)(o.View,{children:[(0,x.jsx)(d.Z,{scrollY:!0,className:h.container,id:"id_5d520",onScroll:(0,r.trackFn)("id_5d520"),children:(0,x.jsxs)(o.View,{className:h.box,children:[(0,x.jsxs)(o.View,{className:h.input,children:[(0,x.jsx)(r.MiniInput,{type:"text",className:h.num,value:M,onInput:(0,r.trackFn)("onInputCoupon--1c96d",q),placeholder:"\u8bf7\u8f93\u5165\u4f18\u60e0\u5238\u7801"}),(0,x.jsx)(o.View,{className:(0,r.classnames)(h.button,(0,l.Z)({},h.disabled,B)),onClick:(0,r.trackFn)("onClickAddCoupon--40c81",H),"data-testid":"on-click-add-coupon",children:"\u5151\u6362"})]}),!!P.length&&(0,x.jsx)(o.View,{className:h.title,children:"\u4ee5\u4e0b\u4f18\u60e0\u5238\u53ef\u4ee5\u4f7f\u7528"}),!!P.length&&(0,x.jsx)(N,{selectedCouponMap:I,uselessCouponMap:O,expandedDescCounponCode:k,couponsList:P,useable:!0,onClickToggleCouponDesc:(0,r.trackFn)("onClickToggleCouponDesc--c074a",G),onClickToggleCoupon:(0,r.trackFn)("onClickToggleCoupon--c074a",Y)}),!!R.length&&(0,x.jsx)(o.View,{className:h.title,children:"\u6682\u4e0d\u53ef\u4f18\u60e0"}),!!R.length&&(0,x.jsx)(N,{selectedCouponMap:I,uselessCouponMap:O,expandedDescCounponCode:k,couponsList:R,useable:!1,onClickToggleCouponDesc:(0,r.trackFn)("onClickToggleCouponDesc--f107a",G),onClickToggleCoupon:(0,r.trackFn)("onClickToggleCoupon--f107a",Y)})]})}),(0,x.jsxs)(o.View,{className:h.foot,style:{paddingBottom:"".concat(z?z+10:30,"px")},children:[(0,x.jsxs)(o.View,{className:h["f-info"],children:[(0,x.jsx)(o.Text,{children:"\u5df2\u9009\u4e2d"+D.length+"\u9879\u4f18\u60e0"}),(0,x.jsx)(o.Text,{className:h["f-amount"],children:" \u5171\u4f18\u60e0\xa5"+L})]}),(0,x.jsx)(o.View,{className:h["f-btn"],onClick:(0,r.trackFn)("onClickConfirmCouponList--1270f",U),"data-testid":"on-click-confirm-coupon-list",children:"\u786e\u8ba4"})]})]})},T={container:"Coupon-module_DJnwd",body:"Coupon-module_JXkdk",label:"Coupon-module_mnYq1",disbled:"Coupon-module_JU_qJ",active:"Coupon-module_wOqVV",recommend:"Coupon-module_HY4ro",icon:"Coupon-module_bv0zx"},w=function(e){var t=e.passengerTotalCount,n=e.addCouponDomestic,i=e.manualOperateSelected,a=e.couponLabel,c=e.isIntl,s=e.couponList,u=e.selected,l=e.addOrVerifyCouponInter;if(!t)return null;var d=a||{},f=d.labelType,p=void 0===f?"":f,m=d.label,h=void 0===m?"":m,v=d.hasRecommend,g=void 0!==v&&v;return(0,x.jsx)(o.View,{className:(0,r.classnames)("card",T.container),children:(0,x.jsx)(o.View,{className:(0,r.classnames)("card-body",T.body),onClick:(0,r.trackFn)("onClick--4f65c",(function(){_({addCouponDomestic:n,manualOperateSelected:i,addOrVerifyCouponInter:l,isIntl:c,couponList:s,selected:u})})),children:(0,x.jsx)(o.View,{className:"container",children:(0,x.jsxs)(o.View,{className:"row",children:[(0,x.jsx)(o.View,{className:"col-3",style:{fontWeight:500},children:"\u4f18\u60e0\u5238"}),(0,x.jsxs)(o.View,{className:(0,r.classnames)("col-8",T.label,T[p]),children:[h,g&&(0,x.jsx)(o.Text,{className:T.recommend,children:"\u63a8\u8350\u4f18\u60e0"})]}),(0,x.jsx)(o.View,{className:"col-1",children:(0,x.jsx)(o.Text,{className:(0,r.classnames)("iconfont-h5 icon-arrow-right",T.icon)})})]})})})})},C=w},35102:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(22276),i=n(90129),o=n(62171),a=n(90201),c=n(71515),s=n(61659),u=n(43752),l=n(13374),d=n(67347),f=n(48937),p=n(36140),m={text:"\u5b89\u5fc3\u8d2d\u7968\uff0c\u4fdd\u8bc1100%\u51fa\u7968",icon:"zan"},h=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(e[r]){m.text=e[r],"REMAIN_TICKET"===r&&(m.icon="bell");break}}return m},v=n(44682),g=n(2269),y={ADULT:"\u6210\u4eba",CHILD:"\u513f\u7ae5",INFANT:"\u5a74\u513f"},x=function(e){var t=e.detail,n=e.bookingPageText,m=e.passengerCount,x=e.lockPriceStimulus,_=e.lockPriceSwitcher,N=e.isIntl,b=e.children,T=t||{},w=T.sections,C=void 0===w?[]:w,I=T.policy,E=T.implyText,S=void 0===E?{}:E,j=T.segs,k=I||{},A=k.policyNoteList,P=void 0===A?[]:A,R=k.totalPrices,O=k.totalTaxes,D=void 0===O?{}:O,L=k.totalOilFees,V=void 0===L?{}:L,Z=k.grades,M=void 0===Z?[]:Z,F=x&&_,B=(0,a.useMemo)((function(){var e=o.R.find(o.R.propEq("type",l.NF.TravelCoupon),P);return(null===e||void 0===e?void 0:e.title)||""}),[P]),U=(0,a.useMemo)((function(){return h(S)}),[S]),q=(0,a.useMemo)((function(){return o.R.pipe(o.R.toPairs,o.R.reduce((function(e,t){var n=(0,i.Z)(t,2),o=n[0],a=n[1];if((m[o]>0||"ADULT"===o)&&R){if(R[o]){var c="ADULT"===o&&B?"(".concat(B,")"):"";return[].concat((0,r.Z)(e),["".concat(a).concat(c,"\xa5").concat(R[o])])}if("CHILD"===o)return[].concat((0,r.Z)(e),["".concat(a,"\xa5").concat(R["CHILD_BOOK_ADULT"])])}return e}),[]))(y)}),[R,m,B]),H=(0,a.useMemo)((function(){return D&&(D["ADULT"]||V["ADULT"])?"+ \u673a\u5efa\u71c3\u6cb9\xa5".concat((D["ADULT"]||0)+(V["ADULT"]||0)):""}),[D,V]);return(0,a.useEffect)((function(){var e;C.length&&(0,u.$J)("flight_info_show"),U.text&&(0,u.$J)("imply_show",{text:U.text});var t=null===C||void 0===C||null===(e=C[0])||void 0===e||null===(e=e.segments)||void 0===e?void 0:e[0];F&&(0,u.ff)("S_Flt_N_TinyApp_PriceFreeze_AfterSale_FillShow",{dCityCode:null===t||void 0===t?void 0:t.departureCityCode,aCityCode:null===t||void 0===t?void 0:t.arrivalCityCode,takeofftime:null===t||void 0===t?void 0:t.departDateTime,flightNo:null===t||void 0===t?void 0:t.airline,currentPrice:null===R||void 0===R?void 0:R.ADULT})}),[U,C,F,R]),f.F.isFlightHotel?(0,g.jsx)(f.F.Component,{showModal:d.K4,closeModal:d.Mr,onFlightClick:function(){return(0,p.RK)({sections:C,isIntl:N,page:"BOOKING"})},type:f.C.flightInfo}):(0,g.jsx)(c.View,{className:v.Z["flight-info"],children:!(!C||!C.length)&&(0,g.jsx)(c.View,{className:"card",children:(0,g.jsx)(c.View,{className:"card-body",children:(0,g.jsxs)(c.View,{className:v.Z.container,children:[(0,g.jsxs)(c.View,{className:v.Z.info,onClick:(0,o.trackFn)("onClick--5077e",(function(){return(0,p.RK)({sections:C,isIntl:N,segs:j,grades:M,page:"BOOKING"})})),"data-testid":"open-flight-detail-popup",children:[(0,g.jsx)(c.View,{className:v.Z.section,children:C.map((function(e,t){return(0,g.jsx)(c.View,{children:e.segments.map((function(n,r){var i=e.segments[e.segments.length-1].arrivalCityName,o=(n.departureCityName.length>3?n.departureCityName.slice(0,3)+"...":n.departureCityName)+" \u21c0 "+(i.length>3?i.slice(0,3)+"...":i);return r>0?null:(0,g.jsxs)(c.View,{className:v.Z.segment,children:[1===C.length?(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(c.View,{className:v.Z.title,children:"\u5355\u7a0b"})}):(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(c.View,{className:v.Z.title,children:0===t?"\u53bb\u7a0b":"\u8fd4\u7a0b"})}),(0,g.jsx)(c.Label,{className:v.Z.detail,children:o}),(0,g.jsx)(c.Label,{className:v.Z.detail,children:n.date||e.date}),(0,g.jsx)(c.Label,{className:v.Z.detail,children:n.departureTime})]},"".concat(n.airline,"_").concat(t,"_").concat(r))}))},"".concat(e.duration,"_").concat(t))}))}),(0,g.jsx)(c.View,{className:(0,o.classnames)("iconfont-h5 icon-arrow-right",v.Z.right)})]}),!N&&(0,g.jsxs)(c.View,{className:v.Z.price,id:"price-type-list",children:[q.map((function(e,t){return(0,g.jsxs)(c.View,{children:[t>0&&(0,g.jsx)(c.Text,{className:v.Z.block}),(0,g.jsx)(c.Text,{className:v.Z.priceText,children:e})]},t)})),(0,g.jsx)(c.Text,{className:v.Z.taxesOil,children:H}),H&&(0,g.jsx)(s.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/book-top/Icon_wraning.png",className:v.Z.warning,onClick:(0,o.trackFn)("price-type-list--onClick--f0d87",(function(){return(0,p.dY)(n)}))})]}),b]})})})})},_=x},36140:function(e,t,n){"use strict";n.d(t,{RK:function(){return At},p0:function(){return Rt},dY:function(){return Pt}});var r=n(45023),i=n(298),o=n(62171),a=n(90201),c=n(71515),s=n(67347),u=n(43752),l=n(41103),d=n(90129),f=n(32620),p=n(52296),m=function(e,t){var n;return n=1===t?"\u5355\u7a0b":2===t?e?"\u8fd4\u7a0b":"\u53bb\u7a0b":t>2?e?"\u7b2c".concat(e+1,"\u7a0b"):"\u7b2c1\u7a0b":"\u5355\u7a0b",n},h=function(e,t){if(null!==e&&void 0!==e&&e.fmap&&null!==t&&void 0!==t&&t.fmap){var n=1&e.fmap||0,r=1&t.fmap||0;return n-r}return 0},v=function(e,t,n){if(!e||!t)return"";var r=null===e||void 0===e?void 0:e.dportinfo,i=r||{},o=i.city,a=i.aport,c=i.bsname,s=null===t||void 0===t?void 0:t.aportinfo,u=s||{},l=u.city,d=u.cityname,f=u.aport,p=u.aportsname,m=u.bsname;return o!==l?"":n||f!==a?"\u4e2d\u8f6c".concat(d):m!==c?"\u4e2d\u8f6c".concat(f).concat(p):"\u4e2d\u8f6c".concat(f).concat(p).concat(m)},g=function(e){return null!==e&&void 0!==e&&e.length?e.map((function(e){var t=null===e||void 0===e?void 0:e.tlst.filter((function(e){return 4&(null===e||void 0===e?void 0:e.fmap)})),n=o.R.sort(h,t);return(0,i.Z)((0,i.Z)({},e),{},{tlst:n})})):[]},y=function(e,t,n){var r,a=null===e||void 0===e?void 0:e.length;if(null===e||void 0===e||!e.length)return[];var c=0,s=g(n),u=null===e||void 0===e?void 0:e.map((function(n,u){var l,d,p,m,h,g,y,x,_,N,b,T,w,C=(0,o.dayjs)(null===n||void 0===n||null===(l=n.dateinfo)||void 0===l?void 0:l.ddate).format("HH:mm"),I=(0,o.dayjs)(null===n||void 0===n||null===(d=n.dateinfo)||void 0===d?void 0:d.adate).format("HH:mm"),E=(0,o.dayjs)(null===n||void 0===n||null===(p=n.dateinfo)||void 0===p?void 0:p.ddate).format("YYYY-MM-DD"),S=(0,o.dayjs)(null===n||void 0===n||null===(m=n.dateinfo)||void 0===m?void 0:m.adate).format("YYYY-MM-DD"),j=(0,o.dayjs)(null===(h=e[u-1])||void 0===h||null===(h=h.dateinfo)||void 0===h?void 0:h.adate).format("YYYY-MM-DD"),k=(0,o.dayjs)(null===n||void 0===n||null===(g=n.dateinfo)||void 0===g?void 0:g.ddate).format("MM-DD"),A=(0,o.dayjs)(null===n||void 0===n||null===(y=n.dateinfo)||void 0===y?void 0:y.adate).format("MM-DD"),P=u&&(0,o.dayjs)(E).diff(j,"day"),R=(0,o.dayjs)(S).diff(E,"day"),O=(0,f.xF)(null===n||void 0===n||null===(x=n.dateinfo)||void 0===x?void 0:x.jtime),D=O?"\u98de".concat(O):"",L=(null===n||void 0===n?void 0:n.dportinfo)||{},V=L.aport,Z=L.aportsname,M=L.bsname,F=(null===n||void 0===n?void 0:n.aportinfo)||{},B=F.aport,U=F.aportsname,q=F.bsname,H=(null===n||void 0===n?void 0:n.basinfo)||{},G=H.airsname,Y=H.flgno,K=H.logourl,W=H.meal,z=H.cancelrate,Q=H.ishared,$=H.clogourl,X=H.crerairsname,J=H.crerflgno,ee=null===n||void 0===n||null===(_=n.craftinfo)||void 0===_?void 0:_.cdname,te=null===(N=o.R.find((function(e){return 9===e.notetpe}),(null===n||void 0===n?void 0:n.notelst)||[]))||void 0===N?void 0:N.notecnt,ne=null===n||void 0===n?void 0:n.stopinfo;null!==ne&&void 0!==ne&&ne.isstop&&null!==ne&&void 0!==ne&&null!==(b=ne.citys)&&void 0!==b&&b.length&&null!==t&&void 0!==t&&t.length&&(r=null===t||void 0===t?void 0:t[c],c++);var re=a>1&&u<a-1,ie=null===s||void 0===s?void 0:s[u],oe=v(null===e||void 0===e?void 0:e[u+1],n,!1),ae=v(null===e||void 0===e?void 0:e[u+1],n,!0),ce=(0,f.b6)(null===e||void 0===e||null===(T=e[u+1])||void 0===T||null===(T=T.dateinfo)||void 0===T?void 0:T.ddate,null===n||void 0===n||null===(w=n.dateinfo)||void 0===w?void 0:w.adate),se=(ce.hours?"".concat(ce.hours,"h"):"")+(ce.minutes?"".concat(ce.minutes,"m"):""),ue=ce.hours<2||2===ce.hours&&!ce.minutes;return(0,i.Z)((0,i.Z)({},n),{},{departureTime:C,arrivalTime:I,crossDayAddInDepart:P,crossDayAddInArrival:R,departure:k,arrival:A,tripSpendTime:D,departurePort:V,departurePortName:Z,departureTerminal:M,arrivalPort:B,arrivalPortName:U,arrivalTerminal:q,airlineName:G,airlineNumber:Y,airlineLogo:K,craftName:ee,comfortUrl:te,cancelRate:z,meal:W,isShare:Q,shareAirlineLogo:$,shareAirlineName:X,shareAirlineNumber:J,stopinfo:(0,i.Z)((0,i.Z)({},null===n||void 0===n?void 0:n.stopinfo),{},{stopTipData:r}),hasTransfer:re,foldTransferName:oe,unfoldTransferName:ae,transitTime:se,highLightTime:ue,transferNoteInfo:ie})}));return u},x=function(e){var t=e||{},n=t.transfer,r=void 0===n?[]:n,i=t.flgs,o=r.filter((function(e){return 8===e.tflag})),a=r.filter((function(e){var t;return 4===e.tflag||(null===(t=e.tname)||void 0===t?void 0:t.includes("\u4e2d\u8f6c"))}))||[];return y(i,o,a)},_=n(61659),N={transferBox:"LineBreakArea-module_Gln6r",stopBox:"LineBreakArea-module_RxRr8",name:"LineBreakArea-module_tsZUV",time:"LineBreakArea-module_eJkhS",tipContainer:"LineBreakArea-module_iW1AO",iconBox:"LineBreakArea-module_ayXiK",disadvantage:"LineBreakArea-module_u2iOx",advantage:"LineBreakArea-module_sOvWM",normalText:"LineBreakArea-module_IwatB",rightIcon:"LineBreakArea-module_eGbjg",separator:"LineBreakArea-module_ajqmM",hightLight:"LineBreakArea-module_EKSu3"},b=n(2269),T=function(e){var t=e.tip,n=e.idx,i=e.advantageIdxList,a=e.disadvantageIdxList,s=e.isLast,u=e.hiddenRightArrow,l=e.isStop,d=null===t||void 0===t?void 0:t.fmap,f=1&d,p=!l&&(n===(null===i||void 0===i?void 0:i[0])||n===(null===a||void 0===a?void 0:a[0]));return(0,b.jsxs)(c.View,{className:N.tipContainer,children:[p?(0,b.jsx)(_.Z,{className:N.iconBox,src:f?"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/atention.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/policyGou.png"}):l&&!n?null:(0,b.jsx)(c.Text,{className:N.separator}),(null===t||void 0===t?void 0:t.title)&&(0,b.jsx)(c.Text,{className:(0,o.classnames)((0,r.Z)((0,r.Z)((0,r.Z)({},N.disadvantage,f),N.advantage,!f),N.normalText,l)),children:t.title}),!u&&s&&(0,b.jsx)(c.Text,{className:N.rightIcon})]})},w=function(e){var t=e.stopCitys,n=e.name,i=e.duration,s=e.tipList,u=e.isStop,l=void 0!==u&&u,d=e.hiddenRightArrow,f=void 0!==d&&d,p=e.timeHighlight,m=e.showTransferLayer,h=null===s||void 0===s?void 0:s.length,v=[],g=[];return h&&s.forEach((function(e,t){1&e.fmap?g.push(t):v.push(t)})),null!==t&&void 0!==t&&t.length?(0,b.jsx)(b.Fragment,{children:t.map((function(e){var t="\u7ecf\u505c".concat((null===e||void 0===e?void 0:e.cityName)||(null===e||void 0===e?void 0:e.cityname)),n=null===e||void 0===e?void 0:e.stoptime,i=Math.floor(n/60),u=Math.floor(n-60*i),d=i&&u?"".concat(i,"h").concat(u,"m"):i?"".concat(i,"h"):"".concat(u,"m"),y=(null===s||void 0===s?void 0:s.filter((function(t){return t.aport===e.aport})))||[];return(0,b.jsxs)(c.View,{className:"".concat(l?N.stopBox:N.transferBox),onClick:(0,o.trackFn)(e.cityName+"--bd72f",(function(){return m&&m(t)})),children:[t&&(0,b.jsx)(c.Text,{className:N.name,children:t}),d&&(0,b.jsx)(c.Text,{className:(0,o.classnames)(N.time,(0,r.Z)({},N.hightLight,p)),children:d}),null!==y&&void 0!==y&&y.length&&h?y.map((function(e,t){return(0,b.jsx)(a.Fragment,{children:(0,b.jsx)(T,{tip:e,idx:t,isStop:l,advantageIdxList:v,disadvantageIdxList:g,isLast:t===h-1,hiddenRightArrow:f})},t)})):!f&&(0,b.jsx)(c.Text,{className:N.rightIcon})]},e.cityName)}))}):(0,b.jsxs)(c.View,{className:"".concat(l?N.stopBox:N.transferBox),onClick:(0,o.trackFn)("onClick--4c67d",(function(){return m&&m(n)})),children:[n&&(0,b.jsx)(c.Text,{className:N.name,children:n}),i&&(0,b.jsx)(c.Text,{className:(0,o.classnames)(N.time,(0,r.Z)({},N.hightLight,p)),children:i}),h?s.map((function(e,t){return(0,b.jsx)(a.Fragment,{children:(0,b.jsx)(T,{tip:e,idx:t,isStop:l,advantageIdxList:v,disadvantageIdxList:g,isLast:t===h-1,hiddenRightArrow:f})},t)})):!f&&(0,b.jsx)(c.Text,{className:N.rightIcon})]})},C=n(17745),I=n(13839),E={flightLabel:"FlightLabel-module_seV6n",lineTag:"FlightLabel-module_fKuf_",airLogo:"FlightLabel-module_vd4AB",separator:"FlightLabel-module_g_0ms",tagsMapBox:"FlightLabel-module_X3I5b",rightDisplayArrow:"FlightLabel-module_UzNyp"},S=function(e,t,n,r,i,o,a){var c=[],s=[];if(t)n&&c.push(n),i&&s.push(i),r&&!e&&s.push(r),[o,a].filter(Boolean).forEach((function(e){return s.push(e)}));else{var u=e?[n,i,o,a].filter(Boolean):[n,i,r,o,a].filter(Boolean);null===u||void 0===u||u.forEach((function(e){return e&&c.push(e)}))}return{dataList:c,shareDataList:s}},j=function(e){var t=e.flightTags,n=e.hideRightArrow;return(null===t||void 0===t?void 0:t.length)>0?(0,b.jsx)(a.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,r){return(0,b.jsxs)(c.View,{className:E.tagsMapBox,children:[(0,b.jsx)(c.Text,{className:E.separator}),(0,b.jsx)(c.Text,{children:e}),r===t.length-1&&!n&&(0,b.jsx)(I.Z,{})]},r)}))}):null},k=function(e){var t=e.comfortUrl,n=e.airlineLogo,r=e.airlineName,i=e.airlineNumber,a=e.craftName,s=e.tripSpendTime,l=e.hideComfortArrow,d=e.meal,f=e.cancelRate,p=e.isDirectTrip,m=e.isShare,h=e.shareAirlineLogo,v=e.shareAirlineName,g=e.shareAirlineNumber,y=e.cabinName,x=function(e){return(0,u.jq)("c_open_comfort_layer"),!l&&e&&(0,C.G)(e,{needFrom:!0})},N=S(p,m,a,s,y,d,f),T=N.dataList,w=N.shareDataList,I=l||!t;return(0,b.jsxs)(c.View,{className:E.flightLabel,onClick:(0,o.trackFn)("onClick--f1dc4",(function(){return x(t)})),children:[(0,b.jsxs)(c.View,{className:E.lineTag,children:[(0,b.jsx)(_.Z,{src:n,className:E.airLogo}),(0,b.jsxs)(c.Text,{children:[r,i]}),!(null===T||void 0===T||!T.length)&&(0,b.jsx)(j,{flightTags:T,hideRightArrow:m||I})]}),m&&(0,b.jsxs)(c.View,{className:E.lineTag,children:[(0,b.jsx)(_.Z,{className:E.airLogo,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/shareFlt.png"}),(0,b.jsx)(c.Text,{children:"\u5b9e\u9645\u627f\u5750 "}),h&&(0,b.jsx)(_.Z,{src:h,className:E.airLogo}),(0,b.jsxs)(c.Text,{children:[v,g]}),!(null===w||void 0===w||!w.length)&&(0,b.jsx)(j,{flightTags:w,hideRightArrow:I})]})]})},A=n(12809),P={transferLayer:"StopAndTransferLayer-module_zlFSz",tipLayerTab:"StopAndTransferLayer-module_Wo3Ck",tabsTitleWrapper:"StopAndTransferLayer-module_SHLwS",tabsTitle:"StopAndTransferLayer-module_rO0NE",tabTitle:"StopAndTransferLayer-module_YYoxh",active:"StopAndTransferLayer-module_DCOfW",contentBox:"StopAndTransferLayer-module_soBbJ",tipContainer:"StopAndTransferLayer-module_t_OTk",tipItem:"StopAndTransferLayer-module_CtF7E",titleBox:"StopAndTransferLayer-module_P7MgM",title:"StopAndTransferLayer-module_Mwstk",blueDot:"StopAndTransferLayer-module_YdkwC",content:"StopAndTransferLayer-module_FIxEv"},R=function(e){var t=e.tripTipList,n=e.tabIdx,r=(0,a.useState)(n||0),i=(0,d.Z)(r,2),s=i[0],u=i[1],l=function(e){return(null===t||void 0===t?void 0:t.find((function(t){return(null===t||void 0===t?void 0:t.trno)===e})))||{}},f=(0,a.useState)(l(n)),p=(0,d.Z)(f,2),m=p[0],h=p[1],v=(0,a.useMemo)((function(){return(null===m||void 0===m?void 0:m.tlst)||[]}),[m]),g=function(e){u(e),h(l(e))};return(0,b.jsxs)(c.View,{className:P.transferLayer,children:[(null===t||void 0===t?void 0:t.length)>1&&(0,b.jsx)(c.View,{className:"".concat(P.tipLayerTab),children:(0,b.jsx)(A.Z,{className:P.tabsTitleWrapper,scrollX:!0,id:"id_76b53",onScroll:(0,o.trackFn)("id_76b53"),children:t.map((function(e){var t=e.tname,n=e.trno;return(0,b.jsx)(c.View,{className:P.tabsTitle,children:(0,b.jsx)(c.View,{className:"".concat(P.tabTitle," ").concat(s===n?P.active:""),onClick:(0,o.trackFn)("id_76b53--"+"tab_".concat(t)+"--a269c",(function(){return g(n)})),children:t})},"tab_".concat(t))}))})}),(0,b.jsx)(c.View,{className:P.contentBox,children:(0,b.jsx)(A.Z,{className:P.tipContainer,scrollY:!0,id:"id_f2335",onScroll:(0,o.trackFn)("id_f2335"),children:v.map((function(e){var t=e.title,n=e.cnt;return(0,b.jsxs)(c.View,{className:P.tipItem,children:[(0,b.jsxs)(c.View,{className:P.titleBox,children:[(0,b.jsx)(c.View,{className:P.blueDot}),(0,b.jsx)(c.Text,{className:P.title,children:t})]}),(0,b.jsx)(c.View,{className:P.content,children:n})]},"tip_item_".concat(t))}))})})]})},O=function(e,t,n){var r=(null===e||void 0===e?void 0:e.transfer)||[];if(null!==r&&void 0!==r&&r.length){var i=1===(null===r||void 0===r?void 0:r.length)?n||r[0].tname:"\u4e2d\u8f6c\u63d0\u9192";(0,p.jq)("c_open_transfer_layer_successes"),(0,s.K4)({close:{position:"top-left"},closeMethod:"close",title:i,content:(0,b.jsx)(R,{tripTipList:r,tabIdx:t}),position:"bottom",animationClassName:"animate__animated animate__slideInUp animate__faster",style:{width:"100%",position:"absolute",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})}else(0,p.jq)("c_open_transfer_layer_failure")},D={directCard:"DirectCard-module_cAsC6",directContainer:"DirectCard-module_Y0Z0I",airportContainer:"DirectCard-module_SPmlV",blueBorder:"DirectCard-module_NDt5o",emptyDiv:"DirectCard-module_meBgp",timeContainer:"DirectCard-module_R8Qit",airport:"DirectCard-module_nRzhR",time:"DirectCard-module_r4K5Y",depart:"DirectCard-module_DYtIa",arrive:"DirectCard-module_bwvEC",arriveBox:"DirectCard-module_RI38T",crossDay:"DirectCard-module_p9E4s"},L=function(e){var t,n=e.flight,r=e.hiddenRightArrow,i=e.hideComfortArrow,o=null===n||void 0===n?void 0:n.transfer,a=o.filter((function(e){return 8===e.tflag}))||[],s=null===n||void 0===n?void 0:n.flgs,u=null===(t=y(s,a))||void 0===t?void 0:t[0],l=null===u||void 0===u?void 0:u.departureTime,d=null===u||void 0===u?void 0:u.arrivalTime,f=null===u||void 0===u?void 0:u.departurePort,p=null===u||void 0===u?void 0:u.departurePortName,m=null===u||void 0===u?void 0:u.departureTerminal,h=null===u||void 0===u?void 0:u.arrivalPort,v=null===u||void 0===u?void 0:u.arrivalPortName,g=null===u||void 0===u?void 0:u.arrivalTerminal,x=null===u||void 0===u?void 0:u.crossDayAddInArrival,_=null===u||void 0===u?void 0:u.arrival,N=u.tripSpendTime,T=u.airlineLogo,C=u.airlineName,I=u.airlineNumber,E=u.craftName,S=u.comfortUrl,j=u.meal,A=u.cancelRate,P=u.isShare,R=u.shareAirlineLogo,L=u.shareAirlineName,V=u.shareAirlineNumber,Z=u.cabinName,M=null===u||void 0===u?void 0:u.stopinfo,F=null===M||void 0===M?void 0:M.isstop,B=null===M||void 0===M?void 0:M.citys,U=null===M||void 0===M?void 0:M.stopTipData;return(0,b.jsxs)(c.View,{className:D.directCard,children:[(0,b.jsxs)(c.View,{className:D.directContainer,children:[(0,b.jsxs)(c.View,{className:D.timeContainer,children:[(0,b.jsx)(c.View,{className:"".concat(D.time," ").concat(D.depart),children:l}),(0,b.jsxs)(c.View,{className:"".concat(D.arriveBox," ").concat(D.time," ").concat(D.arrive),children:[!!x&&(0,b.jsx)(c.View,{className:D.crossDay,children:_}),d]})]}),(0,b.jsxs)(c.View,{className:D.airportContainer,children:[(0,b.jsx)(c.View,{className:D.blueBorder}),(0,b.jsxs)(c.View,{className:D.timeContainer,children:[(0,b.jsxs)(c.View,{className:"".concat(D.airport," ").concat(D.depart),children:[f," ",p," ",m]}),F&&(0,b.jsx)(w,{stopCitys:B,tipList:null===U||void 0===U?void 0:U.tlst,hiddenRightArrow:r,timeHighlight:!1,showTransferLayer:function(e){return!r&&O(n,null===U||void 0===U?void 0:U.trno,e)}}),(0,b.jsxs)(c.View,{className:"".concat(D.airport," ").concat(D.arrive),children:[h," ",v," ",g]})]})]})]}),(0,b.jsxs)(c.View,{className:D.directContainer,children:[(0,b.jsx)(c.View,{className:D.emptyDiv}),(0,b.jsx)(c.View,{children:(0,b.jsx)(k,{comfortUrl:S,airlineLogo:T,airlineName:C,airlineNumber:I,craftName:E,tripSpendTime:N,hideComfortArrow:i,meal:j,cancelRate:A,isDirectTrip:!0,isShare:P,shareAirlineLogo:R,shareAirlineName:L,shareAirlineNumber:V,cabinName:Z})})]})]})},V={transferBox:"TransferCard-module_BE400",transferBoxNew:"TransferCard-module_QCZkT",noBorder:"TransferCard-module_kEThY",firstTripBox:"TransferCard-module_Kr9N5",airportContainer:"TransferCard-module_AeW8P",blueBorder:"TransferCard-module_qFE_i",airportNameBox:"TransferCard-module_Pgtss",defaultAirportNameBox:"TransferCard-module_fVaQr",endStretch:"TransferCard-module_xaRVW",departureDate:"TransferCard-module_MziLp",arrivalDate:"TransferCard-module_kCHoQ",addBottom:"TransferCard-module_pw7o8",relateFix:"TransferCard-module_PfQ2E",airport:"TransferCard-module_JinEK",time:"TransferCard-module_zX15l",departCross:"TransferCard-module_pscMA",crossDay:"TransferCard-module_NBhho",subTime:"TransferCard-module_VOROD",depart:"TransferCard-module_TND9n",arrive:"TransferCard-module_qQNst",lineLeftArea:"TransferCard-module_USIMt",tipContainer:"TransferCard-module_SpBA5",transferArrive:"TransferCard-module_Aktdz",addTopArrive:"TransferCard-module_AuwMd"},Z=function(e){var t=e.arrowUp,n=e.flight,i=e.hiddenRightArrow,s=e.hideComfortArrow,u=x(n);if(null===u||void 0===u||!u.length)return null;var l=u.length;return(0,b.jsx)(c.View,{className:V.transferContainer,children:u.map((function(e,u){var d=e||{},f=d.departureTime,p=d.arrivalTime,m=d.crossDayAddInDepart,h=d.crossDayAddInArrival,v=d.departure,g=d.arrival,y=d.tripSpendTime,x=d.departurePort,_=d.departurePortName,N=d.departureTerminal,T=d.arrivalPort,C=d.arrivalPortName,I=d.arrivalTerminal,E=d.airlineLogo,S=d.airlineName,j=d.airlineNumber,A=d.craftName,P=d.comfortUrl,R=d.meal,D=d.cancelRate,L=d.isShare,Z=d.shareAirlineLogo,M=d.shareAirlineName,F=d.shareAirlineNumber,B=d.stopinfo,U=d.hasTransfer,q=d.foldTransferName,H=d.unfoldTransferName,G=d.transitTime,Y=d.highLightTime,K=d.transferNoteInfo,W=d.cabinName,z=t?H:q,Q=B||{},$=Q.isstop,X=Q.citys,J=Q.stopTipData;return(0,b.jsxs)(a.Fragment,{children:[(0,b.jsxs)(c.View,{className:V.firstTripBox,children:[(0,b.jsxs)(c.View,{className:V.lineLeftArea,children:[(0,b.jsxs)(c.View,{className:(0,o.classnames)(V.departureDate,(0,r.Z)((0,r.Z)({},V.addBottom,!t),V.relateFix,m)),children:[!!m&&(0,b.jsx)(c.View,{className:"".concat(V.crossDay," ").concat(V.departCross),children:v}),(0,b.jsx)(c.View,{className:(0,o.classnames)(V.time,V.depart,(0,r.Z)({},V.subTime,!t&&u)),children:f})]}),(0,b.jsxs)(c.View,{className:V.arrivalDate,children:[!!h&&(0,b.jsx)(c.View,{className:V.crossDay,children:g}),(0,b.jsx)(c.View,{className:(0,o.classnames)(V.time,V.arrive,(0,r.Z)({},V.subTime,!t&&u<l-1)),children:p})]})]}),(0,b.jsxs)(c.View,{className:V.airportContainer,children:[(0,b.jsx)(c.View,{className:V.blueBorder}),(0,b.jsxs)(c.View,{className:(0,o.classnames)((0,r.Z)((0,r.Z)((0,r.Z)({},V.airportNameBox,t),V.defaultAirportNameBox,!t),V.endStretch,!t&&u===l-1)),children:[(!t&&!u||t)&&(0,b.jsxs)(c.View,{className:(0,o.classnames)(V.airport,V.depart),children:[x," ",_," ",N]}),$&&(0,b.jsx)(w,{stopCitys:X,isStop:!0,tipList:null===J||void 0===J?void 0:J.tlst,hiddenRightArrow:i,timeHighlight:!1,showTransferLayer:function(){return!i&&O(n,null===J||void 0===J?void 0:J.trno)}}),(!t&&u===l-1||t)&&(0,b.jsxs)(c.View,{className:(0,o.classnames)(V.airport,V.arrive,V.transferArrive,(0,r.Z)({},V.addTopArrive,t&&!$)),children:[T," ",C," ",I]})]})]})]}),(0,b.jsxs)(c.View,{className:V.firstTripBox,children:[(0,b.jsx)(c.View,{className:V.lineLeftArea}),(0,b.jsxs)(c.View,{className:(0,o.classnames)((0,r.Z)((0,r.Z)((0,r.Z)({},V.transferBoxNew,t),V.transferBox,!t),V.noBorder,!U)),children:[t&&(0,b.jsx)(k,{comfortUrl:P,airlineLogo:E,airlineName:S,airlineNumber:j,craftName:A,tripSpendTime:y,hideComfortArrow:s,meal:R,cancelRate:D,isDirectTrip:!1,isShare:L,shareAirlineLogo:Z,shareAirlineName:M,shareAirlineNumber:F,cabinName:W}),U&&(0,b.jsx)(w,{name:z,duration:G,tipList:null===K||void 0===K?void 0:K.tlst,hiddenRightArrow:i,timeHighlight:Y,showTransferLayer:function(){return!i&&O(n,null===K||void 0===K?void 0:K.trno)}})]})]},-u)]},u)}))})},M={flightInfoArea:"InterFlightCard-module_AuzUE",unfoldFlightCard:"InterFlightCard-module_I_Ey2",foldFlightCard:"InterFlightCard-module_VZSAN",smallPaddingBtm:"InterFlightCard-module_I5uPV",bigPaddingBtm:"InterFlightCard-module_ZAdVd",topLineArea:"InterFlightCard-module_ascm6",flightDate:"InterFlightCard-module_gM0gK",arrowArea:"InterFlightCard-module_F992a",leftMargin:"InterFlightCard-module_Z9X5w",tripType:"InterFlightCard-module_ECwbS",flightTime:"InterFlightCard-module_jy9FF",separator:"InterFlightCard-module_gNqlW"},F=function(e){var t,n,r,i=e.flight,a=e.index,s=e.arrowUp,u=e.flightLength,l=e.showArrow,d=e.hiddenRightArrow,h=e.handleArrowClick,v=e.hiddenArrow,g=e.hideComfortArrow,y=m(a,u),x=(0,f.xF)(null===i||void 0===i||null===(t=i.seginfo)||void 0===t?void 0:t.durtion),_=(0,f.WU)(null===i||void 0===i||null===(n=i.flgs)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.dateinfo)||void 0===n?void 0:n.ddate.replace(/-/g,"/"),"MM-dd EE"),N=null===i||void 0===i||null===(r=i.flgs)||void 0===r?void 0:r.length;return N?((0,p.jq)("o_single_flight_card_show",{tripNumber:"\u7b2c".concat(a+1,"\u7a0b")}),(0,b.jsxs)(c.View,{className:"".concat(s?M.foldFlightCard:M.unfoldFlightCard," ").concat(a!==u-1?s?M.bigPaddingBtm:M.smallPaddingBtm:""),id:"flight-info-".concat(a),children:[(0,b.jsxs)(c.View,{className:M.topLineArea,children:[(0,b.jsxs)(c.View,{className:M.flightDate,children:[(0,b.jsx)(c.View,{className:M.tripType,children:y}),(0,b.jsxs)(c.View,{className:M.flightTime,children:[(0,b.jsx)(c.Text,{children:_}),(0,b.jsx)(c.Text,{className:M.separator}),(0,b.jsxs)(c.Text,{children:["\u603b\u65f6\u957f",x]})]})]}),!v&&l&&!a&&(0,b.jsxs)(c.View,{className:M.arrowArea,onClick:(0,o.trackFn)("flight-info-".concat(a)+"--handleArrowClick--2a89e",h),children:[(0,b.jsx)(c.Text,{children:s?"\u6536\u8d77":"\u5c55\u5f00"}),(0,b.jsx)(c.Text,{className:"".concat(M.leftMargin," iconfont-h5 ").concat(s?"icon-arrow-up":"icon-arrow-down")})]})]}),(0,b.jsx)(c.View,{className:M.segmentContainer,children:1===N?(0,b.jsx)(L,{flight:i,hiddenRightArrow:d,hideComfortArrow:g}):(0,b.jsx)(Z,{arrowUp:!!v||s,flight:i,hiddenRightArrow:d,hideComfortArrow:g})})]})):((0,p.jq)("o_single_flight_card_not_exist"),null)},B=function(e){var t=e.flights,n=e.hiddenArrow,r=void 0!==n&&n,i=e.hiddenRightArrow,s=void 0!==i&&i,u=e.hideComfortArrow,l=void 0!==u&&u,f=(0,a.useState)(!1),m=(0,d.Z)(f,2),h=m[0],v=m[1],g=(0,a.useState)(!1),y=(0,d.Z)(g,2),x=y[0],_=y[1],N=null===t||void 0===t?void 0:t.length,T=o.R.find((function(e){var t;return(null===(t=e.flgs)||void 0===t?void 0:t.length)>1}),t);(0,a.useEffect)((function(){T&&((0,p.jq)("o_flights_exist_transfer"),v(!0))}),[T]);var w=function(){(0,p.jq)(x?"c_flightCard_unfold":"c_flightCard_fold"),_(!x)};return null!==t&&void 0!==t&&t.length?(0,b.jsx)(c.View,{className:"".concat(M.flightInfoArea),children:t.map((function(e,t){return(0,a.createElement)(F,{flight:e,index:t,arrowUp:x,flightLength:N,showArrow:h,handleArrowClick:w,hiddenArrow:r,hiddenRightArrow:s,hideComfortArrow:l,key:"flight_".concat(t)})}))}):((0,p.jq)("o_flights_not_exist"),null)},U=n(62461),q=n(10073),H=q.Z.injectEndpoints({endpoints:function(e){return{getRefund:e.query({query:function(e){return{url:"/16818/intlflightticketremarks",queryParams:e,queryObject:{subEnv:"fat3"}}},transformResponse:function(e){return e}})}}}),G=H.useGetRefundQuery,Y=n(37444);function K(){return(0,b.jsx)(c.View,{className:Y.Z.tabImgWrap,children:(0,b.jsx)(c.Image,{className:Y.Z.tabImg,src:"https://pages.c-ctrip.com/flight_h5/swift/service_assurance/title_blue.png"})})}var W=n(22276),z=n(93212),Q={table:"index-module_MmTas",row:"index-module_iLdXZ",columnItem:"index-module_zu7rq",rowVertical:"index-module_l2hgd",columnItemVeritcal:"index-module_kkSoB",currentColumnBorderBottom:"index-module_DqhXT",currentColumnBorderRight:"index-module_fI4at"};function $(e){return null!==e&&void 0!==e&&!!e}function X(e){if(!e.length)return null;var t=e.filter($).map((function(e){var t=re(e);return e.map((function(e){return Array.isArray(e)?e:(0,i.Z)({flexBasis:t+"%"},e)}))}));return(0,b.jsx)(c.View,{className:Q.table,children:t.map((function(t,n){return J(t,n,n===e.length-1)}))})}function J(e,t,n){return e.length&&e.every(Array.isArray)?(0,b.jsx)(c.View,{className:Q.row,style:n?{borderBottom:"none"}:{},children:ee(e)},t):(0,b.jsx)(c.View,{className:Q.row,style:n?{borderBottom:"none"}:{},children:e.map((function(t,n){return ne(t,n,n===e.length-1)}))},t)}function ee(e){var t=re(e),n=re(e[0]),r=e.reduce((function(e,n){return n.forEach((function(n,r){e[r]=e[r]||[],e[r].push((0,i.Z)((0,i.Z)({},n),{},{flexBasis:t+"%"}))})),e}),[]),o={flexBasis:n+"%"};return(0,b.jsx)(b.Fragment,{children:r.map((function(e,t){return te(e,t,t===r.length-1,o)}))})}function te(e,t,n,r){var o=e.filter((function(e){return(null===e||void 0===e?void 0:e.text)||(null===e||void 0===e?void 0:e.render)})),s=n?{borderRight:"none"}:{},u=o.some((function(e){return null===e||void 0===e?void 0:e.customItem})),l=u?{minHeight:100*o.length+"px"}:{};return(0,b.jsx)(c.View,{className:Q.rowVertical,style:(0,i.Z)((0,i.Z)((0,i.Z)({},r),s),l),children:o.map((function(e,t){return(0,b.jsx)(a.Fragment,{children:ne(e,t,t===o.length-1,!0)},t)}))},t)}function ne(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e||{},s=a.render,u=a.text,l=a.flexGrow,d=a.flexBasis,f=a.style,p=a.customItem;if(s){var m=s(e);if("object"!==(0,z.Z)(m))r=(0,b.jsx)(c.Text,{children:m});else if(r=m,p){var h=n?"":o?Q.currentColumnBorderBottom:Q.currentColumnBorderRight;return(0,b.jsx)(c.View,{className:h,style:{flexBasis:d},children:m})}}else r=(0,b.jsx)(c.Text,{children:String(u)});var v=n?o?{borderBottom:"none"}:{borderRight:"none"}:{};return(0,b.jsx)(c.View,{className:o?Q.columnItemVeritcal:Q.columnItem,style:(0,i.Z)((0,i.Z)({},v),{},{flexBasis:d,flexGrow:l},f),children:r},t)}function re(e){var t=0,n=e.map((function(e){return null===e||void 0===e?void 0:e.flexBasis})).filter(Boolean).reduce((function(e,n){return t++,parseInt(n)+e}),0),r=(100-n)/(e.length-t);return r}var ie={firstLevel:"RefundLayer-module_T5JJf",firstLevelTitle:"RefundLayer-module_NMD8i",firstLevelImage:"RefundLayer-module_QfEZ1",descriptionItem:"RefundLayer-module_VpEX4",descriptionFirstTitle:"RefundLayer-module_XcXr2",descriptionFirstTitleText:"RefundLayer-module_VFckB",descriptionFirstTitleImage:"RefundLayer-module_NdBSl",descriptionDetails:"RefundLayer-module_zT_aJ",descriptionDetail:"RefundLayer-module_Rv6Ep",descriptionDetailTitle:"RefundLayer-module_HaIjo",descriptionDetailText:"RefundLayer-module_BJjcw",description:"RefundLayer-module_fqev4",tabImgWrap:"RefundLayer-module_IIu5S",tabImg:"RefundLayer-module_IE5rJ",tabContainer:"RefundLayer-module_cCpc2",tabItemContainer:"RefundLayer-module_k3gas",tabItem:"RefundLayer-module__0wIc",activeTabItem:"RefundLayer-module_MBNbK",priceDetail:"RefundLayer-module_jTECX",type7Img:"RefundLayer-module_hQgaw",type7Txt:"RefundLayer-module_NmK_Q",invoiceText:"RefundLayer-module_UwDqw",invoiceImg:"RefundLayer-module_kjC8k",invoiceImgWrap:"RefundLayer-module_BY4cZ",errorPage:"RefundLayer-module_SNf2F",errorContainer:"RefundLayer-module_ZeTgb",errorImage:"RefundLayer-module_mu8CY",errorText:"RefundLayer-module_c76mo",errorBtn:"RefundLayer-module_qrVno",loading:"RefundLayer-module_TgCrc",loadingBox:"RefundLayer-module_L5C3Z",titleArrow:"RefundLayer-module_MKtZ2",perPrice:"RefundLayer-module_Lwmi2",cityTitle:"RefundLayer-module_v4ocI"},oe={fontWeight:"bold",color:"#333333"},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return null;var n,r=/(.*)\s*([=-])\s*(.*)/,o=r.exec(e),a=ce(t)||"",s=a?(0,b.jsxs)(c.Text,{children:["(",a,")"]}):null;if(o){var u="="===o[2]?"https://pages.c-ctrip.com/flight_h5/tinyapp/middle/round_way.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/middle/one_way.png";n=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Text,{style:oe,children:o[1].trim()}),(0,b.jsx)(c.Image,{src:u,className:ie.titleArrow}),(0,b.jsx)(c.Text,{style:(0,i.Z)((0,i.Z)({},oe),{},{marginRight:"4px"}),children:o[3].trim()}),s]})}else n=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Text,{style:oe,children:e}),s]});return[{render:function(){return(0,b.jsx)(c.View,{className:ie.cityTitle,children:n})},style:{backgroundColor:"#F6F8FA"}}]};function ce(e){return e?32===(32&e)?"\u7ecf\u6d4e\u8231":64===(64&e)?"\u8d85\u7ea7\u7ecf\u6d4e\u8231":128===(128&e)?"\u516c\u52a1\u8231":256===(256&e)?"\u5934\u7b49\u8231":void 0:""}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,b.jsxs)(c.View,{className:ie.firstLevel,children:[(0,b.jsx)(c.Image,{className:ie.firstLevelImage,src:t}),(0,b.jsx)(c.Text,{className:ie.firstLevelTitle,children:e}),n]})}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return null;var n=e.iconUrl,r=e.title,i=e.descriptions;return(0,b.jsxs)(c.View,{className:ie.descriptionItem,children:[(0,b.jsxs)(c.View,{className:ie.descriptionFirstTitle,children:[(0,b.jsx)(c.Image,{className:ie.descriptionFirstTitleImage,src:n}),(0,b.jsx)(c.Text,{className:ie.descriptionFirstTitleText,children:r})]}),t,(0,b.jsx)(c.View,{className:ie.descriptionDetails,children:i.map((function(e){return(0,b.jsxs)(c.View,{children:[(0,b.jsxs)(c.View,{className:ie.descriptionDetail,children:[(0,b.jsx)(c.View,{className:ie.descriptionDetailTitle,children:(0,b.jsx)(de,{title:e.title,color:e.color,suffix:":"})}),(0,b.jsx)(c.View,{className:ie.descriptionDetailText,children:e.desc})]}),e.childrenJsx]},e.title)}))})]},r)}function le(e){var t=e.color,n=e.content;return(0,b.jsx)(c.Text,{style:t?{color:t}:{},children:n})}function de(e){var t=e.title,n=e.color,r=e.suffix,i=void 0===r?"":r;if(!t)return null;var o=/(.*)\s*(\[(O)\](.*?)\[\/O\])\s*(.*)/,a=t.match(o);if(null!==a&&void 0!==a&&a.length){var s=(0,d.Z)(a,6),u=s[1],l=s[3],f=s[4],p=s[5];return"O"!==l||n||(n="#FF7700"),(0,b.jsxs)(b.Fragment,{children:[u&&(0,b.jsx)(c.Text,{children:u}),(0,b.jsx)(le,{color:n,content:f}),(0,b.jsx)(le,{color:n,content:i}),p&&(0,b.jsx)(c.Text,{children:p})]})}return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(le,{color:n,content:t}),(0,b.jsx)(le,{color:n,content:i})]})}function fe(e){var t,n=e.noteList,r=[];n.forEach((function(e){1===e.ThirdTitleType&&e.ExtendInfor.forEach((function(e){3===e.Type&&r.push((0,b.jsx)(de,{title:e.ExtendTitle},e.ExtendTitle))}))}));var i,a=null===(t=n.find((function(e){return 4===e.ThirdTitleType})))||void 0===t?void 0:t.ExtendInfor;if(null!==a&&void 0!==a&&a.length){var u=a.find((function(e){return 5===e.Type}));u&&(i=(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(c.Text,{className:ie.invoiceText,onClick:(0,o.trackFn)("onClick--866ff",(function(){return(0,s.K4)({close:{position:"top-left"},title:"\u5883\u5916\u7535\u5b50\u51ed\u8bc1\u793a\u4f8b",content:(0,b.jsx)(c.View,{className:ie.invoiceImgWrap,children:u.ExtendContent&&(0,b.jsx)(c.Image,{className:ie.invoiceImg,src:u.ExtendContent})}),position:"bottom",style:{height:"85vh"}})})),children:u.ExtendTitle})}))}return(0,b.jsxs)(c.View,{children:[r,i]})}function pe(e){var t=[];return 16===(16&e.FlagMap)?(0,b.jsx)(fe,{noteList:e.NoteList}):(e.NoteList.forEach((function(e){1===e.ThirdTitleType&&e.ExtendInfor.forEach((function(e){3===e.Type?t.push((0,b.jsx)(c.View,{children:e.ExtendTitle},e.ExtendTitle)):7===e.Type&&t.push((0,b.jsxs)(c.View,{children:[(0,b.jsx)(c.View,{className:ie.type7Txt,dangerouslySetInnerHTML:{__html:e.ExtendTitle}}),e.ExtendContent&&(0,b.jsx)(c.Image,{className:ie.type7Img,src:e.ExtendContent})]},e.ExtendTitle))}))})),(0,b.jsx)(b.Fragment,{children:t}))}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return null;var n=e.NoteTitle,r=e.NoteList,i=e.TagStyle;return{title:n,iconUrl:i,descriptions:r.filter((function(e){return 512!==(521&e.FlagMap)&&1024!==(1024&e.FlagMap)})).map((function(e){return{title:e.NoteSecondTitle,color:t,desc:pe(e)}}))}}function he(e){var t=e.fareDetail,n=null===t||void 0===t?void 0:t.NoteList;if(null===n||void 0===n||!n.length)return null;var r=null===t||void 0===t?void 0:t.NoteSecondTitle,i=n.map((function(e){var t=e.ExtendInfor[0];return[{text:e.NoteThirdTitle},{text:t.ExtendTitle},{text:t.ExtendContent},{text:t.Remark,flexBasis:"35%"}]})),o=[{text:"\u4e58\u5ba2",style:{color:"#333333"}},{text:"\u7968\u4ef7",style:{color:"#333333"}},{text:"\u7a0e\u8d39",style:{color:"#333333"}},{text:"\u5355\u4eba\u542b\u7a0e\u603b\u4ef7",flexBasis:"35%",style:{color:"#333333"}}],a=[ae(r,null===t||void 0===t?void 0:t.FlagMap),o].concat((0,W.Z)(i)).filter(Boolean);return(0,b.jsx)(c.View,{className:ie.priceDetail,children:X(a)})}function ve(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return null;var a=e.NoteTitle,s=e.NoteList,u=e.TagStyle,l=s.map((function(e){return{title:e.NoteSecondTitle,desc:pe(e)}})),d=(null===(n=o.find((function(e){return 6===e.ExtentType})))||void 0===n?void 0:n.ExtentContent)||"",f=(null===(r=o.find((function(e){return 8===e.ExtentType})))||void 0===r?void 0:r.ExtentContent)||"",p=(0,b.jsxs)(c.View,{children:[(0,b.jsx)(c.Text,{children:d}),(0,b.jsxs)(c.View,{children:[(0,b.jsx)(c.Text,{children:null===(i=o.find((function(e){return 7===e.ExtentType})))||void 0===i?void 0:i.ExtentContent}),(0,b.jsx)(c.Text,{className:ie.perPrice,children:f})]})]});return l.unshift({title:(null===t||void 0===t?void 0:t.NoteTitle)||"",desc:p,childrenJsx:(0,b.jsx)(b.Fragment,{children:((null===t||void 0===t?void 0:t.NoteList)||[]).map((function(e){return(0,b.jsx)(he,{fareDetail:e},e.NoteSecondTitle)}))})}),{title:a,iconUrl:u,descriptions:l}}var ge=n(92954),ye={tabsContainer:"index-module__CHzJ",tabs:"index-module_DeK8T",tabItem:"index-module_TeM6Q",tabItemIcon:"index-module_BDt8Z",tabItemIconfont:"index-module_TgwX9",tabItemText:"index-module_DMtyh",active:"index-module_ciMw3",hightlight:"index-module_Sp1r0"};function xe(e){var t=e.tabs,n=(0,a.useState)(0),r=(0,d.Z)(n,2),i=r[0],s=r[1],u=(0,a.useState)("auto"),l=(0,d.Z)(u,2),f=l[0],p=l[1],m=(0,a.useRef)(0),h=(0,a.useRef)(null);if((0,a.useLayoutEffect)((function(){if(h.current){var e=h.current.clientHeight;if(!e||"auto"!==f)return;if(m.current){var t=m.current;m.current=e,p(t+"px"),(0,ge.nextTick)((function(){return p(e+"px")}))}else p(e+"px"),m.current=e}}),[f]),null===t||void 0===t||!t.length)return null;var v=function(e){p("auto"),s(e);var n=t[e].clickFn;n&&n()};return(0,b.jsxs)(c.View,{className:ye.tabsContainer,children:[(0,b.jsxs)(c.View,{className:ye.tabs,children:[(0,b.jsx)(c.View,{className:ye.hightlight,style:{left:i/t.length*100+"%"}}),t.map((function(e,t){var n=/^http/.test(e.iconUrl);return(0,b.jsxs)(c.View,{className:"".concat(ye.tabItem," ").concat(i===t?ye.active:""),onClick:(0,o.trackFn)(e.text+"--32545",(function(){return v(t)})),children:[n?(0,b.jsx)(c.Image,{className:ye.tabItemIcon,src:e.iconUrl}):(0,b.jsx)(c.View,{className:"iconfont-h5 ".concat(e.iconUrl," ").concat(ye.tabItemIconfont)}),(0,b.jsx)(c.View,{className:ye.tabItemText,children:e.text})]},e.text)}))]}),(0,b.jsx)(c.View,{ref:h,id:"tabs-content",style:{height:f,transition:"height ease-out .4s",width:"100%"},children:t[i].content})]})}var _e=function(e){return e[e["ADULT"]=1]="ADULT",e[e["CHILD"]=2]="CHILD",e[e["INFANT"]=3]="INFANT",e}({}),Ne=(0,r.Z)((0,r.Z)((0,r.Z)({},_e.ADULT,{txt:"\u6210\u4eba",icon:"icon-adult"}),_e.CHILD,{txt:"\u513f\u7ae5",icon:"icon-child"}),_e.INFANT,{txt:"\u5a74\u513f",icon:"icon-infant"}),be={LuggageTable:"Luggage-module_USSmc",tableTitle:"Luggage-module_H7oyZ",desc:"Luggage-module_y0NoN",descContent:"Luggage-module_SHp4P",descTitle:"Luggage-module_fUA9J",descText:"Luggage-module_dBV4Y",noLuggage:"Luggage-module_jhDCX",descDot:"Luggage-module_NQFMw",descDotBox:"Luggage-module_Jkq_V",luggageBottom:"Luggage-module_uoBn2",tip:"Luggage-module_t770R",instructionWrap:"Luggage-module_lnUeS",instruction:"Luggage-module_S4H1w",instructionIcon:"Luggage-module_Tp1Vi",baggageWrap:"Luggage-module_ov8zA",baggage:"Luggage-module_F2hGw",baggageNum:"Luggage-module_ecT2N",baggageTitle:"Luggage-module_Spsvf",baggageDesc:"Luggage-module_gqagn",imageContainer:"Luggage-module_psnKa",imgSize:"Luggage-module_AWI27",handInImg:"Luggage-module_Uyu45",imgSizeBg:"Luggage-module_k1YVT",handInImgBg:"Luggage-module_qfYKh",carrayOnImgBg:"Luggage-module_CeNDB",luggageLength:"Luggage-module_JW3_b",luggageWidth:"Luggage-module_UUkUH",luggageHeight:"Luggage-module_Zxjvk",handInLength:"Luggage-module_TJH9f",handInWidth:"Luggage-module_Ls8NQ",handInHeight:"Luggage-module_T9Vuc",textTips:"Luggage-module_NMpeL",totalWeight:"Luggage-module_re56z"},Te={CENTIMETER:"cm"},we={0:"checkin",1:"handin",4:"carryon"},Ce={_free:"_free","00":"_00","01":"_01",11:"_11",10:"_10"},Ie=function(e,t){if(!t)return null;var n=t.sort((function(e,t){return e-t}))||[],r=Array.isArray(n)&&n.length>=1;return r?e?[n[2],n[0],n[1]]:[n[1],n[0],n[2]]:null},Ee="https://pages.c-ctrip.com/flight_h5/tinyapp/middle/luggage/";function Se(e){var t=e.btype,n=e.sizes,r=void 0===n?[]:n,i=e.htype,o=void 0===i?"":i,a="number"===typeof t&&we[t]||null,s=1===t,u=4===t,l=Ie(s||u,r);return a?(0,b.jsxs)(c.View,{className:be.imageContainer,children:[(0,b.jsx)(c.Image,{className:"".concat(be.imgSize," ").concat(s?be.handInImg:"","\n\t\t\t\t}"),src:"".concat(Ee+a+(Ce[o]||""),".png")}),!!l&&(0,b.jsxs)(b.Fragment,{children:[a&&(0,b.jsx)(c.Image,{className:"".concat(be.imgSizeBg," ").concat(s?be.handInImgBg:""," ").concat(u?be.carrayOnImgBg:""),src:"".concat(Ee+a+"_size",".png")}),!!l[0]&&(0,b.jsx)(c.View,{className:"".concat(be.luggageLength," ").concat(s?be.handInLength:""),children:(0,b.jsxs)(c.Text,{className:be.textTips,children:[l[0],Te.CENTIMETER]})}),!!l[1]&&(0,b.jsx)(c.View,{className:"".concat(be.luggageWidth," ").concat(s?be.handInWidth:""),children:(0,b.jsxs)(c.Text,{className:be.textTips,children:[l[1],Te.CENTIMETER]})}),!!l[2]&&(0,b.jsx)(c.View,{className:"".concat(be.luggageHeight," ").concat(s?be.handInHeight:""),children:(0,b.jsxs)(c.Text,{className:be.textTips,children:[l[2],Te.CENTIMETER]})})]})]}):null}function je(e){var t=null===e||void 0===e?void 0:e.MaxSize;if(!t||"string"!==typeof t||!t.length)return[];var n,r=[];t.includes("&")?r=null===(n=t.split("&"))||void 0===n||null===(n=n[1])||void 0===n?void 0:n.split("*"):r=t.split("*");return 3===r.length?r.map(Number):[]}function ke(e){var t=e.Desc,n=e.NoteList,r=e.LuggageType,i=Ae(e),o=!!Number(i);return(0,b.jsxs)(c.View,{className:be.desc,children:[Se({btype:r,htype:o?"":"_free",sizes:je(e)}),(0,b.jsxs)(c.View,{className:be.descContent,children:[(0,b.jsx)(c.View,{className:be.descTitle,children:t}),n.map((function(e){return(0,b.jsx)(Pe,{item:e,noLuggage:o},e.Content)}))]})]},t)}function Ae(e){var t=e.MaxAmount;return 0===t?"1":"0"}function Pe(e){var t=e.item,n=e.noLuggage;return(0,b.jsxs)(c.View,{className:"".concat(be.descText," ").concat(n?be.noLuggage:""),children:[(0,b.jsx)(c.View,{className:be.descDotBox,children:(0,b.jsx)(c.Text,{className:be.descDot})}),(0,b.jsx)(c.Text,{children:t.Content})]})}function Re(e){return e.map((function(e){return(0,b.jsx)(De,{luggageInfo:e},e.Title)}))}function Oe(e){var t=e.item,n=t.Desc,r=t.NoteList;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.View,{className:be.baggage,children:(0,b.jsx)(c.View,{className:be.descTitle,children:n})}),r.filter((function(e){return 1===e.NoteType||2===e.NoteType})).map((function(e){return(0,b.jsx)(Pe,{item:e},e.Content)}))]})}function De(e){var t,n,r=e.luggageInfo,i=r.Title,o=r.LuggageItemList,a=r.ExtendInfoList,s=void 0===a?[]:a,u=o.find((function(e){return 0===e.LuggageType})),l=o.find((function(e){return 1===e.LuggageType})),d=o.find((function(e){return 4===e.LuggageType}));if(l&&d){var f=Ae(l)+Ae(d),p=je(l);n=(0,b.jsxs)(b.Fragment,{children:[ke(u),(0,b.jsxs)(c.View,{className:be.desc,children:[Se({btype:4,htype:f,sizes:p}),(0,b.jsxs)(c.View,{className:be.descContent,children:[(0,b.jsx)(c.View,{className:be.baggageWrap,children:(0,b.jsx)(Oe,{item:d})}),(0,b.jsx)(Oe,{item:l})]})]})]})}else n=(0,b.jsx)(b.Fragment,{children:o.map((function(e){return ke(e)}))});var m=null===(t=s.find((function(e){return 1===e.ExtentType})))||void 0===t?void 0:t.ExtentContent;return(0,b.jsxs)(c.View,{className:be.LuggageTable,children:[(0,b.jsx)(c.View,{className:be.tableTitle,children:i}),(0,b.jsx)(c.View,{children:n}),m&&(0,b.jsx)(c.View,{className:be.totalWeight,children:m})]})}function Le(e){var t,n=e.luggageInfoList,r=e.detail;if(null===n||void 0===n||!n.length)return null;var i=(null===r||void 0===r?void 0:r.NoteList)||[],a=null===(t=i[i.length-1])||void 0===t||null===(t=t.NoteList)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.ExtendInfor)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.ExtendTitle,s=(0,b.jsxs)(c.View,{className:be.luggageBottom,children:[(0,b.jsx)(c.View,{className:be.tip,children:"* \u82e5\u643a\u5e26\u884c\u674e\u8d85\u91cd\uff0c\u903e\u91cd\u90e8\u5206\u7684\u6536\u8d39\u6807\u51c6\u4ee5\u822a\u53f8\u89c4\u5b9a\u4e3a\u51c6"}),(0,b.jsxs)(c.View,{className:be.instructionWrap,children:[(0,b.jsx)(c.Image,{className:be.instructionIcon,src:"https://pic.c-ctrip.com/pic/AssetCatalog/biz/common/icon_double_quote.png"}),(0,b.jsx)(c.Text,{className:be.instruction,children:a})]})]}),u=[],l=o.R.groupWith((function(e,t){return e.AgeType===t.AgeType}),(0,W.Z)(n).sort((function(e,t){return e.AgeType-t.AgeType})));return l.length<=1?(0,b.jsxs)(b.Fragment,{children:[Re(l[0]),s]}):(l.forEach((function(e){var t=Ne[e[0].AgeType];u.push({text:t.txt,iconUrl:t.icon,content:Re(e)})})),(0,b.jsxs)(c.View,{children:[(0,b.jsx)(xe,{tabs:u}),s]}))}var Ve={refundContainer:"Refund-module_tPb6u",refundTable:"Refund-module_FEokm",currentColumn:"Refund-module_vyDSE",line:"Refund-module_DLoE2",triangle:"Refund-module_AWgNC",current:"Refund-module_Y1hw4",tips:"Refund-module_TdYyB",tipImage:"Refund-module_qOYgJ",tipContent:"Refund-module_ImZkW",warnings:"Refund-module_HVnVu",warningTitle:"Refund-module_zupbA",warningItem:"Refund-module_QpymS",warningItemTitle:"Refund-module_IbMFR",warningItemContent:"Refund-module_h65qV",foldButton:"Refund-module_SmFwd",foldIcon:"Refund-module_O9CEh",transform:"Refund-module_Aobua",fold:"Refund-module_EC5jZ",lastContent:"Refund-module_MjQY8",noteItem:"Refund-module_KzLLF",noteImage:"Refund-module_tgAff",noteTitleWrap:"Refund-module_LBg_0",noteTitle:"Refund-module_zZmV9",noteContent:"Refund-module_eI2YM",refundInstructions:"Refund-module__3uRL",refundInstructionsWrap:"Refund-module_yaUzw",descDotBox:"Refund-module_OElix",descDot:"Refund-module_d1J0X"},Ze=function(e){return{customItem:!0,render:function(t){var n=t.flexBasis;return(0,b.jsxs)(c.View,{className:Ve.currentColumn,style:{flexBasis:n},children:[(0,b.jsx)(c.View,{className:Ve.line}),(0,b.jsxs)(c.View,{className:Ve.current,children:[(0,b.jsx)(c.View,{className:Ve.triangle}),(0,b.jsx)(c.Text,{children:"\u5f53\u524d\u65f6\u6bb5"})]}),(0,b.jsx)(c.Text,{children:e})]},e)}}},Me=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){var t;return null===e||void 0===e||null===(t=e.ExtendInfor)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.ExtendTitle}));return[{render:function(){return(0,b.jsx)(c.View,{children:r.map((function(e,t){var n=t===r.length?{}:{marginBottom:"8px"};return(0,b.jsxs)(c.View,{style:n,children:[(0,b.jsxs)(c.Text,{style:oe,children:[e.NoteThirdTitle,"\uff1a"]}),(0,b.jsx)(c.Text,{children:e.ExtendInfor[0].ExtendTitle})]},e.NoteThirdTitle)}))})}}]};function Fe(e){return Be(e,2)}function Be(e,t){var n;return null!==e&&void 0!==e&&null!==(n=e.ExtendInfor)&&void 0!==n&&n.length?e.ExtendInfor.filter((function(e){return e.Type===t})):[]}function Ue(e){var t;return null!==e&&void 0!==e&&null!==(t=e.ExtendInfor)&&void 0!==t&&t.length?e.ExtendInfor.every((function(e){return 2!==e.Type})):[]}function qe(e){return 128===(128&e.FlagMap)}function He(e){return 256===(256&e.FlagMap)}function Ge(e){return{text:e,style:oe}}function Ye(){return Ge("\u64cd\u4f5c\u65f6\u95f4")}function Ke(){return Ge("\u9000\u7968\u624b\u7eed\u8d39")}function We(){return Ge("\u540c\u8231\u6539\u671f\u624b\u7eed\u8d39")}function ze(e,t){var n=e.ExtendInfor.filter((function(e){return 1===e.Type})),r=t.ExtendInfor.filter((function(e){return 1===e.Type}));return!(!n.length&&!r.length)&&(n.length>1||r.length>1||!n.every((function(e,t){return e.ExtendTitle===r[t].ExtendTitle})))}function Qe(e,t){var n=!1;return!(!e.length||!t.length)&&(e.length!==t.length||(e.forEach((function(e,r){e.ExtendTitle!==t[r].ExtendTitle&&(n=!0)})),n))}function $e(e,t){var n=Fe(e),r=Fe(t),i=Be(e,1),o=Be(t,1);return!!Qe(i,o)||!!Qe(n,r)}function Xe(e){var t=e.refund,n=e.reschedule,r=[],i=t&&t.ExtendInfor||[],o=n&&n.ExtendInfor||[],a=!Ue(t)||!Ue(n),c=i.find((function(e){return 3===e.Type})),s=o.find((function(e){return 3===e.Type}));a&&r.push(Ye()),c&&r.push(Ke()),s&&r.push(We());var u=!!i.find((function(e){return 1===e.Type}))||!!o.find((function(e){return 1===e.Type}));return[r,u]}function Je(e,t){return(0,i.Z)((0,i.Z)({},e),{},{ExtendInfor:t})}function et(e,t){return e.push([(0,i.Z)((0,i.Z)({},t),{},{current:qe(t),inactive:He(t)})]),e}function tt(e,t){var n=e.ExtendInfor.reduce((function(e,n,r){return 2===n.Type||1===n.Type?et(e,n):3===n.Type&&(e[e.length-1]||e).push(n,t.ExtendInfor[r]),e}),[]);return n}function nt(e,t){var n=e.ExtendInfor.reduce((function(e,n,r){return 1===n.Type?et(e,n):3===n.Type&&e.push([n,t.ExtendInfor[r]]),e}),[]);return n}function rt(e){var t=e.ExtendInfor.reduce((function(e,t){return 1===t.Type?et(e,t):3===t.Type&&e.push([t]),e}),[]);return t}function it(e){var t=e.ExtendInfor.reduce((function(e,t){return 2===t.Type||1===t.Type?e.push([(0,i.Z)((0,i.Z)({},t),{},{current:qe(t),inactive:He(t)})]):3===t.Type&&(e[e.length-1]||e).push(t),e}),[]);return t}function ot(e,t,n){var r=n?[t,e]:[e,t],o=r[0].ExtendInfor.reduce((function(e,t){if(2===t.Type||1===t.Type)et(e,t);else if(3===t.Type){var r=e.length-1;n?e[r].push(void 0,t):e[r].push(t,void 0)}return e}),[]),a=o[o.length-1],c=a.findIndex((function(e){return!e}));return a[c]=(0,i.Z)({},r[1].ExtendInfor.find((function(e){return 3===e.Type}))),o}function at(e,t){return e.map((function(n){var r;if(Array.isArray(n))return at(n,t);if(n){var i=n.ExtendTitle;try{3===n.Type&&(i=JSON.parse(n.ExtendTitle)[t])}catch(e){}return 1===n.Type?{render:function(){return(0,b.jsx)(c.View,{style:oe,children:(0,b.jsx)(c.Text,{children:n.ExtendTitle})})}}:n.current?Ze(i):null!==(r=e[0])&&void 0!==r&&r.inactive?{render:function(){return(0,b.jsx)(c.View,{style:{color:"#cccccc"},children:(0,b.jsx)(c.Text,{children:i})},i)}}:i?{text:i}:n}}))}function ct(e,t){var n=Ue(e)?rt(e):it(e),r=n.map((function(e){return at(e,t)}));return r}function st(e,t,n){var r=Ue(e),i=Ue(t),a=r&&!i||!r&&i,c=[],s=Xe({refund:e,reschedule:t}),u=(0,d.Z)(s,2),l=u[0],f=u[1];c=a?ot(e,t,r):tt(e,t);var p=c.map((function(e){return at(e,n)})),m=p;return a&&(m=o.R.groupWith((function(e,t){return e.length===t.length}),p).map((function(e){return 1===e.length?o.R.flatten(e):e}))),f?m.splice(1,0,l):m.unshift(l),m}function ut(e,t,n){var r=nt(e,t),i=at(r,n),o=Xe({refund:e,reschedule:t}),a=(0,d.Z)(o,2),c=a[0],s=a[1];return s?i.splice(1,0,c):i=[c].concat((0,W.Z)(i)),i}function lt(e,t,n){var r=$e(e,t);if(r){var i=ct(e,n),o=Xe({refund:e}),a=(0,d.Z)(o,2),c=a[0],s=a[1];s?i.splice(1,0,c):i=[c,i];var u=ct(t,n),l=Xe({reschedule:t}),f=(0,d.Z)(l,2),p=f[0],m=f[1];return m?u.splice(1,0,p):u=[p,u],[].concat((0,W.Z)(i),(0,W.Z)(u))}var h=Ue(e)&&Ue(t);return h?ut(e,t,n):st(e,t,n)}function dt(e){var t=e.passengerType,n=e.refundNoteList,r=(0,d.Z)(n.NoteList,6),i=r[0],a=r[1],s=r[2],u=r[3],l=r[4],f=r[5],p=ae(n.NoteSecondTitle);if(1===n.NoteList.length&&16===(16&n.FlagMap))return(0,b.jsx)(c.View,{className:Ve.refundTable,children:X([p,[{render:function(){return(0,b.jsx)(c.View,{children:(0,b.jsx)(c.Text,{children:i.ExtendInfor[0].ExtendTitle})})}}]])});var m=ze(i,s),h=p?[p]:[];if(m)for(var v=o.R.groupWith((function(e,t){return 1!==t.Type}),i.ExtendInfor),g=o.R.groupWith((function(e,t){return 1!==t.Type}),s.ExtendInfor),y=Math.max(v.length,g.length),x=0;x<y;x++){var _=Je(i,v[x]),N=Je(s,g[x]);h.push.apply(h,(0,W.Z)(lt(_,N,t)))}else h.push.apply(h,(0,W.Z)(lt(i,s,t)));var T=Me(a,u,l);return T&&h.push(T),(0,b.jsxs)(c.View,{className:Ve.refundTable,children:[X(h),(0,b.jsx)(ft,{instruction:f})]})}function ft(e){var t,n=e.instruction,r=null===n||void 0===n||null===(t=n.ExtendInfor)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.ExtendTitle;return r?(0,b.jsx)(c.View,{className:Ve.refundInstructionsWrap,children:(0,b.jsx)(c.View,{className:Ve.refundInstructions,dangerouslySetInnerHTML:{__html:r}})}):null}function pt(e){var t,n=e.refundInfo,r=(0,U.C)((function(e){return e.passengerType.value})),i=r.ADULT,o=void 0===i?1:i,a=r.CHILD,c=void 0===a?0:a,s=r.INFANT,u=void 0===s?0:s,l=null===(t=n.NoteList)||void 0===t?void 0:t[0];if(!l)return null;if(o+c+u===1)return(0,b.jsx)(dt,{passengerType:_e.ADULT,refundNoteList:l});var d=[];return Object.keys(r).forEach((function(e){if(r[e]){var t=Ne[_e[e]];d.push({text:t.txt,iconUrl:t.icon,content:(0,b.jsx)(dt,{passengerType:_e[e],refundNoteList:l})})}})),(0,b.jsx)(xe,{tabs:d})}function mt(e){var t=e.refundInfos;return null!==t&&void 0!==t&&t.length?(0,b.jsx)(b.Fragment,{children:t.map((function(e,t){return(0,b.jsx)(pt,{refundInfo:e},"refundTab_".concat(t))}))}):null}function ht(e){var t=e.refundInfo,n=e.noteAndSupplier,r=e.refundTip;if(null===t||void 0===t||!t.length)return null;var i=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(vt,{tip:r}),(0,b.jsx)(yt,{notes:n})]});return(0,b.jsxs)(c.View,{className:Ve.refundContainer,children:[(0,b.jsx)(mt,{refundInfos:t}),i]})}function vt(e){var t,n,r=e.tip,i=null===r||void 0===r||null===(t=r.NoteList)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.NoteList)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.ExtendInfor;if(null===i||void 0===i||!i.length)return null;var o=i.find((function(e){return e.FlagMap&&64===(64&e.FlagMap)}));o&&(n=(0,b.jsxs)(c.View,{className:Ve.tips,children:[(0,b.jsx)(c.Image,{className:Ve.tipImage,src:"https://pic.c-ctrip.com/pic/AssetCatalog/biz/common/icon_double_quote.png"}),(0,b.jsx)(c.Text,{className:Ve.tipContent,children:o.ExtendContent})]}));var a=i.filter((function(e){return e.FlagMap&&32===(32&e.FlagMap)}));return(0,b.jsxs)(b.Fragment,{children:[n,(0,b.jsx)(gt,{warnings:a})]})}function gt(e){var t=e.warnings,n=(0,a.useState)(!1),r=(0,d.Z)(n,2),i=r[0],s=r[1];return null!==t&&void 0!==t&&t.length?(0,b.jsxs)(c.View,{className:Ve.warnings,children:[(0,b.jsx)(c.View,{className:Ve.warningTitle,children:"\u6ce8\u610f\u4e8b\u9879\uff1a"}),t.map((function(e,n){var r=n===t.length-1,o=e.ExtendTitle,a=e.ExtendContent;return(0,b.jsx)(c.View,{className:Ve.warningItem,children:o&&(0,b.jsxs)(c.View,{children:[(0,b.jsxs)(c.View,{className:Ve.warningItemTitle,children:[(0,b.jsx)(c.Text,{className:Ve.descDot}),(0,b.jsx)(c.Text,{children:"".concat(o.replace("[G]","").replace("[/G]",""))})]}),i&&(0,b.jsx)(c.View,{className:"".concat(Ve.warningItemContent," ").concat(r?Ve.lastContent:""),children:a})]})},n)})),(0,b.jsxs)(c.View,{onClick:(0,o.trackFn)("onClick--44451",(function(){return s(!i)})),className:Ve.foldButton,children:[(0,b.jsx)(c.View,{children:i?"\u6536\u8d77":"\u8be6\u60c5"}),(0,b.jsx)(c.View,{className:"iconfont-h5  ".concat(Ve.foldIcon," ").concat(i?"icon-arrow-up":"icon-arrow-down")})]})]}):null}function yt(e){var t=e.notes;if(!t.length)return null;var n=t.filter((function(e){return e.NoteList.some((function(e){return 0===e.FlagMap}))})),r=t.filter((function(e){return e.NoteList.some((function(e){return 16===e.FlagMap}))}));return(0,b.jsxs)(c.View,{className:Ve.noteContainer,children:[xt(n),xt(r)]})}function xt(e){return null!==e&&void 0!==e&&e.length?(0,b.jsx)(b.Fragment,{children:e.map((function(e){return(0,b.jsx)(c.View,{className:Ve.noteItem,children:_t(e)},e.NoteTitle)}))}):null}function _t(e){var t,n=e.NoteTitle,r=e.NoteList,i=null===(t=r[0])||void 0===t?void 0:t.NoteList;if(null!==i&&void 0!==i&&i.length){var o,a=null===(o=i[0])||void 0===o||null===(o=o.ExtendInfor)||void 0===o?void 0:o[0];if(a){var s=a.ExtendContent,u=a.ExtendTitle;return(0,b.jsxs)(c.View,{children:[(0,b.jsxs)(c.View,{className:Ve.noteTitleWrap,children:[s&&(0,b.jsx)(c.Image,{src:s,className:Ve.noteImage}),(0,b.jsx)(c.View,{className:Ve.noteTitle,children:n})]}),(0,b.jsx)(c.View,{className:Ve.noteContent,dangerouslySetInnerHTML:{__html:u}})]})}}}var Nt={comboArea:"CtripCombo-module_swRgW",comboInfoContainer:"CtripCombo-module_ojnhG",comboInfo:"CtripCombo-module_j7JuK",last:"CtripCombo-module_Bts4A",firstTitle:"CtripCombo-module_r1HYe",titleIcon:"CtripCombo-module_gkSgJ",secondTitle:"CtripCombo-module_z8YVc",content:"CtripCombo-module_eKMFE",btn:"CtripCombo-module_CDbpY",secondaryTitleIcon:"CtripCombo-module_shICz",comboInfoText:"CtripCombo-module__DCch",comboTitle:"CtripCombo-module_d3Lbm",dashLine:"CtripCombo-module_W6pCn",transfer:"CtripCombo-module_tJ2c_",transferTitle:"CtripCombo-module_Sew5M",transferInfo:"CtripCombo-module_TbQpY"};function bt(e){var t,n,r,i,a,s=e.policy;if(!s||null===(t=s.NoteList)||void 0===t||!t.length)return null;var u,l,d=null===(n=s.NoteList.filter((function(e){return 512===(521&e.FlagMap)})))||void 0===n?void 0:n[0],f=null===(r=s.NoteList.filter((function(e){return 1024===(1024&e.FlagMap)})))||void 0===r?void 0:r[0];if(null!==d&&void 0!==d&&null!==(i=d.NoteList)&&void 0!==i&&i.length){var p=d.NoteSecondTitle;u=(0,b.jsxs)(c.View,{children:[(0,b.jsxs)(c.View,{className:Nt.firstTitle,children:[(0,b.jsx)(c.Image,{className:Nt.titleIcon,src:"https://pic.c-ctrip.com/AssetCatalog/biz/common/ico_intl_middle.png"}),(0,b.jsx)(c.Text,{children:p})]}),(0,b.jsx)(c.View,{className:Nt.comboInfoContainer,children:d.NoteList.map((function(e,t){var n,r,i,a,s=e.NoteThirdTitle,u=e.ExtendInfor,l=(null===(n=u.find((function(e){return 9===e.Type})))||void 0===n?void 0:n.ExtendContent)||"",f=(null===(r=u.find((function(e){return 10===e.Type})))||void 0===r?void 0:r.ExtendContent)||"",p=(null===(i=u.find((function(e){return 11===e.Type})))||void 0===i?void 0:i.ExtendContent)||"",m=(null===(a=u.find((function(e){return 11===e.Type})))||void 0===a?void 0:a.Remark)||"",h=!s&&l,v=t===d.NoteList.length-1;return(0,b.jsxs)(c.View,{className:"".concat(Nt.comboInfo," ").concat(v?Nt.last:""),children:[h?(0,b.jsx)(c.View,{className:Nt.dashLine}):(0,b.jsxs)(c.View,{className:Nt.comboTitle,children:[(0,b.jsxs)(c.View,{className:Nt.secondTitle,children:[f?(0,b.jsx)(c.Image,{className:Nt.titleIcon,src:f}):null,(0,b.jsx)(c.Text,{children:s})]}),p&&(0,b.jsxs)(c.View,{onClick:(0,o.trackFn)(s+"--b3d86",(function(){return m&&(0,C.G)(m)})),className:Nt.btn,children:[p,(0,b.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-right"})]})]}),Tt(l,"\u3010","\u3011","#00B87A",{color:"#999999"})]},s)}))})]})}if(null!==f&&void 0!==f&&null!==(a=f.NoteList)&&void 0!==a&&a.length){var m=f.NoteSecondTitle;l=(0,b.jsxs)(c.View,{className:Nt.transfer,children:[(0,b.jsxs)(c.View,{className:Nt.transferTitle,children:[(0,b.jsx)(c.Image,{className:Nt.secondaryTitleIcon,src:"https://pic.c-ctrip.com/AssetCatalog/biz/intl/list/disadvantage_icon.png"}),(0,b.jsx)(c.Text,{children:m})]}),(0,b.jsx)(c.View,{children:f.NoteList.map((function(e,t){var n=e.NoteThirdTitle,r=e.ExtendInfor,i=t===f.NoteList.length-1;return(0,b.jsxs)(c.View,{className:"".concat(Nt.transferInfo," ").concat(i?Nt.last:""),children:[(0,b.jsx)(c.View,{className:Nt.comboInfoText,children:"".concat(n,"\uff1a")}),r.map((function(e,t){var n=e.ExtendTitle,i=r.length>1&&n;return(0,b.jsxs)(c.View,{children:[i?(0,b.jsx)(c.Text,{className:Nt.comboInfoText,children:"".concat(t+1,"\u3001").concat(n,":")}):null,(0,b.jsx)(c.View,{children:Tt(e.Remark,"<HL>","</HL>","#FF7700")})]},n)}))]},n)}))})]})}if(!u&&!l)return null;var h=(0,b.jsxs)(c.View,{className:Nt.comboArea,children:[u," ",l]});return h}function Tt(e,t,n,r,i){var o="",a="",s="";return e&&e.indexOf(t)>-1?(o=e.split(t)[0],a=e.split(t)[1].split(n)[0],s=e.split(n)[1],(0,b.jsxs)(c.View,{className:Nt.content,style:i,children:[o,(0,b.jsx)(c.Text,{style:{color:r},children:a}),s]})):(0,b.jsx)(c.View,{className:Nt.content,style:i,children:e})}var wt=n(94244);function Ct(e){var t=e.data,n=e.activeIndex,r=t.NoteList,i=t.LuggageInfoList,o=t.ExtendInfo,a=r.find((function(e){return 37===e.NoteType})),c=r.find((function(e){return 38===e.NoteType})),s=r.find((function(e){return 39===e.NoteType})),u=r.find((function(e){return 34===e.NoteType})),l=r.find((function(e){return 30===e.NoteType})),d=r.filter((function(e){return 40===e.NoteType})),f=r.filter((function(e){return 31===e.NoteType})),p=r.find((function(e){return 41===e.NoteType})),m=[{title:"\u4ea7\u54c1\u8bf4\u660e",id:"productFeture",content:(0,b.jsxs)(b.Fragment,{children:[se("\u4ea7\u54c1\u8bf4\u660e","https://pages.c-ctrip.com/flight_h5/tinyapp/middle/illustrate.png"),ue(me(a,"#00b87a"),(0,b.jsx)(bt,{policy:a})),ue(me(c)),ue(ve(s,u,o))]})},{title:"\u514d\u8d39\u884c\u674e\u89c4\u5b9a",id:"luggageDetails",content:(0,b.jsxs)(b.Fragment,{children:[se("\u514d\u8d39\u884c\u674e\u89c4\u5b9a","https://pages.c-ctrip.com/flight_h5/tinyapp/middle/luggage.png"),(0,b.jsx)(Le,{luggageInfoList:i,detail:l})]})},{title:"\u9000\u6539\u7b7e\u8bf4\u660e",id:"RefundInformation",content:(0,b.jsxs)(b.Fragment,{children:[se("\u9000\u6539\u7b7e\u8bf4\u660e","https://pages.c-ctrip.com/flight_h5/tinyapp/middle/rebook.png"),(0,b.jsx)(ht,{refundInfo:d,noteAndSupplier:f,refundTip:p})]})}];return(0,b.jsx)(wt.Z,{tabs:m,activeIndex:n,title:(0,b.jsx)(K,{})})}var It=n(51897);function Et(e){for(var t,n=e.pageType,r=e.chkno,i=void 0===r?"":r,a=e.prdid,s=e.polid,u=e.activeIndex,l=(0,U.C)((function(e){return e.passengerType.value})),d=(0,U.C)((function(e){return e.tripType.value})),f=l.ADULT,p=void 0===f?1:f,m=l.CHILD,h=void 0===m?0:m,v=l.INFANT,g=void 0===v?0:v,y="ONE_WAY"===d?0:1,x=[],_=0;_<=y;_++)x.push({SegmentNo:_,ProductId:a,PolicyId:s});var N=G({PageType:n,PassengerList:[{PassengerType:1,PassengerCount:p},{PassengerType:2,PassengerCount:h},{PassengerType:3,PassengerCount:g}],SegmentList:x,CheckNo:i,ExtendInfo:[{ExtentType:6,ExtentContent:"true"}]}),T=N.data,w=N.isFetching,C=N.isError,I=N.refetch;return w?(0,b.jsx)(c.View,{className:ie.loadingBox,children:(0,b.jsx)(c.Image,{className:ie.loading,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/global_loading.gif"})}):C||"Success"!==(null===T||void 0===T||null===(t=T.ResponseStatus)||void 0===t?void 0:t.Ack)?(0,b.jsx)(c.View,{className:ie.errorPage,children:(0,b.jsxs)(c.View,{className:ie.errorContainer,children:[(0,b.jsx)(c.Image,{className:ie.errorImage,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/img_empty.svg"}),(0,b.jsx)(c.View,{className:ie.errorText,children:"\u62b1\u6b49\uff0c\u67e5\u8be2\u672a\u6210\u529f"}),(0,b.jsx)(c.View,{className:ie.errorBtn,onClick:(0,o.trackFn)("refetch--67cc6",I),children:"\u518d\u8bd5\u4e00\u6b21"})]})}):(0,b.jsx)(It.Z,{children:(0,b.jsx)(Ct,{data:T,activeIndex:u})})}var St=n(33943),jt={container:"openPopup-module_ZnAyZ",title:"openPopup-module_vhlS0",content:"openPopup-module_cUn4F",box:"openPopup-module_hezZt",t0:"openPopup-module_x1EEn"},kt=function(e,t){var n=e.map((function(e){var n=e.flgs.map((function(e){var n=t.find((function(t){var n;return(null===t||void 0===t?void 0:t.flgno)===(null===(n=e.basinfo)||void 0===n?void 0:n.flgno)}));return n?(0,i.Z)((0,i.Z)({},e),{},{cabinName:n.rmk}):e}));return(0,i.Z)((0,i.Z)({},e),{},{flgs:n})}));return n},At=function(e){var t=e.sections,n=e.isIntl,i=void 0!==n&&n,a=e.segs,d=e.page,f=e.grades,p=void 0===f?[]:f,m=e.isMiddleFloatLayer,h=void 0!==m&&m,v=e.fromBookingPage,g=void 0===v||v;return(0,u.jq)("\u67e5\u770b\u822a\u73ed\u8be6\u60c5"),(0,s.K4)({close:{position:"top-left"},closeMethod:"close",content:(0,b.jsxs)(c.View,{catchMove:!0,className:jt.container,id:"flight-detail-popup",children:[(0,b.jsx)(c.View,{className:jt.title,children:"\u822a\u73ed\u8be6\u60c5"}),(0,b.jsx)(A.Z,{scrollY:!0,className:(0,o.classnames)(jt.box,(0,r.Z)({},jt.t0,i)),id:"flight-detail-popup_id_e4265",onScroll:(0,o.trackFn)("flight-detail-popup_id_e4265"),children:i?(0,b.jsx)(B,{flights:kt(a,p),hiddenArrow:!0,hiddenRightArrow:!0,hideComfortArrow:!0}):(0,b.jsx)(l.k,{flights:t,fromBookingPage:g,page:d,isMiddleFloatLayer:h})})]}),position:"bottom"})},Pt=function(e){var t=e.taxFeeExplain;if(t){(0,u.jq)("open_taxes_oil_fees_pop",{desc:"\u673a\u5efa\u71c3\u6cb9\u8d39\u8bf4\u660e"});var n=(0,St.So)(),r=n.windowHeight;return(0,s.K4)({close:{position:"top-left"},closeMethod:"close",content:(0,b.jsxs)(c.View,{catchMove:!0,className:jt.container,children:[(0,b.jsx)(c.View,{className:jt.title,children:"\u673a\u5efa\u71c3\u6cb9\u8d39\u8bf4\u660e"}),(0,b.jsx)(A.Z,{scrollY:!0,style:{maxHeight:"".concat(.5*r,"px")},id:"id_90dcb",onScroll:(0,o.trackFn)("id_90dcb"),children:(0,b.jsx)(c.View,{className:jt.content,dangerouslySetInnerHTML:{__html:t}})})]}),position:"bottom"})}},Rt=function(e){var t=e.polid,n=e.prdid;return(0,u.jq)("\u67e5\u770b\u9000\u6539\u53ca\u884c\u674e\u989d"),(0,s.K4)({close:{position:"top-left"},content:(0,b.jsx)(Et,{pageType:1,polid:t,prdid:n}),position:"bottom",style:{height:"80vh"}})}},70766:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r=n(62171),i=n(90201),o=n(67347),a=n(43752),c=n(298),s=n(90129),u=n(71515),l=n(33943),d=n(61659),f=n(12809),p={headerStyle:"Header-module_zt7Xo",imageStyle:"Header-module_gD07t",titleContainer:"Header-module_eCb79",leftStyle:"Header-module_Pnb6L",rightStyle:"Header-module_x8RYz",triangle:"Header-module_D312h",triangleRight:"Header-module_ZdD9w"},m=n(2269),h=function(e){var t=e.IconUrl,n=e.leftTitle,r=e.rightTitle;return(0,m.jsxs)(u.View,{className:p.headerStyle,children:[(0,m.jsx)(d.Z,{src:t||"",className:p.imageStyle}),(0,m.jsxs)(u.View,{className:p.titleContainer,children:[n&&(0,m.jsx)(u.Text,{className:p.leftStyle,children:n}),(0,m.jsx)(u.View,{className:p.triangle}),(0,m.jsx)(u.View,{className:p.triangleRight}),r&&(0,m.jsx)(u.Text,{className:p.rightStyle,children:r})]})]})},v=(0,i.memo)(h),g=n(22276),y={slideImageContainer:"ImageComponent-module_A5URR",compatible_alipay_styles:"ImageComponent-module_w6CW6",slideImageStyleBox:"ImageComponent-module_B11Y9",slideImageStyle:"ImageComponent-module_mKfWr",slideTitleStyleBox:"ImageComponent-module_TtkQe",slideTitleStyle:"ImageComponent-module__eQZe",slideTitleStyleText:"ImageComponent-module_GULgZ",slideSubtitleStyle:"ImageComponent-module_hYn34",slideContentStyle:"ImageComponent-module_MoB21"},x=function(e){var t=e.IconUrl,n=e.Title,r=e.SubTitle,i=e.Content;return(0,m.jsxs)(u.View,{className:y.slideImageContainer,children:[(0,m.jsxs)(u.View,{className:"".concat(y.slideImageStyleBox),children:[(0,m.jsx)(d.Z,{src:t,className:y.slideImageStyle}),(0,m.jsx)(u.View,{className:y.slideTitleStyleBox,children:(0,m.jsx)(u.View,{className:y.slideTitleStyle,children:(0,m.jsx)(u.Text,{className:y.slideTitleStyleText,children:n})})})]}),(0,m.jsx)(u.Text,{className:y.slideSubtitleStyle,children:r}),(0,m.jsx)(u.Text,{className:y.slideContentStyle,children:i})]})},_=(0,i.memo)(x),N={subTitleContainer:"SubTitle-module_pa2f7",triangleTop:"SubTitle-module_O2R6E",subTextBox:"SubTitle-module_AExAm",subText:"SubTitle-module_t_qzO",tableDescriptiStyle:"SubTitle-module_zGa7y",textBox:"SubTitle-module_b4igy",textStyle:"SubTitle-module_rlBae",subNoteContainer:"SubTitle-module_gVA3c",subNoteStyle:"SubTitle-module_P3BhH",subNoteImageStyle:"SubTitle-module_poCcf",subNoteTextContainer:"SubTitle-module_RSjKh",subNoteTitle:"SubTitle-module_gp_Vc",subNoteContent:"SubTitle-module_tf8i3",showDetailContainer:"SubTitle-module_FytU3",showDetailBox:"SubTitle-module_vASra",showDetailText:"SubTitle-module_rjvek",iconStyle:"SubTitle-module_T4eTc"},b=function(e){var t=e.TableDescription,n=e.CarouselDescription,o=e.DotDetailDescription,a=e.Description,c=e.SubNoteItemList,l=e.soaDetailDescription,f=function(e){if(!e)return null;var t=e.split("#");return t.map((function(e,t){return(0,m.jsx)(u.View,{style:0===t?void 0:{marginTop:"2vh"},children:(0,m.jsx)(u.View,{className:N.subText,children:e})},e)}))},p=function(){if(!t)return null;var e=t.split(";");return(0,m.jsx)(u.View,{className:N.tableDescriptiStyle,children:e.map((function(e){var t=e.split("|");return(0,m.jsxs)(u.View,{className:N.textBox,children:[(0,m.jsx)(u.Text,{className:N.textStyle,children:t[0]}),(0,m.jsx)(u.Text,{className:N.textStyle,children:t[1]})]},e)}))})},h=function(){return c&&0!==c.length?(0,m.jsx)(u.View,{className:N.subNoteContainer,children:c.map((function(e){return(0,m.jsxs)(u.View,{className:N.subNoteStyle,children:[(0,m.jsx)(d.Z,{src:null===e||void 0===e?void 0:e.Icon,className:N.subNoteImageStyle}),(0,m.jsxs)(u.View,{className:N.subNoteTextContainer,children:[(0,m.jsx)(u.Text,{className:N.subNoteTitle,children:null===e||void 0===e?void 0:e.Title}),(0,m.jsx)(u.Text,{className:N.subNoteContent,children:null===e||void 0===e?void 0:e.Content})]})]},e.Title)}))}):null},v=(0,i.useState)(!1),g=(0,s.Z)(v,2),y=g[0],x=g[1],_=function(){x(!y)};return(0,m.jsxs)(u.View,{className:N.subTitleContainer,children:[(0,m.jsx)(d.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/servicePackage/triangle_bg.png",className:N.triangleTop}),(0,m.jsxs)(u.View,{className:N.subTextBox,children:[n&&f(n),p(),a&&f(a),h(),(o||l)&&(0,m.jsxs)(u.View,{children:[y&&o&&f(o),y&&l&&(0,m.jsx)(u.View,{className:N.subText,style:{marginTop:"2vh"},children:(0,m.jsx)(r.MiniRichText,{nodes:(0,r.htmlParse)(l)})}),(0,m.jsx)(u.View,{className:N.showDetailContainer,children:(0,m.jsxs)(u.View,{className:N.showDetailBox,onClick:(0,r.trackFn)("showDetail--29f58",_),children:[(0,m.jsx)(u.Text,{className:N.showDetailText,children:y?"\u6536\u8d77":"\u5c55\u5f00"}),(0,m.jsx)(u.View,{className:"iconfont-h5 ".concat(y?"icon-arrow-up":"icon-arrow-down"," ").concat(N.iconStyle)})]})})]})]})]})},T=(0,i.memo)(b),w={scrollStyle:"SlidePicture-module_lZjUT"},C=function(e){var t=e.dataArr,n=e.width,o=e.scale,a=void 0===o?.8:o,c=e.intervalTime,l=void 0===c?3e3:c,d=e.isNeedAutoSlider,p=e.setStopAutoSliderId,h=(0,i.useState)(n),v=(0,s.Z)(h,2),y=v[0],x=v[1],N=(0,i.useRef)(0),b=(0,i.useRef)(1),C=(0,i.useRef)([]),I=(0,i.useRef)([]),E=(0,i.useMemo)((function(){return(0,g.Z)(t)}),[t]),S=(0,i.useRef)(null),j=(0,i.useMemo)((function(){var e=[],t=[];return E&&0!==E.length&&E.forEach((function(r,i){var o=r.CarouselItem,c=o.IconUrl,s=void 0===c?"":c,l=o.Title,d=void 0===l?"":l,f=o.SubTitle,p=void 0===f?"":f,h=o.Content,v=void 0===h?"":h;e.push((0,m.jsx)(u.View,{style:{width:"".concat(n,"px"),display:"inline-block",transform:"scale(".concat(b.current===i?1:a,")"),marginLeft:0===i?"calc(50vw - ".concat(.5*n,"px)"):0,marginRight:i===E.length-1?"calc(50vw - ".concat(.5*n,"px)"):0,transition:"all 0.5s"},ref:function(e){return C.current[i]=e},children:(0,m.jsx)(_,{IconUrl:s,Title:d,SubTitle:p,Content:v})},r.Id)),t.push((0,m.jsx)(u.View,{ref:function(e){return I.current[i]=e},style:{display:b.current===i?"block":"none"},children:(0,m.jsx)(T,{TableDescription:null===r||void 0===r?void 0:r.TableDescription,CarouselDescription:null===r||void 0===r?void 0:r.CarouselDescription,DotDetailDescription:null===r||void 0===r?void 0:r.DotDetailDescription,Description:null===r||void 0===r?void 0:r.Description,SubNoteItemList:null===r||void 0===r?void 0:r.SubNoteItemList,soaDetailDescription:null===r||void 0===r?void 0:r.soaDetailDescription})},r.Id))})),[e,t]}),[E,a,n]),k=(0,s.Z)(j,2),A=k[0],P=k[1],R=null,O=function(e){var t=e.detail.scrollLeft;N.current=t,R&&clearTimeout(R),R=setTimeout((function(){b.current=Math.round(t/n),x(b.current*n),C.current.forEach((function(e,t){e&&e.style.setProperty("transform","scale(".concat(b.current===t?1:a,")"))})),I.current.forEach((function(e,t){e&&e.style.setProperty("display",b.current===t?"block":"none")}))}),70)},D=(0,i.useCallback)((function(){d&&(S.current&&clearInterval(S.current),S.current=setInterval((function(){b.current=b.current+1>E.length-1?0:b.current+1,x(b.current*n)}),l),p(S.current))}),[d,l,p,E.length,n]),L=(0,i.useCallback)((function(){S.current&&clearInterval(S.current)}),[]);return(0,i.useEffect)((function(){return function(){R&&clearTimeout(R)}}),[R]),(0,i.useEffect)((function(){return D(),L}),[d,D,L]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f.Z,{scrollX:!0,scrollWithAnimation:!0,onTouchStart:L,scrollLeft:y,onScroll:(0,r.trackFn)("id_50744",O),className:w.scrollStyle,style:{whiteSpace:"nowrap"},id:"id_50744",children:A}),(0,m.jsx)(u.View,{children:P})]})},I=(0,i.memo)(C),E={detailContainer:"DetailShow-module_yGm7p",lineIconStyle:"DetailShow-module_haUXv",leftLineIconStyle:"DetailShow-module_JZJWR",boldDetailText:"DetailShow-module_ucYb9",detailText:"DetailShow-module_FSEH5",iconStyle:"DetailShow-module_GPsSj",rightLineIconStyle:"DetailShow-module_oMMOz",textStyle:"DetailShow-module_xjm05",BoldStyle:"DetailShow-module_m5HJl",grayTextStyle:"DetailShow-module_D4FuW"},S=function(e){var t=e.stopAutoSlider,n=e.mainPackage,o=(0,l.R2)(),a=o.bottom,c=void 0===a?0:a,d=(null===n||void 0===n?void 0:n.DetailDescription)||"\u6210\u4eba\u548c\u513f\u7ae5\u53ef\u8d2d\u4e70\u672c\u4ea7\u54c1\uff0c\u4e0d\u652f\u6301\u5a74\u513f\u8d2d\u4e70\u3002",f=(null===n||void 0===n?void 0:n.UnsubscribeNotice)||"1.\u539f\u822a\u73ed\u8d77\u98de\u524d\uff0c\u4e14\u670d\u52a1\u5305\u4e2d\u670d\u52a1\u5747\u672a\u4f7f\u7528\u3001\u672a\u8fc7\u671f\uff0c\u670d\u52a1\u5305\u53ef\u514d\u8d39\u9000\u8ba2\uff1b\u539f\u822a\u73ed\u8d77\u98de\u540e\u670d\u52a1\u5305\u4e0d\u53ef\u5355\u72ec\u9000\u8ba2\u3002#2.\u670d\u52a1\u5305\u5185\u82e5\u542b\u670924H\u9000\u7968\u7acb\u51cf\u670d\u52a1\u6216\u800524H\u514d\u6539\u671f\u8d39\u670d\u52a1\uff0c\u5728\u539f\u822a\u73ed\u8d77\u98de\u524d\u8fc7\u671f\u672a\u4f7f\u7528\uff0c\u4e14\u5176\u4ed6\u670d\u52a1\u672a\u4f7f\u7528\u3001\u672a\u8fc7\u671f\uff0c\u670d\u52a1\u5305\u4ea6\u53ef\u514d\u8d39\u9000\u8ba2\u3002",p=(0,i.useState)(!1),h=(0,s.Z)(p,2),v=h[0],g=h[1],y=function(){g(!0),t()};return(0,m.jsxs)(u.View,{style:{paddingBottom:"".concat(c+60,"px")},children:[(0,m.jsxs)(u.View,{className:E.detailContainer,onClick:(0,r.trackFn)("showDetail--6a505",y),children:[v&&(0,m.jsx)(u.View,{className:"".concat(E.lineIconStyle," ").concat(E.leftLineIconStyle)}),(0,m.jsx)(u.Text,{className:v?E.boldDetailText:E.detailText,children:"\u8be6\u60c5\u8bf4\u660e"}),!v&&(0,m.jsx)(u.Text,{className:"iconfont-h5 icon-arrow-down ".concat(E.iconStyle)}),v&&(0,m.jsx)(u.View,{className:"".concat(E.lineIconStyle," ").concat(E.rightLineIconStyle)})]}),(0,m.jsxs)(u.View,{style:{display:v?"block":"none"},className:E.textStyle,children:[(0,m.jsx)(u.Text,{className:E.BoldStyle,children:"\u7279\u6b8a\u8bf4\u660e"}),d.split("#").map((function(e,t){return(0,m.jsx)(u.Text,{className:E.grayTextStyle,children:e},"d-".concat(t))})),(0,m.jsx)(u.Text,{className:E.BoldStyle,children:"\u9000\u8ba2\u987b\u77e5"}),f.split("#").map((function(e,t){return(0,m.jsx)(u.Text,{className:E.grayTextStyle,children:e},"n-".concat(t))}))]})]})},j=(0,i.memo)(S),k={addWarrantyContainer:"AddWarranty-module_qy3zZ",warrantyTextContainer:"AddWarranty-module_n95Ql",warrantyTextStyle:"AddWarranty-module_fhiXS"},A=function(e){var t=e.clickServicePackage,n=e.closeModalById,o=e.selected,a=(0,i.useCallback)((function(){t(),n()}),[t,n]);return o?null:(0,m.jsx)(u.View,{className:k.addWarrantyContainer,children:(0,m.jsx)(u.View,{className:k.warrantyTextContainer,onClick:(0,r.trackFn)("addWarrantyclick--f5429",a),"data-testid":"add-warranty-click",children:(0,m.jsx)(u.Text,{className:k.warrantyTextStyle,children:"\u6dfb\u52a0\u4fdd\u969c"})})})},P=(0,i.memo)(A),R={imgStyle:"FloatLyaer-module_vSKw3",showModalStyle:"FloatLyaer-module_TTtPu",selectHeight:"FloatLyaer-module_WASsq",notSelectHeight:"FloatLyaer-module_Zu7Rw"},O=function(e){var t,n=e.mainPackage,o=e.subPackage,a=e.clickServicePackage,p=e.closeModalById,h=e.selected,g=void 0!==h&&h,y=(null===n||void 0===n||null===(t=n.PopTitleList)||void 0===t?void 0:t[0])||{},x=y.Title,_=void 0===x?"":x,N=y.IconUrl,b=void 0===N?"":N,T=_.split("#"),w=(0,s.Z)(T,2),C=w[0],E=w[1],S=(0,i.useState)(0),k=(0,s.Z)(S,2),A=k[0],O=k[1],D=(0,i.useCallback)((function(){A&&clearInterval(A)}),[A]),L=(0,l.So)(),V=L.screenWidth,Z={dataArr:o,width:.44*V,isNeedAutoSlider:!0,setStopAutoSliderId:O};return(0,m.jsxs)(u.View,{id:"service-package-pop",children:[(0,m.jsx)(d.Z,{src:"https://pic.c-ctrip.com/AssetCatalog/biz/layer/back-image.png",className:R.imgStyle}),(0,m.jsx)(v,{IconUrl:b,leftTitle:C,rightTitle:E}),(0,m.jsxs)(f.Z,{scrollY:!0,scrollWithAnimation:!0,onTouchStart:D,onScroll:(0,r.trackFn)("service-package-pop_id_e4265",D),className:g?R.selectHeight:R.notSelectHeight,id:"service-package-pop_id_e4265",children:[(0,m.jsx)(I,(0,c.Z)({},Z)),(0,m.jsx)(j,{stopAutoSlider:D,mainPackage:n})]}),(0,m.jsx)(P,{clickServicePackage:a,closeModalById:p,selected:g})]})},D=(0,i.memo)(O),L=function(e,t){var n=e.mainPackage,r=e.subPackage,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,a.ff)("S_FLT_N_H5_InputPage_Fwb_Pageup");var c=(0,o.K4)({close:{position:"top-left"},mask:{enableClose:!0},content:(0,m.jsx)(D,{mainPackage:n,subPackage:r,clickServicePackage:t,closeModalById:function(){return(0,o.Mr)(c)},selected:i}),className:R.showModalStyle,style:{position:"absolute",bottom:0,width:"100%",padding:0,height:"80%",zIndex:10,background:"#f2ede9",borderBottomLeftRadius:0,borderBottomRightRadius:0}})},V=L},82607:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(62171),i=n(90129),o=n(90201),a=n(71515),c=n(61659),s=n(8811),u=n(43752),l=n(68618),d=n(42463),f={"authenticate-container":"IdentityAuthenticate-module_zeN12","authenticate-box":"IdentityAuthenticate-module_PbpJV","title-box":"IdentityAuthenticate-module_mTv2L","airline-icon":"IdentityAuthenticate-module_STY45",describe:"IdentityAuthenticate-module_uLBPt",title:"IdentityAuthenticate-module_kGeJg",content:"IdentityAuthenticate-module_eizio","authenticate-btn":"IdentityAuthenticate-module_JZknV","passenger-real-name":"IdentityAuthenticate-module_j2SHq","passenger-real-tip":"IdentityAuthenticate-module_LuABj","real-tip-title":"IdentityAuthenticate-module_Z6cwd","real-tip-content":"IdentityAuthenticate-module_uYAA6"},p=n(2269),m=function(e){var t=e.authInfo,n=e.selectedPassengers,m=e.realNameTip,h=e.isNoRegister,v=e.goToRealName,g=(0,o.useState)(""),y=(0,i.Z)(g,2),x=y[0],_=y[1],N=(0,o.useState)(!1),b=(0,i.Z)(N,2),T=b[0],w=b[1],C=(0,o.useState)(""),I=(0,i.Z)(C,2),E=I[0],S=I[1],j=(0,o.useMemo)((function(){var e,t,n=null===m||void 0===m||null===(e=m.extendNoteEntityList)||void 0===e?void 0:e.find((function(e){return 8===e.type})),r=null===m||void 0===m||null===(t=m.extendNoteEntityList)||void 0===t?void 0:t.find((function(e){return 9===e.type}));return{iconUrl:(null===n||void 0===n?void 0:n.content)||"",content:(null===r||void 0===r?void 0:r.content)||""}}),[m]);(0,o.useEffect)((function(){var e=0;if(t&&t.cnum){var r,i=t&&(null===n||void 0===n?void 0:n.length)&&(null===n||void 0===n?void 0:n.find((function(e){var n,r;return(null===e||void 0===e||null===(n=e.document)||void 0===n?void 0:n.no)===t.cnum&&(null===e||void 0===e||null===(r=e.document)||void 0===r?void 0:r.type)===(0,s.U)(null===t||void 0===t?void 0:t.ctype)})));if(i)if(h)e=2;else e=null!==i&&void 0!==i&&null!==(r=i.phone)&&void 0!==r&&r.mobile?5:4;else e=2}else e=1;1===e||3===e||4===e?(w(!1),S(1===e?"\u5b9e\u540d\u8ba4\u8bc1":3===e?"\u7ee7\u7eed\u8ba4\u8bc1":"\u8865\u5145\u4fe1\u606f")):w(!0),_((0,l.rQ)(e,null===t||void 0===t?void 0:t.pname,m))}),[t,n,w,_,S,m,h]);var k=(0,o.useCallback)((function(e){if("\u8865\u5145\u4fe1\u606f"!==e)(0,u.jq)("\u5b9e\u540d\u8ba4\u8bc1\u533a\u57df\u70b9\u51fb\u5b9e\u540d\u8ba4\u8bc1"),v();else{(0,u.jq)("\u5b9e\u540d\u8ba4\u8bc1\u533a\u57df\u70b9\u51fb\u8865\u5145\u4fe1\u606f");var r=t&&n.find((function(e){var n,r;return(null===e||void 0===e||null===(n=e.document)||void 0===n?void 0:n.no)===t.cnum&&(null===e||void 0===e||null===(r=e.document)||void 0===r?void 0:r.type)===(0,s.U)(null===t||void 0===t?void 0:t.ctype)}));(0,d.wd)(!1,r)}}),[n,t,v]);return h?(0,p.jsxs)(a.View,{className:f["passenger-real-name"],children:[(0,p.jsxs)(a.View,{className:f["passenger-real-tip"],children:[(0,p.jsx)(a.View,{className:f["real-tip-title"],children:"\u5b9e\u540d\u8ba4\u8bc1\u63d0\u793a"}),(0,p.jsx)(a.View,{className:f["real-tip-content"],dangerouslySetInnerHTML:{__html:x}})]}),!T&&(0,p.jsx)(a.View,{className:f["authenticate-btn"],onClick:(0,r.trackFn)("onClick--b4e13",(function(){return k(E)})),children:E})]}):(0,p.jsxs)(a.View,{className:(0,r.classnames)("row",f["authenticate-container"]),children:[(0,p.jsx)(a.View,{className:f["authenticate-box"],children:(0,p.jsxs)(a.View,{className:f["title-box"],children:[(0,p.jsx)(c.Z,{className:f["airline-icon"],src:null===j||void 0===j?void 0:j.iconUrl}),(0,p.jsxs)(a.View,{className:f.describe,children:[(0,p.jsx)(a.Text,{className:f.title,children:null===j||void 0===j?void 0:j.content}),(0,p.jsx)(a.Text,{className:f.content,dangerouslySetInnerHTML:{__html:x}})]})]})}),!T&&(0,p.jsx)(a.View,{className:f["authenticate-btn"],onClick:(0,r.trackFn)("onClick--e3158",(function(){return k(E)})),children:E})]})},h=(0,o.memo)(m),v=h},68629:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(62171),i=(n(90201),n(71515)),o={inviteBooking:"InviteContent-module_jN3l_",iconWechat:"InviteContent-module_hizaF",invitePassengerList:"InviteContent-module_nIr7t",text:"InviteContent-module_o9iqt"},a=n(2269),c=function(e){var t=e.className,n=void 0===t?"":t;return(0,a.jsxs)(i.Button,{"open-type":"share",className:o[n],children:[(0,a.jsx)(i.Text,{className:(0,r.classnames)("iconfont-h5 icon-wechat",o.iconWechat)}),(0,a.jsx)(i.Text,{className:o.text,children:"\u9080\u540c\u884c\u4eba\u586b\u5199"})]})},s=c},3875:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(62171),i=(n(90201),n(71515)),o=n(61659),a=n(67347),c=n(43752),s={container:"Invoice-module_s5zjK",title:"Invoice-module_nOQZY",wraning:"Invoice-module_gZxvA",content:"Invoice-module_Visai",popup:"Invoice-module_YZr8b","p-title":"Invoice-module_VDHZr"},u=n(2269),l=function(){(0,c.jq)("open_voucher_popup",{title:"\u5982\u4f55\u5f00\u5177\u62a5\u9500\u51ed\u8bc1"}),(0,a.K4)({close:{position:"top-left"},closeMethod:"close",title:"\u5982\u4f55\u5f00\u5177\u62a5\u9500\u51ed\u8bc1",content:(0,u.jsxs)(i.View,{catchMove:!0,className:s.popup,children:[(0,u.jsx)(i.View,{className:s["p-title"],children:"\u652f\u4ed8\u5b8c\u6210\u540e\uff0c\u67e5\u770b\u8ba2\u5355\uff0c\u70b9\u51fb \u201c\u6211\u8981\u62a5\u9500\u201d"}),(0,u.jsx)(o.Z,{mode:"widthFix",style:{height:"577px",width:"100%"},src:"https://pic.c-ctrip.com/AssetCatalog/react-native/book/delivery_back.png"})]}),position:"bottom",style:{maxHeight:"80vh"}})},d="\u652f\u4ed8\u5b8c\u6210\u53ef\u5f00\u5177\uff0c\u5b89\u5fc3\u8d2d\u7968\uff1b\u822a\u73ed\u8d77\u98de\u540e\u4ec5\u652f\u630129\u5929\u5185\u8865\u5f00\u884c\u7a0b\u5355\uff0c\u4e00\u5e74\u5185\u53ef\u8865\u5f00\u7535\u5b50\u53d1\u7968",f=function(e){var t=e.invoiceNote;return(0,u.jsxs)(i.View,{className:s.container,onClick:(0,r.trackFn)("showInvoiceModal--65f60",l),children:[(0,u.jsxs)(i.View,{className:s.title,children:[(0,u.jsx)(i.Text,{children:"\u62a5\u9500\u51ed\u8bc1"}),(0,u.jsx)(o.Z,{className:(0,r.classnames)("icon-wraning",s.wraning),src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/book-top/Icon_wraning.png"})]}),(0,u.jsx)(i.View,{className:s.content,children:t||d})]})},p=f},14334:function(e,t,n){"use strict";n(62171);t["Z"]=function(){return null}},56494:function(e,t,n){"use strict";n.d(t,{Z:function(){return q}});var r=n(62171),i=n(90201),o=n(71515),a=n(276),c=n(33647),s=n(61659),u={"scroll-tab":"ChildBookingTip-module_zG_kn","ticket-head":"ChildBookingTip-module_krpnb","icon-image":"ChildBookingTip-module_fWFJo","item-table":"ChildBookingTip-module_JJaTv","table-content":"ChildBookingTip-module_zR3nD",tr:"ChildBookingTip-module_YoeSH","tr-title":"ChildBookingTip-module_xf2e8","tr-content":"ChildBookingTip-module_UPRSY","sub-content":"ChildBookingTip-module_ZLr77","common-question":"ChildBookingTip-module_KhA5h","question-head":"ChildBookingTip-module_PO8c4","question-title":"ChildBookingTip-module_rmuol","answer-text":"ChildBookingTip-module_AsdZX"},l=n(2269),d=[{title:"\u513f\u7ae5\u7968",id:"childTicketTip",content:(0,l.jsxs)(o.View,{className:(0,r.classnames)("px-2",u["scroll-tab"]),children:[(0,l.jsxs)(o.View,{className:u["ticket-head"],children:[(0,l.jsx)(s.Z,{className:u["icon-image"],src:"https://pages.ctrip.com/flight_h5/swift/passenger/pop-text-child.png"}),(0,l.jsx)(o.Text,{children:"\u513f\u7ae5\u7968"})]}),(0,l.jsx)(o.View,{className:u["item-table"],children:(0,l.jsxs)(o.View,{className:u["table-content"],children:[(0,l.jsxs)(o.View,{className:u.tr,children:[(0,l.jsx)(o.View,{className:u["tr-title"],children:"\u5e74\u9f84\u89c4\u5b9a"}),(0,l.jsx)(o.View,{className:u["tr-content"],children:"2\u5468\u5c81\uff08\u542b\uff09-12\u5468\u5c81\uff08\u4e0d\u542b\uff09"})]}),(0,l.jsxs)(o.View,{className:u.tr,children:[(0,l.jsx)(o.View,{className:u["tr-title"],children:"\u7968\u4ef7"}),(0,l.jsxs)(o.View,{className:u["tr-content"],children:[(0,l.jsx)(o.View,{className:u["sub-content"],children:"\u6210\u4eba\u5168\u4ef7\u7968\u768450%\uff1b"}),(0,l.jsx)(o.View,{className:u["sub-content"],children:"\u514d\u673a\u573a\u7ba1\u7406\u5efa\u8bbe\u8d39\uff0c\u71c3\u6cb9\u8d39\u4e3a\u6210\u4eba\u768450%\uff1b"})]})]}),(0,l.jsxs)(o.View,{className:u.tr,children:[(0,l.jsx)(o.View,{className:u["tr-title"],children:"\u8bc1\u4ef6"}),(0,l.jsx)(o.View,{className:u["tr-content"],children:"\u8eab\u4efd\u8bc1\u3001\u62a4\u7167\u3001\u6237\u53e3\u7c3f"})]}),(0,l.jsxs)(o.View,{className:u.tr,children:[(0,l.jsx)(o.View,{className:u["tr-title"],children:"\u6ce8\u610f\u4e8b\u9879"}),(0,l.jsxs)(o.View,{className:u["tr-content"],children:[(0,l.jsx)(o.View,{className:u["sub-content"],children:"\u6bcf\u4f4d\u6210\u4eba\u65c5\u5ba2\uff08\u6ee118\u5468\u5c81\uff09\u6700\u591a\u643a\u5e262\u540d\u513f\u7ae5\uff1b"}),(0,l.jsx)(o.View,{className:u["sub-content"],children:"\u513f\u7ae5\u65c5\u5ba2\u5fc5\u987b\u6709\u540c\u8231\u4f4d\u6210\u4eba\uff08\u6ee118\u5468\u5c81\uff09\u966a\u4f34\u4e58\u673a\uff0c\u65e0\u6210\u4eba\u966a\u4f34\u513f\u7ae5\u8bf7\u63d0\u524d\u8054\u7cfb\u822a\u7a7a\u516c\u53f8\u8fdb\u884c\u9884\u8ba2\uff1b"})]})]})]})})]})},{title:"\u5a74\u513f\u7968",id:"babyTicketTip",content:(0,l.jsxs)(o.View,{className:(0,r.classnames)("px-2",u["scroll-tab"]),children:[(0,l.jsxs)(o.View,{className:u["ticket-head"],children:[(0,l.jsx)(s.Z,{className:u["icon-image"],src:"https://pages.ctrip.com/flight_h5/swift/passenger/pop-text-baby.png"}),(0,l.jsx)(o.Text,{children:"\u5a74\u513f\u7968"})]}),(0,l.jsx)(o.View,{className:u["item-table"],children:(0,l.jsxs)(o.View,{className:u["table-content"],children:[(0,l.jsxs)(o.View,{className:u.tr,children:[(0,l.jsx)(o.View,{className:u["tr-title"],children:"\u5e74\u9f84\u89c4\u5b9a"}),(0,l.jsx)(o.View,{className:u["tr-content"],children:"14\u5929\uff08\u542b\uff09-2\u5468\u5c81\uff08\u4e0d\u542b\uff09"})]}),(0,l.jsxs)(o.View,{className:u.tr,children:[(0,l.jsx)(o.View,{className:u["tr-title"],children:"\u7968\u4ef7"}),(0,l.jsxs)(o.View,{className:u["tr-content"],children:[(0,l.jsx)(o.View,{className:u["sub-content"],children:"\u6210\u4eba\u5168\u4ef7\u7968\u768410%\uff1b"}),(0,l.jsx)(o.View,{className:u["sub-content"],children:"\u514d\u673a\u573a\u7ba1\u7406\u5efa\u8bbe\u8d39\uff0c\u4e0d\u6536\u53d6\u71c3\u6cb9\u8d39\uff1b"})]})]}),(0,l.jsxs)(o.View,{className:u.tr,children:[(0,l.jsx)(o.View,{className:u["tr-title"],children:"\u8bc1\u4ef6"}),(0,l.jsx)(o.View,{className:u["tr-content"],children:"\u8eab\u4efd\u8bc1\u3001\u62a4\u7167\u3001\u6237\u53e3\u7c3f\u3001\u51fa\u751f\u8bc1\u660e"})]}),(0,l.jsxs)(o.View,{className:u.tr,children:[(0,l.jsx)(o.View,{className:u["tr-title"],children:"\u6ce8\u610f\u4e8b\u9879"}),(0,l.jsxs)(o.View,{className:u["tr-content"],children:[(0,l.jsx)(o.View,{className:u["sub-content"],children:"\u6bcf\u4f4d\u6210\u4eba\u65c5\u5ba2\u6700\u591a\u643a\u5e261\u540d\u5a74\u513f\uff1b"}),(0,l.jsx)(o.View,{className:u["sub-content"],children:"\u5a74\u513f\u7968\u4e0d\u63d0\u4f9b\u5ea7\u4f4d\uff0c\u5982\u9700\u5355\u72ec\u5360\u7528\u5ea7\u4f4d\uff0c\u53ef\u4e3a\u5a74\u513f\u8d2d\u513f\u7ae5\u7968\uff1b"})]})]})]})})]})},{title:"\u5e38\u89c1\u95ee\u9898",id:"commonProblemTip",content:(0,l.jsxs)(o.View,{className:(0,r.classnames)("px-2",u["scroll-tab"],u["common-question"]),children:[(0,l.jsxs)(o.View,{className:u["question-head"],children:[(0,l.jsx)(s.Z,{className:u["icon-image"],src:"https://pages.ctrip.com/flight_h5/swift/passenger/pop-text-baby.png"}),(0,l.jsx)(o.Text,{children:"\u5e38\u89c1\u95ee\u9898"})]}),(0,l.jsxs)(o.View,{className:u["question-title"],children:[(0,l.jsx)(s.Z,{className:u["icon-image"],src:"https://pages.ctrip.com/flight_h5/swift/passenger/question-q.png"}),(0,l.jsx)(o.Text,{children:"\u4e0d\u6ee114\u5929\u7684\u65b0\u751f\u513f\u80fd\u4e58\u673a\u5417\uff1f"})]}),(0,l.jsxs)(o.View,{className:u["answer-text"],children:[(0,l.jsx)(s.Z,{className:u["icon-image"],src:"https://pages.ctrip.com/flight_h5/swift/passenger/question-a.png"}),(0,l.jsx)(o.Text,{children:"\u65b0\u751f\u5a74\u513f\u62b5\u6297\u529b\u5dee\uff0c\u547c\u5438\u529f\u80fd\u4e0d\u5b8c\u5584\u5417\uff0c\u98de\u673a\u8d77\u98de\uff0c\u964d\u843d\u65f6\u6c14\u538b\u53d8\u5316\u5927\uff0c\u6613\u5bf9\u5176\u9020\u6210\u4f24\u5bb3\uff0c\u56e0\u6b64\uff0c\u822a\u7a7a\u516c\u53f8\u89c4\u5b9a\u51fa\u751f\u4e0d\u8db314\u5929\u7684\u65b0\u751f\u5a74\u513f\u548c\u51fa\u751f\u4e0d\u8db390\u5929\u7684\u65e9\u4ea7\u5a74\u513f\u4e0d\u80fd\u4e58\u673a\u51fa\u884c\u3002\u82e5\u4ecd\u9700\u8981\u643a\u5e26\u65b0\u751f\u5a74\u513f\u4e58\u673a\uff0c\u8bf7\u8054\u7cfb\u822a\u7a7a\u516c\u53f8\u3002"})]}),(0,l.jsxs)(o.View,{className:u["question-title"],children:[(0,l.jsx)(s.Z,{className:u["icon-image"],src:"https://pages.ctrip.com/flight_h5/swift/passenger/question-q.png"}),(0,l.jsx)(o.Text,{children:"\u5982\u4f55\u9884\u8ba2\u66f4\u4f18\u60e0\uff1f"})]}),(0,l.jsxs)(o.View,{className:u["answer-text"],children:[(0,l.jsx)(s.Z,{className:u["icon-image"],src:"https://pages.ctrip.com/flight_h5/swift/passenger/question-a.png"}),(0,l.jsx)(o.Text,{children:"\u5bf9\u4e8e\u56fd\u5185\u822a\u73ed\uff0c\u513f\u7ae5\u3001\u5a74\u513f\u4e5f\u53ef\u4ee5\u8d2d\u4e70\u90e8\u5206\u4ef7\u683c\u7684\u6210\u4eba\u7968\u3002\u7531\u4e8e\u90e8\u5206\u6210\u4eba\u7968\u7684\u6298\u6263\u6bd4\u513f\u7ae5\u7968\u3001\u5a74\u513f\u7968\u7684\u6298\u6263\u66f4\u4f4e\uff0c\u56e0\u6b64\u4e3a\u513f\u7ae5\u3001\u5a74\u513f\u8d2d\u4e70\u6b64\u7c7b\u4f4e\u6298\u6263\u6210\u4eba\u7968\u53ef\u80fd\u66f4\u4f18\u60e0\uff0c\u643a\u7a0b\u4f1a\u667a\u80fd\u5c55\u793a\u66f4\u4f18\u60e0\u7684\u8d2d\u4e70\u65b9\u6848\u3002"})]})]})}],f=d,p=n(43752),m=n(67347),h=n(94244),v={"passenger-child-tip":"PassengerChildTip-module_AYqyl","tip-link":"PassengerChildTip-module_e8qtZ","tip-text":"PassengerChildTip-module_O84VG"},g=function(e){var t=e.count,n=e.isIntl,i=function(){(0,p.jq)("CHILD_BOOKING_TIP",{desc:"\u513f\u7ae5\u5a74\u513f\u9884\u8ba2\u987b\u77e5"}),(0,m.K4)({close:{position:"top-left"},title:"\u513f\u7ae5\u5a74\u513f\u9884\u8ba2\u8bf4\u660e",content:(0,l.jsx)(h.Z,{tabs:f}),position:"bottom",style:{height:"80vh"}})};return(0,l.jsx)(l.Fragment,{children:(!!t.CHILD||!!t.INFANT)&&(0,l.jsxs)(o.View,{className:(0,r.classnames)("mb-2",v["passenger-child-tip"]),children:[!n&&(0,l.jsxs)(o.View,{className:v["tip-link"],onClick:(0,r.trackFn)("showChildBookingTip--7c228",i),"data-testid":"on-show-child-booking-tip",children:["\u513f\u7ae5/\u5a74\u513f\u9884\u8ba2\u8bf4\u660e",(0,l.jsx)(o.Text,{className:"iconfont-h5 icon-info-slim"})]}),!t.ADULT&&(!!t.CHILD||!!t.INFANT)&&(0,l.jsx)(o.View,{className:v["tip-text"],children:"\u513f\u7ae5/\u5a74\u513f\u767b\u673a\u987b\u7531\u6210\u4eba\u966a\u540c"})]})})},y=g,x=n(22276),_=n(79301),N=n(45023),b=n(298),T=n(95308),w=n(81983),C=n(72776),I=n(8811),E=n(72950),S=n(59931),j=n(30948),k=n(87108),A=n(19836),P=n(92954),R=n(30847),O=n(54491),D=n(20092),L=n(82607),V=n(42463),Z={"slide-delete-wrap":"PassengerList-module_xGF_r","main-body":"PassengerList-module_UjLPi",content:"PassengerList-module_OM9md","section-delete":"PassengerList-module_W9ssy","section-info":"PassengerList-module_jIW8x","passenger-name-tag":"PassengerList-module_Ts39v",name:"PassengerList-module_eOhYE",tag:"PassengerList-module_z1qFS","real-name-tag":"PassengerList-module_It717",symbol:"PassengerList-module_anHGH","passenger-card-number":"PassengerList-module_jpCAh","section-edit":"PassengerList-module_QKKbL","warning-list":"PassengerList-module_EDgc_","warning-message":"PassengerList-module_trA8H","students-certification":"PassengerList-module_a5Wy5","certification-describe":"PassengerList-module__q4Vw","go-certification":"PassengerList-module_sH9pM","add-passenger":"PassengerList-module_vym13",intl:"PassengerList-module_dMu1M","icon-add":"PassengerList-module_iLY9Q"},M=function(e){var t,n,a=e.showCount,c=e.goToRealName,u=e.passengerList,d=e.xPassengerIds,f=e.authInfo,m=e.clrlist,h=e.realNameTip,v=e.realNameType,g=e.passengerCount,y=e.setSelected,M=e.productTypes,F=e.salePolInfo,B=e.showLockPricePsg,U=e.isIntl,q=(0,i.useMemo)((function(){return u.filter((function(e){return e.checked}))||[]}),[u]),H=(0,i.useRef)([]),G=(0,P.useRouter)(),Y=G.params,K=Y||{},W=K.policyId,z=(0,i.useCallback)(function(){var e=(0,T.Z)((0,_.Z)().mark((function e(t){var n,r,i,o,a,c,s,u,l,d,f,h,v,x;return(0,_.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t||{},r=n.checked,i=n.name,o=void 0===i?{}:i,a=n.document,c=n.id,s=a||{},u=s.interceptStatus,l=s.interceptMessage,d=void 0===l?"":l,f=s.interceptSubMessages,h=void 0===f?[]:f,v=(0,O.e)(m,null===a||void 0===a?void 0:a.type),r||!U||!v){e.next=12;break}if(H.current.includes(c)){e.next=9;break}if(H.current.push(c),"W"!==u||!d||!h){e.next=9;break}return e.next=9,(0,C.Rq)({intermsg:d,interSubMsg:h});case 9:if("T"!==u||!d){e.next=12;break}return(0,C.GV)({intermsg:d}),e.abrupt("return");case 12:(0,p.jq)("".concat(r?"unselect_passenger":"select_passenger"),(0,b.Z)((0,b.Z)({},o),{},{checked:r,desc:"\u5916\u9732\u4e58\u673a\u4eba\u5217\u8868\u70b9\u51fb"})),x=(0,E.N6)(t,g,q,M,U,m),x&&y((0,N.Z)({},t.id,!t.checked),!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[U,g,q,M,m,y]),Q=(0,i.useCallback)((function(){(0,p.jq)("go to student certification, booking"),(0,j._)()}),[]),$=function(e,t){return(0,l.jsxs)(o.View,{className:Z["warning-message"],onClick:(0,r.trackFn)("callback--91fc6",t),children:[(0,l.jsx)(o.Text,{className:"iconfont-h5 icon-warning"}),e]})},X=function(){(0,p.jq)("open_passenger_list",{desc:"\u6253\u5f00\u4e58\u673a\u4eba\u5217\u8868"}),(0,k.T0)({isIntl:String(Number(U)),clrlist:m,policyId:W})},J=U&&!u.length;if(J)return(0,l.jsx)(o.View,{className:"col",children:(0,l.jsx)(o.View,{className:(0,r.classnames)(Z["add-passenger"],Z.intl),onClick:(0,r.trackFn)("onOpenPassengerList--b3c0f",X),"data-testid":"on-open-passenger-list",children:(0,l.jsx)(o.Text,{children:"\u6dfb\u52a0\u4e58\u673a\u4eba"})})});var ee=null===(t=q.filter((function(e){return"ADULT"===e.passengerType})))||void 0===t?void 0:t.length,te=null===(n=q.filter((function(e){return"1"===(0,S.Md)(e)})))||void 0===n?void 0:n.length,ne=ee>te,re=u.filter((function(e){return e.checked})),ie=Number((0,R.l)((null===F||void 0===F?void 0:F.spnlst)||[],D.Fx.ChildCompanionAgeMin)||"18"),oe=Number((0,R.l)((null===F||void 0===F?void 0:F.spnlst)||[],D.Fx.OldCompanionAgeMin)||"0"),ae=Number((0,R.l)((null===F||void 0===F?void 0:F.spnlst)||[],D.Fx.OldCompanionAgeMax)||"100"),ce=null===re||void 0===re?void 0:re.some((function(e){var t=e.companion||{},n=t.lastAge;return n&&n>=Number(ie)})),se=null===re||void 0===re?void 0:re.some((function(e){var t=e.companion||{},n=t.lastAge;return n&&n>=Number(oe)&&n<Number(ae)}));return(0,l.jsxs)(o.View,{className:"col",children:[(0,l.jsx)(o.View,{children:u.map((function(e,t){var n,i,c,u,p,h,v,g,y,_,N,T,E,S,j,k=e.companion||{},P=k.childNeedAccompanyTip,R=k.oldNeedAccompanyTip;if(!ce&&P||!se&&R){var D,L=P||R;e=(0,b.Z)((0,b.Z)({},e),{},{tipContent:[].concat((0,x.Z)((null===(D=e)||void 0===D?void 0:D.tipContent)||[]),[L||""])})}var F=e,q=F.tipContent,H=void 0===q?[]:q,G=F.document,Y=G||{},K=Y.interceptMessage,X=void 0===K?"":K,J=Y.interceptSubMessages,ee=void 0===J?[]:J,te=Y.interceptStatus,re=void 0===te?"":te,ie=function(e){["W","T"].includes(re)&&("W"===re?(0,C.Rq)({intermsg:X,interSubMsg:ee}):"T"===re&&(0,C.GV)({intermsg:X}),e.stopPropagation())},oe=H;if(null!==H&&void 0!==H&&H.includes("\u4e58\u5ba2\u5728\u65c5\u9014\u4e2d\u5c06\u6ee112\u5468\u5c81\uff0c\u6309\u822a\u53f8\u89c4\u5b9a\uff0c\u4e3a\u60a8\u4ee5\u6210\u4eba\u4ef7\u8d2d\u4e70")&&!ne&&(oe=["\u53bb\u7a0b12\u5468\u5c81\u4ee5\u4e0b\u672a\u6210\u5e74\u4eba\u987b\u7531\u5e74\u6ee118\u5468\u5c81\u4e58\u5ba2\u966a\u540c\u4e58\u673a\uff0c\u5e76\u8d2d\u4e70\u540c\u8231\u7b49\u673a\u7968\uff1b\u82e5\u65e0\u7b26\u5408\u5e74\u9f84\u4e58\u5ba2\u966a\u540c\u8bf7\u76f4\u63a5\u5411\u822a\u7a7a\u516c\u53f8\u9884\u8ba2\u3002"].concat((0,x.Z)(oe))),!oe.length&&null!==(n=e.checkError)&&void 0!==n&&n.text&&(oe=[e.checkError.text]),t>=a)return null;if(null===(i=e.document)||void 0===i||!i.no)return null;var ae=(0,A.pB)((null===(c=e.document)||void 0===c?void 0:c.type)||"",null===(u=e.region)||void 0===u?void 0:u.acronym),ue=(0,A.iS)((null===(p=e.document)||void 0===p?void 0:p.type)||""),le=ae&&e.name.chineseName||"",de=ue?(0,A.Z_)(e.name):"",fe=[le,de].filter(Boolean).join(" "),pe=1===(1&e.identity),me={CHILD:"\u513f\u7ae5",INFANT:"\u5a74\u513f"}[e.passengerType],he="MALE"===e.gender?"\u7537":"FEMALE"===e.gender?"\u5973":"";return(0,l.jsxs)(o.View,{className:Z["slide-delete-wrap"],children:[(0,l.jsxs)(o.View,{className:Z["main-body"],children:[(0,l.jsxs)(o.View,{className:Z.content,onClick:(0,r.trackFn)(e.id+"--a5220",(function(){return z(e)})),"data-testid":"on-click-passenger-".concat(t),children:[(0,l.jsx)(o.View,{className:Z["section-delete"],children:(0,l.jsx)(w.v,{checked:e.checked})}),(0,l.jsxs)(o.View,{className:Z["section-info"],children:[(0,l.jsxs)(o.View,{className:Z["passenger-name-tag"],children:[U?null!==(h=e.name)&&void 0!==h&&h.englishName?(0,l.jsx)(o.Text,{className:Z.name,children:"".concat(e.name.englishName).concat(null!==(v=e.name)&&void 0!==v&&v.chineseName?" (".concat(e.name.chineseName,")"):"")}):(0,l.jsx)(o.Text,{className:Z.name,children:fe||(null===(g=e.name)||void 0===g?void 0:g.chineseName)}):(0,l.jsx)(o.Text,{className:Z.name,children:fe}),e.self?(0,l.jsx)(o.Text,{className:Z.tag,children:"\u672c\u4eba"}):me&&(0,l.jsx)(o.Text,{className:Z.tag,children:me}),!(null===M||void 0===M||!M.length)&&M.indexOf("LIMITED_STUDENT")>-1&&pe&&(0,l.jsx)(o.Text,{className:Z["real-name-tag"],children:"\u5b66\u751f"}),(null===(y=e.document)||void 0===y?void 0:y.no)===(null===f||void 0===f?void 0:f.cnum)&&(null===(_=e.document)||void 0===_?void 0:_.type)===(0,I.U)(null===f||void 0===f?void 0:f.ctype)&&(0,l.jsx)(o.Text,{className:Z["real-name-tag"],children:"\u5b9e\u540d\u8ba4\u8bc1"}),e.checked&&(null===d||void 0===d?void 0:d.includes(e.id))&&(0,l.jsx)(s.Z,{className:Z.symbol,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/book-passenger/icon-insurance.svg"})]}),(0,l.jsx)(o.View,{className:Z["passenger-card-number"],children:e.document.name+" "+e.document.no+"".concat(U&&he?" ".concat(he):"")})]}),(0,l.jsx)(o.View,{children:!B&&(0,l.jsx)(o.View,{className:Z["section-edit"],onClick:(0,r.trackFn)(e.id+"--1f3b8",(function(t){(0,V.wd)(U,e,m,W),t.stopPropagation()})),children:(0,l.jsx)(o.View,{className:"iconfont-h5 icon-edit"})})})]}),(0,l.jsxs)(o.View,{className:Z["warning-list"],children:[!U&&"PASSPORT"===e.document.type&&"passport_region_invalid"===(null===(N=e)||void 0===N||null===(N=N.checkError)||void 0===N?void 0:N.text)&&$("\u8bf7\u4fee\u6539\u8bc1\u4ef6\u7c7b\u578b\uff0c\u6309\u6c11\u822a\u5c40\u89c4\u5b9a\uff0c\u6e2f\u6fb3\u53f0\u540c\u80de\u9884\u8ba2\u5185\u5730\u822a\u73ed\u9700\u4f7f\u7528\u56de\u4e61\u8bc1\u3001\u53f0\u80de\u8bc1\uff0c\u4ee5\u514d\u5f71\u54cd\u4e58\u673a"),["\u6210\u4eba","\u513f\u7ae5","\u5a74\u513f"].includes((null===(T=e)||void 0===T||null===(T=T.name)||void 0===T?void 0:T.chineseName)||"")&&$("\u59d3\u540d\u53ef\u80fd\u6709\u8bef\uff0c\u8bf7\u4e0e\u4e58\u673a\u8bc1\u4ef6\u59d3\u540d\u4e00\u81f4"),(0,A.mm)(e,(0,O.e)(m,null===(E=e.document)||void 0===E?void 0:E.type))&&$((0,A.mm)(e,(0,O.e)(m,null===(S=e.document)||void 0===S?void 0:S.type))),e.checked&&!(null===(j=oe)||void 0===j||!j.length)&&oe.map((function(e){return $(e,ie)}))]})]}),(0,l.jsx)(o.View,{children:!(null===M||void 0===M||!M.length)&&M.indexOf("LIMITED_STUDENT")>-1&&!pe&&(0,l.jsxs)(o.View,{className:Z["students-certification"],children:[(0,l.jsx)(o.View,{className:Z["certification-describe"],children:"\u901a\u8fc7\u5927\u5b66\u751f\u8ba4\u8bc1\u540e\u53ef\u9884\u8ba2\u6b64\u4ef7\u683c"}),(0,l.jsxs)(o.View,{className:Z["go-certification"],onClick:(0,r.trackFn)(e.id+"--f7dae",Q),"data-testid":"go-student-certification",children:[(0,l.jsx)(o.View,{children:"\u53bb\u8ba4\u8bc1"}),(0,l.jsx)(o.View,{className:"iconfont-h5 icon-arrow-right"})]})]})})]},e.id)}))}),(0,l.jsx)(o.View,{children:2===v&&(0,l.jsx)(L.Z,{authInfo:f,selectedPassengers:q,realNameTip:h,goToRealName:c,isNoRegister:!0})}),(0,l.jsx)(o.View,{children:!B&&(0,l.jsxs)(o.View,{className:Z["add-passenger"],onClick:(0,r.trackFn)("onOpenPassengerList--16d73",X),"data-testid":"on-open-passenger-list",children:[(0,l.jsx)(s.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/book-top/Icon_add_new.png",className:Z["icon-add"]}),(0,l.jsx)(o.Text,{children:"\u66f4\u591a\u4e58\u673a\u4eba"})]})})]})},F=M,B={"passenger-edit":"Passenger-module_xbMDd"},U=function(e){var t=e.showCount,n=e.setSelected,r=e.goToRealName,i=e.passengerCount,s=e.passengerList,u=void 0===s?[]:s,d=e.xPassengerIds,f=e.authInfo,p=e.realNameTip,m=e.realNameType,h=e.availableCardList,v=e.productTypes,g=e.salePolInfo,x=e.showLockPricePsg,_=e.isIntl,N=e.clrlist;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y,{count:i,isIntl:_}),(0,l.jsxs)(o.View,{className:"row",children:[(!(null===u||void 0===u||!u.length)||_)&&(0,l.jsx)(F,{showCount:t,setSelected:n,productTypes:v,salePolInfo:g,goToRealName:r,passengerList:u,xPassengerIds:d,authInfo:f,realNameTip:p,realNameType:m,passengerCount:i,showLockPricePsg:x,isIntl:_,clrlist:N}),!_&&!(null!==u&&void 0!==u&&u.length)&&(0,l.jsx)(a.ZP,{isIntl:_,clrlist:N,children:function(e){var t=e.documents,r=e.setDocuments,a=e.selectedPassenger,s=e.setSelectedPassenger,d=e.travelCardIsOn,f=e.setTravelCardIsOn,p=e.travelCardCards,m=e.setTravelCardCards,g=e.savePassengerQuery,y=e.savePassengerToList,x=e.updatePassengerCheck;return a&&(0,l.jsx)(o.View,{className:B["passenger-edit"],children:(0,l.jsx)(c.Z,{passengerCount:i,passengerList:u,availableCardList:h,productTypes:v,travelCardIsOn:d,setTravelCardIsOn:f,travelCardCards:p,setTravelCardCards:m,setSelected:n,fromBookingPage:!0,selectedPassenger:a,setSelectedPassenger:s,documents:t,setDocuments:r,savePassengerQuery:g,savePassengerToList:y,updatePassengerCheck:x,isIntl:_})})}})]})]})},q=(0,i.memo)(U)},33647:function(e,t,n){"use strict";n.d(t,{Z:function(){return oe}});var r=n(79301),i=n(95308),o=n(45023),a=n(298),c=n(90129),s=n(62171),u=n(90201),l=n(12809),d=n(25457),f=n(87108),p=n(69905),m=n(16921),h=n(86252),v=n(43752),g=n(33037),y=n(45283),x=n(92954),_=n(72776),N=n(99065),b=n(54491),T=n(19836),w=n(32408),C=n(20092),I=n(59931),E=n(14044),S=n(43762),j=n(72950),k=n(276),A=n(67347),P=n(22276),R=n(71515),O=n(94244),D={"pop-tip":"CardTip-module_f0bHZ","pop-content":"CardTip-module_I0_q8",title:"CardTip-module_baTWc","item-block":"CardTip-module_xL299",pre:"CardTip-module_fjqL3",content:"CardTip-module_PPvKA","write-tip-wrapper":"CardTip-module_qrRRr","scroll-tab":"CardTip-module_n4rDG","tip-title":"CardTip-module_f9Jgp",tag:"CardTip-module_nv65d","tip-text":"CardTip-module_YXJvb","tip-item":"CardTip-module_GyhcB","item-name":"CardTip-module_g6kvv"},L=n(2269),V=function(e){var t=e.isChinese,n=void 0!==t&&t;if(n)return(0,L.jsx)(R.View,{className:D["pop-tip"],children:(0,L.jsxs)(R.View,{className:D["pop-content"],children:[(0,L.jsxs)(R.View,{children:[(0,L.jsx)(R.View,{className:D.title,children:"\u4e00\u3001\u59d3\u540d\u9700\u4e0e\u6240\u6301\u8bc1\u4ef6\u7684\u59d3\u540d\u4e00\u81f4\u3002"}),(0,L.jsx)(R.View,{className:D.title,children:"\u4e8c\u3001\u4e2d\u6587\u59d3\u540d"})]}),(0,L.jsxs)(R.View,{children:[(0,L.jsxs)(R.View,{className:D["item-block"],children:[(0,L.jsx)(R.View,{className:D.pre}),(0,L.jsx)(R.View,{className:D.content,children:"\u82e5\u6301\u62a4\u7167\u767b\u673a\uff0c\u5fc5\u987b\u786e\u8ba4\u62a4\u7167\u4e0a\u6709\u4e2d\u6587\u59d3\u540d\u3002"})]}),(0,L.jsxs)(R.View,{className:D["item-block"],children:[(0,L.jsx)(R.View,{className:D.pre}),(0,L.jsx)(R.View,{className:D.content,children:"\u751f\u50fb\u5b57\u53ef\u7528\u62fc\u97f3\u4ee3\u66ff\uff0c\u62fc\u97f3\u4e4b\u540e\u4e0d\u53ef\u518d\u8f93\u5165\u6c49\u5b57\uff0c\u9700\u7528\u62fc\u97f3\u4ee3\u66ff\u3002\u4f8b\u5982\uff1a\u201c\u738b\u9b33\u519b\u201d\u53ef\u8f93\u5165\u4e3a\u201c\u738byanjun\u201d\u3002"})]}),(0,L.jsxs)(R.View,{className:D["item-block"],children:[(0,L.jsx)(R.View,{className:D.pre}),(0,L.jsx)(R.View,{className:D.content,children:"\u59d3\u540d\u4e2d\u6709\u7279\u6b8a\u7b26\u53f7\u201c.\u201d \u201c-\u201d\u7b49\uff0c\u53ef\u4e0d\u7528\u8f93\u5165\uff0c\u4f8b\u5982\uff1a\u201c\u6c49\u7956\u7136\xb7\u4e70\u5356\u63d0\u201d\u53ef\u8f93\u5165\u4e3a\u201c\u6c49\u7956\u7136\u4e70\u5356\u63d0\u201d\u3002"})]}),(0,L.jsxs)(R.View,{className:D["item-block"],children:[(0,L.jsx)(R.View,{className:D.pre}),(0,L.jsx)(R.View,{className:D.content,children:"\u9999\u6e2f\u3001\u53f0\u6e7e\u3001\u6fb3\u95e8\u7684\u62a4\u7167\u4e0d\u652f\u6301\u9884\u8ba2\u5185\u5730\u822a\u73ed\uff0c\u8bf7\u6539\u7528\u5176\u4ed6\u8bc1\u4ef6\u3002"})]})]})]})});var r=[{title:"\u4e2d\u6587\u59d3\u540d",id:"chineseName",content:(0,L.jsxs)(R.View,{className:D["scroll-tab"],children:[(0,L.jsxs)(R.View,{className:D["tip-title"],children:[(0,L.jsx)(R.Text,{className:D.tag,children:"\u4e2d"}),(0,L.jsx)(R.Text,{children:"\u4f7f\u7528\u4e2d\u6587\u59d3\u540d"})]}),(0,L.jsx)(R.View,{className:D["tip-text"],children:"\u60a8\u53ef\u4ee5\u5728\u4e2d\u6587\u59d3\u540d\u6a21\u5f0f\u4e0b\u8f93\u5165\u4e0e\u767b\u673a\u6240\u6301\u8bc1\u4ef6\u4e00\u81f4\u7684\u4e2d\u6587\u59d3\u540d\u3002"}),(0,L.jsxs)(R.View,{className:D["tip-item"],children:[(0,L.jsx)(R.View,{className:D["item-name"],children:"\u62a4\u7167\u767b\u673a"}),(0,L.jsx)(R.View,{children:"\u82e5\u6301\u62a4\u7167\u767b\u673a\uff0c\u5fc5\u987b\u786e\u8ba4\u62a4\u7167\u4e0a\u6709\u4e2d\u6587\u59d3\u540d\u3002"})]}),(0,L.jsxs)(R.View,{className:D["tip-item"],children:[(0,L.jsx)(R.View,{className:D["item-name"],children:"\u7279\u6b8a\u7b26\u53f7"}),(0,L.jsx)(R.View,{children:"\u59d3\u540d\u4e2d\u542b\u7279\u6b8a\u7b26\u53f7\u201c\xb7\xb7\u201d\u201c_\u201d\u7b49\uff0c\u53ef\u4e0d\u7528\u8f93\u5165\u3002\u5982\uff1a\u201c\u6c49\u7956\u7136\xb7\u4e70\u4e70\u63d0\u201d\u53ef\u8f93\u5165\u4e3a\u6c49\u7956\u7136\u4e70\u4e70\u63d0\u3002"})]}),(0,L.jsxs)(R.View,{className:D["tip-item"],children:[(0,L.jsx)(R.View,{className:D["item-name"],children:"\u6e2f\u6fb3\u53f0"}),(0,L.jsx)(R.View,{children:"\u9999\u6e2f\u3001\u6fb3\u95e8\u3001\u53f0\u6e7e\u7684\u62a4\u7167\u4e0d\u652f\u6301\u56fd\u5185\u822a\u73ed\uff0c\u8bf7\u6539\u7528\u5176\u4ed6\u8bc1\u4ef6\u3002"})]})]})},{title:"\u82f1\u6587\u59d3\u540d",id:"englishName",content:(0,L.jsxs)(R.View,{className:D["scroll-tab"],children:[(0,L.jsxs)(R.View,{className:D["tip-title"],children:[(0,L.jsx)(R.Text,{className:D.tag,children:"\u82f1"}),(0,L.jsx)(R.Text,{children:"\u4f7f\u7528\u82f1\u6587\u59d3\u540d"})]}),(0,L.jsx)(R.View,{className:D["tip-text"],children:"\u60a8\u53ef\u4ee5\u5728\u82f1\u6587\u59d3\u540d\u6a21\u5f0f\u4e0b\u8f93\u5165\u4e0e\u767b\u673a\u6240\u6301\u8bc1\u4ef6\u4e00\u81f4\u7684\u82f1\u6587\u59d3\u540d\u3002"}),(0,L.jsxs)(R.View,{className:D["tip-item"],children:[(0,L.jsx)(R.View,{className:D["item-name"],children:"\u62a4\u7167\u767b\u673a"}),(0,L.jsx)(R.View,{children:"\u82e5\u6301\u62a4\u7167\u767b\u673a\uff0c\u5fc5\u987b\u6309\u7167\u62a4\u7167\u987a\u5e8f\u533a\u5206\u59d3\u4e0e\u540d\u3002Middlename \u586b\u5199\u5728Given name\uff08\u540d\uff09\u4e2d\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002\u5982potter\uff08\u59d3\uff09/joe jerad\uff0c\u5728Surname\uff08\u59d3\uff09\u4e2d\u586b\u5199potter\uff0c\u5728Given name\uff08\u540d\uff09\u4e2d\u8f93\u5165joe jerad\u3002"})]}),(0,L.jsxs)(R.View,{className:D["tip-item"],children:[(0,L.jsx)(R.View,{className:D["item-name"],children:"\u59d3\u540d\u957f\u5ea6"}),(0,L.jsx)(R.View,{children:"\u59d3\u4e0e\u540d\u603b\u957f\u5ea6\u226426\u4e2a\u5b57\u7b26\uff0c\u82e5\u8fc7\u957f\u8bf7\u4f7f\u7528\u7f29\u5199\u3002"})]})]})}].concat((0,P.Z)([{title:"\u8001\u7248\u62a4\u7167",id:"oldPassport",text:"\u8001\u7248\u62a4\u7167\u56fe\u793a\u8bf4\u660e",imageSrc:"https://pic.c-ctrip.com/AssetCatalog/h5/swift/passport-old.jpg",imageAlt:"\u56fe\u793a\u8bf4\u660e(\u8001\u7248\u62a4\u7167)"},{title:"\u65b0\u7248\u62a4\u7167",id:"newPassport",text:"\u65b0\u7248\u62a4\u7167\u56fe\u793a\u8bf4\u660e",imageSrc:"https://pic.c-ctrip.com/AssetCatalog/h5/swift/passport-new.jpg",imageAlt:"\u56fe\u793a\u8bf4\u660e(\u65b0\u7248\u62a4\u7167)"},{title:"\u6e2f\u6fb3\u901a\u884c\u8bc1",id:"hkPass",text:"\u6e2f\u6fb3\u901a\u884c\u8bc1\u56fe\u793a\u8bf4\u660e",imageSrc:"https://pages.ctrip.com/flight_h5/swift/passenger/hk.png"},{title:"\u53f0\u6e7e\u901a\u884c\u8bc1",id:"twPass",text:"\u53f0\u6e7e\u901a\u884c\u8bc1\u56fe\u793a\u8bf4\u660e",imageSrc:"https://pages.ctrip.com/flight_h5/swift/passenger/cn-tw.png"},{title:"\u53f0\u80de\u8bc1",id:"twCard",text:"\u53f0\u80de\u8bc1\u56fe\u793a\u8bf4\u660e",imageSrc:"https://pages.ctrip.com/flight_h5/swift/passenger/tw-cn.png"}].map((function(e){var t=e.title,n=e.text,r=e.imageSrc,i=e.imageAlt,o=e.id;return{title:t,id:o,content:(0,L.jsxs)(R.View,{className:D["scroll-tab"],children:[(0,L.jsx)(R.View,{className:D["tip-title"],children:(0,L.jsx)(R.Text,{children:n})}),(0,L.jsx)(R.Image,{src:r,alt:i||n,className:D.img})]})}}))));return(0,L.jsx)(O.Z,{tabs:r,isScrollTitle:!0})},Z=V,M=n(32620),F=n(13374),B=n(46636),U=n(36903),q=n(44152),H=n(40459),G=n(61659),Y=n(81369),K={"input-label":"TravelCard-module_mUzTJ",icon:"TravelCard-module_tFIXb",switch:"TravelCard-module_KIzrj",selector:"TravelCard-module_nit6r","travel-card-no":"TravelCard-module_bjLMg","error-message":"TravelCard-module_iij6e","banner-wrap":"TravelCard-module_sOvmk","img-banner":"TravelCard-module_VQ1tg","intro-wrap":"TravelCard-module_uks2E",title:"TravelCard-module_l4j4F",content:"TravelCard-module_hBeJA"},W=function(e){var t,n=e.travelCard,r=e.selectedPassenger,i=e.onClickTravelCard,o=e.onSwitchTravelCard,l=e.onTravelCardInputBlur,d=n.cards,f=n.isOn,p=(0,u.useState)(0),m=(0,c.Z)(p,2),h=m[0],v=m[1],g=(0,u.useState)(!1),y=(0,c.Z)(g,2),x=y[0],_=y[1],N=(0,u.useState)(!1),b=(0,c.Z)(N,2),w=b[0],C=b[1],I=r||{},E=I.airlineVips,S=(0,u.useCallback)((function(e){var t=(0,a.Z)((0,a.Z)({},d[h]),{},{cardName:e.cardName});t.cardName=e.cardName,t.airlineNo=e.airlineNo,t.cardNo=(0,T.vO)(E,e.airlineNo),i({currentIndex:h,currentCard:t}),_(!1)}),[d,h,E,i]);return d.length?(0,L.jsxs)(R.View,{children:[(0,L.jsx)(R.View,{className:"card mt-1 no-border",children:(0,L.jsxs)(R.View,{className:"card-body px-4 py-0",children:[(0,L.jsxs)(R.View,{className:"row",children:[(0,L.jsx)(R.View,{onClick:(0,s.trackFn)("onClick--e566e",(function(){return C(!0)})),children:(0,L.jsxs)(R.View,{className:K["input-label"],children:["\u4f7f\u7528\u5e38\u65c5\u5ba2\u5361",(0,L.jsx)(R.Text,{className:(0,s.classnames)("iconfont-h5 icon-help-circle",K.icon)})]})}),(0,L.jsx)(R.View,{className:(0,s.classnames)("col align-self-center",K["switch"]),children:(0,L.jsx)(R.Switch,{checked:f,color:"#008ddc",onChange:o})})]}),d.map((function(e,t){return(0,L.jsxs)(R.View,{style:{display:f&&e?"":"none"},children:[(0,L.jsxs)(R.View,{className:"row",children:[(0,L.jsx)(R.View,{className:"col-3",children:(0,L.jsx)(R.View,{className:K["input-label"],children:"\u5e38\u65c5\u5ba2\u8ba1\u5212"})}),(0,L.jsxs)(R.View,{"data-testid":"cards-item",className:"col align-self-center bb-grey-1",onClick:(0,s.trackFn)("".concat(e.cardName).concat(t)+"--ace37",(function(){_(!0),v(t)})),children:[(0,L.jsx)(R.View,{className:K["input-label"],children:e.cardName}),(0,L.jsx)(R.View,{className:(0,s.classnames)("iconfont-h5 icon-arrow-right",K.selector)})]})]}),(0,L.jsxs)(R.View,{className:"row",children:[(0,L.jsx)(R.View,{className:"col-3",children:(0,L.jsx)(R.View,{className:K["input-label"],children:"\u5361\u53f7"})}),(0,L.jsx)(R.View,{className:"col align-self-center",children:(0,L.jsx)(R.Input,{placeholder:"\u8bf7\u8f93\u5165\u5361\u53f7",placeholderStyle:"color: #ccc;",className:K["travel-card-no"],onBlur:(0,s.trackFn)("".concat(e.cardName).concat(t)+"--3675a",(function(e){var n=e.detail.value;l({value:n,index:t})})),value:e.cardNo})})]}),!!e.error&&(0,L.jsx)(R.View,{className:"row",children:(0,L.jsx)(R.View,{className:"col offset-3 bt-red-1",children:(0,L.jsx)(R.View,{className:K["error-message"],children:e.error})})})]},"".concat(e.cardName).concat(t))}))]})}),(0,L.jsx)(Y.Z,{show:x,title:"\u5e38\u65c5\u5ba2\u8ba1\u5212",onClose:function(){return _(!1)},children:(0,L.jsx)(H.GM,{scrollY:!0,children:null===(t=d[h])||void 0===t||null===(t=t.unions)||void 0===t?void 0:t.map((function(e,t){var r=e.airlineNo===n.cards[h].airlineNo;return(0,L.jsxs)(H.n_,{testId:"document-type",active:r,onClick:(0,s.trackFn)(t+"--onClick-2da04",(function(){return S(e)})),children:[(0,L.jsx)(R.View,{children:e.cardName}),r&&(0,L.jsx)(R.View,{className:"iconfont-h5 icon-tick"})]},t)}))})}),(0,L.jsx)(Y.Z,{show:w,title:"\u5e38\u65c5\u5ba2\u5361\u8bf4\u660e",onClose:function(){return C(!1)},children:(0,L.jsxs)(R.View,{children:[(0,L.jsx)(R.View,{className:K["banner-wrap"],children:(0,L.jsx)(G.Z,{mode:"widthFix",className:K["img-banner"],src:"https://pic.c-ctrip.com/AssetCatalog/h5/swift/pop-frequent.png"})}),(0,L.jsxs)(R.View,{className:K["intro-wrap"],children:[(0,L.jsx)(R.View,{className:K.title,children:"\u4e00\u3001\u4ec0\u4e48\u662f\u5e38\u65c5\u5ba2\u5361\uff1f"}),(0,L.jsx)(R.View,{className:K.content,children:"\u5e38\u65c5\u5ba2\u662f\u6307\u7ecf\u5e38\u5750\u98de\u673a\u7684\u4eba\u58eb\uff0c\u53ef\u4ee5\u52a0\u5165\u822a\u7a7a\u516c\u53f8\u5e38\u65c5\u5ba2\u8ba1\u5212\uff0c\u6210\u4e3a\u5176\u4f1a\u5458\u3002\u6bcf\u4f4d\u4f1a\u5458\u90fd\u4f1a\u6709\u822a\u7a7a\u516c\u53f8\u7684\u91cc\u7a0b\u5361\uff0c\u53c8\u79f0\u4f1a\u5458\u5361\uff0c\u8fd9\u4e2a\u5361\u53f7\u5c31\u662f\u4f60\u7684\u5e38\u65c5\u5ba2\u5361\u53f7\u3002"}),(0,L.jsx)(R.View,{className:K.title,children:"\u4e8c\u3001\u5e38\u65c5\u5ba2\u5361\u6709\u4ec0\u4e48\u7528\uff1f"}),(0,L.jsx)(R.View,{className:K.content,children:"\u5e38\u65c5\u5ba2\u5361\u4e3b\u8981\u7528\u4e8e\u7d2f\u79ef\u8be5\u822a\u7a7a\u516c\u53f8\u98de\u884c\u7684\u91cc\u7a0b\u6570\uff0c\u53ef\u4ee5\u5151\u6362\u514d\u8d39\u673a\u7968\u3001\u5347\u8231\u7b49\u5176\u4ed6\u5956\u52b1\u3002\u5b83\u5c31\u50cf\u8d85\u5e02\u7684\u8d2d\u7269\u79ef\u5206\u5361\uff0c\u4f60\u53ef\u4ee5\u7528\u8fd9\u4e9b\u79ef\u5206\u80fd\u6362\u673a\u7968\u6216\u8005\u5176\u4ed6\u4e1c\u897f\u3002"}),(0,L.jsx)(R.View,{className:K.title,children:"\u4e09\u3001\u5982\u4f55\u7533\u8bf7\u5e38\u65c5\u5ba2\u5361\uff1f"}),(0,L.jsx)(R.View,{className:K.content,children:"\u5404\u5927\u822a\u7a7a\u516c\u53f8\u7684\u5b98\u7f51\u4e00\u822c\u90fd\u4f1a\u63d0\u4f9b\u5e38\u65c5\u5ba2\u5361\u7684\u7533\u8bf7\u901a\u9053\u3002"})]})]})})]}):null},z=W,Q={box:"EditPassenger-module_w35s3","fill-in-tip":"EditPassenger-module_JbP_e",tip:"EditPassenger-module_PwT34",warning:"EditPassenger-module_X4lVW",detail:"EditPassenger-module_XCz0C",icon:"EditPassenger-module_dkwKp","edit-tips":"EditPassenger-module_Daf2S","edit-title":"EditPassenger-module_pzz6Y","edit-content":"EditPassenger-module_sCExv",confirm_btn:"EditPassenger-module_1zYVS"},$=function(e){var t=e.cardConfig,n=e.selectedPassenger,r=e.onBlurFun,i=e.document,o=e.onOpenPopup,a=e.onSavePassenger,c=e.isChineseName,u=e.isEnglishName;return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(R.View,{className:"card no-border",children:[(0,L.jsxs)(R.View,{className:(0,s.classnames)("card-body",Q.box),children:[c&&(0,L.jsx)(q.Z,{title:"\u59d3\u540d",placeholder:"\u4e2d\u6587\u59d3\u540d\uff0c\u8bf7\u4e0e\u4e58\u673a\u8bc1\u4ef6\u59d3\u540d\u4e00\u81f4",value:n.name.chineseName,error:n.error.chineseName,onBlur:(0,s.trackFn)("onBlur--e8828",(function(e){return r(e,"chineseName")})),fromBookingPage:!0}),u&&(0,L.jsx)(q.Z,{title:"\u59d3(\u62fc\u97f3)",subTitle:"Surname",placeholder:"\u5982\uff1aHAN",value:n.name.surName,error:n.error.surName,onBlur:(0,s.trackFn)("onBlur--b867e",(function(e){return r(e,"surName")}))}),u&&(0,L.jsx)(q.Z,{title:"\u540d(\u62fc\u97f3)",subTitle:"Given Name",placeholder:"\u5982\uff1aMEIMEI",value:n.name.givenName,error:n.error.givenName,onBlur:(0,s.trackFn)("onBlur--28c22",(function(e){return r(e,"givenName")}))}),(0,L.jsx)(q.Z,{title:t.cardName,inputType:"ID"===i.type?"idcard":"text",placeholder:"\u8bf7\u8f93\u5165"+t.cardName+"\u53f7\u7801",value:i.no,showTitleArrow:!0,error:n.error.no,onBlur:(0,s.trackFn)("onBlur--5ebcc",(function(e){return r(e,"no")})),onClickTitle:(0,s.trackFn)("onClickTitle--5ebcc",(function(){return o("DOCUMENT_NEW")})),fromBookingPage:!0}),(0,L.jsx)(q.Z,{title:"+"+n.phone.code,inputType:"number",placeholder:"\u4e58\u673a\u4eba\u624b\u673a\u53f7(\u63a5\u6536\u822a\u73ed\u52a8\u6001\u4fe1\u606f)",showTitleArrow:!0,value:n.phone.mobile,error:n.error.mobile,onClickTitle:(0,s.trackFn)("onClickTitle--d7faa",(function(){return o("REGION_PHONE")})),onBlur:(0,s.trackFn)("onBlur--d7faa",(function(e){return r(e,"mobile",n.phone.code)})),fromBookingPage:!0})]}),(0,L.jsx)(U.z,{className:Q.confirm_btn,type:"blue",onClick:(0,s.trackFn)("onClick--e1cb9",(function(){return a()})),ubtValue:"EditPassenger-new",children:"\u5b8c\u6210"})]})})},X=$,J=(0,s.dayjs)().format("YYYY-MM-DD"),ee=function(e){var t,n=e.selectedPassenger,r=e.travelCard,i=e.fromBookingPage,o=e.onBlur,a=e.onOpenPopup,c=e.onSavePassenger,l=e.onSwitchTravelCard,d=e.onTravelCardInputBlur,f=e.onClickTravelCard,p=e.isIntl,m=e.onClickPassengerGender,h=e.isChineseName,g=e.isEnglishName,y=e.clrlist,x=n.document,_=(0,u.useMemo)((function(){var e=x||{},t=e.type,n=e.expired;return"HOME_VISIT_PERMIT"===t&&!!n&&(0,M.F0)(n)}),[x]),N=(0,u.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"86",r=e.detail.value.trim&&e.detail.value.trim()||"";"mobile"===t&&(r="string"===typeof r?r.replace(/[" "]/g,""):r);var i=-1!==["birth","date","expired"].indexOf(t);r&&i&&(r=(0,s.dayjs)(r).format("YYYY-MM-DD")),o({value:r,name:t,isDate:i,regionCode:n}),(0,v.jq)("c_edit_passenger_blur",{value:r,name:t,isDate:i,regionCode:n})}),[o]);if(!x)return null;var T=p?F.sk[x.type]:F.e$[x.type];p&&(T.expired=(0,b.e)(y,x.type));var w=(0,B.f)();return p&&(h=!1,g=!0),i?(0,L.jsx)(X,{cardConfig:T,selectedPassenger:n,onBlurFun:(0,s.trackFn)("onBlurFun--2e427",N),document:x,onOpenPopup:a,onSavePassenger:c,onClickPassengerGender:(0,s.trackFn)("onClickPassengerGender--2e427",m),isChineseName:h,isEnglishName:g,isIntl:p,birthStartDate:w}):(0,L.jsxs)(R.View,{children:[(0,L.jsx)(R.View,{className:"card no-border",children:(0,L.jsxs)(R.View,{className:(0,s.classnames)("card-body",Q.box),children:[(0,L.jsxs)(R.View,{className:Q["fill-in-tip"],onClick:(0,s.trackFn)("onClick--70279",(function(){return a("DOCUMENT_TIP")})),"data-testid":"on-open-popup",children:[(0,L.jsxs)(R.View,{className:Q.tip,children:[(0,L.jsx)(R.Text,{className:Q.warning,children:"\u5c0f\u8d34\u58eb\uff1a"}),"\u59d3\u540d\u9700\u4e0e\u4e58\u673a\u8bc1\u4ef6\u4e00\u81f4\uff0c\u5426\u5219\u4f1a\u5f71\u54cd\u767b\u673a"]}),(0,L.jsxs)(R.View,{className:Q.detail,children:["\u586b\u5199\u8bf4\u660e",(0,L.jsx)(R.Text,{className:(0,s.classnames)("iconfont-h5 icon-arrow-right",Q.icon)})]})]}),h&&(0,L.jsx)(q.Z,{title:"\u59d3\u540d",placeholder:"\u4e2d\u6587\u59d3\u540d\uff0c\u8bf7\u4e0e\u4e58\u673a\u8bc1\u4ef6\u59d3\u540d\u4e00\u81f4",value:n.name.chineseName,error:n.error.chineseName,onBlur:(0,s.trackFn)("onBlur--a9464",(function(e){return N(e,"chineseName")}))}),g&&(0,L.jsx)(q.Z,{title:"\u59d3(\u62fc\u97f3)",subTitle:"Surname",placeholder:"\u5982\uff1aHAN",value:n.name.surName,error:n.error.surName,onBlur:(0,s.trackFn)("onBlur--4f811",(function(e){return N(e,"surName")}))}),g&&(0,L.jsx)(q.Z,{title:"\u540d(\u62fc\u97f3)",subTitle:"Given Name",placeholder:"\u5982\uff1aMEIMEI",value:n.name.givenName,error:n.error.givenName,onBlur:(0,s.trackFn)("onBlur--6c305",(function(e){return N(e,"givenName")}))}),T.gender&&(0,L.jsx)(q.Z,{title:"\u6027\u522b",formType:"radio",value:n.gender,radioTitle:["\u7537","\u5973"],radioValue:["MALE","FEMALE"],iconName:["male","female"],error:n.error.gender,onSelectRadio:function(e){return m(e)}}),T.birth&&(0,L.jsx)(q.Z,{title:"\u51fa\u751f\u65e5\u671f",formType:"date",dateStart:w,dateEnd:J,defaultValue:"1980-07-15",showItemArrow:!0,value:n.birth,error:n.error.birth,onBlur:(0,s.trackFn)("onBlur--910b4",(function(e){return N(e,"birth")}))}),T.region&&(0,L.jsx)(q.Z,{title:"\u56fd\u7c4d",formType:"select",showItemArrow:!0,value:null===(t=n.region)||void 0===t?void 0:t.name,error:n.error.region,onClickItem:(0,s.trackFn)("onClickItem--2582d",(function(){return a("REGION_PASSENGER")}))}),(0,L.jsx)(q.Z,{title:"\u8bc1\u4ef6\u7c7b\u578b",formType:"select",showItemArrow:!0,value:T.cardName,onClickItem:(0,s.trackFn)("onClickItem--8c714",(function(){return a("DOCUMENT")}))}),(0,L.jsx)(q.Z,{title:"\u8bc1\u4ef6\u53f7\u7801",inputType:"ID"===x.type?"idcard":"text",placeholder:"\u8bf7\u8f93\u5165"+T.cardName+"\u53f7\u7801",value:x.no,error:n.error.no,onBlur:(0,s.trackFn)("onBlur--61ed1",(function(e){return N(e,"no")}))},x.type),T.expired&&(0,L.jsx)(q.Z,{title:"\u8bc1\u4ef6\u6709\u6548\u671f",formType:"date",showItemArrow:!0,value:x.expired,error:n.error.expired,onBlur:(0,s.trackFn)("onBlur--4466b",(function(e){return N(e,"expired")})),canDelay:_}),(0,L.jsx)(q.Z,{title:"+"+n.phone.code,inputType:"number",placeholder:"\u4e58\u673a\u4eba\u624b\u673a\u53f7(\u63a5\u6536\u822a\u73ed\u52a8\u6001\u4fe1\u606f)",isLast:!0,showTitleArrow:!0,value:n.phone.mobile,error:n.error.mobile,onClickTitle:(0,s.trackFn)("onClickTitle--3e055",(function(){return a("REGION_PHONE")})),onBlur:(0,s.trackFn)("onBlur--3e055",(function(e){return N(e,"mobile",n.phone.code)}))})]})}),!p&&(0,L.jsx)(z,{selectedPassenger:n,travelCard:r,onSwitchTravelCard:l,onTravelCardInputBlur:d,onClickTravelCard:(0,s.trackFn)("onClickTravelCard--5bea2",f)}),(0,L.jsxs)(R.View,{className:Q["edit-tips"],children:[(0,L.jsx)(R.View,{className:Q["edit-title"],children:"\u8bf7\u60a8\u4ed4\u7ec6\u9605\u8bfb\u5e76\u7406\u89e3\u4ee5\u4e0b\u5185\u5bb9"}),(0,L.jsx)(R.View,{className:Q["edit-content"],children:"\u6839\u636e\u822a\u7a7a\u516c\u53f8\u8981\u6c42\uff0c\u8d2d\u4e70\u673a\u7968\u9700\u63d0\u4ea4\u4e58\u673a\u4eba\u8eab\u4efd\u8bc1\u4ef6\u4fe1\u606f\uff0c\u5e76\u5728\u4e58\u673a\u65f6\u51fa\u5177\u5bf9\u5e94\u8eab\u4efd\u8bc1\u4ef6\u7528\u4e8e\u9a8c\u8bc1\uff0c\u8bf7\u786e\u4fdd\u5f55\u5165\u4fe1\u606f\u771f\u5b9e\u6709\u6548\u3002\u643a\u7a0b\u5c06\u901a\u8fc7\u52a0\u5bc6\u7b49\u65b9\u5f0f\u4fdd\u62a4\u60a8\u5f55\u5165\u7684\u8eab\u4efd\u8bc1\u4ef6\u4fe1\u606f\uff0c\u4e14\u5728\u5177\u4f53\u8ba2\u7968\u8fc7\u7a0b\u4e2d\u6388\u6743\u63d0\u4f9b\u7ed9\u60a8\u63d0\u4f9b\u670d\u52a1\u7684\u4ea7\u54c1\u4f9b\u5e94\u5546\u3001\u627f\u8fd0\u4eba\u3001\u673a\u7968\u5206\u9500\u7cfb\u7edf\u670d\u52a1\u5546\u3002"})]}),(0,L.jsx)(H.SH,{children:(0,L.jsx)(U.z,{type:"blue",onClick:(0,s.trackFn)("onClick--56253",(function(){return c()})),"data-testid":"on-save-passenger",ubtValue:"EditPassenger",children:"\u786e\u5b9a"})})]})},te=ee,ne={"edit-passenger-scroll":"PassengerEditComp-module_vWjhf"},re={DOCUMENT:!1,DOCUMENT_NEW:!1,DOCUMENT_TIP:!1,TRAVEL_CARD:!1,TRAVEL_CARD_TIP:!1,ORDER_CREATE_CHECK:!1,CHILD_BOOKING_TIP:!1},ie=function(e){var t=e.productTypes,n=e.passengerCount,P=e.documents,R=e.availableCardList,O=e.selectedPassenger,D=e.passengerList,V=void 0===D?[]:D,M=e.fromBookingPage,F=e.setDocuments,B=e.travelCardIsOn,U=e.setTravelCardIsOn,q=e.travelCardCards,H=e.setTravelCardCards,G=e.setSelectedPassenger,Y=e.savePassengerQuery,K=e.savePassengerToList,W=e.updatePassengerCheck,z=e.isIntl,Q=e.clrlist,$=e.resolve,X=e.reject,J=(0,u.useState)(re),ee=(0,c.Z)(J,2),ie=ee[0],oe=ee[1],ae=(0,u.useState)(!1),ce=(0,c.Z)(ae,2),se=ce[0],ue=ce[1],le=(0,x.useRouter)(),de=le.params,fe=de||{},pe=fe.policyId,me=(0,u.useMemo)((function(){var e=(0,T.dL)(se,O.phone);return(0,a.Z)((0,a.Z)({},O),{},{phone:(0,a.Z)((0,a.Z)({},O.phone),{},{mobile:e.showMobile,code:e.showCode})})}),[se,O]),he=(0,u.useMemo)((function(){return!z&&(0,T.pB)(null===(e=O.document)||void 0===e?void 0:e.type,null===(t=O.region)||void 0===t?void 0:t.acronym);var e,t}),[O,z]),ve=(0,u.useMemo)((function(){var e;return(0,T.iS)((null===(e=O.document)||void 0===e?void 0:e.type)||"")}),[O]),ge=(0,u.useCallback)((function(e,t){(0,v.jq)("".concat(e,"_").concat(t?"SHOW":"CLOSE")),"DOCUMENT_TIP"!==e?oe((0,a.Z)((0,a.Z)({},re),{},(0,o.Z)({},e,t))):(0,A.K4)({close:{position:"top-left"},closeMethod:"close",title:"\u8bc1\u4ef6\u586b\u5199\u8bf4\u660e",content:(0,L.jsx)(Z,{isChinese:O.document&&he}),position:"bottom",style:{height:"80vh"}})}),[oe,O.document,he]),ye=(0,u.useCallback)((function(e){var t,n;(0,v.jq)("onPassengerInputBlur");var r=s.R.clone(O);if(e.isDate){var i,c=e.value,u=e.name,l=d.Z.getField(null===(i=r.document)||void 0===i?void 0:i.type,u);(0,m.t8)(r,l,c)}var f=e.value,p=e.name,h=e.regionCode,g=d.Z.getValidator(null===(t=r.document)||void 0===t?void 0:t.type,p),y=d.Z.getField(null===(n=r.document)||void 0===n?void 0:n.type,p);if("surName"!==p&&"givenName"!==p||(f="string"===typeof f&&f.toUpperCase()),(0,m.t8)(r,y,f),"phone.mobile"===y&&"86"!==h&&(0,m.t8)(r,"phone.mobileForeign",f),"phone.mobile"===y&&"86"===h&&(0,m.t8)(r,"phone.mobileDomestic",f),null===g||void 0===g||!g.isOptional||f){var x=r.name,_=x.surName,N=x.givenName,b=g&&d.Z.VALIDATOR[null===g||void 0===g?void 0:g.type](f,{regionCode:h});b||(b=d.Z.VALIDATOR.SUR_GIVEN_LENGTH(_,N)),ue(!0),G((0,a.Z)((0,a.Z)({},r),{},{error:(0,a.Z)((0,a.Z)({},r.error),{},(0,o.Z)({},p,b))}))}else G((0,a.Z)((0,a.Z)({},r),{},{error:(0,a.Z)((0,a.Z)({},r.error),{},(0,o.Z)({},p,""))}))}),[O,G]),xe=(0,u.useCallback)((function(e){var t=(0,a.Z)((0,a.Z)({},O),{},{phone:(0,a.Z)((0,a.Z)({},O.phone),{},{code:e.code,mobile:"86"===e.code?O.phone.mobileDomestic:O.phone.mobileForeign})});(0,v.jq)("onClickPhoneRegion",{setSelectedPassenger:t}),G(t)}),[O,G]),_e=(0,u.useCallback)((function(e){var t=d.Z.VALIDATOR.REGION(e.name),n=O.documents,r=O.document,i=null===e||void 0===e?void 0:e.acronym;if(z&&i){var o=null===R||void 0===R?void 0:R.find((function(e){return e.nat===i}));if(o||(o=null===R||void 0===R?void 0:R.find((function(e){return"*"===e.nat}))),o){var c={},s=[];if(o.clst.forEach((function(e){s.push((0,S.ix)(e.ctype)||"")})),!s.includes((null===r||void 0===r?void 0:r.type)||"")||null===r||void 0===r||!r.no){var u=n.find((function(e){return s.includes(e.type)}));return c=u||(0,S.mi)(o),void G((0,a.Z)((0,a.Z)({},O),{},{document:c,region:e,error:(0,a.Z)((0,a.Z)({},O.error),{},{region:t})}))}}}var l=(0,a.Z)((0,a.Z)({},O),{},{region:e,error:(0,a.Z)((0,a.Z)({},O.error),{},{region:t})});G(l),(0,v.jq)("onClickPassengerRegion",{setSelectedPassenger:l})}),[O,G,z,R]),Ne=(0,u.useCallback)((function(e){(0,v.jq)("onOpenPopup",{popupKey:e}),["REGION_PASSENGER","REGION_PHONE"].includes(e)?(0,f.Xp)({title:"\u9009\u62e9\u56fd\u5bb6\u6216\u5730\u533a"}).then((function(t){t&&("REGION_PHONE"===e&&xe(t),"REGION_PASSENGER"===e&&_e(t))})):ge(e,!0)}),[ge,xe,_e]),be=(0,u.useCallback)((function(e,r){var i,o=e.id,c=e.savedPassenger;z&&(null===w.Y||void 0===w.Y||null===(i=w.Y.orderResult)||void 0===i?void 0:i.resultAction)===C.TI.passengerConfirm&&W({id:o});var s=c.pinyin,u=void 0===s?[]:s,l=c.identity,d=void 0===l?0:l,f=c.name,m=c.document,h=1===(1&d),g=V.filter((function(e){return!!e.checked&&o!==e.id})),y=!(null===t||void 0===t||!t.length)&&t.indexOf("LIMITED_STUDENT")>-1,x=I.ZP._checkHomophone({pinyin:u},g,!0),_=I.ZP._checkName({name:f},g,!0),N=I.ZP._checkCardNo({document:m},g,!0),b=y&&!h,E=!x&&!_&&!N&&!b,S=(0,I.J)(r.passengerType,n),k=(0,a.Z)((0,a.Z)({},r),{},{pinyin:u,checked:!(null!==S&&void 0!==S&&S.text)&&E,identity:d,phone:(0,T.Wm)(r.phone)});if(K({id:o,savedPassenger:k}),null!==S&&void 0!==S&&S.text&&(0,j.fx)({checkError:S,isToNew:!1,timeout:300},z),(0,v.jq)("saveAndUpdatePassengerCallback",{passengerNew:k,id:o,checkError:S}),G((0,a.Z)((0,a.Z)({},k),{},{id:o,checkError:S})),!M){var A="";x?A="2\u4f4d\u4e58\u5ba2\u59d3\u540d\u76f8\u540c\u6216\u56e0\u59d3\u540d\u4e2d\u542b\u6709\u591a\u97f3\u6c49\u5b57\u5bfc\u81f4\u62fc\u97f3\u76f8\u540c\uff0c\u8bf7\u5206\u5f00\u9884\u8ba2":_?A="2\u4f4d\u4e58\u5ba2\u59d3\u540d\u76f8\u540c\uff0c\u82e5\u786e\u8ba4\u586b\u5199\u65e0\u8bef\uff0c\u8bf7\u5206\u5f00\u9884\u8ba2":N?A="2\u4f4d\u4e58\u5ba2\u8bc1\u4ef6\u53f7\u91cd\u590d\uff0c\u8bf7\u6838\u5bf9\u4fee\u8ba2\u540e\u518d\u63d0\u4ea4":b&&(A="studentCertificatioModal"),(0,p.Hm)($,A)}}),[V,t,K,n,G,M,$,z,W]),Te=(0,u.useCallback)((function(e,n){var r=t.indexOf("LIMITED_STUDENT")>-1,i=r?[{name:"Student",value:"T"}]:void 0;Y({data:e,extension:i}).then((function(t){(0,v.jq)("savePassengerPort result",{result:t}),t.data&&n(t.data,e.passenger)})).catch((function(e){(0,v.rb)(e),(0,s.showToast)("\u670d\u52a1\u5668\u53d1\u751f\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}))}),[t,Y]),we=(0,u.useCallback)((function(e,t){var n=e.errorMessage,r=void 0===n?"":n,i=e.resultCode,o=void 0===i?"":i;if(r)return(0,h.rs)(t,r,o,Te,be),void(0,v.jq)("SAVE_PASSENGER_FAIL_SHOW");be(e,t)}),[be,Te]),Ce=(0,u.useCallback)((function(e){var t;if((0,v.jq)("\u672a\u6210\u5e74\u4eba\u6d6e\u5c42\u70b9\u51fb\u786e\u8ba4"),(0,v.jq)("passenger_info_after_popup",(0,a.Z)({},e)),null===e||void 0===e||null===(t=e.name)||void 0===t||!t.name)return(0,v.jq)("\u4e58\u673a\u4eba\u7f3a\u5931\u59d3\u540d"),void(0,s.showToast)("\u670d\u52a1\u5668\u53d1\u751f\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");Te({passenger:e,confirmed:!1,addChild:"agree"},we)}),[we,Te]),Ie=(0,u.useCallback)((function(e,t){var n=e.errorInfos,r=void 0===n?[]:n,i=(r||[]).find((function(e){return"101"===e.key}));if(i)return(0,h.Uq)(t,Ce,!0,null===i||void 0===i?void 0:i.value),void(0,v.jq)("MINOR_CHECK_SHOW");we(e,t)}),[Ce,we]),Ee=(0,u.useCallback)((function(e){var t;if((0,v.jq)("\u4e58\u673a\u4eba\u6821\u9a8c\u70b9\u51fb\u786e\u8ba4"),(0,v.jq)("passenger_info_after_popup",(0,a.Z)({},e)),null===e||void 0===e||null===(t=e.name)||void 0===t||!t.name)return(0,v.jq)("\u4e58\u673a\u4eba\u7f3a\u5931\u59d3\u540d"),void(0,s.showToast)("\u670d\u52a1\u5668\u53d1\u751f\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");Te({passenger:e,confirmed:!1,addChild:""},Ie)}),[Ie,Te]),Se=(0,u.useCallback)((0,i.Z)((0,r.Z)().mark((function e(){var t,n,i,o,c,u,l,d,f,m,g,y,x,S,A,P,R,D,L,V,Z,M,F,B,U,H;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=O.id,n=s.R.clone(O),i=(0,a.Z)((0,a.Z)({},n),{},{birth:(0,E.h)(n)}),o=(0,a.Z)((0,a.Z)({},n.error),(0,T.$4)(i,!1,z,Q)),i.name=(0,a.Z)((0,a.Z)({},i.name),{},{name:he?i.name.chineseName||"":(0,T.Z_)(i.name)},ve?{englishName:(0,T.Z_)(i.name)}:{}),i.error=(0,a.Z)((0,a.Z)((0,a.Z)({},o),he?{}:{chineseName:""}),ve?{}:{surName:"",givenName:""}),!Object.values(i.error).filter((function(e){return e})).length){e.next=11;break}G((0,a.Z)((0,a.Z)({},O),{},{error:i.error})),(0,v.jq)("save_passenger_validate_error",{error:i.error}),e.next=45;break;case 11:if(i.airlineVips=s.R.pipe(s.R.filter((function(e){return!!e.cardNo})),s.R.map((function(e){var t=e.airlineNo,n=e.cardNo;return{airlineCode:t,cardNo:n}})))(q),(0,k.I$)(i)){e.next=17;break}return(0,v.jq)("save_passenger_no_change"),(0,p.Hm)(X),z&&(null===w.Y||void 0===w.Y||null===(x=w.Y.orderResult)||void 0===x?void 0:x.resultAction)===C.TI.passengerConfirm&&W({id:t}),e.abrupt("return");case 17:if((0,T.lC)(i,z),S=(0,b.e)(Q,null===i||void 0===i||null===(c=i.document)||void 0===c?void 0:c.type),e.t1=S,!e.t1){e.next=24;break}return e.next=23,N.VK.promise({policyID:pe,flightIntlBasicPassenger:{passengerID:Number(i.id||0),passengerName:null===i||void 0===i||null===(u=i.name)||void 0===u?void 0:u.name,passengerNameEN:null===i||void 0===i||null===(l=i.name)||void 0===l?void 0:l.englishName,nationality:null===i||void 0===i||null===(d=i.region)||void 0===d?void 0:d.acronym,passengerCards:[{cardNumber:null===i||void 0===i||null===(f=i.document)||void 0===f?void 0:f.no,iDCardTimelimit:(0,s.dayjs)(null===i||void 0===i||null===(m=i.document)||void 0===m?void 0:m.expired).format("YYYYMMDD"),cardTypeName:null===i||void 0===i||null===(g=i.document)||void 0===g?void 0:g.type}]}});case 23:e.t1=e.sent;case 24:if(e.t0=e.t1,e.t0){e.next=27;break}e.t0={};case 27:if(A=e.t0,P=A.flightCredentialResult,R=(0,I.N6)(i,z,void 0,Q,P),D=R.checkError,L=R.nameError,V=R.tipContent,Z=R.names,M=R.name,F=R.passengerType,B=R.companion,null===D||void 0===D||!D.text){e.next=33;break}return(0,j.fx)({checkError:D,isToNew:!1,timeout:300},z),e.abrupt("return");case 33:if(!z){e.next=37;break}return e.next=36,(0,_.ZP)({flightCredentialResult:P});case 36:U=e.sent;case 37:if("boolean"!==typeof U||U){e.next=39;break}return e.abrupt("return");case 39:null!==(y=i.document)&&void 0!==y&&y.interceptStatus&&(i.document.interceptStatus=null===P||void 0===P?void 0:P.interceptStatus),(0,v.jq)("passenger_info_before_popup",(0,a.Z)({},i)),H=(0,a.Z)((0,a.Z)({},i),{},{passengerType:F,checkError:D,tipContent:V,nameError:L,names:Z,name:M,companion:B}),(0,v.jq)("delaySavePassenger selectedPassenger",{selectedPassenger:H}),G(H),(0,h.Uq)(H,Ee,!1,"");case 45:case"end":return e.stop()}}),e)}))),[O,z,Q,he,ve,pe,G,q,Ee,X,W]),je=(0,u.useCallback)((function(){setTimeout((function(){Se()}),100)}),[Se]),ke=(0,u.useCallback)((function(){(0,v.jq)("onSwitchTravelCard"),U(!B)}),[U,B]),Ae=(0,u.useCallback)((function(e){var t=e.index,n=e.value;(0,v.jq)("onTravelCardInputBlur",{value:n,index:t}),H(null===q||void 0===q?void 0:q.map((function(e,r){return r===t?(0,a.Z)((0,a.Z)({},e),{},{cardNo:n,error:d.Z.VALIDATOR.DOCUMENT_FOREIGNER(n)}):e})))}),[q,H]),Pe=(0,u.useCallback)((function(e){var t=e.currentCard,n=e.currentIndex;(0,v.jq)("onClickTravelCard",{currentCard:t,currentIndex:n}),H(null===q||void 0===q?void 0:q.map((function(e,r){return r===n?t:e})))}),[q,H]),Re=(0,u.useCallback)((function(e,t){(0,v.jq)("onClickDocumentType",{type:e,flag:t}),G((0,a.Z)((0,a.Z)({},O),{},{document:(0,T.x$)(O,e),error:(0,a.Z)((0,a.Z)({},O.error),{},{no:""})})),F(P.map((function(t){return(0,a.Z)((0,a.Z)({},t),{},{checked:t.type===e})}))),ge(t?"DOCUMENT_NEW":"DOCUMENT",!1)}),[G,O,F,P,ge]),Oe=(0,u.useCallback)((function(){(0,v.jq)("goToPassengerAdd",{isIntl:z}),(0,f.vJ)({isIntl:String(Number(z))}),ge("DOCUMENT_NEW",!1)}),[ge,z]),De=(0,u.useCallback)((function(e){(0,v.jq)("onClickPassengerGender",{gender:e}),ye({value:e,name:"gender"})}),[ye]);return(0,L.jsxs)(l.Z,{className:(0,s.classnames)((0,o.Z)({},ne["edit-passenger-scroll"],!M)),id:"id_9e5fb",onScroll:(0,s.trackFn)("id_9e5fb"),children:[(0,L.jsx)(te,{show:!0,animation:!1,selectedPassenger:me,travelCard:{isOn:B,cards:q},fromBookingPage:M,onBlur:(0,s.trackFn)("onPassengerInputBlur--5d3d1",ye),onOpenPopup:Ne,onSavePassenger:je,onSwitchTravelCard:ke,onTravelCardInputBlur:Ae,onClickTravelCard:(0,s.trackFn)("onClickTravelCard--5d3d1",Pe),isIntl:z,clrlist:Q,onClickPassengerGender:(0,s.trackFn)("onClickPassengerGender--5d3d1",De),isChineseName:he,isEnglishName:ve}),(0,L.jsxs)(y.Z,{children:[(0,L.jsx)(g.Z,{show:ie.DOCUMENT,documents:P,onClickDocumentType:(0,s.trackFn)("onClickDocumentType--41837",Re),onClosePopup:function(){return ge("DOCUMENT",!1)},ubtValue:"PassengerEditComp"}),(0,L.jsx)(g.Z,{show:ie.DOCUMENT_NEW,documents:null===P||void 0===P?void 0:P.filter((function(e){return"ID"===e.type||"RESIDENCE"===e.type})),onClickDocumentType:(0,s.trackFn)("onClickDocumentType--c340f",Re),goToPassengerAdd:Oe,onClosePopup:function(){return ge("DOCUMENT_NEW",!1)},fromBookingPage:!0,ubtValue:"PassengerEditComp-new"})]})]})},oe=ie},88455:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(62171),i=n(90201),o=n(71515),a=n(67347),c=n(48937),s={passengerTitle:"PassengerTitle-module_z04PG"},u=n(2269),l=function(e){var t=e.ADULT,n=e.CHILD,l=e.INFANT,d=e.children,f=(0,i.useMemo)((function(){if(t||n||l){var e="\u5df2\u9009\uff1a";return t&&(e=e+t+"\u6210\u4eba"),n&&(e=e+n+"\u513f\u7ae5"),l&&(e=e+l+"\u5a74\u513f"),e}return"\u9009\u62e9\u4e58\u673a\u4eba"}),[t,n,l]);return(0,u.jsxs)(o.View,{className:(0,r.classnames)("row",s.passengerTitle),children:[(0,u.jsx)(o.View,{id:"selected-psg-title",children:f}),(0,u.jsx)(c.F.Component,{type:c.C.restrictedInfo,showModal:a.K4,closeModal:a.Mr}),d]})},d=l},54972:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(57042),i=n(24460),o=n(81876),a=n(21867),c=n(86066),s=n(45023),u=n(62171),l=n(90201),d=n(71515),f=n(43752),p=n(81983),m=n(90129),h=n(81369),v={"double-check-pop":"SDCPop-module_Vf4jo","scroll-div":"SDCPop-module_JIxDY","pop-content-box":"SDCPop-module_nouUY","check-title":"SDCPop-module_Klr6i",title:"SDCPop-module_iqFhw","item-single":"SDCPop-module_ACspk","item-text":"SDCPop-module_jc34K",ellipsis:"SDCPop-module_H3FxX",sperator:"SDCPop-module_RxJUe","agree-continue":"SDCPop-module_FIBuL",text:"SDCPop-module_seZ0p","title-group":"SDCPop-module_AfSLi",dott:"SDCPop-module_h3M_i","term-item":"SDCPop-module_UEKkN"},g=n(2269),y=n(32180)["window"],x=function(e){var t=e.show,n=e.terms,r=e.onClosePopup,i=e.displayPolicyNote,o=e.setReservationCheck,a=e.goToPayment,c=(0,l.useState)(!1),s=(0,m.Z)(c,2),x=s[0],_=s[1],N=x,b=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];N||t?((0,f.jq)("click_agree_and_continue_new",{time:(new y.Date).getTime(),desc:"\u4e8c\u6b21\u786e\u8ba4\u9884\u5b9a\u987b\u77e5\u6d6e\u5c42\u91cc\u70b9\u51fb\u53bb\u652f\u4ed8"}),setTimeout((function(){a&&a(),r()}),300)):(_(!0),setTimeout((function(){e(!0)}),50))};return(0,l.useEffect)((function(){o&&o(N)}),[N,o]),(0,l.useEffect)((function(){t&&(0,f.$J)("dms_scheduled_double_check_pop_show")}),[t]),(0,g.jsx)(h.Z,{show:t,title:"\u8bf7\u4ed4\u7ec6\u6838\u5bf9\u4ee5\u4e0b\u4fe1\u606f",onClose:r,children:(0,g.jsxs)(d.View,{className:v["double-check-pop"],children:[(0,g.jsx)(d.View,{className:v["scroll-div"],children:(0,g.jsx)(d.View,{className:v["pop-content-box"],children:(0,g.jsxs)(d.View,{children:[(0,g.jsxs)(d.View,{className:v["check-title"],children:[(0,g.jsx)(d.Text,{className:v.title,children:"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f\u4ee5\u4e0b\u534f\u8bae"}),(0,g.jsx)(p.v,{checked:x,className:"smallerMR6",onClick:(0,u.trackFn)("onClick--8d670",(function(){_(!x),(0,f.jq)("terms_checked",{desc:"\u52fe\u9009\u2018\u8d2d\u7968\u987b\u77e5\u2019\u7b49\u9884\u5b9a\u987b\u77e5\u6240\u6709\u6761\u6b3e"})}))})]}),(0,g.jsx)(d.View,{className:v["item-single"],children:n.map((function(e,t){return(0,g.jsxs)(l.Fragment,{children:[(0,g.jsx)(d.Text,{className:v["item-text"],onClick:(0,u.trackFn)(t+"--d76d7",(function(){return i(e)})),children:e.label}),(0,g.jsx)(d.Text,{className:v.sperator,children:"\u3001"})]},t)}))})]})})}),(0,g.jsx)(d.View,{className:v["agree-continue"],onClick:(0,u.trackFn)("onClick--edd58",(function(){return b()})),children:(0,g.jsx)(d.View,{className:v.text,children:N?"\u53bb\u652f\u4ed8":"\u540c\u610f\u5e76\u652f\u4ed8"})})]})})},_=(0,l.memo)(x,(function(e,t){return e.show===t.show&&e.terms===t.terms})),N=n(17745),b=n(32180)["window"],T=function(e){if(!e||!e.length)return"\u8d2d\u7968\u987b\u77e5";var t=e.map((function(e){return e.isDisplay?e.label:null})).filter((function(e){return e})).join("\u3001");return"\u8d2d\u7968\u987b\u77e5".concat(t?"\u3001":"").concat(t)},w=function(e){var t=e.show,n=e.terms,r=e.personalInfoTerm,i=e.goToPayment,o=e.onClosePopup,a=e.setReservationCheck,c=e.onShowScheduledCheckPop,s=(0,l.useState)(!1),y=(0,m.Z)(s,2),x=y[0],_=y[1],w=(0,l.useState)(!1),C=(0,m.Z)(w,2),I=C[0],E=C[1],S=T(n),j=x&&I,k=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j||t?((0,f.jq)("click_agree_and_continue_new",{time:(new b.Date).getTime(),desc:"\u4e8c\u6b21\u786e\u8ba4\u9884\u5b9a\u987b\u77e5\u6d6e\u5c42\u91cc\u70b9\u51fb\u53bb\u652f\u4ed8"}),setTimeout((function(){i&&i(),o()}),300)):(_(!0),E(!0),setTimeout((function(){e(!0)}),50))};return(0,l.useEffect)((function(){a&&a(j)}),[j,a]),(0,l.useEffect)((function(){t&&(0,f.$J)("intl_scheduled_double_check_pop_show")}),[t]),(0,g.jsx)(h.Z,{show:t,title:"\u8bf7\u4ed4\u7ec6\u6838\u5bf9\u4ee5\u4e0b\u4fe1\u606f",onClose:o,children:(0,g.jsxs)(d.View,{className:v["double-check-pop"],children:[(0,g.jsx)(d.View,{className:v["scroll-div"],children:(0,g.jsx)(d.View,{className:v["pop-content-box"],children:(0,g.jsxs)(d.View,{children:[(0,g.jsxs)(d.View,{className:v["title-group"],children:[(0,g.jsx)(d.Text,{className:v.dott}),(0,g.jsx)(d.Text,{className:v.title,children:"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f\u4ee5\u4e0b\u534f\u8bae"})]}),(0,g.jsxs)(d.View,{className:v["term-item"],children:[(0,g.jsx)(d.Text,{className:v["item-text"],onClick:(0,u.trackFn)("onClick--70d3a",(function(){return(0,N.G)(null===r||void 0===r?void 0:r.url,{target:"_blank"})})),children:null===r||void 0===r?void 0:r.label}),(0,g.jsx)(p.v,{checked:x,className:"smallerMR6",onClick:(0,u.trackFn)("onClick--88135",(function(){_(!x),(0,f.jq)("personal_Info_checked",{desc:"\u52fe\u9009\u2018\u4e2a\u4eba\u4fe1\u606f\u4f20\u8f93\u5883\u5916\u8bf4\u660e\u2019"})}))})]}),(0,g.jsxs)(d.View,{className:v["term-item"],children:[(0,g.jsx)(d.Text,{className:(0,u.classnames)(v["item-text"],v.ellipsis),onClick:(0,u.trackFn)("onClick--f7df5",(function(){return c()})),children:S}),(0,g.jsx)(p.v,{checked:I,className:"smallerMR6",onClick:(0,u.trackFn)("onClick--2a96b",(function(){E(!I),(0,f.jq)("terms_checked",{desc:"\u52fe\u9009\u2018\u8d2d\u7968\u987b\u77e5\u2019\u7b49\u6761\u6b3e",label:S})}))})]})]})})}),(0,g.jsx)(d.View,{className:v["agree-continue"],onClick:(0,u.trackFn)("onClick--46833",(function(){return k()})),children:(0,g.jsx)(d.View,{className:v.text,children:j?"\u53bb\u652f\u4ed8":"\u540c\u610f\u5e76\u652f\u4ed8"})})]})})},C=(0,l.memo)(w,(function(e,t){return e.show===t.show&&e.terms===t.terms})),I={"payment-term-container":"PaymentTerm-module_RBQd9","payment-term-box":"PaymentTerm-module_R9g9F","click-box":"PaymentTerm-module_KTAUp","notice-container":"PaymentTerm-module_wzCSR","notice-content":"PaymentTerm-module_Tfq3Y","button-container":"PaymentTerm-module_WqxE0","button-container-new":"PaymentTerm-module_ondgi","icon-arrow-up":"PaymentTerm-module_m18Fr","payment-term-mask":"PaymentTerm-module_XhdUq","payment-term-pop-in":"PaymentTerm-module__73SZ","reservation-animate":"PaymentTerm-module_cbP2u","click-box-in":"PaymentTerm-module__Gzal","close-icon":"PaymentTerm-module_Jz4BR",text:"PaymentTerm-module_pEs2D","notice-content-in":"PaymentTerm-module_t4cMt"},E=function(e){var t=e.reservationAnimate,n=e.setReservationAnimate,r=e.setScheduledCheck,i=e.termsText;return(0,g.jsxs)(d.View,{children:[t&&(0,g.jsx)(d.View,{className:I["payment-term-mask"],onClick:(0,u.trackFn)("onClick--c9b60",(function(){return n(!1)}))}),(0,g.jsxs)(d.View,{className:(0,u.classnames)(I["payment-term-pop-in"],(0,s.Z)({},I["reservation-animate"],t)),children:[(0,g.jsxs)(d.View,{className:I["click-box-in"],children:[(0,g.jsx)(d.View,{className:I["close-icon"],onClick:(0,u.trackFn)("onClick--4e44d",(function(){return n(!1)})),children:(0,g.jsx)(d.Text,{className:"iconfont-h5 icon-close"})}),(0,g.jsx)(d.Text,{className:I.text,children:"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f"})]}),(0,g.jsx)(d.View,{className:I["notice-container"],onClick:(0,u.trackFn)("onClick--1a10e",(function(){return r(!0)})),children:(0,g.jsx)(d.Text,{className:I["notice-content-in"],children:i})})]})]})};function S(e){var t=e.terms,n=e.isLayer,r=void 0!==n&&n,i=e.personalInfoTerm,o=e.isIntl,a=e.termsSwitch,c=void 0!==a&&a,s=c&&o&&null!==i&&void 0!==i&&i.label?"".concat(i.label,"\u3001"):"",u=c&&!o?"":"\u8d2d\u7968\u987b\u77e5";if(!t||!t.length)return r?"\u9884\u8ba2\u670d\u52a1\u534f\u8bae\uff1a".concat(s).concat(u):"".concat(s).concat(u);var l=t.map((function(e,t){return u&&!e.isDisplay?null:"".concat(u||0!==t?"\u3001":"").concat(e.label)})).filter((function(e){return e})).join("");return"".concat(s).concat(u).concat(l)}var j=function(e){(0,a.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,s.Z)((0,o.Z)(i),"scheduledChecked",(function(){var e=i.props,t=e.checkReservationBtn,n=e.reservationCheck,r=n?"cancel":"check";(0,f.bd)("C_Flt_N_Confirm_checkbox_t",{type:r}),t&&t(!n)})),(0,s.Z)((0,o.Z)(i),"toggleScheduledDoubleCheckPopShow",(function(e){i.setState({scheduledDoubleCheckPopShow:e})})),i.state={scheduledDoubleCheckPopShow:!1},i}return(0,i.Z)(n,[{key:"componentDidUpdate",value:function(e){e.isForceShowScheduledDoubleCheckPop!==this.props.isForceShowScheduledDoubleCheckPop&&this.props.isForceShowScheduledDoubleCheckPop&&(this.toggleScheduledDoubleCheckPopShow(!0),this.props.setForceShowScheduledDoubleCheckPop&&this.props.setForceShowScheduledDoubleCheckPop(!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.terms,r=t.personalInfoTerm,i=t.reservationAnimate,o=t.setReservationAnimate,a=t.reservationCheck,c=t.isIntl,l=t.termsSwitch,f=t.setReservationCheck,m=t.goToPayment,h=t.setScheduledCheck,v=t.displayPolicyNote,y=S({terms:n,personalInfoTerm:r,isIntl:c,termsSwitch:l}),x=c?C:_;return(0,g.jsxs)(d.View,{className:I["payment-term-container"],id:"payment-term",children:[(0,g.jsxs)(d.View,{className:I["payment-term-box"],children:[(0,g.jsx)(d.View,{className:I["click-box"],children:(0,g.jsx)(d.Text,{children:"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f"})}),(0,g.jsx)(d.View,{className:I["notice-container"],onClick:(0,u.trackFn)("payment-term--onClick--2a89e",(function(){l?e.toggleScheduledDoubleCheckPopShow(!0):h(!0)})),children:(0,g.jsx)(d.Text,{className:I["notice-content"],children:y})}),(0,g.jsx)(d.View,{className:(0,u.classnames)(I["button-container"],(0,s.Z)({},I["button-container-new"],l)),children:l?(0,g.jsx)(d.Text,{className:(0,u.classnames)("iconfont-h5 icon-arrow-up",I["icon-arrow-up"]),onClick:(0,u.trackFn)("payment-term--onClick--78ef4",(function(){e.toggleScheduledDoubleCheckPopShow(!0)}))}):(0,g.jsx)(p.v,{checked:a,className:"smaller",onClick:(0,u.trackFn)("payment-term--onClick--7cf70",(function(){return e.scheduledChecked()})),testId:"scheduled_checked"})})]}),l?(0,g.jsx)(x,{isIntl:c,show:this.state.scheduledDoubleCheckPopShow,termsText:y,personalInfoTerm:r,terms:n,displayPolicyNote:v,setReservationCheck:f,goToPayment:m,reservationCheck:a,onShowScheduledCheckPop:function(){return h(!0)},onClosePopup:function(){return e.toggleScheduledDoubleCheckPopShow(!1)}}):(0,g.jsx)(E,{reservationAnimate:i,setReservationAnimate:o,setScheduledCheck:h,termsText:y})]})}}]),n}(l.Component),k=j},11870:function(e,t,n){"use strict";n.d(t,{I:function(){return T}});var r=n(62171),i=n(22276),o=n(90129),a=n(90201),c=n(17745),s=n(43752),u=n(99065),l=n(24873),d=n(48937),f=n(71515),p=n(81369),m={"pop-div":"ScheduledCheckPop-module_NgHHP","scroll-div":"ScheduledCheckPop-module_E1P0n","pop-content-box":"ScheduledCheckPop-module_QYdtl","pop-items":"ScheduledCheckPop-module_U9t4W","pop-btn":"ScheduledCheckPop-module_bByKa","pop-text":"ScheduledCheckPop-module_Enwkr","icon-arrow-right":"ScheduledCheckPop-module_y6d7H","agree-continue":"ScheduledCheckPop-module_tXOmC",agree:"ScheduledCheckPop-module_v_bP2","scheduled-check-pop":"ScheduledCheckPop-module_slO3_"},h=n(2269),v=n(32180)["window"],g=function(e){var t=e.show,n=e.terms,i=e.onClosePopup,o=e.displayPolicyNote,c=e.setReservationCheck,u=function(){(0,s.jq)("click_agree_and_continue",{time:(new v.Date).getTime(),desc:"\u70b9\u51fb\u53bb\u652f\u4ed8"}),i(),c(!0)};return(0,h.jsx)(p.Z,{show:t,title:"\u673a\u7968\u9884\u8ba2\u8d2d\u7968\u987b\u77e5",onClose:i,className:m["scheduled-check-pop"],children:(0,h.jsxs)(f.View,{className:m["pop-div"],id:"scheduled-check-pop",children:[(0,h.jsx)(f.View,{className:m["scroll-div"],children:(0,h.jsx)(f.View,{className:m["pop-content-box"],children:n.map((function(e,t){return(0,h.jsx)(a.Fragment,{children:(0,h.jsx)(f.View,{className:m["pop-items"],onClick:(0,r.trackFn)("scheduled-check-pop--"+t+"--4baf7",(function(){return o(e)})),children:(0,h.jsxs)(f.View,{className:m["pop-btn"],children:[(0,h.jsx)(f.Text,{className:m["pop-text"],children:e.label}),(0,h.jsx)(f.Text,{className:(0,r.classnames)("iconfont-h5 icon-arrow-right",m["icon-arrow-right"])})]})})},t)}))})}),(0,h.jsx)(f.View,{className:m["agree-continue"],onClick:(0,r.trackFn)("scheduled-check-pop--agree--1cd6f",u),children:(0,h.jsx)(f.View,{className:m.agree,children:"\u540c\u610f\u5e76\u7ee7\u7eed"})})]})})},y=(0,a.memo)(g,(function(e,t){return e.show===t.show&&e.terms===t.terms})),x={"popup-notice":"Notice-module_SI0Jf","notice-box":"Notice-module_Xzbeo","ins-desc":"Notice-module_qtuK5","config-term":"Notice-module_amNG6",placeholder:"Notice-module_lr0yG"},_=function(e){var t=e.show,n=e.notice,i=e.onClosePopup,o=n.title,a=n.type,c=n.content;return(0,h.jsx)(p.Z,{show:t,richText:!0,title:o,onClose:i,children:(0,h.jsxs)(f.View,{className:(0,r.classnames)("card",x["popup-notice"]),children:[(0,h.jsx)(f.View,{className:"card-body",children:(0,h.jsx)(f.View,{className:x["notice-box"],children:(0,h.jsx)(r.MiniRichText,{className:(0,r.classnames)(x["ins-desc"],x[a]),nodes:c})})}),(0,h.jsx)(f.View,{className:x.placeholder}),(0,h.jsx)(f.View,{className:x.placeholder})]})})},N=(0,a.memo)(_,(function(e,t){return e.show===t.show})),b=function(e){var t=e.sections,n=e.productTypes,f=e.children,p=e.selectedInsurances,m=e.setReservationCheck,v=e.isIntl,g=e.termsSwitch,x=(0,a.useState)([]),_=(0,o.Z)(x,2),b=_[0],T=_[1],w=(0,a.useState)(!1),C=(0,o.Z)(w,2),I=C[0],E=C[1],S=(0,a.useState)(!1),j=(0,o.Z)(S,2),k=j[0],A=j[1],P=(0,a.useState)({}),R=(0,o.Z)(P,2),O=R[0],D=R[1],L=(0,a.useState)({}),V=(0,o.Z)(L,2),Z=V[0],M=V[1],F={label:"\u4e2a\u4eba\u4fe1\u606f\u4f20\u8f93\u5883\u5916\u58f0\u660e",url:"https://pages.c-ctrip.com/flight_h5/tinyapp/html/personInfo.html"};(0,a.useEffect)((function(){(0,s.$J)("payment_terms_show",{length:b.length})}),[b]),(0,a.useEffect)((function(){if(t){var e=r.R.pipe(r.R.map((function(e){return e.segments})),r.R.flatten,r.R.map((function(e){return e.shareFlightNo?e.shareSpecialAirlineCode||e.shareAirlineCode:e.specialAirlineCode||e.airlineCode})),r.R.uniq)(t||[]);u.ug.promise({airlineCodes:e,sType:v?2:1,sfrom:d.F.isFlightHotel?1:void 0}).then((function(e){var t=r.R.pipe(r.R.map((function(e){var t=e.clauseTitle,n=e.content,r=e.show;return{label:t,type:"link",link:n,isDisplay:"\u673a\u7968\u9884\u8ba2\u987b\u77e5"!==t&&r}})),r.R.reject((function(e){return["\u4e2a\u4eba\u4fe1\u606f\u4f20\u8f93\u5883\u5916\u58f0\u660e"].includes(e.label)})),r.R.uniqWith((function(e,t){return e.label===t.label&&e.link===t.link})),r.R.reverse,r.R.sortWith([r.R.descend(r.R.prop("isDisplay"))]))((null===e||void 0===e?void 0:e.flightClauseList)||[]);T(t)}),(function(e){console.error(e)}))}}),[T,t,v]);var B=(0,a.useMemo)((function(){var e=-1!==n.indexOf("TRAVEL_PACKAGE"),t=(null===p||void 0===p?void 0:p.map((function(e){var t=e.typeName,n=e.guaranteeDescription;return{label:t+"\u4fdd\u9669\u6761\u6b3e",type:"insurances",grouptype:1,pkgname:t,guaranteeDescription:n,speed:"\u5c55\u5f00"+t+"\u4fdd\u9669\u6761\u6b3e",isDisplay:!1}})))||[];return e&&t.push({label:"\u65c5\u884c\u5957\u9910\u4ea7\u54c1\u670d\u52a1\u534f\u8bae",type:"config-term",link:"travelPackageDesc",isDisplay:!1}),t}),[n,p]);(0,a.useEffect)((function(){return function(){E(!1),A(!1)}}),[]);var U=(0,a.useCallback)((function(e){var t=e.type,n=e.pkgname,i=e.link,o=e.label,a=e.guaranteeDescription;(0,s.jq)("display_policy_note",{desc:"\u673a\u7968\u9884\u8ba2\u987b\u77e5\u70b9\u51fb\u89e6\u53d1\u4e8b\u4ef6",label:o}),"insurances"===t?(D({title:n||"\u4fdd\u9669\u8bf4\u660e",content:a?(0,r.htmlParse)(a):""}),E(!0)):"config-term"===t?i&&Z[i]?(D(Z[i]),E(!0)):l.s5.promise({data:{name:i||"configTerm"}}).then((function(e){var n=e.data||{},r=n.title,o=void 0===r?"\u6761\u6b3e\u8bf4\u660e":r,a=n.content,c={title:o,type:t||"",content:a};M({link:i,notice:c}),D(c),E(!0)})):(0,c.G)(i||"https://pages.c-ctrip.com/flight_h5/tinyapp/html/".concat(t,".html"),{target:"_blank",needFrom:!1})}),[Z,D,M]);return(0,h.jsxs)(h.Fragment,{children:[f({terms:g?[].concat((0,i.Z)(b),(0,i.Z)(B)):b,personalInfoTerm:F,displayPolicyNote:U,setScheduledCheck:A}),(0,h.jsx)(y,{show:k,displayPolicyNote:U,terms:[].concat((0,i.Z)(b),(0,i.Z)(B)),onClosePopup:function(){return A(!1)},setReservationCheck:m}),(0,h.jsx)(N,{show:I,notice:O,onClosePopup:function(){return E(!1)}})]})},T=b},7905:function(e,t,n){"use strict";var r=n(62171),i=n(90201),o=n(55172),a=(n(16248),n(43752)),c=n(64353),s=n(86252),u=n(95569),l=n(99065),d=n(16187),f=n(42463),p=n(35480),m=n(16445),h=function(e){var t=e.setTargetView,n=e.children,r=e.userId,o=e.realNameTip,c=e.realNameType,p=e.authInfo,m=e.selectedPassengers,h=void 0===m?[]:m,v=e.setAuthInfo,g=e.goToRealName;(0,i.useEffect)((function(){0!==c&&l.Zn.promise({data:{uid:r},extension:[{name:"uid",value:r}]}).then((function(e){var t=e||{},n=t.uinfo;v(n)})).catch((function(e){(0,a.rb)(e)}))}),[r,c,v]);var y=(0,i.useCallback)((function(e){if(0===c)return(0,a.jq)("order_real_name_check_ok",{desc:"\u5b9e\u540d\u8ba4\u8bc1\u6821\u9a8c\u901a\u8fc7"}),e({result:1});var n,r=0,i=p||{},u=i.cnum,l=i.pname,m=(0,d.X)(h,p);u?m?!m||null!==m&&void 0!==m&&null!==(n=m.phone)&&void 0!==n&&n.mobile||1!==c||((0,a.jq)("order_real_name_check_failed",{desc:"realName lack phone"}),r=4):(t("userArea"),(0,a.jq)("order_real_name_check_failed",{desc:"noSelect realName"}),r=6):(t("userArea"),(0,a.jq)("order_real_name_check_failed",{desc:"no realName"}),r=1);if(0!==r){var v=(0,d.r)(7,"",o);2===c&&(v="\u5b9e\u540d\u8ba4\u8bc1\u63d0\u793a");var y=(0,d.r)(r,l,o,!0),x="\u6211\u77e5\u9053\u4e86";return 4===r&&(x="\u586b\u624b\u673a\u53f7"),1===r&&(x="\u5b9e\u540d\u8ba4\u8bc1"),(0,a.jq)("order_real_name_check_failed_tip",{desc:"\u5b9e\u540d\u8ba4\u8bc1\u6821\u9a8c\u5931\u8d25",content:y}),void(0,s.al)({btnText:x,title:v,content:y,realCheckError:r,realNamePassenger:m,onEditPassenger:f.wd,goToRealName:g})}return(0,a.jq)("order_real_name_check_ok",{desc:"\u5b9e\u540d\u8ba4\u8bc1\u6821\u9a8c\u6210\u529f"}),e({result:1})}),[p,g,o,c,h,t]);return(0,u.Up)(u.O4.REAL_NAME_CHECK,y),n({realNameType:c,realNameTip:o,authInfo:p})},v=function(e){return{userId:(0,c.c7)(e),authInfo:(0,p.D)(e)}},g=function(e){return{setAuthInfo:function(t){return e((0,m.sk)(t))}}},y=(0,r.connect)(v,g),x=(0,o.Z)({key:m.ZP.name,reducer:m.ZP.reducer});t["ZP"]=(0,r.compose)(x,y)((0,i.memo)(h))},16445:function(e,t,n){"use strict";n.d(t,{sk:function(){return a},XC:function(){return c}});var r=n(62171),i={authInfo:{ctype:0,cnum:"",pname:""}},o=(0,r.createSlice)({name:"authInfoStore",initialState:i,reducers:{setAuthInfoAction:function(e,t){var n=t.payload;e.authInfo=n}}}),a=o.actions.setAuthInfoAction,c=r.useSelector;t["ZP"]=o},68618:function(e,t,n){"use strict";n.d(t,{rQ:function(){return r.r},Dr:function(){return i.D}});n(62171),n(7905);var r=n(16187),i=n(35480)},35480:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(62171),i=function(e){return e.authInfoStore},o=(0,r.createSelector)([i],(function(e){return null===e||void 0===e?void 0:e.authInfo}))},16187:function(e,t,n){"use strict";n.d(t,{r:function(){return a},X:function(){return o}});var r=n(62171),i=n(8811),o=function(e,t){return r.R.find((function(e){var n=e.document;return(null===n||void 0===n?void 0:n.no)===(null===t||void 0===t?void 0:t.cnum)&&(null===n||void 0===n?void 0:n.type)===(0,i.U)(null===t||void 0===t?void 0:t.ctype)}),e||[])},a=function(e,t,n,r){var i,o=null===n||void 0===n||null===(i=n.extendNoteEntityList)||void 0===i?void 0:i.find((function(t){return t.type===e})),a=o&&o.content||"";return 2!==e&&5!==e&&4!==e||(a=a.replace(/x+/g,t),4===e&&r||(a=a.replace(/\[/g,"<strong>["),a=a.replace(/\]/g,"]</strong>"))),a}},56849:function(e,t,n){"use strict";n.d(t,{ZP:function(){return ee},Xb:function(){return Y},gZ:function(){return G},LJ:function(){return K},Ft:function(){return j}});var r=n(62171),i=n(45023),o=n(298),a=n(79301),c=n(95308),s=n(90129),u=n(90201),l=n(55172),d=n(48937),f=n(83845),p=n(10073),m=p.Z.injectEndpoints({endpoints:function(e){return{getCoupons:e.query({query:function(e){return{url:"/19691/getCoupons",queryParams:e,queryObject:{subEnv:"fat6"}}},transformResponse:function(e){return e.data}})}}}),h=(m.useGetCouponsQuery,m.useLazyGetCouponsQuery),v=p.Z.injectEndpoints({endpoints:function(e){return{getInterCoupons:e.query({query:function(e){return{url:"/18155/bjjson/flightValidCouponListSearch",queryParams:e}},transformResponse:function(e){return e}})}}}),g=(v.useGetInterCouponsQuery,v.useLazyGetInterCouponsQuery),y=p.Z.injectEndpoints({endpoints:function(e){return{checkInterCoupon:e.query({query:function(e){return{url:"/18155/bjjson/flightCouponCheck",queryParams:e}},transformResponse:function(e){return e}})}}}),x=(y.useCheckInterCouponQuery,y.useLazyCheckInterCouponQuery),_=n(22276),N={coupons:[],selected:{},couponsList:[]},b=(0,r.createSlice)({name:"couponsStore",initialState:N,reducers:{setCouponsAction:function(e,t){var n=t.payload;e.coupons=n},setSelectedCouponsAction:function(e,t){var n=t.payload;e.selected=(0,o.Z)((0,o.Z)({},e.selected),n)},setCouponsListAction:function(e,t){var n=t.payload;e.couponsList=n},addCouponToListAction:function(e,t){var n=t.payload;e.coupons=[(0,o.Z)((0,o.Z)({},n),{},{isAdd:!0})].concat((0,_.Z)(e.coupons))},updateCouponAction:function(e,t){var n=t.payload,r=n.code,i=n.extension,a=n.usable,c=n.resultMessage;e.coupons=e.coupons.map((function(e){return e.code===r?(0,o.Z)((0,o.Z)({},e),{},{extension:i,usable:a,resultMessage:c,hasChecked:!0}):e}))}}}),T=b.actions,w=T.setCouponsAction,C=T.addCouponToListAction,I=T.setSelectedCouponsAction,E=T.setCouponsListAction,S=T.updateCouponAction,j=r.useSelector,k=b,A=n(72024),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.filter((function(e){return!!t[e.code]}));if(n.length){var r=0,i=0;n.forEach((function(e){var t=e.isCashBack,n=e.deductionAmount,o=void 0===n?0:n;t?i+=o:r+=o}));var o="";return i&&(o+="\u51fa\u884c\u53ef\u8fd4 \xa5".concat(i)),r&&(o+=o?"\u3001\u5df2\u4f18\u60e0 \xa5".concat(r):"\u5171\u8ba1\u4f18\u60e0 \xa5".concat(r)),{label:o,labelType:"active",hasRecommend:n.some((function(e){return e.isRecommend}))}}var a=e.filter((function(e){return e.isAvailable}));return a.length?{label:a.length+"\u5f20\u4f18\u60e0\u5238\u53ef\u7528",labelType:"normal"}:{label:"\u65e0\u4f18\u60e0\u5238\u53ef\u7528",labelType:"disabled"}},R=n(43762),O=function(e,t,n,r){return e===n&&(t===r||(1===n?r.replace(/(\d{4}).*(\d{3}|\d{2}X)/,"$1$2")===t.replace(/(\d{4}).*(\d{3}|\d{2}X)/,"$1$2"):r.replace(/(.{2}).*(.{2})#/,"$1$2")===t.replace(/(.{2}).*(.{2})/,"$1$2")))},D=function(e,t){return null===t||void 0===t?void 0:t.filter((function(t){var n,i,o=(0,R.hs)(null===(n=t.document)||void 0===n?void 0:n.type),a=(null===(i=t.document)||void 0===i?void 0:i.no)||"",c=t.name||{},s=c.name,u=void 0===s?"":s,l=c.chineseName,d=void 0===l?"":l,f=c.englishName,p=void 0===f?"":f;return e.some((function(e){var t=e.passengerCardType,n=e.passengerCardNo,i=e.cardList,c=void 0===i?[]:i,s=r.R.union(c,[{cardNo:n,cardType:t}]);return s.some((function(e){return O(o,a,e.cardType,e.cardNo)}))&&e.passengerName&&[u,d,p].includes(e.passengerName)}))}))},L=n(32620),V=n(32180)["window"],Z=function(e){return r.R.pipe(r.R.split(","),r.R.map((function(e){var t=e.split("-");return{min:parseInt(t[0]?t[0]:"0"),max:parseInt(t[1]?t[1]:"999")}})))(e)},M=function(e,t){var n=new V.Date,r="".concat(n.getFullYear(),"-").concat(n.getMonth()<9?"0":"").concat(n.getMonth()+1,"-").concat(n.getDate()<10?"0":"").concat(n.getDate()),i=(0,L.Ay)(e,r),o=!1;return t&&t.length&&t.forEach((function(e){i.age>=e.min&&i.age<=e.max&&(o=!0)})),o},F=function(e){var t=e||{},n=t.couponList,i=void 0===n?[]:n,o=i.map((function(e){var t,n,i,o=e.passengerList,a=void 0===o?[]:o,c=null!==(t=e.startDate)&&void 0!==t&&t.includes("Date")?(0,r.dayjs)(new V.Date(parseInt(e.startDate.slice(6,19)))).format("YYYY-MM-DD HH:mm:ss"):e.startDate,s=null!==(n=e.disableDate)&&void 0!==n&&n.includes("Date")?(0,r.dayjs)(new V.Date(parseInt(e.disableDate.slice(6,19)))).format("YYYY-MM-DD HH:mm:ss"):e.disableDate;return{code:e.couponCode,name:e.displayName,remark:e.remark,startDate:c,endDate:s,deductionAmount:(null===(i=e.deductionStrategy)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.deductionAmount)||0,deductionStrategyTypeID:e.deductionStrategyType,strategies:e.deductionStrategy.map((function(e){return{deductionAmount:e.deductionAmount,minAmount:e.startAmount}})),couponTargetInfos:a.map((function(e){return{passengerName:e.passengerName||e.passengerEnName,passengerCardType:e.cardNewType,passengerCardNo:e.cardNumber,cardList:e.cardList}})),extension:e.extension,select:!1,usable:!0,used:!1,targetType:e.couponUseType,flag:0,xproductType:"",couponType:""+e.couponType,isAvailable:!0,desc:"",noteList:[],hasChecked:!1}}));return o},B=function(e){return r.R.find(r.R.propEq("type",e))},U=function(e,t,n,i,a,c,u,l){var f=null===e||void 0===e?void 0:e.map((function(e){if(null===t||void 0===t||!t.length)return(0,o.Z)((0,o.Z)({},e),{},{isAvailable:!1,isSelected:!1,isRecommend:!1});var l,f=e.couponTargetInfo,p=e.couponTargetInfos,m=void 0===p?[]:p,h=e.strategies,v=e.noteList,g=void 0===v?[]:v,y=e.flag,x=e.targetType,_=e.deductionStrategyTypeID,N=e.xproductType,b=e.desc,T=void 0===b?"\u4f18\u60e0\u5238\u4f7f\u7528\u8bf4\u660e":b,w=e.usable,C=e.resultMessage,I=void 0===C?"\u4f18\u60e0\u5238\u9a8c\u8bc1\u5931\u8d25":C,E=16===(16&y),S=r.R.reduce((function(e,t){var n=(null===u||void 0===u?void 0:u[(null===t||void 0===t?void 0:t.ticketType)||""])||(null===u||void 0===u?void 0:u[t.passengerType])||0;return e+n}),0,t),j=e.isAvailable,k=void 0===j||j,A=h[0].deductionAmount,P=h[h.length-1].deductionAmount;if(S||(k=!1),3===_){var O=r.R.findLast((function(e){return e.minAmount<=S}),h);O?A=O.deductionAmount:(k=!1,l=E?"\u672a\u8fbe\u5230\u4f18\u60e0\u5238\u4f7f\u7528\u95e8\u69db":"\u7968\u4ef7\u4e0d\u591f\u6ee1\u51cf\u989d\u5ea6\uff0c\u6682\u4e0d\u80fd\u4f7f\u7528")}if(N&&(k="INSURANCE"===N&&i||"LOUNGE"===N&&a.length||"SECURITY"===N&&c.length),2===x&&(k=!1),k&&(f||m.length)){var L,V;if(f)l="\u8be5\u4f18\u60e0\u5238\u4ec5\u300c".concat(f.passengerName,"\u300d\u4f7f\u7528").concat((0,R.k8)(f.passengerCardType),"\u8d2d\u7968\u53ef\u4eab"),L=D([f],t),k=!(null===(V=L)||void 0===V||!V.length);if(m.length){var F,U=m.map((function(e){var t=e.passengerName,n=r.R.union(e.cardList||[],[{cardNo:e.passengerCardNo,cardType:e.passengerCardType}]),i=n.map((function(e){return(0,R.k8)(e.cardType)})),o=i.join("\u3001");return"\u300c".concat(t,"\u300d\u4f7f\u7528").concat(o)})),q=U.join("\u6216");l="\u8be5\u4f18\u60e0\u5238\u4ec5".concat(q,"\u8d2d\u7968\u53ef\u4eab"),L=D(m,t),k=!(null===(F=L)||void 0===F||!F.length)}k&&L&&L.forEach((function(e){var t,n=null===u||void 0===u?void 0:u[e.passengerType];n<=A&&(l="\u4f18\u60e0\u5238\u91d1\u989d\u9700\u5c0f\u4e8e\u300c".concat(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.name,"\u300d\u673a\u7968\u7968\u9762\u4ef7"),k=!1)}))}if(k&&(1===(1&y)||2===(2&y))){var H=B(1)(g),G=B(2)(g),Y=Z(null===H||void 0===H?void 0:H.content);l=null===G||void 0===G?void 0:G.content,1===(1&y)?k=t.every((function(e){return M(e.birth,Y)})):2===(2&y)&&(k=t.some((function(e){return M(e.birth,Y)})))}if(k&&(4===(4&y)||8===(8&y))){var K=B(3)(g),W=B(4)(g),z=Z(null===K||void 0===K?void 0:K.content);l=null===W||void 0===W?void 0:W.content;var Q=n.TOTAL,$=n.ADULT,X=(null===z||void 0===z?void 0:z[0])||{},J=X.min,ee=X.max;8===(8&y)?k=J<=Q&&ee>=Q:4===(4&y)&&(k=J<=$&&ee>=$)}if(w||(k=!1,l=I),"AIR_HOTEL"===e.couponType){var te=d.F.getCouponInfo(e,n),ne=(0,s.Z)(te,3),re=ne[0],ie=ne[1],oe=ne[2];k=re,l=oe,A=ie}return k&&"AIR_HOTEL"!==e.couponType&&S<=A&&(l="\u4f18\u60e0\u5238\u91d1\u989d\u9700\u5c0f\u4e8e\u8ba2\u5355\u673a\u7968\u7968\u9762\u4ef7",k=!1),(0,o.Z)((0,o.Z)({},e),{},{isAvailable:k,disableDesc:l,desc:T,deductionAmount:A,maxDeductionAmount:P,isCashBack:E,isRecommend:!1})})),p=(null!==f&&void 0!==f?f:[]).filter((function(e){return e.isAvailable}));if(p.length>0&&l){var m=p.sort((function(e,t){var n,r;return(null!==(n=t.deductionAmount)&&void 0!==n?n:0)-(null!==(r=e.deductionAmount)&&void 0!==r?r:0)}))[0];m.isRecommend=!0}return f},q=function(e){return e.couponsStore},H=(0,r.createSelector)([q],(function(e){return null===e||void 0===e?void 0:e.coupons})),G=(0,r.createSelector)([q],(function(e){return null===e||void 0===e?void 0:e.couponsList})),Y=(0,r.createSelector)([q],(function(e){return null===e||void 0===e?void 0:e.selected})),K=(0,r.createSelector)([G,Y],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.R.pipe(r.R.map((function(e){var n=t[e.code];return void 0!==n?(0,o.Z)((0,o.Z)({},e),{},{isSelected:!!n}):e})),r.R.filter((function(e){return e&&!!e.isSelected})))(e)})),W=function(e){var t=e.children,n=e.searchKey,l=e.policy,f=e.coupons,p=e.selected,m=e.setCoupons,v=e.addCouponToList,y=e.setCouponsList,_=e.updateCoupons,N=e.setSelectedCoupons,b=e.totalPrices,T=e.passengerCount,w=e.selectedPassengers,C=e.hasSelectedInsurance,I=e.selectedLounge,E=e.selectedSecurity,S=e.isIntl,j=e.tripType,k=(0,u.useState)(""),A=(0,s.Z)(k,2),R=A[0],O=A[1],D=(0,u.useState)(!0),L=(0,s.Z)(D,2),V=L[0],Z=L[1],M=S?g:h,B=M(),q=(0,s.Z)(B,1),H=q[0],G=x(),Y=(0,s.Z)(G,1),K=Y[0];(0,u.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t,r,i,o,c,s,u;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return S?(r=l||{},i=r.prdid,o=r.polid,t={serviceVersion:0,tripType:"ONE_WAY"===j?1:2,productID:i,policyID:o,flightType:2,gUID:"",sourceType:1,extendInfo:[],flightCouponPassengerInformation:[]}):t={data:{version:3,hotelToken:d.F.hotelToken,hotelSource:d.F.hotelSource},extension:[{name:"searchKey",value:n}]},e.next=3,H(t);case 3:c=e.sent,s=c.data,u=s,S&&(u=F(s)),m(u||[]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(S&&(null===l||void 0===l?void 0:l.prdid)||!S)&&e()}),[m,H,S,l,j,n]);var W=(0,u.useMemo)((function(){return U(f,w,T,C,I,E,b,V)}),[f,w,T,C,I,E,b]),z=(0,u.useMemo)((function(){return P(W,p)}),[W,p]),Q=(0,u.useCallback)(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t,n){var i,o,c,s,u,d,f,p,m,h,g,y;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=l||{},o=i.polid,e.next=3,K({serviceVersion:0,channelType:2,couponInfo:{couponCode:t,couponType:0},userInfo:{userGrade:1,passengerType:"Adult"},policyID:o,gUID:"",sourceType:2,passengerList:[],flagMap:1});case 3:if(c=e.sent,s=c.data,1!==n){e.next=14;break}if(u=null===s||void 0===s?void 0:s.couponInfo,u){e.next=9;break}return e.abrupt("return",(0,r.showToast)("\u4f18\u60e0\u5238\u6dfb\u52a0\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6dfb\u52a0"));case 9:d=F({couponList:[u]}),v(d[0]),(0,r.showToast)("\u4f18\u60e0\u5238\u6dfb\u52a0\u6210\u529f"),e.next=19;break;case 14:return f=s||{},p=f.couponInfo,m=p||{},h=m.couponCode,g=m.extension,y=(null===s||void 0===s?void 0:s.resultMessage)||"\u4f18\u60e0\u5238\u9a8c\u8bc1\u5931\u8d25",h&&g&&_({code:h,extension:g,usable:0===(null===s||void 0===s?void 0:s.result),resultMessage:y}),e.abrupt("return",{pass:0===(null===s||void 0===s?void 0:s.result),resultMessage:y});case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[v,K,l,_]);(0,u.useEffect)((function(){var e=W.find((function(e){return e.isRecommend}));N(r.R.reduce((function(t,n){if(!n.isAvailable)return(0,o.Z)((0,o.Z)({},t),{},(0,i.Z)({},n.code,!1));if(e){n.isRecommend&&O(n.code);var r=n.isRecommend;return r&&S&&!n.hasChecked&&Q(n.code,2),(0,o.Z)((0,o.Z)({},t),{},(0,i.Z)({},n.code,r))}return t}),{},W)),y(W)}),[W,N,y,O,S,Q]),(0,u.useEffect)((function(){(null===w||void 0===w||!w.length)&&Z(!0)}),[w,Z]);var $=(0,u.useCallback)(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var n,i,o;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,H({data:{version:3,codes:[t]}});case 2:if(n=e.sent,i=n.data,o=(i||[])[0],o){e.next=7;break}return e.abrupt("return",(0,r.showToast)("\u4f18\u60e0\u5238\u6dfb\u52a0\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u6dfb\u52a0"));case 7:if(o.usable){e.next=9;break}return e.abrupt("return",(0,r.showToast)("\u4f18\u60e0\u5238\u4e0d\u53ef\u7528\uff0c\u8bf7\u91cd\u65b0\u6dfb\u52a0"));case 9:v(o),(0,r.showToast)("\u4f18\u60e0\u5238\u6dfb\u52a0\u6210\u529f");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v,H]),X=(0,u.useCallback)((function(e){N(e),null!==e&&void 0!==e&&e[R]||!R||Z(!1)}),[N,Z,R]);return t({couponLabel:z,isIntl:S,manualOperateSelected:X,addCouponDomestic:$,addOrVerifyCouponInter:Q})},z=function(e){return{totalPrices:(0,f.sq)(e),coupons:H(e),couponList:G(e),selected:Y(e),selectedLounge:(0,A.hc)(e),selectedSecurity:(0,A.Iz)(e)}},Q=function(e){return{setCoupons:function(t){return e(w(t))},setSelectedCoupons:function(t){return e(I(t))},addCouponToList:function(t){return e(C(t))},setCouponsList:function(t){return e(E(t))},updateCoupons:function(t){return e(S(t))}}},$=(0,r.connect)(z,Q),X=(0,l.Z)({key:k.name,reducer:k.reducer}),J=(0,r.compose)(X,$)((0,u.memo)(W)),ee=J},276:function(e,t,n){"use strict";n.d(t,{ZP:function(){return S},I$:function(){return N}});var r=n(62171),i=n(298),o=n(90129),a=n(90201),c=n(55172),s=n(19836),u=n(10830),l=n(18952),d=n(83845),f=n(72950),p=n(10073),m=p.Z.injectEndpoints({endpoints:function(e){return{getTravelCard:e.query({query:function(e){return{url:"/19691/getTravelCard",queryParams:e}},transformResponse:function(e){return e.data||[]}})}}}),h=m.useGetTravelCardQuery,v=m,g=n(68277),y=["lastToken","error"],x=["lastToken","error"],_=function(e){e.lastToken,e.error;var t=(0,g.Z)(e,y);return JSON.stringify(t)},N=function(e){var t=e.lastToken,n=(e.error,(0,g.Z)(e,x));return t!==JSON.stringify(n)},b=function(e){var t=e.id,n=e.passengerList,c=e.airlineCodes,l=e.passengerCount,d=e.savePassengerToList,f=e.isIntl,p=e.updatePassengerCheck,m=e.clrlist,v=e.children,g=(0,a.useState)((function(){var e=(0,s.OG)(r.R.find((function(e){return e.id===t}),n||[]),f),o=e.isNew?{}:(0,s.$4)(e,!0,f,m);return(0,i.Z)((0,i.Z)({},e),{},{error:o,lastToken:_(e)})})),y=(0,o.Z)(g,2),x=y[0],N=y[1],b=(0,a.useState)([]),T=(0,o.Z)(b,2),w=T[0],C=T[1],I=(0,a.useState)(!1),E=(0,o.Z)(I,2),S=E[0],j=E[1],k=(0,a.useState)([]),A=(0,o.Z)(k,2),P=A[0],R=A[1];(0,a.useEffect)((function(){x&&C((0,s.qi)(x,f))}),[x,f]);var O=h({data:c}),D=O.data,L=(0,u.Wf)(),V=(0,o.Z)(L,1),Z=V[0],M=x||{},F=M.airlineVips;return(0,a.useEffect)((function(){var e=r.R.pipe(r.R.filter((function(e){return!r.R.isNil(e)})),r.R.map((function(e){var t=e||{},n=t.unions,r=t.cardName,i=t.airlineNo;return{unions:n,cardName:r,airlineNo:i,cardNo:(0,s.vO)(F,i)}})))(D||[]);R(e),j(r.R.any((function(e){return!!e.cardNo}),e))}),[D,F,R]),v({passengerList:n,passengerCount:l,selectedPassenger:x,setSelectedPassenger:N,documents:w,setDocuments:C,travelCardIsOn:S,setTravelCardIsOn:j,travelCardCards:P,setTravelCardCards:R,savePassengerQuery:Z,updatePassengerCheck:p,savePassengerToList:d})},T=(0,c.Z)({key:v.reducerPath,reducer:v.reducer}),w=function(e){return{airlineCodes:(0,d.sw)(e),passengerList:(0,f.kJ)(e),passengerCount:(0,f.yd)(e)}},C=function(e){return{setSelected:function(t,n){return e((0,f.Sx)({selected:t,needSort:n}))},savePassengerToList:function(t){return e((0,f.$s)(t))},updatePassengerCheck:function(t){return e((0,l.xb)(t))}}},I=(0,r.connect)(w,C),E=(0,r.compose)(T,I)((0,a.memo)(b)),S=E},72950:function(e,t,n){"use strict";n.d(t,{N6:function(){return x.N6},ZP:function(){return ue},$s:function(){return E},yd:function(){return Z},w1:function(){return V},zk:function(){return F},kJ:function(){return D},zY:function(){return M},kq:function(){return S},Sx:function(){return k},gY:function(){return j},fx:function(){return x.fx},r0:function(){return A}});var r=n(62171),i=n(45023),o=n(298),a=n(90201),c=n(55172),s=n(59931),u=n(86252),l=n(95569),d=n(63871),f=n(43752),p=n(56027),m=n(14044),h=n(48937),v=n(64353),g=n(10830),y=n(42463),x=n(77954),_=n(8811),N=n(19836);function b(e,t){if(null!==e&&void 0!==e&&e.length&&t){var n=null===e||void 0===e?void 0:e.filter((function(e){var n=e.documents.find((function(e){return e.no===t.cardNo&&e.type===(0,_.U)(t.cardType)})),r=t.name===e.name.name&&n;return r?[(0,o.Z)({},e)]:void 0}));return(null===n||void 0===n?void 0:n.length)>0?[(0,o.Z)((0,o.Z)({},null===n||void 0===n?void 0:n[0]),{},{isNew:!1,error:{},checked:!0})]:[(0,N.g6)(t)]}}var T=n(22276),w={passengers:[],showCount:0},C=(0,r.createSlice)({name:"passengerStore",initialState:w,reducers:{setShowCountAction:function(e,t){var n=t.payload,i=r.R.filter((function(e){return r.R.prop("checked",e)}),n),o=r.R.length(i);e.showCount=o>2?o:2},setTravelersAction:function(e,t){var n=t.payload;e.travelers=n},setPassengersAction:function(e,t){var n=t.payload;e.passengers=n},savePassengerToListAction:function(e,t){var n=t.payload,i=n.id,a=n.savedPassenger,c=e.passengers||[];r.R.any((function(e){return e.id===i}),c)?e.passengers=r.R.map((function(e){return e.id===i?(0,o.Z)((0,o.Z)({},a),{},{id:i}):e}),c):e.passengers=[(0,o.Z)((0,o.Z)({},a),{},{id:i})].concat((0,T.Z)(c))},setSelectedAction:function(e,t){var n=t.payload,i=n.selected,a=n.needSort,c=r.R.map((function(e){var t=i[e.id];return void 0===t?e:(0,o.Z)((0,o.Z)({},e),{},{checked:!!t})}))(e.passengers||[]);if(a){var s=r.R.descend(r.R.propOr(!1,"checked"));e.passengers=r.R.sort(s,c);var u=r.R.filter(r.R.propEq("checked",!0),c),l=r.R.length(u);e.showCount=l>2?l:2}else e.passengers=c}}}),I=C.actions,E=I.savePassengerToListAction,S=I.setPassengersAction,j=I.setShowCountAction,k=I.setSelectedAction,A=r.useSelector,P=C,R=n(83845),O=function(e){return e.passengerStore},D=(0,r.createSelector)([O],(function(e){return(null===e||void 0===e?void 0:e.passengers)||[]})),L=(0,r.createSelector)([O],(function(e){return(null===e||void 0===e?void 0:e.showCount)||0})),V=(0,r.createSelector)([D],(function(e){return e})),Z=(0,r.createSelector)([V],(function(e){return(0,x.$S)(e)})),M=(0,r.createSelector)([V,R.sq],(function(e,t){return(0,x.y0)(e,t)})),F=(0,r.createSelector)([Z],(function(e){return r.R.prop("TOTAL",e)})),B=n(67347),U=n(51491),q=n(71515),H=n(61659),G={typeChangeBox:"PassengerTypeChange-module_LtzxE",mainContainer:"PassengerTypeChange-module_HGlvI",contentTip:"PassengerTypeChange-module__YLU4",imgContainer:"PassengerTypeChange-module_ZYp7r",typeIcon:"PassengerTypeChange-module_PsrQN",fltIcon:"PassengerTypeChange-module_OhjQ5",tipContainer:"PassengerTypeChange-module_Ykcaf",leftSide:"PassengerTypeChange-module_cjtOc",rightSide:"PassengerTypeChange-module_VZ2Sg",passengerType:"PassengerTypeChange-module_C9mcn",ageTip:"PassengerTypeChange-module_N9v1z",passengerTypeButton:"PassengerTypeChange-module_hcJoK"},Y=n(2269),K="https://pages.c-ctrip.com/flight_h5/swift/passenger/img_flight.png",W=function(e){var t=e.passengerTypeList;if(null===t||void 0===t||!t.length)return null;var n=t.length;return(0,Y.jsx)(q.View,{className:G.typeChangeBox,children:(0,Y.jsx)(q.View,{className:G.mainContainer,children:t.map((function(e){var t=e.tip,r=e.name,i=e.beforeImgUrl,o=e.afterImgUrl,a=e.beforeType,c=e.beforeAgeRange,s=e.afterType,u=e.afterAgeRange;return(0,Y.jsxs)(q.View,{children:[(0,Y.jsxs)(q.View,{className:G.contentTip,children:[r,t]}),1===n?(0,Y.jsxs)(q.View,{className:G.contentContainer,children:[(0,Y.jsxs)(q.View,{className:G.imgContainer,children:[(0,Y.jsx)(H.Z,{src:i||"",className:G.typeIcon}),(0,Y.jsx)(H.Z,{src:K,className:G.fltIcon}),(0,Y.jsx)(H.Z,{src:o||"",className:G.typeIcon})]}),(0,Y.jsxs)(q.View,{className:G.tipContainer,children:[(0,Y.jsxs)(q.View,{className:G.leftSide,children:[(0,Y.jsx)(q.View,{className:G.passengerType,children:a}),(0,Y.jsx)(q.View,{className:G.ageTip,children:c})]}),(0,Y.jsxs)(q.View,{className:G.rightSide,children:[(0,Y.jsx)(q.View,{className:G.passengerType,children:s}),(0,Y.jsx)(q.View,{className:G.ageTip,children:u})]})]})]}):null]},"PassengerType_Change".concat(r))}))})})},z=function(e){(0,f.jq)("PassengerTypeChange"),(0,B.K4)({close:{position:"top-left"},mask:{enableClose:!0},closeMethod:"close",title:U.$N,content:(0,Y.jsx)(W,{passengerTypeList:e}),buttons:[{text:U.eu,class:G.passengerTypeButton,callback:function(){}}],animationClassName:"animate__animated animate__slideInUp animate__faster",position:"bottom",style:{width:"100%",position:"absolute",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})},Q=n(90983),$=function(){var e=(0,R.Ck)(R.cA),t=(0,R.Ck)(R.gL),n=(0,R.Ck)(R.v$),r=(0,y.YW)(n);return(0,a.useCallback)((function(n){var i=!1;return n.length&&n.forEach((function(n){var o,a=!1,c=!0,u=(0,s.UU)(n.birth,e);if(null!==r&&void 0!==r&&null!==(o=r.limits)&&void 0!==o&&null!==(o=o.all)&&void 0!==o&&o.length){var l,d=(0,Q.Z)(r.limits.all);try{for(d.s();!(l=d.n()).done;){var f=l.value;f.minAge<=u.age&&u.age<f.maxAge&&(a=!0)}}catch(e){d.e(e)}finally{d.f()}}else{var p,m,h=(0,s.B$)(n),v=2===h?null===(p=r.limits)||void 0===p?void 0:p.male:null===(m=r.limits)||void 0===m?void 0:m.female;v||(a=!0);var g,y=(0,Q.Z)(v);try{for(y.s();!(g=y.n()).done;){var x=g.value;x.minAge<=u.age&&u.age<x.maxAge&&(a=!0)}}catch(e){y.e(e)}finally{y.f()}}if(e!==t&&a){var _;c=!1;var N=(0,s.UU)(n.birth,t);if(null!==(_=r.limits)&&void 0!==_&&null!==(_=_.all)&&void 0!==_&&_.length){var b,T=(0,Q.Z)(r.limits.all);try{for(T.s();!(b=T.n()).done;){var w=b.value;w.minAge<=N.age&&N.age<w.maxAge&&(c=!0)}}catch(e){T.e(e)}finally{T.f()}}else{var C,I,E=(0,s.B$)(n),S=2===E?null===(C=r.limits)||void 0===C?void 0:C.male:null===(I=r.limits)||void 0===I?void 0:I.female;S||(c=!0);var j,k=(0,Q.Z)(S);try{for(k.s();!(j=k.n()).done;){var A=j.value;A.minAge<=N.age&&N.age<A.maxAge&&(c=!0)}}catch(e){k.e(e)}finally{k.f()}}}a&&c&&(i=!0)})),i}),[e,t,n,r])},X=function(e,t){return"INFANT"===e&&"CHILD"===t?{changeType:1,beforeImgUrl:"https://pages.c-ctrip.com/flight_h5/swift/passenger/img_baby.png",afterImgUrl:"https://pages.c-ctrip.com/flight_h5/swift/passenger/ic_child.png",beforeType:"\u5a74\u513f",beforeAgeRange:"14\u5929-2\u5c81",afterType:"\u513f\u7ae5",afterAgeRange:"2-12\u5c81",tip:"\u5728\u7b2c\u4e8c\u7a0b\u8d77\u98de\u5f53\u65e5\u5df2\u6ee12\u5468\u5c81\uff0c\u7b2c\u4e00\u7a0b\u53ef\u8ba2\u5a74\u513f\u7968\uff0c\u7b2c\u4e8c\u7a0b\u9700\u8ba2\u513f\u7ae5\u7968\uff0c\u8bf7\u5206\u5f002\u5f20\u8ba2\u5355\u63d0\u4ea4\u3002"}:"CHILD"===e&&"ADULT"===t?{changeType:2,beforeImgUrl:"https://pages.c-ctrip.com/flight_h5/swift/passenger/ic_child.png",afterImgUrl:"https://pages.c-ctrip.com/flight_h5/swift/passenger/ic_grownup.png",beforeType:"\u513f\u7ae5",beforeAgeRange:"2-12\u5c81",afterType:"\u6210\u4eba",afterAgeRange:"12\u5c81\u4ee5\u4e0a",tip:"\u5728\u7b2c\u4e8c\u7a0b\u8d77\u98de\u5f53\u65e5\u5df2\u6ee112\u5468\u5c81\uff0c\u7b2c\u4e00\u7a0b\u53ef\u8ba2\u513f\u7ae5\u7968\uff0c\u7b2c\u4e8c\u7a0b\u9700\u8ba2\u6210\u4eba\u7968\uff0c\u8bf7\u5206\u5f002\u5f20\u8ba2\u5355\u63d0\u4ea4\u3002"}:void 0},J=function(){var e=(0,R.Ck)(R.cA),t=(0,R.Ck)(R.J3);return(0,a.useCallback)((function(n){var i=[];return r.R.forEach((function(n){var r=(0,m.h)(n),a=(0,s.ck)(r,e,t),c=null===a||void 0===a?void 0:a.departureAgeType,u=null===a||void 0===a?void 0:a.arrivalAgeType;if(c&&u&&c!==u){var l=X(c,u);null!==l&&void 0!==l&&l.changeType&&[1,2].includes(l.changeType)&&i.push((0,o.Z)({name:n.name.name},l))}}),n),i}),[e,t])},ee={},te="",ne=/^[\u4E00-\u9FA5\\\xb7]{2,15}$/,re=function(e){var t=e.children,n=e.userId,c=void 0===n?"":n,v=e.showCount,_=e.policy,N=e.restriction,T=e.ticketCount,w=e.setTargetView,C=e.departureDate,I=e.passengers,E=void 0===I?[]:I,S=e.passengerCount,j=e.selectedPassengers,k=e.setPassengers,A=e.setShowCount,P=e.setSelected,R=r.R.flatten((null===_||void 0===_?void 0:_.productTypes)||[]),O=r.R.path(["lockPricePassengerList",0],_),D=R.indexOf("LIMITED_STUDENT")>-1,L=(0,d.Sl)("lockSwitcher"),V=(0,g.XC)({userId:c,isStudent:D}),Z=V.data,M=V.isFetching,F=(0,a.useMemo)((function(){return L?b(null===Z||void 0===Z?void 0:Z.passengers,O):[]}),[null===Z||void 0===Z?void 0:Z.passengers,O,L]);(0,a.useEffect)((function(){E.length&&(ee=r.R.reduce((function(e,t){return F&&F.length>0?(0,o.Z)((0,o.Z)({},e),{},(0,i.Z)({},t.id,F[0].id===t.id)):(0,o.Z)((0,o.Z)({},e),{},(0,i.Z)({},t.id,t.checked))}),{},E)),(0,x.xQ)(E)}),[E,F]);var B=(0,a.useCallback)((function(e){var t=(e||[]).map((function(e){return(0,s.N6)(e,!1)})),n=(0,x.zr)(t,ee),r=(0,s.MG)(n,_),i=(0,s.RR)(r);k(i),(0,f.jq)("\u4e58\u673a\u4eba\u521d\u59cb\u5316initPassenger",{passengerCount:null===i||void 0===i?void 0:i.length}),A(r)}),[_,A,k]);(0,a.useEffect)((function(){E.length&&(null===_||void 0===_?void 0:_.policyId)===te||(B(null===Z||void 0===Z?void 0:Z.passengers),te=(null===_||void 0===_?void 0:_.policyId)||"")}),[B,null===Z||void 0===Z?void 0:Z.passengers,E.length,null===_||void 0===_?void 0:_.policyId]),(0,a.useEffect)((function(){null!==F&&void 0!==F&&F.length&&B(F)}),[B,F]);var U=(0,a.useMemo)((function(){var e,t;return t=L&&null!==F&&void 0!==F&&null!==(e=F[0])&&void 0!==e&&null!==(e=e.name)&&void 0!==e&&e.name?"\u5f53\u524d\u822a\u73ed\u9501\u5b9a\u4ef7[\u4ec5\u9650".concat(F[0].name.name,"]\u9884\u8ba2"):"",t?(0,r.handleHighlight)(t):[]}),[F,L]),q=$(),H=J(),G=(0,a.useCallback)((function(e){var t=N||{},n=t.minPassengerNum,i=t.maxPassengerNum;(0,f.jq)("Order passenger check",{desc:"\u4e58\u673a\u4eba\u6821\u9a8c"});var o=[];if(0===S.TOTAL)return w("userArea"),(0,f.jq)("Order passenger check failed, none psg",{desc:"\u4e58\u673a\u4eba\u6821\u9a8c\u5931\u8d25\uff0c\u672a\u9009\u62e9\u4e58\u673a\u4eba"}),(0,r.showToast)("\u8bf7\u9009\u62e9\u4e58\u673a\u4eba");if(h.F.checkBeforeOrder(S)){var a=H(j);if((null===a||void 0===a?void 0:a.length)>0)z(a);else{var c=(0,y.YW)(N);if(c.leastOne&&!q(j)){var l=R.indexOf("LIMITED_FAMILY")>-1,d=n===i?n:"".concat(n+"\uff5e"+i),v={title:l?"\u6b64\u4ef7\u683c\u6709\u4eba\u6570\u3001\u5e74\u9f84\u9650\u5236":"\u6b64\u4ef7\u683c\u6709\u5e74\u9f84\u9650\u5236",speedValue:l?"family age limit":"need at least one passenger satisfy age limit",content:l?"\u6b64\u4f18\u60e0\u4ef7\u683c\u9650<HL>".concat(d,"</HL>\u4eba\u9884\u8ba2\uff0c\u9700\u5305\u542b1\u540d<HL>").concat(null===c||void 0===c?void 0:c.leastOneText,"</HL>\u4e58\u5ba2\u3002\u8bf7\u8fd4\u56de\u6dfb\u52a0\u4e58\u5ba2\u6216\u9009\u62e9\u5176\u4ed6\u4ef7\u683c"):"\u51fa\u884c\u4eba\u9700\u5305\u542b<HL>".concat(null===c||void 0===c?void 0:c.leastOneText,"</HL>\u4e58\u5ba2\uff0c\u5f53\u524d\u65e0\u6cd5\u9884\u8ba2"),speedLeft:l?"family age, other price click":"at least one, other price click",speedRight:l?"family age, add passenger":"at least one, add passenger"};return w("userArea"),void(0,u.Cd)(v)}if(null!==R&&void 0!==R&&R.length&&R.indexOf("LIMITED_STUDENT")>-1&&null!==j&&void 0!==j&&j.length&&j.find((function(e){return 1!==(1&e.identity)})))return w("userArea"),void(0,u.$Q)(3);var g=null===j||void 0===j?void 0:j.find((function(e){var t=e.document,n=e.region,r=e.name,i="PASSPORT"===(null===t||void 0===t?void 0:t.type),o=n&&-1===["CN","MO","TW","HK"].indexOf(n.acronym),a=r&&r.name&&ne.test(r.name);return i&&o&&a}));if(g)return(0,r.showToast)("\u975e\u4e2d\u56fd\u56fd\u7c4d\u4f7f\u7528\u62a4\u7167\u8d2d\u4e70\uff0c\u8bf7\u586b\u5199\u82f1\u6587\u59d3\u540d");if(S.TOTAL>T)return(0,r.showToast)("\u9009\u62e9\u7684\u4e58\u673a\u4eba\u603b\u4eba\u6570\u4e0d\u80fd\u8d85\u8fc7\u4f59\u7968\u6570\u91cf".concat(T));var b=(0,s.PN)(S,_,!1);if(b){w("userArea");var I={title:"\u6b64\u4f18\u60e0\u4ef7\u683c\u6709\u4eba\u6570\u9650\u5236",speedValue:"Order passenger check failed, ticketLimit",content:b,speedLeft:"ticketLimit, other price click",speedRight:"ticketLimit, add passenger"};(0,u.Cd)(I)}else{var E=null===j||void 0===j?void 0:j.some((function(e){return(0,p.r)((0,m.h)(e),C)<12})),k=null===j||void 0===j?void 0:j.some((function(e){return(0,p.r)((0,m.h)(e),C)>=18}));E&&!k&&(o.push("\u513f\u7ae5/\u5a74\u513f\u4e58\u673a\u9700\u6709\u5e74\u6ee118\u5468\u5c81\u7684\u6210\u4eba\u966a\u540c\uff0c\u8bf7\u6dfb\u52a0\u6210\u4eba\u4e58\u673a\u4eba\u3002"),w("userArea"),(0,f.jq)("Order passenger check failed, only child and no adult"));var A=null===j||void 0===j?void 0:j.filter((function(e){return e.document&&"PASSPORT"===e.document.type&&e.region&&["HK","TW","MO"].includes(e.region.acronym)}));if(A&&A.length)return(0,x.v0)(!1,(function(){A.length>1?(0,y.j2)(!1):(0,y.wd)(!1,A[0])}));o.length?(w("userArea"),e({result:0,errors:o})):((0,f.jq)("Order USER_CHECK check ok"),e({result:1}))}}}else w("userArea")}),[N,S,H,j,R,T,_,w,q,C]);return(0,l.Up)(l.O4.USER_CHECK,G),t({showCount:v,passengerCount:S,passengers:E,lockPsgTip:U,setSelected:P,setPassengers:k,selectedPassengers:j,isFetching:M})},ie=function(e){return{userId:(0,v.c7)(e),departureDate:e.departure.date,showCount:L(e),passengers:D(e),passengerCount:Z(e),selectedPassengers:M(e)}},oe=function(e){return{setPassengers:function(t){return e(S(t))},setShowCount:function(t){return e(j(t))},setSelected:function(t,n){return e(k({selected:t,needSort:n}))}}},ae=(0,r.connect)(ie,oe),ce=(0,c.Z)({key:P.name,reducer:P.reducer}),se=(0,r.compose)(ce,ae)((0,a.memo)(re)),ue=se},77954:function(e,t,n){"use strict";n.d(t,{N6:function(){return _},$S:function(){return m},zr:function(){return h},y0:function(){return p},v0:function(){return y},xQ:function(){return g},fx:function(){return x}});var r=n(62171),i=n(9154),o=n(59931),a=n(86252),c=n(19836),s=n(54491),u=n(43752),l=n(42463),d=n(298),f=n(14044),p=function(e,t){return r.R.pipe(r.R.filter((function(e){return!!e.checked})),r.R.map((function(e){var n=e.passengerType;"CHILD"!==e.passengerType||null===t||void 0===t||!t.CHILD_BOOK_ADULT||null!==t&&void 0!==t&&t.CHILD||(n="CHILD_BOOK_ADULT");var r=e.document;!e.document&&e.documents&&e.documents.length&&(r=e.documents[0]);var i=(0,f.h)(e);return(0,d.Z)((0,d.Z)({},e),{},{birth:i,ticketType:n,document:r})})))(e||[])},m=function(e){var t={ADULT:0,CHILD:0,INFANT:0,TOTAL:0,CHILD_BOOK_ADULT:0};return null===e||void 0===e||e.forEach((function(e){var n=e.checked,r=e.passengerType;n&&(t[r]++,t.TOTAL++)})),t},h=function(e,t){return r.R.pipe(r.R.map((function(e){var n;return(0,d.Z)((0,d.Z)({},e),{},{checked:!!t[e.id]&&!e.nameError&&!(null!==(n=e.checkError)&&void 0!==n&&n.text)&&!e.defaultNoCheck,document:r.R.isEmpty(e.document)?r.R.head(e.documents):e.document})})))(e||[])},v=function(e){return r.R.pipe(r.R.filter((function(e){return!!e.checked})),r.R.map(r.R.pathOr("",["name","name"])),r.R.join("\u3001"))(e)},g=function(e){var t=v(e);(0,u.jq)("Passenger selected",{names:t})},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};(0,i.w)({content:"\u6839\u636e\u6c11\u822a\u5c40\u76f8\u5173\u89c4\u5b9a\uff0c\u4e2d\u56fd\u6e2f\u6fb3\u53f0\u540c\u80de\u9884\u8ba2\u5e76\u4e58\u5750\u4e2d\u56fd\u5883\u5185\u7684\u822a\u73ed\u987b\u4f7f\u7528\u56de\u4e61\u8bc1\u3001\u5165\u53f0\u8bc1\u3002\u8bf7\u66f4\u6362\u8bc1\u4ef6\uff0c\u4ee5\u514d\u5f71\u54cd\u767b\u673a\u3002",buttons:[{text:e?"\u77e5\u9053\u4e86":"\u66f4\u6362\u8bc1\u4ef6",callback:t}]})},x=function(e,t){var n=e.checkError,i=e.onHide,o=e.passenger,a=e.isToNew,c=void 0===a||a,s=e.timeout;(0,u.jq)("showPassengerTips",{error:n.text}),n&&("passport_region_invalid"===n.text?y(!0,(function(){c&&(0,l.wd)(t,o)})):s?setTimeout((function(){return(0,r.showToast)({title:n.text,onHide:i,time:800})}),s):(0,r.showToast)({title:n.text,onHide:i,time:800}))},_=function(e,t,n,i,u,d){var f,p,m,h,v,g=o.ZP.checkPassenger(e,u,void 0,d),y=g.checkError;if(e.nameError&&y)return(0,r.showToast)({title:null===e||void 0===e||null===(m=e.checkError)||void 0===m?void 0:m.text,onHide:null!==(h=y)&&void 0!==h&&h.isEditable?function(){return(0,l.wd)(u,e,d)}:void 0,time:800}),!1;if(null!==(f=y)&&void 0!==f&&f.text||e.checked||(y=o.ZP.checkCount(e.passengerType,t,u)),null!==(p=y)&&void 0!==p&&p.text)return x({checkError:y,onHide:null!==(v=y)&&void 0!==v&&v.isEditable?function(){return(0,l.wd)(u,e,d)}:void 0,passenger:e},u),!1;var _=n.filter((function(e){return!!e.checked}));if(e&&(null===e||void 0===e||!e.checked)&&(o.ZP._checkHomophone(e,_)||o.ZP._checkName(e,_)||o.ZP._checkCardNo(e,_)))return!1;var N,b=1===(1&(null===e||void 0===e?void 0:e.identity));if(null!==i&&void 0!==i&&i.length&&i.indexOf("LIMITED_STUDENT")>-1&&e&&(null===e||void 0===e||!e.checked)&&!b&&(0,a.$Q)(1))return!1;if(u){if((0,c.mm)(e,(0,s.e)(d,null===e||void 0===e||null===(N=e.document)||void 0===N?void 0:N.type)))return!1}else if((0,c.mm)(e))return!1;return!0}},8407:function(e,t,n){"use strict";n.d(t,{t:function(){return f}});var r=n(62171),i=n(51491),o={ADULT:"\u6210\u4eba",CHILD:"\u513f\u7ae5",CHILD_BOOK_ADULT:"\u513f\u7ae5 (\u4f18\u60e0\u4ef7)",INFANT:"\u5a74\u513f"},a=function(e,t,n){var r=n||{},i=r.INFANT,o=r.ADULT,a=r.CHILD;return 3!==e&&2!==e?0:3===e?1:(4===(4&t)?o:0)+(8===(8&t)?a:0)+(16===(16&t)?i:0)},c=function(e,t,n){var i,o=n.policy,a=r.R.flatten((null===n||void 0===n||null===(i=n.policy)||void 0===i?void 0:i.productTypes)||[]),c=a.includes("TRAVEL_PACKAGE"),s=t[e]||0;if(s>0&&o){var u,l=o.totalPrices,d=void 0===l?{}:l,f=o.totalTaxes,p=void 0===f?{}:f,m=o.totalOilFees,h=void 0===m?{}:m,v=o.discountAmount,g=o.specialPrices,y=o.marketString,x=void 0===y?{}:y;"CHILD"!==e||d[e]||(e="CHILD_BOOK_ADULT");var _=x[e]?"(".concat(x[e],")"):"",N=d[e]||0,b="ADULT"===e&&v>0&&!_?N+v:N,T="ADULT"===e&&(null===g||void 0===g?void 0:g.FAVOURED_PRICE)||0,w="ADULT"===e&&(null===g||void 0===g?void 0:g.DEPOSIT_PRICE)||0,C=((p[e]||0)+(h[e]||0))*s,I=N+(p[e]||0)+(h[e]||0)-(T||0)-(w||0),E={name:"".concat(n.TYPES[e]),type:"FLIGHT",total:"\xa5".concat(I),count:"\xd7".concat(s,"\u4eba"),subItems:[{name:"\u673a\u7968".concat(_),price:"\xa5".concat(b),type:"ADULT"===e&&_&&v?"FLIGHT_DISCOUNT":"FLIGHT",showTravelPackage:"ADULT"===e&&c&&!!_}]};if("ADULT"===e&&g&&(null===(u=Object.keys(g))||void 0===u?void 0:u.length)>0){if(T>0){var S={name:"\u9501\u4ef7\u670d\u52a1\u627f\u62c5",price:"-\xa5".concat(T),type:"FAVOURED_PRICE",showTravelPackage:!1};E.subItems.push(S)}if(w>0){var j={name:"\u673a\u7968\u9884\u4ed8\u6b3e",price:"-\xa5".concat(w),type:"DEPOSIT_PRICE",showTravelPackage:!1};E.subItems.push(j)}}if(E.subItems.push({name:"\u673a\u5efa",price:"\xa5".concat(p[e]||0),type:"FLIGHT_ADDITION",showTravelPackage:!1}),E.subItems.push({name:"\u71c3\u6cb9",price:"\xa5".concat(h[e]||0),type:"FLIGHT_ADDITION",showTravelPackage:!1}),"ADULT"===e&&v&&v>0&&!_){var k={name:"\u7acb\u51cf",price:"-\xa5".concat(v),type:"FLIGHT_DISCOUNT",showTravelPackage:!1};E.subItems.push(k)}n.items.push(E),n.xTotal+=C,n.total+=C+(N-(T||0)-(w||0))*s}},s=function(e,t){null===e||void 0===e||e.forEach((function(e){var n=e.typeName,r=e.salePrice,i=e.count;i&&(t.items.push({name:n,total:"\xa5".concat(r),count:"\xd7".concat(i,"\u4eba"),type:"X_INSURANCE"}),t.total+=r*i)}))},u=function(e,t,n){var r;if(t&&null!==t&&void 0!==t&&t.length){var i=null===(r=t[0])||void 0===r?void 0:r.xproductType,o=0;t.forEach((function(e){o+=e.priceInfo.salePrice}));var a={name:"LOUNGE"===i?"\u8d35\u5bbe\u4f11\u606f\u5ba4":"\u5feb\u901f\u5b89\u68c0",total:"\xa5".concat(o),count:"\xd7".concat(e,"\u4efd"),type:"X_".concat(i)};n.items.push(a),n.total+=o*e}},l=function(e,t,n){if(null!==t&&void 0!==t&&t.SalePrice){var r={name:null===t||void 0===t?void 0:t.PackageName,total:"\xa5".concat(null===t||void 0===t?void 0:t.SalePrice),count:"\xd7".concat(e,"\u4efd"),type:"SERVICE_PACKAGE"};n.items.push(r),n.total+=t.SalePrice*e}},d=function(e,t,n){t&&t.forEach((function(t){var r,i,o=null===t||void 0===t?void 0:t.productName,c=null===t||void 0===t?void 0:t.xproductType,s=null===t||void 0===t||null===(r=t.xproductInfo)||void 0===r?void 0:r.unitType,u=null===t||void 0===t||null===(i=t.xproductInfo)||void 0===i?void 0:i.unitFlagMap,l=a(s,u,e);if(l){var d={name:o,total:"\xa50",count:"\xd7".concat(l,"\u4efd"),type:c};n.items.push(d)}}))},f=function(e,t,n,r,a,f,p,m){var h={policy:e,items:[],itemsNew:[],total:0,xTotal:0,TYPES:o,cashBackAmount:0},v=t||{},g=v.ADULT,y=void 0===g?0:g,x=v.CHILD,_=void 0===x?0:x,N=y+_,b=p&&0!==p.length?p[0]:void 0,T=b||{},w=T.PackageDetailInfo,C=void 0===w?[]:w,I=0!==C.length?C[0]:void 0,E=I||{},S=E.PackageSalePolicyInfo,j=void 0===S?[]:S,k=j[0]||{};return i.IT.forEach((function(e){return c(e,t,h)})),s(r,h),[a,f].forEach((function(e){u(N,e,h)})),l(N,k,h),d(t,m,h),h.total&&n.forEach((function(e){var t=e.name,n=e.isCashBack,r=e.deductionAmount;if(n)h.cashBackAmount+=r;else{var i={name:t,total:"-\xa5".concat(r),type:"X_COUPON"};h.items.push(i),h.total-=r}})),h}},72024:function(e,t,n){"use strict";n.d(t,{_g:function(){return h},yO:function(){return v},ZP:function(){return ee},xR:function(){return E},hc:function(){return I},Iz:function(){return C},cs:function(){return S},ds:function(){return y},NQ:function(){return x},NK:function(){return b}});var r=n(62171),i=n(298),o=n(90129),a=n(90201),c=n(55172),s=n(43752),u=n(63871),l=n(95569),d={freeX:[],lounge:[],security:[],servicePackage:[]};function f(e,t,n){var r=e[n].find((function(e){return e.productId===t.productId}));r&&r.selected?e[n]=e[n].filter((function(e){return e.productId!==r.productId})):e[n].push((0,i.Z)((0,i.Z)({},t),{},{selected:!0}))}var p=(0,r.createSlice)({name:"xProductsStore",initialState:d,reducers:{setFreeXAction:function(e,t){var n=t.payload;e.freeX=n},addLoungeAction:function(e,t){var n=t.payload;null!==n&&void 0!==n&&n.length?e.lounge=n.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{selected:!0})})):e.lounge=[]},addSecurityAction:function(e,t){var n=t.payload;null!==n&&void 0!==n&&n.length?e.security=n.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{selected:!0})})):e.security=[]},addServicePackageAction:function(e,t){e.servicePackage=t.payload},toggleLoungeItem:function(e,t){f(e,t.payload,"lounge")},toggleSecurityItem:function(e,t){f(e,t.payload,"security")},resetXProductsAction:function(e){e.lounge=[],e.security=[],e.servicePackage=[]}}}),m=p.actions,h=m.addLoungeAction,v=m.addSecurityAction,g=m.addServicePackageAction,y=m.toggleLoungeItem,x=m.toggleSecurityItem,_=m.resetXProductsAction,N=m.setFreeXAction,b=r.useSelector,T=p,w=function(e){return e.xProductsStore},C=(0,r.createSelector)([w],(function(e){return(null===e||void 0===e?void 0:e.security)||[]})),I=(0,r.createSelector)([w],(function(e){return(null===e||void 0===e?void 0:e.lounge)||[]})),E=(0,r.createSelector)([w],(function(e){return(null===e||void 0===e?void 0:e.freeX)||[]})),S=(0,r.createSelector)([w],(function(e){return(null===e||void 0===e?void 0:e.servicePackage)||[]})),j=n(67347),k=n(33943),A=n(71515),P=n(61659),R=n(70766),O={container:"RetentionPop-module_AGfD8",box:"RetentionPop-module_rjuRj",closeBtn:"RetentionPop-module_gvd0m",image:"RetentionPop-module_Fmgc0",description:"RetentionPop-module_ulpWp",contentBox:"RetentionPop-module_SjX5D",content:"RetentionPop-module_H6pcg",no:"RetentionPop-module_v0AH9",subTitle:"RetentionPop-module_wltNZ",yes:"RetentionPop-module_wGLg8",clauseList:"RetentionPop-module_qXGlG",subTitleBox:"RetentionPop-module_n1zDh",detailImage:"RetentionPop-module_qem3g",price:"RetentionPop-module_XnKvy",symbol:"RetentionPop-module_QpP2p",amount:"RetentionPop-module_CcVxp",people:"RetentionPop-module_nV0EJ",clause:"RetentionPop-module_VzGPQ",clauseImage:"RetentionPop-module_NdL0B",clauseContent:"RetentionPop-module_phwRe"},D=n(2269),L=function(e){var t=e.servicePackage,n=e.servicePackageConfig,i=e.onClickNeedServicePackage,o=e.closeServicePackageModal,a=t||{},c=a.PackageDetailInfo,u=void 0===c?[]:c,l=a.PackageCategoryNoteList,d=void 0===l?[]:l,f=u[0]||{},p=f.PackageSalePolicyInfo,m=void 0===p?[]:p,h=m[0],v=d.find((function(e){return 5===e.Type})),g=d.find((function(e){return 10===e.Type})),y=d.filter((function(e){return 9===e.Type})),x=d.filter((function(e){return 8===e.Type})),_=d.find((function(e){return 7===e.Type})),N=null===h||void 0===h?void 0:h.PackageName,b=function(){(0,s.ff)("C_FLT_N_H5_InputPage_Fwb_Pageup"),i(),o()},T=function(){(0,s.ff)("C_FLT_N_H5_InputPage_Fwb_Detainment_Content"),(0,R.Z)(n,b)},w=function(){(0,s.ff)("C_FLT_N_H5_InputPage_Fwb_Detainment_Close"),o()};return(0,D.jsxs)(A.View,{className:O.container,children:[(0,D.jsxs)(A.View,{className:O.box,children:[(0,D.jsx)(A.View,{className:O.closeBtn,onClick:(0,r.trackFn)("closeModal--31621",w)}),(0,D.jsx)(P.Z,{className:O.image,src:(null===g||void 0===g?void 0:g.IconUrl)||""}),(0,D.jsx)(A.Text,{className:O.description,children:null===g||void 0===g?void 0:g.Content})]}),(0,D.jsx)(A.View,{className:O.contentBox,children:(0,D.jsxs)(A.View,{className:O.content,style:{backgroundImage:"url(".concat((null===v||void 0===v?void 0:v.IconUrl)||"",")")},children:[(0,D.jsxs)(A.View,{className:O.no,children:[(0,D.jsx)(A.Text,{className:O.subTitle,children:null===_||void 0===_?void 0:_.Content}),(0,D.jsx)(A.View,{className:O.clauseList,children:x.map((function(e,t){return(0,D.jsxs)(A.View,{className:O.clause,children:[(0,D.jsx)(P.Z,{className:O.clauseImage,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/servicePackage/sp-no.png"}),(0,D.jsx)(A.View,{className:O.clauseContent,dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.Content}})]},t)}))})]}),(0,D.jsxs)(A.View,{className:O.yes,children:[(0,D.jsxs)(A.View,{className:O.subTitleBox,children:[(0,D.jsx)(A.Text,{className:O.subTitle,children:N}),(0,D.jsx)(P.Z,{className:O.detailImage,onClick:(0,r.trackFn)("showDetailPopUp--cc377",T),src:"https://pages.c-ctrip.com/flight_h5/tinyapp/servicePackage/sp-detail.png"})]}),(0,D.jsxs)(A.View,{className:O.price,children:[(0,D.jsx)(A.Text,{className:O.symbol,children:"\xa5"}),(0,D.jsx)(A.Text,{className:O.amount,children:null===h||void 0===h?void 0:h.SalePrice}),(0,D.jsx)(A.Text,{className:O.people,children:"/\u4eba"})]}),(0,D.jsx)(A.View,{className:O.clauseList,children:y.map((function(e,t){return(0,D.jsxs)(A.View,{className:O.clause,children:[(0,D.jsx)(P.Z,{className:O.clauseImage,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/servicePackage/sp-yes.png"}),(0,D.jsx)(A.View,{className:O.clauseContent,dangerouslySetInnerHTML:{__html:(null===e||void 0===e?void 0:e.Content)||""}})]},t)}))})]})]})})]})},V={"service-package-pop-modal":"RetentionPopModal-module_JZnut"},Z=function(e){var t=e.servicePackage,n=e.servicePackageConfig,i=e.onClickNeedServicePackage,o=e.onClickNoneServicePackage;(0,s.ff)("S_FLT_N_H5_InputPage_Fwb_Detainment");var a=(0,k.R2)(),c=a.bottom,u=(0,j.K4)({mask:{enableClose:!0},buttons:[{text:"\u5426",class:"default",callback:(0,r.throttle)((function(){(0,s.jq)("Order SERVICE_PACKAGE_DETAIN check ok, no"),(0,s.ff)("C_FLT_N_H5_InputPage_Fwb_Detainment_Button",{is_confirm:"cancel"}),o()}))},{text:"\u662f",class:"primary",callback:(0,r.throttle)((function(){(0,s.jq)("Order SERVICE_PACKAGE_DETAIN check ok, yes"),(0,s.ff)("C_FLT_N_H5_InputPage_Fwb_Detainment_Button",{is_confirm:"continue"}),i()}))}],content:(0,D.jsx)(L,{servicePackage:t,servicePackageConfig:n,onClickNeedServicePackage:(0,r.trackFn)("onClickNeedServicePackage--811e5",i),closeServicePackageModal:function(){return(0,j.Mr)(u)}}),className:V["service-package-pop-modal"],animationClassName:"animate__animated animate__slideInUp animate__faster",style:{width:"100%",position:"absolute",bottom:0,left:0,padding:0,backgroundColor:"#eef1f6",paddingBottom:"".concat(c?c+10:30,"px"),borderBottomLeftRadius:0,borderBottomRightRadius:0}})},M=n(92954),F=n(24873),B=n(68675),U=n(47130),q=["LOUNGE","SECURITY_CHANNEL","COUPON"];function H(e){var t=e.searchKey,n=e.searchToken,r=e.xproductParamsString;return q&&n?F.g9.promise({data:{xproductTypes:q,searchToken:n,xproductParamsString:r},extension:[{name:"searchKey",value:t}]}).then((function(e){return e.data})).catch((function(){return{}})):Promise.resolve({})}function G(e,t){var n=t?[{name:"sotp.uid",value:t}]:void 0,r={xproductParamsString:e,extension:n};return F.OG.promise(r).then((function(e){return e})).catch((function(){return{}}))}function Y(e,t,n){var r={fat:"https://m.ctrip.fat33.qa.nt.ctripcorp.com/html5/flight/api/getServicePackageConfig",prd:"https://m.ctrip.com/html5/flight/api/getServicePackageConfig"};(0,M.request)({method:"GET",url:(0,B.Nv)({url:r[(0,U.i)()]||r.prd,query:{packageId:e}}),success:function(e){n(e.data,t)},fail:function(e){console.log(e)}})}function K(e){var t={MessageBody:{XProductQueryInfoList:[{TokenOriginType:"Sale",Token:e}],RegionType:"Domestic"}};return F.s8.promise(t).then((function(e){return e})).catch((function(){return{}}))}var W=function(e){var t=e.children,n=e.userId,r=e.setFreeX,c=e.searchKey,d=e.searchToken,f=e.xproductParamsString,p=e.selectedServicePackage,m=e.resetXProductsStore,h=e.addServicePackage,v=(0,u.Sl)("servicePackageSwitch"),g=(0,a.useState)(!0),y=(0,o.Z)(g,2),x=y[0],_=y[1],N=(0,a.useState)({}),b=(0,o.Z)(N,2),T=b[0],w=b[1],C=(0,a.useState)({}),I=(0,o.Z)(C,2),E=I[0],S=I[1],j=(0,a.useState)({}),k=(0,o.Z)(j,2),A=k[0],P=k[1],R=(0,a.useCallback)((function(e,t){if(2!==(2&(null===E||void 0===E?void 0:E.PackageFlagMap))||null!==p&&void 0!==p&&p.length)(0,s.jq)("Order SERVICE_PACKAGE_DETAIN check ok"),e({result:l.rG.PASS});else{var n=(0,i.Z)((0,i.Z)({},E),{},{channelType:"4300824"});(0,s.jq)("Order SERVICE_PACKAGE_DETAIN check: service package detain"),e({result:l.rG.START,errors:[],callback:function(){return Z({servicePackage:E,servicePackageConfig:A,onClickNoneServicePackage:function(){e({result:l.rG.PASS})},onClickNeedServicePackage:function(){h([n]),t()}})}})}}),[E,p,A]);(0,l.Up)(l.O4.SERVICE_PACKAGE_DETAIN,R);var O=(0,a.useCallback)((function(e,t){var n=e.subPackage,r=void 0===n?[]:n,o=[];r.find((function(e){return e.ParameterId}))?K(t).then((function(t){var n=t.messageBody,a=void 0===n?{}:n,c=a.couponInfoList,s=void 0===c?[]:c;o=r.map((function(e){var t,n=s.find((function(t){var n;return e.ParameterId===(null===t||void 0===t||null===(n=t.couponType)||void 0===n?void 0:n.id)}));return(0,i.Z)((0,i.Z)({},e),{},{soaDetailDescription:(null===n||void 0===n||null===(t=n.couponType)||void 0===t?void 0:t.productRule)||void 0})})),P((0,i.Z)((0,i.Z)({},e),{},{subPackage:o}))})):P(e)}),[P]);return(0,a.useEffect)((function(){if(d)return _(!0),H({searchKey:c,searchToken:d,xproductParamsString:f}).then((function(e){w(e),r(null===e||void 0===e?void 0:e.freeZone),_(!1)})),v&&G(f,n).then((function(e){var t=e||{},n=t.PackageNewList,r=void 0===n?[]:n,i=r.find((function(e){return 6===e.PackageCategory})),o=i||{},a=o.PackageDetailInfo,c=void 0===a?[]:a,u=c[0]||{},l=u.PackageSalePolicyInfo,d=void 0===l?[]:l,f=u.PackageClauseKey,p=void 0===f?"":f,m=p.split(";"),h="";(null===m||void 0===m?void 0:m.length)>=2&&(h=m[1]);var v=d[0];S(i),1===(1&(null===i||void 0===i?void 0:i.PackageFlagMap))&&(0,s.ff)("S_FLT_N_H5_InputPage_Fwb",{xpid:null===v||void 0===v?void 0:v.PackageID}),(null===v||void 0===v?void 0:v.PackageID)&&Y(null===v||void 0===v?void 0:v.PackageID,h,O)})),function(){m()}}),[f,r,v]),t({xProducts:T,loading:x,setFreeX:r,servicePackage:E,servicePackageConfig:A,selectedServicePackage:p,addServicePackage:h})},z=function(e){return{selectedServicePackage:S(e)}},Q=function(e){return{setFreeX:function(t){return e(N(t))},resetXProductsStore:function(){return e(_())},addServicePackage:function(t){return e(g(t))}}},$=(0,r.connect)(z,Q),X=(0,c.Z)({key:T.name,reducer:T.reducer}),J=(0,r.compose)(X,$)((0,a.memo)(W)),ee=J},42463:function(e,t,n){"use strict";n.d(t,{d2:function(){return d},XE:function(){return f},oR:function(){return p},it:function(){return m},aD:function(){return h},j2:function(){return v},wd:function(){return g},D$:function(){return y},OH:function(){return x},YW:function(){return N}});var r=n(90983),i=n(62171),o=n(69972),a=n(43752),c=n(87108),s=n(83845),u=n(86252),l=n(47844),d=function(){return(0,s.s7)(o.h.getState())},f=function(){var e=(0,s.cA)(o.h.getState());return e?(0,i.dayjs)(e).format("YYYY-MM-DD HH:mm:ss"):""},p=function(){var e=(0,s.gL)(o.h.getState());return e?(0,i.dayjs)(e).format("YYYY-MM-DD HH:mm:ss"):""},m=function(){var e=(0,s.J3)(o.h.getState());return e?(0,i.dayjs)(e).format("YYYY-MM-DD HH:mm:ss"):""};function h(e){return null===e||void 0===e?void 0:e.some((function(e){return e.segments&&e.segments.length&&e.segments.some((function(e){return"9C"===e.airlineCode}))}))}function v(e){(0,a.jq)("open_passenger_list",{desc:"\u6253\u5f00\u4e58\u673a\u4eba\u5217\u8868"}),(0,c.T0)({isIntl:String(Number(e))})}function g(e,t,n,r){t&&t.nameError&&t.checkError&&!t.checkError.isEditable||((0,a.jq)("open_edit_passenger",{desc:"\u7f16\u8f91\u4e58\u673a\u4eba",isIntl:e}),(0,c.vJ)({id:null===t||void 0===t?void 0:t.id,isIntl:String(Number(e)),clrlist:n,policyId:r}).then((function(e){"string"===typeof e&&e&&("studentCertificatioModal"===e?(0,u.$Q)(2):(0,u.Ic)(e))})))}function y(e){var t=(null===e||void 0===e?void 0:e.restriction)||{},n=t.minPassengerNum,r=t.maxPassengerNum,i=(null===e||void 0===e?void 0:e.ticketCount)||9;return{min:n||0,max:r||99,ticketCount:i,limit:9}}function x(e){var t=null===e||void 0===e?void 0:e.restriction,n=null===t||void 0===t?void 0:t.agreementIDList;return n||[]}function _(e){var t,n=e.split(","),i=[],o=(0,r.Z)(n);try{for(o.s();!(t=o.n()).done;){var a=t.value,c=a.split("-");i.push({minAge:parseInt(c[0]),maxAge:parseInt(c[1]?c[1]:"0")})}}catch(e){o.e(e)}finally{o.f()}return i}function N(e){var t=e||{},n=t.passengerAgeLimits,r=t.ageLimitInfo,o=r||{},a=o.maleAgeLimit,c=o.femaleAgeLimit,s="",u="",d=[],f=[],p=[];return n&&n.length&&(d=i.R.clone(n),s="\u9650",s+=(0,l.g)(d),u=(0,l.g)(d),s+="\u4e58\u5ba2\u9884\u8ba2"),(a||c)&&(f=a&&i.R.clone(_(a)),p=c&&i.R.clone(_(c)),a&&!c?(s="\u9650 \u7537\u6027",s+=(0,l.g)(f),s+="\uff0c\u5973\u6027\u6240\u6709\u5e74\u9f84 \u4e58\u5ba2\u9884\u8ba2",u="\u7537\uff1a"+(0,l.g)(f)+"\u6216\u5973\uff1a\u6240\u6709\u5e74\u9f84"):!a&&c?(s="\u9650 \u7537\u6027\u6240\u6709\u5e74\u9f84\uff0c\u5973\u6027",s+=(0,l.g)(p),s+=" \u4e58\u5ba2\u9884\u8ba2",u="\u7537\uff1a\u6240\u6709\u5e74\u9f84\u6216\u5973\uff1a"+(0,l.g)(p)):a&&c&&(s="\u9650 \u7537\u6027",s+=(0,l.g)(f),s+="\uff0c\u5973\u6027",s+=(0,l.g)(p),s+=" \u4e58\u5ba2\u9884\u8ba2",u="\u7537\uff1a"+(0,l.g)(f)+"\u6216\u5973\uff1a"+(0,l.g)(p))),{limits:{all:d,male:f,female:p},errorText:s,leastOneText:u,leastOne:1===(null===e||void 0===e?void 0:e.ageLimitType)}}},86252:function(e,t,n){"use strict";n.d(t,{Cd:function(){return N},$Q:function(){return x},__:function(){return b},Uq:function(){return w},rs:function(){return C},al:function(){return T},Ic:function(){return _}});var r=n(298),i=n(62171),o=n(90201),a=n(71515),c=n(67347),s=n(43752),u=n(51482),l=n(69905),d=n(30948),f=n(36903),p={"confirm-passenger":"SavePassenger-module_pHmz3","passenger-info":"SavePassenger-module_z1aKY",title:"SavePassenger-module_KDphw","view-title":"SavePassenger-module_iwXbY","minor-title":"SavePassenger-module_Ikkc6","sub-title":"SavePassenger-module_vLAed","info-item":"SavePassenger-module_HrHDK","item-field":"SavePassenger-module_VRPUE","item-content":"SavePassenger-module_qw9tL",strong:"SavePassenger-module_WoWIC","btn-wrap":"SavePassenger-module_w4g2K","left-btn":"SavePassenger-module_Sb0Gp","right-btn":"SavePassenger-module_xwyiX"},m=n(2269),h=function(e){var t=e.selectedPassenger,n=e.isChild,r=e.minorProtectInfo,o=e.onConfirmSavePassenger,c=e.onClosePopup,s=t.document,u=t.name,l=t.birth,d=t.region,h=s&&"PASSPORT"===s.type;return(0,m.jsxs)(a.View,{className:p["confirm-passenger"],children:[n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.View,{className:p["view-title"],children:(0,m.jsx)(a.View,{className:p["minor-title"],children:r&&r.split("|")[0]})}),(0,m.jsxs)(a.View,{className:p["sub-title"],children:[r&&r.split("|")[1],(0,m.jsx)(a.Text,{className:p.strong,children:r&&r.split("|")[2]})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.View,{className:p.title,children:"\u8bf7\u786e\u8ba4\u4e58\u673a\u4eba\u4fe1\u606f"}),(0,m.jsxs)(a.View,{className:p["sub-title"],children:[(0,m.jsx)(a.Text,{className:p.strong,children:"\u59d3\u540d\u3001\u8bc1\u4ef6\u53f7\u9519\u8bef\u53ef\u80fd\u65e0\u6cd5\u767b\u673a"}),"\uff0c\u8bf7\u60a8\u4ed4\u7ec6\u6838\u5bf9\uff0c\u786e\u4fdd\u4e0e\u4e58\u673a\u8bc1\u4ef6\u4e00\u81f4"]})]}),(0,m.jsxs)(a.View,{className:p["passenger-info"],children:[u.chineseName&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsx)(a.View,{className:p["item-field"],children:"\u59d3\u540d"}),(0,m.jsx)(a.View,{className:(0,i.classnames)(p["item-content"],p.strong),children:u.chineseName})]}),u.surName&&u.givenName&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsxs)(a.View,{className:p["item-field"],children:[(0,m.jsx)(a.View,{children:"\u59d3(\u62fc\u97f3)"}),(0,m.jsx)(a.Text,{children:"Surname"})]}),(0,m.jsx)(a.View,{className:(0,i.classnames)(p["item-content"],p.strong),children:u.surName})]}),u.surName&&u.givenName&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsxs)(a.View,{className:p["item-field"],children:[(0,m.jsx)(a.View,{children:"\u540d(\u62fc\u97f3)"}),(0,m.jsx)(a.Text,{children:"Given name"})]}),(0,m.jsx)(a.View,{className:(0,i.classnames)(p["item-content"],p.strong),children:u.givenName})]}),s&&s.name&&s.no&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsx)(a.View,{className:p["item-field"],children:s.name}),(0,m.jsx)(a.View,{className:(0,i.classnames)(p["item-content"],p.strong),children:s.no})]}),l&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsx)(a.View,{className:p["item-field"],children:"\u51fa\u751f\u65e5\u671f"}),(0,m.jsx)(a.View,{className:p["item-content"],children:l})]}),h&&(null===d||void 0===d?void 0:d.name)&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsx)(a.View,{className:p["item-field"],children:"\u56fd\u7c4d"}),(0,m.jsx)(a.View,{className:p["item-content"],children:null===d||void 0===d?void 0:d.name})]})]}),(0,m.jsxs)(a.View,{className:p["btn-wrap"],children:[(0,m.jsx)(f.z,{type:"primary",className:p["left-btn"],onClick:(0,i.trackFn)("onClosePopup--6d411",c),ubtValue:"SavePassengerConfirm-\u4fee\u6539",children:n?"\u6682\u4e0d\u4fdd\u5b58":"\u53bb\u4fee\u6539"}),(0,m.jsx)(f.z,{type:"blue",className:p["right-btn"],onClick:(0,i.trackFn)("onClick--ef009",(function(){return o()})),ubtValue:"SavePassengerConfirm-\u786e\u8ba4",children:n?"\u786e\u8ba4\u5e76\u4fdd\u5b58":"\u786e\u8ba4\u65e0\u8bef"})]})]})},v=n(63871),g=function(e){var t=e.selectedPassenger,n=e.errorResultCode,r=e.errorMessage,c=e.onClosePopupWithPsgErrMsg,u=e.onConfirmSavePsgWithErrMsg,l=t.document,d=t.name,h=t.region,g=l&&"PASSPORT"===l.type,y=(0,v.hk)(3,0),x=(0,o.useMemo)((function(){return"x"!==n||y<=0?{disable:!1,content:"\u786e\u8ba4\u65e0\u8bef"}:{disable:!0,content:"\u786e\u8ba4\u65e0\u8bef (".concat(y,"s)")}}),[n,y]),_=(0,o.useMemo)((function(){return{surName:d.surName,givenName:d.givenName,name:d.chineseName,card:l&&l.no,resultCode:n}}),[l,n,d.chineseName,d.givenName,d.surName]);(0,o.useEffect)((function(){(0,s.$J)("s_confirm_passenger_inf_popup",_)}),[_]);var N=(0,o.useCallback)((function(){x.disable||(u(),(0,s.jq)("c_passenger_inf_popup_confirm",_))}),[x.disable,_,u]),b=(0,o.useCallback)((function(){c(),(0,s.jq)("c_passenger_inf_popup_change",_)}),[_,c]);return(0,m.jsxs)(a.View,{className:p["confirm-passenger"],children:[(0,m.jsx)(a.View,{className:p.title,children:r}),(0,m.jsxs)(a.View,{className:p["passenger-info"],children:[d.chineseName&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsx)(a.View,{className:p["item-field"],children:"\u59d3\u540d"}),(0,m.jsx)(a.View,{className:(0,i.classnames)(p["item-content"],p.strong),children:d.chineseName})]}),!d.name&&d.surName&&d.givenName&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsx)(a.View,{className:p["item-field"],children:"\u59d3\u540d"}),(0,m.jsxs)(a.View,{className:(0,i.classnames)(p["item-content"],p.strong),children:[d.surName,"/",d.givenName]})]}),l&&l.name&&l.no&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsx)(a.View,{className:p["item-field"],children:l.name}),(0,m.jsx)(a.View,{className:(0,i.classnames)(p["item-content"],p.strong),children:l.no})]}),g&&(null===h||void 0===h?void 0:h.name)&&(0,m.jsxs)(a.View,{className:p["info-item"],children:[(0,m.jsx)(a.View,{className:p["item-field"],children:"\u56fd\u7c4d"}),(0,m.jsx)(a.View,{className:p["item-content"],children:null===h||void 0===h?void 0:h.name})]})]}),(0,m.jsxs)(a.View,{className:p["btn-wrap"],children:[(0,m.jsx)(f.z,{className:p["left-btn"],type:"blue",disable:x.disable,onClick:(0,i.trackFn)("onConfirmSave--1b840",N),ubtValue:"SavePassengerError-confirm",children:x.content}),(0,m.jsx)(f.z,{className:p["right-btn"],type:"primary",onClick:(0,i.trackFn)("onClosePopup--2dd22",b),ubtValue:"SavePassengerError-modify",children:"\u53bb\u4fee\u6539"})]})]})},y={"homophone-pop":"passengerUtils-module_jPDTy","student-title":"passengerUtils-module_tu5EI","students-certification-modal":"passengerUtils-module_Q_CAv","normal-modal":"passengerUtils-module_svHHK","normal-modal-title":"passengerUtils-module_ucit3",realNameTip:"passengerUtils-module_kDAa4","realNameTip-title":"passengerUtils-module_SSBgI","realNameTip-content":"passengerUtils-module_OEYKN","realNameTip-btn":"passengerUtils-module_wQ6vG"},x=function(e){(0,s.$J)("students_certification_popup",{fromType:e});var t="\u901a\u8fc7\u5927\u5b66\u751f\u8ba4\u8bc1\u540e\u53ef\u9884\u8ba2\u6b64\u4ef7\u683c";return 3===e&&(t="\u9700\u6ee1\u8db3\u6240\u6709\u4e58\u5ba2\u901a\u8fc7\u5927\u5b66\u751f\u8ba4\u8bc1\u624d\u53ef\u9884\u8ba2\u6b64\u4ef7\u683c"),(0,c.K4)({mask:{enableClose:!0},closeMethod:"close",content:(0,m.jsx)(a.View,{className:y["student-title"],children:t}),animationClassName:"animate__animated animate__zoomIn animate__faster",style:{width:"80vw",bottom:0,top:0,left:0,right:0,padding:0},className:y["students-certification-modal"],buttons:[{text:"\u6682\u4e0d\u8ba4\u8bc1",class:"default",callback:function(){(0,s.jq)("students certification popup, no certification")}},{text:"\u53bb\u8ba4\u8bc1",class:"primary",callback:function(){(0,s.jq)("students certification popup, go to certification"),(0,d._)()}}]}),!0},_=function(e){(0,c.K4)({closeMethod:"close",content:(0,m.jsx)(a.View,{className:y["homophone-pop"],children:e}),animationClassName:"animate__animated animate__zoomIn animate__faster",buttons:[{text:"\u77e5\u9053\u4e86",class:"primary",callback:function(){}}]})},N=function(e){(0,s.$J)(e.speedValue),(0,c.K4)({mask:{enableClose:!0},title:e.title,content:(0,m.jsx)(a.View,{className:y["normal-modal-title"],dangerouslySetInnerHTML:{__html:e.content}}),buttons:[{text:"\u67e5\u770b\u5176\u4ed6\u4ef7\u683c",class:"default",callback:function(){(0,s.jq)(e.speedLeft),(0,l.k5)()}},{text:"\u8fd4\u56de\u6dfb\u52a0\u4e58\u5ba2",class:"primary",callback:function(){(0,s.jq)(e.speedRight)}}],className:y["normal-modal"],animationClassName:"animate__animated animate__zoomIn animate__faster",style:{width:"80vw",bottom:0,top:0,left:0,right:0,padding:0}})},b=function(e,t){var n=e||{},r=n.searchChild,i=void 0===r?0:r,o=n.searchBaby,s=void 0===o?0:o,l=t.ADULT,d=void 0===l?1:l,f=t.CHILD,p=void 0===f?0:f,h=t.INFANT,v=void 0===h?0:h,g=[],x="\u5f53\u524d\u4ef7\u683c\u4ec5\u9650\u4e8e";g.push("\u6210\u4eba"),i>0&&g.push("\u513f\u7ae5"),s>0&&g.push("\u5a74\u513f"),x+=g.join("+")+"\u9884\u8ba2, \u662f\u5426\u8981\u91cd\u65b0\u67e5\u8be2",g.splice(0),g.push(d+"\u6210\u4eba"),p>0&&g.push(p+"\u513f\u7ae5"),v>0&&g.push(v+"\u5a74\u513f"),x+=g.join("+")+"\u7684\u4ef7\u683c\uff1f",(0,c.K4)({mask:{enableClose:!0},title:"\u9884\u8ba2\u9650\u5236",content:(0,m.jsx)(a.View,{className:y["normal-modal-title"],children:x}),buttons:[{text:"\u91cd\u65b0\u67e5\u8be2",class:"default",callback:function(){u.pW.jump({type:"reLaunch"})}},{text:"\u4fee\u6539\u4e58\u5ba2",class:"primary"}],className:y["normal-modal"],animationClassName:"animate__animated animate__zoomIn animate__faster",style:{width:"80vw",bottom:0,top:0,left:0,right:0,padding:0}})},T=function(e){var t=e.btnText,n=e.title,r=e.content,o=e.realCheckError,u=e.realNamePassenger,l=e.onEditPassenger,d=e.goToRealName,f=(0,c.K4)({content:(0,m.jsxs)(a.View,{className:y.realNameTip,children:[(0,m.jsx)(a.View,{className:y["realNameTip-title"],children:n}),(0,m.jsx)(a.View,{className:y["realNameTip-content"],children:r}),(0,m.jsx)(a.View,{className:y["realNameTip-btn"],onClick:(0,i.trackFn)("onClick--f6029",(function(){(0,c.Mr)(f),4===o&&((0,s.jq)("\u53bb\u652f\u4ed8\u6d6e\u5c42\u586b\u5199\u624b\u673a\u53f7"),l(!1,u)),1===o&&((0,s.jq)("\u53bb\u652f\u4ed8\u6d6e\u5c42\u5b9e\u540d\u8ba4\u8bc1\u70b9\u51fb"),d())})),children:t})]}),animationClassName:"animate__animated animate__zoomIn animate__faster",style:{width:"310px",bottom:0,top:0,left:0,right:0,padding:0}})},w=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=n?{backgroundImage:"url(https://pages.c-ctrip.com/flight_h5/swift/passenger/minorCheckBg.png)",backgroundRepeat:"no-repeat",backgroundSize:"100% 20%",backgroundPosition:"top left"}:{},a=(0,c.K4)({mask:{enableClose:!0},content:(0,m.jsx)(h,{selectedPassenger:e,isChild:n,minorProtectInfo:i,onConfirmSavePassenger:function(){t(e),(0,c.Mr)(a)},onClosePopup:function(){return(0,c.Mr)(a)}}),className:y["normal-modal"],animationClassName:"animate__animated animate__zoomIn animate__faster",style:(0,r.Z)({width:"80vw",bottom:0,top:0,left:0,right:0,padding:0},o)})},C=function(e,t,n,r,i){var o=(0,c.K4)({mask:{enableClose:!0},content:(0,m.jsx)(g,{selectedPassenger:e,errorMessage:t,errorResultCode:n,onClosePopupWithPsgErrMsg:function(){return(0,c.Mr)(o)},onConfirmSavePsgWithErrMsg:function(){(0,c.Mr)(o),(0,s.jq)("\u5e38\u65c5\u5ba2\u6821\u9a8c\u6821\u9a8c\u70b9\u51fb\u786e\u8ba4"),r({passenger:e,confirmed:!0,addChild:"agree"},i)}}),className:y["normal-modal"],animationClassName:"animate__animated animate__zoomIn animate__faster",style:{width:"80vw",bottom:0,top:0,left:0,right:0,padding:0}})}},44720:function(e,t,n){"use strict";n.d(t,{ZP:function(){return ye},Lj:function(){return F},gs:function(){return M},s7:function(){return O},ot:function(){return q},Ec:function(){return L},Nb:function(){return D},xt:function(){return G},GQ:function(){return X},t6:function(){return U},C3:function(){return V},W9:function(){return B},e_:function(){return Z},OI:function(){return K},_E:function(){return _},Ck:function(){return b}});var r=n(62171),i=n(298),o=n(90201),a=n(55172),c=n(92954),s=n(60175),u=n(17311),l=n(99065),d=n(51482),f=n(16654),p=n(10073),m=p.Z.injectEndpoints({endpoints:function(e){return{getInterFlightDetail:e.query({query:function(e){return{url:"/14780/detailSearchForH5",queryObject:{subEnv:"fat128"},cver:"856.002",queryParams:e}},transformResponse:function(e){return e}})}}}),h=m.useGetInterFlightDetailQuery,v=(m.endpoints,m.usePrefetch,{}),g=(0,r.createSlice)({name:"flightDetailStore",initialState:v,reducers:{setFlightDetailAction:function(e,t){var n=t.payload;e.flightDetail=n},setFlightDetailPolicyAction:function(e,t){var n=t.payload;e.flightDetail&&(e.flightDetail.policy=n)},setInterFlightDetailAction:function(e,t){var n=t.payload;e.interFlightDetail=n}}}),y=g.actions,x=y.setFlightDetailAction,_=y.setFlightDetailPolicyAction,N=y.setInterFlightDetailAction,b=r.useSelector,T=g,w=n(13374),C=n(22276),I=n(32620),E=n(30847),S=n(20092),j=function(e){var t=[];return null===e||void 0===e||e.forEach((function(e){var n=e.segments,r=void 0===n?[]:n;r.forEach((function(e){var n=e.airlineCode;t.push(n)}))})),(0,C.Z)(new Set(t))},k=["","ADULT","CHILD","INFANT"],A=function(e,t){var n,o=e||{},a=o.segs,c=void 0===a?[]:a,s=o.pols,u=o.prdid,l=o.notes,d=o.chkno,f=o.actionset,p=o.flagmap,m=void 0===p?0:p,h=o.urinfo,v=o.extflag,g=o.notiInfo,y=[],x={bundleCouponAmount:0,discountAmount:0,discountShowType:"",flightPsgRegisterSettings:[],lockPricePassengerList:[],policyNoteList:[],productTypes:[],registerMemberTypes:["NONE","NONE"],specialPrices:{},ticketCount:0,totalPrices:{ADULT:void 0,CHILD:void 0,INFANT:void 0,CHILD_BOOK_ADULT:void 0,INFANT_BOOK_ADULT:void 0,INFANT_BOOK_CHILD:void 0},totalTaxes:{ADULT:void 0,CHILD:void 0,INFANT:void 0,CHILD_BOOK_ADULT:void 0,INFANT_BOOK_ADULT:void 0,INFANT_BOOK_CHILD:void 0},totalTicket:{ADULT:void 0,CHILD:void 0,INFANT:void 0,CHILD_BOOK_ADULT:void 0,INFANT_BOOK_ADULT:void 0,INFANT_BOOK_CHILD:void 0},supportChild:!1,supportBaby:!1};null===c||void 0===c||c.forEach((function(e,t){var n=e.flgs,i=void 0===n?[]:n,o=e.seginfo,a={date:"",duration:(0,I.xF)(o.durtion),segments:[],virtualServices:{},transitDurationV2:[]},c=[],s=[];i.forEach((function(e,n){var o=e.flgidx,u=e.dateinfo,l=e.basinfo,d=e.aportinfo,f=e.craftinfo,p=e.dportinfo,m=e.stopinfo;if(1===o&&(a.date=u.ddate.slice(5,10)),1!==o){var h,v=(0,I.b6)(null===u||void 0===u?void 0:u.ddate,null===(h=i[n-1])||void 0===h||null===(h=h.dateinfo)||void 0===h?void 0:h.adate)||"",g=(v.hours?"".concat(v.hours,"h"):"")+(v.minutes?"".concat(v.minutes,"m"):"");s.push(g)}var y=(null===m||void 0===m?void 0:m.citys)||[];c.push({airline:l.airsname+l.flgno,airlineCode:l.aircode,airlineName:l.airsname,flgno:l.flgno,arrivalCountryId:d.countryId,arrivalAirportCode:d.aport,arrivalCityCode:d.city,arrivalCityId:d.cityid,arrivalCityName:d.cityname,arrivalName:d.aportsname+"\u673a\u573a"+d.bsname,arrivalTime:u.adate.slice(-8,-3),arriveDateTime:u.adate,craft:f.craft+"("+f.kind+")",crossDays:u.dcnt,date:u.ddate.slice(5,10)+" \u5468"+"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".charAt((0,r.dayjs)(u.ddate).day()),departDateTime:u.ddate,departureCountryId:p.countryId,departureAirportCode:p.aport,departureCityCode:p.city,departureCityId:p.cityid,departureCityName:p.cityname,departureName:p.aportsname+"\u673a\u573a"+p.bsname,departureTime:u.ddate.slice(-8,-3),flyMan:0,shareAirline:l.crerairsname+l.crerflgno,shareAirlineCode:l.creraircode,shareAirlineName:l.crerairsname,shareFlightNo:l.crerflgno,stopInfoList:y.map((function(e){return{airportShortName:e.aport,cityName:e.cityname,stopCostTime:(0,I.xF)(e.stoptime)}})),stops:y.map((function(e){return e.cityname})),puIndex:l.puIdx,engineType:l.engine,reservationType:l.reservation,journeyNo:t+1,segmentNo:n+1})})),a.segments=c,a.transitDurationV2=s,y.push(a)}));var _=null===s||void 0===s?void 0:s[0],N=_||{},b=N.prices,T=void 0===b?[]:b,w=N.salepolinfo,C=N.acardlst,j=N.polid,A=N.pnlst,P=N.grades,R=w||{},O=R.spnlst,D=void 0===O?[]:O,L=R.agelimit,V=void 0===L?[]:L,Z=R.flag,M=void 0===Z?0:Z,F=r.R.clone(T);x.ticketCount=null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n.quantity;var B=t.ADULT,U=t.CHILD,q=t.INFANT,H=!0,G=!1,Y=(0,E.l)(D,S.Fx.ChildUpBook);Y&&(H="1"===Y);var K=(0,E.l)(D,S.Fx.BabyUpBook);K&&(G="1"===K),F.forEach((function(e){var t=e.psgtype;switch(t){case 1:e.appchild=H,e.appbaby=G;break;case 2:e.appchild=!0,e.appbaby=G;break;case 3:e.appchild=!1,e.appbaby=!0;break;default:break}})),F.forEach((function(e){x.totalPrices[k[e.psgtype]]=e.price,x.totalTaxes[k[e.psgtype]]=e.tax,1===e.psgtype&&e.appchild&&(e.appchild&&(x.totalPrices["CHILD_BOOK_ADULT"]=e.price,x.totalTaxes["CHILD_BOOK_ADULT"]=e.tax),e.appbaby&&(x.totalPrices["INFANT_BOOK_ADULT"]=e.price,x.totalTaxes["INFANT_BOOK_ADULT"]=e.tax)),2===e.psgtype&&e.appbaby&&(x.totalPrices["INFANT_BOOK_CHILD"]=e.price,x.totalTaxes["INFANT_BOOK_CHILD"]=e.tax)}));var W=V.map((function(e){return{ttype:null===e||void 0===e?void 0:e.ttype,minAge:(null===e||void 0===e?void 0:e.min)||0,maxAge:(null===e||void 0===e?void 0:e.max)<0?999:null===e||void 0===e?void 0:e.max}})),z=(0,E.l)(D,S.Fx.MinCount),Q=(0,E.l)(D,S.Fx.MaxCount),$=(0,E.l)(D,S.Fx.NationalityAllowed),X=(0,E.l)(D,S.Fx.NationalityDisAllowed),J=(0,E.l)(D,S.Fx.SupportIDCardTypeString),ee={adultAgeLimits:W.filter((function(e){return 1===e.ttype})),childAgeLimits:W.filter((function(e){return 2===e.ttype})),babyAgeLimits:W.filter((function(e){return 3===e.ttype})),minPassengerNum:Number(z||0),maxPassengerNum:Number(Q||99),phoneLimit:16===(16&m),canChangePassenger:64===(64&M),nationalityAllowed:$,nationalityDisAllowed:X,supportIDCardTypeString:J},te=F.some((function(e){return e.appchild})),ne=F.some((function(e){return e.appbaby}));return x=(0,i.Z)((0,i.Z)({},x),{},{prdid:u,polid:j,price:F,restriction:ee,supportChild:te,supportBaby:ne,acardlst:C,psgType:{searchAdult:B,searchChild:U,searchBaby:q},notes:l,flagmap:m,urinfo:h,extflag:v,salepolinfo:w,grades:P}),(0,i.Z)((0,i.Z)({},e),{},{segs:c,sections:y,policy:x,chkno:d,actionset:f,pnlst:A,notiInfo:g})},P=n(14828),R=function(e){return e.flightDetailStore},O=(0,r.createSelector)([R],(function(e){return null===e||void 0===e?void 0:e.flightDetail})),D=(0,r.createSelector)([O],(function(e){return null===e||void 0===e?void 0:e.policy})),L=(0,r.createSelector)([O],(function(e){var t,n,r=e||{},i=r.sections,o=void 0===i?[]:i,a=null===o||void 0===o?void 0:o.length,c=a&&(null===(t=o[a-1])||void 0===t||null===(t=t.segments)||void 0===t?void 0:t.length),s=null===(n=o[a-1])||void 0===n||null===(n=n.segments[c-1])||void 0===n?void 0:n.departDateTime;return s})),V=(0,r.createSelector)([O],(function(e){return null===e||void 0===e?void 0:e.sections})),Z=(0,r.createSelector)([V],(function(e){var t=null===e||void 0===e?void 0:e.length;if(t){if(t>2)return P.X9.MULTIPLE_TRIP;if(2===t)return P.X9.ROUND_TRIP}return P.X9.ONE_WAY})),M=(0,r.createSelector)([V],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.R.pathOr("",[0,"segments",0,"departureCityName"],e)})),F=(0,r.createSelector)([V],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.R.pathOr("",[0,"segments",-1,"arrivalCityName"],e)})),B=((0,r.createSelector)([V],(function(e){return j(e)})),(0,r.createSelector)([D],(function(e){return null===e||void 0===e?void 0:e.totalPrices}))),U=(0,r.createSelector)([D],(function(e){return null===e||void 0===e?void 0:e.salepolinfo})),q=(0,r.createSelector)([D],(function(e){return null===e||void 0===e?void 0:e.flightPsgRegisterSettings})),H=((0,r.createSelector)([O],(function(e){return null===e||void 0===e?void 0:e.noteList})),(0,r.createSelector)([D],(function(e){return r.R.find(r.R.propEq("type",w.NF.RealNameTip),(null===e||void 0===e?void 0:e.policyNoteList)||[])}))),G=(0,r.createSelector)([D],(function(e){return r.R.flatten((null===e||void 0===e?void 0:e.productTypes)||[])})),Y=((0,r.createSelector)([G,H],(function(e,t){if(e.indexOf("LIMITED_REAL_NAME_REGISTER_PRODUCT")>-1){var n,r=null===t||void 0===t||null===(n=t.extendNoteEntityList)||void 0===n?void 0:n.find((function(e){return 0===e.type}));return"REAL_NAME_REGISTER_ONLY"===(null===r||void 0===r?void 0:r.content)?2:1}return 0})),(0,r.createSelector)([R],(function(e){return null===e||void 0===e?void 0:e.interFlightDetail}))),K=(0,r.createSelector)([Y],(function(e){return r.R.pipe(r.R.find(r.R.propEq("ncate",300)),r.R.defaultTo({}),r.R.propOr([],"detaillst"),r.R.find(r.R.propEq("notetype",1)),r.R.defaultTo({}),r.R.propOr("","notetit"))((null===e||void 0===e?void 0:e.notes)||[])})),W=(0,r.createSelector)([Y],(function(e){try{return JSON.parse((null===e||void 0===e?void 0:e.prdid)||"")}catch(e){return{}}})),z=((0,r.createSelector)([W],r.R.path(["PolicyIdModel","RouteSearchToken"])),131072),Q=1;function $(e){var t="NONE",n="",r=e||{},i=r.flagmap,o=void 0===i?0:i,a=r.extflag,c=void 0===a?0:a;return(o&z)===z&&(t="CONTRACT",n="\u6625\u79cb"),(c&Q)===Q&&(t="CONTRACT",n="\u5ddd\u822a"),{registerMemberType:t,airlineName:n}}var X=(0,r.createSelector)([D],(function(e){return $(e)})),J=n(45023),ee=n(71515),te=n(43752),ne=n(69905),re=n(16921),ie=n(67347),oe={"modal-content":"showOverseasStudentModal-module_FCxnG","text-box":"showOverseasStudentModal-module_PCBXX",hightLight:"showOverseasStudentModal-module_Rs8gE",bold:"showOverseasStudentModal-module_MZ9xj"},ae=n(2269),ce=function(e){var t=e.message,n=e.topBtnName,i=e.bottomBtnName;(0,te.jq)("show-overseas-student-modal",{desc:"\u7559\u5b66\u751f\u5f39\u7a97",message:t,topBtnName:n,bottomBtnName:i});var o=(0,re.i9)(t);(0,ie.K4)({mask:{enableClose:!1},title:"\u4ec5\u9650\u7559\u5b66\u751f\u9884\u8ba2",content:(0,ae.jsx)(ee.View,{className:oe["modal-content"],children:o.map((function(e,t){var n=e.text,i=e.hightLight,o=e.bold;return(0,ae.jsx)(ee.View,{className:(0,r.classnames)(oe["text-box"],(0,J.Z)((0,J.Z)({},oe.hightLight,i),oe.bold,o)),children:n},t)}))}),buttons:[{text:n||"\u7b26\u5408\u6761\u4ef6\uff0c\u7ee7\u7eed\u9884\u8ba2",class:"primary",callback:function(){(0,te.jq)("overseas-student-modal-accept",{desc:"\u7559\u5b66\u751f\uff0c\u7ee7\u7eed\u9884\u8ba2"})}},{text:i||"\u9009\u62e9\u5176\u5b83\u4ef7\u683c",class:"default",callback:function(){(0,te.jq)("overseas-student-modal-refuse",{desc:"\u7559\u5b66\u751f\uff0c\u9009\u62e9\u5176\u4ed6\u4ef7\u683c"}),(0,ne.k5)()}}],className:oe["column-modal"],animationClassName:"animate__animated animate__slideInUp animate__faster",style:{width:"80vw",bottom:0,top:0,left:0,right:0,padding:0},btnDirection:"column"})},se=ce,ue=4;function le(e,t){var n=t||{},r=n.actionset,i=void 0===r?[]:r,a=(0,o.useMemo)((function(){return i.find((function(e){return e.tptype===ue}))}),[i]),c=(0,o.useMemo)((function(){var e=a||{},t=e.amsg,n=e.btinfo,r=void 0===n?[]:n,i=r.find((function(e){return 1===e.btdir})),o=r.find((function(e){return 5===e.btdir}));return{message:t,topBtnName:null===i||void 0===i?void 0:i.btname,bottomBtnName:null===o||void 0===o?void 0:o.btname}}),[a]),s=c.message,u=c.topBtnName,l=c.bottomBtnName;(0,o.useEffect)((function(){e||s&&u&&l&&se({message:s,topBtnName:u,bottomBtnName:l})}),[e,s,u,l])}var de=function(e){var t=e.messageToken,n=e.passengerType,r=e.policyId,i=n||{},o=i.ADULT,a=void 0===o?1:o,c=i.CHILD,s=void 0===c?0:c,u=i.INFANT,l=void 0===u?0:u,d=[a,s,l].join("|"),f=[{paramkey:2,paramvalue:d},{paramkey:3,paramvalue:"T"},{paramkey:14,paramvalue:decodeURIComponent(r)},{paramkey:15,paramvalue:t}];return{params:f,flagmap:7}},fe=function(e){var t,n=e.children,a=e.flightDetail,p=e.interFlightDetail,m=e.setFlightDetail,v=e.setInterFlightDetail,g=(0,c.useRouter)(),y=g.params,x=y.messageToken,_=y.policyId,N=Number(y.adult||"1"),b=Number(y.child||"0"),T=Number(y.baby||"0"),w=de({messageToken:x,passengerType:{ADULT:N,CHILD:b,INFANT:T},policyId:_}),C=3,I=3e3,E=h((0,i.Z)((0,i.Z)({},w),{},{extension:[]})),S=E.data,j=E.isFetching,k=E.refetch,P=(0,o.useMemo)((function(){if(null!==S&&void 0!==S&&S.clrlist){var e,t=null===(e=S.clrlist)||void 0===e||null===(e=e.find((function(e){return"*"===e.nat})))||void 0===e?void 0:e.cldrlist,n=JSON.stringify(t);return(0,i.Z)((0,i.Z)({},S),{},{clrlist:n})}return S}),[S]);(0,o.useEffect)((function(){return m(A(P,{ADULT:N,CHILD:b,INFANT:T})),function(){m(void 0)}}),[N,T,b,P,m]),(0,o.useEffect)((function(){return v(P),function(){v(void 0)}}),[P,v]),le(j,p),(0,o.useEffect)((function(){if(!j&&a){var e,t,n=null===a||void 0===a||null===(e=a.sections)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.segments)||void 0===e?void 0:e.length,i=n&&n>1,o=(null===a||void 0===a||null===(t=a.sections)||void 0===t?void 0:t.length)>1;s.ZP.emit(s.uk,r.R.path(["INTERNATIONAL",o?"ROUND_TRIP":i?"TRANSIT":"ONE_WAY"],u.bZ))}}),[j,a]);var R=(0,o.useCallback)((function(e,t){t>C||l.KJ.promise((0,i.Z)((0,i.Z)({},e),{},{index:t})).then((function(n){var r=n.result,i=n.flag;1!==r?2!==(2&i)&&setTimeout((function(){R(e,t+1)}),t===C-1?0:I):(0,f.S)({catchJump:function(){return d.pW.jump({type:"reLaunch"})}})})).catch((function(){setTimeout((function(){R(e,t+1)}),I)}))}),[C]);return(0,o.useEffect)((function(){if(!j&&a&&p){var e=a.policy,t=a.sections,n=(null===t||void 0===t?void 0:t.length)>1,r=p.chkno,i=e||{},o=i.prdid,c=i.polid,s=i.psgType,u=void 0===s?{}:s,l=u.searchAdult,d=u.searchChild,f=u.searchBaby,m={serviceVersion:0,orderID:0,productID:o,policyID:c,packageExtendParams:"",checkNo:r,checkType:1,extendInfor:"",passengerList:[{passengerType:1,passengerCount:l},{passengerType:2,passengerCount:d},{passengerType:3,passengerCount:f}],tripType:n?2:1};o&&c&&R(m,1)}}),[j,R,a,p]),j||null!==P&&void 0!==P&&null!==(t=P.segs)&&void 0!==t&&t.length||a&&a.sections&&a.sections.length&&a.policy?n({loadingFlight:j,detail:a,refetch:k}):((0,f.S)({catchJump:function(){return d.pW.jump({type:"reLaunch"})}}),null)},pe=function(e){return{flightDetail:O(e),interFlightDetail:Y(e)}},me=function(e){return{setFlightDetail:function(t){return e(x(t))},setInterFlightDetail:function(t){return e(N(t))}}},he=(0,r.connect)(pe,me),ve=(0,a.Z)({key:T.name,reducer:T.reducer}),ge=(0,r.compose)(ve,he)((0,o.memo)(fe)),ye=ge},22722:function(e,t,n){"use strict";var r=n(45023),i=(n(62171),function(){function e(){return{onSwitchPopup:function(e,t){var n="string"===typeof e?e:e.dataset.name;t.setData?t.setData((0,r.Z)({},"popup."+n,!t.data.popup[e.dataset.name])):t.setState({popup:Object.assign(t.state.popup,(0,r.Z)({},n,!t.state.popup[n]))})},onOpenPopup:function(e,t){var n="string"===typeof e?e:e.dataset.name;t.setData?t.setData((0,r.Z)({},"popup."+n,!0)):t.setState({popup:Object.assign(t.state.popup,(0,r.Z)({},n,!0))})},onClosePopup:function(e,t){var n="string"===typeof e?e:e.dataset.name;t.setData?t.setData((0,r.Z)({},"popup."+n,!1)):t.setState({popup:Object.assign(t.state.popup,(0,r.Z)({},n,!1))})}}}return{getInstance:function(){return e()}}}()),o=i.getInstance();t["Z"]=o},16304:function(e,t,n){"use strict";n.d(t,{TC:function(){return u},n:function(){return r.navigateBack},Iy:function(){return i.Iy}});n(62171);var r=n(95333),i=n(53409),o=n(79301),a=n(95308),c=n(16248),s=n(10546),u=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,n){var r,i,a,u;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=!1,i=t.data||{},a=i.needLogin,u=(null===t||void 0===t?void 0:t.url)||"",!a){e.next=14;break}return e.prev=4,e.next=7,(0,c.Zw)();case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e["catch"](4),r=!0,e.next=14,(0,c.fN)(u);case 14:return s.ZP.addInfo({hasLogin:!r}),e.next=17,n();case 17:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}()},61382:function(e,t,n){"use strict";var r=n(68277),i=n(93212),o=n(298),a=n(57042),c=n(24460),s=n(45023),u=n(62171),l=n(90201),d=n(47130),f=n(17745),p=n(96756),m=n(67347),h=n(52296),v=n(80425),g=n(95333),y=n(25651),x=n(32180)["window"],_=["type","isLayer","targetEnv1","comp","params"],N="weapp"===y.t.h5,b=function(e){var t=v.Xl.find((function(t){return t.name===e}));if(!t)throw new Error("\u8def\u7531config\u914d\u7f6e\u4e0d\u6b63\u786e");return t},T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,a.Z)(this,e),(0,s.Z)(this,"config",void 0),(0,s.Z)(this,"targetEnv",void 0),(0,s.Z)(this,"option",void 0),(0,s.Z)(this,"params",void 0),this.option=(0,o.Z)({prefix:"/pages/flight",type:y.F.navigateTo},n),this.params=r,this.config="string"===typeof t?b(t):t,this.targetEnv=this.getTargetEnv()}return(0,c.Z)(e,[{key:"getTargetEnv",value:function(){var e,t=(null===(e=this.config)||void 0===e?void 0:e.target)||{},n=t.mini,r=void 0===n?y.t.mini:n,i=t.h5,o=void 0===i?y.t.taroH5:i;return N?o:r}},{key:"getTargetUrl",value:function(e){var t=this.targetEnv;if(N&&this.targetEnv===y.t.taroH5&&(t=y.t.mini),this.config){var n=this.config[t];return u.R.is(Array,n)?u.R.head(n):u.R.is(Function,n)?n(e):n}}},{key:"getTaroH5Url",value:function(){var e="";if(this.config){var t=this.config["taroH5"];u.R.is(Array,t)&&(e=u.R.head(t)||""),u.R.is(String,t)&&(e=t)}return v.AA.taroH5[(0,d.i)()]+e}},{key:"jumpTaroH5",value:function(e,t){var n=(0,d.i)(),r=v.AA.taroH5[n]+this.getTargetUrl(e);(0,f.G)(r,(0,o.Z)({query:e},t))}},{key:"jumpH5",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.config||{},c=a.needLogin,s=void 0!==c&&c,u=this.getTargetUrl(n),l=u;u&&"object"===(0,i.Z)(u)&&(l=u.url,e=u.query,t=u.opt),(0,f.G)(l,(0,o.Z)((0,o.Z)({query:(0,o.Z)((0,o.Z)({},e),n),needLogin:s},t),r))}},{key:"jumpMini",value:function(){}},{key:"jump",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,i=t.isLayer,a=t.targetEnv1,c=t.comp,s=t.params,u=(0,r.Z)(t,_),d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=a||this.targetEnv,v=s||u,b=this.getTargetUrl(v);if(!b)return console.error("\u8def\u5f84\u4e0d\u5b58\u5728"),Promise.reject(new Error("\u8def\u5f84\u4e0d\u5b58\u5728"));var T=this.config||{},w=T.needLogin,C=void 0!==w&&w,I=n||this.option.type;if(N)if(f===y.t.mini)console.log("taro H5\u8df3\u8f6cTaro");else{if(f!==y.t.h5){if(i&&c){var E=this.option.layerId;return p.n.history.pushState(null,"","".concat(p.n.location.href,"#")),(0,m.DE)({layerId:E||this.config.name,content:function(t){return(0,h.jq)("layer_page_show",{layerId:E,params:v,props:t}),l.createElement(c,(0,o.Z)((0,o.Z)((0,o.Z)({isLayer:i},e.option),t),v))},position:"bottom"}).catch((function(){}))}return g[I]({url:b},{params:(0,o.Z)({from:"inner"},v),data:{needLogin:C},taroH5Url:this.getTaroH5Url()})}console.log("taro H5\u8df3\u8f6cH5"),this.jumpH5(v,d)}else{if(f===y.t.mini)return g[I]({url:b},{params:(0,o.Z)((0,o.Z)({from:"inner"},this.params),v),data:{needLogin:C,timestamp:x.Date.now()}});f===y.t.h5?this.jumpH5(v,d):f===y.t.taroH5&&this.jumpTaroH5(v,d)}return Promise.resolve()}}]),e}();t["Z"]=T},10975:function(e,t,n){"use strict";n.d(t,{Q:function(){return l},A:function(){return p}});var r=n(62171),i=n(298),o=n(69972),a=n(14828),c=n(9154);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){var n=e[t]||[];return n.length?t+":"+n.join(","):""})).filter(Boolean).join("|")}var u=n(51491);function l(e,t,n,l){var d=o.h.getState(),f=l||{},p=f.from,m=void 0===p?"inner":p,h=(0,i.Z)((0,i.Z)({},d),l),v=h.tripType.value,g=h.departure,y=h.arrival,x=h.interCabin,_=e===a.Og.DOMESTIC?"first"===t?g.cabin:y.cabin:x.cabin,N=g.date,b=g.cityCode,T=g.cityName,w=g.airportCode,C=y.date,I=y.cityCode,E=y.cityName,S=y.airportCode;if(b!==I||"ONE_WAY"===v)if((0,r.dayjs)(N).isBefore((0,r.dayjs)(),"day"))(0,c.w)({content:"\u51fa\u53d1\u65e5\u671f\u65e9\u4e8e\u4eca\u5929\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"});else{if("ROUND_TRIP"!==v||!(0,r.dayjs)(N).isAfter(C)){var j=s({cabin:["BUSINESS,FIRST","BUSINESS\u3001FIRST"].includes(_)?[2,3]:[],dport:w?[w]:[],aport:S?[S]:[]}),k={tripType:v,ddate:(0,r.dayjs)(N).format("YYYY-MM-DD"),adate:"ONE_WAY"===v?"":(0,r.dayjs)(C).format("YYYY-MM-DD"),dfilter:j,from:m};if("DOMESTIC"===e)return(0,i.Z)((0,i.Z)({},k),{},{dcity:b,dcityName:T,acity:I,acityName:E});var A=n||{},P=A.ADULT,R=A.CHILD,O=A.INFANT;return(0,i.Z)((0,i.Z)({},k),{},{dcode:b,acode:I,seat:u.Mk[_],adult:P,child:R,baby:O})}(0,c.w)({content:"\u53bb\u7a0b\u65e5\u671f\u665a\u4e8e\u8fd4\u7a0b\u65e5\u671f\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"})}else(0,c.w)({content:"\u51fa\u53d1\u57ce\u5e02\u548c\u5230\u8fbe\u57ce\u5e02\u76f8\u540c\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"})}var d=n(53409),f=n(51482),p=function(e){var t=e.searchKey,n=e.filterSCabin,r=e.dfilter;return f.xo.jump({type:d.F_.redirectTo,searchKey:encodeURIComponent(t),filterSCabin:n,dfilter:r})}},51482:function(e,t,n){"use strict";n.d(t,{U8:function(){return a},pW:function(){return c},gY:function(){return s},MQ:function(){return u},xo:function(){return l},iK:function(){return d},z5:function(){return f},EO:function(){return p},Qg:function(){return m},sR:function(){return h},kL:function(){return v},P6:function(){return g},F_:function(){return o.F}});n(62171);var r=n(80425),i=n(61382),o=n(25651),a=new i.Z(r.m8.BIGHOME,{prefix:"",type:o.F.switchTab}),c=new i.Z(r.m8.HOME),s=new i.Z(r.m8.FIRST),u=new i.Z(r.m8.INTER_FIRST),l=(new i.Z(r.m8.SECOND),new i.Z(r.m8.INTER_SECOND),new i.Z(r.m8.MIDDLE)),d=(new i.Z(r.m8.FlIGHT_BOOKING),new i.Z(r.m8.INTER_MIDDLE),new i.Z(r.m8.FlIGHT_INTER_BOOKING),new i.Z(r.m8.SHARE_PASSENGER_COMPLETE)),f=(new i.Z(r.m8.DATE_PICKER,{layerId:"DATE_PICKER"}),new i.Z(r.m8.CITY_PICKER,{layerId:"CITY_PICKER"}),new i.Z(r.m8.PASSENGER_LIST,{layerId:"PASSENGER_LIST"})),p=new i.Z(r.m8.PASSENGER_EDIT,{layerId:"PASSENGER_EDIT"}),m=new i.Z(r.m8.APPLICANT_LIST,{layerId:"APPLICANT_LIST"}),h=new i.Z(r.m8.APPLICANT_EDIT,{layerId:"APPLICANT_EDIT"}),v=new i.Z(r.m8.REGION_LIST,{layerId:"REGION_LIST"}),g=new i.Z(r.m8.CITY_LIST,{layerId:"CITY_LIST"})},69905:function(e,t,n){"use strict";n.d(t,{l0:function(){return c},Ss:function(){return s},z_:function(){return u},k5:function(){return l},Hm:function(){return d}});var r=n(298),i=(n(62171),n(43752)),o=n(95333),a=n(51482);function c(){(0,i.jq)("c_home"),a.U8.jump()}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.navigateBack)((0,r.Z)({catchJump:function(){return a.U8.jump()}},e))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.navigateBack)((0,r.Z)({catchJump:function(){return a.pW.jump({type:"reLaunch"})}},e))},l=u,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.navigateBack)({catchJump:function(){return a.pW.jump({type:"reLaunch"})},resolve:e,result:t})}},555:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(298),i=(n(62171),n(47130)),o=n(17745),a=n(80425);function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.Z)((0,r.Z)({},a.AA.common),{},{fat:"https://m.ctrip.fat396.qa.nt.ctripcorp.com"}),c=n[(0,i.i)()]+"/webapp/flight/orderdetail/orderdetail.html";(0,o.G)(c,{query:{oid:e},needLogin:!0,isNavigate:!t})}},4430:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});n(62171);var r=n(47130),i=n(88431),o=n(80425),a=n(61382),c=n(25651),s=new a.Z({name:o.m8.ORDER_LIST,needLogin:!0,mini:'/pages/myctrip/list/list?data={"id":"flight","biz":"Flight","name":"\u673a\u7968"}',h5:function(){var e=o.AA.common[(0,r.i)()]||o.AA.common.prd,t={biz:encodeURIComponent("Flight")};return(0,i.Ov)()&&(t.showfilter=0),(0,i.mM)()&&(t.showhead=0,t.showfilter=0),{url:"".concat(e,"/webapp/myctrip/orders/flightorderlist"),query:t}},target:{mini:c.t.mini,h5:c.t.h5}},{prefix:""})},30948:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(298),i=(n(62171),n(47130)),o=n(17745),a=n(80425);function c(){var e=(0,r.Z)((0,r.Z)({},a.AA.common),{},{fat:"https://m.ares.fws.qa.nt.ctripcorp.com"}),t=e[(0,i.i)()]+"/webapp/cw/flight/flightLayerDomWeb/StudentCertification.html?channel=taro";(0,o.G)(t)}},87108:function(e,t,n){"use strict";n.d(t,{T0:function(){return o},vJ:function(){return a},j4:function(){return c},pi:function(){return s},Xp:function(){return u},Nz:function(){return l}});var r=n(298),i=(n(62171),n(51482));function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.z5.jump((0,r.Z)({},e))}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.EO.jump((0,r.Z)({},e))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.Qg.jump((0,r.Z)({},e))}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.sR.jump((0,r.Z)({},e))}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.kL.jump((0,r.Z)({},e))}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.P6.jump((0,r.Z)({},e))}},80425:function(e,t,n){"use strict";n.d(t,{m8:function(){return o},AA:function(){return a},Xl:function(){return c}});n(62171);var r=n(47130),i=n(25651),o={COMFORTPAGE:"COMFORTPAGE",BIGHOME:"BIGHOME",HOME:"HOME",FIRST:"FIRST",INTER_FIRST:"INTER_FIRST",INTER_SECOND:"INTER_SECOND",SECOND:"SECOND",MIDDLE:"MIDDLE",BOOKING:"BOOKING",FlIGHT_BOOKING:"FlIGHT_BOOKING",FlIGHT_INTER_BOOKING:"FlIGHT_INTER_BOOKING",INTER_MIDDLE:"INTER_MIDDLE",INTER_BOOKING:"INTER_BOOKING",PASSENGER_LIST:"PASSENGER_LIST",PASSENGER_EDIT:"PASSENGER_EDIT",APPLICANT_LIST:"APPLICANT_LIST",APPLICANT_EDIT:"APPLICANT_EDIT",COMPLETION:"COMPLETE",SHARE_PASSENGER:"SHARE_PASSENGER",SHARE_PASSENGER_EDIT:"SHARE_PASSENGER_EDIT",SHARE_PASSENGER_EDIT_NEW:"SHARE_PASSENGER_EDIT_NEW",SHARE_PASSENGER_COMPLETE:"SHARE_PASSENGER_COMPLETE",INSURANCE_AGENT_CALLBACK:"INSURANCE_AGENT_CALLBACK",CITY_PICKER:"CITY_PICKER",REGION_LIST:"REGION_LIST",CITY_LIST:"CITY_LIST",DATE_PICKER:"DATE_PICKER",ORDER_LIST:"ORDER_LIST",HOTEL_SEARCH_LIST:"HOTEL_SEARCH_LIST",REAL_NAME:"REAL_NAME",PROMO_CODE:"PROMO_CODE"},a={taroH5:{dev:"https://m.ctrip.dev.qa.nt.ctripcorp.com/html5/flight",fat:"https://m.ctrip.fat33.qa.nt.ctripcorp.com/html5/flight",prd:"https://m.ctrip.com/html5/flight"},h5:{dev:"http://m.ctrip.fat.qa.nt.ctripcorp.com/html5/flight",fat:"https://m.ctrip.fat336.qa.nt.ctripcorp.com/html5/flight",prd:"https://m.ctrip.com/html5/flight"},common:{fat:"https://m.ctrip.fat466.qa.nt.ctripcorp.com",prd:"https://m.ctrip.com"},realName:{dev:"https://secure.fat18.qa.nt.ctripcorp.com",fat:"https://secure.fat18.qa.nt.ctripcorp.com",prd:"https://secure.ctrip.com"}},c=[{name:o.BIGHOME,h5:function(){return a.common[(0,r.i)()]+"/html5/"},mini:"/pages/home/homepage",target:{h5:i.t.h5}},{name:o.HOME,taroH5:["/home","/index","/taro/home","/home/index","/swift/index"],mini:"/pages/flight/pages/home/index"},{name:o.FIRST,taroH5:["/pages/first","/taro/first","/pages/list/first","/swift/domestic/:dCityCodeParam/:aCityCodeParam/:dDateParam","/swift/domestic/:dCityCodeParam/:aCityCodeParam/:dDateParam/:aDateParam"],mini:"/pages/flight/pages/list/first",h5:function(e){var t=e.dcity,n=e.acity,i=e.ddate,o=e.adate,c=e.dfilter,s=a.h5[(0,r.i)()]+"/swift/domestic/".concat(t,"/").concat(n,"/").concat(i);return o&&(s+="/".concat(o)),{url:s,query:{dfilter:c,fromTinyHome:!0,envIsMini:!0,fromminiapp:"weixin"},opt:{isNavigate:!1}}},target:{mini:i.t.mini,h5:i.t.taroH5}},{name:o.INTER_FIRST,taroH5:["/taro/interFirst","/pages/interList","/pages/interFirst","/swift/international/:dCityCodeParam/:aCityCodeParam","/swift/international/:dCityCodeParam/:aCityCodeParam/:passengerType","/swift/international/:dCityCodeParam/:aCityCodeParam/:dDateParam/:passengerType","/swift/international/:dCityCodeParam/:aCityCodeParam/:dDateParam/:aDateParam/:passengerType"],mini:"/pages/flight/pages/interList/interFirst",target:{mini:i.t.mini,h5:i.t.taroH5}},{name:o.INTER_SECOND,taroH5:["/taro/interSecond","/pages/interList","/pages/interSecond","/swift/international/:dCityCodeParam/:aCityCodeParam/:dDateParam/:aDateParam/2/:passengerType"],mini:"/pages/flight/pages/interList/interSecond"},{name:o.SECOND,taroH5:["/taro/second","/pages/second","/pages/list/second","/swift/domestic/:dCityCodeParam/:aCityCodeParam/:dDateParam/:aDateParam/2"],mini:"/pages/flight/pages/list/second"},{name:o.MIDDLE,taroH5:["/taro/middle","/pages/middle"],mini:"/pages/flight/pages/middle/index"},{name:o.INTER_MIDDLE,taroH5:["/taro/interMiddle","/pages/interMiddle","/swift/international/cabinlist"],mini:"/pages/flight/pages/interMiddle/index"},{name:o.BOOKING,taroH5:["/taro/bookingNew","/pages/booking","/pages/bookingNew","/taro/booking"],mini:"/pages/flight/pages/booking/index",needLogin:!0},{name:o.INTER_BOOKING,taroH5:["/taro/interBooking","/pages/interBooking"],mini:"/pages/flight/pages/interBooking/index",needLogin:!0},{name:o.FlIGHT_BOOKING,taroH5:["/taro/bookingNew","/pages/bookingNew"],mini:"/pages/flightBooking/pages/booking/index",needLogin:!0},{name:o.FlIGHT_INTER_BOOKING,taroH5:["/taro/interBooking","/pages/interBooking"],mini:"/pages/flightBooking/pages/interBooking/index",needLogin:!0},{name:o.PASSENGER_LIST,taroH5:["/taro/booking/passengerList","/pages/booking/passengerList"],mini:"/pages/flightBooking/pages/booking/passengerList/index",needLogin:!0},{name:o.PASSENGER_EDIT,taroH5:["/taro/booking/passengerEdit","/pages/booking/passengerEdit"],mini:"/pages/flightBooking/pages/booking/passengerEdit/index",needLogin:!0},{name:o.APPLICANT_EDIT,taroH5:["/taro/booking/applicantEdit","/pages/booking/applicantEdit"],mini:"/pages/flightBooking/pages/booking/applicantEdit/index",needLogin:!0},{name:o.APPLICANT_LIST,taroH5:["/taro/booking/applicantList","/pages/booking/applicantList"],mini:"/pages/flightBooking/pages/booking/applicantList/index",needLogin:!0},{name:o.SHARE_PASSENGER,taroH5:["/taro/shareEditPsg","/pages/shareEditPsg"],mini:"/pages/flightBooking/pages/shareEditPsg/index"},{name:o.SHARE_PASSENGER_COMPLETE,taroH5:["/taro/shareCompletePsg","/pages/shareCompletePsg"],mini:"/pages/flightBooking/pages/shareCompletePsg/index"},{name:o.INSURANCE_AGENT_CALLBACK,taroH5:["/taro/insuranceCallback","/pages/insuranceCallback"],mini:"/pages/flight/pages/insuranceCallback/index"},{name:"/orderdetail",mini:"/pages/flight/orderdetail"},{name:"/webview",mini:"/pages/flight/webview"},{name:o.DATE_PICKER,taroH5:["/taro/datePicker","/pages/datePicker"],mini:"/pages/flight/pages/lowestDatePicker/index"},{name:o.CITY_PICKER,taroH5:["/taro/cityPicker","/pages/cityPicker"],mini:"/pages/flight/pages/cityPicker/index"},{name:o.REGION_LIST,taroH5:["/taro/regionList","/pages/regionList"],mini:"/pages/flightBooking/pages/regionList/index"},{name:o.CITY_LIST,taroH5:["/taro/cityList","/pages/cityList"],mini:"/pages/flightBooking/pages/cityList/index"}]},53409:function(e,t,n){"use strict";n.d(t,{F_:function(){return s.F},Iy:function(){return u.Iy}});n(62171),n(95333);var r=n(24460),i=n(57042),o=n(21867),a=n(86066),c=n(28009),s=(Error,n(60767)),u=n(93760)},93760:function(e,t,n){"use strict";n.d(t,{Iy:function(){return o},gj:function(){return a}});var r=n(22276),i=(n(62171),[]);function o(e,t){i.push({middlewares:[e],condition:t})}function a(e){return i.filter((function(t){return!t.condition||t.condition(e)})).map((function(e){return e.middlewares})).reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(t))}),[])}},83674:function(e,t,n){"use strict";n.d(t,{um:function(){return a},wR:function(){return s},MV:function(){return f},QS:function(){return m},FB:function(){return v},of:function(){return g},uq:function(){return y}});n(62171);var r=n(49386),i=n(38896),o=new r.ZP({version:"2020-05-29",key:function(){return"pageDataStorage"},expires:function(){return 1*r.v0}}),a=function(e){var t=(0,i.I2)();return o.getAttr(t,e)},c=function(e){o.setAttr(e,void 0)},s=function(e,t){o.setAttr(e,t)},u=new r.ZP({version:"2020-05-29",key:function(){return"routeKeyStorage"},expires:function(){return 1*r.v0}}),l=function(){var e=(0,i.I2)();return u.getAttr(e,void 0)},d=function(e){u.setAttr(e,void 0)},f=function(e,t){u.setAttr(e,t)},p=new Map,m=function(e,t){p.set(e,t)},h=new r.ZP({version:"2020-05-29",key:function(){return"backResultStorage"},expires:function(){return 1*r.v0}}),v=function(e){var t=p.get(e);if(t){p.delete(e);var n=h.getAttr(e,void 0);n?(h.setAttr(e,void 0),t.res(n)):t.res(null)}},g=function(e){v(l()),c(e),d(e)},y=function(e){h.setAttr(l(),e)}},95333:function(e,t,n){"use strict";n.r(t),n.d(t,{navigate:function(){return g},navigateBack:function(){return b},navigateTo:function(){return N},reLaunch:function(){return y},redirectTo:function(){return x},switchTab:function(){return _}});n(62171);var r=n(79301),i=n(298),o=n(95308),a=n(92954),c=n(68675),s=(n(88431),n(17745),n(92148)),u=n(43752),l=n(10546),d=n(38896),f=n(90983);function p(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");var t,n=(0,f.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("function"!==typeof r)throw new TypeError("Middleware must be composed of functions!")}}catch(e){n.e(e)}finally{n.f()}return function(t,n){var r=-1;function i(o){if(o<=r)return Promise.reject(new Error("next() called multiple times"));r=o;var a=e[o];if(o===e.length&&(a=n),!a)return Promise.resolve();try{return Promise.resolve(a(t,i.bind(null,o+1)))}catch(e){return Promise.reject(e)}}return i(0)}}var m=n(93760),h=n(83674),v=n(60767),g=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var o,a,u,f,g,y,x,_,N,b,T,w,C,I,E;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n||{},a=o.taroH5Url,u=o.type,f=void 0===u?v.F.navigateTo:u,g=o.params,y=void 0===g?{}:g,x=o.data,l.ZP.add(),_=t.url,N=(0,d.I2)(),x&&(0,h.wR)(_,x),(0,h.MV)(_,N),b=(0,c.en)(t.url),T=(0,c.Nv)({url:b.url,query:(0,i.Z)((0,i.Z)({},b.query),y)},{encode:!1}),w=(0,c.en)(a||""),C=(0,c.Nv)({url:w.url,query:(0,i.Z)((0,i.Z)({},w.query),y)},{encode:!1}),I={route:t,type:f,params:y,data:x},E=(0,m.gj)(I),e.next=14,p(E)((0,i.Z)((0,i.Z)({},I),{},{url:C}));case 14:return e.abrupt("return",new Promise((function(e){switch((0,h.QS)(N,{res:e}),f){case v.F.reLaunch:(0,s.UY)({url:T});break;case v.F.redirectTo:(0,s.gB)({url:T});break;case v.F.switchTab:(0,s.MR)({url:T});break;default:(0,s.T8)({url:T});break}})));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",g(t,(0,i.Z)((0,i.Z)({},n),{type:v.F.reLaunch})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",g(t,(0,i.Z)((0,i.Z)({},n),{type:v.F.redirectTo})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",g(t,(0,i.Z)((0,i.Z)({},n),{type:v.F.switchTab})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",g(t,(0,i.Z)((0,i.Z)({},n),{type:v.F.navigateTo})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,i,o,c,l=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=l.length>0&&void 0!==l[0]?l[0]:{},n.resolve,i=n.result,o=n.catchJump,c=void 0===o?function(){}:o,i&&(0,h.uq)(i),(0,u.jq)("c_backlast",{desc:"\u8fd4\u56de\u4e0a\u4e00\u9875"}),e.next=6;break;case 6:if(!((null===(t=(0,a.getCurrentPages)())||void 0===t?void 0:t.length)>1)){e.next=8;break}return e.abrupt("return",(0,s.n)().catch((function(){c()})));case 8:e.next=13;break;case 12:return e.abrupt("return",(0,s.n)().catch((function(){c()})));case 13:return e.abrupt("return",c());case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},60767:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});n(62171);var r={navigateTo:"navigateTo",redirectTo:"redirectTo",reLaunch:"reLaunch",switchTab:"switchTab",navigateBack:"navigateBack"}},25651:function(e,t,n){"use strict";n.d(t,{t:function(){return i},F:function(){return r.F_}});n(62171);var r=n(53409),i=function(e){return e["h5"]="h5",e["taroH5"]="taroH5",e["mini"]="mini",e}({})},13441:function(e,t,n){"use strict";n.d(t,{CU:function(){return a},kK:function(){return c}});var r=n(62171),i=n(38896),o=n(80425),a=function(e){var t=(0,i.SU)(e);return r.R.find((function(e){return!!e.mini&&r.R.includes(e.mini,"/"+t)}),o.Xl)},c=function(e){var t;return(null===(t=a(e))||void 0===t?void 0:t.name)||""}},20092:function(e,t,n){"use strict";n.d(t,{Vm:function(){return r},TI:function(){return i},PD:function(){return o},ik:function(){return a},xe:function(){return c},Fx:function(){return s}});n(62171);var r={ResetPassengerVerify:-8,Default:0,PassengerVerify:8,AcceptQTE:16,AcceptRefundChange:64,Timeout:128,XFailAlert:256},i={success:0,phoneCall:1,alert:2,jumpToHomePage:3,jumpToListPage:4,jumpToMiddlePage:5,jumpToDetailPage:6,toast:7,verificationCode:8,passengerConfirm:9,xSoldOut:10,createOrderFailed:11,qte:12,jumpToMiddlePageAndRefresh:13,directAcceptQte:14,hotelQtePriceRise:15,hotelQtePriceReduce:16,hotelFullHouse:17,hotelBookingFailed:18,qteInAdditionalPage:19,showRefundLayer:20,requestQte:21,jumpToMiddlePageAndResearch:22,showFlightTipLayer:24,xOrderFailed:25,common:26,passengerEdit:101,passengerList:102,retryOrder:103},o={CHECK_ORDER:1,CONTINUE_RESERVE:2,CONTINUE_PAY:3,RETURN_MODIFY:4,TRANSFER_MODIFY:5},a={stayCurrentPage:1,jumpToPassengerSelectPage:2,jumpToListPage:3,jumpToPayPage:4,jumpToMiddlePage:5},c={ADULT:1,CHILD:2,INFANT:3,CHILD_BOOK_ADULT:1,INFANT_BOOK_CHILD:2,INFANT_BOOK_ADULT:1},s={SupportIDCardTypeString:1,NationalityAllowed:2,NationalityDisAllowed:3,ChildCompanionAgeLimit:7,ChildCompanionAgeLimitTip:8,MinCount:9,MaxCount:10,BabyTypeChange:15,ChildTypeChange:16,BabyUpBook:17,ChildUpBook:18,OldPersonAgeLimit:20,OldCompanionAgeLimit:21,ChildCompanionAgeMin:23,OldCompanionAgeMin:28,OldCompanionAgeMax:29,OldCompanionAgeLimitTip:30}},95329:function(e,t,n){"use strict";n.d(t,{g6:function(){return S},vE:function(){return I}});var r=n(79301),i=n(90129),o=n(298),a=n(95308),c=n(62171),s=n(8811),u=n(43762),l=n(24873),d=n(19836),f=n(32408),p=n(49574),m=n(27201),h=n(33699),v=n(51491),g=n(57655),y=n(22276),x=n(24094),_=n(5709),N=n(48937),b=n(32180)["window"],T=function(e){var t=e.selectedInsurances,n=void 0===t?[]:t,r=e.selectedLounge,i=void 0===r?[]:r,o=e.selectedSecurity,a=void 0===o?[]:o;return[].concat((0,y.Z)(n.map((function(e){var t=e.token,n=e.channelType,r=e.passengerIds;return{token:t,fromAgg:!1,xproductType:"INSURANCE",channelType:v.ng[n]||v.ng.booking,passengerIds:r}}))),(0,y.Z)([].concat((0,y.Z)(i),(0,y.Z)(a)).map((function(e){var t=e.token,n=e.fromAgg,r=e.xproductType,i=e.channelType,o=void 0===i?v.ng.booking:i;return{token:t,fromAgg:n,xproductType:r,channelType:o}}))))};function w(e){var t,n,r=e.insuranceRuleSwitch,i=e.searchToken,o=e.repeatOrder,a=e.priceDetail,c=e.couponCodeList,s=e.selectedPassengers,u=e.policyHolder,l=e.selectedInsurances,d=e.selectedLounge,f=e.selectedSecurity,p=e.selectedPackage,m=e.freeX,h=e.passengerCount,v=e.selectedCoupons,g=e.selectedServicePackage,y=N.F.isFlightHotel?"".concat(b.location.href,"&noback=true"):(null===(t=b)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.href)||"http://m.ctrip.com/html5/flight/swift/domestic/booking?fromlist=true&nohback=true",w=T({selectedInsurances:l,selectedLounge:d,selectedSecurity:f}),C=w.map((function(e){return e.token})),I=w.map((function(e){return e.xproductType}));null!==p&&void 0!==p&&p.PackageString&&w.push({token:p.PackageString,xproductType:"SERVICE_PACKAGE",channelType:p.channelType,fromAgg:!1});var E=w&&w.length>0&&w.filter((function(e){return e&&Object.keys(e).length>0}))||[];return{fromUrl:y,passengers:s,xtokens:C,xproductTypes:I,xproductInfos:E,coupons:c,searchToken:i,contact:x.ZP.data.contact,priceDetail:(0,_.h)(JSON.stringify(null!==(n=N.F.getPayDetailInfo({passengerCount:h,selectedCoupons:v,selectedLounge:d,selectedSecurity:f,selectedInsurances:l,selectedServicePackage:g,freeX:m}))&&void 0!==n?n:a.items)),total:a.total+N.F.orderTotalPrice,insuranceRefer:r?"/pages/flight/pages/insuranceCallback/index":"",policyHolder:u,repeatOrder:o||!1,freeZone:m||[],hotelInfos:N.F.orderCreateInfo}}var C=function(e,t){if(!e||(null===t||void 0===t?void 0:t.length)<0)return!1;var n=t[0],r=e.name===n.name.name&&e.cardNo===n.document.no&&(0,s.U)(e.cardType)===n.document.type;return r},I=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var u,v,y,x,_,N,b,T,I,E,S,j,k,A,P,R,O,D,L,V,Z,M,F,B,U,q,H,G,Y,K,W,z;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=t.searchKey,v=t.insuranceRuleSwitch,y=t.repeatOrder,x=t.authInfo,_=t.realNameType,N=t.registerMemberType,b=t.flightPsgRegisterSettings,T=t.detail,I=t.priceDetail,E=t.couponCodeList,S=t.selectedPassengers,j=t.selectedInsurances,k=t.selectedLounge,A=t.selectedSecurity,P=t.selectedPackage,R=t.freeX,O=t.passengerCount,D=t.selectedCoupons,L=t.selectedServicePackage,V=(0,p.eC)(),Z=(0,p.I1)(),M=(0,d.xk)(),F=T||{},B=F.policy,U=B||{},q=U.searchToken,H=c.R.path(["lockPricePassengerList",0],B),G=w({insuranceRuleSwitch:v,searchToken:q,repeatOrder:y,priceDetail:I,couponCodeList:E,selectedPassengers:S,policyHolder:M,selectedInsurances:j,selectedLounge:k,selectedSecurity:A,selectedPackage:P,freeX:R,passengerCount:O,selectedCoupons:D,selectedServicePackage:L}),x&&x.cnum&&x.ctype&&1===_&&("REAL_NAME_REGISTER"===N?G.passengers=G.passengers.map((function(e){return e.document&&e.document.type===(0,s.U)(x.ctype)&&e.document.no===x.cnum?(0,o.Z)((0,o.Z)({},e),{},{isRegister:!0}):e})):"REAL_NAME_REGISTER_ALL"===N&&(G.passengers=G.passengers.map((function(e){return"ADULT"===e.passengerType?(0,o.Z)((0,o.Z)({},e),{},{isRegister:!0}):e})))),"PASSENGER"===N&&(Y=!1,G.passengers=G.passengers.map((function(e){return"ADULT"!==e.passengerType||Y?e:(Y=!0,(0,o.Z)((0,o.Z)({},e),{},{isRegister:!0}))}))),"MULTI_PASSENGER"===N&&(K=[],(null===b||void 0===b?void 0:b.length)&&b.forEach((function(e){K.push({routeNo:e.routeNo,segmentNo:e.segmentNo})})),G.passengers=G.passengers.map((function(e){return"ADULT"===e.passengerType?(0,o.Z)((0,o.Z)({},e),{},{isRegister:!0,passengerSettingList:K}):e}))),W=(0,h.Z)(),z=C(H,G.passengers),e.t0=o.Z,e.t1=(0,o.Z)({},G),e.t2={},e.t3=V,e.next=19,Z;case 19:e.t4=e.sent,e.t5={actionType:"CREATE_ORDER",rmsToken:e.t3,awakeInfo:e.t4},e.t6=(0,e.t0)(e.t1,e.t2,e.t5),e.t7=[{name:"searchKey",value:u},{name:"insuranceToken",value:W},z&&{name:"LockPriceV3Use",value:"true"}].filter(Boolean),f.K.orderRequest={data:e.t6,extension:e.t7},console.log("orderRequest",f.K.orderRequest),l.G4.promise(f.K.orderRequest).then((function(e){if(g.Z.isSuccessful(e)){var t=(null===e||void 0===e?void 0:e.data)||{},r=t.orderIds,o=void 0===r?[]:r,c=(0,i.Z)(o,1),s=c[0];(0,m.c)(s),f.K.orderResult=null===e||void 0===e?void 0:e.data,n&&n()}else a&&a()})).catch((function(e){console.log(e),a&&a()}));case 26:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),E={0:"Y",1:"S",2:"C",3:"F",9:"CF"},S=function(e,t,n){var r=[],i=e.sections,o=void 0===i?[]:i,a=e.policy,c=void 0===a?{}:a,s=c.grades,d=void 0===s?[]:s;o.forEach((function(e,t){var n=e.segments;null===n||void 0===n||n.forEach((function(e,n){var i,o,a=e||{},c=a.flgno,s=a.departureCityCode,u=a.departureCityId,l=a.departDateTime,f=a.arriveDateTime,p=a.arrivalCityCode,m=a.departureAirportCode,h=a.arrivalAirportCode;r.push({segmentNo:t,flightIndex:n+1,flightNo:c,departCityCode:s,departCityID:u,classGrade:E[(null===(i=d.find((function(e){return e.flgno===c})))||void 0===i?void 0:i.classgrade)||0],departDate:l,subClass:null===(o=d.find((function(e){return e.flgno===c})))||void 0===o?void 0:o.subclass,price:0,arriveDate:f,arrivalCityCode:p,departPortCode:m,arrivalPortCode:h})}))}));var f=t.map((function(e){var t=e||{},n=t.id,r=t.name,i=void 0===r?{}:r,o=t.document,a=i.name,c=i.surName,s=i.givenName,l=o.no,d=o.type;return{passengerID:n,passengerName:a,cardEType:v.uo[(0,u.hs)(d)||1],cardNumber:l,cardNewType:(0,u.hs)(d),surName:c,givenName:s,buyTicketType:0,passengerType:0}}));return l.K5.promise({serviceVersion:0,flightType:2,existOrderIDList:[],flightInfo:r,totalTicketPrice:0,totalPrice:0,passengerInfo:f,hashToken:n,extendList:[],switchFlag:1}).then((function(e){return e||null})).catch((function(e){return console.log(e),null}))}},57655:function(e,t,n){"use strict";var r=n(57042),i=n(24460),o=n(45023),a=(n(62171),n(34439)),c=function(){function e(){(0,r.Z)(this,e),(0,o.Z)(this,"uuid",void 0),(0,o.Z)(this,"isSuccessful",(function(e){return e&&e.data&&e.ResponseStatus&&"Success"===e.ResponseStatus.Ack})),(0,o.Z)(this,"isSuccessfulForOther",(function(e){return e&&e.ResponseStatus&&"Success"===e.ResponseStatus.Ack})),(0,o.Z)(this,"onError",(function(e,t){try{(0,a.u9)(t,"flight_taro_error_network"),e&&e.onError()}catch(t){e&&e.onError()}}))}return(0,i.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.uuid=e}},{key:"process",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.uuid&&this.uuid!==e.uuidStr)console.log("%c \ud83c\udf4e \u51fa\u73b0\u7ade\u6001\uff0c\u7ed3\u679c\u629b\u5f03\u6389: ","font-size:20px;background-color: #B03734;color:#fff;");else{var i=r?this.isSuccessfulForOther(e):this.isSuccessful(e);i&&n&&n(),t&&(i?t.onSuccess():t.onFailure())}}}]),e}();t["Z"]=new c},20844:function(e,t,n){"use strict";n(62171);var r=n(80425),i=n(13441);t["Z"]={init:!1,pageName:{last:"",current:""},setPageName:function(e){if(e){var t=(0,i.kK)(e);t&&r.m8[t]&&(this.pageName.last=this.pageName.current,this.pageName.current=t)}}}},62461:function(e,t,n){"use strict";n.d(t,{T:function(){return i},C:function(){return o}});var r=n(62171),i=function(){return(0,r.useDispatch)()},o=r.useSelector},48754:function(e,t,n){"use strict";n.d(t,{TP:function(){return m},BD:function(){return h},BZ:function(){return g},Uc:function(){return y},BK:function(){return x},Ll:function(){return _},ZD:function(){return N}});var r=n(45023),i=n(298),o=n(90983),a=n(62171),c=n(54347),s=n(51491),u=n(68675),l=n(43752),d=n(13374),f=n(14828),p=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.filter((function(e){return e}));if(!e&&(!i||!i.length))return{ADULT:1,CHILD:0,INFANT:0};if(i&&i.length>0)return{ADULT:Number(i[0])||1,CHILD:Number(i[1])||0,INFANT:Number(i[2])||0};var o=e.split("-");return{ADULT:Number(o[0])||1,CHILD:Number(o[1])||0,INFANT:Number(o[2])||0}},m={tripType:"ONE_WAY",regionType:"DOMESTIC",departure:{cityName:"\u5317\u4eac",cityId:1,cityCode:"BJS",date:(0,a.dayjs)().add(1,"day").format("YYYY-MM-DD"),regionType:"DOMESTIC",cabin:"ECONOMY",cityCodeType:"CityCode"},arrival:{cityName:"\u4e0a\u6d77",cityId:2,cityCode:"SHA",date:(0,a.dayjs)().add(3,"day").format("YYYY-MM-DD"),regionType:"DOMESTIC",cabin:"ECONOMY",cityCodeType:"CityCode"},cabin:{name:"\u7ecf\u6d4e\u8231",value:"ECONOMY"}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=[];Array.isArray(t)?n=t:t&&(n=t.split(","));var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=e[a];if(c)return decodeURIComponent(c)}}catch(e){i.e(e)}finally{i.f()}}},v=function(e){var t="";switch(e){case 1:t="DOMESTIC";break;case 2:t="INTERNATIONAL";break;default:break}return t};function g(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.departure||(n.departure=m.departure),n.arrival||(n.arrival=m.arrival),n.departure.date&&(0,a.dayjs)(null===(e=n.departure)||void 0===e?void 0:e.date).isValid()&&(0,a.dayjs)().isSameOrBefore((0,a.dayjs)(null===(t=n.departure)||void 0===t?void 0:t.date),"day")||(n.departure.date=m.departure.date),n.arrival.date&&(0,a.dayjs)(n.arrival.date).isValid()||(n.arrival.date=m.arrival.date),(0,a.dayjs)(n.departure.date).isSameOrBefore((0,a.dayjs)(n.arrival.date),"day")||(n.arrival.date=(0,a.dayjs)(n.departure.date).add(2,"day").format("YYYY-MM-DD")),n.specialOffers){var r,o=null===(r=n.specialOffers.date)||void 0===r?void 0:r.departDateRange;if(null!==o&&void 0!==o&&o.length){var c=o.map((function(e){if(e.end&&e.begin&&!(0,a.dayjs)().isAfter((0,a.dayjs)(e.end)))return(0,a.dayjs)().isBefore((0,a.dayjs)(e.begin))?e:(0,i.Z)({begin:(0,a.dayjs)().format("YYYY-MM-DD")},e)})).filter(Boolean);n.specialOffers.date.departDateRange=c.length?c:[d.Ti]}else n.specialOffers.date={departDateRange:[d.Ti]}}return n}var y=function(e){var t=h(e),n=t("from")||"",r=t("isshare")||"";return["outer","coupon"].includes(n)||["yes","true"].includes(r)},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.X9.ONE_WAY;return(0,r.Z)((0,r.Z)({1:f.X9.ONE_WAY,2:f.X9.ROUND_TRIP},f.X9.ONE_WAY,f.X9.ONE_WAY),f.X9.ROUND_TRIP,f.X9.ROUND_TRIP)[e]||t},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.X9.ONE_WAY;return(0,r.Z)((0,r.Z)({},f.X9.ONE_WAY,1),f.X9.ROUND_TRIP,2)[e]||1};function N(e){var t,n=h(e),r=n(["channel","subchannel"]),i=n(["dfilter"])||"";i&&(0,l.ff)("flight_taro_dFilter",{speed:JSON.stringify(i)});var o=(0,u.Qc)(i.replace(/\|/g,"&").replace(/:/g,"=")),d=n(["afilter"]);d&&(0,l.ff)("flight_taro_afliter",{speed:JSON.stringify(d)}),(r||o.channel)&&c.cm.setAttr("channel",r||o.channel);var y=null===o||void 0===o||null===(t=o.cabin)||void 0===t||null===(t=t.split(","))||void 0===t?void 0:t[0],_={cabin:""};if(y)switch(y){case"0":case"1":_.cabin="ECONOMY";break;case"2":case"3":_.cabin="BUSINESS,FIRST";break;default:break}var N=n(["regionType","RegionTypeParam"])||m.regionType,b=Number(n(["disic"])),T=v(b),w=Number(n(["aisic"])),C=v(w),I=Number(n(["doffset","doffsetParam"])),E=Number(n(["aoffset","aoffsetParam"])),S=n(["ddate","dDateParam"]),j=n(["dcode","dcity","dCityCodeParam"]),k=n(["dname","dcityName"])||"",A=n(["dPortName"])||"",P=n(["dPortCode"])||o.dport,R=n(["adate","aDateParam"]),O=n(["acode","acity","aCityCodeParam"]),D=n(["aname","acityName"])||"",L=n(["aPortName"])||"",V=n(["aPortCode"])||o.aport,Z=n(["adult"]),M=n(["child"]),F=n(["baby"]),B=p(n(["passengerType"])||n(["type"]),Z,M,F),U=n("cabin"),q=n("cabins")||"[]";q&&(0,l.ff)("flight_taro_cabins",{speed:JSON.stringify(q)});var H=[];try{H=JSON.parse(q)}catch(e){console.log(e)}var G=s.Be[Number(n("seat"))]||s.Be[5];!S&&I&&(S=(0,a.dayjs)().add(I,"day").format("YYYY-MM-DD")),!R&&E&&(R=(0,a.dayjs)().add(E,"day").format("YYYY-MM-DD"));var Y=S&&R?f.X9.ROUND_TRIP:m.tripType,K=x(n(["tripType","triptype","tripTypeParam"]),Y),W={tripType:K,regionType:N,departure:{cityName:decodeURIComponent(k)||j,cityCode:j,airportName:decodeURIComponent(A),airportCode:P,date:S?(0,a.dayjs)(S).format("YYYY-MM-DD"):void 0,regionType:T||N,cabin:U||H[0]||_.cabin||m.cabin.value},arrival:{cityName:decodeURIComponent(D)||O,cityCode:O,airportName:decodeURIComponent(L),airportCode:V,date:R?(0,a.dayjs)(R).format("YYYY-MM-DD"):void 0,regionType:C||N,cabin:U||H[1]||m.cabin.value},passengerType:B,interCabin:G};if(!W.departure.cityCode||!W.arrival.cityCode){if("ROUND_TRIP"!==W.tripType)return null;if(!W.arrival.date)return null}return g(W),W}},64353:function(e,t,n){"use strict";n.d(t,{L4:function(){return o},pL:function(){return a},c7:function(){return c}});var r=n(62171),i=function(e){return e.user.tripUserInfo},o=(0,r.createSelector)([i],(function(e){return e.nickname})),a=(0,r.createSelector)([i],(function(e){return e.portraitUrl})),c=(0,r.createSelector)([i],(function(e){return e.userid}))},17856:function(e,t,n){"use strict";n.d(t,{oC:function(){return u},FS:function(){return l},Pc:function(){return d},nR:function(){return f},gN:function(){return p}});var r=n(298),i=n(62171),o=n(48754),a=(0,r.Z)({airportName:"",airportCode:""},o.TP.arrival),c=(0,i.createSlice)({name:"arrival",initialState:a,reducers:{changeArrivalCity:function(e,t){var n=t.payload,r=n.airportCode,i=n.airportName,o=n.cityCode,a=n.cityName,c=n.regionType,s=n.cityId,u=n.cityCodeType;e.airportCode=r,e.airportName=i,e.cityCode=o,e.cityName=a,e.regionType=c,e.cityId=s,e.cityCodeType=u||"CityCode"},changeArrivalDate:function(e,t){e.date=t.payload},changeArrivalCabin:function(e,t){e.cabin=t.payload},changeArrivalCityName:function(e,t){e.cityName=t.payload},changeArrivalCityRegionType:function(e,t){e.regionType=t.payload}}}),s=c.actions,u=s.changeArrivalCity,l=s.changeArrivalDate,d=s.changeArrivalCabin,f=s.changeArrivalCityName,p=s.changeArrivalCityRegionType;t["ZP"]=c.reducer},34390:function(e,t,n){"use strict";n.d(t,{b7:function(){return u},AO:function(){return l},jW:function(){return d},Mb:function(){return f},ro:function(){return p}});var r=n(298),i=n(62171),o=n(48754),a=(0,r.Z)({airportName:"",airportCode:""},o.TP.departure),c=(0,i.createSlice)({name:"departure",initialState:a,reducers:{changeDepartureCity:function(e,t){var n=t.payload,r=n.airportCode,i=n.airportName,o=n.cityCode,a=n.cityName,c=n.regionType,s=n.cityId,u=n.cityCodeType;e.airportCode=r,e.airportName=i,e.cityCode=o,e.cityName=a,e.regionType=c,e.cityId=s,e.cityCodeType=u||"CityCode"},changeDepartureDate:function(e,t){e.date=t.payload},changeDepartureCabin:function(e,t){e.cabin=t.payload},changeDepartureCityName:function(e,t){e.cityName=t.payload},changeDepartureRegionType:function(e,t){e.regionType=t.payload}}}),s=c.actions,u=s.changeDepartureCity,l=s.changeDepartureDate,d=s.changeDepartureCabin,f=s.changeDepartureCityName,p=s.changeDepartureRegionType;t["ZP"]=c.reducer},57012:function(e,t,n){"use strict";n.d(t,{mI:function(){return a}});var r=n(62171),i={value:!1},o=(0,r.createSlice)({name:"initializedSlice",initialState:i,reducers:{changeInitialized:function(e,t){e.value=t.payload}}}),a=o.actions.changeInitialized;t["ZP"]=o.reducer},34093:function(e,t,n){"use strict";n.d(t,{dS:function(){return a}});var r=n(62171),i={cabin:"ECONOMY\u3001SUPER_ECONOMY"},o=(0,r.createSlice)({name:"interCabin",initialState:i,reducers:{changeInterCabin:function(e,t){e.cabin=t.payload}}}),a=o.actions.changeInterCabin;t["ZP"]=o.reducer},73067:function(e,t,n){"use strict";n.d(t,{wl:function(){return a}});var r=n(62171),i={value:{ADULT:1,CHILD:0,INFANT:0}},o=(0,r.createSlice)({name:"passengerTypeSlice",initialState:i,reducers:{changePassengerType:function(e,t){var n=t.payload;n&&(e.value=n)}}}),a=o.actions.changePassengerType;t["ZP"]=o.reducer},22213:function(e,t,n){"use strict";n.d(t,{cY:function(){return d},wG:function(){return l},R1:function(){return s},wQ:function(){return c},QY:function(){return g},e_:function(){return m}});var r=n(62171);function i(e){var t=e.airportName;return t&&(t=t.replace(/(\u56fd\u9645)?\u673a\u573a/,"")),t&&e.cityName!==t?e.cityName+t:e.cityName}var o=n(14828);function a(e,t){return e===o.Og.INTERNATIONAL||t===o.Og.INTERNATIONAL?o.Og.INTERNATIONAL:o.Og.DOMESTIC}var c=function(e){return e.departure},s=((0,r.createSelector)([c],(function(e){return e.cityCode})),(0,r.createSelector)([c],(function(e){return e.cityId})),(0,r.createSelector)([c],(function(e){return e.cityCodeType})),(0,r.createSelector)([c],(function(e){return e.airportCode})),(0,r.createSelector)([c],(function(e){return e.cityName}))),u=((0,r.createSelector)([c],(function(e){return e.cabin})),(0,r.createSelector)([c],(function(e){return e.regionType}))),l=((0,r.createSelector)([c],(function(e){return e.date})),(0,r.createSelector)([c],(function(e){return i(e)})),function(e){return e.arrival}),d=((0,r.createSelector)([l],(function(e){return e.cityCode})),(0,r.createSelector)([l],(function(e){return e.cityId})),(0,r.createSelector)([l],(function(e){return e.cityCodeType})),(0,r.createSelector)([l],(function(e){return e.airportCode})),(0,r.createSelector)([l],(function(e){return e.cityName}))),f=((0,r.createSelector)([l],(function(e){return e.cabin})),(0,r.createSelector)([l],(function(e){return e.regionType}))),p=((0,r.createSelector)([l],(function(e){return e.date})),(0,r.createSelector)([l],(function(e){return i(e)})),function(e){return e.tripType}),m=(0,r.createSelector)([p],(function(e){return e.value})),h=((0,r.createSelector)([u,f],a),function(e){return e.interCabin}),v=function(e){return e.initialized},g=(0,r.createSelector)([v],(function(e){return e.value}));(0,r.createSelector)([h],(function(e){return e.cabin}))},69967:function(e,t,n){"use strict";n.d(t,{mA:function(){return a}});var r=n(62171),i={value:"ONE_WAY"},o=(0,r.createSlice)({name:"tripType",initialState:i,reducers:{changeTripType:function(e,t){e.value=t.payload}}}),a=o.actions.changeTripType;t["ZP"]=o.reducer},54339:function(e,t,n){"use strict";n.d(t,{Xq:function(){return s}});var r=n(79301),i=n(298),o=n(95308),a=n(62171),c=n(99065),s=(0,a.createAsyncThunk)("users/tripUserInfo",(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.u$.promise({});case 2:if(t=e.sent,!t.userid){e.next=5;break}return e.abrupt("return",(0,i.Z)((0,i.Z)({},t),{portraitUrl:(t.portraitUrl||"").replace("http://","https://")}));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),u={tripUserInfo:{bmobile:"",ccode:"",ccodef:"",cityCode:"",clvName:"",id:"",mfphone:"",mobile:"",nickname:"",portraitUrl:"",userName:"",userid:"",vipgrade:!1}},l=(0,a.createSlice)({name:"users",initialState:u,reducers:{changeTripUserInfo:function(e,t){e.tripUserInfo=t.payload}},extraReducers:function(e){e.addCase(s.fulfilled,(function(e,t){e.tripUserInfo=t.payload}))}});l.actions.changeTripUserInfo;t["ZP"]=l.reducer},69972:function(e,t,n){"use strict";n.d(t,{Dj:function(){return z},h:function(){return W}});var r=n(298),i=n(45023),o=n(62171),a=n(9147),c={getItem:function(e){return(0,a.cF)({key:e}).then((function(e){return e.data}))},setItem:function(e,t){return(0,a.po)({key:e,data:t})},removeItem:function(e){return(0,a.Li)({key:e})},clear:function(){return(0,a.B$)()},getAllKeys:function(){return new Promise((function(e,t){(0,a.nQ)({success:function(t){e(t.keys)},fail:function(e){t(e)}})}))}},s={key:"root",storage:c,version:20220615,keyPrefix:"flight_"},u=n(43752),l=function(){return function(e){return function(t){"persist/REHYDRATE"===t.type&&(0,u.bd)("flight_taro_h5_redux",{payload:t.payload,type:t.type}),(t.type.startsWith("departure/")||t.type.startsWith("arrival/")||t.type.startsWith("tripType/"))&&(0,u.bd)("flight_taro_h5_redux",{payload:t.payload,type:t.type});var n=e(t);return n}}},d=n(69967),f=n(34390),p=n(17856),m=10,h=(0,o.createSlice)({name:"visitedFlight",initialState:[],reducers:{addVisitedFlight:function(e,t){e.length>m&&e.shift(),e.includes(t.payload)||e.push(t.payload)}}}),v=(h.actions.addVisitedFlight,h.reducer),g=n(79301),y=n(95308),x=n(99065),_=(0,o.createAsyncThunk)("sameCity/sameCity",function(){var e=(0,y.Z)((0,g.Z)().mark((function e(t){var n;return(0,g.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.jo.promise({cityCode:t,source:"TaroFlight"});case 2:return n=e.sent,e.abrupt("return",{name:t,canSearch:n.sameCityFlight||!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=5,b=(0,o.createSlice)({name:"sameCity",initialState:[],reducers:{changeSameCitySlice:function(e,t){t.payload}},extraReducers:function(e){e.addCase(_.fulfilled,(function(e,t){e.length>=N&&e.shift(),e.push(t.payload)}))}}),T=(b.actions.changeSameCitySlice,b.reducer),w={value:"DIRET_FIRST"},C=(0,o.createSlice)({name:"listSort",initialState:w,reducers:{changeListSort:function(e,t){e.value=t.payload}}}),I=(C.actions.changeListSort,C.reducer),E=10,S=(0,o.createSlice)({name:"visitedInterPolicy",initialState:[],reducers:{addVisitedInterPolicy:function(e,t){e.length>E&&e.shift(),e.includes(t.payload)||e.push(t.payload)}}}),j=(S.actions.addVisitedInterPolicy,S.reducer),k=n(54339),A=n(57012),P=n(34093),R=n(73067),O=n(13374),D={depatureCity:[],arrivalCity:[],date:{departDateRange:[O.Ti]}};function L(e){return e.length>1?e.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{airportCode:"",airportName:""})})):e}var V=(0,o.createSlice)({name:"specialOffers",initialState:D,reducers:{changeSpeicialOffersDepatureCity:function(e,t){e.depatureCity=L(t.payload)},changeSpeicialOffersArrivalCity:function(e,t){e.arrivalCity=L(t.payload)},changeSpeicialOffersDate:function(e,t){e.date=t.payload},resetSpeicialOffersDate:function(e){e.date.departDateRange=[],e.date.stayRange=void 0,e.date.weekDays=void 0}}}),Z=V.actions,M=(Z.changeSpeicialOffersDepatureCity,Z.changeSpeicialOffersArrivalCity,Z.changeSpeicialOffersDate,Z.resetSpeicialOffersDate,V.reducer),F=n(10073),B=n(48754),U=n(67316),q=[];(0,o.initCoffeebeanTaro)({path:"pages/flight/",code:"CB16aec1d53e49102eb1aa1a1531c2abc1",bizCode:"",orderid:0,transactionid:"",extendCommon:"mini-flight",requestConfig:{getRootID:function(e,t){try{if("string"===typeof t.data.data&&q.some((function(t){return e.indexOf(t)>-1}))){var n=JSON.parse(t.data.data);return n.msgID?n.msgID:""}}catch(e){return""}}}},{cwx:U.Y8});var H=(0,i.Z)({tripType:d.ZP,departure:f.ZP,arrival:p.ZP,visitedFlight:v,sameCity:T,listSort:I,user:k.ZP,initialized:A.ZP,passengerType:R.ZP,interCabin:P.ZP,visitedInterPolicy:j,specialOffers:M},F.F.reducerPath,F.F.reducer);function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.combineReducers)((0,r.Z)((0,r.Z)({},H),e))}var Y=(0,o.persistReducer)((0,r.Z)((0,r.Z)({},s),{},{whitelist:["tripType","departure","arrival","visitedFlight","sameCity","listSort","passengerStore","visitedInterPolicy","passengerType","specialOffers"],migrate:function(e){var t=(0,B.BZ)(e);return Promise.resolve(t)}}),G()),K=function(e){var t=[F.F.middleware];t.push(l);var n=(0,o.configureStore)({reducer:Y,preloadedState:e,middleware:function(e){return e({serializableCheck:!1}).concat(t)}});return n.asyncReducers={},n.createReducer=G,n},W=K(),z=(0,o.persistStore)(W)},16248:function(e,t,n){"use strict";n.d(t,{Zw:function(){return a},fN:function(){return c}});n(62171),n(62461),n(64353);var r=n(48091),i=n(69972),o=n(54339),a=function(){return i.h.dispatch((0,o.Xq)()).unwrap().then((function(e){return!!e.userid||Promise.reject(!1)}))},c=function(e){return(0,r.x)(e).then((function(){return i.h.dispatch((0,o.Xq)()),!0})).catch((function(){return Promise.reject(!1)}))}},32408:function(e,t,n){"use strict";n.d(t,{K:function(){return r},Y:function(){return i}});n(62171);var r={},i={}},60175:function(e,t,n){"use strict";n.d(t,{Fd:function(){return f},Mm:function(){return p},aN:function(){return S},uk:function(){return P},Ke:function(){return R}});n(62171);var r="LIST_FILTER_CHANGE_first",i="LIST_FILTER_CHANGE_second",o="LIST_FILTER_CHANGE_INIT_first",a="LIST_FILTER_CHANGE_INIT_second",c="SWITCH_NEAR_DATE_first",s="SWITCH_NEAR_DATE_second",u="LIST_PAGE_SHOW_first",l="LIST_PAGE_SHOW_second",d="SELECTED_PASSENGER_CHANGE",f="EDIT_PASSENGER_VALIDATE",p="EDIT_PASSENGER_VALIDATOR",m="BOOKING_X_PRODUCT_CHANGE",h="FLIGHT_FILTER_POPUP",v="INSURANCE_SELECT_CLEAN",g="HEADER_TITLE_CHANGE",y="XPRODUCTS_DATA_RESPONSE",x="UPDATE_CALENDAR_DATE",_="UPDATE_FIO_MSG",N="UPDATE_ADVERTISEMENT",b="BACK_TO_HOME_TOP",T="RESEARCH",w="RESEARCH_INTRL",C="SEND_PV_first",I="SEND_PV_second",E="SEND_PV_MIDDLE",S="SEND_PV_BOOKING",j="SEND_PV_INTER_second",k="SEND_PV_INTER_first",A="SEND_PV_INTER_MIDDLE",P="SEND_PV_INTER_BOOKING",R="onShow",O="calendar_update_price",D="LIST_PAGE_UPDATE",L=[r,i,o,a,c,s,d,f,p,m,h,v,g,y,u,l,x,_,N,b,T,w,C,I,E,S,R,O,D,j,k,A,P];t["ZP"]={data:{listener:{},state:{},uuid:{}},emit:function(e){if(L.includes(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log("%ccEvent.emit","color:cyan",e,n),this._invoke.apply(this,[e].concat(n))}},on:function(e,t,n,r){return!L.includes(e)||this.data.uuid[n]||(this.data.uuid[n]=!0,this.data.listener[e]||(this.data.listener[e]=[]),this.data.listener[e].push({uuid:n,listener:t}),console.log("%ccEvent.on","color:cyan",e,n,r,this.data.listener[e].length),"WAITING"===this.data.state[e]&&this._invoke(e)),t},off:function(e,t,n){delete this.data.uuid[t],console.log("%ccEvent.off","color:cyan",e,t,n);var r=(this.data.listener[e]||[]).map((function(e){return e.uuid})).indexOf(t);-1!==r&&this.data.listener[e].splice(r,1)},_invoke:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this.data.listener[e];i&&i.length>0?(i.forEach((function(e){e.listener.apply(e,n)})),this.data.state[e]="DONE"):this.data.state[e]="WAITING"}}},59931:function(e,t,n){"use strict";n.d(t,{YL:function(){return _},B$:function(){return F},PN:function(){return J},Md:function(){return x},J:function(){return X},N6:function(){return Y},MG:function(){return M},BK:function(){return K},ZP:function(){return te},UU:function(){return O},ck:function(){return y},RR:function(){return Z}});var r=n(62171),i=n(90129),o=n(90983),a=n(298),c=n(19836),s=n(48937),u=n(42463),l=n(14044),d=n(32620),f=n(25457),p=n(86252),m=n(30847),h=n(20092),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{text:e,isEditable:t}},g=function(e){return e>=12||-1===e?"ADULT":e>=2?"CHILD":e>=0?"INFANT":"ADULT"},y=function(e,t,n){if(t!==n){var r,i,o=null===(r=(0,d.Ay)(e,t))||void 0===r?void 0:r.age,a=null===(i=(0,d.Ay)(e,n))||void 0===i?void 0:i.age,c=g(o),s=g(a);return{departureAgeType:c,arrivalAgeType:s}}},x=function(e){var t=(0,u.XE)(),n=(0,u.it)(),r=(0,l.h)(e),i=y(r,t,n),o=i||{},a=o.departureAgeType,c=void 0===a?"":a,s=o.arrivalAgeType,d=void 0===s?"":s;return c&&d&&c!==d?"ADULT"===d?"1":"2":""},_=function(e,t,n,r){var i=n,o=n,a=!1,c=!1,s=!1,u=!1;if(x(e)){var l=(0,m.l)((null===r||void 0===r?void 0:r.spnlst)||[],h.Fx.BabyTypeChange)||"3",d=(0,m.l)((null===r||void 0===r?void 0:r.spnlst)||[],h.Fx.ChildTypeChange)||"3";"1"===x(e)?"1"===d?(i="CHILD",null!==t&&void 0!==t&&t.CHILD?o="CHILD":null!==t&&void 0!==t&&t.CHILD_BOOK_ADULT&&(o="CHILD_BOOK_ADULT")):"2"===d?a=!0:"3"===d&&(s=!0):"2"===x(e)&&("1"===l?(i="INFANT",null!==t&&void 0!==t&&t.INFANT?o="INFANT":null!==t&&void 0!==t&&t.INFANT_BOOK_CHILD?o="INFANT_BOOK_CHILD":null!==t&&void 0!==t&&t.INFANT_BOOK_ADULT&&(o="INFANT_BOOK_ADULT")):"2"===l?null!==t&&void 0!==t&&t.CHILD&&(c=!0):"3"===l&&(u=!0))}else"CHILD"===i&&(null!==t&&void 0!==t&&t.CHILD||null===t||void 0===t||!t.CHILD_BOOK_ADULT||(o="CHILD_BOOK_ADULT")),"INFANT"===i&&(null!==t&&void 0!==t&&t.INFANT||(o=null!==t&&void 0!==t&&t.CHILD?"INFANT_BOOK_CHILD":"INFANT_BOOK_ADULT"));return{passengerType:i,ticketType:o,forceChildBookAdult:a,forceInfantBookChild:c,forbidChildBook:s,forbidInfantBook:u}},N=n(69972),b=n(44720),T=n(47844),w=function(){return(0,b.s7)(N.h.getState())};function C(e){var t,n=e,i=w(),o=(null===i||void 0===i?void 0:i.policy)||{},a=o.totalPrices,c=o.restriction,s=c||{},u=s.adultAgeLimits,l=s.childAgeLimits,d=s.babyAgeLimits;"CHILD"===e&&(null!==a&&void 0!==a&&a.CHILD||null===a||void 0===a||!a.CHILD_BOOK_ADULT||(n="CHILD_BOOK_ADULT")),"INFANT"===e&&(null!==a&&void 0!==a&&a.INFANT||(n=null!==a&&void 0!==a&&a.CHILD?"INFANT_BOOK_CHILD":"INFANT_BOOK_ADULT"));var f=[{limit:u,type:"ADULT"},{limit:u,type:"CHILD_BOOK_ADULT"},{limit:u,type:"INFANT_BOOK_ADULT"},{limit:l,type:"CHILD"},{limit:l,type:"INFANT_BOOK_CHILD"},{limit:d,type:"INFANT"}],p=null===(t=f.find((function(e){return e.type===n})))||void 0===t?void 0:t.limit,m="",h="",v=[];return p&&p.length&&(v=r.R.clone(p),m="\u9650",m+=(0,T.g)(v),h=(0,T.g)(v),m+="\u4e58\u5ba2\u9884\u8ba2"),{limits:{all:v},errorText:m,leastOneText:h}}var I=n(51491),E=n(43762),S=n(54491),j={W:"multi.card.week.tip",T:"multi.card.strong.tip"},k=function(e){var t,n=e.age,r=e.passengerType,i=C(r);if(null!==(t=i.limits)&&void 0!==t&&null!==(t=t.all)&&void 0!==t&&t.length){var a,c=(0,o.Z)(i.limits.all);try{for(c.s();!(a=c.n()).done;){var s=a.value;if(s.minAge<=n&&n<s.maxAge)return}}catch(e){c.e(e)}finally{c.f()}}return v(i.errorText)},A=function(e,t){return t?I.Iy.find((function(t){return t.type===e}))&&t.includes(String((0,E.hs)(e))):I.Iy.find((function(t){return t.type===e}))},P=function(e,t,n){var r,o,a,c=null===e||void 0===e||null===(r=e[0])||void 0===r?void 0:r.age,s=(null===t||void 0===t?void 0:t.spnlst)||[],u=((null===(o=(0,m.Z)(s,h.Fx.ChildCompanionAgeLimit))||void 0===o||null===(o=o.split("|"))||void 0===o?void 0:o[0])||"0-12").split("-"),l=(0,m.Z)(s,h.Fx.ChildCompanionAgeLimitTip),d=(0,m.Z)(s,h.Fx.OldCompanionAgeLimit),f=(0,m.Z)(s,h.Fx.OldCompanionAgeLimitTip),p=(0,i.Z)(u,2),v=p[0],g=void 0===v?"0":v,y=p[1],x=void 0===y?"12":y,_=Number(g),N=Number(x),b="",T="";c>=_&&c<N&&(b=l,n>=_&&n<N||2!==(null===(a=e[e.length-1])||void 0===a?void 0:a.route)||(b="\u53bb\u7a0b".concat(l)));return d&&n>=Number(d)&&(T=f),{childNeedAccompanyTip:b,oldNeedAccompanyTip:T,lastAge:n}},R=function(e,t,n,i){var o,s,f,p={tipContent:[]},y=(0,u.d2)(),x=null===y||void 0===y?void 0:y.policy,N=(null===y||void 0===y?void 0:y.sections)||[],b=x||{},T=b.supportChild,w=b.supportBaby,C=b.acardlst,I=b.salepolinfo,R=b.restriction,O=e||{},D=O.document,L=O.documents,V=O.name,Z=O.gender,M=O.phone,F=O.region,B=R||{},U=B.nationalityAllowed,q=B.nationalityDisAllowed,H=B.supportIDCardTypeString,G=(0,l.h)(e),Y=(0,S.e)(n,null===D||void 0===D?void 0:D.type),K=null===N||void 0===N?void 0:N.length,W=[];(N||[]).forEach((function(e,t){var n=e.segments;(n||[]).forEach((function(e){var n,r=e.departDateTime,i=null===(n=(0,d.Ay)(G,r))||void 0===n?void 0:n.age;W.some((function(e){return e.age===i}))||W.push({age:i,route:t+1})}))}));var z,Q=K&&(null===(o=N[K-1])||void 0===o||null===(o=o.segments)||void 0===o?void 0:o.length),$=null===(s=N[K-1])||void 0===s||null===(s=s.segments[Q-1])||void 0===s?void 0:s.departDateTime,X=null===(f=(0,d.Ay)(G,$))||void 0===f?void 0:f.age,J=g(X),ee=(null===x||void 0===x?void 0:x.totalPrices)||{},te=_(e,ee,J,I),ne=te.passengerType,re=te.ticketType,ie=te.forceChildBookAdult,oe=te.forbidChildBook,ae=te.forceInfantBookChild,ce=te.forbidInfantBook,se=L.some((function(e){return"ID"===e.type&&e.no})),ue=L.some((function(e){return"PASSPORT"===e.type&&e.no})),le=L.some((function(e){return e.no})),de=function(){var n;if("ADULT"===ne&&(null===M||void 0===M||!M.mobile)&&null!==R&&void 0!==R&&R.phoneLimit)return p.checkError=v("\u8bf7\u8865\u5145\u8054\u7cfb\u65b9\u5f0f",!0),0;if(null===D||void 0===D||!D.no)return p.checkError=v("PASSPORT"===(null===D||void 0===D?void 0:D.type)?"\u8bf7\u8865\u5145\u60a8\u7684\u62a4\u7167\u4fe1\u606f":"\u8bf7\u8865\u5145\u60a8\u7684\u8bc1\u4ef6\u4fe1\u606f",!0),0;var o=A("PASSPORT",H),a=A(null===D||void 0===D?void 0:D.type,H);if(!o&&null!==V&&void 0!==V&&V.chineseName&&ue&&!se)return p.checkError=v("\u8bf7\u8865\u5145\u60a8\u7684\u62a4\u7167\u4fe1\u606f",!0),0;if(!o&&(null===V||void 0===V||!V.chineseName)&&null!==V&&void 0!==V&&V.englishName&&ue&&!se)return p.checkError=v("\u8bf7\u8865\u5145\u4e2a\u4eba\u4fe1\u606f",!0),0;if(!a&&(null!==V&&void 0!==V&&V.chineseName||null!==V&&void 0!==V&&V.englishName)&&!se&&!ue)return p.checkError=v("\u8bf7\u8865\u5145\u60a8\u7684\u62a4\u7167\u4fe1\u606f",!0),0;if(null!==V&&void 0!==V&&V.englishName&&(null===V||void 0===V||!V.chineseName)&&!le)return p.checkError=v(o?"\u8bf7\u8865\u5145\u60a8\u7684\u62a4\u7167\u4fe1\u606f":"\u8bf7\u8865\u5145\u4e2a\u4eba\u4fe1\u606f",!0),0;if(null===V||void 0===V||!V.englishName)return p.checkError=v("\u8bf7\u8865\u5145\u60a8\u7684\u82f1\u6587\u59d3\u540d",!0),0;if(!Z||"MALE"!==Z&&"FEMALE"!==Z)return p.checkError=v("\u8bf7\u8865\u5145\u6027\u522b\u4fe1\u606f",!0),0;if(N&&N.length&&D&&Y){var s=N[N.length-1].segments,u=s[s.length-1],l=(0,r.dayjs)(u.departDateTime),d=D||{},f=d.expired,g=void 0===f?"":f,y=d.interceptStatus,x=void 0===y?"":y;if(["W","T"].includes(x)&&t&&null!==t&&void 0!==t&&t.length){var _=j[x],b=t.find((function(e){return(null===e||void 0===e?void 0:e.key)===_}));return p.checkError=v(null===b||void 0===b?void 0:b.value,!0),0}if(!g)return p.checkError=v("\u8bf7\u8865\u5145\u60a8\u7684\u8bc1\u4ef6\u6709\u6548\u671f\u4fe1\u606f",!0),0;if(u&&u.departDateTime&&g&&(0,r.dayjs)(g).isBefore(l,"date")&&!i&&!["W","T"].includes(x))return p.checkError=v("\u8bc1\u4ef6\u6709\u6548\u671f\u65f6\u95f4\u9700\u5927\u4e8e\u65c5\u884c\u65e5\u671f",!0),0}var S=(0,c.mm)(e,Y);if(S)return p.checkError=v(S,!0),0;if(null===F||void 0===F||!F.name)return p.checkError=v("\u8bf7\u9009\u62e9\u56fd\u7c4d\uff08\u56fd\u5bb6/\u5730\u533a\uff09",!0),0;if(U&&!U.includes(null===F||void 0===F?void 0:F.acronym)||q&&q.includes(null===F||void 0===F?void 0:F.acronym))return p.checkError=v("\u8be5\u4ea7\u54c1\u4e0d\u652f\u6301".concat(F.name,"\u7c4d\u4e58\u5ba2\u9884\u8ba2\uff0c\u8bf7\u9009\u62e9\u5176\u4ed6\u4ea7\u54c1"),!0),0;var O=null===C||void 0===C?void 0:C.find((function(e){return e.nat===(null===F||void 0===F?void 0:F.acronym)}));if(O||(O=null===C||void 0===C?void 0:C.find((function(e){return"*"===e.nat}))),O){var L,B=null===(L=O)||void 0===L?void 0:L.clst.find((function(e){return(0,E.ix)(e.ctype)===(null===D||void 0===D?void 0:D.type)}));null!==B&&void 0!==B&&B.isd||(null===B||void 0===B?void 0:B.msg)&&p.tipContent.push(null===B||void 0===B?void 0:B.msg)}if("ADULT"===ne){if(oe)return p.checkError=v("\u4e58\u5ba2\u5728\u65c5\u9014\u4e2d\u5c06\u6ee112\u5468\u5c81\uff0c\u8bf7\u6309\u6bcf\u7a0b\u51fa\u53d1\u65f6\u7684\u5e74\u9f84\u5206\u5f00\u9884\u8ba2\u513f\u7ae5\u7968\uff082-12\u5c81\uff09\u3001\u6210\u4eba\u7968\uff0812\u5c81\u53ca\u4ee5\u4e0a\uff09\uff0c\u6216\u62e8\u6253\u643a\u7a0b\u5ba2\u670d\u7535\u8bdd(95010)\u9884\u8ba2",!1),0;ie&&p.tipContent.push("\u4e58\u5ba2\u5728\u65c5\u9014\u4e2d\u5c06\u6ee112\u5468\u5c81\uff0c\u6309\u822a\u53f8\u89c4\u5b9a\uff0c\u4e3a\u60a8\u4ee5\u6210\u4eba\u4ef7\u8d2d\u4e70")}if("CHILD"===ne){if(!T)return p.checkError=v("\u8be5\u4ef7\u683c\u513f\u7ae5\u4e0d\u53ef\u8ba2",!1),0;if(ce)return p.checkError=v("\u4e58\u5ba2\u5728\u65c5\u9014\u4e2d\u5c06\u6ee12\u5468\u5c81\uff0c\u8bf7\u6309\u6bcf\u7a0b\u51fa\u53d1\u65f6\u7684\u5e74\u9f84\u5206\u5f00\u9884\u8ba2\u5a74\u513f\u7968\uff0814\u5929-2\u5c81\uff09\u3001\u513f\u7ae5\u7968\uff082-12\u5c81\uff09\uff0c\u6216\u62e8\u6253\u643a\u7a0b\u5ba2\u670d\u7535\u8bdd(95010)\u9884\u8ba2",!1),0;"CHILD_BOOK_ADULT"===re&&p.tipContent.push("\u6b63\u4ee5\u6210\u4eba\u7968\u4ef7\u683c\u4e3a\u513f\u7ae5\u8d2d\u7968\uff0c\u5efa\u8bae\u6539\u8d2d\u513f\u7ae5\u7968"),ae&&p.tipContent.push("\u4e58\u5ba2\u5728\u65c5\u9014\u4e2d\u5c06\u6ee12\u5468\u5c81\uff0c\u6309\u822a\u53f8\u89c4\u5b9a\uff0c\u4e3a\u60a8\u4ee5\u513f\u7ae5\u4ef7\u8d2d\u4e70")}if("INFANT"===ne){if(!w)return p.checkError=v("\u8be5\u4ef7\u683c\u5a74\u513f\u4e0d\u53ef\u8ba2",!1),0;"INFANT_BOOK_ADULT"===re&&p.tipContent.push("\u6b63\u4ee5\u6210\u4eba\u7968\u4ef7\u683c\u4e3a\u513f\u7ae5\u8d2d\u7968\uff0c\u5efa\u8bae\u6539\u8d2d\u513f\u7ae5\u7968"),"INFANT_BOOK_CHILD"===re&&p.tipContent.push("\u6b63\u4ee5\u6210\u4eba\u7968\u4ef7\u683c\u4e3a\u513f\u7ae5\u8d2d\u7968\uff0c\u5efa\u8bae\u6539\u8d2d\u513f\u7ae5\u7968")}var G=(0,m.Z)((null===I||void 0===I?void 0:I.spnlst)||[],h.Fx.OldPersonAgeLimit)||"100";return X>=Number(G)?(p.checkError=v("\u6309\u822a\u7a7a\u516c\u53f8\u89c4\u5b9a\uff0c".concat(G,"\u5468\u5c81\uff08\u542b\uff09\u4ee5\u4e0a\u65c5\u5ba2\u4e0d\u5f97\u4e58\u5750\u98de\u673a"),!1),0):(W.forEach((function(e){var t=e.age,n=k({age:t,passengerType:ne});null!==n&&void 0!==n&&n.text&&(p.checkError=n)})),p.companion=P(W,I,X),null!==(n=p.checkError)&&void 0!==n&&n.text,0)};while(1)if(z=de(),0===z)break;return(0,a.Z)((0,a.Z)({},p),{},{passengerType:ne})},O=function(e,t){var n=(0,d.Ay)(e,t),r=n.age,i=n.isSmallerThan14Days,o=g(r);return{age:r,isSmallerThan14Days:i,passengerType:o}},D=80,L=function(e){var t,n;return!(!["ID","RESIDENCE"].includes((null===(t=e.document)||void 0===t?void 0:t.type)||"")||e.name.chineseName)||!(!["PASSPORT"].includes((null===(n=e.document)||void 0===n?void 0:n.type)||"")||e.name.englishName)},V=function(e){var t,n,r;return e.nameError?5:null!==(t=e.checkError)&&void 0!==t&&t.text&&null!==(n=e.checkError)&&void 0!==n&&n.isEditable?4:null!==(r=e.checkError)&&void 0!==r&&r.text?3:e.checked?1:2},Z=function(e){return r.R.sort((function(e,t){return V(e)-V(t)}),e)},M=function(e,t){var n=(0,u.D$)(t),i=n.ticketCount,o=n.max,c=0;return r.R.map((function(e){return e.checked&&(c++,c>i||c>o)?(0,a.Z)((0,a.Z)({},e),{},{checked:!1}):e}),e)},F=function(e){var t=e.gender,n=e.document,r=null===n||void 0===n?void 0:n.no;if(t){if("MALE"===t)return 2;if("FEMALE"===t)return 1}else if(r)return r.slice(-2,-1)%2===1?2:1},B=function(e,t){var n,r,i=(0,u.d2)(),a=(0,u.YW)(null===i||void 0===i||null===(n=i.policy)||void 0===n?void 0:n.restriction);if(!a.leastOne){if(null!==(r=a.limits)&&void 0!==r&&null!==(r=r.all)&&void 0!==r&&r.length){var c,s=(0,o.Z)(a.limits.all);try{for(s.s();!(c=s.n()).done;){var l=c.value;if(l.minAge<=t&&t<l.maxAge)return}}catch(e){s.e(e)}finally{s.f()}}else{var d,f,p=F(e),m=2===p?null===(d=a.limits)||void 0===d?void 0:d.male:null===(f=a.limits)||void 0===f?void 0:f.female;if(!m)return;var h,g=(0,o.Z)(m);try{for(g.s();!(h=g.n()).done;){var y=h.value;if(y.minAge<=t&&t<y.maxAge)return}}catch(e){g.e(e)}finally{g.f()}}return v(a.errorText)}},U=function(e,t){return r.R.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{name:(0,c.wH)(e.type,t)})}),e||[])},q=function(e,t){var n,r=t.age,i=t.isSmallerThan14Days,o=t.passengerType,a=t.ticketTypes,c=t.isChunQiu;return("CHILD"===o||r>=2&&r<12)&&!a.some((function(e){return"CHILD"===e||"CHILD_BOOK_ADULT"===e}))?{nameError:"\u513f\u7ae5\u4e0d\u53ef\u8ba2",checkError:v("\u8be5\u4ef7\u683c\u513f\u7ae5\u4e0d\u53ef\u8ba2")}:("INFANT"===o||r>=0&&r<2)&&!a.includes("INFANT")?{nameError:"\u5a74\u513f\u4e0d\u53ef\u8ba2",checkError:v("\u8be5\u4ef7\u683c\u5a74\u513f\u4e0d\u53ef\u8ba2")}:i?{nameError:"\u5a74\u513f\u4e0d\u53ef\u8ba2",checkError:v("\u51fa\u751f\u4e0d\u6ee114\u5929\u7684\u5a74\u513f\u4e0d\u80fd\u767b\u673a")}:r>100?{nameError:"100\u5c81\u4ee5\u4e0a\u4e0d\u53ef\u8ba2",checkError:v("100\u5c81\u4ee5\u4e0a\u4e0d\u53ef\u8ba2")}:"RESIDENCE"===(null===(n=e.document)||void 0===n?void 0:n.type)&&r>=16?{checkError:v("\u5e74\u6ee116\u5468\u5c81\u7684\u4e58\u5ba2\uff0c\u9700\u4f7f\u7528\u9664\u6237\u53e3\u7c3f\u5916\u7684\u5176\u4ed6\u6709\u6548\u8bc1\u4ef6\u4e58\u673a",!0)}:c&&r>=D?{checkError:v("\u6625\u79cb\u822a\u7a7a\u4e0d\u652f\u6301\u5e74\u6ee1".concat(D,"\u5468\u5c81\u7684\u4e58\u5ba2\u4e58\u673a"),!0)}:{checkError:B(e,r)}},H=function(e,t){var n=(0,u.OH)(t);if((null===n||void 0===n?void 0:n.length)>0){var r,i=null===e||void 0===e||null===(r=e.document)||void 0===r?void 0:r.agreementIDList,o=new Set(i),a=n.filter((function(e){return o.has(e)}));if(null===a||void 0===a||!a.length)return v("\u5f53\u524d\u4ef7\u683c\u4e3a\u6307\u5b9a\u4e58\u673a\u4eba\u4e13\u4eab\uff0c\u8be5\u4e58\u673a\u4eba\u4e0d\u53ef\u9884\u8ba2")}},G=function(e){var t={},n="",o=(0,u.d2)()||{},d=o.policy,p=o.sections,m=void 0===p?[]:p,h=(0,u.XE)(),g=(0,u.oR)(),y=Object.keys((null===d||void 0===d?void 0:d.totalPrices)||{}),x=(0,u.aD)(m),_=e.document,N=(0,l.h)(e);while(1){var b,T,w,C=O(N,h);if(n=C.passengerType,s.F.isFlightHotel){var I,E=null!==(I=null===_||void 0===_?void 0:_.type)&&void 0!==I?I:"",S="",j=s.F.getPassengerValidInfo(E,S),k=(0,i.Z)(j,2),A=k[0],P=k[1];if(!A&&P){t={nameError:"",checkError:v(P)};break}}if(t=q(e,(0,a.Z)({ticketTypes:y,isChunQiu:x},C)),null!==(b=t.checkError)&&void 0!==b&&b.text)break;if(h!==g){var R,D=O(N,g);if(n=D.passengerType,t=q(e,(0,a.Z)({ticketTypes:y,isChunQiu:x},D)),null!==(R=t.checkError)&&void 0!==R&&R.text)break}if(t.checkError=H(e,d),null!==(T=t.checkError)&&void 0!==T&&T.text)break;if(null!==d&&void 0!==d&&null!==(w=d.restriction)&&void 0!==w&&w.phoneLimit){if(!e.phone.mobile){t.nameError="\u8bf7\u8865\u5145\u8054\u7cfb\u65b9\u5f0f",t.checkError=v("\u8bf7\u586b\u5199\u4e58\u673a\u4eba\u624b\u673a\u53f7\uff0c\u63a5\u6536\u822a\u73ed\u52a8\u6001\u4fe1\u606f",!0);break}var V=f.Z.VALIDATOR.MOBILE(e.phone.mobile,{regionCode:e.phone&&e.phone.code||"86"});if(t.checkError=v(V,!0),V)break}if(!N){t.checkError=v("\u8bf7\u8865\u5145\u4e2a\u4eba\u4fe1\u606f",!0);break}if(null===_||void 0===_||!_.no){if(L(e)){t.checkError=v("\u8bf7\u8865\u5145\u4e2a\u4eba\u4fe1\u606f",!0);break}t.checkError=v("\u8bf7\u8865\u5145\u8bc1\u4ef6\u4fe1\u606f",!0);break}if("ID"===(null===_||void 0===_?void 0:_.type)&&!e.name.chineseName){t.checkError=v("\u8bf7\u8865\u5145\u4e2d\u6587\u59d3\u540d",!0);break}if(m&&m.length){var Z=m[m.length-1].segments,M=Z[Z.length-1],F=(0,r.dayjs)(M.time),B=f.Z.getSetting(),U=r.R.find((function(e){return"expired"===e.name}),B[_.type]),G=!U||!!U.isOptional;if(!G&&M&&M.time&&_.expired&&(0,r.dayjs)(_.expired).isBefore(F,"date")){t.checkError=v("\u8bc1\u4ef6\u6709\u6548\u671f\u65f6\u95f4\u9700\u5927\u4e8e\u65c5\u884c\u65e5\u671f",!0);break}}var Y="PASSPORT"===_.type&&e.region&&e.region.acronym&&["HK","TW","MO"].includes(e.region.acronym);if(Y){t.checkError=v("passport_region_invalid",!0);break}var K=(0,c.mm)(e);if(K){t.checkError=v(K,!0);break}break}if(!t.checkError){var W,z,Q,$=(0,c.pB)(null===(W=e.document)||void 0===W?void 0:W.type,null===(z=e.region)||void 0===z?void 0:z.acronym),X=(0,c.iS)(null===(Q=e.document)||void 0===Q?void 0:Q.type),J=[],ee=e.name||{},te=ee.chineseName,ne=ee.surName,re=ee.givenName;$&&J.push({type:"NAME",value:te}),X&&J.push({type:"SUR_NAME",value:ne},{type:"GIVEN_NAME",value:re});for(var ie=0,oe=J;ie<oe.length;ie++){var ae=oe[ie],ce=ae.type,se=ae.value,ue=f.Z.VALIDATOR[ce](se);if(ue){t.checkError=v(ue,!0);break}}}var le=r.R.flatten((null===d||void 0===d?void 0:d.productTypes)||[]),de=1===(1&e.identity);return null!==le&&void 0!==le&&le.length&&le.indexOf("LIMITED_STUDENT")>-1&&!de&&(e.defaultNoCheck=!0),(0,a.Z)((0,a.Z)({},t),{},{passengerType:n})},Y=function(e,t,n,r,i){var o=U(e.documents,t);e=(0,c.yC)((0,a.Z)((0,a.Z)({},e),{},{documents:o}),t);var s=(0,c.oY)(e),u=t?R:G,l=u(e,n,r,i),d=l.nameError,f=l.checkError,p=l.passengerType,m=l.tipContent,h=void 0===m?[]:m,v=l.companion,g=void 0===v?{}:v;return(0,a.Z)((0,a.Z)({},e),{},{passengerType:p,checkError:f,nameError:d,tipContent:h,companion:g,name:s})},K=function(e,t){var n=(e||[]).map((function(e){return Y(e,t)})),r=M(n);return Z(r)},W=function(e,t){return!!(e.pinyin&&t.pinyin&&e.pinyin.length&&t.pinyin.length)&&r.R.find((function(e){return r.R.find((function(t){return e===t}),t.pinyin||[])}),e.pinyin||[])},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!r.R.find((function(t){return!!W(e,t)}),t||[])&&(n||(0,p.Ic)("2\u4f4d\u4e58\u5ba2\u59d3\u540d\u76f8\u540c\u6216\u56e0\u59d3\u540d\u4e2d\u542b\u6709\u591a\u97f3\u6c49\u5b57\u5bfc\u81f4\u62fc\u97f3\u76f8\u540c\uff0c\u8bf7\u5206\u5f00\u9884\u8ba2"),!0)},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!r.R.find((function(t){var n,r;return!(null===e||void 0===e||null===(n=e.name)||void 0===n||!n.name||null===t||void 0===t||null===(r=t.name)||void 0===r||!r.name||e.name.name!==t.name.name)}),t||[])&&(n||(0,p.Ic)("2\u4f4d\u4e58\u5ba2\u59d3\u540d\u76f8\u540c\uff0c\u82e5\u786e\u8ba4\u586b\u5199\u65e0\u8bef\uff0c\u8bf7\u5206\u5f00\u9884\u8ba2"),!0)},$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!r.R.find((function(t){var n,r,i,o,a=((null===e||void 0===e||null===(n=e.document)||void 0===n?void 0:n.type)||"")+"|"+((null===e||void 0===e||null===(r=e.document)||void 0===r?void 0:r.no)||""),c=((null===t||void 0===t||null===(i=t.document)||void 0===i?void 0:i.type)||"")+"|"+((null===t||void 0===t||null===(o=t.document)||void 0===o?void 0:o.no)||"");return!(!a||!c||a!==c)}),t||[])&&(n||(0,p.Ic)("2\u4f4d\u4e58\u5ba2\u8bc1\u4ef6\u53f7\u91cd\u590d\uff0c\u8bf7\u6838\u5bf9\u4fee\u8ba2\u540e\u518d\u63d0\u4ea4"),!0)},X=function(e,t,n){var r=(0,u.d2)(),i=(0,u.D$)(null===r||void 0===r?void 0:r.policy),o=t.TOTAL,a=t.INFANT;if(o>=i.max){var c=i.min===i.max?i.min:"".concat(i.min,"-").concat(i.max);return v("\u8be5\u4ef7\u683c\u9650\u5236".concat(c,"\u4eba\u9884\u8ba2"))}if(n){var s=o-a;if(s>=i.ticketCount&&"INFANT"!==e)return v("\u5f88\u62b1\u6b49\uff0c\u56e0\u7968\u91cf\u6709\u9650\uff0c\u6700\u591a\u53ea\u80fd\u6dfb\u52a0".concat(i.ticketCount,"\u540d\u4e58\u673a\u4eba"))}else{if(1===i.ticketCount&&"ADULT"!==e)return v("\u4ec5\u5269\u4e00\u5f20\u4f59\u7968\uff0c\u53ea\u80fd\u8ba2\u6210\u4eba\u7968");if(o>=i.ticketCount)return v("\u9009\u62e9\u7684\u4e58\u673a\u4eba\u603b\u4eba\u6570\u4e0d\u80fd\u8d85\u8fc7\u4f59\u7968\u6570\u91cf".concat(i.ticketCount))}if(o>=i.limit)return v("\u9009\u62e9\u7684\u4e58\u673a\u4eba\u603b\u4eba\u6570\u4e0d\u80fd\u8d85\u8fc7\u6700\u5927\u9650\u5236\u4eba\u6570".concat(i.limit))},J=function(e,t,n){var r=t||{},i=r.restriction,o=r.ticketCount,a=i||{},c=a.minPassengerNum,s=void 0===c?1:c,u=a.maxPassengerNum,l=void 0===u?9:u,d=o?o>9?9:o:9,f=0;if(f=n?e.ADULT:e.TOTAL,l&&f>l||s&&s>f){var p=s===l?s:"".concat(s+"~"+l);return"\u6b64\u4f18\u60e0\u4ef7\u683c\u9650<HL>".concat(p,"\u4eba</HL>\u9884\u8ba2").concat(n?"(\u513f\u7ae5\u5a74\u513f\u4e0d\u8ba1\u5165\u603b\u4eba\u6570)":"","\uff0c\u8bf7\u8fd4\u56de\u6dfb\u52a0\u4e58\u5ba2\u6216\u9009\u62e9\u5176\u4ed6\u4ef7\u683c")}return f>d?"\u9009\u62e9\u7684\u4e58\u673a\u4eba\u603b\u4eba\u6570\u4e0d\u80fd\u8d85\u8fc7\u4f59\u7968\u6570\u91cf".concat(d):""},ee={getRank:V,setError:v,checkAge:B,_getGender:F,checkCount:X,checkPassenger:Y,checkPassengerTarget:H,checkHomophone:W,_checkHomophone:z,_checkName:Q,_checkCardNo:$,_checkPassenger:G,_getTicketLimitErr:J,_checkPassengerTicketType:_,_passengerTypeChange:x},te=ee},55590:function(e,t,n){"use strict";n.d(t,{pw:function(){return b}});var r=n(62171),i=n(43752),o=n(24873),a=n(90129),c=n(63745),s=n(67316),u=n(25651),l=n(298),d=n(47130),f=n(57062),p=n(80425),m=n(61382),h=new m.Z({name:p.m8.COMPLETION,needLogin:!0,h5:function(e){var t=e.businessParam,n=(0,l.Z)((0,l.Z)({},p.AA.common),{},{fat:"https://m.ares.fws.qa.nt.ctripcorp.com"})[(0,d.i)()]||p.AA.common.prd;return{url:"".concat(n,"/webapp/cw/flight/completepage/index.html"),query:{channel:(0,f.Cr)()||(0,f.eW)()?1:2,business_param:encodeURIComponent(JSON.stringify(t))}}},target:{mini:u.t.h5,h5:u.t.h5}}),v=n(66792),g=n(69121),y=(0,r.wrapRunOnlyUser)((function(e,t,n){var o=e.payToken,l=e.requestId,d=e.busType,f=e.orderIds,p=(0,a.Z)(f,1),m=p[0],y=v.Z.getSwitcher("useDirectPayNew",!1),x=(0,g.Qi)("230329_FLT_txyqz"),_="B"===x;if(y&&_){var N={orderParamString:{OrderList:r.R.map((function(e){return{IsMaster:0===f.indexOf(e),OrderId:e}}),f),TripRouteType:"DOMESTIC"===n?1:2}};c.Y8.payment.callPay2({serverData:{requestId:l,orderId:m,payToken:o,busType:d},sbackCallback:function(e){t&&t("SUCCESS",e),h.jump({type:u.F.redirectTo,businessParam:N})},ebackCallback:function(e){t&&t("FAILURE",e),h.jump({type:u.F.redirectTo,businessParam:N})},rbackCallback:function(e){t&&t("CANCEL",e)}})}else{var b="/pages/pay/directpay/index?orderId=".concat(m,"&busType=").concat(d,"&payToken=").concat(o,"&requestId=").concat(l);(0,i.jq)("callPay",{payUrl:b,orderId:m}),(0,s.T8)({url:b})}})),x=n(32408),_=function(e,t){try{(0,i.jq)("weixin payment status is ".concat(e||""," : ").concat(JSON.stringify(t||{})))}catch(e){console.log(e)}},N=function(e,t,n){t=t||"";var r=n&&n.ErrorMessage||"";o.yG.promise({data:[{type:"PAYMENT",name:e,value:t+"|"+r}]}),_(e,n)},b=function(e){var t="INTERNATIONAL"===e?x.Y.orderResult:x.K.orderResult,n=t.orderIds[0];y(t,(function(e,t){N(e,n,t)}),e),(0,i.jq)("call_payment",{orderResult:t,regionType:e})}},24094:function(e,t,n){"use strict";n.d(t,{Tk:function(){return i},vS:function(){return o}});n(62171);var r={contact:{}},i=function(e){r.contact=e},o=function(){return r.contact};t["ZP"]={data:r}},19836:function(e,t,n){"use strict";n.d(t,{pB:function(){return g},Uo:function(){return y},iS:function(){return x},Z_:function(){return _},oY:function(){return N},Ob:function(){return b},x$:function(){return T},qi:function(){return I},$4:function(){return E},yC:function(){return S},dL:function(){return j},Wm:function(){return k},OG:function(){return A},g6:function(){return P},vO:function(){return R},wH:function(){return O},lC:function(){return D},Jw:function(){return V},xk:function(){return Z},mm:function(){return M}});var r=n(90983),i=n(298),o=n(62171),a=n(16921),c=n(51491),s=n(42463),u=n(43762),l=n(54491),d=n(25457),f=n(8811),p=n(13374),m=["ID","HK_MO_TW"],h=["PASSPORT","HOME_VISIT_PERMIT","TW_SIBLING","PERMANENT_RESIDENCE_ID","TW","HK_MO"],v=["RESIDENCE","BIRTH_CERTIFICATE","ARMY"],g=function(e,t){return!e||!h.includes(e)&&([].concat(v,m).includes(e)?"BIRTH_CERTIFICATE"!==e||"CN"===t:void 0)},y=function(e,t){return!!e&&!(!["PASSPORT","HOME_VISIT_PERMIT","TW_SIBLING","TW","HK_MO"].includes(e)||t&&"CN"!==t)},x=function(e){return!!e&&(!m.includes(e)&&(!![].concat(v,h).includes(e)||void 0))},_=function(e){return e&&e.surName&&e.givenName?e.surName.toUpperCase()+"/"+e.givenName.toUpperCase():""},N=function(e){var t=e.document,n=e.name,r=(null===t||void 0===t?void 0:t.type)||"",o=g(r),a=x(r);return o&&!a?(0,i.Z)((0,i.Z)({},n),{},{name:n&&n.chineseName||n.name}):a&&!o?(0,i.Z)((0,i.Z)({},n),{},{name:_(n)||n.name}):(0,i.Z)((0,i.Z)({},n),{},{name:n.name})},b=function(e){var t=e.document,n=e.name,r=n.chineseName,i=_(n),o=(null===t||void 0===t?void 0:t.type)||"",a=g(o),c=x(o);return a&&!c?r||n.name:c&&!a?i||n.name:r||i},T=function(e,t){var n;if(t===(null===(n=e.document)||void 0===n?void 0:n.type))return e.document;var r=o.R.find((function(e){var n=e.type;return n===t}),e.documents);return r||{type:t}},w=function(e,t){var n,r=null===(n=(0,s.d2)())||void 0===n||null===(n=n.policy)||void 0===n?void 0:n.restriction,i=o.R.clone(e?c.Iy:c.qe);r&&r.cardTypes&&r.cardTypes.length&&(i=i.filter((function(e){var t;return null===(t=r.cardTypes)||void 0===t?void 0:t.includes(e.type)})));var a=t||{},l=a.region,d=null===l||void 0===l?void 0:l.acronym;if(e&&d){var f,p=(null===(f=(0,s.d2)())||void 0===f||null===(f=f.policy)||void 0===f?void 0:f.acardlst)||[],m=null===p||void 0===p?void 0:p.find((function(e){return e.nat===d}));if(m||(m=null===p||void 0===p?void 0:p.find((function(e){return"*"===e.nat}))),m){var h=[];return m.clst.forEach((function(e){h.push((0,u.ix)(e.ctype)||"")})),i.filter((function(e){return h.includes(e.type)}))}}return i},C=function(e,t){var n=w(e,t);if(e){var r,i=t||{},o=i.region,a=i.document,c=i.documents,l=null===o||void 0===o?void 0:o.acronym,d=(null===(r=(0,s.d2)())||void 0===r||null===(r=r.policy)||void 0===r?void 0:r.acardlst)||[],f=null===d||void 0===d?void 0:d.find((function(e){return e.nat===l}));if(f||(f=null===d||void 0===d?void 0:d.find((function(e){return"*"===e.nat}))),f){var p=n.map((function(e){return e.type}));if(a&&p.includes(null===a||void 0===a?void 0:a.type)&&null!==a&&void 0!==a&&a.no)return a;var m=(c||[]).find((function(e){return p.includes(e.type)}));return m||(0,u.mi)(f)}}return n[0]},I=function(e,t){var n=w(t,e);return n.map((function(t){var n,r=o.R.find((function(e){return e.type===t.type}),e.documents);return(0,i.Z)((0,i.Z)({},t),{},{value:r&&r.no,checked:t.type===(null===(n=e.document)||void 0===n?void 0:n.type)})}))},E=function(e,t,n,r){var i=e.document.type,o={},c=d.Z.getSetting(),s=!0;return n&&(s=(0,l.e)(r,i)),c[i].forEach((function(r){if((!n||"NAME"!==r.type)&&(!n||s||"expired"!==r.name)){var i=(0,a.U2)(e,r.field),c=e&&e.phone&&e.phone.code;(i||!t&&!r.isOptional)&&(o[r.name]=d.Z.VALIDATOR[r.type](i,{regionCode:c}))}})),o},S=function(e,t){var n,a=w(t,e),c=e.documents&&e.documents.map((function(e){return e.type})),s=-1,u=(0,r.Z)(a);try{for(u.s();!(n=u.n()).done;){var l=n.value,d=c&&c.indexOf(l.type);if(-1!==d){-1===s&&(s=d);var f=o.R.clone(e);if(f.document=f.documents[d],f.error=E(f,!1,t),!Object.values(f.error).length){e.document=e.documents[d];break}}}}catch(e){u.e(e)}finally{u.f()}return e.document||(e.document=-1!==s?e.documents[s]:o.R.clone(a[0]),e.checkError=(0,i.Z)((0,i.Z)({},e.checkError),{},{text:"\u8bf7\u8865\u5145".concat(a[0].name,"\u4fe1\u606f"),isEditable:!0})),e},j=function(e,t){var n=t.code,r=t.mobile,i=t.mobileForeign,o=t.mobileDomestic;return r!==o&&r!==i?e?{showMobile:r,showCode:n}:{showMobile:o,showCode:"86"}:"86"===n?{showMobile:o,showCode:n}:"86"!==n?{showMobile:i,showCode:n}:{showMobile:o,showCode:"86"}},k=function(e){var t=null!==e&&void 0!==e&&e.mobileDomestic?null===e||void 0===e?void 0:e.mobileDomestic:"86"===(null===e||void 0===e?void 0:e.code)?null===e||void 0===e?void 0:e.mobile:"",n="86"!==(null===e||void 0===e?void 0:e.code)?null===e||void 0===e?void 0:e.mobile:null===e||void 0===e?void 0:e.mobileForeign,r=(0,i.Z)((0,i.Z)({code:"86"},e),{},{codeDomestic:"86",mobileDomestic:t,mobileForeign:n});return r},A=function(e,t){var n=e||{},r=n.phone,o=n.name,a=n.region,c=C(t,e),s=k(r);return(0,i.Z)((0,i.Z)({id:"",isNew:!e,checked:!1,documents:[],document:c,birth:"",passengerType:"",identity:0},e),{},{region:(0,i.Z)({code:"",acronym:"",name:""},a),phone:(0,i.Z)({},s),name:(0,i.Z)({},o),error:{}})},P=function(e){var t=e||{},n=t.cardType,r=t.cardNo,o=t.name,a=k(),c=(0,f.U)(n);return{id:"",birth:"",passengerType:"",identity:0,error:{},isNew:!1,phone:(0,i.Z)({},a),document:{no:r,type:(0,f.U)(n),name:p.zR[c],valid:!0},name:{name:o,chineseName:"ID"===c?o:"",englishName:"PASSPORT"===c?o:""},documents:[{no:e.cardNo,type:(0,f.U)(e.cardType),name:p.zR[c],valid:!0}],checked:!0}},R=function(e,t){if(!e||!t)return"";var n=e.filter((function(e){return e.airlineCode===t}));return n.length?n[0].cardNo:void 0},O=function(e,t){var n=t?c.Iy:c.qe,r=n.filter((function(t){return t.type===e}));return r.length?r[0].name:""},D=function(e,t){if(e.document&&e.document.type){e.document.name=O(e.document.type,t);var n=e.documents.map((function(e){return e.type})).indexOf(e.document.type);-1===n?e.documents.push(e.document):e.documents[n]=e.document}},L={},V=function(e){L.policyHolder=e},Z=function(){return L.policyHolder},M=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(null===e||void 0===e||null===(t=e.document)||void 0===t?void 0:t.type)||"",i="",o=d.Z.getSetting();return o[r].forEach((function(t){var r=[n&&"EXPIRED_DATE","GENDER","REGION","DATE"].filter(Boolean);if(r.includes(t.type)){var o=(0,a.U2)(e,t.field);!o&&t.isOptional||!d.Z.VALIDATOR[t.type](o)||(i=d.Z.VALIDATOR[t.type](o))}})),i}},98180:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(62171),i=n(24460),o=n(57042),a=n(45023),c=n(16921),s=n(32180)["window"],u=["SUCCESS","FAILURE","ERROR"],l=(0,i.Z)((function e(){(0,o.Z)(this,e),(0,a.Z)(this,"isReady",!1),(0,a.Z)(this,"state",null),(0,a.Z)(this,"lastUpdated",0),(0,a.Z)(this,"callback",{SUCCESS:{},FAILURE:{},ERROR:{}}),(0,a.Z)(this,"loadData",(function(e,t,n){var r=(0,c.Vj)();this._setCallback("SUCCESS",e,r),this._setCallback("FAILURE",t,r),this._setCallback("ERROR",n,r),this._invoke()})),(0,a.Z)(this,"_setCallback",(function(e,t,n){t&&(this.callback[e][n]=t)})),(0,a.Z)(this,"_invoke",(function(){var e=this;if(this.isReady&&this.state)for(var t=function(){var t=r[n];u.forEach((function(n){if(n===e.state){var r=e.callback[n][t];e.callback[n][t]&&delete e.callback[n][t],r&&r()}else e.callback[n][t]&&delete e.callback[n][t]}))},n=0,r=Object.keys(this.callback[this.state]);n<r.length;n++)t()})),(0,a.Z)(this,"init",(function(){this.isReady=!1,this.state=null})),(0,a.Z)(this,"onSuccess",(function(){this._onState("SUCCESS")})),(0,a.Z)(this,"onFailure",(function(){this._onState("FAILURE")})),(0,a.Z)(this,"onError",(function(){this._onState("ERROR")})),(0,a.Z)(this,"isExpired",(function(){return+new s.Date-this.lastUpdated>15e3})),(0,a.Z)(this,"_onState",(function(e){this.lastUpdated=+new s.Date,this.state=e,this.isReady=!0,this._invoke()}))})),d={data:{tripType:"",flights:[],passengers:[]},setData:function(e){this.data=e}},f={data:{errorMessage:""},state:new l},p={data:{sharePassenger:[],errorMessage:""},response:{},state:new l,init:function(){this.data.sharePassenger=[],this.response&&(this.data.sharePassenger=r.R.clone(this.response)&&r.R.clone(this.response).passengers||[])},write:function(e){this.response=e,this.init()}},m={saveSharePassenger:f,complete:d,getSharePassenger:p}},14828:function(e,t,n){"use strict";n.d(t,{pI:function(){return o},IS:function(){return a},c2:function(){return c},Og:function(){return s},X9:function(){return u}});n(62171);var r=n(298),i=n(45023),o=(0,i.Z)({ECONOMY:"ECONOMY"},"BUSINESS,FIRST","BUSINESS,FIRST"),a=(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},"ECONOMY\u3001SUPER_ECONOMY","ECONOMY\u3001SUPER_ECONOMY"),"BUSINESS\u3001FIRST","BUSINESS\u3001FIRST"),"BUSINESS","BUSINESS"),"FIRST","FIRST"),c=(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},"ECONOMY","ECONOMY"),"SUPER_ECONOMY","SUPER_ECONOMY"),"BUSINESS","BUSINESS"),"FIRST","FIRST"),s=((0,r.Z)((0,r.Z)({},c),a),{DOMESTIC:"DOMESTIC",INTERNATIONAL:"INTERNATIONAL"}),u={ONE_WAY:"ONE_WAY",ROUND_TRIP:"ROUND_TRIP",MULTIPLE_TRIP:"MULTIPLE_TRIP"}}}]);
//# sourceMappingURL=taroCommon.js.map