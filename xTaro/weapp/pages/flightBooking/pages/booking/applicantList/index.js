"use strict";require("../../../taroCommon"),(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[4193],{77085:function(t,e,i){var n=i(32180),a=i(81789),c=i(17311),s=i(298),l=i(62171),o=i(90201),p=i(5328),r=i(72950),d=i(43752),u=i(71515),m=i(12809),x=i(36903),f=i(69905),h=i(87108),g=i(94345),j=i(13374),w=i(40459),b=i(19836),v={"applicant-list-page":"ApplicantList-module_iGF4W","btn-wrap":"ApplicantList-module_zUHXi",btn:"ApplicantList-module_jWH9I","list-wrap":"ApplicantList-module_hZzvw","applicant-list-item":"ApplicantList-module_F1frY","section-operate":"ApplicantList-module_t0uli","section-info":"ApplicantList-module_owDtJ",info:"ApplicantList-module_JzfTj","basic-info":"ApplicantList-module_X7ODz","card-info":"ApplicantList-module_Oy4cI",operate:"ApplicantList-module_o0u3o"},A=i(2269),N=function(t){var e=t.applicantList,i=void 0===e?[]:e,n=t.setApplicantState,a=t.setEditApplicantState,c=t.isIntl,p=t.setApplicantList,r=t.resolve,N=t.reject,L=(0,o.useCallback)((function(t){a(t?(0,s.Z)((0,s.Z)({},t),{},{relationship:t.relationship||5,document:t.document||t.documents[0]}):void 0),(0,d.jq)("onEditApplicant",{chineseName:t&&t.name&&t.name.chineseName,desc:"\u65b0\u589e\u3001\u7f16\u8f91\u6295\u4fdd\u4eba"}),(0,h.pi)({isIntl:String(Number(c))})}),[c,a]);(0,o.useEffect)((function(){null!==i&&void 0!==i&&i.length||L()}),[i,L]);var k=(0,o.useCallback)((function(t){(0,d.jq)("onApplicantListChange",{chineseName:t.name.chineseName,desc:"\u6295\u4fdd\u4eba\u5217\u8868\u9009\u62e9\u53d1\u751f\u53d8\u5316"}),p(i.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{checked:e.id===t.id})})))}),[i,p]),_=(0,o.useCallback)((function(){var t=i.find((function(t){return t.checked}));t?(n(t),(0,f.k5)({resolve:r}),(0,d.jq)("confirm select applicant: ",{chineseName:t.name.chineseName})):(0,l.showToast)("\u8bf7\u9009\u62e9\u6295\u4fdd\u4eba")}),[i,n,r]);return(0,A.jsxs)(u.View,{className:(0,l.classnames)("applicant-list-page",v["applicant-list-page"]),children:[(0,A.jsx)(g.Z,{reject:N,title:"\u9009\u62e9\u6295\u4fdd\u4eba"}),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(u.View,{className:v["btn-wrap"],children:(0,A.jsxs)(u.View,{className:v.btn,onClick:(0,l.trackFn)("onClick--d71cd",(function(){return L()})),children:[(0,A.jsx)(u.Text,{className:"iconfont-h5 icon-add-circle"}),"\u65b0\u589e\u6295\u4fdd\u4eba"]})}),(0,A.jsx)(m.Z,{className:v["list-wrap"],scrollY:!0,id:"id_9a3ba",onScroll:(0,l.trackFn)("id_9a3ba"),children:i.map((function(t,e){var n=t.id,a=t.document,c=t.checked,s=(0,b.Ob)(t);return(0,A.jsxs)(u.View,{className:v["applicant-list-item"],onClick:(0,l.trackFn)("id_9a3ba--"+n+"--1e873",(function(){k(t)})),style:e===i.length-1&&i.length>6?{marginBottom:"240px",paddingBottom:"250px"}:{},children:[(0,A.jsx)(u.View,{className:v["section-operate"],children:c?(0,A.jsx)(u.Text,{className:"iconfont-h5 icon-selected"}):(0,A.jsx)(u.Text,{className:"iconfont-h5 icon-unselected"})}),(0,A.jsxs)(u.View,{className:(0,l.classnames)("bb-grey-1",v["section-info"]),children:[(0,A.jsxs)(u.View,{className:v.info,children:[(0,A.jsx)(u.View,{className:v["basic-info"],children:s}),(0,A.jsx)(u.View,{className:v["card-info"],children:j.zR[(null===a||void 0===a?void 0:a.type)||""]+" "+((null===a||void 0===a?void 0:a.no)||"")})]}),(0,A.jsx)(u.View,{className:v.operate,onClick:(0,l.trackFn)("id_9a3ba--"+n+"--933d7",(function(e){L(t),e.stopPropagation()})),children:(0,A.jsx)(u.Text,{className:"iconfont-h5 icon-edit"})})]})]},n)}))}),(0,A.jsx)(w.SH,{children:(0,A.jsx)(x.z,{type:"blue",onClick:(0,l.trackFn)("onClick--960c0",(function(){_()})),ubtValue:"ApplicantList",children:"\u786e\u5b9a"})})]})]})},L=N;function k(t){var e=(0,r.r0)(r.w1);return(0,A.jsx)(p.ZP,{passengerList:e,children:function(e){var i=e.applicantList,n=e.setEditApplicantState,a=e.setApplicantList,c=e.setApplicantState;return(0,A.jsx)(L,(0,s.Z)({},(0,s.Z)((0,s.Z)({},t),{},{applicantList:i,setEditApplicantState:n,setApplicantList:a,setApplicantState:c})))}})}var _=k,C=(0,a.Z)({needLogin:!0,pageId:c.x2})(_),Z={navigationBarTitleText:"",navigationBarTextStyle:"black",navigationStyle:"custom",usingComponents:{captcha:"/commonComponent/captcha_min/captcha"}};Page((0,n.createPageConfig)(C,"pages/flightBooking/pages/booking/applicantList/index",{root:{cn:[]}},Z||{}))},79181:function(t){t.exports=require("../../../../../cwx/cpage/initNavigator")},91783:function(t){t.exports=require("../../../../../cwx/cpage/ubt_wx")},56884:function(t){t.exports=require("../../../../../cwx/cwx")},65238:function(t){t.exports=require("../../../../../cwx/ext/global")}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[6011,2107,1216,8592],(function(){return e(77085)}));t.O()}]);
//# sourceMappingURL=index.js.map