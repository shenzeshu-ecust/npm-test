{"version":3,"file":"pages/flightBooking/pages/cityList/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_flightBooking_pages_cityList_index.js"],"sourcesContent":["\"use strict\";\nrequire(\"../../taroCommon\");\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[1360],{\n\n/***/ 98040:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./src/pages/flightBooking/common/constant/pageId/index.ts + 4 modules\nvar pageId = __webpack_require__(17311);\n// EXTERNAL MODULE: ./src/pages/flightBooking/common/utils/f_page_decorator.tsx + 10 modules\nvar f_page_decorator = __webpack_require__(81789);\n// EXTERNAL MODULE: ./src/pages/flightBooking/lib/commonModule.prod.js\nvar commonModule_prod = __webpack_require__(62171);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: ./src/pages/flightBooking/common/reactUtils/hooks/index.ts + 12 modules\nvar hooks = __webpack_require__(63871);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(90129);\n// EXTERNAL MODULE: ./src/pages/flightBooking/common/utils/storage/Storage.ts\nvar Storage = __webpack_require__(49386);\n// EXTERNAL MODULE: ./src/pages/flightBooking/router/jump/jumpHelper.ts\nvar jumpHelper = __webpack_require__(69905);\n// EXTERNAL MODULE: ./src/pages/flightBooking/apis/onePlatformServer.ts + 1 modules\nvar onePlatformServer = __webpack_require__(10073);\n;// CONCATENATED MODULE: ./src/pages/flightBooking/containers/CityListContainer/getCityApi.ts\n\n\n\nvar toCityList = function toCityList(citys) {\n  return commonModule_prod.R.map(function (city) {\n    var ename = city.ename,\n      globalid = city.globalid,\n      code = city.code;\n    return {\n      ename: ename,\n      globalid: globalid,\n      code: code\n    };\n  }, citys || []);\n};\nvar getCityApi = onePlatformServer/* default.injectEndpoints */.Z.injectEndpoints({\n  endpoints: function endpoints(builder) {\n    return {\n      getCity: builder.query({\n        query: function query(params) {\n          return {\n            url: \"/13373/getLocationInfoByParent\",\n            queryParams: {\n              parameterList: [{\n                key: 'valid',\n                value: '1'\n              }, {\n                key: 'administrative',\n                value: '2'\n              }],\n              parentgeocategoryid: params.parentgeocategoryid,\n              parentgeoid: params.parentgeoid,\n              type: 'base'\n            }\n          };\n        },\n        transformResponse: function transformResponse(response) {\n          return toCityList(response.locationInfos);\n        }\n      })\n    };\n  }\n});\n\n// Export hooks for usage in functional components, which are\n// auto-generated based on the defined endpoints\nvar useGetCityQuery = getCityApi.useGetCityQuery,\n  usePrefetch = getCityApi.usePrefetch,\n  useLazyGetCityQuery = getCityApi.useLazyGetCityQuery;\n\n/* harmony default export */ var CityListContainer_getCityApi = ((/* unused pure expression or super */ null && (getCityApi)));\n;// CONCATENATED MODULE: ./src/pages/flightBooking/containers/CityListContainer/CityListContainer.tsx\n\n\n\n\n// import { CityEntity } from '@/flightBooking/typings/entity';\n\n\n\nvar cityListStorage = new Storage/* default */.ZP({\n  version: '2020-05-29',\n  key: function key() {\n    return 'CITY_LIST';\n  },\n  expires: function expires() {\n    return 7 * Storage/* day */.v0;\n  }\n});\nvar CityListContainer = function CityListContainer(_ref) {\n  var props = _ref.props,\n    cityInfo = _ref.cityInfo,\n    children = _ref.children;\n  var _useState = (0,react.useState)(),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    mainCityList = _useState2[0],\n    setMainCityList = _useState2[1];\n  var _useState3 = (0,react.useState)(),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    mainCity = _useState4[0],\n    setMainCity = _useState4[1];\n  var _useState5 = (0,react.useState)(),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    subCityList = _useState6[0],\n    setSubCityList = _useState6[1];\n  var _useState7 = (0,react.useState)(),\n    _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n    subCity = _useState8[0],\n    setSubCity = _useState8[1];\n  var _useState9 = (0,react.useState)(1),\n    _useState10 = (0,slicedToArray/* default */.Z)(_useState9, 2),\n    showLevel = _useState10[0],\n    setShowLevel = _useState10[1];\n  var _useLazyGetCityQuery = useLazyGetCityQuery(),\n    _useLazyGetCityQuery2 = (0,slicedToArray/* default */.Z)(_useLazyGetCityQuery, 1),\n    getCityQuery = _useLazyGetCityQuery2[0];\n  var getCityFirst = (0,react.useCallback)(function () {\n    var cityListData = cityListStorage.get();\n    if (cityListData) {\n      setMainCityList(cityListData);\n    } else {\n      getCityQuery({\n        parentgeocategoryid: 1,\n        parentgeoid: 66\n      }).then(function (_ref2) {\n        var data = _ref2.data;\n        cityListStorage.set(data);\n        setMainCityList(data);\n      });\n    }\n  }, [getCityQuery]);\n  var getCitySecond = (0,react.useCallback)(function (globalid) {\n    getCityQuery({\n      parentgeocategoryid: 2,\n      parentgeoid: globalid\n    }).then(function (_ref3) {\n      var data = _ref3.data;\n      setSubCityList(data);\n      setShowLevel(2);\n    });\n  }, [getCityQuery]);\n  (0,react.useEffect)(function () {\n    var city = JSON.parse(decodeURIComponent(cityInfo));\n    var _ref4 = city || {},\n      main = _ref4.mainCity,\n      sub = _ref4.subCity;\n    getCityFirst();\n    if (main !== null && main !== void 0 && main.code && sub !== null && sub !== void 0 && sub.ename) {\n      setMainCity(main);\n      setSubCity(sub);\n      getCitySecond(main.globalid);\n    }\n  }, [cityInfo, getCityFirst, getCitySecond]);\n  var onSelectCity = (0,react.useCallback)(function (city, level) {\n    var globalid = city.globalid;\n    if (level === 2) {\n      setSubCity(city);\n      (0,jumpHelper/* goBack */.Hm)(props.resolve, {\n        mainCity: mainCity,\n        subCity: city\n      });\n    } else {\n      setMainCity(city);\n      getCitySecond(globalid);\n    }\n  }, [mainCity, props, getCitySecond]);\n  return children({\n    mainCityList: mainCityList,\n    mainCity: mainCity,\n    subCityList: subCityList,\n    subCity: subCity,\n    showLevel: showLevel,\n    setShowLevel: setShowLevel,\n    onSelectCity: onSelectCity\n  });\n};\n/* harmony default export */ var CityListContainer_CityListContainer = (/*#__PURE__*/(0,react.memo)(CityListContainer));\n;// CONCATENATED MODULE: ./src/pages/flightBooking/containers/CityListContainer/types.ts\n\n\n;// CONCATENATED MODULE: ./src/pages/flightBooking/containers/CityListContainer/index.ts\n\n\n\n\n\n/* harmony default export */ var containers_CityListContainer = (CityListContainer_CityListContainer);\n// EXTERNAL MODULE: ./src/pages/flightBooking/common/utils/utils.ts\nvar utils = __webpack_require__(16921);\n// EXTERNAL MODULE: ./src/pages/flightBooking/components/NavBar/NavBar.new.tsx + 2 modules\nvar NavBar_new = __webpack_require__(94345);\n// EXTERNAL MODULE: ./src/pages/flightBooking/components/ScrollViewWrap/ScrollViewWrap.tsx\nvar ScrollViewWrap = __webpack_require__(12809);\n// EXTERNAL MODULE: ./src/pages/flightBooking/components/ImageWrap/ImageWrap.tsx\nvar ImageWrap = __webpack_require__(61659);\n;// CONCATENATED MODULE: ./src/pages/flightBooking/pages/cityList/CityListComp/CityListComp.module.scss\n// extracted by mini-css-extract-plugin\n/* harmony default export */ var CityListComp_module = ({\"cityListContainer\":\"CityListComp-module_d9Qz4\",\"tableBox\":\"CityListComp-module_D2P_U\",\"tableItem\":\"CityListComp-module_BYhE4\",\"active\":\"CityListComp-module_BIzgM\",\"cityListScroll\":\"CityListComp-module_EMdVW\",\"title\":\"CityListComp-module_Oguqc\",\"cityBox\":\"CityListComp-module_GMqPt\",\"bigLetters\":\"CityListComp-module_XPE1H\",\"cityItem\":\"CityListComp-module_NQgi1\",\"firstItem\":\"CityListComp-module_Nk2OH\",\"selectedIcon\":\"CityListComp-module_K8uZK\"});\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./src/pages/flightBooking/pages/cityList/CityListComp/CityListComp.tsx\n\n\n\n\n\n\n\n\n\n\nvar CityListComp = function CityListComp(_ref) {\n  var mainCityList = _ref.mainCityList,\n    mainCity = _ref.mainCity,\n    subCityList = _ref.subCityList,\n    subCity = _ref.subCity,\n    showLevel = _ref.showLevel,\n    setShowLevel = _ref.setShowLevel,\n    onSelectCity = _ref.onSelectCity;\n  var cityList = showLevel === 1 ? mainCityList : subCityList;\n  var selectedCity = showLevel === 1 ? mainCity : subCity;\n  var title = showLevel === 1 ? 'State/City' : 'City/Region';\n  var sortName = function sortName(a, b) {\n    return (a === null || a === void 0 ? void 0 : a.ename) > (b === null || b === void 0 ? void 0 : b.ename) ? 1 : -1;\n  };\n  var sortCityList = commonModule_prod.R.sort(sortName, cityList || []);\n  var _useState = (0,react.useState)(sortCityList.findIndex(function (item) {\n      return item.ename === (selectedCity === null || selectedCity === void 0 ? void 0 : selectedCity.ename);\n    }) || 0),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    scrollIndex = _useState2[0],\n    setScrollIndex = _useState2[1];\n  (0,react.useEffect)(function () {\n    var index = sortCityList.findIndex(function (item) {\n      return item.ename === (selectedCity === null || selectedCity === void 0 ? void 0 : selectedCity.ename);\n    });\n    var newIndex = 0;\n    if (index > 5) {\n      newIndex = index - 5;\n    }\n    setScrollIndex(newIndex);\n  }, [sortCityList, selectedCity, setScrollIndex]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: CityListComp_module.cityListContainer,\n    children: [(mainCity === null || mainCity === void 0 ? void 0 : mainCity.ename) && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: CityListComp_module.tableBox,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        onClick: (0,commonModule_prod.trackFn)(\"onClick--8532a\", function () {\n          return setShowLevel(1);\n        }),\n        className: \"\".concat(CityListComp_module.tableItem, \" \").concat(showLevel === 1 ? CityListComp_module.active : null),\n        children: mainCity === null || mainCity === void 0 ? void 0 : mainCity.ename\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        onClick: (0,commonModule_prod.trackFn)(\"onClick--fab22\", function () {\n          return setShowLevel(2);\n        }),\n        className: \"\".concat(CityListComp_module.tableItem, \" \").concat(showLevel === 2 ? CityListComp_module.active : null),\n        children: (subCity === null || subCity === void 0 ? void 0 : subCity.ename) || 'Select city'\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(ScrollViewWrap/* default */.Z, {\n      className: CityListComp_module.cityListScroll,\n      scrollY: true,\n      scrollIntoView: 'list-' + scrollIndex,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: CityListComp_module.title,\n        children: title\n      }), sortCityList === null || sortCityList === void 0 ? void 0 : sortCityList.map(function (city, index) {\n        var _sortCityList, _sortCityList$index;\n        var oldName = sortCityList === null || sortCityList === void 0 || (_sortCityList = sortCityList[index - 1]) === null || _sortCityList === void 0 || (_sortCityList = _sortCityList.ename) === null || _sortCityList === void 0 ? void 0 : _sortCityList.slice(0, 1);\n        var newName = sortCityList === null || sortCityList === void 0 || (_sortCityList$index = sortCityList[index]) === null || _sortCityList$index === void 0 || (_sortCityList$index = _sortCityList$index.ename) === null || _sortCityList$index === void 0 ? void 0 : _sortCityList$index.slice(0, 1);\n        var showTitle = index === 0 || oldName !== newName;\n        var active = (selectedCity === null || selectedCity === void 0 ? void 0 : selectedCity.ename) === (city === null || city === void 0 ? void 0 : city.ename);\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: CityListComp_module.cityBox,\n            id: 'list-' + index,\n            children: [showTitle && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: CityListComp_module.bigLetters,\n              children: city.ename.slice(0, 1)\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"\".concat(CityListComp_module.cityItem, \" \").concat(showTitle ? CityListComp_module.firstItem : null),\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                onClick: (0,commonModule_prod.trackFn)('list-' + index + (\"--\" + (index + \"--f0c06\")), function () {\n                  return onSelectCity(city, showLevel);\n                }),\n                className: \"\".concat(active ? CityListComp_module.active : null),\n                children: \"\".concat(city.ename).concat(showLevel === 1 ? \"[\".concat(city.code, \"]\") : '')\n              }), active && /*#__PURE__*/(0,jsx_runtime.jsx)(ImageWrap/* default */.Z, {\n                className: CityListComp_module.selectedIcon,\n                src: \"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/policyGou.png\"\n              })]\n            })]\n          })\n        }, index);\n      })]\n    })]\n  });\n};\n/* harmony default export */ var CityListComp_CityListComp = (/*#__PURE__*/(/* unused pure expression or super */ null && (memo(CityListComp))));\n;// CONCATENATED MODULE: ./src/pages/flightBooking/pages/cityList/index.module.scss\n// extracted by mini-css-extract-plugin\n/* harmony default export */ var index_module = ({\"city-list-page\":\"index-module_QQBcY\",\"m-indexes\":\"index-module_UFhXR\"});\n;// CONCATENATED MODULE: ./src/pages/flightBooking/pages/cityList/CityList.tsx\n\n\n\n\n\n// import { IndexList as IndexListComponent } from '@/flightBooking/lib/commonModule.prod';\n// import { IndexItem } from '@/flightBooking/components/IndexList/IndexItem';\n\n// import { RegionEntity } from '@/flightBooking/typings/entity';\n\n\n\n\n\n\n\nvar CityList = function CityList(props) {\n  var params = (0,hooks/* useLayerParams */.aN)(props);\n  var _params$title = params.title,\n    title = _params$title === void 0 ? '' : _params$title,\n    _params$cityInfo = params.cityInfo,\n    cityInfo = _params$cityInfo === void 0 ? '' : _params$cityInfo;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: index_module[\"city-list-page\"],\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(NavBar_new/* default */.Z, {\n      reject: props.reject,\n      title: decodeURIComponent(title)\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"city-container\",\n      style: {\n        height: \"\".concat((0,utils/* getContentHeight */.If)(), \"px\")\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(containers_CityListContainer, {\n        props: props,\n        cityInfo: cityInfo,\n        children: function children(_ref) {\n          var mainCityList = _ref.mainCityList,\n            mainCity = _ref.mainCity,\n            subCityList = _ref.subCityList,\n            subCity = _ref.subCity,\n            showLevel = _ref.showLevel,\n            setShowLevel = _ref.setShowLevel,\n            onSelectCity = _ref.onSelectCity;\n          return /*#__PURE__*/(0,jsx_runtime.jsx)(CityListComp, {\n            mainCityList: mainCityList,\n            mainCity: mainCity,\n            subCityList: subCityList,\n            subCity: subCity,\n            showLevel: showLevel,\n            setShowLevel: setShowLevel,\n            onSelectCity: onSelectCity\n          });\n        }\n      })\n    })]\n  });\n};\n/* harmony default export */ var cityList_CityList = (CityList);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/flightBooking/pages/cityList/index.tsx\n\n\n\n// import './index.scss';\n\n/* harmony default export */ var cityList = ((0,f_page_decorator/* default */.Z)({\n  pageId: pageId/* CITY_LIST */.gU\n})(cityList_CityList));\n;// CONCATENATED MODULE: ./src/pages/flightBooking/pages/cityList/index.tsx\n\n\nvar config = {\"navigationBarTitleText\":\"携程机票\",\"navigationBarTextStyle\":\"black\",\"titleBarColor\":\"#ffffff\",\"navigationStyle\":\"custom\"};\n\n\nvar inst = Page((0,runtime_esm.createPageConfig)(cityList, 'pages/flightBooking/pages/cityList/index', {root:{cn:[]}}, config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/ext/global\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [6011,2107,1216,8592], function() { return __webpack_exec__(98040); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["require","wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","runtime_esm","pageId","f_page_decorator","commonModule_prod","react","components_react","hooks","slicedToArray","Storage","jumpHelper","onePlatformServer","toCityList","citys","R","map","city","ename","globalid","code","getCityApi","Z","injectEndpoints","endpoints","builder","getCity","query","params","url","queryParams","parameterList","key","value","parentgeocategoryid","parentgeoid","type","transformResponse","response","locationInfos","useLazyGetCityQuery","useGetCityQuery","usePrefetch","cityListStorage","ZP","version","expires","v0","CityListContainer","_ref","props","cityInfo","children","_useState","useState","_useState2","mainCityList","setMainCityList","_useState3","_useState4","mainCity","setMainCity","_useState5","_useState6","subCityList","setSubCityList","_useState7","_useState8","subCity","setSubCity","_useState9","_useState10","showLevel","setShowLevel","_useLazyGetCityQuery","_useLazyGetCityQuery2","getCityQuery","getCityFirst","useCallback","cityListData","get","then","_ref2","data","set","getCitySecond","_ref3","useEffect","JSON","parse","decodeURIComponent","_ref4","main","sub","onSelectCity","level","Hm","resolve","CityListContainer_CityListContainer","memo","containers_CityListContainer","utils","NavBar_new","ScrollViewWrap","ImageWrap","CityListComp_module","jsx_runtime","CityListComp","cityList","selectedCity","title","sortName","a","b","sortCityList","sort","findIndex","item","scrollIndex","setScrollIndex","index","newIndex","jsxs","View","className","cityListContainer","tableBox","jsx","onClick","trackFn","concat","tableItem","active","cityListScroll","scrollY","scrollIntoView","_sortCityList","_sortCityList$index","oldName","slice","newName","showTitle","cityBox","id","bigLetters","cityItem","firstItem","selectedIcon","src","index_module","CityList","aN","_params$title","_params$cityInfo","reject","style","height","If","cityList_CityList","gU","config","Page","createPageConfig","root","cn","module","exports","__webpack_exec__","moduleId","s","O"],"sourceRoot":""}