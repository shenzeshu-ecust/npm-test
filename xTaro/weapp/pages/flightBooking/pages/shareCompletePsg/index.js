"use strict";require("../../taroCommon"),(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[9877],{83881:function(e,s,n){var t=n(32180),i=n(57042),c=n(24460),a=n(81876),l=n(21867),o=n(86066),r=n(45023),m=n(92954),p=n(17311),d=n(81789),u=n(1967),g=n(43752),h=n(62171),x=n(90201),f=n(71515),j=n(61659),N=n(12809),w=n(63871),_=n(51482),v=n(298),V=n(47130),Z=n(80425),y=n(61382),T=n(25651),C=new y.Z({name:"FLIGHT_SCHEDULE",needLogin:!0,mini:"/pages/flightschedule/pages/detail/detail",h5:function(){var e=(0,v.Z)((0,v.Z)({},Z.AA.common),{},{fat:"https://m.fat35.qa.nt.ctripcorp.com"})[(0,V.i)()]||Z.AA.common.prd;return e+"/webapp/flight/schedule/detail.html"},target:{mini:T.t.mini,h5:T.t.h5}},{prefix:""}),b=n(13374),k=n(49574),P=n(33943),I=n(98180),F={SharePassengerCompletePage:"complete-module_Xu1gu",navBar:"complete-module_FzFjN","ctrip-logo":"complete-module_epbMe","home-circle":"complete-module_g7UMn","back-home":"complete-module_iVWMl",success:"complete-module_fHUPD","success-text":"complete-module_ff7jL","success-tip":"complete-module_mgdbO",passenger:"complete-module_TE0_f","psg-container":"complete-module_iObPT","psg-tip":"complete-module_bejLH","top-padding":"complete-module_s6iF1",submitPsg:"complete-module_ANt5t",psginfo:"complete-module_vjI20",psg_icon:"complete-module_pYK2W",psg_info:"complete-module_PetVY",psgname:"complete-module__Yeeg",psgcard:"complete-module_L_Ith",line:"complete-module_NJ7DD",botMargin:"complete-module_kqpHn",flightInfo:"complete-module_SSNd5","flight-info":"complete-module_uOmiI","info-title":"complete-module_tIxGP","info-content":"complete-module_dUJIi","sub-flight":"complete-module_7eWSK"},D=n(2269),M=function(e){var s=e.regionType,n=void 0===s?"DOMESTIC":s,t="INTERNATIONAL"===n?b.sk:b.e$,i=(0,x.useMemo)((function(){var e=I.Z.complete.data.flights;return e.map((function(e){return e.newDate=e.date.substring(0,e.date.indexOf("\u5468")),e.segments=e.segments.map((function(e){return e.newAirline=e.airline.replace(/[\u4e00-\u9fa5]/g,""),e})),e}))}),[]),c=(0,x.useMemo)((function(){return I.Z.complete.data.passengers}),[]),a=(0,x.useMemo)((function(){return I.Z.complete.data.jumpNew}),[]),l=(0,x.useMemo)((function(){return I.Z.complete.data.urlParms}),[]),o=(0,w.Sl)("useNewSharePsg");(0,x.useEffect)((function(){(0,g.jq)("old_share_complete_passenger_page")}),[]);var m=(0,x.useCallback)((function(){var e="106",s=i[0].segments[0].airline,n=s.replace(/[\u4e00-\u9fa5]/g,""),t=i[0].segments[0].ddate,c=(0,h.dayjs)(t).format("YYYY-MM-DD"),a=i[0].segments[0].departureAirportCode,l=i[0].segments[0].arrivalAirportCode;C.jump({origin:e,flightNo:n,queryDate:c,dcode:a,acode:l}),(0,g.jq)("c_flightschedule_click")}),[i]),p=function(){_.pW.jump({type:"reLaunch"})},d=function(e){(0,k.gB)({url:"/pages/flight/pages/sharePassenger/editNew?parms=".concat(encodeURIComponent(JSON.stringify(e)))})},u=(0,P.So)(),v=u.statusBarHeight;return(0,D.jsxs)(f.View,{className:F.SharePassengerCompletePage,children:[(0,D.jsx)(f.View,{style:{height:v+"px"}}),(0,D.jsxs)(x.Fragment,{children:[(0,D.jsxs)(f.View,{className:F.navBar,children:[(0,D.jsx)(f.View,{className:F["home-circle"],onClick:(0,h.trackFn)("onClickBack--d5ee1",p),children:(0,D.jsx)(j.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/components/wx_ico_home_w.svg",mode:"aspectFit",className:F["back-home"]})}),(0,D.jsx)(f.View,{className:"share-logo",children:(0,D.jsx)(j.Z,{className:F["ctrip-logo"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/share-edit-ctrip-logo.png"})})]}),(0,D.jsxs)(f.View,{className:F.success,children:[(0,D.jsx)(j.Z,{className:"success-svg",src:"https://pages.c-ctrip.com/flight_h5/tinyapp/shareEditPsgComplete-success.svg"}),(0,D.jsx)(f.View,{className:F["success-text"],children:"\u63d0\u4ea4\u6210\u529f"}),(0,D.jsx)(f.View,{className:F["success-tip"],children:"\u597d\u53cb\u5c06\u4f1a\u770b\u5230\u4f60\u586b\u5199\u7684\u4ee5\u4e0b\u4fe1\u606f"})]})]}),(0,D.jsx)(x.Fragment,{children:(null===c||void 0===c?void 0:c.length)&&(0,D.jsxs)(f.View,{className:F.passenger,children:[(0,D.jsx)(f.View,{className:F["psg-container"],children:(null===c||void 0===c?void 0:c.length)>3?(0,D.jsx)(N.Z,{scrollY:!0,className:F.submitPsg,id:"id_d0d67",onScroll:(0,h.trackFn)("id_d0d67"),children:null===c||void 0===c?void 0:c.map((function(e,s){var n=e.document&&e.document.type&&t[e.document.type].cardName||"\u8bc1\u4ef6\u53f7";return(0,D.jsx)(f.View,{className:(0,h.classnames)(F.psginfo,(0,r.Z)({},F.botMargin,s!==c.length-1)),children:(0,D.jsxs)(f.View,{className:F.psg_info,children:[(0,D.jsx)(f.View,{className:F.psgname,children:e.name.chineseName?e.name.chineseName:e.name.surName+"/"+e.name.givenName}),(0,D.jsxs)(f.View,{className:F.psgcard,children:[(0,D.jsx)(f.Text,{children:n}),(0,D.jsx)(f.Text,{children:" "}),(0,D.jsx)(f.Text,{children:e.document.no})]}),a||s!==c.length-1?(0,D.jsx)(f.View,{className:F.line}):null]})},e.ID)}))}):(0,D.jsx)(f.View,{children:null===c||void 0===c?void 0:c.map((function(e,s){var n=e.document&&e.document.type&&t[e.document.type].cardName||"\u8bc1\u4ef6\u53f7";return(0,D.jsx)(f.View,{className:(0,h.classnames)(F.psginfo,(0,r.Z)({},F.botMargin,a)),children:(0,D.jsxs)(f.View,{className:F.psg_info,children:[(0,D.jsx)(f.View,{className:F.psgname,children:e.name.chineseName?e.name.chineseName:e.name.surName+"/"+e.name.givenName}),(0,D.jsxs)(f.View,{className:F.psgcard,children:[(0,D.jsx)(f.Text,{children:n}),(0,D.jsx)(f.Text,{children:" "}),(0,D.jsx)(f.Text,{children:e.document.no})]}),a||s!==c.length-1?(0,D.jsx)(f.View,{className:F.line}):null]})},e.ID)}))})}),a&&o?(0,D.jsx)(f.View,{className:(0,h.classnames)((0,r.Z)({},F["top-padding"],c.length>3)),onClick:(0,h.trackFn)("onClick--80daf",(function(){d(l)})),children:(0,D.jsxs)(f.Text,{className:F["psg-tip"],children:["\u4fe1\u606f\u6709\u8bef/\u60f3\u6dfb\u52a0\u5176\u4ed6\u4e58\u673a\u4eba\uff1f\u70b9\u6b64",(0,D.jsx)(f.Text,{children:" "}),(0,D.jsxs)(f.Text,{className:F["psg-tip"],style:{color:"#0086F6"},children:["\u65b0\u589e\u4e58\u673a\u4eba",(0,D.jsx)(f.Text,{children:" "}),(0,D.jsx)(f.Text,{className:"iconfont-h5 icon-arrow-right"})]})]})}):null]})}),(0,D.jsx)(x.Fragment,{children:i&&i.length&&(0,D.jsxs)(f.View,{className:F.flightInfo,children:[(0,D.jsxs)(f.View,{className:F["flight-info"],children:[(0,D.jsx)(f.View,{className:F["info-title"],children:"\u70b9\u51fb\u822a\u73ed\u52a8\u6001\uff0c\u67e5\u770b\u60a8\u7684\u822a\u73ed\u4fe1\u606f\u54e6\uff01"}),i.map((function(e,s){return(0,D.jsx)(f.View,{className:"finfo",children:e.segments.map((function(s){return(0,D.jsx)(f.View,{className:"segment",children:(0,D.jsx)(f.View,{className:F["info-content"],children:(s.date||e.newDate)+" "+s.newAirline+" "+s.departureCityName+"-"+s.arrivalCityName})},s.airline)}))},"".concat(e.duration,"_").concat(s))}))]}),(0,D.jsx)(f.View,{className:F["sub-flight"],onClick:(0,h.trackFn)("onClickFlight--9ec2a",m),children:"\u822a\u73ed\u52a8\u6001"})]})}),(0,D.jsx)(f.View,{style:{height:"100px"}})]})},S=M,A=function(e){(0,l.Z)(n,e);var s=(0,o.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var t=arguments.length,c=new Array(t),l=0;l<t;l++)c[l]=arguments[l];return e=s.call.apply(s,[this].concat(c)),(0,r.Z)((0,a.Z)(e),"instance",(0,m.getCurrentInstance)()),(0,r.Z)((0,a.Z)(e),"componentDidShow",(function(){(0,g.$J)("c_flightschedule_show")})),e}return(0,c.Z)(n,[{key:"render",value:function(){var e;return(0,D.jsx)(S,{regionType:null===(e=this.instance.router)||void 0===e?void 0:e.params.regionType})}}]),n}(u.Z),q=(0,d.Z)({pageId:p.u})(A),O={};Page((0,t.createPageConfig)(q,"pages/flightBooking/pages/shareCompletePsg/index",{root:{cn:[]}},O||{}))},79181:function(e){e.exports=require("../../../../cwx/cpage/initNavigator")},91783:function(e){e.exports=require("../../../../cwx/cpage/ubt_wx")},56884:function(e){e.exports=require("../../../../cwx/cwx")},65238:function(e){e.exports=require("../../../../cwx/ext/global")}},function(e){var s=function(s){return e(e.s=s)};e.O(0,[6011,2107,1216,8592],(function(){return s(83881)}));e.O()}]);
//# sourceMappingURL=index.js.map