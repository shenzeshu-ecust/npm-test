(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[3040],{27709:function(e,t,n){var r=n(32180)["navigator"],o=n(32180)["window"],i=n(32180)["document"],a=n(66371)["default"];!function(){var t={1184:function(e,t,n){"use strict";var o=n(2080),i={MASTER:["Ctrip_CtripWireless","Unicom_CtripWireless","Pro_CtripWireless","com_ctripwireless"],YOUTH:["Youth_CtripWireless"],SML:["sml_wireless"],GS:["gs_wireless"],WE:["we_wireless"],TV:["AndroidTV_CtripWireless"],TY:["Tieyou_TieyouWireless"],DIS:["Discount_CtripWireless"]},a=function(e){(e+="").indexOf(".")<0&&(e+=".0"),e=(e+"").split(".");for(var t=0;t<e.length;t++)e[t]="000".substr(e[t].length)+e[t];return e.join(".")};t.default=function(e){var t,n,c,l,s=e||"";o.default&&!s&&(s=r.userAgent);var u=RegExp;for(var m in i)for(var d=0;d<i[m].length;d++)if(new u(i[m][d]+"_([\\d.]+)").test(s)){t="CTRIP",n=m,c=u.$1;break}if(!t){if(/MicroMessenger\/([\d.]+)/.test(s)&&(t="TECENT",n="WEIXIN",c=u.$1),/(qunar[^\\/]+)\/([\d]+)/i.test(s)){var f=s.toLowerCase().match("(^|\\s)(qunar[^\\/]+)\\/([\\d\\.]+)");t="QUNAR",n=f[2],c=f[3]}(/ewandroid\/([\d.]+)/i.test(s)||/ewiphone\/([\d.]+)\/H5Nav_Light/i.test(s))&&(t="YILONG",n="YILONGMASTER",c=u.$1)}return c&&(l=a(c)),{vendor:{toString:function(){return t},is:function(e){return("TV"!==n&&"TY"!==n||"CTRIP"!==e)&&e.toUpperCase()==t}},code:{toString:function(){return n},is:function(e){return e.toUpperCase()==n}},version:{toString:function(){return c},lt:function(e){return l<a(e)},lte:function(e){return l<=a(e)},eq:function(e){return l==a(e)},gte:function(e){return l>=a(e)},gt:function(e){return l>a(e)}}}}},2642:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return(e<10?"0"+e:e).toString()},r={Y:function(){return this.getFullYear()},y:function(){return this.getFullYear().toString().slice(2)},M:function(){return n(this.getMonth()+1)},m:function(){return this.getMonth()+1},D:function(){return n(this.getDate())},d:function(){return this.getDate()},H:function(){return n(this.getHours())},h:function(){return this.getHours()},I:function(){return n(this.getMinutes())},i:function(){return this.getMinutes()},S:function(){return n(this.getSeconds())},s:function(){return this.getSeconds()},N:function(){return this.getDay()||7}};t.default=r},397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8037),o=n(2642),i=/[YyMmDdHhIiSsNWw]/g;t.default=function(e,t){return void 0===t&&(t=new Date),r.default(e,"String")?e.replace(i,(function(e){return o.default[e].call(t)})):""}},7650:function(e,t,n){"use strict";var r=n(8037),o=n(397),i=n(5427),a=function(){function e(e){this.date=new Date,r.default(e,"Date")||(e=i.default(e)),this.date=e}return e.prototype.getDate=function(){return this.date},e.prototype.getTime=function(){return this.date.valueOf()},e.prototype.toString=function(){return this.date.toString()},e.prototype.format=function(e,t){return void 0===t&&(t=this.date),o.default(e,t)},e.prototype.diffMonth=function(e,t){void 0===t&&(t=this.date);var n=parseInt(this.format("Y",e),10),r=parseInt(this.format("M",e),10),o=parseInt(this.format("Y",t),10),i=parseInt(this.format("M",t),10);return Math.abs(12*(o-n)+(i-r))},e.prototype.diffDay=function(e,t){void 0===t&&(t=this.date);var n=this.parse(e),r=this.parse(t);n.setHours(0,0,0,0),n=this.convert2UTC(n);var o=60*new Date(n).getHours()*1e3;r.setHours(0,0,0,0);var i=((r=this.convert2UTC(r))-60*new Date(r).getHours()*1e3-n+o)/864e5;return Math.round(Math.abs(i))},e.prototype.convert2UTC=function(e){return e.date.getTime()+6e4*e.date.getTimezoneOffset()},e.prototype.setHours=function(e,t,n,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.date.setHours.call(this.date,e,t,n,r),this},e.prototype.parse=function(t){return new e(i.default(t))},e.prototype.getServerDate=function(){},e}();t.default=a},5427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8037);t.default=function(e){if(r.default(e,"Undefined"))return new Date;var t;if(r.default(e,"String")){var n=/^(\d{4})-?(\d{1,2})-?(\d{1,2})/i;e.match(n)&&(e=e.replace(n,"$2/$3/$1"));var o=Date.parse(e);t=new Date(o)}else r.default(e,"Number")?t=new Date(e):r.default(e,"Date")&&(t=e);return t||new Date}},2741:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIphoneFunc=t.isInTabletFunc=t.isInMobileFunc=t.isInIpodFunc=t.isInIpadFunc=t.isInIEFunc=t.isInFirefoxFunc=t.isInTripAppFunc=t.isInCtripAppFunc=t.isAndroidFunc=t.CDate=t.appInfo=t.setCookie=t.removeCookie=t.querystring=t.parseURL=t.params=t.isWPhone=t.isUrl=t.isPrivateModel=t.isPreProduction=t.isIphone=t.isInWeChat=t.isInTablet=t.isInMobile=t.isInIpod=t.isInIpad=t.isInIE=t.isInFirefox=t.isInTripApp=t.isInCtripApp=t.isInBrowser=t.isAnyType=t.isAndroid=t.isInMiniProgram=t.has=t.getDecodeURIComponent=t.getCookie=t.getClientId=t.getCInfo=t.eventEmitter=t.each=t.domainMap=t.cookie=void 0,t.cookie=n(4255).default,t.domainMap=n(8e3).default,t.each=n(3865).default,t.eventEmitter=n(2556).default,t.getCInfo=n(4681).default,t.getClientId=n(6310).default,t.getCookie=n(1299).default,t.getDecodeURIComponent=n(5805).default,t.has=n(7168).default,t.isInMiniProgram=n(544).default,t.isAndroid=n(3874).default,t.isAnyType=n(8037).default,t.isInBrowser=n(2962).default,t.isInCtripApp=n(3908).default,t.isInTripApp=n(7330).default,t.isInFirefox=n(2787).default,t.isInIE=n(5909).default,t.isInIpad=n(1996).default,t.isInIpod=n(8807).default,t.isInMobile=n(721).default,t.isInTablet=n(8266).default,t.isInWeChat=n(7422).default,t.isIphone=n(5561).default,t.isPreProduction=n(992).default,t.isPrivateModel=n(3273).default,t.isUrl=n(5215).default,t.isWPhone=n(4060).default,t.params=n(8319).default,t.parseURL=n(8450).default,t.querystring=n(9137).default,t.removeCookie=n(2170).default,t.setCookie=n(1058).default,t.appInfo=n(1184).default,t.CDate=n(7650).default,t.isAndroidFunc=n(3874).isAndroid,t.isInCtripAppFunc=n(3908).isInCtripApp,t.isInTripAppFunc=n(7330).isInTripApp,t.isInFirefoxFunc=n(2787).isInFirefox,t.isInIEFunc=n(5909).isInIE,t.isInIpadFunc=n(1996).isInIpad,t.isInIpodFunc=n(8807).isInIpod,t.isInMobileFunc=n(721).isInMobile,t.isInTabletFunc=n(8266).isInTablet,t.isIphoneFunc=n(5561).isiPhone},4255:function(e,t,n){"use strict";var r=n(1299),o=n(1058),i=n(8037),a=function(e,t,n,r){var a=Object.assign({},n),c=a.timeout,l=a.expires,s=a.path,u=a.domain,m=a.secure;(0,o.default)(e,t,c||l,s,u,m),r&&(!e&&(0,i.default)(t,"Array")?r.setHeader("Set-Cookie",t):r.setHeader("Set-Cookie",function(e,t,n){var r=e+"="+encodeURIComponent(t),o=n.timeout,i=n.path,a=n.domain,c=n.secure;return o&&(r+="; expires="+o.toGMTString()),r+="; path="+(i||"/"),a&&(r+="; domain="+a),c&&(r+="; secure"),r}(e,t,a)))};t.default={get:function(e,t){var n="";return t&&t.headers&&t.headers.cookie&&(n=t.headers.cookie),(0,r.default)(e,n)},set:a,remove:function(e,t,n){var r=new Date((new Date).getTime()-1),o=Object.assign(t||{},{expires:r,path:"/"});return a(e,"",o,n)}}},8e3:function(e,t,n){"use strict";var r=n(2962),i=n(3908),a=n(992),c=n(206),l=".qa.nt.ctripcorp.com",s=".uat.ctripqa.com",u=r.default?o.__NEXT_DATA__&&o.__NEXT_DATA__.international?"m.trip.com":"m.ctrip.com":"apigateway.ctripcorp.com",m="accounts.ctrip.com",d={prod:m,uat:"accounts.uat"+l,fat:"accounts.fat466"+l,uatqa:"accounts"+s,baolei:m},f={prod:u,uat:"gateway.m.uat"+l,fat:"gateway.m.fws"+l,uatqa:"gateway.m"+s,baolei:u},p={accounts:d,login:Object.assign({},d),gateway:f,online:Object.assign({},f,{uat:"m.uat"+l,fat:""}),webresource:{prod:"webresource.c-ctrip.com",uat:"webresource.uat"+l,fat:"webresource.fws"+l,baolei:"webresource.c-ctrip.com"}};t.default=function(e,t,n){void 0===e&&(e="gateway");var o="prod";return t?o=(0,c.default)(t):i.default?o=(0,a.default)():r.default&&(o=(0,c.default)(t)),p[e]?(n&&n.env&&(o=n.env.toLowerCase()),p[e][o]):""}},3865:function(e,t,n){"use strict";t.s=void 0;var r=n(7168),o=Array.prototype.forEach;t.s={},t.default=function(e,n,i){if(null!=e)if(o&&e.forEach===o)e.forEach(n,i);else if(e.length===+e.length){for(var a=0,c=e.length;a<c;a++)if(n.call(i,e[a],a,e)===t.s)return}else for(var l in e)if((0,r.default)(e,l)&&n.call(i,e[l],l,e)===t.s)return}},2556:function(e,t,n){"use strict";var r=n(7900),i=n(2962),a=n(8037),c=i.default?(o.__nfes||(o.__nfes={listeners:{},waitListeners:{}}),o.__nfes):void 0!==n.g?(n.g.__nfes||(n.g.__nfes={listeners:{},waitListeners:{}}),n.g.__nfes):{},l=function(){function e(){this.listeners=c.listeners,this.waitListeners=c.waitListeners}return e.prototype.on=function(e,t){var n=this;if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].has(t))throw new Error("The listener already exising in event: ".concat(e));this.waitListeners[e]&&setTimeout((function(){t(n.waitListeners[e])}),0),this.listeners[e].add(t)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.listeners[e]?this.listeners[e].forEach((function(e){return e.apply(void 0,t)})):this.waitListeners[e]=r.__assign({},t)},e.prototype.off=function(e,t){this.listeners[e]&&this.listeners[e].delete(t)},e}(),s=new l;if(i.default){if((0,a.default)(o.__nfes_eventEmitter,"Object")&&!(o.__nfes_eventEmitter instanceof l)){var u=o.__nfes_eventEmitter;(0,a.default)(u.on,"Array")&&u.on.forEach((function(e){s.on(e.event,e.callback)})),(0,a.default)(u.emit,"Array")&&u.emit.forEach((function(e){s.emit(e.event,e.data)})),(0,a.default)(u.off,"Array")&&u.off.forEach((function(e){s.on(e.event,e.callback)}))}o.__nfes_eventEmitter=s}t.default=s},4681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3908);t.default=function(){if(r.default)try{var e=JSON.parse(o.name||'{"__nfes_mock":true}');return e.__nfes_mock?JSON.parse(o.localStorage.getItem("CINFO")||"{}"):e}catch(e){try{return JSON.parse(o.localStorage.getItem("CINFO")||"{}")}catch(e){return{}}}return{}}},6310:function(e,t,n){"use strict";var r=n(1299),i=n(2962),a=n(3908),c=n(4681);t.default=function(e){var t=null;return!(t=a.default?(0,r.default)("_n_cid",e)||(i.default?o.localStorage.getItem("GUID"):null)||(0,r.default)("GUID",e):(0,r.default)("GUID",e)||(0,r.default)("_n_cid",e))&&a.default&&(t=((0,c.default)()||{}).clientID),!t&&i.default&&(t=o.localStorage.getItem("GUID")),t||i.default||"undefined"==typeof nfesServerData||(t=nfesServerData.clientId||""),t}},1299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2962);t.default=function(e,t){var n="";if(!t)if(r.default)t=i.cookie;else{if("undefined"==typeof nfesServerData||!nfesServerData.cookies)return n;t=nfesServerData.cookies||""}for(var o=t.split("; "),a=0,c=void 0,l=void 0;a<o.length;a++)l=(c=o[a]).indexOf("="),c.substr(0,l)===e&&(n=c.substr(l+1));return n}},5805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=decodeURIComponent(e);if(!t||!t.noFullDecode)for(;n!==(n=decodeURIComponent(n)););return n}},206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2962);t.default=function(e){return void 0===e&&(e=""),r.default&&!e&&(e=o.location.host),e.match(/^m\.ctrip\.com/i)?"prod":e.match(/\.uat\.qa/i)?"uat":e.match(/\.ui\.|\.dev\.|\.fat/i)||e.match(/\.lpt/i)||e.match(/\.fws/i)||e.match(/^(localhost|172\.16|127\.0|10\.15|10\.32)/i)?"fat":e.match(/(\.|-)uat\.ctripqa\.com/i)?"uatqa":"prod"}},7168:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},3874:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAndroid=void 0,t.isAndroid=function(e){return!("undefined"==typeof r&&!e)&&/Android/i.test(e||r.userAgent)},t.default=(0,t.isAndroid)()},8037:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(Object.prototype.toString.call(e)||"").slice(8,-1);return t?n.toLowerCase()===t.toLowerCase():n}},2080:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2962);t.default=o.default||"undefined"!=typeof r},2962:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof o},3908:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isYouth=t.isInMaster=t.isInCtripApp=void 0,t.isInCtripApp=function(e){if(void 0===e&&(e=""),"undefined"==typeof r&&!e)return!1;var t=e||r.userAgent,n=/(CtripWireless|sml_wireless|gs_wireless|we_wireless|TieyouWireless)/i.test(t),o=/CTRIPPER|_tripPal_CtripWireless/i.test(t);return n&&!o},t.default=(0,t.isInCtripApp)(),t.isInMaster="undefined"!=typeof r&&/(Ctrip|Unicom|Pro)_CtripWireless/.test(r.userAgent),t.isYouth="undefined"!=typeof r&&/Youth_CtripWireless/.test(r.userAgent)},2787:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInFirefox=void 0,t.isInFirefox=function(e){return!("undefined"==typeof r&&!e)&&/Firefox/i.test(e||r.userAgent)},t.default=(0,t.isInFirefox)()},5909:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInIE=void 0,t.isInIE=function(e){if("undefined"==typeof r&&!e)return!1;var t=e||r.userAgent;return/MSIE/i.test(t)||/Trident/i.test(t)},t.default=(0,t.isInIE)()},1996:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInIpad=void 0,t.isInIpad=function(e){return!("undefined"==typeof r&&!e)&&/iPad/i.test(e||r.userAgent)},t.default=(0,t.isInIpad)()},8807:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInIpod=void 0,t.isInIpod=function(e){return!("undefined"==typeof r&&!e)&&/iPod/i.test(e||r.userAgent)},t.default=(0,t.isInIpod)()},544:function(e,t,n){"use strict";var a=n(7422),c=n(2962);t.default=function(e){if(!a.default)return e&&e(!1),!1;function t(){e("miniprogram"===o.__wxjs_environment)}var n=/miniprogram/i.test(r.userAgent);return!n&&c.default&&(n="miniprogram"===o.__wxjs_environment||-1!==o.location.search.indexOf("_cwxobj=")),e&&(n?e(n):c.default?o.WeixinJSBridge&&o.WeixinJSBridge.invoke?t():i.addEventListener("WeixinJSBridgeReady",t,!1):e(!1)),n}},721:function(e,t,n){"use strict";t.isInMobile=void 0;var o=n(8807),i=n(3874),a=n(5561),c=n(2787),l=n(5909),s=n(8266);t.isInMobile=function(e){if("undefined"==typeof r&&!e)return!1;var t=e||r.userAgent,n=/(webOS|hpwOS)/i.test(t),u=/BlackBerry/i.test(t),m=/BB10/i.test(t),d=/Chrome/i.test(t)||/CriOS/i.test(t);return!((0,s.isInTablet)(t)||(0,o.isInIpod)(t)||!((0,i.isAndroid)(t)||(0,a.isiPhone)(t)||n||u||m||d&&t.match(/Android/)||d&&t.match(/CriOS\/([\d.]+)/)||(0,c.isInFirefox)(t)&&t.match(/Mobile/)||(0,l.isInIE)(t)&&t.match(/Touch/)))},t.default=(0,t.isInMobile)()},8266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInTablet=void 0;var o=n(1996),i=n(3874),a=n(2787),c=n(5909);t.isInTablet=function(e){if("undefined"==typeof r&&!e)return{};var t=e||r.userAgent,n=/PlayBook/i.test(t);return!!((0,o.isInIpad)(t)||n||(0,i.isAndroid)(t)&&!t.match(/Mobile/)||(0,a.isInFirefox)(t)&&t.match(/Tablet/)||(0,c.isInIE)(t)&&!t.match(/Phone/)&&t.match(/Touch/))},t.default=(0,t.isInTablet)()},7330:function(e,t){"use strict";t.isInTripApp=void 0,t.isInTripApp=function(e){return void 0===e&&(e=""),!("undefined"==typeof r&&!e)&&/IBUCtrip|_Trip.com_/i.test(e||r.userAgent)},t.default=(0,t.isInTripApp)()},7422:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInWeChat=void 0,t.isInWeChat=function(e){return void 0===e&&(e=""),!("undefined"==typeof r&&!e)&&/MicroMessenger/i.test(e||r.userAgent)},t.default=(0,t.isInWeChat)()},5561:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isiPhone=void 0,t.isiPhone=function(e){return!("undefined"==typeof r&&!e)&&/iPhone\sOS/i.test(e||r.userAgent)},t.default=(0,t.isiPhone)()},992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2962),i=n(3908),a=n(4681);t.default=function(e){return r.default&&(i.default||e)?"0"==(e=e||o.localStorage.getItem("isPreProduction")||(0,a.default)().isPreProduction)?"fat":"2"==e?"uat":"1"==e?"baolei":"prod":"prod"}},3273:function(e,t){"use strict";t.default=function(){var e,t="TEST_PRIVATE_MODEL";try{o.localStorage.setItem(t,"1"),e=o.localStorage.getItem(t),o.localStorage.removeItem(t)}catch(e){return("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&2===JSON.stringify(o.localStorage).length}return"1"!==e}()},5215:function(e,t){"use strict";t.default=function(e){return/^http(s)?:\/\/[A-Za-z0-9\-]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>])*$/.test(e)}},4060:function(e,t){"use strict";t.x=void 0,t.x=function(e){return void 0===e&&(e=""),!("undefined"==typeof r&&!e)&&/Windows Phone/i.test(e||r.userAgent)},t.default=(0,t.x)()},8319:function(e,t,n){"use strict";var r=n(8037);t.default=function(e){var t=[];return t.add=function(e,t){this.push(encodeURIComponent(e)+"="+encodeURIComponent(t))},function(e,t){if((0,r.default)(t,"Array")){for(var n=0;n<t.length;n++){var o=t[n];e.add(o.name,o.value)}return e}if((0,r.default)(t,"Object"))for(var i in t)o=t[i],e.add(i,o)}(t,e),t.join("&").replace(/%20/g,"+")}},8450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2962);t.default=function(e){if(!e){if(!r.default)return{};e=o.location.href}var t=/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}}},9137:function(e,t,n){"use strict";var r=n(8450),i=n(2962),a=n(5805),c=/([^&=?]+)=([^&]+)/gi;t.default=function(e,t,n){if(!t){if(!i.default)return"";t=o.location.href}var l,s={};l=(0,r.default)(t).search||t;for(var u=null;u=c.exec(l);){var m=n&&n.noNeedToLowerCase?u[1]:u[1].toLowerCase(),d=u[2];s[m]=(0,a.default)(d,n)}if(n&&n.combineHash)try{s=Object.assign({},s,function(e,t){var n="";i.default?n=e&&e.indexOf("#")>-1?e.substring(e.indexOf("#")+1):(location.hash||"").replace(/^\#/,""):e&&e.indexOf("#")>-1&&(n=e.substring(e.indexOf("#")+1));for(var r=n.indexOf("?"),o=(r>-1?n.substring(r+1):n).split("&"),a={},c=0;c<o.length;c++){var l=o[c].split("=");2==l.length&&(a[l[0]]=t&&t.decodeHash?decodeURIComponent(l[1]):l[1])}return a}(t,n))}catch(e){}return e?n&&n.noNeedToLowerCase?s[e]:s[e.toLowerCase()]:s}},2170:function(e,t,n){"use strict";var r=n(1058);t.default=function(e,t){var n=new Date((new Date).getTime()-1),o=Object.assign(t||{},{expires:n,path:"/"}),i=o.timeout,a=o.expires,c=o.path,l=o.domain,s=o.secure;(0,r.default)(e,"",i||a,c,l,s)}},1058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2962),o=n(8037);t.default=function(e,t,n,a,c,l){if(void 0===n&&(n=new Date((new Date).getTime()+93312e6)),void 0===a&&(a="/"),void 0===c&&(c=".ctrip.com"),r.default)try{((0,o.default)(t,"Object")||(0,o.default)(t,"Array"))&&(t=JSON.stringify(t)),i.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+n.toGMTString():"")+(a?"; path="+a:"")+(c?"; domain="+c:"")+(l?"; secure":"")}catch(e){}}},5565:function(e,t,n){var r=n(1808).default,o=n(4843).default,i=n(6884).default,a=r(r({},o),i);e.exports=a,e.exports.default=a},7900:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return a},__rest:function(){return c},__decorate:function(){return l},__param:function(){return s},__metadata:function(){return u},__awaiter:function(){return m},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return p},__values:function(){return g},__read:function(){return h},__spread:function(){return v},__spreadArrays:function(){return y},__await:function(){return b},__asyncGenerator:function(){return I},__asyncDelegator:function(){return w},__asyncValues:function(){return C},__makeTemplateObject:function(){return _},__importStar:function(){return x},__importDefault:function(){return E},__classPrivateFieldGet:function(){return T},__classPrivateFieldSet:function(){return S}});var r=n(9385),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)};function i(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function l(e,t,n,o){var i,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":(0,r.Z)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(c=(a<3?i(c):a>3?i(t,n,c):i(t,n))||c);return a>3&&c&&Object.defineProperty(t,n,c),c}function s(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,r.Z)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function c(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function g(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function I(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{(n=o[e](t)).value instanceof b?Promise.resolve(n.value.v).then(l,s):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){c("next",e)}function s(e){c("throw",e)}function u(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=g(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6884:function(e){"use strict";e.exports=n(56884)},4843:function(e){"use strict";e.exports=n(92954)},497:function(e,t,n){var r=n(3680);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1808:function(e,t,n){var r=n(497);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3001:function(e,t,n){var r=n(125).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3680:function(e,t,n){var r=n(125).default,o=n(3001);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},125:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9385:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},r(e)}n.d(t,{Z:function(){return r}})}},c={};function l(e){var n=c[e];if(void 0!==n)return n.exports;var r=c[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.g=function(){if("object"==("undefined"===typeof globalThis?"undefined":a(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"===typeof o?"undefined":a(o)))return o}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};!function(){"use strict";l.r(s),l.d(s,{Button:function(){return m.Button},CommentListModal:function(){return An},EmojiComp:function(){return _n},Events:function(){return Ct.Events},Icon:function(){return m.Icon},Image:function(){return m.Image},RichText:function(){return m.RichText},ScrollView:function(){return m.ScrollView},Swiper:function(){return m.Swiper},SwiperItem:function(){return m.SwiperItem},Text:function(){return m.Text},Textarea:function(){return m.Textarea},Video:function(){return m.Video},View:function(){return m.View},Vote:function(){return Nn},XENV:function(){return t},XFetch:function(){return st},XGoodsCard:function(){return sn},XIphoneXAdapter:function(){return ce},XLinearGradient:function(){return ae},XUA:function(){return e},XUBT:function(){return a},XView:function(){return J},action:function(){return vn},assembleEmojiObj:function(){return bn},cwx:function(){return ut},default:function(){return Rn},dynamicImageUrl:function(){return Lt},handleDataAfterCommentPraise:function(){return In},initExposure:function(){return Q},refreshExposure:function(){return X},request:function(){return mn},ruleSortCommentList:function(){return gn}});var e={};l.r(e),l.d(e,{isAlipay:function(){return be},isAndroid:function(){return de},isApp:function(){return pe},isBaidu:function(){return ve},isH5:function(){return ge},isIOS:function(){return me},isIPhoneX:function(){return fe},isInAlipay:function(){return Se},isInApp:function(){return ke},isInBaidu:function(){return Ee},isInKuaiShou:function(){return xe},isInMini:function(){return Oe},isInQQ:function(){return Le},isInQuick:function(){return _e},isInServer:function(){return Ce},isInTouTiao:function(){return Te},isInWechat:function(){return Ne},isLowIOS:function(){return Pe},isMini:function(){return he},isQQ:function(){return we},isTouTiao:function(){return ye},isWechat:function(){return Ie}});var t={};l.r(t),l.d(t,{APP_TYPE:function(){return je},DEV_ENV_TYPE:function(){return Ve},PLATFORM_TYPE:function(){return Re},getAppType:function(){return Ge},getDevEnv:function(){return Fe},getPlatform:function(){return Ue}});var a={};l.r(a),l.d(a,{logDevTrace:function(){return R},logExposure:function(){return j},logMetric:function(){return V},logSendPV:function(){return M},logTrace:function(){return A}});var c=n(90201),u=l.n(c),m=n(71515),d=l(9385);function f(e){var t=function(e,t){if("object"!==(0,d.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==(0,d.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,d.Z)(t)?t:String(t)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,d.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}var E=l(4843),T=l.n(E);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function N(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}u().Component;var O=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")},L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(N(t.filter(Boolean))))};function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function A(e,t){var n,r;null===(n=E.Current.page)||void 0===n||null===(r=n.ubtTrace)||void 0===r||r.call(n,e,t)}function R(e,t){var n,r;null===(n=E.Current.page)||void 0===n||null===(r=n.ubtDevTrace)||void 0===r||r.call(n,e,t)}function V(e,t,n){var r,o;null===(r=E.Current.page)||void 0===r||null===(o=r.ubtMetric)||void 0===o||o.call(r,{name:e,value:t,tag:n||{}})}function j(e,t,n){var r,o;null===(r=E.Current.page)||void 0===r||null===(o=r.ubtExposure)||void 0===o||o.call(r,e,t,n)}function M(e,t){var n,r;null===(n=E.Current.page)||void 0===n||null===(r=n.ubtSendPV)||void 0===r||r.call(n,h({page_id:e},t||{}))}var D=function(e){w(n,e);var t=x(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).state={isActive:!1},r.handleClick=r.handleClick.bind(_(r)),r.handleTouchEnd=r.handleTouchEnd.bind(_(r)),r.handleTouchStart=r.handleTouchStart.bind(_(r)),r.handleOnLongPress=r.handleOnLongPress.bind(_(r)),r}return b(n,[{key:"handleClick",value:function(e){var t=this,r=this.props.onClick;n._Tasks.forEach((function(n){n&&n(e,t)})),this.sendLog(),r&&r(e)}},{key:"handleTouchStart",value:function(e){var t=this.props,n=t.withFeedback,r=t.onTouchStart,o=this.state.isActive;n&&!o&&this.setState({isActive:!0}),r&&r(e)}},{key:"handleTouchEnd",value:function(e){var t=this.props,n=t.withFeedback,r=t.onTouchEnd;n&&this.setState({isActive:!1}),r&&r(e)}},{key:"handleOnLongPress",value:function(e){var t=this.props,n=t.withFeedback,r=t.onLongPress;n&&this.setState({isActive:!1}),r&&r(e)}},{key:"sendLog",value:function(){var e=this.props.log;if(e){var t=Array.isArray(e)?e:[e];t.length<=0||t.forEach((function(e){e.key&&A(e.key,e.params||{})}))}}},{key:"isNeedRegisterClick",value:function(){var e=this.props,t=e.onClick,r=e.log,o=n._Tasks.length>0,i=Array.isArray(r)?r.length>0:!!r;return o||i||!!t}},{key:"isNeedRegisterTouchStart",value:function(){var e=this.props,t=e.onTouchStart,n=e.withFeedback;return!!t||!!n}},{key:"isNeedRegisterTouchEnd",value:function(){var e=this.props,t=e.onTouchEnd,n=e.withFeedback;return!!t||!!n}},{key:"isNeedRegisterLongPress",value:function(){var e=this.props,t=e.onLongPress,n=e.withFeedback;return!!t||!!n}}]),n}(u().Component);function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}p(D,"_Tasks",[]);var U,G=l(6884),H=l.n(G),B=["autoExpose","exposeTime","threshold"],W=["id","className","testID"],q=["id","className"],Q=function(e,t){if(t){var n=e||{},r=n.autoExpose,o=n.exposeTime,i=n.threshold,a=F(n,B);Object.assign(t,h({autoExpose:r?2:r,exposeThreshold:i||1,exposeDuration:o||500},a))}},X=function(e){H().sendUbtExpose.refreshObserve(e)},Z=function(e){return u().forwardRef((function(t,n){var r=t||{},o=r.id,i=r.className,a=r.testID,l=F(r,W),s=(0,c.useMemo)((function(){return function(e){var t=e||{},n=t.ubtKey,r=t.data;return n?{"data-expose":{ubtKeyName:n,data:r},id:"".concat(Date.now(),"_").concat(Math.random().toString().slice(2,6)),className:"autoExpose"}:{}}(a)}),[a]),m=s.id,d=s.className,f=F(s,q);return u().createElement(e,P({},f,l,{id:O(o,m),className:O(i,d),ref:n}))}))},Y=function(e){w(n,e);var t=x(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.style,o=void 0===r?{}:r,i=e.activeOpacity,a=void 0===i?.2:i,c=e.activeStyle,l=void 0===c?{}:c,s=e.withFeedback,d=void 0!==s&&s,f=e.children,p=this.state.isActive,g=d?L({opacity:a},l):{},h=p?L(o,g):o,v=this.isNeedRegisterClick(),y=this.isNeedRegisterTouchStart(),b=this.isNeedRegisterTouchEnd(),I=this.isNeedRegisterLongPress();return u().createElement(m.View,P({},this.props,{className:O("xt-xview",n),style:h,hoverStyle:d?g:void 0,onClick:v?this.handleClick:void 0,onTouchStart:y?this.handleTouchStart:void 0,onTouchEnd:b?this.handleTouchEnd:void 0,onLongPress:I?this.handleOnLongPress:void 0}),f)}}]),n}(D);U=Y,p(Y,"register",(function(e){var t;Array.isArray(e)?(t=U._Tasks).push.apply(t,N(e)):U._Tasks.push(e)}));var K=Z(Y);K.register=Y.register;var J=K,z=function(e){var t=e.renderBottom,n=e.renderTop,r=e.layout,o=e.children,i=n||u().Fragment,a=t||u().Fragment;return ee(r)?u().createElement(u().Fragment,null,u().createElement(m.View,{style:{display:"inline-flex"}},u().createElement(i,null)),o,u().createElement(m.View,{style:{display:"inline-flex"}},u().createElement(a,null))):u().createElement(m.View,null,u().createElement(i,null),o,u().createElement(a,null))},$=["layout","onTouchMove","className","renderBottom","renderTop"],ee=function(e){return"horizontal"===e},te="nearest",ne=function(e){w(n,e);var t=x(n);function n(e){var r;return v(this,n),p(_(r=t.call(this,e)),"$ref",void 0),p(_(r),"reWriteScrollTo",(function(){var e=r.props.layout;r.$ref.current.oldScrollTo=r.$ref.current.scrollTo,r.$ref.current.scrollTo=function(t){var n=t.offset,o=t.animated,a=i.getElementsByClassName("xt-flatlist_warp")[0];if(a&&null!=a&&a.scrollTo)return a.scrollTo({top:ee(e)?0:n,left:ee(e)?n:0,behavior:o?"smooth":"instant"});if(r.$ref.current.oldScrollTo)return r.$ref.current.oldScrollTo({top:ee(e)?0:n,left:ee(e)?n:0,behavior:o?"smooth":"instant"});r.setState({scrollWithAnimation:o});var c=n+.1*Math.random();T().nextTick((function(){ee(e)?r.setState({scrollLeft:c,scrollTop:0}):r.setState({scrollTop:c,scrollLeft:0})}))}})),p(_(r),"scrollToIndex",(function(e){var t=e.index,n=e.align,o=void 0===n?"start":n,a=e.animated,c=void 0===a||a,l=e.alignToTop,s=void 0===l||l,u=r.props.layout,m=i.getElementById("xt-flatlist_".concat(t)),d={start:"start",center:"center",end:"end",auto:"nearest"}[o];if(m&&m.scrollIntoView){var f=te,p=te;ee(u)?p=d:f=d,m.scrollIntoView({alignToTop:s,behavior:c?"smooth":"instant",block:f,inline:p})}else r.setState({scrollWithAnimation:c}),T().nextTick((function(){r.setState({scrollIntoView:"xt-flatlist_".concat(t),scrollIntoViewAlignment:d||te})}))})),r.state={isScrolled:!1,scrollTop:0,scrollLeft:0,scrollIntoView:null,scrollIntoViewAlignment:null,scrollWithAnimation:!0},r.$ref=r.props.forwardedRef||c.createRef(),r}return b(n,[{key:"componentDidMount",value:function(){this.reWriteScrollTo(),this.$ref.current.scrollToIndex=this.scrollToIndex}},{key:"renderChildren",value:function(){var e,t=this.props,n=t.itemData,r=t.item,o=t.layout,i=t.initialNumToRender,a=void 0===i?10:i;return e=this.state.isScrolled?n:n.slice(0,a),c.createElement(c.Fragment,null,e.map((function(e,t){var n;return null!==(n=c.createElement(m.View,{className:ee(o)?"xt-flatlist_item":"",id:"xt-flatlist_".concat(t),key:"xt-flatlist_".concat(t)},r({item:e,index:t})))&&void 0!==n?n:c.createElement(c.Fragment,null)})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.layout,r=t.onTouchMove,o=t.className,i=t.renderBottom,a=t.renderTop,l=F(t,$),s=this.state,u=s.scrollTop,d=s.scrollLeft;return delete l.forwardedRef,c.createElement(c.Fragment,null,c.createElement(m.ScrollView,P({},l,{ref:this.$ref,scrollX:ee(n),scrollY:!ee(n),scrollTop:u,scrollLeft:d,enhanced:!0,scrollIntoView:this.state.scrollIntoView,scrollWithAnimation:this.state.scrollWithAnimation,scrollIntoViewAlignment:this.state.scrollIntoViewAlignment,onScroll:function(){var t;e.setState({scrollIntoView:null,scrollIntoViewAlignment:null}),e.props.onScroll&&(t=e.props).onScroll.apply(t,arguments)},onTouchMove:function(){e.state.isScrolled||e.setState({isScrolled:!0}),r&&r.apply(void 0,arguments)},className:O("xt-flatlist_scroll",o)}),c.createElement(z,{renderBottom:i,renderTop:a,layout:n},this.renderChildren())))}}]),n}(c.Component);p(ne,"defaultProps",{layout:"vertical"});var re=["start","end","colors","locations","useAngle","angleCenter","angle","style","children"],oe=[["top left","top","top right"],["left",null,"right"],["bottom left","bottom","bottom right"]],ie=function(e){w(n,e);var t=x(n);function n(){var e;v(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return p(_(e=t.call.apply(t,[this].concat(o))),"state",{width:1,height:1}),p(_(e),"getAngle",(function(){var t=e.props,n=t.start,r=t.end;if(e.props.useAngle)return e.props.angle+"deg";var o=function(e,t){var n,r=null===(n=oe[t.y-e.y+1])||void 0===n?void 0:n[t.x-e.x+1];return r?"to ".concat(r):null}(n,r);return o||Math.atan2(e.state.width*(e.props.end.y-e.props.start.y),e.state.height*(e.props.end.x-e.props.start.x))+Math.PI/2+"rad"})),p(_(e),"getColors",(function(){return e.props.colors.map((function(t,n){var r=e.props.locations[n],o="";return r&&(o=" "+100*r+"%"),t+o})).join(",")})),e}return b(n,[{key:"render",value:function(){var e=this.props,t=(e.start,e.end,e.colors,e.locations,e.useAngle,e.angleCenter,e.angle,e.style),n=void 0===t?{}:t,r=e.children,o=F(e,re);return u().createElement(m.View,P({},o,{style:h(h({},n),{},{backgroundImage:"linear-gradient(".concat(this.getAngle(),",").concat(this.getColors(),")")})}),r)}}]),n}(c.PureComponent);p(ie,"defaultProps",{start:{x:.5,y:0},end:{x:.5,y:1},locations:[],colors:[],useAngle:!1,angle:0});var ae=ie,ce={Top:function(e){var t=e.className,n=e.style;return u().createElement(m.View,{className:O("xt-iphonex-adapter__top",t),style:n})},Bottom:function(e){var t=e.className,n=e.style;return u().createElement(m.View,{className:O("xt-iphonex-adapter__bottom",t),style:n})}};function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Z((function(e){return u().createElement(m.Image,e)}));var se=Z(u().forwardRef((function(e,t){var n=e.numberOfLines,r=e.style,o=e.className,i=le((0,c.useMemo)((function(){var e=Number(n);return!e||e<=0?["",{}]:1===e?["xt-text_single_line",{}]:["xt-text_multy_line",{"-webkit-line-clamp":"".concat(e)}]}),[n]),2),a=i[0],l=i[1];return u().createElement(m.Text,P({},e,{className:O(o,a),style:L(r,l),numberOfLines:n?"".concat(n):"",ref:t}))}))),ue=T().getSystemInfoSync(),me=function(e){return"ios"===ue.platform},de=function(e){return"android"===ue.platform},fe=function(e){var t=ue.model,n=be(),r=n?/iPhone(\d{0,3}),(\d{0,3})/i:/iPhone (X|\d{0,3})/,o=t.match(r)||[];return n?Number(o[1])>10||10==Number(o[1])&&(3==Number(o[2])||6==Number(o[2])):"X"==o[1]||Number(o[1])>10},pe=function(){return!1},ge=function(){return!1},he=function(){return!0},ve=function(){return"weapp".toUpperCase()==E.ENV_TYPE.SWAN},ye=function(){return"weapp".toUpperCase()==E.ENV_TYPE.TT},be=function(){return"weapp".toUpperCase()==E.ENV_TYPE.ALIPAY},Ie=function(){return"weapp".toUpperCase()==E.ENV_TYPE.WEAPP},we=function(){return"weapp".toUpperCase()==E.ENV_TYPE.QQ},Ce=function(e){return!1},_e=function(e){return!1},xe=function(e){return!1},Ee=function(e){return!1},Te=function(e){return!1},Se=function(e){return!1},ke=function(e){return!1},Ne=function(e){return!1},Oe=function(e){return!1},Le=function(e){return!1},Pe=function(e){var t=ue.system;return t.indexOf("iOS")>-1&&parseInt(t.split(" ")[1].split(".")[0])<=13},Ae=function(e){w(n,e);var t=x(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).updateStatusBarHeight(),r}return b(n,[{key:"componentDidMount",value:function(){this.handleH5InApp()}},{key:"componentDidUpdate",value:function(e,t,n){this.handleH5InApp()}},{key:"handleH5InApp",value:function(){ke()&&(this.updateStatusBarHeight(),this.updateFromProps())}},{key:"updateStatusBarHeight",value:function(){new Promise((function(e,t){try{if(!ke())return e(0);if(me()){var n=20;return fe()&&(n+=24),void e(n)}o.CtripBar&&o.CtripBar.appGetStatusBarHeight&&o.CtripBar.appGetStatusBarHeight((function(t){e(t/o.devicePixelRatio)}))}catch(e){t(e)}})).then((function(e){n.currentHeight=e}))}},{key:"updateFromProps",value:function(){var e=this.props,t=e.barStyle,r=e.translucent,o=e.hidden;t&&n.setBarStyle(t),"boolean"==typeof r&&n.setTranslucent(r),"boolean"==typeof o&&n.setHidden(o)}}]),n}(u().Component);p(Ae,"currentHeight",void 0),p(Ae,"setHidden",(function(e,t){var n;n=e,Ce()||o.CtripBar&&o.CtripBar.app_set_navbar_hidden&&o.CtripBar.app_set_navbar_hidden(n)})),p(Ae,"setBarStyle",(function(e,t){var n;n=e,Ce()||o.CtripBar&&o.CtripBar.appSetStatusBarStyle&&o.CtripBar.appSetStatusBarStyle(n)})),p(Ae,"setNetworkActivityIndicatorVisible",(function(e){})),p(Ae,"setBackgroundColor",(function(e,t){})),p(Ae,"setTranslucent",(function(e){e&&(Ce()||o.CtripBar&&o.CtripBar.appSetTransparentForWindow&&o.CtripBar.appSetTransparentForWindow())})),u().Component,u().Component;var Re=function(e){return e.CRN="CRN",e.Mini="mini",e.H5="H5",e.Online="online",e}({}),Ve=function(e){return e.FAT="FAT",e.UAT="UAT",e.PROD="PROD",e.DEV="DEV",e}({}),je=function(e){return e.TRIP="TRIP",e.CTRIP="CTRIP",e}({}),Me=n(65238),De=l.n(Me),Fe=function(e){var t,n=De().env||"";switch("undefined"!=typeof process&&"development"===(null===(t=process)||void 0===t||null===(t=t.env)||void 0===t?void 0:"production")&&(n=Ve.DEV),n=n.toLowerCase()){case"dev":return Ve.DEV;case"fat":return Ve.FAT;case"uat":return Ve.UAT;default:return Ve.PROD}},Ue=function(){return Re.Mini},Ge=function(){return je.CTRIP};function He(){He=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),c=new L(r||[]);return o(a,"_invoke",{value:S(e,n,c)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",g="executing",h="completed",v={};function y(){}function b(){}function I(){}var w={};s(w,a,(function(){return this}));var C=Object.getPrototypeOf,_=C&&C(C(P([])));_&&_!==n&&r.call(_,a)&&(w=_);var x=I.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,c){var l=m(e[o],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==(0,d.Z)(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,r){var o=f;return function(i,a){if(o===g)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=k(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var s=m(t,n,r);if("normal"===s.type){if(o=r.done?h:p,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=h,r.method="throw",r.arg=s.arg)}}}function k(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=m(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError((0,d.Z)(t)+" is not iterable")}return b.prototype=I,o(x,"constructor",{value:I,configurable:!0}),o(I,"constructor",{value:b,configurable:!0}),b.displayName=s(I,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,I):(e.__proto__=I,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},E(T.prototype),s(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(x),s(x,l,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Be(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Be(i,r,o,a,c,"next",e)}function c(e){Be(i,r,o,a,c,"throw",e)}a(void 0)}))}}var qe="__xtaro-storage-time__",Qe=function(e,t){var n=e.data,r=e.expires,o=e.key,i=e.domain;if(r){var a=Object.prototype.toString.call(r);if("[object Date]"===a||"[object Number]"===a){var c="[object Date]"===a?r.getTime():(new Date).getTime()+r;return T().setStorage({key:qe+o,data:c,domain:i}),t?T().setStorageSync(o,n,i):T().setStorage(e)}console.error("type error: expires is not Date or number")}return t?T().setStorageSync(o,n,i):T().setStorage(e)},Xe=(T().removeStorage,T().removeStorageSync,T().clearStorage,T().clearStorageSync,T().getStorageInfo,function(e,t,n,r){return Qe({data:t,key:e,expires:n,domain:r},!0)}),Ze=function(e,t){var n=T().getStorageSync(qe+e,t);return n?n>(new Date).getTime()?T().getStorageSync(e,t):(T().removeStorage({key:e}),T().removeStorage({key:qe+e}),""):T().getStorageSync(e,t)},Ye=(T().getStorageInfoSync,p(p(p(p({},Ve.DEV,"https://m.ctrip.com"),Ve.PROD,"https://m.ctrip.com"),Ve.FAT,"https://gateway.m.fws.qa.nt.ctripcorp.com"),Ve.UAT,"https://gateway.m.uat.qa.nt.ctripcorp.com"));function Ke(e,t,n){e.parentNode&&(e.parentNode.removeChild(e),delete o[t],n&&clearTimeout(n))}var Je,ze=(Je=0,function(e,t){if("undefined"==typeof o)return(0,t.fail)(null);var n,r,a=t.prefix,c=void 0===a?"__jp":a,l=t.cbName,s=void 0===l?"callback":l,u=t.timeout,m=void 0===u?15e3:u,d=t.data,f=void 0===d?{}:d,p=t.success,g=t.fail,h=c+Je++;o[h]=function(e){return o[h]&&Ke(n,h,r),p(e)},e="".concat(e).concat(e.indexOf("?")>0?"":"?").concat(function(e){var t="";for(var n in e){var r=void 0!==e[n]?e[n]:"";t+="&".concat(n,"=").concat(encodeURIComponent(r))}return t}(f).substr(1),"&").concat(s,"=").concat(h),n=function(e,t){var n=i.createElement("script");return n.async=!0,n.src=e,t&&(n.onerror=t),i.getElementsByTagName("head")[0].appendChild(n),n}(e,(function(e){return g(e),Ke(n,h,r)})),m&&(r=setTimeout((function(){return Ke(n,h,r),g("timeout")}),m))}),$e=ze,et=["url","head","data","method","retryTimes","req","timeout","cachePolicy","isSOAAgent","useAutoParseSoaParams","needLock","jsonp","cbName","isFullRes","debounceTime","beforeHandleData","afterHandleData"],tt={},nt={},rt="",ot=function(e){var t=Ye[Fe(e)]||Ye[Ve.PROD];return Ce()?t.replace("https://","http://"):t},it=function(){var e=We(He().mark((function e(t,n,r,o){var i,a,c,l;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(o||{}).isFullRes,a=i?r:r.data||r,c={data:a,isSuccess:t},!n){e.next=12;break}if(!((l=n(c))instanceof Promise)){e.next=11;break}return e.next=8,l;case 8:c=e.sent,e.next=12;break;case 11:c=l;case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}();function at(e,t,n){var r=t.afterHandleData,o=e.cbName,i=e.url,a=e.jsonp,c=e.data,l=e.timeout,s=e.isFullRes;return new Promise((function(u){var m,d,f={success:(d=We(He().mark((function e(t){var n;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(!0,r,t,{isFullRes:s});case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)}),fail:(m=We(He().mark((function e(o){var i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n(t,o),e.next=3,it(!1,r,o,{isFullRes:s});case 3:i=e.sent,u(i);case 5:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})};if(a)return $e(i,h({data:c,cbName:o,timeout:l},f));H().request(h(h({},e),f))}))}var ct=function(){var e=We(He().mark((function e(t,n,r,i){var a,c,l,s,u;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ot(i),c=[],Array.isArray(t)||(t=[t]),l="";try{d=(0,E.getCurrentPages)(),l=null===(m=d[d.length-1])||void 0===m?void 0:m.route}catch(e){console.log("curPageContextId => getPageContextId  error:",e)}rt!==l&&(tt={},nt={},rt=l),s=He().mark((function e(){var n,l,s,m,d,f,p,g,v,y,b,I,w,C,_,x,E,T,S,k,N,O,L,P,A,R,V,j,M,D,U,G;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[u],l=n.url,s=n.head,m=n.data,d=n.method,f=void 0===d?"POST":d,p=n.retryTimes,g=void 0===p?0:p,v=n.req,y=n.timeout,b=void 0===y?15e3:y,I=n.cachePolicy,w=n.isSOAAgent,C=n.useAutoParseSoaParams,_=void 0!==C&&C,x=n.needLock,E=n.jsonp,T=n.cbName,S=n.isFullRes,k=n.debounceTime,N=void 0===k?200:k,O=n.beforeHandleData,n.afterHandleData,L=F(n,et),P=v||i,A={},l=-1==l.indexOf("http")?"".concat(a).concat(l):l,s&&(m.head=Object.assign(m.head||{},s)),!O){e.next=15;break}if(!((R=O(m))instanceof Promise)){e.next=14;break}return e.next=11,R;case 11:m=e.sent,e.next=15;break;case 14:m=R;case 15:if("undefined"==typeof o&&w&&(_&&(j=(V={}).serviceCode,M=V.serviceOperation,A.serviceCode=j,A.serviceOperation=M),P.clientId||(A.ignoreCID=!0),A.body=m),D=h(h({url:l,method:f,data:m,jsonp:E,isFullRes:S,cbName:T,retryTimes:g,timeout:b,cachePolicy:I,req:P,isSOAAgent:w},L),A),1!==x){e.next=24;break}return tt[l]&&tt[l](null),U=new Promise((function(e){tt[l]=e,setTimeout(We(He().mark((function t(){var o;return He().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e===tt[l]){t.next=3;break}return t.abrupt("return",e(null));case 3:return t.next=5,at(D,n,r);case 5:o=t.sent,e(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("request error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),N)})),c.push(U),e.abrupt("return",0);case 24:if(2!==x){e.next=29;break}if(!nt[l]){e.next=28;break}return c.push(null),e.abrupt("return",0);case 28:nt[l]=!0;case 29:G=at(D,n,r).finally((function(){delete nt[l]})),c.push(G);case 31:case"end":return e.stop()}}),e)})),u=0;case 8:if(!(u<t.length)){e.next=16;break}return e.delegateYield(s(),"t0",10);case 10:if(0!==e.t0){e.next=13;break}return e.abrupt("continue",13);case 13:u++,e.next=8;break;case 16:return Ce()||n&&(0,E.showLoading)({title:n.text||""}),e.abrupt("return",Promise.all(c).finally((function(){Ce()||n&&(0,E.hideLoading)()})));case 18:case"end":return e.stop()}var m,d}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),lt=ct,st={request:ct},ut=H(),mt=["complete","success","fail","url","data","beforeRouteChange"],dt=ut.navigateTo,ft=(ut.redirectTo,ut.navigateBack,function(e){var t=e.complete,n=e.success,r=e.fail,o=e.url,i=e.data,a=e.beforeRouteChange,c=F(e,mt);if(!o||"string"!=typeof o)return console.error("\u5f53\u524dURL\u53c2\u6570\u975e\u6cd5"),r&&r(),void(t&&t());(o=function(e,t){var n=[];if("object"===(0,d.Z)(t)&&t instanceof Array==0){for(var r in t){var o=t[r];"string"!=typeof o&&"number"!=typeof o&&"boolean"!=typeof o||n.push("".concat(r,"=").concat(o))}return n.length<=0?e:e+(-1===e.indexOf("?")?"?":"&")+n.join("&")}return e}(o,i)).indexOf("http://")>-1||o.indexOf("https://")>-1?(a&&a(),dt(h(h({},c),{},{url:"".concat("/cwx/component/cwebview/cwebview","?data=").concat(JSON.stringify(h({url:encodeURIComponent(o),needLogin:e.needLogin||!1,pageTitle:{color:{frontColor:"#000000",backgroundColor:"#ffffff"}}},e.other||{}))),success:n,complete:t,fail:r}))):(a&&a(),dt(h(h({},c),{},{url:o,success:n,complete:t,fail:r})))});function pt(e){if(!i)return null;for(var t=i.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e==r[0].trim())return decodeURIComponent(r[1])}return null}new(function(){function e(){v(this,e),p(this,"appId","h5"),p(this,"env",Fe())}return b(e,[{key:"getApplicationInfo",value:function(){return{locale:pt("ibu_h5_local"),userAgent:r.userAgent}}}]),e}()),u().Component;var gt=["children","imageRef","style","imageStyle","className","imageClassName"],ht=u().forwardRef((function(e,t){var n=e.children,r=e.imageRef,o=e.style,i=void 0===o?{}:o,a=e.imageStyle,l=void 0===a?{}:a,s=e.className,d=e.imageClassName,f=F(e,gt),p=function(e){var t=e.resizeMode,n=void 0===t?"cover":t,r=e.source,o={center:"center",contain:"aspectFit",cover:"aspectFill",repeat:void 0,stretch:"scaleToFill"},i=function(e){return o[e]},a=function(e){var t;return!ye()||(e=null===(t=e)||void 0===t?void 0:t.replace(/(jpg|png)_\.webp/,"$1")),e},l=le((0,c.useState)(i(n)),2),s=l[0],u=l[1],m=le((0,c.useState)(a(r?r.uri:"")),2),d=m[0],f=m[1];return(0,c.useEffect)((function(){u(i(n))}),[n]),(0,c.useEffect)((function(){f(a(r?r.uri:""))}),[r]),{mode:s,src:d}}(e),g=p.mode,v=p.src,y=i.width,b=i.height;return u().createElement(m.View,{ref:t,className:O("xt-imagebackground",s),style:i},u().createElement(m.Image,P({ref:r,src:v,className:O("xt-imagebackground__image",d),style:h({width:y||"100%",height:b||"100%"},l),mode:g,webp:!0},f)),n)})),vt=ht,yt=["url","className","style","numberOfLines","onClick"],bt=(Z(u().forwardRef((function(e,t){var n=e||{},r=n.url,o=n.className,i=n.style,a=n.numberOfLines,l=n.onClick,s=F(n,yt),d=(0,c.useCallback)((function(e){r&&ft({url:r}),l&&l(e)}),[r]),f=le((0,c.useMemo)((function(){var e=Number(a);return!e||e<=0?["",{}]:1===e?["xt-link_single_line",{}]:["xt-link_multy_line",{"-webkit-line-clamp":"".concat(e)}]}),[a]),2),p=f[0],g=f[1];return u().createElement(m.Text,P({},s,{className:O("xt-link",o,p),style:L(i,g),numberOfLines:"".concat(a),onClick:d,ref:t}))}))),function(e){return e.ctrip="ctrip",e.trip="trip",e}(bt||{})),It=function(){function e(){v(this,e)}return b(e,null,[{key:"getEmojiMap",value:function(e,t,n){var r="trip"===e,o=t?r?this.CACHE_TRIP_KEY_GIF:this.CACHE_KEY_GIF:r?this.CACHE_TRIP_KEY:this.CACHE_KEY,i=Ze(o)||{};return i&&0!==Object.keys(i).length||("function"==typeof n&&this.callbackQueue.push(n),this.fetchEmojiMap(e,t)),i}},{key:"clearCallbackQueue",value:function(){for(var e=null;e=this.callbackQueue.shift();)e&&"function"==typeof e&&e()}},{key:"parseStyleName",value:function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}},{key:"parseStringStyle",value:function(e){for(var t=(e||"").replace(/[\s|\n]/g,"").split(";"),n={},r=0;r<t.length;r++){var o=t[r].split(":"),i=this.parseStyleName(o[0]),a=o[1];i&&a&&(n[i]=a)}return n}},{key:"fetchEmojiMap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt.ctrip,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.isFetching[t]||(this.isFetching[t]=!0,lt([{url:"https://m.".concat(t,".com/restapi/soa2/19530/getEmojiImageMap"),method:"POST",data:{site:t,type:n?"gif":"image"}}]).then((function(r){var o=(r[0]||{}).data;try{var i=o.data&&(n?o.data.gifMap:o.data.map);if(i&&Object.keys(i).length>0){var a=n?"trip"===t?e.CACHE_TRIP_KEY_GIF:e.CACHE_KEY_GIF:"trip"===t?e.CACHE_TRIP_KEY:e.CACHE_KEY;return Xe(a,i),e.clearCallbackQueue(),i}}catch(e){console.log(e)}e.isFetching[t]=!1})).catch((function(e){console.log(e)})))}},{key:"parseEmojiText",value:function(t,n){if(!t)return"";var r=n.site,o=void 0===r?bt.ctrip:r,i=n.showGif,a=void 0===i||i,c=n.callback,l=e.getEmojiMap(o,a,c)||{};return e.getResult(t,l,n)}},{key:"parseEmojiContentArray",value:function(t,n){if(!t)return[{content:t,type:"text"}];var r=n.site,o=void 0===r?bt.ctrip:r,i=n.showGif,a=void 0===i||i,c=n.callback,l=e.getEmojiMap(o,a,c)||{};return this.getEmojiContentArray(t,l,n)}},{key:"getEmojiContentArray",value:function(e,t,n){for(var r=[],o=0;o<e.length;){if("["===e[o]){var i=e.indexOf("]",o+1);if(-1!==i){var a=e.substring(o+1,i);t[a]?r.push({content:this.getEmojiByKey(a,t,n),type:"emoji"}):r.push({content:"[".concat(a,"]"),type:"text"}),o=i}else{var c=e.substring(o,e.length);r.push({content:c,type:"text"}),o=e.length}}else{var l=e.indexOf("[",o+1);if(-1!==l){var s=e.substring(o,l);r.push({content:s,type:"text"}),o=l-1}else{var u=e.substring(o,e.length);r.push({content:u,type:"text"}),o=e.length}}o++}return r}},{key:"getResult",value:function(t,n,r){var o=Object.keys(n),i=t.match(/\[[^(\[|\])]+\]/g);if(!i)return t;for(var a=e.handleUniqueArray(i),c=r.emojiClassName,l=void 0===c?"":c,s=r.emojiStyles,u=void 0===s?"":s,m=t,d=0;d<a.length;d++){var f=a[d],p=f.substring(1,f.length-1);if(-1!==o.indexOf(p)){var g=this.getEmojiByKey(p,n,r),h='<img class="'.concat(l,'" style="').concat(u,'" src="').concat(g,'" alt="').concat(f,'" />');m=e.replaceAll(m,f,h)}}return m}},{key:"getEmojiByKey",value:function(e,t,n){var r="",o="",i=null==n?void 0:n.showGif;return i&&"object"===(0,d.Z)(t[e])?(r=t[e].gif||"",o=t[e].image):o="object"===(0,d.Z)(t[e])?t[e].image:t[e],i&&r||o}},{key:"replaceAll",value:function(e,t,n){for(var r="",o=e,i=t.length;o.indexOf(t)>-1;){var a=o.indexOf(t);r+=o.substring(0,a),r+=n;var c=o.substring(a+i);o=c}return r+o}},{key:"handleUniqueArray",value:function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}}]),e}();p(It,"CACHE_KEY","XTARO_EMOJI_MAP"),p(It,"CACHE_KEY_GIF","XTARO_EMOJI_MAP_GIF"),p(It,"CACHE_TRIP_KEY","XTARO_EMOJI_MAP_TRIP"),p(It,"CACHE_TRIP_KEY_GIF","XTARO_EMOJI_MAP_TRIP_GIF"),p(It,"isFetching",{ctrip:!1,trip:!1}),p(It,"callbackQueue",[]);var wt=function(){function e(t){v(this,e),p(this,"_number",0),p(this,"symbol",void 0),p(this,"value",0),p(this,"maximumFractionDigits",0),p(this,"_functionMap",{"Kilometer-Mile":function(e){return 0},"Mile-Kilometer":function(e){return 0},"Kilometer-Feet":function(e){return 0},"Feet-Kilometer":function(e){return 0},"Kilometer-Meter":function(e){return 0},"Meter-Kilometer":function(e){return 0},"Meter-Mile":function(e){return 0},"Mile-Meter":function(e){return 0},"Meter-Feet":function(e){return 0},"Feet-Meter":function(e){return 0},"Feet-Mile":function(e){return 0},"Mile-Feet":function(e){return 0},"Inch-centimeter":function(e){return 0},"centimeter-Inch":function(e){return 0},"SquareMeter-SquareFeet":function(e){return 0},"SquareFeet-SquareMeter":function(e){return 0},"Celsius-Fahrenheit":function(e){return 0},"Fahrenheit-Celsius":function(e){return 0},"Kilogram-Pound":function(e){return 0},"Pound-Kilogram":function(e){return 0}})}return b(e,[{key:"convert",value:function(e,t){return 0}},{key:"convertToPreferences",value:function(e){return 0}}],[{key:"preferfenceToType",value:function(e){return""}}]),e}();p(wt,"KilometerType",""),p(wt,"MileType",""),p(wt,"SquareMeterType",""),p(wt,"SquareFeetType",""),p(wt,"CelsiusType",""),p(wt,"FahrenheitType",""),p(wt,"MeterType",""),p(wt,"FeetType",""),p(wt,"KilogramType",""),p(wt,"PoundType",""),p(wt,"PercentType",""),p(wt,"centimeterType",""),p(wt,"InchType",""),p(wt,"symbolMap",{Mile:"",Kilometer:"",SquareFeet:"",SquareMeter:"",Celsius:"",Fahrenheit:"",Meter:"",Feet:"",Kilogram:"",Pound:"",Percent:"",centimeter:"",Inch:""});var Ct=l(5565),_t=Ct,xt={cardBodyContainer:"duynKDQAGX8X_ZXf7Euw",cardContainer:"l8fu1ltXo6j36OmmUEia",cardItemContainer:"IOmFlCQJn1zlobtdfwKA",coverContainer:"cQXUWX6tor5T8XYcpTW6","cover-show-tag":"Ng1c1a19nuchLLyhOoOk","cover-tag-text":"VVbPdogC7vBca7Y0Uyzc","cover-tag-text-android":"t9bw1gCqMlAN3jgA3Tzd","cover-tips-container":"Ao62AcixobIDWiEwf3_v","cover-tips-v2":"NRYCRTq_MABG919hT6aD","text-container":"tHcPU4cLxf0FJGMiNSEk",titleContainer:"le3A6KUE0suerjAVT1tG",titleText:"fw83ZupqWKeGtUHI6rHb","integrate-rowContainer":"XK6xl4D9EGWeGKRpggg5","integrate-tagBlank":"hN2iaZ8anLoxSf815Xbw","tag-shortTag":"CO5QlBIjeEzo0JQonl2m","tag-shortTagText":"O6FACi_29s79Jd89Cm3S","tag-backgroundLine":"fmQ8ldx6Ow9DddRIm3LV","tag-backgroundLine_android":"CyRn7472i5o8vmk1tJDA","tag-tagContainer":"gUfcBgdWBv_Z59gRAtfw","tag-linearTag":"rfFPtDnkkcYOUozsChxB","tag-tagIcon":"tyDgpHwswKy2d_9pJeHf","tag-linearTagText":"ksl1iHwRXSs7zH9vxZCQ","tag-primaryTag":"NXFyyiqQTgc5pUZ6l8Su","tag-primaryTagText":"oQ4F7vZ8PgY_b8KmHT6o","tag-primaryTagText-android":"FnppqAfsldzGam4sfnVJ","tag-activeTag":"a1_FlnjSEmiH7D2xTBS0","tag-activeTagText":"ggAHnod0j_m6Df3A30ZJ","tag-primaryTagText-ios":"tfamkSQrhhr_WY8AmyIF","tag-defaultTagContainer":"vNmpJ7xIDXmZfAZ63i6U","tag-defaultTagText":"LLrttumTOj18KdnoCO9l","tag-dividerTagContianer":"kgfNuzr4D6x52wjdDD8p","tag-defaultTagIcon":"ZZ0RwJlVKTQkB0ii16cq","tag-dividerTagIcon":"WtT5dI2TfbJIgehm31JL","tag-dividerTagText":"fGrEghHbH5oiQv3CUQqD","tag-dividerLine":"O7AM0_fvRqbHkBGGMoaa","tag-dividerIconTagContianer":"gd6cIhyFWWl6apt4PMa7","tag-dividerIconItem":"xGihql0mgAxnosShvk7c","tag-dividerIconItemLast":"DDWxp9sJWSUsOUVoUZi2","tag-dividerTagLine":"QNXR0xwCX9B7Lb2As8jq","tag-dividerIconTagText":"oFaXPxqpCD30kN_Psfpg","tag-scoreRankContainer":"XOhtCu9HZ_13s4N7E0nr","tag-scoreRankIcon":"WedmmeCCUncuhJfrhEF2","tag-scoreRankText":"z3yiGRisLWrdnSoIpgJP","tag-scoreRankText-android":"D9foqdgyaINKJUFutDOE","tag-foodRankContainer":"MkTyBNkyY6zB2RBehUGH","tag-foodRankItem":"zYbXgDHiW2jaoEUrC_4J","tag-foodRankLeftIcon":"UcXKWljy4vROtvlveElI","tag-foodRankLeftIcon_android":"fpO0G54LoDo7GhFnVaiw","tag-foodRankRightIcon":"bK0EmVc89W5W89V0G5x1","tag-foodRankRightIcon_android":"qth5hxvJqNtl7Kl7TI_W","tag-foodRankItemText":"jt4Gej5Mtjv_LujNifsd","tag-foodRankItemText_android":"Kv1yMmsD_Cn0zNdirqLg","tag-foodRankLeftText":"RWEVirUyCX37Lvlyb3eA","tag-foodRankRightText":"ZwmwLVmTqonVdHh1GrOr","tag-discountContainer":"bi86xVMZjCPoZUoGQV0T","tag-discountTagIcon":"wsWJNG0R6YGDWke8Y4rA","tag-discountTagText":"JmMYrm0SbqH6eLBcMLCY","tag-priceTagContianer":"MXuzyFq137mPXsOk7mCA","tag-priceText":"vOBgFRTN3rqpC7H6MVoj","tag-priceUnit":"f1YkVWhwIUZJB2x1AOyO","tag-priceNum":"Lz33FuCp3O0uwlJ5RNaT","tag-priceNumDivider":"NdNSgtnHs0E9vT8GQEDn","tag-priceTextDivider":"lyhw9fs4tLQWFdXloNBx","operate-container":"som06QivO9dZdXXuy_Mb",collectContainer:"zgOP5h3UrClI6uI4E_l8",collectImage:"AqN7KL6yj9V5MTjW8Owo","collect-showText":"ZQFXWp8IucGIQWtdTxnc","gotoIcon-container":"BN4FvI2F5ZKP9Ljmjv7X","gotoIcon-icon":"SJ7FvP0X_tzlRM3bcV3F","recommend-container":"eTX_Gm5IcDwX9vXvIAve","recommend-text":"ARqu3UMTZhsBfVw4s1CT","tag-shoppingContainer":"dO7oMtI3F_wOOqwU_01A","tag-shoppingTagIcon":"AUH6rl4N7DKqY5I_vZos","tag-shoppingText":"szBDLVeXEuD9E1gyiqBr","hot-sale-container":"m9hHcBMGACaGiXgV1XkW","hot-sale-text":"H2ZZPbRSsJ3m_1LTGxC3","rank-container":"Zkvo9FYrGUiMYNmVcQho","rank-text":"vYPAHODIdIUzrYZX7rdA","subGoods-container":"YHu7T0J87P9c4Z9fuRPs","subGoods-row-bg":"dQ8R5Xf9h0FwBUZSPH0g","subGoods-row-linear-bg":"vDNixocTuU5N8QYIbbXJ","subGoods-row-container":"SXdR_JvwUg3cgojUXTRE","subGoods-row-more-icon":"h0b_U8eD9FcOawLQbf6E","subGoods-title-primary-icon":"za7ffFRR7NPPOVhKJXAf","subGoods-title-primary-text":"HMhlpgWkgRxUdCmH45kw","subGoods-title-text-more":"V6j1l96fR9S7r7YNgFDl","subGoods-arrow-icon":"uP6m5yoC60TUXGlIoQEO","subGoods-rank-text-container":"qHSDYZKJ2DQOwzTiSsOl"},Et={imageHostRegExp:null,testImageHostRegExp:null,config:[{width:640,height:0,quality:"90",limit:500},{width:640,height:0,quality:"80",limit:350},{width:460,height:0,quality:"80",limit:250},{width:320,height:0,quality:"80",limit:0}]},Tt="((_M)([a-zA-Z0-9]+)(_[1-9])?)?((_[RCZWDYX]_)([0-9]+)_([0-9]+))?((_R)([0-9]+))?((_Q)([0-9]+))?((_M)([a-zA-Z0-9]+)(_[1-9])?)?((_P)([a-zA-Z0-9]+))?(_D)?((\\.)(jpg|jpeg|gif|png|Jpg|JPG|webp))(_\\.webp)?(_D)?(\\?.*)?$",St=new RegExp("https?://(.+?)"+Tt),kt=new RegExp("https?://(.+?[^/]{30})"+Tt),Nt=new RegExp("https?://((images4|youimg1|(dimg\\d{2,})).c-ctrip|(youimg1|ak-d).tripcdn|nephele.(trip|ctrip)).com"),Ot=new RegExp("https?://(dimg\\d{0,}).(uat|fws).qa.nt.(ctripcorp|tripqate).com"),Lt=function(e,t){return function(e,t){var n=function(e){var t,n,r,o,i=e.imageUrl,a=e.height,c=e.width,l=e.resetPng,s=e.dynamicImageType,u=void 0===s?"W":s,m=e.waterOpacity,d=void 0===m?null:m,f=e.config,p=e.imageSuffix,g=void 0===p?null:p,v=e.moreParams,y=void 0===v?null:v,b={imageUrl:i,height:a,width:c,dynamicUrl:i};if((null==i?void 0:i.length)<0||!a||!c)return h({success:!1,message:"imageUrl or height or width is empty"},b);var I,w=null!=f?f:Et;if(w.imageHostRegExp&&(Nt=new RegExp(w.imageHostRegExp)),w.testImageHostRegExp&&(Ot=new RegExp(w.testImageHostRegExp)),!Nt.test(i)&&!Ot.test(i))return h({success:!1,message:"imageUrl can not dynamic url"},b);if((null!==(t=null===(n=I=-1!=i.indexOf("/fd/")?i.match(kt):i.match(St))||void 0===n?void 0:n.length)&&void 0!==t?t:0)<=0)return h({success:!1,message:"imageUrl can not dynamic url"},b);var C,_=w.config,x=Math.max(c,a),E=null==_?void 0:_.find((function(e){return e.limit<x})),T=I[1],S=d?"_"+d:null!==(r=I[10])&&void 0!==r?r:"",k=I[13],N=E.quality?"_Q"+E.quality:k||"",O=I[24],L=null!==(o=I[29])&&void 0!==o?o:"";O=l?O.replace("png","jpg"):g?"."+g:O,y&&(L=-1==(null===(C=L)||void 0===C?void 0:C.indexOf("?"))?L+"?"+y:L+"&"+y);var P="https://".concat(T,"_").concat(u,"_").concat(E.width,"_").concat(E.height).concat(S).concat(N).concat(O).concat(L);return b.success=!0,b.dynamicUrl=P,b}(e),r=null!=n&&n.success?"gs_ugc_dynamic_image_url_success":"gs_ugc_dynamic_image_url_failed";return"function"==typeof t&&t(r,h(h({},n),{},{ext:JSON.stringify(null==e?void 0:e.ext)})),n}(e,t)},Pt=function(e){var t=e.children,n=void 0===t?null:t,r=e.style,o=void 0===r?{}:r;return u().createElement(m.View,{className:xt.cardBodyContainer,style:o},n)},At=function(e){var t,n=e.children,r=void 0===n?null:n,o=e.bgColor,i=e.subGoodsData,a=void 0===i?[]:i,c=e.style,l=void 0===c?{}:c,s=e.handlePressCard,d=void 0===s?function(){}:s,f=e.handlePressSubCard,p=void 0===f?function(){}:f,g=e.cardColorCallBack,h=void 0===g?function(){}:g,v=1==(null==o||null===(t=o[0])||void 0===t?void 0:t.tagStyle),y=v?"#FFF2E7":"rgba(238, 241, 246, 1)",b=v?"rgba(255,247,240,0)":"rgba(238, 241, 246, 0)";return v&&(null==h||h(y,b)),u().createElement(m.View,{className:xt.cardContainer,style:l},u().createElement(ae,{colors:[y,b],start:{x:0,y:0},end:{x:1,y:0}},u().createElement(m.View,{className:xt.cardItemContainer,onClick:d},r),a.length>0&&u().createElement(u().Fragment,null,a.map((function(e,t){return u().createElement(rn,{key:t,goodData:e,handlePressCard:p})})))))},Rt=function(e){var t,n=e.style,r=void 0===n?{}:n,o=e.coverImageUrl,i=void 0===o?null:o,a=e.topTag,l=void 0===a?"":a,s=e.bottomImage,d=void 0===s?null:s,f=(0,c.useMemo)((function(){return i&&Lt({imageUrl:i,height:128,width:128,waterOpacity:"R5"}).dynamicUrl||null}),[i]),p=(null==d||null===(t=d.backImage)||void 0===t?void 0:t.dynamicUrl)||null;return u().createElement(m.View,{className:xt.coverContainer,style:r},u().createElement(m.Image,{className:xt.coverContainer,mode:"aspectFill",src:f||"https://pages.c-ctrip.com/you/livestream/lvpai_detail_default_commodity.png"}),!!p&&u().createElement(m.Image,{src:p,mode:"aspectFill",className:xt[2==(null==d?void 0:d.tagStyle)?"cover-tips-v2":"cover-tips-container"]}),!!l&&u().createElement(m.View,{className:xt["cover-show-tag"]},u().createElement(se,{style:{},className:xt["cover-tag-text"]+" "+(de()?xt["cover-tag-text-android"]:"")},l)))},Vt=function(e){var t=e.style,n=void 0===t?{}:t,r=e.children,o=void 0===r?null:r;return u().createElement(m.View,{className:xt["text-container"],style:n},o)},jt=function(e){var t,n=e.value,r=void 0===n?[]:n,o=e.text,i=void 0===o?"":o,a=e.textStyle,l=void 0===a?{}:a,s=e.style,d=void 0===s?{}:s,f=(0,c.useMemo)((function(){return r&&0!==r.length?r[0]:null}),[r]),p=3===(null==f?void 0:f.tagStyle)?{color:"#5F2B0E"}:{};return u().createElement(m.View,{className:xt.titleContainer,style:d},u().createElement(se,{className:xt.titleText,style:h(h({},p),l),numberOfLines:2===(null==f?void 0:f.tagStyle)?2:1},(null==f||null===(t=f.tagNames)||void 0===t?void 0:t[0])||i||""))},Mt=function(e){var t,n=e.value,r=void 0===n?[]:n,o=e.style,i=void 0===o?{}:o,a=(0,c.useMemo)((function(){return r&&0!==r.length?r:null}),[r]);return 13===(null==a||null===(t=a[0])||void 0===t?void 0:t.tagStyle)&&(i.height="auto"),u().createElement(u().Fragment,null,a&&u().createElement(m.View,{className:xt["integrate-rowContainer"],style:i},(a||[]).map((function(e,t){var n,o,i,a,c,l,s,d,f,p,g,h,v,y,b,I,w;return u().createElement(u().Fragment,{key:e.tagStyle+""+t},1===e.tagStyle&&u().createElement(Dt,{tagText:null===(n=e.tagNames)||void 0===n?void 0:n[0]}),2===e.tagStyle&&u().createElement(Ft,{tagText:null===(o=e.tagNames)||void 0===o?void 0:o[0],tagIconImage:null===(i=e.iconImage)||void 0===i?void 0:i.dynamicUrl}),3===e.tagStyle&&u().createElement(Ut,{tagText:null===(a=e.tagNames)||void 0===a?void 0:a[0]}),4===e.tagStyle&&u().createElement(Gt,{tagText:null===(c=e.tagNames)||void 0===c?void 0:c[0],tagIconImage:null===(l=e.iconImage)||void 0===l?void 0:l.dynamicUrl}),5===e.tagStyle&&u().createElement(Ht,{tagTextList:e.tagNames}),6===e.tagStyle&&u().createElement(Bt,{tagText:null===(s=e.tagNames)||void 0===s?void 0:s[0],tagIconImage:null===(d=e.iconImage)||void 0===d?void 0:d.dynamicUrl}),7===e.tagStyle&&u().createElement(Wt,{tagTextList:e.tagNames,iconImageList:[null===(f=e.iconImage)||void 0===f?void 0:f.dynamicUrl,null===(p=e.backImage)||void 0===p?void 0:p.dynamicUrl]}),8===e.tagStyle&&u().createElement(qt,{tagText:null===(g=e.tagNames)||void 0===g?void 0:g[0],tagIconImage:null===(h=e.iconImage)||void 0===h?void 0:h.dynamicUrl}),9===e.tagStyle&&u().createElement(Qt,{tagTextList:e.tagNames}),10===e.tagStyle&&u().createElement(Xt,{tagTextList:e.tagNames}),11===e.tagStyle&&u().createElement(Zt,{tagText:null===(v=e.tagNames)||void 0===v?void 0:v[0],tagIconImage:null===(y=e.iconImage)||void 0===y?void 0:y.dynamicUrl}),12===e.tagStyle&&u().createElement(Yt,{tagText:null===(b=e.tagNames)||void 0===b?void 0:b[0]}),13===e.tagStyle&&u().createElement(Kt,{tagText:null===(I=e.tagNames)||void 0===I?void 0:I[0]}),14===e.tagStyle&&u().createElement(Jt,{tagTextList:e.tagPersonals}),15===e.tagStyle&&u().createElement(zt,{tagText:null===(w=e.tagNames)||void 0===w?void 0:w[0]}),t!==r.length-1&&u().createElement(m.View,{className:xt["integrate-tagBlank"]}))}))))},Dt=function(e){var t=e.tagText,n=void 0===t?"":t;return n?u().createElement(m.View,{className:xt["tag-shortTag"]},u().createElement(se,{className:xt["tag-shortTagText"],numberOfLines:"1"},'"'.concat(n,'"')),u().createElement(m.View,{className:xt["tag-backgroundLine"]+" "+(de()?xt["tag-backgroundLine_android"]:"")})):null},Ft=function(e){var t=e.tagText,n=void 0===t?"":t,r=e.tagIconImage,o=void 0===r?null:r;return n?u().createElement(m.View,{className:xt["tag-tagContainer"]+" "+xt["tag-linearTag"]},o&&u().createElement(m.Image,{className:xt["tag-tagIcon"],src:o}),u().createElement(se,{className:xt["tag-linearTagText"],numberOfLines:"1"},n)):null},Ut=function(e){var t=e.tagText,n=void 0===t?"":t;return n?u().createElement(m.View,{className:xt["tag-tagContainer"]+" "+xt["tag-primaryTag"]},u().createElement(se,{numberOfLines:"1",className:xt["tag-primaryTagText"]+" "+(de()?xt["tag-primaryTagText-android"]:"")},n)):null},Gt=function(e){var t=e.tagText,n=void 0===t?"":t,r=e.tagIconImage,o=void 0===r?null:r;return n?u().createElement(m.View,{className:xt["tag-defaultTagContainer"]},o&&u().createElement(m.Image,{className:xt["tag-defaultTagIcon"],src:o}),u().createElement(se,{numberOfLines:"1",className:xt["tag-defaultTagText"]},n)):null},Ht=function(e){var t=e.tagTextList,n=void 0===t?[]:t;return n&&0!==n.length?u().createElement(se,{className:xt["tag-dividerTagContianer"],numberOfLines:1},n.map((function(e,t){return u().createElement(u().Fragment,{key:t},u().createElement(se,{className:xt["tag-dividerTagText"]},e),t!=n.length-1&&u().createElement(se,{className:xt["tag-dividerLine"]}," | "))}))):null},Bt=function(e){var t=e.tagText,n=void 0===t?"":t,r=e.tagIconImage,o=void 0===r?null:r;return n?u().createElement(m.View,{className:xt["tag-scoreRankContainer"]},!!o&&u().createElement(m.Image,{className:xt["tag-scoreRankIcon"],src:o}),u().createElement(se,{numberOfLines:"1",className:xt["tag-scoreRankText"]+" "+(de()?xt["tag-scoreRankText-android"]:"")},n)):null},Wt=function(e){var t=e.tagTextList,n=void 0===t?[]:t,r=e.iconImageList,o=void 0===r?[]:r;return n&&0!==n.length?u().createElement(m.View,{className:xt["tag-foodRankContainer"]},n.map((function(e,t){return u().createElement(vt,{key:t,className:xt["tag-foodRankItem"]+" "+(0===t?xt["tag-foodRankLeftIcon"]:xt["tag-foodRankRightIcon"]),resizeMode:"stretch",src:null==o?void 0:o[t]},u().createElement(se,{numberOfLines:"1",className:xt["tag-foodRankItemText"]+" "+(de()?xt["tag-foodRankItemText_android"]:"")+" "+(0===t?xt["tag-foodRankLeftText"]:xt["tag-foodRankRightText"])},e))}))):null},qt=function(e){var t=e.tagText,n=void 0===t?"":t,r=e.tagIconImage,o=void 0===r?null:r;return n?u().createElement(m.View,{className:xt["tag-discountContainer"]},!!o&&u().createElement(m.Image,{className:xt["tag-discountTagIcon"],src:o}),u().createElement(se,{className:xt["tag-discountTagText"],numberOfLines:"1"},n)):null},Qt=function(e){var t=e.tagTextList,n=void 0===t?[]:t;if(!n||3!==n.length)return null;var r=le(n,3),o=r[0],i=r[1],a=r[2];return o||i||a?u().createElement(se,{className:xt["tag-priceTagContianer"],numberOfLines:"1"},!!o&&u().createElement(u().Fragment,null,u().createElement(se,{className:xt["tag-priceUnit"]},o)),!!i&&u().createElement(se,{className:xt["tag-priceNum"]},i),!!a&&u().createElement(u().Fragment,null,u().createElement(se,{className:xt["tag-priceText"]},a))):null},Xt=function(e){var t=e.tagTextList,n=void 0===t?[]:t;if(!n||4!==n.length)return null;var r=le(n,4),o=r[0],i=r[1],a=r[2],c=r[3];return o||i||a||c?u().createElement(se,{className:xt["tag-priceTagContianer"],numberOfLines:"1"},!!o&&u().createElement(u().Fragment,null,u().createElement(se,{className:xt["tag-priceText"]},o),u().createElement(m.View,{className:xt["tag-priceTextDivider"]})),!!i&&u().createElement(u().Fragment,null,u().createElement(se,{className:xt["tag-priceUnit"]},i),u().createElement(m.View,{className:xt["tag-priceNumDivider"]})),!!a&&u().createElement(se,{className:xt["tag-priceNum"]},a),!!c&&u().createElement(u().Fragment,null,u().createElement(m.View,{className:xt["tag-priceNumDivider"]}),u().createElement(se,{className:xt["tag-priceText"]},c))):null},Zt=function(e){var t=e.tagText,n=void 0===t?"":t,r=e.tagIconImage,o=void 0===r?null:r;return n?u().createElement(m.View,{className:xt["tag-shoppingContainer"]},!!o&&u().createElement(m.Image,{mode:"aspectFill",className:xt["tag-shoppingTagIcon"],src:o}),u().createElement(se,{className:xt["tag-shoppingText"],numberOfLines:"1"},n)):null},Yt=function(e){var t=e.tagText,n=void 0===t?"":t;return n?u().createElement(m.View,{className:xt["hot-sale-container"]},u().createElement(se,{numberOfLines:"1",className:xt["hot-sale-text"]},n)):null},Kt=function(e){var t=e.tagText,n=void 0===t?"":t;return n?u().createElement(m.View,{className:xt["rank-container"]},u().createElement(se,{numberOfLines:"2",className:xt["rank-text"]},'"'.concat(n,'"'))):null},Jt=function(e){var t=e.tagTextList,n=void 0===t?[]:t;return n&&0!==n.length?u().createElement(m.View,{className:xt["tag-dividerIconTagContianer"]},n.map((function(e,t){var r;return u().createElement(m.View,{className:xt["tag-dividerIconItem"]+" "+(t==n.length-1?xt["tag-dividerIconItemLast"]:""),key:t},(null===(r=e.iconImage)||void 0===r?void 0:r.dynamicUrl)&&u().createElement(m.Image,{className:xt["tag-dividerTagIcon"],src:e.iconImage.dynamicUrl}),u().createElement(se,{className:xt["tag-dividerTagText"]+" "+(t==n.length-1?xt["tag-dividerIconTagText"]:""),numberOfLines:1},e.tagName),t!=n.length-1&&u().createElement(se,{className:xt["tag-dividerTagLine"]},"|"))}))):null},zt=function(e){var t=e.tagText,n=void 0===t?"":t;return n?u().createElement(m.View,{className:xt["tag-tagContainer"]+" "+xt["tag-activeTag"]},u().createElement(se,{numberOfLines:"1",className:xt["tag-activeTagText"]+" "+(de()?xt["tag-primaryTagText-android"]:xt["tag-primaryTagText-ios"])},n)):null},$t=function(e){var t=e.style,n=void 0===t?{}:t,r=e.children,o=void 0===r?null:r;return u().createElement(m.View,{className:xt["operate-container"],style:n},o)},en=function(e){var t=e.isFavorite,n=e.handleClick,r=e.style;return u().createElement(m.View,{className:xt.collectContainer,style:r,onClick:function(e){return n(e)}},t?u().createElement(u().Fragment,null,u().createElement(m.Image,{className:xt.collectImage,src:"https://pages.c-ctrip.com/livestream/tripshoot/collected_linear.png"}),u().createElement(se,{className:xt["collect-showText"]},"\u5df2\u6536\u85cf")):u().createElement(u().Fragment,null,u().createElement(m.Image,{className:xt.collectImage,src:"https://pages.c-ctrip.com/livestream/ugc/goods/collect.png"}),u().createElement(se,{className:xt["collect-showText"]},"\u6536\u85cf")))},tn=function(e){var t,n=e.value,r=void 0===n?[]:n;return u().createElement(m.View,{className:xt["gotoIcon-container"]},u().createElement(m.Image,{className:xt["gotoIcon-icon"],src:(null==r||null===(t=r[0])||void 0===t||null===(t=t.backImage)||void 0===t?void 0:t.dynamicUrl)||"https://pages.c-ctrip.com/livestream/ugc/goods/arrow_right_666.png"}))},nn=function(){return u().createElement(m.View,{className:xt["recommend-container"]},u().createElement(se,{className:xt["recommend-text"]},"\u643a\u7a0b\u63a8\u8350"))},rn=function(e){var t=e.goodData,n=e.handlePressCard,r=t||{},o=r.subCardItem,i=r.subCardIndex,a=r.titleRow,c=r.bgData;return u().createElement(m.View,{className:xt["subGoods-container"],onClick:function(){return n(o,i)}},u().createElement(on,{bgData:c},u().createElement(an,{rowData:a})))},on=function(e){var t,n=e.bgData,r=e.children;return 2===(null==n||null===(t=n[0])||void 0===t?void 0:t.tagStyle)?u().createElement(ae,{colors:["#FBEBE0","#FFFCFA"],start:{x:0,y:0},end:{x:1,y:0},className:xt["subGoods-row-linear-bg"]},r):u().createElement(m.View,{className:xt["subGoods-row-bg"]},r)},an=function(e){var t=e.rowData;return u().createElement(u().Fragment,null,(t||[]).map((function(e,t){var n,r,o,i;return u().createElement(u().Fragment,{key:e.tagStyle+""+t},3===e.tagStyle&&u().createElement(cn,{tagText:null===(n=e.tagNames)||void 0===n?void 0:n[0],tagIconImage:null===(r=e.iconImage)||void 0===r?void 0:r.dynamicUrl}),4===e.tagStyle&&u().createElement(ln,{tagText:null===(o=e.tagNames)||void 0===o?void 0:o[0],tagIconImage:null===(i=e.iconImage)||void 0===i?void 0:i.dynamicUrl}))})))},cn=function(e){var t=e.tagText,n=void 0===t?"":t,r=e.tagIconImage,o=void 0===r?null:r;return n?u().createElement(m.View,{className:xt["subGoods-row-container"]},!!o&&u().createElement(m.Image,{className:xt["subGoods-title-primary-icon"],src:o}),u().createElement(se,{numberOfLines:"1",className:xt["subGoods-title-primary-text"]},n)):null},ln=function(e){var t=e.tagText,n=void 0===t?"":t,r=e.tagIconImage,o=void 0===r?null:r;return n?u().createElement(m.View,{className:xt["subGoods-row-container"]+" "+xt["subGoods-row-more-icon"]},u().createElement(se,{numberOfLines:"1",className:xt["subGoods-title-text-more"]},n),!!o&&u().createElement(m.Image,{className:xt["subGoods-arrow-icon"],src:o})):null},sn=function(e){var t=e.index,n=e.cardItem,r=e.clickCollect,o=void 0===r?function(){}:r,i=e.jumpToProduct,a=e.style,l=void 0===a?{}:a,s=e.cardContainerStyle,m=void 0===s?{}:s,d=e.cardColorCallBack,f=void 0===d?function(){}:d,p=n||{},g=p.basicInfo,h=void 0===g?{}:g,v=p.favoriteInfo,y=void 0===v?{}:v,b=p.tagGroups,I=void 0===b?[]:b,w=p.subArticleGoods,C=void 0===w?[]:w,_=h||{},x=_.title,E=void 0===x?"":x,T=_.coverImage,S=void 0===T?{}:T,k=y||{},N=k.canFavorite,O=void 0!==N&&N,L=k.isFavorite,P=void 0!==L&&L,A=(0,c.useMemo)((function(){if(I.length>0){var e,t=I.find((function(e){return"IMAGE_TOP"===e.groupCode}));if(t)return(null===(e=t.tags)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.tagNames)||void 0===e?void 0:e[0])||null}return null}),[I]),R=(0,c.useMemo)((function(){if(I.length>0){var e,t=I.find((function(e){return"IMAGE_BOTTOM"===e.groupCode}));if(t)return(null===(e=t.tags)||void 0===e?void 0:e[0])||null}return null}),[I]),V=(0,c.useMemo)((function(){if(I.length>0){var e=I.find((function(e){return"TITLE_ROW"===e.groupCode}));if(e)return e.tags||[]}return[]}),[I]),j=(0,c.useMemo)((function(){if(I.length>0){var e=I.find((function(e){return"SUBTITLE_ROW"===e.groupCode}));if(e)return e.tags||[]}return[]}),[I]),M=(0,c.useMemo)((function(){if(I.length>0){var e=I.find((function(e){return"LABEL_ROW"===e.groupCode}));if(e)return e.tags||[]}return[]}),[I]),D=(0,c.useMemo)((function(){if(I.length>0){var e=I.find((function(e){return"ZONE_ROW"===e.groupCode}));if(e)return e.tags||[]}return[]}),[I]),F=(0,c.useMemo)((function(){if(I.length>0){var e=I.find((function(e){return"BG_COLOR"===e.groupCode}));if(e)return e.tags||[]}return[]}),[I]),U=(0,c.useMemo)((function(){if(I.length>0){var e=I.find((function(e){return"IMAGE_CLICK"===e.groupCode}));if(e)return e.tags||[]}return[]}),[I]),G=C.map((function(e,t){var n=e.tagGroups.find((function(e){return"TITLE_ROW"===e.groupCode})),r=e.tagGroups.find((function(e){return"BG_COLOR"===e.groupCode}));return{subCardItem:e,subCardIndex:t,bgData:r.tags||[],titleRow:n.tags||[]}}));return u().createElement(Pt,{style:l},u().createElement(At,{bgColor:F,style:m,handlePressCard:function(){null==i||i(n,t)},handlePressSubCard:function(e,t){null==i||i(e,t,1)},cardColorCallBack:f,subGoodsData:G},u().createElement(Rt,{coverImageUrl:null==S?void 0:S.originalUrl,topTag:A,bottomImage:R}),u().createElement(Vt,null,u().createElement(jt,{value:V||[],text:E}),u().createElement(Mt,{value:j||[],style:{marginTop:5}}),u().createElement(Mt,{value:M||[],style:{marginTop:5}}),(0===j.length||0===M.length)&&u().createElement(Mt,{value:D||[],style:{marginTop:5}})),u().createElement($t,null,O?u().createElement(en,{isFavorite:P,handleClick:function(e){return function(e){O&&o(e,P)}(e)}}):u().createElement(tn,{value:U}))),u().createElement(nn,null))},un=["url","param","extentions","ctx"];function mn(e){var t=e.url,n=e.param,r=void 0===n?{}:n,o=e.extentions,i=void 0===o?[]:o,a=e.ctx,c=F(e,un);Date.now();return t="/restapi/soa2/"+t,new Promise((function(e,n){var o=i.concat(dn(a)),l=h({url:t,data:r,others:{extension:o},req:null==a?void 0:a.req},c);l.head=l.others,delete l.others,st.request(l).then((function(t){var r=t[0];r.isSuccess&&fn(r)?e(r.data):n(r)})).catch((function(e){n(e)}))}))}var dn=function(e){var t,n="",r="",o="";return t=de()?"Android":me()?"IOS":"PC",n="wx",r="native",o=Ge().toLowerCase(),[{name:"source",value:n},{name:"technology",value:r},{name:"os",value:t},{name:"application",value:o}]},fn=function(e,t){var n=!1;return e&&e.data&&e.data.ResponseStatus&&"success"===e.data.ResponseStatus.Ack.toLowerCase()?n=!0:e&&e.data&&e.data.ResponseStatus&&"failure"===e.data.ResponseStatus.Ack.toLowerCase()&&"MobileRequestFilterException"==e.data.ResponseStatus.Errors[0].ErrorCode&&(t=!1),null==t&&(t=!1),!n&&t&&_t.showToast({title:"\u8bf7\u6c42\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5~",icon:"none"}),n};function pn(e){var t=e.url,n=e.data,r=e.success,o=e.fail;mn({url:t.replace("/restapi/soa2/",""),param:n}).then((function(e){r({data:e})})).catch((function(e){null==o||o(e)}))}var gn=function(e,t){pn({url:"/restapi/soa2/14045/json/ruleSortCommentList",data:e,success:function(e){t(e)},fail:function(e){t(e)}})},hn=function(e,t){pn({url:"/restapi/soa2/14045/json/comment",data:{action:e.action,commentId:e.commentId,comment:e.comment,isNeedInteractTag:!0},success:function(e){t(e)},fail:function(e){t(e)}})},vn=function(e,t){pn({url:"/restapi/soa2/14045/json/action",data:{action:e.action,targetId:e.targetId,targetType:e.targetType},success:function(e){t(e)},fail:function(e){t(e)}})},yn=function(e,t,n){var r=!1;return e&&e.data&&e.data.ResponseStatus&&"success"===e.data.ResponseStatus.Ack.toLowerCase()?r=!0:e&&e.data&&e.data.ResponseStatus&&"failure"===e.data.ResponseStatus.Ack.toLowerCase()&&"MobileRequestFilterException"==e.data.ResponseStatus.Errors[0].ErrorCode&&(n=!1,G.cwx.user.logout((function(e){G.cwx.user.login({callback:function(e){if(console.log("isLogin",e),e&&0==e.ReturnCode)return t&&t()}})}))),null==n&&(n=!1),!r&&n&&_t.showToast({title:"\u8bf7\u6c42\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5~",icon:"none"}),r};function bn(e,t,n){var r={text:"",wrapperStyle:"",cemojiStyle:""};return e&&(r.text=e[t],n&&(r.wrapperStyle=n.wrapperStyle,r.cemojiStyle=n.cemojiStyle)),r}var In=function(e,t,n){var r=t;return n&&(r=n),e.forEach((function(o,i){o.commentId==r&&(n&&t!=n?e[i].childComments.forEach((function(e,n){e.commentId==t&&(e.isLike?(e.isLike=!1,e.likeCount=(e.likeCount||0)-1):(e.isLike=!0,e.likeCount=(e.likeCount||0)+1))})):o.isLike?(o.isLike=!1,o.likeCount=(o.likeCount||0)-1):(o.isLike=!0,o.likeCount=(o.likeCount||0)+1))})),e},wn=function(e){w(n,e);var t=x(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n,[{key:"render",value:function(){var e=this.props,t=e.inputObj,n=e.cwx,r="";return null!=n&&n.convertCEmojiInput&&(r=n.convertCEmojiInput(t)),u().createElement(u().Fragment,null,r?u().createElement(m.RichText,{nodes:r}):u().createElement("cemoji-converter",{inputObj:this.props.inputObj}))}}]),n}(c.Component);function Cn(e,t){var n=e.inputObj||{},r=t.inputObj||{};return n.text==r.text&&n.wrapperStyle==r.wrapperStyle&&n.cemojiStyle==r.cemojiStyle}var _n=(0,c.memo)(wn,Cn),xn={"comment-fixedsbg":"yDEVbRVR4XlRlaOvlaX4","comment-fixedsbg-show":"hBiKwcNDQXZZZ56H0LWC","commentbox-inp-fixed":"jaeZQTRzRQDQBcQIscsC","taro-textarea":"WlnKK9ScLYe0qYJdPJix","comp-fixedbottom":"NfgR7EjY6J9YT3kjGDAO","comp-fixedbottom-show":"KZ_wBTGsLc0vO2u6vqMc","comp-quickReply_tab":"iccz1aEA1D9W6RTe9G0u",commentbox:"ud1qpkJKkBgLXgQMw9ID","commentbox-inp":"avxnBEB5QpB4rVtZJMDZ","commentbox-test":"XYT25SlXEuyrDwaWIjFN","commentbox-inp-placeholder":"bxsI98irqQpHCOxROSk_","comment-send":"L9GDO0HYzkqTWiRn5SaS","comp-quickReply":"Dl9UBTCD0NwWtV03BNDG","comp-quickReply-Input":"C9zbXVsviQlerSZg8e6S",quickText:"ZZ_3nKG89L2yHfatZQFK",quickScroll:"EaZn1ZAk74S9dlm3I9E8","comp-quickReplyList":"iudK_FiuruFp9Mucmh9S","comp-quickReplyItem":"H5c4CrtXNhWFoEgXYK5P"},En=function(e){w(n,e);var t=x(n);function n(e){var r;return v(this,n),p(_(r=t.call(this,e)),"inpValueChange",(function(e){var t=e.detail&&e.detail.value;r.state.inputValue=t,r.inputValueData=t})),p(_(r),"handleFocus",(function(e){r.props.inputFocus(e)})),p(_(r),"handleBlur",(function(e){r.canHide&&r.hideCommentInput(e)})),p(_(r),"hideCommentInput",(function(){r.isClickQuick?r.isClickQuick=!1:r.setState({visible:!1,commentFocus:!1})})),p(_(r),"testInvalidStr",(function(e){return/^[\[\]\{\}\#\%\^\*\+\=\_\\\|\~\<\>\\u20ac\\xa3\\xa5\\u2022\.\,\?\!\'\-\/\:\;\(\)\$\&\@\"\.\-\/\\uff1a\\uff1b\\uff08\\uff09\\xa5\\u201c\\u201d\\u3002\\uff0c\\u3001\\uff1f\\uff01\.\\u3010\\u3011\\uff5b\\uff5d\#\%\\u2014\\uff5e\\u300a\\u300b\\xb7\\u2026\,\\u2018\\u2019\s]+$/.test(e)})),p(_(r),"toComment",(function(){var e,t;if(null===(e=ut.user)||void 0===e||null===(t=e.isLogin)||void 0===t?void 0:t.call(e)){var n={action:"post",comment:{articleId:r.props.articleId,content:r.inputValueData,replyCommentId:r.replyCommentId},isContentEncode:!0};return 0==r.inputValueData.length?(_t.showToast({title:"\u60a8\u4e0d\u80fd\u63d0\u4ea4\u7a7a\u8bc4\u8bba\u54e6~",icon:"none"}),void r.hideCommentInput()):r.testInvalidStr(r.inputValueData)?(_t.showToast({title:"\u8bf7\u60a8\u7559\u4e0b\u6709\u610f\u4e49\u7684\u4e00\u7b14\u54e6~",icon:"none"}),void r.hideCommentInput()):void hn(n,(function(e){var t;console.log("toComment",e);var n=e.data,o="";null!=n&&null!==(t=n.comment)&&void 0!==t&&t.commentId?(r.props.ubtTrace("c_gs_tripshoot_comment_publishcomment",{articleId:r.props.articleId,commentId:n.comment.commentId}),console.log("c_gs_tripshoot_comment_publishcomment",{articleId:r.props.articleId,commentId:n.comment.commentId}),o=n.rewardInfo&&n.rewardInfo.message?n.rewardInfo.message:r.tempReplyId?"\u4f60\u7684\u56de\u590d\u5df2\u53d1\u5e03":"\u4f60\u7684\u8bc4\u8bba\u5df2\u53d1\u5e03",r.inputValueData="",_t.showToast({title:o,icon:"none"}),r.props.commentSubmitNotify(n.comment),r.hideCommentInput(),r.setState({inputValue:""})):(o=n&&n.result&&101==n.result.resultId?"\u8868\u60c5\u6b63\u5728\u5347\u7ea7\u4e2d\uff0c\u8bf7\u8f93\u5165\u6587\u5b57\uff5e\uff5e":n&&n.result&&103==n.result.resultId?"\u62b1\u6b49\u7531\u4e8e\u5bf9\u65b9\u8bbe\u7f6e\uff0c\u4f60\u65e0\u6cd5\u6267\u884c\u8be5\u64cd\u4f5c":n&&n.result&&n.result.resultText?n.result.resultText:"\u8bc4\u8bba\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff5e",_t.showToast({title:o,icon:"none"}),r.inputValueData="")}))}r.props.toLogin&&r.props.toLogin()})),p(_(r),"toFoucus",(function(){r.setState({commentFocus:!0})})),p(_(r),"handleClickQuickItemValue",(function(e){r.isClickQuick=!0,r.inputValueData=r.inputValueData+e,r.props.ubtTrace("c_gs_tripshoot_detail_keyboardReply",{articleId:r.props.articleId}),console.log("c_gs_tripshoot_detail_keyboardReply",{articleId:r.props.articleId}),r.setState({inputValue:r.inputValueData,commentFocus:!1},(function(){setTimeout((function(){r.setState({commentFocus:!0},(function(){r.isClickQuick=!1}))}),100)}))})),r.inputValueData="",r.isClickQuick=!1,r.canHide=!0,r.state={inputValue:"",visible:!1,commentFocus:!1,placeholder:"\u8bf4\u70b9\u4ec0\u4e48..."},r}return b(n,[{key:"show",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u8bf4\u70b9\u4ec0\u4e48...",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e||this.state.inputValue,i=n||this.state.placeholder;this.replyCommentId=r,this.canHide=!1,setTimeout((function(){t.canHide=!0}),1e3),this.setState({visible:!0,inputValue:o,placeholder:i},(function(){setTimeout((function(){t.toFoucus(),t.inputValueData=o}),200)}))}},{key:"render",value:function(){var e=this,t=this.props.replyList,n=this.state,r=n.visible,o=n.commentFocus,i=n.placeholder;return u().createElement(u().Fragment,null,u().createElement(m.View,{className:"".concat(xn["comment-fixedsbg"]," ").concat(r?xn["comment-fixedsbg-show"]:""),catchMove:!0,onClick:this.hideCommentInput}),u().createElement(m.View,{style:{bottom:0},className:"".concat(xn["comp-fixedbottom"]," ").concat(r?xn["comp-fixedbottom-show"]:"")},u().createElement(m.View,{className:xn["comp-quickReply_tab"]},u().createElement(m.View,{className:xn.commentbox},u().createElement(m.Textarea,{"show-confirm-bar":!1,fixed:!0,"disable-default-padding":!0,"auto-height":!0,className:"".concat(xn["commentbox-inp"]," ").concat(xn["commentbox-inp-fixed"]," ").concat(xn["commentbox-test"]),"placeholder-className":xn["commentbox-inp"],onFocus:this.handleFocus,"adjust-position":!0,onInput:this.inpValueChange,value:this.state.inputValue,placeholder:i,onKeyboardHeightChange:this.props.keybordHeightChange,focus:o,"cursor-spacing":t&&t.length>0?54:20,onBlur:this.handleBlur})),u().createElement(m.View,{className:xn["comment-send"],onClick:this.toComment},"\u53d1\u9001")),t&&t.length>0?u().createElement(m.View,{className:"".concat(xn["comp-quickReply"]," ").concat(xn["comp-quickReply-Input"])},u().createElement(m.View,{className:xn.quickText},"\u5feb\u6377\u56de\u590d:"),u().createElement(m.ScrollView,{className:xn.quickScroll},u().createElement(m.View,{className:xn["comp-quickReplyList"]},t.slice(0,3).map((function(t,n){return u().createElement(m.View,{key:n,className:"".concat(xn["comp-quickReplyItem"]," ").concat(xn["comp-quickReplyObserverTwo"]),onClick:function(){return e.handleClickQuickItemValue(t)}},t)}))))):null))}}]),n}(c.Component);function Tn(e,t){return e.articleId==t.articleId&&e.replyCommentId==t.replyCommentId&&e.replyList==t.replyList}var Sn=(0,c.memo)(En,Tn);En.defaultProps={inputFocus:function(){},articleId:"",replyList:[],ubtTrace:function(){},commentSubmitNotify:function(){}};var kn={"vote-content":"FzGyPIbFUM8eYadDlN3C","vote-title":"zwhKFw_Lo9fK5aA6LfvG","vote-list":"kMWk5uPkmctDhrKEphDu","vote-list-item":"EWY7XCY4zj9xiptqPxbm","item-text":"I1JKfAlQ2ZVEY10tdWyK","item-per-bg":"ZQ8JKOveGPTIY7feRoPf","item-per-num":"haAnLCS41Pm3SWLmhV1k","item-check":"KF9AaHGwngxZZQHHWNw1","check-img":"YSxnpvW5vo4NG8ezOj70","item-per-bg-checked":"MDqLko94xUS8g4QFsSgw","item-per-num-checked":"Ax5DokN6ZwQuE2LPPAqe","item-text-isInteract":"uC8nH25DwotSn16yhVAp","item-text-isInteract-checked":"poqerDY1oLtNEorK1fbd","item-per-bg-isInteract":"h4WONvnotief8pknNz43","item-per-num-isInteract":"uf3IwvIMIS5ZH1Vfj8YD","vote-submit":"nZz50QwLa4xGB67h5ZgM","vote-submit-text":"jQIpfr2bu4ctMLplyMEE","vote-submit-text-active":"uI9xbHd3tkKETv0VeNwW","vote-info":"guNmkwSpTg8XIyBKNLFQ","vote-num":"CLq8VzxKSRNzZU3D2Tng"},Nn=function(e){w(n,e);var t=x(n);function n(e){var r;return v(this,n),p(_(r=t.call(this,e)),"getVoteInfo",(function(){var e,t={articleId:r.props.articleId};e=function(e){var t,n,o,i,a,c,l,s;r.isPushAction=!1,null!=e&&null!==(t=e.data)&&void 0!==t&&t.interaction&&(r.props.ubtTrace("o_gs_tripshoot_detail_vote_expose",{type:null==e||null===(n=e.data)||void 0===n?void 0:n.interaction.type}),console.log("o_gs_tripshoot_detail_vote_expose",{type:null==e||null===(o=e.data)||void 0===o?void 0:o.interaction.type}),r.setState({voteInfo:null==e||null===(i=e.data)||void 0===i?void 0:i.interaction,isInteract:null==e||null===(a=e.data)||void 0===a?void 0:a.interaction.isInteract,isEnd:null==e||null===(c=e.data)||void 0===c?void 0:c.interaction.isEnd,activeType:null==e||null===(l=e.data)||void 0===l?void 0:l.interaction.type,interactItems:(null==e||null===(s=e.data)||void 0===s?void 0:s.interaction.interactItems)||[]}))},pn({url:"/restapi/soa2/16189/json/getPkVote",data:t,success:function(t){e(t)},fail:function(t){e(t)}})})),p(_(r),"_renderItem",(function(e,t){var n=r.state,o=n.isInteract,i=n.activeType,a={angle:270,colors:["#daf6f4","#d1eafe"]};return e.isChecked&&(a.colors=["#0086f6","#2dccc1"]),o&&(a.colors=["#eef1f6","#eef1f6"]),u().createElement(m.View,{className:"".concat(kn["vote-list-item"]," ").concat(e.isChecked?"isChecked":""),onClick:function(){return r._handleClickItem(e,t)}},u().createElement(m.View,{className:"".concat(kn["item-text"]," ").concat(o?kn["item-text-isInteract"]:""," ").concat(e.isChecked?kn["item-text-isInteract-checked"]:"","}")},e.name,e.isChecked?2==i||3==i&&o?"(\u5df2\u9009)":"":null),o?u().createElement(u().Fragment,null,u().createElement(ae,{className:"".concat(kn["item-per-bg"]," ").concat(e.isChecked?kn["item-per-bg-checked"]:""," ").concat(o?kn["item-per-bg-isInteract"]:""),style:{width:"".concat(e.percentage,"%")},useAngle:!0,angle:a.angle,colors:a.colors,locations:[0,1]}),u().createElement(m.View,{className:"".concat(kn["item-per-num"]," ").concat(e.isChecked?kn["item-per-num-checked"]:""," ").concat(o?kn["item-per-num-isInteract"]:"")},e.percentage,"%")):null,!o&&3==i&&e.isChecked?u().createElement(m.View,{className:kn["item-check"]},u().createElement(m.Image,{className:kn["check-img"],src:"https://pages.c-ctrip.com/livestream/tripshoot/selected.png"})):null)})),p(_(r),"_handleClickItem",(function(e,t){if(r.props.cwx.user.isLogin()){var n=r.state,o=n.activeType,i=n.isInteract,a=n.isEnd;i||r.isPushAction||a||(r.state.interactItems[t].isChecked=!r.state.interactItems[t].isChecked,2==o?(r.props.ubtTrace("c_gs_tripshoot_detail_vote_option",{type:2}),console.log("c_gs_tripshoot_detail_vote_option",{type:2}),r._interactionAction()):3==o&&(r.setState({interactItems:r.state.interactItems}),r.props.ubtTrace("c_gs_tripshoot_detail_vote_option",{type:3}),console.log("c_gs_tripshoot_detail_vote_option",{type:3})))}else r.props.toLogin()})),p(_(r),"_interactionAction",(function(){if(!r.isPushAction){var e=r.state.interactItems,t=[];e.forEach((function(e){e.isChecked&&t.push({title:e.name,articleInteractionItemId:e.itemId})}));var n,o={action:"interactive",articleId:r.props.articleId,interaction:{interactionItems:t}};r.isPushAction=!0,n=function(e){var t;null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(t=t.result)&&void 0!==t&&t.result?r.getVoteInfo():r.isPushAction=!1},pn({url:"/restapi/soa2/14045/json/interactionAction",data:o,success:function(e){n(e)},fail:function(e){n(e)}})}})),p(_(r),"_handleSubmitBtn",(function(){!r.isCanSubmit||r.isPushAction||r.state.isInteract||(r._interactionAction(),r.props.ubtTrace("c_gs_tripshoot_detail_vote_submit"),console.log("c_gs_tripshoot_detail_vote_submit"))})),r.isPushAction=!1,r.state={isInteract:!1,isEnd:!1,activeType:0,activeTypeMap:{1:"pk",2:"\u5355\u9009",3:"\u591a\u9009"},voteInfo:null,interactItems:[]},r}return b(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.articleId,n=e.userInit;this.state.voteInfo||!t||"0"==t||n||this.getVoteInfo()}},{key:"isCanSubmit",get:function(){return this.state.interactItems.find((function(e){return e.isChecked}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isInteract,r=t.isEnd,o=t.activeType,i=t.activeTypeMap,a=t.voteInfo,c=t.interactItems;if(!a)return null;var l={colors:["#eee","#eee"]};return this.isCanSubmit&&(l.colors=["rgb(0, 134, 246)","rgb(45, 204, 193)"]),u().createElement(u().Fragment,null,u().createElement(ae,{className:kn["vote-content"],useAngle:!0,angle:90,colors:["#effbfb","#ebf6ff"],locations:[0,1]},u().createElement(m.View,{className:kn["vote-title"]},a.name,"\uff08",i[o],"\uff09"),u().createElement(m.View,{className:"".concat(kn["vote-list"])},c.map((function(t,n){return e._renderItem(t,n)}))),n||r||3!=o?null:u().createElement(ae,{onClick:this._handleSubmitBtn,className:kn["vote-submit"],useAngle:!0,angle:270,colors:l.colors,locations:[0,1]},u().createElement(m.Text,{className:"".concat(kn["vote-submit-text"]," ").concat(this.isCanSubmit?kn["vote-submit-text-active"]:"")},"\u786e\u8ba4\u63d0\u4ea4")),u().createElement(m.View,{className:kn["vote-info"]},u().createElement(m.View,{className:kn["vote-time"]},a.endDisplayTime),u().createElement(m.View,{className:kn["vote-num"]}," \xb7 ",a.joinCount,"\u4eba\u5df2\u53c2\u4e0e"))))}}]),n}(c.Component),On={"comment-list-modal":"zEs44ny2M2kow8twJjY_","comment-content":"NmW4zOZOQIizLU8fQsdu","vote-content":"EbqeyeyySD8xGtPD29MC","top-title":"HbIbflSN6TVnGbX0m3St","close-icon":"QUpBRa2G7emvratXNsDQ","total-count-left":"hfQjeRi_ITN0gO4EgQ1I","total-count":"LUJyG4zOvlnvPL3fXbfn","filter-content":"gmPC0_PGL_Gk9d7pKfhX","filter-item":"kMkVwEomuQ9S2Kbg7Qqd","filter-item-active":"XTAtU6XeHv0TsJzm5IeT","common-commentList":"zqh9LuEVdAOu9pdzY6v_",isloading:"eL7Ip0PLZchSw3PtNpmX","loading-icon":"ykblU2DGePE5kC8hlpJK","loading-text":"EZ9kUgtGD2nJCvl9G7VY","load-end":"CBLhDbHT2tAE3XdndqHM","load-end-a":"beYXjpnScUypzvFu6K5m","comment-item":"QPo3fmfMKm6dlJ5ffXIy","comment-main-item":"eSV8IEhYdA9C53YmhnK6","comemnt-avat":"Kx2rS2zjNk1oJSkflYJJ","comemnt-avat-img":"VF8nZZAL_wZ6fdmGXf_Q","comemnt-vip":"AM9ntGCdUl04FOI1LDwy","comemnt-content":"cMXLvR7grjMNjrEkbWyO","comemnt-name-wrapper":"XNk9Dv6593gPK8RA8Eb9","comemnt-name":"o3t3WzvhDhZCvboXtMLV","name-reply-container":"ED0Ot9SMSHIz5XUQXyu1","common-comment-praise":"spQwc_MdrptP4c3_2OFo","like-wrapper":"QAaWb31P0cg5DDxSkxzh","like-content":"pDubUeutOpmxDwIIZSwM","like-icon":"iOPVbV3rx4ssgpXOnLAY",count:"wCpeows9om1TnMWEdZVZ","item-more":"DC_wBtKr1pncV2Bw7251","item-more-img":"mRNDzX_Z5d6h9H6NWTOg",reply:"fN1oa_24YdEBzf51Fmg1","name-text":"QbaOeT_cUXmSVHTsxcDy","comemnt-identity":"Iya1ipemZpl7h5Rmr3SG","comemnt-identity-text":"W2KoaDsEbE_LoHZ7RGwT","comment-detail":"kAQyK2rm7L100QllS48t","padding-more":"iBC4kvi4WTMuY2Po4vJ0","padding-zero":"SXYz3aV_GWqOakZOFk9w","comment-text":"GrtFoZr8ZoHs69pcHONJ","comment-pic":"u4hMekBBuKt4cVweveny","hotel-more-wrap":"le8XIQmvtABGPZswtE3b","hotel-more-text":"pMoZWTrO1Uu5hpu5Qd22","hotel-more-icon":"NAvqVJcbt5zEL9Gt3x7J","common-comment":"kklqjHVkprhfUkn1S1ez","common-comment-delete":"glGThQpuXm3ggAr5Vy0i","common-comment-info":"GybWvM_gHLuoBqvo9E3x","pad-lower":"Pdq_C1XRii9xD_WGW94S","common-comment-time":"XruN0Lk6qCvQLtNsjSrz","common-comment-time-text":"WDCR5Z3ij9fmfnbGeOrQ","common-comment-time-ip":"_uwsqZwV5laNrS8e2v_2","common-comment-time-tag":"vUbnNMv829Rs9qevR6sQ","sub-item":"YutKlNlGUmizaoXahwjV","sub-comemnt-avat":"NlqE5i5L0usG4lw4J0OL","sub-comemnt-vip":"rvsJ394FAUs8bK83Vw2N","sub-item-f":"W8S9rVBB2M9MD13vqL1w","comment-show-more":"Z97Bq2e1fd_UJSEEgxZI","sub-loading":"TsMlw4ziYChhRyersAzs",line:"n7ZodcI74kSPa8NKdmnn","comment-vote":"tybHP4WC2fGsKv1l9axA","comment-uptoBottom":"OXEIsTAHLZOxrVRceaY5",loadingContainer:"CGgtkjhURq5o3g7sRVus","loadingContainer-loading":"ViedTB90cWDkQFSvPPFQ","loadingContainer-loadingImg":"f1c01yFVX3YdfNuetIcN",rotate:"exBPHJd31COtTAbd2wv3","loadingContainer-loadingText":"jT9ScFQkhzsbGfnaaGyQ","empty-content":"vbdFtuITcOYKz5ljS6Y1","empty-icon":"O3ZPvt91JBLVKSI499DF","empty-text1":"lujJPJvsaYs2Mv8ZcfDl","empty-text2":"tzQeWW5TQhqiPVxzkG1w",empty_with_quick:"sdATzHtOruZvHcBkrnXT",empty_with_quick_title:"oJrTqI0J5uMiNNsfQL_o",quick_list:"jscYo0nXOHXT8TvJqAyq",quick_list_item:"v9v8sLIv13k0yIAM5mIe","prise-bottom":"OrkO3GIOxrw8SNAP9AQt","prise-commentbox":"HA2znUnnOsMdtoTf6pXX","comp-mask":"B2I67OFvWfRFzLjMSIOO","hint-mask-inner":"OKCmvK87jTbDQFXQLyl6",btn:"oyJCW4oS79Q8YurrDnHq","btn-cancel":"joLaCOgjSPvAWHm6nKCv",bottom_reply:"KsJWUwdlkaI94buIdBmt",btn_reply:"EhGh3IQ7c_uK7oBM5PNg","btn-delete":"HEp0cwFmqPPrPf2WbL0C"},Ln=function(e){w(r,e);var n=x(r);function r(e){var o;return v(this,r),p(_(o=n.call(this,e)),"initCommentList",(function(){o.pageIndex=1,o.state.commentList=[],o.getCommentList()})),p(_(o),"getCommentList",(function(){var e={articleId:o.id,para:{pageIndex:o.pageIndex,pageSize:10,sortType:o.state.sortType},isContentEncode:!1,displayType:2,showCommentCount:!0,needHotelComment:!0,sortDirection:0,excludeCommentIds:[],levels:[0]},t=[],n=0,r=!1;o.setState({isloading:!0}),gn(e,(function(e){if(yn(e)&&(e.data.comments&&e.data.comments.length>0||e.data.hotelComment)){t=(e.data.comments||[]).map((function(e){return e.childCommentsPageIndex=1,e.childComments.forEach((function(e,t){e.isPublic=!0})),e})),t=o.state.commentList.concat(t),n=e.data.sceneTotalCount,r=t.length>=e.data.totalCount;var i,a,c=e.data.hotelComment;c&&(o.hasExposeHotelComment||(o.hasExposeHotelComment=!0,o.props.ubtTrace("o_gs_tripshoot_comment_hotelcard",{articleId:o.id,poiID:null==c||null===(i=c.poiInfo)||void 0===i?void 0:i.poiId,commentId:c.commentId}),console.log("o_gs_tripshoot_comment_hotelcard",{articleId:o.id,poiID:null==c||null===(a=c.poiInfo)||void 0===a?void 0:a.poiId,commentId:c.commentId})),c.isHotelComment=!0),o.setState({commentList:t,totalCount:n,isloading:!1,isLoadEnd:r,listLoading:!1,hotelComment:c})}else o.setState({isloading:!1,isLoadEnd:!0})}))})),p(_(o),"switchSortType",(function(e){o.props.ubtTrace("c_gs_tripshoot_comment_orderchange",{articleId:o.id}),console.log("c_gs_tripshoot_comment_orderchange",{articleId:o.id}),o.setState({sortType:e,listLoading:!0},(function(){o.initCommentList()}))})),p(_(o),"handleLoadMore",(function(){o.state.isLoadEnd||o.state.isloading||(o.pageIndex++,o.getCommentList())})),p(_(o),"jumpToHome",(function(e){var n;o.props.ubtTrace("c_gs_tripshoot_comment_mypic",{articleId:o.id}),console.log("c_gs_tripshoot_comment_mypic",{articleId:o.id});null==t||null===(n=Fe())||void 0===n||n.toLowerCase();var r="/pages/ugc/user/index?clientAuth="+e;ut.navigateTo({url:r})})),p(_(o),"doCommentPraise",(function(e,t){var n,r;o.topCommentId=t;var i=_(o),a="",c=null===(n=ut.user)||void 0===n||null===(r=n.isLogin)||void 0===r?void 0:r.call(n),l="";e.isLike?(a="cancel_like",l="c_gs_tripshoot_comment_cancellike"):(a="like",l="c_gs_tripshoot_comment_like"),i.props.ubtTrace(l,{articleId:o.id,commentId:e.commentId}),console.log(l,{articleId:o.id,commentId:e.commentId}),c?i.getActionInfo(a,"comment",e.commentId):i.toLogin()})),p(_(o),"getActionInfo",(function(e,t,n){vn({action:e,targetId:n,targetType:t},(function(t){var r;if(yn(t))if(null!=t&&null!==(r=t.data)&&void 0!==r&&null!==(r=r.result)&&void 0!==r&&r.result){o.refreshComment(n,o.topCommentId),o.topCommentId="";var i="",a="";"like"==e?(i="\u70b9\u8d5e\u6210\u529f",(a=t.data.rewardInfo)&&a.message&&(i=i+" "+a.message),setTimeout((function(){_t.showToast({title:i,icon:"none"})}),750)):i="\u5df2\u53d6\u6d88\u70b9\u8d5e",o.props.praiseNotify&&o.props.praiseNotify(e,n)}else"like"==e?_t.showToast({title:"\u70b9\u8d5e\u5931\u8d25",icon:"none"}):"cancel_like"==e&&_t.showToast({title:"\u53d6\u6d88\u70b9\u8d5e\u5931\u8d25",icon:"none"})}))})),p(_(o),"toLogin",(function(){var e,t,n=_(o);null===(e=ut.user)||void 0===e||null===(t=e.login)||void 0===t||t.call(e,{callback:function(e){e&&0==e.ReturnCode&&n.props.loginCallback&&n.props.loginCallback()}})})),p(_(o),"toReply",(function(e,t,n,r,i){var a,c;o.props.ubtTrace("c_gs_tripshoot_comment_clickcomment",{articleId:o.id,commentId:r}),(null===(a=ut.user)||void 0===a||null===(c=a.isLogin)||void 0===c?void 0:c.call(a))?n?o.showCommentAction(e,t,n,r,i):(o.replyCommentId=t,o.topCommentId=t,o.inputMaskRef&&o.inputMaskRef.show("","\u56de\u590d"+e+":",t)):o.toLogin()})),p(_(o),"goHotel",(function(e){var t,n,r="",i=e.url,a=i.wxUrl;i.h5Url,i.appUrl;o.props.ubtTrace("c_gs_tripshoot_comment_hotelcard",{articleId:o.id,poiID:null==e||null===(t=e.poiInfo)||void 0===t?void 0:t.poiId,commentId:e.commentId}),console.log("c_gs_tripshoot_comment_hotelcard",{articleId:o.id,poiID:null==e||null===(n=e.poiInfo)||void 0===n?void 0:n.poiId,commentId:e.commentId}),r=a,ft({url:r})})),p(_(o),"gotoPreviewImage",(function(e,t){null==e||e.stopPropagation(),_t.previewImage({current:t,urls:[t]})})),p(_(o),"_renderCommentDetail",(function(e,t,n){var r,i=o.props.commentTextStyle,a="",c=0,l=0;if((null==e||null===(r=e.nodes)||void 0===r?void 0:r.length)>0){var s,d,f,p,g=null==e||null===(s=e.nodes)||void 0===s?void 0:s[0];if(1==(null==g?void 0:g.nodeType)&&null!=g&&null!==(d=g.imageDto)&&void 0!==d&&d.originalUrl){var h=(null==g?void 0:g.imageDto)||{};(null==h?void 0:h.width)/(null==h?void 0:h.height)<.8?l=4*(c=120)/3:(null==h?void 0:h.width)/(null==h?void 0:h.height)>=.8&&(null==h?void 0:h.width)/(null==h?void 0:h.height)<=1.2?(c=120,l=120):l=3*(c=160)/4}a=null===(f=Lt({imageUrl:null==g||null===(p=g.imageDto)||void 0===p?void 0:p.originalUrl,height:l,width:c,ext:{}}))||void 0===f?void 0:f.dynamicUrl}try{var v;return u().createElement(u().Fragment,null,u().createElement(m.View,{className:"".concat(On["comemnt-avat"]," ").concat(n?On["sub-comemnt-avat"]:""),onClick:function(){return e.isHotelComment?null:o.jumpToHome(e.author.clientAuth)}},u().createElement(m.Image,{className:On["comemnt-avat-img"],src:e.author.coverImage&&e.author.coverImage.dynamicUrl||"https://pages.c-ctrip.com/you/lvpai-home-defaultavat.jpg"}),e.author.vIcon&&u().createElement(m.Image,{className:"".concat(On["comemnt-vip"]," ").concat(n?On["sub-comemnt-vip"]:""),src:e.author.vIcon})),u().createElement(m.View,{className:On["comemnt-content"]},u().createElement(m.View,{className:On["comemnt-name-wrapper"]},u().createElement(m.View,{className:On["comemnt-name"]},u().createElement(m.View,{className:On["name-reply-container"]},u().createElement(m.View,{className:On["name-text"]},e.author.nickName),e.author.tag&&u().createElement(ae,{className:On["comemnt-identity"],useAngle:!0,angle:270,locations:[0,1],colors:["rgba(47, 207, 187, 0.08)","rgba(45, 204, 193, 0.08)"]},u().createElement(m.Text,{className:On["comemnt-identity-text"]},e.author.tag)),e.label&&u().createElement(ae,{className:On["comemnt-identity"],useAngle:!0,angle:270,locations:[0,1],colors:["rgba(47, 207, 187, 0.08)","rgba(45, 204, 193, 0.08)"]},u().createElement(m.Text,{className:On["comemnt-identity-text"]},e.label)),e.refComment&&e.refComment.author&&e.refComment.author.nickName&&u().createElement(u().Fragment,null,u().createElement(m.View,{className:On.reply},"\u56de\u590d"),u().createElement(m.View,{className:On["name-text"]},e.refComment.author.nickName),e.refComment.author.tag&&u().createElement(ae,{className:On["comemnt-identity"],useAngle:!0,angle:270,locations:[0,1],colors:["rgba(47, 207, 187, 0.08)","rgba(45, 204, 193, 0.08)"]},u().createElement(m.Text,{className:On["comemnt-identity-text"]},e.refComment.author.tag)))),!e.isHotelComment&&u().createElement(m.View,{className:On["common-comment-praise"],onClick:function(){return o.doCommentPraise(e,t)}},u().createElement(m.View,{className:On["like-wrapper"]},u().createElement(m.View,{className:On["like-content"]},e.isLike?u().createElement(m.Image,{className:On["like-icon"],mode:"widthFix",src:"https://pages.c-ctrip.com/livestream/tripshoot/like-blue.png"}):u().createElement(m.Image,{className:On["like-icon"],mode:"widthFix",src:"https://pages.c-ctrip.com/livestream/tripshoot/vote-comment-like.png"})),u().createElement(m.View,{className:On.count},e.likeCount>0?e.likeCount:"\u9996\u8d5e"))))),5==e.publishStatus||3==e.publishStatus?u().createElement(m.View,{className:On["comment-detail"]},u().createElement(m.View,{className:On["common-comment-delete"]},e.reportType>0?"\u8bc4\u8bba\u56e0\u8fdd\u53cd\u643a\u7a0b\u793e\u533a\u89c4\u8303\u88ab\u5220\u9664":e.content)):u().createElement(m.View,{onClick:function(n){return e.isHotelComment?null:o.toReply(e.author.nickName,t,e.isOwner,e.commentId,n)},className:"".concat(On["comment-detail"]," ").concat(5!=e.publishStatus&&4!=e.publishStatus&&3!=e.publishStatus?On["padding-more"]:""," ").concat(e.isHotelComment?On["padding-zero"]:"")},u().createElement(_n,{cwx:ut,inputObj:bn(e,"content",i)}),""!=a?u().createElement(m.Image,{mode:"aspectFill",style:{width:c,height:l},className:On["comment-pic"],onClick:function(e){return o.gotoPreviewImage(e,a)},src:a}):null),e.isHotelComment?u().createElement(m.View,{className:On["hotel-more-wrap"],onClick:function(){return o.goHotel(e)}},u().createElement(m.Text,{className:On["hotel-more-text"]},"\u67e5\u770b\u66f4\u591a\u4f4f\u5ba2\u70b9\u8bc4(",e.commentCount,")"),u().createElement(m.Image,{className:On["hotel-more-icon"],src:"https://pages.c-ctrip.com/livestream/tripshoot/right-1.png"})):u().createElement(m.View,{className:"".concat(On["common-comment-info"]," ").concat((null===(v=e.childComments)||void 0===v?void 0:v.length)>0?On["pad-lower"]:"")},u().createElement(m.View,{className:On["common-comment-time"]},u().createElement(m.Text,{className:On["common-comment-time-text"]},e.publishTimeDisplay),u().createElement(m.Text,{className:"".concat(On["common-comment-time-text"]," ").concat(On["common-comment-time-ip"])},e.ipLocatedName)),(e.tags||[]).map((function(e,t){return u().createElement(m.View,{className:On["common-comment-time-tag"],key:t},e.tagName)})))))}catch(e){}})),p(_(o),"_renderList",(function(){var e=o.state,t=e.commentList,n=e.hotelComment,r=t.map((function(e,n){return u().createElement(m.View,{className:On["comment-item"],key:e.commentId},u().createElement(m.View,{className:On["comment-main-item"]},o._renderCommentDetail(e,e.commentId)),(e.childComments||[]).map((function(t,n){return u().createElement(m.View,{key:n,className:"".concat(On["sub-item"]," ").concat(0==n?On["sub-item-f"]:"")},o._renderCommentDetail(t,e.commentId,!0))})),(e.childComments||[]).length<e.childTotalCount&&!e.showSubCommentLoading&&u().createElement(m.View,{onClick:function(){return o.fetchSubCommentList(e)},className:On["comment-show-more"]},"\u5c55\u5f00\u66f4\u591a\u56de\u590d"),e.showSubCommentLoading&&u().createElement(m.View,{className:On["sub-loading"]},"\u52a0\u8f7d\u4e2d..."),n!=t.length-1&&u().createElement(m.View,{className:On.line}))}));return n&&r.unshift(u().createElement(m.View,{className:On["comment-item"],key:n.commentId},u().createElement(m.View,{className:On["comment-main-item"]},o._renderCommentDetail(n,n.commentId)),u().createElement(m.View,{className:On.line}))),r})),p(_(o),"getExcludeCommentIds",(function(e){var t=[];return e&&e.length&&e.forEach((function(e,n){e.isPublic&&t.push(e.commentId)})),t})),p(_(o),"fetchSubCommentList",(function(e){var t=e.commentId,n={displayType:3,levels:[2],pageSize:10,pageIndex:1,sortDirection:0,sortType:2},r=o.state.commentList,i=-1,a=1,c=[];if(r.forEach((function(e,n){e.commentId==t&&(i=n,a=e.childCommentsPageIndex,c=o.getExcludeCommentIds(e.childComments))})),t&&!r[i].showSubCommentLoading){r[i].showSubCommentLoading=!0,o.setState({commentList:r});var l={articleId:o.id,topLevelCommentId:t,levels:n.levels,isContentEncode:!1,displayType:n.displayType,excludeCommentIds:c,addExcludeCount:!0,para:{pageIndex:a||1,pageSize:n.pageSize||10,sortType:n.sortType||0,sortDirection:0}},s=r[i].childComments;gn(l,(function(e){if(yn(e)&&e.data.comments&&e.data.comments.length>0){if(e=e.data,r[i].showSubCommentLoading=!1,e.comments&&e.comments.length){var t=s.concat(e.comments);t&&t.length<e.totalCount&&r[i].childCommentsPageIndex++,r[i].childComments=t}o.setState({commentList:r})}else r[i].showSubCommentLoading=!1,o.setState({commentList:r})}),(function(e){o.setState({commentList:r})}))}})),p(_(o),"toInputFocus",(function(){o.props.ubtTrace("c_gs_tripshoot_comment_inputbox",{articleId:o.id}),console.log("c_gs_tripshoot_comment_inputbox",{articleId:o.id}),o.hideNotify(),o.inputMaskRef&&o.inputMaskRef.show()})),p(_(o),"showCommentAction",(function(e,t,n,r,i){var a,c,l;null==i||null===(a=i.stopPropagation)||void 0===a||a.call(i),o.topCommentId=t,o.toReply_temp_currentCommentId=r,o.toReply_temp_nickname=e,(null===(c=ut.user)||void 0===c||null===(l=c.isLogin)||void 0===l?void 0:l.call(c))?(o.setState({actionVisible:!0,isself:n}),o.props.ubtTrace("c_gs_tripshoot_comment_commentspot",{articleId:o.id,commentId:r}),console.log("c_gs_tripshoot_comment_commentspot",{articleId:o.id,commentId:r})):o.toLogin()})),p(_(o),"hideAction",(function(){o.setState({actionVisible:!1})})),p(_(o),"showAction",(function(){o.setState({actionVisible:!0})})),p(_(o),"handleReply",(function(){o.toReply(o.toReply_temp_nickname,o.toReply_temp_currentCommentId),o.setState({actionVisible:!1})})),p(_(o),"actionDeleteComment",(function(){o.props.ubtTrace("c_gs_tripshoot_detail_commentmodule_delete",{articleId:o.id});var e=o.toReply_temp_currentCommentId,t={action:"delete",commentId:e,comment:{articleId:o.id}};hn(t,(function(t){var n,r="";if(yn(t)&&null!=t&&null!==(n=t.data)&&void 0!==n&&null!==(n=n.result)&&void 0!==n&&n.result){var i=o.deleteComment(e,o.topCommentId);o.topCommentId="",r="\u5220\u9664\u8bc4\u8bba\u6210\u529f",o.props.deleteCommentNotify&&o.props.deleteCommentNotify(e,i)}else r="\u5220\u9664\u8bc4\u8bba\u5931\u8d25";o.hideAction(),_t.showToast({title:r,icon:"none"})}))})),p(_(o),"refreshComment",(function(e,t){var n=In(o.state.commentList,e,t);o.setState({commentList:n})})),p(_(o),"addComment",(function(e,t,n){var r;return t?(n?o.state.commentList.forEach((function(r){if(r.commentId==n){r.childComments||(r.childComments=[]);var o=r.childComments.findIndex((function(e){return e.commentId==t}));r.childComments.splice(o+1,0,e),r.childTotalCount=(r.childTotalCount||0)+1}})):o.state.commentList.forEach((function(n){n.commentId==t&&(n.childComments||(n.childComments=[]),n.childComments.push(e),n.childTotalCount=(n.childTotalCount||0)+1)})),r=o.state.commentList):(r=[e].concat(o.state.commentList),o.setState({scrollTop:0})),o.setState({commentList:r,totalCount:o.state.totalCount+1}),r})),p(_(o),"deleteComment",(function(e,t){var n,r=o.state.totalCount;return n=t&&e!=t?o.state.commentList.map((function(n){var o=!1;return n.commentId==t&&(n.childTotalCount=n.childTotalCount-1,n.childComments=(n.childComments||[]).map((function(t){var o=!1;return t.commentId==e&&(t.publishStatus=3,t.content="\u8be5\u56de\u590d\u5df2\u5220\u9664",o=!(n.childComments.filter((function(t){return 5!=t.publishStatus&&3!=t.publishStatus&&t.refComment&&t.refComment.commentId==e})).length>0)),o&&r--,o?null:t})).filter((function(e){return!!e}))),(5==n.publishStatus||3==n.publishStatus)&&(o=!(n.childComments&&n.childComments.filter((function(e){return 5!=e.publishStatus&&3!=e.publishStatus})).length>0)),o&&r--,o?null:n})).filter((function(e){return!!e})):o.state.commentList.map((function(t){var n=!1;return t.commentId==e&&(t.publishStatus=3,t.content="\u8be5\u8bc4\u8bba\u5df2\u5220\u9664",(n=!t.childComments||!(t.childComments.filter((function(e){return 5!=e.publishStatus&&3!=e.publishStatus})).length>0))&&r--),n?null:t})).filter((function(e){return!!e})),o.setState({commentList:n,totalCount:r}),o.props.ubtTrace("c_gs_tripshoot_comment_delete",{articleId:o.id,commentId:e}),console.log("c_gs_tripshoot_comment_delete",{articleId:o.id,commentId:e}),n})),p(_(o),"handScroll",(function(e){var t;o.state.scrollTop=(null===(t=e.detail)||void 0===t?void 0:t.scrollTop)||0})),p(_(o),"commentSubmitNotify",(function(e){var t=o.addComment(e,o.replyCommentId,o.topCommentId);o.topCommentId="",o.replyCommentId=0,o.props.commentSubmitNotify(e,t)})),p(_(o),"hideNotify",(function(){o.topCommentId="",o.replyCommentId=0})),p(_(o),"show",(function(){o.setState({visible:!0})})),p(_(o),"hide",(function(e){o.props.ubtTrace("c_gs_tripshoot_comment_close",{articleId:o.id}),console.log("c_gs_tripshoot_comment_close",{articleId:o.id}),o.setState({visible:!1}),o.props.closeNotify&&o.props.closeNotify(e)})),p(_(o),"clickQuick",(function(e){var t,n;(null===(t=ut.user)||void 0===t||null===(n=t.isLogin)||void 0===n?void 0:n.call(t))?o.inputMaskRef&&o.inputMaskRef.show(e):o.toLogin()})),o.pageIndex=1,o.id="",o.topCommentId="",o.replyCommentId=0,o.inputMaskRef=null,o.state={commentList:[],totalCount:0,isloading:!1,isLoadEnd:!1,sortType:0,listLoading:!1,scrollTop:0,visible:!1,actionVisible:!1,isself:!1,hotelComment:null},o}return b(r,[{key:"componentDidUpdate",value:function(e){var t,n=e.isVisible,r=this.props,o=r.articleId,i=r.isVisible;o&&"0"!=o&&o!=this.id&&(this.id=o,null==ut||null===(t=ut.getCEmojiMapData)||void 0===t||t.call(ut),this.initCommentList()),!n&&i&&(this.props.ubtTrace("o_gs_tripshoot_comment_expose",{articleId:this.id}),console.log("o_gs_tripshoot_comment_expose",{articleId:this.id}))}},{key:"showAll",value:function(e){this.show(),this.inputMaskRef&&this.inputMaskRef.show(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.replyList,r=t.showVote,o=t.isHost,i=this.state,a=i.totalCount,c=i.listLoading,l=i.scrollTop,s=i.isloading,d=i.sortType,f=i.isLoadEnd,p=i.visible,g=i.actionVisible,h=i.isself,v=i.hotelComment,y=h,b={};return u().createElement(u().Fragment,null,p&&u().createElement(m.View,{className:On["comment-list-modal"],onClick:function(){return e.hide("mask")},catchMove:!0,style:b},u().createElement(m.View,{className:On["comment-content"],onClick:function(e){var t;return null==e||null===(t=e.stopPropagation)||void 0===t?void 0:t.call(e)}},u().createElement(m.View,{className:On["top-title"]},u().createElement(m.Image,{className:On["close-icon"],onClick:function(t){var n;null==t||null===(n=t.stopPropagation)||void 0===n||n.call(t),e.hide("icon")},src:"https://pages.c-ctrip.com/livestream/tripshoot/tripshoot_topic_ic_close.png"}),r?u().createElement(m.View,{className:On["total-count"]},"\u6295\u7968"):u().createElement(u().Fragment,null,a>0&&u().createElement(u().Fragment,null,u().createElement(m.View,{className:On["total-count"]},"\u5171 ",a," \u6761\u8bc4\u8bba"),u().createElement(m.View,{className:On["filter-content"]},u().createElement(m.View,{className:"".concat(On["filter-item"]," ").concat(0===d?On["filter-item-active"]:""),onClick:function(){return e.switchSortType(0)}},"\u9ed8\u8ba4"),u().createElement(m.View,{className:"".concat(On["filter-item"]," ").concat(3===d?On["filter-item-active"]:""),onClick:function(){return e.switchSortType(3)}},"\u6700\u65b0"))))),u().createElement(m.ScrollView,{"scroll-with-animation":!0,"scroll-y":!0,scrollTop:l,scrollWithAnimation:!0,scrollY:!0,onScrollToLower:this.handleLoadMore,className:On["common-commentList"],onScroll:this.handScroll},r?u().createElement(u().Fragment,null,u().createElement(Nn,{articleId:this.props.articleId,cwx:ut,ubtTrace:this.props.ubtTrace.bind(this),toLogin:this.toLogin.bind(this)}),u().createElement(m.View,{className:On["top-title"]},u().createElement(m.View,{className:On["total-count-left"]},"\u5171 ",a," \u6761\u8bc4\u8bba"),a>0&&u().createElement(m.View,{className:On["filter-content"]},u().createElement(m.View,{className:"".concat(On["filter-item"]," ").concat(0===d?On["filter-item-active"]:""),onClick:function(){return e.switchSortType(0)}},"\u9ed8\u8ba4"),u().createElement(m.View,{className:"".concat(On["filter-item"]," ").concat(3===d?On["filter-item-active"]:""),onClick:function(){return e.switchSortType(3)}},"\u6700\u65b0")))):null,c?u().createElement(m.View,{className:On.loadingContainer,style:{}},u().createElement(m.View,{className:On["loadingContainer-loading"]},u().createElement(m.Image,{className:On["loadingContainer-loadingImg"],src:"https://dimg02.c-ctrip.com/images/1008170000012pqy49C5D.png"}),u().createElement(m.View,{className:On["loadingContainer-loadingText"]},"\u52a0\u8f7d\u4e2d..."))):a>0||v?u().createElement(u().Fragment,null,this._renderList(),s&&u().createElement(m.View,{className:On.isloading},u().createElement(m.Image,{className:On["loading-icon"],src:"https://dimg02.c-ctrip.com/images/1008170000012pqy49C5D.png"}),u().createElement(m.View,{className:On["loading-text"]},"\u52a0\u8f7d\u4e2d...")),f&&u().createElement(m.View,{className:On["load-end"]},u().createElement(m.Text,{className:On["load-end-a"],decode:!0},"- \u5df2\u7ecf\u5230\u5e95\u4e86\u54df -"))):o?u().createElement(m.View,{className:On["empty-content"]},u().createElement(m.Image,{className:On["empty-icon"],src:"https://pages.c-ctrip.com/livestream/tripshoot/noComment.png"}),u().createElement(m.View,{className:On["empty-text1"]},"\u6682\u65e0\u8bc4\u8bba"),u().createElement(m.View,{className:On["empty-text2"]},"\u8bc4\u8bba\u5df2\u5728\u8def\u4e0a\uff0c\u8bf7\u8010\u5fc3\u7b49\u7b49\uff5e")):u().createElement(m.View,{className:On["empty-content"]},u().createElement(m.Image,{className:On["empty-icon"],src:"https://pages.c-ctrip.com/livestream/tripshoot/noComment.png"}),u().createElement(m.View,{className:On["empty-text1"]},"\u6682\u65e0\u8bc4\u8bba"),u().createElement(m.View,{className:On["empty-text2"]},"\u62a2\u4e2a\u6c99\u53d1\uff0c\u7ed9\u4f5c\u8005\u4e00\u70b9\u9f13\u52b1\uff5e"))),u().createElement(m.View,{className:On["prise-bottom"]},u().createElement(m.View,{className:On["prise-commentbox"],onClick:this.toInputFocus},"\u5185\u5bb9\u6709\u7528\u5417\uff1f\u7559\u4e0b\u4f60\u7684\u60f3\u6cd5")))),u().createElement(Sn,{ref:function(t){return e.inputMaskRef=t},articleId:this.props.articleId,commentSubmitNotify:this.commentSubmitNotify.bind(this),toLogin:this.toLogin.bind(this),hideNotify:this.hideNotify.bind(this),ubtTrace:this.props.ubtTrace,replyCommentId:this.replyCommentId,replyList:n,cwx:ut}),g&&u().createElement(m.View,{className:"".concat(On["comp-mask"]," ").concat(On["comp-comment-hint-mask"],"}"),onClick:this.hideAction,catchMove:!0,style:{}},u().createElement(m.View,{className:On["hint-mask-inner"],style:{}},y&&u().createElement(m.View,{className:"".concat(On.btn," ").concat(On["btn-delete"]),onClick:this.actionDeleteComment},"\u5220\u9664"),u().createElement(m.View,{className:"".concat(On.btn," ").concat(On["btn-cancel"]),onClick:this.hideAction},"\u53d6\u6d88"))))}}]),r}(c.Component);function Pn(e,t){return e.articleId==t.articleId}var An=(0,c.memo)(Ln,Pn);Ln.defaultProps={isHost:!1,articleId:"",clientAuth:"",ubtTrace:function(){},showVote:!1,commentTextStyle:{wrapperStyle:"",cemojiStyle:""},replyList:[],commentSubmitNotify:function(e){},praiseNotify:function(e,t){},deleteCommentNotify:function(e){},loginCallback:function(){},closeNotify:function(e){}};var Rn=_t}(),e.exports=s}()},62245:function(e,t,n){"use strict";var r=n(45023),o=n(27709),i=n.n(o),a=n(56884),c=n(32180)["window"],l=n(32180)["document"],s="";var u="https://m.ctrip.com",m=!1,d=function(e){if(!e||e<0||"number"!==typeof e)return"";var t=parseInt((e/3600).toString()),n=e%3600,r=parseInt((n/60).toString()),o=parseInt((n%60).toString()),i=function(e){return e>=10?e:"0"+e},a=t>1?i(t)+":":"";return a+i(r)+":"+i(o)},f=function(e){var t;return 0==e||void 0==e?"":(e>=1e7?(e=(e/1e7).toFixed(1),t=e+"kw"):e>=1e4?(e=(e/1e4).toFixed(1),t=e+"w"):t=e,t)},p=function(e,t){null===e||void 0===e||e()},g=function(e,t,n){var r="";if(null!==n&&void 0!==n&&n.startsWith("http")){var i=decodeURIComponent(n);i=encodeURIComponent(i+"".concat(i.indexOf("?")>-1?"?":"&","ref_source=").concat(T()));var a={url:i,needLogin:!1,isNavigate:!0};r="/cwx/component/cwebview/cwebview?data="+JSON.stringify(a)}else r=n;o.cwx.navigateTo({url:r||""})},h=function(){o.cwx.navigateBack()},v=function(e,t,n){var r=!1;return e&&e.data&&e.data.ResponseStatus&&"success"===e.data.ResponseStatus.Ack.toLowerCase()?r=!0:e&&e.data&&e.data.ResponseStatus&&"failure"===e.data.ResponseStatus.Ack.toLowerCase()&&"MobileRequestFilterException"==e.data.ResponseStatus.Errors[0].ErrorCode&&(n=!1),void 0==n&&(n=!1),!r&&n&&i().showToast({title:"\u8bf7\u6c42\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5~",icon:"none"}),r},y=function(e){function t(){"undefined"===typeof c["__wakeup"]&&(c["__wakeup"]=[]),c["__wakeup"].push({url:e.url?e.url:"",isdown:e.IsDownload})}e||(e={}),void 0!=e.url&&(void 0==e.IsDownload&&(e.IsDownload=!0),void 0==e.isClick&&(e.isClick=!0),t())},b=function(e){var t=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},n=function(e,n){n=n||{};for(var r=n.key||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o={},i=0;i<r.length;i++)o[r[i]]=i;var a=[],c=0;while(c<e.length){var l=o[e[c++]],s=o[e[c++]],u=o[e[c++]],m=o[e[c++]];a.push(l<<2|s>>4),64!=u&&a.push((15&s)<<4|u>>2),64!=m&&a.push((3&u)<<6|m)}var d=n.charCodeArray?a:t(a);return d};return decodeURIComponent(escape(n(e)))},I=function(e){function t(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}var n,r,o,i,a,c,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",m=0;e=t(e);while(m<e.length)n=e.charCodeAt(m++),r=e.charCodeAt(m++),o=e.charCodeAt(m++),i=n>>2,a=(3&n)<<4|r>>4,c=(15&r)<<2|o>>6,l=63&o,isNaN(r)?c=l=64:isNaN(o)&&(l=64),u=u+s.charAt(i)+s.charAt(a)+s.charAt(c)+s.charAt(l);return u},w=function(e,t){var n=e||["CustomList","WeixinFriend","WeixinCircle","SinaWeibo","QQ","QQZone","SMS","Email","Copy","OSMore"],o=t,i=[];return-1<n.indexOf("CustomList")&&i.push((0,r.Z)({shareType:"CustomList",customIcon:o.customIcon,customLink:o.customLink,customTitle:"\u5206\u4eab\u753b\u62a5",customType:"custom"},"shareType","CustomList")),-1<n.indexOf("WeixinFriend")&&i.push({shareType:"WeixinFriend",imageUrl:o.picUrl||o.miniPicUrl||"",title:o.title||"",text:o.weixinContent||"",linkUrl:o.shareUrl,miniProgramPath:o.miniProgramPath||"",miniProgramID:o.miniProgramID||""}),-1<n.indexOf("WeixinCircle")&&i.push({shareType:"WeixinCircle",imageUrl:o.picUrl||"",title:o.title,text:o.weixinCircleContent||o.weixinContent||"",linkUrl:o.shareUrl}),-1<n.indexOf("SinaWeibo")&&i.push({shareType:"SinaWeibo",imageUrl:o.picUrl,title:o.title||"",text:o.weixinContent||"",linkUrl:o.shareUrl}),-1<n.indexOf("QQ")&&i.push({shareType:"QQ",imageUrl:o.picUrl||"",title:o.title,text:o.weixinContent||"",linkUrl:o.shareUrl}),-1<n.indexOf("QQZone")&&i.push({shareType:"QQZone",imageUrl:o.picUrl,title:o.title||"",text:o.weixinContent||"",linkUrl:o.shareUrl}),-1<n.indexOf("SMS")&&i.push({shareType:"SMS",imageUrl:o.picUrl||"",title:o.title,text:o.weixinContent||"",linkUrl:o.shareUrl}),-1<n.indexOf("Email")&&i.push({shareType:"Email",imageUrl:o.picUrl||"",title:o.title,text:o.weixinContent||"",linkUrl:o.shareUrl}),-1<n.indexOf("Copy")&&i.push({shareType:"Copy",imageUrl:o.picUrl||"",title:o.title,text:o.weixinContent||"",linkUrl:o.shareUrl}),-1<n.indexOf("OSMore")&&i.push({shareType:"OSMore",imageUrl:o.picUrl||"",title:o.title,text:o.weixinContent||"",linkUrl:o.shareUrl}),-1<n.indexOf("IM")&&i.push({shareType:"IM",imageUrl:o.picUrl||"",title:o.title,text:o.weixinContent||"",linkUrl:o.shareAppUrl||o.shareUrl}),-1<n.indexOf("IMList")&&i.push({shareType:"IMList",imageUrl:o.picUrl||"",title:o.title,text:o.weixinContent||"",linkUrl:o.shareAppUrl||o.shareUrl}),i},C=function(e,t,n,r){"undefined"===typeof WeixinJSBridge?l.addEventListener("WeixinJSBridgeReady",(function(){_(e,t,n,r)}),!1):_(e,t,n,r)},_=function(e,t,n,r){"undefined"!==typeof c&&s.weixinReady((function(o){var i={title:e,desc:t,href:n,icon:r};o.share(i).done((function(){})).fail((function(){}))}))};function x(){var e;return e="uat"===a.__global.env.toLowerCase()?m?"http://a.uat.qa.nt.ctripcorp.com/webapp/you/tripshoot/paipai/":"https://m.uat.qa.nt.ctripcorp.com/webapp/you/tripshoot/paipai/":"https://m.ctrip.com/webapp/you/tripshoot/paipai/",e}function E(){var e;return e="uat"===a.__global.env.toLowerCase()?m?"http://a.uat.qa.nt.ctripcorp.com/webapp/you/":"http://m.uat.qa.nt.ctripcorp.com/webapp/you/livestream/":"https://m.ctrip.com/webapp/you/livestream/",e}var T=function(){return"wx"};function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"navigateTo";if(null!==e&&void 0!==e&&e.url){var n=decodeURIComponent(e.url);e.url=encodeURIComponent(n+"".concat(n.indexOf("?")>-1?"?":"&","ref_source=").concat(T()))}console.log("jumpToWebview",JSON.stringify(e));var r="/cwx/component/cwebview/cwebview";r="/pages/ugc/lvpai/webview/webview";var o="".concat(r,"?data=").concat(JSON.stringify(e));i()[t]({url:o})}function k(e){var t=new Date(e),n=1900+t.getYear(),r="0"+(t.getMonth()+1),o="0"+t.getDate();return n+"-"+r.substring(r.length-2,r.length)+"-"+o.substring(o.length-2,o.length)}var N=function(e,t,n){if(e&&t){var r="",i=L(n),a=A(),c=o.cwx.user.auth,l=I("auth-ctrip:".concat(c)),s=encodeURIComponent("Nephele ".concat(i,"/").concat(a,"/").concat(t,"/").concat(l));return r=-1!=e.indexOf("?")?"".concat(e,"&auth=").concat(s):"".concat(e,"?auth=").concat(s),console.log(r,"\u89c6\u9891\u94fe\u63a5"),r}},O=function(e){var t=L(e.userTag),n=A(),r=I("cookie-"+e.userType+":"+e.cookieName);return encodeURIComponent("Nephele "+t+"/"+n+"/"+e.sourceType+"/"+r)},L=function(e){var t=null!==e&&void 0!==e?e:"";return t=t.replace(/[^a-zA-Z\d]/g,""),t.length<32&&(t=t.padEnd(32,"0")),t.substring(0,32)},P=function(e){return e<10?"0"+e:e},A=function(){var e=new Date;return""+(e.getYear()+1900)+P(e.getMonth()+1)+P(e.getDate())+P(e.getHours())+P(e.getMinutes())};function R(e,t,n,r,o){var i,a="";if(r=r||"C",o=o||"Q90",i="_"+r+"_"+t+"_"+n+"_"+o,!e&&"string"!==typeof e)return"";var c=e.split("."),l=c.pop(),s=/gif/i;if(s.test(l))a=e;else{var u=e.split("_").length-1;if(u>1){var m=e.split("_");a=m[0]+i+"."+l}else a=c.join("."),a+=i+"."+l}return a}t["Z"]={formateNum:f,formatVideoTime:d,checkResponseAck:v,commonJump:g,API_HOST:u,fileterData:w,base64Encode:I,base64Decode:b,checkRealName:p,WeixinTwiceShare:C,goBack:h,openCtripUrl:y,newUrlPrefix:x,urlCommonPrefix:E,formatPic:R,generatePreviewAuth:O,appendVideoAuth:N,jumpToWebview:S,formateData:k,getPlatForm:T}},39074:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(27709);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[].concat(r.XUA.isMini()?[{name:"GsMiniPlantform",value:"wechatMiniapp"}]:[]).concat([{name:"tecode",value:"h5"}]);return(0,r.request)({url:e,param:t,extentions:n})}},99466:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(27709),o={fat:"http://m.fat325.qa.nt.ctripcorp.com/",uat:"https://m.uat.qa.nt.ctripcorp.com/",dev:"https://m.uat.qa.nt.ctripcorp.com/",prd:"https://m.ctrip.com/",prod:"https://m.ctrip.com/",battle:"https://m.ctrip.com/"},i=function(){var e;return o[null===r.XENV||void 0===r.XENV||null===(e=r.XENV.getDevEnv())||void 0===e?void 0:e.toLowerCase()]}},57301:function(e,t,n){"use strict";n.d(t,{bg:function(){return o},x4:function(){return i}});var r=n(27709),o=function(){return r.cwx.user.isLogin()},i=function(e){return r.cwx.user.login({callback:function(t){var n,r;(0==(null===t||void 0===t?void 0:t.ReturnCode)||null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.UserName||null!==t&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.UserID)&&(null===e||void 0===e||e())}})}},641:function(e,t,n){"use strict";n.d(t,{N0:function(){return a},IX:function(){return c},oO:function(){return l},L7:function(){return s},Nc:function(){return u},di:function(){return m},eW:function(){return d},bn:function(){return f},uK:function(){return p},Dt:function(){return g},Tt:function(){return h}});var r,o=n(27709),i=n.n(o),a=function(){return!1},c=function(){return!1},l=function(){return!1},s=function(){return!1},u=function(){return!1},m=function(){return!0},d=function(){return!!(m()||u()||s()||c())},f=i().getSystemInfoSync().windowWidth,p=i().getSystemInfoSync().windowHeight;var g=function(){return!!a()&&"android"===r.Platform.OS},h=function(){if(a())return"ios"===r.Platform.OS;var e=i().getSystemInfoSync(),t=e.platform;return"iOS"===t}}}]);
//# sourceMappingURL=taroCommon.js.map