"use strict";require("../taroCommon"),(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[3911],{20263:function(e,t,i){var o,n=i(32180),l=i(79301),s=i(95308),a=i(57042),r=i(24460),c=i(81876),d=i(21867),u=i(86066),v=i(45023),m=i(90201),p=i(27709),h=i.n(p),g=i(56884),f=i(65542),y=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(e){var o;return(0,a.Z)(this,i),o=t.call(this,e),(0,p.initExposure)({threshold:.1,exposeTime:500,autoExpose:!0},(0,c.Z)(o)),o}return(0,r.Z)(i)}(f.Z);o=y,(0,v.Z)(y,"refreshExposureAction",(function(){(0,p.refreshExposure)(o)}));var b={DEFAULT:0,ARTICLE:1,COMMENT:5,TRAVEL:6,ASK:7,LIVE:8,ALBUM:10,HOTELCOMMENT:11},x={Single:0,Double:1},w={ALL:0,ARTICLEVIDEO:1,ARTICLEPHOTO:3,COMMENT:12,TRAVEL:4,ASK:6,LIVE:2,ALBUM:10,HOTELCOMMENT:11,POICOMMENT:5},T=i(641),_=i(62245),C=i(39074),I=function(e,t,i,o,n){(0,C.Z)("20725/json/searchMyMixList",e,o,n).then((function(e){t(e)})).catch((function(e){null===i||void 0===i||i(e)}))};function L(e,t,i){(0,C.Z)("20725/json/action",e).then((function(e){t(e)})).catch((function(e){null===i||void 0===i||i(e)}))}var N,k,j=function(e,t,i){(0,C.Z)("16486/json/getUserPage",e).then((function(e){t(e)})).catch((function(e){null===i||void 0===i||i(e)}))},S=function(e,t,i){(0,C.Z)("16486/json/getPrivateMessageEntry",e).then((function(e){t(e)})).catch((function(e){null===i||void 0===i||i(e)}))},B=function(e,t,i){(0,C.Z)("14045/json/attention",e).then((function(e){t(e)})).catch((function(e){null===i||void 0===i||i(e)}))},E=function(e,t,i){(0,C.Z)("10356/json/DeleteFriendForApp",e).then((function(e){t(e)})).catch((function(e){null===i||void 0===i||i(e)}))},V=function(e,t,i){(0,C.Z)("10356/json/getCheckGSUserInfo",e).then((function(e){t(e)})).catch((function(e){null===i||void 0===i||i(e)}))},U=function(e,t,i){(0,C.Z)("14045/json/getStarRecProducts",e).then((function(e){t(e)})).catch((function(e){null===i||void 0===i||i(e)}))},Z=function(){},D=i(298),M=function(e,t,i){i.ubtTrace(e,t)},A=function(e,t){},O=(0,r.Z)((function e(){(0,a.Z)(this,e)}));N=O,(0,v.Z)(O,"ctx",null),(0,v.Z)(O,"params",{}),(0,v.Z)(O,"setParams",(function(e){N.params=e})),(0,v.Z)(O,"setCtx",(function(e){N.ctx=e})),(0,v.Z)(O,"doDevLog",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(e,(0,D.Z)((0,D.Z)({actionType:"trace",sourceFrom:"taro_page"},N.params),t),N.ctx)})),(0,v.Z)(O,"doLog",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(e,(0,D.Z)((0,D.Z)({actionType:"trace",sourceFrom:"taro_page"},N.params),t),N.ctx)})),(0,v.Z)(O,"entryExpo",(function(e){N.doLog("o_gs_tripshoot_myhome_type",e)})),(0,v.Z)(O,"moreClick",(function(e){N.doLog("c_gs_tripshoot_myhome_moreclick",(0,D.Z)({actionType:"trace"},e))})),(0,v.Z)(O,"moreTrace",(function(e){N.doLog("c_gs_tripshoot_myhome_more",e)})),(0,v.Z)(O,"pictureClick",(function(e){N.doLog("c_gs_tripshoot_myhome_picture",e)})),(0,v.Z)(O,"nameClick",(function(e){N.doLog("c_gs_tripshoot_myhome_name",e)})),(0,v.Z)(O,"vExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_drawer_vapprove",e)})),(0,v.Z)(O,"levelIconClick",(function(e){N.doLog("c_gs_tripshoot_myhome_levelIcon",e)})),(0,v.Z)(O,"photoliveClick",(function(e){N.doLog("c_gs_tripshoot_myhome_photolive",e)})),(0,v.Z)(O,"photoClick",(function(e){N.doLog("c_gs_tripshoot_myhome_photo",e)})),(0,v.Z)(O,"chatExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_chat",e)})),(0,v.Z)(O,"chatClick",(function(e){N.doLog("c_gs_tripshoot_myhome_chat",e)})),(0,v.Z)(O,"fansListClick",(function(e){N.doLog("c_gs_tripshoot_myhome_fans_list",e)})),(0,v.Z)(O,"followListClick",(function(e){N.doLog("c_gs_tripshoot_myhome_follow_list",e)})),(0,v.Z)(O,"followClick",(function(e){N.doLog("c_gs_tripshoot_myhome_follow",e)})),(0,v.Z)(O,"followExpo",(function(e){N.doLog("o_gs_tripshoot_myhome_follow",e)})),(0,v.Z)(O,"identityExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_identitytag",e)})),(0,v.Z)(O,"identityeClick",(function(e,t){N.doLog("c_gs_tripshoot_myhome_identityLabel",t)})),(0,v.Z)(O,"drawerExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_drawer",e)})),(0,v.Z)(O,"drawerClick",(function(e){N.doLog("c_gs_tripshoot_myhome_drawer",e)})),(0,v.Z)(O,"mylikedClick",(function(e){N.doLog("c_gs_tripshoot_myhome_myliked",e)})),(0,v.Z)(O,"mylikedExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_myliked",e)})),(0,v.Z)(O,"userTagExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_userTag",e)})),(0,v.Z)(O,"userTagClick",(function(e){N.doLog("c_gs_tripshoot_myhome_userTag",e)})),(0,v.Z)(O,"drawerClick",(function(e,t){N.doLog(e,t)})),(0,v.Z)(O,"entryClick",(function(e,t){N.doLog(e,t)})),(0,v.Z)(O,"entryExpose",(function(e,t){N.doLog(e,t)})),(0,v.Z)(O,"publishClickItem",(function(e,t){N.doLog(e,t)})),(0,v.Z)(O,"publishCardClose",(function(e){N.doLog("c_gs_tripshoot_myhome_publishcard_close",e)})),(0,v.Z)(O,"publishCardExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_publishcard",e)})),(0,v.Z)(O,"publishCardClick",(function(e){N.doLog("c_gs_tripshoot_myhome_publishcard",e)})),(0,v.Z)(O,"signatureClick",(function(e){N.doLog("c_gs_tripshoot_myhome_signature",e)})),(0,v.Z)(O,"ipExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_mydistrict",e)})),(0,v.Z)(O,"genderExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_mysex",e)})),(0,v.Z)(O,"briefExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_signature",e)})),(0,v.Z)(O,"getCardType",(function(e,t){var i="";switch(parseInt(t)){case null===b||void 0===b?void 0:b.ARTICLE:i=e.hasVideo?"tripVideo":"tripPhoto";break;case null===b||void 0===b?void 0:b.COMMENT:i=e.hasVideo?"reviewVideo":"reviewPhoto";break;case null===b||void 0===b?void 0:b.HOTELCOMMENT:i="hotelReview";break;case null===b||void 0===b?void 0:b.TRAVEL:i="travel";break;case null===b||void 0===b?void 0:b.ASK:i=1==e.subType?"ask":"answer";break;case null===b||void 0===b?void 0:b.LIVE:switch(e.liveVideo.liveStatus){case 0:i="living";break;case 6:i="liveReview";break;case 12:i="livePre";break}break;case null===b||void 0===b?void 0:b.ALBUM:i="album";break}return i})),(0,v.Z)(O,"getCardId",(function(e,t){var i,o="";switch(parseInt(t)){case null===b||void 0===b?void 0:b.ARTICLE:o=e.articleId;break;case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:o=e.commentId;break;case null===b||void 0===b?void 0:b.TRAVEL:o=e.travelId;break;case null===b||void 0===b?void 0:b.ASK:o=e.askId;break;case null===b||void 0===b?void 0:b.LIVE:o=null===e||void 0===e||null===(i=e.liveVideo)||void 0===i?void 0:i.liveId;break;case null===b||void 0===b?void 0:b.ALBUM:o=null===e||void 0===e?void 0:e.albumId;break}return o})),(0,v.Z)(O,"getTabName",(function(e){var t="";switch(parseInt(e||0)){case null===w||void 0===w?void 0:w.ALL:t="all";break;case null===w||void 0===w?void 0:w.ARTICLEPHOTO:t="picture";break;case null===w||void 0===w?void 0:w.ARTICLEVIDEO:t="video";break;case null===w||void 0===w?void 0:w.COMMENT:case null===w||void 0===w?void 0:w.POICOMMENT:case null===w||void 0===w?void 0:w.HOTELCOMMENT:t="review";break;case null===w||void 0===w?void 0:w.TRAVEL:t="travel";break;case null===w||void 0===w?void 0:w.ASK:t="ask";break;case null===w||void 0===w?void 0:w.LIVE:t="live";break;case null===w||void 0===w?void 0:w.ALBUM:t="album";break}return t})),(0,v.Z)(O,"cardExpose",(function(e){var t={cardIndex:e.index+1,cardType:N.getCardType(e.item,e.contentType),id:N.getCardId(e.item,e.contentType),tab:N.getTabName(e.tab)};N.doLog("o_gs_tripshoot_myhome_contentCard",t)})),(0,v.Z)(O,"cardLikeClick",(function(e){var t={clickType:"like"==e.type?0:1,cardType:N.getCardType(e.item,e.contentType),cardID:N.getCardId(e.item,e.contentType)};N.doLog("c_gs_tripshoot_myhome_tripshoot_like",t)})),(0,v.Z)(O,"gotoAlbumClick",(function(e){N.doLog("c_gs_tripshoot_myhome_collectionCard",e)})),(0,v.Z)(O,"gotoDetailClick",(function(e){var t={clickIndex:e.index+1,cardType:N.getCardType(e.item,e.contentType),id:N.getCardId(e.item,e.contentType),picStatus:e.picStatus};N.doLog("c_gs_tripshoot_myhome_contentCard",t)})),(0,v.Z)(O,"poiClick",(function(e){var t={cardType:N.getCardType(e.item,e.contentType),cardID:N.getCardId(e.item,e.contentType)};N.doLog("c_gs_tripshoot_myhome_contentCard_address",t)})),(0,v.Z)(O,"albumMoreClick",(function(e){var t={cardID:N.getCardId(e.item,e.contentType)};N.doLog("c_gs_tripshoot_myhome_collectionCard_more",t)})),(0,v.Z)(O,"cardMoreClick",(function(e){var t={cardType:N.getCardType(e.item,e.contentType),cardID:N.getCardId(e.item,e.contentType)};N.doLog("c_gs_tripshoot_myhome_tripshoot_more",t)})),(0,v.Z)(O,"cardCommentClick",(function(e){var t={cardType:N.getCardType(e.item,e.contentType),cardID:N.getCardId(e.item,e.contentType)};N.doLog("c_gs_tripshoot_myhome_contentCard_comment",t)})),(0,v.Z)(O,"cardShareClick",(function(e){var t={cardType:N.getCardType(e.item,e.contentType),cardID:N.getCardId(e.item,e.contentType)};N.doLog("c_gs_tripshoot_myhome_contentCard_share",t)})),(0,v.Z)(O,"cardTopClick",(function(e){var t={cardType:N.getCardType(e.item,e.contentType),cardID:N.getCardId(e.item,e.contentType),clickType:0};N.doLog("c_gs_tripshoot_myhome_up",t)})),(0,v.Z)(O,"cardEditClick",(function(e){var t={cardType:N.getCardType(e.item,e.contentType),cardID:N.getCardId(e.item,e.contentType)};N.doLog("c_gs_tripshoot_myhome_tripshoot_edit",t)})),(0,v.Z)(O,"addAlbumExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_tripshoot_addCollention",e)})),(0,v.Z)(O,"addAlbumClick",(function(e){N.doLog("c_gs_tripshoot_myhome_tripshoot_addCollention",e)})),(0,v.Z)(O,"cardDeleteClick",(function(e){var t={cardType:N.getCardType(e.item,e.contentType),cardID:N.getCardId(e.item,e.contentType)};N.doLog("c_gs_tripshoot_myhome_tripshoot_delete",t)})),(0,v.Z)(O,"doneAddAlbumClick",(function(e){N.doLog("c_gs_tripshoot_myhome_tripshoot_addCollentionDone",e)})),(0,v.Z)(O,"changeStyleExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_styleChange",e)})),(0,v.Z)(O,"changeStyleClick",(function(e){N.doLog("c_gs_tripshoot_myhome_styleChange",e)})),(0,v.Z)(O,"subtabClick",(function(e){N.doLog("c_gs_tripshoot_myhome_contentTab",e)})),(0,v.Z)(O,"draftGet",(function(e){N.doLog("o_gs_tripshoot_myhome_draft",e)})),(0,v.Z)(O,"productClick",(function(e){N.doLog("c_gs_tripshoot_myhome_product",e)})),(0,v.Z)(O,"productEdit",(function(e){N.doLog("c_gs_tripshoot_myhome_product_edit",e)})),(0,v.Z)(O,"publishClick",(function(e){N.doLog("c_gs_tripshoot_myhome_publishbutton",e)})),(0,v.Z)(O,"publishExpose",(function(e){N.doLog("o_gs_tripshoot_myhome_publishbutton",e)})),(0,v.Z)(O,"albumEmptyExpo",(function(e){N.doLog("o_gs_tripshoot_myhome_collectionNew",e)})),(0,v.Z)(O,"albumEmptyClick",(function(e){N.doLog("c_gs_tripshoot_myhome_collectionNew",e)})),(0,v.Z)(O,"contentTabClick",(function(e){N.doLog("c_gs_tripshoot_myhome_tab_content",e)})),(0,v.Z)(O,"productTabClick",(function(e){N.doLog("c_gs_tripshoot_myhome_tab_goods",e)})),(0,v.Z)(O,"gotoAlbumTipsClick",(function(e){N.doLog("c_gs_tripshoot_myhome_collectionGuide",e)})),(0,v.Z)(O,"commentOptionsClick",(function(e){N.doLog("c_gs_tripshoot_myhome_reviewTab",e)})),(0,v.Z)(O,"traceMedalLog",(function(e){N.doLog("o_gs_tripshoot_myhome_floatingPage",e)})),(0,v.Z)(O,"customizerFloorItemClick",(function(e){N.doLog("c_gs_tripshoot_myhome_B_review",e)})),(0,v.Z)(O,"clickCustomizer",(function(e){N.doLog("c_gs_tripshoot_myhome_B_book",e)})),(0,v.Z)(O,"clickCustomizerOnline",(function(e){N.doLog("c_gs_tripshoot_myhome_B_IM",e)})),(0,v.Z)(O,"clickCustomizerPhone",(function(e){N.doLog("c_gs_tripshoot_myhome_B_phone",e)})),(0,v.Z)(O,"askPostClick",(function(e){N.doLog("c_ask_post",e)})),(0,v.Z)(O,"mixListIsFromCache",(function(e){N.doDevLog("o_gs_tripshoot_user_isfromCache",e)}));var F,P,R=T.bn,H=function(e){var t=0,i=null===e||void 0===e?void 0:e.toLowerCase();return t="video"==i?1:"pic"==i?3:"album"==i?10:"review"==i?12:"poireview"==i?5:"hotelreview"==i?11:"ask"==i?6:"travel"==i?4:"live"==i?2:0,t},z=function(e){var t,i,o=G(e),n=W(e),l="",s=0,a=31,r=0,c=!1;switch(parseInt(e.type)){case null===b||void 0===b?void 0:b.ARTICLE:l=o.articleTitle;break;case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:l=null===o||void 0===o?void 0:o.content,c=!(null!==n&&void 0!==n&&n.dynamicUrl),a+=28;break;case null===b||void 0===b?void 0:b.TRAVEL:c=!(null!==n&&void 0!==n&&n.dynamicUrl),l=null===o||void 0===o?void 0:o.title,a+=26;break;case null===b||void 0===b?void 0:b.ASK:l=null===o||void 0===o?void 0:o.title,a+=25,r=q(null===o||void 0===o?void 0:o.content);break;case null===b||void 0===b?void 0:b.LIVE:l=null===o||void 0===o||null===(t=o.liveVideo)||void 0===t?void 0:t.title,a=0;break;case null===b||void 0===b?void 0:b.ALBUM:l=null===o||void 0===o?void 0:o.name,a+=32;break}null!==n&&void 0!==n&&n.width||(n.width=0),null!==n&&void 0!==n&&n.height||(n.height=1);var d=(null===(i=K(n))||void 0===i?void 0:i.imageHeight)||0,u=J(l,c);return s=d+u+a+r,s},W=function(e){var t,i,o,n,l,s,a,r=G(e),c={};switch(parseInt(e.type)){case null===b||void 0===b?void 0:b.ARTICLE:c=(null===r||void 0===r||null===(t=r.images)||void 0===t?void 0:t[0])||{};break;case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:var d;if(null!==r&&void 0!==r&&null!==(i=r.imageList)&&void 0!==i&&i[0])c=null===r||void 0===r||null===(d=r.imageList)||void 0===d?void 0:d[0];else if(null!==r&&void 0!==r&&null!==(o=r.video)&&void 0!==o&&o.coverImageUrl){var u,v,m;c.dynamicUrl=null===r||void 0===r||null===(u=r.video)||void 0===u?void 0:u.coverImageUrl,c.width=null===r||void 0===r||null===(v=r.video)||void 0===v?void 0:v.width,c.height=null===r||void 0===r||null===(m=r.video)||void 0===m?void 0:m.height}break;case null===b||void 0===b?void 0:b.TRAVEL:c=null===r||void 0===r||null===(n=r.images)||void 0===n?void 0:n[0];break;case null===b||void 0===b?void 0:b.ASK:c={};break;case null===b||void 0===b?void 0:b.LIVE:c=null===r||void 0===r||null===(l=r.liveVideo)||void 0===l?void 0:l.coverImage;break;case null===b||void 0===b?void 0:b.ALBUM:c.dynamicUrl=null===r||void 0===r?void 0:r.coverImageUrl,c.width=(R-32-10)/2,c.height=c.width;break}return c=c||{},null!==(s=c)&&void 0!==s&&s.width||(c.width=0),null!==(a=c)&&void 0!==a&&a.height||(c.height=1),c||{}},G=function(e){var t={};switch(parseInt(e.type)){case null===b||void 0===b?void 0:b.ARTICLE:t=null===e||void 0===e?void 0:e.article;break;case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:t=null===e||void 0===e?void 0:e.comment;break;case null===b||void 0===b?void 0:b.TRAVEL:t=null===e||void 0===e?void 0:e.travel;break;case null===b||void 0===b?void 0:b.ASK:t=null===e||void 0===e?void 0:e.ask;break;case null===b||void 0===b?void 0:b.LIVE:t=null===e||void 0===e?void 0:e.live;break;case null===b||void 0===b?void 0:b.ALBUM:t=null===e||void 0===e?void 0:e.album;break}return t},X=function(e){var t,i,o,n,l,s="",a=null===e||void 0===e?void 0:e.type;switch(parseInt(a)){case null===b||void 0===b?void 0:b.ARTICLE:s=null===e||void 0===e||null===(t=e.article)||void 0===t?void 0:t.articleId;break;case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:s=null===e||void 0===e||null===(i=e.commetn)||void 0===i?void 0:i.commentId;break;case null===b||void 0===b?void 0:b.TRAVEL:s=null===e||void 0===e||null===(o=e.travel)||void 0===o?void 0:o.travelId;break;case null===b||void 0===b?void 0:b.ASK:s=null===e||void 0===e?void 0:e.ask.askId;break;case null===b||void 0===b?void 0:b.LIVE:s=null===e||void 0===e||null===(n=e.live)||void 0===n||null===(n=n.liveVideo)||void 0===n?void 0:n.liveId;break;case null===b||void 0===b?void 0:b.ALBUM:s=null===e||void 0===e||null===(l=e.album)||void 0===l?void 0:l.albumId;break}return s},K=function(e){var t=0,i=0;return e.dynamicUrl?(t=(R-32-10)/2,i=(null===e||void 0===e?void 0:e.width)/(null===e||void 0===e?void 0:e.height)<.8?4*t/3:(null===e||void 0===e?void 0:e.width)/(null===e||void 0===e?void 0:e.height)>=.8&&(null===e||void 0===e?void 0:e.width)/(null===e||void 0===e?void 0:e.height)<=1.2?t:3*t/4,{imageWidth:t,imageHeight:i}):{imageWidth:0,imageHeight:0}},J=function(e,t){var i=Q(e,16,14,t),o=8+18*i;return o},q=function(e){var t=Q(e,32,13,!0),i=8+19*t+16;return i},Q=function(e,t,i,o){if(!e)return 0;var n=(R-24-8)/2-t,l=Math.ceil(n/i),s=null===e||void 0===e?void 0:e.match(/[^\x00-\xff]/g),a=(null===s||void 0===s?void 0:s.length)||0,r=((null===e||void 0===e?void 0:e.length)-a)/2+a,c=1;return o?(c=r>=2*l?3:r>=l?2:1,c):r>=l?2:1},Y=function(e,t,i,o,n,l){var s,a,r,c,d,u,v={};switch(parseInt(i)){case b.ARTICLE:v=null===e||void 0===e||null===(s=e.urls)||void 0===s?void 0:s.find((function(e){return"tripShoot2"==e.version})),e.hasVideo||(r=null===e||void 0===e?void 0:e.fastData);break;case null===b||void 0===b?void 0:b.COMMENT:var m,p,h=!1,g=!1,f={},y={},x=0;null===e||void 0===e||null===(m=e.pois)||void 0===m||m.map((function(e){var t;4!=e.poiType||h?4==e.poiType||g||(f=e,g=!0):(y=e,h=!0),!g&&h&&(f=y),x=(null===(t=f)||void 0===t?void 0:t.poiId)||0})),v=null===e||void 0===e||null===(p=e.urls)||void 0===p?void 0:p[0],v.wxUrl="/pages/gs/comment/detail?CommentId="+e.commentId+"&BusinessId="+e.resourceId+"&BusinessType="+e.resourceType+"&SightId="+(e.poiBusinessId||0)+"&POIId="+x;break;case null===b||void 0===b?void 0:b.HOTELCOMMENT:var w;v=null===e||void 0===e||null===(w=e.urls)||void 0===w?void 0:w[0];break;case null===b||void 0===b?void 0:b.TRAVEL:var C;v=null===e||void 0===e?void 0:e.url,v.appUrl=v.h5Url,-1!=(null===(C=v)||void 0===C||null===(C=C.h5Url)||void 0===C?void 0:C.indexOf("?"))?v.wxUrl=v.h5Url+"&fromMiniApp=1":v.wxUrl=v.h5Url+"?fromMiniApp=1";break;case null===b||void 0===b?void 0:b.ASK:v=e.url||{};break;case null===b||void 0===b?void 0:b.LIVE:v=(null===e||void 0===e||null===(a=e.liveVideo)||void 0===a?void 0:a.jumpUrl)||{};break;case null===b||void 0===b?void 0:b.ALBUM:v=null===e||void 0===e?void 0:e.url;break}if(parseInt(i)==b.ALBUM?O.gotoAlbumClick({id:null===e||void 0===e?void 0:e.albumId}):O.gotoDetailClick({item:e,index:t,contentType:i,picStatus:o}),T.N0())if(r){var I,L,N,j,S=[];if("LEFT"==l)S=null===(j=F)||void 0===j?void 0:j.leftFastImage;else if("RIGHT"==l){var B;S=null===(B=F)||void 0===B?void 0:B.rightFastImage}else S=n;null===(I=k)||void 0===I||I.callNativeWithCallback("Destination","fastOpenDetail",{param:JSON.stringify({fastData:r,jumpUrl:null===(L=v)||void 0===L?void 0:L.appUrl}),firstImageUrl:(null===(N=S)||void 0===N?void 0:N[t])||""},(function(e){}))}else{var E,V,U;_.Z.commonJump(null===(E=v)||void 0===E?void 0:E.h5Url,null===(V=v)||void 0===V?void 0:V.appUrl,null===(U=v)||void 0===U?void 0:U.wxUrl)}else _.Z.commonJump(null===(c=v)||void 0===c?void 0:c.h5Url,null===(d=v)||void 0===d?void 0:d.appUrl,null===(u=v)||void 0===u?void 0:u.wxUrl)},$=function(e,t,i,o){var n,l,s=0,a=[];switch(parseInt(t)){case b.ARTICLE:s=e.articleId,(null===(n=e.editUrl)||void 0===n?void 0:n.appUrl)||"";break;case b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:s=e.commentId,e.editUrl||"";break;case b.TRAVEL:s=e.travelId;break;case b.ASK:s=1==e.subType?e.askId:e.replyId;break;case b.LIVE:s=e.liveVideo&&e.liveVideo.liveId;break;case b.ALBUM:s=e.albumId,(null===(l=e.editUrl)||void 0===l?void 0:l.appUrl)||"";break}if(e.isShare&&a.push({name:"\u5206\u4eab",data:e,type:t,callback:function(){var i,o,n,l,s;O.cardShareClick({item:e,contentType:t});var a={picUrl:null===e||void 0===e||null===(i=e.shareInfo)||void 0===i?void 0:i.imageUrl,title:null===e||void 0===e||null===(o=e.shareInfo)||void 0===o?void 0:o.shareTitle,weixinContent:null===e||void 0===e||null===(n=e.shareInfo)||void 0===n?void 0:n.shareContent,shareUrl:null===e||void 0===e||null===(l=e.share)||void 0===l?void 0:l.h5Url,miniProgramPath:null===e||void 0===e||null===(s=e.share)||void 0===s?void 0:s.wxUrl,miniProgramID:"gh_36ada103ba97"};Z.customShare({dataList:_.Z.fileterData(["WeixinFriend","WeixinCircle","SinaWeibo","QQ","QQZone","SMS","Email","Copy","OSMore"],a),businessCode:""},(function(e){}))}}),e.canTop&&!e.isTop){var r={name:"\u7f6e\u9876",id:s,data:e};a.push(r)}if(e.canTop&&e.isTop){var c={name:"\u53d6\u6d88\u7f6e\u9876",id:s,data:e};a.push(c)}if(e.canEdit&&!e.isOrderLock){var d={name:t==b.ALBUM?"\u7f16\u8f91\u4f5c\u54c1\u96c6":"\u7f16\u8f91",id:s,data:e,type:t,index:i,column:o};a.push(d)}if(e.canAddAlbum){var u={name:"\u52a0\u5165\u4f5c\u54c1\u96c6",id:s,index:t,data:e};O.addAlbumExpose({id:s}),a.push(u)}if(e.canDelete&&!e.isOrderLock){var v={name:"\u5220\u9664",id:s,color:"#F63B2E",data:e};a.push(v)}return parseInt(t)==b.ALBUM?O.albumMoreClick({item:e,contentType:t}):O.cardMoreClick({item:e,contentType:t}),a},ee=function(e,t){var i,o="",n="",l=0,s=0,a=[];switch(null!==e&&void 0!==e&&e.isTop&&0!=(null===e||void 0===e||null===(i=e.liveVideo)||void 0===i?void 0:i.liveStatus)&&(o="https://pages.c-ctrip.com/livestream/ugcBook/topicon.png",s=15,l=28,a.push({tagIcon:o,width:l,height:s,tag:n,isTop:null===e||void 0===e?void 0:e.isTop})),parseInt(t)){case null===b||void 0===b?void 0:b.ARTICLE:1==(null===e||void 0===e?void 0:e.articleStatus)?(n="\u5f85\u5ba1\u6838",o="https://pages.c-ctrip.com/livestream/ugcBook/tocheck.png",s=15,l=46):3==(null===e||void 0===e?void 0:e.articleStatus)&&(n="\u5ba1\u6838\u672a\u901a\u8fc7",o="https://pages.c-ctrip.com/livestream/ugcBook/notchecked.png",s=15,l=66);break;case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:3==(null===e||void 0===e?void 0:e.publishStatus)&&(n="\u5f85\u5ba1\u6838",o="https://pages.c-ctrip.com/livestream/ugcBook/tocheck.png",s=15,l=46);break;case null===b||void 0===b?void 0:b.TRAVEL:0==(null===e||void 0===e?void 0:e.publishStatus)?(n="\u5f85\u5ba1\u6838",o="https://pages.c-ctrip.com/livestream/ugcBook/tocheck.png",s=15,l=46):3==(null===e||void 0===e?void 0:e.publishStatus)&&(n="\u5ba1\u6838\u672a\u901a\u8fc7",o="https://pages.c-ctrip.com/livestream/ugcBook/notchecked.png",s=15,l=66);break;case null===b||void 0===b?void 0:b.ASK:3==(null===e||void 0===e?void 0:e.publishStatus)&&(n="\u5f85\u5ba1\u6838",o="https://pages.c-ctrip.com/livestream/ugcBook/tocheck.png",s=15,l=46);break;case null===b||void 0===b?void 0:b.ALBUM:3==(null===e||void 0===e?void 0:e.publishStatus)&&(n="\u5ba1\u6838\u672a\u901a\u8fc7",o="https://pages.c-ctrip.com/livestream/tripshoot/publish_unpass.png",s=15,l=66);break;default:break}return n&&a.push({tagIcon:o,width:l,height:s,tag:n}),a},te=function(e,t){var i="font-size: 14px; line-height: 18px; color: #333; -webkit-box-orient: vertical; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;",o="height: 18px;vertical-align: text-bottom",n={text:"",wrapperStyle:i,cemojiStyle:o};return n.text=e,t&&(n.wrapperStyle=t.wrapperStyle,n.cemojiStyle=t.cemojiStyle),n},ie=function(e){},oe=function(e){for(var t=!1,i=0;i<Math.min(null===e||void 0===e?void 0:e.length,4);i++){var o=G(e[i]);if(o.isTop){t=!0;break}}return t},ne=function(e,t){var i,o,n,l,s,a=e.clientAuth,r=e.nickName,c=e.headPhoto,d=r;(null===t||void 0===t||null===(i=t.userUGC)||void 0===i?void 0:i.tripShootCount)>0&&(d+="\u5728\u643a\u7a0b\u793e\u533a\u53d1\u5e03\u4e86"+(null===t||void 0===t||null===(l=t.userUGC)||void 0===l?void 0:l.tripShootCount)+"\u7bc7\u7b14\u8bb0\uff0c");null!==t&&void 0!==t&&null!==(o=t.userBase)&&void 0!==o&&null!==(o=o.userFeatureList)&&void 0!==o&&null!==(o=o[0])&&void 0!==o&&o.featureName&&(d+="\u83b7\u5f97\u4e86"+(null===t||void 0===t||null===(s=t.userBase)||void 0===s||null===(s=s.userFeatureList)||void 0===s?void 0:s[0].featureName)+"\u7b49\u793e\u533a\u8363\u8a89\uff0c");e.isCurrentUser?d+="\u5feb\u6765\u770b\u770b\u5427~":d+="\u5feb\u6765\u770b\u770bTA\u7684\u4e2a\u4eba\u4e3b\u9875";var u={title:d,content:(null===(n=t.userBase)||void 0===n?void 0:n.memberBrief)||"\u4e00\u8d77\u5728\u643a\u7a0b\u793e\u533a\u5206\u4eab\u65c5\u884c\u6545\u4e8b",shareImg:c||"",shareUrl:_.Z.API_HOST+"/webapp/you/tripshoot/user/home?openapp=6&popup=close&isHideNavBar=YES&isShare=yes&clientAuth="+a,miniProgramPath:"/pages/ugc/user/index?clientAuth="+a,miniProgramID:"gh_36ada103ba97",customType:"custom",customIcon:"https://pages.c-ctrip.com/you/common/generate_share_page.png",customTitle:"\u5206\u4eab\u540d\u7247",customLink:_.Z.API_HOST+"/webapp/you/tripshoot/paipai/shareImage?isHideNavBar=YES&imageType=userInfoNew&styleType=1&souceFrom=userInfo&businessId="+a};return u},le=function(e,t,i){var o=0,n=e,l="like";switch(e.isLike&&(l="cancel_like"),parseInt(t)){case null===b||void 0===b?void 0:b.ARTICLE:o=e.articleId;break;case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:o=e.commentId;break;case null===b||void 0===b?void 0:b.TRAVEL:o=e.travelId;break}var s={action:l,targetId:o,targetType:t,targetSubType:5==t?"comment":""};L(s,(function(e){var t;null!==e&&void 0!==e&&null!==(t=e.result)&&void 0!==t&&t.result&&("like"==l?(n.likeCount=n.likeCount+1,n.isLike=!0):"cancel_like"==l&&(n.likeCount=n.likeCount-1,n.isLike=!1),null===i||void 0===i||i(n))}),(function(e){})),O.cardLikeClick({item:e,contentType:t})},se=function(e,t,i,o){var n={action:"delete",targetId:e,targetType:i};L(n,(function(e){var t,i;null!==e&&void 0!==e&&null!==(t=e.result)&&void 0!==t&&t.result?(h().showToast({title:"\u5220\u9664\u6210\u529f",icon:"none"}),null===o||void 0===o||o()):h().showToast({title:(null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.resultText)||"\u5220\u9664\u5931\u8d25",icon:"none"})}),(function(e){h().showToast({title:"\u5220\u9664\u5931\u8d25",icon:"none"})}))},ae=function(e,t,i,o,n,l){var s={action:n?"top":"cancel_top",targetId:e,targetType:i};i==b.ASK&&(s.targetSubType=o.subType.toString());var a=n?"\u7f6e\u9876\u6210\u529f":"\u53d6\u6d88\u7f6e\u9876\u6210\u529f";L(s,(function(e){var t,i;null!==e&&void 0!==e&&null!==(t=e.result)&&void 0!==t&&t.result?(h().showToast({title:a,icon:"none"}),null===l||void 0===l||l()):h().showToast({title:(null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.resultText)||(n?"\u7f6e\u9876\u5931\u8d25":"\u53d6\u6d88\u7f6e\u9876\u5931\u8d25"),icon:"none"})}),(function(e){h().showToast({title:n?"\u7f6e\u9876\u5931\u8d25":"\u53d6\u6d88\u7f6e\u9876\u5931\u8d25",icon:"none"})}))},re=function(e,t,i,o){var n,l,s;T.N0()||null===e||void 0===e||e.stopPropagation(),O.poiClick({item:i,contentType:o}),_.Z.commonJump((null===(n=t.poiExt)||void 0===n?void 0:n.h5Url)||"",(null===(l=t.poiExt)||void 0===l?void 0:l.appUrl)||"",null===(s=t.poiExt)||void 0===s?void 0:s.wxUrl)},ce=function(e,t,i){var o,n,l;T.N0()||null===e||void 0===e||e.stopPropagation(),O.cardCommentClick({item:t,contentType:i});var s=t.articleId,a=(null===t||void 0===t||null===(o=t.commentUrl)||void 0===o?void 0:o.h5Url)||"",r=(null===t||void 0===t||null===(n=t.commentUrl)||void 0===n?void 0:n.wxUrl)||(null===t||void 0===t||null===(l=t.commentUrl)||void 0===l?void 0:l.h5Url)+"&isMini=2",c="/rn_destination_video/main.js?CRNModuleName=destinationlive&CRNType=1&initialPage=CommentFloat&commentPageCode=tripshoot_comment&articleId="+s;_.Z.commonJump(a,c,r)},de=function(e,t){F=e;var i=null===t||void 0===t?void 0:t.map((function(i,o){var n,l=14*(null===i||void 0===i?void 0:i.name.length)+28;(null===i||void 0===i||null===(n=i.subTabList)||void 0===n?void 0:n.length)>2&&(l+=14);for(var s=0,a=0;a<o;a++){var r,c;s+=14*(null===t||void 0===t||null===(r=t[a])||void 0===r||null===(r=r.name)||void 0===r?void 0:r.length)+28+8,(null===t||void 0===t||null===(c=t[a])||void 0===c||null===(c=c.subTabList)||void 0===c?void 0:c.length)>2&&(s+=14)}return e.totalWidth+=l+8,Object.assign(i,{itemWidth:l,offset:s})}));return i},ue=function(e){var t,i=null===(t=parseFloat(e))||void 0===t?void 0:t.toFixed(1),o="",n="";return i<=1.9?(o="https://pages.c-ctrip.com/livestream/group/group_comment_score_1.png",n="\u4e0d\u4f73"):i<=2.9?(o="https://pages.c-ctrip.com/livestream/group/group_comment_score_2.png",n="\u4e00\u822c"):i<=3.9?(o="https://pages.c-ctrip.com/livestream/group/group_comment_score_3.png",n="\u4e0d\u9519"):i<=4.4?(o="https://pages.c-ctrip.com/livestream/group/group_comment_score_4.png",n="\u6ee1\u610f"):i<=5&&(o="https://pages.c-ctrip.com/livestream/group/group_comment_score_5.png",n="\u8d85\u68d2"),{score:i,scoreImg:o,scoreTag:n}},ve=function(e,t,i){var o={imageHostRegExp:null,testImageHostRegExp:null,config:[{width:640,height:0,quality:"80",limit:500},{width:640,height:0,quality:"50",limit:350},{width:460,height:0,quality:"50",limit:250},{width:320,height:0,quality:"50",limit:0}]};F=e;var n,l,s,a,r="";t.type==b.ARTICLE&&(r||(r=null===(n=(0,p.dynamicImageUrl)({imageUrl:null===t||void 0===t||null===(l=t.article)||void 0===l||null===(l=l.images)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.dynamicUrl,height:2*(null===t||void 0===t||null===(s=t.cardImageSize)||void 0===s?void 0:s.imageHeight),width:2*(null===t||void 0===t||null===(a=t.cardImageSize)||void 0===a?void 0:a.imageWidth),config:o,ext:{pageId:""}},(function(){})))||void 0===n?void 0:n.dynamicUrl));return r},me=function(e,t){var i=0;return e>1e4?(e/=1e4,i=t?e.toFixed(t)+"w":e.toFixed(1)+"w"):i=e,i},pe={handleSubtype:H,getCardDataItem:G,calcCardHeight:z,calcImageSize:K,getCardType:ie,getImageData:W,getLayderData:$,checkHasTop:oe,handleTagData:ee,assembleEmojiObj:te,initShareData:ne,gotoDetail:Y,doAction:le,deleteArticle:se,setTopArticle:ae,gotoPoiHome:re,gotoComment:ce,handleTabWidth:de,getScoreObj:ue,getCardId:X,hanldeFastImage:ve,formatWatchNum:me},he=i(90129),ge=i(92954),fe=i.n(ge),ye=fe().getApp(),be=ye.globalData.statusBarHeight,xe=ye.globalData.titleBarHeight,we=function(){return be},Te=function(){return xe},_e=i(99466),Ce=i(2269),Ie=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,a.Z)(this,i),t.apply(this,arguments)}return(0,r.Z)(i,[{key:"render",value:function(){return(0,Ce.jsx)(p.View,(0,D.Z)((0,D.Z)({},this.props),{},{children:this.props.children}))}}]),i}(m.Component);var Le=function(e){var t=e.headerInfo,i=e.followStatus,o=e.handerFollow;if(!t.isOfficialUser&&!t.isCurrentUser){var n={text:"\u5173\u6ce8",url:"https://pages.c-ctrip.com/you/livestream/lvpai_follow.png",className:"",iconClassName:""};return 1==i?n={text:"\u5df2\u5173\u6ce8",url:""}:2==i?n={text:"\u4e92\u76f8\u5173\u6ce8",className:"header_follow_both",iconClassName:"header_both_icon"}:3==i&&(n={text:"\u5df2\u62c9\u9ed1",url:""}),(0,Ce.jsxs)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],className:"header_follow_btn ".concat(n.className),colors:i?["#ccc","#ccc"]:["#2dccc1","#0086f6"],children:[n.url&&(0,Ce.jsx)(p.Image,{src:n.url,className:"header_follow_icon ".concat(n.iconClassName)}),(0,Ce.jsx)(p.Text,{className:"header_follow_text",children:n.text}),(0,Ce.jsx)(p.XView,{className:"header-click-wrapper",onClick:function(){return o()}})]})}},Ne=function(e){var t=e.headerInfo,i=(e.isDefaultBg,e.handerMore),o=e.showMoreOPtions,n=(0,m.useCallback)((function(){var e=t.identityType,o=t.isCurrentUser?0:1;O.moreTrace({status:o,user:e}),i&&i()}),[i,t]);if(T.N0()){if(t.isCurrentUser){var l="https://pages.c-ctrip.com/you/user/user_more_options.png";return(0,Ce.jsx)(p.View,{className:"back-wrap",onClick:o,children:(0,Ce.jsx)(p.Image,{src:l,className:"header_option_img"})})}var s="https://pages.c-ctrip.com/livestream/tripshoot/tripshoot_white_more.png";return(0,Ce.jsx)(p.View,{className:"back-wrap",onClick:n,children:(0,Ce.jsx)(p.Image,{src:s,className:"header_share_img"})})}return console.log("More return null"),null},ke=(0,m.forwardRef)((function(e,t){var i,o=e.isDefaultBg,n=e.headerInfo,l=e.userBaseInfo,s=e.followStatus,a=e.handerFollow,r=e.handerMore,c=e.showMoreOPtions,d=(0,m.useState)(!1),u=(0,he.Z)(d,2),v=u[0],h=u[1],f=(0,m.useRef)(),y=(0,m.useRef)();(0,m.useImperativeHandle)(t,(function(){return{handleScroll:b}})),T.Tt()&&o&&P.setBarStyle("dark-content",!1);var b=function(e){e>10?v||h(!0):v&&h(!1)},x=(0,m.useCallback)((function(){var e;T.eW()?(null===(e=g.cwx._wxGetCurrentPages)||void 0===e?void 0:e.length)>1?_.Z.goBack():g.cwx.switchTab({url:"/pages/lvpai/lvpaiHome/lvpaiHome"}):_.Z.goBack()}),[]),w=(0,m.useCallback)((function(){if(l.isCurrentUser&&T.N0()){O.pictureClick();var e={CheckInfoType:5};V(e,(function(){var e=(0,_e.Q)()+"webapp/you/tripshoot/user/updateBgImage?navBarStyle=white&isHideNavBar=YES&ishideheader=true&seo=1&disable_redirect_https=1";_.Z.commonJump(e,e,e)}))}}),[l.isCurrentUser]),C="https://pages.c-ctrip.com/you/user/user_forward.png",I=(null===l||void 0===l||null===(i=l.userBase)||void 0===i||null===(i=i.avatarDecoration)||void 0===i?void 0:i.webp)||"";return(0,Ce.jsx)(p.View,{className:"header_wrap",children:(0,Ce.jsxs)(p.View,{className:"nav_wrap",onClick:w,children:[(0,Ce.jsx)(p.Image,{ref:f,src:n.userBackGroundPhoto,className:"bgimg",style:(0,D.Z)({},{height:we()+46,opacity:v?1:0}),mode:"aspectFill"}),v&&!o&&(0,Ce.jsx)(p.View,{className:"bgimg",style:{height:we()+46,backgroundColor:"rgba(0,0,0,0.2)"}}),(0,Ce.jsx)(p.View,{className:"status_bar",style:{height:we()}}),(0,Ce.jsxs)(p.View,{className:["title_bar",T.eW()?"pdr_170":""],style:{height:Te(),marginTop:T.Dt()?3:0},children:[(0,Ce.jsx)(p.View,{className:"back-wrap",onClick:x,children:(0,Ce.jsx)(p.Image,{className:"back_icon",src:C})}),v?(0,Ce.jsxs)(p.View,{className:"user_info",ref:y,children:[(0,Ce.jsxs)(p.View,{className:"avat",children:[(0,Ce.jsx)(p.Image,{className:"head_photo",src:n.headPhoto}),n.vIcon&&(0,Ce.jsx)(p.Image,{className:"vip",src:n.vIcon}),!!I&&(0,Ce.jsx)(p.Image,{className:T.Dt()?"pendant_img_android":"pendant_img",src:I,option:{loop:0}})]}),(0,Ce.jsxs)(p.View,{className:"name_wrap",children:[(0,Ce.jsx)(p.View,{className:"name_wrap_name",children:(0,Ce.jsx)(p.Text,{className:"name_wrap_name_text",style:o?{color:"#333333"}:{},numberOfLines:1,children:n.nickName})}),n.tag&&(0,Ce.jsx)(p.View,{className:"tag_title",children:(0,Ce.jsxs)(p.View,{className:"title_name",style:{backgroundColor:"C"==n.userType?"rgba(185,118,0,0.2)":"rgba(0,134,246,0.2)"},children:[(0,Ce.jsx)(p.View,{className:"title_name_rn_bg"}),(0,Ce.jsx)(p.Text,{style:{color:"C"==n.userType?"#FFB473":"#99CEFB"},className:"title_name_text",numberOfLines:1,children:n.tag})]})})]}),(0,Ce.jsx)(p.View,{style:{display:"flex",flex:1}}),(0,Ce.jsx)(Le,{headerInfo:n,followStatus:s,handerFollow:a})]}):null,T.N0()&&(0,Ce.jsx)(Ne,{headerInfo:n,isDefaultBg:o,handerMore:r,showMoreOPtions:c})]})]})})})),je=ke,Se=i(57301),Be={},Ee=function(e){var t=e.userBaseInfo,i=(0,m.useCallback)((function(){O.identityeClick({})}),[]);return(0,Ce.jsx)(p.View,{className:"user_tag",onClick:i,children:(0,Ce.jsx)(p.View,{className:"C"==t.userBase.userType?"tag_name":"tag_name_b",children:(0,Ce.jsx)(p.Text,{className:"C"==t.userBase.userType?"tag_name_text":"tag_name_b_text",numberOfLines:1,children:t.userBase.showTagList[0].tagName2})})})},Ve=function(e){var t,i=e.userBaseInfo,o="user_gender",n="",l="user_gender_img",s="user_gender_text";return i.userBase.genderIcon?1==i.userBase.gender?(n=i.userBase.constellation||"\u7537",o="user_gender_male_star"):(n=i.userBase.constellation||"\u5973",o="user_gender_female_tar",l="user_gender_female_tar_img",s="user_gender_female_tar_text"):n=i.userBase.constellation,(0,m.useEffect)((function(){var e;null!==i&&void 0!==i&&null!==(e=i.userBase)&&void 0!==e&&e.ipLocatedName&&O.ipExpose(),(i.userBase.genderIcon||n)&&"C"==i.userBase.userType&&O.genderExpose()}),[]),(0,Ce.jsx)(p.ScrollView,{scrollX:!0,showScrollbar:!1,showsHorizontalScrollIndicator:!1,className:"userinfo_wrapper ".concat((i.isCurrentUser,"")),"enable-flex":!0,children:(0,Ce.jsxs)(p.View,{className:"userInfo_scroll_wrapper",children:[!i.isCurrentUser&&(0,Ce.jsx)(p.View,{children:(0,Ce.jsx)(p.View,{className:"empty-view"})}),i.userBase.showTagList&&i.userBase.showTagList.length>0&&(0,Ce.jsx)(Ee,{userBaseInfo:i}),i.userBase.mcnName&&(0,Ce.jsxs)(p.View,{className:"mcn-wrap",children:[(0,Ce.jsx)(p.Image,{className:"mcn-icon",src:"https://pages.c-ctrip.com/livestream/ugcBook/mcn.png"}),(0,Ce.jsx)(p.Text,{className:"mcn-name",children:i.userBase.mcnName})]}),(i.userBase.genderIcon||n)&&"C"==i.userBase.userType?(0,Ce.jsxs)(p.View,{className:"user_gender ".concat(o),children:[!!i.userBase.genderIcon&&(0,Ce.jsx)(p.Image,{className:"user_gender_img ".concat(l),src:i.userBase.genderIcon}),!!n&&(0,Ce.jsx)(p.Text,{className:s,children:n})]}):null,!(null===i||void 0===i||null===(t=i.userBase)||void 0===t||!t.ipLocatedName)&&(0,Ce.jsx)(p.View,{className:"user_place",children:(0,Ce.jsx)(p.View,{className:"user_place_span",children:(0,Ce.jsx)(p.Text,{numberOfLines:1,className:"user_place_span_text",children:"IP\u5c5e\u5730:"+i.userBase.ipLocatedName})})}),(0,Ce.jsx)(p.View,{children:(0,Ce.jsx)(p.View,{className:"empty-view-right"})})]})})},Ue=function(e){var t,i=e.userBaseInfo,o=e.goSetUserInfo,n=(0,m.useCallback)((function(){i.isCurrentUser&&T.N0()&&(O.nameClick(),o())}),[o,i.isCurrentUser]),l=(0,m.useCallback)((function(){if(O.levelIconClick(),!T.eW()&&i.userBase.levelValueText){var e=(0,_e.Q)()+"webapp/you/tripshoot/user/level?seo=0&isHideHeader=true&isHideNavBar=YES&navBarStyle=white";_.Z.commonJump(e,e,e)}}),[i]);return(0,Ce.jsxs)(p.View,{className:"user_name ".concat(i.isCurrentUser?"":"user_name_other"),children:[(0,Ce.jsx)(p.View,{className:"name",onClick:n,children:(0,Ce.jsx)(p.Text,{style:T.Dt()?{fontWeight:"700"}:{},numberOfLines:1,className:"user_name_span",children:i.userBase.nickName})}),!(null===(t=i.userBase)||void 0===t||!t.levelValueIcon)&&"C"==i.userBase.userType&&(0,Ce.jsx)(p.View,{style:{display:"flex",alignItems:"center",flexShrink:0},children:(0,Ce.jsx)(p.Image,{className:"level_label",src:i.userBase.levelValueIcon,onClick:l})})]})},Ze=function(e){var t,i,o,n=e.userBaseInfo,l=e.goSetUserInfo,s=(0,m.useCallback)((function(e){var t=n.userLive&&n.userLive.liveStatus;if(0!=t&&12!=t||n.isCurrentUser||T.eW()){if(O.photoClick(),n.isCurrentUser&&T.N0())l();else if(!n.isCurrentUser&&T.N0()){var i=[],o=n.userBase.headPhoto;if(o){var s={imageType:0,imageUrl:o.replace("_C_180_180.jpg",".jpg"),url:o.replace("_C_180_180.jpg",".jpg")};e&&(s["bottomWebViewUrl"]="".concat((0,_e.Q)(),"webapp/you/tripshoot/user/headPendantGuide?seo=0&decoration=").concat(encodeURIComponent(e),"&headPhoto=").concat(encodeURIComponent(o))),i.push(s)}i.length>0&&p.XPhotoBrowser.show({items:i})}}else{O.photoliveClick({liveStatus:0==t?1:12==t?2:0});var a=n.userLive.channelUrl&&n.userLive.channelUrl.h5Url||"",r=n.userLive.channelUrl&&n.userLive.channelUrl.appUrl||"";_.Z.commonJump(a,r,a)}}),[l,n.isCurrentUser,n.userBase.headPhoto,n.userLive]),a=n.userLive&&n.userLive.liveStatus,r=0==a||12==a,c="";0==a?c="\u76f4\u64ad\u4e2d":12==a&&(c="\u76f4\u64ad\u9884\u544a");var d=(null===n||void 0===n||null===(t=n.userBase)||void 0===t||null===(t=t.avatarDecoration)||void 0===t?void 0:t.webp)||"";return(0,Ce.jsxs)(p.View,{className:"user_img_main ".concat(n.isCurrentUser?"":"user_img_not_self"),style:{marginTop:n.isCurrentUser?-7:-20},children:[(0,Ce.jsxs)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],className:"user_img_wrapper ".concat(r?"zhibo_border zhibo_bg":""),style:r?{overflow:"hidden"}:{},colors:r?["#2dccc1","#0086f6"]:["#eee","#eee"],children:[(0,Ce.jsx)(p.View,{className:"user_portrait ".concat(""),onClick:function(){return s(d)},children:(0,Ce.jsx)(p.Image,{className:"user_portrait_img",src:null===n||void 0===n||null===(i=n.userBase)||void 0===i?void 0:i.headPhoto,alt:""})}),r&&(0,Ce.jsxs)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],className:"zhibo",colors:(n.isCurrentUser,["#2dccc1","#0086f6"]),children:[0==a&&(0,Ce.jsx)(p.Image,{className:"zhibo_img",src:"https://pages.c-ctrip.com/livestream/video/playing.gif"}),(0,Ce.jsx)(p.Text,{className:"zhibo_span",children:c})]})]}),!r&&(null===n||void 0===n||null===(o=n.userBase)||void 0===o?void 0:o.vIcon)&&(0,Ce.jsx)(p.Image,{className:"tag",src:n.userBase.vIcon}),!!d&&!r&&(0,Ce.jsx)(p.View,{className:"user_pendant-img",onClick:function(){return s(d)},children:(0,Ce.jsx)(p.Image,{className:"user_pendant-img-small",src:d})})]})},De=function(e){var t=e.followStatus,i=(e.IMUrl,e.userBaseInfo);(0,m.useEffect)((function(){O.followExpo()}),[]);var o={text:"\u5173\u6ce8",url:"https://pages.c-ctrip.com/you/livestream/lvpai_follow.png",className:"",iconClassName:""};1==t||2==t?o={text:"",url:"https://pages.c-ctrip.com/livestream/tripshoot/dest_user_added.png",className:"follow_both",iconClassName:"both_icon"}:3==t?o={text:"\u53d6\u6d88\u62c9\u9ed1",url:""}:4==t&&(o={text:"\u88ab\u62c9\u9ed1",url:""});var n=(0,m.useCallback)((function(){"function"===typeof Be["handerFollow"]&&Be["handerFollow"]()}),[]);(0,m.useCallback)((function(){var e;if((0,Se.bg)()){var t={userClientAuth:null===i||void 0===i||null===(e=i.userBase)||void 0===e?void 0:e.clientAuth};S(t,(function(e){var t,o,n=(null===e||void 0===e||null===(t=e.channelUrl)||void 0===t?void 0:t.appUrl)||"";n?_.Z.commonJump("",n):null!==e&&void 0!==e&&e.toast&&h().showToast({title:null===e||void 0===e?void 0:e.toast,duration:2e3,icon:"none"}),O.chatClick({status:null!==i&&void 0!==i&&i.isCurrentUser?0:1,user:null===i||void 0===i||null===(o=i.userBase)||void 0===o?void 0:o.identityType,type:n?1:0,errorType:null===e||void 0===e?void 0:e.errorType})}))}else(0,Se.x4)(Be["refreshAfterLogin"])}),[i]);return(0,Ce.jsxs)(p.View,{className:"interact_wrapper",children:[3!=t&&!1,(0,Ce.jsxs)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],className:"follow_btn ".concat(o.className),colors:t?["#ccc","#ccc"]:["#2dccc1","#0086f6"],children:[o.url&&(0,Ce.jsx)(p.Image,{src:o.url,className:"follow_icon ".concat(o.iconClassName)}),(0,Ce.jsx)(p.Text,{className:"follow_text",children:o.text}),(0,Ce.jsx)(p.XView,{className:"click-wrapper",onClick:function(){return n()}})]})]})},Me=function(e){var t=e.userBaseInfo,i=(e.showMoreDesc,(0,m.useState)(!1)),o=(0,he.Z)(i,2),n=o[0],l=o[1],s=((0,m.useRef)(null),(0,m.useRef)(!1));(0,m.useEffect)((function(){if(!T.N0()){var e=h().createSelectorQuery();e.select("#memberBrief").boundingClientRect(),e.exec((function(e){try{var t=e[0].height;t>30&&!s.current&&l(!0)}catch(e){}s.current=!0}))}var i,o;(O.briefExpose(),t.isCurrentUser)&&h().setStorageSync("tripshoot_user_brief",_.Z.base64Encode((null===t||void 0===t||null===(i=t.userBase)||void 0===i?void 0:i.memberBriefCheck)||(null===t||void 0===t||null===(o=t.userBase)||void 0===o?void 0:o.memberBrief)||""))}),[]);var a=(0,m.useCallback)((function(e){var t=e.nativeEvent.layout.height;t>0&&(t>30&&!s.current&&l(!0),s.current=!0)}),[]),r=t.isCurrentUser?t.userBase.memberBriefCheck||t.userBase.memberBrief||"":t.userBase.memberBrief||"";r=r.replace(/^[\s\n\t]+/g,"").replace(/[\s\n\t]+$/g,"");var c=r,d=r.split("\n");d.length>=2&&(d[1]+="...",r=d.join("\n")),t.isCurrentUser&&(r=r||"\u4f60\u8fd8\u6ca1\u586b\u5199\u81ea\u6211\u4ecb\u7ecd\u54e6\uff0c\u70b9\u51fb\u6dfb\u52a0");var u=(0,m.useCallback)((function(e){if(!t.isCurrentUser){var i={};return O.signatureClick(i),void(n&&Be["showMoreDesc"]&&Be["showMoreDesc"](c))}if(!T.L7()&&!T.eW()){t.userBase.memberBriefCheck||t.userBase.memberBrief;var o={};O.signatureClick(o);var l={CheckInfoType:4};V(l,(function(e){if(e&&e.CheckInfoData)h().showToast({title:"\u5ba1\u6838\u4e2d\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",duration:1500,icon:"none"});else{var t=(0,_e.Q)()+"webapp/you/tripshoot/user/setMemberBrief?isHideHeader=true&isHideNavBar=YES&seo=0&disable_redirect_https=1";_.Z.commonJump(t,t,t)}}))}}),[r,n,t.isCurrentUser,t.userBase.memberBrief,t.userBase.memberBriefCheck]);return r?(0,Ce.jsxs)(p.View,{onClick:u,className:"user_description",children:[(0,Ce.jsx)(p.View,{className:"memberBrief ".concat(n?"showTwo":""),id:"memberBrief",onLayout:a,children:(0,Ce.jsx)(p.Text,{numberOfLines:n?2:100,className:"user_description_text",children:r})}),n&&(0,Ce.jsx)(p.View,{className:"more_content",children:(0,Ce.jsx)(p.Image,{className:"more_img",src:"https://pages.c-ctrip.com/livestream/tripshoot/arrow_right_333.png"})})]}):null},Ae=function(e){e.userBaseInfo;var t=e.customBrief,i=(0,m.useRef)(null),o=(0,m.useState)(!1),n=(0,he.Z)(o,2),l=n[0],s=n[1],a=(0,m.useCallback)((function(){}),[]);return(0,m.useEffect)((function(){i.current&&i.current.offsetHeight/24==1&&l&&setTimeout((function(){s(!0)}),100)}),[l]),t?(0,Ce.jsxs)(p.View,{className:"custom_brief",children:[t.text1&&(0,Ce.jsxs)(p.View,{className:"description",style:l?{display:"flex",flexDirection:"column"}:{},children:[(0,Ce.jsxs)(p.View,{ref:i,className:"info",children:[(0,Ce.jsxs)(p.Text,{numberOfLines:2,children:[t.text1.slice(0,40),(0,Ce.jsx)(p.Text,{children:l?"":"..."})]}),!l&&t.url&&t.urlText&&(0,Ce.jsx)(p.Text,{className:"text_more",style:l?{marginLeft:"0px"}:{},onClick:a,children:t.urlText})]}),l&&t.url&&t.urlText&&(0,Ce.jsx)(p.Text,{className:"text-more",style:l?{marginLeft:"0px"}:{position:"absolute"},onClick:a,children:t.urlText})]}),(0,Ce.jsx)(p.View,{className:"custom_brief_p",children:(0,Ce.jsx)(p.Text,{className:"custom_brief_text",numberOfLines:2,children:t.text2})})]}):null},Oe=function(e){var t,i,o,n,l=e.userBaseInfo,s=(0,m.useRef)(!1),a=(0,m.useCallback)((function(){var e=(0,_e.Q)()+"webapp/you/tripshoot/paipai/user/followAndFans?type=1&seo=0&popup=close&isHideHeader=true&isHideNavBar=YES&clientAuth="+l.userBase.clientAuth,t=e;(T.IX()||T.L7())&&(t=e+"&isMini=3"),O.fansListClick(),T.di()||_.Z.commonJump(e,e,t)}),[l.userBase.clientAuth]),r=(0,m.useCallback)((function(){var e=(0,_e.Q)()+"webapp/you/tripshoot/paipai/user/followAndFans?type=0&seo=0&popup=close&isHideHeader=true&isHideNavBar=YES&clientAuth="+l.userBase.clientAuth;if(O.followListClick(),!T.di()){var t=e;(T.IX()||T.L7())&&(t=e+"&isMini=3"),_.Z.commonJump(e,e,t)}}),[l.userBase.clientAuth]),c=(0,m.useCallback)((function(){var e;if(O.mylikedClick({status:null!==l&&void 0!==l&&l.isCurrentUser?0:1,user:null===l||void 0===l||null===(e=l.userBase)||void 0===e?void 0:e.identityType}),!T.di()){var t=(0,_e.Q)()+"webapp/you/tripshoot/user/likedList?navBarStyle=white&isHideHeader=true&isHideNavBar=YES&seo=1&disable_redirect_https=1&clientAuth="+l.userBase.clientAuth;_.Z.commonJump(t,t,t)}}),[null===l||void 0===l?void 0:l.isCurrentUser,l.userBase.clientAuth,null===(t=l.userBase)||void 0===t?void 0:t.identityType]),d=l.userFriend.friendCountText&&l.userFriend.friendCountText.countText||"0",u=l.userFriend.followCountText&&l.userFriend.followCountText.countText||"0",v=0;l.userUGC&&l.userUGC.countTextMap&&(v=null===(o=l.userUGC.countTextMap.like)||void 0===o?void 0:o.countText,parseInt(v)>0&&!s.current&&(O.mylikedExpose({status:null!==l&&void 0!==l&&l.isCurrentUser?0:1,user:null===l||void 0===l||null===(n=l.userBase)||void 0===n?void 0:n.identityType}),s.current=!0));return(0,Ce.jsxs)(p.View,{className:"achievements",children:[(0,Ce.jsxs)(p.View,{className:"achieve_item",id:"c_gs_tripshoot_myhome_fans_list",onClick:a,children:["\u7c89\u4e1d",(0,Ce.jsx)(p.View,{style:T.Dt()?{fontWeight:"500"}:{},className:"js_has_new_friend achieve_item_span",children:u})]}),(0,Ce.jsx)(p.View,{className:"seperator_line"}),(0,Ce.jsxs)(p.View,{className:"achieve_item",id:"c_gs_tripshoot_myhome_follow_list",onClick:r,children:["\u5173\u6ce8",(0,Ce.jsx)(p.Text,{style:T.Dt()?{fontWeight:"500"}:{},className:"js_has_new_follow achieve_item_span",children:d})]}),(0,Ce.jsx)(p.View,{className:"seperator_line"}),(0,Ce.jsxs)(p.View,{className:"achieve_item",children:["\u83b7\u8d5e",(0,Ce.jsx)(p.Text,{style:T.Dt()?{fontWeight:"500"}:{},className:"js_has_new_friend achieve_item_span",children:(null===l||void 0===l||null===(i=l.userUGC)||void 0===i||null===(i=i.countTextMap)||void 0===i||null===(i=i.tripshootliked)||void 0===i?void 0:i.countText)||0})]}),"C"==l.userBase.userType&&parseInt(v)>0&&(0,Ce.jsx)(p.View,{className:"seperator_line"}),"C"==l.userBase.userType&&parseInt(v)>0&&(0,Ce.jsxs)(p.View,{style:T.Dt()?{fontWeight:"500"}:{},className:"achieve_item",onClick:c,children:["\u8d5e\u8fc7",(0,Ce.jsx)(p.Text,{className:"js_has_new_friend achieve_item_span",children:v})]})]})},Fe=function(e){var t=e.userTagList;e.userBaseInfo;(0,m.useEffect)((function(){O.userTagExpose()}),[]);var i=(0,m.useCallback)((function(e){O.userTagClick(),e&&!T.eW()&&_.Z.commonJump(e.h5Url||"",e.appUrl||"",e.mainWechatUrl||"")}),[]);return(0,Ce.jsx)(p.View,{className:"user_tags_wrapper",children:(0,Ce.jsx)(p.ScrollView,{showsHorizontalScrollIndicator:!1,scrollX:!0,style:{width:"100%"},scrollbars:!1,children:(0,Ce.jsx)(p.View,{className:"user_tags_scroll_wrap",children:t.map((function(e,o){return(0,Ce.jsxs)(Ie,{className:"user_tag_item ".concat(o==t.length-1?"mgR32":""),style:{marginLeft:0==o?12:0},start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],colors:["rgba(45, 204, 193, 0.08)","rgba(0, 134, 246, 0.08)"],children:[0==o&&!!e.featureIcon&&(0,Ce.jsx)(p.Image,{className:"tag_img",src:e.featureIcon}),(0,Ce.jsx)(p.Text,{numberOfLines:1,className:"tag_title user_tag_item_span",children:e.featureName}),(0,Ce.jsx)(p.XView,{className:"tag-click-wrapper",onClick:function(){i(e.channelUrl)}})]},o)}))})})})},Pe=function(e){var t,i=e.userBaseInfo,o=e.followStatus,n=e.IMUrl,l=(0,m.useCallback)((function(){_.Z.commonJump("","/trip_flutter?flutterName=flutter_userinfo")}),[]);if(!i||!i.userBase)return null;var s={alignItems:"flex-end"},a={justifyContent:"space-between",alignItems:"flex-end"},r={};return T.Dt()?(r.elevation=6,r.shadowColor="rgba(0,0,0,0.7)"):T.Tt()&&(r={shadowOffset:{width:0,height:0},shadowOpacity:.14,shadowRadius:4,shadowColor:"rgb(0,0,0)"}),(0,Ce.jsx)(p.View,{style:i.isCurrentUser?{marginTop:we()+54,paddingTop:6}:{marginTop:we()+40,paddingTop:20},className:"user_info_box",children:(0,Ce.jsxs)(p.View,{className:"user_info_box_inner",style:r,children:[(0,Ce.jsxs)(p.View,{className:"user_name_content",style:i.isCurrentUser?s:a,children:[(0,Ce.jsx)(Ze,{userBaseInfo:i,goSetUserInfo:l}),i.isCurrentUser&&(0,Ce.jsxs)(p.View,{className:"right_wrapper",children:[(0,Ce.jsx)(Ue,{userBaseInfo:i,goSetUserInfo:l}),(0,Ce.jsx)(Ve,{userBaseInfo:i})]}),!i.isCurrentUser&&(0,Ce.jsx)(De,{userBaseInfo:i,followStatus:o,IMUrl:n})]}),!i.isCurrentUser&&(0,Ce.jsxs)(p.View,{className:"bottom_wrapper",children:[(0,Ce.jsx)(Ue,{userBaseInfo:i}),(0,Ce.jsx)(Ve,{userBaseInfo:i})]}),"C"==i.userBase.userType&&(0,Ce.jsx)(Me,{userBaseInfo:i}),(0,Ce.jsx)(Ae,{userBaseInfo:i,customBrief:i.userIdentitySpecial&&i.userIdentitySpecial.textMap}),(0,Ce.jsx)(Oe,{userBaseInfo:i}),"C"==i.userBase.userType&&(null===i||void 0===i||null===(t=i.userBase)||void 0===t||null===(t=t.userFeatureList)||void 0===t?void 0:t.length)>0&&(0,Ce.jsx)(Fe,{userBaseInfo:i,userTagList:i.userBase.userFeatureList})]})})},Re=function(e){var t=e.userBaseInfo,i=e.userBackGroundPhoto,o=e.isDefaultBg,n=e.followStatus,l=e.handerFollow,s=e.refreshAfterLogin,a=e.showMoreDesc,r=e.IMUrl,c=e.style,d=e.getBgHeight;return(0,m.useEffect)((function(){Be["handerFollow"]=l,Be["refreshAfterLogin"]=s,Be["showMoreDesc"]=a})),(0,Ce.jsxs)(p.View,{className:"base_info_wrap",style:c,onLayout:function(e){var t;null===d||void 0===d||d(null===e||void 0===e||null===(t=e.nativeEvent)||void 0===t?void 0:t.layout.height)},children:[!!i&&(0,Ce.jsx)(p.Image,{className:"bg_img",style:o?{}:{height:we()+106},src:i,mode:"aspectFill"}),!!i&&!o&&(0,Ce.jsx)(p.Image,{className:"bg_img",style:{height:we()+106},src:"https://pages.c-ctrip.com/livestream/tripshoot/dest_user_shadow1.png",mode:"aspectFill"}),(0,Ce.jsx)(p.View,{className:"tripshoot_user",children:(0,Ce.jsx)(Pe,{IMUrl:r,userBaseInfo:t,followStatus:n})}),(0,Ce.jsx)(p.View,{className:"base_info_wrap_bottom ".concat(o?"":"little-bottom")})]})},He=Re,ze=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(e){var o;return(0,a.Z)(this,i),o=t.call(this,e),(0,v.Z)((0,c.Z)(o),"changeSubtab",(function(e,t){var i,n,l=o.props.originSubtabList;if(e.type==o.props.subtype){var s,a=(0,c.Z)(o);if(!((null===l||void 0===l||null===(s=l[t])||void 0===s||null===(s=s.subTabList)||void 0===s?void 0:s.length)>2))return;setTimeout((function(){var e,i=h().createSelectorQuery();null===(e=i.select("#item_comment"))||void 0===e||e.boundingClientRect(),i.exec((function(e){var i,o,n,l;a.props.updateOptionsPosition({top:(null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.top)+(null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.height)+4,right:a.windowWidth-(null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.left)-(null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.width),currentIndex:t})}))}),230)}null===(i=(n=o.props).changeSubtype)||void 0===i||i.call(n,e.type,t),O.subtabClick({tab:null===e||void 0===e?void 0:e.name})})),(0,v.Z)((0,c.Z)(o),"changeTabCode",(function(e){var t;e.tabName!=o.props.currentTabCode&&(o.props.changeTabCode(null===e||void 0===e||null===(t=e.tabName)||void 0===t?void 0:t.toUpperCase()),"DT"==e.tabName?O.contentTabClick():O.productTabClick())})),(0,v.Z)((0,c.Z)(o),"renderCommonSubtab",(function(e,t,i,n,l){return(0,Ce.jsxs)(p.XView,{onClick:function(){return o.changeSubtab(e,t)},id:l?"item_comment":"item"+e.type,className:"".concat(i," ").concat(T.eW()?"web_style":"crn_style"),children:[(0,Ce.jsx)(p.Text,{className:n,children:null===e||void 0===e?void 0:e.name}),!!l&&(0,Ce.jsx)(p.Image,{className:"more-arrow",src:l})]},t)})),(0,v.Z)((0,c.Z)(o),"updateSubtabPositon",(function(e){var t,i=null===e||void 0===e||null===(t=e.nativeEvent)||void 0===t?void 0:t.layout;o.subtabY=(null===i||void 0===i?void 0:i.y)+8*T.bn/375})),(0,v.Z)((0,c.Z)(o),"handleScroll",(function(e,t){e+t+44>=o.rectResTop?o.state.tabFixed||o.setState({tabFixed:!0}):o.state.tabFixed&&o.setState({tabFixed:!1})})),o.shadowStyle={shadowOffset:{width:0,height:6},shadowOpacity:.06,shadowRadius:12,shadowColor:"rgb(61,82,100)",elevation:4},o.state={tabFixed:!1},o.windowWidth=T.bn,o}return(0,r.Z)(i,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,i=t.tabList,o=t.subtabList,n=t.subtype;if((null===i||void 0===i||!i.length)&&(null===o||void 0===o||!o.length))return null;var l=this.props.style||{},s={};return T.N0()&&(this.state.tabFixed?(l=this.shadowStyle,l.borderTopLeftRadius=0,l.borderTopRightRadius=0):l={}),this.props.noRadius&&(l.borderTopLeftRadius=0,l.borderTopRightRadius=0),(0,Ce.jsxs)(p.View,{className:"tabs-wrap ".concat(this.props.type?"fixed-tab-top":""),ref:function(t){e.tabviewRef=t},style:l||{},children:[(null===i||void 0===i?void 0:i.length)>0&&(0,Ce.jsx)(p.View,{className:"b-tabs-wrap",children:null===i||void 0===i?void 0:i.map((function(t,i){var o,n;return(0,Ce.jsxs)(p.XView,{className:"b-tab-item",onClick:function(){return e.changeTabCode(t)},children:[(0,Ce.jsx)(p.Text,{className:"tab-text ".concat(e.props.currentTabCode==(null===t||void 0===t||null===(o=t.tabName)||void 0===o?void 0:o.toUpperCase())?"bold-name":""),children:t.tabText}),e.props.currentTabCode==(null===t||void 0===t||null===(n=t.tabName)||void 0===n?void 0:n.toUpperCase())&&(0,Ce.jsx)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],className:"b-tab-active",colors:["#2dccc1","#0086f6"]})]},i)}))}),(null===o||void 0===o?void 0:o.length)>0&&"DT"==this.props.currentTabCode&&(0,Ce.jsxs)(p.View,{className:"subtabs-wrap",style:s,onLayout:function(t){var i;null===(i=e.updateSubtabPositon)||void 0===i||i.call(e,t)},children:[(0,Ce.jsx)(p.View,{className:"change-wrap",children:(0,Ce.jsx)(p.Image,{className:"change-icon",mode:"aspectFill",onClick:function(){e.props.changeListType()},src:this.props.listType==x.Double?"https://pages.c-ctrip.com/livestream/ugcBook/user_double.png":"https://pages.c-ctrip.com/livestream/ugcBook/use_single.png"})}),(0,Ce.jsx)(p.ScrollView,{scrollX:!0,scrollbars:!1,id:"scrollview",showScrollbar:!1,showsHorizontalScrollIndicator:!1,scrollWithAnimation:!0,scrollLeft:this.props.scrollLeft,className:"subtabitem-wrap",style:{width:this.windowWidth-52},children:null===o||void 0===o?void 0:o.map((function(t,i){var o,l=e.props.subtype==t.type?"subtab-active-item":"subtab-item",s=e.props.subtype==t.type?"subtab-active-name":"subtab-name",a="";return a=(null===(o=e.props.originSubtabList)||void 0===o||null===(o=o[i])||void 0===o||null===(o=o.subTabList)||void 0===o?void 0:o.length)>2?n==t.type?e.props.showCommentOptions?"https://pages.c-ctrip.com/livestream/ugcBook/user_up_0086f6.png":"https://pages.c-ctrip.com/livestream/ugcBook/user_down_0086f6.png":"https://pages.c-ctrip.com/livestream/ugcBook/user_down_333.png":"",e.renderCommonSubtab(t,i,l,s,a)}))})]})]})}}]),i}(m.PureComponent),We=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(e){var o;return(0,a.Z)(this,i),o=t.call(this,e),o.state={},o}return(0,r.Z)(i,[{key:"render",value:function(){return(0,Ce.jsx)(m.Fragment,{children:(0,Ce.jsx)("cemoji-converter",{inputObj:this.props.inputObj})})}}]),i}(m.Component);function Ge(e,t){var i=e.inputObj||{},o=t.inputObj||{};return i.text==o.text&&i.wrapperStyle==o.wrapperStyle&&i.cemojiStyle==o.cemojiStyle}var Xe=(0,m.memo)(We,Ge),Ke=(0,m.forwardRef)((function(e,t){var i=e.cardItem,o=e.cardIndex,n=e.cardColumn,l=e.id,s=e.props,a=e.testID,r={imageHostRegExp:null,testImageHostRegExp:null,config:[{width:640,height:0,quality:"80",limit:500},{width:640,height:0,quality:"50",limit:350},{width:460,height:0,quality:"50",limit:250},{width:320,height:0,quality:"50",limit:0}]},c=T.Tt()?{shadowOffset:{width:0,height:3},shadowOpacity:.12,shadowRadius:6,shadowColor:"rgb(68,74,81)",marginTop:8}:T.Dt()?{shadowColor:"rgba(68,74,81,0.42)",marginTop:8}:{},d=function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4?arguments[4]:void 0;if(null!==e&&void 0!==e&&e.dynamicUrl){var l,s=null===(l=(0,p.dynamicImageUrl)({imageUrl:null===e||void 0===e?void 0:e.dynamicUrl,height:2*(null===i||void 0===i?void 0:i.imageHeight),width:2*(null===i||void 0===i?void 0:i.imageWidth),config:r},(function(){})))||void 0===l?void 0:l.dynamicUrl;return(0,Ce.jsxs)(p.View,{className:"img-wrap",style:{height:null===i||void 0===i?void 0:i.imageHeight},children:[(0,Ce.jsx)(p.Image,{mode:"aspectFill",className:"default-img-bg",src:"https://pages.c-ctrip.com/livestream/tripshoot/youyou_bg.jpg"}),(0,Ce.jsx)(p.Image,{mode:"aspectFill",lazyLoad:!0,className:"img-pic",style:{height:null===i||void 0===i?void 0:i.imageHeight,borderRadius:null!==o&&void 0!==o&&o.borderRadius?8:0},src:s}),(0,Ce.jsx)(Ie,{className:"linear-bg",start:{x:0,y:0},end:{x:0,y:1},locations:[0,1],colors:["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0.2)"]}),n&&(0,Ce.jsxs)(p.View,{className:"scan-wrap",children:[(0,Ce.jsx)(p.Image,{mode:"aspectFill",className:"scan-img",src:"https://pages.c-ctrip.com/livestream/ugcBook/user_scan_fff.png"}),(0,Ce.jsx)(p.Text,{className:"scan-text",children:pe.formatWatchNum(n||0)})]}),t&&(0,Ce.jsx)(p.Image,{className:"video-icon",src:"https://pages.c-ctrip.com/livestream/tripshoot/dest_user_play_new.png"})]})}return null},u=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,l=pe.handleTagData(o,n),s=!1;if(n==b.COMMENT||n==b.HOTELCOMMENT)s=!(null!==o&&void 0!==o&&null!==(e=o.imageList)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.dynamicUrl||null!==o&&void 0!==o&&null!==(t=o.video)&&void 0!==t&&t.coverImageUrl);else if(n==b.TRAVEL){var a;s=!(null!==o&&void 0!==o&&null!==(a=o.images)&&void 0!==a&&null!==(a=a[0])&&void 0!==a&&a.dynamicUrl)}if(T.eW()){var r="font-family: PingFangSC-Medium;font-size: 14px;color: #333333;line-height: 18px;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: "+(s?3:2)+";overflow: hidden;text-overflow: ellipsis;text-indent: ",c="height: 18px;vertical-align: text-bottom",d=0;return(0,Ce.jsxs)(p.View,{className:"title-wrap",children:[(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l?void 0:l.map((function(e,t){var i=0==t?8:(null===l||void 0===l?void 0:l[t-1].width)+8+4;return d+=(null===e||void 0===e?void 0:e.width)+4,(0,Ce.jsx)(p.Image,{className:"img-icon",style:{width:e.width,height:e.height,left:i},mode:"aspectFit",src:e.tagIcon},t)}))),(0,Ce.jsx)(Xe,{className:"card-title",inputObj:pe.assembleEmojiObj(i,{wrapperStyle:r+d+"px",cemojiStyle:c})})]})}var u=0;return(0,Ce.jsxs)(p.View,{className:"title-wrap",children:[(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l?void 0:l.map((function(e,t){var i=0==t?8:(null===l||void 0===l?void 0:l[t-1].width)+8+4;return u+=(null===e||void 0===e?void 0:e.width)+4,(0,Ce.jsx)(p.Image,{className:"img-icon",style:{width:e.width,height:e.height,left:i},mode:"aspectFit",src:e.tagIcon},t)}))),(0,Ce.jsx)(p.View,{className:"card-title ".concat(s?"card-title-3":""),style:{textIndent:u},dangerouslySetInnerHTML:{__html:Xe(i,{className:"title_emoji",disableFetch:!!Xe.disableFetchFlag||(Xe.disableFetchFlag=!0,!1)})}})]})},v=function(e,t){if((null===e||void 0===e?void 0:e.length)>0){var i="",o="",n="",l=!1,s=!1;switch(parseInt(t)){case null===b||void 0===b?void 0:b.ARTICLE:case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:e.map((function(e){4!=e.poiType||l?4==e.poiType||s||(o=e.poiName||"",s=!0):(i=e.poiName||"",l=!0)})),n=o||(i||"");break;case null===b||void 0===b?void 0:b.TRAVEL:var a;if((null===e||void 0===e?void 0:e.length)>0)n=(null===(a=e[0])||void 0===a?void 0:a.poiName)+((null===e||void 0===e?void 0:e.length)>1?"\u7b49"+(null===e||void 0===e?void 0:e.length)+"\u5730":"");break;default:break}return(0,Ce.jsxs)(p.View,{className:"poi-wrapper",children:[(0,Ce.jsx)(p.Image,{className:"poi-icon",mode:"aspectFit",src:"https://pages.c-ctrip.com/livestream/ugcBook/location_999.png"}),(0,Ce.jsx)(p.Text,{className:"poi-name ".concat(p.XUA.isAndroid()?"android-poi":""),numberOfLines:1,children:n})]})}return(0,Ce.jsx)(p.View,{className:"poi-wrapper"})},m=function(e,t,i,o){return(0,Ce.jsxs)(p.XView,{className:"praise-wrapper",onClick:function(n){f(n,e,t,i,o)},children:[(0,Ce.jsx)(p.Image,{className:"praise-icon",src:null!==e&&void 0!==e&&e.isLike?"https://pages.c-ctrip.com/livestream/ugcBook/user_new_liked.png":"https://pages.c-ctrip.com/livestream/ugcBook/user_new_nolike.png"}),(0,Ce.jsx)(p.Text,{className:"praise-count",children:e.likeCount?pe.formatWatchNum(e.likeCount):""})]})},h=function(e,t,i,o){var n=[];switch(parseInt(i)){case null===b||void 0===b?void 0:b.ARTICLE:case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:case null===b||void 0===b?void 0:b.TRAVEL:n.push(v(null===e||void 0===e?void 0:e.pois,i)),n.push(m(e,i,t,o));break;case null===b||void 0===b?void 0:b.ASK:var l=(null===e||void 0===e?void 0:e.replyCount)>0?"\u5171"+(null===e||void 0===e?void 0:e.replyCount)+"\u4eba\u56de\u7b54":"\u8fd8\u6ca1\u4eba\u56de\u7b54";null===n||void 0===n||n.push((0,Ce.jsx)(p.Text,{className:"bottom-text",children:l}));break;case null===b||void 0===b?void 0:b.ALBUM:var s="\u5171"+(null===e||void 0===e?void 0:e.count)+"\u7bc7 | "+(null===e||void 0===e?void 0:e.publishTimeDisplay)+"\u53d1\u5e03";null===n||void 0===n||n.push((0,Ce.jsx)(p.Text,{numberOfLines:1,className:"bottom-text",children:s}));break;default:break}return(0,Ce.jsx)(p.View,{className:"bottom-wrapper",children:n})},g=function(e,t,i,o){var n,l=1==i?null!==e&&void 0!==e&&null!==(n=e.images)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&null!==(n=n.imgFormats)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&n.imgUrl?1:0:"";pe.gotoDetail(e,t,i,l,o)},f=function(e,t,i,o,n){null===e||void 0===e||e.stopPropagation(),(0,Se.bg)()?_.Z.checkRealName((function(){null===pe||void 0===pe||pe.doAction(t,i,(function(e){s.refreshList(e,i,o,n)}))})):(0,Se.x4)((function(){var e;null===(e=s.refreshAfterLogin)||void 0===e||e.call(s)}))},y=function(e,t,i,o,n){return s.isCurrentUser,null},x=function(e,i,o,n,r,v){var m,f,b=(null===e||void 0===e||null===(m=e.images)||void 0===m?void 0:m[0])||{};return(0,Ce.jsxs)(p.XView,{ref:t,collapsable:!1,id:l,style:c,testID:a,className:"card-wrap",onClick:function(){g(e,i,o,r)},children:[d(b,null===e||void 0===e?void 0:e.hasVideo,n,{},s.isCurrentUser?e.readCount||"0":null),y(null===e||void 0===e||null===(f=e.images)||void 0===f||null===(f=f[0])||void 0===f?void 0:f.dynamicUrl,e,i,o,r),u(null===e||void 0===e?void 0:e.articleTitle,e,o),h(e,i,o,r)]})},w=function(e){var t,i=[];if(""!=(null===e||void 0===e?void 0:e.departureDate)){var o=e.departureDate.split("-").length>1&&e.departureDate.split("-")[1];i.push(parseInt(o)+"\u6708\u51fa\u53d1")}if(parseInt(null===e||void 0===e?void 0:e.travelDays)&&i.push(e.travelDays+"\u5929\u884c\u7a0b"),parseInt(null===e||void 0===e?void 0:e.consume)&&i.push("\u4eba\u5747\uffe5"+e.consume),(null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.length)>0){var n,l=JSON.parse(e.tags);i.push(null===l||void 0===l||null===(n=l[0])||void 0===n?void 0:n.name)}var s=null===i||void 0===i?void 0:i.join(" | ");return s?(0,Ce.jsx)(p.Text,{className:"desctription",numberOfLines:1,children:null===i||void 0===i?void 0:i.map((function(e,t){return t!=(null===i||void 0===i?void 0:i.length)-1?(0,Ce.jsxs)(p.Text,{className:"tag-text",children:[e,(0,Ce.jsx)(p.Text,{style:{color:"#bbbbbb"},children:" | "})]},t):(0,Ce.jsx)(p.Text,{className:"tag-text",children:e},t)}))}):null},C=function(e){var t=pe.getScoreObj(e),i=t.score,o=t.scoreImg,n=t.scoreTag;return(0,Ce.jsxs)(p.View,{className:"score-wrapper",children:[(0,Ce.jsx)(p.Image,{className:"score-img",src:o}),(0,Ce.jsx)(p.Text,{className:"score-text",children:i+"\u5206 "+n})]})},I=function(e,i,o,n,s,r){var c,v,m,f,b={};if(null!==e&&void 0!==e&&null!==(c=e.imageList)&&void 0!==c&&c[0])b=(null===e||void 0===e||null===(f=e.imageList)||void 0===f?void 0:f[0])||{};else if(null!==e&&void 0!==e&&null!==(v=e.video)&&void 0!==v&&v.coverImageUrl){var x;b.dynamicUrl=null===e||void 0===e||null===(x=e.video)||void 0===x?void 0:x.coverImageUrl}return(0,Ce.jsxs)(p.XView,{ref:t,collapsable:!1,id:l,testID:a,style:T.Dt()?{shadowColor:"rgba(68,74,81,0.42)"}:{},className:"card-wrap ".concat(T.Tt()?"card-shadow-ios":""),onClick:function(){g(e,i,o)},children:[d(b,null===e||void 0===e?void 0:e.hasVideo,n),y(b.dynamicUrl,e,i,o,s),C(null===e||void 0===e||null===(m=e.extInfo)||void 0===m?void 0:m.score),u(null===e||void 0===e?void 0:e.content,e,o),h(e,i,o,s)]})},L=function(e,i,o,n,s,r){var c,v;return(0,Ce.jsxs)(p.XView,{ref:t,collapsable:!1,id:l,testID:a,className:"card-wrap ".concat(T.Tt()?"card-shadow-ios":""),style:T.Dt()?{shadowColor:"rgba(68,74,81,0.42)"}:{},onClick:function(){g(e,i,o)},children:[d(null===e||void 0===e||null===(c=e.images)||void 0===c?void 0:c[0],!1,n),y(null===e||void 0===e||null===(v=e.images)||void 0===v||null===(v=v[0])||void 0===v?void 0:v.dynamicUrl,e,i,o,s),u(null===e||void 0===e?void 0:e.title,e,o),w(null===e||void 0===e?void 0:e.ext),h(e,i,o,s)]})},N=function(e,i,o,n,s,r){var c,v,m,h,f,b,x,w,_,C,I="";switch(null===e||void 0===e||null===(c=e.liveVideo)||void 0===c?void 0:c.liveStatus){case 0:I="\u76f4\u64ad\u4e2d";break;case 6:I="\u76f4\u64ad\u56de\u653e";break;case 12:I="\u76f4\u64ad\u9884\u544a";break;default:break}return(0,Ce.jsxs)(p.XView,{ref:t,collapsable:!1,id:l,testID:a,style:T.Dt()?{shadowColor:"rgba(68,74,81,0.42)"}:{},className:"card-wrap ".concat(T.Tt()?"card-shadow-ios":""),onClick:function(){g(e,i,o)},children:[(0,Ce.jsxs)(p.View,{style:{position:"relative"},children:[d(null===e||void 0===e||null===(v=e.liveVideo)||void 0===v?void 0:v.coverImage,!1,n),(0,Ce.jsxs)(p.View,{className:"live-tag",style:0==(null===e||void 0===e||null===(m=e.liveVideo)||void 0===m?void 0:m.liveStatus)?{paddingLeft:3}:{},children:[0==(null===e||void 0===e||null===(h=e.liveVideo)||void 0===h?void 0:h.liveStatus)&&(0,Ce.jsx)(Ie,{className:"gif-wrapper",start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],colors:["rgba(45,204,193,1)","rgba(0,134,246,1)"],children:(0,Ce.jsx)(p.Image,{className:"img-gif",src:"https://pages.c-ctrip.com/livestream/video/playing.gif"})}),(0,Ce.jsx)(p.Text,{className:"living_text",children:I})]}),y(null===e||void 0===e||null===(f=e.liveVideo)||void 0===f||null===(f=f.coverImage)||void 0===f?void 0:f.dynamicUrl,e,i,o,s),0==(null===e||void 0===e||null===(b=e.liveVideo)||void 0===b?void 0:b.liveStatus)&&(0,Ce.jsx)(p.Image,{className:"liveing-img",mode:"aspectFit",src:"https://pages.c-ctrip.com/livestream/live/webcast-home-praise.webp"}),12==(null===e||void 0===e||null===(x=e.liveVideo)||void 0===x?void 0:x.liveStatus)&&(null===e||void 0===e||null===(w=e.liveVideo)||void 0===w?void 0:w.startTime)&&(0,Ce.jsx)(p.View,{className:"start-time-wrap",children:(0,Ce.jsx)(p.Text,{className:"start-time",numberOfLines:"1",children:(null===e||void 0===e||null===(_=e.liveVideo)||void 0===_?void 0:_.startTime)+"\u5f00\u64ad"})})]}),u(null===e||void 0===e||null===(C=e.liveVideo)||void 0===C?void 0:C.title,e,o)]})},k=function(e){return e?(0,Ce.jsx)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],className:"content-wrapper",colors:["rgba(45,204,193,0.08)","rgba(0,134,246,0.08)"],children:(0,Ce.jsx)(p.Text,{className:"content1",numberOfLines:3,children:"\u201c"+e+"\u201d"})}):null},j=function(e,i,o,n,r){return(0,Ce.jsxs)(p.XView,{ref:t,collapsable:!1,id:l,testID:a,className:"card-wrap ".concat(T.Tt()?"card-shadow-ios":""),style:T.Dt()?{shadowColor:"rgba(68,74,81,0.42)"}:{},onClick:function(){g(e,i,o)},children:[(0,Ce.jsx)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],className:"ask-tag",colors:["#00a7fa","#0076f6"],children:(0,Ce.jsx)(p.Text,{className:"ask-tag-text",children:(s.isCurrentUser?"\u6211\u7684":"TA\u7684")+(1==(null===e||void 0===e?void 0:e.subType)?"\u63d0\u95ee":"\u56de\u7b54")})}),(0,Ce.jsx)(p.Image,{className:"ask-img",mode:"aspectFill",src:1==(null===e||void 0===e?void 0:e.subType)?"https://pages.c-ctrip.com/livestream/ugcBook/ask_q.png":"https://pages.c-ctrip.com/livestream/ugcBook/ask_a.png"}),y("",e,i,o,n),u(null===e||void 0===e?void 0:e.title,e,o),k(null===e||void 0===e?void 0:e.content),h(e,i,o,n)]})},S=function(e,i,o,n,s,r){return(0,Ce.jsxs)(p.XView,{ref:t,collapsable:!1,id:l,testID:a,className:"card-wrap ".concat(T.Tt()?"card-shadow-ios":""),style:T.Dt()?{shadowColor:"rgba(68,74,81,0.42)"}:{},onClick:function(){g(e,i,o)},children:[(0,Ce.jsx)(p.View,{className:"album-bg",style:{height:n.imageHeight+8},children:(0,Ce.jsx)(p.View,{className:"album-bg-view",style:{width:n.imageWidth-24}})}),d({dynamicUrl:null===e||void 0===e?void 0:e.coverImageUrl},!1,n,{borderRadius:8}),y(null===e||void 0===e?void 0:e.coverImageUrl,e,i,o,s),(0,Ce.jsx)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],className:"ablum-tag",colors:["rgba(45,204,193,1)","rgba(0,134,246,1)"],children:(0,Ce.jsx)(p.Text,{className:"ablum-tag-text",children:"\u4f5c\u54c1\u96c6"})}),u(null===e||void 0===e?void 0:e.name,e,o),h(e,i,o,s)]})},B=function(){var e=[],t=i,l=o,s=n;switch(parseInt(i.type)){case null===b||void 0===b?void 0:b.ARTICLE:e.push(x(null===t||void 0===t?void 0:t.article,l,t.type,null===t||void 0===t?void 0:t.cardImageSize,s,t.cardHeight));break;case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:e.push(I(null===t||void 0===t?void 0:t.comment,l,null===t||void 0===t?void 0:t.type,null===t||void 0===t?void 0:t.cardImageSize,s,t.cardHeight));break;case null===b||void 0===b?void 0:b.TRAVEL:e.push(L(null===t||void 0===t?void 0:t.travel,l,null===t||void 0===t?void 0:t.type,null===t||void 0===t?void 0:t.cardImageSize,s,t.cardHeight));break;case null===b||void 0===b?void 0:b.ASK:e.push(j(null===t||void 0===t?void 0:t.ask,l,null===t||void 0===t?void 0:t.type,s,t.cardHeight));break;case null===b||void 0===b?void 0:b.LIVE:e.push(N(null===t||void 0===t?void 0:t.live,l,null===t||void 0===t?void 0:t.type,null===t||void 0===t?void 0:t.cardImageSize,s,t.cardHeight));break;case null===b||void 0===b?void 0:b.ALBUM:e.push(S(null===t||void 0===t?void 0:t.album,l,null===t||void 0===t?void 0:t.type,null===t||void 0===t?void 0:t.cardImageSize,s,t.cardHeight));break;default:e.push((0,Ce.jsx)(p.View,{style:{height:t.cardHeight,backgroundColor:"#eeeeee",marginTop:8}}));break}return e};return B()})),Je=function(e,t){return e===t},qe=m.memo(Ke,Je),Qe=(0,m.forwardRef)((function(e,t){(0,m.useImperativeHandle)(t,(function(){return{handleListScroll:r}}));var i=(0,m.useRef)([]);(0,m.useEffect)((function(){i.current=[]}),[e.subtype,0==e.subtype]);var o,n,l,s,a=T.bn,r=function(){var e;null===i||void 0===i||null===(e=i.current)||void 0===e||e.map((function(e,t){var i,o,n=h().createSelectorQuery();null===(i=n.select("#card-wrap"+(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.realIndex)))||void 0===i||i.boundingClientRect(),n.exec((function(i){var o;d(e,null===i||void 0===i||null===(o=i[0])||void 0===o?void 0:o.top,t)}))}))},c=function(e){var t={};switch(parseInt(null===e||void 0===e?void 0:e.type)){case b.ARTICLE:t=e.article;break;case b.COMMENT:case b.HOTELCOMMENT:t=e.comment;break;case b.TRAVEL:t=e.travel;break;case b.ASK:t=e.ask;break;case b.LIVE:t=e.live;break;case b.ALBUM:t=e.album;break}return t},d=function(t,o,n){if((null===t||void 0===t||!t.exposedFlag)&&o<T.uK){var l,s,a=(null===t||void 0===t?void 0:t.item)||{},r=c(a);O.cardExpose({item:r,index:n,contentType:null===a||void 0===a?void 0:a.type,picStatus:(null===a||void 0===a?void 0:a.type)==b.ARTICLE?null!==r&&void 0!==r&&null!==(l=r.images)&&void 0!==l&&null!==(l=l[0])&&void 0!==l&&null!==(l=l.imgFormats)&&void 0!==l&&null!==(l=l[0])&&void 0!==l&&l.imgUrl?1:0:"",tab:e.subtype}),null!==i&&void 0!==i&&null!==(s=i.current)&&void 0!==s&&s[n]&&(i.current[n].exposedFlag=!0)}},u=function(e,t,i){return""},v=function(t,o,n){return(0,Ce.jsx)(qe,{ref:function(e){var o;null!==i&&void 0!==i&&null!==(o=i.current)&&void 0!==o&&o[(null===t||void 0===t?void 0:t.realIndex)||0]||(i.current[(null===t||void 0===t?void 0:t.realIndex)||0]=e,(i.current[(null===t||void 0===t?void 0:t.realIndex)||0]||{}).item=t)},id:"card-wrap"+(null===t||void 0===t?void 0:t.realIndex),testID:u(t,null===t||void 0===t?void 0:t.realIndex,null===t||void 0===t?void 0:t.type),cardItem:t,cardIndex:o,cardColumn:n,props:e})};return(0,Ce.jsxs)(p.View,{className:"list-wrap",style:e.style,children:[(null===(o=e.leftDataList)||void 0===o?void 0:o.length)>0&&(0,Ce.jsx)(p.View,{className:"left-wrap",style:{width:(a-24-8)/2},children:null===(n=e.leftDataList)||void 0===n?void 0:n.map((function(e,t){return(0,Ce.jsx)(p.View,{children:v(e,t,"LEFT")},"LEFT"+t)}))}),(null===(l=e.rightDataList)||void 0===l?void 0:l.length)>0&&(0,Ce.jsx)(p.View,{className:"right-wrap",style:{marginLeft:8,width:(a-24-8)/2},children:null===(s=e.rightDataList)||void 0===s?void 0:s.map((function(e,t){return(0,Ce.jsx)(p.View,{children:v(e,t,"RIGHT")},"RIGHT"+t)}))})]})})),Ye=function(e,t){return e===t},$e=m.memo(Qe,Ye),et=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(e){return(0,a.Z)(this,i),t.call(this,e)}return(0,r.Z)(i,[{key:"render",value:function(){return(0,Ce.jsxs)(p.View,{className:"loading-wrap ".concat(this.props.showImg?"":"end"),style:this.props.style,children:[this.props.showImg&&(0,Ce.jsx)(p.Image,{className:"loading-img",mode:"aspectFill",src:"https://pages.c-ctrip.com/livestream/cpc-module-loading.gif"}),(0,Ce.jsx)(p.Text,{className:"loading-text ".concat(this.props.showImg?"not-end":"end-text"),children:this.props.title})]})}}]),i}(m.Component),tt=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(){var e;(0,a.Z)(this,i);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,v.Z)((0,c.Z)(e),"gotoTipPage",(function(){var e="https://contents.ctrip.com/activitysetupapp/mkt/index/album_use_info";_.Z.commonJump(e,e,e),O.gotoAlbumTipsClick()})),(0,v.Z)((0,c.Z)(e),"toPublish",(function(t,i,o,n){_.Z.commonJump("",i||"",i||"");var l,s={isNew:1};if(0!=t&&(s.cardType=t),1==t)s.isLottery=null===(l=e.props.emptyStatus)||void 0===l?void 0:l.isLottery;else if(4==t){var a;s.activityName=null===(a=e.props.emptyStatus)||void 0===a?void 0:a.activityName}o&&(s.districtId=o),(null===n||void 0===n?void 0:n.indexOf("\u4f5c\u54c1\u96c6"))>-1?(s.cardType=0,O.albumEmptyClick(s)):O.publishCardClick(s)})),e}return(0,r.Z)(i,[{key:"render",value:function(){var e=this,t=this.props.emptyStatus,i=t.type,o=t.name,n=t.subtitle,l=t.btn,s=t.url,a=t.cardType,r=t.businessId,c=t.style,d=t.imgStyle,u=t.guideItems,v=t.cornerIcon,m=t.pic,h=t.btnStyle,g=t.extraText;return"product"==i&&{type:"noCollection",promptMessage:o,isGray:!1,horizontal:!1},(0,Ce.jsxs)(p.View,{className:"empty-wrapper",style:c,children:[(0,Ce.jsx)(p.Image,{className:"empty-pic",style:d,mode:"aspectFill",src:m||"https://pages.c-ctrip.com/you/livestream/lvpai_logo_youyou.png"}),!(null!==u&&void 0!==u&&u.length)&&(0,Ce.jsx)(p.Text,{className:"empty-title",children:o}),(null===u||void 0===u?void 0:u.length)>0&&(0,Ce.jsx)(p.Text,{className:"empty-content",children:null===u||void 0===u?void 0:u.map((function(e,t){return(0,Ce.jsx)(p.Text,{style:{color:3==(null===e||void 0===e?void 0:e.type)?"#FF7700":""},children:e.txt},t)}))}),!!n&&(0,Ce.jsx)(p.Text,{className:"empty-subtitle",children:n}),!!l&&T.N0()&&(h?(0,Ce.jsx)(p.View,{className:"common-empty-btn",style:h,onClick:function(){return e.toPublish(a,s,r||"",o)},children:(0,Ce.jsx)(p.Text,{className:"publish-btn-text",children:l})}):(0,Ce.jsxs)(p.View,{className:"empty-btn",onClick:function(){return e.toPublish(a,s,r||"",o)},children:[(0,Ce.jsx)(Ie,{className:"go-btn",style:{marginTop:v?11:0},start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],colors:["rgba(45,204,193,1)","rgba(0,134,246,1)"],children:(0,Ce.jsx)(p.Text,{className:"publish-btn-text",children:l})}),!!v&&(0,Ce.jsx)(p.Image,{src:v,mode:"aspectFill",className:"corner-icon"})]})),!!g&&(0,Ce.jsx)(p.View,{style:{borderColor:"#0086f6",borderBottomWidth:1},children:(0,Ce.jsx)(p.Text,{className:"album-tip",style:T.oO()?{textDecoration:"underline"}:{},onClick:function(){return e.gotoTipPage()},children:g})})]})}}]),i}(m.Component),it=(0,m.forwardRef)((function(e,t){var i,o=(0,m.useRef)([]);(0,m.useEffect)((function(){}),[e.subtype]);var n=145/339,l=95/339,s=h().getSystemInfoSync().windowWidth,a=parseInt((s-32-4)*n),r=(s-32-4)*l,c=2*r+4,d=new Array(null===(i=e.mixDataList)||void 0===i?void 0:i.length),u=0,v={imageHostRegExp:null,testImageHostRegExp:null,config:[{width:640,height:0,quality:"80",limit:500},{width:640,height:0,quality:"50",limit:350},{width:460,height:0,quality:"50",limit:250},{width:320,height:0,quality:"50",limit:0}]};(0,m.useImperativeHandle)(t,(function(){return{handleListScroll:te}}));var g,f,y=function(e){null!==d&&void 0!==d&&d[u]||(d[u]=e)},x=function(e){var t,i,o=null===(t=(0,p.dynamicImageUrl)({imageUrl:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.dynamicUrl,height:488,width:488,config:v,ext:{pageId:""}},(function(){})))||void 0===t?void 0:t.dynamicUrl;return y(o),(0,Ce.jsx)(p.View,{className:"img-item-one",children:(0,Ce.jsx)(p.Image,{lazyLoad:!0,mode:"aspectFill",className:"img-item",src:o||"https://pages.c-ctrip.com/you/livestream/lvpai_logo_youyou.png"})})},w=function(e){return(0,Ce.jsx)(p.View,{className:"img-item-two",children:null===e||void 0===e?void 0:e.map((function(e,t){var i,o="";return o=null===(i=(0,p.dynamicImageUrl)({imageUrl:null===e||void 0===e?void 0:e.dynamicUrl,height:2*c,width:2*a,config:v,ext:{pageId:""}},(function(){})))||void 0===i?void 0:i.dynamicUrl,0==t&&y(o),(0,Ce.jsx)(p.Image,{lazyLoad:!0,mode:"aspectFill",className:"img-two-"+t,style:{width:a,height:c,marginLeft:1==t?4:0},src:o||"https://pages.c-ctrip.com/you/livestream/lvpai_logo_youyou.png"},"big"+t)}))})},C=function(e,t){return(0,Ce.jsxs)(p.View,{className:"img-item-right",children:[e.map((function(e,t){var i,o=null===(i=(0,p.dynamicImageUrl)({imageUrl:null===e||void 0===e?void 0:e.dynamicUrl,height:2*r,width:2*r,config:v},(function(){})))||void 0===i?void 0:i.dynamicUrl;return(0,Ce.jsx)(p.Image,{mode:"aspectFill",lazyLoad:!0,className:1==t?"bottom-images":"top-images",style:{width:r,height:r},src:o||"https://pages.c-ctrip.com/you/livestream/lvpai_logo_youyou.png"},"small"+t)})),t.length>3&&(0,Ce.jsx)(p.View,{className:"imgcount-wrap",children:(0,Ce.jsxs)(p.Text,{className:"imgcount",children:[t.length,"\u56fe"]})})]})},I=function(e,t){return(0,Ce.jsxs)(p.View,{className:"img-item-four-right",children:[e.map((function(e,t){var i,o=null===(i=(0,p.dynamicImageUrl)({imageUrl:null===e||void 0===e?void 0:e.dynamicUrl,height:2*r,width:2*r,config:v},(function(){})))||void 0===i?void 0:i.dynamicUrl;return(0,Ce.jsx)(p.Image,{lazyLoad:!0,mode:"aspectFill",style:{width:r,height:r},className:2==t||3==t?"bottom-images":"top-images",kety:t,src:o||"https://pages.c-ctrip.com/you/livestream/lvpai_logo_youyou.png"},"foursmall"+t)})),t.length>5&&(0,Ce.jsx)(p.View,{className:"imgcount-wrap",children:(0,Ce.jsxs)(p.Text,{className:"imgcount",children:[t.length,"\u56fe"]})})]})},L=function(e,t){return(null===e||void 0===e?void 0:e.length)>0?(0,Ce.jsxs)(p.View,{className:"images-wrapper ".concat("images-wrapper-"+e.length),style:(e.length,t||{}),children:[1==e.length&&x(e),2==e.length&&w(e),(3==e.length||4==e.length)&&w(e.slice(0,1)),(3==e.length||4==e.length)&&C(e.slice(1,3),e),e.length>=5&&w(e.slice(0,1)),e.length>=5&&I(e.slice(1,5),e)]}):null},N=function(e,t){var i,o=0,n=0;(null===e||void 0===e?void 0:e.width)<=(null===e||void 0===e?void 0:e.height)?(o=244,n=325):(o=s-32,n=9*o/16);var l=null===(i=(0,p.dynamicImageUrl)({imageUrl:null===t||void 0===t?void 0:t.dynamicUrl,height:2*o,width:2*n,config:v},(function(){})))||void 0===i?void 0:i.dynamicUrl;return y(l),(0,Ce.jsxs)(p.View,{className:"video-wrapper",style:{width:o,height:n},children:[(0,Ce.jsx)(p.Image,{className:"video-img",lazyLoad:!0,mode:"aspectFill",src:l}),(0,Ce.jsx)(p.Image,{className:"media-play-img",src:"https://pages.c-ctrip.com/livestream/tripshoot/dest_user_play_new.png"}),!(null===e||void 0===e||!e.durationSeconds)&&(0,Ce.jsx)(p.View,{className:"duration-wrap",children:(0,Ce.jsx)(p.Text,{className:"duation-time",children:_.Z.formatVideoTime(null===e||void 0===e?void 0:e.durationSeconds)})})]})},k=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(T.N0())return(0,Ce.jsx)(p.View,{className:" ".concat(t?"no-top-title":"single-title-wrap"),children:(0,Ce.jsx)(p.Text,{numberOfLines:parseInt(i||"")||2,children:(0,Ce.jsx)(Xe,{className:"single-card-title",emojiText:e,emojiHeight:20})})});if(T.eW()){var o="font-family: PingFangSC-Medium;font-size: 16px;color: #333333;line-height: 20px;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: "+(i||2)+";overflow: hidden;text-overflow: ellipsis;text-indent: ",n="height: 20px;vertical-align: text-bottom",l=0;return(0,Ce.jsx)(p.View,{className:" ".concat(t?"no-top-title":"single-title-wrap"),children:(0,Ce.jsx)(Xe,{className:"single-card-title",inputObj:pe.assembleEmojiObj(e,{wrapperStyle:o+l+"px",cemojiStyle:n})})})}return(0,Ce.jsx)(p.View,{className:" ".concat(t?"no-top-title":"single-title-wrap"),children:(0,Ce.jsx)(p.View,{className:"single-card-title ".concat(3==i?"title-3":"title-2"),dangerouslySetInnerHTML:{__html:Xe(e,{className:"single-title_emoji",disableFetch:!!Xe.disableFetchFlag||(Xe.disableFetchFlag=!0,!1)})}})})},j=function(e,t){if(T.N0())return(0,Ce.jsxs)(p.View,{className:" ".concat(t?"no-top-title":"single-title-wrap"),children:[(0,Ce.jsx)(Ie,{className:"single-zhibo-tag",start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],colors:["rgba(45,204,193,1)","rgba(0,134,246,1)"],children:(0,Ce.jsx)(p.Text,{className:"single-live-text",children:"\u76f4\u64ad"})}),(0,Ce.jsx)(p.Text,{className:"emoji-text",numberOfLines:1,children:(0,Ce.jsx)(Xe,{className:"single-card-title",emojiText:e,emojiHeight:20})})]});var i="font-family: PingFangSC-Medium;font-size: 16px;color: #333333;line-height: 20px;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 1;overflow: hidden;text-overflow: ellipsis;text-indent: ",o="height: 20px;vertical-align: text-bottom",n=0;return(0,Ce.jsxs)(p.View,{className:"single-title-wrap",children:[(0,Ce.jsx)(Ie,{className:"single-zhibo-tag",start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],colors:["rgba(45,204,193,1)","rgba(0,134,246,1)"],children:(0,Ce.jsx)(p.Text,{className:"single-live-text",children:"\u76f4\u64ad"})}),(0,Ce.jsx)(Xe,{className:"single-card-title",inputObj:pe.assembleEmojiObj(e,{wrapperStyle:i+n+"px",cemojiStyle:o})})]})},S=function(e,t){var i,o,n=null===e||void 0===e?void 0:e.pois;t==b.LIVE&&(n=[null===e||void 0===e||null===(o=e.liveVideo)||void 0===o?void 0:o.poiInfo]);if((null===(i=n)||void 0===i?void 0:i.length)>0){var l="",s="",a="",r=!1,c=!1,d={},u={};switch(parseInt(t)){case null===b||void 0===b?void 0:b.ARTICLE:case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:var v;null===(v=n)||void 0===v||v.map((function(e){4!=(null===e||void 0===e?void 0:e.poiType)||r?4==(null===e||void 0===e?void 0:e.poiType)||c||(s=e.poiName||"",c=!0,u=e):(l=e.poiName||"",r=!0,d=e)})),a=(l||"")+(l&&s?"\xb7":"")+(s||""),!c&&r&&(u=d);break;case null===b||void 0===b?void 0:b.TRAVEL:var m,h,g,f;a=(null===(m=n[0])||void 0===m?void 0:m.poiName)+((null===(h=n)||void 0===h?void 0:h.length)>1?"\u7b49"+(null===(g=n)||void 0===g?void 0:g.length)+"\u5730":""),u=null===(f=n)||void 0===f?void 0:f[0];break;case null===b||void 0===b?void 0:b.LIVE:var y,x,w;a=(null===(y=n)||void 0===y||null===(y=y[0])||void 0===y?void 0:y.poiName)||(null===(x=n)||void 0===x||null===(x=x[0])||void 0===x?void 0:x.districtName),u=null===(w=n)||void 0===w?void 0:w[0];break;default:break}return(0,Ce.jsxs)(p.View,{className:"single-poi-wrapper",onClick:function(i){null===pe||void 0===pe||pe.gotoPoiHome(i,u,e,t)},children:[(0,Ce.jsx)(p.View,{className:"poi-icon-wrapper",children:(0,Ce.jsx)(p.Image,{className:"single-poi-icon",src:"https://pages.c-ctrip.com/you/livestream/lvpai_waterfall_poi_white.png"})}),(0,Ce.jsx)(p.Text,{className:"single-poi-name",numberOfLines:1,children:a})]},"poi"+t)}return(0,Ce.jsx)(p.View,{className:"single-poi-wrapper no-poi"})},B=function(t,i,o){return(0,Ce.jsxs)(p.View,{className:"single-praise-wrapper",children:[i==b.ARTICLE&&e.isCurrentUser&&(0,Ce.jsx)(p.Image,{className:"single-praise-icon single-readcount",mode:"aspectFit",src:"https://pages.c-ctrip.com/you/livestream/lvpai_detail_watch@2x.png"}),i==b.ARTICLE&&e.isCurrentUser&&(0,Ce.jsx)(p.Text,{className:"single-praise-count",children:pe.formatWatchNum(t.readCount||0)}),(0,Ce.jsx)(p.Image,{className:"single-praise-icon",mode:"aspectFit",src:null!==t&&void 0!==t&&t.isLike?"https://pages.c-ctrip.com/livestream/tripshoot/tripshoot_new_liked.png":"https://pages.c-ctrip.com/livestream/tripshoot/tripshoot_new_like.png",onClick:function(e){ne(e,t,i,o)}}),(0,Ce.jsx)(p.Text,{className:"single-praise-count",children:t.likeCount?pe.formatWatchNum(t.likeCount):""}),(i==b.ARTICLE||i==b.TRAVEL)&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(p.Image,{className:"single-praise-icon",mode:"aspectFit",src:"https://pages.c-ctrip.com/you/livestream/lvpai_detail_footcomment.png",onClick:function(e){i==b.ARTICLE?null===pe||void 0===pe||pe.gotoComment(e,t,i):oe(t,o,i)}}),(0,Ce.jsx)(p.Text,{className:"single-praise-count",children:t.commentCount?pe.formatWatchNum(t.commentCount):""})]})]},"right"+i)},E=function(t,i,o){var n,l=[];switch(parseInt(o)){case null===b||void 0===b?void 0:b.ARTICLE:case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:case null===b||void 0===b?void 0:b.TRAVEL:l.push(S(t,o)),l.push(B(t,o,i));break;case null===b||void 0===b?void 0:b.ASK:var s=(null===t||void 0===t?void 0:t.replyCount)>0?"\u5171"+(null===t||void 0===t?void 0:t.replyCount)+"\u4eba\u56de\u7b54":"\u8fd8\u6ca1\u4eba\u56de\u7b54";null===l||void 0===l||l.push((0,Ce.jsx)(p.Text,{className:"bottom-text",children:s}));break;case null===b||void 0===b?void 0:b.ALBUM:var a="\u5171"+(null===t||void 0===t?void 0:t.count)+"\u7bc7 | "+(null===t||void 0===t?void 0:t.publishTimeDisplay)+"\u53d1\u5e03";null===l||void 0===l||l.push((0,Ce.jsx)(p.Text,{numberOfLines:1,className:"bottom-text",children:a}));break;case null===b||void 0===b?void 0:b.LIVE:l.push(S(t,o));break;default:break}return(0,Ce.jsxs)(p.View,{className:"single-bottom-wrapper",children:[(0,Ce.jsx)(p.View,{className:"single-bottom-operation",children:l}),i!=(null===(n=e.mixDataList)||void 0===n?void 0:n.length)-1&&(0,Ce.jsx)(p.View,{className:"bottom-line"})]})},V=function(t,i,o,n){var l;if(null===(l=e.hideEditLayer)||void 0===l||l.call(e),e.hasTop){var s={title:"\u5df2\u6709\u7f6e\u9876\u5185\u5bb9\uff0c\u662f\u5426\u786e\u8ba4\u66ff\u6362\u7f6e\u9876\uff1f",content:"",cancelText:"\u5426",confirmText:"\u662f",callback:function(){null===pe||void 0===pe||pe.setTopArticle(t,i,o,n,!0,(function(){var t;null===e||void 0===e||null===(t=e.topActionRefresh)||void 0===t||t.call(e,!0)}))}};e.handleConfirmModal(!0,s)}else null===pe||void 0===pe||pe.setTopArticle(t,i,o,n,!0,(function(){var t;null===e||void 0===e||null===(t=e.topActionRefresh)||void 0===t||t.call(e,!0)}))},U=function(t,i,o,n){e.hideEditLayer(),null===pe||void 0===pe||pe.setTopArticle(t,i,o,n,!1,(function(){var t;null===e||void 0===e||null===(t=e.topActionRefresh)||void 0===t||t.call(e,!1)}))},Z=function(t,i,o){e.hideEditLayer();var n={title:"\u786e\u8ba4\u5220\u9664\uff1f",content:"\u5220\u9664\u540e\u5185\u5bb9\u65e0\u6cd5\u6062\u590d",cancelText:"\u7b97\u4e86",confirmText:"\u5220\u9664",callback:function(){var n;null===pe||void 0===pe||null===(n=pe.deleteArticle)||void 0===n||n.call(pe,t,i,o,(function(){var t;null===e||void 0===e||null===(t=e.deleteActionRefresh)||void 0===t||t.call(e,i)}))}};e.handleConfirmModal(!0,n)},D=function(t,i,o,n){null===n||void 0===n||n.stopPropagation();var l=pe.getLayderData(t,o,i),s=null===l||void 0===l?void 0:l.map((function(n,l){var s=function(){};return"\u5206\u4eab"==n.name?s=function(){var t,i;null===(t=n.callback)||void 0===t||t.call(n),null===(i=e.hideEditLayer)||void 0===i||i.call(e)}:"\u7f6e\u9876"==n.name?s=function(){O.cardTopClick({item:t,contentType:o,clickType:0}),null===V||void 0===V||V(n.id,i,o,t)}:"\u53d6\u6d88\u7f6e\u9876"==n.name?s=function(){O.cardTopClick({item:t,contentType:o,clickType:1}),null===U||void 0===U||U(n.id,i,o,t)}:"\u7f16\u8f91"!=n.name&&"\u7f16\u8f91\u4f5c\u54c1\u96c6"!=n.name||(s=function(){var i,l;null===(i=e.hideEditLayer)||void 0===i||i.call(e,n),O.cardEditClick({item:t,contentType:o}),_.Z.commonJump("",(null===(l=t.editUrl)||void 0===l?void 0:l.appUrl)||t.editUrl)}),"\u52a0\u5165\u4f5c\u54c1\u96c6"==n.name&&(s=function(){var i;e.hideEditLayer(),O.addAlbumClick({id:n.id});var o="ctrip://wireless/h5?type=5&url="+_.Z.base64Encode((null===t||void 0===t||null===(i=t.addAlbumUrl)||void 0===i?void 0:i.appUrl)||"");_.Z.commonJump("",o)}),"\u5220\u9664"==n.name&&(s=function(){O.cardDeleteClick({item:t,contentType:o}),Z(n.id,i,o)}),Object.assign({},n,{callback:s})}));(null===s||void 0===s?void 0:s.length)>0&&e.showEditLayer(s)},M=function(t,i,o){return e.isCurrentUser&&T.N0()&&(t.canDelete&&!t.isOrderLock||t.canEdit&&!t.isOrderLock||t.canTop||t.isShare||t.canAddAlbum)?(0,Ce.jsx)(p.Image,{className:"single-more-menu",onClick:function(e){return D(t,i,o,e)},src:"https://pages.c-ctrip.com/livestream/tripshoot/user_more_333.png"}):null},A=function(e,t,i){var o="",n=[],l=pe.handleTagData(e,i),s=null===l||void 0===l?void 0:l.findIndex((function(e){return 0==(null===e||void 0===e?void 0:e.isTop)}));switch(parseInt(i)){case b.ARTICLE:o=e.hasVideo?" \u53d1\u5e03\u4e86\u7b14\u8bb0\u89c6\u9891":" \u53d1\u5e03\u4e86\u7b14\u8bb0",s<=-1&&3!=e.articleStatus&&(3==e.level||4==e.level?n.push("https://pages.c-ctrip.com/you/user/careful_chosen.png"):2==e.level&&n.push("https://pages.c-ctrip.com/you/user/high_grade.png"));break;case null===b||void 0===b?void 0:b.COMMENT:o=" \u53d1\u5e03\u4e86\u70b9\u8bc4",s<=-1&&3!=e.publishStatus&&e.isPicked&&n.push("https://pages.c-ctrip.com/you/user/careful_chosen.png");break;case null===b||void 0===b?void 0:b.HOTELCOMMENT:o=" \u53d1\u5e03\u4e86\u9152\u5e97\u70b9\u8bc4",s<=-1&&3!=e.publishStatus&&e.isPicked&&n.push("https://pages.c-ctrip.com/you/user/careful_chosen.png");break;case null===b||void 0===b?void 0:b.TRAVEL:o=" \u53d1\u5e03\u4e86\u6e38\u8bb0",s<=-1&&3!=e.publishStatus&&(2==e.label?n.push("https://pages.c-ctrip.com/livestream/tripshoot/tripshoot_travel_jinghua.png"):4==e.label?n.push("https://pages.c-ctrip.com/livestream/tripshoot/tripshoot_travel_good.png"):8==e.label?n.push("https://pages.c-ctrip.com/livestream/tripshoot/tripshoot_travel_pratical.png"):16==e.label&&n.push("https://pages.c-ctrip.com/livestream/tripshoot/tripshoot_travel_collect.png"));break;case null===b||void 0===b?void 0:b.ASK:o=1==e.subType?" \u53d1\u5e03\u4e86\u63d0\u95ee":" \u56de\u7b54\u4e86\u63d0\u95ee";break;case null===b||void 0===b?void 0:b.LIVE:var a;switch(null===e||void 0===e||null===(a=e.liveVideo)||void 0===a?void 0:a.liveStatus){case 0:e.liveVideo.publishTimeDisplay="",o="\u6b63\u5728\u76f4\u64ad";break;case 6:o="\u53d1\u5e03\u4e86\u76f4\u64ad\u56de\u653e";break;case 1:case 11:o="\u53d1\u5e03\u4e86\u76f4\u64ad";break;case 13:case 12:o="\u53d1\u5e03\u4e86\u76f4\u64ad\u9884\u544a";break}e.publishTimeDisplay=e.liveVideo.publishTimeDisplay;break;case null===b||void 0===b?void 0:b.ALBUM:o=" \u53d1\u5e03\u4e86\u4f5c\u54c1\u96c6";break;default:break}return e.isTop&&n.push("https://pages.c-ctrip.com/livestream/tripshoot/tripshoot_top.png"),o=e.publishTimeDisplay+o,(0,Ce.jsxs)(p.View,{className:"topview",children:[(0,Ce.jsxs)(p.View,{className:"single-left-wrap",children:[(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l?void 0:l.map((function(e,t){return e.isTop?null:(0,Ce.jsx)(p.Image,{className:"deny-img-icon",style:{width:e.width,height:e.height},mode:"aspectFit",src:e.tagIcon},t)}))),(0,Ce.jsx)(p.Text,{className:"pub_title ".concat(p.XUA.isIOS?"pub_title_ios":""),children:o})]}),(0,Ce.jsxs)(p.View,{className:"single-right-wrap",children:[null===n||void 0===n?void 0:n.map((function(e,t){return(0,Ce.jsx)(p.Image,{className:"level-icon",mode:"aspectFit",src:e},t)})),M(e,t,i)]})]})},F=function(e,t,i,n){o.current[i]||(o.current[i]=e,(o.current[i]||{}).item=t,(o.current[i]||{}).type=n)},P=function(e,t,i){var o;return(0,Ce.jsxs)(p.XView,{id:"card-wrap"+t,className:"single-card-wrap ".concat(0==t?"first-top":""),onClick:function(){oe(e,t,i)},testID:$(e,t,i),children:[A(e,t,i),e.hasVideo?N(e.video,null===e||void 0===e||null===(o=e.images)||void 0===o?void 0:o[0],!0):L(null===e||void 0===e?void 0:e.images,{},!0),k(null===e||void 0===e?void 0:e.articleTitle,!1,i),E(e,t,i)]})},R=function(e){var t,i=[];if(""!=(null===e||void 0===e?void 0:e.departureDate)){var o=e.departureDate.split("-").length>1&&e.departureDate.split("-")[1];i.push(parseInt(o)+"\u6708\u51fa\u53d1")}if(parseInt(null===e||void 0===e?void 0:e.travelDays)&&i.push(e.travelDays+"\u5929\u884c\u7a0b"),parseInt(null===e||void 0===e?void 0:e.consume)&&i.push("\u4eba\u5747\uffe5"+e.consume),(null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.length)>0){var n,l=JSON.parse(e.tags);i.push(null===l||void 0===l||null===(n=l[0])||void 0===n?void 0:n.name)}var s=null===i||void 0===i?void 0:i.join(" | ");return s?(0,Ce.jsx)(p.Text,{className:"travel-desctription",children:null===i||void 0===i?void 0:i.map((function(e,t){return t!=(null===i||void 0===i?void 0:i.length)-1?(0,Ce.jsxs)(p.Text,{className:"tag-text",children:[e,(0,Ce.jsx)(p.Text,{style:{color:"#cccccc"},children:" | "})]},t):(0,Ce.jsx)(p.Text,{className:"tag-text",children:e},t)}))}):null},H=function(e){var t=pe.getScoreObj(null===e||void 0===e?void 0:e.score),i=t.score,o=t.scoreImg,n=t.scoreTag,l=(null===e||void 0===e?void 0:e.subScores)&&JSON.parse(null===e||void 0===e?void 0:e.subScores)||[],s="";return l.map((function(e,t){s+=(null===e||void 0===e?void 0:e.name)+parseInt((null===e||void 0===e?void 0:e.score)||"0")+(t==l.length-1?"":" \xb7 ")})),(0,Ce.jsxs)(p.View,{className:"comment-middle",children:[(0,Ce.jsxs)(p.View,{className:"single-score-wrapper",children:[(0,Ce.jsx)(p.Image,{className:"single-score-img",src:o}),(0,Ce.jsx)(p.Text,{className:"single-score-text",children:i+"\u5206 "+n})]}),(0,Ce.jsx)(p.Text,{numberOfLines:1,className:"subscore",children:s})]})},z=function(e,t,i){var o,n,l,s,a={};if(null!==e&&void 0!==e&&null!==(o=e.imageList)&&void 0!==o&&o[0])a=(null===e||void 0===e||null===(s=e.imageList)||void 0===s?void 0:s[0])||{};else if(null!==e&&void 0!==e&&null!==(n=e.video)&&void 0!==n&&n.coverImageUrl){var r;a.dynamicUrl=null===e||void 0===e||null===(r=e.video)||void 0===r?void 0:r.coverImageUrl}var c=2;return a.dynamicUrl||(c=3),(0,Ce.jsxs)(p.XView,{ref:function(o){F(o,e,t,i)},testID:$(e,t,i),id:"card-wrap"+t,className:"single-card-wrap ".concat(0==t?"first-top":""),onClick:function(){oe(e,t,i)},children:[A(e,t,i),e.hasVideo?N(e.video,{dynamicUrl:null===e||void 0===e||null===(l=e.video)||void 0===l?void 0:l.coverImageUrl}):L(null===e||void 0===e?void 0:e.imageList),H(null===e||void 0===e?void 0:e.extInfo),k(null===e||void 0===e?void 0:e.content,!1,c),E(e,t,i)]})},W=function(e){var t=s-32,i=9*t/16;return(0,Ce.jsx)(p.Image,{className:"travel-image",src:e,mode:"aspectFill",style:{width:t,height:i}})},G=function(e,t,i){var o;return(0,Ce.jsxs)(p.XView,{ref:function(o){F(o,e,t,i)},testID:$(e,t,i),id:"card-wrap"+t,className:"single-card-wrap ".concat(0==t?"first-top":""),onClick:function(){oe(e,t,i)},children:[A(e,t,i),W(null===e||void 0===e||null===(o=e.images)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.dynamicUrl),k(null===e||void 0===e?void 0:e.title),R(null===e||void 0===e?void 0:e.ext),E(e,t,i)]})},X=function(t,i,o){var n,l,s,a,r,c,d,u,v;return 0==(null===(n=t.liveVideo)||void 0===n?void 0:n.liveStatus)?(0,Ce.jsxs)(p.XView,{ref:function(e){F(e,t,i,o)},testID:$(t,i,o),id:"card-wrap"+i,className:"single-card-wrap ".concat(0==i?"first-top":""),onClick:function(){oe(t,i,o)},children:[A(t,i,o),(0,Ce.jsxs)(p.View,{className:"single-living-wrap",children:[L([null===t||void 0===t||null===(l=t.liveVideo)||void 0===l?void 0:l.coverImage],{marginTop:0}),(0,Ce.jsxs)(p.View,{className:"live-tag",style:0==(null===t||void 0===t||null===(s=t.liveVideo)||void 0===s?void 0:s.liveStatus)?{paddingLeft:3}:{},children:[(0,Ce.jsx)(Ie,{className:"gif-wrapper",start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],colors:["rgba(45,204,193,1)","rgba(0,134,246,1)"],children:(0,Ce.jsx)(p.Image,{className:"img-gif",src:"https://pages.c-ctrip.com/livestream/video/playing.gif"})}),(0,Ce.jsxs)(p.Text,{className:"living_text",children:["\u76f4\u64ad\u4e2d",(0,Ce.jsx)(p.Text,{style:{color:"rgba(255,255,255,0.6)",height:10},children:" | "}),(t.liveVideo.viewCount>1e4?"9999+":t.liveVideo.viewCount>1e3?"999+":t.liveVideo.viewCount)+"\u70ed\u5ea6"]})]}),(0,Ce.jsx)(p.Image,{className:"single-liveing-img",mode:"aspectFit",src:"https://pages.c-ctrip.com/livestream/live/webcast-home-praise.webp"})]}),j(null===t||void 0===t||null===(a=t.liveVideo)||void 0===a?void 0:a.title),(!(null===t||void 0===t||null===(r=t.liveVideo)||void 0===r||null===(r=r.poiInfo)||void 0===r||!r.poiName)||!(null===t||void 0===t||null===(c=t.liveVideo)||void 0===c||null===(c=c.poiInfo)||void 0===c||!c.districtName))&&E(t,i,o)]}):(0,Ce.jsxs)(p.XView,{className:"single-card-wrap ".concat(0==i?"first-top":""),onClick:function(){oe(t,i,o)},children:[(0,Ce.jsxs)(p.View,{className:"top-wrapper",children:[A(t,i,o),(0,Ce.jsxs)(p.View,{className:"other-content-wrap",children:[Q(null===t||void 0===t||null===(d=t.liveVideo)||void 0===d||null===(d=d.coverImage)||void 0===d?void 0:d.dynamicUrl),(0,Ce.jsxs)(p.View,{className:"content-right-wrap",children:[k(null===t||void 0===t||null===(u=t.liveVideo)||void 0===u?void 0:u.title,!0),J(t,o,i)]})]})]}),i!=(null===(v=e.mixDataList)||void 0===v?void 0:v.length)-1&&(0,Ce.jsx)(p.View,{className:"bottom-line"})]})},K=function(e,t){return e?(0,Ce.jsx)(p.Text,{className:"card-content ".concat(1==t?"line-1":""),numberOfLines:parseInt(t),children:"\u201c"+e+"\u201d"}):null},J=function(e,t){var i="",o="",n=!1;switch(parseInt(t)){case b.ALBUM:i="\u5171"+e.count+"\u7bc7\u5185\u5bb9",o=e.actionButtonValue||"\u67e5\u770b\u8be6\u60c5";break;case b.LIVE:var l=e.liveVideo||{};i=l.startTime+"\u5f00\u64ad",o=l.actionButtonValue,13==l.liveStatus&&(i=l.actionButtonValue,o=""),11!=l.liveStatus&&1!=l.liveStatus||(n=!0);break;case b.ASK:i=e.replyCount>0?"\u5171"+e.replyCount+"\u4eba\u56de\u7b54":"\u8fd8\u6ca1\u4eba\u56de\u7b54",o=e.actionButtonValue;break;default:break}return(0,Ce.jsxs)(p.View,{className:"other-bottom-wrapper ".concat(t==b.ASK?"ask-botton":"other-flex"),children:[(0,Ce.jsx)(p.Text,{className:"bottom-title",numberOfLines:1,children:i}),!!o&&(0,Ce.jsx)(Ie,{className:"bottom-btn-wrapper ".concat(n?"btn-disable":""),start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],colors:["rgba(45,204,193,1)","rgba(0,134,246,1)"],children:(0,Ce.jsx)(p.Text,{className:"single-btn-text",style:{color:n?"#999":"white"},children:o})})]})},q=function(t,i,o){var n;return(0,Ce.jsxs)(p.XView,{ref:function(e){F(e,t,i,o)},testID:$(t,i,o),id:"card-wrap"+i,className:"single-card-wrap ".concat(0==i?"first-top":""),onClick:function(){oe(t,i,o)},children:[A(t,i,o),k(null===t||void 0===t?void 0:t.title,!1),K(null===t||void 0===t?void 0:t.content,1),J(t,o,i),i!=(null===(n=e.mixDataList)||void 0===n?void 0:n.length)-1&&(0,Ce.jsx)(p.View,{className:"bottom-line"})]})},Q=function(e){var t=(0,p.dynamicImageUrl)({imageUrl:e,height:244,width:244,config:v,ext:{pageId:""}},(function(){}));return(0,Ce.jsx)(p.Image,{className:"little-image",defaultSource:"https://pages.c-ctrip.com/livestream/tripshoot/youyou_bg.jpg",mode:"aspectFill",src:null===t||void 0===t?void 0:t.dynamicUrl})},Y=function(t,i,o){var n;return(0,Ce.jsx)(p.XView,{ref:function(e){F(e,t,i,o)},testID:$(t,i,o),id:"card-wrap"+i,className:"single-card-wrap ".concat(0==i?"first-top":""),onClick:function(){oe(t,i,o)},children:(0,Ce.jsxs)(p.View,{className:"top-wrapper",children:[A(t,i,o),(0,Ce.jsxs)(p.View,{className:"other-content-wrap",children:[(0,Ce.jsx)(p.View,{className:"album-single-bg"}),Q(null===t||void 0===t?void 0:t.coverImageUrl,!1),(0,Ce.jsxs)(p.View,{className:"content-right-wrap album-right",children:[k(null===t||void 0===t?void 0:t.name,!0,1),K(null===t||void 0===t?void 0:t.remark,2),J(t,o,i)]})]}),i!=(null===(n=e.mixDataList)||void 0===n?void 0:n.length)-1&&(0,Ce.jsx)(p.View,{className:"bottom-line"})]})})},$=function(e,t,i){return""},ee=function(e,t){var i=[];switch(u=t,parseInt(e.type)){case null===b||void 0===b?void 0:b.ARTICLE:i.push(P(null===e||void 0===e?void 0:e.article,t,e.type));break;case null===b||void 0===b?void 0:b.COMMENT:case null===b||void 0===b?void 0:b.HOTELCOMMENT:i.push(z(null===e||void 0===e?void 0:e.comment,t,null===e||void 0===e?void 0:e.type));break;case null===b||void 0===b?void 0:b.TRAVEL:i.push(G(null===e||void 0===e?void 0:e.travel,t,null===e||void 0===e?void 0:e.type));break;case null===b||void 0===b?void 0:b.ASK:i.push(q(null===e||void 0===e?void 0:e.ask,t,null===e||void 0===e?void 0:e.type));break;case null===b||void 0===b?void 0:b.LIVE:i.push(X(null===e||void 0===e?void 0:e.live,t,null===e||void 0===e?void 0:e.type));break;case null===b||void 0===b?void 0:b.ALBUM:i.push(Y(null===e||void 0===e?void 0:e.album,t,null===e||void 0===e?void 0:e.type));break;default:break}return i},te=function(){var e;null===o||void 0===o||null===(e=o.current)||void 0===e||e.map((function(e,t){var i,o=h().createSelectorQuery();null===(i=o.select("#card-wrap"+t))||void 0===i||i.boundingClientRect(),o.exec((function(i){var o;ie(e,null===i||void 0===i||null===(o=i[0])||void 0===o?void 0:o.top,t)}))}))},ie=function(t,i,n){if((null===t||void 0===t||!t.exposedFlag)&&i<T.uK){var l,s,a=(null===t||void 0===t?void 0:t.item)||{};O.cardExpose({item:a,index:n,contentType:null===t||void 0===t?void 0:t.type,picStatus:(null===t||void 0===t?void 0:t.type)==b.ARTICLE?null!==a&&void 0!==a&&null!==(l=a.images)&&void 0!==l&&null!==(l=l[0])&&void 0!==l&&null!==(l=l.imgFormats)&&void 0!==l&&null!==(l=l[0])&&void 0!==l&&l.imgUrl?1:0:"",tab:e.subtype}),null!==o&&void 0!==o&&null!==(s=o.current)&&void 0!==s&&s[n]&&(o.current[n].exposedFlag=!0)}},oe=function(e,t,i){var o,n=i==b.ARTICLE&&null!==e&&void 0!==e&&null!==(o=e.images)&&void 0!==o&&null!==(o=o[0])&&void 0!==o&&null!==(o=o.imgFormats)&&void 0!==o&&null!==(o=o[0])&&void 0!==o&&o.imgUrl?1:0;pe.gotoDetail(e,t,i,n,d)},ne=function(t,i,o,n){null===t||void 0===t||t.stopPropagation(),(0,Se.bg)()?_.Z.checkRealName((function(){null===pe||void 0===pe||pe.doAction(i,o,(function(t){e.refreshList(t,o,n)}))})):(0,Se.x4)((function(){var t;null===(t=e.refreshAfterLogin)||void 0===t||t.call(e)}))};return(0,Ce.jsx)(p.View,{className:"single-list-wrap",style:(e.style,{paddingLeft:16,paddingRight:16}),children:(null===(g=e.mixDataList)||void 0===g?void 0:g.length)>0&&(null===(f=e.mixDataList)||void 0===f?void 0:f.map((function(e,t){return ee(e,t)})))})})),ot=it,nt=function(e){var t=e.data,i=e.showMoreDesc;return(0,Ce.jsxs)(p.View,{className:"more-modal",onClick:function(){null===i||void 0===i||i()},children:[(0,Ce.jsxs)(p.View,{className:"data-wrapper",children:[(0,Ce.jsx)(p.View,{className:"title",children:"\u5173\u4e8eTA"}),(0,Ce.jsx)(p.Text,{className:"content",children:t})]}),(0,Ce.jsx)(p.Image,{className:"close-img",src:"https://pages.c-ctrip.com/livestream/tripshoot/dest_tripshoot_task_close.png",onClick:function(){null===i||void 0===i||i()}})]})},lt=nt,st=function(e){var t,i=e.data,o=e.isCurrentUser,n=e.index,l=e.showEditLayer,s=e.updateDeleteAlertItem,a=e.hideEditLayer,r=(null===i||void 0===i?void 0:i.ext)||{},c=null===r||void 0===r?void 0:r.name,d={imageHostRegExp:null,testImageHostRegExp:null,config:[{width:640,height:0,quality:"80",limit:500},{width:640,height:0,quality:"50",limit:350},{width:460,height:0,quality:"50",limit:250},{width:320,height:0,quality:"50",limit:0}]},u=(0,p.dynamicImageUrl)({imageUrl:null===r||void 0===r?void 0:r.coverImage,height:224,width:200,config:d,ext:{pageId:""}},(function(){})),v=(null===i||void 0===i?void 0:i.tags)||[],h=null===r||void 0===r?void 0:r.price,g=null===r||void 0===r?void 0:r.bussinessActionText,f=(0,m.useCallback)((function(){var e={productType:i.type,productId:i.ext.starRecProductId};O.productClick(e),_.Z.commonJump(i.h5Url,i.appUrl,i.wxUrl)}),[i.appUrl,null===i||void 0===i||null===(t=i.ext)||void 0===t?void 0:t.starRecProductId,i.h5Url,i.type,i.wxUrl]),y=(0,m.useCallback)((function(e,t){var o;T.N0()||null===t||void 0===t||t.stopPropagation();var r,c,d=[],u=null===i||void 0===i||null===(o=i.ext)||void 0===o?void 0:o.starRecProductId,v=(0,_e.Q)()+"webapp/you/tsnap/recommend/edit.html?isHideNavBar=YES&starRecProductId="+u;r={name:"\u7f16\u8f91",mainType:"product",id:u,index:n,data:i},c={name:"\u5220\u9664",data:i,index:n,mainType:"product",id:u,color:"#F63B2E"},r.callback=function(){a();var e=40==i.type?i.groupGoods&&i.groupGoods.id:i.ext&&i.ext.starRecProductId,t={productType:i.type,productId:e,clickType:"edit"};O.productEdit(t),_.Z.commonJump(v,v,v)},c.callback=function(){a();var e=40==i.type?i.groupGoods&&i.groupGoods.id:i.ext&&i.ext.starRecProductId,t={productType:i.type,productId:e,clickType:"delete"};O.productEdit(t),s(i.ext&&i.ext.starRecProductId,n,"product")},d=[r,c],l(d)}),[i,n,l,s]),b={};return T.Dt()?b.shadowColor="rgba(68,74,81,0.42)":T.Tt()&&(b={}),(0,Ce.jsx)(m.Fragment,{children:(0,Ce.jsxs)(p.XView,{className:"list-productItem ".concat(T.Dt()?"":"not-android-shadow"),style:b,onClick:f,children:[(0,Ce.jsxs)(p.View,{className:"pro-left-wrap",children:[(0,Ce.jsx)(p.Image,{className:"default-img",src:"https://pages.c-ctrip.com/you/livestream/lvpai_logo_youyou.png"}),(0,Ce.jsx)(p.Image,{className:"left-wrap-img",src:null===u||void 0===u?void 0:u.dynamicUrl}),i.businessName&&(0,Ce.jsx)(p.View,{className:"product-name",children:(0,Ce.jsx)(p.Text,{className:"product-name-span",children:i.businessName})})]}),(0,Ce.jsxs)(p.View,{className:"right-wrap",children:[(0,Ce.jsx)(p.View,{className:"title-star-wrap",children:(0,Ce.jsxs)(p.Text,{numberOfLines:2,className:"pro-title",children:[c," "]})}),("HOTEL_STORE"==r.businessType||"FOOD_VOUCHERS"==r.businessType)&&!!r.subtitle&&(0,Ce.jsx)(p.View,{className:"subtitle",children:(0,Ce.jsx)(p.Text,{className:"subtitle-span",numberOfLines:1,children:r.subtitle})}),(0,Ce.jsx)(p.View,{className:"right",children:o?(0,Ce.jsx)(p.View,{className:"more-menu",onClick:function(e){return y(i,e)},children:(0,Ce.jsx)(p.Image,{className:"more-menu-img",src:"https://pages.c-ctrip.com/livestream/tripshoot/user_more_333.png"})}):null}),!("HOTEL_STORE"==r.businessType||"FOOD_VOUCHERS"==r.businessType)&&(0,Ce.jsxs)(p.View,{className:"score-wrap",children:[26!=i.type&&parseInt(r.commentScore)>0&&(0,Ce.jsxs)(p.Text,{className:"score-num",children:[r.commentScore,(0,Ce.jsx)(p.Text,{className:"score-text",children:"\u5206"})]}),26!=i.type&&parseInt(r.commentCount)>0&&(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(p.Text,{className:"line_v",style:{color:"#dddddd",fontFamily:"PingFangSC-Regular"},children:" | "}),(0,Ce.jsx)(p.Text,{className:"comment-count",style:{fontFamily:"PingFangSC-Light"},children:r.commentCount+"\u6761\u70b9\u8bc4"})]}),26==i.type&&parseInt(r.travelPersons)>0&&(0,Ce.jsx)(p.Text,{className:"comment-count",children:r.travelPersons+"\u4eba\u63d0\u4ea4\u9700\u6c42"})]}),(null===v||void 0===v?void 0:v.length)>0&&(0,Ce.jsx)(p.View,{className:"good-wrap",style:{marginRight:80},children:(0,Ce.jsx)(p.View,{className:"tags",children:v.map((function(e,t){return(0,Ce.jsx)(p.View,{className:"tag-item",children:(0,Ce.jsx)(p.Text,{className:"tag-item-span",children:e})},t)}))})}),(0,Ce.jsxs)(p.View,{className:"bottom-wrap",children:[parseInt(r.discountPrice)>0&&(0,Ce.jsxs)(p.Text,{className:"discount-price",children:["\uffe5",(0,Ce.jsx)(p.Text,{className:"big-text",children:r.discountPrice}),"\u8d77"]}),parseInt(h)>0&&r.discountPrice!=h&&parseInt(r.discountPrice)>0&&(0,Ce.jsxs)(p.Text,{className:"price",children:[" ","\uffe5"+h]})]}),(0,Ce.jsx)(p.View,{className:"btn-wrap",children:g&&(0,Ce.jsx)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],className:"btn-text",colors:["#ffa50a","#f70"],children:(0,Ce.jsx)(p.Text,{style:T.Tt()?{fontWeight:"bold"}:{},numberOfLines:1,className:"btn-text-span",children:g})})})]})]})})},at=function(e){var t,i=e.showList,o=e.isCurrentUser,n=e.userBaseInfo,l=e.showEditLayer,s=e.updateDeleteAlertItem,a=e.hideEditLayer,r=(null===n||void 0===n||null===(t=n.userBase)||void 0===t?void 0:t.identityType)||0;return(0,Ce.jsx)(Ce.Fragment,{children:(0,Ce.jsx)(p.View,{className:"pro_list",children:i.map((function(e,t){return 26!=e.type&&T.eW()||!T.eW()?(0,Ce.jsx)(st,{data:e,index:t,isCurrentUser:o,userBaseInfo:n,identityType:r,showEditLayer:l,hideEditLayer:a,updateDeleteAlertItem:s},"item-".concat(t)):null}))})})},rt=at,ct=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(e){var o;return(0,a.Z)(this,i),o=t.call(this,e),(0,v.Z)((0,c.Z)(o),"getRootStyle",(function(){return{}})),o}return(0,r.Z)(i,[{key:"renderNormal",value:function(e,t){var i=this;return(0,Ce.jsxs)(p.View,{className:"customizer-bottom-item",onClick:function(){return i.clickOnline(e,t)},children:[(0,Ce.jsx)(p.Image,{className:"customizer-bottom-item-img",src:t.buttonIcon}),(0,Ce.jsx)(p.Text,{className:"customizer-bottom-item-text",children:t.buttonText})]})}},{key:"renderButton",value:function(e,t){var i=this,o=(0,Ce.jsxs)(Ie,{start:{x:0,y:1},end:{x:1,y:1},locations:[0,1],colors:["#ffb114","#f70"],className:"customizer-bottom-button",onClick:function(){return i.clickCustomizer(e,t)},children:[(0,Ce.jsx)(p.Image,{className:"customizer-bottom-button-img",src:t.buttonIcon}),(0,Ce.jsx)(p.Text,{className:"customizer-bottom-button-text",style:p.XUA.isApp()?{lineHeight:null}:null,children:t.buttonText})]});return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(p.View,{style:{flex:1}}),o]})}},{key:"renderDisableButton",value:function(e,t){return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(p.View,{style:{flex:1}}),(0,Ce.jsxs)(p.View,{className:"customizer-bottom-disable-button",children:[(0,Ce.jsx)(p.Image,{className:"customizer-bottom-button-img",src:t.buttonIcon}),(0,Ce.jsx)(p.Text,{className:"customizer-bottom-disable-button-text",style:p.XUA.isApp()?{lineHeight:null}:null,children:t.buttonText})]})]})}},{key:"clickOnline",value:function(e,t){if("button24_2"==t.buttonName){if(t.buttonParameterMap&&t.buttonParameterMap.phone){var i=t.buttonParameterMap.phone;this.props.clickPhone(i);var o={actionType:"trace",status:e.isCurrentUser?0:1,user:e.userBase.identityType,nickName:e.userBase.nickName};O.clickCustomizerPhone(o)}}else if("button24_1"==t.buttonName){var n=t.channelUrl;if(n){var l="".concat(n.h5Url,"&pageId=").concat(this.props.pageId),s="".concat(n.wechatUrl,"&pageId=").concat(this.props.pageId),a="ctrip://wireless/tour_groupchat_robot_url?groupBizType=1046&args=".concat(_.Z.base64Encode(JSON.stringify({IMCode:"".concat(t.buttonParameterMap.IMCode),pageId:"".concat(this.props.pageId),isPreSale:"1",opUid:"".concat(t.buttonParameterMap.opUid)})));_.Z.commonJump(l,a,s);var r={actionType:"trace",status:e.isCurrentUser?0:1,user:e.userBase.identityType,nickName:e.userBase.nickName};O.clickCustomizerOnline(r)}}}},{key:"clickCustomizer",value:function(e,t){var i=t.channelUrl;if(i){_.Z.commonJump(i.h5Url,i.appUrl,i.wechatUrl);var o={actionType:"trace",status:e.isCurrentUser?0:1,user:e.userBase.identityType,nickName:e.userBase.nickName};O.clickCustomizer(o)}}},{key:"render",value:function(){var e,t=this,i=this.props,o=i.userIdentitySpecial,n=i.userBaseInfo;return(null===o||void 0===o||null===(e=o.buttonList)||void 0===e?void 0:e.length)>0?(0,Ce.jsxs)(p.View,{className:"customizer-bottom-root ".concat(p.XUA.isAndroid()?"":"ios-shadow"),children:[(0,Ce.jsx)(p.View,{className:"customizer-bottom",children:o.buttonList.map((function(e){return"normal"==e.buttonStyle?t.renderNormal(n,e):"horizontal-style"==e.buttonStyle?t.renderButton(n,e):"horizontal-style-disable"==e.buttonStyle?t.renderDisableButton(n,e):null}))}),(0,Ce.jsx)(p.XIphoneXAdapter.Bottom,{})]}):null}}]),i}(m.Component),dt=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(e){return(0,a.Z)(this,i),t.call(this,e)}return(0,r.Z)(i,[{key:"renderItem",value:function(e,t){var i=this;return(0,Ce.jsxs)(p.View,{className:"customizer-floor-item",onClick:function(){i.onItemClick(e,t)},children:[(0,Ce.jsx)(p.Text,{className:"customizer-floor-item-title",children:t.itemTitle}),t.itemContent&&t.itemContent.length>0&&(0,Ce.jsxs)(p.View,{className:"customizer-floor-item-disc",children:[(0,Ce.jsx)(p.Text,{className:"customizer-floor-item-disc-big",children:t.itemContent[0]}),t.itemContent.length>1&&(0,Ce.jsx)(p.Text,{className:"customizer-floor-item-disc-small",children:t.itemContent[1]})]})]})}},{key:"onItemClick",value:function(e,t){if(t.itemContent&&t.itemContent.length>2){var i=t.itemContent[2];if(i){if("commentScore"==t.itemName){var o={actionType:"trace",actionCode:"c_gs_tripshoot_myhome_B_review",status:e.isCurrentUser?0:1,user:e.userBase.identityType,nickName:e.userBase.nickName};O.customizerFloorItemClick(o)}_.Z.commonJump(i,i,i)}}}},{key:"render",value:function(){var e=this,t=this.props,i=t.userIdentitySpecial,o=t.userBaseInfo;return i&&i.moduleList?(0,Ce.jsx)(m.Fragment,{children:(0,Ce.jsx)(p.View,{className:"custom-wrap",children:(0,Ce.jsx)(p.View,{className:"customizer-floor",children:i.moduleList[0].moduleItemList.map((function(t){return e.renderItem(o,t)}))})})}):null}}]),i}(m.Component),ut=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(){var e;(0,a.Z)(this,i);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,v.Z)((0,c.Z)(e),"closeOptionPop",(function(){var t,i;null===(t=(i=e.props).closeOptionPop)||void 0===t||t.call(i)})),(0,v.Z)((0,c.Z)(e),"chooseOptionItem",(function(t){var i,o;null===(i=(o=e.props).chooseOptionItem)||void 0===i||i.call(o,t);var n="";12==t.type?n="review":5==t.type?n="poiReview":11==t.type&&(n="hotelReview"),O.commentOptionsClick({tabname:n}),e.closeOptionPop()})),e}return(0,r.Z)(i,[{key:"render",value:function(){var e,t=this;return(0,Ce.jsx)(p.View,{className:"options-layer",onClick:function(){t.closeOptionPop()},children:(0,Ce.jsx)(p.View,{className:"options-wrapper ".concat(T.Dt()?"":"not-android-shadow"),style:{top:this.props.optionsTop,right:this.props.optionsRight},children:null===(e=this.props.expandList)||void 0===e?void 0:e.map((function(e,i){var o;return(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)(p.View,{className:"option-item",onClick:function(){t.chooseOptionItem(e)},children:(0,Ce.jsx)(p.Text,{className:"option-text ".concat(e.type==t.props.subtype?"option-text-active":""),children:"\u70b9\u8bc4"==(null===e||void 0===e?void 0:e.name)?"\u5168\u90e8\u70b9\u8bc4":null===e||void 0===e?void 0:e.name})},i),i!=(null===(o=t.props.expandList)||void 0===o?void 0:o.length)-1&&(0,Ce.jsx)(p.View,{className:"option-line"})]})}))})})}}]),i}(m.Component),vt=function(e){var t=e,i=t.userBase,o=i&&i.backGroundPhoto?i.backGroundPhoto:"",n=i&&i.backGroundPhotoCheck?i.backGroundPhotoCheck:"",l="";return(o&&!n||o&&n&&!t.isCurrentUser)&&(l=o),n&&t.isCurrentUser&&(l=n),l||"https://dimg04.c-ctrip.com/images/0103d120008yeyeiy3C96.jpg"},mt=function(e){var t,i,o=e.userBase,n=e.userFriend,l={};return l.isCurrentUser=e.isCurrentUser||!1,l.userBackGroundPhoto=vt(e)||"",l.headPhoto=o&&o.headPhoto||"",l.nickName=o&&o.nickName||"",l.identityType=o&&o.identityType,l.clientAuth=o&&o.clientAuth||"",l.identityValidDays=o&&o.identityValidDays||0,l.isOfficialUser=n&&n.isOfficialUser||!1,l.vIcon=o&&o.vIcon||"",l.userType=o&&o.userType,l.isBlack=n&&n.isBlack||!1,l.isBlacked=n&&n.isBlacked||!1,null!==(t=e.userBase)&&void 0!==t&&t.showTagList&&(null===(i=e.userBase)||void 0===i?void 0:i.showTagList.length)>0&&(l.tag=e.userBase.showTagList[0].tagName),l},pt=function(e,t){if(t&&t.length>0){e.hasEnterCpc&&(e.hasEnterCpc=!1);var i=null===t||void 0===t?void 0:t.find((function(e){return"poiCollect"==e.moduleName}));if(i){var o,n,l,s,a,r=null===t||void 0===t?void 0:t.findIndex((function(e){return"poiCollect"==e.moduleName})),c=Date.parse(new Date),d=h().getStorageSync("poiCollect_days");if((null===i||void 0===i||null===(o=i.tipDtos)||void 0===o?void 0:o.length)>0)if(1==(null===i||void 0===i||null===(n=i.tipDtos)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.type))if(d&&c-d<=24*((null===i||void 0===i||null===(l=i.tipDtos)||void 0===l||null===(l=l[0])||void 0===l||null===(l=l.beenDto)||void 0===l?void 0:l.expireDays)||0)*60*60*1e3||e.hasClickPoiGone)2==(null===i||void 0===i||null===(s=i.tipDtos)||void 0===s||null===(s=s[1])||void 0===s?void 0:s.type)&&(e.hasClickPoiNew||(i.moduleSubTitle="\u4e0a\u65b0",i.background="blue"));else i.moduleSubTitle="\u53bb\u8fc7",i.background="blue";else 2==(null===i||void 0===i||null===(a=i.tipDtos)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.type)&&(e.hasClickPoiNew||(i.moduleSubTitle="\u4e0a\u65b0",i.background="blue"));else i.moduleSubTitle="";t[r]=i}var u=null===t||void 0===t?void 0:t.find((function(e){return"creative"==e.moduleName}));if(u){var v=null===t||void 0===t?void 0:t.findIndex((function(e){return"creative"==e.moduleName}));1==u.remindType?(u.moduleSubTitle="\u529f\u80fd\u4e0a\u65b0",u.background="blue"):2==u.remindType?u.moduleSubTitle="\u6536\u76ca\u8fdb\u8d26":3==u.remindType&&(u.moduleSubTitle="\u6570\u636e\u66f4\u65b0",u.background="blue"),t[v]=u}e.setState({entryList:t})}},ht=function(e){var t=e.userBaseInfo,i={medalData_identity:{},showIdentityModal:!1,medalData_level:{},showLevelModal:!1,medalData:{},showMedalModal:!1};if(t.windowList&&t.windowList.length>0)for(var o=t.windowList,n=0;n<o.length;n++){var l=o[n];if("identity"==l.moduleName&&(i.medalData_identity=l,l.isDefaultSelect&&(i.showIdentityModal=!0,O.traceMedalLog({type:1}))),"level"==l.moduleName&&(i.medalData_level=l,l.isDefaultSelect&&(i.showLevelModal=!0,O.traceMedalLog({type:2}))),"personalmedal"==l.moduleName){var s=l;s.medalIcon=l.moduleIcon||"",s.medalName=l.moduleSubTitle||"",s.medalDesc=l.moduleContent||"",i.medalData=l,l.isDefaultSelect&&(i.showMedalModal=!0,O.traceMedalLog({type:3}))}}return i},gt=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(t){var i,o,n,s=arguments;return(0,l.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=s.length>1&&void 0!==s[1]?s[1]:"",o=s.length>2?s[2]:void 0,s.length>3?s[3]:void 0,n={clientAuth:i,contentType:"json"},j(n,(function(e){ft(t,e,o)}),(function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(e,t,i){var o=!1,n={},l=!1,s=0,a=0,r={},c=[],d="",u={};try{var v,m,p,h,g,f,y,b=t||{};if(n.tabList=b.tabList||[],n.windowList=b.windowList||[],n.userBase=b.userBase||{},n.userFriend=b.userFriend||{},n.userLive=b.userLive||{},n.userUGC=b.userUGC||{},n.isCurrentUser=b.isCurrentUser||!1,n.userIdentitySpecial=b.userIdentitySpecial||!1,n.userTag=b.userTag||{},n.userBackGroundPhoto=vt(b),a=null===(v=b.userFriend)||void 0===v?void 0:v.followCount,r=mt(b),c=b.drawerList||[],n.isCurrentUser)null!==n&&void 0!==n&&null!==(g=n.userBase)&&void 0!==g&&g.backGroundPhotoCheck||null===n||void 0===n||null===(f=n.userBase)||void 0===f||!f.isDefaultBackGroundPhoto||(l=!0),pt(e,b.entryList);else null!==n&&void 0!==n&&null!==(y=n.userBase)&&void 0!==y&&y.isDefaultBackGroundPhoto&&(l=!0);if(b.userFriend&&b.userFriend.isFriend&&(s=1,b.userFriend.isFollow&&(s=2)),null!==(m=b.userFriend)&&void 0!==m&&m.isBlack&&(s=3),null!==(p=b.userFriend)&&void 0!==p&&p.isBlacked&&(s=4),(null===(h=b.entryModuleList)||void 0===h?void 0:h.length)>0){var x=b.entryModuleList;x.forEach((function(e){var t;"privatemessage"==e.entryModuleName&&(d=null===e||void 0===e||null===(t=e.channelUrl)||void 0===t?void 0:t.appUrl)}))}u=ht({userBaseInfo:n})}catch(e){}var w=i({userBaseInfo:n,userBackGroundPhoto:n.userBackGroundPhoto,isDefaultBg:l,followStatus:s,followCount:a,headerInfo:r,drawerList:c,IMUrl:d,identityObj:u,isError:o});return w},yt=function(e){var t=e.followStatus,i=e.followCount,o=(e.userBaseInfo,e.clientAuth),n=e.callback,l=e.updateDeleteAlertItem,s=e.refreshAfterLogin,a={},r="",c=0;0==t?c=1:1!=t&&2!=t||(c=0),O.followClick({followType:c}),(0,Se.bg)()?0==t||4==t?(a={friendClientAuth:o},B(a,(function(e){var o,l,s;null!==e&&void 0!==e&&null!==(o=e.result)&&void 0!==o&&o.result?(e.isTaskFinished&&T.eW()?r=e.toastInfo:1==e.attentionType?(t=1,i++,r=e.rewardInfo&&e.rewardInfo.score?"\u5173\u6ce8\u6210\u529f +"+e.rewardInfo.score+"\u79ef\u5206":"\u5173\u6ce8\u6210\u529f"):2==e.attentionType&&(t=2,i++,r=e.rewardInfo&&e.rewardInfo.score?" +"+e.rewardInfo.score+"\u79ef\u5206\uff0c\u4f60\u4eec\u5df2\u4e92\u76f8\u5173\u6ce8\uff0c\u6210\u4e3a\u793e\u533a\u597d\u53cb":"\u4f60\u4eec\u5df2\u7ecf\u4e92\u76f8\u5173\u6ce8\uff0c\u6210\u4e3a\u793e\u533a\u597d\u53cb"),n&&n({followStatus:t,followCount:i}),h().showToast({title:r,duration:1500,icon:"none"})):null!==e&&void 0!==e&&null!==(l=e.result)&&void 0!==l&&l.result?h().showToast({title:"\u5173\u6ce8\u5931\u8d25",duration:1500,icon:"none"}):h().showToast({title:(null===(s=e.data)||void 0===s||null===(s=s.result)||void 0===s?void 0:s.resultText)||"",duration:1500,icon:"none"})}),(function(){h().showToast({title:"\u5173\u6ce8\u5931\u8d25",duration:1500,icon:"none"})}))):3==t?l(0,0,"blackOthers"):(a={UserClientAuth:o},E(a,(function(e){0==(null===e||void 0===e?void 0:e.ResultStatus)?(t=0,i--,h().showToast({title:"\u53d6\u6d88\u5173\u6ce8\u6210\u529f",duration:1500,icon:"none"}),n&&n({followStatus:t,followCount:i})):h().showToast({title:"\u53d6\u6d88\u5173\u6ce8\u5931\u8d25",duration:1500,icon:"none"})}),(function(){h().showToast({title:"\u53d6\u6d88\u5173\u6ce8\u5931\u8d25",duration:1500,icon:"none"})}))):(0,Se.x4)((function(){s&&s()}))},bt=function(e){if(!e.isLoading){var t={buType:e.commendPrdctListType,clientAuth:e.clientAuth,lastId:e.commendPrdctParams.lastId,pageSize:e.commendPrdctParams.pageSize};e.state.isLoading||(e.loadingState=1,e.isLoading=!0,U(t,(function(t){var i,o,n;e.isLoading=!1,e.commendPrdctParams.TotalCount=t.totalCount;var l=e.state.showList.concat(t.products);(null===t||void 0===t||null===(i=t.products)||void 0===i?void 0:i.length)>0&&(e.commendPrdctParams.lastId=t.lastId,e.isEnd=!1,e.isEmpty=!1),0==(null===t||void 0===t||null===(o=t.products)||void 0===o?void 0:o.length)&&0==(null===(n=e.commendPrdctParams)||void 0===n?void 0:n.lastId)&&(e.isEmpty=!0,e.isEnd=!0,e.setState({emptyStatus:{type:"product",pic:"https://pages.c-ctrip.com/livestream/tripshoot/dest_tripshoot_empty.png",name:e.state.isCurrentUser?"\u4f60\u7684\u8d27\u67b6\u7a7a\u7a7a\u5982\u4e5f":"TA\u7684\u8d27\u67b6\u7a7a\u7a7a\u5982\u4e5f",btn:""}})),e.commendPrdctParams.pageSize>=e.commendPrdctParams.TotalCount&&0!==e.commendPrdctParams.lastId&&(e.loadingState=2,e.isEnd=!0,e.isEmpty=!1),e.setState({showList:l,isEnd:e.isEnd,isEmpty:e.isEmpty,isLoading:!1})}),(function(t){e.isLoading=!1,e.setState({isLoading:!1})})))}},xt=function(e,t,i){var o="",n={},l={};if(i)return n={name:"\u7f51\u7edc\u4e0d\u7ed9\u529b",subtitle:"\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e\u540e\u518d\u8bd5",btn:"",pic:"https://pages.c-ctrip.com/livestream/tripshoot/no_network.png",btnStyle:{backgroundColor:"#0086F6",borderRadius:4}},n;if(e.subtype==b.ALBUM)n={name:e.state.isCurrentUser?"\u4f60\u8fd8\u6ca1\u6709\u521b\u5efa\u4f5c\u54c1\u96c6":"TA\u8fd8\u6ca1\u6709\u521b\u5efa\u4f5c\u54c1\u96c6",subtitle:"\u5df2\u53d1\u5e03\u5185\u5bb9\u52a0\u5165\u4f5c\u54c1\u96c6\uff0c\u4f1a\u6709\u66f4\u591a\u4eba\u770b\u5230",btn:e.state.isCurrentUser?"\u524d\u5f80\u521b\u5efa":"",pic:"https://pages.c-ctrip.com/livestream/tripshoot/dest_tripshoot_empty.png",url:"/rn_destination_video/main.js?CRNModuleName=destinationlive&CRNType=1&isHideNavBar=YES&initialPage=ChooseWorksView&isTransparentBg=YES&type=new",btnStyle:{backgroundColor:"#0086F6",borderRadius:4},extraText:"\u4f5c\u54c1\u96c6\u4f7f\u7528\u6559\u7a0b"};else if(0!=e.subtype)n={pic:"https://pages.c-ctrip.com/livestream/tripshoot/dest_tripshoot_empty.png",name:"\u8fd9\u4e2a\u53f7\u5f88\u795e\u79d8\uff0c\u8fd8\u6ca1\u6709\u7559\u4e0b\u5370\u8bb0",btn:e.state.isCurrentUser?"\u7acb\u5373\u53bb\u53d1\u5e03":"",url:"ctrip://wireless/destination/toWriteTravelPage?source=myhome",btnStyle:{backgroundColor:"#0086F6",borderRadius:4}};else{var s;if(!t||(null===t||void 0===t?void 0:t.length)<=0||!e.state.isCurrentUser)n={pic:"https://pages.c-ctrip.com/livestream/tripshoot/dest_tripshoot_empty.png",name:"\u8fd9\u4e2a\u53f7\u5f88\u795e\u79d8\uff0c\u8fd8\u6ca1\u6709\u7559\u4e0b\u5370\u8bb0",btn:e.state.isCurrentUser?"\u7acb\u5373\u53bb\u53d1\u5e03":"",url:"ctrip://wireless/destination/toWriteTravelPage?source=myhome",btnStyle:{backgroundColor:"#0086F6",borderRadius:4}};else null===t||void 0===t||null===(s=t.slice(0,1))||void 0===s||s.map((function(e){var t,i,s,a,r,c;if(T.N0)o=(null===e||void 0===e||null===(c=e.url)||void 0===c?void 0:c.appUrl)||"";else if((0,T.di)()){var d;o=(null===e||void 0===e||null===(d=e.url)||void 0===d?void 0:d.wxUrl)||""}else{var u;o=(null===e||void 0===e||null===(u=e.url)||void 0===u?void 0:u.h5Url)||""}n={type:"tripshoot",name:null===e||void 0===e?void 0:e.title,cardType:null===e||void 0===e?void 0:e.type,businessId:null===e||void 0===e?void 0:e.businessId,subtitle:""!=(null===e||void 0===e?void 0:e.number)&&"0"!=(null===e||void 0===e?void 0:e.number)&&null!==e&&void 0!==e&&e.number?(null===e||void 0===e?void 0:e.number)+(null===e||void 0===e?void 0:e.subTitle):null===e||void 0===e?void 0:e.subTitle,btn:(null===e||void 0===e||null===(t=e.url)||void 0===t?void 0:t.name)||"\u524d\u5f80\u5206\u4eab",pic:null!==e&&void 0!==e&&e.isTaskTime&&2==e.type?null===e||void 0===e||null===(i=e.pointIconMap)||void 0===i?void 0:i.reward:null===e||void 0===e||null===(s=e.icon)||void 0===s?void 0:s.dynamicUrl,url:o,imgStyle:{borderRadius:1==(null===e||void 0===e?void 0:e.type)||4==(null===e||void 0===e?void 0:e.type)?48:12,height:1==(null===e||void 0===e?void 0:e.type)||5==(null===e||void 0===e?void 0:e.type)?139:96,width:1==(null===e||void 0===e?void 0:e.type)||5==(null===e||void 0===e?void 0:e.type)?170:96},guideItems:e.guideItems,cornerIcon:null!==e&&void 0!==e&&e.matchCollectPoi?null===(a=e.pointIconMap)||void 0===a?void 0:a.pointsAmount:"",isLottery:null!==e&&void 0!==e&&e.matchCollectPoi?1:0,activityName:(null===e||void 0===e||null===(r=e.activityGuideDto)||void 0===r?void 0:r.activityName)||""},l={cardType:null===e||void 0===e?void 0:e.type,isNew:1,districtId:(null===e||void 0===e?void 0:e.businessId)||""}}));var a,r,c=[];if(a=e.guideCard.findIndex((function(e){return"draft"==e.type})),a>-1)c.push(null===(r=e.guideCard)||void 0===r?void 0:r[a]);e.guideCard=c}return e.state.isCurrentUser&&!e.hasLoggedEmptyPublish&&(10==e.subtype?O.albumEmptyExpo({cardType:0}):O.publishCardExpose(l),e.hasLoggedEmptyPublish=!0),n},wt=function(e){(0,d.Z)(i,e);var t=(0,u.Z)(i);function i(e){var o;return(0,a.Z)(this,i),o=t.call(this,e),(0,v.Z)((0,c.Z)(o),"getPageId",(function(){return"10650099992"})),(0,v.Z)((0,c.Z)(o),"dealBaseInfoData",(function(e){var t=e.userBaseInfo,i=e.userBackGroundPhoto,n=e.isDefaultBg,l=e.followStatus,s=e.followCount,a=e.headerInfo,r=e.drawerList,d=e.IMUrl,u=e.identityObj,v=e.isError,m={};if(v)m.currentLoadingState=4,o.setState({currentLoadingState:4});else{var p,h;o.headerInfo=a,o.userBaseInfo=t,O.setParams({status:t.isCurrentUser?0:1,user:t.userBase.identityType});var f="light-content";if(n&&(f="dark-content"),m={headerInfo:a,userBaseInfo:t,userBackGroundPhoto:i,followStatus:l,followCount:s,isDefaultBg:n,drawerList:r,IMUrl:d,isCurrentUser:t.isCurrentUser,identityObj:u,barStyle:f},o.setState(m),O.entryExpo(),null!==t&&void 0!==t&&null!==(p=t.userBase)&&void 0!==p&&p.levelValueText&&O.identityExpose(),null!==t&&void 0!==t&&t.isCurrentUser&&O.drawerExpose(),!o.emptyStatusFlag&&(null===(h=o.resData)||void 0===h||null===(h=h.resultList)||void 0===h||!h.length)){var y,b=xt((0,c.Z)(o),null===(y=o.resData)||void 0===y?void 0:y.guideList);m.emptyStatus=b,o.setState({emptyStatus:b,guideCard:o.guideCard}),o.emptyStatusFlag=!0}}return g.cwx.hideLoading(),m})),(0,v.Z)((0,c.Z)(o),"processData",(function(){var e,t=(0,c.Z)(o),i=t.resData;if(t.isLoading=!1,(null===i||void 0===i||null===(e=i.resultList)||void 0===e?void 0:e.length)>0){t.handleMixData(null===i||void 0===i?void 0:i.resultList),t.pageKey=i.pageKey,t.hasMore=i.hasMore;var n=t.handleTablist(),l=n.tabList,s=n.temp_tabList;t.setState({subtabList:l,subtype:t.subtype,originSubtabList:s,isLoading:!1,isEnd:!t.hasMore,notAllEmpty:!0,isEmpty:!1,pageKey:i.pageKey,hasMore:i.hasMore,resultList:null===i||void 0===i?void 0:i.resultList},(function(){T.N0()||t.rectResTop||1==t.seo||void 0==t.seo||setTimeout((function(){var e=h().createSelectorQuery();e.select("#content_list").boundingClientRect(),e.exec((function(e){var i;t.rectResTop=(null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.top)||0}))}),1e3)}))}else if(t.pageKey)t.setState({isEnd:!0,isLoading:!1});else{var a={};t.state.userBaseInfo&&(a=xt(t,null===i||void 0===i?void 0:i.guideList),t.emptyStatusFlag=!0,t.setState({guideCard:t.guideCard}));var r=t.handleTablist(),d=r.tabList,u=r.temp_tabList;t.setState({subtabList:d,subtype:t.subtype,originSubtabList:u,isEmpty:!0,isEnd:!0,isLoading:!1,emptyStatusFlag:!0,emptyStatus:a,notAllEmpty:0!=t.subtype})}})),(0,v.Z)((0,c.Z)(o),"handleTablist",(function(){var e,t;if(o.isAfterLogin)return o.isAfterLogin=!1,{tabList:o.state.subtabList,temp_tabList:o.originSubtabList};var i=(0,c.Z)(o),n=i.resData,l=i.state.subtabList;(null===(e=i.state.subtabList)||void 0===e||!e.length)&&(null===(t=n.tabList)||void 0===t?void 0:t.length)>0&&(O.changeStyleExpose(),l=T.eW()?n.tabList.filter((function(e){return e.type!=b.ALBUM})):n.tabList);var s=pe.handleTabWidth((0,c.Z)(o),l);if(!i.hasFetched&&0!=i.subtype)if(11==i.subtype||5==i.subtype){var a,r,d,u=null===(a=l)||void 0===a?void 0:a.findIndex((function(e){return 12==e.type})),v={};if(u>-1)v=null===(r=l)||void 0===r||null===(r=r[u])||void 0===r||null===(r=r.subTabList)||void 0===r?void 0:r.find((function(e){return e.type==i.subtype})),v?l[u]=v:(i.subtype=0,i.fetchMixList(),i.fetchTripshootList(i,{type:0}));else u=null===(d=l)||void 0===d?void 0:d.findIndex((function(e){return e.type==i.subtype})),u<=-1&&(i.subtype=0,i.fetchMixList())}else{var m,p,h=null===(m=l)||void 0===m?void 0:m.findIndex((function(e){return e.type==i.subtype}));h<=-1&&(null===(p=l)||void 0===p?void 0:p.length)>0&&(i.subtype=0,i.fetchMixList())}return i.hasFetched||(i.originSubtabList=s),{tabList:l,temp_tabList:s}})),(0,v.Z)((0,c.Z)(o),"handleMixData",(function(e){var t,i=null===e||void 0===e?void 0:e.map((function(e,t){var i;return Object.assign({},e,{cardHeight:pe.calcCardHeight(e),cardImageSize:pe.calcImageSize(pe.getImageData(e)),cardId:pe.getCardId(e),realIndex:((null===(i=o.mixDataList)||void 0===i?void 0:i.length)||0)+t})}));null===i||void 0===i||i.forEach((function(e,t){if(o.leftHeight<=o.rightHeight){o.leftDataList.push(null===i||void 0===i?void 0:i[t]);var n=pe.hanldeFastImage((0,c.Z)(o),e);o.leftFastImage.push(n||""),o.leftHeight+=null===e||void 0===e?void 0:e.cardHeight}else o.rightDataList.push(null===i||void 0===i?void 0:i[t]),o.rightHeight+=null===e||void 0===e?void 0:e.cardHeight})),o.pageKey||o.hasTop||(o.hasTop=pe.checkHasTop(e)),o.mixDataList=null===(t=o.mixDataList)||void 0===t?void 0:t.concat(e),o.state.listType==x.Single?o.setState({mixDataList:o.mixDataList}):o.setState({leftDataList:o.leftDataList,rightDataList:o.rightDataList})})),(0,v.Z)((0,c.Z)(o),"loadMoreData",(function(){o.state.isError||o.state.isEmpty||o.state.isEnd||("DT"==o.state.currentTabCode?o.hasMore&&o.fetchMixList():o.fetchProduct())})),(0,v.Z)((0,c.Z)(o),"initListData",(function(e){o.pageKey="",o.leftHeight=0,o.rightHeight=0,o.mixDataList=[],o.leftDataList=[],o.rightDataList=[],o.leftFastImage=[],o.rightFastImage=[],o.isLoading=!1,o.pageKey="",o.hasMore=!1,o.setState({leftDataList:[],rightDataList:[],mixDataList:[],isEmpty:!1,isEnd:!1,showList:[]}),e&&(o.hasFetched=!1,o.commendPrdctParams.lastId=0,o.commendPrdctParams.TotalCount=0)})),(0,v.Z)((0,c.Z)(o),"updateScrollTop",(function(){var e=0;return e=o.state.scrollTop?o.state.scrollTop+1:o.rectResTop-o.statusBarHeight-44,e})),(0,v.Z)((0,c.Z)(o),"refreshList",(function(e,t,i,n){var l=o.state,s=l.leftDataList,a=l.rightDataList,r=l.mixDataList,c=[];if(c="LEFT"==n?s:"RIGHT"==n?a:r,i==b.ARTICLE){var d=c.findIndex((function(t){var i;return(null===(i=t.article)||void 0===i?void 0:i.articleId)==e.articleId}));c[d].article=e}else if(i==b.COMMENT||i==b.HOTELCOMMENT){var u=c.findIndex((function(t){var i;return(null===(i=t.comment)||void 0===i?void 0:i.commentId)==e.commentId}));c[u].comment=e}else if(i==b.TRAVEL){var v=c.findIndex((function(t){var i;return(null===(i=t.travel)||void 0===i?void 0:i.travelId)==e.travelId}));c[v].travel=e}"LEFT"==n?(o.setState({leftDataList:c}),o.leftDataList=c):"RIGHT"==n?(o.setState({rightDataList:c}),o.rightDataList=c):(o.mixDataList=c,o.setState({mixDataList:o.mixDataList}))})),(0,v.Z)((0,c.Z)(o),"handerFollow",(function(){var e=(0,c.Z)(o);yt({followCount:o.state.followCount,followStatus:o.state.followStatus,userBaseInfo:o.state.userBaseInfo,clientAuth:o.clientAuth,refreshAfterLogin:o.refreshAfterLogin.bind((0,c.Z)(o)),callback:function(t){var i=t.followCount,o=t.followStatus;e.setState({followCount:i,followStatus:o})}})})),(0,v.Z)((0,c.Z)(o),"handlerScroll",(function(e){var t,i,n,l,s,a;n=null===(l=e.detail)||void 0===l?void 0:l.scrollTop,null===(t=o.headerComRef)||void 0===t||null===(i=t.handleScroll)||void 0===i||i.call(t,n),n+o.statusBarHeight+44>=o.rectResTop?o.state.tabFixed||o.setState({tabFixed:!0}):o.state.tabFixed&&o.setState({tabFixed:!1}),o.state.listType==x.Double?null===(s=o.listRef)||void 0===s||s.handleListScroll():null===(a=o.singleListRef)||void 0===a||a.handleListScroll()})),(0,v.Z)((0,c.Z)(o),"refreshAfterLogin",(function(e){o.initListData(!0),"DT"==o.state.currentTabCode?o.fetchMixList():o.fetchProduct(),o.getBaseInfo(),e||(o.isAfterLogin=!0)})),(0,v.Z)((0,c.Z)(o),"changeListType",(function(){var e=o.state.listType;e==x.Single?(e=x.Double,o.setState({listType:e,leftDataList:o.leftDataList,rightDataList:o.rightDataList,mixDataList:[]},(function(){}))):(e=x.Single,o.setState({listType:e,mixDataList:o.mixDataList,leftDataList:[],rightDataList:[]},(function(){var e;null===(e=o.singleListRef)||void 0===e||e.handleListScroll()}))),O.changeStyleClick()})),(0,v.Z)((0,c.Z)(o),"changeTabCode",(function(e){if(!o.isLoading){if(o.setState({currentTabCode:e}),o.initListData(),o.state.tabFixed){var t=o.updateScrollTop();o.setState({scrollTop:t})}"DT"==e?(o.subtype=0,o.setState({subtype:0,scrollLeft:0}),o.fetchMixList()):(o.commendPrdctParams.lastId=0,o.commendPrdctParams.TotalCount=0,o.fetchProduct())}})),(0,v.Z)((0,c.Z)(o),"updateOptionsPosition",(function(e,t,i){var n;o.setState({showCommentOptions:!0,commentOptionsRight:t||110,commentOptionsTop:e||300,expandList:null===(n=o.originSubtabList)||void 0===n||null===(n=n[i])||void 0===n?void 0:n.subTabList})})),(0,v.Z)((0,c.Z)(o),"changeSubtype",(function(e,t){if(!o.isLoading){var i;if(o.scrollToLocation(t,e),e==o.subtype)if((null===(i=o.originSubtabList)||void 0===i||null===(i=i[t])||void 0===i||null===(i=i.subTabList)||void 0===i?void 0:i.length)>2)return;o.subtype=e,o.setState({subtype:o.subtype}),o.changeFetchMixList()}})),(0,v.Z)((0,c.Z)(o),"scrollToLocation",(function(e,t){var i,n,l=null===(i=o.originSubtabList)||void 0===i||null===(i=i[e])||void 0===i?void 0:i.offset,s=0,a=null===(n=o.originSubtabList)||void 0===n||null===(n=n[e])||void 0===n?void 0:n.itemWidth;o.wrapWidth=T.bn-52,o.totalWidth<=o.wrapWidth||(o.wrapWidth,l>=o.wrapWidth/2&&(s=a/2+l-o.wrapWidth/2)),o.state.tabFixed?o.setState({scrollLeft:s,scrollTop:o.updateScrollTop()}):o.setState({scrollLeft:s})})),(0,v.Z)((0,c.Z)(o),"updateBgHeight",(function(e){o.state.isDefaultBg&&o.setState({defaultBgImgHeight:e+30||320})})),(0,v.Z)((0,c.Z)(o),"changeFetchMixList",(function(){o.initListData(),o.fetchMixList()})),(0,v.Z)((0,c.Z)(o),"renderNotCRNTabAndList",(function(){var e,t=o.state,i=t.tabFixed,n=t.userBaseInfo,l=50;return"B"==(null===n||void 0===n||null===(e=n.userBase)||void 0===e?void 0:e.userType)&&("DT"==o.state.currentTabCode?l+=40:l-=10),(0,Ce.jsxs)(Ce.Fragment,{children:[o.renderTabs(),(0,Ce.jsx)(p.View,{style:{display:i?"flex":"none",height:l,width:"100%"}}),o.renderWaterFallList(),o.renderFooter(),o._listEmptyComponent()]})})),(0,v.Z)((0,c.Z)(o),"doShowMoreDesc",(function(e){var t=o.state.showMoreDesc;o.setState({showMoreDesc:!t,memberBrief:e||""})})),(0,v.Z)((0,c.Z)(o),"closeOptionPop",(function(){o.setState({showCommentOptions:!1})})),(0,v.Z)((0,c.Z)(o),"updateContentList",(function(e){if(e.type!=o.state.subtype){var t=o.state,i=t.subtabList,n=t.subtype,l=null===i||void 0===i?void 0:i.findIndex((function(e){return e.type==n}));l<=-1&&(l=0),o.subtype=e.type,"\u5168\u90e8\u70b9\u8bc4"==e.name&&(e.name="\u70b9\u8bc4"),i[l]=e,o.setState({subtabList:i,subtype:e.type}),o.changeFetchMixList(e.type)}})),(0,v.Z)((0,c.Z)(o),"renderListHeader",(function(){var e=o.state,t=e.userBaseInfo,i=e.isDefaultBg,n=e.followStatus;return t?(0,Ce.jsx)(Ce.Fragment,{children:(0,Ce.jsx)(je,{handerFollow:o.handerFollow.bind((0,c.Z)(o)),headerInfo:o.headerInfo,isDefaultBg:i,followStatus:n,userBaseInfo:t,ref:function(e){return o.headerComRef=e}})}):null})),(0,v.Z)((0,c.Z)(o),"renderBaseInfo",(function(){var e=o.state,t=e.userBaseInfo,i=e.userBackGroundPhoto,n=e.isDefaultBg,l=e.followStatus,s=e.IMUrl,a={};return t?(0,Ce.jsx)(He,{style:a,showMoreDesc:o.doShowMoreDesc.bind((0,c.Z)(o)),refreshAfterLogin:o.refreshAfterLogin.bind((0,c.Z)(o)),IMUrl:s,handerFollow:o.handerFollow.bind((0,c.Z)(o)),userBaseInfo:t,followStatus:l,userBackGroundPhoto:T.Dt()?"":i,isDefaultBg:n,getBgHeight:function(e){return o.updateBgHeight(e)}}):(0,Ce.jsx)(p.View,{style:{width:199,height:1}})})),(0,v.Z)((0,c.Z)(o),"renderCustomFloor",(function(){var e,t=o.state.userBaseInfo;return 24==(null===t||void 0===t||null===(e=t.userIdentitySpecial)||void 0===e?void 0:e.identityType)?(0,Ce.jsx)(dt,{userIdentitySpecial:null===t||void 0===t?void 0:t.userIdentitySpecial,userBaseInfo:t}):null})),(0,v.Z)((0,c.Z)(o),"renderTabs",(function(e){var t,i=o.state,n=i.subtabList,l=i.scrollLeft,s=i.subtype,a=i.tabFixed,r=i.listType,c=i.userBaseInfo,d=i.currentTabCode,u={};return T.N0()||(u=a?{position:"fixed",top:o.statusBarHeight+44,left:0,zIndex:10}:{position:"relative",top:0,zIndex:10}),(0,Ce.jsx)(Ce.Fragment,{children:(0,Ce.jsx)(ze,{ref:function(e){o.tabRef=e},scrollLeft:l,currentTabCode:d,tabList:"C"==(null===c||void 0===c||null===(t=c.userBase)||void 0===t?void 0:t.userType)?[]:null===c||void 0===c?void 0:c.tabList,subtabList:n,subtype:s,style:u,listType:r,changeListType:function(){return o.changeListType()},changeSubtype:function(e,t){return o.changeSubtype(e,t)},noRadius:e,showCommentOptions:o.state.showCommentOptions,originSubtabList:o.originSubtabList||o.state.originSubtabList,changeTabCode:function(e){return o.changeTabCode(e)},updateOptionsPosition:function(e){var t=e.top,i=e.right,n=e.currentIndex;return o.updateOptionsPosition(t,i,n)}})})})),(0,v.Z)((0,c.Z)(o),"renderFooter",(function(){var e,t,i=0;p.XUA.isIPhoneX()&&(i+=34),p.XUA.isIOS()?i+=100:p.XUA.isAndroid()&&(i+=110),24==(null===(e=o.state.userBaseInfo)||void 0===e||null===(e=e.userIdentitySpecial)||void 0===e?void 0:e.identityType)&&(i+=p.XUA.isIOS()?110:60);var n=!1;if("DT"!==o.state.currentTabCode&&T.N0()&&24!=(null===(t=o.state.userBaseInfo)||void 0===t||null===(t=t.userBase)||void 0===t?void 0:t.identityType)&&o.state.isCurrentUser&&(n=!0),!o.state.isEmpty){if(o.state.isEnd)return(0,Ce.jsx)(et,{title:"\u5df2\u7ecf\u5230\u5e95\u4e86\u54df",style:{paddingBottom:i+(n?50:0),paddingTop:n?10:48}});if(o.state.userBaseInfo)return(0,Ce.jsx)(et,{title:"\u52a0\u8f7d\u4e2d...",showImg:!0,style:{paddingBottom:i}})}})),(0,v.Z)((0,c.Z)(o),"renderSingleList",(function(){var e=o.state.isCurrentUser;return(0,Ce.jsx)(ot,{ref:function(e){o.singleListRef=e},mixDataList:o.state.mixDataList,hasTop:o.hasTop,isCurrentUser:e||!1,refreshList:function(e,t,i,n){return o.refreshList(e,t,i,n)},refreshAfterLogin:function(){return o.refreshAfterLogin()}})})),(0,v.Z)((0,c.Z)(o),"renderDoubleList",(function(){var e=o.state,t=e.leftDataList,i=e.rightDataList,n=e.isCurrentUser,l=e.subtype;return(0,Ce.jsx)($e,{ref:function(e){o.listRef=e},leftDataList:t,rightDataList:i,hasTop:o.hasTop,subtype:l,isCurrentUser:n||!1,refreshList:function(e,t,i,n){return o.refreshList(e,t,i,n)},refreshAfterLogin:function(){return o.refreshAfterLogin()}})})),(0,v.Z)((0,c.Z)(o),"renderWaterFallList",(function(){var e,t=o.state.listType,i="DT"==o.state.currentTabCode;p.XUA.isApp()&&(T.uK,o.statusBarHeight,null===(e=o.state.userBaseInfo)||void 0===e||null===(e=e.userBase)||void 0===e||e.userType,p.XUA.isIOS());var n=[];return i&&t==x.Double?n=o.renderDoubleList():i&&t==x.Single?n=o.renderSingleList():i||(n=(0,Ce.jsx)(rt,{showList:o.state.showList,isCurrentUser:o.state.isCurrentUser,userBaseInfo:o.state.userBaseInfo})),n})),(0,v.Z)((0,c.Z)(o),"renderScrollViewList",(function(){o.state.userBaseInfo;var e=0;return e=(o.windowHeight||T.uK)-(T.di()?o.statusBarHeight:8),(0,Ce.jsxs)(p.View,{className:"main-class",children:[o.renderCustomFloor(),(0,Ce.jsx)(p.View,{className:"content-wrap",id:"content_list",style:{minHeight:e},children:o.renderNotCRNTabAndList()})]})})),(0,v.Z)((0,c.Z)(o),"renderTabBgImg",(function(){return o.state.isDefaultBg?(0,Ce.jsx)(p.Image,{className:p.XUA.isApp()?"tab-bg-img-rn":"tab-bg-img",src:"https://pages.c-ctrip.com/livestream/ugcBook/tab_bg_img.png"}):null})),o.checkPerformance=!0,o.clientAuth="",o.headerInfo={},o.guideCard=[],o.hasEnterCpc=!1,o.headerComRef=null,o.state={leftDataList:[],rightDataList:[],mixDataList:[],isEmpty:!1,isEnd:!1,isLoading:!1,subtabList:[],scrollLeft:0,subtype:0,scrollTop:0,statusBarHeight:0,userBaseInfo:null,userBackGroundPhoto:"",isDefaultBg:!1,followStatus:0,followCount:0,drawerList:[],showEditLayerFlag:!1,showConfirmModal:!1,editDataList:[],confirmData:{},moreOpetionVisivle:!1,IMUrl:"",listType:x.Double,guideCard:[],currentLoadingState:0,entryList:[],currentTabCode:"DT",showMoreDesc:!1,memberBrief:"",notAllEmpty:!1,showList:[],identityObj:{medalData_identity:{},showIdentityModal:!1,medalData_level:{},showLevelModal:!1,medalData:{},showMedalModal:!1},barStyle:"light-content"},o.mixDataList=[],o.leftDataList=[],o.rightDataList=[],o.leftFastImage=[],o.rightFastImage=[],o.pageSize=20,o.pageKey="",o.hasMore=!1,o.leftHeight=0,o.rightHeight=0,o.subtype=0,o.commendPrdctParams={lastId:0,pageSize:10,TotalCount:0},o.commendPrdctListType=-1,O.setCtx((0,c.Z)(o)),o.pageId=o.getPageId(),o.startTime=new Date,o}return(0,r.Z)(i,[{key:"componentDidMount",value:function(){var e=h().getCurrentInstance();this.loadInitData(e.router.params)}},{key:"onShareAppMessage",value:function(){var e,t,i=this.headerInfo,o=i.clientAuth,n=i.nickName,l=i.headPhoto,s=this.userBaseInfo,a="/pages/ugc/user/index?clientAuth="+o;console.log(a+l+o,"\u4e2a\u4eba\u9875\u5206\u4eab");var r,c,d=n;(null===s||void 0===s||null===(e=s.userUGC)||void 0===e?void 0:e.tripShootCount)>0&&(d+="\u5728\u643a\u7a0b\u793e\u533a\u53d1\u5e03\u4e86"+(null===s||void 0===s||null===(r=s.userUGC)||void 0===r?void 0:r.tripShootCount)+"\u7bc7\u7b14\u8bb0\uff0c");null!==s&&void 0!==s&&null!==(t=s.userBase)&&void 0!==t&&null!==(t=t.userFeatureList)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&t.featureName&&(d+="\u83b7\u5f97\u4e86"+(null===s||void 0===s||null===(c=s.userBase)||void 0===c||null===(c=c.userFeatureList)||void 0===c?void 0:c[0].featureName)+"\u7b49\u793e\u533a\u8363\u8a89\uff0c");return i.isCurrentUser?d+="\u5feb\u6765\u770b\u770b\u5427~":d+="\u5feb\u6765\u770b\u770bTA\u7684\u4e2a\u4eba\u4e3b\u9875",{title:d,path:a,imageUrl:l}}},{key:"loadInitData",value:function(e){var t=this;this.subtype=pe.handleSubtype(null===e||void 0===e?void 0:e.tab),this.setState({subtype:this.subtype}),this.statusBarHeight=we(),this.clientAuth=null===e||void 0===e?void 0:e.clientAuth,this.clientAuth||(0,Se.bg)()?(h().showLoading({title:"\u52a0\u8f7d\u4e2d..",mask:!0}),this.getBaseInfo(),this.fetchMixList(!0)):(0,Se.x4)((function(){return t.refreshAfterLogin(!0)}))}},{key:"getBaseInfo",value:function(){var e=(0,s.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:gt(this,this.clientAuth,this.dealBaseInfoData);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchProduct",value:function(){bt(this)}},{key:"fetchMixList",value:function(e){if(!this.isLoading){this.setState({isLoading:!0}),this.isLoading=!0;var t=this,i={clientAuth:this.clientAuth,type:this.subtype,pageKey:this.pageKey,pagePara:{pageSize:this.pageSize,sorttype:1},source:"mylist",needGuidePublish:!0,needFastData:!0};I(i,(function(i){g.cwx.hideLoading(),t.resData=i,t.pageSize=20,setTimeout((function(){var i;0!=t.subtype&&e&&t.scrollToLocation(null===(i=t.state.subtabList)||void 0===i?void 0:i.findIndex((function(e){return e.type==t.subtype})),t.subtype)}),800),t.pageKey||setTimeout((function(){var e,i,o,n;t.state.listType==x.Double?null===(e=t.listRef)||void 0===e||null===(i=e.handleListScroll)||void 0===i||i.call(e):null===(o=t.singleListRef)||void 0===o||null===(n=o.handleListScroll)||void 0===n||n.call(o)}),1e3),t.processData(i),t.hasFetched=!0}),(function(e){g.cwx.hideLoading(),t.isLoading=!1;var i=xt(t,[],!0);t.setState({emptyStatus:i,isEmpty:!0,isEnd:!0})}))}}},{key:"onReady",value:function(){}},{key:"_listEmptyComponent",value:function(){return this.state.isEmpty&&this.state.emptyStatus?(0,Ce.jsx)(tt,{emptyStatus:this.state.emptyStatus}):null}},{key:"showPhoneCallDialog",value:function(e){var t=this;if(e){var i={title:"\u63d0\u793a",content:"\u786e\u5b9a\u62e8\u6253\u7535\u8bdd:"+e+"\u5417\uff1f",cancelText:"\u53d6\u6d88",confirmText:"\u786e\u8ba4",callback:function(){h().makePhoneCall({phoneNumber:e}),t.setState({showDeleteAlert:!1})}};this.setState({confirmData:i,showConfirmModal:!0})}}},{key:"render",value:function(){var e=this,t=this.state,i=t.userBaseInfo,o=t.scrollTop,n=t.isCurrentUser,l=t.identityObj;t.barStyle;return i||p.XUA.isApp()?(0,Ce.jsxs)(Ce.Fragment,{children:[(0,Ce.jsx)("perinfo-protect-float",{}),this.renderListHeader(),(0,Ce.jsxs)(p.ScrollView,{enablePassive:"true",scrollY:!0,scrollTop:o,lowerThreshold:150,trapScroll:"true",className:"user-home-wrap ".concat(null!==l&&void 0!==l&&l.showLevelModal||null!==l&&void 0!==l&&l.showIdentityModal?"filter-wrap":""),onScroll:this.handlerScroll,onScrollToLower:function(){return e.loadMoreData()},children:[this.renderBaseInfo(),this.renderTabBgImg(),this.renderScrollViewList()]}),this.state.showMoreDesc&&(0,Ce.jsx)(lt,{data:this.state.memberBrief,showMoreDesc:this.doShowMoreDesc.bind(this)}),!n&&(0,Ce.jsx)(ct,{pageId:this.getPageId(),userBaseInfo:i,userIdentitySpecial:i&&i.userIdentitySpecial,clickPhone:function(t){e.showPhoneCallDialog(t)}}),this.state.showCommentOptions&&(0,Ce.jsx)(ut,{optionsRight:this.state.commentOptionsRight,optionsTop:this.state.commentOptionsTop,expandList:this.state.expandList,subtype:this.state.subtype,chooseOptionItem:function(t){return e.updateContentList(t)},closeOptionPop:function(){e.closeOptionPop()}}),(0,Ce.jsx)(p.View,{className:"view-check",onAnimationEnd:function(){return e.viewReadyHandle()}})]}):null}}]),i}(y),Tt={navigationBarTitleText:"\u4e2a\u4eba\u4e3b\u9875",usingComponents:{"cemoji-converter":"@miniapp/cwx/component/cemojiConverter/cemojiConverter","perinfo-protect-float":"@miniapp/cwx/component/perInfoProtectFloat/index"},navigationStyle:"custom",rnPageName:"userHome"};wt.enableShareAppMessage=!0;Page((0,n.createPageConfig)(wt,"pages/ugc/user/index",{root:{cn:[]}},Tt||{}))},79181:function(e){e.exports=require("../../../cwx/cpage/initNavigator")},91783:function(e){e.exports=require("../../../cwx/cpage/ubt_wx")},56884:function(e){e.exports=require("../../../cwx/cwx")},65238:function(e){e.exports=require("../../../cwx/ext/global")}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[3040,2107,1216,8592],(function(){return t(20263)}));e.O()}]);
//# sourceMappingURL=index.js.map