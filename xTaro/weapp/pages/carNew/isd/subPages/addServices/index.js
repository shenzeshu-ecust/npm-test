"use strict";require("../../../taroCommon"),(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[7206],{79855:function(e,n,c){var s=c(32180),i=c(298),a=c(19153),t=c(57042),r=c(24460),o=c(81876),l=c(79038),d=c(59772),u=c(21867),x=c(86066),h=c(45023),p=c(90201),m=c(33675),g=c.n(m),f=c(71515),v=c(64341),w=c(56102),N=c(22548),j=c(55060),k=j.Utils.getSharkValue,C={get accidentDesc(){return k("AddServicesModal_znna")},get selectThisPackage(){return k("AddServicesModal_yZjg")},get selected(){return k("AddServicesModal_XR4f")},get include(){return k("AddServicesModal_F5ET")}},b=c(2269),V=function(e){return e[e["include"]=1]="include",e[e["select"]=0]="select",e[e["present"]=2]="present",e}({}),Z=function(e){var n=e.isChoose,c=e.type,s=e.onChooseInsurance,i=(0,p.useMemo)((function(){return[V.include,V.present].includes(c)}),[c]);return(0,b.jsx)(f.View,{className:"service-footer-bar-box",children:(0,b.jsx)(f.View,{className:"footer-bar",children:n||i?(0,b.jsxs)(N.Z,{debounce:!0,className:"footer-bar-btn btn-contains",children:[(0,b.jsx)(f.Text,{className:"icon-tick"}),i?C.include:C.selected]}):(0,b.jsx)(N.Z,{debounce:!0,className:"footer-bar-btn btn-choose",onClick:s,children:C.selectThisPackage})})})},T=(0,p.memo)(Z),y=c(37031),I=c(81194),P=c(12600),D=c(35418),A=c(96103),M=c(96714),S=function(e){(0,u.Z)(c,e);var n=(0,x.Z)(c);function c(e){var s;return(0,t.Z)(this,c),s=n.call(this,e),(0,h.Z)((0,o.Z)(s),"onTabPress",(function(e){var n=e.currentTarget.dataset.code;s.props.setSelectPackageId(n)})),(0,h.Z)((0,o.Z)(s),"onChooseInsurance",(function(){s.props.changeAddOnCodes(s.props.selectPackageId),g().navigateBack()})),(0,h.Z)((0,o.Z)(s),"onGotoMore",(0,a.debounce)((function(){M.mq.LogCode({enName:M.XG.C_BOOK_ACCIDENT_MODAL.KEY,name:M.XG.C_BOOK_ACCIDENT_MODAL.NAME}),g().navigateTo({url:"/pages/carNew/isd/subPages/accident/index"})}),300,{trailing:!1,leading:!0})),(0,h.Z)((0,o.Z)(s),"renderExclusion",(function(){var e,n=s.props.exclusionDesc;return(0,b.jsxs)(f.View,{className:"un-include",children:[(0,b.jsx)(f.View,{className:"un-include-title",children:n.title}),null===n||void 0===n||null===(e=n.desclist)||void 0===e?void 0:e.map((function(e){return(0,b.jsxs)(P.Z,{layout:!0,children:[(0,b.jsx)(I.Z,{type:"icon",className:"un-include-icon",children:D.q.MrK}),(0,b.jsx)(f.Text,{className:"un-include-text",children:e})]})}))]})})),s.checkPerformance=!0,s}return(0,r.Z)(c,[{key:"getPageId",value:function(){return this.pageId=j.Channel.getPageId().ADD_SERVICES.ID,this.pageId}},{key:"onReady",value:function(){(0,l.Z)((0,d.Z)(c.prototype),"onReady",this).call(this)}},{key:"componentWillUnmount",value:function(){(0,l.Z)((0,d.Z)(c.prototype),"componentWillUnmount",this).call(this);var e=this.props.backToBooking;A.po.afterNavigateBack((function(n){e(n)}))}},{key:"render",value:function(){var e=this,n=this.props,c=n.selectPackageId,s=n.isChoose,i=n.addServicesData,t=n.exclusionDesc,r=i.serviceData,o=i.detailTitle,l=i.accidentTitle,d=i.claimData,u=i.type,x=i.newDescription,h=i.noMore;return(0,b.jsxs)(f.View,{className:"service-page",children:[(0,b.jsxs)(f.View,{className:"service-wrapper",children:[(0,b.jsx)(f.View,{className:"service-tab",children:null===r||void 0===r?void 0:r.map((function(n){return(0,b.jsxs)(f.View,{className:(0,a.classnames)("service-item",n.insPackageId===c&&"current"),onClick:e.onTabPress,"data-code":n.insPackageId,children:[(0,b.jsx)(f.View,{className:"service-title",children:n.packageName}),(0,b.jsx)(y.Z,{className:"service-price",price:n.gapPrice,currency:n.currencyCode})]})}))}),(0,b.jsxs)(f.View,{className:"service-content",children:[(0,b.jsxs)(f.View,{className:"service-card",children:[(0,b.jsx)(f.View,{className:"card-head",children:(0,b.jsx)(f.Text,{className:"card-title",children:o})}),(0,b.jsx)(f.View,{className:"card-cont",children:(0,b.jsx)(w.Z,{data:x})})]}),(0,b.jsxs)(f.View,{className:"service-card",children:[(0,b.jsxs)(f.View,{className:"card-head",children:[(0,b.jsx)(f.Text,{className:"card-title",children:l}),!h&&(0,b.jsxs)(f.View,{className:"card-link",onClick:this.onGotoMore,children:[(0,b.jsx)(f.Text,{className:"card-link-text",children:C.accidentDesc}),(0,b.jsx)(f.Text,{className:"icon-arrow-right"})]})]}),(0,b.jsx)(f.View,{className:"card-cont",children:(0,b.jsx)(f.View,{className:"accident-step",children:null===d||void 0===d?void 0:d.map((function(e,n){return(0,b.jsxs)(f.View,{className:"step-item",children:[(0,b.jsx)(f.View,{className:"step-number",children:n+1}),(0,b.jsxs)(f.View,{className:"step-info",children:[(0,b.jsx)(f.View,{className:"step-title",children:e.title}),(0,b.jsx)(f.View,{className:"step-text",children:e.content.join("\n")})]})]})}))})})]}),!(null===t||void 0===t||!t.title)&&this.renderExclusion()]})]}),(0,b.jsx)(T,{type:u,isChoose:s,onChooseInsurance:this.onChooseInsurance}),(0,b.jsx)(f.View,{className:"view-check",onAnimationEnd:function(){return e.viewReadyHandle&&e.viewReadyHandle()}})]})}}]),c}(v.Z),_=S,B=c(62813),E=c(58419),q=c(6017),O=function(e){return{addServicesData:(0,B.cM)(e),isChoose:(0,B.Gd)(e),selectPackageId:(0,B.s7)(e),exclusionDesc:(0,B.oH)()}},G=function(e){return{backToBooking:function(n){e((0,E.EL)(n)),e((0,E.BG)(!0))},setSelectPackageId:function(n){e((0,E.CD)(n))},changeAddOnCodes:function(n){e((0,E.sk)(n))}}},R=(0,a.connect)(O,G)(_),K=(0,q.Z)(R),L=function(e){return(0,b.jsx)(K,(0,i.Z)({},e))},H=L,U={navigationBarTitleText:"\u670d\u52a1\u8d39\u8be6\u60c5",navigationBarTextStyle:"black",navigationBarBackgroundColor:"#ffffff"};Page((0,s.createPageConfig)(H,"pages/carNew/isd/subPages/addServices/index",{root:{cn:[]}},U||{}))},79181:function(e){e.exports=require("../../../../../cwx/cpage/initNavigator")},91783:function(e){e.exports=require("../../../../../cwx/cpage/ubt_wx")},56884:function(e){e.exports=require("../../../../../cwx/cwx")},65238:function(e){e.exports=require("../../../../../cwx/ext/global")},33675:function(e){e.exports=require("../../../../../cwx/cwx")},44353:function(e){e.exports=require("../../../../../cwx/cwx.js")},46346:function(e){e.exports=require("../../../../../cwx/ext/global")}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[7606,2107,1216,8592],(function(){return n(79855)}));e.O()}]);
//# sourceMappingURL=index.js.map