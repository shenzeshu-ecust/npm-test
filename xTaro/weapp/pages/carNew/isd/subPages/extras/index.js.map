{"version":3,"file":"pages/carNew/isd/subPages/extras/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_carNew_isd_subPages_extras_index.js"],"sourcesContent":["\"use strict\";\nrequire(\"../../../taroCommon\");\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[6178],{\n\n/***/ 61028:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(298);\n// EXTERNAL MODULE: ./src/pages/carNew/commonModule.prod.js\nvar commonModule_prod = __webpack_require__(19153);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(57042);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24460);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(81876);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/get.js\nvar get = __webpack_require__(79038);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(59772);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(21867);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(86066);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(45023);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: external \"@miniapp/cwx/cwx\"\nvar cwx_ = __webpack_require__(33675);\nvar cwx_default = /*#__PURE__*/__webpack_require__.n(cwx_);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/base/basePage.ts + 2 modules\nvar basePage = __webpack_require__(64341);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/state/booking/model.ts\nvar model = __webpack_require__(96103);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/component/business/extrasInfo/index.tsx + 4 modules\nvar extrasInfo = __webpack_require__(62017);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/component/basic/button/index.tsx\nvar basic_button = __webpack_require__(22548);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/utils/index.js\nvar utils = __webpack_require__(55060);\n;// CONCATENATED MODULE: ./src/pages/carNew/isd/subPages/extras/texts.ts\n\nvar getSharkValue = utils.Utils.getSharkValue;\n/* harmony default export */ var texts = ({\n  get okBtn() {\n    return getSharkValue('okBtn');\n  },\n  get extrasAtPickup() {\n    return getSharkValue('extrasAtPickup');\n  },\n  get extraOnline() {\n    return getSharkValue('extraOnline');\n  },\n  get extraAllTip() {\n    return getSharkValue('extraAllTip');\n  },\n  get extraTitle() {\n    return getSharkValue('extraTitle');\n  }\n});\n// EXTERNAL MODULE: ./src/pages/carNew/isd/component/business/extrasInfo/types.ts\nvar types = __webpack_require__(84750);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./src/pages/carNew/isd/subPages/extras/extras.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Extras = /*#__PURE__*/function (_BasePage) {\n  (0,inherits/* default */.Z)(Extras, _BasePage);\n  var _super = (0,createSuper/* default */.Z)(Extras);\n  function Extras(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Extras);\n    _this = _super.call(this, props);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"options\", void 0);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"isLoginPending\", false);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"currentCombination\", null);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"onExtrasContinue\", function () {\n      var _this$currentCombinat;\n      var _this$state = _this.state,\n        equipments = _this$state.equipments,\n        combinations = _this$state.combinations;\n      var _this$props = _this.props,\n        changeExtrasNum = _this$props.changeExtrasNum,\n        selectPackage = _this$props.selectPackage,\n        insPackageId = _this$props.insPackageId;\n      var extrasData = equipments.map(function (v) {\n        return {\n          num: v.currentNum || 0,\n          code: v.equipmentCode\n        };\n      });\n      var filterCombinations = combinations.filter(function (v) {\n        return !v.hike;\n      }) || [];\n      if (filterCombinations.length === 0) {\n        changeExtrasNum(extrasData);\n      } else if ((_this$currentCombinat = _this.currentCombination) !== null && _this$currentCombinat !== void 0 && _this$currentCombinat.bomCode && !_this.currentCombination.hike) {\n        var param = {\n          curPackageId: _this.currentCombination.packageId,\n          curBomCode: _this.currentCombination.bomCode,\n          payMode: _this.currentCombination.payMode,\n          selectedExtra: extrasData\n        };\n        selectPackage(param);\n      } else {\n        // 取消精选组合，重置 bomCode\n        selectPackage({\n          curInsPackageId: insPackageId,\n          selectedExtra: extrasData\n        });\n      }\n      cwx_default().navigateBack();\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handleCount\", function (equipmentCode, newCount) {\n      var equipments = _this.state.equipments;\n      var tarEquipments = equipments === null || equipments === void 0 ? void 0 : equipments.map(function (item) {\n        if (item.equipmentCode === equipmentCode) {\n          item.currentNum = newCount;\n        }\n        return item;\n      });\n      _this.setState({\n        equipments: tarEquipments\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"getExtrasDescription\", function (equipments, combinations) {\n      if (utils.Utils.isCtripIsd()) {\n        return '';\n      }\n      var isHasAtPickup = false;\n      var isHasOnline = false;\n      equipments.map(function (item) {\n        switch (item.payMode) {\n          case 1:\n            isHasAtPickup = true;\n            break;\n          case 2:\n            isHasOnline = true;\n            break;\n        }\n      });\n      combinations.map(function (item) {\n        switch (item.payMode) {\n          case 1:\n            isHasAtPickup = true;\n            break;\n          case 2:\n          case 3:\n            isHasOnline = true;\n            break;\n        }\n      });\n      if (isHasAtPickup && isHasOnline) {\n        return texts.extraAllTip;\n      }\n      if (isHasOnline) {\n        return texts.extraOnline;\n      }\n      return texts.extrasAtPickup;\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"onChooseCard\", function (item, isChecked) {\n      var combinations = _this.state.combinations;\n      _this.setState({\n        combinations: combinations === null || combinations === void 0 ? void 0 : combinations.map(function (item) {\n          item.selected = false;\n          return item;\n        })\n      }, function () {\n        _this.currentCombination = null;\n        if (isChecked) {\n          // fix error: immutable data\n          item = JSON.parse(JSON.stringify(item));\n          // @ts-ignore bbk-component-business-migrate\n          item.selected = true;\n          _this.currentCombination = item;\n        }\n      });\n    });\n    _this.state = {\n      equipments: [],\n      combinations: []\n    };\n    _this.checkPerformance = true; // 白屏检测 添加标志位\n    return _this;\n  }\n  (0,createClass/* default */.Z)(Extras, [{\n    key: \"getPageId\",\n    value: function getPageId() {\n      this.pageId = utils.Channel.getPageId().EXTRAS.ID;\n      return this.pageId;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      (0,get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Extras.prototype), \"componentWillUnmount\", this).call(this);\n      var backToBooking = this.props.backToBooking;\n      model/* PriceTimer.afterNavigateBack */.po.afterNavigateBack(function (alertProps) {\n        backToBooking(alertProps);\n      });\n    }\n  }, {\n    key: \"componentDidHide\",\n    value: function componentDidHide() {\n      (0,get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Extras.prototype), \"componentDidHide\", this).call(this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        curEquipments = _this$props2.curEquipments,\n        selectedExtras = _this$props2.selectedExtras,\n        _this$props2$combinat = _this$props2.combinations,\n        combinations = _this$props2$combinat === void 0 ? [] : _this$props2$combinat,\n        bomCode = _this$props2.bomCode;\n      // 初始化精选组合\n      var tempCombinations = JSON.parse(JSON.stringify(combinations));\n      this.currentCombination = null;\n      this.setState({\n        equipments: curEquipments.map(function (s) {\n          var selected = selectedExtras.find(function (v) {\n            return v.equipmentCode === s.equipmentCode;\n          }) || {};\n          return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, s), {}, {\n            currentNum: selected.currentNum || 0\n          });\n        }),\n        combinations: tempCombinations\n      });\n      tempCombinations === null || tempCombinations === void 0 || tempCombinations.map(function (comb) {\n        if (comb.bomCode === bomCode) {\n          _this2.currentCombination = comb;\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var bomCode = this.props.bomCode;\n      var _this$state2 = this.state,\n        equipments = _this$state2.equipments,\n        combinations = _this$state2.combinations;\n      var extrasDescription = this.getExtrasDescription(equipments, combinations);\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"extras-container\",\n          children: [utils.Utils.isCtripOsd() && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"osd-extra-header\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"extra-title\",\n              children: texts.extraTitle\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"extras-description\",\n              children: extrasDescription\n            })]\n          }), !!(combinations !== null && combinations !== void 0 && combinations.length) && /*#__PURE__*/(0,jsx_runtime.jsx)(extrasInfo/* ExtraCombination */.LB, {\n            combinations: combinations,\n            bomCode: bomCode,\n            onChooseExtra: this.onChooseCard\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"extras-list\",\n            children: equipments === null || equipments === void 0 ? void 0 : equipments.map(function (item, index) {\n              return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: (0,commonModule_prod.classnames)(index !== equipments.length - 1 ? 'border-bt' : ''),\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(extrasInfo/* ExtrasItem */.i5, {\n                  type: types/* ExtraType.Number */.o.Number,\n                  item: item,\n                  onHandleCount: _this3.handleCount\n                })\n              });\n            })\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"extras-footer\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(basic_button/* default */.Z, {\n            onClick: this.onExtrasContinue,\n            className: \"confirm-btn\",\n            theme: \"blue\",\n            children: texts.okBtn\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"view-check\",\n          onAnimationEnd: function onAnimationEnd() {\n            return _this3.viewReadyHandle && _this3.viewReadyHandle();\n          }\n        })]\n      });\n    }\n  }]);\n  return Extras;\n}(basePage/* default */.Z);\n/* harmony default export */ var extras = (Extras);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/state/product/selector.ts\nvar selector = __webpack_require__(34719);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/state/booking/selector.ts + 1 modules\nvar booking_selector = __webpack_require__(62813);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/state/product/actions.ts\nvar actions = __webpack_require__(22189);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/state/booking/actions.ts\nvar booking_actions = __webpack_require__(58419);\n// EXTERNAL MODULE: ./src/pages/carNew/isd/base/baseRedux.tsx\nvar baseRedux = __webpack_require__(6017);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/carNew/isd/subPages/extras/index.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _getExtrasState, _getExtrasState2, _getExtrasState3, _getExtrasState4, _getExtrasState5;\n  return utils.Utils.isCtripIsd() ? {\n    curEquipments: (_getExtrasState = (0,booking_selector/* getExtrasState */.E0)(state)) === null || _getExtrasState === void 0 ? void 0 : _getExtrasState.curEquipments,\n    selectedExtras: (_getExtrasState2 = (0,booking_selector/* getExtrasState */.E0)(state)) === null || _getExtrasState2 === void 0 ? void 0 : _getExtrasState2.selectedExtras,\n    bomCode: (_getExtrasState3 = (0,booking_selector/* getExtrasState */.E0)(state)) === null || _getExtrasState3 === void 0 ? void 0 : _getExtrasState3.bomCode,\n    insPackageId: (_getExtrasState4 = (0,booking_selector/* getExtrasState */.E0)(state)) === null || _getExtrasState4 === void 0 ? void 0 : _getExtrasState4.insPackageId,\n    payMode: (_getExtrasState5 = (0,booking_selector/* getExtrasState */.E0)(state)) === null || _getExtrasState5 === void 0 ? void 0 : _getExtrasState5.payMode\n  } : (0,selector/* getExtrasState */.E0)(state);\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    changeExtrasNum: function changeExtrasNum(data) {\n      if (utils.Utils.isCtripIsd()) {\n        dispatch((0,booking_actions/* changeExtrasNum */.$u)(data));\n        dispatch((0,booking_actions/* queryPriceInfo */.B2)());\n      } else {\n        dispatch((0,actions/* changeExtrasNum */.$u)(data));\n        dispatch((0,actions/* queryPriceInfo */.B2)());\n      }\n    },\n    selectPackage: function selectPackage(data) {\n      return dispatch((0,actions/* selectPackage */.oX)(data));\n    },\n    backToBooking: function backToBooking(alertProps) {\n      dispatch((0,booking_actions/* setAlertProps */.EL)(alertProps));\n      dispatch((0,booking_actions/* showPriceConfirm */.BG)(true));\n    }\n  };\n};\nvar Container = (0,commonModule_prod.connect)(mapStateToProps, mapDispatchToProps)(extras);\nvar New = (0,baseRedux/* default */.Z)(Container);\nvar NewContainer = function NewContainer(props) {\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(New, (0,objectSpread2/* default */.Z)({}, props));\n};\n/* harmony default export */ var subPages_extras = (NewContainer);\n;// CONCATENATED MODULE: ./src/pages/carNew/isd/subPages/extras/index.tsx\n\n\nvar config = {\"navigationBarTitleText\":\"附加产品\",\"navigationBarTextStyle\":\"black\",\"navigationBarBackgroundColor\":\"#ffffff\"};\n\n\nvar inst = Page((0,runtime_esm.createPageConfig)(subPages_extras, 'pages/carNew/isd/subPages/extras/index', {root:{cn:[]}}, config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../../cwx/ext/global\");\n\n/***/ }),\n\n/***/ 33675:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 44353:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../../cwx/cwx.js\");\n\n/***/ }),\n\n/***/ 46346:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../../cwx/ext/global\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [7606,2107,1216,8592], function() { return __webpack_exec__(61028); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["require","wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","runtime_esm","objectSpread2","commonModule_prod","classCallCheck","createClass","assertThisInitialized","get","getPrototypeOf","inherits","createSuper","defineProperty","components_react","cwx_","cwx_default","n","basePage","model","extrasInfo","basic_button","utils","getSharkValue","Utils","texts","okBtn","extrasAtPickup","extraOnline","extraAllTip","extraTitle","types","jsx_runtime","Extras","_BasePage","Z","_super","props","_this","this","call","_this$currentCombinat","_this$state","state","equipments","combinations","_this$props","changeExtrasNum","selectPackage","insPackageId","extrasData","map","v","num","currentNum","code","equipmentCode","filterCombinations","filter","hike","length","currentCombination","bomCode","param","curPackageId","packageId","curBomCode","payMode","selectedExtra","curInsPackageId","navigateBack","newCount","tarEquipments","item","setState","isCtripIsd","isHasAtPickup","isHasOnline","isChecked","selected","JSON","parse","stringify","checkPerformance","key","value","pageId","Channel","getPageId","EXTRAS","ID","prototype","backToBooking","po","afterNavigateBack","alertProps","_this2","_this$props2","curEquipments","selectedExtras","_this$props2$combinat","tempCombinations","s","find","comb","_this3","_this$state2","extrasDescription","getExtrasDescription","jsxs","Fragment","children","View","className","isCtripOsd","jsx","Text","LB","onChooseExtra","onChooseCard","index","classnames","i5","type","o","Number","onHandleCount","handleCount","onClick","onExtrasContinue","theme","onAnimationEnd","viewReadyHandle","extras","selector","booking_selector","actions","booking_actions","baseRedux","mapStateToProps","_getExtrasState","_getExtrasState2","_getExtrasState3","_getExtrasState4","_getExtrasState5","E0","mapDispatchToProps","dispatch","data","$u","B2","oX","EL","BG","Container","connect","New","NewContainer","subPages_extras","config","Page","createPageConfig","root","cn","module","exports","__webpack_exec__","moduleId","O"],"sourceRoot":""}