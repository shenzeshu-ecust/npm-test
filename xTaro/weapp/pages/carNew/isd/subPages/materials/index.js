"use strict";require("../../../taroCommon"),(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[6487],{1957:function(e,t,n){var r=n(32180),c=n(298),a=n(19153),i=n(34719),s=n(6017),l=n(57042),o=n(24460),u=n(81876),d=n(21867),h=n(86066),x=n(45023),m=(n(90201),n(71515)),p=n(64341),f=n(55060),b=n(98706),j=n(86504),w=f.Utils.getSharkValue,g={get tcNeed(){return w("tcNeed")},get rentalVoucherProvide(){return w("rentalVoucherProvide")},get license(){return w("license")}},v=n(39719),I=n(2269),k=function(e){var t=e.items,n=e.isGray;return(0,I.jsx)(m.View,{className:"mt-16",children:null===t||void 0===t?void 0:t.map((function(e){return(0,I.jsxs)(m.View,{className:"dot-text-wrap",children:[(0,I.jsx)(m.View,{className:(0,a.classnames)("dot-style",n&&"gray-dot-style")}),(0,I.jsx)(m.Text,{className:(0,a.classnames)("item-text",n&&"gray-item-text"),children:e.title})]})}))})},T=k,N=function(e){var t=e.blocks;return(0,I.jsx)(m.View,{children:t.map((function(e,t){return(0,I.jsxs)(m.View,{children:[!!e.title&&(0,I.jsx)(m.Text,{className:"materials-block-subtitle",children:e.title}),(!e.type||e.type===v.k.Text)&&(0,I.jsx)(T,{items:e.items&&e.items.map((function(e){return{title:e.text}}))}),e.type===v.k.SmallImage&&(0,I.jsx)(m.View,{className:"credit-card-img-wrap",children:e.items&&e.items.map((function(e,n){return(0,I.jsx)(m.Image,{className:"credit-card-img",src:e.url},"".concat(t,"-").concat(n))}))}),!!e.note&&(0,I.jsx)(m.Text,{className:"credit-card-note",children:e.note})]})}))})},V=N,_=function(e){var t=e.notes;return(0,I.jsx)(m.View,{children:t.map((function(e){var t=e.title,n=e.content;return(0,I.jsxs)(m.View,{className:"license-note-wrap",children:[!!t&&(0,I.jsx)(m.Text,{className:"license-note-title",children:t}),(0,I.jsx)(T,{items:n&&n.map((function(e){return{title:e}})),isGray:!0})]})}))})},y=function(e){var t=e.block,n=t.items,r=void 0===n?[]:n,c=t.title;return(0,I.jsxs)(m.View,{className:"border-wrap",children:[(0,I.jsx)(m.View,{className:"license-block-header",children:(0,I.jsx)(m.Text,{children:c})}),(0,I.jsx)(m.View,{className:"license-content-wrap",children:r.map((function(e,t){return(0,I.jsx)(m.View,{children:e.content&&e.content.filter(Boolean).map((function(e,n){return(0,I.jsx)(m.View,{className:"license-content",children:(0,I.jsx)(m.Text,{children:e})},"".concat(t,"-").concat(n))}))})}))})]})},Z=function(e){var t=e.blocks,n=e.title;return(0,I.jsxs)(m.View,{className:"mt40",children:[(0,I.jsx)(m.Text,{className:"driver-licenses-title",children:n}),t.map((function(e,t){return(0,I.jsx)(y,{block:e})}))]})},S=Z,P=n(23060),A=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),r=t.call(this,e),(0,x.Z)((0,u.Z)(r),"getBbkMaterialsModalProps",(function(){var e=r.props,t=e.selectedIdType,n=e.curInsPackageId,c=(0,j.vu)(n),a=c.pickUpMaterials,i=void 0===a?[]:a,s=i.map((function(e){var n=e.title,r=e.content,c=e.type,a=e.subObject,i=void 0===a?[]:a,s={title:n,items:r,anchorTitle:n,anchorId:""};switch(c){case b.bS.Identity:var l=i&&i.find((function(e){return t&&e.code===t.idtype}));s.subTitle=l&&l.title||"",s.anchorId="Identity";break;case b.bS.DriverLicense:var o=(0,j.x3)(i,s,t),u=o.otherSubObject,d=u.find((function(e){return e.type===b.bS.LicenseNote})),h=[];d&&h.push(d),s.children=u.map((function(e){return e.type===b.bS.LicenseNote?(0,I.jsx)(_,{notes:h}):(e.note&&h.unshift({title:g.license,content:[e.note]}),(0,I.jsx)(S,{title:e.title,blocks:(0,j.aB)(e.subObject)}))})),s.anchorId="DriverLicense";break;case b.bS.Deposit:case b.bS.CreditCard:var x=(0,j.x3)(i,s),m=x.otherSubObject;s.children=(0,I.jsx)(V,{blocks:(0,j.Nr)({subObject:m,type:c})}),s.anchorId="CreditCard";break;case b.bS.RentalVoucher:s.content=g.rentalVoucherProvide,s.anchorId="RentalVoucher";break;default:s.anchorId="Others"}return s}));return{labelsTitle:g.tcNeed,blocks:s}})),(0,x.Z)((0,u.Z)(r),"onAnchorPress",(function(e){r.setState({scrollToAnchorId:e})})),(0,x.Z)((0,u.Z)(r),"scroll",(function(){r.state.scrollToAnchorId&&r.setState({scrollToAnchorId:""})})),(0,x.Z)((0,u.Z)(r),"anchorLabel",(function(e,t){return(0,I.jsx)(m.View,{onClick:function(){return r.onAnchorPress(e)},className:"anchor-label-wrap",children:(0,I.jsx)(m.Text,{"data-testId":P.Z.car_testid_page_materials_title_content,children:t})})})),r.state={scrollToAnchorId:""},r.checkPerformance=!0,r}return(0,o.Z)(n,[{key:"getPageId",value:function(){return this.pageId=f.Channel.getPageId().MATERIALS.ID,this.pageId}},{key:"render",value:function(){var e=this,t=this.state.scrollToAnchorId,n=this.getBbkMaterialsModalProps(),r=n.blocks,c=void 0===r?[]:r,a=n.labelsTitle,i=c.filter((function(e){return e.anchorTitle})).map((function(e){return{anchorTitle:e.anchorTitle,anchorId:e.anchorId}}));return(0,I.jsxs)(m.ScrollView,{scrollY:!0,scrollWithAnimation:!0,onScroll:this.scroll,scrollIntoView:t,className:"gray-bg",children:[(0,I.jsxs)(m.View,{className:"anchor-title",children:[(0,I.jsx)(m.Text,{className:"materials-page-title","data-testId":P.Z.car_testid_page_materials_title,children:a}),(0,I.jsx)(m.View,{className:"anchors-wrap",children:i.map((function(t){var n=t.anchorId,r=t.anchorTitle;return e.anchorLabel(n,r)}))})]}),!(null===c||void 0===c||!c.length)&&c.map((function(e,t){return(0,I.jsxs)(m.View,{className:"materials-block-wrap",id:e.anchorId,children:[(0,I.jsx)(m.Text,{className:"materials-block-title","data-testId":P.Z.car_testid_page_materials_block_title,children:e.title}),!!e.content&&(0,I.jsx)(m.Text,{className:"materials-block-content","data-testId":P.Z.car_testid_page_materials_block_content,children:e.content}),!!e.subTitle&&(0,I.jsx)(m.Text,{className:"materials-block-subtitle","data-testId":P.Z.car_testid_page_materials_block_subtitle,children:e.subTitle}),!!e.items&&(0,I.jsx)(T,{items:e.items.map((function(e){return{title:e}}))}),e.children]},t)})),(0,I.jsx)(m.View,{className:"view-check",onAnimationEnd:function(){return e.viewReadyHandle&&e.viewReadyHandle()}})]})}}]),n}(p.Z),C=A,q=function(e){return{curInsPackageId:(0,i.z9)(e),selectedIdType:(0,i.Pu)(e)}},B=function(){return{}},O=(0,a.connect)(q,B)(C),L=(0,s.Z)(O),M=function(e){return(0,I.jsx)(L,(0,c.Z)({},e))},R=M,D={navigationBarTitleText:"\u53d6\u8f66\u6750\u6599",navigationBarTextStyle:"black",navigationBarBackgroundColor:"#ffffff"};Page((0,r.createPageConfig)(R,"pages/carNew/isd/subPages/materials/index",{root:{cn:[]}},D||{}))},79181:function(e){e.exports=require("../../../../../cwx/cpage/initNavigator")},91783:function(e){e.exports=require("../../../../../cwx/cpage/ubt_wx")},56884:function(e){e.exports=require("../../../../../cwx/cwx")},65238:function(e){e.exports=require("../../../../../cwx/ext/global")},33675:function(e){e.exports=require("../../../../../cwx/cwx")},44353:function(e){e.exports=require("../../../../../cwx/cwx.js")},46346:function(e){e.exports=require("../../../../../cwx/ext/global")}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[7606,2107,1216,8592],(function(){return t(1957)}));e.O()}]);
//# sourceMappingURL=index.js.map