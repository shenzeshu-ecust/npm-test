(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[1003],{10076:function(e,t,r){"use strict";var n=r(99091);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},91006:function(e,t,r){e.exports=r(10076)()},99091:function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},33064:function(e,t,r){var n=r(32180)["window"],o=r(32180)["document"],i=r(66371)["default"];!function(){var t={216:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,i||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,a=new Array(i);o<i;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,o,i,a){var s=r?r+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,o),!0;case 5:return l.fn.call(l.context,t,n,o,i),!0;case 6:return l.fn.call(l.context,t,n,o,i,a),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,o);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,o){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||a(this,i);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||o&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},990:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,i||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,a=new Array(i);o<i;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,o,i,a){var s=r?r+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,o),!0;case 5:return l.fn.call(l.context,t,n,o,i),!0;case 6:return l.fn.call(l.context,t,n,o,i,a),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,o);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,o){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||a(this,i);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||o&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},743:function(e,t,r){"use strict";e=r.nmd(e);var n=r(125).default;Function("return this")(),function(r){function o(e){if("object"===n(e)){if(null==e)return e;var t=void 0;return e instanceof Date?((t=new Date).setTime(e.getTime()),t):e instanceof RegExp?t=s(e):(a(e,t=JSON.parse(JSON.stringify(e))),t)}return e}function i(e,t,r){var o=e[r];switch(n(o)){case"object":if(o instanceof Date){var i=new Date;i.setTime(o.getTime()),t[r]=i}else o instanceof RegExp?t[r]=s(o):null==o?t[r]=o:a(o,t[r]);break;case"number":isNaN(o)?t[r]=NaN:o==1/0&&(t[r]=1/0)}}function a(e,t){if(e instanceof Array)for(var r=0;r<e.length;r++)i(e,t,r);else Object.getOwnPropertyNames(e).forEach((function(r){i(e,t,r)}))}function s(e){var t=String(e),r=t.lastIndexOf("/");return new RegExp(t.slice(1,r),t.slice(r+1))}e&&e.exports&&(t=e.exports=o),t.clone=o}()},121:function(e,t,r){"use strict";var n=r(469),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var a=l(r);d&&(a=a.concat(d(r)));for(var s=c(t),m=c(r),v=0;v<a.length;++v){var g=a[v];if(!(i[g]||n&&n[g]||m&&m[g]||s&&s[g])){var y=f(r,g);try{u(t,g,y)}catch(e){}}}}return t}},888:function(e){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,i,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},842:function(e,t,r){"use strict";var n=r(125).default;e.exports=function(e){return null!=e&&"object"===n(e)&&!1===Array.isArray(e)}},8:function(e,t,r){"use strict";var n=r(842);e.exports=function(e,t){if(!n(e)&&"function"!=typeof e)return{};var r={};if("string"==typeof t)return t in e&&(r[t]=e[t]),r;for(var o=t.length,i=-1;++i<o;){var a=t[i];a in e&&(r[a]=e[a])}return r}},469:function(e){"use strict";e.exports=r(10668)},125:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},a={};function s(e){var r=a[e];if(void 0!==r)return r.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return t[e](n,n.exports,s),n.loaded=!0,n.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var c={};!function(){"use strict";s.r(c),s.d(c,{commonModule:function(){return Od}});var e={};function t(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}s.r(e),s.d(e,{FlightAirChangedProcessor:function(){return Ko},FlightChangedProcessor:function(){return Yo},FlightFillDefaultProcessor:function(){return Qo},FlightFilterItemsProcessor:function(){return $o},FlightFinalItemsAdaptor:function(){return ni},FlightFinalItemsProcessor:function(){return Jo},FlightGroupBySegNoPassengersProcessor:function(){return ei},FlightGroupItemsByPassengersProcessor:function(){return ti},FlightHxProcessor:function(){return ri},FlightNoteInfoProcessor:function(){return ii},FlightStatusProcessor:function(){return Uo},FlightStatusWithFinalItemsAdaptor:function(){return oi},FlightStatusWithFinalItemsProcessor:function(){return Wo}});var a=t();a.withExtraArgument=t;var u=a;function l(e){return l="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},l(e)}function d(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}function f(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var v="function"==typeof Symbol&&Symbol.observable||"@@observable",g=function(){return Math.random().toString(36).substring(7).split("").join(".")},y={INIT:"@@redux/INIT"+g(),REPLACE:"@@redux/REPLACE"+g(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+g()}};function T(e,t){return function(){return t(e.apply(this,arguments))}}function I(e,t){if("function"==typeof e)return T(e,t);if("object"!==l(e)||null===e)throw new Error(m(16));var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=T(o,t))}return r}function S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}function C(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,D(e,t)}var w=s(121),k=s.n(w),P=s(888),E=s.n(P),N=r(90201),_=s.n(N),x=s(469),F=_().createContext(null),R=Object.prototype.hasOwnProperty;function M(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function B(e,t){if(M(e,t))return!0;if("object"!==l(e)||null===e||"object"!==l(t)||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!R.call(t,r[o])||!M(e[r[o]],t[r[o]]))return!1;return!0}function j(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function L(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function V(e,t){return function(t,r){r.displayName;var n=function e(t,r){return e.dependsOnOwnProps?e.mapToProps(t,r):e.mapToProps(t)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=L(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=L(o),o=n(t,r)),o},n}}function U(e,t,r){return O({},r,e,t)}var H=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,s){var c=e(t,r,s);return a?o&&i(c,n)||(n=c):(a=!0,n=c),n}}}(e):void 0},function(e){return e?void 0:function(){return U}}];function Z(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function q(e,t,r,n,o){var i,a,s,c,u,l=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1;return function(o,h){return p?function(o,p){var h,m,v=!d(p,a),g=!l(o,i);return i=o,a=p,v&&g?(s=e(i,a),t.dependsOnOwnProps&&(c=t(n,a)),u=r(s,c,a)):v?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(c=t(n,a)),u=r(s,c,a)):g?(h=e(i,a),m=!f(h,s),s=h,m&&(u=r(s,c,a)),u):u}(o,h):(s=e(i=o,a=h),c=t(n,a),u=r(s,c,a),p=!0,u)}}function z(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+l(e)+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function X(e,t){return e===t}var G,W,Q,Y,K,J,$,ee,te,re,ne,oe=(W=(G={}).connectHOC,Q=void 0===W?function(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,o=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,i=r.methodName,a=void 0===i?"connectAdvanced":i,s=r.renderCountProp,c=void 0===s?void 0:s,u=r.shouldHandleStateChanges,l=void 0===u||u,d=r.storeKey,f=void 0===d?"store":d,p=r.withRef,h=void 0!==p&&p,m=r.forwardRef,v=void 0!==m&&m,g=r.context,y=void 0===g?F:g,T=C(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);E()(void 0===c,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),E()(!h,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var I="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";E()("store"===f,"storeKey has been removed and does not do anything. "+I);var S=y;return function(t){var r=t.displayName||t.name||"Component",n=o(r),i=O({},T,{getDisplayName:o,methodName:a,renderCountProp:c,shouldHandleStateChanges:l,storeKey:f,displayName:n,wrappedComponentName:r,WrappedComponent:t}),s=T.pure,u=N.Component;s&&(u=N.PureComponent);var d=function(r){function o(t){var n,o,i,a,c,u,l,d,p,h,m;return n=r.call(this,t)||this,E()(v?!t.wrapperProps[f]:!t[f],"Passing redux store in props has been removed and does not do anything. "+I),n.selectDerivedProps=function(t,r,n,d){if(s&&o===r&&i===t)return a;n===c&&u===d||(c=n,u=d,l=e(n.dispatch,d)),o=r,i=t;var f=l(t,r);return a=f},n.selectChildElement=function(e,t,r){return t===d&&r===p&&m===e||(d=t,p=r,m=e,h=_().createElement(e,O({},t,{ref:r}))),h},n.indirectRenderWrappedComponent=n.indirectRenderWrappedComponent.bind(b(n)),n}A(o,r);var a=o.prototype;return a.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},a.renderWrappedComponent=function(e){E()(e,'Could not find "store" in the context of "'+n+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+n+" in connect options.");var r,o=e.storeState,a=e.store,s=this.props;v&&(s=this.props.wrapperProps,r=this.props.forwardedRef);var c=this.selectDerivedProps(o,s,a,i);return this.selectChildElement(t,c,r)},a.render=function(){var e=this.props.context&&this.props.context.Consumer&&(0,x.isContextConsumer)(_().createElement(this.props.context.Consumer,null))?this.props.context:S;return _().createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},o}(u);if(d.WrappedComponent=t,d.displayName=n,v){var p=_().forwardRef((function(e,t){return _().createElement(d,{wrapperProps:e,forwardedRef:t})}));return p.displayName=n,p.WrappedComponent=t,k()(p,t)}return k()(d,t)}}:W,K=void 0===(Y=G.mapStateToPropsFactories)?[function(e){return"function"==typeof e?V(e):void 0},function(e){return e?void 0:j((function(){return{}}))}]:Y,$=void 0===(J=G.mapDispatchToPropsFactories)?[function(e){return"function"==typeof e?V(e):void 0},function(e){return e?void 0:j((function(e){return{dispatch:e}}))},function(e){return e&&"object"===l(e)?j((function(t){return I(e,t)})):void 0}]:J,te=void 0===(ee=G.mergePropsFactories)?H:ee,ne=void 0===(re=G.selectorFactory)?function(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=C(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,i),s=n(e,i),c=o(e,i);return(i.pure?q:Z)(a,s,c,e,i)}:re,function(e,t,r,n){void 0===n&&(n={});var o=n,i=o.pure,a=void 0===i||i,s=o.areStatesEqual,c=void 0===s?X:s,u=o.areOwnPropsEqual,l=void 0===u?B:u,d=o.areStatePropsEqual,f=void 0===d?B:d,p=o.areMergedPropsEqual,h=void 0===p?B:p,m=C(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=z(e,K,"mapStateToProps"),g=z(t,$,"mapDispatchToProps"),y=z(r,te,"mergeProps");return Q(ne,O({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:v,initMapDispatchToProps:g,initMergeProps:y,pure:a,areStatesEqual:c,areOwnPropsEqual:l,areStatePropsEqual:f,areMergedPropsEqual:h},m))}),ie=r(91006),ae=s.n(ie),se=function(e){function t(t){var r;r=e.call(this,t)||this;var n=t.store;return r.state={storeState:n.getState(),store:n},r}A(t,e);var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this.subscribe()},r.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},r.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},r.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe((function(){var r=t.getState();e._isMounted&&e.setState((function(e){return e.storeState===r?null:{storeState:r}}))}));var r=t.getState();r!==this.state.storeState&&this.setState({storeState:r})},r.render=function(){var e=this.props.context||F;return _().createElement(e.Provider,{value:this.state},this.props.children)},t}(N.Component);se.propTypes={store:ae().shape({subscribe:ae().func.isRequired,dispatch:ae().func.isRequired,getState:ae().func.isRequired}),context:ae().object,children:ae().any};var ce=se;function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function de(e,t,r){return t&&le(e.prototype,t),r&&le(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var fe=function(){function e(){ue(this,e)}return de(e,[{key:"setConfig",value:function(e){console.warn("you should implement this function by yourself")}},{key:"fetch",value:function(e){return Promise.reject(new Error("you should implement this function by yourself"))}}]),e}(),pe=s(990),he=s.n(pe),me="validate not passed",ve=function(){function e(t){ue(this,e),this.method="post",this.timeout=3e4,this.withCredentials=!0,this.headers=null,this.validates=[],this.sequenceId=null,this.fetch=this.fetch.bind(this),this.event=new(he()),this.requestModule=t,this.requestCache={}}return de(e,[{key:"_deleteRequest",value:function(e){delete this.requestCache[e]}},{key:"_saveRequest",value:function(e,t){var r=this;return new Promise((function(n,o){r.requestCache[e]=o,t.then((function(t){r._deleteRequest(e),n(t)})).catch((function(t){r._deleteRequest(e),o(t)}))}))}},{key:"sendRequest",value:function(e){var t=e.sequenceId||e.requestId,r=this.requestModule.fetch(e);return t&&(r=this._saveRequest(t,r)),r}},{key:"_genResponser",value:function(e,t){var r=this;return function(n){var o=(new Date).getTime();return r.onFetchEnd({res:n,timestamp:o,latency:o-e,config:t}),r.validates.length>0&&r.validates.forEach((function(e){if(!e(n)){var t=new Error(me);throw t.response=n,t}})),n}}},{key:"_genErrResponser",value:function(e,t){var r=this;return function(n){var o=(new Date).getTime(),i={resp:n.response||null,err:n,timestamp:o,latency:o-e,config:t};throw"abort"===n.type?r.onFetchAbort(Object.assign({},i,{isAbort:!0})):r.onFetchError(i),n}}},{key:"getBaseParam",value:function(){return null}},{key:"getFetchBaseConfig",value:function(){return{method:this.method,headers:this.headers,timeout:this.timeout,withCredentials:this.withCredentials}}},{key:"getFetchUrl",value:function(e){return e}},{key:"getFetchConfig",value:function(e,t){var r=this.getFetchBaseConfig(),n=this.getBaseParam();this.sequenceId=this.findSequenceId(t);var o=Object.assign({},n,t.body||{});return Object.assign({},r,t,{url:this.getFetchUrl(e),requestId:this.sequenceId,data:o})}},{key:"genSequenceId",value:function(){return"".concat((new Date).getTime()).concat(Math.ceil(1e4*Math.random()))}},{key:"findSequenceId",value:function(e){return e.sequenceId?e.sequenceId:e.body&&e.body.sequenceId?e.body.sequenceId:this.genSequenceId()}},{key:"createOptions",value:function(e,t){var r=this.getFetchConfig(e,t);return Promise.resolve(r)}},{key:"start",value:function(e){var t=this.sendRequest(e),r=(new Date).getTime();return this.onFetchStart({timestamp:r,config:e}),t.then(this._genResponser(r,e)).catch(this._genErrResponser(r,e))}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e?this.createOptions(e,t).then(this.fetch):this.start(e)}},{key:"cancelFetch",value:function(e){if(Object.prototype.hasOwnProperty.call(this.requestCache,e)){var t=this.requestCache[e],r=new Error("request ".concat(e," is aborted"));r.type="abort",t(r)}}},{key:"onFetchStart",value:function(e){this.emit("fetchStart",e)}},{key:"onFetchEnd",value:function(e){this.emit("fetchEnd",e)}},{key:"onFetchAbort",value:function(e){this.emit("fetchAbort",e)}},{key:"onFetchError",value:function(e){this.emit("fetchError",e)}},{key:"on",value:function(){var e;(e=this.event).on.apply(e,arguments)}},{key:"off",value:function(){var e;(e=this.event).off.apply(e,arguments)}},{key:"emit",value:function(){var e;(e=this.event).emit.apply(e,arguments)}}]),e}(),ge="[object Array]",ye="[object String]",Te="[object Date]",Ie="[object Function]",Se=Object.prototype.toString;function Oe(e){return!!e&&"object"===l(e)}function Ce(e){return!!e&&Array.isArray(e)||Se.call(e)===ge}function be(e){return!!e&&"number"==typeof e}function De(e){return"string"==typeof e||!Ce(e)&&Oe(e)&&Se.call(e)===ye}function Ae(e){return e&&Se.call(e)===Ie}function we(e){return!!e&&Oe(e)&&Se.call(e)===Te}function ke(e){return e?e[0]:void 0}function Pe(e){if(Ce(e)||De(e))return!e.length;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function Ee(e,t){return!(!e||!t||e!==t&&JSON.stringify(e)!==JSON.stringify(t))}function Ne(e,t){return e&&t&&Ce(e)&&Ce(t)?e.filter((function(r){return e.includes(r)&&!t.includes(r)})):[]}function _e(e){return e&&Ce(e)?Ne(e,Array.prototype.splice.apply(arguments,[1])):[]}var xe=function(){function e(t){ue(this,e),this.globalEnv=null,this.globalFetch=null,this.globalLogger=null,this.globalLocale=null,this.globalCurrency=null,this.globalChannel=null,this.globalClientVersion=null,this.globalUseScrollTurnPage=null,t&&this.update(t)}return de(e,[{key:"hasI18NInfo",value:function(){return!!this.globalLocale}},{key:"getLocale",value:function(){return this.globalLocale}},{key:"getCurrency",value:function(){return this.globalCurrency}},{key:"getChannel",value:function(){if(!this.globalChannel)throw new Error("runtime has not been initialized");return this.globalChannel}},{key:"getEnv",value:function(){if(!this.globalEnv)throw new Error("env has not been initialized");return this.globalEnv}},{key:"getFetch",value:function(){if(!this.globalFetch)throw new Error("runtime has not been initialized");return this.globalFetch}},{key:"getLogger",value:function(){if(!this.globalLogger)throw new Error("runtime has not been initialized");return this.globalLogger}},{key:"getClientVersion",value:function(){if(!this.globalClientVersion)throw new Error("clientVersion has not been initialized");return this.globalClientVersion}},{key:"isScrollTurnPage",value:function(){return this.globalUseScrollTurnPage}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.env,r=e.fetch,n=e.logger,o=e.channel,i=e.locale,a=e.currency,s=e.clientVersion,c=e.useScrollTurnPage,u=void 0===c||c;this.globalEnv=void 0===t?this.globalEnv:t,this.globalFetch=void 0===r?this.globalFetch:r,this.globalLogger=void 0===n?this.globalLogger:n,this.globalLocale=void 0===i?this.globalLocale:i,this.globalChannel=void 0===o?this.globalChannel:o,this.globalCurrency=void 0===a?this.globalCurrency:a,this.globalClientVersion=void 0===s?this.globalClientVersion:s,this.globalUseScrollTurnPage=u}}]),e}(),Fe=new xe,Re=new xe;function Me(e){var t,r=n.document.cookie,o="";if(r)for(var i,a,s=r.split(";"),c=0;c<s.length;c+=1)a=(i=s[c]).indexOf("="),("string"!=typeof(t=i.substr(0,a))?t:"function"==typeof t.trim?t.trim():t.replace(/^\s+|\s+$/g,""))===e&&(o=i.substr(a+1));return o}function Be(){return"undefined"!=typeof n}function je(){return void 0!==n.document&&n.document.cookie}var Le={fws:"https://gateway.m.fws.qa.nt.ctripcorp.com/",fat:"https://gateway.m.fws.qa.nt.ctripcorp.com/",uat:"https://gateway.m.uat.qa.nt.ctripcorp.com/",prd:"https://m.ctrip.com/"};function Ve(e,t){return e?(r=n.location&&n.location.host,/\.trip(qate)?./i.test(r)?function(e){var t,r=n.location.host;return"".concat((t=n.location.protocol,"https:"===t?"https":"file:"===t?"file":"http"),"://").concat(r,"/restapi/soa2").concat(e)}(e):function(e,t){var r=t||function(){var e="prd";if(Be()&&n.location){var t=n.location.host;t&&(/.*\.(fat|dev)\d*\.*/.test(t)?e="fws":/.*\.uat\d*\.*/.test(t)&&(e="uat"))}return e}();return"".concat(Le[r]||Le.prd,"restapi/soa2").concat(e)}(e,t)):(console.error("URL\u4e0d\u80fd\u4e3a\u7a7a"),"");var r}var Ue,He="/10098/GetOrderWithBM.json",Ze="/10098/getAllOrders.json",qe=s(8),ze=s.n(qe);!function(e){e.TOKEN_INVALID="-4",e.ABORT="FE-1000",e.BAD_NETWORK="FE-1001",e.RESP_WITHOUT_RESULT_AND_RESPONSE_STATUS="FE-1002",e.FRAMEWORK_ERROR="FE-1003",e.JSONP_PARSE_ERR="FE-1004",e.VALIDATE_NOT_PASSED="FE-1005",e.RESPONSE_ACK_FAILURE="FE-1006",e.ERROR_WITH_CATCH="FE-1007",e.UNKNOWN="FE-unknown"}(Ue||(Ue={}));var Xe,Ge="request",We="after",Qe="fetch",Ye="fetchStart",Ke="fetchEnd",Je="fetchError",$e="metric_bbz_myctrip_order_list_request",et="metric_bbz_myctrip_order_list_page";!function(e){e.SUCCESS="success",e.ERROR="error"}(Xe||(Xe={}));var tt="unknown";function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;try{if(!e)return void console.error("pls pass the metricKey for logging metric!");var n=Re.getLogger().logMetric,o={channel:Re.getChannel(),scene:tt},i=Object.assign(Object.assign({},o),t),a=n(e,i,0,r);"function"==typeof a&&a(i,r)}catch(e){console.error(e.message)}}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;rt($e,Object.assign({},e),t)}function ot(){rt(et,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}var it=["19587/orderListResult","19587/config","19587/valid","15618/commonConfig","10098/checkUser"],at=function(e){return"function"!=typeof e?function(){}:function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!(!e||e&&it.find((function(t){return e.indexOf(t)>-1}))||"string"!=typeof e)})(arguments.length<=0?void 0:arguments[0])||e.apply(void 0,arguments)}},st={logCardRenderRetMetric:function(e,t,r,n){ot({render:e||tt,bizType:t||tt,orderId:r||0,pageType:n||tt,scene:"card.render.result"})},logButtonRenderMetric:function(e,t,r){ot({bizType:e||tt,actionStandardCode:t||tt,scene:"button.render",render:r||tt})},logButtonClickMetric:function(e,t){ot({bizType:e||tt,actionStandardCode:t||tt,scene:"button.clicked"})},logRequestCountMetric:at((function(e,t){nt({requestUrl:e||tt,pageType:t||tt,scene:"request.count"})})),logFailedRequestCountMetric:at((function(e,t,r,n){nt({status:"fail",requestUrl:e||tt,resultCode:t||tt,pageType:n||tt,scene:"request.failed"},r)})),logSuccessRequestCountMetric:at((function(e,t,r){nt({status:"success",requestUrl:e||tt,pageType:r||tt,scene:"request.success"},t)})),logListPageRenderMetric:function(e){ot({pageType:e||tt,scene:"list.render.count"})},logListPageRenderEmptyMetric:function(e){ot({pageStatus:"empty",pageType:e||tt,scene:"list.render.empty"})},logListPageRenderListDataMetric:function(e){ot({pageStatus:"list",pageType:e||tt,scene:"list.render.list.data"})},logListPageRenderRetryMetric:function(e){ot({pageStatus:"retry",pageType:e||tt,scene:"list.render.retry"})},logListPageRenderWithErrorMetric:function(e){ot({pageStatus:"error",pageType:e||tt,scene:"list.error.boundary"})},logFirstListPageMetric:function(e,t){ot({pageType:e||tt,dataSource:t||tt,scene:"list.render.first.page"})}},ct=function(e){var t=e;try{var r=e.OrderEnities,n=(void 0===r?[]:r).map((function(e){var t=e.OrderName,r=e.BizType,n=e.OrderID,o=e.OrderStatusName,i=e.OrderTotalPrice,a=e.OrderAmount,s="";if(a){var c=Object.keys(a).map((function(e){var t,r=a[e];return t=Ce(r)?r.join(","):r.toString(),"".concat(e,":").concat(t)}));s=c.join(";")}return"".concat(r,"_").concat(n,"_").concat(o,"_").concat(t,"_oldPrice:").concat(i,"_newPrice:").concat(s)}));t=h(h({},e),{},{OrderEnities:n})}catch(e){console.error(e.message)}return JSON.stringify(t)},ut="order-store",lt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,Fe.getLogger().logDevTrace)(h({SendBy:ut,Type:Ge,Stage:We,Url:t,Response:n?ct(e):JSON.stringify(e||{}),Time:(new Date).toISOString()},r))},dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Fe.getLogger().logDevTrace)(h(h({},{SendBy:ut,Type:Ge,Stage:We,Error:JSON.stringify(e||{}),ErrorMsg:e.message||"",Time:(new Date).toISOString()}),t))},ft=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,Fe.getLogger().logDevTrace)(h(h({},{SendBy:ut,Type:Qe,Stage:e,Url:t,Time:(new Date).getTime()}),r))},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Fe.getLogger().logDevTrace)(h({},e))},ht=!1;function mt(e){if(!e.timeout){var t=Fe.getEnv()||"";e.timeout="prd"===t?5e3:4e4}var r,i=("string"!=typeof(r=Fe.getLocale())&&(r=function(){var e,t,r,i="en-us",a=o.getElementsByTagName("html")[0].getAttribute("locale");if(!a)try{return t=!(e=n.navigator.userAgent).match(/(iPad).*OS\s([\d_]+)/)&&e.match(/(iPhone\sOS)\s([\d_]+)/),r=e.match(/(Android)\s+([\d.]+)/),(a=Boolean(t||r)?Me("ibu_h5_local"):Me("ibulocale"))?a=a.replace(/_/g,"-"):i}catch(e){return i}return a}()),{ClientVersion:Fe.getClientVersion(),Channel:Fe.getChannel(),Locale:r}),a=e.body;return a?Object.keys(i).forEach((function(e){e in a||(a[e]=i[e])})):e.body=i,e}function vt(e,t){return!(!e||!t)&&Object.prototype.hasOwnProperty.call(e,t)}var gt,yt={createOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Fe.getFetch();if(!e)return Promise.reject(new Error("url not existed"));var n=mt(t);return r.createOptions(e,n)},fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ht||function(){var e=Fe.getFetch();e.on("fetchStart",(function(e){var t=e.config,r=t.url;ft(Ye,r,{params:JSON.stringify(ze()(t,["sequenceId","body"])||{})})})),e.on("fetchEnd",(function(e){var t,r,n,o=e.res,i=e.config,a=e.latency,s=void 0===a?0:a,c=i.url,u=i.metricInfo,l=void 0===u?{}:u,d=("number"==typeof(r=(void 0===(t=(o||{}).Result)?{}:t).ResultCode)&&0!==r?r?r.toString():Ue.UNKNOWN:"")||"",f="",p=l.pageType,h=void 0===p?"":p,m=o.ResponseStatus.Ack,v=void 0===m?"":m;vt(o,"Result")&&d?f=d:vt(o,"ResponseStatus")&&v&&"Failure"===v&&(f=Ue.RESPONSE_ACK_FAILURE),f?st.logFailedRequestCountMetric(c,f,s,h):st.logSuccessRequestCountMetric(c,s,h),ft(Ke,c,{Sequence:i.sequenceId,Status:(n=o,n&&n.ResponseStatus&&n.ResponseStatus.Ack?"Failure"===n.ResponseStatus.Ack?n.ResponseStatus.Errors?n.ResponseStatus.Errors.map((function(e){return e.Message})).join("|"):"unknown failure":"Success":"")})})),e.on("fetchError",(function(e){var t,r=e.err,n=e.config,o=e.latency,i=void 0===o?0:o,a=n.url,s=n.metricInfo,c=(void 0===s?{}:s).pageType,u=void 0===c?"":c,l=r.message,d=void 0===l?"":l;switch(d){case"parse response string to json failed":t=Ue.JSONP_PARSE_ERR;break;case me:t=Ue.VALIDATE_NOT_PASSED;break;default:t=r.code||Ue.BAD_NETWORK}st.logFailedRequestCountMetric(a,t,i,u),ft(Je,a,{Sequence:n.sequenceId,Response:r?JSON.stringify({code:t,message:d}):"unknown error"})})),e.on("fetchAbort",(function(e){var t=e.err,r=e.config,n=e.isAbort,o=e.latency,i=void 0===o?0:o,a=r.url,s=r.metricInfo.pageType,c=void 0===s?"":s;st.logFailedRequestCountMetric(a,Ue.ABORT,i,c),ft(Je,a,{isAbort:n,Sequence:r.sequenceId,Response:t?JSON.stringify(t):"unknown error"})})),ht=!0}();var r=Fe.getFetch(),n=mt(t);return r.fetch(e,n).then((function(t){var r=t.Result,n=t.ResponseStatus;if(!r&&!n)throw new Error("Got a empty result when getting response from ".concat(e));if(r&&0!==r.ResultCode){var o=new Error("got error response with code ".concat(r.ResultCode," and msg ").concat(r.ResultMsg||""," from ").concat(e));throw o.res=t,o.Result=t.Result,o}if(n&&"Success"!==n.Ack){var i=new Error("got error response with code ".concat(n.ErrorCode," and msg ").concat(n.Message||""," from ").concat(e));throw i.res=t,i}return t}))},cancelFetch:function(e){Fe.getFetch().cancelFetch(e)}},Tt={SEND_HIDING_ORDER_REQUEST:"hideAction.sendHidingOrderRequest",HIDE_ORDER_FAILED:"hideAction.hideOrderFailed",SET_HIDE_ORDER_ID:"hideAction.setHideOrderId",HIDE_ORDER:"hideAction.hideOrder"},It=function(){},St=function(e,t){return{type:Tt.HIDE_ORDER_FAILED,orderId:t,bizType:e}},Ot=function(e,t,r){return{HideOrderInfos:{BizType:e,OrderIDs:[t],OrderType:r||""}}},Ct=function(e,t,r){return"XDomainRequest"in n&&null!==n.XDomainRequest?function(e,t,r){return{HideOrderInfosString:JSON.stringify(Ot(e,t,r).HideOrderInfos)}}(e,t,r):Ot(e,t,r)},bt=function(e,t,r,n,o){var i=o.failCallback,a=void 0===i?It:i,s=Ct(t,r,n);console.log("%c\u5220\u9664\u8ba2\u5355request---\x3e","color:pink;"),console.log(s);var c=Ve("/10098/HideOrders.json",Fe.getEnv());return e(function(e){return{type:Tt.SEND_HIDING_ORDER_REQUEST,sequenceId:e.sequenceId}}(s)),yt.fetch(c,{body:s}).then((function(n){return lt(n,c),e(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.successCallback,i=void 0===o?It:o,a=n.failCallback,s=void 0===a?It:a;return e&&e.Result&&0===e.Result.ResultCode?(i(),function(e,t){return{type:Tt.SET_HIDE_ORDER_ID,orderId:t,bizType:e}}(t,r)):(s(),St(t,r))}(n,t,r,o)),n})).catch((function(t){dt(t,{Url:c}),a(),e(St())}))};function Dt(e,t){return Object.assign({},e,t)}function At(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return n.type&&Object.prototype.hasOwnProperty.call(t,n.type)?t[n.type](r,n):r}}var wt=At({sequenceId:null,param:null,isFetching:!1,fetchingFailed:!1},(f(gt={},Tt.SEND_HIDING_ORDER_REQUEST,(function(e,t){return Dt(e,{sequenceId:t.sequenceId,isFetching:!0,fetchingFailed:!1})})),f(gt,Tt.HIDE_ORDER_FAILED,(function(e){return Dt(e,{isFetching:!1,fetchingFailed:!0})})),f(gt,Tt.SET_HIDE_ORDER_ID,(function(e){return Dt(e,{isFetching:!1,fetchingFailed:!1})})),gt));function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pt(e,t){if(e){if("string"==typeof e)return kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kt(e,t):void 0}}function Et(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){return t.useReplace?t.entities:t.entities&&t.entities.length>0?e.concat(t.entities):e}var _t=function(){return[]},xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.entities,n=t.orderId,o=t.isBatchUpdate;if(void 0!==o&&o)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;try{var n=e,o=t.length,i=e&&e.length,a=r.length,s=[];if(a&&i&&o<=i&&r[0]===e[0].orderId){for(var c=[],u=function(e){var t={};return e.forEach((function(e){var r=e.orderId;t[r]=e})),t}(t),l=0;l<a;l++){var d=r[l],f=u[d];f?s.push(f):c.push(d)}var p=e.splice(a);s.push.apply(s,Et(p)),n=s,pt({type:"batch refresh",removedOrderId:JSON.stringify(c)})}return Et(n)}catch(t){return pt({type:"batch refresh with catch",message:t.message}),Et(e)}}(e,r,n);if(!Ce(r)||1!==r.length)return e.filter((function(e){return e.orderId!==n}));var i=r[0];return e.map((function(e){return e.orderId===n&&i.orderId===n?i:e}))},Ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.orderId?e.filter((function(e){return e.orderId!==t.orderId})):e};function Rt(e){return Dt(e,{currentPageOrders:[],currentRequestOrders:[],serverTimestamp:""})}var Mt=function(e){return Dt(e,{currentPageOrders:[],currentRequestOrders:[],serverTimestamp:""})},Bt=function(e,t){return Dt(e,{currentPageOrders:t.originEntities,currentRequestOrders:t.originEntities,serverTimestamp:t.serverTimestamp||""})},jt=function(e,t){return Dt(e,{currentRequestOrders:t.originEntities,serverTimestamp:t.serverTimestamp||""})},Lt=function(e){return Dt(e,{currentPageOrders:[],currentRequestOrders:[],serverTimestamp:""})},Vt="paginationAction.nextPage",Ut="paginationAction.resetPage",Ht="paginationAction.setCurrentPageNum",Zt=function(){return{type:Ut,pageNum:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}},qt=function(e){return e&&e.OrderEnities&&e.Result&&0===e.Result.ResultCode?{type:Ht,currentPageNum:e.OrderEnities.length}:{type:Ht,currentPageNum:0}};function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||Pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xt,Gt=s(743),Wt=s.n(Gt),Qt=Object.values||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return e[t]}))},Yt="userActions.save",Kt=function(e){return function(t){return t(function(e){return{type:Yt,account:e}}(e))}},Jt="abort",$t=[function(e,t){var r,n;if(n="res.ResponseStatus.Errors",(r=e)&&n&&"function"==typeof n.split&&n.split(".").reduce((function(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:null}),r)&&e.res.ResponseStatus.Errors.length>0){var o=e.res.ResponseStatus.Errors[0];o&&o.ErrorCode&&"AccountsMobileRequestFilterException"===o.ErrorCode&&t(Kt({hasTicket:!1}))}if(e&&e.userInfo){var i=(e.userInfo||{}).ErrorFields,a=((void 0===i?[]:i)[0]||{}||{}).Message,s=void 0===a?"":a;s&&(s.indexOf("Token\u65e0\u6548")>-1||s.indexOf("Token\u4e3a\u7a7a")>-1)&&t(Kt({hasTicket:!1}))}}],er=Object.assign({},yt,{fetch:function(){return Xt?Xt.apply(void 0,arguments):yt.fetch.apply(yt,arguments)},initProxy:function(e){Xt=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return yt.fetch.apply(yt.fetch,r).catch((function(t){throw t&&$t.forEach((function(r){return r(t,e)})),t}))}}}),tr=er,rr=["authType","orderType","bizTypes","status","beginBookingDateTime","endBookingDateTime","filterValidOrder","pageSize","orderIDs","orderBys","orderTypes","lastBookingDateTime","filterOrderIDArray","offset","firstHistoryOrderId","keyword","needOrderAmountDetail"],nr=function(e){return e.orderStatus},or=function(e){return nr(e).bizTypes},ir=function(e){return nr(e).status},ar=function(e){return nr(e).beginBookingDateTime||""},sr=function(e){return nr(e).endBookingDateTime||""},cr=function(e){return nr(e).filterValidOrder||!1},ur=function(e){return nr(e).orderTypes},lr=function(e){return nr(e).orderBys},dr=function(e){return nr(e).orderType},fr=function(e){return nr(e).lastBookingDateTime||""},pr=function(e){return nr(e).filterOrderIDArray||[]},hr=function(e){return nr(e).offset},mr=function(e){return nr(e).keyword||""},vr=function(e){return nr(e).needOrderAmountDetail},gr=function(e){return nr(e).authType},yr="NOT_FOUND",Tr=function(e,t){return e===t};function Ir(e,t){var r,n,o="object"===l(t)?t:{equalityCheck:t},i=o.equalityCheck,a=void 0===i?Tr:i,s=o.maxSize,c=void 0===s?1:s,u=o.resultEqualityCheck,d=function(e){return function(t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e(t[o],r[o]))return!1;return!0}}(a),f=1===c?(r=d,{get:function(e){return n&&r(n.key,e)?n.value:yr},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}):function(e,t){var r=[];function n(e){var n=r.findIndex((function(r){return t(e,r.key)}));if(n>-1){var o=r[n];return n>0&&(r.splice(n,1),r.unshift(o)),o.value}return yr}return{get:n,put:function(t,o){n(t)===yr&&(r.unshift({key:t,value:o}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(c,d);function p(){var t=f.get(arguments);if(t===yr){if(t=e.apply(null,arguments),u){var r=f.getEntries().find((function(e){return u(e.value,t)}));r&&(t=r.value)}f.put(arguments,t)}return t}return p.clearCache=function(){return f.clear()},p}function Sr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i,a=0,s={memoizeOptions:void 0},c=n.pop();if("object"===l(c)&&(s=c,c=n.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+l(c)+"]");var u=s.memoizeOptions,d=void 0===u?r:u,f=Array.isArray(d)?d:[d],p=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":l(e)})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}(n),h=e.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(f)),m=e((function(){for(var e=[],t=p.length,r=0;r<t;r++)e.push(p[r].apply(null,arguments));return i=h.apply(null,e)}));return Object.assign(m,{resultFunc:c,memoizedResultFunc:h,dependencies:p,lastResult:function(){return i},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),m}}var Or=Sr(Ir),Cr=[],br=function(e){return e.orderFilters.hidden},Dr=function(e,t){return e&&0!==e.length?e.filter((function(e){return!e||-1===t.indexOf(e.OrderID||e.orderId)})):Cr},Ar=Or((function(e){return e.orders||Cr}),br,Dr),wr=(Or((function(e){return e&&e.orderResponse&&e.orderResponse.currentRequestOrders?e.orderResponse.currentRequestOrders:[]}),br,Dr),{EMAIL:"email_auth",USER:"user_auth",MOBILE:"mobile_auth",BIND_EMAIL:"bind_email_auth",SHARE_ORDER_LIST:"share_order_list_auth",HISTORY_ORDER_LIST:"history_order_list_auth"}),kr={RECENT:"recent",HISTORY:"history",ALL:"all"},Pr=function(e){return e.orderPagination.pageNum},Er=function(e){return e.orderStatus.pageSize||e.orderPagination.pageSize},Nr="orderListFilterActions.setOrdersStatus",_r="orderListFilterActions.setOffset",xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{type:Nr})},Fr=function(e){return e&&e.Offset?{type:_r,offset:e.Offset}:{type:_r,offset:""}},Rr=function(e){if(e.pageStatus)return e.pageStatus.pageType},Mr=function(e){return{pageType:Rr(e)}},Br=function(e){return{isFetching:function(t){return t[e].isFetching},isFetchingFailed:function(t){return t[e].fetchingFailed},getSequenceId:function(t){return t[e].sequenceId},getRequestStartTime:function(t){return t[e].startTime},getFetchFailedCode:function(t){return t[e].errCode}}}("orderRequest"),jr=function(e){var t=e.orderStatus,r=t.authType,n=t.orderType,o=wr.EMAIL,i=wr.BIND_EMAIL,a=(wr.USER,wr.MOBILE),s=wr.SHARE_ORDER_LIST,c=kr.HISTORY,u=kr.ALL,l=He;if(n===c)l="/10098/GetHistoryOrderList.json";else if(n===u)l=Ze,l=r===a?"/10098/getMobileOrders.json":Ze;else switch(r){case o:l="/10098/GetOrderByEmail.json";break;case i:l="/10098/GetOrderByBindEmail.json";break;case a:l="/10098/GetOrderByMobileV2.json";break;case s:l="/10098/GetFocusOrders.json";break;default:l=He}return Ve(l,Fe.getEnv()||"")},Lr=Br.isFetching,Vr=Br.isFetchingFailed,Ur=Br.getSequenceId,Hr=Br.getRequestStartTime,Zr=(Br.getFetchFailedCode,{REQUEST_DATA:"orderActions.requestOrders",RECEIVE_DATA:"orderActions.receiveOrders",FETCHING_FAILED:"orderActions.fetchingFailed",CANCEL_REQUEST:"orderActions.cancelRequest",CLEAR_DATA:"orderActions.clearOrders",UPDATE_ORDER_DATA:"orderActions.orderUpdate"}),qr=function(){return{type:Zr.CLEAR_DATA}},zr=function(e,t){return{type:Zr.REQUEST_DATA,sequenceId:e,startTime:t}},Xr=function(){return{type:Zr.CANCEL_REQUEST}},Gr=function(e){return{type:Zr.FETCHING_FAILED,err:e,errCode:e&&e.Result&&e.Result.ResultCode}},Wr=function(e){if(!e)return[];if(!De(e)&&!Ce(e))return console.error("\u8bf7\u4f20\u5165\u6b63\u786e\u683c\u5f0f\u7684BizTypes\uff0cArray[string]"),[];var t=e;return De(e)&&(t=e.split(",")),t.map((function(e){return e.trim()}))};function Qr(e,t,r){var n=t(),o=function(e){var t=e(),r=Pr(t),n=Er(t),o=or(t),i=ir(t),a=function(e){var t=nr(e),r=Ne(Object.keys(t),rr);return ze()(t,r)}(t),s=gr(t),c=cr(t),u=fr(t),l=pr(t),d=dr(t),f=hr(t),p=mr(t),h=vr(t),m={OrderStatusClassify:i,PageIndex:r,PageSize:n,BizTypes:Wr(o),FilterValidOrder:c,BookingDateTime:u},v={BizTypes:Wr(o),Offset:f,Count:n,OrderStatusClassify:i,FilterValidOrder:c,BeginBookingDateTime:ar(t),EndBookingDateTime:sr(t),NeedOrderAmountDetail:h};if(p&&(v.Keyword=p),a.OrderIDs?(m.OrderIDs=a.OrderIDs,v.OrderIDs=a.OrderIDs):(Object.assign(m,a),Object.assign(v,a)),d===kr.ALL)return v;switch(s){case wr.BIND_EMAIL:m.ResultType="unbind";break;case wr.HISTORY_ORDER_LIST:m.BeginBookingDateTime=ar(t),m.EndBookingDateTime=sr(t),m.OrderStatusClassify="All",delete m.BookingDateTime,m.PreviousPageLastBookingDateTime=u;break;case wr.USER:var g=ur(t),y=lr(t);g&&(m.OrderTypes=g),y&&(m.OrderBys=y),m.BeginBookingDateTime=ar(t),m.EndBookingDateTime=sr(t),m.FilterRequiredOrderIDArray=l,m.NeedOrderAmountDetail=h;break;case wr.MOBILE:m.NeedOrderAmountDetail=h}return m}(t),i=r&&r.fetch?r.fetch:tr;if(Lr(n)){var a=Ur(n);i.cancelFetch(a)}var s=jr(n),c=(new Date).getTime(),u=Mr(n),l={body:o,metricInfo:u};return i.createOptions(s,l).then((function(t){var r=t.requestId;return e(zr(r,c)),Promise.all([Promise.resolve(r),i.fetch(t)])})).then((function(e){var r=zt(e,2),n=r[0],i=r[1],a=t(),u=(new Date).getTime(),l=u-c,d=Ur(a);if(n!==d)return dt(null,{Info:"log canceled fetched content\uff1bsequence id is not equal, data will not be processed"}),Promise.reject();if(!(i&&Ce(i.OrderEnities)&&i.Result&&0===i.Result.ResultCode)){var f=i&&i.Result||{},p=f.ResultMsg,h=f.ResultCode,m="get error response, sequenceId is ".concat(d,", with code ").concat(h," and message ").concat(p),v=new Error(m);throw v.res=i,v}return function(e,t,r,n,o){var i=Wt()(r);lt(i,e,{SequenceId:t,Timestamp:n,TimeDiff:o},!0)}(s,o.sequenceId,i,u,l),i})).catch((function(t){if(t){if(dt(t,{Url:s,SequenceId:o.sequenceId,Info:t.toString()||""}),t&&t.type===Jt)return Promise.reject(t);e(Gr(t&&t.res))}}))}function Yr(e,t){return function(r,n,o){var i=Qr(r,n,o);return e&&(i=i.then(function(e,t){return function(r){var n=t(),o=jr(n),i=Hr(n),a=(new Date).getTime();return lt({},o,{Info:"clear orders after fetch",TimeDiff:a-i}),e(qr()),Promise.resolve(r)}}(r,n))),i.then((function(e){return e?(r(qt(e)),r(Fr(e)),r(function(e,t){if(!(e&&e.OrderEnities&&e.Result&&0===e.Result.ResultCode))return function(t){return Promise.resolve(t(Gr(e)))};var r=e.ResponseStatus.Timestamp,n=void 0===r?"":r;return function(r){return Promise.resolve(r({type:Zr.RECEIVE_DATA,entities:e.OrderEnities,total:e.TotalCount,serverTimestamp:n,useReplace:t}))}}(e,t)).then((function(){return e}))):e})).catch((function(e){if(e&&e.type===Jt)return e}))}}function Kr(){return function(e){e((function(e,t){var r=t();if(Lr(r)){var n=Ur(r);n&&tr.cancelFetch(n)}e(Xr())})),e(qr())}}function Jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t(Kr()),t(xr(e)),t(Zt()),t(Yr(!0))}}var $r,en,tn={fetchFirstPage:Jr,fetchNextPage:function(e){return function(t){return t({type:Vt}),e&&t(xr(e)),t(Yr())}},refetchCurrentPage:function(e){return function(t){return e&&t(xr(e)),t(Yr())}},refreshFirstPage:function(e){return function(t){return t(Zt()),e&&t(xr(e)),t(Yr(!1,!0))}}},rn="orderTabsAction.orderTabsStatus",nn=At({total:0,pageNum:1,pageSize:15,currentPageNum:0},(f($r={},Vt,(function(e){return Dt(e,{pageNum:e.pageNum+1})})),f($r,"paginationAction.prevPage",(function(e){return Dt(e,{pageNum:e.pageNum-1>0?e.pageNum-1:1})})),f($r,Ut,(function(e,t){return Dt(e,{pageNum:t.pageNum})})),f($r,Zr.RECEIVE_DATA,(function(e,t){var r=t.entities,n=void 0===r?[]:r,o=Object.assign({},e);return o.currentActualNum=n.length,1!==e.pageNum?o:Dt(o,{total:t.total})})),f($r,"paginationAction.minusPageNum",(function(e){return 1===e.pageNum?e:Dt(e,{pageNum:e.pageNum-1})})),f($r,"orderTabsAction.setHomePageSize",(function(e,t){return Dt(e,{pageSize:t.pageSize||15})})),f($r,Ht,(function(e,t){return Dt(e,{currentPageNum:t.currentPageNum})})),$r)),on=["type"],an={authType:wr.USER,bizTypes:"",orderType:kr.RECENT,status:"All",beginBookingDateTime:"",endBookingDateTime:"",filterValidOrder:!1,orderTypes:null,orderBys:null,lastBookingDateTime:"",filterOrderIDArray:[],offset:"",firstHistoryOrderId:null,keyword:"",needOrderAmountDetail:!1},sn=At(an,(f(en={},Nr,(function(e,t){t.type;var r=function(e,t){if(null==e)return{};var r,n,o=C(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,on),n=Object.keys(r),o={};return n.filter((function(e){var t=r[e];return rr.indexOf(e)>-1?function(e,t){switch(e){case"status":case"offset":return De(t)&&t;case"authType":return Qt(wr).indexOf(t)>-1;case"orderType":return Qt(kr).indexOf(t)>-1;case"filterValidOrder":case"needOrderAmountDetail":return function(e){return!0===e||!1===e||Oe(e)&&"[object Boolean]"===Se.call(e)}(t);default:return function(e){return De(e)||be(e)||null===e||Ce(e)||Oe(e)}(t)}}(e,t):De(t)||be(t)||null===t})).forEach((function(e){o[e]=r[e]})),Dt(e,o)})),f(en,"orderListFilterActions.clearExtStatus",(function(e){return{authType:e.authType,bizTypes:e.bizTypes,orderType:e.orderType,status:e.status}})),f(en,"orderListFilterActions.bizTypes",(function(e,t){return Dt(e,{bizTypes:t.bizTypes})})),f(en,"orderListFilterActions.resetOrderStatus",(function(e){return Dt(e,an)})),f(en,"orderListFilterActions.setLastBookingDateTime",(function(e,t){return Dt(e,{lastBookingDateTime:t.lastBookingDateTime})})),f(en,"orderListFilterActions.setFilterOrderIDArray",(function(e,t){return Dt(e,{filterOrderIDArray:t.filterOrderIDArray})})),f(en,_r,(function(e,t){return Dt(e,{offset:t.offset})})),f(en,"orderListFilterActions.setFirstHistoryOrderId",(function(e,t){return Dt(e,{firstHistoryOrderId:t.firstHistoryOrderId})})),en));function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dt(e,{sequenceId:t.sequenceId,startTime:t.startTime,fetchingFailed:!1,isFetching:!0,errCode:0})}var un,ln,dn,fn,pn=function(e){return Dt(e,{fetchingFailed:!1,sequenceId:null,isFetching:!1,errCode:0})},hn=function(e){return Dt(e,{isFetching:!1,fetchingFailed:!1})},mn=function(e,t){return Dt(e,{isFetching:!1,fetchingFailed:!0,errCode:t.errCode})},vn="bbzHiddenOrders",gn=At({hidden:function(){var e;if(!Be()&&!je())return[];try{e=Me(vn)}catch(t){e=null}return e?decodeURIComponent(e).split(",").map((function(e){return parseInt(e,10)})):[]}()},f({},Tt.SET_HIDE_ORDER_ID,(function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.hidden.concat(r.orderId),a=encodeURIComponent(i.join(","));return Be()&&je()&&function(e,t,r,n,i,a){try{var s=("object"===l(t)?JSON.stringify(t):t)+(r?"; expires=".concat(r.toUTCString()):"")+(n?"; path=".concat(n):"")+(i?"; domain=".concat(i):"")+(a?"; secure":"");o.cookie="".concat(e,"=").concat(s)}catch(e){console.log(e)}}(vn,a,new Date((new Date).getTime()+6e4),null,(t=n.location.hostname).substr(t.indexOf("."))),Dt(e,{hidden:i})}))),yn=At({isFetching:!1,isFetchFailed:!1,status:""},(f(un={},"orderTabsAction.orderTabsFetching",(function(e,t){return Dt(e,{isFetching:t.flag})})),f(un,"orderTabsAction.orderTabsFetchFailed",(function(e,t){return Dt(e,{isFetchFailed:t.flag})})),f(un,rn,(function(e,t){return Dt(e,{status:t.status})})),un)),Tn="unusedOrderActions.startFetch",In="unusedOrderActions.fetchFailed",Sn="unusedOrderActions.fetchedOrderEntities",On=At({isRequestUnusedOrderList:!1,isRequestUnusedOrderListFail:!1,unusedOrdersCount:0},(f(ln={},Tn,(function(e){return Dt(e,{isRequestUnusedOrderList:!0})})),f(ln,Sn,(function(e,t){return Dt(e,{isRequestUnusedOrderList:!1,isRequestUnusedOrderListFail:!1,unusedOrdersCount:t.totalCount})})),f(ln,In,(function(e){return Dt(e,{isRequestUnusedOrderList:!1,isRequestUnusedOrderListFail:!0})})),ln)),Cn={REQUEST_DATA:"singleRefresh.requestOrders",RECEIVE_DATA:"singleRefresh.receiveOrders",FETCHING_FAILED:"singleRefresh.fetchingFailed",ORDERID_SAVE:"singleRefresh.savedOrderId",ORDERID_CLEAR:"singleRefresh.deleteOrderId"},bn=function(){return{type:Cn.FETCHING_FAILED}},Dn=function(e){return{type:Cn.ORDERID_SAVE,orderId:e}},An=function(e){return{type:Cn.ORDERID_CLEAR,orderId:e}},wn=At({orderIds:[]},(f(dn={},Cn.ORDERID_SAVE,(function(e,t){var r=t.orderId,n=e.orderIds;return n.includes(r)?e:Dt(e,{orderIds:[].concat(Et(n),[r])})})),f(dn,Cn.ORDERID_CLEAR,(function(e,t){var r=t.orderId,n=e.orderIds;return n.includes(r)?Dt(e,{orderIds:n.filter((function(e){return r!==e}))}):e})),dn)),kn=At({inited:!1,hasTicket:!1,email:null,isBigUser:null},(f(fn={},Yt,(function(e,t){var r=t.account,n=r.hasTicket;return Dt(e,{email:r.email,hasTicket:n,inited:!0})})),f(fn,"userActions.isBigUser",(function(e,t){return Dt(e,{isBigUser:t.isBigUser})})),fn)),Pn={processXOrder:function(e,t){var r=(e||{}).OrderID,n=Wt()(e);return n.BizType=t,n.isXOrder=!0,n.parentXOrderID=r,[n]}},En={Car:"CarOrderItems",CarPrivate:"CarOrderItems",Ship:"ShipOrderItems",HotelDomestic:"HotelOrderItems",Piao:"PiaoOrderItems"},Nn=["BizType","ViewType","OrderActions","OrderStatusName","OrderID","OrderType"],_n=Object.assign({},Pn,{processXOrder:function(e,t){var r=(e||{}).OrderID,n=[],o=En[t],i=e[o];return i&&i.length>0&&i.forEach((function(e){var i=e||{},a=i.ProductName,s=void 0===a?"":a;if(i.BizType===t){var c={OrderName:s,isXOrder:!0,parentXOrderID:r};c[o]=[e],Object.assign(c,ze()(e,Nn)),n.push(c)}})),n}}),xn=Object.assign({},Pn,{processXOrder:function(e,t){var r=e||{},n=r.OrderID,o=(r.OrderName,r.ViewType,r.OrderActions,r.OrderStatusName,[]),i=En[t],a=e[i];return a&&a.length>0&&a.forEach((function(e){var r=e||{},a=r.ProductName,s=void 0===a?"":a,c=r.ViewType,u=r.OrderActions,l=void 0===u?[]:u,d=r.OrderStatusName,f=r.OrderID,p={BizType:t,OrderName:s||"",ViewType:c||"",OrderActions:l||[],OrderStatusName:d||"",OrderID:f||n,isXOrder:!0,parentXOrderID:n};p[i]=[e],o.push(p)})),o}}),Fn={CarPrivate:_n,Car:_n,Ship:xn,HotelDomestic:xn,Piao:xn},Rn=function(e){var t=(e||{}).OrderNoteInfo,r=void 0===t?[]:t,n=[];return r&&r.forEach((function(e){var t=e||{},r=t.NoteType,o=t.NoteContent,i=void 0===o?"":o;1===r&&i&&(n=i.split(","))})),n},Mn="default",Bn=["FlightX#3#32","FlightX#3#33","FlightX#3#34","FlightX#4","FlightX#5","FlightX#9","FlightX#17","FlightX#19","FlightX#23","FlightX#26","FlightX#6","FlightX#120","FlightX#1004","FlightX#1040"],jn=["Car#32#17","Car#32#18","Car#32#28","Car#32#29","Car#32#23","Car#32#66","Car#33#17","Car#33#18","Car#33#23","Car#33#66","Car#33#55","Car#33#88","Car#33#49","Car#34","Car#35"];function Ln(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}function Vn(e){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vn(e)}function Un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Vn(e);if(t){var o=Vn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,r)}}var Hn={updateOpt:function(e){},process:function(e){var t=[];if(!e.OrderName)return[];var r={title:e.OrderName||""};return t.push(r),t}},Zn=s(216),qn=s.n(Zn),zn={Common:"common",FlightDomestic:"flight",FlightInternational:"flight",Flight:"flight",FlightHotel:"flight",Mall:"mall",NewMall:"mall",HotelDomestic:"hotel",HotelInternational:"hotel",PointBus:"qiche",CarPrivate:"car",CustomizedHH:"customized",TripBus:"railsintl"},Xn=function(){function e(t){ue(this,e),this.logger=t||console}return de(e,[{key:"setLogger",value:function(e){e&&(this.logger=e)}},{key:"getLogger",value:function(){return this.logger}},{key:"debug",value:function(e){this.logger.debug&&this.logger.debug(e)}},{key:"log",value:function(e){this.logger.log&&this.logger.log(e)}},{key:"warn",value:function(e){this.logger.warn&&this.logger.warn(e)}},{key:"error",value:function(e,t){1===arguments.length&&e instanceof Error&&(e=(t=e).msg),this.logger.error&&this.logger.error(e,t)}}]),e}(),Gn=new Xn,Wn=function(){function e(t,r,n){ue(this,e),this.loader=t,this.logger=r||Gn,this.getOrderStream=n,this.events=new(qn())}return de(e,[{key:"once",value:function(){this.events.once.apply(this.events,arguments)}},{key:"on",value:function(){this.events.on.apply(this.events,arguments)}},{key:"removeListener",value:function(){this.events.removeListener.apply(this.events,arguments)}},{key:"removeAllListeners",value:function(){this.events.removeAllListeners.apply(this.events,arguments)}},{key:"process",value:function(e){return e?Ce(e)?this._processOrderList(e):this._processOrder(e):null}},{key:"_processOrder",value:function(e){if(!e)return!1;var t,r=Wt()(e),n=r.BizType,o=this._getStreamName(n),i=this._getDefaultStreamName();this._saveOriginBizType(r),(t=this.getOrderStream(o))||(this.logger.warn("get stream with name ".concat(o," failed")),t=this._getDefaultStream(),o=i);var a=!0;try{a=t.process(r)}catch(e){this.logger.error("process order failed with error",e),a=!1}if(!a&&o!==i){r=Wt()(e),this._saveOriginBizType(r),t=this._getDefaultStream(),this._convertOrderToDefaultOrder(r);try{a=t.process(r)}catch(e){this.logger.error("process order as a default style failed with error",e),a=!1}}return a?r:null}},{key:"_saveOriginBizType",value:function(e){e.BizTypeOrigin=e.BizType}},{key:"_convertOrderToDefaultOrder",value:function(e){e.BizType="default"}},{key:"_getDefaultStream",value:function(){return this.getOrderStream(this._getDefaultStreamName())}},{key:"_getDefaultStreamName",value:function(){return zn.Common}},{key:"_getStreamName",value:function(e){var t=zn[e]||e;return t||(this.logger.warn("couldn't found process list of ".concat(e,", so using default processor list")),t=this._getDefaultStreamName()),t}},{key:"_processOrderWithStream",value:function(e,t){try{t.process(e)}catch(e){return this.logger.error("process list with error",e),!1}}},{key:"_processOrderList",value:function(e){var t=this,r=[];return e.forEach((function(e){if(e){var n=t._processOrder(e);n&&r.push(n)}})),r}},{key:"load",value:function(e,t){var r=this;return this.loader.load(e,t).then((function(e){if(!e.OrderEnities)return Gn.error("load data failed, OrderEnities is null"),null;r.events.emit("beforeProcess",e);var t=r.process(e.OrderEnities),n=Object.assign({},e);return n.OrderEnities=t,r.events.emit("afterProcess",n),{origin:e,result:n}})).catch((function(e){r.events.emit("error",e),Gn.error("load data failed",e)}))}},{key:"setLoader",value:function(e){e&&(this.loader=e)}},{key:"setLogger",value:function(e){this.logger=e}}]),e}();function Qn(e,t){return e.hasOwnProperty("_instance")||(e._instance=new e(t)),e._instance}var Yn=function(){function e(){ue(this,e)}return de(e,[{key:"validate",value:function(e){return!!e}}],[{key:"getInstance",value:function(){return Qn(this)}}]),e}(),Kn=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"validate",value:function(e){return!!(e&&De(e.OrderName)&&be(e.OrderID))}}]),r}(Yn),Jn=Kn,$n=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"validate",value:function(e){return!!e.TrainInfo}}]),r}(Yn),eo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"validate",value:function(e){return e&&be(e.OrderID)&&Ce(e.RailsIntlOrderItems)}}]),r}(Yn),to=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"validate",value:function(e){return e&&(t=e.LipinOrderItems,(r=t&&Ce(t))&&(r=null!=ke(t)),r);var t,r}}]),r}(Yn),ro=to,no=function(e){Ln(r,e);var t=Un(r);function r(e){var n;return ue(this,r),(n=t.call(this)).availableViewTypes=e,n}return de(r,[{key:"validate",value:function(e){if(!e)return!1;var t=e.ViewType;return!!t&&-1!==this.availableViewTypes.indexOf(t)}}]),r}(Yn),oo=["Car#32#17","Car#32#18","Car#32#28","Car#32#29","Car#32#23","Car#32#66","Car#32#51","Car#33#17","Car#33#18","Car#33#23","Car#33#66","Car#33#55","Car#33#88","Car#33#28","Car#33#29","Car#33#49","Car#34","Car#35"],io=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.call(this,oo)}return de(r)}(no),ao=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"validate",value:function(e){var t=this.hasItems(e);return!!(e&&t&&be(e.OrderID))}},{key:"hasItems",value:function(e){return!!e&&(Ce(e.FlightXOrderItemInfos)||Ce(e.FlightXOrderItems))}}]),r}(Yn),so=["FlightX#3#32","FlightX#3#33","FlightX#3#34","FlightX#4","FlightX#5","FlightX#9","FlightX#17","FlightX#19","FlightX#23","FlightX#26","FlightX#6","FlightX#120","FlightX#1004","FlightX#1033","FlightX#1040"],co=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.call(this,so)}return de(r)}(no),uo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"validate",value:function(e){return!!(e&&be(e.OrderID)&&Ce(e.FlightCorOrderItems))}}]),r}(Yn),lo={TrainValidator:$n,RailsIntlValidator:eo,GiftCardValidator:ro,CarViewTypeValidator:io,FlightXOrderValidator:ao,FlightXViewTypeValidator:co,FlightCorOrderValidator:uo,CommonValidator:Jn},fo=[lo.CommonValidator],po=function(){function e(t,r,n){ue(this,e),t||Gn.error("create processor list with an empty list of processors, plz check the code"),this.enableDefaultValidate=!0,this.processors=this._loadProcessors(t)||[],this.validators=this._loadValidators(r)||[],this._defaultValidators=this._loadDefaultValidators(),this.vmCreators=this._loadViewModelCreators(n)||[]}return de(e,[{key:"_loadProcessors",value:function(e){return e?e.map((function(e){return e.getInstance()})):null}},{key:"_loadValidators",value:function(e){return e?e.map((function(e){return e.getInstance()})):null}},{key:"_loadDefaultValidators",value:function(){return fo.map((function(e){return e.getInstance()}))}},{key:"_loadViewModelCreators",value:function(e){return e?e.map((function(e){return e.getInstance()})):null}},{key:"process",value:function(e){return!!this._valid(e)&&(this.processors.forEach((function(t){t.process(e)})),this.vmCreators.forEach((function(t){t.create(e)})),!0)}},{key:"_valid",value:function(e){var t=this._defaultValidators.length;if(this.enableDefaultValidate)for(var r=0;r<t;r++)if(!this._defaultValidators[r].validate(e))return!1;t=this.validators.length;for(var n=0;n<t;n++)if(!this.validators[n].validate(e))return!1;return!0}}]),e}(),ho=function(){function e(){ue(this,e)}return de(e,[{key:"process",value:function(e){return e}}],[{key:"getInstance",value:function(){return Qn(this)}}]),e}(),mo=new Date(0);function vo(e,t){if(!e||!t)return console.warn("\u7f3a\u5c11\u53c2\u6570"),"";var r=t,n={"m+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"M+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)n.hasOwnProperty(o)&&new RegExp("(".concat(o,")")).test(r)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?n[o]:"00".concat(n[o]).substr("".concat(n[o]).length)));return r}var go=function(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]};function yo(e){var t=/(-?)([0-9]+)([+|-])([0-9]+)/gim.exec(e);if(!t)return null;var r=parseInt(t[1]+t[2],10);if(new Date(r)<mo)return null;var n=new Date(r+288e5),o=zt(go(n),7),i=o[0],a=o[1],s=o[2],c=o[3],u=o[4],l=o[5],d=o[6];return new Date(i,a,s,c,u,l,d)}var To=/^(\d{2,4})-(\d{1,2})-(\d{1,2})(?: (\d{1,2})(?:\:(\d{1,2}))?(?:\:(\d{1,2}))?(?:\.(\d{1,3}))?)?$/;function Io(e){var t=To.exec(e);if(!t||t.length<4)return null;var r=t[1]||0,n=t[2]-1||0,o=t[3]||0,i=t[4]||0,a=t[5]||0,s=t[6]||0,c=t[7]||0,u=new Date(r,n,o,i,a,s,c);return u<mo?null:u}function So(e){return e?"/"===e.charAt(0)?yo(e):Io(e):null}function Oo(e){if(we(e))e=[e];else if(!Ce(e))return;var t=(new Date).getFullYear();return e.some((function(e){return!!we(e)&&e.getFullYear()!==t}))}function Co(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?"":" HH:MM";return Oo(e)||!0===t?"yyyy-mm-dd".concat(r):"mm-dd".concat(r)}function bo(e,t,r){return e&&we(e)?vo(e,Co(e,t,r)):""}function Do(e,t){if(we(e))e=[e];else if(!Ce(e))return;var r,n=Oo(e);return e.map((function(e){return we(e)?(r||(r=Co(e,n,t)),vo(e,r)):null}))}function Ao(e){if(!e||!we(e))return"";var t=Co(e);return vo(e,t=t.replace(" HH:MM",""))}function wo(e){return e&&we(e)?vo(e,"yyyy-mm-dd HH:MM"):""}function ko(e){return e&&we(e)?vo(e,"yyyy-mm-dd"):""}function Po(e){return we(e)?{date:e,fmtStrWithMDHM:bo(e),fmtStrWithMD:Ao(e),fmtStrWithYMDHM:wo(e),fmtStrWithYMD:ko(e)}:null}var Eo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){if(!e||!e.BookingDate||!De(e.BookingDate))return e;var t=So(e.BookingDate);return e.BookingDate=t,e}}]),r}(ho),No=[{ori:"HotelOrderItems",tar:"Items"},{ori:"Items[].CheckInDate",tar:"StartTime"},{ori:"Items[].CheckOutDate",tar:"EndTime"}],_o=[{ori:"MallOrderItems",tar:"Items"}],xo=[{ori:"QicheOrderItems",tar:"Items"},{ori:"Items[].DepartureDate",tar:"StartTime"}],Fo=[{ori:"CarOrderItems",tar:"Items"}],Ro=[{ori:"VacationOrderItems",tar:"Items"},{ori:"Items[].DepartureDate",tar:"StartTime"},{ori:"Items[].EndDate",tar:"EndTime"}],Mo=[{ori:"CommonOrderItems",tar:"Items"},{ori:"Items[].FromTime",tar:"StartTime"},{ori:"Items[].ToTime",tar:"EndTime"}],Bo={HotelDomestic:No,HotelInternational:No,TrainInternational:[{ori:"TrainOrderItems",tar:"Items"},{ori:"Items[].DepartureDate",tar:"StartTime"},{ori:"Items[].ArrivalDate",tar:"EndTime"}],Sport:[{ori:"Items[].StartDateTime",tar:"StartTime"},{ori:"Items[].EndDateTime",tar:"EndTime"}],Transfer:Fo,CarPrivate:Fo,Vacation:[{ori:"Items[].DepartureDate",tar:"StartTime"},{ori:"Items[].EndDate",tar:"EndTime"}],VacationCruise:Ro,Activity:[{ori:"Items[].UsageDate",tar:"StartTime"}],VacationDp:Ro,VacationTour:Ro,Piao:[{ori:"Items[].DepartureDate",tar:"StartTime"}],Customized:[{ori:"Items[].DepartureDate",tar:"StartTime"},{ori:"Items[].EndDate",tar:"EndTime"}],CustomizedHH:[{ori:"CustomizedOrderItems",tar:"Items"},{ori:"Items[].DepartureDate",tar:"StartTime"},{ori:"Items[].EndDate",tar:"EndTime"}],Deposit:[{ori:"Items[].DepositTimeFrom",tar:"StartTime"},{ori:"Items[].DepositTimeTo",tar:"EndTime"}],Visa:[{ori:"Items[].DepartureDate",tar:"StartTime"}],Bag:[{ori:"Items[].StartDateTime",tar:"StartTime"},{ori:"Items[].EndDateTime",tar:"EndTime"}],GsFood:[{ori:"Items[].UsedTime",tar:"StartTime"}],FishTrip:[{ori:"FishTripOrderItem",tar:"Items"},{ori:"Items[].CheckInDate",tar:"StartTime"},{ori:"Items[].CheckOutDate",tar:"EndTime"}],Cruise:[{ori:"Items[].UsageDate",tar:"StartTime"},{ori:"Items[].EndDate",tar:"EndTime"}],Exchange:[{ori:"ExchangeOrderItem",tar:"Items"},{ori:"Items[].CashType",tar:"ProductType"}],Mice:[{ori:"Items[].StartDateTime",tar:"StartTime"},{ori:"Items[].EndDateTime",tar:"EndTime"}],Ship:[{ori:"Items[].DepartureDate",tar:"StartTime"}],AirportBus:[{ori:"Items[].UsageDate",tar:"StartTime"}],Surprise:[{ori:"LipinSurpriseOrderItems",tar:"Items"}],VacationInsurance:[{ori:"Items[].EffectDate",tar:"StartTime"},{ori:"Items[].ExpiredDate",tar:"EndTime"}],Credit:[{ori:"Items[].CreateTime",tar:"StartTime"},{ori:"Items[].CardType",tar:"ProductType"}],Meeting:[{ori:"MeetingOrderItem",tar:"Items"},{ori:"Items[].StartDateTime",tar:"StartTime"},{ori:"Items[].EndDateTime",tar:"EndTime"}],HHTravel:[{ori:"Items[].UsageDate",tar:"StartTime"}],Health:[{ori:"Items[].BeginDate",tar:"StartTime"},{ori:"Items[].EndDate",tar:"EndTime"}],GlobalBuyCoupon:[{ori:"GlobalBuyVoucherItems",tar:"Items"},{ori:"Items[].EffectiveDate",tar:"StartTime"},{ori:"Items[].ExpiryDate",tar:"EndTime"}],SceneryHotel:[{ori:"DIYOrderItems",tar:"Items"},{ori:"Items[].BeginUsageDate",tar:"StartTime"},{ori:"Items[].EndUsageDate",tar:"EndTime"}],PreSale:[{ori:"Items[].StartDate",tar:"StartTime"},{ori:"Items[].EndDate",tar:"EndTime"}],TripBus:[{ori:"RailsIntlOrderItems",tar:"Items"}],QiChe:xo,PointBus:xo,Mall:_o,NewMall:_o,FlightX:[{ori:"FlightXOrderItemInfos",tar:"Items"},{ori:"FlightXOrderItems",tar:"Items"},{ori:"Items[].BeginTime",tar:"StartTime"},{ori:"Items[].AirportSecurity",tar:"ItemInfo"},{ori:"Items[].Insurance",tar:"ItemInfo"},{ori:"Items[].Interest",tar:"ItemInfo"},{ori:"Items[].Specialty",tar:"ItemInfo"},{ori:"Items[].ItemInfo.BeginTime",tar:"StartTime"},{ori:"Items[].ItemInfo.EffectTime",tar:"StartTime"},{ori:"Items[].ItemInfo.ExpireTime",tar:"EndTime"}],FlightCor:[{ori:"FlightCorOrderItems",tar:"Items"},{ori:"Items[].FromTime",tar:"StartTime"},{ori:"Items[].ToTime",tar:"EndTime"}],LocalGuide:[{ori:"Items[].UsageDate",tar:"StartTime"}],GsCommercial:Mo,CarRentInsurance:Mo,SelfPayment:Mo,NAT:Mo,FlightInsurance:[{ori:"FlightXOrderItemInfos",tar:"Items"}],CellphoneFee:[{ori:"FlightXOrderItems",tar:"Items"}],FinanceInsurance:Mo,One:[{ori:"OneOrderItems",tar:"Items"}],CrowdFunding:[{ori:"CrowdFundingOrderItems",tar:"Items"},{ori:"Items[].BeginDate",tar:"StartTime"},{ori:"Items[].EndDate",tar:"EndTime"}],MktAos:[{ori:"MktAosOrderItems",tar:"Items"}],GsFoodQueue:[{ori:"GsFoodQueueOrderItems",tar:"Items"}]},jo=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).updateRenameCfgs(Bo),e}return de(r,[{key:"updateRenameCfgs",value:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r))for(var n=e[r],o=this._preprocessCfgs(n),i=r.split("|"),a=i.length-1;a>=0;a--)t[i[a]]=o;this.renameCfgs=t}},{key:"_isValidedCfg",value:function(e){return e&&De(e.ori)&&De(e.tar)}},{key:"_preprocessCfgs",value:function(e){var t=this;if(Ce(e))return e.filter((function(e){return!!t._isValidedCfg(e)||(Gn.error(JSON.stringify(e)+" in rename config was not valided, plz check it in the config file"),!1)})).map((function(e){var t={};return Object.assign(t,e),t.propChain=t.ori.split("."),t}));Gn.error("preprocessCfgs end with error, because of the parameter is not an array")}},{key:"_getCfg",value:function(e){return this.renameCfgs[e]}},{key:"process",value:function(e,t){var r=this;return e&&Ce(t=t||this._getCfg(e.BizType))?(t.forEach((function(t){return r.renameProperty(e,t)})),e):e}},{key:"renameProperty",value:function(e,t){var r=t.propChain,n=this.getPropOwners(r,e),o=function(e){if(Ce(e)&&e.length)return e[e.length-1]}(r);n&&this.renamePropOfObjects(n,o,t.tar,!!t.keepSrc)}},{key:"renamePropOfObjects",value:function(e,t,r,n){e.forEach((function(e){t in e&&(e[r]&&e[r].length?Gn.warn("u are overriding the property ".concat(r," by ").concat(t,", plz check the config")):(e[r]=e[t],n||delete e[t]))}))}},{key:"getPropOwners",value:function(e,t){for(var r=[t],n=e.length-1,o=0;o<n;o++){var i=e[o];if(!i)break;var a=this._findProperties(i,r);if(0===a.length)return null;r=a}return r}},{key:"_findProperties",value:function(e,t){for(var r=this.isArrayName(e),n=this.getPropName(e,r),o=[],i=0;i<t.length;i++){var a=t[i];if(n in a){var s=a[n];r===Ce(s)&&(r?Array.prototype.push.apply(o,s):o.push(s))}}return o}},{key:"getPropName",value:function(e,t){"boolean"!=typeof t&&(t=this.isArrayName(e));var r=e;return t&&(r=e.substr(0,e.length-2)),r}},{key:"isArrayName",value:function(e){return e.indexOf("[]")===e.length-2}}]),r}(ho),Lo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=this;return e&&e.Items&&Ce(e.Items)?(e.Items.forEach((function(e){t._convertPropToTime(e,"StartTime"),t._convertPropToTime(e,"EndTime")})),e):e}},{key:"_convertPropToTime",value:function(e,t){e&&e[t]&&De(e[t])&&(e[t]=So(e[t]))}}]),r}(ho),Vo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=e.BizType,r="".concat(t,"OrderItems");return r in e&&this.setOrderItems(e,r),e}},{key:"setOrderItems",value:function(e,t){return e.Items=e[t],delete e[t],e}}]),r}(ho),Uo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=[],r=this.getAirChangeStatus(e),n=this.getChangeStatus(e),o=this.getOrderStatus(e);return r&&t.push(r),n&&t.push(n),o&&t.push(o),e.OrderStatus=t,e}},{key:"getAirChangeStatus",value:function(e){var t=(e&&e.FlightInfo||{}).AirChangedItems;return t&&t instanceof Array&&t.length?this.genStatusName("\u822a\u53d8"):null}},{key:"getChangeStatus",value:function(e){var t=e.FlightInfo||{};return this.genStatusName(t&&t.OrderChangeStatusName)}},{key:"getOrderStatus",value:function(e){return this.genStatusName(e.OrderStatusName)}},{key:"genStatusName",value:function(e){return e}}]),r}(ho);function Ho(e,t,r,n){for(var o=[],i=0;i<t.length;i++){var a=t[i];if(a){o.push(a);for(var s=0;s<r.length;s++){var c=r[s];if(!(!c||Ae(n)&&n(c)||a.Sequence&&a.Sequence!==c.Sequence)){0===a.Passagers.length&&(a.Passagers=e.slice());var u=Ne(a.Passagers,c.Passagers);u.length>0?(c.SegmentNo=a.SegmentNo,o.push(c),a.Passagers=u):Object.assign(a,c)}}}}return o}function Zo(e){return!!e&&e.ProductCategory&&"T"===e.ProductCategory}function qo(e){return e&&e.Passagers}function zo(e){return e&&e.FlightInfo}function Xo(e,t){return"number"==typeof t&&e&&Ce(e)&&e.find((function(e){return e.NoteType===t}))||null}var Go={AIR_CHANGE_STATUS:"G",AIR_CHANGING_STATUS:"A",AIR_CHANGE_CANCEL_STATUS:"GF"},Wo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=[],r=this.getAirChangeStatus(e),n=this.getChangeStatus(e),o=this.getOrderStatus(e);return r&&t.push(r),n&&t.push(n),o&&t.push(o),e.OrderStatus=t,e}},{key:"getAirChangeStatus",value:function(e){var t=zo(e);if(!t)return null;var r="";switch(t.OrderAirChangedStatus){case Go.AIR_CHANGE_STATUS:case Go.AIR_CHANGING_STATUS:r="\u822a\u53d8";break;case Go.AIR_CHANGE_CANCEL_STATUS:r="\u822a\u53d8\u53d6\u6d88";break;default:r=""}return t.OrderAirChangedStatusName&&(r=t.OrderAirChangedStatusName),this.genStatusName(r)}},{key:"getChangeStatus",value:function(e){var t=zo(e);return t&&t.OrderChangeStatusName?this.genStatusName(t.OrderChangeStatusName):null}},{key:"getOrderStatus",value:function(e){return this.genStatusName(e.OrderStatusName)}},{key:"genStatusName",value:function(e){return e}}]),r}(ho),Qo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightFillDefaultProcessor with null value of flight info");var r=qo(e);return r||(e.Passagers=r=[]),this.fillPassengers(r,t.ChangedItems),this.fillPassengers(r,t.Items),this.fillPassengers(r,t.AirChangedItems),e}},{key:"fillPassengers",value:function(e,t){t&&0!==t.length&&t.map((function(t){t.Passagers&&0!==t.Passagers.length||(t.Passagers=e.slice())}))}}]),r}(ho),Yo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightChangedProcessor with null value of flight info");var r=qo(e);if(!r)throw new Error("could't process FlightChangedProcessor with null value of passengers");return!t.ChangedItems||function(e){return e&&e.FlightInfo&&e.FlightInfo.TrainItems&&e.FlightInfo.TrainItems.length>0}(e)?(t.HasItemChanged=!1,e):(this.processChangeItems(t,r,t.ChangedItems),e)}},{key:"processChangeItems",value:function(e,t,r){var n=e.Items;if(n.length<=0)e.HasItemChanged=!1;else{var o=Ho(t,n,r,(function(e){return"S"!==e.OrderChangeStatus}));e.Items=o,e.HasItemChanged=!0}}}]),r}(ho),Ko=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightAirChangedProcessor with null value of flight info");var r=qo(e);if(!r)throw new Error("could't process FlightAirChangedProcessor with null value of passengers");return this.processAirChangeItems(t,r,t.AirChangedItems),e}},{key:"processAirChangeItems",value:function(e,t,r){var n=e.Items;if(!n||n.length<=0||!r||0===r.length)e.HasAirChanged=!1;else{var o=Ho(t,n,r,(function(){return!1}));e.Items=o,e.HasAirChanged=!0}}}]),r}(ho),Jo=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightFinalItemsProcessor with null value of flight info");return this.setDefaultValues(t),this.processFinalChangeItems(t),e}},{key:"setDefaultValues",value:function(e){e.HasItemChanged=!1,e.HasAirChanged=!1,e.HasSurface=!1}},{key:"processFinalChangeItems",value:function(e){var t=e.FinalItems;t&&Ce(t)&&0!==t.length&&(e.Items=t,e.HasSurface=!!t.find((function(e){return Zo(e)})),e.HasItemChanged=!!e.OrderChangeStatusName,e.HasAirChanged=[Go.AIR_CHANGE_STATUS,Go.AIR_CHANGING_STATUS,Go.AIR_CHANGE_CANCEL_STATUS].includes(e.OrderAirChangedStatus))}}]),r}(ho),$o=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightFillDefaultProcessor with null value of flight info");return this.filterSurfaceItems(t.Items),e}},{key:"filterSurfaceItems",value:function(e){if(Ce(e)){for(var t=0,r=0;t<e.length;)Zo(e[t])?(e.splice(t,1),r++):t++;return r}}}]),r}(ho),ei=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightGroupByPassengers with null value of flight info");var r=qo(e);if(!r)throw new Error("could't process FlightGroupByPassengers with null value of passengers");return this.groupByPassengers(t,r),e}},{key:"groupByPassengers",value:function(e,t){var r={},n=e.Items;if(n){for(var o=0,i=n.length;o<i;o++){var a=n[o];if(a&&a.SegmentNo){var s=a.SegmentNo;r[s]||(r[s]={});for(var c=r[s],u=0;u<t.length;u++){var l=t[u];c[l]||(c[l]=[]);var d=c[l],f=a.Passagers;f&&0!==f.length||(f=t),f.includes(l)&&d.push(a)}}}for(var p in r)if(r.hasOwnProperty(p)){var h=r[p];for(var m in h)if(h.hasOwnProperty(m)){for(var v in h)if(h.hasOwnProperty(v)&&m!=v&&Ee(h[m],h[v])){h[m]=null,delete h[m];break}h[m]&&h[m].sort(this.compareSequence)}}e.SegmentNos=r}else e.SegmentNos=r}},{key:"compareSequence",value:function(e,t){return parseInt(e.Sequence,10)-parseInt(t.Sequence,10)}}]),r}(ho),ti=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightGroupByPassengers with null value of flight info");var r=qo(e);if(!r)throw new Error("could't process FlightGroupByPassengers with null value of passengers");return e.PassengerGroups=this.groupPassengers(t,r),e.itemGroups=this.groupItems(t.items,e.passengerGroups),e}},{key:"groupItems",value:function(e,t){var r=[];return t.forEach((function(t){for(var n=Ce(t)&&t.length>0?t[0]:null,o=[],i=0;i<e.length;i++){var a=e[i];a.Passagers&&a.Passagers.indexOf(n)&&o.push(a)}o&&o.length>0&&r.push(o)})),r}}]),r}(ho),ri=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightAirChangedProcessor with null value of flight info");return t.IsHXOrder="T"===t.IsHX,e}}]),r}(ho),ni=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).airChangedProcessor=new Ko,e.changedProcessor=new Yo,e.finalItemsProcessor=new Jo,e}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightFinalItemsAdaptor with null value of flight info");if(t.FinalItems&&t.FinalItems.length>0)return this.finalItemsProcessor.process(e);var r=this.airChangedProcessor.process(e);return this.changedProcessor.process(r)}}]),r}(ho),oi=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).statusProcessor=new Uo,e.statusWithFinalItemsProcessor=new Wo,e}return de(r,[{key:"process",value:function(e){var t=zo(e);if(!t)throw new Error("could't process FlightStatusWithFinalItemsAdaptor with null value of flight info");return t.FinalItems&&t.FinalItems.length>0?this.statusWithFinalItemsProcessor.process(e):this.statusProcessor.process(e)}}]),r}(ho),ii=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=zo(e);return this.setChangeAndStayUseTip(e,t),this.processFlightXInfo(e,t),e}},{key:"processText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return[];for(var t,r=[],n=/(.*?)\[(.*?)\]/g,o=n.exec(e);null!==o;)t=n.lastIndex,r.push(o),o=n.exec(e);return r.push(["",e.substr(t)]),r}},{key:"setChangeAndStayUseTip",value:function(e,t){var r=e.FlightInfo,n=(void 0===r?{}:r).FlightNoteInfos,o=Xo(void 0===n?[]:n,1);if(o){var i=o.NoteContent,a=void 0===i?"":i;if(a){var s=this.processText(a);t.FlightTip={normal:a,splitHighlight:s}}}}},{key:"processFlightXInfo",value:function(e,t){var r=e.FlightInfo,n=(void 0===r?{}:r).FlightNoteInfos,o=Xo(void 0===n?[]:n,3);if(o){var i=o.NoteTitle,a=void 0===i?"":i,s=o.NoteContent,c=void 0===s?"":s;a&&c&&(t.FlightXInfo={title:a,description:c})}}}]),r}(ho),ai={BookingDateProcessor:Eo,RenamePropertiesProcessor:jo,ItemArrDateRangeProcessor:Lo,RenameOrderItemsProcessor:Vo};function si(){return si="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vn(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},si.apply(this,arguments)}Object.assign(ai,e);var ci,ui=function(){function e(){ue(this,e)}return de(e,[{key:"create",value:function(e){return e.ViewInfo||(e.ViewInfo={}),e}}],[{key:"getInstance",value:function(){return Qn(this)}}]),e}(),li=(ci=["cancelled","canceled","cancled","FLIGHT_UNSUBCRIBE_ALL","RAILSINTL_REFUND","TRANS_UNSUBCRIBE_ALL","VACATION_UNSUBCRIBE_ALL","SHIP_UNSUBCRIBE_ALL","CUSTOMIZED_UNSUBSCRIBED","TUAN_REFUNDED","FLIGHTCOR_UNSUBSCRIBED","FLIGHTX_TICKET_TIMEOUT","FLIGHTX__UNSUBCRIBE_ALL","FLIGHTX_ORDER_FAIL","FLIGHTX_TICKET_FAILED","PIAO_UNSUBSCRIBED_ALL","PRESALE_REFUND","LOCALGUIDE_UNSUBSCRIBED","VACATION_INSURANCE_REFUNDED","NEWMALL_UNSUBCRIBE_ALL","ACTIVITY_UNSUBSCRIBED"],function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=e.OrderStatusCode,n=!1;De(t)&&(n=this.isCancelled(t)),e.ViewInfo.IsCancelled=n}},{key:"isCancelled",value:function(e){for(var t=e.toLowerCase(),r=ci.length-1;r>=0;r-=1){var n=ci[r];if(n&&t.indexOf(n.toLowerCase())>-1)return!0}return!1}}]),r}(ui));function di(e){if(!e)return"&yen;";var t="";switch(e.toLowerCase()){case"rmb":case"cny":t="&yen;";break;case"usd":t="&dollar;";break;case"eur":t="&euro;";break;case"gbp":t="&pound;";break;case"jpy":t="JPY&yen;";break;case"krw":t="\u20a9";break;case"hkd":t="HK&dollar;";break;case"twd":t="NT&dollar;";break;default:t=e}return t}function fi(e){switch(e){case"&yen;":return"\xa5";case"&dollar;":return"$";case"&euro;":return"\u20ac";case"&pound;":return"\xa3";case"JPY&yen;":return"JPY\xa5";case"\u20a9":return"\u20a9";case"HK&dollar;":return"HK$";case"NT&dollar;":return"NT$";default:return e}}var pi=/\[([^)]*)\]/;function hi(e){var t=[];return e&&e.length>0&&e.forEach((function(e){if(e&&e.indexOf("[")&&e.indexOf("]")){var r=function(e,t){var r=e;try{var n=e.match(t);n&&n.length>=1&&(r=zt(n||[],2)[1])}catch(e){Gn.error("get match str error",e)}return r}(e,pi),n=di(r),o=function(e,t,r){var n=e;try{n=e.replace(t,r)}catch(e){Gn.error("replace match str error",e)}return n}(e,pi,fi(n));t.push(o)}else t.push(e)})),t}var mi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e),Object.assign(e.ViewInfo,{OrderTotalPrice:this.getOrderTotalPrice(e),CurrencyCode:this.getCurrencyCode(e),Currency:this.getCurrencySymbol(e),OrderAmount:this.getOrderAmount(e)})}},{key:"getOrderTotalPrice",value:function(e){return e.OrderTotalPrice?e.OrderTotalPrice.toString():"0"}},{key:"getOrderAmount",value:function(e){var t=e.OrderAmount;if(t){var r=t||{},n=r.Validity,o=r.PayInfos,i=r.RefundInfos;return{payInfos:hi(o),refundInfos:hi(i),validity:n}}return null}},{key:"getCurrencySymbol",value:function(e){var t=this.getCurrency(e);return t?di(t):"&yen;"}},{key:"getCurrencyCode",value:function(e){return function(e){if(!e)return"";var t,r=e.toLowerCase();switch(r){case"rmb":case"cny":t="CNY";break;default:t=r.toUpperCase()}return t}(this.getCurrency(e))}},{key:"getCurrency",value:function(e){return e&&e.Currency&&De(e.Currency)?e.Currency:""}}]),r}(ui),vi=["ProductName","HotelID","RoomType","NightAmount","RoomAmount","ToCityName","DepositAmount","OtherAmount","ActualRoomType","IsMidnightOrder","MidDayTag","MidNightTag","Flag","OrderStatusName","StatusCode","ShortTermTip"],gi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=this.getItem(e);t&&Object.assign(e.ViewInfo,ze()(t,vi),{Address:t.HotelAddress,LocalAddress:t.HotelLocalAddress||t.HotelAddress},this.processHotelViewInfo(t),this.processPresaleText(e))}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}},{key:"processHotelViewInfo",value:function(e){return{MasterOrderId:this.processHotelMasterOrderId(e)}}},{key:"processHotelMasterOrderId",value:function(e){var t=e.MasterOrderId;return t&&"0"!==t?t:""}},{key:"processPresaleText",value:function(e){var t=e.OrderNoteInfo,r=((void 0===t?[]:t).find((function(e){var t=e.NoteType,r=e.NoteContent;return 101===t&&(void 0===r?"":r)}))||{}).NoteContent,n=void 0===r?"":r;return n?{presaleTip:n}:{}}}]),r}(ui),yi=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"],Ti="Interlining",Ii=["HasAirChanged","HasItemChanged","IsHXOrder"],Si=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=zo(e);if(!t)throw new Error("could't process FlightViewInfoCreator with null value of flight info");var n=this.generateViewInfo(t);n.IsFlightAndHotel=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).HotelOrderItems;return(void 0===e?[]:e).length>0}(e);var o=this.getInfo(e),i=this._getHotelInfo(e);return Object.assign(e.ViewInfo,n,o,i),e}},{key:"_getHotelInfo",value:function(e){var t=e.HotelOrderItems,r=void 0===t?[]:t;if(!r||!r.length)return null;var n=[];return r.forEach((function(e){var t=e.CheckInDate,r=void 0===t?"":t,o=e.CheckOutDate,i=void 0===o?"":o,a=null,s=null,c={};r&&(a=Po(So(r)),c.StartTime=a),i&&(s=Po(So(i)),c.EndTime=s);var u=ze()(e,vi);Object.assign(c,u),n.push(c)})),{HotelOrderItems:n}}},{key:"getInfo",value:function(e){return{OrderStatus:e.OrderStatus}}},{key:"generateViewInfo",value:function(e){var t={};this._setViewInfoStates(t,e),this._setViewInfoFlightTip(t,e);var r=e.SegmentNos,n=[];for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],c=this.genSegInfo(s,t,e);c&&n.push(c)}}return n.sort((function(e,t){return e.DepTime-t.DepTime})),t.Origin="FlightInfo",t.Segments=n,t}},{key:"genSegInfo",value:function(e,t,r){if(!Ce(e)||0===e.length)return null;var n=this._getFlightInfo(e),o=this._getTrainInfo(e,r.TrainItems),i=this._getBusInfo(e,r.QicheItems),a=[i,o,n],s=this._getFlightItemType(n,o,i),c=this._isReturn(e,t.FlightType),u=r.IsHXOrder,l={DepCityName:this._getAvailPropVal(a,"DepCityName"),DepTime:this._getAvailPropVal(a,"DepTime"),ArrCityName:this._getAvailPropVal(a,"ArrCityName"),ArrTime:this._getAvailPropVal(a,"ArrTime"),DepartDateRange:this._getAvailPropVal(a,"DepartDateRange"),DepartTimeRange:this._getAvailPropVal(a,"DepartTimeRange"),FlightNo:n.FlightNo,FlightDepTerminal:n.FlightDepTerminal||"",DepTerminalCode:n.DepTerminalCode||"",DepAirportCode:n.DepAirportCode||"",ArrAirportCode:n.ArrAirportCode||"",Type:s,Passengers:n.Passengers,IsReturn:c,OrderAirChangedStatusName:e[0].OrderAirChangedStatusName||"",OrderAirChangedStatus:e[0].OrderAirChangedStatus||"",OrderChangeStatus:e[0].OrderChangeStatus||"",OrderChangeStatusName:e[0].OrderChangeStatusName||""};return o&&(l.TrainNo=o.TrainNo),i&&(l.BusNo=i.BusNo),this._isShowSegmentDesc(r)&&(l.Segment=this._getSegmentDesc(e)),this._formatDepAndArrTime(l,u),l}},{key:"_formatDepAndArrTime",value:function(e,t){this._convertDateToProperty(e,"DepTime","DepTime"),this._formatDateToProperty(e,"DepTime","DepTimeFmt",t),this._formatDateWithYearToProperty(e,"DepTime","DepTimeFmtYear",t),this._convertDateToProperty(e,"ArrTime","ArrTime"),this._formatDateToProperty(e,"ArrTime","ArrTimeFmt",t),this._formatDateWithYearToProperty(e,"ArrTime","ArrTimeFmtYear",t)}},{key:"_convertDateToProperty",value:function(e,t,r){var n=e[t];n&&(e[r]=So(n))}},{key:"_formatDateToProperty",value:function(e,t,r,n){var o=e[t];o&&o instanceof Date&&(e[r]=n?Ao(o):bo(o))}},{key:"_formatDateWithYearToProperty",value:function(e,t,r,n){var o=e[t];o&&o instanceof Date&&(e[r]=n?ko(o):wo(o))}},{key:"_getAvailPropVal",value:function(e,t){var r=e.find((function(e){return e&&t in e}));return r?r[t]:null}},{key:"_isReturn",value:function(e,t){var r=!1;if(t===Ti)return r;var n=e[0];return n?(2===parseInt(n.SegmentNo,10)&&(r=!0),r):r}},{key:"_getFlightItemType",value:function(e,t,r){return t?"FlightTrain":r?"FilghtBus":"Flight"}},{key:"_isShowSegmentDesc",value:function(e){return this._getFlightType(e)===Ti}},{key:"_getSegmentDesc",value:function(e){var t="",r=e[0];if(!r)return t;var n=parseInt(r.SegmentNo,10),o=yi[n-1];return o&&(t="\u7b2c".concat(o,"\u7a0b")),t}},{key:"_isSameSegment",value:function(e,t){return e.SegmentNo===t}},{key:"_getBusInfo",value:function(e,t){if(!Ce(t)||0===t.length)return null;var r=t[0],n=e[0];if(!r||!n)return null;var o=r.Sequence;if(!this._isSameSegment(o))return null;var i=r.BusNumber||"",a={};return r.WayType&&"true"===r.WayType.toString().toLowerCase()?(a.DepCityName=r.DepartureStationName,a.DepTime=r.DepartureDateStr):(a.ArrCityName=r.ArrivalStationName,a.ArrTime=r.ArriveTime),a.BusNo=i,a}},{key:"_getTrainInfo",value:function(e,t){if(!Ce(t)||0===t.length)return null;var r=e[0],n=t[0];if(!n||!r)return null;var o=n.Validity||"0";if(!this._isSameSegment(o))return null;var i=n.TrainNumber||"",a={};return"T"===n.WayType?(a.DepCityName=n.DepartureStation,a.DepTime=n.DepartureDateStr):(a.ArrCityName=n.ArrivalStation,a.ArrTime=n.ArrivalDateStr),a.TrainNo=i,a}},{key:"_getFlightInfo",value:function(e){var t=e[0],r=e[e.length-1],n={};return n.DepCityName=t.DepartureCity,n.DepTime=t.DepartureDateTime,n.FlightNo=t.FlightNo,n.FlightDepTerminal=this._formatTerminal(t.DepTerminal),n.ArrCityName=r.ArrivalCity,n.ArrTime=r.ArrivalDateTime,n.ArrAirportCode=r.ArrivalAirport,n.Passengers=t.Passagers,n.DepTerminalCode=t.DepTerminalCode,n.DepAirportCode=t.DepAirportCode,n.DepartDateRange=t.DepartDateRange||"",n.DepartTimeRange=t.DepartTimeRange||"",n}},{key:"_setViewInfoStates",value:function(e,t){var r=t||{},n=r.TrainItems,o=r.QicheItems,i=r.IsGrabOrder,a=r.OrderChangeStatusName,s=r.TitleSuffix,c={IsFlightAndTrain:!(!n||!n.length),IsFlightAndBus:!(!o||!o.length),FlightType:this._getFlightType(t),IsGrabOrder:!!i,OrderChangeStatusName:a||"",TitleSuffix:s||""};Object.assign(e,ze()(t,Ii),c)}},{key:"_setViewInfoFlightTip",value:function(e,t){t.FlightTip&&(e.FlightTip=t.FlightTip)}},{key:"_setViewInfoFlightXInfo",value:function(e,t){t.FlightXInfo&&(e.FlightXInfo=t.FlightXInfo)}},{key:"_getFlightType",value:function(e){return"\u5355\u7a0b"===e.TripType?"OneWay":"\u8054\u7a0b"===e.TripType?Ti:"\u5f80\u8fd4"===e.TripType?"RoundTrip":""}},{key:"_formatTerminal",value:function(e){return e?e.toString().replace(/\u56fd\u9645\u673a\u573a/gi,""):e}}]),r}(ui),Oi=[ai.BookingDateProcessor,ai.FlightFillDefaultProcessor,ai.FlightStatusProcessor,ai.FlightAirChangedProcessor,ai.FlightChangedProcessor,ai.FlightGroupBySegNoPassengersProcessor,ai.FlightHxProcessor],Ci=[li,mi,Si],bi=[lo.CommonValidator],Di=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.call(this,Oi,bi,Ci)}return de(r)}(po),Ai=[ai.BookingDateProcessor,ai.FlightFillDefaultProcessor,ai.FlightStatusWithFinalItemsAdaptor,ai.FlightFinalItemsAdaptor,ai.FlightFilterItemsProcessor,ai.FlightGroupBySegNoPassengersProcessor,ai.FlightHxProcessor,ai.FlightNoteInfoProcessor],wi=[li,mi,Si],ki=[lo.CommonValidator],Pi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.call(this,Ai,ki,wi)}return de(r)}(po),Ei=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"generateViewInfo",value:function(e){var t={};this._setViewInfoStates(t,e),this._setViewInfoFlightTip(t,e),this._setViewInfoFlightXInfo(t,e);var r=this.getSegmentItem(e.FinalItems,{DepCityName:"DepartureCity",DepTime:"DepartureDateTime",ArrCityName:"ArrivalCity",ArrTime:"ArrivalDateTime",DepartDateRange:"DepartDateRange",DepartTimeRange:"DepartTimeRange",FlightNo:"ProductId",OrderAirChangedStatusName:"OrderAirChangedStatusName",OrderAirChangedStatus:"OrderAirChangedStatus",OrderChangeStatus:"OrderChangeStatus",OrderChangeStatusName:"OrderChangeStatusName"},"Flight"),n=this.getSegmentItem(e.TrainItems,{DepCityName:"DepartureStation",DepTime:"DepartureDateStr",ArrCityName:"ArrivalStation",ArrTime:"ArrivalDateStr",FlightNo:"TrainNumber",TrainNo:"TrainNumber"},"FlightTrain"),o=r.concat(n);return o.sort((function(e,t){return e.SortId-t.SortId})),t.Origin="FlightInfo",t.Segments=o,t.IsGroup=!!e.IsGroup,t}},{key:"_setViewInfoStates",value:function(e,t){si(Vn(r.prototype),"_setViewInfoStates",this).call(this,e,t),e.IsHXOrder=null,delete e.IsHXOrder}},{key:"getSegmentItem",value:function(e,t,r){var n=this,o=[];return e.forEach((function(e){var i={},a=e.FlightItemNoteInfos,s=void 0===a?[]:a,c=function(e){var t=Xo(e,1);if(!t)return"";var r=t||{},n=r.NoteTitle,o=void 0===n?"":n,i=r.NoteContent,a=void 0===i?"":i;return o&&a?"".concat(o," ").concat(a):""}(s);for(var u in c&&(i.ProviderFlightNoStr=c,i.FlightItemNoteInfos=s),i.SortId=e.SortId||0,i.Type=r,i.IsReturn=!1,i.Passengers=e.Passagers||[],i.DepAirportCode=e.DepAirportCode||"",i.ArrAirportCode=e.ArrivalAirport||"",i.FlightDepTerminal=e.DepTerminal?n._formatTerminal(e.DepTerminal):"",i.DepTerminalCode=e.DepTerminalCode||"",t)if(t.hasOwnProperty(u)){var l=t[u];i[u]=e[l]||""}n._formatDepAndArrTime(i,!1),o.push(i)})),o}}]),r}(Si),Ni=[ai.BookingDateProcessor,ai.FlightFillDefaultProcessor,ai.FlightStatusWithFinalItemsAdaptor,ai.FlightFinalItemsAdaptor,ai.FlightFilterItemsProcessor,ai.FlightNoteInfoProcessor],_i=[li,mi,Ei],xi=[lo.CommonValidator],Fi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.call(this,Ni,xi,_i)}return de(r)}(po),Ri=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this,[])).FlightOrderStreamV1=new Di,e.FlightOrderStreamV2=new Pi,e.FlightOrderStreamV3=new Fi,e}return de(r,[{key:"process",value:function(e){if(!this._valid(e))throw new Error("\u8ba2\u5355\u9a8c\u8bc1\u4e0d\u901a\u8fc7");var t=this.getFlightStreamer(e),r=t.processors,n=void 0===r?[]:r,o=t.vmCreators,i=void 0===o?[]:o;return n.forEach((function(t){t.process(e)})),i.forEach((function(t){t.create(e)})),!0}},{key:"getFlightStreamer",value:function(e){var t=zo(e)||{},r="T"===t.IsSoa2,n=Ce(t.FinalItems)&&t.FinalItems.length>0;return r?this.FlightOrderStreamV3:n?this.FlightOrderStreamV2:this.FlightOrderStreamV1}}]),r}(po),Mi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e),this.ignoreCheckStartTime=!1,this.appendItemTimesToViewInfo(e.ViewInfo,e.Items)}},{key:"appendItemTimesToViewInfo",value:function(e,t){if(Ce(t)){var r=[],n=[];t.forEach((function(e){if(e){var t=Po(e.StartTime),o=Po(e.EndTime);r.push(t),n.push(o)}})),(this.ignoreCheckStartTime||this._isAvailable(r))&&(this._storeStartTimes(e,r),this._storeEndTimes(e,n))}}},{key:"_isAvailable",value:function(e){var t=e&&Ce(e);if(t){var r=function(e){if(Ce(e)){var t=[];return e.reduce((function(e,r){(r||be(r)&&0===r)&&t.push(r)}),[]),t}return[]}(e);t=r.length>0}return t}},{key:"_storeStartTimes",value:function(e,t){e.StartTimes=t,e.StartTime=ke(t)}},{key:"_storeEndTimes",value:function(e,t){e.EndTimes=t,e.EndTime=ke(t)}}]),r}(ui),Bi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=e.OrderStatusName,n=[];t&&n.push(t),e.ViewInfo.OrderStatus=n}}]),r}(ui),ji=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=e.OrderNoteInfo||null;if(t&&t.length){var n=[],o=[];t.forEach((function(e){var t=e.NoteType,r=e.NoteTitle,i=void 0===r?"":r,a=e.NoteContent,s=void 0===a?"":a;if(i&&s&&t&&102===t){var c={title:i,info:[s]};n.push(c)}s&&t&&103===t&&o.push({text:s,icon:"\udb81\udc3f"})})),n.length&&(e.ViewInfo.OrderNoteInfoItems=n),o.length&&(e.ViewInfo.NoteInfo=o)}}}]),r}(ui),Li=[ai.BookingDateProcessor,ai.RenameOrderItemsProcessor,ai.RenamePropertiesProcessor,ai.ItemArrDateRangeProcessor],Vi=[li,Mi,Bi,mi,ji],Ui=[],Hi=function(e){Ln(r,e);var t=Un(r);function r(e,n,o){ue(this,r);var i=Li,a=Vi,s=Ui;return e&&(i=i.concat(e)),o&&(a=a.concat(o)),n&&(s=s.concat(n)),t.call(this,i,s,a)}return de(r)}(po),Zi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){return e?(e.ViewInfo||(e.ViewInfo={OrderTotalPrice:this.getOrderTotalPrice(e),Currency:this.getCurrency(e)}),this.appendItemTimesToViewInfo(e.ViewInfo,e.Items),e):e}},{key:"appendItemTimesToViewInfo",value:function(e,t){if(Ce(t)){var r=[],n=[];t.forEach((function(e){if(e){var t=Po(e.StartTime),o=Po(e.EndTime);r.push(t),n.push(o)}})),e.StartTimes=r,e.EndTimes=n}}},{key:"getOrderTotalPrice",value:function(e){return e.OrderTotalPrice?e.OrderTotalPrice.toString():"0"}},{key:"getCurrency",value:function(e){var t=e&&e.Currency&&De(e.Currency)?e.Currency:"";return t?di(t):"&yen;"}}]),r}(ho),qi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e);var t=this.getOrderItems(e)[0]||null;if(t){var n=this.getOrderDisplayDate(t),o={displayDate:"",displayDateWithYear:"",displayTimeRange:this.getOrderDisplayTimeRange(t)};n&&(o.displayDate=Ao(n),o.displayDateWithYear=ko(n)),Object.assign(e.ViewInfo,o)}else Gn.warn("there has no item in YachtOrderItems")}},{key:"getOrderItems",value:function(e){return e&&e.YachtOrderItems||[]}},{key:"getOrderDisplayDate",value:function(e){var t=e.DepartureTime||"";return t?yo(t):(Gn.warn("DepartureTime is not defined"),"")}},{key:"getOrderDisplayTimeRange",value:function(e){return e.DepartureTimeRange||""}}]),r}(Zi),zi=new po([ai.BookingDateProcessor,qi]),Xi="OrderTotalPrice",Gi="DepositedAmount",Wi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=this.getItem(e);t&&Object.assign(e.ViewInfo,this.getOrderTotalPrice(t),this.getDepositAmount(e))}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}},{key:"getOrderTotalPrice",value:function(e){var t=ze()(e,Gi);if(Pe(t))return{OrderTotalPrice:"0"};var r=t[Gi];return{OrderTotalPrice:r?r.toString():"0"}}},{key:"getDepositAmount",value:function(e){var t=ze()(e,Xi);if(Pe(t))return{DepositAmount:"0"};var r=t[Xi];return{DepositAmount:r?r.toString():"0"}}}]),r}(ui),Qi=new Hi(null,null,[Wi]),Yi=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=(e.MarketOrderInfo||{}).MarketOrderItems,n=this.getItems(t,e);e.ViewInfo.Items=n}},{key:"getItems",value:function(e,t){return Ce(e)?e.map((function(e){return Object.assign({Img:e.ImgUrl,Name:t.OrderName,Qty:e.Quantity})})):[]}}]),r}(ui),Ki=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=e.MarketOrderInfo||{};return e.ViewInfo.TotalIntegral=t.TotalIntegral||0,e.ViewInfo.TotalQuantity=t.TotalQuantity||0,e}}]),r}(ui),Ji=new Hi(null,null,[Ki,Yi]),$i=new Hi(null,null,[gi]);function ea(e){return e&&e.TrainInfo}var ta=["AcceptDepartDates","AcceptTimeRanges","AccpetTrainNumber"],ra=",",na=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=ea(e);if(t){var n=this._groupItems(t),o=this._orderItemVMs(n);e.ViewInfo.Items=o;var i=this._getHotelInfo(t);i&&(e.ViewInfo.HotelInfo=i)}}},{key:"_groupItems",value:function(e){var t=this,r=e.SegmentNos,n={};for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];for(var a in i)i.hasOwnProperty(a)&&i[a].forEach((function(r){var o={Passagers:r.Passagers,DepartureStation:r.DepartureStation,ArrivalStation:r.ArrivalStation,TrainNumber:r.TrainNumber};t._formatItemDates(r,o),t._formatSeatsInfo(r,o),e.isInGrabbingTicket&&t._reformGrabTicket(r,o);var i="".concat(o.DepartureStation,"-").concat(o.ArrivalStation),a=r.WayType;n.hasOwnProperty(a)||(n[a]={}),n[a].hasOwnProperty(i)||(n[a][i]=[]),n[a][i].push(o)}))}return n}},{key:"_reformGrabTicket",value:function(e,t){e&&t&&ta.forEach((function(r){if(De(e[r])){var n,o=e[r];t[r]=o,n=o?o.split(ra):[],t[r+"Arr"]=n}}))}},{key:"_formatItemDates",value:function(e,t){var r,n,o=e.DepartureDate,i=e.ArrivalDate;we(o)&&we(i)?(t.IsFaultDate=o>i,t.IsSameDay=(n=i,!(!we(r=o)||!we(n))&&r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()&&r.getDate()===n.getDate())):t.IsFaultDate=!0;var a=Do([o,i]);a&&(t.DepTime=o,we(o)&&(t.DepTimeFmt=a[0],t.DepTimeFmtYear=wo(o)),t.ArrTime=i,we(i)&&(t.ArrTimeFmt=a[1],t.ArrTimeFmtYear=wo(i)))}},{key:"_formatSeatsInfo",value:function(e,t){var r=e.CarriageNo,n=e.SeatNo;if(De(r)&&De(n)){var o=r.split(ra),i=n.split(ra);o.length===i.length&&(t.CarriageNo=r,t.SeatNo=n,t.CarriageNoArr=r.split(ra),t.SeatNoArr=n.split(ra),t.hasMultSeats=t.CarriageNoArr.length>1)}}},{key:"_orderItemVMs",value:function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];for(var n in r)r.hasOwnProperty(n)&&r[n].sort((function(e,t){return we(e.DepTime)?we(t.DepTime)?e.DepTime-t.DepTime:-1:1}))}return e}},{key:"_getHotelInfo",value:function(e){return e.HotelInfo}}]),r}(ui),oa=["isGrabTicket","isInGrabbingTicket","isSingleTrip","isTypeReturn","isConnecting","AlternateMark","IsTrainHotel"],ia=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=ea(e),n=e.ViewInfo;this._extendProps(t,n),this._addStatus(t,n),this._addIsDirectOrder(e,n)}},{key:"_addStatus",value:function(e,t){e.OrderChangeStatusName&&(t.OrderStatus||(t.OrderStatus=[]),t.OrderStatus.unshift(e.OrderChangeStatusName))}},{key:"_extendProps",value:function(e,t){var r=ze()(e,oa);Object.assign(t,r)}},{key:"_addIsDirectOrder",value:function(e,t){var r=e.OrderType,n=void 0===r?"":r,o=n&&("5"===n||"7"===n);t.IsDirectOrder=!!o}}]),r}(ui),aa=["\u5f85\u652f\u4ed8","\u652f\u4ed8\u5904\u7406\u4e2d","\u652f\u4ed8\u6210\u529f\u5f85\u51fa\u7968","\u652f\u4ed8\u5931\u8d25"],sa=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e);var t=ea(e);if(t){var n=this._isGrabTicketOrder(e);t.isGrabTicket=n,t.isInGrabbingTicket=!!n&&this._isGrabingTicket(e)}}},{key:"_isGrabingTicket",value:function(e){var t=e.OrderStatusName;return aa.includes(t)}},{key:"_isGrabTicketOrder",value:function(e){return 6===parseInt(e.OrderType)}}]),r}(ho),ca=["Passagers","CarriageNo","SeatNo","Sequence","TicketWindow","DepartureDate","ArrivalDate"],ua=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e);var t=ea(e),n=this._groupByTrainNum(t),o=this._groupByPassagers(n);t.SegmentNos=o}},{key:"_groupByPassagers",value:function(e){var t=function(e,t){return Number(e.Sequence)-Number(t.Sequence)};for(var r in e)if(e.hasOwnProperty(r)&&e[r]){var n=e[r];for(var o in n)if(n.hasOwnProperty(o)&&n[o]){var i=n[o];if(0!==i.length){for(var a=[],s=0;s<i.length;s++)for(var c=i[s],u=s+1;u<i.length;u++){var l=i[u],d=!0;for(var f in c)if(c.hasOwnProperty(f)&&l.hasOwnProperty(f)&&!ca.includes(f)&&c[f]!==l[f]){d=!1;break}d&&(c.Passagers.push(l.Passagers[0]),c.CarriageNo+=","+l.CarriageNo,c.SeatNo+=","+l.SeatNo,a.push(l))}for(var p=i,h=0;h<a.length;h+=1)p=_e(p,a[h]);p.sort(t),n[o]=p}else delete n[o]}}return e}},{key:"_groupByTrainNum",value:function(e){for(var t={},r=[],n=e.Items,o=0,i=n.length;o<i;o++){var a=n[o];if(a){var s=a.TrainNumber;r.includes(s)||r.push(s)}}for(var c=0,u=n.length;c<u;c++){var l=n[c];if(l){var d=l.WayType;t[d]||(t[d]={});for(var f=t[d],p=0;p<r.length;p++){var h=r[p];f[h]||(f[h]=[]),l.TrainNumber===h&&f[h].push(l)}}}return t}}]),r}(ho),la=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e);var t=ea(e),n=Object.keys(t.SegmentNos).sort();t.isSingleTrip=!1,t.isTypeReturn=!1,t.isConnecting=!1,n.length?n.indexOf("3")>-1?t.isConnecting=!0:n.indexOf("2")>-1?t.isTypeReturn=!0:t.isSingleTrip=!0:console.warn("no segment info, please check the group function")}}]),r}(ho),da=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e);var t=ea(e);t&&(this._convertItems(t.Items),this._convertItems(t.ChangedItems))}},{key:"_convertItems",value:function(e){Ce(e)&&e.forEach((function(e){e.DepartureDateStr&&(e.DepartureDate=So(e.DepartureDateStr)),e.ArrivalDateStr&&(e.ArrivalDate=So(e.ArrivalDateStr))}))}}]),r}(ho),fa=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e);var t=ea(e);t.IsTrainHotel=this.getIsTrainHotel(t),t.HotelInfo=this.getTrainHotelInfo(t)}},{key:"getIsTrainHotel",value:function(e){var t=e.HotelName;return!(void 0===t||!t)}},{key:"getTrainHotelInfo",value:function(e){if(!this.getIsTrainHotel(e))return null;var t=e.HotelName,r=void 0===t?"":t,n=e.NumberOfUnits,o=void 0===n?0:n,i=e.CheckInNights,a=void 0===i?0:i,s=e.HotelStatus,c=void 0===s?"":s,u=e.CheckInDateTime,l=void 0===u?"":u,d=e.LeaveDateTime,f=void 0===d?"":d,p=l?So(l):null,h=f?So(f):null;return{HotelName:r,NumberOfUnits:o,CheckInNights:a,CheckInDateTime:l=Po(p),LeaveDateTime:f=Po(h),HotelStatus:c}}}]),r}(ho),pa=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e);var t=ea(e);if(t.ChangedItems){var n=e.Passagers;n.sort(),this._merge(t,n)}}},{key:"_merge",value:function(e,t){for(var r=0,n=e.ChangedItems,o=e.Items,i=0;i<o.length;i++){var a=o[i];if(a){var s=a.Sequence,c=a.Passagers;if(a.flag)a.flag=null,delete a.flag;else for(var u=0;u<n.length;u++){var l=n[u];if("40"===l.OrderChangeStatus){var d=l.Sequence,f=l.Passagers;if(s===d)if(f.sort(),Ee(f,t))for(var p in l)l.hasOwnProperty(p)&&"SegmentNo"!==p&&(a[p]=l[p]);else{if(l.OrderChangeStatusName=e.OrderChangeStatusName,l.WayType=a.WayType,l.flag=!0,o.splice(i+1,0,l),0===c.length)for(r=0;r<t.length;r++)c.push(t[r]);for(r=0;r<f.length;r++)(c=_e(c,f[r]))&&0!=c.length||(o=_e(o,a))}}}}}for(var h=0;h<o.length;h++)o[h].Passagers.sort((function(e,t){return e>t}));e.Items=o}}]),r}(ho),ha=new Hi([sa,da,pa,ua,la,fa],[lo.TrainValidator],[ia,na]);function ma(e,t,r){r&&(e[t]=r)}function va(e,t){return function(r){Ln(o,r);var n=Un(o);function o(){return ue(this,o),n.apply(this,arguments)}return de(o,[{key:"create",value:function(r){si(Vn(o.prototype),"create",this).call(this,r);var n=this.getItem(r);n&&e&&e.length>0&&Object.assign(r.ViewInfo,t,ze()(n,e))}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}}]),o}(ui)}var ga=va(["ProductName","UseValidity","IBUUseValidity","Prepayment"]),ya=va(["TicketNumber","BusNo"]),Ta=va(["ToAddressInfo","FromCityName","ToCityName"]),Ia=va(["ProviderName","DayCount","ProductName","UsageCity","ProductType","CarType","ChannelID","SubChannelID","PeopleCount","SeatCount","FromAddress","ToAddress"]),Sa=va(["ProductName"]),Oa=va(["ProductName","ForeignCurrencyDesc","ProductType","Price","DisplayContent1"]),Ca=va(["Address"]),ba=va(["TableType","Number","Address"]),Da=va(["ProductName","Quantity"]),Aa=va(["Address","Description"]),wa=va(["ImageUrl"]),ka=va(["IsWinPrize"]),Pa=va(["DepartureLocation","ArriveLocation"]),Ea=va(["DepartureCity","ArrivalCity","DeparturePort","ShipName"]),Na=va(["TotalQuantity"]),_a=va(["ChannelID","SubChannelID","FromAddress","ToAddress","ProductName"]),xa=va(["ProductName","IsPreSaleOrder","IsReserved","PreSaleTimeStr","PreSaleAppointmentRangeStr","PreSaleAppointmentRangeOnlineStr"]),Fa=va(["ProductName","DepartureCity","ArrivalCity"]),Ra=va(["DeliverTypeName","OrderNumber","ProductName","ProductTypeCode","ProductTypeName","FaceAmount","Quantity"],function(e){if(!Ce(e))return{};var t={};return e.forEach((function(e){t[e]=""})),t}(["DeliverTypeName","OrderNumber","ProductName","ProductTypeCode","ProductTypeName","FaceAmount","Quantity"])),Ma=va(["ProductType"],{ProductType:""}),Ba=va(["NightAmount","RoomAmount","ProductName","Address"],{NightAmount:0,RoomAmount:0,ProductName:"",Address:""}),ja=va(["Quantity"],{Quantity:0}),La=va(["ProductType"],{ProductType:""}),Va=va(["ProductName","Quantity"],{ProductName:"",Quantity:0}),Ua=va(["ProductName","ProductId"],{ProductName:"",ProductId:""}),Ha=va(["ProductName"],{ProductName:""}),Za=(va(),new Hi(null,[lo.CarViewTypeValidator],[Ia])),qa=["11","12","13","14"],za=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e);var t=this.getItem(e);Object.assign(e.ViewInfo,this.getRailPassProps(t))}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}},{key:"getRailPassProps",value:function(e){var t=this.getIsRailPass(e),r={isRailPass:t,railPassStartTimes:null,railPassEndTimes:null,railPassStartTime:null,railPassEndTime:null};if(t){var n=So(e.StartDateStr),o=So(e.EndDateStr);Object.assign(r,{railPassStartTime:n,railPassEndTime:o,railPassStartTimes:Po(n),railPassEndTimes:Po(o)})}return r}},{key:"getIsRailPass",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).TicketType||"";return!!(e&&qa.indexOf(e)>-1)}}]),r}(Zi),Xa=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=this.getItems(e);t&&Object.assign(e.ViewInfo,{Items:t})}},{key:"getItems",value:function(e){var t=e.Items,r=void 0===t?[]:t;return r.length?r.map((function(e){var t=e.DepartureLocation,r=void 0===t?"":t,n=e.ArriveLocation,o=void 0===n?"":n,i=e.StartTime,a=void 0===i?"":i,s=e.EndTime,c=void 0===s?"":s,u=e.TicketType,l=void 0===u?"":u,d=e.OpenReturnValid,f=void 0===d?"":d;return{DepartureLocation:r,ArriveLocation:o,StartTime:Po(a),EndTime:Po(c),TicketType:l,OpenReturnValid:f}})):null}}]),r}(ui),Ga=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this,[za],null,[Pa,Xa])).enableDefaultValidate=!1,e.validators=e._loadValidators([lo.RailsIntlValidator]),e}return de(r)}(Hi),Wa=new Hi(null,[lo.GiftCardValidator],[Ra]),Qa=new Hi(null,null,[_a]),Ya=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=this;return e&&e.Items&&Ce(e.Items)?(e.Items.forEach((function(e){var r=e.IsPreSaleOrder;void 0!==r&&r&&(e.PreSaleTimeStr=t.processPreSaleTimeStr(e),e.PreSaleAppointmentRangeStr=t.processPreSaleAppointmentRangeStr(e),e.PreSaleAppointmentRangeOnlineStr=t.processPreSaleAppointmentRangeOnlineStr(e))})),e):e}},{key:"processPreSaleTimeStr",value:function(e){var t=e.AdvanceBookingDays,r=e.AdvanceBookingTime,n="";return t&&be(t)&&r&&De(r)&&(n="\u8bf7\u63d0\u524d".concat(t,"\u5929\u7684").concat(r,"\u524d\u9884\u7ea6")),n}},{key:"composePreSaleDate",value:function(e,t){return e&&t?"".concat(e," \u81f3 ").concat(t," \u6709\u6548"):!e&&t?"\u81f3 ".concat(t," \u6709\u6548"):e&&!t?"".concat(e," \u6709\u6548"):""}},{key:"processPreSaleAppointmentRangeStr",value:function(e){var t=zt(function(e){var t=[];if(!e||!Ce(e)||Ce(e)&&!e.length)return null;var r=!1,n=e.map((function(e){e&&De(e)&&2===e.split("-").length&&(r=!0);var n=Io(e);return t.push(n),e||null}));return r?n:Do(t,!1)}([e.EarliestAdvanceBookingDay,e.LatestAdvanceBookingDay])||[],2),r=t[0],n=t[1];return this.composePreSaleDate(r,n)}},{key:"processPreSaleAppointmentRangeOnlineStr",value:function(e){var t=e.EarliestAdvanceBookingDay,r=e.LatestAdvanceBookingDay;return this.composePreSaleDate(t,r)}}]),r}(ho),Ka=new Hi([Ya],null,[xa]),Ja=new Hi(null,null,[ga]),$a=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=this.getItems(e);if(t){var n=this.getViewInfo(t);Object.assign(e.ViewInfo,n[0],{Items:n})}}},{key:"getViewInfo",value:function(e){var t=e.map((function(e){var t=e.ProductName,r=void 0===t?"":t,n=e.Address,o=void 0===n?"":n,i=e.ScenicSpotID,a=void 0===i?"":i,s=e.Quantity,c=void 0===s?0:s,u=e.UseValidity,l=void 0===u?"":u,d=e.StartTime,f=e.ChargeUnit,p=void 0===f?"":f,h=e.UsageInstructions,m=void 0===h?"":h;return p?{ProductName:r,Address:o,ScenicSpotID:a,Quantity:c,UseValidity:l,ChargeUnit:p,UsageInstructions:m,StartTime:Po(d)}:{ProductName:r,Address:o,ScenicSpotID:a,Quantity:c,UseValidity:l,UsageInstructions:m,StartTime:Po(d)}}));return t}},{key:"getItems",value:function(e){return e&&e.Items?e.Items:null}}]),r}(ui),es=new Hi(null,null,[$a]),ts=["ProductName"],rs=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=this.getItem(e);t&&Object.assign(e.ViewInfo,ze()(t,ts),this.getOrderTotalPrice(e))}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}},{key:"getOrderTotalPrice",value:function(e){return{OrderTotalPrice:e.OrderTotalPrice>0?e.OrderTotalPrice.toString():"0"}}}]),r}(ui),ns=new Hi(null,null,[rs]),os=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){return si(Vn(r.prototype),"process",this).call(this,e),e.ViewInfo||(e.ViewInfo={}),this.appendBookingTimeToViewInfo(e.ViewInfo,e.BookingDate),e}},{key:"appendBookingTimeToViewInfo",value:function(e,t){var r=Po(t),n=[r];e.StartTime=r,e.StartTimes=n,e.EndTime=null,e.EndTimes=[null]}}]),r}(ho),is=new Hi([os],null,null),as=new Hi(null,null,[Ua]),ss=["\u5df2\u7ecf\u53d6\u6d88"],cs=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=e.OrderStatusName,n=e.OrderStatusCode;if(null==n){var o=!1;De(t)&&(o=this.isCancelled(t)),e.ViewInfo.IsCancelled=o}}},{key:"isCancelled",value:function(e){return ss.indexOf(e)>-1}}]),r}(ui),us=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){var t=this;si(Vn(r.prototype),"create",this).call(this,e);var n=this.getItem(e);if(n){var o=[n].map((function(e){var r=e.Quantity,n=void 0===r?0:r,o=e.TicketStatusesDesc,i=void 0===o?"":o,a=e.RobType,s=void 0===a?"":a,c=e.Remark,u=void 0===c?"":c;return{Quantity:n,TicketStatusesDesc:i,RobType:s,Remark:t.processRemark(u)}}));Object.assign(e.ViewInfo,o[0])}}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}},{key:"getDateInfo",value:function(e){if(!e)return null;var t=So(e);return t?Po(t):null}},{key:"processRemark",value:function(e){var t=this;try{if(!e||!De(e))return console.warn("\u670d\u52a1\u8fd4\u56de\u7684remark\u5b57\u6bb5\u7684\u503c\u4e0d\u4e3a\u5b57\u7b26\u4e32"),"";var r=JSON.parse(e);return Ce(r)?(r.forEach((function(e){var r=e.fromTime,n=void 0===r?"":r,o=e.toTime,i=void 0===o?"":o;e.fromTime=t.getDateInfo(n),e.toTime=t.getDateInfo(i)})),r):e}catch(t){return e}}}]),r}(ui),ls="ExpireDate",ds="TakeEffectDate",fs=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e),e.ViewInfo||(e.ViewInfo={});var t=this.getItem(e);return this.appendDateToViewInfo(e.ViewInfo,t),e}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}},{key:"appendDateToViewInfo",value:function(e,t){if(t[ds]){var r=Po(t[ds]);e.TakeEffectDate=r}if(t[ls]){var n=Po(t[ls]);e.ExpireDate=n}}}]),r}(ho),ps="ExpireDate",hs="TakeEffectDate",ms=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=this;return e&&e.Items&&Ce(e.Items)?(e.Items.forEach((function(e){t._convertPropToTime(e,ps),t._convertPropToTime(e,hs);var r=e[ps],n=e[hs];t._isAvailableEffectTime(n)||delete e[hs],t._isAvailableExpiredDate(r)||delete e[ps]})),e):e}},{key:"_isAvailableExpiredDate",value:function(e){return e&&2050!==e.getFullYear()}},{key:"_isAvailableEffectTime",value:function(e){return e&&!(2012===e.getFullYear()&&0===e.getMonth()&&1===e.getDate())}},{key:"_convertPropToTime",value:function(e,t){e&&e[t]&&De(e[t])&&(e[t]=So(e[t]))}}]),r}(ho),vs=new Hi([ms,fs],null,[cs,us]),gs=new Hi(null,null,[Ba]),ys=new Hi(null,null,[Sa]),Ts=new Hi(null,null,[Ea]),Is=new Hi(null,null,[ya]),Ss=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){var t=this;si(Vn(r.prototype),"create",this).call(this,e);var n=this.getItemList(e),o=n.map((function(e){var r=t.processItemCommonInfo(e),n=t.processItemTimeInfo(e);return Object.assign(r,n)})),i=n.length>0?this.processItemCommonInfo(n[0]):[];Object.assign(e.ViewInfo,{Items:o},i)}},{key:"checkIsValidItem",value:function(e){return!!e}},{key:"getItemList",value:function(e){var t=this;return e&&Ce(e.Items)?e.Items.filter((function(e){return t.checkIsValidItem(e)})):[]}},{key:"processItemTimeInfo",value:function(e){return{StartTime:Po(e.StartTime),EndTime:Po(e.EndTime)}}},{key:"processItemCommonInfo",value:function(e){return{InsuredCount:e.InsuredCount||0,InsuredDays:e.InsuredDays||0,ProductName:e.ProductName||""}}}]),r}(ui),Os=new Hi(null,null,[Ss]),Cs=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){return si(Vn(r.prototype),"process",this).call(this,e),e.ViewInfo||(e.ViewInfo={}),this.appendTimeToViewInfo(e.ViewInfo,e.StartTime,"StartTime"),this.appendTimeToViewInfo(e.ViewInfo,e.EndTime,"EndTime"),e}},{key:"appendTimeToViewInfo",value:function(e,t,r){var n="",o=[];t?o=[n=Po(t)]:(n="",o=[]);var i=r+"s";e[r]=n,e[i]=o}}]),r}(ho),bs=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){var t=this;return e&&e.Items&&Ce(e.Items)?(e.Items.forEach((function(e){t._convertPropToTime(e,"StartTime"),t._convertPropToTime(e,"EndTime")})),e):e}},{key:"_convertPropToTime",value:function(e,t){!e||e[t]?e&&e[t]&&De(e[t])&&(e[t]=So(e[t])):e[t]=""}}]),r}(ho),Ds=new Hi([Cs,bs],null,null),As=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=this.getItem(e);if(t){var n=[t].map((function(e){var t=e.DepartureCityName,r=void 0===t?"":t,n=e.ArrivalCityName,o=void 0===n?"":n,i=e.DepartureStationName,a=void 0===i?"":i,s=e.ArrivalStationName,c=void 0===s?"":s,u=e.FetcherCode,l=void 0===u?"":u,d=e.FetcherOrderID,f=void 0===d?"":d,p=e.FetcherPassword;return{DepartureCityName:r,ArrivalCityName:o,DepartureStationName:a,ArrivalStationName:c,FetcherCode:l,FetcherOrderID:f,FetcherPassword:void 0===p?"":p}})),o={Items:this.getItems(e)};Object.assign(e.ViewInfo,n[0],o)}}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}},{key:"getItems",value:function(e){return e&&e.Items?e.Items:null}}]),r}(ui),ws=new Hi(null,null,[As]),ks=new Hi(null,null,[Ta]),Ps=new Hi(null,null,[Oa]),Es=new Hi(null,null,[Aa]),Ns=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e),e.ViewInfo.OrderTotalPoints=this.getPoint(e),e.ViewInfo.Quantity=this.getQuantity(e)}},{key:"getPoint",value:function(e){var t=this.getItem(e);if(!t)return 0;var r=parseInt(t.Point,10);return isNaN(r)?0:r}},{key:"getQuantity",value:function(e){return e.Items.reduce((function(e,t){var r=parseInt(t.Quantity,10);return isNaN(r)?e:e+r}),0)}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}}]),r}(ui),_s=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=e.Items;e.ViewInfo.Items=t.filter((function(e){return!!e})).map((function(e){var t=e.ProductName,r=void 0===t?null:t,n=e.ProductDesc,o=void 0===n?null:n,i=e.ImageURL;return{ProductName:r,ProductDesc:o,ImageURL:void 0===i?null:i}}))}}]),r}(ui),xs=new Hi(null,null,[Ns,_s]),Fs=new Hi(null,null,[Va]),Rs=new Hi(null,null,[Ma]),Ms=new Hi(null,null,[La]),Bs=["HealthAddress","ConfirmDate"],js=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=this.getItem(e);if(t){var n=ze()(t,Bs),o=n.ConfirmDate,i=void 0===o?"":o;n.ConfirmDate=this.processTimeAllTypes(i),Object.assign(e.ViewInfo,n)}}},{key:"getItem",value:function(e){return e&&e.Items?ke(e.Items):null}},{key:"processTimeAllTypes",value:function(e){var t=this.processTimeStrToDate(e);return t?Po(t):null}},{key:"processTimeStrToDate",value:function(e){return e?So(e):null}}]),r}(ui),Ls=new Hi(null,null,[js]),Vs=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e),this.ignoreCheckStartTime=!0,this.appendItemTimesToViewInfo(e.ViewInfo,e.Items)}}]),r}(Mi),Us=new Hi(null,null,[ja,Vs]);function Hs(e){return e&&e.Items?e.Items[0]:null}function Zs(e){var t,r=e.UsedTime,n=(t=void 0===r?"":r)?So(t):null;return n?Po(n):null}var qs=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t,n=Hs(e);t=n&&n.ExchangeAmount?n.ExchangeAmount:"",e.ViewInfo.ProductName=t}}]),r}(ui),zs=new Hi(null,null,[qs]),Xs=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e),e.ViewInfo.IsValidity=e.IsValidity,e.ViewInfo.IsTypeReturn=e.IsTypeReturn,e.ViewInfo.ProductName=this.getProductName(e)}},{key:"getProductName",value:function(e){if(!e.IsValidity)return"";var t=Hs(e);return t?t.ProductName:""}}]),r}(ui),Gs=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=e.Items,n=e.IsValidity;t&&(e.ViewInfo.Items=n?[]:t.map((function(e){var t=e.StartTime,r=e.EndTime,n=e.WayType,o=e.TrainNumber,i=e.ProductName,a={StartTime:Po(t),EndTime:Po(r),WayType:n,TrainNumber:o};return i&&(a.ProductName=i),a})))}}]),r}(ui),Ws=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e),this.processValidity(e),this.processTypeReturn(e)}},{key:"processTypeReturn",value:function(e){var t=function(e){return e&&e.Items&&0!==e.Items.length?e.Items[e.Items.length-1]:null}(e),r=!1;t&&"\u8fd4\u7a0b"===t.WayType&&(r=!0),e.IsTypeReturn=r}},{key:"processValidity",value:function(e){var t=Hs(e),r=!1;t&&(r=!!t.Validity),e.IsValidity=r}}]),r}(ho),Qs=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this,[Ws],null,[Xs,Gs])).excludeItemTimesVM(),e}return de(r,[{key:"excludeItemTimesVM",value:function(){var e=this.vmCreators.indexOf(Mi.getInstance());-1!==e&&this.vmCreators.splice(e,1)}}]),r}(Hi),Ys="wifi",Ks="lounge",Js="insurance",$s="security",ec="airportServices",tc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=Hs(e);if(t){var n=e.ViewInfo,o=e.Category,i=e.UniqueType,a=void 0===i?"":i;a&&(n.UniqueType=a),n.Category=o,n.UsedTime=Zs(e),this.setAddress(n,t,o),this.setQty(n,e),this.setImageUrl(n,t)}}},{key:"setAddress",value:function(e,t,r){switch(r){case $s:case Ks:case ec:e.Address=t.LocationInfo;break;case Ys:e.FromAddress=t.FromAddress,e.ToAddress=t.ToAddress}}},{key:"setQty",value:function(e,t){var r=t.TotalQuantity;e.Quantity=r}},{key:"setImageUrl",value:function(e,t){t.hasOwnProperty("ImageUrl")&&(e.ImageUrl=t.ImageUrl)}}]),r}(ui),rc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=e.Category,n=void 0===t?"":t,o=e.UniqueType;n!==$s&&n!==Ks&&n!==Js&&n!==ec&&"FlightX#23#20"!==(void 0===o?"":o)||this.createItems(e)}},{key:"createItems",value:function(e){var t=this,r=e.Items,n=void 0===r?[]:r;e.ViewInfo.Items=n.map((function(e){var r=e.StartTime,n=e.EndTime,o=e.ProductName,i=e.Quantity,a=e.extData,s=void 0===a?null:a,c=Po(r),u=Po(n),l={};return ma(l,"StartTime",c),ma(l,"EndTime",u),ma(l,"ProductName",o),ma(l,"Quantity",i),s&&(t.processExtDataTime(s),ma(l,"ExtData",s)),l}))}},{key:"processExtDataTime",value:function(e){var t=e.departureTime,r=void 0===t?"":t;if(r){var n=Io(r);e.DepartureTime=Po(n)}}}]),r}(ui),nc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e),this.ignoreCheckStartTime=!0,this.appendItemTimesToViewInfo(e.ViewInfo,e.Items)}}]),r}(Mi),oc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){this.processCategory(e),this.processType(e)}},{key:"processCategory",value:function(e){var t;switch(e.OrderType){case"4":t=Ys;break;case"5":t=Ks;break;case"9":t="parking";break;case"17":t=Js;break;case"19":t=$s;break;case"23":t="interest";break;case"26":t="specialty";break;case"120":t="blindBox";break;case"1004":t="bag";break;case"6":t="coupon";break;case"1040":t=ec;break;default:t="common"}e.Category=t}},{key:"processType",value:function(e){var t=e.ExtData,r=void 0===t?{}:t,n=e.BizType,o=void 0===n?"":n,i=e.OrderType,a=void 0===i?"":i,s=r.productType,c=void 0===s?"":s;e.UniqueType=o&&a&&c?"".concat(o,"#").concat(a,"#").concat(c):o&&a&&!c?"".concat(o,"#").concat(a):o}}]),r}(ho),ic=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){return e&&e.Items&&Ce(e.Items)?(this.formatItemsInfoTime(e),e):e}},{key:"formatItemsInfoTime",value:function(e){var t=this;e.Items.forEach((function(e){if(e){var r=e.ItemInfo;r&&(t._convertPropToTime(r,"StartTime"),t._convertPropToTime(r,"EndTime"),Object.assign(e,r),delete e.ItemInfo)}}))}}]),r}(Lo),ac=lo.FlightXOrderValidator,sc=lo.FlightXViewTypeValidator,cc=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this,[oc,ic],[ac,sc],[tc,rc,nc])).enableDefaultValidate=!1,e}return de(r)}(Hi),uc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=this.getItem(e);t&&Object.assign(e.ViewInfo,{Items:t})}},{key:"getItem",value:function(e){return e&&e.Items?e.Items:null}}]),r}(ui),lc=new Hi(null,[lo.FlightCorOrderValidator],[uc]);lc.enableDefaultValidate=!1;var dc=new Hi(null,null,[Fa]),fc=new Hi(null,null,[Da]),pc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){var t=this;if(si(Vn(r.prototype),"create",this).call(this,e),e&&e.Items){var n=e.Items;n.forEach((function(e){e.ItemExtInfo=t.processItemExt(e)}));var o=this.getViewInfo(n),i=o[0];Object.assign(e.ViewInfo,i,{Items:o})}}},{key:"getViewInfo",value:function(e){return e.map((function(e){var t=e.ProductName,r=void 0===t?"":t,n=e.ProductId,o=void 0===n?"":n,i=e.FromCityName,a=void 0===i?"":i,s=e.FromCityId,c=void 0===s?0:s,u=e.FromAddress,l=void 0===u?"":u,d=e.ToCityName,f=void 0===d?"":d,p=e.ToCityId,h=void 0===p?0:p,m=e.FromDistrictName,v=void 0===m?"":m,g=e.ToDistrictName,y=void 0===g?"":g,T=e.ToAddress,I=void 0===T?"":T,S=e.StartTime,O=void 0===S?"":S,C=e.EndTime,b=void 0===C?"":C,D=e.ItemExtInfo;return{ProductName:r,ProductId:o,FromCityName:a,FromCityId:c,FromAddress:l,ToCityName:f,ToCityId:h,FromDistrictName:v,ToDistrictName:y,ToAddress:I,ItemExtInfo:void 0===D?{}:D,StartTime:Po(O),EndTime:Po(b)}}))}},{key:"processItemExt",value:function(e){var t=e.ItemExt,r=void 0===t?"":t;try{return r?JSON.parse(r):{}}catch(e){return console.error("\u5904\u7406CommonOrderItem\u4e2d\u7684ItemExt\u65f6\u51fa\u73b0\u4e86\u9519\u8bef\uff0c\u9519\u8bef\u4fe1\u606f\uff1a".concat(e.message)),{}}}}]),r}(ui),hc=new Hi(null,null,[pc]),mc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e),Object.assign(e.ViewInfo,{Items:this.getFlightInsuranceViewInfoItems(e)})}},{key:"processItemDate",value:function(e){var t=So(e);return function(e){if(!we(e)||isNaN(e.getTime()))return!0;var t=e.getFullYear(),r=e.getMonth(),n=e.getDate();return 2012===t&&0===r&&1===n}(t)?null:t}},{key:"processItem",value:function(e){var t=null;if(e){var r=e.ProductID,n=e.ProductName;if(n){var o=e.Insurance||{},i=o.Quantity,a=o.EffectTime,s=o.ExpireTime;t={ProductID:r,ProductName:n,Quantity:i,StartTime:Po(this.processItemDate(a)),EndTime:Po(this.processItemDate(s))}}}return t}},{key:"getFlightInsuranceViewInfoItems",value:function(e){var t,r=this,n=e.Items,o=[];return Ce(n)&&n.length>0&&n.forEach((function(e){(t=r.processItem(e))&&o.push(t)})),o}}]),r}(ui),vc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"validate",value:function(e){return!(!e||!this.checkHasOneMoreProductName(e)&&!e.OrderName)}},{key:"checkHasOneMoreProductName",value:function(e){var t=e.FlightXOrderItemInfos,r=!1;if(Ce(t)&&t.length>0)for(var n,o=0;o<t.length;o+=1)if((n=t[o])&&n.ProductName){r=!0;break}return r}}]),r}(Yn),gc=new Hi(null,[vc],[mc]);gc.enableDefaultValidate=!1;var yc=new Hi(null,null,[wa]),Tc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"process",value:function(e){si(Vn(r.prototype),"process",this).call(this,e);var t=e.UsedTime,n=void 0===t?"":t,o=this.processTimeAllTypes(n);Object.assign(e.ViewInfo,{UsedTime:o})}},{key:"processTimeAllTypes",value:function(e){var t=this.processTimeStrToDate(e);return t?Po(t):null}},{key:"processTimeStrToDate",value:function(e){return e?So(e):null}}]),r}(Zi),Ic=new Hi([Tc]),Sc=new Hi(null,null,[Na]),Oc=new Hi(null,null,[ba]),Cc=new Hi(null,null,[Ca]),bc=new Hi(null,null,[ka]),Dc=function(e){Ln(r,e);var t=Un(r);function r(){return ue(this,r),t.apply(this,arguments)}return de(r,[{key:"create",value:function(e){si(Vn(r.prototype),"create",this).call(this,e);var t=this.getItems(e),n=Zs(e);n&&Object.assign(e.ViewInfo,{Items:t,UsedTime:n})}},{key:"getItems",value:function(e){var t=e.Items,r=void 0===t?[]:t;return r.length?r.map((function(e){var t=e.ExtData;return{ExtData:void 0===t?{}:t}})):null}}]),r}(ui),Ac=new Hi(null,null,[Dc]),wc=new Hi(null,null,[Ha]),kc={common:Hi,flight:Ri,flightx:cc,cellphonefee:wc,mall:xs,yacht:zi,deposit:Qi,market:Ji,hotel:$i,train:ha,car:Za,railsintl:Ga,tripbus:Ga,traininternational:Qs,lipin:Wa,transfer:Qa,vacation:Ka,vacationdp:Ka,vacationtour:dc,vacationcruise:Ka,activity:Ja,piao:es,customized:ns,taxrebate:is,visa:as,tuan:vs,fishtrip:gs,cruise:ys,ship:Ts,airportbus:Is,vacationinsurance:Os,presale:Ds,qiche:ws,bag:ks,exchange:Ps,mice:Es,surprise:Fs,credit:Rs,meeting:Ms,health:Ls,globalbuycoupon:Us,cashpassport:zs,flightcor:lc,localguide:fc,gscommercial:hc,carrentinsurance:hc,financeinsurance:hc,selfpayment:hc,flightinsurance:gc,mktaos:yc,mktsupermember:Ic,sport:Sc,gsfoodqueue:Oc,gsfood:Cc,one:bc,nat:Ac},Pc={};for(var Ec in kc)if(kc.hasOwnProperty(Ec)){var Nc=kc[Ec];Pc[Ec]="function"==typeof Nc?new Nc:Nc}function _c(e){var t=e&&De(e)?e.toLowerCase():"";return t&&t in Pc?Pc[t]:Pc.common}var xc,Fc,Rc=function(e){Ln(r,e);var t=Un(r);function r(e,n){return ue(this,r),t.call(this,e,n,_c)}return de(r)}(Wn),Mc={Style1:0,Style2:1},Bc={DETAIL:"Detail",DELETE:"Delete",MORE:"More",SELECT:"Select"},jc=["HOTEL_CANCELLED","FLIGHT_CANCELLED","FLIGHT_UNSUBCRIBE_ALL","RAILSINTL_CANCELED","RAILSINTL_REFUND","TRANS_CANCELLED","TRANS_UNSUBCRIBE_ALL","CAR_CANCELLED","VACATION_CANCELLED","VACATION_UNSUBCRIBE_ALL","ACTIVITY_CANCELLED","BUS_CANCELLED","SHIP_CANCELED","SHIP_UNSUBCRIBE_ALL","CUSTOMIZED_CANCELLED","CUSTOMIZED_UNSUBSCRIBED","CRUISE_CANCELLED","GIFT_CANCELLED","TUAN_CANCELLED","TUAN_REFUNDED","GSCOMMERCIAL_CANCELLED"],Lc=["FLIGHT_UNCOMMIT","FLIGHT_WAITING_PAY","FLIGHT_WAITING_CHARGE","HOTEL_UNCOMMIT","CAR_WAITING_PAY","ACTIVITY_WAIT_PAY","RAILSINTL_TOPAY","TRANS_TOPAY","GIFT_COMMITTED","TUAN_TOPAY"],Vc=[],Uc={1:!0,2:!1},Hc={updateOpt:function(e){},process:function(e){var t=e.ViewInfo||{};return{isCancel:this.processOrderIsCancel(e),isUnpaid:this.processOrderIsUnpaid(e),isShowAssociateBar:this.processOrderIsAssociate(e),orderStatusName:this.processOrderStatusName(e),orderCurrency:this.processOrderCurrency(t),orderSubStatusName:this.processSmallState(e),orderTotalPrice:this.processOrderTotalPrice(t),orderAmount:this.processOrderAmount(t)}},processIsCancel:function(e){return Uc[e]||!1},processOrderIsCancel:function(e){var t=e.OrderStatusCode,r=void 0===t?"":t,n=e.ShowType;return 0===n?jc.indexOf(r)>-1:this.processIsCancel(n)},processOrderIsUnpaid:function(e){var t=e.OrderStatusCode,r=void 0===t?"":t;return Lc.indexOf(r)>-1},processOrderStatusName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.OrderStatusName?[e.OrderStatusName]:Vc},processOrderCurrency:function(e){return e.CurrencyCode},processOrderAmount:function(e){return e.OrderAmount},processOrderTotalPrice:function(e){var t=e.OrderTotalPrice;if(!t||"0"===t)return null;var r=Number(t);return Number.isNaN(r)?null:r},processSmallState:function(){return[]},processOrderIsAssociate:function(e){var t=e.BindingType,r=void 0===t?"":t;return r&&"MemberBinding"===r}},Zc={updateOpt:function(e){},process:function(e){var t=this,r=[],n=e.OrderActions||[],o=e.OrderID,i=e.BizType,a=e.BizTypeOrigin,s=e.OrderType||"",c={detailData:null,actionData:[],moreActionData:this.getMoreAction(i,o),hasDelete:!1,actionBaseData:{bizType:i,orderId:o,orderType:s,bizTypeOrigin:a}};return n.length&&n.forEach((function(e){if(e){var n=t.processOrderAction(e,o,i,s,a);n&&r.push(n)}})),r.sort((function(e,t){return t.actionRank-e.actionRank})),this.processActionList(r,c)},processActionList:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){if(t&&t.standardCode)switch(t.standardCode){case Bc.DETAIL:e.detailData=t;break;case Bc.DELETE:e.hasDelete=!0,e.deleteData=t;break;default:e.actionData.push(t)}})),e},processOrderAction:function(e,t,r,n,o){if(!e.StandardCode||!e.ActionName)return null;var i={standardCode:e.StandardCode,actionCode:e.ActionCode},a={orderId:t,bizType:r,orderType:n,bizTypeOrigin:o};return i.actionBase=a,i.actionUrl=this.processOrderActionUrl(e),i.actionRank=this.processOrderActionRank(e),i.actionName=this.processOrderActionName(e),i.actionStyle=this.processOrderActionStyle(e),i.actionType=this.processOrderActionType(e),i.actionLinkType=this.processOrderActionLinkType(e),i.actionLinkTitle=this.processOrderActionLinkTitle(e),i.actionMethod=this.processOrderActionMethod(e),i.actionExtension=this.processOrderActionExtension(e,a),i.actionXPath=this.processOrderActionXPath(i,t,r),i},processOrderActionUrl:function(e){return e.ActionURLH5},processOrderActionRank:function(e){return e.ActionRank},processOrderActionName:function(e){return e.ActionName},processOrderActionStyle:function(e){var t=e.ActionStyle;return Mc[t]||Mc.Style1},processOrderActionType:function(e){return e.ActionType},processOrderActionLinkType:function(e){return e.LinkType||""},processOrderActionLinkTitle:function(e){return e.H5Title||""},processOrderActionMethod:function(){return null},processOrderActionExtension:function(){return null},processOrderActionXPath:function(e,t,r){var n="";return t&&r?n="".concat(r,"_").concat(e.standardCode,"_").concat(t):n},getMoreAction:function(){},getSelectAction:function(){}},qc={updateOpt:function(e){},process:function(e){return e||{}},processCardTip:function(){return null},processOrderTag:function(){return null}},zc={updateOpt:function(e){},process:function(e){return e.ViewInfo||{}},getCurrentYear:function(){return(new Date).getFullYear().toString()},isAcrossYear:function(e,t){var r=this.getCurrentYear(),n=new Date(e).getFullYear().toString();return t&&n!==new Date(t).getFullYear().toString()||n!==r},getTimeFormatStyle:function(e){var t=e.startDate,r=void 0===t?null:t,n=e.endDate,o=void 0===n?null:n,i=e.needHourAndMinute,a=void 0!==i&&i;return r||o?this.isAcrossYear(r,o)?a?"fmtStrWithYMDHM":"fmtStrWithYMD":a?"fmtStrWithMDHM":"fmtStrWithMD":""},isValidViewInfoDate:function(e){return e&&we(e.date)&&be(e.date.getTime())},processContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.OrderName,r=void 0===t?"":t,n=e.BizType,o=void 0===n?"":n,i=e.OrderID,a=void 0===i?0:i;return r||console.warn("".concat(o,": ").concat(a,", \u7f3a\u5c11OrderName.")),r}},Xc={updateOpt:function(e){},processNoteContent:function(e){var t="";if(e)try{var r=(JSON.parse(e)||{}).packageNameList;t=void 0===r?"":r}catch(e){dt(e)}return t},process:function(e){var t=this,r=[],n=e||{},o=n.OrderNoteInfo,i=n.OrderID,a="",s="";o&&o.length>0&&o.forEach((function(e){var r=e||{},n=r.NoteType,o=r.NoteTitle,i=r.NoteContent;2===n&&(a=o,s=t.processNoteContent(i))}));var c={title:a,info:[s],orderId:i,isXItem:!0};return a&&s&&r.push(c),{xOrderItemList:r}}},Gc=function(e){if(e)try{return e.toString(2)}catch(e){return dt(e),""}return""},Wc=function(e){var t=(e||{}).Flag,r=Gc(t);return r.length>0&&"1"===r.charAt(r.length-1)},Qc=function(e){var t=(e||{}).Flag,r=Gc(t);return r.length>1&&"1"===r.charAt(r.length-1)&&"1"===r.charAt(r.length-2)},Yc=new Rc,Kc=function(){function e(){ue(this,e),this.baseProcessor=Hc,this.itemProcessor=zc,this.defaultItemProcessor=Hn,this.actionProcessor=Zc,this.extensionProcessor=qc,this.xOrderProcessor=Xc}return de(e,[{key:"process",value:function(e){var t=this;return new Promise((function(r){var n={cardType:"success",bizType:t.processOrderBizType(e),orderId:t.processOrderID(e),buName:t.processOrderBuName(e),buChineseName:t.processBuChineseName(e),orderType:t.processOrderType(e),parentOrderId:t.processParentOrderId(e),bookingDate:t.processBookingDate(e),isXOrder:t.processIsXOrder(e),isHistoryOrder:Wc(e),isHistoryDetailOrder:Qc(e),parentXOrderID:t.processParentXOrderID(e)},o=Yc.process(e);if(!o)return console.warn("".concat(e.OrderID,", OrderCore\u5904\u7406\u4e0d\u901a\u8fc7\uff0c\u629b\u5f03\u8be5\u8ba2\u5355")),n.cardType="error",void r(n);"default"===o.BizType&&(console.warn("\u8ba2\u5355\u53f7: ".concat(e.OrderID,", OrderCore\u5904\u7406\u4e0d\u901a\u8fc7\uff0c\u8d70\u4fdd\u5e95\u903b\u8f91")),n.cardType="default",n.buName="Default"),Promise.all([t.baseProcessor.process(o),t.getItemProcessor(o,n),t.processOrderActions(o,n),t.processExtensionInfo(o),t.processXOrderExtendInfo(o)]).then((function(e){var t=zt(e,5),r=t[0],o=void 0===r?{}:r,i=t[1],a=void 0===i?[]:i,s=t[2],c=void 0===s?{}:s,u=t[3],l=void 0===u?{}:u,d=t[4],f=void 0===d?{}:d;if(Object.assign(n,h(h({baseData:o,itemData:a},c),{},{extensionData:l,xOrderExtendData:f})),0===n.itemData.length){if("default"!==n.cardType)throw new Error("\u8ba2\u5355\u5217\u8868\u5185\u5bb9\u4e3a\u7a7a\uff0c\u8d70\u9ed8\u8ba4\u5904\u7406\u5668");n.cardType="error"}})).catch((function(){n.cardType="default",n.buName="Default";var e=t.defaultItemProcessor.process(o);!e||0===e.length||n.isXOrder?n.cardType="error":n.itemData=e})).finally((function(){r(n)}))}))}},{key:"processOrderBizType",value:function(e){return e.BizType}},{key:"processOrderID",value:function(e){return e.OrderID}},{key:"processOrderBuName",value:function(e){return e.BizType}},{key:"processIsXOrder",value:function(e){return e.isXOrder||!1}},{key:"processParentXOrderID",value:function(e){return e.parentXOrderID}},{key:"getItemProcessor",value:function(e,t){return"default"===t.cardType?this.defaultItemProcessor.process(e):this.itemProcessor.process(e)}},{key:"processOrderActions",value:function(e){return this.actionProcessor.process(e)}},{key:"processXOrderExtendInfo",value:function(e){return this.xOrderProcessor.process(e)}},{key:"processExtensionInfo",value:function(e){return this.extensionProcessor.process(e)}},{key:"processOrderType",value:function(e){var t=e.OrderType;return void 0===t?"":t}},{key:"processBuChineseName",value:function(){return""}},{key:"processParentOrderId",value:function(e){var t=e.ParentOrderID;return(void 0===t?"":t)||""}},{key:"processBookingDate",value:function(e){var t=e.BookingDate;return void 0===t?"":t}}],[{key:"getInstance",value:function(){return this.__instance||(this.__instance=new this),this.__instance}}]),e}(),Jc={imgUrl:"https://pic.c-ctrip.com/platform/h5/my/home/delete-img.png",title:"\u60a8\u9700\u8981\u5220\u9664\u6b64\u8ba2\u5355\u5417\uff1f",content:"\u5220\u9664\u540e\u65e0\u6cd5\u5728\u5ba2\u6237\u7aef\u67e5\u8be2\u8ba2\u5355\u8bb0\u5f55\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c",majorActionText:"\u5220\u9664",minorActionArr:["\u70b9\u9519\u4e86"]},$c={imgUrl:"https://pic.c-ctrip.com/platform/h5/my/home/delete-img.png",title:"\u60a8\u9700\u8981\u5220\u9664\u6b64\u8ba2\u5355\u5417\uff1f",content:"\u5220\u9664\u540e\u65e0\u6cd5\u5728\u5ba2\u6237\u7aef\u67e5\u8be2\u8ba2\u5355\u8bb0\u5f55\uff0c\u4e0d\u652f\u6301\u81ea\u52a9\u6539\u7b7e\u53ca\u53d1\u7968\u8865\u5bc4\uff1b\u8bf7\u8c28\u614e\u64cd\u4f5c",majorActionText:"\u5220\u9664",minorActionArr:["\u70b9\u9519\u4e86"]},eu={imgUrl:"https://pic.c-ctrip.com/platform/h5/my/home/delete-img.png",title:"\u60a8\u9700\u8981\u5220\u9664\u6b64\u8ba2\u5355\u5417\uff1f",content:"\u5220\u9664\u540e\u65e0\u6cd5\u5728\u5ba2\u6237\u7aef\u67e5\u8be2\u8ba2\u5355\u8bb0\u5f55\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c",majorActionText:"\u5220\u9664",minorActionArr:["\u70b9\u9519\u4e86"]},tu=Object.assign({},Zc,{updateOpt:function(e){xc=e},process:function(e){var t=(xc||{}).cardStyleOpt;this.processCommitButton(e.OrderActions);var r=Zc.process.call(this,e);this.processOperateTypeForManagement(r.actionData);var n=function(e,t){if(!Ce(e)||0===e.length)return{display:[],more:[]};var r=t||{},n=r.cardButtonSize,o=r.cardWrapperWidth,i=void 0===o?0:o,a=r.moreButtonWith,s=void 0===a?0:a,c=n||{},u=c.width,l=void 0===u?0:u,d=c.space,f=l+(void 0===d?0:d),p=Math.floor(i/f),h=i-f*p;return p<e.length&&h<s&&(p-=1),{display:e.slice(0,p),more:e.slice(p)}}(r.actionData,t),o=n.display,i=n.more;return r.displayButtonList=o,r.moreButtonList=i,r.deleteTip=this.processDeleteTip(),r},processCommitButton:function(e){var t=(xc||{}).orderStatus,r=void 0===t?"":t;r&&"AwaitReview"===r&&e.forEach((function(e){"Comment"===e.StandardCode&&(e.ActionRank=1e7)}))},processOperateTypeForManagement:function(e){return e.forEach((function(e){var t=e.standardCode,r=void 0===t?"":t,n=r;switch(r){case"Remind":n="MakeUrgent";break;case"Shipped":n="ComfirmGoods"}e.actionOperateType=n})),e},getMoreAction:function(e,t){var r={standardCode:Bc.MORE},n=Zc.processOrderActionXPath(r,e,t);return{standardCode:r.standardCode,actionBase:{orderId:t,bizType:e},actionName:"\u66f4\u591a",actionStyle:"Style1",actionType:"Button",actionXPath:n}},processOrderActionExtension:function(e,t){var r=e.Extension,n=void 0===r?"":r;try{return n?JSON.parse(n):null}catch(e){return n}},processOrderAction:function(e,t,r,n,o){var i=Zc.processOrderAction.call(this,e,t,r,n,o);return i?(i.actionTag=this.processActionTag(e,n),i):i},processActionTag:function(e,t){var r=e.Extension,n=void 0===r?"":r;try{if(!n||n.indexOf("tagAllDevices")<0)return"";var o=(JSON.parse(n.replace(/'/g,'"'))||{}).tagAllDevices;return void 0===o?"":o}catch(e){return console.log(e.message,n),""}},processDeleteTip:function(){return Jc}}),ru=Object.assign({},zc,{updateOpt:function(e){Fc=e},processContent:function(e){var t=((Fc||{}).configData||{}).X_ORDER_NAME_MAP,r=e.BizType,n=void 0===r?"":r,o=e.isXOrder,i=zc.processContent(e),a=i;if(o&&i){var s=t[n]||"",c=s?"(".concat(s,")"):"";a="".concat(i).concat(c)}return a},convertTimeToDate:function(e){return e&&De(e)?So(e):null},convertDateToAllType:function(e){return we(e)?Po(e):null},getTimeAllType:function(e){try{if(!e)return null;var t=null,r=e;return De(r)&&(t=this.convertTimeToDate(r),r=this.convertDateToAllType(t)),we(r)&&(r=this.convertDateToAllType(r)),Oe(r)?r:null}catch(e){return console.error(e.message),null}},isSameDay:function(e,t){if(!t)return!0;var r=e&&e.split(" ")||[],n=t&&t.split(" ")||[],o=zt(r,1)[0],i=void 0===o?"":o,a=zt(n,1)[0],s=void 0===a?"":a;return i&&s&&i===s},isInValidDateForOrder:function(e){if(!we(e)||Number.isNaN(e.getTime()))return!0;var t=e.getFullYear(),r=e.getMonth(),n=e.getDate();return 2012===t&&0===r&&1===n},getEndTime:function(e,t){try{if(!t)return"";if(this.isSameDay(e,t)){var r=zt(t&&t.split(" "),2)[1];return void 0===r?"":r}return t}catch(e){return""}},processTimeStr:function(e){var t=e||{},r=t.startTime,n=void 0===r?null:r,o=t.endTime,i=void 0===o?null:o,a=t.needHourAndMinute,s=void 0!==a&&a,c=t.keepEndTime,u=void 0!==c&&c,l=we(n)||De(n)?this.getTimeAllType(n):n,d=we(i)||De(n)?this.getTimeAllType(i):i,f=(l||{}).date,p=void 0===f?null:f,h=(d||{}).date,m=void 0===h?null:h,v=zc.isAcrossYear(p,m),g=zc.getTimeFormatStyle({startDate:p,endDate:m,needHourAndMinute:s}),y=l&&!this.isInValidDateForOrder(l.date)?l[g]:"",T=d&&!this.isInValidDateForOrder(d.date)?d[g]:"",I=v&&!this.isSameDay(y,T);return s?{start:y,end:this.getEndTime(y,T),needNewLine:I}:{start:y,end:u||y!==T?T:"",needNewLine:I}},processTimeHHAndMM:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return"";var t=e.split(" ");return t&&2===t.length&&"00:00"===t[1]?t[0]:e},processStartAndEndTime:function(e){try{var t=this.processTimeStr(e),r=t.start,n=t.end,o=t.needNewLine,i=[];return r||n?i=void 0!==o&&o&&r&&n?["".concat(r," \u81f3"),n]:r&&n?["".concat(r," \u81f3 ").concat(n)]:["".concat(r).concat(n)]:i}catch(e){return console.warn(e.message),[]}},getBuDescOnSameLine:function(e){var t="";return e&&e.length>0&&e.forEach((function(e){var r=e?"".concat(t?" \xb7 ".concat(e):e):"";t="".concat(t).concat(r)})),t},processSingleTimeStr:function(e,t,r,n){if(!(e&&Oe(e)&&t&&De(t)))return console.warn("fn name: processSingleTimeStr, \u7f3a\u5c11\u4fe1\u606f\uff0c\u65e0\u6cd5\u83b7\u53d6\u65f6\u95f4\u4fe1\u606f...."),"";var o=e[t],i=this.getTimeAllType(o);return i?n?i[n]||"":i[zc.getTimeFormatStyle({startDate:i.date||null,needHourAndMinute:!!r})]||"":""},processTimeDecoration:function(e,t,r){return e?r&&t?"".concat(t," ").concat(e):t?"".concat(e," ").concat(t):e:""},processDisplayText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"".concat(e).concat(t):"".concat(t).concat(e):""},changeStrToNum:function(e){return e&&e?parseInt(e,10):0}}),nu=Object.assign({},Hc,{updateOpt:function(e){},process:function(e){var t=e.ViewInfo,r=void 0===t?{}:t,n=Hc.process.call(this,e);return n.integral=this.processIntegral(r),n.originStatus=this.getOriginStatus(e),n.originBookingDate=this.getOriginBookingDate(e),n},processOrderCurrency:function(e){return fi("&yen;")},processOrderIsCancel:function(e){var t=e.OrderStatusName,r=e.ShowType;return 0===(void 0===r?0:r)?["\u5df2\u53d6\u6d88","\u5df2\u9000\u7968","\u5df2\u9000\u8ba2","\u62fc\u56e2\u53d6\u6d88","\u9884\u8ba2\u5931\u8d25"].indexOf(t)>-1:Hc.processOrderIsCancel(e)},processIntegral:function(e){return""},getIntegralStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e&&Number(e);return t&&t>0?"".concat(t,"\u79ef\u5206"):""},getOriginStatus:function(e){var t=e.OrderStatusName;return void 0===t?"":t},getOriginBookingDate:function(e){var t=e.BookingDate;return t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=e.getTime(),n=e.getTimezoneOffset();return"/Date(".concat(r+=60*(n+60*t)*1e3,"+0").concat(t,"00)/")}(t):""},processLeftPriceStr:function(e,t,r){if(!e||Ce(e)&&!e.length)return"";var n=t&&De(t)?t:"",o="";if(r&&De(r)&&(o=", ".concat(r)),De(e))return"".concat(n).concat(e).concat(o);if(Ce(e)){var i=[];e.forEach((function(e){e&&i.push(e)}));var a=i.join("\u3001");return a?"".concat(n).concat(a).concat(o):""}return""}}),ou=function(e){Ln(r,e);var t=Un(r);function r(e){var n;return ue(this,r),(n=t.call(this,e)).itemProcessor=ru,n.actionProcessor=tu,n.baseProcessor=nu,n}return de(r,[{key:"processBuChineseName",value:function(e){return((this.opt||{}).configData||{}).CHINESE_NAME_MAP[this.processOrderBuName(e)||"Default"]}},{key:"updateOpt",value:function(e){this.opt=e,this.actionProcessor.updateOpt(e),this.itemProcessor.updateOpt(e)}}],[{key:"getInstance",value:function(){return this.__instance||(this.__instance=new this),this.__instance}}]),r}(Kc);f(ou,"__instance",void 0);var iu,au=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Hn,e}return de(r,[{key:"processOrderBuName",value:function(){return"Default"}}]),r}(ou),su=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processItemInfo(t)]}]:[]},processItemInfo:function(e){var t=e.Items,r=void 0===t?[]:t,n=this.processSingleTimeStr(e,"UsedTime",!1),o="";if(r&&r.length>0){var i=((r[0]||{}).ExtData||{}).examineTime;o=void 0===i?"":i}return n&&o?this.processTimeDecoration("".concat(n," ").concat(o),"\u6709\u6548"):n&&!o?this.processTimeDecoration(n,"\u6709\u6548"):""}}),cu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=su,e}return de(r)}(ou),uu=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:this.processInfoStr(t)}]:[]},processInfoStr:function(e){var t=this.processBuTime(e),r=this.processNightAndMount(e);if(!t.length)return[r];if(2===t.length){var n="".concat(t[1]," ").concat(r);return[t[0],n]}return["".concat(t," ").concat(r)]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n;return ru.processStartAndEndTime({startTime:r,endTime:o})},processNightAndMount:function(e){var t=e.NightAmount,r=e.RoomAmount,n=t?"".concat(t,"\u665a"):"",o=r?"".concat(r,"\u95f4"):"";return"".concat(n).concat(o)}}),lu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=uu,e}return de(r)}(ou),du=" \u81f3 ",fu=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=this.processSegment(e),n=Rn(e);if(n&&n.length>0)return r;var o=this.processHotelItem(t),i=r;return o&&(i=r.concat(o)),i},processSegment:function(e){var t=this,r=(e||{}).ViewInfo,n=void 0===r?{}:r,o=n.Segments,i=void 0===o?[]:o,a=[];return i.length?(i.forEach((function(e,r){var o=e.DepCityName,i=void 0===o?"":o,s=e.ArrCityName,c=void 0===s?"":s,u=e.Segment,l=void 0===u?"":u,d=l?"".concat(c," (").concat(l,")"):c;0===r&&(d=t.setFlightChannelSuffix(n,d)),i&&d&&a.push({departure:i,arrival:d,titleSuffix:t.getTitleSuffix(n),orderTag:t.processOrderTag(e),info:t.getDesc(n,e)})})),a):[]},getDesc:function(e,t){var r=(e||{}).IsGrabOrder,n=t||{},o=n.DepartDateRange,i=void 0===o?"":o,a=n.DepartTimeRange,s=void 0===a?"":a,c=n.DepTime,u=void 0===c?null:c,l=n.ArrTime,d=void 0===l?null:l,f=n.FlightNo,p=void 0===f?"":f,h=n.FlightDepTerminal,m=void 0===h?"":h,v=n.ProviderFlightNoStr,g=void 0===v?"":v;return r?[i?"\u51fa\u53d1\u65e5\u671f\uff1a".concat(i):"",s?"\u51fa\u53d1\u65f6\u95f4\uff1a".concat(s):""]:[].concat(Et(this.processBuTime(u,d)),Et(this.processTerminalAndNoStr(e,{no:p,terminal:m,providerFlightNoStr:g})))},getTitleSuffix:function(e){var t=e.IsGrabOrder,r=void 0!==t&&t,n=e.TitleSuffix,o=void 0===n?"":n;return r&&o?o:""},processBuTime:function(e,t){return ru.processStartAndEndTime({startTime:e,endTime:t,needHourAndMinute:!0})},processTerminalAndNoStr:function(e,t){var r=t.no,n=t.terminal,o=t.providerFlightNoStr,i=n?"".concat(n,"\u51fa\u53d1"):"";return this.isShowTerminal(e)?o?r&&o?["".concat(r," | ").concat(o),i]:["".concat(r).concat(o),i]:[ru.getBuDescOnSameLine([r,i])]:r&&o?["".concat(r," | ").concat(o)]:["".concat(r).concat(o)]},processOrderTag:function(e){var t=e.OrderAirChangedStatusName,r=void 0===t?"":t,n=e.OrderChangeStatusName,o=void 0===n?"":n,i=[];return r&&i.push({text:r}),o&&i.push({text:o}),i},isShowTerminal:function(e){var t=e.HasAirChanged,r=e.HasItemChanged;return!(t||r)},processHotelItem:function(e){var t=this,r=e.HotelOrderItems,n=void 0===r?[]:r;return n.length?n.map((function(e){var r=function(e,t){var r=t.RoomAmount,n=void 0===r?0:r,o=t.NightAmount,i=void 0===o?0:o,a=t.IsMidnightOrder,s=void 0!==a&&a,c=t.MidDayTag,u=void 0===c?"":c,l=t.MidNightTag,d=void 0===l?"":l,f=t.StartTime,p=t.EndTime,h="",m="",v="",g="",y=e.processSingleTimeStr(t,"StartTime",!1),T=e.processSingleTimeStr(t,"EndTime",!1),I=e.isAcrossYear(f.date,p.date);y&&T&&(h="".concat(y).concat(du).concat(T),s&&(u||d)&&(h="".concat(y).concat(d).concat(du).concat(T).concat(u))),be(i)&&i>0&&(m="".concat(i,"\u665a")),be(n)&&n>0&&(v="".concat(n,"\u95f4")),v&&m?g="".concat(m,"/").concat(v):(v||m)&&(g="".concat(m).concat(v));var S=h?"".concat(h," ").concat(g):g;if(I){var O=S.split(du);return["".concat(O[0]).concat(du),O[1]]}return S}(t,e)||"",n=e.ProductName,o=void 0===n?"":n;return o?Ce(r)?{title:o,info:r}:{title:o,info:[r]}:{}})):null},setFlightChannelSuffix:function(e,t){if(!t)return"";var r=e.IsGroup,n=void 0!==r&&r,o=e.IsFlightAndBus,i=void 0!==o&&o,a=[];n&&a.push("\u62fc\u56e2"),i&&a.push("\u7a7a\u5df4");var s=a.length?"\uff08".concat(a.join("\u3001"),"\uff09"):"";return s?"".concat(t).concat(s):t}}),pu=Object.assign({},tu,{processDeleteTip:function(){return $c}}),hu=Object.assign({},qc,{process:function(e){var t=e.ViewInfo,r=void 0===t?{}:t,n=Wt()(e),o=this.processCardTip(r);return n.cardTip=o,n},processCardTip:function(e){var t=e.FlightTip;if(!t)return null;var r=t.splitHighlight;return{text:void 0===r?[]:r}}}),mu=Object.assign({},nu,{processSmallState:function(e){var t=(e.ViewInfo||{}).OrderStatus;return 2===t.length?t.slice(0,1):3===t.length?t.slice(0,2):[]}}),vu=Object.assign({},Xc,{process:function(e){var t=[],r=e||{},n=r.ViewInfo,o=r.OrderID,i=function(e){var t=e.FlightXInfo,r=void 0===t?{}:t,n=r.title,o=void 0===n?"":n,i=r.description;return{title:o,info:[void 0===i?"":i],isXItem:!0}}(n);return i.orderId=o,i&&t.push(i),{xOrderItemList:t}}}),gu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=fu,e.extensionProcessor=hu,e.baseProcessor=mu,e.actionProcessor=pu,e.xOrderProcessor=vu,e}return de(r,[{key:"processOrderBuName",value:function(){return"Flight"}}]),r}(ou),yu=Object.assign({},ru,{process:function(e){return this.processItems(e)},processItems:function(e){var t=this,r=e.ViewInfo,n=void 0===r?{}:r,o=n.Items,i=void 0===o?null:o,a=n.isGrabTicket,s=n.isInGrabbingTicket,c=[];if(!i)return c;this.getItems(n).forEach((function(e){var r=t.getTitle(e),o=r.departure,i=r.arrival,u=t.getDesc(e,a,s),l=t.getIsGrab(n),d=l?"".concat(i).concat(l):i;o&&d&&c.push({departure:o,arrival:d,info:u})}));var u=Rn(e);if(this.getIsTrainHotel(n)&&!(u&&u.length>0)){var l=this.processTrainHotel(n);c.push(l)}return c},getItems:function(e){var t=[];if(e&&e.Items){var r=e.Items;Object.keys(e.Items).forEach((function(e){var n=r[e];Object.keys(n).forEach((function(e){n[e]&&n[e].length&&(t=t.concat(n[e]))}))}))}if(0===t.length)throw new Error("\u706b\u8f66\u7968\u6ca1\u6709\u6570\u636e");return t},getTitle:function(e){var t=e.DepartureStation,r=e.ArrivalStation;if(!r||!t)throw new Error("the order of train without DepartureStation or ArrivalStation.");return{departure:t,arrival:r}},getDesc:function(e){var t="",r="";return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&arguments.length>2&&void 0!==arguments[2]&&arguments[2]?(t=this.getGrabTimeDesc(e||{}),r=this.getGrabTrainNumber(e||{}),[ru.getBuDescOnSameLine([t,r])]):Et(this.processBuTimeAndDesc(e))},processBuTime:function(e,t){return ru.processStartAndEndTime({startTime:e,endTime:t,needHourAndMinute:!0})},processBuTimeAndDesc:function(e){var t=e||{},r=t.DepTime,n=t.ArrTime,o=this.processCarriageSeatNo(e),i=ru.processTimeStr({startTime:r,endTime:n,needHourAndMinute:!0}),a=i.start,s=i.end,c=i.needNewLine;return void 0!==c&&c&&a&&s?["".concat(a," \u81f3"),ru.getBuDescOnSameLine([s,o])]:a&&s?[ru.getBuDescOnSameLine(["".concat(a," \u81f3 ").concat(s),o])]:[ru.getBuDescOnSameLine(["".concat(a).concat(s),o])]},getIsGrab:function(e){var t=e.isGrabTicket,r=void 0!==t&&t,n=e.AlternateMark;return r?void 0===n?"\uff08\u5019\u8865\uff09":n:""},getGrabTimeDesc:function(e){var t=e.AcceptDepartDatesArr,r=void 0===t?[]:t,n=e.AcceptTimeRangesArr,o=void 0===n?[]:n,i="",a="",s=zt(r,1)[0],c=void 0===s?"":s,u=zt(o,1)[0],l=void 0===u?"":u;return r.length&&c&&(i=r.length>1?"".concat(c," \u7b49"):c),o.length&&l&&(a=o.length>1?"".concat(l," \u7b49"):l),i?"".concat(i," ").concat(a):a},getGrabTrainNumber:function(e){var t=e.AccpetTrainNumberArr,r=void 0===t?[]:t,n="",o=zt(r,1)[0],i=void 0===o?"":o;return r.length&&i&&(n=r.length>1?"".concat(i," \u7b49"):i),n},processCarriageSeatNo:function(e){var t=e.CarriageNo,r=void 0===t?"":t,n=e.SeatNo,o=void 0===n?"":n,i=e.TrainNumber,a=void 0===i?"":i;if(!r||!o)return a;var s=r.split(","),c=o.split(","),u=zt(s,1)[0],l=void 0===u?"":u,d=zt(c,1)[0],f=void 0===d?"":d,p=s.length,h=c.length;return"undefined"===l||"undefined"===f?a:p&&h&&p===h&&l&&f?p>1?"".concat(a," ").concat(l,"\u8f66").concat(f,"\u7b49"):"".concat(a," ").concat(l,"\u8f66").concat(f):a},getIsTrainHotel:function(e){var t=e.IsTrainHotel;return void 0!==t&&t},processTrainHotel:function(e){var t=e.HotelInfo,r=void 0===t?{}:t,n=r.CheckInDateTime,o=void 0===n?null:n,i=r.LeaveDateTime,a=void 0===i?null:i,s=r.HotelName,c=void 0===s?"":s,u=r.HotelStatus,l=void 0===u?"":u,d=r.NumberOfUnits,f=void 0===d?0:d,p=r.CheckInNights,h=void 0===p?0:p,m="",v="";return o&&a&&(m=zt(ru.processStartAndEndTime({startTime:o,endTime:a}),1)[0]),f&&h&&(v="".concat(h,"\u665a").concat(f,"\u95f4")),{title:c,info:[l,m&&v?"".concat(m," ").concat(v):m]}}}),Tu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=yu,e}return de(r)}(ou),Iu=Object.assign({},ru,{updateOpt:function(e){iu=e},process:function(e){var t=ru.process(e),r=ru.processContent(e),n=this.processTimeInfoStr(t),o=t||{},i=o.ProductName,a=void 0===i?"":i,s=o.Address,c=void 0===s?"":s,u=e||{},l=u.isXOrder,d=void 0!==l&&l,f=u.BizType,p=((iu||{}).configData||{}).X_ORDER_NAME_MAP,h=(void 0===p?{}:p)[f]||"",m=h?"(".concat(h,")"):"";return d&&(r=a?"".concat(a).concat(m):""),r?[{title:r,isItemCancel:this.processIsItemCancel(t,e),orderStatusName:[this.processItemOrderStatusName(t)],info:[c,n[0],n[1],this.processHotelMasterInfo(t)]}]:[]},processItemOrderStatusName:function(e){var t=(e||{}).OrderStatusName;return void 0===t?"":t},processIsItemCancel:function(e,t){var r=((iu||{}).configData||{}).ORDER_STATUS_NAME,n=void 0===r?{}:r,o=(e||{}).OrderStatusName,i=void 0===o?"":o,a=(t||{}).isXOrder,s=void 0!==a&&a;return i===n.CANCEL&&!s},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n;return ru.processTimeStr({startTime:r,endTime:o,needHourAndMinute:this.getIsNeedHAndM(e),keepEndTime:this.getIsMidNightOrder(e)})},processNightAndMount:function(e){var t=e.NightAmount,r=e.RoomAmount,n=!this.getIsHourRoom(e)&&t?"".concat(t,"\u665a"):"",o=r?"".concat(r,"\u95f4"):"";return"".concat(n).concat(o)},processTimeInfoStr:function(e){var t=this.processBuTime(e),r=this.processNightAndMount(e),n=this.processHotelActualRoomType(e),o=this.processMidNightOrderTag(e),i=o.midNightTag,a=void 0===i?"":i,s=o.midDayTag,c=void 0===s?"":s,u=t.start,l=t.end;return t.needNewLine?["".concat(u).concat(a," \u81f3"),ru.getBuDescOnSameLine(["".concat(l).concat(c),r,n])]:l?[ru.getBuDescOnSameLine(["".concat(u).concat(a," \u81f3 ").concat(l).concat(c),r,n])]:[ru.getBuDescOnSameLine([u,r,n])]},processHotelActualRoomType:function(e){var t=e.ActualRoomType;return void 0===t?"":t},processHotelMasterInfo:function(e){var t=e.MasterOrderId,r=void 0===t?"":t;return r&&"0"!==r?{text:"\u6b64\u5355\u4e3a\u9152\u5e97\u7ec4\u5408\u9884\u8ba2",icon:"\udb81\udc3f"}:""},getHotelFlag:function(e){var t=e.Flag;return be(t)&&t},getIsHourRoom:function(e){return 1==(1&this.getHotelFlag(e))},getIsMidNightOrder:function(e){var t=e.IsMidnightOrder;return void 0!==t&&t},processMidNightOrderTag:function(e){var t=e||{},r=t.MidNightTag,n=void 0===r?"":r,o=t.MidDayTag,i=void 0===o?"":o;return this.getIsMidNightOrder(e)?{midNightTag:n,midDayTag:i}:{}},getIsNeedHAndM:function(e){return this.getIsHourRoom(e)}}),Su=Object.assign({},nu,{process:function(e){var t=e.ViewInfo,r=void 0===t?{}:t,n=this.decodeCurrency(r.Currency),o=nu.process(e),i=this.processDepositAmount(r,n),a=this.processOtherAmount(r,n),s=nu.processLeftPriceStr([i,a],"\u542b","\u603b\u8ba1");return o.priceDetailLeftDescription=[s],o},processDepositAmount:function(e,t){var r=e.DepositAmount,n=void 0===r?0:r;return n?"\u62bc\u91d1".concat(t).concat(n):""},processOtherAmount:function(e,t){var r=e.OtherAmount,n=void 0===r?0:r;return n?"\u6742\u8d39".concat(t).concat(n):""},decodeCurrency:function(e){return fi(e)}}),Ou=Object.assign({},tu,{processDeleteTip:function(){return eu}}),Cu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).actionProcessor=Ou,e.baseProcessor=Su,e.itemProcessor=Iu,e}return de(r,[{key:"processOrderBuName",value:function(){return"Hotel"}}]),r}(ou),bu=Object.assign({},ru,{process:function(e){var t=this,r=ru.process(e),n=r.Items,o=this.getIsMultiResource(e);if(!o)return this.processSingleTitle(e)?[{title:this.processSingleTitle(e),info:this.processSubDesc(r,o)}]:[];var i=[];return n.forEach((function(e){var r=t.processMultiTitle(e);r&&i.push({title:r,info:t.processSubDesc(e,o)})})),i},processSingleTitle:function(e){return ru.processContent(e)},processMultiTitle:function(e){var t=e.ProductName;return void 0===t?"":t},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t;return ru.processTimeStr({startTime:r}).start},processValidity:function(e){var t=e.UseValidity;return void 0===t?"":t},processTimeDesc:function(e){return e?"".concat(e," \u6709\u6548"):""},processUsageInstructions:function(e){var t=e.UsageInstructions;return void 0===t?"":t},processQuantity:function(e,t){var r=e.Quantity,n=void 0===r?0:r,o=e.ChargeUnit,i=void 0===o?"":o,a=i&&t?i:"\u5f20";return n?"".concat(n).concat(a):""},processSubDesc:function(e,t){var r=this.processBuTime(e),n=this.processValidity(e),o=this.processQuantity(e,t),i=this.processUsageInstructions(e),a="";return n?a=this.processTimeDesc(n):r&&(a=this.processTimeDesc(r)),a?[ru.getBuDescOnSameLine([a,o]),i]:[]},getIsMultiResource:function(e){var t=e.IsMultiResource;return void 0!==t&&t}}),Du=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=bu,e}return de(r)}(ou),Au=Object.assign({},ru,{processInfoStr:function(e){var t=this.processBuTime(e).start,r=this.processValidity(e);return r?[r]:[t]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t;return ru.processTimeStr({startTime:r})},processValidity:function(e){var t=e.UseValidity,r=void 0===t?"":t;return r?"".concat(r," \u6709\u6548"):""},process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:this.processInfoStr(t)}]:[]}}),wu=Object.assign({},nu,{process:function(e){var t=e.ViewInfo,r=void 0===t?{}:t,n=nu.process(e),o=this.processPrepayment(r);return n.priceDetailLeftDescription=[o],n},processPrepayment:function(e){var t=e.Prepayment,r=void 0===t?"":t,n=e.OrderTotalPrice,o=void 0===n?"":n;if(!r||!o)return"";var i=parseInt(r,10),a=parseInt(o,10),s=i&&a?"\u62bc\u91d1\xa5".concat(i):"";return nu.processLeftPriceStr(s,"\u542b","\u603b\u8ba1")}}),ku=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Au,e.baseProcessor=wu,e}return de(r)}(ou),Pu=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processBuTime(t),this.processAddress(t)]}]:[]},processBuTime:function(e){var t=e.EndTime,r=void 0===t?null:t,n=ru.processTimeStr({startTime:r}).start;return n?"".concat(n," \u53d6\u4ef6"):""},processAddress:function(e){var t=e.ToAddressInfo;return void 0===t?"":t}}),Eu=Object.assign({},tu,{processOrderActionLinkTitle:function(e){var t=e.StandardCode;return"Consult"===(void 0===t?"":t)?"\u8ba2\u5355\u54a8\u8be2":""}}),Nu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Pu,e.actionProcessor=Eu,e}return de(r)}(ou),_u=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:this.processInfoStr(t)}]:[]},processInfoStr:function(e){return this.processBuTime(e)},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n;return ru.processStartAndEndTime({startTime:r,endTime:o})}}),xu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=_u,e}return de(r)}(ou),Fu=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=t.Remark,n=void 0===r?{}:r,o=t.TicketStatusesDesc,i=void 0===o?"":o,a=this.processTuanTime(t),s=this.processQuantity(t),c=this.processTicketStatusDesc(i),u=this.processAppointment(n),l=ru.processContent(e);return l?[{title:l,info:[ru.getBuDescOnSameLine([a,s]),c].concat(Et(u))}]:[]},processTuanTime:function(e){var t=this.processTakeEffect(e),r=this.processExpireDate(e);return t||r||""},processQuantity:function(e){var t=e.Quantity,r=void 0===t?0:t;return r?"".concat(r,"\u5f20"):""},processTakeEffect:function(e){var t=e.RobType,r=void 0===t?"":t;if(r&&"Y"===r){var n=ru.processSingleTimeStr(e,"TakeEffectDate");return ru.processTimeDecoration(n,"\u4f7f\u7528")}return""},processExpireDate:function(e){var t=ru.processSingleTimeStr(e,"ExpireDate");return ru.processTimeDecoration(t,"\u6709\u6548\u671f\u81f3",!0)},processTicketStatusDesc:function(e){return e||""},processAppointment:function(e){try{var t=e;return De(e)&&(t=JSON.parse(t)),t.map((function(e){var t,r=e.appointStatusName,n=void 0===r?"":r,o=e.appointStatus,i=void 0===o?"":o,a=e.count,s=e.fromTime,c=e.toTime,u=!i||"2"!==i&&"5"!==i?"":"#009767",l=ru.processTimeStr({startTime:s,endTime:c}),d=l.start,f=l.end;switch(i){case"1":case"2":case"5":var p=d&&f?" ".concat(d," \u81f3 ").concat(f):"",h=a?" \xb7 ".concat(a,"\u5f20"):"";t={text:"".concat(n).concat(p).concat(h),textColor:u};break;case"3":t={text:n,textColor:u}}return t}))}catch(e){return[]}}}),Ru=Object.assign({},tu,{processShareAction:function(e,t){var r=tu.processShareAction(e,t),n=e.actionData,o=t.ViewInfo.OrderTotalPrice,i=t.OrderName;n.forEach((function(e){if(e.standardCode===Bc.SHARE){var t=e.actionBase,n=e.actionUrl,a=r({price:o,orderName:i,shareUrl:n});e.actionBase=h(h({},t),{},{shareOpt:a})}}))}}),Mu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Fu,e.actionProcessor=Ru,e}return de(r)}(ou),Bu=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e),n=t.DepartureCityName,o=void 0===n?"":n,i=t.ArrivalCityName,a=void 0===i?"":i,s=this.processSingleName(o),c=this.processSingleName(a),u=this.processInfo(t);return s&&c?[{departure:s,arrival:c,info:u}]:s&&c||!r?[]:[{title:r,info:u}]},processInfo:function(e){var t=this.processBuTime(e),r=this.processOtherInfo(e);return[t].concat(Et(r))},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t;return ru.processTimeStr({startTime:r,needHourAndMinute:!0}).start},processOtherInfo:function(e){var t=e.DepartureStationName,r=void 0===t?"":t,n=e.ArrivalStationName,o=void 0===n?"":n;return[ru.processDisplayText(r,"\u51fa\u53d1: ",!1),ru.processDisplayText(o,"\u5230\u8fbe: ",!1)]},processSingleName:function(e){return e||""}}),ju=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Bu,e}return de(r)}(ou),Lu=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:this.processCarInfoDisplay(t)}]:[]},processCarInfoDisplay:function(e){var t=e.ChannelID,r=void 0===t?"":t,n=e.SubChannelID,o=void 0===n?"":n,i=[];switch(r=ru.changeStrToNum(r),o=ru.changeStrToNum(o),r){case 32:switch(o){case 28:case 29:i=this.sortCarAsOnCall(e);break;case 23:case 66:i=this.CharteredRentCar(e);break;case 17:case 18:i=this.sortPickUpCar(e)}break;case 33:switch(o){case 23:case 88:case 66:case 49:i=this.CharteredRentCar(e);break;case 17:case 18:case 55:i=this.sortPickUpCar(e);break;case 28:case 29:i=this.sortCarAsOnCall(e)}break;case 34:case 35:i=this.sortSelfDriving(e);break;default:i=this.sortOldCarCard(e)}return i},processBuTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ru.processTimeStr({startTime:e,endTime:t,needHourAndMinute:r,keepEndTime:n})},processDisplayText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"".concat(e).concat(t):"".concat(t).concat(e):""},sortCarAsOnCall:function(e){var t=e.FromAddress,r=void 0===t?"":t,n=e.ToAddress,o=void 0===n?"":n,i=e.CarType,a=void 0===i?"":i,s=e.StartTime,c=void 0===s?null:s,u=this.processBuTime(c,null,!0).start,l=this.processDisplayText(r,"\u4e0a\u8f66: ",!1),d=this.processDisplayText(o,"\u4e0b\u8f66: ",!1),f=this.processDisplayText(a);return[l,d,"".concat(u," ").concat(f)]},sortDailyRentCar:function(e){var t=e.FromAddress,r=void 0===t?"":t,n=e.CarType,o=void 0===n?"":n,i=e.StartTime,a=void 0===i?null:i,s=e.EndTime,c=void 0===s?null:s,u=e.DayCount,l=void 0===u?0:u;if(!a||!c)return[];var d=this.processBuTime(a,c),f=d.start,p=d.end,h=f&&p?"".concat(f," \u81f3 ").concat(p):"".concat(f).concat(p),m=this.processDisplayText(r," \u4e0a\u8f66",!0),v=this.processDisplayText(o,"",!0),g=(l=ru.changeStrToNum(l))?this.processDisplayText(l,"\u5929",!0):"";return[m,"".concat(h," ").concat(g," ").concat(v)]},sortPickUpCar:function(e){var t=e.FromAddress,r=void 0===t?"":t,n=e.ToAddress,o=void 0===n?"":n,i=e.CarType,a=void 0===i?"":i,s=e.StartTime,c=void 0===s?null:s,u=e.SeatCount,l=void 0===u?0:u,d=this.processBuTime(c,null,!0).start;d=ru.processTimeHHAndMM(d);var f=this.processDisplayText(r,"\u4e0a\u8f66: ",!1),p=this.processDisplayText(o,"\u4e0b\u8f66: ",!1),h=this.processDisplayText(a),m=(l=ru.changeStrToNum(l))?this.processDisplayText(l,"\u53ef\u4e58\u5750",!1):0,v=ru.getBuDescOnSameLine([d,h]);return m&&(v=ru.getBuDescOnSameLine([v,"".concat(m,"\u4eba")])),[v,f,p]},sortSelfDriving:function(e){var t=e.FromAddress,r=void 0===t?"":t,n=e.ToAddress,o=void 0===n?"":n,i=e.CarType,a=void 0===i?"":i,s=e.ProviderName,c=void 0===s?"":s,u=e.StartTime,l=void 0===u?null:u,d=e.EndTime,f=void 0===d?null:d,p=null,h=this.processBuTime(l,f,!1,!0),m=h.start,v=h.end;if(m&&v){var g=r?"".concat(m," ").concat(r):"".concat(m),y=o?"".concat(v," ").concat(o):"".concat(v);p=[this.processDisplayText(g,"\u53d6\u8f66: ",!1),this.processDisplayText(y,"\u8fd8\u8f66: ",!1)]}var T=a&&c?"".concat(a," ").concat(c):"".concat(a).concat(c);return T&&p?p.push(T):p=[T],p},sortOldCarCard:function(e){var t=e.StartTime,r=void 0===t?null:t,n=this.processBuTime(r).start;return[this.processDisplayText(n," \u4f7f\u7528",!0)]},sortRouteRentCar:function(e){var t=e.FromAddress,r=void 0===t?"":t,n=e.CarType,o=void 0===n?"":n,i=e.StartTime,a=void 0===i?null:i,s=this.processBuTime(a).start,c=s?"".concat(s," "):"",u=this.processDisplayText(r,"\u4e0a\u8f66: ",!1),l=this.processDisplayText(o),d=l?"".concat(l," "):"";return[u,"".concat(c).concat(d)]},sortTeamTourRentCar:function(e){var t=e.DayCount,r=void 0===t?0:t,n=e.NightCount,o=void 0===n?0:n,i=e.StartTime,a=void 0===i?null:i,s=this.processBuTime(a).start;if(!s)return[];var c=this.processDisplayText(s,"\u51fa\u53d1",!0),u=(r=ru.changeStrToNum(r))?this.processDisplayText(r,"\u5929",!0):"",l=(o=ru.changeStrToNum(o))?this.processDisplayText(o,"\u665a",!0):"",d="".concat(u).concat(l);return["".concat(c," ").concat(d)]},CharteredRentCar:function(e){var t=e||{},r=t.FromAddress,n=void 0===r?"":r,o=t.ToAddress,i=void 0===o?"":o,a=t.StartTime,s=void 0===a?null:a,c=t.EndTime;if(!s||void 0===c||!c)return[];var u=ru.processSingleTimeStr(e,"StartTime",!0),l=ru.processSingleTimeStr(e,"EndTime",!0);u=ru.processTimeHHAndMM(u),l=ru.processTimeHHAndMM(l);var d=ru.getBuDescOnSameLine([u,n]),f=ru.getBuDescOnSameLine([l,i]),p=this.processDisplayText(d,"\u4e0a\u8f66",!0);return f?[p,this.processDisplayText(f,"\u4e0b\u8f66",!0)]:[p]}}),Vu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Lu,e}return de(r)}(ou),Uu=Object.assign({},ru,{process:function(e){var t=ru.processContent(e);return t?[{title:t}]:[]}}),Hu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Uu,e}return de(r)}(ou),Zu=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processDisplay(t)]}]:[]},processDisplay:function(e){var t=e.DisplayContent1;return void 0===t?"":t}}),qu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Zu,e}return de(r)}(ou),zu=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=Rn(e);if(r&&r.length>0)return fu.process(e);var n=ru.processContent(e);return n?[{title:n,info:[this.processBuTimeStr(t)]}]:[]},processBuTimeStr:function(e){var t=e.Segments,r=void 0===t?[]:t;if(!r.length)return"";var n=ru.processSingleTimeStr(r[0],"DepTime");return n?"".concat(n," \u51fa\u53d1"):""}}),Xu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=zu,e.extensionProcessor=hu,e.xOrderProcessor=vu,e}return de(r)}(ou),Gu=Object.assign({},ru,{process:function(e){var t=ru.processContent(e);return t?[{title:t}]:[]}}),Wu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Gu,e}return de(r)}(ou),Qu=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:this.processInfo(t,e)}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n;return ru.processTimeStr({startTime:r,endTime:o})},processInfo:function(e,t){var r,n=t.OrderType,o=void 0===n?"":n;switch(o=ru.changeStrToNum(o)){case 26:r=this.processCommonDisplay(e,"\u4ef6");break;case 23:r=this.sortInterest(e);break;case 19:case 5:case 1040:r=this.sortLoungeAndSecurity(e,t);break;case 6:r=this.processCommonDisplay(e,"\u5f20");break;case 1004:r=this.processUsedTime(e);break;default:r=[]}return r},processCommonDisplay:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return[];var r=e.Quantity,n=void 0===r?0:r;return n?["\u5171".concat(n).concat(t)]:[]},sortInterest:function(e){var t=this.processBuTime(e),r=t.start,n=t.end;return["".concat(r," \u81f3 ").concat(n)]},sortLoungeAndSecurity:function(e,t){var r=this.processSortSecurityDisplay(e,t).timeAndQuantity;return r?[r]:[]},processUsedTime:function(e){var t=ru.processSingleTimeStr(e,"UsedTime",!1);return t?[ru.processTimeDecoration(t,"\u4f7f\u7528")]:[]},processSortSecurityDisplay:function(e,t){var r,n=t.Items,o=void 0===n?[]:n,i=e.Quantity,a=void 0===i?0:i,s=a?"".concat(a,"\u4f4d"):"",c=o.length>1,u=this.processBuTime(e).start;return r=u?"".concat(u,c?" \u7b49\u4f7f\u7528":"\u4f7f\u7528"):"",{timeAndQuantity:ru.getBuDescOnSameLine([r,s])}}}),Yu=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Qu,e}return de(r)}(ou),Ku=Object.assign({},ru,{process:function(e){var t=this,r=ru.process(e).Items,n=[];return(void 0===r?[]:r).forEach((function(e){var r=t.processContent(e);r&&n.push(h(h({},r),{},{info:Et(t.processBuTime(e))}))})),n},processContent:function(e){var t=e.DepartureCity,r=e.ArrivalCity;return t&&r?{departure:t,arrival:r}:null},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n,i=this.processPasNum(e),a=ru.processTimeStr({startTime:r,endTime:o,needHourAndMinute:!0}),s=a.start,c=a.end,u=a.needNewLine,l=[];return s=this.processTimeHHAndMM(s),c=this.processTimeHHAndMM(c),s||c?s&&!c?[ru.getBuDescOnSameLine(["".concat(s,"\u51fa\u53d1"),i])]:u&&s&&c?["".concat(s," \u81f3"),ru.getBuDescOnSameLine([c,i])]:s&&c?[ru.getBuDescOnSameLine(["".concat(s," \u81f3 ").concat(c),i])]:l:(l.push(i),l)},processPasNum:function(e){var t=e.PasNum,r=void 0===t?0:t;return r?"\u5171".concat(r,"\u4eba"):""},processTimeHHAndMM:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return"";var t=e.split(" ");return t&&2===t.length&&"00:00"===t[1]?t[0]:e}}),Ju=Object.assign({},nu,{processOrderCurrency:function(e){var t=e.Currency;return fi(void 0===t?"":t)}}),$u=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Ku,e.baseProcessor=Ju,e}return de(r)}(ou),el=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:this.processInfo(t)}]:[]},processInfo:function(e){return[this.processBuTimeStr(e),this.processQuantity(e)]},processBuTimeStr:function(e){var t=e.StartTime,r=e.EndTime,n=e.ItemExtInfo,o=ru.processTimeStr({startTime:t,endTime:r}),i=o.start,a=o.end,s=(n||{}).effectiveDaysText;return i&&a?"".concat(i,"\u81f3").concat(a,"\u6709\u6548"):!i&&a?"\u81f3".concat(a,"\u6709\u6548"):i&&!a?"".concat(i,"\u8d77\u6709\u6548"):s||""},processQuantity:function(e){var t=(e.ItemExtInfo||{}).productCount,r=void 0===t?0:t;return r&&be(r)&&!Number.isNaN(r)?"\u5171".concat(r,"\u4ef6"):""}}),tl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=el,e}return de(r)}(ou),rl=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n,i=ru.processTimeStr({startTime:r,endTime:o}),a=i.start,s=i.end;return a&&s?"".concat(a," \u81f3 ").concat(s):a}}),nl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=rl,e}return de(r)}(ou),ol=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=ru.processTimeStr({startTime:r}).start;return n?"".concat(n," \u51fa\u53d1"):""}}),il=Object.assign({},nu,{processOrderTotalPrice:function(){return 0}}),al=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=ol,e.baseProcessor=il,e}return de(r)}(ou),sl=Object.assign({},ru,{process:function(e){var t=this,r=ru.process(e).Items,n=void 0===r?[]:r,o=[];return n.length?(n.forEach((function(r){var n=t.getOrderItemTitle(r,e);if(n){var i=t.getOrderItemTimeInfo(r),a=t.getOrderItemOtherInfo(r);o.push({title:n,info:["".concat(i," ").concat(a)]})}})),o):[]},getOrderItemTitle:function(e,t){var r=e.ProductName;return void 0===r?"":r},getOrderItemTimeInfo:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n,i=ru.processTimeStr({startTime:r,endTime:o}),a=i.start,s=i.end;return a&&s?"".concat(a," \u81f3 ").concat(s):a},getOrderItemOtherInfo:function(e){var t=e.ItemExtInfo,r=(void 0===t?{}:t).Quantity,n=void 0===r?0:r;return n?"".concat(n,"\u4efd"):""}}),cl=Object.assign({},sl,{getOrderItemOtherInfo:function(e){var t=e.InsuredDays,r=void 0===t?0:t;return r?"".concat(r,"\u5929"):""}}),ul=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=cl,e}return de(r)}(ou),ll=Object.assign({},sl,{getOrderItemOtherInfo:function(e){var t=e.Quantity,r=void 0===t?0:t;return r?"".concat(r,"\u4efd"):""}}),dl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=ll,e}return de(r)}(ou),fl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=sl,e}return de(r)}(ou),pl=Object.assign({},sl,{getOrderItemTitle:function(e,t){var r=t.OrderName;return void 0===r?"":r},getOrderItemTimeInfo:function(e){var t=sl.processSingleTimeStr(e,"EndTime");return t?"\u6709\u6548\u671f ".concat(t):""},getOrderItemOtherInfo:function(e){var t=e.ItemExtInfo,r=(void 0===t?{}:t).Quantity,n=void 0===r?0:r;return n?"".concat(n,"\u4efd"):""}}),hl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=pl,e}return de(r)}(ou),ml=Object.assign({},ru,{process:function(e){var t=ru.processContent(e),r=ru.process(e);return t?[{title:t,info:[this.processQuantity(r)]}]:[]},processQuantity:function(e){var t=(e||{}).TotalQuantity,r=void 0===t?0:t;return r&&be(r)&&!Number.isNaN(r)?"\u5171".concat(r,"\u4ef6"):""}}),vl=Object.assign({},nu,{processIntegral:function(e){var t=(e||{}).TotalIntegral,r=void 0===t?0:t;return nu.getIntegralStr(r)}}),gl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=ml,e.baseProcessor=vl,e}return de(r)}(ou),yl={getIsMultiple:function(e){var t=e.Items;return(void 0===t?[]:t).length>1},processQuantity:function(e){var t=e.Quantity,r=void 0===t?0:t,n=yl.getIsMultiple(e),o=yl.getDesc(e);return r?n?"\u5171".concat(r,"\u4ef6"):"".concat(o," \u6570\u91cf: ").concat(r):""},getDesc:function(e){var t=e.Items,r=zt(void 0===t?[]:t,1)[0],n=(void 0===r?{}:r).ProductDesc;return void 0===n?"":n}},Tl=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processQuantity(t)]}]:[]},processQuantity:function(e){return yl.processQuantity(e)}}),Il=Object.assign({},nu,{processIntegral:function(e){var t=(e||{}).OrderTotalPoints,r=void 0===t?0:t;return nu.getIntegralStr(r)}}),Sl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Tl,e.baseProcessor=Il,e}return de(r)}(ou),Ol=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processInfo(t)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n,i=ru.processTimeStr({startTime:r,endTime:o}),a=i.start,s=i.end,c="";return!a&&s?c="\u6709\u6548\u671f\u81f3 ".concat(s):a&&s&&(c="\u6709\u6548\u671f ".concat(a," \u81f3 ").concat(s)),c},processCount:function(e){var t=e.Quantity,r=void 0===t?0:t;return r?"".concat(r,"\u5f20"):""},processInfo:function(e){var t=this.processBuTime(e),r=this.processCount(e);return t&&r?"".concat(t," ").concat(r):"".concat(t).concat(r)}}),Cl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Ol,e}return de(r)}(ou),bl=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:this.processSubContents(t,e)}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n;return ru.processTimeStr({startTime:r,endTime:o})},processSubContents:function(e,t){var r,n=t.ViewType;switch(void 0===n?"":n){case"Mice#1":r=this.processActivityInfo(e);break;case"Mice#2":case"Mice#4":r=this.processHotelInfo(e);break;case"Mice#5":r=this.processCustomizeInfo(e);break;case"Mice#6":r=this.processSignInfo(e);break;default:r=[]}return r},processActivityInfo:function(e){var t=e.Address,r=void 0===t?"":t,n=this.processBuTime(e).start;return[n?"".concat(n," \u4f7f\u7528"):"",r]},processHotelInfo:function(e){var t=e.Address,r=void 0===t?"":t,n=this.processHotelTimeInfo(e,{needDesc:!0});return[].concat(Et(n),[r])},processHotelTimeInfo:function(e,t){var r=t.needDesc,n=void 0!==r&&r,o=(t.suffixWord,e.Description),i=void 0===o?"":o,a=this.processBuTime(e),s=a.start,c=a.end,u=a.needNewLine;return void 0!==u&&u?n?["".concat(s," \u81f3"),"".concat(c," ").concat(i)]:["".concat(s," \u81f3"),"".concat(c)]:n?["".concat(s," \u81f3 ").concat(c," ").concat(i)]:["".concat(s," \u81f3 ").concat(c)]},processCustomizeInfo:function(e){return this.processHotelTimeInfo(e,{needDesc:!1,suffixWord:" \u51fa\u53d1"})},processSignInfo:function(e){var t=this.processBuTime(e).start;return[t?"".concat(t," \u63d0\u4ea4"):""]}}),Dl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=bl,e}return de(r)}(ou),Al=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e),n=[this.processTimeInfo(t),this.processShipName(t)],o=(e||{}).isXOrder,i=void 0!==o&&o,a=t.ArrivalCity,s=t.DepartureCity;return i&&a&&s?[{departure:s,arrival:a,info:n}]:r?[{title:r,info:n}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t;return ru.processTimeStr({startTime:r,needHourAndMinute:!0}).start},processDeparturePort:function(e){var t=e.DeparturePort;return void 0===t?"":t},processShipName:function(e){var t=e.ShipName;return void 0===t?"":t},processTimeInfo:function(e){var t=this.processBuTime(e),r=this.processDeparturePort(e);if(!t&&!r)return"";var n=t.split(" ");return 2===n.length&&"00:00"===n[1]&&(t=zt(n,1)[0]),ru.getBuDescOnSameLine([t,r])}}),wl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Al,e}return de(r)}(ou),kl=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.displayDate,r=void 0===t?"":t,n=e.displayTimeRange,o=void 0===n?"":n;return r||o?r&&o?"".concat(r," ").concat(o):"".concat(r).concat(o):""}}),Pl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=kl,e}return de(r)}(ou),El=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:Et(this.processDisplayInfo(t))}]:[]},processBuTime:function(e){var t=e.startTime,r=e.endTime;return ru.processStartAndEndTime({startTime:t,endTime:r,needHourAndMinute:!0})},processDisplayInfo:function(e){var t=e.IsValidity;return void 0!==t&&t?this.processRailPassInfo(e):this.processTrainInternationalInfo(e)},processRailPassInfo:function(e){var t=e.ProductName;return[void 0===t?"":t]},processTrainInternationalInfo:function(e){var t=e.Items,r=[],n=[],o=[],i=[];(void 0===t?[]:t).forEach((function(e){var t=e.WayType,a=void 0===t?"":t,s=e.TrainNumber,c=void 0===s?"":s;a&&"\u53bb\u7a0b"===a?(r.push(e),n.push(c)):a&&"\u8fd4\u7a0b"===a&&(o.push(e),i.push(c))}));var a=this.processItemsDisplayInfo(r,n),s=this.processItemsDisplayInfo(o,i);return[].concat(Et(a),Et(s))},processItemsDisplayInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=e.length;if(!r)return[];var n=e[0].StartTime||null,o=e[r-1].EndTime||null,i=this.processBuTime({startTime:n,endTime:o}),a=this.processTrainNumber(t);return[].concat(Et(i),[a])},processTrainNumber:function(e){var t;if(e.length>2){var r=zt(e,2),n=r[0],o=void 0===n?"":n,i=r[1],a=void 0===i?"":i;t="".concat(o).concat(", ").concat(a,"\u7b49")}else t=e.join(", ");return t}}),Nl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=El,e}return de(r)}(ou),_l=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processSubContent(t)]}]:[]},processSubContent:function(e){var t=this.processCardDesc(e),r=this.processQuantity(e);return"".concat(t).concat(r)},processCardDesc:function(e){var t=e.ProductTypeName,r=void 0===t?"":t,n=e.DeliverTypeName,o=void 0===n?"":n;return r&&o?"".concat(r," - ").concat(o):""},processQuantity:function(e){var t=e.Quantity,r=void 0===t?0:t;return r?" ".concat(r,"\u5f20"):""}}),xl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=_l,e}return de(r)}(ou),Fl=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:"\u9001\u5fc3\u610f(".concat(r,")"),info:[this.processQuantity(t)]}]:[]},processQuantity:function(e){var t=e.Quantity,r=void 0===t?0:t;return ru.processDisplayText(r,"\u4efd",!0)}}),Rl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Fl,e}return de(r)}(ou),Ml=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=ru.processTimeStr({startTime:r}).start;return n?"".concat(n," \u4f7f\u7528"):""}}),Bl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Ml,e}return de(r)}(ou),jl=Object.assign({},nu,{processOrderCurrency:function(e){var t=e.Currency;return fi(void 0===t?"":t)}}),Ll=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=rl,e.baseProcessor=jl,e}return de(r)}(ou),Vl=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n,i=ru.processTimeStr({startTime:r,endTime:o}),a=i.start,s=i.end,c=s?"\u81f3":"\u51fa\u53d1";return a&&s?"".concat(a," ").concat(c," ").concat(s):a&&!s?"".concat(a," ").concat(c):""}}),Ul=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Vl,e}return de(r,[{key:"processOrderBuName",value:function(){return"Cruise"}}]),r}(ou),Hl=Object.assign({},tu,{processActionTag:function(e,t){var r=e.StandardCode,n=void 0===r?"":r;return n&&"Comment"===n&&t&&("10000"===t||"10011"===t)?"tag-award":""}}),Zl=Object.assign({},nu,{processOrderCurrency:function(e){var t=e.Currency;return fi(void 0===t?"":t)}}),ql=Object.assign({},rl,{processPreSaleTime:function(e){var t=e.PreSaleTimeStr,r=e.PreSaleAppointmentRangeStr;return rl.getBuDescOnSameLine([r,t])},processBuTime:function(e){return e.IsPreSaleOrder?this.processPreSaleTime(e):rl.processBuTime(e)}}),zl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=ql,e.actionProcessor=Hl,e.baseProcessor=Zl,e}return de(r)}(ou),Xl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=rl,e}return de(r)}(zl),Gl=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=ru.processTimeStr({startTime:r}).start;return n?"".concat(n," \u51fa\u53d1"):""}}),Wl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Gl,e}return de(r)}(ou),Ql=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=ru.processTimeStr({startTime:r}).start;return n?"".concat(n," \u7533\u8bf7"):""}}),Yl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Ql,e}return de(r)}(ou),Kl=Object.assign({},ru,{process:function(e){var t=e.OrderStatusCode,r=void 0===t?"":t,n=ru.process(e),o=ru.processContent(e);return o?[{title:o,info:["CROWDFUNDING_EARNING"===r?this.processBuTime(n):""]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n,i=ru.processTimeStr({startTime:r,endTime:o}),a=i.start,s=i.end;return a&&s?"".concat(a," \u81f3 ").concat(s):"".concat(a).concat(s)}}),Jl=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Kl,e}return de(r)}(ou),$l=Object.assign({},nu,{processOrderStatusName:function(e){var t=e.ViewInfo,r=void 0===t?{}:t,n=e.OrderStatusName,o=void 0===n?"":n,i=r.IsWinPrize;return o&&void 0!==i&&i?["".concat(o,"(\u5df2\u4e2d\u5956)")]:[o]}}),ed=Object.assign({},ru,{process:function(e){var t=ru.processContent(e);return t?[{title:t}]:[]}}),td=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).baseProcessor=$l,e.itemProcessor=ed,e}return de(r)}(ou),rd=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e),n=e.OrderType;return n=ru.changeStrToNum(n),r?[{title:r,info:[this.processDisplayStr(t,n)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ru.processTimeStr({startTime:r,endTime:o,needHourAndMinute:i})},processDisplayStr:function(e,t){var r;switch(t){case 0:case 1:var n=this.processBuTime(e,!0).start,o=n?"".concat(n," \u8fdb\u573a"):"",i=this.processQuantity(e,"\u573a");r=o&&i?"".concat(o,", ").concat(i):"".concat(o).concat(i);break;case 2:case 3:var a=this.processBuTime(e,!1),s=a.start,c=a.end,u=this.processQuantity(e,"\u4efd"),l=s&&c?"".concat(s," \u81f3 ").concat(c," \u4f7f\u7528"):"";r=l&&u?"".concat(l,", ").concat(u):"".concat(l).concat(u);break;default:r=""}return r},processQuantity:function(e){var t=e.TotalQuantity,r=void 0===t?0:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r&&n?"".concat(r).concat(n):""}}),nd=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=rd,e}return de(r)}(ou),od=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processAddress(t),this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=ru.processTimeStr({startTime:r,needHourAndMinute:!0}).start;return n?"\u5c31\u9910\u65f6\u95f4 ".concat(n):""},processAddress:function(e){var t=e.Address;return void 0===t?"":t}}),id=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=od,e}return de(r)}(ou),ad=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processAddress(t),this.processTableStr(t)]}]:[]},processAddress:function(e){var t=e.Address;return void 0===t?"":t},processTableType:function(e){var t=e.TableType,r=void 0===t?"":t;return r?"\u684c\u578b ".concat(r):""},processNumber:function(e){var t=e.Number,r=void 0===t?"":t;return r?"\u684c\u53f7 ".concat(r):""},processTableStr:function(e){var t=this.processTableType(e),r=this.processNumber(e);return r&&t?"".concat(t,", ").concat(r):"".concat(t).concat(r)}}),sd=Object.assign({},tu,{process:function(e){var t,r,n=tu.process(e),o=n.detailData,i=(o||{}).actionUrl,a=void 0===i?"":i;return o&&(n.detailData.actionUrl=(r=-1!==(t=a).indexOf("?")?"&":"?","".concat(t).concat(r).concat("pageorigin=37110100100496"))),n}}),cd=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=ad,e.actionProcessor=sd,e}return de(r)}(ou),ud=Object.assign({},ru,{process:function(e){var t=ru.processContent(e);return t?[{title:t}]:[]}}),ld=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=ud,e}return de(r)}(ou),dd=Object.assign({},ru,{process:function(e){var t=ru.processContent(e);return t?[{title:t}]:[]}}),fd=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=dd,e}return de(r)}(ou),pd=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processSubContent(t)]}]:[]},processSubContent:function(e){var t=e.ProductName;return void 0===t?"":t}}),hd=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=pd,e}return de(r)}(ou),md=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.UsedTime,r=void 0===t?null:t,n=ru.processTimeStr({startTime:r}).start;return n?"".concat(n," \u751f\u6548"):""}}),vd=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=md,e}return de(r)}(ou),gd=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processCardType(t),this.processBuTime(t)]}]:[]},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t;return ru.processTimeStr({startTime:r}).start||""},processCardType:function(e){var t=e.ProductType;return void 0===t?"":t}}),yd=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=gd,e}return de(r)}(ou),Td=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processAddress(t),this.processDisplayTime(t)]}]:[]},processDisplayTime:function(e){var t=this.processConfirmTime(e),r=this.processBuTime(e);return t||r},processBuTime:function(e){var t=e.StartTime,r=void 0===t?null:t,n=e.EndTime,o=void 0===n?null:n,i=ru.processTimeStr({startTime:r,endTime:o}),a=i.start,s=i.end;return a||s?a&&s?"\u9884\u7ea6 ".concat(a," \u81f3 ").concat(s):"\u9884\u7ea6 ".concat(a).concat(s):""},processConfirmTime:function(e){var t=e.ConfirmDate,r=void 0===t?null:t,n=ru.processTimeStr({startTime:r}).start;return n?"".concat(n," \u786e\u8ba4"):""},processAddress:function(e){var t=e.HealthAddress;return void 0===t?"":t}}),Id=function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Td,e}return de(r)}(ou),Sd=Object.assign({},ru,{process:function(e){var t=ru.process(e),r=ru.processContent(e);return r?[{title:r,info:[this.processSubContent(t)]}]:[]},processSubContent:function(e){var t=e.Currency,r=void 0===t?"":t,n=e.ItemExtInfo,o=(void 0===n?{}:n).ActualPrice,i=void 0===o?0:o;return r&&i?"\u5b9e\u9645\u6d88\u8d39: ".concat(fi(r)).concat(i):""}}),Od={createStore:function e(t,r,n){var o;if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(m(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw new Error(m(1));return n(e)(t,r)}if("function"!=typeof t)throw new Error(m(2));var i=t,a=r,s=[],c=s,u=!1;function d(){c===s&&(c=s.slice())}function f(){if(u)throw new Error(m(3));return a}function p(e){if("function"!=typeof e)throw new Error(m(4));if(u)throw new Error(m(5));var t=!0;return d(),c.push(e),function(){if(t){if(u)throw new Error(m(6));t=!1,d();var r=c.indexOf(e);c.splice(r,1),s=null}}}function h(e){if(!function(e){if("object"!==l(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(m(7));if(void 0===e.type)throw new Error(m(8));if(u)throw new Error(m(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=s=c,r=0;r<t.length;r++)(0,t[r])();return e}return h({type:y.INIT}),(o={dispatch:h,subscribe:p,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error(m(10));i=e,h({type:y.REPLACE})}})[v]=function(){var e,t=p;return(e={subscribe:function(e){if("object"!==l(e)||null===e)throw new Error(m(11));function r(){e.next&&e.next(f())}return r(),{unsubscribe:t(r)}}})[v]=function(){return this},e},o},applyMiddleware:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(m(15))},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return n=S.apply(void 0,i)(r.dispatch),h(h({},r),{},{dispatch:n})}}},bindActionCreators:I,combineReducers:function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];"function"==typeof e[o]&&(r[o]=e[o])}var i,a=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:y.INIT}))throw new Error(m(12));if(void 0===r(void 0,{type:y.PROBE_UNKNOWN_ACTION()}))throw new Error(m(13))}))}(r)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var n=!1,o={},s=0;s<a.length;s++){var c=a[s],u=r[c],l=e[c],d=u(l,t);if(void 0===d)throw t&&t.type,new Error(m(14));o[c]=d,n=n||d!==l}return(n=n||a.length!==Object.keys(e).length)?o:e}},connect:oe,Provider:ce,hideOrderRequest:wt,createOrdersReducer:function(e){var t;return At([],(f(t={},e.CLEAR_DATA,_t),f(t,e.RECEIVE_DATA,Nt),f(t,e.SET_HIDE_ORDER_ID,Ft),f(t,e.UPDATE_ORDER_DATA,xt),t))},createCurrentPageOrdersReducer:function(e){var t;return At({currentPageOrders:[],currentRequestOrders:[],serverTimestamp:""},(f(t={},e.REQUEST_DATA,Rt),f(t,e.RECEIVE_DATA,Bt),f(t,e.UPDATE_ORDER_DATA,jt),f(t,e.FETCHING_FAILED,Lt),f(t,e.CANCEL_REQUEST,Mt),t))},orderPagination:nn,orderStatus:sn,createOrderRequestReducer:function(e){var t;return At({sequenceId:null,isFetching:!1,fetchingFailed:!1,startTime:null,errCode:0},(f(t={},e.REQUEST_DATA,cn),f(t,e.RECEIVE_DATA,hn),f(t,e.FETCHING_FAILED,mn),f(t,e.CANCEL_REQUEST,pn),t))},orderFilters:gn,orderTabs:yn,unusedOrderReducer:On,singleData:wn,accountReducer:kn,loadOrders:Jr,ListPageActions:tn,orderActionNames:Zr,singleActionNames:Cn,hideActionNames:Tt,clearOrders:Kr,saveOrderId:Dn,singleRefreshAdaptor:function(e,t,r){return function(n,o){var i=t||Ve(He,Fe.getEnv());!function(e,t,r,n,o){if(r){var i=function(e){return{OrderStatusClassify:"ALL",OrderIds:[e],NeedOrderAmountDetail:!0}}(r),a=t(),s=Mr(a);e({type:Cn.REQUEST_DATA}),e(Dn(r)),tr.fetch(n,{body:i,metricInfo:s}).then((function(t){if(e({type:Cn.RECEIVE_DATA}),e(An(r)),t&&t.OrderEnities&&t.OrderEnities.length<=1){var n=t.ResponseStatus&&t.ResponseStatus.Timestamp||"";e(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:Zr.UPDATE_ORDER_DATA,orderId:e,entities:t,serverTimestamp:r,isBatchUpdate:n}}(r,t.OrderEnities,n)),o&&Ae(o)&&o(r,t.OrderEnities)}else e(bn())})).catch((function(t){dt(t,{Url:n}),e(An(r)),e(bn())}))}}(n,o,e,i,r)}},getRefreshOrderIds:function(e){return e.singleData.orderIds},hideOrder:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o){return(0,Fe.getLogger().logClick)("c_click_hide_order",{ActionXPath:"".concat(e,"_Delete_").concat(t)}),bt(o,e,t,r,n)}},setTabsStatus:function(e){return{type:rn,status:e}},fetchUnusedOrders:function(e){return function(t){t({type:Tn});var r=Ve(He,Fe.getEnv());return console.log("%c\u83b7\u53d6\u672a\u4f7f\u7528\u8ba2\u5355\u4e2a\u6570request---\x3e","color:pink;"),console.log(e),yt.fetch(r,{body:e}).then((function(e){lt(e,r,{},!0);var n=e.Result.ResultCode,o=e.ResponseStatus.Ack,i=void 0===o?"":o,a=e.TotalCount;return t(0===n&&"Success"===i?{type:Sn,totalCount:void 0===a?0:a}:{type:In}),e})).catch((function(e){return t({type:In}),dt(e),null}))}},saveAccountInfo:Kt,getDeleteResult:function(e){return!e.hideOrderRequest.fetchingFailed},isFunction:Ae,runtime:Fe,runtimeOrderMetric:Re,thunkMiddleware:u,AbstractRequestModule:fe,FetchModule:ve,getOrderData:Ar,getHomeTabsStatus:function(e){return e.orderTabs.status},hasOrder:function(e){return Ar(e).length>0},isLoadingMore:function(e){return Br.isFetching(e)&&Pr(e)>1},isFetching:Lr,isRefreshing:function(e){return Br.isFetching(e)&&1===Pr(e)},isFetchingFailed:Vr,getPageNum:Pr,getCurrentPageNum:function(e){return e.orderPagination.currentPageNum},getPageSize:Er,hasTicket:function(e){return e.account.hasTicket},AUTH_TYPE:wr,ORDER_TYPE:kr,isString:De,isObjectLike:Oe,getNewOrderEntities:function(e){var t=[];return e&&e.length>0&&e.forEach((function(e){t.push(e);var r=function(e){var t=[],r=Rn(e),n=(e||{}).BizType;return r&&r.length>0&&r.forEach((function(r){if(n!==r){var o=(Fn[r]||Pn).processXOrder(e,r);t.push.apply(t,Et(o))}else{var i=Pn.processXOrder(e,n);t.push.apply(t,Et(i))}})),t}(e);r&&r.length>0&&t.push.apply(t,Et(r))})),t},getNewOrderListData:function(e,t){var r=function(e){var t=[],r={};return e&&e.length>0&&e.forEach((function(e){var n=e.isXOrder,o=void 0!==n&&n,i=e.parentXOrderID;if(o){var a=r[i]||[],s=Wt()(a);s.push(e),i&&(r[i]=s)}else t.push(e)})),{mainOrderList:t,xOrderMap:r}}(e),n=r||{},o=n.mainOrderList,i=n.xOrderMap,a=void 0===i?{}:i,s=Object.keys(a),c=[];if(o&&o.length>0)return o.forEach((function(e){var r=e||{},n=r.orderId,o=r.xOrderExtendData,i=r.bizType,u=r.itemData,l=[];if(s&&s.length>0&&a&&n){var d=a[n];d&&d.length>0?d.forEach((function(e){var r=e||{},n=r.bizType,o=r.isXOrder;if(i!==n&&o){var a=function(e,t,r){var n=t||{},o=n.itemData,i=n.bizType,a=n.detailData,s=n.baseData,c=n.orderId,u=(s||{}).orderStatusName,l=void 0===u?[]:u,d=r||{},f=d.ORDER_STATUS_NAME,p=void 0===f?{}:f,h=d.X_ORDER_NAME_MAP,m=void 0===h?{}:h;if(o&&o.length>0&&e!==i){var v=o.length-1,g=o[v],y=Wt()(g);return y.xOrderBuName=m[i]||"",y.detailData=a,y.orderStatusName=l,y.isXItemCancel=l&&l.length>0&&l[0]===p.CANCEL,y.bizType=i,y.isXItem=!0,y.orderId=c,o[v]=y,o}return o}(i,e,t);l.push.apply(l,Et(a))}else l.push.apply(l,Et(u))})):l.push.apply(l,Et(u))}else l.push.apply(l,Et(u));if(o){var f=(o||{}).xOrderItemList;f&&f.length>0&&l.push.apply(l,Et(f))}var p=Wt()(e);l&&l.length>0&&(p.itemData=l),c.push(p)})),c;var u=e;return e&&e.length>0&&(u=e.filter((function(e){return!e.isXOrder}))),u},formatBizType:function(e,t){var r=e,n="".concat(e,"#").concat(t);switch(n||console.warn("".concat(e," \u7f3a\u5c11ViewType\uff0c\u6700\u7ec8\u88ab\u5904\u7406\u4e3a\u9ed8\u8ba4\u5361\u7247")),n){case"GlobalBuyVoucher#1":r="GlobalBuyCoupon";break;case"GlobalBuyVoucher#2":r="GlobalBuyFlashPay";break;case"Vacation#10007":r="ManWithGoods";break;case"Vacation#10012":case"Vacation#10013":r="VacationCruise";break;case"unknown":r=Mn}switch(e){case"Car":-1===jn.indexOf(n)&&(r=Mn);break;case"FlightX":-1===Bn.indexOf(n)&&(r=Mn)}return r},DEFAULT_PROCESSOR_ID:Mn,updateObject:Dt,createReducer:At,Default:au,Nat:cu,FishTrip:lu,Flight:gu,Train:Tu,Hotel:Cu,HotelItemProcessor:Iu,Piao:Du,Activity:ku,Bag:Nu,Meeting:xu,Tuan:Mu,PointBus:ju,Car:Vu,Translation:Hu,Exchange:qu,FlightHotel:Xu,PreSale:Wu,FlightX:Yu,FlightCor:$u,GsCommercial:tl,HHTravel:nl,Customized:al,VacationInsurance:ul,FlightInsurance:dl,CarRentalInsurance:fl,FinanceInsurance:hl,Market:gl,NewMall:Sl,GlobalBuyCoupon:Cl,Mice:Dl,Ship:wl,Yacht:Pl,TrainInternational:Nl,Lipin:xl,Surprise:Rl,LocalGuide:Bl,DIY:Ll,Cruise:Ul,Vacation:zl,SceneryHotel:Xl,Visa:Wl,TaxRebate:Yl,CrowdFunding:Jl,One:td,Sport:nd,GsFood:id,GsFoodQueue:cd,MktRight:ld,MktAos:fd,CashPassport:hd,MktSupermember:vd,Credit:yd,Health:Id,SelfPayment:function(e){Ln(r,e);var t=Un(r);function r(){var e;return ue(this,r),(e=t.call(this)).itemProcessor=Sd,e}return de(r)}(ou),FetchProxy:tr}}(),e.exports=c}()},19383:function(e,t,r){"use strict";var n,o=r(32180),i=r(57042),a=r(24460),s=r(81876),c=r(21867),u=r(86066),l=r(45023),d=r(71515),f=r(33064),p=r(298),h=r(33675),m=h.cwx,v=h.__global,g=r(92954),y={timeout:5e3},T={getQConfig:"/restapi/soa2/15618/commonConfig.json"},I=function(e,t,r){return new Promise((function(n,o){m.request({method:"POST",url:e,data:(0,p.Z)((0,p.Z)({},t),{},{head:{extension:[{name:"sequence",value:(null===r||void 0===r?void 0:r.sequenceId)||""}]}}),success:function(e){n(e&&e.data?e.data:{})},complete:function(e){},fail:o,timeout:r&&r.timeout||y.timeout})}))},S=f.commonModule.AbstractRequestModule,O=f.commonModule.FetchModule,C=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"fetch",value:function(e){var t=e.url,r=e.timeout,n=e.data,o=Object.assign({},n),i={};if(r){var a="number"===typeof r?r:parseInt(r,10);Number.isNaN(a)||(i.timeout=a)}return I(t,o,i)}}]),r}(S),b=function(){if(!n){var e=new C;n=new O(e)}return n},D=function(){n=null},A={getInstance:b,destroyInstance:D},w=A,k=function(){return"fat"===v.env},P=function(){try{return g.getSystemInfoSync()}catch(e){return console.log("getSystem Info error: ",e),{}}},E=function(){var e=P(),t=e||{},r=t.windowWidth,n=void 0===r?0:r;return n},N=function(){var e=P(),t=e||{},r=t.windowHeight;return r},_=function(){return g.getMenuButtonBoundingClientRect()},x=function(){return P().safeArea},F=function(){var e=x()||{},t=e.bottom,r=N();return r&&"number"===typeof t?r-t:0},R="WX",M="99.99",B=_()||{},j=B.height,L=B.top,V=44,U=j||44,H=(L||20)+U,Z=function(e){return e["orderList"]="metric_bbz_tiny_myctrip_list_order_card",e}({}),q="devtrace_bbz_myctrip_miniapp_myctrip_order",z=function(e){return e["retry"]="retry",e}({}),X=function(e){return e["more"]="More",e["delete"]="Delete",e}({}),G="",W="",Q=function(e,t){W=e,t&&(G=t)},Y={consoleDevInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;k()&&console.log("\n%c [taro-myctrip] ".concat(e," -----\x3e"),"color:#009C67",t)},logTrace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;try{e||console.error("\u8bf7\u521d\u59cb\u5316\u4e1a\u52a1\u4f7f\u7528\u7684key\u503c"),Y.consoleDevInfo("logTrace",t),m.sendUbtByPage.ubtTrace(e,{data:JSON.stringify(t)})}catch(e){console.error("Log.logTrace failed",e.message,e.stack)}},logDevTrace:function(e){try{W||console.error("\u8bf7\u521d\u59cb\u5316\u5f00\u53d1\u4f7f\u7528\u7684key\u503c"),Y.consoleDevInfo("logDevTrace",e),m.sendUbtByPage.ubtDevTrace(W,{data:JSON.stringify(e)})}catch(e){console.error("Log.logDevTrace failed",e.message,e.stack)}},logMetric:function(e,t){var r={name:"taro-weixin",type:"list"};m.sendUbtByPage.ubtMetric({name:t||Z.orderList,tag:(0,p.Z)((0,p.Z)({},r),e),value:1})},logSendPV:function(e){m.sendUbtByPage.ubtSendPV({pageId:e}),Y.consoleDevInfo("pageId ===>>> ",e)},logError:function(e,t){console.log("logError: ",e,t)},logClick:function(e,t){Y.logTrace(e,t)}},K=Y,J=r(32180)["window"],$=f.commonModule.runtime,ee=f.commonModule.runtimeOrderMetric,te=v.env,re={env:te,fetch:w.getInstance(),logger:K,channel:R,clientVersion:M,locale:""};K.consoleDevInfo("\u5f53\u524d\u7684\u8fd0\u884c\u73af\u5883\u662f: ".concat(te)),Q(q),$.update(re),ee.update(re),J.__RUNTIME__=re;var ne=r(22276),oe=f.commonModule.createStore,ie=f.commonModule.applyMiddleware,ae=f.commonModule.thunkMiddleware,se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=r&&r.length?[].concat((0,ne.Z)(r),[ae]):[ae];return k()&&f.logger&&n.push(f.logger),oe(e,t,ie.apply(void 0,(0,ne.Z)(n)))},ce=r(65542),ue=function(e){return e["cClickCardButton"]="c_click_wx_card_button",e["showMoreButton"]="wx_show_more_button",e["showButton"]="wx_show_button",e["cClickShowMoreButton"]="c_click_wx_show_more_button",e["cClickXOrderTitle"]="c_click_wx_x_order_title",e["cClickOrderTabItemAll"]="c_click_wx_tab_item_all",e["cClickOrderTabItemAwaitPay"]="c_click_wx_tab_item_await_pay",e["cClickOrderTabItemNotTravel"]="c_click_wx_tab_item_not_travel",e["cClickOrderTabItemAwaitReview"]="c_click_wx_tab_await_review",e["cClickDeleteButton"]="c_click_wx_delete_button",e["cClickConfirmDeleteButton"]="c_click_wx_confirm_delete_button",e["cClickUnUsedEntryBar"]="c_click_wx_unUsed_entry_bar",e["cClickPageBackButton"]="c_click_wx_page_back_button",e["cClickFilterOrderButton"]="c_click_wx_filter_order_button",e["cClickCloseFilterModalButton"]="c_click_wx_close_filter_modal_button",e["cClickFilterMenuButton"]="c_click_wx_filter_menu_button",e}({}),le=function(e){return e["UBT_DEFAULT_CARD"]="default card",e["UBT_ERROR_CARD"]="error card",e["UBT_SUCCESS_CARD"]="success card",e}({}),de=f.commonModule.AUTH_TYPE,fe=function(e){return e["ALL"]="All",e["AWAIT_REVIEW"]="AwaitReview",e["AWAIT_PAY"]="AwaitPay",e["NOT_TRAVEL"]="NotTravel",e["NO_USE"]="NoUse",e}(fe||{}),pe=function(e){return e["ALL"]="\u5168\u90e8",e["AWAIT_REVIEW"]="\u5f85\u70b9\u8bc4",e["AWAIT_PAY"]="\u5f85\u4ed8\u6b3e",e["NOT_TRAVEL"]="\u672a\u51fa\u884c",e["NO_USE"]="\u672a\u4f7f\u7528\xb7\u9884\u552e\u8ba2\u5355",e}(pe||{}),he=function(e){return e["ALL"]="all",e["TRAIN"]="train",e}(he||{}),me=function(e){return e["ALL"]="all",e["UNPAID"]="unPaid",e["UNUSE"]="unUse",e["UNTRAVEL"]="unTravel",e["UNREVIEW"]="unReview",e}({}),ve=[{id:he.ALL,classify:fe.ALL,text:pe.ALL,traceKey:ue.cClickOrderTabItemAll},{id:me.UNPAID,classify:fe.AWAIT_PAY,text:pe.AWAIT_PAY,traceKey:ue.cClickOrderTabItemAwaitPay},{id:me.UNTRAVEL,classify:fe.NOT_TRAVEL,text:pe.NOT_TRAVEL,traceKey:ue.cClickOrderTabItemNotTravel},{id:me.UNREVIEW,classify:fe.AWAIT_REVIEW,text:pe.AWAIT_REVIEW,traceKey:ue.cClickOrderTabItemAwaitReview}],ge=["MktAos","MktSupermember"],ye="mobileSearch",Te={id:he.ALL,biz:"",name:"\u5168\u90e8",text:"\u5168\u90e8",classify:fe.ALL,pageId:10320613208},Ie={allType:{typeName:"\u5168\u90e8\u5206\u7c7b",menus:[Te]},travelTypeMenus:{typeName:"\u65c5\u6e38\u4ea7\u54c1",menus:[{id:"flight",biz:"Flight,PreSale,FlightX,FlightCor",name:"\u673a\u7968+\u76f8\u5173",pageId:10650072051},{id:"hotel",biz:"Hotel,FishTrip,Meeting,Tuan",name:"\u4f4f\u5bbf\xb7\u9884\u552e",pageId:10650072053},{id:he.TRAIN,biz:"Train,TrainInternational",name:"\u706b\u8f66\u7968",unShowTabList:!0,pageId:10650072055},{id:"vacation",biz:"DIY,Cruise,Vacation,Customized,SceneryHotel,Activity,VacationCruise",name:"\u65c5\u6e38\u5ea6\u5047",pageId:10650072057},{id:"flightHotel",biz:"FlightHotel",name:"\u673a+\u9152",pageId:10650072059},{id:"guider",biz:"VacationGuider,LocalGuide",name:"\u5f53\u5730\u5411\u5bfc",pageId:10650072061},{id:"piao",biz:"Piao",name:"\u95e8\u7968",pageId:10650072063},{id:"car",biz:"Car,CarPrivate,Translation",name:"\u4e13\u8f66\xb7\u79df\u8f66",pageId:10650072065},{id:"visa",biz:"Visa",name:"\u7b7e\u8bc1",pageId:10650072067},{id:"bus",biz:"QiChe,PointBus",name:"\u6c7d\u8f66\u7968",pageId:10650072069},{id:"vacationinsurance",biz:"VacationInsurance,FlightInsurance",name:"\u4fdd\u9669",pageId:10650072071},{id:"ship",biz:"Ship,Yacht",name:"\u8239\u7968",pageId:10650072073},{id:"hhTravel",biz:"HHTravel,CustomizedHH",name:"\u9e3f\u9e44\xb7\u5962\u6e38",pageId:10650072077},{id:"bag",biz:"Bag",name:"\u884c\u674e\u7ba1\u5bb6",pageId:10650072079}]},financeTypeMenus:{typeName:"\u91d1\u878d\u8d2d\u7269\u53ca\u5176\u4ed6",menus:[{id:"lipin",biz:"Lipin",name:"\u793c\u54c1\u5361",pageId:10650072081},{id:"exchange",biz:"Exchange",name:"\u5916\u5e01\u5151\u6362",pageId:10650072083},{id:"market",biz:"Market,Mall,NewMall,GlobalBuyFlashPay,GlobalBuyCoupon",name:"\u4f1a\u5458\u5546\u57ce",pageId:10650072085},{id:"mice",biz:"Mice",name:"\u4f1a\u8bae\xb7\u65c5\u6e38",pageId:10650072087},{id:"gsCommercial",biz:"GsCommercial,GsFood",name:"\u7f8e\u98df",pageId:10650072089},{id:"nat",biz:"NAT",name:"\u6838\u9178\u68c0\u6d4b",pageId:10650072091},{id:"other",biz:ge.join(","),name:"\u5176\u4ed6",pageId:10650072093}]},otherMenus:{typeName:"",menus:[{id:me.UNPAID,biz:"",classify:fe.AWAIT_PAY,name:"\u5168\u90e8",text:pe.AWAIT_PAY,pageId:10650005935},{id:me.UNUSE,biz:"",classify:fe.NO_USE,name:"\u672a\u4f7f\u7528\xb7\u9884\u552e",text:pe.NO_USE,unShowFilter:!0,unShowTabList:!0,unShowMobileSearchEntry:!0,pageId:10650072095},{id:me.UNTRAVEL,biz:"",classify:fe.NOT_TRAVEL,name:"\u5168\u90e8",text:pe.NOT_TRAVEL,pageId:10650005937},{id:me.UNREVIEW,biz:"",classify:fe.AWAIT_REVIEW,name:"\u5168\u90e8",text:pe.AWAIT_REVIEW,pageId:10650072097},{id:ye,biz:"",name:"\u67e5\u8be2\u7ed3\u679c",authType:de.MOBILE,unShowFilter:!0,unShowTabList:!0,unShowMobileSearchEntry:!0,ignoreSuffix:!0,needBackToLasPage:!0,preventSingleRefresh:!0,pageId:10650014525}]}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t={};return Object.keys(e).forEach((function(r){var n=e[r].menus;n.forEach((function(e){var r=e.id;t[r.toLowerCase()]=e}))})),t},Oe=5,Ce=50,be=f.commonModule.AUTH_TYPE,De=f.commonModule.ORDER_TYPE,Ae=f.commonModule.getHomeTabsStatus,we=f.commonModule.getCurrentPageNum,ke=f.commonModule.getPageSize,Pe=f.commonModule.getPageNum,Ee=function(e,t){if(t){var r=e.page.pageConfs;return r[t]||Te}return e.page.currentPageInfo},Ne=function(e){return e.page.isValid},_e=function(e){return e.page.isPulling},xe=function(e){return e.page.pageConfs},Fe=function(e,t){if(!e)return Te;var r=t.page.pageConfs;return r[e.toLowerCase()]||Te},Re=function(e){return e.page.needLoadFirstPage},Me=function(e){var t=Ae(e),r=Ee(e),n=r.biz,o=r.classify,i=r.authType,a=void 0===i?be.USER:i,s=r.unShowTabList,c=Ne(e),u=s?o||fe.ALL:t||o;return{bizTypes:n,status:u,pageSize:Ce,filterValidOrder:c,authType:a,orderType:De.RECENT,needOrderAmountDetail:!0}},Be=function(e){return e.page.backInfo},je=function(e){var t=Pe(e);return we(e)===ke(e)&&t<Oe},Le=f.commonModule.getHomeTabsStatus,Ve=function(e){var t=Le(e),r=Ee(e),n=r||Te,o=n.id;return t===fe.ALL&&(o===me.ALL||o===me.UNTRAVEL||o===me.UNPAID||o===me.UNREVIEW)},Ue=function(e){return!!Ve(e)&&e.listEntry.isShowUnusedOrderEntry},He=f.commonModule.fetchUnusedOrders,Ze={isShowUnusedOrderEntry:"entryAction.isShowUnusedOrderEntry"},qe=function(e){return{type:Ze.isShowUnusedOrderEntry,isShowUnusedOrderEntry:e}},ze=function(){return function(e,t){var r=t();Ve(r)&&e(He({PageIndex:1,PageSize:10,OrderStatusClassify:fe.NO_USE})).then((function(t){var r=t.TotalCount,n=void 0===r?0:r;e(qe(n>0))})).catch((function(t){K.logDevTrace({fn:"fetchUnusedOrderInfo",catch:t.message}),e(qe(!1))}))}},Xe=f.commonModule.isRefreshing,Ge=f.commonModule.isFetchingFailed,We=!1,Qe=function(e){return function(){var t=e.getState(),r=We;We=Xe(t),We===r||We||Ge(t)||e.dispatch(ze())}},Ye=r(90201),Ke=r(2269);function Je(e){var t=e.tipConf,r=t.imgUrl,n=void 0===r?"":r,o=t.title,i=void 0===o?"":o,a=t.titleHighlightText,s=void 0===a?"":a,c=t.desc,u=void 0===c?"":c,l=t.buttonText,f=void 0===l?"":l,p=t.titleHandler,h=void 0===p?function(){}:p,m=t.btnHandler,v=void 0===m?function(){}:m;if(!n)return null;var g=(0,Ke.jsxs)(d.View,{className:"title-highlight",children:[(0,Ke.jsx)(d.View,{children:(0,Ke.jsx)(d.Text,{className:"title",children:i})}),(0,Ke.jsx)(d.View,{children:(0,Ke.jsx)(d.Text,{className:"highlight",onClick:h,children:s})})]}),y=s?g:(0,Ke.jsx)(d.Text,{className:"title",children:i}),T=u?(0,Ke.jsx)(d.Text,{className:"desc",children:u}):null,I=f?(0,Ke.jsx)(d.Button,{className:"btn btn-retry primary",onClick:v,children:f}):null;return(0,Ke.jsxs)(d.View,{className:"page-status-wrapper",children:[(0,Ke.jsx)(d.Image,{src:n}),(0,Ke.jsxs)(d.View,{className:"text-wrapper",children:[y,T]}),I]})}var $e=Je;function et(e){var t=e.tipsInfo,r=t.map((function(e){var t=e.text,r=e.needHighlight,n=e.handler,o=r?(0,Ke.jsx)(d.Text,{className:"highlight",onClick:n,children:t},t):(0,Ke.jsx)(d.Text,{className:"light-gray-regular-24",children:t},t);return(0,Ke.jsx)(d.View,{children:o})}));return(0,Ke.jsx)(Ye.Fragment,{children:r})}var tt=et,rt="https://pic.c-ctrip.com/pic/platform/tinyapp/orders/",nt="https://pic.c-ctrip.com/pic/platform/rn/orders/no_order.png",ot="".concat(rt,"error.png"),it=("".concat(rt,"loading.png"),"".concat(rt,"loading_failed.png"),"".concat(rt,"selected.png")),at="".concat(rt,"unselected.png"),st="".concat(rt,"close.png"),ct="".concat(rt,"more.png"),ut="".concat(rt,"delete.png"),lt="".concat(rt,"arrow.png"),dt="".concat(rt,"tuan.png"),ft="".concat(rt,"remind_shape.png"),pt="".concat(rt,"forward.png"),ht="".concat(rt,"head_back.png"),mt="compose",vt="drop_down",gt="drop_up",yt="/pages/myctrip/list/list?data=",Tt={unUse:"".concat(yt,'{"id":"unUse"}'),mobileSearch:"".concat(yt,'{"id":"mobileSearch"}')},It={Vacation:{orderType:["10000","10002","10005","10011"],appId:"wxffcb7f77b0b8b8e1"}},St=function(){m.navigateTo.apply(m,arguments)},Ot=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?m.component.cwebview({data:{url:encodeURIComponent(e),needLogin:t}}):console.warn("\u7f3a\u5c11H5 url")},Ct=function(e,t){return It[e]&&(It[e].orderType&&It[e].orderType.indexOf(t)>-1||!It[e].orderType)},bt=function(e,t){var r=It[e].appId||"";r&&t?m.user.getCrossToken((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=!!e,o="loginToken=".concat(e),i=t.indexOf("?")>=0?"".concat(t,"&").concat(o):"".concat(t,"?").concat(o);K.logDevTrace({info:"jump",path:t,isTokenGetSuccess:n,IsToOtherMiniProgram:!0}),m.cwx_navigateToMiniProgram({appId:r,path:i,envVersion:"release"})})):console.warn("appId\u548cpath\u4e0d\u80fd\u4e3a\u7a7a")},Dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(e)if(/^https?:\/\//i.test(e))Ot(e);else{var n=r||{},o=n.bizType,i=void 0===o?"":o,a=n.orderType,s=void 0===a?"":a;if(Ct(i,s))bt(i,e);else{var c={url:e};e.length&&0===e.indexOf("pages")&&(c.url="/".concat(e));var u=Object.assign({},t,c);St(u)}}else console.warn("url\u4e0d\u80fd\u4e3a\u7a7a")},At=function(){return m.navigateBack()},wt=function(){K.logDevTrace({info:"jump to mobile validate"}),m.user.mobileQueryOrder({from:Tt.mobileSearch})},kt=function(e){e&&Dt(Tt[e])},Pt=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"onClickEntryBar",(function(t){var r=e.props.options,n=r||{},o=n.id,i=void 0===o?"":o,a=n.traceKey;t.stopPropagation(),K.logTrace(a,{id:i}),kt(i)})),e}return(0,a.Z)(r,[{key:"renderIconImage",value:function(e){return e?(0,Ke.jsx)(d.Image,{src:e,className:"top-entry-bar-img"}):null}},{key:"render",value:function(){var e=this.props,t=e.options,r=e.isShowEntryBar,n=e.pageConfs,o=void 0===n?{}:n,i=t||{},a=i.text,s=i.imageUrl,c=i.id,u=void 0===c?"":c,l=o[u]||{},f=l.text,p=f||a;return r&&p?(0,Ke.jsxs)(d.View,{className:"top-entry-wrapper",onClick:this.onClickEntryBar,children:[this.renderIconImage(s),(0,Ke.jsx)(d.Text,{className:"black-medium-30 text-number-lines-1 top-entry-text",children:p}),(0,Ke.jsx)(d.Image,{className:"top-entry-arrow-img",src:pt})]}):null}}]),r}(Ye.Component),Et=function(e,t){g.eventCenter.on(e,t)},Nt=function(e){g.eventCenter.off(e)},_t=function(){var e="order list page on show";try{var t=g.getCurrentInstance();e=t.router.onShow}catch(e){K.logDevTrace({info:"onShowEventId with catch",err:e.message})}return e},xt=function(){m.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"})},Ft=function(){m.showLoading({title:"\u52a0\u8f7d\u4e2d...",mask:!0})},Rt=function(){m.hideLoading()},Mt=function(){var e=F();return e?{paddingBottom:e}:{}},Bt={Style1:"Style1",Style2:"Style2"},jt=function(e){return e["Link"]="Link",e["Button"]="Button",e["Alert"]="Alert",e}({}),Lt=function(e){return e["Pay"]="Pay",e["Delete"]="Delete",e["OrderShare"]="OrderShare",e["Share"]="Share",e["OrderSharing"]="OrderSharing",e["Comment"]="Comment",e["More"]="More",e["UnboundShare"]="UnboundShare",e["Cancel"]="Cancel",e["CancelAndDelete"]="CancelAndDelete",e["Shipped"]="Shipped",e["AbandonRebates"]="AbandonRebates",e["CancelQuery"]="CancelQuery",e["Unsubscribe"]="Unsubscribe",e["ComfirmGoods"]="ComfirmGoods",e["ReSendSMS"]="ReSendSMS",e["Remind"]="Remind",e}({}),Vt=f.commonModule.getOrderData,Ut=function(e){return e.moreButton.isShow},Ht=function(e){return e.moreButton.orderId},Zt=function(e){var t=Ht(e);if(!t)return[];for(var r,n=Vt(e),o=0;o<n.length;o+=1)if(r=n[o],r&&r.orderId===t)return r.moreButtonList;return[]},qt=function(e){var t=e.moreButton||{},r=t.measure,n={below:!0,top:-1,bottom:-1};if(!r)return n;var o=N()||0;return n.below=r.pageY<o/2,n.top=r.pageY+r.btnHeight,n.bottom=o-r.pageY,n},zt={setIsShowMoreButton:"MoreButtonActionName.setIsShowMoreButton"},Xt=function(e,t,r){return function(n){var o=t||{},i=o.actionBase,a=i||{},s=a.orderId,c=r;n(e&&s&&c?{type:zt.setIsShowMoreButton,isShow:e,orderId:s,measure:c}:{type:zt.setIsShowMoreButton,isShow:!1})}},Gt=function(){return function(e,t){var r=t(),n=Ut(r);n&&e({type:zt.setIsShowMoreButton,isShow:!1})}},Wt={IS_SHOW_FILTER_MODAL:"modal.isShowFilterModal",SET_MODAL_INFO:"modal.setModalInfo"},Qt=function(e){return{type:Wt.IS_SHOW_FILTER_MODAL,isShowFilterModal:e}},Yt=function(e){return{type:Wt.SET_MODAL_INFO,info:e}},Kt=function(e){e&&e.title&&g.showToast((0,p.Z)({duration:e.duration||3e3,mask:!0},e))},Jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,r=arguments.length>2?arguments[2]:void 0;r&&!k()||(e?Kt({title:e,duration:t,icon:"none"}):console.error("\u8bf7\u4f20\u5165toast\u6587\u6848"))},$t={associate:"\u6b64\u5355\u6765\u81ea\u5173\u8054\u8d26\u53f7"},er={ORDER_UNUSED_TIP:{text:"\u672a\u4f7f\u7528\xb7\u9884\u552e\u8ba2\u5355",id:"unUse",backId:"all",imageUrl:dt,traceKey:ue.cClickUnUsedEntryBar}},tr={noOrder:{imgUrl:nt,title:"\u6682\u65e0\u76f8\u5173\u8ba2\u5355"},noOrderForMobileSearch:{imgUrl:nt,title:"\u6682\u65e0\u76f8\u5173\u975e\u4f1a\u5458\u8ba2\u5355",desc:"\u5df2\u5173\u8054\u7684\u975e\u4f1a\u5458\u8ba2\u5355\u8bf7\u5728\u5168\u90e8\u8ba2\u5355\u4e2d\u67e5\u770b"},timeout:{imgUrl:ot,title:"\u67e5\u8be2\u672a\u6210\u529f",desc:"\u8bf7\u7a0d\u540e\u518d\u8bd5\u6216\u8054\u7cfb\u643a\u7a0b",buttonText:"\u91cd\u8bd5"},error:{imgUrl:ot,title:"\u67e5\u8be2\u672a\u6210\u529f",desc:"\u8bf7\u7a0d\u540e\u518d\u8bd5\u6216\u8054\u7cfb\u643a\u7a0b",buttonText:"\u91cd\u8bd5"}},rr=function(e){return e["success"]="\u5220\u9664\u6210\u529f",e["fail"]="\u5220\u9664\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",e}(rr||{}),nr=["FishTripRemind"],or=["Pay"],ir={NoDetail:{title:"\u5f88\u62b1\u6b49\uff0c\u6682\u65e0\u6cd5\u63d0\u4f9b\u8ba2\u5355\u8be6\u60c5",majorActionText:"\u77e5\u9053\u4e86"},Cancel:{title:"\u786e\u5b9a\u53d6\u6d88\u8ba2\u5355\u5417\uff1f",majorActionText:"\u53d6\u6d88\u8ba2\u5355",minorActionArr:["\u70b9\u9519\u4e86"]},Shipped:{title:"\u786e\u8ba4\u540e\u8ba2\u5355\u4e2d\u7684\u793c\u54c1\u5361\u5c06\u88ab\u6fc0\u6d3b",majorActionText:"\u786e\u5b9a",minorActionArr:["\u53d6\u6d88"]},AbandonRebates:{title:"\u653e\u5f03\u4f18\u60e0\u540e\u60a8\u5c06\u53ef\u4ee5\u9886\u7528\u8ba2\u5355\u4e2d\u7684\u793c\u54c1\u5361\uff0c\u4f46\u60a8\u5c06\u4e0d\u4f1a\u518d\u83b7\u5f97\u672c\u8ba2\u5355\u7ea6\u5b9a\u8d60\u9001\u7684\u793c\u54c1\u5361\uff0c\u8bf7\u614e\u91cd\u8003\u8651\uff01",majorActionText:"\u786e\u8ba4\u653e\u5f03",minorActionArr:["\u70b9\u9519\u4e86"]},CancelAndDelete:{title:"\u786e\u5b9a\u8981\u53d6\u6d88\u8ba2\u5355\u5417",majorActionText:"\u53d6\u6d88\u8ba2\u5355",minorActionArr:["\u70b9\u9519\u4e86"]},ReSendSMS:{title:"\u51fa\u6e38\u51ed\u8bc1\u5df2\u53d1\u9001, \u6211\u4eec\u5c06\u5c3d\u5feb\u4e3a\u60a8\u5904\u7406\uff0c\u5982\u6709\u7591\u95ee\u8bf7\u62e8\u6253\u7535\u8bdd10106666",majorActionText:"\u786e\u5b9a\u53d1\u9001",minorActionArr:["\u70b9\u9519\u4e86"]}},ar=f.commonModule.hideOrder,sr=f.commonModule.saveOrderId,cr={SET_DELETE_DATA:"button.deleteData"},ur=function(){return Yt({isShowModal:!0,modalText:ir.NoDetail})},lr=function(e,t,r){return function(t){if(t(Gt()),K.consoleDevInfo("pressCardAction",e),e&&e.actionType&&e.actionType in jt){var n=e.standardCode,o=e.actionBase,i=e.actionUrl,a=o.bizType,s=o.orderId,c=o.orderType;switch(K.logTrace(ue.cClickCardButton,{actionXPath:e.actionXPath||"",actionUrl:e.actionUrl||"",bizType:a,orderId:s}),K.logMetric({bizType:a,actionStandardCode:n,isActionClicked:!0}),e.actionType){case jt.Link:i?(t(sr(s)),Dt(i,{},{bizType:a,orderType:c})):t(ur());break;case jt.Button:switch(n){case Lt.Delete:t(ar(a,s,c,{successCallback:function(){return Kt({title:rr.success,icon:"none"})},failCallback:function(){return Kt({title:rr.fail,icon:"none"})}})),t(Yt({isShowModal:!1}));break;case Lt.More:t(Xt(!0,e,r));break;default:K.logDevTrace({info:"actionType: Button, standardCode: ".concat(n)});break}break;default:break}}}},dr=function(e){return e.buttons.deleteData},fr={Default:"default",Sport:"default",TravelAT:"default",FlightHotel:"flighthotel",Tuan:"tuan",GsCommercial:"food",Flight:"flight",PreSale:"flight",FlightCor:"flight",FlightX:"flight",Customized:"vacation",CustomizedHH:"hhtravel",Guider:"vacation",Bag:"bag",ManWithGood:"vacation",LocalGuide:"vacation",SceneryHotel:"vacation",DIY:"vacation",Vacation:"vacation",Visa:"visa",MktRight:"mktsupermember",MktAos:"mktaos",MktSupermember:"mktsupermember",Credit:"card",Deposit:"card",Lipin:"card",Surprise:"card",Mall:"tuan",NewMall:"tuan",GlobalBuyFlashPay:"tuan",GlobalBuyCoupon:"tuan",Health:"card",GsFood:"food",GsFoodQueue:"food",SelfPayment:"food",Exchange:"exchange",CashPassport:"card",TaxRebate:"taxrebate",Market:"tuan",CrowdFunding:"crowd",One:"crowd",Cruise:"cruise",VacationCruise:"cruise",Ship:"cruise",Yacht:"cruise",Train:"train",TrainInternational:"train",Car:"car",CarPrivate:"car",Translation:"car",AirportBus:"qiche",QiChe:"qiche",PointBus:"qiche",Activity:"piao",Piao:"piao",VacationInsurance:"insurance",FlightInsurance:"insurance",CarRentInsurance:"insurance",FinanceInsurance:"insurance",HHTravel:"hhtravel",FishTrip:"inn",Hotel:"hotel",Meeting:"hotel",Mice:"hotel",NAT:"nat"},pr={width:76,height:30,space:12},hr={cardWrapperRowPadding:12,cardContentRowPadding:12,cardContentRowMarginLeft:12},mr=24,vr=function(){var e=E(),t=hr.cardWrapperRowPadding,r=hr.cardContentRowMarginLeft,n=hr.cardContentRowPadding;return e-2*t-2*n-r},gr=function(e){return e?"-cancel":""},yr=function(e){return e?"_cancel":""},Tr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,i.Z)(this,r),n=t.call(this,e),(0,l.Z)((0,s.Z)(n),"loadCardIconImageError",(function(){n.setState({isIconError:!0})})),(0,l.Z)((0,s.Z)(n),"confirmDelete",(function(){var e=n.props,t=e.pressCardAction,r=e.orderData,o=r.deleteData,i=void 0===o?{}:o,a=r.actionBaseData,s=a||{},c=s.bizType,u=s.orderId;K.logTrace(ue.cClickConfirmDeleteButton,{bizType:c,orderId:u}),t(i)})),(0,l.Z)((0,s.Z)(n),"onClickDeleteView",(function(e){var t=n.props,r=t.orderData,o=t.setModalInfo,i=r||{},a=i.deleteTip,s=i.actionBaseData,c=s||{},u=c.bizType,l=c.orderId;e.stopPropagation(),K.logTrace(ue.cClickDeleteButton,{bizType:u,orderId:l}),o({isShowModal:!0,modalText:a,majorFn:n.confirmDelete})})),n.state={isIconError:!1},n}return(0,a.Z)(r,[{key:"renderCardIcon",value:function(e){var t=e||{},r=t.baseData,n=t.buName,o=r||{},i=o.isCancel,a=void 0!==i&&i,s=this.state.isIconError,c=yr(a),u="".concat(rt).concat(fr[n]).concat(c,".png");return!u||s?(0,Ke.jsx)(d.View,{className:"card-header-default-icon"}):(0,Ke.jsx)(d.Image,{className:"card-header-icon",src:u,onError:this.loadCardIconImageError})}},{key:"renderBuNameView",value:function(e,t){var r=e||{},n=r.buChineseName;return n?(0,Ke.jsx)(d.Text,{className:"black-medium".concat(t,"-30 card-bu-name text-number-lines-1"),children:n}):null}},{key:"renderQuantityView",value:function(e,t){var r=e||{},n=r.baseData,o=void 0===n?{}:n,i=o.quantity;return i?(0,Ke.jsx)(d.Text,{className:"black-regular".concat(t,"-26"),children:i}):null}},{key:"renderStatusView",value:function(e,t){var r=e||{},n=r.baseData,o=void 0===n?{}:n,i=o.orderStatusName,a=void 0===i?[]:i;return a.length?a.map((function(e){return e?(0,Ke.jsx)(d.Text,{className:"black-regular".concat(t,"-26 text-number-lines-1"),children:e}):null})):null}},{key:"renderDeleteView",value:function(){var e=this.props.orderData,t=e.bizType,r=e||{},n=r.hasDelete,o=r.deleteData,i=void 0===o?{standardCode:"",actionXPath:""}:o;if(!n)return null;var a=i.standardCode,s=void 0===a?X["delete"]:a,c=i.actionXPath;return K.logTrace(ue.showButton,{actionXPath:c||""}),K.logMetric({bizType:t,actionStandardCode:s}),(0,Ke.jsx)(d.View,{className:"card-delete-view",onClick:this.onClickDeleteView,children:(0,Ke.jsx)(d.Image,{src:ut,className:"card-delete-icon"})})}},{key:"renderSeparatorView",value:function(){return(0,Ke.jsx)(d.View,{className:"card-header-separator"})}},{key:"render",value:function(){var e=this.props,t=e.orderData,r=e.isCancelText;if(!t)return null;var n=this.renderStatusView(t,r),o=this.renderDeleteView(),i=n&&o?this.renderSeparatorView():null;return(0,Ke.jsx)(Ye.Fragment,{children:(0,Ke.jsxs)(d.View,{className:"card-header-wrapper",children:[(0,Ke.jsxs)(d.View,{className:"card-header-left",children:[this.renderCardIcon(t),this.renderBuNameView(t,r)]}),(0,Ke.jsxs)(d.View,{className:"card-header-right",children:[this.renderQuantityView(t,r),n,i,o]})]})})}}]),r}(Ye.Component),Ir=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"getTagViewStyle",(function(){var t=e.props.tagBgColor,r=void 0===t?"":t;return r?{backgroundColor:r}:{}})),(0,l.Z)((0,s.Z)(e),"getTagTextStyle",(function(){var t=e.props.textColor,r=void 0===t?"":t;return r?{color:r}:{}})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.text,t=void 0===e?"":e;if(!t)return null;var r=this.getTagViewStyle(),n=this.getTagTextStyle();return(0,Ke.jsx)(d.View,{className:"card-tag-wrapper",style:r,children:(0,Ke.jsx)(d.Text,{className:"red-regular-22",style:n,children:t})})}}]),r}(Ye.Component),Sr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"renderCardTag",value:function(e){return e&&e.length?e.map((function(e){var t=e.text,r=void 0===t?"":t,n=e.textColor,o=void 0===n?"":n,i=e.tagBgColor,a=void 0===i?"":i;return(0,Ke.jsx)(Ir,{text:r,textColor:o,tagBgColor:a},r)})):null}},{key:"render",value:function(){var e=this.props,t=e.itemData,r=e.isCancel,n=t||{},o=n.departure,i=void 0===o?"":o,a=n.arrival,s=void 0===a?"":a,c=n.orderTag,u=void 0===c?[]:c,l=n.xOrderBuName,f=void 0===l?"":l,p=n.titleSuffix,h=void 0===p?"":p;if(!s||!i)return null;var m=gr(r),v=f?"(".concat(f,")"):"";return(0,Ke.jsxs)(d.View,{className:"card-title-wrapper",children:[(0,Ke.jsx)(d.View,{children:(0,Ke.jsx)(d.Text,{className:"black-medium".concat(m,"-32 text-number-lines-1"),children:i})}),(0,Ke.jsx)(d.Image,{src:lt,className:"card-arrow-icon"}),(0,Ke.jsx)(d.View,{children:(0,Ke.jsx)(d.Text,{className:"black-medium".concat(m,"-32 text-number-lines-1"),children:"".concat(s).concat(v).concat(h)})}),(0,Ke.jsx)(d.View,{className:"card-tag-view",children:this.renderCardTag(u)})]})}}]),r}(Ye.Component),Or={height:4,width:8},Cr=4,br=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"clickXOrderTitle",(function(t){var r=e.props,n=r.pressCommonTitle,o=r.itemKey,i=r.itemData;t.stopPropagation(),n(o,i)})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.itemData,r=e.isCancel,n=e.isXItem,o=e.itemLen,i=e.isXExpand,a=t||{},s=a.title,c=gr(r),u=yr(r),l=i?gt:vt;return n?o>Cr?(0,Ke.jsxs)(d.View,{className:"card-title-wrapper",onClick:this.clickXOrderTitle,children:[(0,Ke.jsx)(d.Text,{className:"black-medium".concat(c,"-32 text-number-lines-1"),children:s}),(0,Ke.jsx)(d.Image,{className:"x_order_expand_icon",src:"".concat(rt).concat(l).concat(u,".png")})]}):(0,Ke.jsx)(d.View,{className:"card-title-wrapper",children:(0,Ke.jsx)(d.Text,{className:"black-medium".concat(c,"-32 text-number-lines-1"),children:s})}):(0,Ke.jsx)(d.View,{className:"card-title-wrapper",children:(0,Ke.jsx)(d.Text,{className:"black-medium".concat(c,"-32 text-number-lines-2"),children:s})})}}]),r}(Ye.Component),Dr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=null;return function(){r||e(),r&&clearTimeout(r),r=setTimeout((function(){r=null}),t)}},Ar=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=Date.now();return function(){var n=Date.now();n-r>=t&&(e(),r=Date.now())}},wr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.orderStatusName,r=e.isCancel,n=e.isItemCancel,o=e.style,i=void 0===o?{}:o,a=e.isIgnoreMainCancel;return!a&&r?null:t&&t.length>0&&t[0]&&n?(0,Ke.jsx)(d.View,{style:i,className:"card-text-wrapper",children:(0,Ke.jsx)(d.Text,{className:"card-item-status-text",children:t[0]})}):null}}]),r}(Ye.Component),kr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"clickDetailButton",(function(t){t.stopPropagation();var r=e.props,n=r.pressXOrderAction,o=r.orderData,i=r.itemData,a=i||{},s=a.detailData,c=a.isXItem;n(s,o,{isXItem:c})})),e}return(0,a.Z)(r,[{key:"renderXOrderStatus",value:function(e){var t=this.props,r=t.isCancel,n=t.itemData,o=n||{},i=o.isXItemCancel,a=void 0!==i&&i,s=o.orderStatusName,c=void 0===s?[]:s,u=gr(r);return e?a?(0,Ke.jsx)(wr,{orderStatusName:c,isIgnoreMainCancel:!0,isCancel:r,isItemCancel:a}):(0,Ke.jsx)(d.Text,{className:"black-regular".concat(u,"-28"),children:e}):null}},{key:"renderXOrderCancelStatus",value:function(){var e=this.props,t=e.isCancel,r=e.itemData,n=r||{},o=n.isXItemCancel,i=void 0!==o&&o,a=n.orderStatusName,s=void 0===a?[]:a;return(0,Ke.jsx)(wr,{orderStatusName:s,isCancel:t,isItemCancel:i})}},{key:"renderXOrderDetail",value:function(e){var t=this.props.pressXOrderAction,r=e||{},n=r.actionUrl;return n&&t?(0,Ke.jsx)(d.View,{className:"x-order-detail-view",onClick:this.clickDetailButton,children:(0,Ke.jsx)(d.Text,{className:"blue-regular-28",children:"\u8be6\u60c5"})}):null}},{key:"render",value:function(){var e=this.props,t=e.itemData,r=e.configData,n=t||{},o=n.orderStatusName,i=void 0===o?[]:o,a=n.detailData,s=n.bizType,c=r||{},u=c.SUPPORT_DETAIL_X_ORDER,l=i[0]||"";return s&&u.includes(s)?(0,Ke.jsxs)(d.View,{className:"card-text-wrapper",children:[this.renderXOrderStatus(l),this.renderXOrderDetail(a)]}):s?(0,Ke.jsx)(d.View,{className:"card-text-wrapper",children:this.renderXOrderCancelStatus()}):null}}]),r}(Ye.Component),Pr=f.commonModule.isString,Er=f.commonModule.isObjectLike,Nr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;(0,i.Z)(this,r),n=t.call(this,e),(0,l.Z)((0,s.Z)(n),"getInitXOrderItemMap",(function(){var e=n.props.orderData,t=e||{},r=t.itemData,o=t.orderId,i={};return r&&r.length>0&&r.forEach((function(e,t){var r=e||{},n=r.isXItem,a=void 0!==n&&n;if(a){var s="".concat(o,"_").concat(t);i[s]=!1}})),i})),(0,l.Z)((0,s.Z)(n),"getItemStyle",(function(e){return{paddingTop:e?0:13}})),(0,l.Z)((0,s.Z)(n),"getBaseIsCancel",(function(e){var t=n.props.orderData,r=t.baseData,o=r.isCancel,i=void 0!==o&&o,a=e||{},s=a.isItemCancel,c=void 0!==s&&s,u=a.isXItem,l=void 0!==u&&u,d=a.isXItemCancel,f=void 0!==d&&d,p=l?i||f||!1:i||c||!1;return p})),(0,l.Z)((0,s.Z)(n),"pressXOrderTitle",(function(e,t){return Ar((function(){var r=n.state.isXItemExpandMap,o=r[e]||!1,i=t||{},a=i.orderId,s=i.bizType;if(o)K.logTrace(ue.cClickXOrderTitle,{info:"click xOrder title, collapse xOrder",orderId:a,bizType:s});else{var c=Object.keys(r);c&&c.length>0&&c.forEach((function(e){r[e]&&(r[e]=!1)})),K.logTrace(ue.cClickXOrderTitle,{info:"click xOrder title, expand xOrder",orderId:a,bizType:s})}r[e]=!o,n.setState({isXItemExpandMap:r})}),300)})),(0,l.Z)((0,s.Z)(n),"renderItemInfo",(function(e,t,r,o,i){return r&&i>Cr&&!o?null:n.renderOrderInfo(e,t)}));var o=n.getInitXOrderItemMap();return n.state={isXItemExpandMap:o},n}return(0,a.Z)(r,[{key:"renderOrderInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.length)return null;var r=gr(t),n=e.map((function(e,n){if(!e)return null;if(Pr(e))return(0,Ke.jsx)(d.View,{className:"card-content-info-view",children:(0,Ke.jsx)(d.Text,{className:"card-content-info light-gray-regular".concat(r,"-26 text-number-lines-1"),children:e})});if(Er(e)){var o=e.text,i=void 0===o?"":o,a=e.textColor,s=void 0===a?"":a,c=e.icon,u=void 0===c?"":c,l=yr(t),f=s?{color:s}:{},p=u?(0,Ke.jsx)(d.Image,{src:"".concat(rt).concat(u).concat(l,".png"),className:"card-info-icon-img"}):null;return(0,Ke.jsxs)(d.View,{className:"card-content-info-view",children:[p,(0,Ke.jsx)(d.Text,{style:f,className:"card-content-info light-gray-regular".concat(r,"-26 text-number-lines-1"),children:i})]})}return null}));return(0,Ke.jsx)(d.View,{children:n})}},{key:"renderExtendInfo",value:function(e){var t=this.props,r=t.orderData,n=t.configData,o=t.actionHandler,i=r.baseData,a=i.isCancel,s=void 0!==a&&a,c=e||{},u=c.isItemCancel,l=void 0!==u&&u,d=c.orderStatusName,f=void 0===d?[]:d;return(0,Ke.jsxs)(Ye.Fragment,{children:[(0,Ke.jsx)(wr,{orderStatusName:f,isCancel:s,isItemCancel:l}),(0,Ke.jsx)(kr,{isCancel:s,orderData:r,itemData:e,configData:n,pressXOrderAction:o})]})}},{key:"renderTrafficCard",value:function(e,t){var r=e||{},n=r.info,o=this.getBaseIsCancel(e);return(0,Ke.jsxs)(d.View,{className:"card-content",style:this.getItemStyle(t),children:[(0,Ke.jsx)(Sr,{itemData:e,isCancel:o}),this.renderOrderInfo(n,o),this.renderExtendInfo(e)]})}},{key:"renderCommonCard",value:function(e,t,r,n){var o=e||{},i=o.title,a=o.info,s=o.isXItem,c=void 0!==s&&s,u=this.state.isXItemExpandMap,l=u[r]||!1,f=this.getBaseIsCancel(e);return i?(0,Ke.jsxs)(d.View,{className:"card-content",style:this.getItemStyle(t),children:[(0,Ke.jsx)(br,{itemData:e,isCancel:f,isXItem:c,isXExpand:l,itemKey:r,itemLen:n,pressCommonTitle:this.pressXOrderTitle(r,e)}),this.renderItemInfo(a,f,c,l,n),this.renderExtendInfo(e)]}):null}},{key:"renderCardContent",value:function(){var e=this,t=this.props.orderData,r=t||{},n=r.itemData,o=void 0===n?[]:n,i=r.orderId,a=o.length,s=null;return o.map((function(t,r){var n=t||{},o=(n.title,n.info,n.departure),c=void 0===o?"":o,u=n.arrival,l=void 0===u?"":u,d=!!c&&!!l,f=0===r,p="".concat(i,"_").concat(r);return s=d?e.renderTrafficCard(t,f):e.renderCommonCard(t,f,p,a),s}))}},{key:"render",value:function(){return(0,Ke.jsx)(d.View,{children:this.renderCardContent()})}}]),r}(Ye.Component),_r=function(e,t){var r=[];try{r=e.match(t)}catch(e){console.error("getMatchStr failed",e)}return r},xr=/(.*)<b>(.*?)<b>(.*)/,Fr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"renderOrderTotalAmountText",value:function(e,t,r){return e?t?(0,Ke.jsx)(d.Text,{className:"black-medium".concat(r,"-32"),children:e}):(0,Ke.jsx)(d.Text,{className:"black-regular".concat(r,"-26"),children:e}):null}},{key:"renderAmountText",value:function(e,t){var r=[];if(e){var n=_r(e,xr);if(n&&n.length>=4)for(var o=1;o<4;o+=1)r.push(this.renderOrderTotalAmountText(n[o],2===o,t))}return r}},{key:"renderTag",value:function(e,t,r){return(0,Ke.jsx)(d.Text,{className:"black-regular".concat(r,"-26 amount-tag-text"),children:t},e)}},{key:"renderEachAmount",value:function(e,t){var r=this,n=[];return e&&e.length>0&&e.forEach((function(e,o){var i="\uff0c";e&&e.indexOf("<b>")>=0?n.push((0,Ke.jsxs)(d.View,{className:"card-amount-view",children:[r.renderAmountText(e,t),r.renderTag(o,i,t)]})):n.push((0,Ke.jsxs)(d.View,{className:"card-amount-view",children:[(0,Ke.jsx)(d.Text,{className:"black-regular".concat(t,"-26"),children:e}),r.renderTag(o,i,t)]}))})),n&&n.length>0?(0,Ke.jsx)(d.View,{className:"amount-content-wrapper",children:n}):null}},{key:"render",value:function(){var e=this.props,t=e.orderAmount,r=e.isCancel,n=void 0!==r&&r,o=t||{},i=o.validity,a=o.payInfos,s=o.refundInfos;if(!i)return null;var c=gr(n);return(0,Ke.jsxs)(d.View,{className:"card-amount-content",children:[this.renderEachAmount(a,c),this.renderEachAmount(s,c)]})}}]),r}(Ye.Component),Rr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"processPrice",value:function(e,t,r){var n=t?"".concat(e).concat(t):"";return n&&r?"".concat(n,"+").concat(r):"".concat(n).concat(r)}},{key:"renderPriceLeftDesc",value:function(e,t){if(!e||!e.length)return null;var r=e.join(" ");return(0,Ke.jsx)(d.Text,{className:"gray-regular".concat(t,"-24 text-number-lines-1"),children:r})}},{key:"renderPriceBottomDesc",value:function(e,t){return e.map((function(e){return(0,Ke.jsx)(d.Text,{className:"gray-regular".concat(t,"-24 text-number-lines-1"),children:e})}))}},{key:"render",value:function(){var e=this.props.baseData,t=e||{},r=t.orderCurrency,n=void 0===r?"":r,o=t.orderTotalPrice,i=void 0===o?0:o,a=t.integral,s=void 0===a?"":a,c=t.isCancel,u=void 0!==c&&c,l=t.priceDetailLeftDescription,f=void 0===l?[]:l,p=t.priceDetailBottomDescription,h=void 0===p?[]:p;if(!i&&!s)return null;var m=this.processPrice(n,i,s),v=gr(u);return(0,Ke.jsxs)(d.View,{className:"card-price-content",children:[(0,Ke.jsxs)(d.View,{className:"card-price-view",children:[(0,Ke.jsx)(d.View,{className:"price-left-view",children:this.renderPriceLeftDesc(f,v)}),(0,Ke.jsx)(d.Text,{className:"price-integral-text black-medium".concat(v,"-30"),children:m})]}),(0,Ke.jsx)(d.View,{className:"price-extend-view",children:this.renderPriceBottomDesc(h,v)})]})}}]),r}(Ye.Component),Mr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.orderData,t=e||{},r=t.baseData,n=(t.orderId,r||{}),o=n.orderAmount,i=void 0===o?null:o,a=n.isCancel;return null!==i?(0,Ke.jsx)(d.View,{className:"order-amount-wrapper",children:(0,Ke.jsx)(Fr,{orderAmount:i,isCancel:a})}):(0,Ke.jsx)(d.View,{className:"order-price-wrapper",children:(0,Ke.jsx)(Rr,{baseData:r})})}}]),r}(Ye.Component),Br=r(93212),jr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"getElementSite",(function(e){var t=g.createSelectorQuery();if("string"===typeof e)t.select(e).boundingClientRect();else if("object"===(0,Br.Z)(e)){var r=Object.keys(e);r&&r.length>0&&r.forEach((function(e){var n=r[e];t.select(n).boundingClientRect()}))}return t})),(0,l.Z)((0,s.Z)(e),"getMoreButtonPosition",(function(t){var r=e.getElementSite(t);return new Promise((function(e){try{r.exec((function(t){if(t&&t.length>0){var r=t[0]||{},n=r.width,o=r.height,i=r.top,a=r.left;e({btnWidth:n,btnHeight:o,pageX:a,pageY:i})}}))}catch(t){K.logDevTrace({info:"getMoreButtonPosition error, the message is : ".concat(JSON.stringify(t))}),console.warn("getMoreButtonPosition message: ",t),e(void 0)}}))})),(0,l.Z)((0,s.Z)(e),"onClickMoreButton",(function(t){var r=e.props,n=r.button,o=r.orderData,i=r.pressCardAction,a=o||{},s=a.orderId;t.stopPropagation(),s&&e.getMoreButtonPosition("#card-button-".concat(s)).then((function(e){i(n,o,e)}))})),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this.props.orderData,t=e||{},r=t.orderId;return(0,Ke.jsx)(d.View,{id:"card-button-".concat(r),className:"card-more-button-wrapper",onClick:this.onClickMoreButton,children:(0,Ke.jsx)(d.Image,{className:"card-more-button-img",src:ct})})}}]),r}(Ye.Component),Lr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"pressCardActionHandler",Dr((function(){var t=e.props,r=t.pressCardAction,n=t.button,o=t.orderData;r(n,o)}))),(0,l.Z)((0,s.Z)(e),"onClickCardButton",(function(t){var r=e.props,n=r.button,o=n.standardCode,i=n.actionType,a=n.actionBase,s=r.setModalInfo,c=a||{},u=c.bizType;t.stopPropagation();var l=nr.includes("".concat(u).concat(o))||or.includes(o);"Button"!==i||l?e.pressCardActionHandler():s({isShowModal:!0,modalText:ir[o],majorFn:e.pressCardActionHandler})})),(0,l.Z)((0,s.Z)(e),"getCardButtonStyle",(function(){var t=e.props.cardIndex,r=void 0===t?0:t;return 0!==r?"card-button-margin":""})),e}return(0,a.Z)(r,[{key:"renderButtonTag",value:function(){var e=this.props,t=e.button.actionTag,r=void 0===t?"":t,n=e.style;if(!r)return null;var o="tag-award"===r?"button-tag-size-small":"button-tag-size-big";return(0,Ke.jsx)(d.Image,{className:"".concat(o," button-tag"),style:n,src:"".concat(rt).concat(r,".png")})}},{key:"renderHighlightCardButton",value:function(){var e=this.props,t=e.button.actionName,r=e.style;return(0,Ke.jsx)(d.View,{className:"base-card-button highlight-card-button ".concat(this.getCardButtonStyle()),style:r,onClick:this.onClickCardButton,children:(0,Ke.jsx)(d.Text,{className:"white-regular-26",children:t})})}},{key:"renderNormalCardButton",value:function(){var e=this.props,t=e.button.actionName,r=e.style;return(0,Ke.jsxs)(d.View,{className:"base-card-button normal-card-button ".concat(this.getCardButtonStyle()),style:r,onClick:this.onClickCardButton,children:[(0,Ke.jsx)(d.Text,{className:"black-regular-26",children:t}),this.renderButtonTag()]})}},{key:"render",value:function(){var e=this.props.button.actionStyle;return e===Bt.Style2?this.renderHighlightCardButton():this.renderNormalCardButton()}}]),r}(Ye.Component),Vr=f.commonModule.connect,Ur=f.commonModule.bindActionCreators,Hr=function(e){return Ur({pressCardAction:lr,setModalInfo:Yt},e)},Zr=Vr(null,Hr)(jr),qr=Vr(null,Hr)(Lr),zr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"renderDisplayButton",value:function(e){var t=this.props.orderData,r=t.bizType;if(!e)return null;for(var n,o=[],i=e.length-1;i>=0;i-=1){n=e[i];var a=n,s=a.actionName,c=a.actionXPath,u=a.standardCode;n&&s&&(K.logTrace(ue.showButton,{actionXPath:c||""}),K.logMetric({bizType:r,actionStandardCode:u}),o.push((0,Ke.jsx)(qr,{cardIndex:i,button:n,orderData:t},n.actionName)))}return o}},{key:"renderMoreButton",value:function(e){if(e&&e.length>0){var t=this.props.orderData,r=t||{},n=r.moreActionData,o=r.bizType;return K.logTrace(ue.showMoreButton,{actionXPath:null===n||void 0===n?void 0:n.actionXPath}),K.logMetric({bizType:o,actionStandardCode:X.more}),(0,Ke.jsx)(Zr,{button:n,orderData:t},"more")}return null}},{key:"render",value:function(){var e=this.props.orderData,t=e||{},r=t.actionData,n=t.displayButtonList,o=t.moreButtonList;if(!r||0===r.length)return null;var i=this.renderDisplayButton(n),a=this.renderMoreButton(o);return a&&i&&i.length>0&&i.unshift(a),(0,Ke.jsx)(d.View,{className:"card-button-wrapper",children:i})}}]),r}(Ye.Component),Xr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"renderAssociateTip",value:function(){var e=this.props.orderData,t=e||{},r=t.baseData,n=r||{},o=n.isShowAssociateBar,i=void 0!==o&&o;return i?(0,Ke.jsx)(d.Text,{className:"card-tip-text black-regular-26 text-number-lines-1",children:$t.associate}):null}},{key:"render",value:function(){var e=this.renderAssociateTip(),t=this.props.orderData,r=t||{},n=r.actionData,o=void 0===n?[]:n;if(!e)return null;var i=o.length?{marginTop:24}:{};return(0,Ke.jsx)(d.View,{className:"card-footer-tip-wrapper",style:i,children:e})}}]),r}(Ye.Component),Gr=r(90129),Wr=f.commonModule.isString,Qr=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"renderTipIcon",value:function(){return(0,Ke.jsx)(d.Image,{className:"card-tip-img",src:ft})}},{key:"renderText",value:function(e){return e&&0!==e.length?e.map((function(e){var t=(0,Gr.Z)(e,3),r=t[1],n=void 0===r?"":r,o=t[2];return(0,Ke.jsxs)(d.Text,{className:"tip-text gray-regular-24",children:[n,(0,Ke.jsx)(d.Text,{className:"tip-text orange-regular-24",children:o})]})})):null}},{key:"render",value:function(){var e=this.props.orderData,t=e||{},r=t.extensionData,n=r||{},o=n.cardTip,i=o||{},a=i.text,s=void 0===a?"":a;if(!s)return null;var c=this.renderTipIcon();return Wr(s)?(0,Ke.jsxs)(d.View,{className:"card-tip-wrapper",children:[c,(0,Ke.jsx)(d.Text,{className:"tip-text gray-regular-24 text-number-lines-1",children:s})]}):(0,Ke.jsxs)(d.View,{className:"card-tip-wrapper",children:[c,(0,Ke.jsx)(d.View,{className:"one-lint-view text-number-lines-1",children:(0,Ke.jsx)(d.Text,{children:this.renderText(s)})})]})}}]),r}(Ye.Component),Yr={Default:"\u8ba2\u5355",FlightHotel:"\u673a+\u9152",GsCommercial:"\u7f8e\u98df",Tuan:"\u56e2\u8d2d\xb7\u9884\u552e",Hotel:"\u9152\u5e97",FishTrip:"\u6c11\u5bbf",Meeting:"\u4f1a\u8bae\xb7\u56e2\u623f",Cruise:"\u90ae\u8f6e",VacationCruise:"\u90ae\u8f6e",HHTravel:"\u9e3f\u9e44\xb7\u5962\u6e38",CustomizedHH:"\u9e3f\u9e44\xb7\u5962\u6e38",VacationInsurance:"\u5ea6\u5047\u4fdd\u9669",FlightInsurance:"\u673a\u7968\u4fdd\u9669",CarRentInsurance:"\u79df\u8f66\u4fdd\u9669",FinanceInsurance:"\u91d1\u878d\u4fdd\u9669",Activity:"\u6d3b\u52a8",Piao:"\u95e8\u7968",AirportBus:"\u673a\u573a\u5df4\u58eb",QiChe:"\u6c7d\u8f66\u7968",PointBus:"\u6c7d\u8f66\u7968",Car:"\u79df\u8f66",CarPrivate:"\u4e13\u8f66",Translation:"\u7ffb\u8bd1\u9a7e\u7167",Flight:"\u673a\u7968",FlightDomestic:"\u673a\u7968",FlightInternational:"\u673a\u7968",PreSale:"\u673a\u7968\u9884\u552e",FlightCor:"\u516c\u52a1\u673a\u5305\u673a",FlightX:"\u51fa\u884c\u670d\u52a1",Train:"\u706b\u8f66\u7968",TrainInternational:"\u56fd\u9645\u706b\u8f66\u7968",Ship:"\u8239\u7968",Yacht:"\u6e38\u8247",CrowdFunding:"\u4f17\u7b79",One:"\u4e00\u5143\u4f17\u7b79",Market:"\u4f1a\u5458\u5546\u57ce",Mice:"\u5c55\u4f1a\u9152\u5e97",TaxRebate:"\u9000\u7a0e",Surprise:"\u9001\u5fc3\u610f",Bag:"\u884c\u674e\u7ba1\u5bb6",Customized:"\u5305\u56e2\u5b9a\u5236",Exchange:"\u5916\u5e01\u5151\u6362",CashPassport:"\u73af\u7403\u73b0\u91d1\u5361",GsFood:"\u7f8e\u98df\u8ba2\u9910",GsFoodQueue:"\u7f8e\u98df\u6392\u961f",SelfPayment:"\u7f8e\u98df\u5728\u7ebf\u4e70\u5355",Health:"\u4f53\u68c0",Mall:"\u4f1a\u5458\u5546\u57ce",NewMall:"\u4f1a\u5458\u5546\u57ce",GlobalBuyFlashPay:"\u4f1a\u5458\u5546\u57ce",GlobalBuyCoupon:"\u4f1a\u5458\u5546\u57ce",MktRight:"\u6743\u76ca",MktAos:"\u6d3b\u52a8",MktSupermember:"\u8d85\u7ea7\u4f1a\u5458",Sport:"\u8fd0\u52a8\u573a\u9986",Vacation:"\u5ea6\u5047",DIY:"\u81ea\u7531\u884c",Visa:"\u7b7e\u8bc1",SceneryHotel:"\u666f\u9152",Credit:"\u4fe1\u7528\u5361\u7533\u8bf7",Lipin:"\u793c\u54c1\u5361",LocalGuide:"\u5411\u5bfc",ManWithGood:"\u5411\u5bfc",NAT:"\u6838\u9178\u68c0\u6d4b"},Kr={TrainInternational:"\u706b\u8f66",Train:"\u706b\u8f66",QiChe:"\u6c7d\u8f66",Ship:"\u8239",HotelInternational:"\u9152\u5e97",HotelDomestic:"\u9152\u5e97",CarPrivate:"\u4e13\u8f66",Car:"\u79df\u8f66",Piao:"\u95e8\u7968"},Jr=["CarPrivate","Car"],$r={CANCEL:"\u5df2\u53d6\u6d88"},en={CHINESE_NAME_MAP:Yr,X_ORDER_NAME_MAP:Kr,SUPPORT_DETAIL_X_ORDER:Jr,ORDER_STATUS_NAME:$r},tn=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"controlDebounce",Dr((function(){var t=e.props,r=t.orderData,n=t.pressCardAction,o=t.showNoDetailModal,i=r||{},a=i.detailData,s=a||{},c=s.actionUrl,u=void 0===c?"":c;if(!a||!u)return o(),void K.logDevTrace({info:"show no detail modal"});n(a,r)}))),(0,l.Z)((0,s.Z)(e),"handleClick",(function(t){t.stopPropagation(),e.controlDebounce()})),(0,l.Z)((0,s.Z)(e),"getIsCancelText",(function(){var t=e.props.orderData,r=t||{},n=r.baseData,o=n||{},i=o.isCancel,a=void 0!==i&&i;return gr(a)})),e}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props.orderData,t=e||{},r=t.detailData,n=t.bizType,o=r||{},i=o.standardCode,a=void 0===i?"":i;r&&K.logMetric({bizType:n,actionStandardCode:a})}},{key:"render",value:function(){var e=this.props,t=e.orderData,r=e.pressCardAction,n=this.getIsCancelText();return(0,Ke.jsxs)(d.View,{className:"card-wrapper",onClick:this.handleClick,children:[(0,Ke.jsx)(cn,{orderData:t,isCancelText:n}),(0,Ke.jsx)(Qr,{orderData:t}),(0,Ke.jsxs)(d.View,{className:"card-content-view",children:[(0,Ke.jsx)(Nr,{orderData:t,configData:en,actionHandler:r}),(0,Ke.jsx)(Mr,{orderData:t})]}),(0,Ke.jsx)(zr,{orderData:t}),(0,Ke.jsx)(Xr,{orderData:t})]})}}]),r}(Ye.Component),rn=f.commonModule.connect,nn=f.commonModule.bindActionCreators,on=function(e){return{deleteBtnData:dr(e)}},an=function(e){return nn({pressCardAction:lr,showNoDetailModal:ur,setModalInfo:Yt},e)},sn=rn(on,an)(tn),cn=rn(on,an)(Tr),un=N()||0,ln=Mt(),dn=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;(0,i.Z)(this,r),n=t.call(this,e),(0,l.Z)((0,s.Z)(n),"onShowEventId",""),(0,l.Z)((0,s.Z)(n),"onRefresh",(function(){var e=n.props.setIsTriggerPullRefresh;e(!0)})),(0,l.Z)((0,s.Z)(n),"fetchSingleOrder",(function(){var e=n.props,t=e.refreshOrderId,r=e.refreshCard,o=e.currentPageInfo,i=o.preventSingleRefresh;t&&!i&&r(t)})),(0,l.Z)((0,s.Z)(n),"fetchOrderList",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=n.props,r=t.fetchOrders,o=t.setNeedLoadFirstPage;e&&n.showFullLoading(),r(e),o(!1)})),(0,l.Z)((0,s.Z)(n),"fetchFilterConf",(function(){var e=n.props.fetchFilterData;e()})),(0,l.Z)((0,s.Z)(n),"getHighlightText",(function(e,t,r){return t&&e===fe.ALL?"\u67e5\u770b\u6240\u6709".concat(r,"\u8ba2\u5355"):""})),(0,l.Z)((0,s.Z)(n),"getBottomCommonTip",(function(e,t){var r=e?"30\u5929":"\u4e00\u5e74",n=t?"\u6709\u6548":"";return"\u53ea\u5c55\u793a\u6700\u8fd1".concat(r,"\u5185\u768450\u6761").concat(n,"\u8ba2\u5355")})),(0,l.Z)((0,s.Z)(n),"highlightTextHandler",(function(){var e=n.props,t=e.setIsValid,r=e.setNeedLoadFirstPage;t(!1),r(!0)})),(0,l.Z)((0,s.Z)(n),"getOrderListStyle",(function(){var e=n.props.currentPageInfo,t=e.unShowTabList,r=t?H:H+V,o=un?un-r:0;return{height:o}})),(0,l.Z)((0,s.Z)(n),"onScrollToLower",(function(){var e=n.props,t=e.fetchNextPage,r=e.isLoadingMore,o=e.isLoadingMoreFailed,i=e.hasMore;r||!i||o||t()})),(0,l.Z)((0,s.Z)(n),"renderBottomTip",(function(){var e=n.props,t=e.isFetching,r=e.isValid,o=e.currentPageInfo,i=e.currentTabStatus,a=o.id,s=o.name;if(t)return null;var c=a===he.TRAIN,u=[{text:n.getBottomCommonTip(c,r)},{text:n.getHighlightText(i,r,s),needHighlight:!0,handler:n.highlightTextHandler}];return(0,Ke.jsx)(tt,{tipsInfo:u})})),n.state={showFullLoading:!1};var o=e.setTabsStatus,a=e.currentPageInfo,c=a||Te,u=c.classify;return o(u),n}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){this.onShowEventId=_t(),Et(this.onShowEventId,this.fetchSingleOrder),Et(this.onShowEventId,xt),this.fetchOrderList(),this.fetchFilterConf()}},{key:"componentWillUnmount",value:function(){Nt(this.onShowEventId)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isFetching,n=t.needLoadFirstPage,o=t.isPulling,i=t.setIsTriggerPullRefresh;e.needLoadFirstPage!==n&&n&&this.fetchOrderList(),e.isFetching===r||r||(i(!1),this.hideFullLoading()),e.isPulling!==o&&o&&this.fetchOrderList(!1)}},{key:"showFullLoading",value:function(){this.setState({showFullLoading:!0}),Ft()}},{key:"hideFullLoading",value:function(){var e=this.state.showFullLoading;e&&Rt(),this.setState({showFullLoading:!1})}},{key:"renderTopEntryBar",value:function(){var e=this.props,t=e.isShowUnusedOrderEntry,r=e.changePage,n=e.pageConfs;return(0,Ke.jsx)(Pt,{isShowEntryBar:t,options:er.ORDER_UNUSED_TIP,pageConfs:n,changePage:r})}},{key:"renderOrderList",value:function(){var e=this.props.orderDataList,t=[];return e&&e.length>0&&e.forEach((function(e){var r=(0,Ke.jsx)(sn,{orderData:e},e.orderId);r&&t.push(r)})),t}},{key:"renderOrderListFooter",value:function(){return this.renderBottomTip()}},{key:"renderNoOrderView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"noOrder",n=Object.assign(tr[r],{titleHighlightText:e,titleHandler:t});return(0,Ke.jsx)($e,{tipConf:n})}},{key:"renderErrorView",value:function(e,t){K.logMetric(t);var r=(0,p.Z)({btnHandler:e},tr.error);return(0,Ke.jsx)($e,{tipConf:r})}},{key:"render",value:function(){var e=this.props,t=e.isFetching,r=e.isFetchingFailed,n=e.isNoOrder,o=e.pageNum,i=e.currentPageInfo,a=e.currentTabStatus,s=e.isPulling,c=e.isValid,u=this.state.showFullLoading,l=i.id,f=void 0===l?he.ALL:l,p=i.name;if(u)return null;if(!t&&r&&1===o)return this.renderErrorView(this.fetchOrderList,{pageType:f,tabStatus:a,pageStatus:z.retry});if(!t&&!r&&n){var h=f===ye?"noOrderForMobileSearch":"noOrder";return this.renderNoOrderView(this.getHighlightText(a,c,p),this.highlightTextHandler,h)}return(0,Ke.jsxs)(d.ScrollView,{style:this.getOrderListStyle(),className:"page-content",scrollY:!0,refresherEnabled:!0,refresherBackground:"#F8F8F8",refresherTriggered:s,onRefresherRefresh:this.onRefresh,children:[this.renderTopEntryBar(),this.renderOrderList(),(0,Ke.jsx)(d.View,{className:"order-list-footer",style:ln,children:this.renderOrderListFooter()})]})}}]),r}(Ye.Component),fn={SET_PAGE_INFO:"page.setPageInfo",IS_VALID_STATUS:"page.isValidStatus",IS_TRIGGER_PULL_REFRESH:"page.isTriggerPullRefresh",SET_PAGE_CONFS:"page.setPageConfs",NEED_LOAD_FIRST_PAGE:"page.needLoadFirstPage",SET_BACK_ID:"page.backId"},pn=function(e){return{type:fn.SET_PAGE_INFO,pageInfo:e}},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:fn.IS_VALID_STATUS,isValid:e}},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:fn.IS_TRIGGER_PULL_REFRESH,isPulling:e}},vn=function(e){return{type:fn.SET_PAGE_CONFS,pageConfs:e}},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:fn.NEED_LOAD_FIRST_PAGE,needLoadFirstPage:e}},yn=function(e){return{type:fn.SET_BACK_ID,backInfo:e}},Tn=f.commonModule.loadOrders,In=f.commonModule.ListPageActions,Sn=In.refreshFirstPage,On={RECEIVE_FILTER_DATA:"modal.fetchFilterData"},Cn=function(e){return{type:On.RECEIVE_FILTER_DATA,filterConf:e}},bn=function(){return function(e){var t=T.getQConfig,r={names:"wxOrderFilter"};I(t,r).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?[]:t,n=(0,Gr.Z)(r,1),o=n[0];return o=o.message||"",o&&(o=JSON.parse(o)),o||Ie})).catch((function(e){return K.logDevTrace({info:"\u83b7\u53d6\u9875\u9762\uff08\u5305\u542b\u7b5b\u9009\u4fe1\u606f\uff09\u914d\u7f6e\u4fe1\u606f\u5931\u8d25\uff0c\u4f7f\u7528\u4ee3\u7801\u4fdd\u5e95\u6570\u636e",error:e.message}),Ie})).then((function(t){e(Cn(t));var r=Se(t);e(vn(r))}))}},Dn=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,r){var n=r(),o=Me(n);t(e?Tn(o):Sn(o))}},An=f.commonModule.singleRefreshAdaptor,wn=function(e,t){return Jt("\u6267\u884c\u5355\u6761\u5237\u65b0, orderId: ".concat(e),3e3,!0),An(e,t)},kn=f.commonModule.getRefreshOrderIds,Pn=function(e){var t=kn(e);return t&&t.length>0?t[0]:null},En=f.commonModule.connect,Nn=f.commonModule.bindActionCreators,_n=f.commonModule.getOrderData,xn=f.commonModule.isFetching,Fn=f.commonModule.isRefreshing,Rn=f.commonModule.isFetchingFailed,Mn=f.commonModule.hasOrder,Bn=f.commonModule.getHomeTabsStatus,jn=f.commonModule.setTabsStatus,Ln=f.commonModule.ListPageActions,Vn=f.commonModule.isLoadingMore,Un=f.commonModule.getPageNum,Hn=Ln.fetchNextPage,Zn=Ln.refetchCurrentPage,qn=function(e){return{currentPageInfo:Ee(e),orderDataList:_n(e),isNoOrder:!Mn(e),hasMore:je(e),pageNum:Un(e),isLoadingMore:Vn(e),isLoadingMoreFailed:Mn(e)&&Rn(e)&&Un(e)>1,isFetching:xn(e),isRefreshing:Fn(e),isFetchingFailed:Rn(e),isPulling:_e(e),refreshOrderId:Pn(e),needLoadFirstPage:Re(e),currentTabStatus:Bn(e),isShowUnusedOrderEntry:Ue(e),isValid:Ne(e),pageConfs:xe(e)}},zn=function(e){return Nn({fetchOrders:Dn,fetchNextPage:Hn,refetchCurrentPage:Zn,fetchFilterData:bn,setIsTriggerPullRefresh:mn,setNeedLoadFirstPage:gn,refreshCard:wn,setTabsStatus:jn,setIsValid:hn},e)},Xn=En(qn,zn)(dn),Gn=_(),Wn=Gn.left,Qn=Gn.width,Yn=Gn.height,Kn=Gn.top,Jn=E(),$n=Jn-Qn-24,eo=Wn+Qn>Jn?$n:Wn-12,to=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"getStyle",(function(){return{mobileSearch:{height:Yn},headWrapper:{paddingTop:Kn,height:Yn,width:eo}}})),(0,l.Z)((0,s.Z)(e),"onClickBackButton",(function(){var t=e.props,r=t.currentPageInfo,n=t.pageConfs,o=void 0===n?{}:n,i=t.changePage,a=t.backInfo,s=t.setTabsStatus,c=t.setBackInfo,u=r.needBackToLasPage,l=void 0!==u&&u,d=r.backId,f=void 0===d?"":d,p=a.backId,h=void 0===p?"":p,m=a.backTabStatus,v=void 0===m?"":m,g=h||f||"",y=o[g];if(K.logTrace(ue.cClickPageBackButton,{info:"change page to ".concat(g),pageInfo:y,backToLastPage:l}),g)return i(y),void(l&&(s(v),c({}),At()));At()})),e}return(0,a.Z)(r,[{key:"renderTitleAndFilter",value:function(){var e=this.props,t=e.showFilter,r=e.isShowFilter,n=e.currentPageInfo,o=e.isValid,i=n||{},a=i.name,s=i.unShowFilter,c=void 0!==s&&s,u=i.ignoreSuffix,l=void 0!==u&&u,f=r?"down-triangle-open":"up-triangle-close",p=l?a:"".concat(a,"\u8ba2\u5355");return c?(0,Ke.jsx)(d.View,{className:"page-header-title",children:(0,Ke.jsx)(d.Text,{className:"text-number-lines-1",children:p})}):(0,Ke.jsxs)(d.View,{className:"page-header-title",onClick:t,children:[(0,Ke.jsx)(d.Text,{className:"text-number-lines-1",children:"".concat(a,o?"\u6709\u6548\u8ba2\u5355":"\u8ba2\u5355")}),(0,Ke.jsx)(d.View,{className:f})]})}},{key:"renderMobileSearchEntry",value:function(e){var t=this.props.currentPageInfo,r=t||{},n=r.unShowMobileSearchEntry,o=void 0!==n&&n;return o?null:(0,Ke.jsx)(d.View,{className:"mobile-search",style:e.mobileSearch,onClick:function(){wt()},children:"\u624b\u673a\u67e5\u5355"})}},{key:"render",value:function(){var e=this.getStyle();return(0,Ke.jsx)(d.View,{className:"header-wrapper",children:(0,Ke.jsxs)(d.View,{className:"page-header-wrapper",style:e.headWrapper,children:[(0,Ke.jsxs)(d.View,{className:"page-left-header",children:[(0,Ke.jsx)(d.Image,{onClick:this.onClickBackButton,src:ht}),this.renderTitleAndFilter()]}),this.renderMobileSearchEntry(e)]})})}}]),r}(Ye.Component),ro=function(e){return e.modal.isShowFilterModal},no=function(e){return e.modal.info},oo=f.commonModule.connect,io=f.commonModule.bindActionCreators,ao=f.commonModule.setTabsStatus,so=function(e){return{isShowFilter:ro(e),currentPageInfo:Ee(e),pageConfs:xe(e),isValid:Ne(e),backInfo:Be(e)}},co=function(e){return io({showFilter:function(){return Qt(!0)},setBackInfo:yn,setTabsStatus:ao},e)},uo=oo(so,co)(to),lo=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"clickTabItem",(function(t,r){var n=r.classify,o=void 0===n?fe.ALL:n,i=r.traceKey,a=e.props,s=a.setTabsStatus,c=a.setNeedLoadFirstPage;t.stopPropagation(),s(o),c(!0),K.logTrace(i,{tabStatus:o})})),e}return(0,a.Z)(r,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,r=t.tabStatus,n=t.currentPageInfo;return n!==e.currentPageInfo||r!==e.tabStatus}},{key:"renderTabText",value:function(e,t){return e?t?(0,Ke.jsx)(d.Text,{className:"blue-medium-30 tab-highlight-text",children:e}):(0,Ke.jsx)(d.Text,{className:"gray-regular-30",children:e}):null}},{key:"renderTabItems",value:function(){var e=this,t=this.props,r=t.tabStatus,n=void 0===r?fe.ALL:r,o=t.pageConfs;return ve.map((function(t){var r=t.id,i=o[r]||t,a=i.text,s=void 0===a?"":a,c=i.classify,u=void 0===c?fe.ALL:c,l=n===u,f=l?(0,Ke.jsx)(d.View,{className:"tab-highlight-view"}):null;return(0,Ke.jsx)(d.View,{className:"tab-item-wrapper",onClick:function(t){return e.clickTabItem(t,i)},children:(0,Ke.jsxs)(d.View,{className:"tab-text-wrapper",children:[e.renderTabText(s,l),f]})})}))}},{key:"render",value:function(){var e=this.props.currentPageInfo,t=e||{},r=t.unShowTabList,n=void 0!==r&&r;return n?null:(0,Ke.jsx)(d.View,{className:"tab-wrapper",children:this.renderTabItems()})}}]),r}(Ye.Component),fo=f.commonModule.connect,po=f.commonModule.bindActionCreators,ho=f.commonModule.getHomeTabsStatus,mo=f.commonModule.setTabsStatus,vo=function(e){return{tabStatus:ho(e),currentPageInfo:Ee(e),pageConfs:xe(e)}},go=function(e){return po({setTabsStatus:mo,setNeedLoadFirstPage:gn},e)},yo=fo(vo,go)(lo),To=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,i.Z)(this,r),n=t.call(this,e),(0,l.Z)((0,s.Z)(n),"computerMenuWith",(function(){var e=E();if(!e)return console.warn("can not get screen width."),null;var t=(e-64-38)/3;n.setState({menuWithStyle:{width:t,flexBasis:t}})})),(0,l.Z)((0,s.Z)(n),"closeFilterModal",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n.props,o=r.closeFilter,i=r.setCurrentPageInfo,a=r.currentPageInfo,s=r.setNeedLoadFirstPage,c=t||a;i(c),o(!1),K.logTrace(ue.cClickFilterMenuButton,{info:"click filter modal menu",pageInfo:c}),e&&s(!0)})),(0,l.Z)((0,s.Z)(n),"selectMenu",(function(e,t){e.stopPropagation(),n.closeFilterModal(!0,t)})),(0,l.Z)((0,s.Z)(n),"setMenuClass",(function(e){var t=n.props.currentPageInfo.id;return e===t?"filter-menu-item filter-menu-selected":"filter-menu-item"})),(0,l.Z)((0,s.Z)(n),"renderMenus",(function(e,t){var r=e||{},o=r.typeName,i=void 0===o?"":o,a=r.menus,s=void 0===a?[]:a,c=3,u=s.length,l=void 0===u?0:u,f=0,p=l/c;f=Number.isInteger(p)?p:Math.ceil(p);var h=Array.apply(null,{length:f}).map((function(e,t){return s.slice(t*c,(t+1)*c)})),m=h.map((function(e,r){var o=e.map((function(e,r){var o=e.name,i=e.id,a=n.setMenuClass(i);return(0,Ke.jsx)(d.Text,{onClick:function(t){return n.selectMenu(t,e)},className:a,style:2!==r?Object.assign({},t,{marginRight:19}):t,children:o},i)}));return(0,Ke.jsx)(d.View,{className:"filter-menu-wrapper",children:o},r)})),v=(0,Ke.jsx)(d.View,{className:"filter-type",children:(0,Ke.jsx)(d.Text,{children:i})});return[v,m]})),(0,l.Z)((0,s.Z)(n),"renderAllMenu",(function(e,t){var r=e||{},o=r.menus,i=r.typeName;if(!o||o.length<=0)return null;var a=(0,Gr.Z)(o,1),s=a[0],c=n.setMenuClass(s.id);return(0,Ke.jsx)(d.Text,{style:t,onClick:function(e){return n.selectMenu(e,s)},className:c,children:i})})),n.state={menuWithStyle:{width:0,flexBasis:0}},n}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){this.computerMenuWith()}},{key:"render",value:function(){var e=this,t=this.props,r=t.isShow,n=void 0!==r&&r,o=t.isValid,i=void 0!==o&&o,a=t.currentPageInfo,s=t.filterConf,c=void 0===s?Ie:s,u=t.setIsFilterValid,l=a||{},f=l.name,p=this.state.menuWithStyle,h=i?it:at,m={};n&&p||(m={display:"none"});var v=c.allType,g=c.travelTypeMenus,y=c.financeTypeMenus,T=this.renderMenus(g,p),I=this.renderMenus(y,p),S=this.renderAllMenu(v,p);return(0,Ke.jsx)(d.View,{className:"modal-mask",catchMove:!0,style:m,onClick:function(t){try{t.mpEvent.target.id===t.mpEvent.currentTarget.id&&e.closeFilterModal()}catch(t){console.error(t.message),e.closeFilterModal()}},children:(0,Ke.jsxs)(d.View,{className:"filter-wrapper",children:[(0,Ke.jsxs)(d.View,{className:"filter-head",children:[(0,Ke.jsx)(d.Image,{className:"filter-close",src:st,onClick:function(t){t.stopPropagation(),e.closeFilterModal(),K.logTrace(ue.cClickCloseFilterModalButton,{info:"close filter modal"})}}),(0,Ke.jsx)(d.Text,{className:"filter-title",children:"".concat(f,"\u8ba2\u5355")})]}),(0,Ke.jsx)(d.ScrollView,{scrollY:!0,className:"filter-scroll-view",children:(0,Ke.jsxs)(d.View,{className:"filter-menu",children:[(0,Ke.jsxs)(d.View,{className:"filter-menu-wrapper two-item-line",children:[S,(0,Ke.jsxs)(d.View,{className:"filter-checkbox",onClick:function(t){t.stopPropagation(),u(!i),e.closeFilterModal(!0),K.logTrace(ue.cClickFilterOrderButton,{info:"filter valid is ".concat(!i)})},children:[(0,Ke.jsx)(d.Image,{className:"checkbox",src:h}),(0,Ke.jsx)(d.Text,{className:"filter-checkbox-text",children:"\u4ec5\u770b\u6709\u6548\u8ba2\u5355"})]})]}),T,I]})})]})})}}]),r}(Ye.Component),Io=function(e){return e.fetchResult.filterConf},So=f.commonModule.connect,Oo=f.commonModule.bindActionCreators,Co=function(e){return{isShow:ro(e),currentPageInfo:Ee(e),filterConf:Io(e),isValid:Ne(e)}},bo=function(e){return Oo({closeFilter:Qt,setCurrentPageInfo:pn,setIsFilterValid:hn,setNeedLoadFirstPage:gn},e)},Do=So(Co,bo)(To),Ao=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"majorBtnHandler",(function(){var t=e.props,r=t.modalInfo,n=t.setModalInfo,o=r||{},i=o.majorFn;K.logDevTrace({info:"click modal major button"}),i?i():n({isShowModal:!1})})),(0,l.Z)((0,s.Z)(e),"minorBtnHandler",(function(){var t=e.props,r=t.modalInfo,n=t.setModalInfo,o=r||{},i=o.minorFn;K.logDevTrace({info:"click modal minor button"}),i?i():n({isShowModal:!1})})),e}return(0,a.Z)(r,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.modalInfo,r=e.modalInfo;return r.isShowModal!==t.isShowModal}},{key:"renderImage",value:function(){var e=this.props.modalInfo,t=e||{},r=t.modalText,n=r||{},o=n.imgUrl;return o?(0,Ke.jsx)(d.Image,{className:"modal-img",src:o}):null}},{key:"renderButton",value:function(){var e=this.props.modalInfo,t=e||{},r=t.modalText,n=r||{},o=n.majorActionText,i=n.minorActionArr,a=void 0===i?[]:i,s=(0,Gr.Z)(a,1),c=s[0],u=void 0===c?"":c;return o&&u?(0,Ke.jsxs)(Ye.Fragment,{children:[(0,Ke.jsx)(d.Button,{className:"btn btn-double-modal secondary",plain:!0,onClick:this.minorBtnHandler,children:u}),(0,Ke.jsx)(d.Button,{className:"btn btn-double-modal primary",plain:!0,onClick:this.majorBtnHandler,children:o})]}):o&&!u?(0,Ke.jsx)(d.Button,{className:"btn btn-single-modal primary",plain:!0,onClick:this.majorBtnHandler,children:o}):null}},{key:"render",value:function(){var e=this.props.modalInfo,t=void 0===e?{}:e,r=t.isShowModal,n=void 0!==r&&r,o=t.modalText,i=void 0===o?{}:o,a={display:"block"};n&&i||(a={display:"none"});var s=i.title,c=void 0===s?"":s,u=i.content,l=void 0===u?"":u;return(0,Ke.jsx)(d.View,{className:"modal-mask",catchMove:!0,style:a,children:(0,Ke.jsx)(d.View,{className:"modal-wrap-flex",children:(0,Ke.jsxs)(d.View,{className:"modal-wrapper",children:[this.renderImage(),(0,Ke.jsxs)(d.View,{className:"modal-info-wrapper",children:[(0,Ke.jsx)(d.View,{children:(0,Ke.jsx)(d.Text,{className:"modal-title",children:c})}),(0,Ke.jsx)(d.View,{children:(0,Ke.jsx)(d.Text,{className:"modal-content",children:l})}),(0,Ke.jsx)(d.View,{className:"modal-btn-wrapper",children:this.renderButton()})]})]})})})}}]),r}(Ye.Component),wo=f.commonModule.connect,ko=f.commonModule.bindActionCreators,Po=function(e){return{modalInfo:no(e)}},Eo=function(e){return ko({setModalInfo:Yt},e)},No=wo(Po,Eo)(Ao),_o=function(e){return e[e["up"]=0]="up",e[e["left"]=1]="left",e[e["right"]=2]="right",e[e["down"]=3]="down",e}({}),xo=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"getTriangleStyle",value:function(){var e=this.props,t=e.color,r=e.direction,n=e.sideLength,o=e.sideHeight,i=n/2,a=o,s={width:0,height:0,backgroundColor:"transparent",borderWidth:0,borderColor:"transparent",borderStyle:"solid"};switch(r){case _o.up:s.borderBottomWidth=o,s.borderBottomColor=t,s.borderLeftWidth=i,s.borderRightWidth=i;break;case _o.left:s.borderRightWidth=a,s.borderRightColor=t,s.borderTopWidth=i,s.borderBottomWidth=i;break;case _o.right:s.borderLeftWidth=a,s.borderLeftColor=t,s.borderTopWidth=i,s.borderBottomWidth=i;break;case _o.down:default:s.borderTopWidth=o,s.borderTopColor=t,s.borderLeftWidth=i,s.borderRightWidth=i;break}return s}},{key:"render",value:function(){var e=this.getTriangleStyle(),t=this.props.style,r=Object.assign({},e,t);return(0,Ke.jsx)(d.View,{className:"triangle",style:r})}}]),r}(Ye.Component);(0,l.Z)(xo,"defaultProps",{direction:_o.up,color:"#FFFFFF",style:null});var Fo={borderItem:{borderTopWidth:.5,borderTopColor:"#F2F2F2",borderBottomWidth:0,borderLeftWidth:0,borderRightWidth:0},borderTop:{borderWidth:0},moreButton:{borderWidth:10},triangle:{position:"absolute",left:16,zIndex:1}},Ro=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"getContentStyle",(function(){var t=e.props.position,r=t.below,n=t.top,o=t.bottom;return r?{top:n}:{bottom:o}})),(0,l.Z)((0,s.Z)(e),"getTriangleStyle",(function(){var t=e.props.position.below,r=-Or.height;return t?{top:r}:{bottom:r}})),(0,l.Z)((0,s.Z)(e),"onClickMask",(function(t){var r=e.props.setIsShowMoreButton;t.stopPropagation(),r(!1),K.logDevTrace({info:"click more button modal mask"})})),e}return(0,a.Z)(r,[{key:"renderContentItem",value:function(e,t){var r=this.props.orderData,n=e.actionXPath,o=t>0?Fo.borderItem:Fo.borderTop;return(0,Ke.jsx)(qr,{button:e,orderData:r,style:o},n)}},{key:"render",value:function(){var e=this,t=this.props||{},r=t.isShow,n=t.buttonList,o=t.position,i=o||{},a=i.below,s={display:"block"};if(r||(s={display:"none"}),n){var c=n.map((function(t,r){return e.renderContentItem(t,r)})),u=this.getContentStyle(),l=Object.assign({},this.getTriangleStyle(),Fo.triangle);return(0,Ke.jsx)(d.View,{className:"mask",catchMove:!0,style:s,onClick:this.onClickMask,children:(0,Ke.jsxs)(d.View,{className:"more-button-modal-wrapper",style:u,children:[(0,Ke.jsx)(xo,{sideHeight:Or.height,sideLength:Or.width,style:l,direction:a?_o.up:_o.down}),c]})})}if(!n)return null}}]),r}(Ye.Component),Mo=f.commonModule.connect,Bo=f.commonModule.bindActionCreators,jo=function(e){return{isShow:Ut(e),buttonList:Zt(e),position:qt(e)}},Lo=function(e){return Bo({setIsShowMoreButton:Xt},e)},Vo=Mo(jo,Lo)(Ro),Uo=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"sendPageId",(function(e){K.logSendPV(e)})),(0,l.Z)((0,s.Z)(e),"changePage",(function(t){var r=e.props,n=r.clearOrders,o=r.setPageInfo,i=r.setNeedLoadFirstPage;n(),o(t),i(!0)})),e}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props.currentPageInfo.pageId;this.sendPageId(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.currentPageInfo;return t!==e.currentPageInfo&&(this.sendPageId(e.currentPageInfo.pageId),t!==e.currentPageInfo)}},{key:"render",value:function(){return(0,Ke.jsxs)(d.View,{children:[(0,Ke.jsx)(uo,{changePage:this.changePage}),(0,Ke.jsx)(yo,{}),(0,Ke.jsx)(Xn,{changePage:this.changePage}),(0,Ke.jsx)(Do,{}),(0,Ke.jsx)(No,{}),(0,Ke.jsx)(Vo,{})]})}}]),r}(Ye.Component),Ho=f.commonModule.connect,Zo=f.commonModule.bindActionCreators,qo=f.commonModule.clearOrders,zo=function(e){return{currentPageInfo:Ee(e)}},Xo=function(e){return Zo({setPageInfo:pn,clearOrders:qo,setNeedLoadFirstPage:gn},e)},Go=Ho(zo,Xo)(Uo),Wo=f.commonModule.isFunction,Qo=function(e){Wo(e)?m.user.checkLoginStatusFromServer(e):m.user.isLogin()},Yo=function(e){m.user.login({param:{},callback:function(){Wo(e)&&Qo(e)}})},Ko=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,i.Z)(this,r),n=t.call(this,e),(0,l.Z)((0,s.Z)(n),"saveTicket",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props.saveTicketHandler;t({hasTicket:e})})),(0,l.Z)((0,s.Z)(n),"checkLoginAndLogin",(function(){Qo((function(e){e?n.saveTicket(e):n.loginWithCheckUserBack()}))})),(0,l.Z)((0,s.Z)(n),"loginWithCheckUserBack",(function(){var e=n.props.back;Yo((function(t){t?n.saveTicket(!0):e()}))})),n.checkLoginAndLogin(),n}return(0,a.Z)(r,[{key:"componentDidUpdate",value:function(e){var t=this.props.hasTickets;t===e.hasTickets||t||this.loginWithCheckUserBack()}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.hasTickets;return r?t:null}}]),r}(Ye.Component),Jo=f.commonModule.connect,$o=f.commonModule.bindActionCreators,ei=f.commonModule.saveAccountInfo,ti=f.commonModule.hasTicket,ri=function(e){return{hasTickets:ti(e)}},ni=function(e){return $o({saveTicketHandler:ei},e)},oi=Jo(ri,ni)(Ko),ii=f.commonModule.updateObject,ai=f.commonModule.createReducer,si=function(e,t){var r=t.isShowFilterModal;return ii(e,{isShowFilterModal:r})},ci=function(e,t){var r=t.info;return ii(e,{info:r})},ui=ai({isShowFilterModal:!1,info:{isShowModal:!1,modalText:{},majorFn:function(){},minorFn:function(){}}},(0,l.Z)((0,l.Z)({},Wt.IS_SHOW_FILTER_MODAL,si),Wt.SET_MODAL_INFO,ci)),li=f.commonModule.updateObject,di=f.commonModule.createReducer,fi=function(e,t){var r=t.pageInfo;return li(e,{currentPageInfo:r})},pi=function(e,t){var r=t.isValid;return li(e,{isValid:r})},hi=function(e,t){var r=t.isPulling;return li(e,{isPulling:r})},mi=function(e,t){var r=t.pageConfs;return li(e,{pageConfs:r})},vi=function(e,t){var r=t.needLoadFirstPage;return li(e,{needLoadFirstPage:r})},gi=function(e,t){var r=t.backInfo;return li(e,{backInfo:r})},yi=di({currentPageInfo:Te,isValid:!1,isPulling:!1,pageConfs:Se(Ie),needLoadFirstPage:!1,backInfo:{}},(0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},fn.SET_PAGE_INFO,fi),fn.IS_VALID_STATUS,pi),fn.IS_TRIGGER_PULL_REFRESH,hi),fn.SET_PAGE_CONFS,mi),fn.NEED_LOAD_FIRST_PAGE,vi),fn.SET_BACK_ID,gi)),Ti=f.commonModule.updateObject,Ii=f.commonModule.createReducer,Si=function(e,t){var r=t.deleteData;return Ti(e,{deleteData:r})},Oi=Ii({deleteData:null},(0,l.Z)({},cr.SET_DELETE_DATA,Si)),Ci=f.commonModule.updateObject,bi=f.commonModule.createReducer,Di=function(e,t){var r=t.filterConf;return Ci(e,{filterConf:r})},Ai=bi({filterConf:Ie},(0,l.Z)({},On.RECEIVE_FILTER_DATA,Di)),wi=f.commonModule.updateObject,ki=f.commonModule.createReducer,Pi=function(e,t){var r=t.isShow,n=t.orderId,o=t.measure;return wi(e,{isShow:r,orderId:n,measure:o})},Ei=ki({isShow:!1,orderId:void 0,measure:void 0},(0,l.Z)({},zt.setIsShowMoreButton,Pi)),Ni=f.commonModule.updateObject,_i=f.commonModule.createReducer,xi=function(e,t){var r=t.isShowUnusedOrderEntry;return Ni(e,{isShowUnusedOrderEntry:r})},Fi=_i({isShowUnusedOrderEntry:!1},(0,l.Z)({},Ze.isShowUnusedOrderEntry,xi)),Ri=f.commonModule.hideOrderRequest,Mi=f.commonModule.createOrdersReducer,Bi=f.commonModule.createCurrentPageOrdersReducer,ji=f.commonModule.orderPagination,Li=f.commonModule.orderStatus,Vi=f.commonModule.createOrderRequestReducer,Ui=f.commonModule.orderTabs,Hi=f.commonModule.orderFilters,Zi=f.commonModule.unusedOrderReducer,qi=f.commonModule.singleData,zi=f.commonModule.orderActionNames,Xi=f.commonModule.singleActionNames,Gi=f.commonModule.hideActionNames,Wi=f.commonModule.combineReducers,Qi=f.commonModule.accountReducer,Yi={hideOrderRequest:Ri,orders:Mi(Object.assign({},zi,Gi)),orderResponse:Bi(zi),orderPagination:ji,orderStatus:Li,orderRequest:Vi(zi),orderFilters:Hi,orderTabs:Ui,singleRefresh:Vi(Xi),singleData:qi,unusedOrders:Zi,account:Qi},Ki={card:Oi,modal:ui,page:yi,fetchResult:Ai,moreButton:Ei,buttons:Oi,listEntry:Fi};function Ji(){var e=Object.assign(Yi,Ki);return Wi(e)}var $i=Ji(),ea=f.commonModule.Hotel,ta=f.commonModule.HotelItemProcessor,ra=Object.assign({},ta,{processHotelMasterInfo:function(e){var t=e.MasterOrderId,r=void 0===t?"":t;return r&&"0"!==r?{text:"\u6b64\u5355\u4e3a\u9152\u5e97\u7ec4\u5408\u9884\u8ba2",icon:mt}:""}}),na=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;return(0,i.Z)(this,r),e=t.call(this),(0,l.Z)((0,s.Z)(e),"itemProcessor",void 0),e.itemProcessor=ra,e}return(0,a.Z)(r)}(ea),oa=f.commonModule.Default,ia=f.commonModule.Nat,aa=f.commonModule.FishTrip,sa=f.commonModule.Flight,ca=f.commonModule.Train,ua=f.commonModule.Piao,la=f.commonModule.Activity,da=f.commonModule.Bag,fa=f.commonModule.Meeting,pa=f.commonModule.Tuan,ha=f.commonModule.PointBus,ma=f.commonModule.Car,va=f.commonModule.Translation,ga=f.commonModule.Exchange,ya=f.commonModule.FlightHotel,Ta=f.commonModule.PreSale,Ia=f.commonModule.FlightX,Sa=f.commonModule.FlightCor,Oa=f.commonModule.GsCommercial,Ca=f.commonModule.HHTravel,ba=f.commonModule.Customized,Da=f.commonModule.VacationInsurance,Aa=f.commonModule.FlightInsurance,wa=f.commonModule.CarRentalInsurance,ka=f.commonModule.FinanceInsurance,Pa=f.commonModule.Market,Ea=f.commonModule.NewMall,Na=f.commonModule.GlobalBuyCoupon,_a=f.commonModule.Mice,xa=f.commonModule.Ship,Fa=f.commonModule.Yacht,Ra=f.commonModule.TrainInternational,Ma=f.commonModule.Lipin,Ba=f.commonModule.Surprise,ja=f.commonModule.LocalGuide,La=f.commonModule.DIY,Va=f.commonModule.Cruise,Ua=f.commonModule.Vacation,Ha=f.commonModule.SceneryHotel,Za=f.commonModule.Visa,qa=f.commonModule.TaxRebate,za=f.commonModule.CrowdFunding,Xa=f.commonModule.One,Ga=f.commonModule.Sport,Wa=f.commonModule.GsFood,Qa=f.commonModule.GsFoodQueue,Ya=f.commonModule.MktRight,Ka=f.commonModule.MktAos,Ja=f.commonModule.CashPassport,$a=f.commonModule.MktSupermember,es=f.commonModule.Credit,ts=f.commonModule.Health,rs=f.commonModule.SelfPayment,ns={default:oa,flight:sa,flightdomestic:sa,flightinternational:sa,train:ca,traininternational:Ra,hoteldomestic:na,hotelinternational:na,piao:ua,activity:la,bag:da,nat:ia,fishtrip:aa,meeting:fa,tuan:pa,qiche:ha,pointbus:ha,car:ma,carprivate:ma,translation:va,exchange:ga,flighthotel:ya,presale:Ta,flightx:Ia,flightcor:Sa,gscommercial:Oa,hhtravel:Ca,customized:ba,customizedhh:ba,vacationinsurance:Da,flightinsurance:Aa,carrentalinsurance:wa,financeinsurance:ka,market:Pa,newmall:Ea,globalbuycoupon:Na,mice:_a,ship:xa,yacht:Fa,lipin:Ma,surpise:Ba,localguide:ja,diy:La,cruise:Va,vacationcruise:Va,vacation:Ua,sceneryhotel:Ha,visa:Za,taxrebate:qa,crowdfunding:za,one:Xa,sport:Ga,gsfood:Wa,gsfoodqueue:Qa,mktright:Ya,mktaos:Ka,cashpassport:Ja,mktsupermember:$a,credit:es,health:ts,selfpayment:rs},os=f.commonModule.formatBizType,is=f.commonModule.DEFAULT_PROCESSOR_ID,as=function(){var e=ns[is];return e.getInstance()},ss=function(e,t){var r=ns[e];return r.getInstance(t)},cs=function(e,t){var r=e.BizType,n=void 0===r?"":r,o=e.OrderType,i=void 0===o?"":o,a=os(n,i).toLowerCase();return a&&a in ns?ss(a,t):as()},us=function(e,t){var r=[];e.forEach((function(e){if(e&&e.cardType&&e.cardType===t){var n=e.bizType,o=e.orderId,i="".concat(n,"_").concat(o);r.push(i),K.logMetric({name:"taro-weixin",type:"list",render:t,bizType:n,orderId:o,pageType:"renderList"})}})),r.length&&K.logDevTrace({type:le["UBT_".concat(t.toUpperCase(),"_CARD")],info:"\u8ba2\u5355\u5f02\u6b65promise\u7ed3\u675f\u5904\u7406\u7ed3\u679c\u4e3a".concat(t,"\u7684\u8ba2\u5355\u53f7"),orderIDs:r})},ls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0!==e.length)us(e,"success"),us(e,"default"),us(e,"error");else{var r=0!==t.length;K.logDevTrace({type:r?le.UBT_ERROR_CARD:le.UBT_SUCCESS_CARD,info:r?"\u5f02\u5e38, \u8ba2\u5355\u5904\u7406\u7ed3\u679c\u4e3a\u7a7a":"\u6ca1\u6709\u8ba2\u5355",orderIDs:[]})}},ds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Promise((function(r,n){var o=cs(e,t);o.process(e).then((function(e){r(e)})).catch((function(e){n(e)}))})).catch((function(e){console.warn(e)}))},fs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return new Promise((function(r){var n=[];0===e.length&&r(n),e.forEach((function(e){var r=ds(e,t);r&&n.push(r)})),Promise.all(n).then((function(t){K.consoleDevInfo("\u8ba2\u5355\u5217\u8868promise\u5f02\u6b65\u6d41\u7a0b\u5b8c\u6210\uff0c\u8ba2\u5355\u5185\u5bb9\u5982\u4e0b:",t),ls(t,e),r(t.filter((function(e){return e&&"error"!==e.cardType})))})).catch((function(e){console.warn(e),r([])}))}))},ps=f.commonModule.orderActionNames,hs=f.commonModule.getNewOrderEntities,ms=f.commonModule.getNewOrderListData,vs=function(e,t){return function(r){var n=r.dispatch,o=r.getState;return function(r){return function(i){if(e===i.type){var a=t(i,o,n);return"function"===typeof a.then?a.then((function(e){return r(e)})):r(a)}return r(i)}}}},gs=function(e,t){e&&e.length>0&&e.forEach((function(e){var r=cs(e,t);r.updateOpt(t)}))};function ys(e){return vs(e,(function(e){var t=e.entities;if(!t||!(t instanceof Array))return e;var r={cardStyleOpt:{cardButtonSize:pr,moreButtonWith:mr,cardWrapperWidth:vr()},configData:en},n=hs(t);return gs(n,r),fs(n,r).then((function(r){var n=ms(r,en),o=Object.assign({},e);return o.entities=n,o.originEntities=t,console.log(o),o})).catch((function(e){console.log(e.message)}))}))}var Ts,Is,Ss=ys(ps.RECEIVE_DATA),Os=ys(ps.UPDATE_ORDER_DATA),Cs=[Ss,Os],bs=f.commonModule.Provider,Ds=f.commonModule.FetchProxy,As=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;(0,i.Z)(this,r),n=t.call(this,e),(0,l.Z)((0,s.Z)(n),"checkPerformance",void 0),(0,l.Z)((0,s.Z)(n),"pageId","ignore_page_pv"),(0,l.Z)((0,s.Z)(n),"back",(function(){n.navigateBack()})),n.checkPerformance=!0,Ts=se($i,{},Cs);var o=Ts,a=o.dispatch,c=o.subscribe;return Ds.initProxy(a),Is=c(Qe(Ts)),xt(),n}return(0,a.Z)(r,[{key:"onLoad",value:function(e){var t=e.data,r=Ts||{},n=r.getState,o=r.dispatch,i=n(),a=t||Te;try{a&&"string"===typeof a&&(a=JSON.parse(a))}catch(e){console.error(e.message),a=Te}var s=a,c=s.id;K.logDevTrace({info:"selected: ".concat(c)});var u=Fe(c,i);o(pn(u))}},{key:"componentWillUnmount",value:function(){Is()}},{key:"render",value:function(){var e=this;return(0,Ke.jsxs)(bs,{store:Ts,children:[(0,Ke.jsx)(oi,{back:this.back,children:(0,Ke.jsx)(Go,{})}),(0,Ke.jsx)(d.View,{className:"view-check",onAnimationEnd:function(){return e.viewReadyHandle()}})]})}}]),r}(ce.Z),ws={navigationStyle:"custom",backgroundTextStyle:"dark",disableScroll:!0};Page((0,o.createPageConfig)(As,"pages/myctrip/list/list",{root:{cn:[]}},ws||{}))},79181:function(e){"use strict";e.exports=require("../../../cwx/cpage/initNavigator")},91783:function(e){"use strict";e.exports=require("../../../cwx/cpage/ubt_wx")},56884:function(e){"use strict";e.exports=require("../../../cwx/cwx")},65238:function(e){"use strict";e.exports=require("../../../cwx/ext/global")},33675:function(e){"use strict";e.exports=require("../../../cwx/cwx")}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[2107,1216,8592],(function(){return t(19383)}));e.O()}]);
//# sourceMappingURL=list.js.map