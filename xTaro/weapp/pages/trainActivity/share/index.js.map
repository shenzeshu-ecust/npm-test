{"version":3,"file":"pages/trainActivity/share/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_trainActivity_share_index.js"],"sourcesContent":["\"use strict\";\nrequire(\"../taroCommon\");\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[8805],{\n\n/***/ 8014:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(57042);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24460);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(81876);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(21867);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(86066);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(45023);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: ./node_modules/@tarojs/taro/index.js\nvar taro = __webpack_require__(92954);\nvar taro_default = /*#__PURE__*/__webpack_require__.n(taro);\n// EXTERNAL MODULE: external \"@/miniapp/cwx/cwx\"\nvar cwx_ = __webpack_require__(56884);\nvar cwx_default = /*#__PURE__*/__webpack_require__.n(cwx_);\n// EXTERNAL MODULE: ./src/taroCwx/base.js\nvar base = __webpack_require__(65542);\n// EXTERNAL MODULE: ./src/pages/trainActivity/common/util.js\nvar util = __webpack_require__(13854);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/trainActivity/share/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Index = /*#__PURE__*/function (_TaroBase) {\n  (0,inherits/* default */.Z)(Index, _TaroBase);\n  var _super = (0,createSuper/* default */.Z)(Index);\n  function Index(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Index);\n    _this = _super.call(this, props);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"calculateHeight\", function () {\n      // console.log('onReady2')\n      // onReady 触发后才能获取小程序渲染层的节点\n      taro_default().createSelectorQuery().select('.img-box-new').boundingClientRect().exec(function (res) {\n        var box = res[0];\n        // console.log(box.height);\n        // console.log(this);\n        //盒子高度\n        _this.setState({\n          imageBoxHeight: box.height\n          // showImage: 1\n        });\n      });\n    });\n\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"saveImageToAlbum\", function () {\n      util/* default.showLoading */.ZP.showLoading('正在保存图片');\n      var imageUrl = _this.state.imageUrl;\n      if (imageUrl) {\n        _this.downloadNetFile();\n        return;\n      }\n      _this.saveImageBase64();\n    });\n    _this.checkPerformance = true; // 白屏检测标志位\n\n    _this.state = {\n      imageUrl: '',\n      // 分享图配置\n      // imageUrl: 'https://images3.c-ctrip.com/train/hd/20211101-ctrip-new-year-answer/share/poster-default.png',\n      imgBase64: '',\n      shareTitle: '',\n      shareImage: '',\n      sharePath: '',\n      bgColor: '',\n      // leftBtnBgColor: defaultLeftBtnBgColor,\n      // leftBtnColor: defaultLeftBtnColor,\n      hideLeftIcon: false,\n      leftBtnTxt: '分享好友',\n      // rightBtnBgColor: defaultRightBtnBgColor,\n      // rightBtnColor: defaultRightBtnColor,\n      hideRightBtn: false,\n      rightBtnTxt: '保存图片',\n      // showRightBtn: true,\n      // floatTip: '',\n      subscribeTmpIds: [],\n      imageBoxHeight: 240,\n      showImage: 1,\n      //给opacity使用的\n      backgroundBlurImage: '',\n      //背景图配置\n      // backgroundBlurImage: 'https://images3.c-ctrip.com/train/hd/20211101-ctrip-new-year-answer/share/img-blur-bg.png',\n      navbarMarginTop: 0,\n      fullScreen: false,\n      //分享图全屏模式, 全屏情况下图片超长会滚动，按钮会fixed底部，可设置按钮距底部高度\n      leftBtnWidth: '',\n      //左侧按钮宽度\n      leftBtnHeight: '',\n      //左侧按钮宽度\n      rightBtnWidth: '',\n      //右侧按钮宽度\n      rightBtnHeight: '',\n      //右侧按钮宽度\n      btnBoxBottom: '' //按钮距离底部距离，eg: '4%', '100px'，在fullScreen为true时生效\n    };\n\n    return _this;\n  }\n  (0,createClass/* default */.Z)(Index, [{\n    key: \"onLoad\",\n    value: function onLoad(options) {\n      var _this2 = this;\n      var imageUrl = options.imageUrl,\n        base64Data = options.base64Data,\n        shareTitle = options.shareTitle,\n        shareImage = options.shareImage,\n        shareImg = options.shareImg,\n        sharePath = options.sharePath,\n        _options$subscribeTmp = options.subscribeTmpIds,\n        subscribeTmpIds = _options$subscribeTmp === void 0 ? [] : _options$subscribeTmp,\n        _options$leftBtnTxt = options.leftBtnTxt,\n        leftBtnTxt = _options$leftBtnTxt === void 0 ? '分享好友' : _options$leftBtnTxt,\n        _options$rightBtnTxt = options.rightBtnTxt,\n        rightBtnTxt = _options$rightBtnTxt === void 0 ? '保存图片' : _options$rightBtnTxt,\n        hideRightBtn = options.hideRightBtn,\n        hideLeftIcon = options.hideLeftIcon,\n        backgroundBlurImage = options.backgroundBlurImage,\n        leftButtonImg = options.leftButtonImg,\n        rightButtonImg = options.rightButtonImg,\n        _options$navTitle = options.navTitle,\n        navTitle = _options$navTitle === void 0 ? '携程火车票' : _options$navTitle,\n        fullScreen = options.fullScreen,\n        leftBtnWidth = options.leftBtnWidth,\n        leftBtnHeight = options.leftBtnHeight,\n        rightBtnWidth = options.rightBtnWidth,\n        rightBtnHeight = options.rightBtnHeight,\n        btnBoxBottom = options.btnBoxBottom;\n      var errToast = {\n        title: '图片异常，请重试',\n        icon: 'none'\n      };\n      // let dataObj\n      console.log('options', options);\n\n      // console.log('____')\n      // console.log(data)\n\n      // try {\n      //     dataObj = JSON.parse(data)\n      // } catch (e) {\n      //     console.error(e)\n      //     // util.showToast(errToast)\n      // }\n\n      // if (!dataObj) {\n      //     util.showToast(errToast)\n      //     return\n      // }\n\n      // const {\n\n      // } = dataObj || {}\n\n      if (!base64Data && !imageUrl) {\n        util/* default.showToast */.ZP.showToast(errToast);\n        return;\n      }\n      this.setState({\n        imgBase64: decodeURIComponent(base64Data),\n        imageUrl: decodeURIComponent(imageUrl),\n        subscribeTmpIds: decodeURIComponent(subscribeTmpIds),\n        shareTitle: decodeURIComponent(shareTitle),\n        shareImage: decodeURIComponent(shareImg || shareImage),\n        sharePath: decodeURIComponent(sharePath),\n        leftBtnTxt: decodeURIComponent(leftBtnTxt),\n        rightBtnTxt: decodeURIComponent(rightBtnTxt),\n        hideRightBtn: hideRightBtn,\n        hideLeftIcon: hideLeftIcon,\n        backgroundBlurImage: decodeURIComponent(backgroundBlurImage),\n        leftButtonImg: decodeURIComponent(leftButtonImg),\n        rightButtonImg: decodeURIComponent(rightButtonImg),\n        navTitle: decodeURIComponent(navTitle),\n        fullScreen: fullScreen,\n        leftBtnWidth: leftBtnWidth,\n        leftBtnHeight: leftBtnHeight,\n        rightBtnWidth: rightBtnWidth,\n        rightBtnHeight: rightBtnHeight,\n        btnBoxBottom: btnBoxBottom\n      }, function () {\n        console.log(111111, _this2.state);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // console.log('componentDidmount')\n      var res = taro_default().getSystemInfoSync();\n      var menuButton = cwx_default().getMenuButtonBoundingClientRect();\n      console.log(res);\n      console.log(menuButton);\n      this.setState({\n        navbarPaddingTop: res.statusBarHeight,\n        navbarHeight: menuButton.height + (menuButton.top - res.statusBarHeight) * 2\n      });\n    }\n  }, {\n    key: \"removeBase64Prefix\",\n    value: function removeBase64Prefix(base) {\n      if (!base) {\n        return false;\n      }\n      var key = 'base64,';\n      var index = base.indexOf(key);\n      if (index === -1) {\n        return false;\n      }\n      return base.slice(index + key.length);\n    }\n  }, {\n    key: \"downloadNetFile\",\n    value: function downloadNetFile() {\n      var imageUrl = this.state.imageUrl;\n      taro_default().downloadFile({\n        url: imageUrl,\n        success: function success(res) {\n          // 只要服务器有响应数据，就会把响应内容写入文件并进入 success 回调，业务需要自行判断是否下载到了想要的内容\n          if (res.statusCode === 200) {\n            var tempFilePath = res.tempFilePath;\n            console.log('path', tempFilePath);\n            taro_default().saveImageToPhotosAlbum({\n              filePath: tempFilePath,\n              success: function success() {\n                util/* default.showToast */.ZP.showToast({\n                  title: '已保存到相册'\n                });\n              },\n              fail: function fail(err) {\n                console.log('downloadNetFile err:', err);\n                util/* default.showToast */.ZP.showToast({\n                  title: '图片保存失败, 请重试',\n                  icon: 'none'\n                });\n              }\n            });\n          }\n        }\n      });\n    }\n  }, {\n    key: \"saveImageBase64\",\n    value: function saveImageBase64() {\n      var imgBase64 = this.state.imgBase64;\n      var data = this.removeBase64Prefix(imgBase64);\n      if (!data) {\n        util/* default.showToast */.ZP.showToast({\n          title: '图片格式不正确, 请重试',\n          icon: 'none'\n        });\n        return;\n      }\n      var fs = cwx_default().getFileSystemManager();\n      var filePath = (cwx_default()).env.USER_DATA_PATH + '/poster.png';\n      fs.writeFile({\n        filePath: filePath,\n        data: data,\n        encoding: 'base64',\n        success: function success() {\n          taro_default().saveImageToPhotosAlbum({\n            filePath: filePath,\n            success: function success() {\n              util/* default.showToast */.ZP.showToast({\n                title: '已保存到相册'\n              });\n            },\n            fail: function fail(err) {\n              console.log('saveImageToPhotosAlbum err:', err);\n              util/* default.showToast */.ZP.showToast({\n                title: '图片保存失败, 请重试',\n                icon: 'none'\n              });\n            }\n          });\n        },\n        fail: function fail(err) {\n          console.log('writeFile err:', err);\n        },\n        complete: function complete() {\n          util/* default.hideLoading */.ZP.hideLoading();\n        }\n      });\n    }\n  }, {\n    key: \"onShareAppMessage\",\n    value: function onShareAppMessage() {\n      return {\n        path: this.state.sharePath,\n        imageUrl: this.state.shareImage,\n        title: this.state.shareTitle\n      };\n    }\n  }, {\n    key: \"onSubscribe\",\n    value: function onSubscribe() {\n      // const tmplIds = this.state.subscribeTmpIds\n      // if (tmplIds.length === 0) {\n      //   return\n      // }\n      // console.log('onSubscribe', tmplIds)\n      // Utils.setSubscribe(tmplIds).then((result) => {\n      //   if (result) {\n      //     return addZtripWechatSubscribleMessage({\n      //       templateIds: tmplIds,\n      //       openId: User.openid,\n      //       source: 'wechat-share',\n      //     }).then(res => {\n      //       console.log('subscribe', res)\n      //     })\n      //   }\n      // })\n    }\n  }, {\n    key: \"onClickBack\",\n    value: function onClickBack() {\n      console.log(111);\n      return cwx_default().navigateBack();\n    }\n  }, {\n    key: \"viewReadyHandle\",\n    value: function viewReadyHandle() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$state = this.state,\n        leftButtonImg = _this$state.leftButtonImg,\n        rightButtonImg = _this$state.rightButtonImg,\n        imageUrl = _this$state.imageUrl,\n        imgBase64 = _this$state.imgBase64,\n        bgColor = _this$state.bgColor,\n        leftBtnTxt = _this$state.leftBtnTxt,\n        hideLeftIcon = _this$state.hideLeftIcon,\n        hideRightBtn = _this$state.hideRightBtn,\n        rightBtnTxt = _this$state.rightBtnTxt,\n        floatTip = _this$state.floatTip,\n        imageBoxHeight = _this$state.imageBoxHeight,\n        showImage = _this$state.showImage,\n        backgroundBlurImage = _this$state.backgroundBlurImage,\n        navbarPaddingTop = _this$state.navbarPaddingTop,\n        navbarHeight = _this$state.navbarHeight,\n        navTitle = _this$state.navTitle,\n        fullScreen = _this$state.fullScreen,\n        leftBtnWidth = _this$state.leftBtnWidth,\n        leftBtnHeight = _this$state.leftBtnHeight,\n        rightBtnWidth = _this$state.rightBtnWidth,\n        rightBtnHeight = _this$state.rightBtnHeight,\n        btnBoxBottom = _this$state.btnBoxBottom;\n      var navBarStyle = {\n        top: \"calc(\".concat(navbarPaddingTop, \"px)\"),\n        // top: `calc(env(safe-area-inset-top) + ${navbarPaddingTop}px)`,\n        height: navbarHeight + 'px',\n        lineHeight: navbarHeight + 'px',\n        textAlign: 'center',\n        color: 'white',\n        position: 'fixed',\n        width: '100%',\n        zIndex: 99\n      };\n      var mainBoxStyle = {\n\n        // marginTop: '4vh'\n        // height: `calc(100vh - ${navbarHeight}px - ${navbarPaddingTop}px - env(safe-area-inset-top))`\n      };\n      var imgBoxNewStyle = {\n        backgroundColor: \"#\".concat(bgColor),\n        minHeight: fullScreen ? '100vh' : \"calc(100vh - \".concat(navbarHeight, \"px - \").concat(navBarStyle.top, \")\"),\n        paddingTop: \"calc(\".concat(navbarHeight, \"px + \").concat(navBarStyle.top, \")\")\n      };\n      var imgMidNewStyle = {\n        opacity: showImage\n      };\n      var btnBoxNewStyle = {\n        backgroundColor: \"#\".concat(bgColor)\n      };\n      if (fullScreen) {\n        imgMidNewStyle.width = '100vw';\n        imgMidNewStyle.top = 0;\n        imgMidNewStyle.left = 0;\n        imgMidNewStyle.position = 'absolute';\n        btnBoxNewStyle.position = 'fixed';\n        btnBoxNewStyle.width = '100%';\n        btnBoxNewStyle.boxSizing = 'border-box';\n        btnBoxNewStyle.padding = '0 6.4%';\n        btnBoxNewStyle.left = 0;\n        btnBoxNewStyle.bottom = btnBoxBottom || '4%';\n      }\n      var leftBtnStyle = {\n        width: leftBtnWidth,\n        height: leftBtnHeight\n      };\n      if (leftButtonImg) {\n        leftBtnStyle.background = \"url(\".concat(leftButtonImg, \")no-repeat\");\n        leftBtnStyle.backgroundSize = 'contain';\n      }\n      var rightBtnStyle = {\n        width: rightBtnWidth,\n        height: rightBtnHeight\n      };\n      if (rightButtonImg) {\n        rightBtnStyle.background = \"url(\".concat(rightButtonImg, \")no-repeat\");\n        rightBtnStyle.backgroundSize = 'contain';\n      }\n      leftBtnStyle = JSON.parse(JSON.stringify(leftBtnStyle));\n      rightBtnStyle = JSON.parse(JSON.stringify(rightBtnStyle));\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"perinfo-protect-float\", {}), /*#__PURE__*/(0,jsx_runtime.jsx)(\"authorizationFloat\", {\n          id: \"cwxAuthFloat\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"share-page-new\",\n          style: 'background-color: #' + bgColor + \"; background: url(\".concat(backgroundBlurImage, \"); background-size:cover; \"),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"navbar-wrapper\",\n            style: navBarStyle,\n            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"navbar\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"action\",\n                onClick: this.onClickBack,\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                  src: \"https://images3.c-ctrip.com/train/hd/20211101-ctrip-new-year-answer/share/icon-return.png\",\n                  mode: \"widthFix\",\n                  className: \"img-back-btn\"\n                })\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"title-text\",\n                children: navTitle\n              })]\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"main-box\",\n            style: mainBoxStyle,\n            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"img-box-new\",\n              style: imgBoxNewStyle,\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"img-mid-new\",\n                style: imgMidNewStyle,\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                  src: imageUrl || imgBase64,\n                  className: \"img-new\",\n                  mode: \"widthFix\",\n                  onLoad: this.calculateHeight\n                })\n              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"btn-box-new\",\n                style: btnBoxNewStyle,\n                children: [floatTip && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"banner\",\n                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.RichText, {\n                    nodes: floatTip,\n                    className: \"banner-txt\"\n                  })\n                }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"btn-box-content-new\",\n                  children: [!leftButtonImg ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Button, {\n                    className: \"btn-share-new\",\n                    onClick: this.onSubscribe,\n                    openType: \"share\",\n                    \"data-ubt-key\": \"train_wx_h5share_share\",\n                    style: leftBtnStyle,\n                    children: [!hideLeftIcon ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                      src: \"https://images3.c-ctrip.com/train/hd/20211101-ctrip-new-year-answer/share/icon-share.png\",\n                      mode: \"widthFix\"\n                    }) : null, leftBtnTxt]\n                  }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n                    onClick: this.onSubscribe,\n                    openType: \"share\",\n                    \"data-ubt-key\": \"train_wx_h5share_share\",\n                    className: \"image-btn\",\n                    style: leftBtnStyle\n                  }), !hideRightBtn ? !rightButtonImg ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Button, {\n                    className: \"btn-save-new\",\n                    onClick: this.saveImageToAlbum,\n                    \"data-ubt-key\": \"train_wx_h5share_save\",\n                    style: rightBtnStyle,\n                    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                      src: \"https://images3.c-ctrip.com/train/hd/20211101-ctrip-new-year-answer/share/icon-save.png\",\n                      mode: \"widthFix\"\n                    }), rightBtnTxt]\n                  }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n                    className: \"image-btn\",\n                    style: rightBtnStyle,\n                    onClick: this.saveImageToAlbum,\n                    \"data-ubt-key\": \"train_wx_h5share_save\"\n                  }) : null]\n                })]\n              })]\n            })\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"view-check\",\n          onAnimationEnd: function onAnimationEnd() {\n            return _this3.viewReadyHandle();\n          }\n        })]\n      });\n    }\n  }]);\n  return Index;\n}(base/* default */.Z);\n/* harmony default export */ var share = (Index);\n;// CONCATENATED MODULE: ./src/pages/trainActivity/share/index.js\n\n\nvar config = {\"navigationBarTitleText\":\"分享\",\"navigationStyle\":\"custom\",\"usingComponents\":{\"authorizationFloat\":\"../../../../@/miniapp/cwx/component/authorizationFloat/index\",\"perinfo-protect-float\":\"@miniapp/cwx/component/perInfoProtectFloat/index\"}};\n\nshare.enableShareAppMessage = true\nvar inst = Page((0,runtime_esm.createPageConfig)(share, 'pages/trainActivity/share/index', {root:{cn:[]}}, config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/ext/global\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [6498,2107,1216,8592], function() { return __webpack_exec__(8014); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["require","wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","runtime_esm","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","defineProperty","components_react","taro","taro_default","n","cwx_","cwx_default","base","util","jsx_runtime","Index","_TaroBase","Z","_super","props","_this","this","call","createSelectorQuery","select","boundingClientRect","exec","res","box","setState","imageBoxHeight","height","ZP","showLoading","imageUrl","state","downloadNetFile","saveImageBase64","checkPerformance","imgBase64","shareTitle","shareImage","sharePath","bgColor","hideLeftIcon","leftBtnTxt","hideRightBtn","rightBtnTxt","subscribeTmpIds","showImage","backgroundBlurImage","navbarMarginTop","fullScreen","leftBtnWidth","leftBtnHeight","rightBtnWidth","rightBtnHeight","btnBoxBottom","key","value","options","_this2","base64Data","shareImg","_options$subscribeTmp","_options$leftBtnTxt","_options$rightBtnTxt","leftButtonImg","rightButtonImg","_options$navTitle","navTitle","errToast","title","icon","console","log","decodeURIComponent","showToast","getSystemInfoSync","menuButton","getMenuButtonBoundingClientRect","navbarPaddingTop","statusBarHeight","navbarHeight","top","index","indexOf","slice","length","downloadFile","url","success","statusCode","tempFilePath","saveImageToPhotosAlbum","filePath","fail","err","data","removeBase64Prefix","fs","getFileSystemManager","env","USER_DATA_PATH","writeFile","encoding","complete","hideLoading","path","navigateBack","_this3","_this$state","floatTip","navBarStyle","concat","lineHeight","textAlign","color","position","width","zIndex","mainBoxStyle","imgBoxNewStyle","backgroundColor","minHeight","paddingTop","imgMidNewStyle","opacity","btnBoxNewStyle","left","boxSizing","padding","bottom","leftBtnStyle","background","backgroundSize","rightBtnStyle","JSON","parse","stringify","jsxs","Fragment","children","jsx","id","View","className","style","onClick","onClickBack","Image","src","mode","Text","onLoad","calculateHeight","RichText","nodes","Button","onSubscribe","openType","saveImageToAlbum","onAnimationEnd","viewReadyHandle","share","config","enableShareAppMessage","Page","createPageConfig","root","cn","module","exports","__webpack_exec__","moduleId","s","O"],"sourceRoot":""}