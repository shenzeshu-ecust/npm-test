{"version":3,"file":"pages/trainActivity/robshareMidPage/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_trainActivity_robshareMidPage_index.js"],"sourcesContent":["\"use strict\";\nrequire(\"../taroCommon\");\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[3032],{\n\n/***/ 65998:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(298);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(79301);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(95308);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(57042);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24460);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(81876);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(21867);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(86066);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(45023);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: external \"@/miniapp/cwx/cwx\"\nvar cwx_ = __webpack_require__(56884);\nvar cwx_default = /*#__PURE__*/__webpack_require__.n(cwx_);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: ./src/taroCwx/base.js\nvar base = __webpack_require__(65542);\n// EXTERNAL MODULE: ./src/pages/trainActivity/common/util.js\nvar util = __webpack_require__(13854);\n// EXTERNAL MODULE: ./src/pages/trainActivity/common/services.js + 1 modules\nvar services = __webpack_require__(47929);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/trainActivity/robshareMidPage/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Index = /*#__PURE__*/function (_TaroBase) {\n  (0,inherits/* default */.Z)(Index, _TaroBase);\n  var _super = (0,createSuper/* default */.Z)(Index);\n  function Index(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Index);\n    _this = _super.call(this, props);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"getWecomEntranceAlreadyAdd\", /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n      var params, res;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!(_this.state.abtest.loginTypeAb == \"B\" && !cwx_default().user.isLogin())) {\n              _context.next = 3;\n              break;\n            }\n            _this.goToEnterpriseWebviewPage();\n            return _context.abrupt(\"return\");\n          case 3:\n            _context.prev = 3;\n            if (cwx_default().user.isLogin()) {\n              _context.next = 7;\n              break;\n            }\n            _context.next = 7;\n            return (0,util/* login */.x4)();\n          case 7:\n            _context.next = 14;\n            break;\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](3);\n            console.log(\"loginFail\");\n            cwx_default().switchTab({\n              url: \"/pages/home/homepage\"\n            });\n            return _context.abrupt(\"return\");\n          case 14:\n            if (_this.unionId) {\n              _context.next = 18;\n              break;\n            }\n            _context.next = 17;\n            return (0,util/* getOpenId */.wr)();\n          case 17:\n            _this.unionId = (cwx_default()).cwx_mkt.unionid;\n          case 18:\n            params = {\n              unionId: _this.unionId\n            };\n            _context.prev = 19;\n            _context.next = 22;\n            return (0,services/* getUserStatusOnTrainWechatEnterprise */.Bv)(params);\n          case 22:\n            res = _context.sent;\n            if (!(res.resultCode !== 1)) {\n              _context.next = 26;\n              break;\n            }\n            _this.goToRobsharePage();\n            return _context.abrupt(\"return\");\n          case 26:\n            if (res.alreadyAdd) {\n              _this.goToRobsharePage(\"alreadyAddEnterprise\");\n            } else {\n              _this.goToEnterpriseWebviewPage(\"&noAlreadyAdd=1\");\n            }\n            _context.next = 33;\n            break;\n          case 29:\n            _context.prev = 29;\n            _context.t1 = _context[\"catch\"](19);\n            util/* default.showModal */.ZP.showModal({\n              m: _context.t1.message || \"网络开小差，请稍后再试\"\n            });\n            throw _context.t1;\n          case 33:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[3, 9], [19, 29]]);\n    })));\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"getMoreShareStatusOnTrainWechatEnterprise\", /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2() {\n      var params, res, source;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            if (cwx_default().user.isLogin()) {\n              _context2.next = 4;\n              break;\n            }\n            _context2.next = 4;\n            return (0,util/* login */.x4)();\n          case 4:\n            _context2.next = 11;\n            break;\n          case 6:\n            _context2.prev = 6;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(\"loginFail\");\n            cwx_default().switchTab({\n              url: \"/pages/home/homepage\"\n            });\n            return _context2.abrupt(\"return\");\n          case 11:\n            params = {\n              orderId: _this.state.robshareParam.orderId\n            };\n            _context2.prev = 12;\n            _context2.next = 15;\n            return (0,services/* getMoreShareStatusOnTrainWechatEnterprise */.YF)(params);\n          case 15:\n            res = _context2.sent;\n            if (!(res.resultCode !== 1)) {\n              _context2.next = 19;\n              break;\n            }\n            _this.goToRobsharePage();\n            return _context2.abrupt(\"return\");\n          case 19:\n            if (!(res.robshareType === \"enterprise\")) {\n              _context2.next = 22;\n              break;\n            }\n            _this.goToEnterpriseWebviewPage();\n            return _context2.abrupt(\"return\");\n          case 22:\n            source = {\n              1: \"masterUidTwice\",\n              2: \"alreadyAddEnterpriseTwice\",\n              3: \"pageShowMaxTimesTwice\"\n            }[res.robshareReason] || \"\";\n            _this.goToRobsharePage(source);\n            _context2.next = 30;\n            break;\n          case 26:\n            _context2.prev = 26;\n            _context2.t1 = _context2[\"catch\"](12);\n            util/* default.showModal */.ZP.showModal({\n              m: _context2.t1.message || \"网络开小差，请稍后再试\"\n            });\n            throw _context2.t1;\n          case 30:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[0, 6], [12, 26]]);\n    })));\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"goToRobsharePage\", function () {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      var path = \"/pages/train/robshare/robshare?oid=\".concat(_this.state.robshareParam.orderId, \"&subOrderId=\").concat(_this.state.robshareParam.subOrderId, \"&source=\").concat(source);\n      if (_this.state.robshareParam.aid) {\n        path += \"&allianceid=\" + _this.state.robshareParam.aid;\n      }\n      if (_this.state.robshareParam.sid) {\n        path += \"&sid=\" + _this.state.robshareParam.sid;\n      }\n      if (_this.state.ref) {\n        path += \"&ref=\" + _this.state.ref;\n      }\n      if (_this.state.avatar) {\n        path += \"&avatar=\" + _this.state.avatar;\n      }\n      if (_this.state.type) {\n        path += \"&type=\" + _this.state.type;\n      }\n      if (_this.state.shareKey) {\n        path += \"&shareKey=\" + _this.state.shareKey;\n      }\n      if (_this.state.shareUserShareKey) {\n        path += \"&shareUserShareKey=\" + _this.state.shareUserShareKey;\n      }\n      if (_this.state.stuFlag) {\n        path += \"&stuFlag=\" + _this.state.stuFlag;\n      }\n      if (_this.state.newFeatureFlag) {\n        path += \"&newFeatureFlag=\" + _this.state.newFeatureFlag;\n      }\n      cwx_default().redirectTo({\n        url: path\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"goToEnterpriseWebviewPage\", function () {\n      var extraData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      var target_url = \"https://m.ctrip.com/webapp/train/activity/ctrip-train-account-assist/enterpriseShareAssist?param=\".concat(JSON.stringify(_this.state.robshareParam)).concat(extraData);\n      console.log(\"enterprise target_url\", target_url);\n      var path = \"/pages/trainActivity/twebview/index?url=\".concat(encodeURIComponent(target_url));\n      console.log(\"enterprise path\", path);\n      cwx_default().redirectTo({\n        url: path\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"getAbTest\", function () {\n      var abValues = [\n      // 下面3个实验现在好像不做了 还是先留着吧\n      {\n        key: \"230130_TRN_log\",\n        name: \"loginTypeAb\"\n      }];\n      var getAbAsync = function getAbAsync(_ref3) {\n        var key = _ref3.key,\n          name = _ref3.name;\n        return new Promise(function (resolve) {\n          cwx_default().ABTestingManager.valueForKeyAsync(key, function (value) {\n            return resolve((0,defineProperty/* default */.Z)({}, name, value));\n          });\n        });\n      };\n      return Promise.all(abValues.map(function (v) {\n        return getAbAsync(v);\n      })).then(function (arr) {\n        var abtest = arr.reduce(function (obj, v) {\n          return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, obj), v);\n        }, {});\n        _this.setState({\n          abtest: abtest\n        });\n        console.log(\"异步获取 ab 实验组\", abtest);\n      });\n    });\n    _this.checkPerformance = true; // 白屏检测标志位\n\n    _this.state = {\n      channel: \"\",\n      aid: \"\",\n      sid: \"\",\n      stuFlag: \"\",\n      newFeatureFlag: \"\",\n      ref: \"\",\n      avatar: \"\",\n      type: \"\",\n      shareKey: \"\",\n      shareUserShareKey: \"\",\n      isLogin: false,\n      abtest: {},\n      robshareParam: {}\n    };\n    _this.unionId = (cwx_default()).cwx_mkt.unionid;\n    return _this;\n  }\n  (0,createClass/* default */.Z)(Index, [{\n    key: \"onLoad\",\n    value: function onLoad(options) {\n      var _this2 = this;\n      var _options$oid = options.oid,\n        oid = _options$oid === void 0 ? \"\" : _options$oid,\n        _options$subOrderId = options.subOrderId,\n        subOrderId = _options$subOrderId === void 0 ? \"\" : _options$subOrderId,\n        _options$allianceid = options.allianceid,\n        allianceid = _options$allianceid === void 0 ? \"\" : _options$allianceid,\n        _options$sid = options.sid,\n        sid = _options$sid === void 0 ? \"\" : _options$sid,\n        _options$ref = options.ref,\n        ref = _options$ref === void 0 ? \"\" : _options$ref,\n        _options$avatar = options.avatar,\n        avatar = _options$avatar === void 0 ? \"\" : _options$avatar,\n        _options$type = options.type,\n        type = _options$type === void 0 ? \"\" : _options$type,\n        _options$shareKey = options.shareKey,\n        shareKey = _options$shareKey === void 0 ? \"\" : _options$shareKey,\n        _options$shareUserSha = options.shareUserShareKey,\n        shareUserShareKey = _options$shareUserSha === void 0 ? \"\" : _options$shareUserSha,\n        _options$stuFlag = options.stuFlag,\n        stuFlag = _options$stuFlag === void 0 ? \"\" : _options$stuFlag,\n        _options$newFeatureFl = options.newFeatureFlag,\n        newFeatureFlag = _options$newFeatureFl === void 0 ? \"\" : _options$newFeatureFl,\n        param = options.param,\n        channel = options.channel;\n      if (channel === \"robshare\") {\n        if (typeof param === \"string\" && (param === null || param === void 0 ? void 0 : param.length) > 0) {\n          this.setState({\n            robshareParam: JSON.parse(decodeURIComponent(param)) || {}\n          }, /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee3() {\n            return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee3$(_context3) {\n              while (1) switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.next = 2;\n                  return _this2.getAbTest();\n                case 2:\n                  _this2.getWecomEntranceAlreadyAdd();\n                case 3:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }, _callee3);\n          })));\n        } else {\n          util/* default.showModal */.ZP.showModal({\n            m: \"参数有误\"\n          });\n          return;\n        }\n      } else if (channel === \"moreShare\") {\n        this.setState({\n          aid: allianceid,\n          sid: sid,\n          stuFlag: stuFlag,\n          newFeatureFlag: newFeatureFlag,\n          ref: ref,\n          avatar: avatar,\n          type: type,\n          shareKey: shareKey,\n          shareUserShareKey: shareUserShareKey,\n          robshareParam: {\n            aid: allianceid,\n            sid: sid,\n            orderId: oid,\n            subOrderId: subOrderId,\n            arriveStation: \"\",\n            source: \"orderAssistMoreShare\"\n          }\n        }, function () {\n          _this2.getMoreShareStatusOnTrainWechatEnterprise();\n        });\n      } else {\n        util/* default.showModal */.ZP.showModal({\n          m: \"参数有误\"\n        });\n        return;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          class: \"page\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"view-check\",\n          onAnimationEnd: function onAnimationEnd() {\n            return _this3.viewReadyHandle();\n          }\n        })]\n      });\n    }\n  }]);\n  return Index;\n}(base/* default */.Z);\n/* harmony default export */ var robshareMidPage = (Index);\n;// CONCATENATED MODULE: ./src/pages/trainActivity/robshareMidPage/index.jsx\n\n\nvar config = {\"navigationBarTitleText\":\"携程抢票\",\"navigationBarBackgroundColor\":\"#2884FF\"};\n\n\nvar inst = Page((0,runtime_esm.createPageConfig)(robshareMidPage, 'pages/trainActivity/robshareMidPage/index', {root:{cn:[]}}, config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/ext/global\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [6498,2107,1216,8592], function() { return __webpack_exec__(65998); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["require","wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","runtime_esm","objectSpread2","regeneratorRuntime","asyncToGenerator","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","defineProperty","cwx_","cwx_default","n","components_react","base","util","services","jsx_runtime","Index","_TaroBase","Z","_super","props","_this","this","call","mark","_callee","params","res","wrap","_context","prev","next","state","abtest","loginTypeAb","user","isLogin","goToEnterpriseWebviewPage","abrupt","x4","t0","console","log","switchTab","url","unionId","wr","cwx_mkt","unionid","Bv","sent","resultCode","goToRobsharePage","alreadyAdd","t1","ZP","showModal","m","message","stop","_callee2","source","_context2","orderId","robshareParam","YF","robshareType","robshareReason","arguments","length","undefined","path","concat","subOrderId","aid","sid","ref","avatar","type","shareKey","shareUserShareKey","stuFlag","newFeatureFlag","redirectTo","extraData","target_url","JSON","stringify","encodeURIComponent","abValues","key","name","getAbAsync","_ref3","Promise","resolve","ABTestingManager","valueForKeyAsync","value","all","map","v","then","arr","reduce","obj","setState","checkPerformance","channel","options","_this2","_options$oid","oid","_options$subOrderId","_options$allianceid","allianceid","_options$sid","_options$ref","_options$avatar","_options$type","_options$shareKey","_options$shareUserSha","_options$stuFlag","_options$newFeatureFl","param","parse","decodeURIComponent","_callee3","_context3","getAbTest","getWecomEntranceAlreadyAdd","arriveStation","getMoreShareStatusOnTrainWechatEnterprise","_this3","jsxs","Fragment","children","jsx","View","class","className","onAnimationEnd","viewReadyHandle","robshareMidPage","config","Page","createPageConfig","root","cn","module","exports","__webpack_exec__","moduleId","s","O"],"sourceRoot":""}