/*! For license information please see taroCommon.js.LICENSE.txt */
(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[6498],{43479:function(t,e,n){var r=n(32180)["window"],i=n(66371)["default"];t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==i(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){var i,a=n(0).default;!function(){"use strict";var o={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=a(n);if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)){if(n.length){var i=s.apply(null,n);i&&t.push(i)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var u in n)o.call(n,u)&&n[u]&&t.push(u);else t.push(n.toString())}}return t.join(" ")}t.exports?(s.default=s,t.exports=s):"object"===a(n(1))&&n(1)?void 0===(i=function(){return s}.apply(e,[]))||(t.exports=i):r.classNames=s}()},function(t,e,n){var r,i,a=n(0).default;!function(o,s){"object"==a(e)&&void 0!==t?t.exports=s():void 0===(i="function"==typeof(r=s)?r.call(e,n,e,t):r)||(t.exports=i)}(0,(function(){"use strict";var t=6e4,e=36e5,n="millisecond",r="second",i="minute",o="hour",s="day",u="week",c="month",l="quarter",f="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),a=n-i<0,o=e.clone().add(r+(a?-1:1),c);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:f,w:u,d:s,D:h,h:o,m:i,s:r,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",w={};w[b]=m;var x=function(t){return t instanceof O},S=function t(e,n,r){var i;if(!e)return b;if("string"==typeof e){var a=e.toLowerCase();w[a]&&(i=a),n&&(w[a]=n,i=a);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var s=e.name;w[s]=e,i=s}return!r&&i&&(b=i),i||!r&&b},T=function(t,e){if(x(t))return t.clone();var n="object"==a(e)?e:{};return n.date=t,n.args=arguments,new O(n)},$=y;$.l=S,$.i=x,$.w=function(t,e){return T(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function a(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=a.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return $},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(t,e){var n=T(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return T(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<T(t)},m.$g=function(t,e,n){return $.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,a=!!$.u(e)||e,l=$.p(t),d=function(t,e){var r=$.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return a?r:r.endOf(s)},p=function(t,e){return $.w(n.toDate()[t].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case f:return a?d(1,0):d(31,11);case c:return a?d(1,m):d(0,m+1);case u:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return d(a?g-w:g+(6-w),m);case s:case h:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var a,u=$.p(t),l="set"+(this.$u?"UTC":""),d=(a={},a[s]=l+"Date",a[h]=l+"Date",a[c]=l+"Month",a[f]=l+"FullYear",a[o]=l+"Hours",a[i]=l+"Minutes",a[r]=l+"Seconds",a[n]=l+"Milliseconds",a)[u],p=u===s?this.$D+(e-this.$W):e;if(u===c||u===f){var v=this.clone().set(h,1);v.$d[d](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[$.p(t)]()},m.add=function(n,a){var l,h=this;n=Number(n);var d=$.p(a),p=function(t){var e=T(h);return $.w(e.date(e.date()+Math.round(t*n)),h)};if(d===c)return this.set(c,this.$M+n);if(d===f)return this.set(f,this.$y+n);if(d===s)return p(1);if(d===u)return p(7);var v=(l={},l[i]=t,l[o]=e,l[r]=1e3,l)[d]||1,m=this.$d.getTime()+n*v;return $.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=$.z(this),a=this.$H,o=this.$m,s=this.$M,u=n.weekdays,c=n.months,l=function(t,n,i,a){return t&&(t[n]||t(e,r))||i[n].substr(0,a)},f=function(t){return $.s(a%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:$.s(s+1,2,"0"),MMM:l(n.monthsShort,s,c,3),MMMM:l(c,s),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(a),HH:$.s(a,2,"0"),h:f(1),hh:f(2),a:h(a,o,!0),A:h(a,o,!1),m:String(o),mm:$.s(o,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(t,e){return e||p[t]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,a,h){var d,p=$.p(a),v=T(n),m=(v.utcOffset()-this.utcOffset())*t,g=this-v,y=$.m(this,v);return y=(d={},d[f]=y/12,d[c]=y,d[l]=y/3,d[u]=(g-m)/6048e5,d[s]=(g-m)/864e5,d[o]=g/e,d[i]=g/t,d[r]=g/1e3,d)[p]||g,h?y:$.a(y)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return w[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return $.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},a}(),k=O.prototype;return T.prototype=k,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",s],["$M",c],["$y",f],["$D",h]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),T.extend=function(t,e){return t.$i||(t(e,O,T),t.$i=!0),T},T.locale=S,T.isDayjs=x,T.unix=function(t){return T(1e3*t)},T.en=w[b],T.Ls=w,T.p={},T}))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)})(t)}n.r(e);var a={};try{!function(t,e){if("+"!==new t("q=%2B").get("q")||"+"!==new t({q:"+"}).get("q")||"+"!==new t([["q","+"]]).get("q")||"q=%0A"!==new t("q=\n").toString()||"q=+%26"!==new t({q:" &"}).toString()||"q=%25zx"!==new t({q:"%zx"}).toString())throw t;a.URLSearchParams=t}(URLSearchParams)}catch(t){!function(t,e,n){var r=t.create,i=t.defineProperty,o=/[!'\(\)~]|%20|%00/g,s=/%(?![0-9a-fA-F]{2})/g,u=/\+/g,c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},l={append:function(t,e){p(this._ungap,t,e)},delete:function(t){delete this._ungap[t]},get:function(t){return this.has(t)?this._ungap[t][0]:null},getAll:function(t){return this.has(t)?this._ungap[t].slice(0):[]},has:function(t){return t in this._ungap},set:function(t,n){this._ungap[t]=[e(n)]},forEach:function(t,n){var r=this;for(var i in r._ungap)r._ungap[i].forEach(a,i);function a(a){t.call(n,a,e(i),r)}},toJSON:function(){return{}},toString:function(){var t=[];for(var e in this._ungap)for(var n=m(e),r=0,i=this._ungap[e];r<i.length;r++)t.push(n+"="+m(i[r]));return t.join("&")}};for(var f in l)i(h.prototype,f,{configurable:!0,writable:!0,value:l[f]});function h(t){var e=r(null);switch(i(this,"_ungap",{value:e}),!0){case!t:break;case"string"==typeof t:"?"===t.charAt(0)&&(t=t.slice(1));for(var a=t.split("&"),o=0,s=a.length;o<s;o++){var u=(c=a[o]).indexOf("=");-1<u?p(e,v(c.slice(0,u)),v(c.slice(u+1))):c.length&&p(e,v(c),"")}break;case n(t):for(o=0,s=t.length;o<s;o++){var c;p(e,(c=t[o])[0],c[1])}break;case"forEach"in t:t.forEach(d,e);break;default:for(var l in t)p(e,l,t[l])}}function d(t,e){p(this,e,t)}function p(t,e,r){var i=n(r)?r.join(","):r;e in t?t[e].push(i):t[e]=[i]}function v(t){return decodeURIComponent(t.replace(s,"%25").replace(u," "))}function m(t){return encodeURIComponent(t).replace(o,g)}function g(t){return c[t]}a.URLSearchParams=h}(Object,String,Array.isArray)}!function(t){var e=!1;try{e=!!Symbol.iterator}catch(t){}function n(t,n){var r=[];return t.forEach(n,r),e?r[Symbol.iterator]():{next:function(){var t=r.shift();return{done:void 0===t,value:t}}}}"forEach"in t||(t.forEach=function(t,e){var n=this,r=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(i){i.length&&!(i in r)&&(r[i]=n.getAll(i)).forEach((function(r){t.call(e,r,i,n)}))}))}),"keys"in t||(t.keys=function(){return n(this,(function(t,e){this.push(e)}))}),"values"in t||(t.values=function(){return n(this,(function(t,e){this.push(t)}))}),"entries"in t||(t.entries=function(){return n(this,(function(t,e){this.push([e,t])}))}),e&&!(Symbol.iterator in t)&&(t[Symbol.iterator]=t.entries),"sort"in t||(t.sort=function(){for(var t,e,n,r=this.entries(),i=r.next(),a=i.done,o=[],s=Object.create(null);!a;)e=(n=i.value)[0],o.push(e),e in s||(s[e]=[]),s[e].push(n[1]),a=(i=r.next()).done;for(o.sort(),t=0;t<o.length;t++)this.delete(o[t]);for(t=0;t<o.length;t++)e=o[t],this.append(e,s[e].shift())}),function(e){var n=e.defineProperty,i=e.getOwnPropertyDescriptor,a=function(e){var n=e.append;e.append=t.append,URLSearchParams.call(e,e._usp.search.slice(1)),e.append=n},o=function(t,e){if(!(t instanceof e))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+e.name)},s=function(r){var s,u,c=r.prototype,l=i(c,"searchParams"),f=i(c,"href"),h=i(c,"search");!l&&h&&h.set&&(u=function(e){function r(n,r){t.append.call(this,n,r),n=this.toString(),e.set.call(this._usp,n?"?"+n:"")}function i(n){t.delete.call(this,n),n=this.toString(),e.set.call(this._usp,n?"?"+n:"")}function a(n,r){t.set.call(this,n,r),n=this.toString(),e.set.call(this._usp,n?"?"+n:"")}return function(t,e){return t.append=r,t.delete=i,t.set=a,n(t,"_usp",{configurable:!0,writable:!0,value:e})}}(h),s=function(t,e){return n(t,"_searchParams",{configurable:!0,writable:!0,value:u(e,t)}),e},e.defineProperties(c,{href:{get:function(){return f.get.call(this)},set:function(t){var e=this._searchParams;f.set.call(this,t),e&&a(e)}},search:{get:function(){return h.get.call(this)},set:function(t){var e=this._searchParams;h.set.call(this,t),e&&a(e)}},searchParams:{get:function(){return o(this,r),this._searchParams||s(this,new URLSearchParams(this.search.slice(1)))},set:function(t){o(this,r),s(this,t)}}}))};try{s(HTMLAnchorElement),/^function|object$/.test("undefined"==typeof URL?"undefined":r(URL))&&URL.prototype&&s(URL)}catch(t){}}(Object)}(a.URLSearchParams.prototype);var o=a.URLSearchParams,s=n(2),u=n.n(s),c=n(3),l=n.n(c);e.default={URLSearchParams:o,classnames:u.a,dayjs:l.a}}])},43460:function(t,e,n){"use strict";var r=n(56884),i=n.n(r),a="",o="",s="",u="weixin";switch(i().appId){case"11048657":a="Baidu",o="Train.Baidu",s="baidu",u="baidu";break;case"wxd18d0e7f7784a6c4":a="WX_Train",o="Train.Train",s="wexinTrain",u="train";break;case"2017081708237081":a="AliApp",o="Train.Aliapp",s="alipay",u="alipay";break;case"ttaf70d9cd305a16cb":s="tt";break;case"wx45de275447723a6d":s="quickApp",u="quickapp";break;case"wx0e6ed4f51db9d078":default:a="WX",o="Train.Ctrip",s="weixin",u="weixin";break}e["Z"]={WXVersion:"20220120.01",maxOtherAmount:11,pasCntLimit:5,channel:a,requestChannel:o,miniProgramType:s,traceChannel:u}},64477:function(t,e,n){"use strict";var r=n(43460),i={twebview:"10650072884",newAssist:"10650071281",taroLanding:"10650097508",videotask:"10650107066",videoNumMidPage:"10650107250"};("baidu"===r.Z.miniProgramType||"wexinTrain"===r.Z.miniProgramType||"alipay"===r.Z.miniProgramType||"tt"===r.Z.miniProgramType||"quickApp"===r.Z.miniProgramType)&&Object.assign(i,{}),e["Z"]=i},47929:function(t,e,n){"use strict";n.d(e,{hj:function(){return m},X8:function(){return v},gt:function(){return p},u8:function(){return y},Fz:function(){return f},YF:function(){return d},Bv:function(){return h},vA:function(){return g},rR:function(){return b}});var r=n(79301),i=n(95308),a=n(56884),o=n.n(a),s=n(13854),u=n(43460);function c(){return"baidu"===u.Z.miniProgramType?"Train.Baidu":"wexinTrain"===u.Z.miniProgramType?"Train.Train":"alipay"===u.Z.miniProgramType?"Train.Aliapp":"tt"===u.Z.miniProgramType?"Train.Toutiao":"quickApp"===u.Z.miniProgramType?"Train.Quickapp":"Train.Ctrip"}function l(t){if("string"!==typeof t)throw new Error("url \u5fc5\u987b\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32");return t=t.replace(/^\//,""),function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,a,l,f,h,d,p,v;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=o().util.systemInfo||{},a=i.platform||"",l=i.model,f=(0,s.sx)()||"",h="".concat(a," | ").concat(l," | ").concat(f),d="canary"===o().getStorageSync("_globalEnvSetting"),p=o().locate.getCachedGeoPoint(),v={head:{extension:[{name:"xtrainwxplatform",value:a},{name:"xtrainwxversion",value:u.Z.WXVersion},{name:"xtrainminiappchannel",value:c()},{name:"xtrainclientInfo",value:h},{name:"xtrainwxcityname",value:f},{name:"xtrainwxlatitude",value:(null===p||void 0===p?void 0:p.latitude)||"0"},{name:"xtrainwxlongitude",value:(null===p||void 0===p?void 0:p.longitude)||"0"}]}},Object.assign(n,v),e.next=11,new Promise((function(e,r){o().request({url:"/restapi/soa2/".concat(t),data:n,method:"POST",header:d?{"x-ctrip-canary-req":"1"}:null,success:function(t){e(t.data)},fail:r})}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}l("19436/json/GetConfigInfo");var f=l("23841/json/getConfigByKeys"),h=(l("17679/json/getCtripUserWechatInfo"),l("17076/json/QuerySubscribeMessageStatus"),l("17076/json/SubscribeMessageTemplate"),l("23619/json/getStatusOfNewUserCoupon"),l("23619/json/receiveNewBonusOfNewUserCoupon"),l("23619/json/assistOfNewUserCoupon"),l("23619/json/getUserStatusOnTrainWechatEnterprise")),d=l("23619/json/getMoreShareStatusOnTrainWechatEnterprise"),p=(l("14674/json/SharedCallBack"),l("14666/json/TrainFaceAuthenticationRisk")),v=l("13534/json/TrainApp123ForLogin"),m=(l("17703/json/GetAccountMobilePhone"),l("13534/json/GetUserRealAuthenticationInfo"),l("14681/json/GetStudentQualificationVerify")),g=l("13534/json/NotifyStartUp"),y=l("14666/json/GetBindAccountInfo"),b=l("13534/json/UploadRedBookActivityInfo")},12936:function(t,e,n){"use strict";n.d(e,{WG:function(){return u}});var r=n(57042),i=n(24460),a=n(56884),o=n.n(a),s=function(){function t(e){(0,r.Z)(this,t),this.key=e}return(0,i.Z)(t,[{key:"set",value:function(t){if(void 0==t)return o().setStorageSync(this.key,"");o().setStorageSync(this.key,t)}},{key:"get",value:function(){return o().getStorageSync(this.key)||{}}},{key:"setAttr",value:function(t,e){var n=this.get()||{};e&&e.timeout?e.expiredTime=Date.now()+60*e.timeout*1e3:Array.isArray(e)&&e.forEach((function(t,n){"[object Object]"===Object.prototype.toString.call(e[n])&&(e[n].expiredTime=Date.now()+60*t.timeout*1e3)})),n[t]=e,this.set(n)}},{key:"getAttr",value:function(t){var e=this.get();return"[object Object]"===Object.prototype.toString.call(e[t])?Date.now()>parseInt(e[t].expiredTime)&&delete e[t]:"[object Array]"===Object.prototype.toString.call(e[t])&&e[t].map((function(n,r){Date.now()>parseInt(n.expiredTime)&&e[t].splice(r,1)})),e[t]}},{key:"removeAttr",value:function(t){var e=this.get();delete e[t],this.set(e)}}],[{key:"getInstance",value:function(e){return new t(e)}}]),t}(),u=(s.getInstance("TRAIN_STATION_STORE"),s.getInstance("TRAIN_QUERY_STORE"),s.getInstance("TRAIN_BOOK_STORE"));s.getInstance("TRAIN_ACTIVITY_STORE")},13854:function(t,e,n){"use strict";n.d(e,{Zs:function(){return k},lu:function(){return C},Xx:function(){return A},i2:function(){return D},_P:function(){return I},wr:function(){return y},x4:function(){return b},sx:function(){return w}});var r=n(68277),i=n(298),a=n(79301),o=n(95308),s=n(93212),u=n(45023),c=n(24460),l=n(57042),f=n(56884),h=n.n(f),d=n(43460),p=n(47929),v=n(12936),m=["UserName","Password","displayName"],g=(0,c.Z)((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,l.Z)(this,t),this.errcode=e,this.errmsg=n,this.failCode=r,this.originData=i}));function y(){function t(){h().Observer.removeObserverForKey("OpenIdObserver",t)}return h().cwx_mkt.openid&&Promise.resolve(h().cwx_mkt.openid),new Promise((function(e){h().Observer.addObserverForKey("OpenIdObserver",t);var n=200,r=setInterval((function(){n--,(n<0||h().cwx_mkt.openid)&&(clearInterval(r),h().Observer.removeObserverForKey("OpenIdObserver",t),e(h().cwx_mkt.openid))}),30)}))}function b(){return new Promise((function(t,e){h().user.login({callback:function(n){0==n.ReturnCode?t():e()}})}))}function w(){var t,e=h().locate.getCachedCtripCity();return(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(t=t.ctripPOIInfo)||void 0===t||null===(t=t.cityIDList[0])||void 0===t?void 0:t.cityName)||""}g.errcodes={login:1,checkTimeout:2,accountError:3,other:4};var x=!1,S=(0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)((0,u.Z)({showModal:function(t){h().showModal({title:t.title||"\u63d0\u793a",content:t.m,showCancel:t.showCancel||!1,cancelText:t.cancelText||"\u53d6\u6d88",cancelColor:"#19a0f0",confirmText:t.confirmText||"\u786e\u5b9a",confirmColor:"#19a0f0",success:t.done})},showLoading:function(t){if(h().showLoading)return x=!0,h().showLoading({title:t||"\u6b63\u5728\u52a0\u8f7d",mask:!0});h().showToast({title:t||"\u6b63\u5728\u52a0\u8f7d",icon:"loading",duration:1e4,mask:!0})},hideLoading:function(){var t;x&&(x=!1,null===(t=h().hideLoading)||void 0===t||t.call(h()))},showToast:function(t,e,n){var r;x&&(x=!1,null===(r=h().hideLoading)||void 0===r||r.call(h()));h().showToast({title:t,icon:e||"success",mask:!0,duration:n||1500})},hideToast:function(){h().hideToast()}},"showModal",(function(t){h().showModal({title:t.title||"\u63d0\u793a",content:t.m,showCancel:t.showCancel||!1,cancelText:t.cancelText||"\u53d6\u6d88",cancelColor:"#19a0f0",confirmText:t.confirmText||"\u786e\u5b9a",confirmColor:"#19a0f0",success:t.done})})),"getCurrentCity",w),"ubtTrace",(function(t,e){var n=h().getCurrentPage();e.channel=d.Z.traceChannel,n&&n.ubtTrace&&t&&n.ubtTrace(t,e)})),"goToHomepage",(function(){d.Z.isTrainApp?h().switchTab({url:"/pages/train/index/index"}):h().switchTab({url:"/pages/home/homepage"})})),"ubtDevTrace",(function(t,e){var n=h().getCurrentPage();n&&n.ubtDevTrace&&t&&n.ubtDevTrace(t,e)})),"convetFakePhone",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=/(\d{3})\d{4}(\d{4})/g;return e.test(t)?t.replace(e,"$1****$2"):t})),"isIos",(function(){var t=h().getSystemInfoSync();return t.system.includes("iOS")})),"isIphone13",(function(){var t=h().getSystemInfoSync(),e=t.model.slice(t.model.indexOf("<")+1,t.model.indexOf(">")),n=["iPhone14,1","iPhone14,2"];return n.findIndex((function(t){return t===e}))>-1})),"getArrDiff",(function(t,e){return t.concat(e).filter((function(t,e,n){return n.indexOf(t)===n.lastIndexOf(t)}))})),T=h().aes.enc.Utf8.parse("-!@QWaszx#^GDFUN"),$=h().aes.enc.Utf8.parse("09,.34ajoydfuEEi");function O(t){var e=h().aes.AES.encrypt(h().aes.enc.Utf8.parse(t),T,{mode:h().aes.mode.CBC,padding:h().aes.pad.Pkcs7,iv:$});return e.toString()}function k(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||"object"!==(0,s.Z)(t))return null;if("[object Array]"===Object.prototype.toString.call(t)){var n=[];return n=t.map((function(t){return"object"===(0,s.Z)(t)?k(t):t})),n}var r={};return Object.keys(t).forEach((function(n){var i="";"ResponseHead"!==n&&"ResponseStatus"!==n?(i=e?n[0].toLowerCase()+n.substring(1):n[0].toUpperCase()+n.substring(1),"object"===(0,s.Z)(t[n])?r[i]=k(t[n]):r[i]=t[n]):r[n]=t[n]})),r}function P(t){return Z.apply(this,arguments)}function Z(){return Z=(0,o.Z)((0,a.Z)().mark((function t(e){var n,r,i,o,s,u=arguments;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:5,r=u.length>2&&void 0!==u[2]?u[2]:10,i=u.length>3&&void 0!==u[3]?u[3]:null,o=u.length>4&&void 0!==u[4]?u[4]:0,t.prev=4,o++,t.next=8,e(i);case 8:if(s=t.sent,s.pollingFlag){t.next=11;break}return t.abrupt("return",s);case 11:if(o!==r){t.next=13;break}throw!1;case 13:return t.next=15,j(1e3*(s.requestRate||n));case 15:return t.abrupt("return",P(e,n,r,s,o));case 18:throw t.prev=18,t.t0=t["catch"](4),t.t0;case 21:case"end":return t.stop()}}),t,null,[[4,18]])}))),Z.apply(this,arguments)}var j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){return setTimeout(e,t)}))};function _(t){return M.apply(this,arguments)}function M(){return M=(0,o.Z)((0,a.Z)().mark((function t(e){var n,s,u,c,l,f,h,d,y,b,w=arguments;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.UserName,s=e.Password,u=e.displayName,c=(0,r.Z)(e,m),l=w.length>1&&void 0!==w[1]?w[1]:{},f=l.registered,void 0!==f&&f,h=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(e){var r;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=k,t.next=3,(0,p.X8)((0,i.Z)((0,i.Z)({UserName:n,Password:O(s),ForceLogin:!0,Channel:"WX"},c),{},{pollingKey:null===e||void 0===e?void 0:e.pollingKey}));case 3:if(t.t1=t.sent,r=(0,t.t0)(t.t1),console.error("1234567",r),1===r.retCode){t.next=8;break}throw new g(g.errcodes.login,r.failResultContent||"12306\u6545\u969c\uff0c\u8bf7\u7a0d\u5019\u91cd\u8bd5(".concat(g.errcodes.login,")"),r.failResultCode,r);case 8:if(3!==r.result){t.next=10;break}return t.abrupt("return",(0,i.Z)((0,i.Z)({},r),{},{pollingFlag:!0,requestRate:r.rate}));case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=5,P(h,5,10);case 5:if(d=t.sent,1===d.result){t.next=8;break}throw new g(g.errcodes.login,d.failResultContent||"12306\u6545\u969c\uff0c\u8bf7\u7a0d\u5019\u91cd\u8bd5(".concat(g.errcodes.login,")"),d.failResultCode,d);case 8:return d.memberStatus,d.iDCardNumber,d.realName,d.mobilePhone,y=d.userID12306,b={name:y||n,displayName:S.convetFakePhone(u||n)},v.WG.setAttr("bind12306",b),t.abrupt("return",d);case 12:case"end":return t.stop()}}),t)}))),M.apply(this,arguments)}var C=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(e){var n,r,i;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=k,t.next=3,(0,p.gt)(e);case 3:if(t.t1=t.sent,n=(0,t.t0)(t.t1),r=n.retCode,i=n.isCanFaceAuthentication,1!=r||!i){t.next=9;break}return t.abrupt("return",!0);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(e){var n,r,i,o,s,u,c,l,f,h,d;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.params,r=e.outerParams,i=e.succ,o=e.fail,s=e.from,t.prev=1,S.showLoading(),t.next=5,_(n);case 5:if(u=t.sent,c=u.memberStatus,l=u.iDCardNumber,f=u.realName,h=u.mobilePhone,d=u.userID12306,S.hideLoading(),d||r.userName,i&&"function"==typeof i&&i({memberStatus:c,iDCardNumber:l,realName:f,mobilePhone:h,userID12306:d,userName:n.UserName,loginPW:n.Password}),"is12306AuthValid"!==s){t.next=16;break}return t.abrupt("return",!0);case 16:t.next=24;break;case 18:if(t.prev=18,t.t0=t["catch"](1),S.hideLoading(),o&&"function"==typeof o&&o(t.t0),"is12306AuthValid"!==s){t.next=24;break}return t.abrupt("return",!1);case 24:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(e){var n,r;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=function(t){return new Promise((function(e){return setTimeout(e,t)}))},console.log("polling"),r={};case 3:if(3!==r.PollingResult){t.next=6;break}return t.next=6,n(1e3*r.PollingRate);case 6:return t.next=8,(0,p.hj)((0,i.Z)((0,i.Z)({},e),{},{Pollingkey:r.PollingKey}));case 8:if(r=t.sent,1===r.RetCode&&2!==r.PollingResult){t.next=11;break}return t.abrupt("return",r);case 11:return t.next=13,n(r.PollingRate);case 13:if(3===r.PollingResult){t.next=3;break}case 14:return t.abrupt("return",r);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(){var e,n,r;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,p.u8)({});case 3:if(n=t.sent,console.log("123456getBindAccountInfo",n),null===(e=n.UserInfoList)||void 0===e||!e.length){t.next=9;break}return r=n.UserInfoList[0].UserName,(0,p.vA)({UserName:r,Channel:"WX"}),t.abrupt("return",r);case 9:return t.abrupt("return","");case 12:return t.prev=12,t.t0=t["catch"](0),t.abrupt("return","");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();e["ZP"]=S},79608:function(t,e,n){"use strict";n(90201);var r=n(71515),i=n(43479),a=n.n(i),o=n(2269),s=a().classnames,u={bottom:"botm",middle:"mid"},c=function(t){var e=t.children,n=t.direction,i=void 0===n?"bottom":n,a=t.className,c=void 0===a?"":a,l=t.visible,f=void 0!==l&&l,h=t.mask,d=void 0===h||h,p=t.clickMaskClose,v=void 0!==p&&p,m=t.lock,g=void 0===m||m,y=t.close,b=u[i],w="popup ".concat(b," ").concat(f?"active":""," ").concat(c),x=function(){v&&(null===y||void 0===y||y())};return(0,o.jsxs)(o.Fragment,{children:[d&&(0,o.jsx)(r.View,{className:s("popup-mask",{active:f}),onClick:x,catchMove:!0}),(0,o.jsx)(r.View,{className:w,catchMove:g,children:e})]})};e["Z"]=c}}]);
//# sourceMappingURL=taroCommon.js.map