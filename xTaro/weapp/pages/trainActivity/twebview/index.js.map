{"version":3,"file":"pages/trainActivity/twebview/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_trainActivity_twebview_index.js"],"sourcesContent":["\"use strict\";\nrequire(\"../taroCommon\");\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[1338],{\n\n/***/ 29340:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(90983);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(298);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(79301);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(95308);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(57042);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24460);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(21867);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(86066);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: ./node_modules/@tarojs/taro/index.js\nvar taro = __webpack_require__(92954);\nvar taro_default = /*#__PURE__*/__webpack_require__.n(taro);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: external \"@/miniapp/cwx/cwx\"\nvar cwx_ = __webpack_require__(56884);\nvar cwx_default = /*#__PURE__*/__webpack_require__.n(cwx_);\n// EXTERNAL MODULE: ./src/taroCwx/base.js\nvar base = __webpack_require__(65542);\n// EXTERNAL MODULE: ./src/pages/trainActivity/common/util.js\nvar util = __webpack_require__(13854);\n// EXTERNAL MODULE: ./src/pages/trainActivity/common/pageId.js\nvar pageId = __webpack_require__(64477);\n// EXTERNAL MODULE: ./src/pages/trainActivity/common/config.js\nvar config = __webpack_require__(43460);\n// EXTERNAL MODULE: ./src/pages/trainActivity/common/store.js\nvar store = __webpack_require__(12936);\n// EXTERNAL MODULE: ./src/pages/trainActivity/common/commonModule.prod.js\nvar commonModule_prod = __webpack_require__(43479);\nvar commonModule_prod_default = /*#__PURE__*/__webpack_require__.n(commonModule_prod);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(22276);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(90129);\n// EXTERNAL MODULE: ./src/pages/trainActivity/common/services.js + 1 modules\nvar services = __webpack_require__(47929);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(68277);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./src/pages/trainActivity/components/Input/index.jsx\n\n\n\nvar _excluded = [\"displayValue\"];\n// 包装的 input\n\n\n\n\nvar Input = function Input(_ref) {\n  var displayValue = _ref.displayValue,\n    rest = (0,objectWithoutProperties/* default */.Z)(_ref, _excluded);\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isFocus = _useState2[0],\n    setFocus = _useState2[1];\n  var _useState3 = (0,react.useState)(\"\"),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    passValue = _useState4[0],\n    setPassValue = _useState4[1];\n  var _onFocus = function _onFocus(e) {\n    var _rest$onFocus;\n    setFocus(true);\n    (_rest$onFocus = rest.onFocus) === null || _rest$onFocus === void 0 || _rest$onFocus.call(rest, e);\n  };\n  var _onBlur = function _onBlur(e) {\n    var _rest$onBlur;\n    setFocus(false);\n    (_rest$onBlur = rest.onBlur) === null || _rest$onBlur === void 0 || _rest$onBlur.call(rest, e);\n  };\n  var _onClickFakeInput = function _onClickFakeInput() {\n    var _rest$onFocus2;\n    setFocus(true);\n    (_rest$onFocus2 = rest.onFocus) === null || _rest$onFocus2 === void 0 || _rest$onFocus2.call(rest);\n  };\n  (0,react.useEffect)(function () {\n    var _rest$value;\n    var isPwd = rest.password || rest.type == 'password';\n    setPassValue(isPwd ? ((_rest$value = rest.value) === null || _rest$value === void 0 ? void 0 : _rest$value.replace(/./g, '•')) || '' : displayValue || rest.value);\n  }, [displayValue, rest.password, rest.type, rest.value]);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: isFocus ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Input, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, rest), {}, {\n      focus: isFocus,\n      cursor: rest.value.length,\n      adjustPosition: true,\n      onFocus: _onFocus,\n      onBlur: _onBlur\n    })) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: rest.value ? rest.className : rest.className + \" \" + rest.placeholderClass,\n      onClick: _onClickFakeInput,\n      children: rest.value ? passValue : rest.placeholder\n    })\n  });\n};\n/* harmony default export */ var components_Input = (Input);\n// EXTERNAL MODULE: ./src/pages/trainActivity/components/popup/index.jsx\nvar popup = __webpack_require__(79608);\n;// CONCATENATED MODULE: ./src/pages/trainActivity/components/Login12306Pop/SmsVerifyPop/index.jsx\n\n\n\n\n\n\nvar SmsVerifyPop = function SmsVerifyPop(_ref) {\n  var visible = _ref.visible,\n    mobilePhone = _ref.mobilePhone,\n    smsVerify = _ref.smsVerify,\n    close = _ref.close;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(popup/* default */.Z, {\n    visible: visible,\n    direction: \"middle\",\n    clickMaskClose: true,\n    close: close,\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"scan-pop\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"icon-face-scan\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"tit\",\n        children: \"\\u5EFA\\u8BAE\\u5B8C\\u6210\\u77ED\\u4FE1\\u6838\\u9A8C\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"sub\",\n        children: \"\\u4E3A\\u4FDD\\u8BC1\\u60A8\\u7684\\u8D26\\u53F7\\u5B89\\u5168\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u5B8C\\u6210\\u77ED\\u4FE1\\u6838\\u9A8C\\u4E4B\\u540E\\u518D\\u6DFB\\u52A0\\u4E58\\u5BA2\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"grey-tips\",\n        children: [\"\\u8BF7\\u786E\\u8BA4\\u60A8\\u662F\", mobilePhone ? \":\".concat(mobilePhone) : \"\", \"\\u673A\\u4E3B\"]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"btn-box\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n          className: \"btn-blue\",\n          onClick: smsVerify,\n          children: \"\\u5F00\\u59CB\\u6838\\u9A8C\"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"ifont-closed\",\n        onClick: close\n      })]\n    })\n  });\n};\n/* harmony default export */ var Login12306Pop_SmsVerifyPop = (SmsVerifyPop);\n;// CONCATENATED MODULE: ./src/pages/trainActivity/components/Login12306Pop/ScanVerifyPop/index.jsx\n\n// 风控扫脸弹窗\n\n\n\n\n\n\n\nvar NORMAL_TEXT = {\n  title: '需完成人证核验',\n  subTitle: '为了保证您的账号安全，请您进行人证核验',\n  tips: function tips(name) {\n    return \"\\u8BF7\\u786E\\u8BA4\\u60A8\\u662F\\u8D26\\u53F7\\u672C\\u4EBA\".concat(name ? \":\".concat(name) : \"\");\n  }\n};\nvar FRONTRISK_TEXT = {\n  title: '建议完成人证核验',\n  subTitle: '为保证您的账号安全，建议您完成人证核验之后再添加乘客',\n  tips: function tips(name) {\n    return \"\\u8BF7\\u786E\\u8BA4\\u60A8\\u662F\\u8D26\\u53F7\\u672C\\u4EBA\".concat(name ? \":\".concat(name) : \"\");\n  }\n};\nvar ScanVerifyPop = function ScanVerifyPop(_ref) {\n  var visible = _ref.visible,\n    action = _ref.action,\n    realName = _ref.realName,\n    jumpCheckPage = _ref.jumpCheckPage,\n    jumpServicePage = _ref.jumpServicePage,\n    faceVerify = _ref.faceVerify,\n    close = _ref.close,\n    closeCb = _ref.closeCb;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isCheckedProtocol = _useState2[0],\n    setCheckedProtocol = _useState2[1];\n  var TEXT;\n  if (action == 'frontAutoLogin') {\n    TEXT = FRONTRISK_TEXT;\n  } else {\n    TEXT = NORMAL_TEXT;\n  }\n  var onClickAgreeProtocol = function onClickAgreeProtocol() {\n    setCheckedProtocol(!isCheckedProtocol);\n  };\n  var onClickFaceVerify = function onClickFaceVerify() {\n    if (!isCheckedProtocol) {\n      return util/* default.showToast */.ZP.showToast(\"请阅读并勾选协议\", \"none\");\n    }\n    close();\n    faceVerify();\n  };\n  (0,react.useEffect)(function () {\n    setCheckedProtocol(false);\n  }, [visible]);\n  var onClickClose = (0,react.useCallback)(function () {\n    close();\n    closeCb && closeCb();\n  }, []);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(popup/* default */.Z, {\n    visible: visible,\n    direction: \"middle\",\n    clickMaskClose: true,\n    close: onClickClose,\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"scan-pop\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"icon-face-scan\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"tit\",\n        children: TEXT.title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"sub\",\n        children: TEXT.subTitle\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"grey-tips\",\n        children: TEXT.tips(realName)\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"btn-box\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n          className: \"btn-blue\",\n          onClick: onClickFaceVerify,\n          children: \"\\u540C\\u610F\\u534F\\u8BAE\\u5E76\\u5F00\\u59CB\\u6838\\u9A8C\"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"info\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"desc\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: isCheckedProtocol ? \"ifont-checked blue\" : \"ifont-checkbox\",\n            onClick: onClickAgreeProtocol\n          }), \"\\u5DF2\\u9605\\u8BFB\\u540C\\u610F\\xA0\", /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"blue\",\n            onClick: jumpServicePage,\n            children: \"\\u670D\\u52A1\\u534F\\u8BAE\"\n          }), \"\\xA0\", /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"blue\",\n            onClick: jumpCheckPage,\n            children: \"\\u8BA4\\u8BC1\\u534F\\u8BAE\"\n          })]\n        }), !isCheckedProtocol && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"tip\",\n          children: \"\\u8BF7\\u9605\\u8BFB\\u5E76\\u52FE\\u9009\\u534F\\u8BAE\"\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"ifont-closed\",\n        onClick: onClickClose\n      })]\n    })\n  });\n};\n/* harmony default export */ var Login12306Pop_ScanVerifyPop = (ScanVerifyPop);\n;// CONCATENATED MODULE: ./src/pages/trainActivity/components/Login12306Pop/MoreVerifyPop/index.jsx\n\n// 多种方式核验\n\n\n\n\n\n\n\nvar MoreVerifyPop_NORMAL_TEXT = {\n  title: '需完成人证核验',\n  subTitle: '为了保证您的账号安全，请您进行人证核验',\n  tips: function tips(name) {\n    return \"\\u8BF7\\u786E\\u8BA4\\u60A8\\u662F\\u8D26\\u53F7\\u672C\\u4EBA\".concat(name ? \":\".concat(name) : \"\");\n  }\n};\nvar MoreVerifyPop_FRONTRISK_TEXT = {\n  title: '建议完成人证核验',\n  subTitle: '为保证您的账号安全，建议您完成人证核验之后再添加乘客',\n  tips: function tips(name) {\n    return \"\\u8BF7\\u786E\\u8BA4\\u60A8\\u662F\\u8D26\\u53F7\\u672C\\u4EBA\".concat(name ? \":\".concat(name) : \"\");\n  }\n};\nvar MoreVerifyPop = function MoreVerifyPop(_ref) {\n  var visible = _ref.visible,\n    action = _ref.action,\n    realName = _ref.realName,\n    jumpCheckPage = _ref.jumpCheckPage,\n    jumpServicePage = _ref.jumpServicePage,\n    faceVerify = _ref.faceVerify,\n    smsVerify = _ref.smsVerify,\n    close = _ref.close;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isCheckedProtocol = _useState2[0],\n    setCheckedProtocol = _useState2[1];\n  var TEXT;\n  if (action == 'frontAutoLogin') {\n    TEXT = MoreVerifyPop_FRONTRISK_TEXT;\n  } else {\n    TEXT = MoreVerifyPop_NORMAL_TEXT;\n  }\n  var onClickAgreeProtocol = function onClickAgreeProtocol() {\n    setCheckedProtocol(!isCheckedProtocol);\n  };\n  var onClickFaceVerify = function onClickFaceVerify() {\n    if (!isCheckedProtocol) {\n      return util/* default.showToast */.ZP.showToast(\"请阅读并勾选协议\", \"none\");\n    }\n    close();\n    faceVerify();\n  };\n  var onClickSmsVerify = function onClickSmsVerify() {\n    if (!isCheckedProtocol) {\n      return util/* default.showToast */.ZP.showToast(\"请阅读并勾选协议\", \"none\");\n    }\n    close();\n    smsVerify({\n      mobileCheck: 0\n    });\n  };\n  (0,react.useEffect)(function () {\n    setCheckedProtocol(false);\n  }, [visible]);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(popup/* default */.Z, {\n    visible: visible,\n    direction: \"middle\",\n    clickMaskClose: true,\n    close: close,\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"more-scan-pop\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"icon-face-scan\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"tit\",\n        children: TEXT.title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"sub\",\n        children: TEXT.subTitle\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"grey-tips\",\n        children: TEXT.tips(realName)\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"btn-box\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n          className: \"btn-blue\",\n          onClick: onClickFaceVerify,\n          children: \"\\u540C\\u610F\\u534F\\u8BAE\\u5E76\\u5237\\u8138\\u6838\\u9A8C\"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"btn-box btn-sms\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n          className: \"btn-line\",\n          onClick: onClickSmsVerify,\n          children: \"\\u77ED\\u4FE1\\u6838\\u9A8C\"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"info\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"desc\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: isCheckedProtocol ? \"ifont-checked blue\" : \"ifont-checkbox\",\n            onClick: onClickAgreeProtocol\n          }), \"\\u5DF2\\u9605\\u8BFB\\u540C\\u610F\\xA0\", /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"blue\",\n            onClick: jumpServicePage,\n            children: \"\\u670D\\u52A1\\u534F\\u8BAE\"\n          }), \"\\xA0\", /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"blue\",\n            onClick: jumpCheckPage,\n            children: \"\\u8BA4\\u8BC1\\u534F\\u8BAE\"\n          })]\n        }), !isCheckedProtocol && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"tip\",\n          children: \"\\u8BF7\\u9605\\u8BFB\\u5E76\\u52FE\\u9009\\u534F\\u8BAE\"\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"ifont-closed\",\n        onClick: close\n      })]\n    })\n  });\n};\n/* harmony default export */ var Login12306Pop_MoreVerifyPop = (MoreVerifyPop);\n;// CONCATENATED MODULE: ./src/pages/trainActivity/components/Login12306Pop/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar env = cwx_.__global.env;\nvar host = \"https://m.ctrip.com\";\nif (env == \"fat\") {\n  host = \"https://m.fws.qa.nt.ctripcorp.com\";\n} else if (env == \"uat\") {\n  host = \"https://m.ctrip.uat.qa.nt.ctripcorp.com\";\n}\nvar BIND12306_STORAGE = 'bind12306';\nvar ACCOUNTS_STORAGE = \"12306Accounts\";\nvar defaultConfig = {\n  title: \"请登录您的12306账号\",\n  subTitle: \"铁路局规定，购票需完成实名认证\",\n  phonePlaceHolder: \"12306用户名/邮箱/手机号\",\n  pwdPlaceHolder: \"请输入12306账号密码\"\n};\nvar defaultUserData = {\n  mobile: \"\",\n  userName: \"\",\n  // 手机号\n  loginPW: \"\",\n  displayName: \"\",\n  defaultUserName: \"\"\n};\nvar ACTION_FRONTPASSLOGIN = 'frontPassengerLogin'; // 前置预检自动登录\nvar ACTION_FRONTPASSCLICK = 'frontPassengerClick'; // 前置预检点击乘客登录 action\n\nvar codeConvertScene = function codeConvertScene(code) {\n  var map = new Map([[7, 91], [8, 94], [9, 96]]);\n  return map.get(code);\n};\nvar noop = function noop() {};\n\n/**\n * 上滑的12306登录浮层\n * @param {Number} pageId // 埋点需要\n * @param {Boolean} visible\n * @param {Number} source // 进入浮层的入口 后期加入埋点\n * @param {Number} push // 决定是否需要激活会员\n * @returns\n */\nvar Login12306Pop = function Login12306Pop(_ref) {\n  var _pkg$package;\n  var pageId = _ref.pageId,\n    _ref$loginName = _ref.loginName,\n    loginName = _ref$loginName === void 0 ? '' : _ref$loginName,\n    visible = _ref.visible,\n    isOrdinary = _ref.isOrdinary,\n    push = _ref.push,\n    _ref$textConfig = _ref.textConfig,\n    textConfig = _ref$textConfig === void 0 ? {} : _ref$textConfig,\n    _ref$pkg = _ref.pkg,\n    pkg = _ref$pkg === void 0 ? {} : _ref$pkg,\n    _ref$action = _ref.action,\n    action = _ref$action === void 0 ? '' : _ref$action,\n    _ref$done = _ref.done,\n    done = _ref$done === void 0 ? noop : _ref$done,\n    _ref$close = _ref.close,\n    close = _ref$close === void 0 ? noop : _ref$close,\n    _ref$finish = _ref.finish,\n    finish = _ref$finish === void 0 ? noop : _ref$finish,\n    _ref$freeDone = _ref.freeDone,\n    freeDone = _ref$freeDone === void 0 ? noop : _ref$freeDone;\n  var _useState = (0,react.useState)(defaultUserData),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    userData = _useState2[0],\n    setUserData = _useState2[1]; // 手机号及密码\n  var _useState3 = (0,react.useState)({}),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    inputFlag = _useState4[0],\n    setInputFlag = _useState4[1]; // 用户是否输入过\n  var _useState5 = (0,react.useState)(false),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    isShowPwd = _useState6[0],\n    setShowPwd = _useState6[1]; // 切换密码显隐\n  var _useState7 = (0,react.useState)(false),\n    _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n    isCheckedProtocol = _useState8[0],\n    setCheckedProtocol = _useState8[1]; // 切换勾选协议\n  var _useState9 = (0,react.useState)(false),\n    _useState10 = (0,slicedToArray/* default */.Z)(_useState9, 2),\n    isCheckedRemember = _useState10[0],\n    setCheckedRemember = _useState10[1]; // 切换记住密码\n  var _useState11 = (0,react.useState)(false),\n    _useState12 = (0,slicedToArray/* default */.Z)(_useState11, 2),\n    nextStep = _useState12[0],\n    setNextStep = _useState12[1]; // 下一步\n  var _useState13 = (0,react.useState)(false),\n    _useState14 = (0,slicedToArray/* default */.Z)(_useState13, 2),\n    isSmsVisible = _useState14[0],\n    setSmsVisible = _useState14[1]; // 短信核验弹窗\n  var _useState15 = (0,react.useState)(false),\n    _useState16 = (0,slicedToArray/* default */.Z)(_useState15, 2),\n    isFaceVisible = _useState16[0],\n    setFaceVisible = _useState16[1]; // 人证弹窗\n  var _useState17 = (0,react.useState)(false),\n    _useState18 = (0,slicedToArray/* default */.Z)(_useState17, 2),\n    isMoreVisible = _useState18[0],\n    setMoreVisible = _useState18[1]; // 多种方式弹窗\n  var _useState19 = (0,react.useState)(true),\n    _useState20 = (0,slicedToArray/* default */.Z)(_useState19, 2),\n    showClean = _useState20[0],\n    setShowClean = _useState20[1]; // 清除按钮\n  var _useState21 = (0,react.useState)(0),\n    _useState22 = (0,slicedToArray/* default */.Z)(_useState21, 2),\n    currErrCode = _useState22[0],\n    setCurrErrCode = _useState22[1]; // 当前报错 code\n  var _useState23 = (0,react.useState)({}),\n    _useState24 = (0,slicedToArray/* default */.Z)(_useState23, 2),\n    frontRiskCacheRes = _useState24[0],\n    setFrontRiskCacheRes = _useState24[1]; // 缓存前置风控预检的风控结果\n  var userId12306Ref = (0,react.useRef)(null);\n  var realNameRef = (0,react.useRef)(null);\n  var mobileRef = (0,react.useRef)(null);\n  var curPage = cwx_default().getCurrentPage();\n\n  // 初始化\n  var initData = function initData() {\n    var accounts = store/* TrainBookStore.getAttr */.WG.getAttr(ACCOUNTS_STORAGE) || [];\n    var bind12306 = store/* TrainBookStore.getAttr */.WG.getAttr(BIND12306_STORAGE) || {};\n    if (inputFlag.userNameInputFlag || !visible || !accounts.length) {\n      clearState();\n      // setUserData({\n      //   userName: loginName,\n      //   defaultUserName: loginName,\n      //   displayName: loginName,\n      // });\n      return;\n    }\n    if (!userData.userName) {\n      var _ref2 = accounts.find(function (v) {\n          return v.displayName == bind12306.displayName;\n        }) || accounts[0],\n        displayName = _ref2.displayName,\n        userName = _ref2.userName,\n        loginPW = _ref2.loginPW;\n      setUserData({\n        userName: userName || loginName,\n        defaultUserName: userName || loginName,\n        displayName: displayName || loginName,\n        loginPW: loginPW\n      });\n    } else if (!userData.loginPW) {\n      var bindName = util/* default.convetFakePhone */.ZP.convetFakePhone(loginName);\n      var _accounts$find = accounts.find(function (v) {\n          return v.displayName == bindName || v.displayName == userData.displayName || v.displayName == userData.userName;\n        }),\n        _displayName = _accounts$find.displayName,\n        _userName = _accounts$find.userName,\n        _loginPW = _accounts$find.loginPW;\n      setUserData({\n        userName: _userName || loginName,\n        defaultUserName: _userName,\n        displayName: _displayName,\n        loginPW: _loginPW\n      });\n    }\n  };\n  var clearState = function clearState() {\n    setShowPwd(false);\n    setNextStep(false);\n    setCheckedProtocol(false);\n    setCheckedRemember(false);\n    setFaceVisible(false);\n    setMoreVisible(false);\n  };\n  var validatePhone = function validatePhone() {\n    var userName = userData.userName;\n    if (!userName) {\n      util/* default.showToast */.ZP.showToast(\"手机号不能为空！\", \"none\");\n      return false;\n    }\n    return true;\n  };\n  var onBlurPhone = function onBlurPhone(_ref3) {\n    var value = _ref3.detail.value;\n    setShowClean(true);\n    setUserData((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, userData), {}, {\n      userName: value,\n      displayName: value\n    }));\n    setInputFlag((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, inputFlag), {}, {\n      userNameInputFlag: true\n    }));\n  };\n  var onBlurPwd = function onBlurPwd(_ref4) {\n    var value = _ref4.detail.value;\n    setShowClean(true);\n    setUserData((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, userData), {}, {\n      loginPW: value\n    }));\n    setInputFlag((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, inputFlag), {}, {\n      loginPWInputFlag: true\n    }));\n  };\n  var onClickCleanPhone = function onClickCleanPhone() {\n    setUserData((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, userData), {}, {\n      userName: \"\"\n    }));\n  };\n  var onClickToggleShowPwd = function onClickToggleShowPwd() {\n    setShowPwd(!isShowPwd);\n  };\n\n  // 忘记密码\n  var jumpRetrievePage = function jumpRetrievePage() {\n    var userName = userData.userName,\n      defaultUserName = userData.defaultUserName;\n    var verfiyUserName = inputFlag.userNameInputFlag ? userName : defaultUserName || userName;\n    var url = \"\".concat(host, \"/webapp/train/activity/ctrip-train-12306/#/retrieve?userName=\").concat(verfiyUserName, \"&from=loginSheet\");\n    curPage.navigateTo({\n      url: \"/pages/trainActivity/twebview/index\",\n      data: {\n        url: url,\n        needLogin: true,\n        bridgeIns: forgetPwdCallback\n      }\n    });\n  };\n\n  // 服务协议\n  var jumpServicePage = function jumpServicePage() {\n    curPage.navigateTo({\n      url: \"/pages/train/webview/webview\",\n      data: {\n        url: \"https://m.ctrip.com/webapp/train/activity/orderservice/InsuranceDetail.aspx?ProductID=1111&&disable_redirect_https=1&terminal=1\"\n      }\n    });\n  };\n\n  // 认证协议\n  var jumpCheckPage = function jumpCheckPage() {\n    curPage.navigateTo({\n      url: \"/pages/train/webview/webview\",\n      data: {\n        url: \"https://m.ctrip.com/webapp/train/activity/orderservice/InsuranceDetail.aspx?ProductID=2021&disable_redirect_https=1&terminal=1\"\n      }\n    });\n  };\n  var onClickForgetPwd = function onClickForgetPwd() {\n    jumpRetrievePage();\n    util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n      bizKey: \"loginSecondStepClick\",\n      clickType: 4\n    });\n  };\n  var onClickRememberPwd = function onClickRememberPwd() {\n    setCheckedRemember(!isCheckedRemember);\n  };\n  var onClickAgreeProtocol = function onClickAgreeProtocol() {\n    setCheckedProtocol(!isCheckedProtocol);\n  };\n  var forgetPwdCallback = function forgetPwdCallback(_ref5) {\n    var data = _ref5.detail.data;\n    return handleLogin(data[0]);\n  };\n  var registerCallback = function registerCallback(_ref6) {\n    var data = _ref6.detail.data;\n    return handleLogin(data[0]);\n  };\n  var onClickLogin = function onClickLogin() {\n    var isPass = validatePhone();\n    if (!nextStep) {\n      util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n        bizKey: \"loginFirstStepClick\",\n        clickType: 1\n      });\n      return isPass && setNextStep(true);\n    }\n    util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n      bizKey: \"loginSecondStepClick\",\n      clickType: 1\n    });\n    if (!userData.loginPW) {\n      return util/* default.showToast */.ZP.showToast(\"请先输入12306密码\", \"none\");\n    }\n    if (!isCheckedProtocol) {\n      return util/* default.showToast */.ZP.showToast(\"请先同意账号授权协议\", \"none\");\n    }\n    handleLogin();\n  };\n  var onClickJumpProtocol = function onClickJumpProtocol() {\n    curPage.navigateTo({\n      url: \"/pages/train/webview/webview\",\n      data: {\n        url: \"https://m.ctrip.com/webapp/train/activity/orderservice/InsuranceDetail.aspx?ProductID=1111&&disable_redirect_https=1&terminal=1\"\n      }\n    });\n  };\n  var onClickRegister = function onClickRegister() {\n    util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n      bizKey: nextStep ? 'loginSecondStepClick' : 'loginFirstStepClick',\n      clickType: 3\n    });\n    var url = \"\".concat(host, \"/webapp/train/activity/ctrip-train-12306/#/register?from=loginSheet\");\n    curPage.navigateTo({\n      url: \"/pages/trainActivity/twebview/index\",\n      data: {\n        url: url,\n        needLogin: true,\n        bridgeIns: registerCallback\n      }\n    });\n  };\n\n  // 短信\n  var showSmsPop = function showSmsPop() {\n    return setSmsVisible(true);\n  };\n  // 人证\n  var showFacePop = function showFacePop() {\n    return setFaceVisible(true);\n  };\n  // 多种方式核验\n  var showMorePop = function showMorePop() {\n    return setMoreVisible(true);\n  };\n  var hidePop = function hidePop() {\n    setSmsVisible(false);\n    setFaceVisible(false);\n    setMoreVisible(false);\n    finish();\n    if (action == ACTION_FRONTPASSCLICK) {\n      util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n        exposureType: \"popup\",\n        bizKey: \"verificationPopupClick\",\n        errorCode: codeConvertScene(currErrCode),\n        clickType: 3,\n        result: 2\n      });\n    }\n  };\n  var handleFaceVerify = function handleFaceVerify() {\n    var userName = userData.userName,\n      loginPW = userData.loginPW,\n      defaultUserName = userData.defaultUserName;\n    var verfiyUserName = inputFlag.userNameInputFlag ? userName : defaultUserName;\n    var url = \"/pages/train/face/face?fromType=4&userName=\".concat(verfiyUserName, \"&loginPW=\").concat(loginPW);\n    if (action == ACTION_FRONTPASSCLICK) {\n      var accounts = store/* TrainBookStore.getAttr */.WG.getAttr(ACCOUNTS_STORAGE);\n      url = \"/pages/train/face/face?fromType=4&userName=\".concat(accounts[0].displayName, \"&loginPW=\").concat(accounts[0].loginPW);\n    }\n    setFaceVisible(false);\n    setMoreVisible(false);\n    curPage.navigateTo({\n      url: url,\n      callback: function () {\n        var _callback = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(res) {\n          return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                setTimeout(function () {\n                  if (!res.certificationResultCode || res.certificationResultCode != 1) {\n                    if (action == ACTION_FRONTPASSCLICK) {\n                      finish();\n                      util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n                        exposureType: \"popup\",\n                        bizKey: \"verificationPopupClick\",\n                        errorCode: codeConvertScene(currErrCode),\n                        clickType: 1,\n                        result: 2\n                      });\n                    }\n                    return util/* default.showModal */.ZP.showModal({\n                      m: \"核验失败，请重试\"\n                    });\n                  }\n                  if (action == ACTION_FRONTPASSCLICK) {\n                    frontRiskPassengerLogin();\n                    util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n                      exposureType: \"popup\",\n                      bizKey: \"verificationPopupClick\",\n                      errorCode: codeConvertScene(currErrCode),\n                      clickType: 1,\n                      result: 1\n                    });\n                  } else {\n                    handleLogin();\n                  }\n                }, 500);\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        function callback(_x) {\n          return _callback.apply(this, arguments);\n        }\n        return callback;\n      }()\n    });\n  };\n\n  // 记住密码弹窗\n  var showRemeberDialog = function showRemeberDialog(_ref7) {\n    var account = _ref7.account,\n      accounts = _ref7.accounts,\n      realUserName = _ref7.realUserName,\n      displayName = _ref7.displayName,\n      loginPW = _ref7.loginPW;\n    return new Promise(function (resolve) {\n      util/* default.showModal */.ZP.showModal({\n        m: account ? \"密码已修改，下次一键登录免输入，要更新记住密码吗\" : \"为了您的方便记住12306账号密码，下次一键登录免输入\",\n        showCancel: true,\n        cancelText: \"残忍拒绝\",\n        cancelColor: \"#0086F6\",\n        confirmColor: \"#0086F6\",\n        confirmText: account ? \"更新密码\" : \"记住密码\",\n        done: function done(_ref8) {\n          var confirm = _ref8.confirm;\n          if (confirm) {\n            var newAccounts = account ? accounts.filter(function (v) {\n              return v.userName !== account.userName;\n            }) : accounts;\n            store/* TrainBookStore.setAttr */.WG.setAttr(ACCOUNTS_STORAGE, [{\n              userName: realUserName,\n              displayName: displayName,\n              loginPW: loginPW\n            }].concat((0,toConsumableArray/* default */.Z)(newAccounts.slice(0, 9))));\n          } else {\n            // console.log(\"放弃记住密码\");\n          }\n          util/* default.showToast */.ZP.showToast(\"登录成功\");\n          resolve();\n        }\n      });\n    });\n  };\n\n  // 需要修改密码\n  var showModifyDialog = function showModifyDialog() {\n    return new Promise(function (resolve) {\n      util/* default.showModal */.ZP.showModal({\n        m: \"密码太久未修改，建议尝试找回密码\",\n        showCancel: true,\n        cancelText: \"返回修改\",\n        cancelColor: \"#0086F6\",\n        confirmColor: \"#0086F6\",\n        confirmText: \"找回密码\",\n        done: function done(_ref9) {\n          var confirm = _ref9.confirm;\n          if (confirm) {\n            jumpRetrievePage();\n          }\n          resolve();\n        }\n      });\n    });\n  };\n\n  // 正常登录流程处理\n  var handleLogin = function handleLogin() {\n    var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : userData,\n      userName = _ref10.userName,\n      loginPW = _ref10.loginPW,\n      defaultUserName = _ref10.defaultUserName;\n    var loginUserName = inputFlag.userNameInputFlag ? userName : defaultUserName || userName;\n    var params = {\n      UserName: loginUserName,\n      Password: loginPW,\n      normalLogin: true,\n      displayName: userData.displayName\n    };\n    (0,util/* pureLoginProcess */.Xx)({\n      params: params,\n      outerParams: {\n        userName: userName\n      },\n      succ: function () {\n        var _succ = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2(_ref11) {\n          var memberStatus, mobilePhone, userID12306, displayName, realUserName, accounts, account, newAccounts, activeRes;\n          return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                memberStatus = _ref11.memberStatus, mobilePhone = _ref11.mobilePhone, userID12306 = _ref11.userID12306;\n                displayName = mobilePhone || userName;\n                realUserName = userID12306 || userName;\n                accounts = store/* TrainBookStore.getAttr */.WG.getAttr(ACCOUNTS_STORAGE) || [];\n                account = accounts.find(function (v) {\n                  return v.userName == realUserName;\n                }); // 没记录过或密码更新\n                if (!(!account || account.loginPW !== loginPW)) {\n                  _context2.next = 16;\n                  break;\n                }\n                if (!isCheckedRemember) {\n                  _context2.next = 12;\n                  break;\n                }\n                newAccounts = account ? accounts.filter(function (v) {\n                  return v.userName !== account.userName;\n                }) : accounts;\n                store/* TrainBookStore.setAttr */.WG.setAttr(ACCOUNTS_STORAGE, [{\n                  userName: realUserName,\n                  displayName: displayName,\n                  loginPW: loginPW\n                }].concat((0,toConsumableArray/* default */.Z)(newAccounts.slice(0, 9))));\n                util/* default.showToast */.ZP.showToast(\"登录成功\");\n                _context2.next = 14;\n                break;\n              case 12:\n                _context2.next = 14;\n                return showRemeberDialog({\n                  account: account,\n                  accounts: accounts,\n                  realUserName: realUserName,\n                  displayName: displayName,\n                  loginPW: loginPW\n                });\n              case 14:\n                _context2.next = 18;\n                break;\n              case 16:\n                util/* default.showToast */.ZP.showToast(\"登录成功\");\n                util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n                  bizKey: \"loginResult\",\n                  loginState: 0,\n                  failReason: \"\"\n                });\n              case 18:\n                if (!(push && memberStatus !== '0' && !isOrdinary)) {\n                  _context2.next = 23;\n                  break;\n                }\n                _context2.next = 21;\n                return jumpActiveMember();\n              case 21:\n                activeRes = _context2.sent;\n                return _context2.abrupt(\"return\", done({\n                  login12306Name: (activeRes === null || activeRes === void 0 ? void 0 : activeRes.userName) || realUserName,\n                  displayName: (activeRes === null || activeRes === void 0 ? void 0 : activeRes.displayName) || displayName,\n                  login12306Pas: (activeRes === null || activeRes === void 0 ? void 0 : activeRes.loginPW) || loginPW,\n                  activateSuccess: activeRes === null || activeRes === void 0 ? void 0 : activeRes.activateSuccess\n                }));\n              case 23:\n                return _context2.abrupt(\"return\", done({\n                  login12306Name: realUserName,\n                  displayName: displayName,\n                  login12306Pas: loginPW\n                }));\n              case 24:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2);\n        }));\n        function succ(_x2) {\n          return _succ.apply(this, arguments);\n        }\n        return succ;\n      }(),\n      fail: function () {\n        var _fail = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee3(error) {\n          var _error$originData, originData, errmsg, failCode;\n          return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                _error$originData = error.originData, originData = _error$originData === void 0 ? {} : _error$originData, errmsg = error.errmsg, failCode = error.failCode;\n                userId12306Ref.current = originData.userID12306;\n                realNameRef.current = originData.realName || \"\";\n                mobileRef.current = originData.mobilePhone || \"\";\n                setUserData((0,objectSpread2/* default */.Z)({}, userData));\n                util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n                  bizKey: \"loginResult\",\n                  loginState: 1,\n                  failReason: errmsg\n                });\n                console.log(\"error\", error);\n                if (!(failCode == 6)) {\n                  _context3.next = 9;\n                  break;\n                }\n                return _context3.abrupt(\"return\", util/* default.showModal */.ZP.showModal({\n                  title: \"温馨提示\",\n                  m: \"用户名或密码输入错误，超过4次您的账号将被锁定，若忘记用户名或密码，请尝试找回密码。\",\n                  showCancel: true,\n                  confirmText: \"找回密码\",\n                  cancelText: \"知道了\",\n                  done: function done(_ref12) {\n                    var confirm = _ref12.confirm;\n                    if (confirm) {\n                      return jumpRetrievePage();\n                    }\n                  }\n                }));\n              case 9:\n                if (!(failCode == 7)) {\n                  _context3.next = 11;\n                  break;\n                }\n                return _context3.abrupt(\"return\", handleSmsVerify({\n                  mobileCheck: 0,\n                  accountInfo: userData\n                }));\n              case 11:\n                if (!(failCode == 8)) {\n                  _context3.next = 16;\n                  break;\n                }\n                _context3.next = 14;\n                return (0,util/* checkScanFace */.lu)({});\n              case 14:\n                if (!_context3.sent) {\n                  _context3.next = 16;\n                  break;\n                }\n                return _context3.abrupt(\"return\", showFacePop());\n              case 16:\n                if (!(failCode == 9)) {\n                  _context3.next = 18;\n                  break;\n                }\n                return _context3.abrupt(\"return\", showMorePop());\n              case 18:\n                if (!(failCode == 13)) {\n                  _context3.next = 20;\n                  break;\n                }\n                return _context3.abrupt(\"return\", showModifyDialog());\n              case 20:\n                if (!((errmsg === null || errmsg === void 0 ? void 0 : errmsg.length) > 24)) {\n                  _context3.next = 22;\n                  break;\n                }\n                return _context3.abrupt(\"return\", util/* default.showModal */.ZP.showModal({\n                  m: errmsg || \"网络开小差了，请稍后再试\"\n                }));\n              case 22:\n                util/* default.showToast */.ZP.showToast(errmsg || \"网络开小差了，请稍后再试\", \"none\");\n              case 23:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3);\n        }));\n        function fail(_x3) {\n          return _fail.apply(this, arguments);\n        }\n        return fail;\n      }()\n    });\n  };\n\n  // 填写页前置风控预检 本地有账密时自动登录\n  var frontRiskPassengerLogin = function frontRiskPassengerLogin() {\n    // 获取本地记住账密的缓存\n    var accounts = store/* TrainBookStore.getAttr */.WG.getAttr(ACCOUNTS_STORAGE);\n    if (!(accounts !== null && accounts !== void 0 && accounts.length)) {\n      return finish(); // 继续正常下单流程\n    }\n\n    (0,util/* pureLoginProcess */.Xx)({\n      params: {\n        UserName: accounts[0].userName,\n        Password: accounts[0].loginPW,\n        normalLogin: true\n      },\n      outerParams: {\n        userName: accounts[0].userName\n      },\n      succ: function succ(res) {\n        return finish((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, res), {}, {\n          userName: accounts[0].displayName,\n          succ: true\n        }));\n      },\n      fail: function fail(err) {\n        store/* TrainBookStore.removeAttr */.WG.removeAttr(BIND12306_STORAGE);\n        setFrontRiskCacheRes(err);\n        finish();\n      }\n    });\n  };\n  // 前置风控预检 点击添加乘客时触发上次缓存的风控\n  var frontRiskPassengerClick = /*#__PURE__*/function () {\n    var _ref13 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee4() {\n      var _frontRiskCacheRes$or, originData, _frontRiskCacheRes$fa, failCode;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            _frontRiskCacheRes$or = frontRiskCacheRes.originData, originData = _frontRiskCacheRes$or === void 0 ? {} : _frontRiskCacheRes$or, _frontRiskCacheRes$fa = frontRiskCacheRes.failCode, failCode = _frontRiskCacheRes$fa === void 0 ? 0 : _frontRiskCacheRes$fa;\n            mobileRef.current = originData.mobilePhone || \"\";\n            realNameRef.current = originData.realName || \"\";\n            setCurrErrCode(failCode);\n            if (!(failCode == 7)) {\n              _context4.next = 7;\n              break;\n            }\n            // 91 短信验证\n            util/* default.ubtTrace */.ZP.ubtTrace(\"s_trn_c_trace_\".concat(pageId), {\n              exposureType: \"popup\",\n              bizKey: \"verificationPopup\",\n              errorCode: '91'\n            });\n            return _context4.abrupt(\"return\", showSmsPop());\n          case 7:\n            if (!(failCode == 8)) {\n              _context4.next = 13;\n              break;\n            }\n            _context4.next = 10;\n            return (0,util/* checkScanFace */.lu)({});\n          case 10:\n            if (!_context4.sent) {\n              _context4.next = 13;\n              break;\n            }\n            util/* default.ubtTrace */.ZP.ubtTrace(\"s_trn_c_trace_\".concat(pageId), {\n              exposureType: \"popup\",\n              bizKey: \"verificationPopup\",\n              errorCode: '94'\n            });\n            return _context4.abrupt(\"return\", showFacePop());\n          case 13:\n            if (!(failCode == 9)) {\n              _context4.next = 16;\n              break;\n            }\n            // 96 多种方式核验\n            util/* default.ubtTrace */.ZP.ubtTrace(\"s_trn_c_trace_\".concat(pageId), {\n              exposureType: \"popup\",\n              bizKey: \"verificationPopup\",\n              errorCode: '96'\n            });\n            return _context4.abrupt(\"return\", showMorePop());\n          case 16:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }));\n    return function frontRiskPassengerClick() {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n\n  // 短信验证\n  var handleSmsVerify = function handleSmsVerify(_ref14) {\n    var mobileCheck = _ref14.mobileCheck,\n      accountInfo = _ref14.accountInfo;\n    var _ref15 = accountInfo || userData,\n      loginPW = _ref15.loginPW;\n    var url = \"\".concat(host, \"/webapp/train/activity/ctrip-train-12306/#/verify?mobile=\").concat(mobileRef.current || \"您的下单手机\", \"&userName=\").concat(encodeURIComponent(realNameRef.current), \"&password=\").concat(encodeURIComponent(loginPW), \"&userID12306=\").concat(userId12306Ref.current, \"&mobileCheck=\").concat(mobileCheck, \"&source=login12306sheet\");\n    if (action == ACTION_FRONTPASSCLICK) {\n      var accounts = store/* TrainBookStore.getAttr */.WG.getAttr(ACCOUNTS_STORAGE);\n      url = \"\".concat(host, \"/webapp/train/activity/ctrip-train-12306/#/verify?mobile=\").concat(accounts[0].displayName || \"您的下单手机\", \"&userName=\").concat(encodeURIComponent(accounts[0].displayName), \"&password=\").concat(encodeURIComponent(accounts[0].loginPW), \"&userID12306=\").concat(accounts[0].userName, \"&mobileCheck=\").concat(mobileCheck, \"&source=login12306sheet\");\n    }\n    hidePop();\n    curPage.navigateTo({\n      url: \"/pages/trainActivity/twebview/index\",\n      data: {\n        url: url,\n        needLogin: true,\n        bridgeIns: function bridgeIns(_ref16) {\n          var data = _ref16.detail.data;\n          var _data = (0,slicedToArray/* default */.Z)(data, 1),\n            _data$0$unRisk = _data[0].unRisk,\n            unRisk = _data$0$unRisk === void 0 ? false : _data$0$unRisk;\n          setTimeout(function () {\n            if (unRisk) {\n              if (action == ACTION_FRONTPASSCLICK) {\n                frontRiskPassengerLogin();\n                util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n                  exposureType: \"popup\",\n                  bizKey: \"verificationPopupClick\",\n                  errorCode: codeConvertScene(currErrCode),\n                  clickType: codeConvertScene(currErrCode) == 96 ? 2 : 1,\n                  result: 1\n                });\n              } else {\n                handleLogin(accountInfo);\n              }\n            } else {\n              if (action == ACTION_FRONTPASSCLICK) {\n                util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n                  exposureType: \"popup\",\n                  bizKey: \"verificationPopupClick\",\n                  errorCode: codeConvertScene(currErrCode),\n                  clickType: codeConvertScene(currErrCode) == 96 ? 2 : 1,\n                  result: 2\n                });\n              }\n              finish();\n            }\n          }, 500);\n        }\n      }\n    });\n  };\n\n  // 跳转激活会员\n  var jumpActiveMember = function jumpActiveMember() {\n    return new Promise(function (resolve) {\n      var url = \"\".concat(host, \"/webapp/train/activity/ctrip-train-12306/#/login?userName=\").concat(encodeURIComponent(userData.userName), \"&loginPW=\").concat(encodeURIComponent(userData.loginPW), \"&source=login12306sheet&push=\").concat(push, \"&autoLogin=1\");\n      curPage.navigateTo({\n        url: \"/pages/trainActivity/twebview/index\",\n        data: {\n          url: url,\n          bridgeIns: function bridgeIns(res) {\n            var _res$detail$data;\n            var data = res === null || res === void 0 || (_res$detail$data = res.detail.data) === null || _res$detail$data === void 0 ? void 0 : _res$detail$data[0];\n            resolve(data);\n          }\n        }\n      });\n    });\n  };\n\n  // 各种 action 的处理\n  var handleAction = /*#__PURE__*/function () {\n    var _ref17 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee5() {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            if (action == ACTION_FRONTPASSLOGIN) {\n              frontRiskPassengerLogin();\n            } else if (action == ACTION_FRONTPASSCLICK) {\n              frontRiskPassengerClick();\n            }\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5);\n    }));\n    return function handleAction() {\n      return _ref17.apply(this, arguments);\n    };\n  }();\n  (0,react.useEffect)(function () {\n    initData();\n    // console.log('获取用户绑定的 12306 账号', loginName);\n  }, [visible, loginName]);\n  (0,react.useEffect)(function () {\n    handleAction();\n  }, [action]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [visible && util/* default.ubtTrace */.ZP.ubtTrace(\"s_trn_c_trace_\".concat(pageId), {\n      exposureType: \"actionbar\",\n      bizKey: \"loginFirstStep\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(popup/* default */.Z, {\n      visible: visible,\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"login12306-pop\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"login12306-pop-hd\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"tit\",\n            children: textConfig.title || defaultConfig.title\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"sub\",\n            children: textConfig.subTitle || defaultConfig.subTitle\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"ifont-closed-line\",\n            onClick: close\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"login12306-pop-bd\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"input-box \".concat(nextStep ? \"active\" : \"\"),\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"input-item\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_Input, {\n                className: \"input-text\",\n                type: \"text\",\n                displayValue: userData.displayName,\n                value: userData.userName,\n                placeholder: defaultConfig.phonePlaceHolder,\n                placeholderClass: \"placeHolder\",\n                cursorSpacing: util/* default.isIphone13 */.ZP.isIphone13() ? 30 : 20,\n                onBlur: onBlurPhone,\n                onFocus: function onFocus() {\n                  return setShowClean(false);\n                }\n              }), showClean && userData.userName.length !== 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"ifont-clean\",\n                onClick: onClickCleanPhone\n              })]\n            }), nextStep && /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n              children: [util/* default.ubtTrace */.ZP.ubtTrace(\"s_trn_c_trace_\".concat(pageId), {\n                exposureType: \"actionbar\",\n                bizKey: \"loginSecondStep\"\n              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"input-item\",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_Input, {\n                  className: \"input-pwd\",\n                  password: !isShowPwd,\n                  value: userData.loginPW,\n                  placeholder: defaultConfig.pwdPlaceHolder,\n                  placeholderClass: \"placeHolder\",\n                  cursorSpacing: util/* default.isIphone13 */.ZP.isIphone13() ? 40 : isShowPwd ? 20 : 0,\n                  onBlur: onBlurPwd,\n                  onFocus: function onFocus() {\n                    return setShowClean(false);\n                  }\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"\".concat(isShowPwd ? \"icon-eyeopen\" : \"icon-eyecloed\"),\n                  onClick: onClickToggleShowPwd\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"btn-forget\",\n                  onClick: onClickForgetPwd,\n                  children: \"\\u5FD8\\u8BB0\\u5BC6\\u7801\\uFF1F\"\n                })]\n              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"detail-info \".concat(isCheckedProtocol ? 'no-tip' : ''),\n                children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"protocol\",\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"\".concat(isCheckedProtocol ? \"ifont-checked blue\" : \"ifont-checkbox\"),\n                    onClick: onClickAgreeProtocol\n                  }), \"\\u5DF2\\u9605\\u8BFB\\u5E76\\u540C\\u610F\\xA0\", /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"blue\",\n                    onClick: onClickJumpProtocol,\n                    children: \"\\u8D26\\u53F7\\u6388\\u6743\\u534F\\u8BAE\"\n                  }), !isCheckedProtocol && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"tip\",\n                    children: \"\\u8BF7\\u5148\\u52FE\\u9009\\u540C\\u610F\\u540E\\u518D\\u8FDB\\u884C\\u767B\\u5F55\"\n                  })]\n                }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"remember\",\n                  onClick: onClickRememberPwd,\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"\".concat(isCheckedRemember ? \"ifont-checked blue\" : \"ifont-checkbox\")\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"txt\",\n                    children: \"\\u8BB0\\u4F4F\\u5BC6\\u7801\"\n                  })]\n                })]\n              })]\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"btn-box\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n              className: \"btn-submit\",\n              onClick: onClickLogin,\n              children: nextStep ? \"登录12306账号\" : \"下一步\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"txt blue \".concat(util/* default.isIos */.ZP.isIos() ? '' : 'noios'),\n              onClick: onClickRegister,\n              children: [\"\\u6CA1\\u6709\\u8D26\\u53F7\\uFF0C10S\\u5B8C\\u6210\\u6781\\u901F\\u6CE8\\u518C\", /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"ifont-arr\"\n              })]\n            })]\n          })]\n        }), (pkg === null || pkg === void 0 || (_pkg$package = pkg.package) === null || _pkg$package === void 0 ? void 0 : _pkg$package.productTitle) && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"login12306-pop-bd pkg\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            className: \"img\",\n            src: \"https://pic.c-ctrip.com/train/wechat/icon-youxian-new.png\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"cont\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"tit\",\n              children: [pkg.package.productTitle, \" \", /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                className: \"price\",\n                children: [pkg.package.productPrice, \"\\u5143/\\u4EBA\"]\n              })]\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"sub\",\n              children: \"\\u6781\\u901F\\u8D2D\\u7968\\uFF0C\\u65E0\\u9700\\u6392\\u961F\"\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n            className: \"btn-pkg\",\n            onClick: function onClick() {\n              util/* default.ubtTrace */.ZP.ubtTrace(\"c_trn_c_\".concat(pageId), {\n                bizKey: nextStep ? 'loginSecondStepClick' : 'loginFirstStepClick',\n                clickType: 2\n              });\n              freeDone();\n            },\n            children: \"\\u7ACB\\u5373\\u51FA\\u7968\"\n          })]\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Login12306Pop_SmsVerifyPop, {\n      visible: isSmsVisible,\n      mobilePhone: mobileRef.current,\n      smsVerify: function smsVerify() {\n        return handleSmsVerify({\n          mobileCheck: 0\n        });\n      },\n      close: hidePop\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Login12306Pop_ScanVerifyPop, {\n      visible: isFaceVisible,\n      action: action,\n      realName: realNameRef.current,\n      jumpCheckPage: jumpCheckPage,\n      jumpServicePage: jumpServicePage,\n      faceVerify: handleFaceVerify,\n      close: hidePop\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Login12306Pop_MoreVerifyPop, {\n      visible: isMoreVisible,\n      action: action,\n      realName: realNameRef.current,\n      jumpCheckPage: jumpCheckPage,\n      jumpServicePage: jumpServicePage,\n      faceVerify: handleFaceVerify,\n      smsVerify: function smsVerify() {\n        return handleSmsVerify({\n          mobileCheck: 0\n        });\n      },\n      close: hidePop\n    })]\n  });\n};\n/* harmony default export */ var components_Login12306Pop = (Login12306Pop);\n\n// 获取用户绑定的手机号\nvar getLogin12306Mobile = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n    var allPas,\n      _yield$GetAccountMobi,\n      retCode,\n      retMessage,\n      bindMobilePhone,\n      _yield$GetUserRealAut,\n      _retCode,\n      _retMessage,\n      identityNo,\n      sliceStr,\n      selfpas,\n      _args6 = arguments;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          allPas = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : [];\n          _context6.prev = 1;\n          _context6.next = 4;\n          return GetAccountMobilePhone({});\n        case 4:\n          _yield$GetAccountMobi = _context6.sent;\n          retCode = _yield$GetAccountMobi.retCode;\n          retMessage = _yield$GetAccountMobi.retMessage;\n          bindMobilePhone = _yield$GetAccountMobi.bindMobilePhone;\n          _context6.next = 10;\n          return GetUserRealAuthenticationInfo({});\n        case 10:\n          _yield$GetUserRealAut = _context6.sent;\n          _retCode = _yield$GetUserRealAut.retCode;\n          _retMessage = _yield$GetUserRealAut.retMessage;\n          identityNo = _yield$GetUserRealAut.identityNo;\n          if (!(retCode != 1 || _retCode != 1 || !bindMobilePhone || !identityNo)) {\n            _context6.next = 16;\n            break;\n          }\n          throw retMessage || _retMessage;\n        case 16:\n          sliceStr = function sliceStr(str) {\n            return str && str.replace(/^(.{3})(.*)(.{2})$/, function (_, $1, $2, $3) {\n              return $1 + $3;\n            });\n          };\n          selfpas = allPas.find(function (p) {\n            var _p$idcard;\n            return p.mobilePhone == bindMobilePhone || sliceStr((_p$idcard = p.idcard) === null || _p$idcard === void 0 ? void 0 : _p$idcard.noMaskData) == sliceStr(identityNo) || p.isSelf;\n          });\n          return _context6.abrupt(\"return\", selfpas && /^[1][0-9]{10}$/.test(selfpas.mobilePhone) ? selfpas.mobilePhone : bindMobilePhone);\n        case 21:\n          _context6.prev = 21;\n          _context6.t0 = _context6[\"catch\"](1);\n          return _context6.abrupt(\"return\", \"\");\n        case 24:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[1, 21]]);\n  }));\n  return function getLogin12306Mobile() {\n    return _ref18.apply(this, arguments);\n  };\n}()));\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/trainActivity/twebview/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar shared = (cwx_default()).train;\nvar URLSearchParams = (commonModule_prod_default()).URLSearchParams;\nvar twebview_noop = function noop() {\n  //\n};\nvar fillSign = function fillSign(str) {\n  if (str) {\n    return str.startsWith('#') ? str : \"#\".concat(str);\n  }\n  return '';\n};\n// 核验失败返回去\nvar failCb = function failCb() {\n  taro_default().getCurrentPages().length <= 1 ? cwx_default().redirectTo({\n    url: '/pages/train/index/index'\n  }) : cwx_default().navigateBack();\n};\n\n// 服务协议\nvar jumpServicePage = function jumpServicePage() {\n  cwx_default().navigateTo({\n    url: \"/pages/train/webview/webview\",\n    data: {\n      url: \"https://m.ctrip.com/webapp/train/activity/orderservice/InsuranceDetail.aspx?ProductID=1111&&disable_redirect_https=1&terminal=1\"\n    }\n  });\n};\nvar jumpCheckPage = function jumpCheckPage() {\n  cwx_default().navigateTo({\n    url: \"/pages/train/webview/webview\",\n    data: {\n      url: \"https://m.ctrip.com/webapp/train/activity/orderservice/InsuranceDetail.aspx?ProductID=2021&disable_redirect_https=1&terminal=1\"\n    }\n  });\n};\nvar Index = /*#__PURE__*/function (_TaroBase) {\n  (0,inherits/* default */.Z)(Index, _TaroBase);\n  var _super = (0,createSuper/* default */.Z)(Index);\n  function Index(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Index);\n    _this = _super.call(this, props);\n    _this.checkPerformance = true; // 白屏检测标志位\n\n    _this.pageId = pageId/* default.twebview */.Z.twebview;\n    _this.state = {\n      canWebView: taro_default().canIUse('web-view'),\n      wsg: '',\n      url: ''\n    };\n    _this.shareData = {\n      bu: '',\n      title: '',\n      path: '',\n      imageUrl: '',\n      desc: '',\n      customer: null\n    };\n    _this.bridgeIns = twebview_noop;\n    _this.openId = (cwx_default()).cwx_mkt.openid;\n    _this.unionId = (cwx_default()).cwx_mkt.unionid;\n    _this.searchParams = null;\n    _this.cityName = '';\n    _this.longitude = null;\n    _this.latitude = null;\n    return _this;\n  }\n\n  // onLoad\n  (0,createClass/* default */.Z)(Index, [{\n    key: \"onLoad\",\n    value: function () {\n      var _onLoad = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(options) {\n        var _options$data, data, url;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _options$data = options.data, data = _options$data === void 0 ? {} : _options$data; // 所有的数据都带在url上面\n              url = data.url || decodeURIComponent(options.url);\n              this.pageUrl = url;\n              this.bridgeIns = data.bridgeIns || twebview_noop;\n              console.log('twebview 页面路径', url);\n              // 创建websocket链接\n              _context.next = 7;\n              return this.initSocket(url);\n            case 7:\n              url = _context.sent;\n              this.initPage(url);\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function onLoad(_x) {\n        return _onLoad.apply(this, arguments);\n      }\n      return onLoad;\n    }()\n  }, {\n    key: \"componentDidShow\",\n    value: function componentDidShow() {\n      var _shared$webviewData,\n        _shared$webviewData2,\n        _this2 = this;\n      // 重新修改src会产生网页的history 导致点击左上角的返回时 会返回一次上一个网页 这里需要销毁旧的webview 就可以保证history中只有最新的记录 需要延时操作的目的是防止卡顿\n      if ((_shared$webviewData = shared.webviewData) !== null && _shared$webviewData !== void 0 && _shared$webviewData.needReload && (_shared$webviewData2 = shared.webviewData) !== null && _shared$webviewData2 !== void 0 && _shared$webviewData2.reloadUrl) {\n        this.setState({\n          url: ''\n        });\n        setTimeout(function () {\n          _this2.initPage(shared.webviewData.reloadUrl);\n          shared.webviewData = null;\n        }, 800);\n      }\n    }\n  }, {\n    key: \"initSocket\",\n    value: function () {\n      var _initSocket = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2(url) {\n        var _this3 = this;\n        var self, searchParams, needSocket, socketObserverKey, newUrl;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              self = this;\n              searchParams = new URLSearchParams(url.replace(/#.*/, '').split('?')[1]);\n              needSocket = searchParams.get(\"needSocket\");\n              socketObserverKey = searchParams.get(\"socketObserverKey\");\n              newUrl = url;\n              if (!(needSocket && socketObserverKey)) {\n                _context2.next = 15;\n                break;\n              }\n              _context2.prev = 6;\n              _context2.next = 9;\n              return new Promise(function (resolve) {\n                var socketClient = cwx_default().createMiniSocket({\n                  socketObserverKey: socketObserverKey,\n                  url: url,\n                  source: needSocket,\n                  onGetKey: function onGetKey(socketUrl) {\n                    console.log(\"onGetKey\", socketUrl);\n                    url = socketUrl;\n                    resolve(socketUrl);\n                  },\n                  onMessage: function onMessage(msg) {\n                    //todo?做公共的业务，比如显示分享广告等\n                    // 此处源码使用apply调用，h5端需要传入数组类型的参数\n                    console.log(\"onMessage:\", msg);\n                    if (typeof self.onSocketMessage === \"function\") {\n                      self.onSocketMessage(msg);\n                    }\n                  },\n                  onOpen: function onOpen(opt) {\n                    console.log(\"onOpen:\", opt);\n                    if (typeof self.onSocketOpen === \"function\") {\n                      self.onSocketOpen(opt, socketClient);\n                    }\n                  },\n                  onClose: function onClose(opt) {\n                    console.log(\"onClose:\", opt);\n                    if (typeof self.onSocketClose === \"function\") {\n                      self.onSocketClose(opt, socketClient);\n                    }\n                  },\n                  onError: function onError(e) {\n                    console.error(\"onError:\", e);\n                    if (typeof self.onSocketError === \"function\") {\n                      self.onSocketError(e, socketClient);\n                    }\n                  }\n                });\n                _this3.socketClient = socketClient;\n              });\n            case 9:\n              newUrl = _context2.sent;\n              _context2.next = 15;\n              break;\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2[\"catch\"](6);\n              console.log(\"socket connect error\", _context2.t0);\n            case 15:\n              return _context2.abrupt(\"return\", newUrl);\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[6, 12]]);\n      }));\n      function initSocket(_x2) {\n        return _initSocket.apply(this, arguments);\n      }\n      return initSocket;\n    }()\n  }, {\n    key: \"initPage\",\n    value: function () {\n      var _initPage = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee3(url) {\n        var searchParams, needLogin, allianceid, sid, hideShare, need12306Name, checkStuQua, redirectSync, froce12306Login, auth, duid, token, _ref, nickName, avatar, params;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(\"oldUrl\", url);\n              searchParams = new URLSearchParams(url.replace(/#.*/, '').split('?')[1]);\n              this.searchParams = searchParams;\n              needLogin = searchParams.get('needLogin'); // const needAuth = searchParams.get('needAuth')\n              // const needSubscribe = searchParams.get('needSubscribe')\n              // const needLocation = searchParams.get('needLocation')\n              allianceid = searchParams.get('allianceid');\n              sid = searchParams.get('sid');\n              hideShare = searchParams.get('hideShare');\n              need12306Name = searchParams.get('need12306Name');\n              checkStuQua = searchParams.get('checkStuQua');\n              redirectSync = searchParams.get('redirectSync');\n              froce12306Login = searchParams.get('froce12306Login');\n              this.userName = searchParams.get('userName');\n              this.initNavigation(searchParams);\n              if (allianceid && sid) {\n                cwx_default().mkt.setUnion({\n                  allianceid: allianceid,\n                  sid: sid\n                });\n              }\n              if (!(!this.openId || !this.unionId)) {\n                _context3.next = 19;\n                break;\n              }\n              _context3.next = 17;\n              return (0,util/* getOpenId */.wr)();\n            case 17:\n              this.openId = _context3.sent;\n              this.unionId = (cwx_default()).cwx_mkt.unionid;\n            case 19:\n              if (hideShare) {\n                taro_default().hideShareMenu();\n              }\n              // if (needLocation === '1') {\n              // TODO: 需要位置信息\n              // const locationRes = await getLocation()\n              // this.cityName = locationRes.cityName\n              // this.latitude = locationRes.latitude\n              // this.longitude = locationRes.longitude\n              // }\n              auth = (cwx_default()).user.auth || '';\n              duid = (cwx_default()).user.duid || '';\n              token = '';\n              if (auth && duid) {\n                token = this.getTokenByAuth();\n              }\n\n              // if (!token && needLogin === '1' && needAuth == '1') {\n              //   // 假如没有登录态，同时没有授权用户信息\n              //   // 先强制登录，跳登录页\n              //   // 再跳转授权页面\n              //   return this.goToLoginAndAuth(url)\n              // }\n              if (!(!token && needLogin === '1')) {\n                _context3.next = 34;\n                break;\n              }\n              _context3.prev = 25;\n              _context3.next = 28;\n              return (0,util/* login */.x4)();\n            case 28:\n              token = this.getTokenByAuth();\n              _context3.next = 34;\n              break;\n            case 31:\n              _context3.prev = 31;\n              _context3.t0 = _context3[\"catch\"](25);\n              util/* default.showToast */.ZP.showToast({\n                title: '登录失败，请重新登录',\n                icon: 'none',\n                duration: 2000\n              });\n            case 34:\n              _ref = taro_default().getStorageSync('USERINFONEW') || {}, nickName = _ref.nickName, avatar = _ref.avatarUrl; // if (!nickName && !avatar && needAuth == '1') {\n              //   // 假如没有授权用户信息，并且需要授权昵称头像，跳转授权页\n              //   return this.goToAuth(url)\n              // }\n              // if (needSubscribe == '1') {\n              //   // TODO: 需要订阅消息，跳转订阅页面\n              //   return this.goToSubscribe(url)\n              // }\n              this.ctripInfo = {\n                url: url,\n                token: token,\n                nickName: nickName,\n                avatar: avatar,\n                redirectSync: redirectSync\n              };\n              _context3.t1 = this.userName;\n              if (_context3.t1) {\n                _context3.next = 41;\n                break;\n              }\n              _context3.next = 40;\n              return this.get12306UserName();\n            case 40:\n              _context3.t1 = _context3.sent;\n            case 41:\n              this.userName = _context3.t1;\n              if (!(froce12306Login === \"1\")) {\n                _context3.next = 44;\n                break;\n              }\n              return _context3.abrupt(\"return\", this.setState({\n                loginPopVisible: true,\n                checkView: true\n              }));\n            case 44:\n              if (!(need12306Name && !this.userName)) {\n                _context3.next = 46;\n                break;\n              }\n              return _context3.abrupt(\"return\", this.setState({\n                loginPopVisible: true,\n                checkView: true\n              }));\n            case 46:\n              if (!(checkStuQua === \"1\")) {\n                _context3.next = 51;\n                break;\n              }\n              shared.fromCheckStuQua = 1;\n              this.setState({\n                checkView: true,\n                isCheckStuQua: true\n              });\n              params = {\n                Username: this.userName\n              };\n              return _context3.abrupt(\"return\", this.handleCheckStu(params));\n            case 51:\n              this.goUrl({\n                url: url,\n                token: token,\n                nickName: nickName,\n                avatar: avatar,\n                redirectSync: redirectSync\n              });\n            case 52:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this, [[25, 31]]);\n      }));\n      function initPage(_x3) {\n        return _initPage.apply(this, arguments);\n      }\n      return initPage;\n    }()\n  }, {\n    key: \"initNavigation\",\n    value: function initNavigation(searchParams) {\n      var title = searchParams.get('title');\n      var titleColor = fillSign(searchParams.get('titleColor'));\n      var titleBgColor = fillSign(searchParams.get('titleBgColor'));\n      var bgColorTop = fillSign(searchParams.get('bgColorTop'));\n      var bgColorBottom = fillSign(searchParams.get('bgColorBottom'));\n      var bgColor = fillSign(searchParams.get('bgColor'));\n      var defaultNavigationConfig = {\n        navigationBarTitleText: '页面加载中...',\n        navigationBarFrontColor: '#000000',\n        navigationBarBackgroundColor: '#ffffff',\n        backgroundColorTop: '#ffffff',\n        backgroundColorBottom: '#ffffff',\n        backgroundColor: '#ffffff'\n      };\n      var navigationConfig = {\n        navigationBarTitleText: title || defaultNavigationConfig.navigationBarTitleText,\n        navigationBarFrontColor: titleColor || defaultNavigationConfig.navigationBarFrontColor,\n        navigationBarBackgroundColor: titleBgColor || defaultNavigationConfig.navigationBarBackgroundColor,\n        backgroundColorTop: bgColorTop || defaultNavigationConfig.backgroundColorTop,\n        backgroundColorBottom: bgColorBottom || defaultNavigationConfig.backgroundColorBottom,\n        backgroundColor: bgColor || defaultNavigationConfig.backgroundColor\n      };\n      cwx_default().setNavigationBarTitle({\n        title: navigationConfig.navigationBarTitleText\n      });\n      cwx_default().setNavigationBarColor({\n        frontColor: navigationConfig.navigationBarFrontColor,\n        backgroundColor: navigationConfig.navigationBarBackgroundColor\n      });\n      cwx_default().setBackgroundColor({\n        backgroundColor: navigationConfig.backgroundColor\n      });\n      // if (AppConfig.os === 'ios') {\n      cwx_default().setBackgroundColor({\n        backgroundColorTop: navigationConfig.backgroundColorTop,\n        backgroundColorBottom: navigationConfig.backgroundColorBottom\n      });\n      // }\n    }\n  }, {\n    key: \"showUrlError\",\n    value: function showUrlError() {\n      this.setState({\n        url: '',\n        wsg: '目标地址出了点问题，请重新打开该页面'\n      });\n    }\n\n    /*\n     * 跳登录获取toekn\n     */\n  }, {\n    key: \"webToLoginUrl\",\n    value: function webToLoginUrl(url) {\n      return new Promise(function (res) {\n        cwx_default().syncLogin.webGetTokenByAuth({\n          url: url,\n          loginErrorUrl: url,\n          success: res,\n          fail: function fail(failUrl) {\n            cwx_default().showToast({\n              title: \"登录失败\",\n              icon: \"none\"\n            });\n            res(failUrl);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"goUrl\",\n    value: function () {\n      var _goUrl = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee4(_ref2) {\n        var url, _ref2$token, token, _ref2$avatar, avatar, _ref2$nickName, nickName, redirectSync, hash, searchPre, sync, unionObj, _cwxobj, getExtInfo, extInfo, newUrl;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              url = _ref2.url, _ref2$token = _ref2.token, token = _ref2$token === void 0 ? '' : _ref2$token, _ref2$avatar = _ref2.avatar, avatar = _ref2$avatar === void 0 ? '' : _ref2$avatar, _ref2$nickName = _ref2.nickName, nickName = _ref2$nickName === void 0 ? '' : _ref2$nickName, redirectSync = _ref2.redirectSync;\n              hash = url.split('#')[1] || '';\n              searchPre = url.replace(/#.*/, '').split('?')[0];\n              this.searchParams.set('mp', 1);\n              // 携程是1，智行是2，铁友是3\n              sync = '1';\n              this.searchParams.set('_sync', sync);\n              this.searchParams.set('_token', token);\n              if (avatar) {\n                this.searchParams.set('avatar', avatar);\n              }\n              if (nickName) {\n                this.searchParams.set('nickName', nickName);\n              }\n              if (this.cityName) {\n                this.searchParams.set('cityName', this.cityName);\n              }\n              if (this.latitude) {\n                this.searchParams.set('latitude', this.latitude);\n              }\n              if (this.longitude) {\n                this.searchParams.set('longitude', this.longitude);\n              }\n              if ((cwx_default()).clientID) {\n                this.searchParams.set('_cid', (cwx_default()).clientID);\n              }\n              if (this.openId) {\n                this.searchParams.set('openId', this.openId);\n              }\n              if (this.unionId) {\n                this.searchParams.set('unionId', this.unionId);\n              }\n              if (this.openGId) {\n                this.searchParams.set('openGId', this.openGId);\n              }\n              if (this.userName) {\n                // 12306\n                this.searchParams.set('userName', this.userName);\n              }\n              unionObj = (cwx_default()).mkt.unionObj && cwx_default().mkt.unionObj() || {};\n              _cwxobj = unionObj._cwxobj; // _cwxobj 的扩展字段\n              getExtInfo = function getExtInfo() {\n                return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, cwx_default().getPrSettingSync()), {}, {\n                  // _cwxObj 添加用户个性化推荐开关设置\n                  pLen: taro_default().getCurrentPages().length // 20230509 添加当前原生页面栈长度：结合 bridge.js, 做页面栈溢出的处理\n                });\n              }; //新增_cwxObj中的个性化推荐内容\n              extInfo = getExtInfo();\n              if (!_cwxobj) {\n                _cwxobj = cwx_default().syncLogin.getEnv(extInfo);\n              } else {\n                try {\n                  // 默认获取的_cwxobj是字符串，params.set会encode，防止两次encode\n                  _cwxobj = JSON.parse(cwx_default().util.decodeURIComponentSafely(_cwxobj));\n                  _cwxobj = encodeURIComponent(JSON.stringify((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, _cwxobj), extInfo)));\n                } catch (e) {}\n              }\n              this.searchParams.set('_cwxobj', _cwxobj);\n\n              // H5判断小程序环境\n              this.searchParams.set('miniProgramType', config/* default.miniProgramType */.Z.miniProgramType);\n              this.searchParams.set('fromminiapp', config/* default.traceChannel */.Z.traceChannel);\n              newUrl = searchPre + '?' + this.searchParams.toString() + (hash ? \"#\".concat(hash) : '');\n              if (!redirectSync) {\n                _context4.next = 30;\n                break;\n              }\n              _context4.next = 29;\n              return this.webToLoginUrl(newUrl);\n            case 29:\n              newUrl = _context4.sent;\n            case 30:\n              console.log('newUrl', newUrl);\n              this.setState({\n                url: newUrl\n              });\n            case 32:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function goUrl(_x4) {\n        return _goUrl.apply(this, arguments);\n      }\n      return goUrl;\n    }()\n  }, {\n    key: \"getTokenByAuth\",\n    value: function getTokenByAuth() {\n      var key = cwx_default().aes.enc.Utf8.parse('YnV0dGVycz3MzRkw'); //十六位十六进制数作为密钥\n      // 先 aes 加密，再 base64 转码\n      var data = \"\".concat((cwx_default()).user.auth, \"|\").concat((cwx_default()).user.duid, \"|\").concat(Date.now());\n      var srcs = cwx_default().aes.enc.Utf8.parse(JSON.stringify(data));\n      var encrypted = cwx_default().aes.AES.encrypt(srcs, key, {\n        mode: (cwx_default()).aes.mode.ECB,\n        padding: (cwx_default()).aes.pad.Pkcs7\n      });\n      return cwx_default().aes.enc.Base64.stringify(encrypted.ciphertext);\n    }\n  }, {\n    key: \"get12306UserName\",\n    value: function () {\n      var _get12306UserName = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee5() {\n        var bind12306, userName12306;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              bind12306 = store/* TrainBookStore.getAttr */.WG.getAttr('bind12306') || {};\n              _context5.t0 = bind12306.name;\n              if (_context5.t0) {\n                _context5.next = 6;\n                break;\n              }\n              _context5.next = 5;\n              return (0,util/* getBindAccount12306Name */._P)();\n            case 5:\n              _context5.t0 = _context5.sent;\n            case 6:\n              userName12306 = _context5.t0;\n              return _context5.abrupt(\"return\", userName12306);\n            case 8:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5);\n      }));\n      function get12306UserName() {\n        return _get12306UserName.apply(this, arguments);\n      }\n      return get12306UserName;\n    }()\n  }, {\n    key: \"navigateToShare\",\n    value: function navigateToShare(item) {\n      var _this4 = this;\n      setTimeout(function () {\n        _this4.navigateTo({\n          url: '/pages/train/functionalPages/share/index',\n          data: item\n        });\n      }, 300);\n    }\n  }, {\n    key: \"cleanMessage\",\n    value: function cleanMessage(data) {\n      for (var i = data.length - 1; i >= 0; i--) {\n        if (data[i].needClean) {\n          data.splice(i, 1);\n        }\n      }\n    }\n\n    /**\n     * web回调数据\n     */\n  }, {\n    key: \"onWebMessage\",\n    value: function onWebMessage(e) {\n      var _this5 = this;\n      console.log('data:' + JSON.stringify(e));\n      if (config/* default.miniProgramType */.Z.miniProgramType === 'alipay') {\n        e.detail.data = [e.detail.data];\n      }\n      var _iterator = (0,createForOfIteratorHelper/* default */.Z)(e.detail.data),\n        _step;\n      try {\n        var _loop = function _loop() {\n          var _item$cancelRobToZhon;\n          var item = _step.value;\n          if (item.type === 'onShare') {\n            _this5.shareData = item.shareData;\n            item.needClean = 1;\n          } else if (item.type === 'onSaveImage') {\n            console.log('onSaveImage', item.subscribeTmpIds);\n            _this5.navigateToShare(item);\n            item.needClean = 1;\n          } else if ((_item$cancelRobToZhon = item.cancelRobToZhongZhuanData) !== null && _item$cancelRobToZhon !== void 0 && _item$cancelRobToZhon.trainInfo) {\n            setTimeout(function () {\n              _this5.navigateTo({\n                url: '/pages/train/zhongzhuan/zhongzhuan',\n                data: item.cancelRobToZhongZhuanData\n              });\n            }, 500);\n          } else if (item.userName && (item.from === 'orderbreak' || _this5.searchParams.get('fromUse12306H5'))) {\n            var tmp = {\n              name: item.userName,\n              displayName: item.displayName,\n              passengerList12306: item.passengerList || []\n            };\n            store/* TrainBookStore.setAttr */.WG.setAttr('bind12306', tmp);\n            if (_this5.searchParams.get('fromUse12306H5')) {\n              var newUrl = _this5.searchParams.get('autoBackUrl').replace(/userName12306|displayName/g, '') + '&userName12306=' + item.userName + '&displayName=' + item.displayName;\n              shared.webviewData = {\n                needReload: true,\n                reloadUrl: newUrl\n              };\n            }\n          } else if (item.fromH5 === 'schemequery') {\n            shared.transitObj = item;\n            console.log('有票查询对接参数', item);\n          } else if (item.from === 'noTicketAssist') {\n            var _item$train;\n            shared.train = item.train;\n            shared.selectDate = (_item$train = item.train) === null || _item$train === void 0 ? void 0 : _item$train.selectDate;\n            shared.transitObj = item.transitObj;\n            console.log(\"noTicketAssist\", item);\n          } else {\n            _this5.bridgeIns(e);\n          }\n        };\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.cleanMessage(e.detail.data);\n    }\n  }, {\n    key: \"onSocketMessage\",\n    value: function onSocketMessage(msg) {\n      if (msg.type === \"checkminiapp\" || !msg) {\n        return;\n      }\n      var item = msg.data;\n      switch (msg.type) {\n        case \"noTicketAssist\":\n          {\n            var _item$train2;\n            shared.train = item.train;\n            shared.selectDate = (_item$train2 = item.train) === null || _item$train2 === void 0 ? void 0 : _item$train2.selectDate;\n            shared.transitObj = item.transitObj;\n          }\n      }\n    }\n  }, {\n    key: \"onShareAppMessage\",\n    value: function onShareAppMessage() {\n      if (!this.shareData.title) {\n        this.shareData.title = '携程火车票';\n      }\n      if (!this.shareData.path) {\n        this.shareData.path = 'pages/train/index/index';\n      }\n      return this.shareData;\n    }\n\n    // goToAuth(url) {\n    //   User.avatarAndNameAuth().then(\n    //     (res) => {\n    //       const { nickName, avatarUrl } = res.Data\n    //       this.goUrl({ url, avatar: avatarUrl, nickName })\n    //     },\n    //     (error) => {\n    //       console.log('Avatar and name auth error', error)\n    //       this.goUrl({ url })\n    //     },\n    //   )\n    // }\n\n    // gotoAuthAfterLogin(url, token) {\n    //   User.avatarAndNameAuth().then(\n    //     (res) => {\n    //       const { nickName, avatarUrl } = res.Data\n    //       this.goUrl({ url, token, avatar: avatarUrl, nickName })\n    //     },\n    //     (error) => {\n    //       console.log('Avatar and name auth after login error', error)\n    //       this.goUrl({ url, token })\n    //     },\n    //   )\n    // }\n\n    // goToLoginAndAuth(url) {\n    //   User.doLogin().then(\n    //     async () => {\n    //       let token = ''\n    //       try {\n    //         token = this.getTokenByAuth()\n    //       } catch (err) {\n    //         console.log(err)\n    //       }\n    //       if (token) {\n    //         this.gotoAuthAfterLogin(url, token)\n    //       } else {\n    //         util.showToast({\n    //           title: '登录失败，请重新登录',\n    //           icon: 'none',\n    //           duration: 2000,\n    //         })\n    //         this.goUrl({ url })\n    //       }\n    //     },\n    //     () => {\n    //       this.goUrl({ url })\n    //     },\n    //   )\n    // }\n\n    // goToSubscribe(url) {\n    //   User.subscribe(url).then((res) => {\n    //     console.log('sub', res)\n    //     this.searchParams.delete('needSubscribe')\n    //   })\n    // }\n  }, {\n    key: \"goCheckPage\",\n    value: function () {\n      var _goCheckPage = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee6() {\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              // const url = this.pageUrl;\n              this.searchParams.set('checkStuQua', \"0\");\n              this.setState({\n                checkView: false,\n                isCheckStuQua: false\n              });\n              this.goUrl((0,objectSpread2/* default */.Z)({}, this.ctripInfo));\n            case 3:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function goCheckPage() {\n        return _goCheckPage.apply(this, arguments);\n      }\n      return goCheckPage;\n    }()\n  }, {\n    key: \"handleCheckStu\",\n    value: function () {\n      var _handleCheckStu = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee7(params) {\n        var res, callInfo, _callInfo$studentInfo;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return (0,util/* doCheckStu */.i2)(params);\n            case 2:\n              res = _context7.sent;\n              console.log('1234567doCheckStu', res);\n              callInfo = res.StuQualificationCallBackInfo && JSON.parse(res.StuQualificationCallBackInfo);\n              if (!((callInfo === null || callInfo === void 0 ? void 0 : callInfo.authFlag) === 0)) {\n                _context7.next = 9;\n                break;\n              }\n              return _context7.abrupt(\"return\", this.goCheckPage());\n            case 9:\n              if (!((callInfo === null || callInfo === void 0 ? void 0 : callInfo.authFlag) === 1)) {\n                _context7.next = 14;\n                break;\n              }\n              // 扫脸\n              this.setState({\n                // loginPopVisible: false,\n                isFaceVisible: true,\n                scanFaceInfo: {\n                  realName: ((_callInfo$studentInfo = callInfo.studentInfoDTO) === null || _callInfo$studentInfo === void 0 ? void 0 : _callInfo$studentInfo.name) || params.Username,\n                  user12306: params.Username\n                }\n              });\n              return _context7.abrupt(\"return\");\n            case 14:\n              util/* default.showModal */.ZP.showModal({\n                m: '发生错误',\n                done: failCb()\n              });\n            case 15:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function handleCheckStu(_x5) {\n        return _handleCheckStu.apply(this, arguments);\n      }\n      return handleCheckStu;\n    }()\n  }, {\n    key: \"handleFaceVerify\",\n    value: function () {\n      var _handleFaceVerify = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee9() {\n        var _this6 = this;\n        var _this$state$scanFaceI, realName, pwd, user12306, faceUrl;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              _this$state$scanFaceI = this.state.scanFaceInfo, realName = _this$state$scanFaceI.realName, pwd = _this$state$scanFaceI.pwd, user12306 = _this$state$scanFaceI.user12306;\n              faceUrl = \"/pages/train/face/face?userName=\".concat(user12306, \"&fromType=8\");\n              this.navigateTo({\n                url: faceUrl,\n                callback: function () {\n                  var _callback = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee8(res) {\n                    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee8$(_context8) {\n                      while (1) switch (_context8.prev = _context8.next) {\n                        case 0:\n                          setTimeout(function () {\n                            if (res.certificationResultCode != 1) {\n                              return util/* default.showModal */.ZP.showModal({\n                                m: \"人脸核验失败\",\n                                done: failCb\n                              });\n                            } else {\n                              _this6.goCheckPage();\n                            }\n                          }, 500);\n                        case 1:\n                        case \"end\":\n                          return _context8.stop();\n                      }\n                    }, _callee8);\n                  }));\n                  function callback(_x6) {\n                    return _callback.apply(this, arguments);\n                  }\n                  return callback;\n                }()\n              });\n            case 3:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, this);\n      }));\n      function handleFaceVerify() {\n        return _handleFaceVerify.apply(this, arguments);\n      }\n      return handleFaceVerify;\n    }()\n  }, {\n    key: \"login12306Cb\",\n    value: function () {\n      var _login12306Cb = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee10(data) {\n        var login12306Name;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              login12306Name = data.login12306Name;\n              this.setState({\n                checkView: false,\n                loginPopVisible: false\n              });\n              this.userName = login12306Name;\n              // this.goUrl({\n              //   ...this.ctripInfo\n              // })\n              // const froce12306Login = this.searchParams.get('froce12306Login')\n              if (this.searchParams.get('froce12306Login') === \"1\") {\n                this.pageUrl = this.pageUrl.replace(\"froce12306Login\", \"\");\n              }\n              return _context10.abrupt(\"return\", this.initPage(this.pageUrl));\n            case 5:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee10, this);\n      }));\n      function login12306Cb(_x7) {\n        return _login12306Cb.apply(this, arguments);\n      }\n      return login12306Cb;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n      var _this$state = this.state,\n        url = _this$state.url,\n        wsg = _this$state.wsg,\n        canWebView = _this$state.canWebView,\n        loginPopVisible = _this$state.loginPopVisible,\n        isCheckStuQua = _this$state.isCheckStuQua,\n        isFaceVisible = _this$state.isFaceVisible,\n        _this$state$scanFaceI2 = _this$state.scanFaceInfo,\n        scanFaceInfo = _this$state$scanFaceI2 === void 0 ? {} : _this$state$scanFaceI2,\n        checkView = _this$state.checkView;\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: canWebView ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Block, {\n            children: checkView ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Block, {\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_Login12306Pop, {\n                pageId: this.pageId,\n                visible: loginPopVisible,\n                loginName: \"\",\n                action: \"\"\n                // push=\"2\"\n                // pkg={{}}\n                ,\n\n                isOrdinary: false,\n                textConfig: {\n                  subTitle: '学生优惠资质审核的学生本人12306账号'\n                },\n                close: function close() {\n                  _this7.setState({\n                    loginPopVisible: false\n                  });\n                  failCb();\n                },\n                done: function done(loginData) {\n                  _this7.login12306Cb(loginData);\n                }\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                style: \"position: fixed;width:100%;height:100%;\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                  style: \"width:100%;height:100%;\",\n                  src: \"https://images3.c-ctrip.com/train/2023-3/app-maipiao/6.15/jifenfenxiang2.0/img-bg.png\"\n                })\n              }), isCheckStuQua && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Block, {\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(Login12306Pop_ScanVerifyPop, {\n                  visible: isFaceVisible,\n                  realName: scanFaceInfo.realName,\n                  jumpCheckPage: jumpCheckPage,\n                  jumpServicePage: jumpServicePage,\n                  faceVerify: function faceVerify() {\n                    return _this7.handleFaceVerify();\n                  },\n                  close: function close() {\n                    _this7.setState({\n                      isFaceVisible: false\n                    });\n                  },\n                  closeCb: failCb\n                })\n              })]\n            }) : url ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.WebView, {\n              src: url,\n              onMessage: function onMessage(e) {\n                return _this7.onWebMessage(e);\n              },\n              onError: function onError(e) {\n                return _this7.showUrlError(e);\n              }\n            }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              children: wsg\n            })\n          }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Block, {\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              children: \"\\u4EB2\\u7231\\u7684\\u7528\\u6237\\uFF0C\\u60A8\\u7684APP\\u7248\\u672C\\u592A\\u4F4E\\u5566\\uFF0C\\u5FEB\\u53BB\\u5347\\u7EA7APP\\u5427\"\n            })\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"view-check\",\n          onAnimationEnd: function onAnimationEnd() {\n            return _this7.viewReadyHandle();\n          }\n        })]\n      });\n    }\n  }]);\n  return Index;\n}(base/* default */.Z);\n/* harmony default export */ var twebview = (Index);\n;// CONCATENATED MODULE: ./src/pages/trainActivity/twebview/index.jsx\n\n\nvar twebview_config = {};\n\ntwebview.enableShareAppMessage = true\nvar inst = Page((0,runtime_esm.createPageConfig)(twebview, 'pages/trainActivity/twebview/index', {root:{cn:[]}}, twebview_config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/ext/global\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [6498,2107,1216,8592], function() { return __webpack_exec__(29340); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["require","wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","runtime_esm","createForOfIteratorHelper","objectSpread2","regeneratorRuntime","asyncToGenerator","classCallCheck","createClass","inherits","createSuper","react","taro","taro_default","n","components_react","cwx_","cwx_default","base","util","pageId","config","store","commonModule_prod","commonModule_prod_default","toConsumableArray","slicedToArray","objectWithoutProperties","jsx_runtime","_excluded","Input","_ref","displayValue","rest","Z","_useState","useState","_useState2","isFocus","setFocus","_useState3","_useState4","passValue","setPassValue","_onFocus","e","_rest$onFocus","onFocus","call","_onBlur","_rest$onBlur","onBlur","_onClickFakeInput","_rest$onFocus2","useEffect","_rest$value","isPwd","password","type","value","replace","jsx","Fragment","children","focus","cursor","length","adjustPosition","View","className","placeholderClass","onClick","placeholder","components_Input","popup","SmsVerifyPop","visible","mobilePhone","smsVerify","close","direction","clickMaskClose","jsxs","Text","concat","Button","Login12306Pop_SmsVerifyPop","NORMAL_TEXT","title","subTitle","tips","name","FRONTRISK_TEXT","ScanVerifyPop","TEXT","action","realName","jumpCheckPage","jumpServicePage","faceVerify","closeCb","isCheckedProtocol","setCheckedProtocol","onClickAgreeProtocol","onClickFaceVerify","ZP","showToast","onClickClose","useCallback","Login12306Pop_ScanVerifyPop","MoreVerifyPop_NORMAL_TEXT","MoreVerifyPop_FRONTRISK_TEXT","MoreVerifyPop","onClickSmsVerify","mobileCheck","Login12306Pop_MoreVerifyPop","env","__global","host","BIND12306_STORAGE","ACCOUNTS_STORAGE","defaultConfig","phonePlaceHolder","pwdPlaceHolder","defaultUserData","mobile","userName","loginPW","displayName","defaultUserName","ACTION_FRONTPASSLOGIN","ACTION_FRONTPASSCLICK","codeConvertScene","code","map","Map","get","noop","Login12306Pop","_pkg$package","_ref$loginName","loginName","isOrdinary","_ref$textConfig","textConfig","_ref$pkg","pkg","_ref$action","_ref$done","done","_ref$close","_ref$finish","finish","_ref$freeDone","freeDone","userData","setUserData","inputFlag","setInputFlag","_useState5","_useState6","isShowPwd","setShowPwd","_useState7","_useState8","_useState9","_useState10","isCheckedRemember","setCheckedRemember","_useState11","_useState12","nextStep","setNextStep","_useState13","_useState14","isSmsVisible","setSmsVisible","_useState15","_useState16","isFaceVisible","setFaceVisible","_useState17","_useState18","isMoreVisible","setMoreVisible","_useState19","_useState20","showClean","setShowClean","_useState21","_useState22","currErrCode","setCurrErrCode","_useState23","_useState24","frontRiskCacheRes","setFrontRiskCacheRes","userId12306Ref","useRef","realNameRef","mobileRef","curPage","getCurrentPage","initData","accounts","WG","getAttr","bind12306","userNameInputFlag","bindName","convetFakePhone","_accounts$find","find","v","_displayName","_userName","_loginPW","_ref2","clearState","validatePhone","onBlurPhone","_ref3","detail","onBlurPwd","_ref4","loginPWInputFlag","onClickCleanPhone","onClickToggleShowPwd","jumpRetrievePage","verfiyUserName","url","navigateTo","data","needLogin","bridgeIns","forgetPwdCallback","onClickForgetPwd","ubtTrace","bizKey","clickType","onClickRememberPwd","_ref5","handleLogin","registerCallback","_ref6","onClickLogin","isPass","onClickJumpProtocol","onClickRegister","showSmsPop","showFacePop","showMorePop","hidePop","exposureType","errorCode","result","handleFaceVerify","callback","_callback","mark","_callee","res","wrap","_context","prev","next","setTimeout","certificationResultCode","showModal","m","frontRiskPassengerLogin","stop","_x","apply","this","arguments","showRemeberDialog","_ref7","account","realUserName","Promise","resolve","showCancel","cancelText","cancelColor","confirmColor","confirmText","_ref8","confirm","newAccounts","filter","setAttr","slice","showModifyDialog","_ref9","_ref10","undefined","loginUserName","params","UserName","Password","normalLogin","Xx","outerParams","succ","_succ","_callee2","_ref11","memberStatus","userID12306","activeRes","_context2","loginState","failReason","jumpActiveMember","sent","abrupt","login12306Name","login12306Pas","activateSuccess","_x2","fail","_fail","_callee3","error","_error$originData","originData","errmsg","failCode","_context3","current","console","log","_ref12","handleSmsVerify","accountInfo","lu","_x3","err","removeAttr","frontRiskPassengerClick","_ref13","_callee4","_frontRiskCacheRes$or","_frontRiskCacheRes$fa","_context4","_ref14","_ref15","encodeURIComponent","_ref16","_data","_data$0$unRisk","unRisk","_res$detail$data","handleAction","_ref17","_callee5","_context5","cursorSpacing","isIphone13","isIos","package","productTitle","Image","src","productPrice","components_Login12306Pop","shared","train","URLSearchParams","twebview_noop","fillSign","str","startsWith","failCb","getCurrentPages","redirectTo","navigateBack","Index","_TaroBase","_super","props","_this","checkPerformance","twebview","state","canWebView","canIUse","wsg","shareData","bu","path","imageUrl","desc","customer","openId","cwx_mkt","openid","unionId","unionid","searchParams","cityName","longitude","latitude","key","_onLoad","options","_options$data","decodeURIComponent","pageUrl","initSocket","initPage","onLoad","_shared$webviewData","_shared$webviewData2","_this2","webviewData","needReload","reloadUrl","setState","_initSocket","self","needSocket","socketObserverKey","newUrl","_this3","split","socketClient","createMiniSocket","source","onGetKey","socketUrl","onMessage","msg","onSocketMessage","onOpen","opt","onSocketOpen","onClose","onSocketClose","onError","onSocketError","t0","_initPage","allianceid","sid","hideShare","need12306Name","checkStuQua","redirectSync","froce12306Login","auth","duid","token","nickName","avatar","initNavigation","mkt","setUnion","wr","hideShareMenu","user","getTokenByAuth","x4","icon","duration","getStorageSync","avatarUrl","ctripInfo","t1","get12306UserName","loginPopVisible","checkView","fromCheckStuQua","isCheckStuQua","Username","handleCheckStu","goUrl","titleColor","titleBgColor","bgColorTop","bgColorBottom","bgColor","defaultNavigationConfig","navigationBarTitleText","navigationBarFrontColor","navigationBarBackgroundColor","backgroundColorTop","backgroundColorBottom","backgroundColor","navigationConfig","setNavigationBarTitle","setNavigationBarColor","frontColor","setBackgroundColor","syncLogin","webGetTokenByAuth","loginErrorUrl","success","failUrl","_goUrl","_ref2$token","_ref2$avatar","_ref2$nickName","hash","searchPre","sync","unionObj","_cwxobj","getExtInfo","extInfo","set","clientID","openGId","getPrSettingSync","pLen","JSON","parse","decodeURIComponentSafely","stringify","getEnv","miniProgramType","traceChannel","toString","webToLoginUrl","_x4","aes","enc","Utf8","Date","now","srcs","encrypted","AES","encrypt","mode","ECB","padding","pad","Pkcs7","Base64","ciphertext","_get12306UserName","userName12306","_P","item","_this4","i","needClean","splice","_this5","_step","_iterator","_loop","_item$cancelRobToZhon","subscribeTmpIds","navigateToShare","cancelRobToZhongZhuanData","trainInfo","from","tmp","passengerList12306","passengerList","fromH5","transitObj","_item$train","selectDate","s","f","cleanMessage","_item$train2","_goCheckPage","_callee6","_context6","goCheckPage","_handleCheckStu","_callee7","callInfo","_callInfo$studentInfo","_context7","i2","StuQualificationCallBackInfo","authFlag","scanFaceInfo","studentInfoDTO","user12306","_x5","_handleFaceVerify","_callee9","_this$state$scanFaceI","faceUrl","_this6","_context9","pwd","_callee8","_context8","_x6","_login12306Cb","_callee10","_context10","login12306Cb","_x7","_this7","_this$state","_this$state$scanFaceI2","Block","loginData","style","WebView","onWebMessage","showUrlError","onAnimationEnd","viewReadyHandle","twebview_config","enableShareAppMessage","Page","createPageConfig","root","cn","module","exports","__webpack_exec__","moduleId","O"],"sourceRoot":""}