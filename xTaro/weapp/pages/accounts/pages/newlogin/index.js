"use strict";require("../../taroCommon"),(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[7916],{75905:function(e,t,n){var o,i,a,r,s,c,l,u,h,p,d,g,k,y,m,v,b,w,C,L,f,x,T=n(32180),O=n(79301),Z=n(95308),P=n(57042),_=n(24460),S=n(81876),j=n(79038),M=n(59772),N=n(21867),A=n(86066),F=n(45023),B=n(28641),D=n(90201),I=n(71515),U=n(92954),W=n.n(U),E=n(46294),Y=n(33485),G=n(2269),V=function(e){(0,N.Z)(n,e);var t=(0,A.Z)(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"render",value:function(){var e=this.props.isShow;return e?(0,G.jsx)(I.View,{className:"mask"}):null}}]),n}(D.Component),q=n(66587),H=n(56202),Q=n(43114),z=function(e){(0,N.Z)(n,e);var t=(0,A.Z)(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,_.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.content,o=e.confirmText,i=void 0===o?"\u786e\u5b9a":o,a=e.cancelText,r=void 0===a?"\u53d6\u6d88":a,s=e.handleConfirm,c=e.handleCancel,l=e.confirmClass,u=void 0===l?"":l,h=e.cancelClass,p=void 0===h?"":h,d=e.showModal,g=e.children;return d?(0,G.jsx)(I.View,{className:"modal-mask",children:(0,G.jsxs)(I.View,{className:"content",children:[(0,G.jsx)(I.View,{className:"title",children:t}),g||(0,G.jsx)(I.Text,{className:"text",children:n}),(0,G.jsxs)(I.View,{className:"button-group",children:[(0,G.jsx)(I.Button,{"hover-class":"",className:"btn cancel-btn ".concat(p),onClick:c,children:r}),(0,G.jsx)(I.Button,{"hover-class":"",className:"btn confirm-btn ".concat(u),onClick:s,children:i})]})]})}):null}}]),n}(D.Component),$="/pages/accounts/pages/",R={mobileDynamicLogin:"".concat($,"mobiledynamiclogin/index")},K=n(56959),J=n(68451),X=n(65251),ee=n(8972),te=n(28883),ne=function(){function e(t){(0,P.Z)(this,e),(0,F.Z)(this,"isLoading",void 0),(0,F.Z)(this,"timer",void 0),(0,F.Z)(this,"timeout",void 0),this.isLoading=!1,t&&(this.timeout=t)}return(0,_.Z)(e,[{key:"showFullMaskLoading",value:function(){this.isLoading||(this.isLoading=!0,X.$Q.showLoading())}},{key:"hideFullMaskLoading",value:function(){this.isLoading&&(this.isLoading=!1,X.$Q.hideLoading())}},{key:"setTimeoutToCancel",value:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.isLoading&&(console.log("-------\x3esetTimeoutToCancel, current isLoading timeout, so hide"),t.hideFullMaskLoading()),t.timer&&clearTimeout(t.timer)}),e)}},{key:"InjectOnClickShowFullMaskLoading",value:function(e){var t=this;return function(n,o,i){var a=i.value;i.value=function(){if(t.isLoading)console.log("-------\x3eInjectOnClickShowFullMaskLoading, current isLoading, so break");else{console.log("-------\x3eInjectOnClickShowFullMaskLoading"),t.showFullMaskLoading();var n=e||t.timeout;n&&"number"===typeof n&&n>0&&t.setTimeoutToCancel(n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];a.apply(this,i)}}}}},{key:"InjectOnHideFullMaskLoading",value:function(){var e=this;return function(t,n,o){var i=o.value;o.value=function(){console.log("-------\x3eInjectOnHideFullMaskLoading"),e.hideFullMaskLoading();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];i.apply(this,n)}}}}]),e}(),oe=n(3997),ie=new ne(1e4),ae="bbz_accounts_common_config",re=(o=(0,X.DL)(),i=(0,X.DL)(),a=(0,X.DL)(),r=(0,X.DL)(),s=(0,X.DL)(),c=(0,X.nY)(K.Iu.c_click_getphone_privacy),l=(0,X.yB)(K.ZK.c_wechat_login_back),u=(0,X.nY)(K.Iu.c_click_back),h=(0,X.yB)(K.ZK.c_wechat_otherphone_button),p=(0,X.nY)(K.Iu.c_click_mobile_dynamic_login),d=(0,X.yB)(K.ZK.c_wechat_mobiletoken_login),g=(0,X.nY)(K.Iu.c_click_mobile_one_tap_login),k=ie.InjectOnClickShowFullMaskLoading(),y=ie.InjectOnHideFullMaskLoading(),m=(0,X.nY)(K.Iu.c_click_cancel_wechat_login_popup),v=(0,X.yB)(K.ZK.c_wechat_thirdlogin_button),b=(0,X.nY)(K.Iu.c_click_wechat_login),w=(0,X.yB)(K.ZK.c_wechat_phonelink_button),C=(0,X.nY)(K.Iu.c_click_wechat_one_tap_bind_and_login),L=ie.InjectOnClickShowFullMaskLoading(),f=ie.InjectOnHideFullMaskLoading(),x=function(e){(0,N.Z)(n,e);var t=(0,A.Z)(n);function n(e){var o;return(0,P.Z)(this,n),o=t.call(this,e),(0,F.Z)((0,S.Z)(o),"emitCallbackOnUnload",!0),(0,F.Z)((0,S.Z)(o),"quickLoginFlag",!1),(0,F.Z)((0,S.Z)(o),"oneTapSwitch",!1),(0,F.Z)((0,S.Z)(o),"wxLoginStatus",new te.Z),(0,F.Z)((0,S.Z)(o),"thirdToken",void 0),(0,F.Z)((0,S.Z)(o),"jumpTimer",void 0),(0,F.Z)((0,S.Z)(o),"privacyFlag",!1),(0,F.Z)((0,S.Z)(o),"watchMap",{mobileOneTapAuthentication:new E.Stopwatch,tempWatchUserGetPhoneNumberAuthorization:new E.Stopwatch}),(0,F.Z)((0,S.Z)(o),"pageFlag",{hasOnLoad:!1,appHideAt:0}),(0,F.Z)((0,S.Z)(o),"state",{avatarUrl:"",useDefaultAvatar:!1,loginStimulateTips:"",isShowWeChatLogin:!0,isShowWeChatLoginPopup:!1,isCheckedAgreement:!1,isShowAgreementModal:!1,loginType:"",isShowUionIdModal:!1,unionIdSeizeToken:"",accountName:""}),(0,F.Z)((0,S.Z)(o),"onClickOneTapLogin",function(){var e=(0,Z.Z)((0,O.Z)().mark((function e(t,n,i){var a,r,s,c,l,u,h;return(0,O.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a="onClickMobileOneTapLogin"===i,r=a?J.Yg:J.ME,r.startLogin(),ee.ZP.send("success",{scene:ee.EQ.getPhoneNumberAuthorization,latency:o.watchMap.mobileOneTapAuthentication.stop().elapsed,stage:i}),(0,J.vB)(t)){e.next=7;break}return r.loginFail(ee.r2.AUTHENTICATE_DENY),e.abrupt("return");case 7:return e.next=9,o.wxLoginStatus.checkStatus();case 9:if(s=e.sent,s===te.q.SUCCESS){e.next=13;break}return r.loginFail(ee.r2.NO_WECHAT_CODE),e.abrupt("return");case 13:return X.$Q.showLoading(),e.prev=14,e.next=17,r.login({iv:t.detail.iv,data:t.detail.encryptedData,code:o.wxLoginStatus.getCode(),phoneAuthCode:t.detail.code,thirdToken:null!==(c=null===n||void 0===n?void 0:n.thirdToken)&&void 0!==c?c:""},{isNewLoginUrl:!0});case 17:l=e.sent,X.$Q.hideLoading(),u=l.data,null!==u&&void 0!==u&&u.seizeToken?(X.tY.logTrace(K.Mp.c_wechat_mobiletoken_unionidbind),o.setState({isShowUionIdModal:!0,unionIdSeizeToken:u.seizeToken,accountName:null===(h=u.context)||void 0===h?void 0:h.accountName})):o.directBack(),e.next=28;break;case 23:e.prev=23,e.t0=e["catch"](14),X.$Q.hideLoading(),o.wxLoginStatus.startGetCode(),(0,X.CF)({title:e.t0.message,icon:"none"});case 28:case"end":return e.stop()}}),e,null,[[14,23]])})));return function(t,n,o){return e.apply(this,arguments)}}()),(0,F.Z)((0,S.Z)(o),"bindPhone",function(){var e=(0,Z.Z)((0,O.Z)().mark((function e(t){var n,i;return(0,O.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,J.nE)(t);case 2:if(n=e.sent,i="doNothing",X.$Q.showLoading(),e.prev=5,!n.ok){e.next=22;break}if(0!==n.returnCode||"mobileToken"!==n.tokenType){e.next=14;break}return i="loginUseMobileToken",J.L_.startLogin(),e.next=12,J.L_.login(n.token,{});case 12:e.next=18;break;case 14:return i="loginUseThirdToken",J.ar.startLogin(),e.next=18,J.ar.login(t,{autoRegister:!1});case 18:X.$Q.hideLoading(),o.directBack(),e.next=23;break;case 22:X.$Q.hideLoading();case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](5),X.$Q.hideLoading(),(0,X.CF)({icon:"none",title:e.t0.message});case 29:X.tY.logDevTrace({stage:"WechatLoginAction.bindPhone",result:i,response:n});case 30:case"end":return e.stop()}}),e,null,[[5,25]])})));return function(t){return e.apply(this,arguments)}}()),o.setLoginPageType(),o}return(0,_.Z)(n,[{key:"onLoad",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,j.Z)((0,M.Z)(n.prototype),"onLoad",this).call(this,t),this.pageInitMethodsForOnLoadAndOnShow(),W().onAppHide((function(){e.pageFlag.appHideAt=Date.now()})),X.tY.logDevTrace({query:this.pageQuery}),X.tY.logDevTrace({stage:"loginPageType",quickLoginFlag:this.quickLoginFlag,oneTapSwitch:this.oneTapSwitch}),oe.Y8.Observer.addObserverForKey("privacy_authorize_show",this.handlePrivacyModalShow),oe.Y8.Observer.addObserverForKey("privacy_authorize",this.handlePrivacyModalClick)}},{key:"onUnload",value:function(){(0,j.Z)((0,M.Z)(n.prototype),"onUnload",this).call(this),this.jumpTimer&&clearTimeout(this.jumpTimer),oe.Y8.Observer.removeObserverForKey("privacy_authorize_show",this.handlePrivacyModalShow),oe.Y8.Observer.removeObserverForKey("privacy_authorize",this.handlePrivacyModalClick)}},{key:"componentDidShow",value:function(){this.pageInitMethodsForOnLoadAndOnShow()}},{key:"onReady",value:function(){var e=this,t=(0,J.Ao)(this.pageQuery.IsAuthentication||"");t||this.setState({isShowWeChatLogin:!1}),(0,J.QC)((function(t){t&&e.setState({avatarUrl:t})})),this.setState({loginStimulateTips:(0,J.f3)()})}},{key:"componentDidHide",value:function(){this.pageFlag.hasOnLoad=!1}},{key:"setLoginPageType",value:function(){var e,t,n=(0,X.r5)("230815_BBZ_click"),o="B"!==n,i=!(null===(e=oe.Y8.user.userInfo)||void 0===e||!e.nickName)&&!(null===(t=oe.Y8.user.userInfo)||void 0===t||!t.profilePictureUrl),a=oe.Y8.getStorageSync(ae);this.oneTapSwitch=!(!1===(null===a||void 0===a?void 0:a.oneTapSwitch)),this.quickLoginFlag=!(o||!i)}},{key:"pageInitMethodsForOnLoadAndOnShow",value:function(){if(!this.pageFlag.hasOnLoad){this.pageFlag.hasOnLoad=!0,X.tY.logConsole("pageInitMethodsForOnLoadAndOnShow from ".concat(this.pageFlag.hasOnLoad?"onLoad":"onShow")),this.watchMap.tempWatchUserGetPhoneNumberAuthorization.reset().start();var e=this.pageFlag.appHideAt;if(e){var t=Date.now()-e,n=t<27e4;if(this.pageFlag.appHideAt=0,X.tY.logDevTrace({type:"pageInitMethodsForOnLoadAndOnShow",stage:"appShowAgain",duration:t,isCodeValid:n}),n)return}this.wxLoginStatus.startGetCode(!0)}}},{key:"getPageId",value:function(){return this.setLoginPageType(),this.quickLoginFlag?K.Vo.quickLogin:K.Vo.newLogin}},{key:"handlePrivacyModalShow",value:function(e){var t=e.pagePath;"pages/accounts/pages/newlogin/index"===t&&X.$Q.hideLoading()}},{key:"handlePrivacyModalClick",value:function(e){null!==e&&void 0!==e&&e.agree&&this.privacyFlag&&X.$Q.showLoading()}},{key:"onClickBack",value:function(){this.directBack()}},{key:"toggleAgreement",value:function(){var e=this.state.isCheckedAgreement;this.setState({isCheckedAgreement:!e})}},{key:"onClickDynamicLogin",value:function(){oe.Y8.navigateTo({url:"".concat(R.mobileDynamicLogin)})}},{key:"onClickMobileOneTapLoginView",value:function(){this.privacyFlag=!0,ee.ZP.send("success",{scene:ee.EQ.userAuthorizedPhoneNumber,latency:this.watchMap.tempWatchUserGetPhoneNumberAuthorization.stop().elapsed}),this.watchMap.mobileOneTapAuthentication.reset().start()}},{key:"onClickMobileOneTapLogin",value:function(){var e=(0,Z.Z)((0,O.Z)().mark((function e(t){return(0,O.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.onClickOneTapLogin(t,void 0,"onClickMobileOneTapLogin");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onClickCancelWeChatLogin",value:function(){var e=this.state.isShowWeChatLoginPopup;e&&this.setState({isShowWeChatLoginPopup:!1})}},{key:"onClickWeChatLogin",value:function(){var e=(0,Z.Z)((0,O.Z)().mark((function e(){var t,n,o,i,a,r;return(0,O.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("[onClickWeChatLogin]"),J.GZ.startLogin(),e.next=4,this.wxLoginStatus.checkStatus();case 4:if(t=e.sent,t===te.q.SUCCESS){e.next=8;break}return J.GZ.loginFail(ee.r2.NO_WECHAT_CODE),e.abrupt("return");case 8:return X.$Q.showLoading(),e.prev=9,n=this.wxLoginStatus.getCode(),e.next=13,J.GZ.login(n,{quickLogin:"".concat(this.quickLoginFlag)});case 13:X.$Q.hideLoading(),this.directBack(),e.next=46;break;case 17:if(e.prev=17,e.t0=e["catch"](9),X.$Q.hideLoading(),i=!0,a=(null===e.t0||void 0===e.t0||null===(o=e.t0.data)||void 0===o||null===(o=o.context)||void 0===o?void 0:o.token)||"",X.tY.logTrace(K.ZK.c_wechat_oneclick_login_fail,{code:null===e.t0||void 0===e.t0?void 0:e.t0.returnCode}),!this.quickLoginFlag){e.next=34;break}r=(0,F.Z)((0,F.Z)({},J.S4.mobilePhoneIsNotBound,"\u6b64\u8d26\u53f7\u672a\u7ed1\u5b9a\u624b\u673a\uff0c\u5f53\u524d\u767b\u5f55\u65b9\u5f0f\u4e0d\u53ef\u7528\uff0c\u8bf7\u4f7f\u7528\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f\u3002"),J.S4.thirdPartyIsNotBound,"\u5fae\u4fe1\u8d26\u53f7\u548c\u643a\u7a0b\u8d26\u53f7\u7ed1\u5b9a\u5173\u7cfb\u5df2\u53d8\u66f4\uff0c\u5f53\u524d\u767b\u5f55\u65b9\u5f0f\u4e0d\u53ef\u7528\uff0c\u8bf7\u4f7f\u7528\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f"),e.t1=e.t0.returnCode,e.next=e.t1===J.S4.mobilePhoneIsNotBound||e.t1===J.S4.thirdPartyIsNotBound?28:30;break;case 28:return W().showModal({content:r[e.t0.returnCode],confirmText:"\u786e\u5b9a",showCancel:!1,confirmColor:"#006FF6"}),e.abrupt("break",32);case 30:return(0,X.CF)({title:e.t0.message,icon:"none"}),e.abrupt("break",32);case 32:e.next=45;break;case 34:e.t2=J.GZ.checkPreflightType(e.t0),e.next=e.t2===J.GZ.PREFLIGHT_TYPE.showMobileOneTapLogin?37:e.t2===J.GZ.PREFLIGHT_TYPE.goBindPage?40:(e.t2,J.GZ.PREFLIGHT_TYPE.failed,43);break;case 37:return this.thirdToken=a,this.setState({isShowWeChatLoginPopup:!0}),e.abrupt("break",45);case 40:return i=!1,this.bindPhone(a),e.abrupt("break",45);case 43:return(0,X.CF)({title:e.t0.message,icon:"none"}),e.abrupt("break",45);case 45:i&&this.wxLoginStatus.startGetCode();case 46:case"end":return e.stop()}}),e,this,[[9,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleBindUnionId",value:function(){var e=(0,Z.Z)((0,O.Z)().mark((function e(){var t,n=this;return(0,O.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(0,ee.gH)("bindThirdParty"),X.tY.logTrace(K.Mp.c_wechat_mobiletoken_unionidbind_OK),X.$Q.showLoading(),t.start(),e.prev=4,e.next=7,(0,E.bindThirdPartyLogic)({accessCode:K.o4,thirdPartType:"wechat_union",seizeToken:this.state.unionIdSeizeToken});case 7:t.success(),X.tY.logTrace(K.Mp.c_wechat_mobiletoken_unionidbind_result,{result:"success"}),X.$Q.hideLoading(),this.directBack(),e.next=19;break;case 13:e.prev=13,e.t0=e["catch"](4),(0,X.CF)({icon:"none",title:e.t0.message}),X.tY.logTrace(K.Mp.c_wechat_mobiletoken_unionidbind_result,{result:"fail",code:null===e.t0||void 0===e.t0?void 0:e.t0.returnCode}),t.fail(null===e.t0||void 0===e.t0?void 0:e.t0.returnCode),setTimeout((function(){X.$Q.hideLoading(),n.directBack()}),2e3);case 19:case"end":return e.stop()}}),e,this,[[4,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleHideUnionIdModal",value:function(){X.tY.logTrace(K.Mp.c_wechat_mobiletoken_unionidbind_cancel),this.directBack()}},{key:"onClickGetPhoneAndRegister",value:function(){this.privacyFlag=!0,this.watchMap.mobileOneTapAuthentication.reset().start()}},{key:"onClickWeChatOneTapLogin",value:function(e){this.onClickOneTapLogin(e,{thirdToken:this.thirdToken},"onClickWeChatOneTapLogin")}},{key:"genCheckAgreementLogin",value:function(e){switch(e){case E.BusinessScenarioScene.mobileOneTapLogin:return this.checkAgreementBeforeLogin.bind(this,this.onClickMobileOneTapLogin,e);case E.BusinessScenarioScene.thirdWechatThirdLogin:return this.checkAgreementBeforeLogin.bind(this,this.onClickWeChatLogin,e);default:return function(){}}}},{key:"onGetPhoneErrorClick",value:function(e){var t=this;null!==e&&void 0!==e&&e.message&&(0,X.pb)(e.message),this.state.isShowAgreementModal&&this.setAgreementModal(!1),X.tY.logDevTrace({stage:"onGetPhoneErrorClick",quickLoginFlag:this.quickLoginFlag}),this.jumpTimer=setTimeout((function(){t.quickLoginFlag||t.onClickDynamicLogin()}),800)}},{key:"renderUnionIdModal",value:function(){return(0,G.jsx)(z,{showModal:this.state.isShowUionIdModal,title:"\u7ed1\u5b9a\u5fae\u4fe1\u8d26\u53f7\uff1f",content:"\u60a8\u7684\u5fae\u4fe1\u5df2\u4e0e\u643a\u7a0b\u8d26\u53f7\u201c".concat(this.state.accountName,"\u201d\u7ed1\u5b9a\uff0c\u70b9\u51fb\u786e\u8ba4\u53ef\u4ee5\u5c06\u5fae\u4fe1\u7ed1\u5b9a\u5f53\u524d\u643a\u7a0b\u8d26\u53f7"),handleConfirm:this.handleBindUnionId,handleCancel:this.handleHideUnionIdModal})}},{key:"renderNavBar",value:function(){var e={customBack:!0,showBack:!0,bgTransparent:!0,iconColor:"black"};return(0,G.jsx)("nav-bar",{navbarData:e,onBack:this.onClickBack})}},{key:"setUseDefaultAvatar",value:function(){this.setState({useDefaultAvatar:!0})}},{key:"renderUserInfo",value:function(){var e,t,n=this.state,o=n.useDefaultAvatar,i=n.loginStimulateTips,a=n.avatarUrl,r=(0,J.zo)(),s=i,c=r;this.quickLoginFlag?(s=(null===(e=oe.Y8.user.userInfo)||void 0===e?void 0:e.nickName)||i,c=(null===(t=oe.Y8.user.userInfo)||void 0===t?void 0:t.profilePictureUrl)||r):a&&(c=a);return o&&(c=(0,J.zo)()),(0,G.jsxs)(I.View,{className:"login-userinfo",children:[(0,G.jsx)(I.Image,{className:"login-avatar",src:c,onError:this.setUseDefaultAvatar}),(0,G.jsx)(I.Text,{className:"login-stimulate-tips nick-name",children:s}),(0,G.jsx)(I.CustomWrapper,{})]})}},{key:"renderWeChatLoginPopup",value:function(){var e=this.state.isShowWeChatLoginPopup;return e?(X.tY.logTrace(K.ZK.c_wechat_phonelink_show),(0,G.jsxs)(D.Fragment,{children:[(0,G.jsx)(V,{isShow:!0}),(0,G.jsxs)(I.View,{id:"weChatLoginPopup",className:"login-bywx-pop",children:[(0,G.jsx)(I.View,{className:"login-bywx-pop-title",children:"\u8054\u5408\u767b\u5f55"}),(0,G.jsx)(I.View,{className:"login-bywx-pop-close",onClick:this.onClickCancelWeChatLogin}),(0,G.jsx)(I.View,{className:"login-bywx-pop-body",children:(0,G.jsx)(Q.Z,{readyClass:"login-bywx-pop-btn btn-list",btnText:"\u6388\u6743\u624b\u673a\u53f7\u7ed1\u5b9a",onGetPhoneNumber:this.onClickWeChatOneTapLogin,onReadyClick:this.onClickGetPhoneAndRegister,onErrorClick:this.onGetPhoneErrorClick})})]})]})):null}},{key:"renderAgreementModal",value:function(){var e=this,t=this.state.isShowAgreementModal;return(0,G.jsx)(q.Z,{showAgreementModal:t,children:(0,G.jsxs)(I.View,{className:"agreement-button-group",children:[(0,G.jsx)(I.Button,{className:"agreement-button primary",onClick:this.setAgreeAndHide,children:"\u540c\u610f"}),(0,G.jsx)(I.Button,{className:"agreement-button",onClick:function(){return e.setAgreementModal(!1)},children:"\u4e0d\u540c\u610f"})]})})}},{key:"renderMobileOneTapLoginEntry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPhoneNumberBtn:!1,btnText:"\u6388\u6743\u624b\u673a\u53f7\u767b\u5f55",className:"btn-text btn-onetap-login",isColoursBtn:!0},t=this.genCheckAgreementLogin(E.BusinessScenarioScene.mobileOneTapLogin);return null!==e&&void 0!==e&&e.isPhoneNumberBtn?(0,G.jsx)(Q.Z,{isColoursBtn:e.isColoursBtn,readyClass:e.className,errorClass:e.className,loadingClass:e.className,btnText:e.btnText,onGetPhoneNumber:t,onReadyClick:this.onClickMobileOneTapLoginView,onErrorClick:this.onGetPhoneErrorClick}):(0,G.jsx)(I.Button,{className:e.className,onClick:t,children:e.btnText})}},{key:"renderDynamicLoginEntry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{btnText:"\u624b\u673a\u77ed\u4fe1\u767b\u5f55",className:"btn-text btn-other-phone"};return(0,G.jsx)(I.View,{className:e.className,onClick:this.onClickDynamicLogin,children:e.btnText})}},{key:"renderWeChatLoginEntry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{btnText:"\u793e\u4ea4\u8d26\u53f7\u767b\u5f55",className:"btn-text btn-other-phone"},t=this.state.isShowWeChatLogin;return t?(0,G.jsx)(I.View,{className:e.className,onClick:this.genCheckAgreementLogin(E.BusinessScenarioScene.thirdWechatThirdLogin),children:e.btnText}):null}},{key:"renderQuickLoginBtn",value:function(){var e=this.renderMobileOneTapLoginEntry({isPhoneNumberBtn:this.state.isCheckedAgreement,isColoursBtn:!1,btnText:"\u6388\u6743\u624b\u673a\u767b\u5f55",className:"btn btn-secondary"});return(0,G.jsxs)(I.View,{className:"btn-wrapper quick-login-btns",children:[(0,G.jsx)(H.Z,{checked:this.state.isCheckedAgreement,onClickCheckbox:this.toggleAgreement}),(0,G.jsx)(I.Button,{className:"btn btn-primary",onClick:this.genCheckAgreementLogin(E.BusinessScenarioScene.thirdWechatThirdLogin),children:"\u767b\u5f55\u6b64\u8d26\u53f7"}),(0,G.jsxs)(I.View,{className:"btn-sep",children:[(0,G.jsx)(I.View,{className:"sep"}),"\u6216\u5176\u4ed6\u65b9\u5f0f",(0,G.jsx)(I.View,{className:"sep"})]}),this.oneTapSwitch?e:null,(0,G.jsx)(I.View,{className:"btn btn-plain btn-message",onClick:this.onClickDynamicLogin,children:"\u77ed\u4fe1\u9a8c\u8bc1\u7801\u767b\u5f55"})]})}},{key:"renderNormalLoginBtn",value:function(){var e=this.renderMobileOneTapLoginEntry({isPhoneNumberBtn:this.state.isCheckedAgreement,btnText:"\u6388\u6743\u624b\u673a\u53f7\u767b\u5f55",className:"btn-text btn-onetap-login"});return(0,G.jsxs)(I.View,{className:"btn-wrapper normal-login-btns",children:[e,(0,G.jsxs)(I.View,{className:"login-other-way",children:[this.renderDynamicLoginEntry(),this.renderWeChatLoginEntry()]}),(0,G.jsx)(H.Z,{checked:this.state.isCheckedAgreement,onClickCheckbox:this.toggleAgreement})]})}},{key:"renderBtnAres",value:function(){return this.quickLoginFlag?this.renderQuickLoginBtn():this.renderNormalLoginBtn()}},{key:"render",value:function(){var e=this.quickLoginFlag?"wrapper-quick-login":"wrapper-onetap-login";return(0,G.jsx)(D.Fragment,{children:(0,G.jsxs)(I.View,{className:e,children:[(0,G.jsx)("perinfo-protect-float",{}),this.renderNavBar(),this.renderUserInfo(),this.renderBtnAres(),this.renderAgreementModal(),this.renderWeChatLoginPopup(),this.checkPerformanceFunc(),this.renderUnionIdModal()]})})}}]),n}(Y.Z),(0,B.Z)(x.prototype,"onLoad",[o],Object.getOwnPropertyDescriptor(x.prototype,"onLoad"),x.prototype),(0,B.Z)(x.prototype,"onUnload",[i],Object.getOwnPropertyDescriptor(x.prototype,"onUnload"),x.prototype),(0,B.Z)(x.prototype,"componentDidShow",[a],Object.getOwnPropertyDescriptor(x.prototype,"componentDidShow"),x.prototype),(0,B.Z)(x.prototype,"onReady",[r],Object.getOwnPropertyDescriptor(x.prototype,"onReady"),x.prototype),(0,B.Z)(x.prototype,"componentDidHide",[s],Object.getOwnPropertyDescriptor(x.prototype,"componentDidHide"),x.prototype),(0,B.Z)(x.prototype,"handlePrivacyModalShow",[E.autobind],Object.getOwnPropertyDescriptor(x.prototype,"handlePrivacyModalShow"),x.prototype),(0,B.Z)(x.prototype,"handlePrivacyModalClick",[E.autobind,c],Object.getOwnPropertyDescriptor(x.prototype,"handlePrivacyModalClick"),x.prototype),(0,B.Z)(x.prototype,"onClickBack",[E.autobind,l,u],Object.getOwnPropertyDescriptor(x.prototype,"onClickBack"),x.prototype),(0,B.Z)(x.prototype,"toggleAgreement",[E.autobind],Object.getOwnPropertyDescriptor(x.prototype,"toggleAgreement"),x.prototype),(0,B.Z)(x.prototype,"onClickDynamicLogin",[E.autobind,h,p],Object.getOwnPropertyDescriptor(x.prototype,"onClickDynamicLogin"),x.prototype),(0,B.Z)(x.prototype,"onClickMobileOneTapLoginView",[E.autobind,d,g,k],Object.getOwnPropertyDescriptor(x.prototype,"onClickMobileOneTapLoginView"),x.prototype),(0,B.Z)(x.prototype,"onClickMobileOneTapLogin",[E.autobind,y],Object.getOwnPropertyDescriptor(x.prototype,"onClickMobileOneTapLogin"),x.prototype),(0,B.Z)(x.prototype,"onClickCancelWeChatLogin",[E.autobind,m],Object.getOwnPropertyDescriptor(x.prototype,"onClickCancelWeChatLogin"),x.prototype),(0,B.Z)(x.prototype,"onClickWeChatLogin",[E.autobind,v,b],Object.getOwnPropertyDescriptor(x.prototype,"onClickWeChatLogin"),x.prototype),(0,B.Z)(x.prototype,"handleBindUnionId",[E.autobind],Object.getOwnPropertyDescriptor(x.prototype,"handleBindUnionId"),x.prototype),(0,B.Z)(x.prototype,"handleHideUnionIdModal",[E.autobind],Object.getOwnPropertyDescriptor(x.prototype,"handleHideUnionIdModal"),x.prototype),(0,B.Z)(x.prototype,"onClickGetPhoneAndRegister",[E.autobind,w,C,L],Object.getOwnPropertyDescriptor(x.prototype,"onClickGetPhoneAndRegister"),x.prototype),(0,B.Z)(x.prototype,"onClickWeChatOneTapLogin",[E.autobind,f],Object.getOwnPropertyDescriptor(x.prototype,"onClickWeChatOneTapLogin"),x.prototype),(0,B.Z)(x.prototype,"genCheckAgreementLogin",[E.autobind],Object.getOwnPropertyDescriptor(x.prototype,"genCheckAgreementLogin"),x.prototype),(0,B.Z)(x.prototype,"onGetPhoneErrorClick",[E.autobind],Object.getOwnPropertyDescriptor(x.prototype,"onGetPhoneErrorClick"),x.prototype),(0,B.Z)(x.prototype,"setUseDefaultAvatar",[E.autobind],Object.getOwnPropertyDescriptor(x.prototype,"setUseDefaultAvatar"),x.prototype),x),se={usingComponents:{"perinfo-protect-float":"@miniapp/cwx/component/perInfoProtectFloat/index","nav-bar":"@miniapp/cwx/component/navbar/navbar","get-phone-num-btn":"@miniapp/cwx/component/getPhoneNumBtn/getPhoneNumBtn"},navigationStyle:"custom",navigationBarTitleText:"",disableScroll:!0};Page((0,T.createPageConfig)(re,"pages/accounts/pages/newlogin/index",{root:{cn:[]}},se||{}))},79181:function(e){e.exports=require("../../../../cwx/cpage/initNavigator")},91783:function(e){e.exports=require("../../../../cwx/cpage/ubt_wx")},56884:function(e){e.exports=require("../../../../cwx/cwx")},65238:function(e){e.exports=require("../../../../cwx/ext/global")},39270:function(e){e.exports=require("../../../../agreementConfig")},33675:function(e){e.exports=require("../../../../cwx/cwx")}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[3487,2107,1216,8592],(function(){return t(75905)}));e.O()}]);
//# sourceMappingURL=index.js.map