(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[3487],{77515:function(e,t,n){"use strict";var r=n(79301),o=n(95308),i=n(57042),a=n(24460),c=n(45023),u=n(46294),s=n(90803),l=n(65251),d=function(){function e(){(0,i.Z)(this,e),(0,c.Z)(this,"APP_ID",s.x.APP_ID)}return(0,a.Z)(e,[{key:"getConfig",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,l.tY.logDevTrace({type:"request",stage:"before",method:"getConfig",key:t}),e.next=4,(0,u.getConfigs)(this.APP_ID,t,{});case 4:return n=e.sent,l.tY.logDevTrace({type:"request",stage:"success",method:"getConfig",key:t,result:n}),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](0),l.tY.logDevTrace({type:"request",stage:"failed",method:"getConfig",key:t,err:e.t0}),e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),f=new d;t["Z"]=f},68451:function(e,t,n){"use strict";n.d(t,{Jv:function(){return pe},hA:function(){return m},Yg:function(){return v},_W:function(){return D},K1:function(){return Q},GZ:function(){return A},S4:function(){return E},L_:function(){return R},ME:function(){return k},ar:function(){return N},vB:function(){return de.v},Ao:function(){return I},zo:function(){return se},QC:function(){return le},f3:function(){return te},ED:function(){return z},nE:function(){return b},Wp:function(){return G},Tm:function(){return ue}});var r=n(57042),o=n(24460),i=n(21867),a=n(86066),c=n(46294),u=n(79301),s=n(95308),l=n(45023),d=n(56959),f=n(65251),p=n(8972),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.Z)(this,e),(0,l.Z)(this,"scene",void 0),(0,l.Z)(this,"totalScene",void 0),(0,l.Z)(this,"stage",""),(0,l.Z)(this,"initialStage",""),(0,l.Z)(this,"startAt",0),this.scene=t,this.totalScene="".concat(this.scene,"_total"),this.initialStage=n,this.stage=n}return(0,o.Z)(e,[{key:"sendLoginSuccessMessage",value:function(){f.F$.emit(d.Zy.dynamicLoginSuccess,{type:this.scene,subtype:this.stage}),f.F$.emit(d.Zy.setAvatar)}},{key:"ignoreSendLoginFailedProductTrace",value:function(e){return!1}},{key:"logLoginResultTrace",value:function(e,t){var n=e?d.Mx.c_wechat_login_success:d.Mx.c_wechat_login_fail;!e&&this.ignoreSendLoginFailedProductTrace(t)||f.tY.logTrace(n,{type:d.bW[this.scene],subtype:this.stage})}},{key:"logLoginResultMonitor",value:function(e,t,n){p.ZP.send(e?"success":"failed",{scene:this.scene,latency:t,stage:this.stage,code:e?0:(null===n||void 0===n?void 0:n.returnCode)||-1})}},{key:"processServiceResponseMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Ou.login,n=e||{},r=n.message,o=e||{},i=o.returnCode,a="undefined"===typeof i?p.r2.INTERNAL_ERROR:i;return(!r||a<0)&&(r="".concat(t,"(").concat(a,")")),r}},{key:"updateLoginFailedResponse",value:function(e){return(0,f.v4)(e,{message:this.processServiceResponseMessage(e)})}},{key:"logLoginRequestCall",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,o,i;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=(new c.Stopwatch).start(),r=Date.now(),e.prev=2,f.tY.logDevTrace({type:"request",stage:"before",scene:this.scene,ts:r}),e.next=6,t;case 6:return i=e.sent,o=!0,f.tY.logDevTrace({type:"request",stage:"success",scene:this.scene}),e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e["catch"](2),f.tY.logDevTrace({type:"request",stage:"failed",scene:this.scene,err:e.t0}),o=!1,i=e.t0,this.updateLoginFailedResponse(e.t0);case 18:return e.prev=18,o&&this.sendLoginSuccessMessage(),this.logLoginResultTrace(o,i),this.logLoginResultMonitor(o,n.stop().elapsed,i),e.finish(18);case 23:case"end":return e.stop()}}),e,this,[[2,12,18,23]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startLogin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.stage=e||this.initialStage,this.startAt=Date.now(),p.ZP.send("success",{scene:this.totalScene,stage:this.stage,latency:1})}},{key:"login",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,n){var r;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.logLoginRequestCall(this.callLoginService(t,n));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loginFail",value:function(e){p.ZP.send("failed",{scene:this.scene,code:e,stage:this.stage,latency:Date.now()-this.startAt})}}]),e}(),g=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"callLoginService",value:function(e,t){return c.oneTapLogin.login(e,t)}}]),n}(h),v=new g(d.FZ.mobileOneTapLogin),y=n(90129),_=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,d.FZ.mobileDynamicLogin)}return(0,o.Z)(n,[{key:"validateMobile",value:function(e,t){if(e===n.CHINA_COUNTRY_CODE){var r=(0,f.qI)(t),o=(0,y.Z)(r,1),i=o[0];return i}return!0}},{key:"validate",value:function(e,t){return!(!t||isNaN(e)||!this.validateMobile(e,t))}},{key:"sendPhoneCode",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t){var n,r,o,i,a,s,l;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.mobile,r=t.countryCode,o="[sendPhoneCode]",e.prev=2,i=t.isResend,a=t.captchaResult,f.tY.logDevTrace({info:o,mobile:n,countryCode:r,isResend:i}),s=a.token,l=a.version,e.next=8,c.mobileDynamicLogin.sendMessage(n,{countryCode:"".concat(r),sliderBusinessSite:d.MD.mobileDynamicLogin,sliderToken:s,sliderVersion:l});case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e["catch"](2),f.tY.logDevTrace({info:o,errorResponse:e.t0}),(0,f.v4)(e.t0,{message:d.qF[e.t0.returnCode]||"".concat(d.qF.failed,"(").concat(e.t0.returnCode||-1,")")});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"callLoginService",value:function(e){var t=e.mobile,n=e.countryCode,r=e.verificationCode;return c.mobileDynamicLogin.login(t,r,{countryCode:"".concat(n)})}}]),n}(h);(0,l.Z)(_,"CHINA_COUNTRY_CODE",86);var m=new _,T=n(81876),C=n(70487),E=function(e){return e[e["mobilePhoneIsNotBound"]=70005]="mobilePhoneIsNotBound",e[e["accountHasBeenClosed"]=30001]="accountHasBeenClosed",e[e["uidIsNotExisted"]=30004]="uidIsNotExisted",e[e["thirdPartyIsNotBound"]=30005]="thirdPartyIsNotBound",e}({}),I=function(e){return"F"!==e},b=function(e){return new Promise((function(t){function n(e){var n,r=Number(null!==(n=null===e||void 0===e?void 0:e.ReturnCode)&&void 0!==n?n:"-1"),o={ok:0===r||101===r,returnCode:r,message:(null===e||void 0===e?void 0:e.Message)||"-1",stage:"cwx.user.bindPhone",token:(null===e||void 0===e?void 0:e.token)||"",tokenType:(null===e||void 0===e?void 0:e.tokenType)||""};t(o)}(0,C.DU)({param:{thirdToken:e},callback:n})}))},O=function(e){return e[e["failed"]=0]="failed",e[e["goBindPage"]=1]="goBindPage",e[e["showMobileOneTapLogin"]=2]="showMobileOneTapLogin",e}(O||{}),P=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this,d.FZ.weChatThirdLogin,d.Tj.login),(0,l.Z)((0,T.Z)(e),"PREFLIGHT_TYPE",O),e}return(0,o.Z)(n,[{key:"ignoreSendLoginFailedProductTrace",value:function(e){return[E.mobilePhoneIsNotBound,E.uidIsNotExisted,E.accountHasBeenClosed,E.thirdPartyIsNotBound].indexOf(e.returnCode)>-1}},{key:"callLoginService",value:function(e,t){return c.thirdPartLogin.login(e,t)}},{key:"checkPreflightType",value:function(e){switch(e.returnCode){case E.mobilePhoneIsNotBound:return O.goBindPage;case E.accountHasBeenClosed:case E.uidIsNotExisted:case E.thirdPartyIsNotBound:return O.showMobileOneTapLogin;default:return O.failed}}}]),n}(h),A=new P,S=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,d.FZ.weChatThirdLogin,d.Tj.mobiletoken)}return(0,o.Z)(n,[{key:"updateLoginFailedResponse",value:function(e){return(0,f.v4)(e,{message:"".concat(d.Ou.login,"(").concat(e.returnCode,")")})}},{key:"callLoginService",value:function(e,t){return c.mobileDynamicLogin.loginUseMobileToken(e,t)}}]),n}(h),R=new S,L=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,d.FZ.weChatThirdLogin,d.Tj.thirdtoken)}return(0,o.Z)(n,[{key:"updateLoginFailedResponse",value:function(e){return(0,f.v4)(e,{message:"".concat(d.Ou.login,"(").concat(e.returnCode,")")})}},{key:"callLoginService",value:function(e,t){return c.thirdPartLogin.loginUseThirdToken(e,t)}}]),n}(h),N=new L,k=new g(d.FZ.weChatThirdLogin,d.Tj.bind_third_with_mobile_auth),w=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,d.FZ.weChatThirdLogin)}return(0,o.Z)(n,[{key:"callLoginService",value:function(e){return c.thirdPartLogin.bindAndLogin(e.thirdToken,e.info)}},{key:"sendMessage",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,n){var r,o;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=n.token,o=n.version,e.next=4,c.thirdPartLogin.sendMessage(t,{sliderBusinessSite:d.MD.weChatThirdBindAndLogin,sliderToken:r,sliderVersion:o});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),(0,f.v4)(e.t0,{message:this.processServiceResponseMessage(e.t0,d.Ou.send)});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(h),D=new w,M=new Map([[0,"general"],[5,"silver"],[10,"gold"],[20,"platinum"],[30,"diamond"],[35,"golddiamond"],[40,"blackdiamond"]]),x={highValueTitle:"\u624b\u673a\u53f7{mobile}\u5df2\u7ed1\u5b9a\u53e6\u4e00\u4e2a\u643a\u7a0b\u8d26\u53f7\u3002\u60a8\u5e0c\u671b\u7ee7\u7eed\u4f7f\u7528\u54ea\u4e2a\u8d26\u53f7\uff1f",highValueTips:"\u9009\u62e9\u540e\uff0c{thirdPartName}\u548c\u624b\u673a\u53f7\u5c06\u5173\u8054\u81f3\u9009\u4e2d\u8d26\u53f7\uff0c\u4f46\u8ba2\u5355\u3001\u6743\u76ca\u3001\u8d44\u4ea7\u5c06\u4e0d\u4f1a\u8f6c\u79fb\uff0c\u4e14\u53e6\u4e00\u8d26\u53f7\u5c06\u65e0\u6cd5\u767b\u5f55\uff0c\u8bf7\u60a8\u7559\u610f\u3002"},G=function(e){return 70008===(null===e||void 0===e?void 0:e.returnCode)},Z=function(e){if(!e)return"";for(var t=0;t<e.length;t+=1)if(e[t]&&3===e[t].itemType)return e[t].itemValue||"";return""},U=function(e){return e?e.length>5?"".concat(e.substring(0,5),"..."):e:"\u5c0a\u656c\u7684\u4f1a\u5458"},F=function(e){return e?"".concat(e.substring(0,4),"\u5e74\u6ce8\u518c"):""},j=function(e){return(0,f.qh)(e)&&M.get(e)||""},H=function(e){return(0,f.qh)(e)?e>5e3?">5000":"".concat(e):""},B=function(e){return(0,f.qh)(e)?e>5?">5":"".concat(e):""},Y=function(e){return(0,f.qh)(e)?e>0?"\u6709\u4f59\u989d":"\u65e0\u4f59\u989d":""},W=function(e,t){var n={username:"",avatarUri:"",vipGradeRemark:"",isShowSuperVip:!1,assets:[],signDate:"",signType:t};if(null!==e&&void 0!==e&&e.userInfo){var r=e.userInfo,o=r.nickName,i=r.iconList,a=r.signDate,c=r.vipGrade,u=r.availPoint;n.username=U(o),n.avatarUri=Z(i),n.signDate=F(a),n.vipGradeRemark=j(c);var s=H(u);s&&n.assets.push({name:"\u79ef\u5206",value:s})}if(null!==e&&void 0!==e&&e.extraCoreInfos){var l=e.extraCoreInfos,d=l.isSuperVip,f=l.orderAmount,p=l.assetsAmount;n.isShowSuperVip=Boolean(d);var h=B(f);h&&n.assets.push({name:"\u7b14\u8ba2\u5355",value:h});var g=Y(p);g&&n.assets.push({name:g})}return n},q=function(e){return e.replace(/(.{3})(.*)(.{4})/g,"$1****$3")},V=function(e){var t,n=null===e||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.bindedPhone;return n?q(n):""},K=function(e,t){var n=t||x.highValueTitle;return n.replace(/({mobile})/g,e)},$=function(e,t){var n=t||x.highValueTips;return n.replace(/({thirdPartName})/g,e)},z=function(e){var t,n,r;if(!G(e))throw new Error("response is not a multi-account");var o=null!==(t=null===e||void 0===e?void 0:e.data)&&void 0!==t?t:{},i=o.thirdUserInfo,a=o.mobileUserInfo,c=o.context;return{title:K(V(a),null===c||void 0===c?void 0:c.title),tips:$("\u5fae\u4fe1",null===c||void 0===c?void 0:c.subTitle),thirdToken:null!==(n=null===c||void 0===c?void 0:c.token)&&void 0!==n?n:"",mobileToken:null!==(r=null===c||void 0===c?void 0:c.mobileToken)&&void 0!==r?r:"",thirdAccountInfo:W(i,"\u5fae\u4fe1\u53f7\u5173\u8054\u8d26\u6237"),mobileAccountInfo:W(a,"\u624b\u673a\u53f7\u5173\u8054\u8d26\u6237")}},X=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,d.FZ.weChatThirdLogin)}return(0,o.Z)(n,[{key:"callLoginService",value:function(e){return c.thirdPartLogin.mergeAccountsLogin(e)}}]),n}(h),Q=new X,J=(n(77515),n(3997)),ee="\u8d26\u53f7\u5b89\u5168\uff0c\u653e\u5fc3\u767b\u5f55",te=function(){var e=ee;return"fat"===J.z4.env?"".concat(e,"FAT"):e},ne=n(38555),re="_C_100_100",oe="last_user_avatar",ie="https://pages.c-ctrip.com/basebiz/accounts/wechat/common_myctrip_home_avatar_ico.png",ae=function(e){if(!e)return e;var t=e.lastIndexOf(".");if(t>-1){var n=e.substring(0,t),r=e.substr(t);return"".concat(n).concat(re).concat(r)}return e},ce=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t,n,r,o,i;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=ne.M.GetUserInfo,n={data:{parameterList:[{key:"biztype",value:"BASE"}],needFullOrHalfAvatarUrl:"full"}},f.tY.logDevTrace({type:"request",stage:"before",fetchUrl:t,fetchConfig:n}),e.prev=3,r="",e.next=7,(0,f.he)(t,n);case 7:return o=e.sent,o&&o.result&&0===o.result.resultCode&&o.thisUserInfo&&(i=o.thisUserInfo.avatarPictureURL,"string"===typeof i&&i.length>0&&(r=i)),f.tY.logDevTrace({type:"request",stage:"after",fetchUrl:t,result:r}),e.abrupt("return",ae(r));case 13:return e.prev=13,e.t0=e["catch"](3),f.tY.logDevTrace({type:"request",stage:"failed",fetchUrl:t,err:e.t0}),e.abrupt("return","");case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,s.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(J.Y8.user.isLogin()){e.next=2;break}return e.abrupt("return");case 2:return c.TaroStorage.remove(oe),e.next=5,ce();case 5:t=e.sent,t.length>0&&c.TaroStorage.save(oe,t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){return ie},le=function(e){c.TaroStorage.load(oe,(function(t){e(t||se())}))},de=n(82133),fe=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this,d.FZ.miniappSearchOrder)}return(0,o.Z)(n,[{key:"callLoginService",value:function(e){var t=e.mobilePhone,n=e.dynamicCode,r=e.countryCode;return c.orderSearch.login(t,n,{sequenceId:"",accessCode:d.o4,sliderBusinessSite:d.MD.mobileQueryOrder,sliderVersion:"",sliderToken:""},r)}},{key:"sendMessage",value:function(){var e=(0,s.Z)((0,u.Z)().mark((function e(t,n,r){return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.thirdPartLogin.sendMessage(t,n,r||c.VerifyCodeScene.LOGIN);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),(0,f.v4)(e.t0,{message:this.processServiceResponseMessage(e.t0,d.Ou.send)});case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),n}(h),pe=new fe},82133:function(e,t,n){"use strict";n.d(t,{a:function(){return l},v:function(){return d}});var r=n(298),o=n(46294),i=n(8972),a=n(3997),c=n(65251),u=n(56959),s=function(e){return e[e["network"]=-1e3]="network",e[e["notRight"]=-1001]="notRight",e}(s||{}),l=function(e,t){return new Promise((function(n){var u=(new o.Stopwatch).start();c.tY.logDevTrace({type:"getLoginCode",stage:"before",timestamp:Date.now()});var l={scene:i.EQ.getLoginCode,stage:e?"first":"retry"},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t?s.network:s.notRight;c.tY.logDevTrace({type:"getLoginCode",stage:"failed",timestamp:Date.now(),latency:u.stop().elapsed,err:(0,c.v4)(e,{isApiFailed:t})}),i.ZP.send("failed",(0,r.Z)((0,r.Z)({},l),{},{code:o,latency:u.stop().elapsed})),n({ok:!1,loginCode:"",code:o})};a.Y8.login({timeout:t,success:function(e){if(e&&e.code&&"the code is a mock one"!==e.code)return c.tY.logDevTrace({type:"getLoginCode",stage:"success",timestamp:Date.now(),latency:u.stop().elapsed,ret:e.code}),i.ZP.send("success",(0,r.Z)((0,r.Z)({},l),{},{latency:u.stop().elapsed})),void n({ok:!0,loginCode:e.code,code:0});d(e)},fail:function(e){d(e,!0)}})}))},d=function(e){var t,n,r;return c.tY.logTrace(u.ZK.c_wechat_mobiletoken_authorized,{msg:null!==(t=null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.errMsg)&&void 0!==t?t:i.r2.INTERNAL_ERROR}),e&&e.detail&&"getPhoneNumber:ok"===e.detail.errMsg?(i.ZP.send(e.detail.code?"success":"failed",{scene:i.EQ.supportNewGetPhoneNumber,latency:1}),!0):(c.tY.logDevTrace({type:"checkGetPhoneNumberAuthenticationFailed",detail:null!==(r=null===e||void 0===e?void 0:e.detail)&&void 0!==r?r:{}}),(0,c.CF)({title:"\u7528\u6237\u62d2\u7edd\u5fae\u4fe1\u624b\u673a\u53f7\u6388\u6743\uff0c\u8bf7\u91cd\u65b0\u6388\u6743(".concat(i.r2.AUTHENTICATE_DENY,")"),icon:"none"}),!1)}},33485:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r,o=n(57042),i=n(24460),a=n(81876),c=n(79038),u=n(59772),s=n(21867),l=n(86066),d=n(45023),f=n(28641),p=n(46294),h=n(95543),g=n(65251),v=n(61717),y=n(68451),_=(r=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),(0,d.Z)((0,a.Z)(e),"__hasEmitCallback",!1),(0,d.Z)((0,a.Z)(e),"emitCallbackOnUnload",!1),e}return(0,i.Z)(n,[{key:"onLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.Z)((0,u.Z)(n.prototype),"onLoad",this).call(this,e),g.F$.addObserver(v.Z.setAvatar,y.Tm,!0)}},{key:"onUnload",value:function(){(0,c.Z)((0,u.Z)(n.prototype),"onUnload",this).call(this),this.emitCallbackOnUnload&&!this.__hasEmitCallback&&(console.log("[accounts] emit loginCallback onUnload"),this.emitEntryPageLoginCallback()),g.F$.removeObserver(v.Z.setAvatar)}},{key:"emitEntryPageLoginCallback",value:function(){g.F$.emit(v.Z.loginCallback)}},{key:"backToPage",value:function(e){e?g.Te.backToPage({delta:e}):g.Te.backToPage()}},{key:"backToPageAndEmitCallback",value:function(e){var t=this;this.__hasEmitCallback||(this.__hasEmitCallback=!0);var n=e||{},r=n.delta,o=n.delay;o?(this.emitEntryPageLoginCallback(),setTimeout((function(){t.backToPage(r)}),o)):(this.emitEntryPageLoginCallback(),this.backToPage(r))}},{key:"directBack",value:function(e){this.backToPageAndEmitCallback({delta:e})}},{key:"setAgreementModal",value:function(e,t){this.setState({isShowAgreementModal:e},t)}},{key:"setCheckAgreement",value:function(e,t){this.setState({isCheckedAgreement:e},t)}},{key:"setLoginType",value:function(e,t){this.setState({loginType:e},t)}},{key:"setAgreeAndHide",value:function(){this.setState({isCheckedAgreement:!0,isShowAgreementModal:!1})}},{key:"checkAgreementBeforeLogin",value:function(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this.state,c=a.isCheckedAgreement,u=a.isShowAgreementModal;g.tY.logDevTrace({stage:"checkAgreementBeforeLogin",isCheckedAgreement:c,isShowAgreementModal:u}),c||u?this.setAgreementModal(!1,(function(){n.setCheckAgreement(!0,(function(){e.call.apply(e,[n].concat(o))}))})):this.setAgreementModal(!0,(function(){n.setLoginType(t)}))}}]),n}(h.Z),(0,f.Z)(r.prototype,"setAgreementModal",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"setAgreementModal"),r.prototype),(0,f.Z)(r.prototype,"setCheckAgreement",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"setCheckAgreement"),r.prototype),(0,f.Z)(r.prototype,"setLoginType",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"setLoginType"),r.prototype),(0,f.Z)(r.prototype,"setAgreeAndHide",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"setAgreeAndHide"),r.prototype),(0,f.Z)(r.prototype,"checkAgreementBeforeLogin",[p.autobind],Object.getOwnPropertyDescriptor(r.prototype,"checkAgreementBeforeLogin"),r.prototype),r)},95543:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r,o,i=n(93212),a=n(57042),c=n(24460),u=n(81876),s=n(21867),l=n(86066),d=n(45023),f=n(71515),p=n(65542),h=n(28641),g=n(46294),v=n(3997),y=n(65251),_={},m=(r=(0,y.Lj)(null),o=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this),(0,d.Z)((0,u.Z)(r),"pageId",void 0),r.pageId=e,r}return(0,c.Z)(n,[{key:"fetch",get:function(){return{get:function(e,t,n){return(0,y.he)(e,(0,y.v4)(t,{method:"GET"}),n)},post:function(e,t,n){return(0,y.he)(e,(0,y.v4)(t,{method:"POST"}),n)}}}},{key:"log",get:function(){return{devTrace:function(e,t){try{v.Y8.sendUbtByPage.ubtDevTrace(e,{data:JSON.stringify(t)}),console.log("%c [bbz account fetch]","color: yellow;font-weight: bold",e,t)}catch(e){console.error("logDevTrace failed",e.message,e.stack)}}}}},{key:"getPageId",value:function(){return this.pageId}},{key:"getOpenId",value:function(){return v.Y8.cwx_mkt.openid}},{key:"getClientId",value:function(){return(0,y.i2)()}},{key:"getPlatform",value:function(){return"miniapp"}},{key:"getGlobal",value:function(){return v.Y8}},{key:"getRmsToken",value:function(){return""}},{key:"getSecretKey",value:function(){return""}},{key:"getEnv",value:function(){return v.z4.env}},{key:"getClientInfo",value:function(){var e=v.Y8.mkt.getUnion()||{},t=e.allianceid,n=void 0===t?"":t,r=e.sid,o=void 0===r?"":r;return{clientId:(0,y.i2)(),deviceName:"",deviceType:(0,y.l7)(),osType:(0,y.fP)(),pageId:this.pageId,allianceId:"".concat(n),sid:"".concat(o)}}}]),n}(g.MiniAppAccountsServiceAdapter),(0,h.Z)(o.prototype,"getClientInfo",[r],Object.getOwnPropertyDescriptor(o.prototype,"getClientInfo"),o.prototype),o),T=function(e){var t,n=e||{},r=n.pageId;if(!r)throw new Error("initFetchAdapter pageId is required");_[r]?t=_[r]:(t=new m(r),_[r]=t),(0,g.configure)(t)},C=(n(90201),n(2269)),E=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,d.Z)((0,u.Z)(r),"pageId",void 0),(0,d.Z)((0,u.Z)(r),"checkPerformance",!1),(0,d.Z)((0,u.Z)(r),"hasRenderCheckPerformance",!1),(0,d.Z)((0,u.Z)(r),"pageQuery",{}),r.pageId=r.getPageId(),r.checkPerformance=!0,T({pageId:r.pageId}),r}return(0,c.Z)(n,[{key:"getPageQuery",value:function(e){return e?"object"===(0,i.Z)(e.data)?e.data:"object"===(0,i.Z)(e.query)?e.query:e||{}:{}}},{key:"checkPerformanceFunc",value:function(){var e=this;return this.hasRenderCheckPerformance||(this.hasRenderCheckPerformance=!0),(0,C.jsx)(f.View,{className:"view-check",onAnimationEnd:function(){return e.viewReadyHandle()}})}},{key:"onLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pageQuery=this.getPageQuery(e)}},{key:"onUnload",value:function(){(0,y.c7)()&&this.checkPerformance&&!this.hasRenderCheckPerformance&&console.error("[taro-accounts]\u9875\u9762\u914d\u7f6e\u4e86\u767d\u5c4f\u68c0\u6d4b\uff0c\u4f46\u6ca1\u6709\u63a5\u5165\u6846\u67b6viewReadyHandle\u65b9\u6cd5\uff0c\u8bf7\u68c0\u67e5")}}]),n}(p.Z)},46294:function(e,t,n){var r=n(32180)["window"],o=n(32180)["document"],i=n(66371)["default"];!function(){var t={786:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},689:function(e,t){"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCode=t.SubTaskType=t.TaskType=void 0,function(e){e.modifyPassword="T003"}(n||(n={})),t.TaskType=n,function(e){e.madatory="ST001",e.optional="ST002"}(r||(r={})),t.SubTaskType=r,function(e){e[e.mandatoryModifyPassword=80001]="mandatoryModifyPassword",e[e.unmandatoryModifyPassword=80002]="unmandatoryModifyPassword"}(o||(o={})),t.TaskCode=o},283:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebAccountsServiceAdapter=t.MiniAppAccountsServiceAdapter=t.AccountsServiceAdapter=t.ServiceResponseErrorType=void 0,a(n(786),t),a(n(689),t),a(n(60),t);var c=n(655);Object.defineProperty(t,"ServiceResponseErrorType",{enumerable:!0,get:function(){return c.ServiceResponseErrorType}});var u=function(){function e(){}return e.prototype.getClientInfo=function(){return null},e.prototype.getOpenId=function(){return""},e.prototype.getGlobal=function(){return null},e.prototype.getRmsToken=function(){return""},e.prototype.getSecretKey=function(){return""},e.prototype.getFetchBaseUrl=function(){return""},e}();t.AccountsServiceAdapter=u;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(u);t.MiniAppAccountsServiceAdapter=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(u);t.WebAccountsServiceAdapter=l},655:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceResponseErrorType=void 0,function(e){e.HTTP_ERROR="HTTP_ERROR",e.TIMEOUT="TIMEOUT",e.INVALID_URL="INVALID_URL"}(n||(n={})),t.ServiceResponseErrorType=n},60:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},264:function(e,t,n){"use strict";n.d(t,{wd:function(){return T},CJ:function(){return ke},jQ:function(){return Ge},G_:function(){return Ue},nW:function(){return Ze},uA:function(){return He},E0:function(){return Be},m9:function(){return je},K0:function(){return Fe}});var i,a=n(385);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function s(e){return null!=e}function l(e,t){var n=t||{};return Object.keys(n).forEach((function(t){void 0!==n[t]&&(e[t]=n[t])})),e}"undefined"!=typeof r&&/iPhone|iPad|iPod|Android/i.test(r.navigator.userAgent);var d,f,p,h=function(){return i},g=/^(\d{1,3})\d{4}(\d+)$/gi,v=function e(t){void 0===t&&(t={});var n=JSON.parse(JSON.stringify(t)),r=["uid","password","certificateCode","loginName","email","mobile","mobilePhone","accountName"];return Object.keys(n).forEach((function(t){var o=n[t];r.indexOf(t)>-1?n[t]=function(e,t){switch(void 0===t&&(t=""),e){case"password":case"certificateCode":case"uid":return t.replace(/./g,"*");case"email":case"loginName":case"accountName":var n=t.split("@"),r=n[0],o=void 0===r?"":r,i=n[1],a=void 0===i?"":i;return(o=o.replace(/./g,"*"))+(a?"@":"")+a;case"mobile":case"mobilePhone":return t.replace(g,"$1****$2");default:return t}}(t,o):o&&"object"==(0,a.Z)(o)&&(n[t]=e(o))})),n};!function(e){e.Planet="90018",e.Ctrip="90001",e.Trip="90021"}(d||(d={})),(f={})[d.Ctrip]={PC:{accessCode:"PCAUTEHNTICATE",strategyCode:"PWDLOGIN"},H5:{accessCode:"H5AUTEHNTICATE",strategyCode:"PWDLOGIN"},APP:{accessCode:"APPAUTEHNTICATE",strategyCode:"PWDLOGIN"}},f[d.Planet]={};var y,_,m,T,C=((p={})[d.Ctrip]={miniapp:{accessCode:"WEIXINAUTEHNTICATE",strategyCode:"MOBILEVERIFYCODELOGIN",strategyCodeForDoubleAuth:"MOBILEVERIFYCODELOGIN_SECONDCHECK"},PC:{accessCode:"PCAUTEHNTICATE",strategyCode:"MOBILEVERIFYCODELOGIN",strategyCodeForDoubleAuth:"MOBILEVERIFYCODELOGIN_SECONDCHECK"},H5:{accessCode:"H5AUTEHNTICATE",strategyCode:"MOBILEVERIFYCODELOGIN",strategyCodeForDoubleAuth:"MOBILEVERIFYCODELOGIN_SECONDCHECK"}},p[d.Planet]={},p),E=((y={})[d.Ctrip]={miniapp:{messageCode:"S200006"},PC:{messageCode:"S200006"},H5:{messageCode:"S200006"}},y[d.Planet]={},y);!function(e){e.LOGIN="LOGIN",e.DOUBLE_AUTH="SECOND_CHECK",e.SEARCH_ORDER="SEARCH_ORDER"}(T||(T={}));var I,b=((_={})[T.LOGIN]="S200078",_),O=((m={})[T.LOGIN]="S200006",m[T.DOUBLE_AUTH]="S2019415",m[T.SEARCH_ORDER]="S200041",m),P=((I={})[d.Ctrip]={miniapp:{DYNAMIC_LOGIN:{MOBILE_QUICK_LOGIN:{accessCode:"MINI20210615LOGINV1",strategyCode:"VERIFYCODELOGIN2021"}},THIRD_LOGIN:{MOBILE_AUTHENTICATE:{thirdConfigCode:"XTHYY69RNSKLWEICHATMINI"},LOGIN_USE_THIRD_TOKEN:{thirdConfigCode:"XTHYY69RNSKLWEICHATMINI",strategyCode:"B73093C74E8F891B7"},USER_REGISTER_BY_TOKEN:{accessCode:"8885B588C0CC44DA",strategyCode:"963760474EA19816",thirdConfigCode:"XTHYY69RNSKLWEICHATMINI"},USER_LOGIN:{accessCode:"B6CE8D84FEBBFC0E",strategyCode:"85D4BB47E79522CA",thirdConfigCode:"XTHYY69RNSKLWEICHATMINI"},WECHAT_LOGIN:{thirdConfigCode:"XTHYY69RNSKLWEICHATMINI"},AUTHENTICATE:{thirdConfigCode:"XTHYY69RNSKLWEICHATMINI"},WECHAT_THIRD_PART_LOGIN:{accessCode:"WEIXINAUTEHNTICATE",strategyCode:"MINIAPPTHIRDLOGIN"}},ONE_TAP_LOGIN:{CHECK_IS_CTRIP_ACCOUNT_USE_THIRD_TOKEN:{strategyCode:"SBQN4B1XIR717BVB"},QUICKAPP_AUTHENTICATE_LOGIN:{vivo:{accessCode:"VIVOAUTHENTICATE",strategyCode:"VIVOMOBILELOGIN"},oppo:{accessCode:"OPPOAUTHENTICATE",strategyCode:"OPPOMOBILELOGIN"}},WECHAT_AUTHENTICATE_LOGIN:{accessCode:"WEIXINAUTEHNTICATE",strategyCode:"MINIAPPMOBILELOGIN"},WECHAT_AUTHENTICATE_LOGIN_WECHAT_MOBILE_BIND:{accessCode:"WEIXINAUTEHNTICATE",strategyCode:"MINIAPPTHIRDLOGIN_WECHAT_MOBILE_BIND"},WECHAT_AUTHENTICATE_LOGIN_WECHAT_MOBILE_BIND_NOREGISTRE:{accessCode:"WEIXINAUTEHNTICATE",strategyCode:"MINIAPPTHIRDLOGIN_WECHAT_MOBILE_BIND_NOREGISTRE"},WECHAT_AUTHENTICATE_LOGIN_MOBILE_VERIFYCODE_BIND_NOREGISTRE:{accessCode:"WEIXINAUTEHNTICATE",strategyCode:"MINIAPPTHIRDLOGIN_MOBILE_VERIFYCODE_BIND_NOREGISTRE"}}},PC:{DYNAMIC_LOGIN:{MOBILE_QUICK_LOGIN:{accessCode:"83I42FHEKE154UND",strategyCode:"VERIFYCODELOGIN2021"}},ACCOUNT_PASSWORD_LOGIN:{NEW_LOGIN:{accessCode:"",strategyCode:"",sceneCode:""}}},H5:{DYNAMIC_LOGIN:{MOBILE_QUICK_LOGIN:{accessCode:"H520210615LOGINSDK",strategyCode:"VERIFYCODELOGIN2021"}},ACCOUNT_PASSWORD_LOGIN:{NEW_LOGIN:{accessCode:"B6CE8D84FEBBFC0E",strategyCode:"7FA652_PASSWORD_TOKEN",sceneCode:"COMMONLOGIN_H5_MAIN"}},THIRD_LOGIN:{USER_REGISTER_BY_TOKEN:{accessCode:"GENERAL-REGISTER",strategyCode:"686873DD0BD6DE1D",thirdConfigCode:""}}},WEB:null,APP:null},I[d.Planet]={PC:{ACCOUNT_PASSWORD_LOGIN:{NEW_LOGIN:{accessCode:"XINGQIUHAO20210521",strategyCode:"LOGIN_PASSWORD_WITHOUT_SECONDVALIDATE",sceneCode:""}}},H5:{THIRD_LOGIN:{USER_REGISTER_BY_TOKEN:{accessCode:"GENERAL-REGISTER",strategyCode:"686873DD0BD6DE1D",thirdConfigCode:""}}},WEB:null,APP:null,miniapp:null},I),A="bbz_accounts_service_flow",S=function(){var e=[].slice.call(arguments),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),n=h().log.devTrace;return function(r){return void 0===r.options||r.options.sequenceId||(r.options.sequenceId=t),e.reduce((function(e,t){var r,o=t.fnName,i=e.then((function(e){return r=v(e),n(A,c({level:"logic",status:"call",stage:"before-"+o},r)),t(e)}));return i.then((function(e){var t,i;n(A,{level:"logic",status:"ok",stage:"after-"+o,sequenceId:null==(t=r)||null==(i=t.options)?void 0:i.sequenceId,response:v(e)})})).catch((function(e){var t,i;n(A,{level:"logic",status:"error",stage:"error-"+o,sequenceId:null==(t=r)||null==(i=t.options)?void 0:i.sequenceId,response:v(e)})})),i}),Promise.resolve(r))}};function R(e){var t={exports:{}};return e(t,t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof r||(void 0!==n.g?n.g:"undefined"!=typeof self&&self),R((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function a(t,n,a){if("undefined"!=typeof o){"number"==typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var s in a)a[s]&&(u+="; "+s,!0!==a[s]&&(u+="="+a[s].split(";")[0]));return o.cookie=t+"="+n+u}}function c(e,n){if("undefined"!=typeof o){for(var i={},a=o.cookie?o.cookie.split("; "):[],c=0;c<a.length;c++){var u=a[c].split("="),s=u.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var l=t(u[0]);if(s=(r.read||r)(s,l)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(i[l]=s,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return c(e,!1)},i.getJSON=function(e){return c(e,!0)},i.remove=function(t,n){a(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},e.exports=n()})),R((function(e,t){e.exports=function(){var e=function(){},t={},n={},r={};function i(e,t){if(e){var o=r[e];if(n[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function a(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function c(t,n,r,i){var a,u,s=o,l=r.async,d=(r.numRetries||0)+1,f=r.before||e,p=t.replace(/[\?|#].*$/,""),h=t.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(p)?((u=s.createElement("link")).rel="stylesheet",u.href=h,(a="hideFocus"in u)&&u.relList&&(a=0,u.rel="preload",u.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(p)?(u=s.createElement("img")).src=h:((u=s.createElement("script")).src=t,u.async=void 0===l||l),u.onload=u.onerror=u.onbeforeload=function(e){var o=e.type[0];if(a)try{u.sheet.cssText.length||(o="e")}catch(e){18!=e.code&&(o="e")}if("e"==o){if((i+=1)<d)return c(t,n,r,i)}else if("preload"==u.rel&&"style"==u.as)return u.rel="stylesheet";n(t,o,e.defaultPrevented)},!1!==f(t,u)&&s.head.appendChild(u)}function u(e,n,r){var o,u;if(n&&n.trim&&(o=n),u=(o?r:n)||{},o){if(o in t)throw"LoadJS";t[o]=!0}function s(t,n){!function(e,t,n){var r,o,i=(e=e.push?e:[e]).length,a=i,u=[];for(r=function(e,n,r){if("e"==n&&u.push(e),"b"==n){if(!r)return;u.push(e)}--i||t(u)},o=0;o<a;o++)c(e[o],r,n)}(e,(function(e){a(u,e),t&&a({success:t,error:n},e),i(o,e)}),u)}if(u.returnPromise)return new Promise(s);s()}return u.ready=function(e,t){return function(e,o){var i,c,u,s=[],l=(e=e.push?e:[e]).length,d=l;for(i=function(e,n){n.length&&s.push(e),--d||function(e){a(t,e)}(s)};l--;)(u=n[c=e[l]])?i(c,u):(r[c]=r[c]||[]).push(i)}(e),u},u.done=function(e){i(e,[])},u.reset=function(){t={},n={},r={}},u.isDefined=function(e){return e in t},u}()}));var L,N,k,w,D,M,x,G={local:"https://passport.fat466.qa.nt.ctripcorp.com/",fat:"https://passport.fat466.qa.nt.ctripcorp.com/","fat-out":"https://gateway-fat.ctripqa.com/",uat:"https://passport.ctrip.uat.qa.nt.ctripcorp.com/",uatqa:"https://gateway-uat.ctripqa.com/",prd:"https://passport.ctrip.com/"},Z={local:"https://gateway.m.fws.qa.nt.ctripcorp.com/",fat:"https://gateway.m.fws.qa.nt.ctripcorp.com/","fat-out":"https://m.fat.ctripqa.com/",uat:"https://gateway.m.uat.qa.nt.ctripcorp.com/",uatqa:"https://m.uat.ctripqa.com/",prd:"https://m.ctrip.com/"};(N=L||(L={}))[N.WEAK_PWD=1e3]="WEAK_PWD",N[N.STRONG_PWD=1001]="STRONG_PWD",N[N.MEDIUM_PWD=1002]="MEDIUM_PWD",N[N.SIMPLE_PWD=1003]="SIMPLE_PWD",new(function(){function e(e){this.rulePool=e,this.isInit=!1,this.init()}var t=e.prototype;return t.init=function(){this.isInit||(this.processRules(),this.isInit=!0)},t.processRules=function(){for(var e=0;e<this.rulePool.length;e+=1)"LIST"===this.rulePool[e].contentType&&"[object Array]"!==Object.prototype.toString.call(this.rulePool[e].content)&&(this.rulePool[e].content=this.rulePool[e].content.split("|"))},t.checkWithRule=function(e,t){for(var n={result:!1,nextRuleForNo:-1,nextRuleForYes:-1},r=0;r<this.rulePool.length;r+=1){var o=this.rulePool[r];if("REGEX"===o.contentType&&o.ruleId===e){n={nextRuleForNo:o.nextRuleForNo,nextRuleForYes:o.nextRuleForYes,result:new RegExp(o.content).test(t)};break}if("LIST"===o.contentType&&o.ruleId===e){n={result:!1,nextRuleForYes:o.nextRuleForYes,nextRuleForNo:o.nextRuleForNo};for(var i=0;i<o.content.length;i+=1)if(o.content[i]===t){n.result=!0;break}break}}return n},t.checkPwdLevel=function(e){for(var t=this.checkWithRule(0,e),n=t.nextRuleForYes,r=t.nextRuleForNo,o=1;o<this.rulePool.length;o+=1){if(t.result&&(n===L.WEAK_PWD||n===L.SIMPLE_PWD||n===L.STRONG_PWD||n===L.MEDIUM_PWD))return n;if(!t.result&&(r===L.WEAK_PWD||r===L.SIMPLE_PWD||r===L.STRONG_PWD||r===L.MEDIUM_PWD))return r;n=(t=this.checkWithRule(t.result?n:r,e)).nextRuleForYes,r=t.nextRuleForNo}return L.STRONG_PWD},e}())([{contentType:"REGEX",content:"^\\S{8,20}$",ruleId:0,nextRuleForYes:2,nextRuleForNo:1003},{contentType:"LIST",content:"qq123456|1234qwer|123admin|1234qwer|1234rewq|1qaz2wsx|1qazxsw2|12341234|1234!@#$|12345!@#$%|!@#$1234|password|password1!|password2@|1qaz2wsx!QAZ@WSX",ruleId:2,nextRuleForYes:1003,nextRuleForNo:3},{contentType:"REGEX",content:"^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[^\\da-zA-Z]).{8,20}$",ruleId:3,nextRuleForYes:1001,nextRuleForNo:4},{contentType:"REGEX",content:"^(?![\\d]+$)(?![a-zA-Z]+$)(?![^\\da-zA-Z]+$).{8,20}$",ruleId:4,nextRuleForYes:60,nextRuleForNo:50},{contentType:"REGEX",content:"^((012345)|(12345))([6]{0,1}$|6[7]{0,1}$|67[8]{0,1}$|6789{0,1}$)",ruleId:50,nextRuleForYes:1003,nextRuleForNo:51},{contentType:"REGEX",content:"^987654([3]{0,1}$|3[2]{0,1}$|32[1]{0,1}$|3210{0,1}$)",ruleId:51,nextRuleForYes:1003,nextRuleForNo:52},{contentType:"REGEX",content:"^(\\d)\\1{0,19}$",ruleId:52,nextRuleForYes:1003,nextRuleForNo:53},{contentType:"REGEX",content:"^(\\d)\\1{1,}(\\d)\\2{1,}([(\\d){1,}])\\3{0,}$",ruleId:53,nextRuleForYes:1003,nextRuleForNo:5},{contentType:"REGEX",content:"^a12345([6]{0,1}$|6[7]{0,1}$|67[8]{0,1}$|6789{0,1}$)",ruleId:60,nextRuleForYes:1003,nextRuleForNo:61},{contentType:"REGEX",content:"^((admin)|(abc)|(test)|(ctrip)|(abcd)|(ABCD))123([4]{0,1}$|4[5]{0,1}$|45[6]{0,1}$)",ruleId:61,nextRuleForYes:1003,nextRuleForNo:62},{contentType:"REGEX",content:"^((abc)|(admin)|(password)|(test)|(ctrip)|(aaa)|(aaaa))(\\d){0,1}\\9{0,15}$",ruleId:62,nextRuleForYes:1003,nextRuleForNo:6},{contentType:"REGEX",content:"^\\S{11,20}$",ruleId:5,nextRuleForYes:1002,nextRuleForNo:1e3},{contentType:"REGEX",content:"^\\S{11,20}$",ruleId:6,nextRuleForYes:1001,nextRuleForNo:1002}]),function(e){e.modifyPassword="T003"}(k||(k={})),function(e){e.madatory="ST001",e.optional="ST002"}(w||(w={})),function(e){e[e.mandatoryModifyPassword=80001]="mandatoryModifyPassword",e[e.unmandatoryModifyPassword=80002]="unmandatoryModifyPassword"}(D||(D={})),function(e){e.HTTP_ERROR="HTTP_ERROR",e.TIMEOUT="TIMEOUT",e.INVALID_URL="INVALID_URL"}(M||(M={}));var U=((x={})[M.HTTP_ERROR]=-3999,x[M.TIMEOUT]=-1102,x[M.INVALID_URL]=-1101,x),F=function(e){return"\u51fa\u9519\u4e86\uff0c\u8bf7\u518d\u8bd5\u4e00\u6b21("+e+")"},j={ok:!1,returnCode:-1e3,message:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"},H={ok:!1,returnCode:-1199,message:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"},B={ok:!0,returnCode:0,message:"success"},Y=function(e){var t,n=function(e){return s(e.ResponseStatus)?"Success"===e.ResponseStatus.Ack:!!s(e.responseStatus)&&"Success"===e.responseStatus.ack}(e);if(!n)return{ok:!1,returnCode:-1105,message:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",data:e};var r=e.returnCode,o=null==(t=e.resultStatus)?void 0:t.returnCode,i={ok:!1,message:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",returnCode:-1104,data:e};if(s(r))0===r?(i.ok=!0,i.returnCode=0,i.message="success"):(i.returnCode=r,i.message=e.message||F(r));else if(s(o)){var a,c;0===o?(i.ok=!0,i.returnCode=0,i.message="success"):(i.returnCode=e.resultStatus.returnCode,i.message=null!=(a=null==(c=e.resultStatus)?void 0:c.message)?a:F(e.resultStatus.returnCode))}return i};function W(e,t){var n;if(null==e||null==(n=e.data)||!n.ticket)throw c({},e,{message:t+" success, but ticket is empty."})}var q,V,K=["data"],$=function(e,t,n){try{return J(e,t,n,{getBaseUrl:function(){return Q()},processResp:function(e){return Y(e)},processError:function(e,t){var n=t.log.devTrace,r=(0,t.getPlatform)();return n(A,{level:"check-h5gateway-error",platform:r,error:e}),j}})}catch(e){return Promise.reject(e)}},z=function(e,t,n){try{return J(e,t,n,{getBaseUrl:function(e){return function(e){return G[e]}(e.getEnv())},processResp:function(e){return function(e){var t={ok:!1,returnCode:-1106,message:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",requestId:e.RequestId||"",rootMsgId:e.rootMsgId||""};if(!s(e.ReturnCode))return t;if(0===e.ReturnCode)try{var n=JSON.parse(e.Result||"");t=c({},t,Y(n))}catch(e){t.returnCode=-1107}else t.returnCode=e.ReturnCode,t.message=e.Message||"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5";return t}(e)},processError:function(e){return c({},j,{message:e.message,requestId:"",rootMsgId:""})}})}catch(e){return Promise.reject(e)}},X=function(e,t){var n=e.url,r=e.config,o=e.ext,i=e.response,a=e.requestAt,s=h().log.devTrace,l={level:"api",status:t,stage:n,sequenceId:null==o?void 0:o.sequenceId};if("request"===t){var d=r.data,f=u(r,K);s(A,c({},l,{config:c({},f,{data:v(d)}),requestAt:a}))}else{var p=Date.now();s(A,c({},l,{response:v(i),receiveResponseAt:p,timeConsuming:p-a}))}},Q=function(){var e=h(),t=e.getFetchBaseUrl,n=e.log.devTrace,r=function(e){return Z[e]}((0,e.getEnv)());if("function"==typeof t)try{var o=t();o&&(r=o)}catch(e){var i,a;n(A,{type:"adapter.getFetchBaseUrl",message:null!=(i=null==e?void 0:e.message)?i:"",stack:null!=(a=null==e?void 0:e.stack)?a:""})}return r},J=function(e,t,n,r){try{var o,i=function(){return o.stage=u,X({url:u,config:t,ext:n,response:o,requestAt:s},"response"),o},a=h(),u=r.getBaseUrl(a)+e,s=Date.now();X({url:u,config:t,ext:n,requestAt:s},"request");var l=function(e,i){try{var c=Promise.resolve(a.fetch.post(u,t,n)).then((function(e){o=r.processResp(e,a)}))}catch(e){return i(e)}return c&&c.then?c.then(void 0,i):c}(0,(function(e){o=function(e,t){var n={message:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",ok:!1};if(e&&e.respErrorType in M){var r=e.respErrorType;if(r===M.HTTP_ERROR){var o=parseInt(e.httpCode,10);return c({},n,o>=100&&o<=599?{returnCode:-o-3e3}:{returnCode:-3999})}return c({},n,{returnCode:U[r]})}return t()}(e,(function(){return r.processError(e,a)}))}));return Promise.resolve(l&&l.then?l.then(i):i())}catch(e){return Promise.reject(e)}},ee=function(e){return"restapi/soa2/22160/"+e},te=function(e){return"restapi/soa2/24863/"+e},ne=function(e){return"restapi/soa2/24861/"+e},re=function(e){return"gateway/api/soa2/"+e},oe={GDPR_CHECK:"restapi/soa2/14610/check",VALIDATE_EMAIL:"restapi/soa2/14739/validateEmail",GET_EMAIL_AUTO_LIST:"restapi/soa2/14739/getEmailAutoList",CHECK_HEALTH:ee("checkHealth")},ie=c({},{SEND_MESSAGE_BY_PHONE:re("11448/sendMessageByPhone"),MOBILE_QUICK_LOGIN:re("12559/mobileQuickLogin"),WECHAT_LOGIN:re("14553/wechatLogin"),THIRD_PART_LOGIN:re("12559/thirdPartyLogin"),GET_ACCOUNT_INFO_BY_TOKEN:re("13191/getAccountInfoByToken"),MOBILE_AUTHENTICATE:re("14553/mobileAuthenticate"),GET_UID_BY_MOBILE_TOKEN:re("13191/getUidByMobileToken"),USER_LOGIN:re("12559/userLogin"),USER_REGISTER_BY_TOKEN:re("12343/userRegisterByToken"),THIRD_BIND_BY_MOBILE_TOKEN:re("12715/thirdBindByMobileToken"),NEW_LOGIN:re("12559/newLogin"),GET_CONFIGS:re("12024/getConfigs"),AUTHENTICATE:re("14553/authenticate"),GET_ASSOCIATE_KEYS:re("13191/getassociatedKeys")},{GET_UID_BY_LOGIN_NAME:"restapi/passport/gateway/11871/xxxloginxxxnamexxx",GET_EMAIL_BY_TOKEN:"restapi/passport/gateway/13191/getEmailByToken"},{CROSS_SET_COOKIE:"ssoproxy/ssoCrossSetCookie",SSO_IS_LOGIN:"ssoproxy/ssoIsLogon",SSO_GET_ACCOUNT_INFO_BY_TICKET:"ssoproxy/ssoGetAccountInfoByTicket",GET_TRIP_PC_AD_CONFIG:"passport/loginmask/getadconfig"},oe,{MODIFY_PASSWORD:ne("modifyPassword"),BIND_THIRD_PART:ne("bindThirdPart")},{MERGE_ACCOUNTS_LOGIN:ee("mergeAccountsLogin"),WECHAT_AUTHENTICATE_LOGIN:ee("weChatAuthenticateLogin"),WECHAT_THIRD_PART_LOGIN:ee("weChatThirdPartLogin"),WECHAT_SILENT_LOGIN:ee("weChatSilentLogin"),SEND_VERIFY_CODE_BY_MOBILE_PHONE:te("sendVerifyCodeByMobilePhone"),GET_QR_CODE:te("getQrCode"),LOGOUT:"restapi/soa2/24862/logout",FACEBOOK_THIRD_PART_LOGIN:ee("facebookThirdPartLogin"),GOOGLE_THIRD_PART_LOGIN:ee("googleThirdPartLogin"),APPLE_THIRD_PART_LOGIN:ee("appleThirdPartLogin"),KAKAO_THIRD_PART_LOGIN:ee("kakaoThirdPartLogin"),LINE_THIRD_PART_LOGIN:ee("lineThirdPartLogin"),NAVER_THIRD_PART_LOGIN:ee("naverThirdPartLogin"),MOBILE_ONE_CLICK_LOGIN:ee("mobileOneClickLogin"),ASSOCIATE_LOGIN:ee("associateLogin"),VERIFY_CODE_LOGIN:ee("verifyCodeLogin"),QR_CODE_LOGIN:ee("qrCodeLogin"),PWD_LOGIN:ee("pwdLogin"),REGISTER_BY_EMAIL_AND_LOGIN:ee("registerByEmailAndLogin"),REGISTER_BY_EMAIL_VERIFY_CODE:ee("registerByEmailVerifyCode"),GET_LOGIN_TYPES_BY_LOGIN_NAME:ee("getLoginTypesByLoginName"),SEND_VERIFICATION_LINK_BY_EMAIL:te("sendVerifyLinkByEmail"),SEND_VERIFICATION_CODE_BY_EMAIL:te("sendVerifyCodeByEmail"),VERIFICATION_LINK_LOGIN:ee("verifyLinkLogin"),QUICK_APP_LOGIN:ee("quickAppLogin"),GUEST_LOGIN:ee("guestLogin"),QQ_THIRD_PART_LOGIN:ee("qqThirdPartLogin"),BAIDU_THIRD_PART_LOGIN:ee("baiduThirdPartLogin"),WEIBO_THIRD_PART_LOGIN:ee("weiboThirdPartLogin"),ALIPAY_THIRD_PART_LOGIN:ee("alipayThirdPartLogin")}),ae=function(e,t){try{var n,r=h(),o=l({locale:"zh_CN"},t),i=(null==(n=r.getGlobal())||null==n.getSystemInfoSync?void 0:n.getSystemInfoSync())||{},a=i.brand+" "+i.model,c=i.platform,u={data:{accessCode:o.accessCode,strategyCode:o.strategyCode,authenticateInfo:e,context:{sequenceId:t.sequenceId,quickLogin:t.quickLogin},clientInfo:r.getClientInfo()||{clientId:r.getClientId(),pageId:r.getPageId(),deviceName:a,osType:c}}};return Promise.resolve($(ie.WECHAT_THIRD_PART_LOGIN,u,o))}catch(e){return Promise.reject(e)}},ce=function(e){return function(t,n){return function(e,t,n){try{var r,o={data:c({},t,{context:{sequenceId:null!=(r=null==n?void 0:n.sequenceId)?r:""},clientInfo:h().getClientInfo()}),extension:null==n?void 0:n.extension};return Promise.resolve($(e,o,n))}catch(e){return Promise.reject(e)}}(e,t,n)}},ue=ce(ie.SEND_VERIFY_CODE_BY_MOBILE_PHONE),se=ce(ie.MERGE_ACCOUNTS_LOGIN),le=ce(ie.BIND_THIRD_PART);!function(e){e.wechat="wechat",e.qq="qq",e.weibo="weibo",e.alipay="alipay",e.baidu="baidu"}(V||(V={})),(q={})[V.wechat]=ie.WECHAT_THIRD_PART_LOGIN,q[V.qq]=ie.QQ_THIRD_PART_LOGIN,q[V.weibo]=ie.WEIBO_THIRD_PART_LOGIN,q[V.alipay]=ie.ALIPAY_THIRD_PART_LOGIN,q[V.baidu]=ie.BAIDU_THIRD_PART_LOGIN;var de=function(e){var t=e.appId,n=e.keyName,r=e.options;try{return Promise.resolve(function(e,t,n){try{var r=l({},n);return Promise.resolve(z(ie.GET_CONFIGS,{data:{AccountHead:{},Data:{appId:e,keyName:t}}},{sequenceId:r.sequenceId}))}catch(e){return Promise.reject(e)}}(t,n,c({},r))).then((function(e){var t,o,i;if(!e.ok)throw e;if((null==(t=e.data)||null==(o=t.item)?void 0:o.keyName)!==n)throw c({},e,{message:"getConfigs success, but "+n+" is empty."});var a=null==(i=e.data)?void 0:i.item;return{keyName:n,value:a.value,options:r}}))}catch(e){return Promise.reject(e)}},fe=function(e){var t=e.mobilePhone,n=e.options;try{var r,o=h(),i=d.Ctrip,a=o.getPlatform(),u=null==(r=E[i])?void 0:r[a];return Promise.resolve(function(e,t){try{var n=h(),r=l({countryCode:"86"},t),o={data:{AccountHead:{Extension:{rmsToken:n.getRmsToken()},Platform:n.getPlatform(),SliderVersion:r.sliderVersion,Token:r.sliderToken,BusinessSite:r.sliderBusinessSite},Data:{mobilePhone:e,countryCode:r.countryCode,messageCode:r.messageCode,extension:[{key:"Platform",value:n.getPlatform()},{key:"page_id",value:n.getPageId()},{key:"rmsToken",value:n.getRmsToken()},{key:"SceneType",value:"SMS-LOGIN-SITE"}]}}};return Promise.resolve(z(ie.SEND_MESSAGE_BY_PHONE,o,r))}catch(e){return Promise.reject(e)}}(t,c({},n,{messageCode:null==u?void 0:u.messageCode}))).then((function(e){if(e.ok)return e;throw e}))}catch(e){return Promise.reject(e)}};fe.fnName="sendPhoneMessage";var pe=function(e){var t=e.token,n=e.options;try{var r,o,i=h(),a=null==(r=P[d.Ctrip])||null==(o=r[i.getPlatform()])?void 0:o.THIRD_LOGIN.LOGIN_USE_THIRD_TOKEN;return Promise.resolve(function(e,t){try{var n=h(),r=l({autoRegister:!1},t),o={data:{AccountHead:{},Data:{accountHead:{locale:"zh_CN",platform:n.getPlatform()},token:e,autoRegister:r.autoRegister,extendedProperties:{clientID:n.getClientId(),page_id:n.getPageId(),thirdConfigCode:r.thirdConfigCode,encryptOpenid:n.getOpenId()},strategyCode:r.strategyCode}}};return Promise.resolve(z(ie.THIRD_PART_LOGIN,o,r))}catch(e){return Promise.reject(e)}}(t,{thirdConfigCode:null==a?void 0:a.thirdConfigCode,strategyCode:null==a?void 0:a.strategyCode,autoRegister:n.autoRegister,sequenceId:n.sequenceId})).then((function(e){var t,r;if(e.ok)return W(e,"thirdPartyLogin"),{ticket:null==(t=e.data)?void 0:t.ticket,duid:null==(r=e.data)?void 0:r.duid,options:n};throw e}))}catch(e){return Promise.reject(e)}};pe.fnName="loginUseThirdToken";var he,ge=function(e){var t=e.token,n=e.options;try{var r,o,i=h(),a=null==(r=P[d.Ctrip])||null==(o=r[i.getPlatform()])?void 0:o.THIRD_LOGIN.USER_LOGIN;return Promise.resolve(function(e,t){try{var n=h(),r=l({mobileToken:"wechatPhone"},t),o={data:{AccountHead:{},Data:{accessCode:r.accessCode,strategyCode:r.strategyCode,loginName:"",certificateCode:e,extendedProperties:[{key:"clientID",value:n.getClientId()},{key:"Version",value:"1.0"},{key:"Platform",value:n.getPlatform()},{key:"locale",value:"zh_CN"},{key:"page_id",value:n.getPageId()},{key:"thirdConfigCode",value:r.strategyCode},{key:"mobileLoginType",value:r.mobileLoginType},{key:"encryptOpenid",value:n.getOpenId()}]}}};return Promise.resolve(z(ie.USER_LOGIN,o,r))}catch(e){return Promise.reject(e)}}(t,{accessCode:null==a?void 0:a.accessCode,thirdConfigCode:null==a?void 0:a.thirdConfigCode,strategyCode:null==a?void 0:a.strategyCode,sequenceId:n.sequenceId})).then((function(e){var t,r;if(e.ok)return W(e,"userLogin"),{ticket:null==(t=e.data)?void 0:t.ticket,duid:null==(r=e.data)?void 0:r.duid,options:n};throw e}))}catch(e){return Promise.reject(e)}};ge.fnName="loginUseMobileToken";var ve=((he={})[k.modifyPassword]=[D.mandatoryModifyPassword,D.unmandatoryModifyPassword],he),ye=[D.mandatoryModifyPassword],_e=function(e){var t=e.mobilePhone,n=e.certificateCode,r=e.options;try{var o,i=h().getPlatform(),a=null==(o=C[d.Ctrip])?void 0:o[i],u=l({countryCode:"86",scene:T.LOGIN},r),s=O[u.scene];return s||(s=O[T.LOGIN]),Promise.resolve(function(e,t){try{var n=h(),r=l({locale:"zh_CN"},t),o={data:{accessCode:r.accessCode,authenticateInfo:e,context:{sequenceId:t.sequenceId},clientInfo:n.getClientInfo()||{clientId:n.getClientId(),pageId:n.getPageId(),locale:r.locale,rmsToken:n.getRmsToken()}}};return Promise.resolve($(ie.VERIFY_CODE_LOGIN,o,r))}catch(e){return Promise.reject(e)}}({data:u.countryCode+"-"+t,code:n,verifyCodeConfigId:s,thirdToken:r.thirdToken,scene:u.scene},{accessCode:u.accessCode||(null==a?void 0:a.accessCode),sequenceId:r.sequenceId})).then((function(e){var t,n;if(e.taskInfo=function(e){var t,n,r,o=null!=(t=null==e||null==(n=e.data)?void 0:n.memberTaskInfo)?t:{},i=o.taskDesc,a=o.token,c=null==e||null==(r=e.data)?void 0:r.returnCode,u=function(e){for(var t=Object.keys(ve),n=0;n<t.length;n+=1){var r=t[n];if(ve[r].indexOf(e)>-1)return r}}(c);if(c&&u){var s=function(e){return ye.indexOf(e)>-1}(c);return{type:u,desc:i||"",token:a||"",isMandatory:s}}}(e),e.ok)return W(e,"verifyCodeLogin"),c({},e,{ticket:null==(t=e.data)?void 0:t.ticket,duid:null==(n=e.data)?void 0:n.duid});throw e}))}catch(e){return Promise.reject(e)}};_e.fnName="loginUseMobileCode";var me=function(e){var t=e.email,n=e.verifyCode,r=e.options,o=e.mobilePhone,i=e.countryCode;try{return Promise.resolve(function(e,t){try{var n,r,o,i=h(),a=l({locale:"zh_CN"},t),c={data:{accessCode:a.accessCode,email:null!=(n=e.email)?n:"",mobilePhone:null!=(r=e.mobilePhone)?r:"",countryCode:null!=(o=e.countryCode)?o:"",verifyCode:e.verifyCode,clientInfo:i.getClientInfo()||{clientId:i.getClientId(),pageId:i.getPageId(),locale:a.locale,rmsToken:i.getRmsToken()},context:{sequenceId:t.sequenceId}}};return Promise.resolve($(ie.ASSOCIATE_LOGIN,c,a))}catch(e){return Promise.reject(e)}}({email:t,mobilePhone:o,countryCode:i,verifyCode:n},{accessCode:r.accessCode,sequenceId:r.sequenceId,locale:r.locale})).then((function(e){if(e.ok)return W(e,"orderAssociateLogin"),e;throw e}))}catch(e){return Promise.reject(e)}};me.fnName="orderAssociateLogin";var Te=["options"],Ce=function(e){try{var t=e.options,n=u(e,Te);return Promise.resolve(se(n,{sequenceId:(null==t?void 0:t.sequenceId)||""})).then((function(e){var n,r;if(e.ok)return W(e,"mergeAccountsLogin"),c({},B,{ticket:null==(n=e.data)?void 0:n.ticket,duid:null==(r=e.data)?void 0:r.duid,options:t});throw e}))}catch(e){return Promise.reject(e)}};Ce.fnName="mergeAccountsLogin";var Ee=function(e){var t=e.ticket,n=e.duid,r=e.options,o=e.responseData;try{var i=c({},B,{data:o}),a=h();try{var u=a.getGlobal();u.user.auth=t,u.user.duid=n}catch(e){throw i=c({},i,H,{message:e.message})}return Promise.resolve(c({},i,{options:r}))}catch(e){return Promise.reject(e)}};Ee.fnName="setAuth2Cwx";var Ie=function(e){var t=e.options,n=h();return new Promise((function(e,r){var o=n.getGlobal();if("function"!=typeof(null==o?void 0:o.login)){var i=c({},H,{message:"cwx.login is not a function(check `adapter.getGlobal()` method)."});return r(i)}try{o.login({success:function(n){if(n.code)e({code:n.code,options:t});else{var o=c({},H,{message:"cwx.login() success, code do not exists. "+n.errMsg});r(o)}},fail:function(e){var t=c({},j,{message:"call cwx.login() fail. errMsg: "+e.message});r(t)}})}catch(i){var a=c({},H,{message:"call cwx.login() error. errMsg: "+i.message});r(a)}}))};Ie.fnName="getWechatCode";var be=function(e){var t=e.code,n=e.options;try{var r,o,i=h(),a=null==(r=P[d.Ctrip])||null==(o=r[i.getPlatform()])?void 0:o.THIRD_LOGIN.WECHAT_LOGIN;return Promise.resolve(function(e,t){try{var n=l({needThirdToken:"F"},t);return Promise.resolve(z(ie.WECHAT_LOGIN,{data:{AccountHead:{},Data:{authCode:e,thirdConfigCode:n.thirdConfigCode,context:{needthirdtoken:n.needThirdToken}}}},n))}catch(e){return Promise.reject(e)}}(t,{thirdConfigCode:null==a?void 0:a.thirdConfigCode,needThirdToken:"T",sequenceId:n.sequenceId})).then((function(e){if(e.ok){var t;if(null==(t=e.data)||!t.thirdToken)throw c({},e,{message:"wechatLogin success, but thirdToken is empty."});return{token:e.data.thirdToken,options:n}}throw e}))}catch(e){return Promise.reject(e)}};be.fnName="getThirdTokenUseWechatCode";var Oe=function(e){var t=e.authenticateInfo,n=e.options;try{var r,o,i,a,c,u,s=h(),f=null==(r=P[d.Ctrip])||null==(o=r[s.getPlatform()])?void 0:o.ONE_TAP_LOGIN;return u=null==(i=n.autoRegister)||i?t.thirdToken?null==f?void 0:f.WECHAT_AUTHENTICATE_LOGIN_WECHAT_MOBILE_BIND:null==f?void 0:f.WECHAT_AUTHENTICATE_LOGIN:t.verifyCodeConfigId?null==f?void 0:f.WECHAT_AUTHENTICATE_LOGIN_MOBILE_VERIFYCODE_BIND_NOREGISTRE:null==f?void 0:f.WECHAT_AUTHENTICATE_LOGIN_WECHAT_MOBILE_BIND_NOREGISTRE,Promise.resolve(function(e,t){try{var n,r=h(),o=l({locale:"zh_CN"},t),i=(null==(n=r.getGlobal())||null==n.getSystemInfoSync?void 0:n.getSystemInfoSync())||{},a=i.brand+" "+i.model,c=i.platform,u={data:{accessCode:o.accessCode,strategyCode:o.strategyCode,authenticateInfo:e,context:{sequenceId:t.sequenceId},clientInfo:r.getClientInfo()||{clientId:r.getClientId(),pageId:r.getPageId(),locale:o.locale,deviceName:a,osType:c}}};return Promise.resolve($(t.isNewLoginUrl?ie.MOBILE_ONE_CLICK_LOGIN:ie.WECHAT_AUTHENTICATE_LOGIN,u,o))}catch(e){return Promise.reject(e)}}(t,{accessCode:n.accessCode||(null==(a=u)?void 0:a.accessCode),strategyCode:null==(c=u)?void 0:c.strategyCode,sequenceId:n.sequenceId,isNewLoginUrl:n.isNewLoginUrl})).then((function(e){var t,r;if(e.ok)return W(e,"weChatAuthenticateLogin"),{ticket:null==(t=e.data)?void 0:t.ticket,duid:null==(r=e.data)?void 0:r.duid,options:n,responseData:e.data};throw e}))}catch(e){return Promise.reject(e)}};Oe.fnName="wechatLoginUseAuthInfo";var Pe=function(e){var t=e.authenticateInfo,n=e.options;try{var r,o,i,a,u=h(),s=null==(r=P[d.Ctrip])||null==(o=r[u.getPlatform()])||null==(i=o.ONE_TAP_LOGIN)||null==(a=i.QUICKAPP_AUTHENTICATE_LOGIN)?void 0:a[t.provider];return Promise.resolve(function(e,t){try{var n,r=h(),o=l({locale:"zh_CN"},t),i=(null==(n=r.getGlobal())||null==n.getSystemInfoSync?void 0:n.getSystemInfoSync())||{},a=i.brand+" "+i.model,c=i.platform,u={data:{accessCode:o.accessCode,strategyCode:o.strategyCode,authenticateInfo:e,context:{sequenceId:t.sequenceId,Platform:r.getPlatform(),ClientID:r.getClientId(),page_id:r.getPageId(),locale:o.locale,deviceName:a,osType:c}}};return Promise.resolve($(ie.QUICK_APP_LOGIN,u,o))}catch(e){return Promise.reject(e)}}({data:t.data},c({accessCode:null==s?void 0:s.accessCode,strategyCode:null==s?void 0:s.strategyCode},n))).then((function(e){var t,r;if(e.ok)return W(e,"quickAppLogin"),{ticket:null==(t=e.data)?void 0:t.ticket,duid:null==(r=e.data)?void 0:r.duid,options:n};throw e}))}catch(e){return Promise.reject(e)}};Pe.fnName="quickAppLoginUseAuthInfo";var Ae=function(e){var t=e.code,n=e.options;try{var r,o,i=h(),a=null==(r=P[d.Ctrip])||null==(o=r[i.getPlatform()])?void 0:o.THIRD_LOGIN.WECHAT_THIRD_PART_LOGIN;return Promise.resolve(ae({code:t},{accessCode:null==a?void 0:a.accessCode,strategyCode:null==a?void 0:a.strategyCode,sequenceId:n.sequenceId,quickLogin:n.quickLogin})).then((function(e){var t,r;if(e.ok)return W(e,"wechatThirdLogin"),c({},B,{ticket:null==(t=e.data)?void 0:t.ticket,duid:null==(r=e.data)?void 0:r.duid,options:n});throw e}))}catch(e){return Promise.reject(e)}};Ae.fnName="wechatThirdLogin";var Se=function(e){var t=e.code,n=e.options,r=void 0===n?{}:n;try{return Promise.resolve(function(e,t,n){try{var r,o={data:{accessCode:"WEIXINAUTEHNTICATE",authenticateInfo:t,context:{sequenceId:null!=(r=null==n?void 0:n.sequenceId)?r:""},clientInfo:h().getClientInfo()}};return Promise.resolve($(ie.WECHAT_SILENT_LOGIN,o,n))}catch(e){return Promise.reject(e)}}(0,{code:t},r)).then((function(e){var t,n;if(e.ok)return W(e,"weChatSilentLogin"),c({},B,{ticket:null==(t=e.data)?void 0:t.ticket,duid:null==(n=e.data)?void 0:n.duid,options:r});throw e}))}catch(e){return Promise.reject(e)}};Se.fnName="weChatSilentLogin";var Re=function(e){var t=e.mobile,n=e.riskInfo,r=e.options,o=e.accessCode,i=void 0===o?"WEIXINAUTEHNTICATE":o,a=e.countryCode,c=void 0===a?"86":a,u=e.scene,s=void 0===u?T.LOGIN:u;try{return Promise.resolve(ue({accessCode:i,countryCode:c,scene:s,mobilePhone:t,frontRiskInfo:{sliderVersion:n.sliderVersion,businessSite:n.sliderBusinessSite,rid:n.sliderRid||"",token:n.sliderToken}},r)).then((function(e){if(e.ok)return e;throw e}))}catch(e){return Promise.reject(e)}};Re.fnName="sendWeChatThirdLoginMessage";var Le=function(e){var t=e.accessCode,n=void 0===t?"WEIXINAUTEHNTICATE":t,r=e.thirdToken,o=e.info,i=e.options;try{var a={thirdToken:r};if(o)if(void 0!==o.countryCode){var u=o.verifyCode;a.data=o.countryCode+"-"+o.mobile,a.code=u,a.verifyCodeConfigId=b[T.LOGIN]}else{var s=o.iv,l=o.code,d=o.phoneAuthCode;a.data=o.data,a.iv=s,a.code=l,"string"==typeof d&&d&&(a.phoneAuthCode=d)}return Promise.resolve(ae(a,{accessCode:n,strategyCode:"",sequenceId:i.sequenceId})).then((function(e){var t,n;if(e.ok)return W(e,"weChatThirdBindAndLogin"),c({},B,{ticket:null==(t=e.data)?void 0:t.ticket,duid:null==(n=e.data)?void 0:n.duid,options:i});throw e}))}catch(e){return Promise.reject(e)}};Le.fnName="weChatThirdBindAndLogin";var Ne=function(e){var t=e.mobilePhone,n=e.verifyCode,r=e.options,o=e.countryCode,i=void 0===o?"86":o,a=e.email,u=void 0===a?"":a;try{return Promise.resolve(me({mobilePhone:t,verifyCode:n,options:r,countryCode:i,email:u})).then((function(e){if(e.ok){var t,n,o,i,a=!(null==(t=e.data)||null==(n=t.context)||!n.alreadyLogin);return{ticket:null==(o=e.data)?void 0:o.ticket,duid:null==(i=e.data)?void 0:i.duid,options:c({},r,{hasLogin:a})}}throw e}))}catch(e){return Promise.reject(e)}};Ne.fnName="weChatOrderAssociateLogin";var ke=function(e,t){try{return Promise.resolve(le(e,t||{})).then((function(e){if(e.ok)return e;throw e}))}catch(e){return Promise.reject(e)}};ke.fnName="bindThirdParty";var we,De,Me,xe,Ge=function(e,t){if(function(e){if(!e||"function"!=(n=(0,a.Z)(t=e))&&"object"!==n||!t)throw new Error("adapter should be an adapter(object)");var t,n}(t),e){var n=t.getPlatform();t.getPlatform=function(){return n||e}}i=t}.bind(null,"miniapp"),Ze=(De=(we={setAuth:Ee,useSetAuthForModernService:!0}).setAuth,xe=void 0!==(Me=we.useSetAuthForModernService)&&Me,{login:function(e,t,n){var r=[_e];return xe&&r.push(De),S.apply(void 0,r)({mobilePhone:e,certificateCode:t,options:c({},n,{scene:T.LOGIN})})},doubleAuthLogin:function(e,t,n){var r=[_e];return xe&&r.push(De),S.apply(void 0,r)({mobilePhone:e,certificateCode:t,options:c({},n,{scene:T.DOUBLE_AUTH})})},loginUseMobileToken:function(e,t){return S(ge,De)({token:e,options:t})},sendMessage:function(e,t){return S(fe)({mobilePhone:e,options:t})}}),Ue=function(e,t,n){void 0===n&&(n={});try{return Promise.resolve(S(de)({appId:e,keyName:t,options:n}))}catch(e){return Promise.reject(e)}},Fe={loginUseThirdToken:function(e,t){return S(pe,Ee)({token:e,options:t})},silentLogin:function(e){return void 0===e&&(e={}),S(Ie,be,pe,Ee)({options:e})},silentLoginV2:function(){return S(Ie,Se,Ee)({options:{}})},login:function(e,t){return S(Ae,Ee)({code:e,options:t})},bindAndLogin:function(e,t){return S(Le,Ee)({thirdToken:e,info:t,options:{}})},mergeAccountsLogin:function(e){return S(Ce,Ee)(c({},e,{options:{}}))},sendMessage:function(e,t,n){return S(Re)({mobile:e,riskInfo:t,options:{},scene:n})}},je={login:Fe.silentLogin},He={login:function(e,t){var n=l({options:{}},{authenticateInfo:e,options:t});return S(Oe,Ee)(n)},quickAppLogin:function(e,t){return void 0===t&&(t={}),S(Pe,Ee)({authenticateInfo:e,options:t})}},Be={login:function(e,t,n,r){return S(Ne,Ee)({mobilePhone:e,verifyCode:t,options:n,countryCode:r})}}},942:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageDomain=void 0,t.StorageDomain="bbz_accounts"},969:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(942),o=function(){function e(){this.domain=r.StorageDomain}return e.prototype.getCacheKey=function(e){return this.domain+"_"+(e||"")},e}();t.default=o},202:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(675),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.save=function(e,t){a.cwx.setStorageSync(this.getCacheKey(e),t)},t.prototype.load=function(e,t){a.cwx.getStorage({key:this.getCacheKey(e),success:function(e){t(e.data)}})},t.prototype.remove=function(e){a.cwx.removeStorageSync(e)},t}(i(n(969)).default);t.default=new c},108:function(e,t,n){var o,i,a,c,u=n(125).default;c=function(e,t){function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var i,a="\u51fa\u9519\u4e86\uff0c\u8bf7\u518d\u8bd5\u4e00\u6b21",c="\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",u="\u52a8\u6001\u7801\u5df2\u53d1\u9001\u81f3\u60a8\u7684\u624b\u673a\uff0c\u8bf7\u6ce8\u610f\u67e5\u6536!",s={accountNameEmpty:"-1120",passwordEmpty:"-1121",captchaVerifyFailed:"-1122",mobilePhoneEmpty:"-1123",mobilePhoneError:"-1124",verifyCodeEmpty:"-1125",agreementNotChecked:"-1126",doubleAuthNotCompleted:"-1127",validateFailed:"-1128",FATAL:"-1199"},l=((i={})[s.accountNameEmpty]="\u8bf7\u8f93\u5165\u7528\u6237\u540d",i[s.passwordEmpty]="\u8bf7\u8f93\u5165\u767b\u5f55\u5bc6\u7801",i[s.captchaVerifyFailed]="\u5b89\u5168\u6ed1\u5757\u6821\u9a8c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u9a8c\u8bc1",i[s.mobilePhoneEmpty]="\u8bf7\u8f93\u5165\u6ce8\u518c\u6216\u7ed1\u5b9a\u624b\u673a\u53f7",i[s.mobilePhoneError]="\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",i[s.verifyCodeEmpty]="\u8bf7\u8f93\u5165\u52a8\u6001\u5bc6\u7801",i[s.agreementNotChecked]="\u8bf7\u52fe\u9009\u7528\u6237\u534f\u8bae",i[s.doubleAuthNotCompleted]="\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u5b8c\u6210\u9a8c\u8bc1",i),d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof r?r:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function f(e){var t={exports:{}};return e(t,t.exports),t.exports}var p,h,g=f((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.isValidChinaMobile=t.MobileErrorType=void 0,function(e){e[e.NULL=0]="NULL",e[e.NONE_INPUT=1]="NONE_INPUT",e[e.FORMAT_INVALID=2]="FORMAT_INVALID"}(n||(n={})),t.MobileErrorType=n;var r=/^1([3456789]\d{9})$/;t.isValidChinaMobile=function(e){return"string"==typeof e&&e?r.test(e)?[!0,n.NULL]:[!1,n.FORMAT_INVALID]:[!1,n.NONE_INPUT]}})),v="86",y={sendVerifyCodeInfo:{mobilePhone:"",countryCode:v},loading:{showLoading:function(){},hideLoading:function(){}},toast:{showToast:function(){},hideToast:function(){}},captcha:{verifyAsync:function(){return Promise.resolve(null)},refresh:function(){}}},_={dynamicInfo:{mobilePhone:"",verifyCode:"",isAgreement:!1,countryCode:v,thirdToken:""},loading:{showLoading:function(){},hideLoading:function(){}},toast:{showToast:function(){},hideToast:function(){}}};e.LOGIN_TYPE=void 0,(p=e.LOGIN_TYPE||(e.LOGIN_TYPE={})).ACCOUNT="account",p.DYNAMIC="mobilephone",p.OVERSEA="overseasmobilephone",p.QR_CODE="scancode",p.SERARCH_ORDER="searchorder",e.QR_CODE_STATUS=void 0,(h=e.QR_CODE_STATUS||(e.QR_CODE_STATUS={})).UN_SCAN="UN_SCAN",h.SCANNING="SCANNING",h.EXPIRED="EXPIRED",h.SUCCESS="SUCCESS",h.ERROR="ERROR";var m,T,C,E,I,b={0:e.QR_CODE_STATUS.SUCCESS,30009:e.QR_CODE_STATUS.UN_SCAN,30010:e.QR_CODE_STATUS.SCANNING,30011:e.QR_CODE_STATUS.EXPIRED,30012:e.QR_CODE_STATUS.EXPIRED},O={traceKey:{cLoginButtonClick:"",cLoginSuccess:"",cLoginFail:"",cSendVerifyCodeClick:""},loginType:"unknown",logDevTrace:function(){},logTrace:function(){},monitor:{start:function(){},resetStartTime:function(){},success:function(){},fail:function(){}}};e.CAPTCHA_ORIGIN_CHECK_STATE=void 0,(m=e.CAPTCHA_ORIGIN_CHECK_STATE||(e.CAPTCHA_ORIGIN_CHECK_STATE={})).ERROR="error",m.FALSE="false",m.SUCCESS="success",m.HIDDEN="hidden",e.CAPTCHA_CUSTOM_CHECK_STATE=void 0,(T=e.CAPTCHA_CUSTOM_CHECK_STATE||(e.CAPTCHA_CUSTOM_CHECK_STATE={})).CLOSE="close",T.UNINITIALIZED="uninitialized",e.VALIDATOR_OPTIONS=void 0,(C=e.VALIDATOR_OPTIONS||(e.VALIDATOR_OPTIONS={})).ACCOUNTNAME="ACCOUNTNAME",C.MOBILEPHONE="MOBILEPHONE",C.PASSWORD="PASSWORD",C.AGREEMENT="AGREEMENT",e.MOBILEPHONE_TYPE=void 0,(E=e.MOBILEPHONE_TYPE||(e.MOBILEPHONE_TYPE={})).NORMAL="NORMAL",E.ENCRYPT="ENCRYPT",e.TRACE_SUBTYPE=void 0,(I=e.TRACE_SUBTYPE||(e.TRACE_SUBTYPE={})).DOUBLEAUTHENTICATION="doubleAuthentication",I.MODIFYPASSWORD="modifyPassword";var P,A,S=function(t,n){void 0===n&&(n=e.MOBILEPHONE_TYPE.NORMAL);var r=t||{},o=r.mobilePhone,i=r.countryCode;if(!o)return{isSuccess:!1,errorCode:s.mobilePhoneEmpty,errorMessage:l[s.mobilePhoneEmpty]};if(n===e.MOBILEPHONE_TYPE.NORMAL&&(!i||i===v)){var a=g.isValidChinaMobile(o);if(!a[0]&&a[1]===g.MobileErrorType.FORMAT_INVALID)return{isSuccess:!1,errorCode:s.mobilePhoneError,errorMessage:l[s.mobilePhoneError]}}return{isSuccess:!0,errorCode:"",errorMessage:""}},R=((P={})[e.VALIDATOR_OPTIONS.ACCOUNTNAME]=function(e){return(e||{}).accountName?{isSuccess:!0,errorCode:"",errorMessage:""}:{isSuccess:!1,errorCode:s.accountNameEmpty,errorMessage:l[s.accountNameEmpty]}},P[e.VALIDATOR_OPTIONS.MOBILEPHONE]=function(e){var t=(e||{}).accountName,n=t&&t.split("-");return S({mobilePhone:n[1],countryCode:n[0]})},P[e.VALIDATOR_OPTIONS.PASSWORD]=function(e){return(e||{}).password?{isSuccess:!0,errorCode:"",errorMessage:""}:{isSuccess:!1,errorCode:s.passwordEmpty,errorMessage:l[s.passwordEmpty]}},P[e.VALIDATOR_OPTIONS.AGREEMENT]=function(e){return(e||{}).isAgreement?{isSuccess:!0,errorCode:"",errorMessage:""}:{isSuccess:!1,errorCode:s.agreementNotChecked,errorMessage:l[s.agreementNotChecked]}},P),L=function(e,t){if(null!=t&&t.length)for(var n=0;n<t.length;n+=1){var r=R[t[n]](e);if(!1===r.isSuccess)return r}return{isSuccess:!0,errorCode:"",errorMessage:""}},N={accountInfo:{accountName:"",password:"",isAgreement:!1},loading:{showLoading:function(){},hideLoading:function(){}},toast:{showToast:function(){},hideToast:function(){}},captcha:{verifyAsync:function(){return Promise.resolve(null)},refresh:function(){}},doubleAuthenticationAction:function(){},handleTask:void 0},k=function(e,t){void 0===t&&(t=a);var n=e||{},r=n.returnCode,o=n.message;return r?o?r<0?o+"("+r+")":o:t+"("+r+")":c+"("+s.FATAL+")"},w=function(e){return l[e]+"("+e+")"},D=function(e){var t=(e||{}).data||{},n=(t.context||{}).maskedPhone,r=t.userInfo||{},o=r.bindedCountryCodePart,i=void 0===o?"":o,a=r.bindedMobilePart;return{countryCode:i,maskedMobilePhone:i&&n?i+"-"+n:"",mobilePhone:void 0===a?"":a}};function M(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var x,G=((A={})[e.LOGIN_TYPE.ACCOUNT]=[e.VALIDATOR_OPTIONS.ACCOUNTNAME,e.VALIDATOR_OPTIONS.PASSWORD,e.VALIDATOR_OPTIONS.AGREEMENT],A[e.LOGIN_TYPE.OVERSEA]=[e.VALIDATOR_OPTIONS.MOBILEPHONE,e.VALIDATOR_OPTIONS.PASSWORD,e.VALIDATOR_OPTIONS.AGREEMENT],A);function Z(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}!function(e){e.PWD="password",e.TEXT="text"}(x||(x={}));var U,F=function(){var e=t.useState(""),n=e[0],r=e[1],o=t.useState(x.PWD),i=o[0],a=o[1],c=t.useCallback((function(){a(i===x.PWD?x.TEXT:x.PWD)}),[i]);return{value:n,onChange:t.useCallback((function(e){r(function(e){return"string"==typeof e?e.trim():""}(e))}),[]),pwdType:i,onTogglePwdType:c}};e.PasswordErrorType=void 0,(U=e.PasswordErrorType||(e.PasswordErrorType={}))[U.SUCCESS=0]="SUCCESS",U[U.PWD_EMPTY=1]="PWD_EMPTY",U[U.PWD_INVALID=2]="PWD_INVALID",U[U.TWO_PWD_NOT_MATCH=3]="TWO_PWD_NOT_MATCH",U[U.CONFIRM_PWD_EMPTY=4]="CONFIRM_PWD_EMPTY";var j=function(t){return t?/^[^\s\u4e00-\u9fa5]{8,20}$/.test(t)?e.PasswordErrorType.SUCCESS:e.PasswordErrorType.PWD_INVALID:e.PasswordErrorType.PWD_EMPTY},H=function(e,t){var n=e||{},r=n.verifyCode,o=n.isAgreement,i=S({mobilePhone:n.mobilePhone,countryCode:n.countryCode},t);return!1===i.isSuccess?i:r?o?{isSuccess:!0,errorCode:"",errorMessage:""}:{isSuccess:!1,errorCode:s.agreementNotChecked,errorMessage:l[s.agreementNotChecked]}:{isSuccess:!1,errorCode:s.verifyCodeEmpty,errorMessage:l[s.verifyCodeEmpty]}};function B(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var Y=function(n){var r=n.sendVerifyCode,o=n.captchaConfig,i=n.log,a=(n.options||{}).mobilePhoneType;return{clickSendVerifyCode:t.useCallback((function(t){try{var n,c=function(e){return n?e:(i.monitor.resetStartTime(),p.hideToast(),f.showLoading(),B((function(){var e=_||{};return Promise.resolve(r(g,v,{sliderBusinessSite:o.businessSite,sliderVersion:e.version,sliderToken:e.token,sliderRid:e.rid})).then((function(){return f.hideLoading(),p.showToast("0",u,{type:"success"}),i.monitor.success(),{ok:!0}}))}),(function(e){f.hideLoading();var t=(e||{}).returnCode,n=k(e);return p.showToast(t,n),i.monitor.fail(t),{ok:!1}})))},l=t||y,d=l.sendVerifyCodeInfo,f=l.loading,p=l.toast,h=l.captcha,g=d.mobilePhone,v=d.countryCode;i.monitor.start(),f.showLoading();var _,m=S(d,a),T=m.errorCode,C=m.errorMessage;if(!m.isSuccess)return f.hideLoading(),p.showToast(T,C),i.logDevTrace({type:"sendVerifyCode",mobilePhoneType:a,stage:"checkInputFailed",errorCode:T}),i.monitor.fail(Number(T)),Promise.resolve({ok:!1});var E=B((function(){return Promise.resolve(h.verifyAsync(o)).then((function(e){_=e}))}),(function(t){f.hideLoading();var r=(t||{}).checkState;return r!==e.CAPTCHA_CUSTOM_CHECK_STATE.CLOSE&&p.showToast(s.captchaVerifyFailed,w(s.captchaVerifyFailed)),i.logDevTrace({type:"sendVerifyCode",mobilePhoneType:a,stage:"captchaFailed",errorCode:T,checkState:r}),i.monitor.fail(Number(s.captchaVerifyFailed)),n=1,{ok:!1}}));return Promise.resolve(E&&E.then?E.then(c):c(E))}catch(e){return Promise.reject(e)}}),[r,o,i,a])}};Object.defineProperty(e,"__esModule",{value:!0});var W={__proto__:null},q=f((function(e,t){var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCode=t.SubTaskType=t.TaskType=void 0,function(e){e.modifyPassword="T003"}(n||(n={})),t.TaskType=n,function(e){e.madatory="ST001",e.optional="ST002"}(r||(r={})),t.SubTaskType=r,function(e){e[e.mandatoryModifyPassword=80001]="mandatoryModifyPassword",e[e.unmandatoryModifyPassword=80002]="unmandatoryModifyPassword"}(o||(o={})),t.TaskCode=o}));Object.defineProperty(e,"__esModule",{value:!0});var V={__proto__:null},K=f((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceResponseErrorType=void 0,function(e){e.HTTP_ERROR="HTTP_ERROR",e.TIMEOUT="TIMEOUT",e.INVALID_URL="INVALID_URL"}(n||(n={})),t.ServiceResponseErrorType=n})),$=q,z=K,X=f((function(e,t){var n,r=d&&d.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=d&&d.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=d&&d.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebAccountsServiceAdapter=t.MiniAppAccountsServiceAdapter=t.AccountsServiceAdapter=t.ServiceResponseErrorType=void 0,i(W,t),i($,t),i(V,t),Object.defineProperty(t,"ServiceResponseErrorType",{enumerable:!0,get:function(){return z.ServiceResponseErrorType}});var a=function(){function e(){}return e.prototype.getClientInfo=function(){return null},e.prototype.getOpenId=function(){return""},e.prototype.getGlobal=function(){return null},e.prototype.getRmsToken=function(){return""},e.prototype.getSecretKey=function(){return""},e.prototype.getFetchBaseUrl=function(){return""},e}();t.AccountsServiceAdapter=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);t.MiniAppAccountsServiceAdapter=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);t.WebAccountsServiceAdapter=u}));e.DEFAULT_ACCOUNT_PARAMS=N,e.DEFAULT_COUNTRY_CODE=v,e.DEFAULT_DYNAMIC_PARAMS=_,e.DEFAULT_ERROR_MESSAGE=a,e.DEFAULT_LOG=O,e.DEFAULT_SEND_VERIFY_CODE_PARAMS=y,e.DOUBLE_AUTHENTICATION_CODE=50006,e.ERROR_CODE=s,e.ERROR_MESSAGE=l,e.LOGIN_ERROR_MESSAGE="\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01",e.NETWORK_ERROR_MESSAGE=c,e.QR_CODE_STATUS_MAP=b,e.SEND_MESSAGE_SUCCESS=u,e.TaskType=X.TaskType,e.checkDynamicInput=H,e.checkInput=L,e.checkMobilePhoneInput=S,e.processMobilePhone=D,e.useAccountPasswordLogin=function(n){var r=n.accountPasswordLogin,i=n.captchaConfig,a=n.log,c=void 0===a?O:a,u=c.traceKey,l=c.loginType,d={logintype:l};return{clickAccountPasswordLogin:t.useCallback((function(t){try{var n,a=function(e){return n?e:(c.monitor.resetStartTime(),g.hideToast(),h.showLoading(),M((function(){var e=E||{};return Promise.resolve(r.login(T,C,{sliderBusinessSite:i.businessSite,sliderVersion:e.version,sliderToken:e.token})).then((function(){return h.hideLoading(),c.monitor.success(),c.logTrace(u.cLoginSuccess,d),{ok:!0}}))}),(function(e){var t;function n(n){if(t)return n;if(50006===i){var r=D(e);y(r)}else{var o=k(e);g.showToast(i,o)}return{ok:!1}}h.hideLoading();var r=e||{},i=r.returnCode,a=r.taskInfo;c.monitor.fail(i),c.logTrace(u.cLoginFail,o({},d,{errorCode:i}));var s=function(){if(a&&"function"==typeof _)return Promise.resolve(_(a)).then((function(e){return t=1,e}))}();return s&&s.then?s.then(n):n(s)})))},f=t||N,p=f.accountInfo,h=f.loading,g=f.toast,v=f.captcha,y=f.doubleAuthenticationAction,_=f.handleTask,m=p||{},T=m.accountName,C=m.password;c.monitor.start(),h.showLoading();var E,I=L(p,G[l]),b=I.errorCode,O=I.errorMessage;if(!I.isSuccess)return h.hideLoading(),g.showToast(b,O),c.logDevTrace({type:l,stage:"checkInputFailed",errorCode:b}),Promise.resolve({ok:!1});g.hideToast();var P=M((function(){return Promise.resolve(v.verifyAsync(i)).then((function(e){E=e}))}),(function(t){return h.hideLoading(),(t||{}).checkState!==e.CAPTCHA_CUSTOM_CHECK_STATE.CLOSE&&g.showToast(s.captchaVerifyFailed,w(s.captchaVerifyFailed)),c.monitor.fail(Number(s.captchaVerifyFailed)),n=1,{ok:!1}}));return Promise.resolve(P&&P.then?P.then(a):a(P))}catch(e){return Promise.reject(e)}}),[r,i,c])}},e.useCountDown=function(e){var n,r=t.useState(e.timerCount),o=r[0],i=r[1],a=t.useState(e.timerTitle),c=a[0],u=a[1],s=t.useState(!1),l=s[0],d=s[1],f=t.useCallback((function(){var t=e.timerActiveTitle,r=e.timerEnd,a=Date.now()+1e3*o+100;n=setInterval((function(){var e=Date.now();if(e>=a)n&&clearInterval(n),i(o),u("\u91cd\u53d1\u9a8c\u8bc1\u7801"),d(!1),r&&r();else{var c=parseInt(String((a-e)/1e3),10),s="\u91cd\u65b0\u83b7\u53d6("+c+"s)";t&&(s=function(e,t,n){if(!t||0===t.length)return e;var r=t.length>1?1:0,o=t[r],i="{interval}";return o.indexOf(i)>-1?o.replace(i,String(n)):n+t[r]}(s,t,c)),i(c),u(s)}}),1e3)}),[]),p=t.useCallback((function(e){l||e&&(f(),d(!0))}),[]),h=t.useMemo((function(){return!l&&e.enable}),[l]),g=t.useCallback((function(){h&&(0,e.onClick)(p)}),[h,e.onClick,p]);return t.useEffect((function(){return clearInterval(n)})),{isEnabled:h,timerTitle:c,handleClick:g}},e.useDynamicLogin=function(e){var n=e.dynamicLogin,r=e.log,i=e.options,a=r.sendVerifyCodeLog,c=r.dynamicLoginLog,u=void 0===c?O:c,s=(i||{}).mobilePhoneType;return{clickSendVerifyCode:Y({sendVerifyCode:n.sendVerifyCode,captchaConfig:e.captchaConfig,log:void 0===a?O:a,options:i}).clickSendVerifyCode,clickDynamicLogin:t.useCallback((function(e){try{var t=u.traceKey,r=u.loginType,i={logintype:r},a=e||_,c=a.dynamicInfo,l=a.loading,d=a.toast,f=a.handleTask,p=c.mobilePhone,h=c.verifyCode,g=c.countryCode,v=c.thirdToken;u.monitor.start(),l.showLoading();var y=H(c,s),m=y.errorCode,T=y.errorMessage;return y.isSuccess?(d.hideToast(),Promise.resolve(function(e,r){try{var o=Promise.resolve(n.login(p,h,{countryCode:g,thirdToken:v})).then((function(){return l.hideLoading(),u.monitor.success(),u.logTrace(t.cLoginSuccess,i),{ok:!0}}))}catch(e){return r(e)}return o&&o.then?o.then(void 0,r):o}(0,(function(e){var n;function r(t){if(n)return t;var r=k(e);return d.showToast(c,r),{ok:!1}}l.hideLoading();var a=e||{},c=a.returnCode,s=a.taskInfo;u.monitor.fail(c),u.logTrace(t.cLoginFail,o({},i,{errorCode:c}));var p=function(){if(s&&"function"==typeof f)return Promise.resolve(f(s)).then((function(e){return n=1,e}))}();return p&&p.then?p.then(r):r(p)})))):(l.hideLoading(),d.showToast(m,T),u.logDevTrace({type:r,stage:"checkInputFailed",errorCode:m}),u.monitor.fail(Number(m)),Promise.resolve({ok:!1}))}catch(e){return Promise.reject(e)}}),[u,n,s])}},e.useModifyPassword=function(n){var r=n.runtime,i=r.log,a=r.loading,c=r.toast,u=r.modifyPassword,l=i.traceKey,d={logintype:i.loginType,subtype:e.TRACE_SUBTYPE.MODIFYPASSWORD},f=F(),p=f.value,h=f.onChange,g=F(),v=g.value,y=g.onChange,_=t.useState(e.PasswordErrorType.SUCCESS),m=_[0],T=_[1],C=t.useState(e.PasswordErrorType.SUCCESS),E=C[0],I=C[1],b=t.useCallback((function(t){try{i.monitor.start(),a.showLoading();var n=function(t,n){var r,o=j(t);return r=n?t&&t!==n?e.PasswordErrorType.TWO_PWD_NOT_MATCH:j(n):e.PasswordErrorType.CONFIRM_PWD_EMPTY,{ok:o===e.PasswordErrorType.SUCCESS&&r===e.PasswordErrorType.SUCCESS,pwdErrType:o,confirmPwdErrType:r}}(p,v);return T(n.pwdErrType),I(n.confirmPwdErrType),n.ok?Promise.resolve(function(e,n){try{var r=Promise.resolve(u(t,p)).then((function(){return i.monitor.success(),i.logTrace(l.cLoginSuccess,d),a.hideLoading(),{ok:!0}}))}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}(0,(function(e){var t=e.returnCode,n=e.message;return i.monitor.fail(t),i.logTrace(l.cLoginFail,o({},d,{errorCode:t})),a.hideLoading(),c.showToast(t,k(e,n)),{ok:!1}}))):(a.hideLoading(),i.monitor.fail(Number(s.validateFailed)),Promise.resolve({ok:!1,pwdErrType:n.pwdErrType,confirmPwdErrType:n.confirmPwdErrType}))}catch(e){return Promise.reject(e)}}),[p,v,m,E,i,a,c,u]),O=t.useCallback((function(){T(e.PasswordErrorType.SUCCESS)}),[]),P=t.useCallback((function(){I(e.PasswordErrorType.SUCCESS)}),[]);return{pwd:{value:p,onChange:h,errType:m,onClearErr:O},confirmPwd:{value:v,onChange:y,errType:E,onClearErr:P},onClickModifyPassword:b}},e.usePasswordInput=F,e.useQRCodeLoginEffect=function(n){var r=n.getQrCode,i=n.qrCodeLogin,a=n.pollingInterval,c=void 0===a?200:a,u=n.loginSuccessAction,s=n.log,l=void 0===s?O:s,d=l.traceKey,f=l.loginType,p={logintype:f},h=t.useState(e.QR_CODE_STATUS.UN_SCAN),g=h[0],v=h[1],y=t.useState(""),_=y[0],m=y[1],T=t.useState(!1),C=T[0],E=T[1],I=0,P=t.useCallback((function(){try{var t="",n=Z((function(){return Promise.resolve(r()).then((function(e){var n;t=null==e||null==(n=e.data)?void 0:n.data}))}),(function(t){v(e.QR_CODE_STATUS.ERROR),l.logDevTrace({type:f,stage:"getQRCodeHandler",error:t})}));return Promise.resolve(n&&n.then?n.then((function(){return t})):t)}catch(e){return Promise.reject(e)}}),[r]),A=t.useCallback((function(t){try{l.monitor.resetStartTime();var n=Z((function(){return Promise.resolve(i()).then((function(){t(),I=0,u({ok:!0}),l.monitor.success(),l.logTrace(d.cLoginSuccess,p)}))}),(function(n){var r=(n||{}).returnCode,i=b[r]||e.QR_CODE_STATUS.ERROR,a=i===e.QR_CODE_STATUS.ERROR&&I>=3,c=i===e.QR_CODE_STATUS.ERROR&&I<3;(i===e.QR_CODE_STATUS.EXPIRED||a)&&(t(),I=0,l.monitor.fail(r||-1410),l.logTrace(d.cLoginFail,o({},p,{errorCode:r}))),c&&(I+=1),(i!==e.QR_CODE_STATUS.ERROR||a)&&(I=0,v(i))}));return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}),[l,i,u]);return t.useEffect((function(){var t,n=function(){clearInterval(t)};return function(){try{return Promise.resolve(P()).then((function(r){r?(m(r),l.monitor.start(),t=setInterval((function(){try{return A(n),Promise.resolve()}catch(e){return Promise.reject(e)}}),c)):(v(e.QR_CODE_STATUS.ERROR),l.monitor.fail(-1410),l.logDevTrace({type:f,stage:"qrCodeHandler",error:"getQRCodeHandler return empty data"}))}))}catch(e){return Promise.reject(e)}}(),function(){n(),l.monitor.fail(-1411)}}),[C]),{qrCodeUrl:_,qrCodeStatus:g,isRefresh:C,setIsRefresh:E}},e.useSearchOrder=function(e){var n=e.orderSearch,r=e.log;return{clickSearchOrder:t.useCallback((function(e){try{var t=e.searchOrderInfo,o=e.loading,i=e.toast,a=t.mobilePhone,c=t.verifyCode,u=t.countryCode;r.monitor.start();var s=H(t);return s.isSuccess?(i.hideToast(),o.showLoading(),Promise.resolve(function(e,t){try{var i=Promise.resolve(n(a,c,u)).then((function(e){return o.hideLoading(),r.monitor.success(),{ok:!0,hasLogin:(null==e?void 0:e.options).hasLogin}}))}catch(e){return t(e)}return i&&i.then?i.then(void 0,t):i}(0,(function(e){o.hideLoading();var t=(e||{}).returnCode,n=k(e);return i.showToast(t,n),r.monitor.fail(t),{ok:!1}})))):(i.showToast(s.errorCode,s.errorMessage),Promise.resolve({ok:!1}))}catch(e){return Promise.reject(e)}}),[])}},e.useVerifyCode=Y},"object"==u(t)?c(t,n(193)):(i=[t,n(193)],void 0===(a="function"==typeof(o=c)?o.apply(t,i):o)||(e.exports=a))},273:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(150)),i=r(n(11)),a=function(){function e(e){this.validateMetricName(e),this.metricName=e}return e.prototype.validateMetricName=function(e){o.default.validateStatisticsName(e)},e.prototype.sendMetric=function(e,t){i.default.getLogInstance().logMetric(this.metricName,e,t,{isForceGet:!0})},e}();t.default=a},820:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.send=function(e,t){var n=t.group,r=t.platform,o=t.latency,c=a(t,["group","platform","latency"]),u=i(i({result:e},c),{groupPlatform:n+"_"+r});this.sendMetric(o,u)},t}(c(n(273)).default);t.default=u},538:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Monitor=void 0;var o=n(820);Object.defineProperty(t,"Monitor",{enumerable:!0,get:function(){return r(o).default}})},301:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(566),t),o(n(538),t),o(n(755),t)},219:function(e,t){"use strict";var n,r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticsLogType=t.NormalTextLogType=t.LogType=t.BusinessScenarioScene=t.Platform=t.Group=t.BuName=t.Organization=void 0,t.Organization="bbz",t.BuName="accounts",(i=t.Group||(t.Group={})).trip="trip",i.ctrip="ctrip",i.planet="planet",(o=t.Platform||(t.Platform={})).h5="h5",o.online="online",o.rn="rn",o.wechat="wechat",o.baidu="baidu",o.toutiao="toutiao",o.alipay="alipay",o.quickApp="quickApp",(r=t.BusinessScenarioScene||(t.BusinessScenarioScene={})).mobileOneTapLogin="mobileOneTapLogin",r.thirdLogin="thirdLogin",r.thirdWechatThirdLogin="thirdLogin_wechatThirdLogin",r.thirdWechatMobileLogin="thirdLogin_wechatMobileLogin",r.thirdWechatOnTapMobileLogin="thirdLogin_wechatOneTapMobileLogin",r.doubleValid="doubleValid",r.mobileDynamicLogin="mobileDynamicLogin",r.accountPasswordLogin="accountPasswordLogin",r.overseaLogin="overseaLogin",r.mobileDynamicFirstLogin="mobileDynamicLogin_firstLogin",r.accountPasswordFirstLogin="accountPasswordLogin_firstLogin",r.overseaFirstLogin="overseaLogin_firstLogin",r.planetAccountPasswordLogin="planetAccountPasswordLogin",r.planetAccountPasswordFirstLogin="planetAccountPasswordLogin_firstLogin",r.accountFirstActive="accountActive_firstActive",r.accountActive="accountActive",function(e){e.flow="flow",e.devTrace="devTrace",e.metric="metric",e.statistics="statistics"}(n=t.LogType||(t.LogType={})),t.NormalTextLogType=[n.devTrace,n.flow],t.StatisticsLogType=[n.metric,n.statistics]},755:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogType=t.BusinessScenarioScene=t.Platform=t.Group=void 0;var r=n(219);Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return r.Group}}),Object.defineProperty(t,"Platform",{enumerable:!0,get:function(){return r.Platform}}),Object.defineProperty(t,"BusinessScenarioScene",{enumerable:!0,get:function(){return r.BusinessScenarioScene}}),Object.defineProperty(t,"LogType",{enumerable:!0,get:function(){return r.LogType}})},663:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0;var a=i(n(168));t.Log=a.default,i(n(11)).default.configure(a.default),o(n(301),t)},11:function(e,t,n){"use strict";var r=n(125).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.validateLogMethod=function(e){for(var t=[e.logDevTrace,e.logError,e.logMetric,e.logTrace],n=0;n<t.length;n+=1)if("function"!=typeof t[n])return!1;return!0},e.validateLogInstance=function(e){if(!e||"object"!==r(e))throw new Error("Adapter validateLogInstance failed, logInstance is null or undefined or not a object");if(!this.validateLogMethod(e))throw new Error("Adapter validateLogInstance failed, logInstance is not implements from ILog")},e.configure=function(e){this.validateLogInstance(e),this.logInstance=e},e.getLogInstance=function(){return this.validateLogInstance(this.logInstance),this.logInstance},e.logInstance=void 0,e}();t.default=o},135:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.autoLogTrace=void 0;var o=r(n(11));t.autoLogTrace=function(e){return function(t,n,r){var i=r.value;r.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return o.default.getLogInstance().logTrace(e,{}),i.apply(this,t)}}}},150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(219),o=function(){function e(){}return e.validateBaseRuler=function(e,t,n){if("string"!=typeof e)throw new Error("Invalid name type");if(0===e.length||e.length>=this.logNameMaxLength)throw new Error("Invalid name length, should in 0 ~ "+this.logNameMaxLength);var o=new Error("Invalid name, example: "+n);if(4!==e.split("_").length||0!==e.indexOf(r.Organization+"_"+r.BuName+"_"))throw o;var i=e.split("_")[3];if(-1===t.indexOf(i))throw o},e.validateNormalTextName=function(e){this.validateBaseRuler(e,r.NormalTextLogType,"bbz_accounts_[Project]_[NormalTextLogType]")},e.validateStatisticsName=function(e){this.validateBaseRuler(e,r.StatisticsLogType,"bbz_accounts_[Scene]_[StatisticsLogType]")},e.logNameMaxLength=50,e}();t.default=o},566:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogValidator=void 0,o(n(135),t);var a=n(150);Object.defineProperty(t,"LogValidator",{enumerable:!0,get:function(){return i(a).default}})},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(675),o=new(function(){function e(){}return e.prototype.logDevTrace=function(e,t){r.cwx.sendUbtByPage.ubtDevTrace(e,t||{})},e.prototype.logTrace=function(e,t){r.cwx.sendUbtByPage.ubtTrace(e,t||{})},e.prototype.logMetric=function(e,t,n){r.cwx.sendUbtByPage.ubtMetric({name:e,value:t,tag:n})},e.prototype.logError=function(e,t){console.warn("not implements yet",e,t)},e}());t.default=o},889:function(e,t,n){e.exports=n(663)},883:function(e,t,n){"use strict";var r;n.d(t,{n:function(){return r}}),function(e){e.Planet="90018",e.Ctrip="90001",e.Trip="90021"}(r||(r={}))},77:function(e,t,n){"use strict";var r,o,i,a;n.d(t,{uX:function(){return c}}),n(816),n(897),(o=r||(r={})).Planet="90018",o.Ctrip="90001",o.Trip="90021",(a=i||(i={}))[a.WEAK_PWD=1e3]="WEAK_PWD",a[a.STRONG_PWD=1001]="STRONG_PWD",a[a.MEDIUM_PWD=1002]="MEDIUM_PWD",a[a.SIMPLE_PWD=1003]="SIMPLE_PWD",new(function(){function e(e){this.rulePool=e,this.isInit=!1,this.init()}var t=e.prototype;return t.init=function(){this.isInit||(this.processRules(),this.isInit=!0)},t.processRules=function(){for(var e=0;e<this.rulePool.length;e+=1)"LIST"===this.rulePool[e].contentType&&"[object Array]"!==Object.prototype.toString.call(this.rulePool[e].content)&&(this.rulePool[e].content=this.rulePool[e].content.split("|"))},t.checkWithRule=function(e,t){for(var n={result:!1,nextRuleForNo:-1,nextRuleForYes:-1},r=0;r<this.rulePool.length;r+=1){var o=this.rulePool[r];if("REGEX"===o.contentType&&o.ruleId===e){n={nextRuleForNo:o.nextRuleForNo,nextRuleForYes:o.nextRuleForYes,result:new RegExp(o.content).test(t)};break}if("LIST"===o.contentType&&o.ruleId===e){n={result:!1,nextRuleForYes:o.nextRuleForYes,nextRuleForNo:o.nextRuleForNo};for(var i=0;i<o.content.length;i+=1)if(o.content[i]===t){n.result=!0;break}break}}return n},t.checkPwdLevel=function(e){for(var t=this.checkWithRule(0,e),n=t.nextRuleForYes,r=t.nextRuleForNo,o=1;o<this.rulePool.length;o+=1){if(t.result&&(n===i.WEAK_PWD||n===i.SIMPLE_PWD||n===i.STRONG_PWD||n===i.MEDIUM_PWD))return n;if(!t.result&&(r===i.WEAK_PWD||r===i.SIMPLE_PWD||r===i.STRONG_PWD||r===i.MEDIUM_PWD))return r;n=(t=this.checkWithRule(t.result?n:r,e)).nextRuleForYes,r=t.nextRuleForNo}return i.STRONG_PWD},e}())([{contentType:"REGEX",content:"^\\S{8,20}$",ruleId:0,nextRuleForYes:2,nextRuleForNo:1003},{contentType:"LIST",content:"qq123456|1234qwer|123admin|1234qwer|1234rewq|1qaz2wsx|1qazxsw2|12341234|1234!@#$|12345!@#$%|!@#$1234|password|password1!|password2@|1qaz2wsx!QAZ@WSX",ruleId:2,nextRuleForYes:1003,nextRuleForNo:3},{contentType:"REGEX",content:"^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[^\\da-zA-Z]).{8,20}$",ruleId:3,nextRuleForYes:1001,nextRuleForNo:4},{contentType:"REGEX",content:"^(?![\\d]+$)(?![a-zA-Z]+$)(?![^\\da-zA-Z]+$).{8,20}$",ruleId:4,nextRuleForYes:60,nextRuleForNo:50},{contentType:"REGEX",content:"^((012345)|(12345))([6]{0,1}$|6[7]{0,1}$|67[8]{0,1}$|6789{0,1}$)",ruleId:50,nextRuleForYes:1003,nextRuleForNo:51},{contentType:"REGEX",content:"^987654([3]{0,1}$|3[2]{0,1}$|32[1]{0,1}$|3210{0,1}$)",ruleId:51,nextRuleForYes:1003,nextRuleForNo:52},{contentType:"REGEX",content:"^(\\d)\\1{0,19}$",ruleId:52,nextRuleForYes:1003,nextRuleForNo:53},{contentType:"REGEX",content:"^(\\d)\\1{1,}(\\d)\\2{1,}([(\\d){1,}])\\3{0,}$",ruleId:53,nextRuleForYes:1003,nextRuleForNo:5},{contentType:"REGEX",content:"^a12345([6]{0,1}$|6[7]{0,1}$|67[8]{0,1}$|6789{0,1}$)",ruleId:60,nextRuleForYes:1003,nextRuleForNo:61},{contentType:"REGEX",content:"^((admin)|(abc)|(test)|(ctrip)|(abcd)|(ABCD))123([4]{0,1}$|4[5]{0,1}$|45[6]{0,1}$)",ruleId:61,nextRuleForYes:1003,nextRuleForNo:62},{contentType:"REGEX",content:"^((abc)|(admin)|(password)|(test)|(ctrip)|(aaa)|(aaaa))(\\d){0,1}\\9{0,15}$",ruleId:62,nextRuleForYes:1003,nextRuleForNo:6},{contentType:"REGEX",content:"^\\S{11,20}$",ruleId:5,nextRuleForYes:1002,nextRuleForNo:1e3},{contentType:"REGEX",content:"^\\S{11,20}$",ruleId:6,nextRuleForYes:1001,nextRuleForNo:1002}]);var c=function(){function e(){return this.isRunning=!1,this.startTime=null,this.endTime=null,this.init(),this}var t,n,r=e.prototype;return r.init=function(){this.startTime=null,this.endTime=null,this.isRunning=!1},r.getTime=function(){return Date.now()},r.start=function(){return this.isRunning||(this.startTime=this.getTime(),this.endTime=null,this.isRunning=!0),this},r.stop=function(){return this.isRunning&&(this.endTime=this.getTime(),this.isRunning=!1),this},r.reset=function(){return this.init(),this},t=e,(n=[{key:"elapsed",get:function(){return this.isRunning||null==this.startTime||null==this.endTime?NaN:this.endTime-this.startTime}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},437:function(e,t,n){"use strict";n.d(t,{eG:function(){return $e},Nj:function(){return ce},GW:function(){return Ie},Rn:function(){return W},x9:function(){return W},Mj:function(){return de},kv:function(){return je},cs:function(){return a},HP:function(){return J},jB:function(){return Re},tA:function(){return Re},Y:function(){return ge},hH:function(){return pe},KG:function(){return F},N5:function(){return qe},OT:function(){return se},U4:function(){return z},P2:function(){return Te},XV:function(){return xe}});var r=n(385),o=Object.defineProperty;function i(e,t,n){var r=n.configurable,i=n.enumerable,a=n.initializer,c=n.value;return{configurable:r,enumerable:i,get:function(){if(this!==e){var n=a?a.call(this):c;return o(this,t,{configurable:r,enumerable:i,writable:!0,value:n}),n}},set:A(t)}}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(i,t)}var c,u,s,l,d,f,p="function"==typeof Symbol&&"symbol"===(0,r.Z)(Symbol.iterator)?function(e){return(0,r.Z)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":(0,r.Z)(e)};function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function g(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=Object.defineProperty,_=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,T=Object.getOwnPropertySymbols;function C(e,t){return function(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}(t[t.length-1])?e.apply(void 0,v(t).concat([[]])):function(){return e.apply(void 0,v(Array.prototype.slice.call(arguments)).concat([t]))}}var E=(c=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"debounceTimeoutIds",u,this),h(this,"throttleTimeoutIds",s,this),h(this,"throttlePreviousTimestamps",l,this),h(this,"throttleTrailingArgs",d,this),h(this,"profileLastRan",f,this)},u=g(c.prototype,"debounceTimeoutIds",[a],{enumerable:!0,initializer:function(){return{}}}),s=g(c.prototype,"throttleTimeoutIds",[a],{enumerable:!0,initializer:function(){return{}}}),l=g(c.prototype,"throttlePreviousTimestamps",[a],{enumerable:!0,initializer:function(){return{}}}),d=g(c.prototype,"throttleTrailingArgs",[a],{enumerable:!0,initializer:function(){return null}}),f=g(c.prototype,"profileLastRan",[a],{enumerable:!0,initializer:function(){return null}}),c),I="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";function b(e){return!1===e.hasOwnProperty(I)&&y(e,I,{value:new E}),e[I]}var O=T?function(e){return m(e).concat(T(e))}:m;function P(e){var t={};return O(e).forEach((function(n){return t[n]=_(e,n)})),t}function A(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}}function S(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}var R="object"===("undefined"==typeof console?"undefined":p(console))&&console&&"function"==typeof console.warn?S(console.warn,console):function(){},L={};function N(e){!0!==L[e]&&(L[e]=!0,R("DEPRECATION: "+e))}var k="function"==typeof Symbol&&"symbol"===(0,r.Z)(Symbol.iterator)?function(e){return(0,r.Z)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":(0,r.Z)(e)},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/,M=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentKlass=t,this.childKlass=n,this.parentDescriptor=r,this.childDescriptor=o}return w(e,[{key:"_getTopic",value:function(e){return void 0===e?null:"value"in e?e.value:"get"in e?e.get:"set"in e?e.set:void 0}},{key:"_extractTopicSignature",value:function(e){return"function"===(void 0===e?"undefined":k(e))?this._extractFunctionSignature(e):this.key}},{key:"_extractFunctionSignature",value:function(e){var t=this;return e.toString().replace(D,(function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key)+arguments[2]}))}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),w(e,[{key:"assert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!0!==e&&this.error("{child} does not properly override {parent}"+t)}},{key:"error",value:function(e){var t=this;throw e=e.replace("{parent}",(function(e){return t.parentNotation})).replace("{child}",(function(e){return t.childNotation})),new SyntaxError(e)}}]),e}();function x(e){return e.hasOwnProperty("value")?"data":e.hasOwnProperty("get")||e.hasOwnProperty("set")?"accessor":"data"}function G(e,t,n){n.assert(e.length===t.length)}var Z=[function(e){return e.toLowerCase()},function(e){return e.toUpperCase()},function(e){return e+"s"},function(e){return e.slice(0,-1)},function(e){return e.slice(1,e.length)}];function U(e,t,n){n.key=t;var r=Object.getPrototypeOf(e),o=Object.getOwnPropertyDescriptor(r,t),i=new M(r,e,o,n);if(void 0===o){var a=function(e,t){for(var n=0,r=Z.length;n<r;n++){var o=(0,Z[n])(t);if(o in e)return o}return null}(r,t),c=a?'\n\n  Did you mean "'+a+'"?':"";i.error("No descriptor matching {child} was found on the prototype chain."+c)}return function(e,t,n){var r=x(e),o=x(t);switch(r!==o&&n.error('descriptor types do not match. {parent} is "'+r+'", {child} is "'+o+'"'),o){case"data":!function(e,t,n){var r=k(e.value),o=k(t.value);"undefined"===r&&"undefined"===o&&n.error("descriptor values are both undefined. (class properties are are not currently supported)'"),r!==o&&("function"===o&&void 0===r||void 0!==r)&&n.error('value types do not match. {parent} is "'+r+'", {child} is "'+o+'"'),"function"===o?G(e.value,t.value,n):n.error('Unexpected error. Please file a bug with: {parent} is "'+r+'", {child} is "'+o+'"')}(e,t,n);break;case"accessor":!function(e,t,n){var r="function"==typeof e.get,o="function"==typeof t.get,i="function"==typeof e.set,a="function"==typeof t.set;(r||o)&&(!r&&i&&n.error("{parent} is setter but {child} is getter"),!o&&a&&n.error("{parent} is getter but {child} is setter"),G(e.get,t.get,n)),(i||a)&&(!i&&r&&n.error("{parent} is getter but {child} is setter"),!a&&o&&n.error("{parent} is setter but {child} is getter"),G(e.set,t.set,n))}(e,t,n)}}(o,n,i),n}function F(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(U,t)}var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},B="This function will be removed in future versions.";function Y(e,t,n,r){var o=H(r,2),i=o[0],a=void 0===i?B:i,c=o[1],u=void 0===c?{}:c;if("function"!=typeof n.value)throw new SyntaxError("Only functions can be marked as deprecated");var s=e.constructor.name+"#"+t;return u.url&&(a+="\n\n    See "+u.url+" for more details.\n\n"),j({},n,{value:function(){return R("DEPRECATION "+s+": "+a),n.value.apply(this,arguments)}})}function W(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(Y,t)}var q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V="function"==typeof Symbol&&"symbol"===(0,r.Z)(Symbol.iterator)?function(e){return(0,r.Z)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":(0,r.Z)(e)};function K(){}function $(e,t,n){return q({},n,{value:function(){return function(e,t,n){if("object"===("undefined"==typeof console?"undefined":V(console))){var r=console.warn;console.warn=K;var o=t.apply(e,n);return console.warn=r,o}return t.apply(e,n)}(this,n.value,arguments)}})}function z(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C($,t)}var X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Q(e,t,n){var r=function(e){var t=void 0,n=void 0;return e.value?(t=e.value,n="value"):e.get?(t=e.get,n="get"):e.set&&(t=e.set,n="set"),{fn:t,wrapKey:n}}(n),o=r.fn,i=r.wrapKey,a=new WeakMap,c=Object.create(null),u=Object.create(null),s=0;return X({},n,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r,i,l="0",d=0,f=t.length;d<f;d++){var p=t[d],h=(r=u,(i=p)===Object(i)?i:r[i]||(r[i]={})),g=a.get(h);void 0===g&&(g=++s,a.set(h,g)),l+=g}return c[l]||function(e,t,n,r,o){var i=t.apply(e,n);return r[o]=i,i}(this,o,arguments,c,l)})))}function J(){N("@memoize is deprecated and will be removed shortly. Use @memoize from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(Q,t)}function ee(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var te=Object.defineProperty,ne=Object.getPrototypeOf,re=void 0;function oe(e){for(var t=P(e.prototype),n=O(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];"function"==typeof a.value&&"constructor"!==i&&te(e.prototype,i,ie(e.prototype,i,a))}}function ie(e,t,n){var r=n.value,o=n.configurable,i=n.enumerable;if("function"!=typeof r)throw new SyntaxError("@autobind can only be used on functions, not: "+r);var a=e.constructor;return{configurable:o,enumerable:i,get:function(){if(this===e)return r;if(this.constructor!==a&&ne(this).constructor===a)return r;if(this.constructor!==a&&t in this.constructor.prototype)return function(e,t){if("undefined"==typeof WeakMap)throw new Error("Using @autobind on "+t.name+"() requires WeakMap support due to its use of super."+t.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");re||(re=new WeakMap),!1===re.has(e)&&re.set(e,new WeakMap);var n=re.get(e);return!1===n.has(t)&&n.set(t,S(t,e)),n.get(t)}(this,r);var n=S(r,this);return te(this,t,{configurable:!0,writable:!0,enumerable:!1,value:n}),n},set:A(t)}}function ae(e){return 1===e.length?oe.apply(void 0,ee(e)):ie.apply(void 0,ee(e))}function ce(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(){return ae(arguments)}:ae(t)}function ue(e,t,n){return n.writable=!1,n}function se(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(ue,t)}function le(e,t,n){return n.enumerable=!0,n}function de(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(le,t)}function fe(e,t,n){return n.enumerable=!1,n}function pe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(fe,t)}function he(e,t,n){return n.configurable=!1,n}function ge(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(he,t)}Object.assign;var ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_e=300;function me(e,t,n,r){var o=ye(r,2),i=o[0],a=void 0===i?_e:i,c=o[1],u=void 0===c?{}:c,s=n.value;if("function"!=typeof s)throw new SyntaxError("Only functions can be throttled");return!1!==u.leading&&(u.leading=!0),!1!==u.trailing&&(u.trailing=!0),ve({},n,{value:function(){var e=this,n=b(this),r=n.throttleTimeoutIds,o=n.throttlePreviousTimestamps,i=r[t],c=o[t]||0,l=Date.now();u.trailing&&(n.throttleTrailingArgs=arguments),c||!1!==u.leading||(c=l);var d=a-(l-c);d<=0?(clearTimeout(i),delete r[t],o[t]=l,s.apply(this,arguments)):!i&&u.trailing&&(r[t]=setTimeout((function(){o[t]=!1===u.leading?0:Date.now(),delete r[t],s.apply(e,n.throttleTrailingArgs),n.throttleTrailingArgs=null}),d))}})}function Te(){N("@throttle is deprecated and will be removed shortly. Use @throttle from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(me,t)}var Ce=Object.defineProperty;function Ee(e,t,n,r){var o,i=(o=r,Array.isArray(o)?o:Array.from(o)),a=i[0],c=i.slice(1),u=n.configurable,s=n.enumerable,l=n.writable,d=n.get,f=n.set,p=n.value,h=!!d;return{configurable:u,enumerable:s,get:function(){var e=h?d.call(this):p,n=a.call.apply(a,[this,e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(c)));if(h)return n;var r={configurable:u,enumerable:s};return r.value=n,r.writable=l,Ce(this,t,r),n},set:h?f:A()}}function Ie(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(Ee,t)}var be="function"==typeof Symbol&&"symbol"===(0,r.Z)(Symbol.iterator)?function(e){return(0,r.Z)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":(0,r.Z)(e)},Oe=Object.defineProperty,Pe=Object.getPrototypeOf;function Ae(e,t){if(n=e,"[object Symbol]"===Object.prototype.toString.call(n)&&"object"===(void 0===n?"undefined":be(n))){do{if(t===Object.prototype)return void 0!==t[e];if(t.hasOwnProperty(e))return!0}while(t=Pe(t));return!1}return e in t;var n}function Se(e,t){if(!t.length)throw new SyntaxError("@mixin() class "+e.name+" requires at least one mixin as an argument");for(var n=0,r=t.length;n<r;n++)for(var o=P(t[n]),i=O(o),a=0,c=i.length;a<c;a++){var u=i[a];Ae(u,e.prototype)||Oe(e.prototype,u,o[u])}}function Re(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return N("@mixin is deprecated and will be removed shortly. Use @mixin from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators"),"function"==typeof t[0]?Se(t[0],[]):function(e){return Se(e,t)}}var Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ke={},we={time:console.time?console.time.bind(console):function(e){ke[e]=new Date},timeEnd:console.timeEnd?console.timeEnd.bind(console):function(e){var t=new Date-ke[e];delete ke[e],console.log(e+": "+t+"ms")}},De=0;function Me(e,t,n,r){var o=Ne(r,2),i=o[0],a=void 0===i?null:i,c=o[1],u=void 0===c?we:c,s=n.value;if(null===a&&(a=e.constructor.name+"."+t),"function"!=typeof s)throw new SyntaxError("@time can only be used on functions, not: "+s);return Le({},n,{value:function(){var e=a+"-"+De;De++,u.time(e);try{return s.apply(this,arguments)}finally{u.timeEnd(e)}}})}function xe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(Me,t)}var Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze=Object.getPrototypeOf,Ue=Object.getOwnPropertyDescriptor;function Fe(e,t,n){var r=Ze(e),o=Ue(r,t);return Ge({},o,{value:n.value,initializer:n.initializer,get:n.get||o.get,set:n.set||o.set})}function je(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(Fe,t)}var He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ye=(console,{profile:console.profile?S(console.profile,console):function(){},profileEnd:console.profileEnd?S(console.profileEnd,console):function(){},warn:R});function We(e,t,n,r){var o=Be(r,3),i=o[0],a=void 0===i?null:i,c=o[1],u=void 0!==c&&c,s=o[2],l=void 0===s?Ye:s;if(!qe.__enabled)return qe.__warned||(l.warn("console.profile is not supported. All @profile decorators are disabled."),qe.__warned=!0),n;var d=n.value;if(null===a&&(a=e.constructor.name+"."+t),"function"!=typeof d)throw new SyntaxError("@profile can only be used on functions, not: "+d);return He({},n,{value:function(){var e=Date.now(),t=b(this);(!0===u&&!t.profileLastRan||!1===u||"number"==typeof u&&e-t.profileLastRan>u||"function"==typeof u&&u.apply(this,arguments))&&(l.profile(a),t.profileLastRan=e);try{return d.apply(this,arguments)}finally{l.profileEnd(a)}}})}function qe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(We,t)}qe.__enabled=!!console.profile,qe.__warned=!1;var Ve=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor;function $e(e,t){var n=e.prototype;for(var r in t)for(var o=t[r],i=0,a=o.length;i<a;i++){var c=o[i];Ve(n,r,c(n,r,Ke(n,r)))}return e}},126:function(e){function t(e,t,n){var r,o,i,a,c;function u(){var s=Date.now()-a;s<t&&s>=0?r=setTimeout(u,t-s):(r=null,n||(c=e.apply(i,o),i=o=null))}null==t&&(t=100);var s=function(){i=this,o=arguments,a=Date.now();var s=n&&!r;return r||(r=setTimeout(u,t)),s&&(c=e.apply(i,o),i=o=null),c};return s.clear=function(){r&&(clearTimeout(r),r=null)},s.flush=function(){r&&(c=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},s}t.debounce=t,e.exports=t},816:function(e,t,n){var i,a,c=n(125).default;!function(o){var u;if(void 0===(a="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=a),u=!0,"object"===c(t)&&(e.exports=o(),u=!0),!u){var s=r.Cookies,l=r.Cookies=o();l.noConflict=function(){return r.Cookies=s,l}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function a(t,n,a){if("undefined"!=typeof o){"number"==typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var s in a)a[s]&&(u+="; "+s,!0!==a[s]&&(u+="="+a[s].split(";")[0]));return o.cookie=t+"="+n+u}}function c(e,n){if("undefined"!=typeof o){for(var i={},a=o.cookie?o.cookie.split("; "):[],c=0;c<a.length;c++){var u=a[c].split("="),s=u.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var l=t(u[0]);if(s=(r.read||r)(s,l)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(i[l]=s,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return c(e,!1)},i.getJSON=function(e){return c(e,!0)},i.remove=function(t,n){a(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},897:function(e,t,n){var r,i;n(125).default,void 0===(i="function"==typeof(r=function(){var e=function(){},t={},n={},r={};function i(e,t){if(e){var o=r[e];if(n[e]=t,o)for(;o.length;)o[0](e,t),o.splice(0,1)}}function a(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function c(t,n,r,i){var a,u,s=o,l=r.async,d=(r.numRetries||0)+1,f=r.before||e,p=t.replace(/[\?|#].*$/,""),h=t.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(p)?((u=s.createElement("link")).rel="stylesheet",u.href=h,(a="hideFocus"in u)&&u.relList&&(a=0,u.rel="preload",u.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(p)?(u=s.createElement("img")).src=h:((u=s.createElement("script")).src=t,u.async=void 0===l||l),u.onload=u.onerror=u.onbeforeload=function(e){var o=e.type[0];if(a)try{u.sheet.cssText.length||(o="e")}catch(e){18!=e.code&&(o="e")}if("e"==o){if((i+=1)<d)return c(t,n,r,i)}else if("preload"==u.rel&&"style"==u.as)return u.rel="stylesheet";n(t,o,e.defaultPrevented)},!1!==f(t,u)&&s.head.appendChild(u)}function u(e,n,r){var o,u;if(n&&n.trim&&(o=n),u=(o?r:n)||{},o){if(o in t)throw"LoadJS";t[o]=!0}function s(t,n){!function(e,t,n){var r,o,i=(e=e.push?e:[e]).length,a=i,u=[];for(r=function(e,n,r){if("e"==n&&u.push(e),"b"==n){if(!r)return;u.push(e)}--i||t(u)},o=0;o<a;o++)c(e[o],r,n)}(e,(function(e){a(u,e),t&&a({success:t,error:n},e),i(o,e)}),u)}if(u.returnPromise)return new Promise(s);s()}return u.ready=function(e,t){return function(e,t){e=e.push?e:[e];var o,i,a,c=[],u=e.length,s=u;for(o=function(e,n){n.length&&c.push(e),--s||t(c)};u--;)i=e[u],(a=n[i])?o(i,a):(r[i]=r[i]||[]).push(o)}(e,(function(e){a(t,e)})),u},u.done=function(e){i(e,[])},u.reset=function(){t={},n={},r={}},u.isDefined=function(e){return e in t},u})?r.apply(t,[]):r)||(e.exports=i)},623:function(e,t,n){"use strict";var r=n(125).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isPrimitive=function(e){if(null==e)return!0;switch(r(e)){case"string":case"number":case"bigint":case"boolean":case"symbol":return!0;default:return!1}},t.isFalsy=function(e){return!e}},492:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getReturnOfExpression=function(e){}},252:function(e,t,n){"use strict";Object.defineProperty(t,"X$",{value:!0});var r=n(623);t.X0=r.isFalsy,t.pt=r.isPrimitive;var o=n(492);t.YG=o.getReturnOfExpression},675:function(e){"use strict";e.exports=n(33675)},193:function(e){"use strict";e.exports=n(90201)},125:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},385:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},r(e)}n.d(t,{Z:function(){return r}})}},a={};function c(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={exports:{}};return t[e].call(r.exports,r,r.exports,c),r.exports}c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,{a:t}),t},c.d=function(e,t){for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.g=function(){if("object"==("undefined"===typeof globalThis?"undefined":i(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"===typeof r?"undefined":i(r)))return r}}(),c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};!function(){"use strict";c.r(u),c.d(u,{Stopwatch:function(){return e.uX},TaroStorage:function(){return n.a},SubSystemType:function(){return a.n},applyDecorators:function(){return s.eG},autobind:function(){return s.Nj},decorate:function(){return s.GW},deprecate:function(){return s.Rn},deprecated:function(){return s.x9},enumerable:function(){return s.Mj},extendDescriptor:function(){return s.kv},lazyInitialize:function(){return s.cs},memoize:function(){return s.HP},mixin:function(){return s.jB},mixins:function(){return s.tA},nonconfigurable:function(){return s.Y},nonenumerable:function(){return s.hH},override:function(){return s.KG},profile:function(){return s.N5},readonly:function(){return s.OT},suppressWarnings:function(){return s.U4},throttle:function(){return s.P2},time:function(){return s.XV},debounce:function(){return l.debounce},__esModule:function(){return d.X$},getReturnOfExpression:function(){return d.YG},isFalsy:function(){return d.X0},isPrimitive:function(){return d.pt},VerifyCodeScene:function(){return f.wd},bindThirdPartyLogic:function(){return f.CJ},configure:function(){return f.jQ},getConfigs:function(){return f.G_},mobileDynamicLogin:function(){return f.nW},oneTapLogin:function(){return f.uA},orderSearch:function(){return f.E0},silentLogin:function(){return f.m9},thirdPartLogin:function(){return f.K0},useVerifyCode:function(){return h.useVerifyCode},useSearchOrder:function(){return h.useSearchOrder},CAPTCHA_CUSTOM_CHECK_STATE:function(){return h.CAPTCHA_CUSTOM_CHECK_STATE},CAPTCHA_ORIGIN_CHECK_STATE:function(){return h.CAPTCHA_ORIGIN_CHECK_STATE},ERROR_CODE:function(){return h.ERROR_CODE},ERROR_MESSAGE:function(){return h.ERROR_MESSAGE},VerifyCaptchaResult:function(){return h.VerifyCaptchaResult},IToast:function(){return h.IToast},ILoading:function(){return h.ILoading},ILog:function(){return h.ILog},ICaptcha:function(){return h.ICaptcha},ITraceKey:function(){return h.ITraceKey}});var e=c(77),t=c(202),n=c.n(t),r=c(889),o={};for(var i in r)["default","Stopwatch","TaroStorage","debounce","useVerifyCode","useSearchOrder","CAPTCHA_CUSTOM_CHECK_STATE","CAPTCHA_ORIGIN_CHECK_STATE","ERROR_CODE","ERROR_MESSAGE","VerifyCaptchaResult","IToast","ILoading","ILog","ICaptcha","ITraceKey"].indexOf(i)<0&&(o[i]=function(e){return r[e]}.bind(0,i));c.d(u,o);var a=c(883),s=c(437),l=c(126),d=c(252),f=c(264),p=c(283);for(var i in o={},p)["default","Stopwatch","TaroStorage","debounce","useVerifyCode","useSearchOrder","CAPTCHA_CUSTOM_CHECK_STATE","CAPTCHA_ORIGIN_CHECK_STATE","ERROR_CODE","ERROR_MESSAGE","VerifyCaptchaResult","IToast","ILoading","ILog","ICaptcha","ITraceKey","SubSystemType","applyDecorators","autobind","decorate","deprecate","deprecated","enumerable","extendDescriptor","lazyInitialize","memoize","mixin","mixins","nonconfigurable","nonenumerable","override","profile","readonly","suppressWarnings","throttle","time","__esModule","getReturnOfExpression","isFalsy","isPrimitive","VerifyCodeScene","bindThirdPartyLogic","configure","getConfigs","mobileDynamicLogin","oneTapLogin","orderSearch","silentLogin","thirdPartLogin"].indexOf(i)<0&&(o[i]=function(e){return p[e]}.bind(0,i));c.d(u,o);var h=c(108)}(),e.exports=u}()},3997:function(e,t,n){"use strict";n.d(t,{Y8:function(){return o},z4:function(){return i},fx:function(){return c},dK:function(){return u}});var r=n(33675),o=r.cwx,i=r.__global,a=n(39270),c=a.agreementConfig,u=a.getAgreementPath},8972:function(e,t,n){"use strict";n.d(t,{EQ:function(){return l},r2:function(){return d},ZP:function(){return f},gH:function(){return p}});var r=n(57042),o=n(24460),i=n(45023),a=n(46294),c=n(56959),u=n(3997),s=n(65251),l=function(e){return e["getWechatCode"]="getWechatCode",e["getLoginCode"]="getLoginCode",e["getPhoneNumberAuthorization"]="getPhoneNumberAuthorization",e["userAuthorizedPhoneNumber"]="userAuthorizedPhoneNumber",e["captchaTotal"]="captcha_total",e["captcha"]="captcha",e["sendMessageCode"]="sendMessageCode",e["supportNewGetPhoneNumber"]="supportNewGetPhoneNumber",e}({}),d=function(e){return e[e["INTERNAL_ERROR"]=-1]="INTERNAL_ERROR",e[e["REQUEST_FAILED"]=-1e3]="REQUEST_FAILED",e[e["NO_NETWORK"]=-1001]="NO_NETWORK",e[e["NO_WECHAT_CODE"]=-1002]="NO_WECHAT_CODE",e[e["CHECK_SESSION_FAILED"]=-1003]="CHECK_SESSION_FAILED",e[e["AUTHENTICATE_DENY"]=-1004]="AUTHENTICATE_DENY",e[e["VALIDATE_FAIL"]=-1005]="VALIDATE_FAIL",e[e["IS_LOADING_WECHAT_CODE"]=-1006]="IS_LOADING_WECHAT_CODE",e[e["VALIDATE_AGREEMENT_ERROR"]=-1007]="VALIDATE_AGREEMENT_ERROR",e[e["CANNOT_SEND_MESSAGE"]=-1008]="CANNOT_SEND_MESSAGE",e}({}),f=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,null,[{key:"getCurrentPage",value:function(){try{var e=u.Y8.getCurrentPage();return e?e.__route__:"NA"}catch(e){return"NA"}}},{key:"send",value:function(e,t){var n=(0,s.v4)(this.COMMON_TAGS,t);"undefined"===typeof n.stage&&(n.stage="");try{n.appId=u.z4.appId,n.path=this.getCurrentPage()}catch(e){}s.tY.logConsole("\u3010monitor\u3011result: ".concat(e),n),this.loginMonitor.send(e,n)}}]),e}();(0,i.Z)(f,"loginMonitor",new a.Monitor(c.t$)),(0,i.Z)(f,"COMMON_TAGS",{group:a.Group.ctrip,platform:a.Platform.wechat,source:"sdk4.0",stage:"",code:0});var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0,r="".concat(e,"_total");return{start:function(){n=Date.now(),f.send("success",{scene:r,stage:t,latency:1})},resetStartTime:function(){n=Date.now()},success:function(){f.send("success",{scene:e,stage:t,latency:Date.now()-n,code:0})},fail:function(r){f.send("failed",{scene:e,stage:t,latency:Date.now()-n,code:r})}}}},56202:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(57042),o=n(24460),i=n(21867),a=n(86066),c=n(90201),u=n(71515),s=n(65251),l=n(3997),d=n(2269),f=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.checked,n=e.onClickCheckbox;return(0,d.jsxs)(u.View,{className:"agreement-wrapper",children:[(0,d.jsx)(u.View,{onClick:n,className:"agreement-checkbox ".concat(t?"checked":"")}),"\u9605\u8bfb\u5e76\u540c\u610f\u643a\u7a0b\u7684",(0,d.jsxs)(u.Text,{className:"agreement-text","data-jumptype":s.UM.agreement,onClick:s.PP,children:["\u300a",l.fx.accountsAgreement.text,"\u300b"]}),"\u548c",(0,d.jsxs)(u.Text,{className:"agreement-text","data-jumptype":s.UM.policy,onClick:s.PP,children:["\u300a",l.fx.accountsPolicy.text,"\u300b"]})]})}}]),n}(c.Component)},66587:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(57042),o=n(24460),i=n(21867),a=n(86066),c=n(90201),u=n(71515),s=n(3997),l=n(65251),d=n(2269),f=function(e){(0,i.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.showAgreementModal,n=e.children;return t?(0,d.jsx)(u.View,{className:"agreement-popup-mask",children:(0,d.jsxs)(u.View,{className:"agreement-content",children:[(0,d.jsx)(u.View,{className:"agreement-title",children:"\u670d\u52a1\u534f\u8bae\u548c\u9690\u79c1\u653f\u7b56"}),"\u8bf7\u9605\u8bfb\u5e76\u540c\u610f\u643a\u7a0b\u7684",(0,d.jsxs)(u.Text,{className:"agreement-text","data-jumptype":l.UM.agreement,onClick:l.PP,children:["\u300a",s.fx.accountsAgreement.text,"\u300b"]}),"\u548c",(0,d.jsxs)(u.Text,{className:"agreement-text","data-jumptype":l.UM.policy,onClick:l.PP,children:["\u300a",s.fx.accountsPolicy.text,"\u300b"]}),n]})}):null}}]),n}(c.Component)},84475:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r,o,i=n(79301),a=n(95308),c=n(298),u=n(57042),s=n(24460),l=n(81876),d=n(21867),f=n(86066),p=n(45023),h=n(28641),g=n(90201),v=n(71515),y=n(46294),_=n(3997),m=n(56959),T=n(65251),C=n(8972),E=n(2269),I=(r=(0,T.nY)(m.sH.c_click_close_captcha),o=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,u.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,l.Z)(r),"onStateChange",(function(e){[0,1].includes(e)&&(T.$Q.hideLoading(),T.tY.logTrace(m.$m.c_miniapp_security_show,{type:0===e?"jigsaw":"icon"}))})),r.state={settings:null,reload:!1,isShow:!1},r}return(0,s.Z)(n,[{key:"onCloseCaptcha",value:function(){this.hide()}},{key:"getSettings",value:function(){var e=this.props,t=e.useModern,n=void 0!==t&&t,r=e.businessSite;return(0,c.Z)((0,c.Z)({},m.i5),{},{businessSite:r,appId:n?m.mD.modern:m.mD.legacy,stateChange:this.onStateChange,onSelectClose:this.onCloseCaptcha})}},{key:"isValidResult",value:function(e){return T.tY.logConsole("resultHandler",e),e.checkState===m.kR.hidden?(T.tY.logTrace(m.$m.c_miniapp_security_token),!0):e.checkState===m.kR.success?(T.tY.logTrace(m.$m.c_miniapp_security_success),!0):(e.checkState===m.kR.error&&(T.tY.logTrace(m.$m.c_miniapp_security_error),T.tY.logDevTrace({info:"captcha component error",err:JSON.stringify(e)})),!1)}},{key:"hide",value:function(e){this.setState({settings:null,reload:!1,isShow:!1},"function"===typeof e?e:T.ZT)}},{key:"validate",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r,o,a=this;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.props.businessSite,T.tY.logTrace(m.$m.c_miniapp_security_use,{miniapptype:"wechat",appid:_.z4.appId,businesssite:n}),C.ZP.send("success",{scene:C.EQ.captchaTotal,latency:1}),r=this.getSettings(),o=(new y.Stopwatch).start(),this.setState({isShow:!0,settings:(0,c.Z)((0,c.Z)({},r),{},{resultHandler:function(e){var n,r=a.isValidResult(e);C.ZP.send(r?"success":"failed",{scene:C.EQ.captcha,latency:o.stop().elapsed,code:0,stage:null!==(n=null===e||void 0===e?void 0:e.checkState)&&void 0!==n?n:"NA"}),setTimeout((function(){a.hide((function(){"function"===typeof t&&t(e)}))}),500)},reload:!0})});case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this.state,t=e.settings,n=e.reload,r=e.isShow;return r?(0,E.jsx)(v.View,{className:"captcha-box",children:(0,E.jsx)("captcha",{settings:t,reload:n})}):null}}]),n}(g.Component),(0,h.Z)(o.prototype,"onCloseCaptcha",[y.autobind,r],Object.getOwnPropertyDescriptor(o.prototype,"onCloseCaptcha"),o.prototype),o)},43114:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r,o,i,a=n(57042),c=n(24460),u=n(81876),s=n(21867),l=n(86066),d=n(28641),f=n(45023),p=n(90201),h=n(71515),g=n(3997),v=n(65251),y=n(56959),_=n(46294),m=n(2269),T=function(e){return e["LOADING"]="loading",e["READY"]="ready",e["ERROR"]="error",e}(T||{}),C="1694959836464877568",E="1693863330826813440",I="fat"===g.z4.env?C:E,b={UPPER_LIMIT:-1012,INVALID_SOURCEKEY:-1013,OTHER_ERROR:-1014},O=(0,f.Z)((0,f.Z)((0,f.Z)({},b.UPPER_LIMIT,"\u8d85\u8fc7\u8c03\u7528\u9891\u6b21\u9650\u5236\uff0c\u8bf7\u4f7f\u7528\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f (".concat(b.UPPER_LIMIT,")")),b.INVALID_SOURCEKEY,"\u7cfb\u7edf\u5f02\u5e38\uff0c\u8bf7\u4f7f\u7528\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f (".concat(b.INVALID_SOURCEKEY,")")),b.OTHER_ERROR,"\u6b64\u65b9\u5f0f\u4e0d\u53ef\u7528\uff0c\u8bf7\u4f7f\u7528\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f (".concat(b.OTHER_ERROR,")")),P=(r=(0,v.nY)(y.Iu.c_click_wechat_getphone_error),o=(0,v.nY)(y.Iu.c_click_wechat_getphone_ready),i=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,u.Z)(e),"state",{status:"",message:""}),(0,f.Z)((0,u.Z)(e),"handleGetPhoneNum",(function(t){var n=e.props.onGetPhoneNumber;if(null===t||void 0===t||!t.detail)return e.setState({status:T.ERROR,message:O[b.OTHER_ERROR]}),void v.tY.logDevTrace({stage:"get-number-btn",msg:"invalid detail"});var r=t.detail;if(r.status&&e.setState({status:r.status}),"boolean"===typeof r.userAllow)n(t.detail),e.setState({message:""});else if(r.status===T.LOADING||r.status===T.READY)e.setState({message:""});else{var o=r.message,i=O[b.OTHER_ERROR];"\u8d85\u8fc7\u8c03\u7528\u9891\u6b21\u9650\u5236"===o?i=O[b.UPPER_LIMIT]:"sourceKey\u65e0\u6548"===o&&(i=O[b.INVALID_SOURCEKEY]),v.tY.logDevTrace({stage:"get-number-btn",msg:i,status:r.status}),e.setState({message:i})}})),e}return(0,c.Z)(n,[{key:"handleErrorClick",value:function(){var e=this.props.onErrorClick,t=this.state,n=t.status,r=t.message;e&&"function"===typeof e&&n===T.ERROR&&(v.tY.logDevTrace({stage:"get-number-btn error cb",msg:r}),e({status:n,message:r}))}},{key:"handleReadyClick",value:function(){var e=this.props.onReadyClick,t=this.state,n=t.status,r=t.message;e&&"function"===typeof e&&n===T.READY&&(v.tY.logDevTrace({stage:"get-number-btn ready cb",msg:"\u70b9\u51fb\u4e86\u6709\u6548\u7684\u6388\u6743\u7ec4\u4ef6"}),e({status:n,message:r}))}},{key:"render",value:function(){var e=this.props,t=e.btnText,n=e.readyClass,r=e.loadingClass,o=void 0===r?n:r,i=e.errorClass,a=void 0===i?n:i,c=e.isColoursBtn,u=void 0===c||c,s=this.state.status,l=s===T.ERROR,d=" get-number-btn-inner ".concat(u?"color":"white"," ");return(0,m.jsxs)(h.View,{className:"get-number-wrapper",onClick:this.handleReadyClick,children:[l?(0,m.jsx)(h.View,{className:"click-mask",onClick:this.handleErrorClick}):null,(0,m.jsx)("get-phone-num-btn",{btnReadyClassName:n,btnLoadingClassName:"".concat(o," ").concat(d),btnErrorClassName:a,sourceKey:I,btnLoadingText:t,btnReadyText:t,btnErrorText:t,disableLoading:!0,onCgetphonenumber:this.handleGetPhoneNum,limitFrequency:!1})]})}}]),n}(p.Component),(0,d.Z)(i.prototype,"handleErrorClick",[_.autobind,r],Object.getOwnPropertyDescriptor(i.prototype,"handleErrorClick"),i.prototype),(0,d.Z)(i.prototype,"handleReadyClick",[_.autobind,o],Object.getOwnPropertyDescriptor(i.prototype,"handleReadyClick"),i.prototype),i)},70250:function(e,t,n){"use strict";n.d(t,{P:function(){return i},s:function(){return a}});var r=n(45023),o={init:"init",validate:"validate"},i={PAGE_STAGE_ENUM:o,PAGE_TITLE:(0,r.Z)((0,r.Z)({},o.init,"\u624b\u673a\u52a8\u6001\u5bc6\u7801\u767b\u5f55"),o.validate,"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801"),PAGE_SUBTITLE:(0,r.Z)((0,r.Z)({},o.init,"\u672a\u6ce8\u518c\u624b\u673a\u9a8c\u8bc1\u540e\u5373\u53ef\u5b8c\u6210\u6ce8\u518c"),o.validate,"\u5df2\u53d1\u9001\u9a8c\u8bc1\u7801\u81f3[code]-[mobile]")},a={DEFAULT_BACK_URL:"/pages/home/homepage",RESULT:{SUCCESS:"silentLoginSuccess",FAIL:"silentLoginFail"},MESSAGE:{"-1":"\u5fae\u4fe1\u6388\u6743\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5","-1000":"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u540e\u91cd\u8bd5",GATEWAY_ERROR:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"}}},90803:function(e,t,n){"use strict";n.d(t,{x:function(){return r},i:function(){return o}});var r={APP_ID:"100004116"},o=function(e){return e["loginStimulateTipsForTinyWeixin"]="loginStimulateTipsForTinyWeixin",e["showDirectLogin"]="showDirectLogin",e["showSkipBindPhoneThisTime"]="showSkipThisTime",e["showSkipSelectThisTime"]="showNoSelectThisTime",e}({})},61717:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(e){return e["loginCallback"]="bbz_accounts_login_callback",e["loginSuccess"]="loginSuccess",e["loginFail"]="loginFail",e["dynamicLoginSuccess"]="dynamicLoginSuccess",e["setAvatar"]="loginSuccessToSetAvatar",e}({})},38555:function(e,t,n){"use strict";n.d(t,{F:function(){return r},M:function(){return o}});var r={timeout:1e4},o={GetUserInfo:"/restapi/soa2/11838/GetUserInfo.json",CommonConfig:"/restapi/soa2/15618/commonConfig.json"}},56959:function(e,t,n){"use strict";n.d(t,{d8:function(){return g.d8},dd:function(){return g.dd},Mp:function(){return g.Mp},i5:function(){return f},kR:function(){return p},mD:function(){return d},MD:function(){return l},sH:function(){return g.sH},Ou:function(){return i},Mx:function(){return g.Mx},Zy:function(){return h.Z},t$:function(){return g.t$},FZ:function(){return v},bW:function(){return y},o4:function(){return m},nB:function(){return g.nB},Un:function(){return g.Un},q2:function(){return g.q2},HB:function(){return g.HB},Iu:function(){return g.Iu},ZK:function(){return g.ZK},Vo:function(){return g.Vo},ww:function(){return c},$m:function(){return g.$m},qF:function(){return u},N5:function(){return g.N5},b9:function(){return g.b9},Tj:function(){return _}});var r=n(45023),o="\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",i={login:o,send:o},a=function(e){return e[e["tooFrequent"]=401]="tooFrequent",e[e["overLimit"]=402]="overLimit",e[e["sendFailed"]=403]="sendFailed",e[e["invalidMobile"]=201]="invalidMobile",e[e["invalidCountryCode"]=202]="invalidCountryCode",e}({}),c={FIRST_SEND_SUCCESS:"\u6210\u529f\u53d1\u9001",RESEND_SUCCESS:"\u77ed\u4fe1\u9a8c\u8bc1\u5df2\u91cd\u53d1",INPUT_ERROR:"\u624b\u673a\u53f7\u586b\u5199\u6709\u8bef"},u=(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},a.invalidCountryCode,"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e"),a.invalidMobile,"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e"),a.tooFrequent,"\u6d88\u606f\u53d1\u9001\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u4e00\u5206\u949f\u540e\u91cd\u8bd5"),a.sendFailed,"\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"),a.overLimit,"\u9a8c\u8bc1\u7801\u53d1\u9001\u6b21\u6570\u8d85\u51fa\u9650\u5236\uff0c\u8bf724\u5c0f\u65f6\u540e\u91cd\u65b0\u83b7\u53d6"),"success",c.FIRST_SEND_SUCCESS),"failed",i.send),s=n(3997),l=function(e){return e["weChatThirdBindAndLogin"]="crm_login_third_miniapp_pic",e["mobileDynamicLogin"]="crm_sms_miniapp_pic",e["mobileQueryOrder"]="crm_getorder_mini_pic",e}({}),d=function(e){return e["legacy"]="100008493",e["modern"]="100032497",e}({}),f={dev:"prd"===s.z4.env?"pro":"uat",codeImageType:"popup",width:"280px",height:"40px",margin:"auto",language:s.Y8.util.systemInfo.language,stateChange:function(){},onJigsawFail:function(){},onSelectFail:function(){},onSelectClose:function(){},resultHandler:function(){}},p={success:"success",hidden:"hidden",false:"false",error:"error"},h=n(61717),g=n(98414),v=function(e){return e["mobileDynamicLogin"]="mobileDynamicLogin",e["mobileOneTapLogin"]="mobileOneTapLogin",e["weChatThirdLogin"]="weChatThirdLogin",e["miniappSilentLogin"]="miniappSilentLogin",e["miniappSearchOrder"]="orderSearchByPhone",e}({}),y=(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},v.mobileDynamicLogin,"mobilephone"),v.mobileOneTapLogin,"mobiletoken"),v.weChatThirdLogin,"thirdtype_wechat"),v.miniappSilentLogin,"thirdtype_wechat_Silent"),v.miniappSearchOrder,"ordersearch"),_=function(e){return e["login"]="login",e["bind_third_with_mobile_auth"]="bind_third_with_mobile_auth",e["bind_phone_with_sms"]="bind_phone_with_sms",e["bind_phone_with_mobile_auth"]="bind_phone_with_mobile_auth",e["merge_third_with"]="merge_third_with",e["merge_phone_with"]="merge_phone_with",e["merge_skip"]="merge_skip",e["mobiletoken"]="mobiletoken",e["thirdtoken"]="thirdtoken",e}({}),m="WEIXINAUTEHNTICATE"},89299:function(e,t,n){"use strict";n.d(t,{h:function(){return i},k:function(){return a}});var r=n(45023),o=n(67581),i=(0,r.Z)((0,r.Z)({},o.i.NONE_INPUT,"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"),o.i.FORMAT_INVALID,"\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e"),a=60},98414:function(e,t,n){"use strict";n.d(t,{$3:function(){return r},t$:function(){return o},Vo:function(){return i},Mx:function(){return a},Un:function(){return c},N5:function(){return u},ZK:function(){return s},Iu:function(){return l},nB:function(){return d},b9:function(){return f},sH:function(){return p},$m:function(){return h},d8:function(){return g},dd:function(){return v},HB:function(){return y},q2:function(){return _},Mp:function(){return m}});var r="bbz_accounts_wx_flow",o="bbz_accounts_login_statistics",i=function(e){return e["mobileDynamicLogin"]="10650055542",e["silentLogin"]="10650057048",e["newLogin"]="10650052979",e["quickLogin"]="10650104582",e["bindPhone"]="10650038369",e["searchorder"]="10650014926",e}({}),a=function(e){return e["c_wechat_login_success"]="184606",e["c_wechat_login_fail"]="184607",e}({}),c=function(e){return e["c_wechat_verifycode_send"]="184596",e["c_wechat_mobilephone_login"]="184597",e["c_wechat_mobilephone_close"]="184598",e["c_wechat_verifycode_verify"]="189183",e}({}),u=function(e){return e["send"]="frist",e["resend"]="secend",e}({}),s=function(e){return e["c_wechat_mobiletoken_login"]="184593",e["c_wechat_mobiletoken_authorized"]="246670",e["c_wechat_otherphone_button"]="184594",e["c_wechat_login_back"]="184605",e["c_wechat_thirdlogin_button"]="184599",e["c_wechat_phonelink_show"]="184600",e["c_wechat_phonelink_button"]="184602",e["c_wechat_oneclick_login_fail"]="247394",e}({}),l=function(e){return e["c_click_back"]="c_click_back",e["c_click_mobile_one_tap_login"]="c_click_mobile_one_tap_login",e["c_click_mobile_dynamic_login"]="c_click_mobile_dynamic_login",e["c_click_wechat_login"]="c_click_wechat_login",e["c_click_cancel_wechat_login_popup"]="c_click_cancel_wechat_login_popup",e["c_click_wechat_one_tap_bind_and_login"]="c_click_wechat_one_tap_bind_and_login",e["c_click_wechat_getphone_ready"]="c_click_wechat_getphone_ready",e["c_click_wechat_getphone_error"]="c_click_wechat_getphone_error",e["c_click_getphone_privacy"]="c_click_getphone_privacy",e}({}),d=function(e){return e["c_click_back_in_send"]="c_click_back_in_send",e["c_click_back_in_validate"]="c_click_back_in_validate",e["c_click_send_phone_code"]="c_click_send_phone_code",e["c_click_resend_phone_code"]="c_click_resend_phone_code",e}({}),f=function(e){return e["c_miniapporder_find_sendcode"]="c_miniapporder_find_sendcode",e["c_miniapporder_find_verify"]="c_miniapporder_find_verify",e["c_miniapporder_find_success"]="c_miniapporder_find_success",e["c_miniapporder_find_login"]="c_miniapporder_find_login",e}({}),p=function(e){return e["c_click_select_country_code"]="c_click_select_country_code",e["c_click_close_captcha"]="c_click_close_captcha",e["c_click_mobile_input"]="c_click_mobile_input",e["c_click_mobile_input_clear"]="c_click_mobile_input_clear",e}({}),h=function(e){return e["c_miniapp_security_use"]="c_miniapp_security_use",e["c_miniapp_security_error"]="c_miniapp_security_error",e["c_miniapp_security_token"]="c_miniapp_security_token",e["c_miniapp_security_show"]="c_miniapp_security_show",e["c_miniapp_security_success"]="c_miniapp_security_success",e}({}),g=function(e){return e["clickSendBindVerifyCode"]="c_click_send_bind_verify_code",e["clickBindWithVerifiedMobile"]="c_click_bind_with_verified_mobile",e["clickBindWithOneTapMobile"]="c_click_bind_with_onetap_mobile",e}({}),v=function(e){return e["c_wechat_phonelink_showB"]="184608",e["c_wechat_phonelink_bindB"]="184609",e["c_wechat_phonelink_nobindB"]="184610",e}({}),y=function(e){return e["clickSkipMergeAccount"]="c_click_skip_merge_account",e["clickMergeAccount"]="c_click_merge_account",e["clickAccountMergeExp"]="c_click_account_merge_exp",e["clickSelectPhoneAccount"]="c_click_select_phone_account",e["clickSelectThirdAccount"]="c_click_select_third_account",e}({}),_=function(e){return e["sendMessageByPhone"]="sendMessageByPhone",e["searchOrderByPhone"]="orderSearchByPhone",e}({}),m=function(e){return e["c_wechat_mobiletoken_unionidbind"]="253340",e["c_wechat_mobiletoken_unionidbind_OK"]="253341",e["c_wechat_mobiletoken_unionidbind_cancel"]="253342",e["c_wechat_mobiletoken_unionidbind_result"]="253343",e}({})},78119:function(e,t,n){"use strict";n.d(t,{hk:function(){return l},Gl:function(){return i},Qi:function(){return g}});var r=n(90129),o=n(90201),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,o.useState)(e),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=function(e){a(e.detail.value)};return{value:i,onInput:c}},a=n(9126),c=n(65251),u=function(e,t){var n=(0,o.useRef)();(0,o.useEffect)((function(){n.current=e}),[e]),(0,o.useEffect)((function(){if(null===t)return c.ZT;var e=function(){n.current()},r=setInterval(e,t);return function(){return clearInterval(r)}}),[t])},s=0,l=function(){var e=(0,a.k)(!1),t=e.value,n=e.setTrue,i=e.setFalse,c=(0,o.useState)(s),l=(0,r.Z)(c,2),d=l[0],f=l[1];return u((function(){d!==s?f(d-1):i()}),t?1e3:null),{restSeconds:d,start:function(e){f(e),n()}}},d=n(79301),f=n(95308),p=n(28883),h=new p.Z,g=function(){(0,o.useEffect)((function(){h.startGetCode(!0)}),[]);var e=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(){var t,n;return(0,d.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.checkStatus();case 2:if(t=e.sent,n=t===p.q.SUCCESS,!n){e.next=6;break}return e.abrupt("return",[!0,h.getCode()]);case 6:return e.abrupt("return",[!1,""]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){h.startGetCode()};return{isReady:e,refresh:t}}},9126:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(90129),o=n(90201),i=function(e){var t=(0,o.useState)(!!e),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=(0,o.useCallback)((function(){a(!0)}),[]),u=(0,o.useCallback)((function(){a(!1)}),[]);return{value:i,setFalse:u,setTrue:c}}},21928:function(e,t,n){"use strict";n.d(t,{v4:function(){return o},wv:function(){return i},qh:function(){return a}});var r=n(298),o=function(e,t){return(0,r.Z)((0,r.Z)({},e),t)},i=function(e){if(!e)return"";var t=[];return Object.keys(e).forEach((function(n){t.push("".concat(n,"=").concat(e[n]))})),t.join("&")},a=function(e){return"number"===typeof e&&!Number.isNaN(e)}},70487:function(e,t,n){"use strict";n.d(t,{DU:function(){return a},B2:function(){return c}});var r=n(3997),o=n(21928);t["ZP"]={backToPage:function(e){r.Y8.navigateBack(e)},switchTab:function(){r.Y8.switchTab.apply(r.Y8,arguments)},redirectTo:function(){r.Y8.redirectTo.apply(r.Y8,arguments)}};var i=function(e){var t="/pages/accounts/pages/bindphone/index",n=(0,o.wv)(e.param);n&&(t="".concat(t,"?").concat(n)),r.Y8.navigateTo({url:t})},a=function(e){i(e)},c=function(e){var t=e.url,n=e.needLogin,o=e.isNavigate,i=void 0===o||o;if(/^http(s)?:/i.test(t))r.Y8.component.cwebview({data:{url:encodeURIComponent(t),needLogin:n,isNavigate:i}});else{var a=i?r.Y8.navigateTo:r.Y8.redirectTo;a({url:t})}}},46046:function(e,t,n){"use strict";n.d(t,{yB:function(){return a.autoLogTrace},nY:function(){return s},DL:function(){return l},Lj:function(){return d},ZP:function(){return f}});var r=n(57042),o=n(24460),i=n(45023),a=n(46294),c=n(3997),u=n(98414),s=function(e){return function(t,n,r){var o=r.value;r.value=function(t){f.logClick(t,e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];o.apply(this,r)}}},l=function(){return function(e,t,n){var r=n.value;n.value=function(){f.logDevTrace({type:t});for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];r.apply(this,n)}}},d=function(e,t){return function(n,r,o){var i=o.value;o.value=function(){try{for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var c=i.apply(this,o);return c}catch(n){var u,s;return f.logDevTrace({type:"error: ".concat(r.toString()),message:null!==(u=null===n||void 0===n?void 0:n.message)&&void 0!==u?u:"",stack:null!==(s=null===n||void 0===n?void 0:n.stack)&&void 0!==s?s:""}),"function"===typeof t&&t.call(null,n,this),e}}}},f=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,null,[{key:"getConsoleStyle",value:function(e){return"color: ".concat(e,";font-weight: bold;")}},{key:"getConsolePrefix",value:function(e){return"%c [bbz accounts ".concat(e,"]")}},{key:"_isDebugEnv",value:function(){return"fat"===c.z4.env}},{key:"logDevTrace",value:function(e){try{this._isDebugEnv()&&console.log(this.getConsolePrefix("devtrace"),this.getConsoleStyle(this.COLOR_MAP.devTrace),e||{}),a.Log.logDevTrace(u.$3,{data:JSON.stringify(e||{})})}catch(e){console.error("LogUtil.logDevTrace failed",e.message,e.stack)}}},{key:"logConsole",value:function(e,t){this._isDebugEnv()&&console.log("".concat(this.getConsolePrefix("debug")," ").concat(e),this.getConsoleStyle(this.COLOR_MAP.debug),t||{})}},{key:"logTrace",value:function(e,t){try{this._isDebugEnv()&&console.log(this.getConsolePrefix("trace"),this.getConsoleStyle(this.COLOR_MAP.trace),{key:e,info:t}),a.Log.logTrace(e,{data:JSON.stringify(t||{})})}catch(e){console.error("LogUtil.logTrace failed",e.message,e.stack)}}},{key:"logClick",value:function(e,t){try{this._isDebugEnv()&&console.log(this.getConsolePrefix("click"),this.getConsoleStyle(this.COLOR_MAP.action),t),c.Y8.uploadUserAction(e,t)}catch(e){console.error("LogUtil.logClick failed",e.message,e.stack)}}}]),e}();(0,i.Z)(f,"COLOR_MAP",{debug:"#cd6f6f",devTrace:"#4CAF50",trace:"#ff1493",action:"#03A9F4"})},54844:function(e,t,n){"use strict";n.d(t,{CF:function(){return a},pb:function(){return c},PE:function(){return u}});var r=n(298),o=n(92954),i=n.n(o);function a(e){e&&e.title&&i().showToast((0,r.Z)({duration:e.duration||2e3,mask:!0},e))}function c(e){a({title:e,icon:"none"})}function u(e){i().hideToast(e)}},28883:function(e,t,n){"use strict";n.d(t,{q:function(){return p},Z:function(){return h}});var r=n(79301),o=n(298),i=n(95308),a=n(57042),c=n(24460),u=n(45023),s=n(82133),l=n(65251),d=n(8972),f=n(46294),p=function(e){return e[e["LOADING"]=0]="LOADING",e[e["FAILED"]=1]="FAILED",e[e["SUCCESS"]=2]="SUCCESS",e}({}),h=function(){function e(){(0,a.Z)(this,e),(0,u.Z)(this,"status",void 0),(0,u.Z)(this,"code",void 0),(0,u.Z)(this,"failedCode",void 0),(0,u.Z)(this,"sequenceId",void 0),(0,u.Z)(this,"prevGetWechatCodeReq",void 0),(0,u.Z)(this,"timeout",3e3),this.status=p.FAILED,this.code="",this.failedCode=void 0,this.sequenceId="",this.prevGetWechatCodeReq=Promise.resolve()}return(0,c.Z)(e,[{key:"getWechatCode",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,a,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(new f.Stopwatch).start(),e.next=3,(0,s.a)(n,this.timeout);case 3:if(a=e.sent,a.ok||!n){e.next=8;break}return e.next=7,(0,s.a)(!1,this.timeout);case 7:a=e.sent;case 8:c={scene:d.EQ.getWechatCode,stage:n?"first":"notfirst",code:a.code,latency:i.stop().elapsed},d.ZP.send(a.ok?"success":"failed",c),l.tY.logDevTrace((0,o.Z)((0,o.Z)({},c),{},{ok:a.ok})),this.onGetLoginCodeCallback(t,a);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getSequenceId",value:function(){return"".concat(Date.now(),"-").concat(Math.floor(1e3*Math.random()))}},{key:"onGetLoginCodeCallback",value:function(e,t){this.prevGetWechatCodeReq=Promise.resolve(),l.tY.logConsole("onGetLoginCodeCallback, sequenceId: ".concat(e),t),this.sequenceId&&this.sequenceId!==e?l.tY.logConsole("onGetLoginCodeCallback not current code abort"):t.ok?(this.status=p.SUCCESS,this.code=t.loginCode,this.failedCode=void 0):(this.status=p.FAILED,this.code="",this.failedCode=t.code)}},{key:"checkStatus",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.status===p.FAILED&&(l.tY.logDevTrace({type:"getWXLoginStatusFailed",failCode:this.failedCode}),(0,l.CF)({title:"\u7f51\u7edc\u4e0d\u7a33\u5b9a\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5(".concat(d.r2.NO_WECHAT_CODE,")"),icon:"none"})),this.status===p.SUCCESS){e.next=4;break}return e.next=4,this.startGetCode();case 4:return l.tY.logDevTrace({type:"getWXLoginStatusResult",status:this.status,failCode:this.failedCode}),e.abrupt("return",this.status);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCode",value:function(){return this.code}},{key:"startGetCode",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,o,i=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],l.tY.logDevTrace({type:"WXLoginStatus.startGetCode",stage:"before",status:this.status,hasPrevGetWechatCodeReq:Boolean(this.prevGetWechatCodeReq)}),this.status!==p.LOADING||!this.prevGetWechatCodeReq){e.next=4;break}return e.abrupt("return",this.prevGetWechatCodeReq);case 4:return n=this.getSequenceId(),this.status=p.LOADING,this.code="",this.failedCode=void 0,this.sequenceId=n,o=this.getWechatCode(n,t),this.prevGetWechatCodeReq=o,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},28629:function(e,t,n){"use strict";n.d(t,{o:function(){return a},t:function(){return u}});var r=n(298),o=n(46294),i=n(54844),a=function(e){var t=function(){return new Promise((function(t,n){var o;null===(o=e.current)||void 0===o||o.validate((function(e){var o=["hidden","success"].indexOf(e.checkState)>-1,i=(0,r.Z)((0,r.Z)({},e),{},{ok:o});o?t(i):n(i)}))}))},n=function(){},o=function(){};return{verifyAsync:t,verify:n,refresh:o}},c=[o.CAPTCHA_ORIGIN_CHECK_STATE.ERROR,o.CAPTCHA_ORIGIN_CHECK_STATE.FALSE,o.CAPTCHA_CUSTOM_CHECK_STATE.UNINITIALIZED],u=function(e){var t=!0,n="";return c.includes(e)&&(t=!1,n=o.ERROR_CODE.captchaVerifyFailed,(0,i.pb)("".concat(o.ERROR_MESSAGE[n],"(").concat(n,")"))),{ok:t,errorCode:n}}},65251:function(e,t,n){"use strict";n.d(t,{UM:function(){return U},Lj:function(){return o.Lj},F$:function(){return l},Te:function(){return a.ZP},$Q:function(){return s},DL:function(){return o.DL},tY:function(){return o.ZP},iQ:function(){return w.i},KX:function(){return b},nY:function(){return o.nY},yB:function(){return o.yB},tV:function(){return V},Cf:function(){return q},he:function(){return C},r5:function(){return i},i2:function(){return L},l7:function(){return S},fP:function(){return R},lL:function(){return x},c7:function(){return k},bg:function(){return K},qI:function(){return w.q},qh:function(){return f.qh},ZT:function(){return $},PP:function(){return j},hJ:function(){return G},Bj:function(){return H},yD:function(){return B},CF:function(){return d.CF},pb:function(){return d.pb},v4:function(){return f.v4}});var r=n(3997),o=n(46046),i=function(e){var t="A",n=r.Y8.ABTestingManager.valueForKeySync(e);return o.ZP.logDevTrace({type:"getABVersion",expCode:e,value:n}),"string"===typeof n&&n&&(t=n),t},a=n(70487),c=n(57042),u=n(24460),s=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,null,[{key:"showLoading",value:function(e){var t;r.Y8.showLoading({title:null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:"",mask:!0})}},{key:"hideLoading",value:function(){r.Y8.hideLoading()}}]),e}(),l=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,null,[{key:"emit",value:function(e,t){try{r.Y8.Observer.noti(e,t||{})}catch(e){o.ZP.logDevTrace({info:"EventUtil.emit failed",message:e.message})}}},{key:"addObserver",value:function(e,t,n){n?r.Y8.Observer.addObserverForKeyOnly(e,t):r.Y8.Observer.addObserverForKey(e,t)}},{key:"removeObserver",value:function(e,t){"function"===typeof t?r.Y8.Observer.removeObserverForKey(e,t):r.Y8.Observer.removeAllObserversForKey(e)}}]),e}(),d=n(54844),f=n(21928),p=n(298),h=n(46294),g=n(38555);function v(e){var t=e.errMsg||e.message||"";if("request:fail invalid url"===t||"request:fail"===t){var n=new Error(t);return n.respErrorType=h.ServiceResponseErrorType.INVALID_URL,n}if("request:fail timeout"===t){var r=new Error(t);return r.respErrorType=h.ServiceResponseErrorType.TIMEOUT,r}return e}var y,_=r.Y8.canIUse("request.success.profile"),m=function(){return Date.now()},T=function(e,t){setTimeout((function(){o.ZP.logDevTrace((0,p.Z)({type:"profile",url:e},t))}),0)},C=function(e,t,n){return new Promise((function(o,i){var a=m(),c=0,u=0;r.Y8.request({method:t.method,url:e,data:(0,p.Z)((0,p.Z)({},t.data),{},{head:{extension:[{name:"sequence",value:(null===n||void 0===n?void 0:n.sequenceId)||""}]}}),success:function(e){c=m();var t=e||{},n=t.statusCode;if(n=Number(n),Number.isNaN(n)&&i(e),200===n)o(e&&e.data?e.data:{});else{var r=new Error("request failed: ".concat(n));r.respErrorType=h.ServiceResponseErrorType.HTTP_ERROR,r.httpCode=n,i(r)}},complete:function(t){u=m();try{var n={start:a,onSuccess:c,onComplete:u};if(_&&t&&t.profile){var r=t.profile,o=r.fetchStart,i=r.responseEnd,s=r.responseStart,l=r.rtt,d=r.httpRttEstimate,f=r.transportRttEstimate,p=r.requestStart;Object.assign(n,{fetchStart:o,waitDuration:o-a,installReqDuration:p-o,respDuration:i-s,onCompleteDuration:u-i,avgRtt:Math.floor((l+d+f)/3)},{profile:t.profile})}T(e,n)}catch(e){}},fail:function(e){i(v(e))},timeout:t.timeout||g.F.timeout})}))},E=n(92954),I=n.n(E),b=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,null,[{key:"safePxTransform",value:function(e){try{return I().pxTransform(e)}catch(n){o.ZP.logDevTrace({type:"safePxTransform",stage:"firstTime",message:n.message});try{I().initPxTransform({designWidth:750,deviceRatio:{640:1.17,750:1,828:.905}});var t=I().pxTransform(e);return o.ZP.logDevTrace({type:"safePxTransform",stage:"retry",result:t}),t}catch(t){return o.ZP.logDevTrace({type:"safePxTransform",stage:"secondTime",message:t.message}),"".concat(e)}}}}]),e}(),O=n(93212),P=null;function A(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e&&P&&"object"===(0,O.Z)(P)&&Object.keys(P).length)return P;try{P=r.Y8.getSystemInfoSync()}catch(e){console.warn(e)}return P}A();var S=function(){var e=A();return e?e.model:""},R=function(){var e=A();return e?"".concat(e.platform):""},L=function(){return y||(y=r.Y8.getStorageSync("clientID"),y)},N=function(){return r.z4.env},k=function(){return"fat"===N()},w=n(67581),D=new Map,M=function(e,t){return t-Math.floor((Date.now()-e)/1e3)},x=function(e,t){var n=D.get(e);if(n){var r=M(n,t);if(r>0)return r}return 0},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();D.set(e,t)},Z=n(45023),U={agreement:"agreement",policy:"policy"},F=(0,Z.Z)((0,Z.Z)({},U.agreement,(0,r.dK)("accountsAgreement")),U.policy,(0,r.dK)("accountsPolicy")),j=function(e){var t=e.currentTarget||e.target||{},n=t.dataset,i=n?n.jumptype:"",a=F[i]||"";a&&(o.ZP.logClick(e,"c_click_agreement_".concat(i)),r.Y8.navigateTo({url:a}))},H={showLoading:function(){s.showLoading()},hideLoading:function(){s.hideLoading()}},B={showToast:function(e,t){t&&(0,d.pb)(t)},hideToast:d.PE},Y=n(90129),W=n(89299),q=function(e){var t=(0,w.q)(e),n=(0,Y.Z)(t,2),r=n[0],o=n[1];return r||(0,d.pb)(W.h[o]),r},V=function(e,t){var n=(0,w.q)(e),r=(0,Y.Z)(n,2),o=r[0],i=r[1],a=t.length>0&&t.trim().length>0;if(!o){var c=W.h[i];return i!==w.i.NONE_INPUT||a?(0,d.pb)(c):(0,d.pb)("".concat(c,"\u548c\u52a8\u6001\u7801")),!1}return!!a||((0,d.pb)("\u8bf7\u8f93\u5165\u52a8\u6001\u7801"),!1)};function K(){return Boolean(r.Y8.user.auth)}var $=function(){}},67581:function(e,t,n){"use strict";n.d(t,{i:function(){return r},q:function(){return i}});var r=function(e){return e[e["NULL"]=0]="NULL",e[e["NONE_INPUT"]=1]="NONE_INPUT",e[e["FORMAT_INVALID"]=2]="FORMAT_INVALID",e}({}),o=/^1([3456789]\d{9})$/,i=function(e){return"string"===typeof e&&e&&0!==e.trim().length?o.test(e.trim())?[!0,r.NULL]:[!1,r.FORMAT_INVALID]:[!1,r.NONE_INPUT]}},28641:function(e,t,n){"use strict";function r(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=taroCommon.js.map