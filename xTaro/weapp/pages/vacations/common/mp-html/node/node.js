"use strict";(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[3481],{95610:function(t,r,i){var e=i(33675),a=i.n(e);function o(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}Component({data:{ctrl:{}},properties:{childs:Array,opts:Array},attached:function(){this.triggerEvent("add",this,{bubbles:!0,composed:!0})},methods:{noop:function(){},getNode:function(t){try{for(var r=t.split("_"),i=this.data.childs[r[0]],e=1;e<r.length;e++)i=i.children[r[e]];return i}catch(t){return{}}},play:function(t){if(this.root.data.pauseVideo){for(var r=!1,i=t.target.id,e=this.root._videos.length;e--;)this.root._videos[e].id===i?r=!0:this.root._videos[e].pause();if(!r){var a=wx.createVideoContext(i,this);a.id=i,this.root._videos.push(a)}}},imgTap:function(t){var r=this.getNode(t.target.dataset.i);if(r.a)return this.linkTap(r.a);if(!r.attrs.ignore&&(this.root.triggerEvent("imgtap",r.attrs),this.root.data.previewImg)){var i=this.root.imgList[r.i];wx.previewImage({current:i,urls:this.root.imgList})}},imgLoad:function(t){try{var r,i=t.target.dataset.i,e=this.getNode(i);e.w?(this.data.opts[1]&&!this.data.ctrl[i]||-1===this.data.ctrl[i])&&(r=1):r=t.detail.width,r&&this.setData(o({},"ctrl."+i,r))}catch(t){}},linkTap:function(t){var r=t.currentTarget?this.getNode(t.currentTarget.dataset.i):{},i=r.attrs||t,e=i.href;this.root.triggerEvent("linktap",Object.assign({innerText:this.root.getText(r.children||[])},i)),e&&("#"===e[0]?this.root.navigateTo(e.substring(1)).catch((function(){})):e.includes("://")?this.root.data.copyLink&&wx.setClipboardData({data:e,success:function(){return wx.showToast({title:"\u94fe\u63a5\u5df2\u590d\u5236"})}}):a().navigateTo({url:e,fail:function(){a().switchTab({url:e,fail:function(){}})}}))},mediaError:function(t){var r=t.target.dataset.i,i=this.getNode(r);if("video"===i.name||"audio"===i.name){var e=(this.data.ctrl[r]||0)+1;if(e>i.src.length&&(e=0),e<i.src.length)return this.setData(o({},"ctrl."+r,e))}else"img"===i.name&&this.data.opts[2]&&this.setData(o({},"ctrl."+r,-1));this.root&&this.root.triggerEvent("error",{source:i.name,attrs:i.attrs,errMsg:t.detail.errMsg})}}})},33675:function(t){t.exports=require("../../../../../cwx/cwx")}},function(t){var r=function(r){return t(t.s=r)};t.O(0,[8592],(function(){return r(95610)}));t.O()}]);
//# sourceMappingURL=node.js.map