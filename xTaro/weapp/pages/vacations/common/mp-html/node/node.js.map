{"version":3,"file":"pages/vacations/common/mp-html/node/node.js","mappings":"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","sources":["webpack://tarobaseproject/pages_vacations_common_mp-html_node_node.js"],"sourcesContent":["\"use strict\";\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[3481],{\n\n/***/ 95610:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n/* harmony import */ var _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(33675);\n/* harmony import */ var _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nfunction t(t, e, i) {\n  return e in t ? Object.defineProperty(t, e, {\n    value: i,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : t[e] = i, t;\n}\nComponent({\n  data: {\n    ctrl: {}\n  },\n  properties: {\n    childs: Array,\n    opts: Array\n  },\n  attached: function attached() {\n    this.triggerEvent('add', this, {\n      bubbles: !0,\n      composed: !0\n    });\n  },\n  methods: {\n    noop: function noop() {},\n    getNode: function getNode(t) {\n      try {\n        for (var e = t.split('_'), i = this.data.childs[e[0]], r = 1; r < e.length; r++) i = i.children[e[r]];\n        return i;\n      } catch (err) {\n        return {};\n      }\n    },\n    play: function play(t) {\n      if (this.root.data.pauseVideo) {\n        for (var e = !1, i = t.target.id, r = this.root._videos.length; r--;) this.root._videos[r].id === i ? e = !0 : this.root._videos[r].pause();\n        if (!e) {\n          var s = wx.createVideoContext(i, this);\n          s.id = i, this.root._videos.push(s);\n        }\n      }\n    },\n    imgTap: function imgTap(t) {\n      var e = this.getNode(t.target.dataset.i);\n      if (e.a) return this.linkTap(e.a);\n      if (!e.attrs.ignore && (this.root.triggerEvent('imgtap', e.attrs), this.root.data.previewImg)) {\n        var i = this.root.imgList[e.i];\n        wx.previewImage({\n          current: i,\n          urls: this.root.imgList\n        });\n      }\n    },\n    imgLoad: function imgLoad(e) {\n      try {\n        var i,\n          r = e.target.dataset.i,\n          s = this.getNode(r);\n        s.w ? (this.data.opts[1] && !this.data.ctrl[r] || -1 === this.data.ctrl[r]) && (i = 1) : i = e.detail.width, i && this.setData(t({}, 'ctrl.' + r, i));\n      } catch (err) {\n        // do nothing\n      }\n    },\n    linkTap: function linkTap(t) {\n      var e = t.currentTarget ? this.getNode(t.currentTarget.dataset.i) : {},\n        i = e.attrs || t,\n        r = i.href;\n      this.root.triggerEvent('linktap', Object.assign({\n        innerText: this.root.getText(e.children || [])\n      }, i)), r && ('#' === r[0] ? this.root.navigateTo(r.substring(1)).catch(function () {}) : r.includes('://') ? this.root.data.copyLink && wx.setClipboardData({\n        data: r,\n        success: function success() {\n          return wx.showToast({\n            title: '链接已复制'\n          });\n        }\n      }) : _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0___default().navigateTo({\n        url: r,\n        fail: function fail() {\n          _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0___default().switchTab({\n            url: r,\n            fail: function fail() {}\n          });\n        }\n      }));\n    },\n    mediaError: function mediaError(e) {\n      var i = e.target.dataset.i,\n        r = this.getNode(i);\n      if ('video' === r.name || 'audio' === r.name) {\n        var s = (this.data.ctrl[i] || 0) + 1;\n        if (s > r.src.length && (s = 0), s < r.src.length) return this.setData(t({}, 'ctrl.' + i, s));\n      } else 'img' === r.name && this.data.opts[2] && this.setData(t({}, 'ctrl.' + i, -1));\n      this.root && this.root.triggerEvent('error', {\n        source: r.name,\n        attrs: r.attrs,\n        errMsg: e.detail.errMsg\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 33675:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../../cwx/cwx\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [8592], function() { return __webpack_exec__(95610); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);"],"names":["wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0__","_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0___default","n","t","e","i","Object","defineProperty","value","enumerable","configurable","writable","Component","data","ctrl","properties","childs","Array","opts","attached","this","triggerEvent","bubbles","composed","methods","noop","getNode","split","r","length","children","err","play","root","pauseVideo","target","id","_videos","pause","s","createVideoContext","imgTap","dataset","a","linkTap","attrs","ignore","previewImg","imgList","previewImage","current","urls","imgLoad","w","detail","width","setData","currentTarget","href","assign","innerText","getText","navigateTo","substring","catch","includes","copyLink","setClipboardData","success","showToast","title","url","fail","switchTab","mediaError","name","src","source","errMsg","module","exports","require","__webpack_exec__","moduleId","O"],"sourceRoot":""}