{"version":3,"file":"pages/vacations/detail/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_vacations_detail_index.js"],"sourcesContent":["\"use strict\";\nrequire(\"../taroCommon\");\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[9446],{\n\n/***/ 88287:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(79301);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(95308);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(298);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(57042);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24460);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(81876);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(21867);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(86066);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(45023);\n// EXTERNAL MODULE: ./src/pages/vacations/commonModule.prod.js\nvar commonModule_prod = __webpack_require__(36517);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(90129);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: ./node_modules/@tarojs/taro/index.js\nvar taro = __webpack_require__(92954);\nvar taro_default = /*#__PURE__*/__webpack_require__.n(taro);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(68277);\n// EXTERNAL MODULE: ./src/pages/vacations/platform/index.ts\nvar platform = __webpack_require__(86582);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(22276);\n// EXTERNAL MODULE: ./src/pages/vacations/isomorphic/util/vdate.ts\nvar vdate = __webpack_require__(22394);\n;// CONCATENATED MODULE: ./src/pages/vacations/isomorphic/util/constants.ts\n\n\n//  trip /ctrip app \nvar IsTripApp = platform/* Application.appId */.Mx.appId === '37';\nvar IsCtripApp = !IsTripApp;\nvar version = platform/* Application.version */.Mx.version;\nvar reg = /(\\d+)\\.(\\d+)\\.?(\\d+)?/;\nvar appVersion = version.replace(reg, function (str, $1, $2, $3) {\n  var _pad = function _pad(str, len) {\n    str = str.toString();\n    if (str.length < len) {\n      var fill = new Array(len).join('0');\n      str = (fill + str).substr(-len);\n    }\n    return str;\n  };\n  $2 = _pad($2, 2);\n  $3 = $3 ? _pad($3, 3) : '000';\n  return $1 + $2 + $3;\n});\nvar HTTPS_HOST = {\n  fat: 'https://m.ctrip.fat67.qa.nt.ctripcorp.com',\n  uat: 'https://m.ctrip.uat.qa.nt.ctripcorp.com',\n  prd: 'https://m.ctrip.com',\n  prod: 'https://m.ctrip.com'\n}[platform/* Env.getEnvType */.Xb.getEnvType()];\n;// CONCATENATED MODULE: ./src/pages/vacations/isomorphic/pages/detail/reducer.ts\n\n\n\n\nvar _excluded = [\"CostInfoList\", \"FeeInfoList\", \"OrderKnow\", \"Visa\", \"SelfPayInfoList\", \"PMRecomendInfo\", \"DescriptionInfo\", \"TravelIntroductionInfo\", \"priceCalendar\", \"groupChildren\", \"productExtend\", \"servicePerson\", \"userDestinationOrder\", \"askStatus\", \"imageStyleInfo\"],\n  _excluded2 = [\"copiedOriginalProductState\", \"newProcessSelectDate\"],\n  _excluded3 = [\"copiedNewProductState\", \"newProcessSelectDate\"],\n  _excluded4 = [\"PriceInfo\", \"CostInfoList\", \"FeeInfoList\", \"OrderKnow\", \"Visa\", \"SelfPayInfoList\", \"PMRecomendInfo\", \"DescriptionInfo\", \"TravelIntroductionInfo\", \"priceCalendar\", \"groupChildren\", \"servicePerson\", \"userDestinationOrder\", \"askStatus\"];\n\n\n\n/* harmony default export */ var reducer = ({\n  UPDATE_STATE: function UPDATE_STATE(state, data) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), data);\n  },\n  UPDATE_POP_STATUS: function UPDATE_POP_STATUS(state, statusInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), statusInfo);\n  },\n  UPDATE_URL_QUERY: function UPDATE_URL_QUERY(state, newQuery) {\n    var query = state.query;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      query: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, query), newQuery)\n    });\n  },\n  UPDATE_PRODUCT_BASIC_INFO: function UPDATE_PRODUCT_BASIC_INFO(state, _ref) {\n    var pageSetting = _ref.pageSetting,\n      productInfo = _ref.productInfo,\n      userInfo = _ref.userInfo,\n      isLogin = _ref.isLogin,\n      CruiseDepartDate = _ref.CruiseDepartDate,\n      wakenUpData = _ref.wakenUpData,\n      isPreSale = _ref.isPreSale,\n      isShowD2DSwitch = _ref.isShowD2DSwitch,\n      isShowD2DSwitch_p2c = _ref.isShowD2DSwitch_p2c;\n    var query = state.query,\n      pageStatus = state.pageStatus;\n    var BasicInfo = productInfo.BasicInfo,\n      MediaInfo = productInfo.MediaInfo,\n      TagGroupInfo = productInfo.TagGroupInfo,\n      BookInfo = productInfo.BookInfo,\n      ScheduleInfo = productInfo.ScheduleInfo,\n      PriceInfo = productInfo.PriceInfo,\n      BasicExtendInfo = productInfo.BasicExtendInfo,\n      TourGroupInfo = productInfo.TourGroupInfo,\n      ExtInfo = productInfo.ExtInfo,\n      qConfig = productInfo.qConfig,\n      TravelList = productInfo.TravelList,\n      SegmentInfo = productInfo.SegmentInfo;\n    var isCruise = BasicInfo.isCruise,\n      isStudy = BasicInfo.isStudy,\n      isDiyfhxsdp = BasicInfo.isDiyfhxsdp,\n      isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp;\n    var _ref2 = MediaInfo || {},\n      _ref2$ImgList = _ref2.ImgList,\n      ImgList = _ref2$ImgList === void 0 ? [] : _ref2$ImgList,\n      categoryStrategy = _ref2.categoryStrategy;\n    // categoryStrategy = 2\n    // \n    var hasVideo = MediaInfo && MediaInfo.VideoInfoList && MediaInfo.VideoInfoList.length > 0;\n    // \n    var isSetCountDown = !!BookInfo.EffectTime && BookInfo.EffectTime.indexOf('-0000') === -1;\n    // \n    var countDownStatus = isSetCountDown ? {\n      SaleStartTime: vdate/* default.transformTimeStamp */.Z.transformTimeStamp(BookInfo.EffectTime),\n      SaleEndTime: vdate/* default.transformTimeStamp */.Z.transformTimeStamp(BookInfo.ExpireTime),\n      ServerTime: vdate/* default.transformTimeStamp */.Z.transformTimeStamp(ScheduleInfo.ServiceDateTime),\n      Status: ''\n    } : null;\n\n    //  [] / [] ()\n    var isShowSoldOutRecommend = !BookInfo.IsBook || !ScheduleInfo || !ScheduleInfo.HasInventory || countDownStatus && countDownStatus.Status === 'end';\n\n    //  / \n    var TourGroupProductInfo = TourGroupInfo.TourGroupProductInfo;\n    var _TagGroupInfo$Special = TagGroupInfo.SpecialTagList,\n      SpecialTagList = _TagGroupInfo$Special === void 0 ? [] : _TagGroupInfo$Special;\n    var isMultiLine = !!TourGroupProductInfo && TourGroupProductInfo.length > 1;\n    var isMultiTravel = !!TravelList && TravelList.length > 1;\n    var activeProductId = BasicInfo.ProductId;\n    var activeAlias = TravelList && TravelList.length > 0 ? TravelList[0].Alias : '';\n    pageStatus = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n      // \n      isRetail: BasicInfo.SaleMode === 'R',\n      // \n      isAgent: BasicInfo.SaleMode === 'P',\n      // \n      prodType: isCruise ? 'cru' : isStudy ? 'stt' : isDiyfhxsdp ? 'diy' : 'grp',\n      // \n      isCrhTag: query.identifier === 'crh',\n      // \n      hasVideo: hasVideo,\n      // \n      isSetCountDown: isSetCountDown,\n      //  [] / [] ()\n      isShowSoldOutRecommend: isShowSoldOutRecommend,\n      // \n      isMultiLine: isMultiLine,\n      // \n      isMultiTravel: isMultiTravel,\n      // id\n      activeProductId: activeProductId,\n      // \n      activeAlias: activeAlias,\n      // \n      isExtendedStay: isPureDiyfhxsdp && SegmentInfo && !SegmentInfo.IsFixSegment\n    });\n    var _getMemberDiscountInf = getMemberDiscountInfo(ExtInfo),\n      isMemberDiscountProduct = _getMemberDiscountInf.isMemberDiscountProduct,\n      isShowMemberDiscountInfo = _getMemberDiscountInf.isShowMemberDiscountInfo,\n      isShowFlightDiscountInfo = _getMemberDiscountInf.isShowFlightDiscountInfo,\n      memeberDiscount = _getMemberDiscountInf.memeberDiscount;\n    var _ref3 = qConfig || {},\n      isPremium = _ref3.isPremium;\n    if (BasicInfo.Level === 6) {\n      isPremium = true;\n    }\n    var currentRouteInfo = {\n      isLoaded: true,\n      SubName: BasicInfo.SubName,\n      BookInfo: BookInfo,\n      TagGroupInfo: TagGroupInfo,\n      BasicExtendInfo: BasicExtendInfo,\n      PriceInfo: PriceInfo,\n      SegmentInfo: SegmentInfo,\n      MediaInfo: MediaInfo,\n      isMemberDiscountProduct: isMemberDiscountProduct,\n      isShowMemberDiscountInfo: isShowMemberDiscountInfo,\n      isShowFlightDiscountInfo: isShowFlightDiscountInfo,\n      memeberDiscount: memeberDiscount,\n      // /\n      BookingDay: BasicInfo.BookingDay,\n      BookingTime: BasicInfo.BookingTime\n\n      // scheduleDates: priceCalendar.scheduleDates,\n      // dailyMinPrices: priceCalendar.dailyMinPrices,\n    };\n\n    var routeInfo = {};\n\n    // mark current route is loaded\n    if (isMultiLine) {\n      TourGroupProductInfo.forEach(function (item) {\n        routeInfo[item.ProductId] = item.ProductId === activeProductId ? currentRouteInfo : {\n          isLoaded: false\n        };\n      });\n    } else if (isMultiTravel) {\n      TravelList.forEach(function (item) {\n        routeInfo[item.Alias] = item.Alias === activeAlias ? currentRouteInfo : {\n          isLoaded: false\n        };\n      });\n    }\n    var payload = {\n      pageSetting: pageSetting,\n      userInfo: userInfo,\n      isLogin: isLogin,\n      CruiseDepartDate: CruiseDepartDate,\n      wakenUpData: wakenUpData\n    };\n\n    //  0:tab;1:tab;2:tab\n    var isImageUpdateVersionB = categoryStrategy === 2,\n      isTabStyle = categoryStrategy === 1 || categoryStrategy === 2;\n\n    // tpal\n    var isTpalStyle = false,\n      isTpalStyleForFlightDiscount = false;\n    SpecialTagList.forEach(function (tagInfo, index) {\n      if ((tagInfo === null || tagInfo === void 0 ? void 0 : tagInfo.TagId) == 2173) {\n        isTpalStyle = isTabStyle;\n        isTpalStyleForFlightDiscount = true;\n      }\n    });\n    var preloadProductImageList = [];\n    if (ImgList && ImgList[0] && ImgList[0].UrlList && ImgList[0].UrlList[0]) {\n      var LCPImage = ImgList[0].UrlList[0].Value;\n      if (LCPImage) {\n        LCPImage = LCPImage.replace('750_420_Q90.jpg', '640_640_Q80.webp');\n        preloadProductImageList.push(LCPImage);\n      }\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), productInfo), payload), {}, {\n      isPremium: isPremium,\n      pageStatus: pageStatus,\n      currentRouteInfo: currentRouteInfo,\n      countDownStatus: countDownStatus,\n      isMemberDiscountProduct: isMemberDiscountProduct,\n      isShowMemberDiscountInfo: isShowMemberDiscountInfo,\n      isShowFlightDiscountInfo: isShowFlightDiscountInfo,\n      memeberDiscount: memeberDiscount,\n      routeInfo: routeInfo,\n      isPreSale: isPreSale,\n      isShowD2DSwitch: isShowD2DSwitch,\n      isShowD2DSwitch_p2c: isShowD2DSwitch_p2c,\n      isTpalStyle: isTpalStyle,\n      isTpalStyleForFlightDiscount: isTpalStyleForFlightDiscount,\n      mediaInfoCurRoute: MediaInfo,\n      isTabStyle: isTabStyle,\n      isImageUpdateVersionB: isImageUpdateVersionB,\n      preloadProductImageList: preloadProductImageList\n    });\n  },\n  //  \n  SWITCH_TO_NEW_PRODUCT: function SWITCH_TO_NEW_PRODUCT(state, _ref4) {\n    var productInfo = _ref4.productInfo;\n    var pageStatus = state.pageStatus,\n      MediaInfo = state.MediaInfo,\n      isTabStyle = state.isTabStyle;\n    var BasicInfo = productInfo.BasicInfo,\n      TagGroupInfo = productInfo.TagGroupInfo,\n      BookInfo = productInfo.BookInfo,\n      PriceInfo = productInfo.PriceInfo,\n      BasicExtendInfo = productInfo.BasicExtendInfo,\n      TourGroupInfo = productInfo.TourGroupInfo,\n      ExtInfo = productInfo.ExtInfo,\n      qConfig = productInfo.qConfig,\n      TravelList = productInfo.TravelList,\n      SegmentInfo = productInfo.SegmentInfo,\n      newRouteMediaInfo = productInfo.MediaInfo,\n      expertInfo = productInfo.expertInfo;\n\n    //  / \n    var TourGroupProductInfo = TourGroupInfo.TourGroupProductInfo;\n    var isMultiLine = !!TourGroupProductInfo && TourGroupProductInfo.length > 1;\n    var isMultiTravel = !!TravelList && TravelList.length > 1;\n    var activeProductId = BasicInfo.ProductId;\n    var activeAlias = TravelList && TravelList.length > 0 ? TravelList[0].Alias : '';\n\n    // \n    var curLineHasVideo = newRouteMediaInfo && newRouteMediaInfo.VideoInfoList && newRouteMediaInfo.VideoInfoList.length > 0;\n    var lastLineHasVideo = pageStatus.hasVideo;\n    pageStatus = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n      // \n      isMultiLine: isMultiLine,\n      // \n      isMultiTravel: isMultiTravel,\n      // id\n      activeProductId: activeProductId,\n      // \n      activeAlias: activeAlias,\n      hasVideo: isTabStyle ? curLineHasVideo : lastLineHasVideo\n    });\n    var isPremium = qConfig.isPremium;\n    if (BasicInfo.Level === 6) {\n      isPremium = true;\n    }\n    var currentRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({\n      isLoaded: true,\n      SubName: BasicInfo.SubName,\n      BookInfo: BookInfo,\n      TagGroupInfo: TagGroupInfo,\n      BasicExtendInfo: BasicExtendInfo,\n      PriceInfo: PriceInfo,\n      SegmentInfo: SegmentInfo,\n      MediaInfo: newRouteMediaInfo\n    }, getMemberDiscountInfo(ExtInfo)), {}, {\n      // /\n      BookingDay: BasicInfo.BookingDay,\n      BookingTime: BasicInfo.BookingTime\n    });\n    var routeInfo = {};\n\n    // mark current route is loaded\n    if (isMultiLine) {\n      TourGroupProductInfo.forEach(function (item) {\n        routeInfo[item.ProductId] = item.ProductId === activeProductId ? currentRouteInfo : {\n          isLoaded: false\n        };\n      });\n    } else if (isMultiTravel) {\n      TravelList.forEach(function (item) {\n        routeInfo[item.Alias] = item.Alias === activeAlias ? currentRouteInfo : {\n          isLoaded: false\n        };\n      });\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      //  state\n      copiedOriginalProductState: state\n    }, productInfo), {}, {\n      isPremium: isPremium,\n      pageStatus: pageStatus,\n      currentRouteInfo: currentRouteInfo\n    }, getMemberDiscountInfo(ExtInfo)), {}, {\n      routeInfo: routeInfo,\n      mediaInfoCurRoute: newRouteMediaInfo,\n      // \n      MediaInfo: MediaInfo,\n      // \n      priceCalendar: null,\n      newProcessSelectDate: ''\n    });\n  },\n  SWITCH_TO_NEW_PRODUCT_SECOND: function SWITCH_TO_NEW_PRODUCT_SECOND(state, info) {\n    var productInfo = info.other,\n      PreSaleProductInfo = info.PreSaleProductInfo;\n    var pageStatus = state.pageStatus,\n      currentRouteInfo = state.currentRouteInfo,\n      routeInfo = state.routeInfo,\n      originalProductExtend = state.productExtend;\n    var isMultiLine = pageStatus.isMultiLine,\n      isMultiTravel = pageStatus.isMultiTravel,\n      activeProductId = pageStatus.activeProductId,\n      activeAlias = pageStatus.activeAlias;\n    var CostInfoList = productInfo.CostInfoList,\n      FeeInfoList = productInfo.FeeInfoList,\n      OrderKnow = productInfo.OrderKnow,\n      Visa = productInfo.Visa,\n      SelfPayInfoList = productInfo.SelfPayInfoList,\n      PMRecomendInfo = productInfo.PMRecomendInfo,\n      DescriptionInfo = productInfo.DescriptionInfo,\n      TravelIntroductionInfo = productInfo.TravelIntroductionInfo,\n      priceCalendar = productInfo.priceCalendar,\n      groupChildren = productInfo.groupChildren,\n      productExtend = productInfo.productExtend,\n      servicePerson = productInfo.servicePerson,\n      userDestinationOrder = productInfo.userDestinationOrder,\n      askStatus = productInfo.askStatus,\n      imageStyleInfo = productInfo.imageStyleInfo,\n      other = (0,objectWithoutProperties/* default */.Z)(productInfo, _excluded);\n    currentRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, currentRouteInfo), {}, {\n      CostInfoList: CostInfoList,\n      FeeInfoList: FeeInfoList,\n      OrderKnow: OrderKnow,\n      Visa: Visa,\n      SelfPayInfoList: SelfPayInfoList,\n      PMRecomendInfo: PMRecomendInfo,\n      DescriptionInfo: DescriptionInfo,\n      TravelIntroductionInfo: UPDATE_SIMPLE_TRAVEL_INTRODUCTION(TravelIntroductionInfo),\n      scheduleDates: priceCalendar.scheduleDates,\n      dailyMinPrices: priceCalendar.dailyMinPrices,\n      servicePerson: servicePerson,\n      userDestinationOrder: userDestinationOrder,\n      askStatus: askStatus,\n      imageStyleInfo: imageStyleInfo\n    });\n\n    // \n    if (PreSaleProductInfo && PreSaleProductInfo.PreSaleNotice) {\n      currentRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, currentRouteInfo), {}, {\n        PreSaleNotice: PreSaleProductInfo.PreSaleNotice,\n        PreSaleTagGroupInfo: PreSaleProductInfo.TagGroupInfo\n      });\n    }\n    if (isMultiLine) {\n      routeInfo[activeProductId] = currentRouteInfo;\n    } else if (isMultiTravel) {\n      routeInfo[activeAlias] = currentRouteInfo;\n    }\n    productExtend = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, productExtend), {}, {\n      MoreRecommendProductList: originalProductExtend.MoreRecommendProductList\n    });\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), other), {}, {\n      priceCalendar: priceCalendar,\n      currentRouteInfo: currentRouteInfo,\n      routeInfo: routeInfo,\n      MainPMRecomendInfo: PMRecomendInfo,\n      secondInfoLoaded: true,\n      // \n      productExtend: productExtend\n    });\n  },\n  // \n  SWITCH_BACKTO_ORIGINAL_PRODUCT: function SWITCH_BACKTO_ORIGINAL_PRODUCT(state) {\n    var copiedOriginalProductState = state.copiedOriginalProductState,\n      newProcessSelectDate = state.newProcessSelectDate,\n      other = (0,objectWithoutProperties/* default */.Z)(state, _excluded2);\n    if (copiedOriginalProductState) {\n      return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, copiedOriginalProductState), {}, {\n        copiedNewProductState: other,\n        //  TAB \n        pageStatus: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, copiedOriginalProductState.pageStatus), {}, {\n          curD2DSwitchType: copiedOriginalProductState.pageStatus.initD2DSwitchType\n        }),\n        newProcessSelectDate: newProcessSelectDate\n      });\n    } else {\n      return state;\n    }\n  },\n  // \n  SWITCH_BACKTO_NEW_PRODUCT: function SWITCH_BACKTO_NEW_PRODUCT(state) {\n    var copiedNewProductState = state.copiedNewProductState,\n      newProcessSelectDate = state.newProcessSelectDate,\n      other = (0,objectWithoutProperties/* default */.Z)(state, _excluded3);\n    var targetD2DSwitchType = copiedNewProductState.pageStatus.initD2DSwitchType === 1 ? 2 : 1;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, copiedNewProductState), {}, {\n      copiedOriginalProductState: other,\n      //  TAB \n      pageStatus: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, copiedNewProductState.pageStatus), {}, {\n        curD2DSwitchType: targetD2DSwitchType\n      }),\n      newProcessSelectDate: newProcessSelectDate\n    });\n  },\n  //  copied store\n  RESET_D2DCOPIED_STORE: function RESET_D2DCOPIED_STORE(state) {\n    var pageStatus = state.pageStatus;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      copiedOriginalProductState: null,\n      copiedNewProductState: null,\n      // tab\n      pageStatus: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n        curD2DSwitchType: pageStatus.initD2DSwitchType\n      })\n    });\n  },\n  REFRESH_PRICE_INFO: function REFRESH_PRICE_INFO(state, _ref5) {\n    var productInfo = _ref5.productInfo;\n    var pageStatus = state.pageStatus,\n      currentRouteInfo = state.currentRouteInfo,\n      routeInfo = state.routeInfo;\n    var BasicInfo = productInfo.BasicInfo,\n      BookInfo = productInfo.BookInfo,\n      ScheduleInfo = productInfo.ScheduleInfo,\n      PriceInfo = productInfo.PriceInfo,\n      priceCalendar = productInfo.priceCalendar,\n      groupCard = productInfo.groupCard;\n    var ProductId = BasicInfo.ProductId;\n    var _pageStatus = pageStatus,\n      isMultiLine = _pageStatus.isMultiLine,\n      isMultiTravel = _pageStatus.isMultiTravel,\n      activeProductId = _pageStatus.activeProductId,\n      activeAlias = _pageStatus.activeAlias;\n    var mainInfo = currentRouteInfo;\n    if (isMultiLine) {\n      mainInfo = routeInfo[ProductId];\n    }\n    if (isMultiTravel) {\n      mainInfo = routeInfo['A'];\n    }\n    currentRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mainInfo), {}, {\n      BookInfo: BookInfo,\n      PriceInfo: PriceInfo,\n      scheduleDates: priceCalendar.scheduleDates,\n      dailyMinPrices: priceCalendar.dailyMinPrices\n    });\n    pageStatus = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n      activeProductId: ProductId,\n      activeAlias: 'A'\n    });\n    if (isMultiLine) {\n      routeInfo[ProductId] = currentRouteInfo;\n      routeInfo[activeProductId].isLoaded = false;\n    } else if (isMultiTravel) {\n      routeInfo['A'] = currentRouteInfo;\n      routeInfo[activeAlias].isLoaded = false;\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      pageStatus: pageStatus,\n      ScheduleInfo: ScheduleInfo,\n      currentRouteInfo: currentRouteInfo,\n      routeInfo: routeInfo,\n      groupCard: groupCard\n    });\n  },\n  UPDATE_PRODUCT_SECOND_INFO: function UPDATE_PRODUCT_SECOND_INFO(state, info) {\n    var _expertInfo$summary;\n    var productInfo = info.other,\n      PreSaleProductInfo = info.PreSaleProductInfo,\n      isShowD2DSwitch = info.isShowD2DSwitch,\n      isShowD2DSwitch_p2c = info.isShowD2DSwitch_p2c;\n    var pageStatus = state.pageStatus,\n      currentRouteInfo = state.currentRouteInfo,\n      routeInfo = state.routeInfo;\n    var _pageStatus2 = pageStatus,\n      isMultiLine = _pageStatus2.isMultiLine,\n      isMultiTravel = _pageStatus2.isMultiTravel,\n      activeProductId = _pageStatus2.activeProductId,\n      activeAlias = _pageStatus2.activeAlias;\n    var PriceInfo = productInfo.PriceInfo,\n      CostInfoList = productInfo.CostInfoList,\n      FeeInfoList = productInfo.FeeInfoList,\n      OrderKnow = productInfo.OrderKnow,\n      Visa = productInfo.Visa,\n      SelfPayInfoList = productInfo.SelfPayInfoList,\n      PMRecomendInfo = productInfo.PMRecomendInfo,\n      DescriptionInfo = productInfo.DescriptionInfo,\n      TravelIntroductionInfo = productInfo.TravelIntroductionInfo,\n      priceCalendar = productInfo.priceCalendar,\n      groupChildren = productInfo.groupChildren,\n      servicePerson = productInfo.servicePerson,\n      userDestinationOrder = productInfo.userDestinationOrder,\n      askStatus = productInfo.askStatus,\n      other = (0,objectWithoutProperties/* default */.Z)(productInfo, _excluded4);\n    var expertInfo = productInfo.expertInfo,\n      imageStyleInfo = productInfo.imageStyleInfo;\n    currentRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, currentRouteInfo), {}, {\n      PriceInfo: PriceInfo,\n      CostInfoList: CostInfoList,\n      FeeInfoList: FeeInfoList,\n      OrderKnow: OrderKnow,\n      Visa: Visa,\n      SelfPayInfoList: SelfPayInfoList,\n      PMRecomendInfo: PMRecomendInfo,\n      DescriptionInfo: DescriptionInfo,\n      TravelIntroductionInfo: UPDATE_SIMPLE_TRAVEL_INTRODUCTION(TravelIntroductionInfo),\n      scheduleDates: priceCalendar.scheduleDates,\n      dailyMinPrices: priceCalendar.dailyMinPrices,\n      servicePerson: servicePerson,\n      userDestinationOrder: userDestinationOrder,\n      askStatus: askStatus,\n      imageStyleInfo: imageStyleInfo\n    });\n\n    // \n    var hasReviewInfo = expertInfo === null || expertInfo === void 0 || (_expertInfo$summary = expertInfo.summary) === null || _expertInfo$summary === void 0 ? void 0 : _expertInfo$summary.some(function (item) {\n      return (item === null || item === void 0 ? void 0 : item.count) > 0;\n    });\n    pageStatus.hasReviewInfo = hasReviewInfo;\n\n    // \n    if (PreSaleProductInfo && PreSaleProductInfo.PreSaleNotice) {\n      currentRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, currentRouteInfo), {}, {\n        PreSaleNotice: PreSaleProductInfo.PreSaleNotice,\n        PreSaleTagGroupInfo: PreSaleProductInfo.TagGroupInfo\n      });\n    }\n    if (isMultiLine) {\n      routeInfo[activeProductId] = currentRouteInfo;\n    } else if (isMultiTravel) {\n      routeInfo[activeAlias] = currentRouteInfo;\n    }\n\n    //  D2D TAB\n    var isShowD2DSwitchTab = false;\n\n    // TAB\n    var ParentsProductList = [];\n    if (isShowD2DSwitch && groupChildren && groupChildren.groups) {\n      var groups = groupChildren.groups;\n      if (groups && groups.length) {\n        //  type:2\n        var parentsGroup = groups.filter(function (item) {\n          return item.type === 2;\n        });\n        if (parentsGroup && parentsGroup.length) {\n          ParentsProductList = parentsGroup.filter(function (item) {\n            if (item && item.parentProductInfo && item.parentProductInfo.canBook) {\n              return true;\n            } else {\n              return false;\n            }\n          });\n          pageStatus = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n            // TAB 1 2\n            curD2DSwitchType: 2,\n            initD2DSwitchType: 2\n          });\n          if (ParentsProductList && ParentsProductList.length) {\n            isShowD2DSwitchTab = true;\n          }\n        }\n      }\n    }\n\n    // TAB\n    var ChildrenProductList = [];\n    if (isShowD2DSwitch_p2c && groupChildren && groupChildren.groups) {\n      var _groups = groupChildren.groups;\n      if (_groups && _groups.length) {\n        //  type:1\n        var childrenGroup = _groups.filter(function (item) {\n          return item.type === 1 && !!item.childProductInfoList;\n        });\n        if (childrenGroup && childrenGroup.length) {\n          ChildrenProductList = childrenGroup.map(function (cItem) {\n            var childProductInfoList = cItem.childProductInfoList;\n            var newChildProductInfoList = childProductInfoList.filter(function (lItem) {\n              return lItem.canBook;\n            });\n            return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, cItem), {}, {\n              childProductInfoList: newChildProductInfoList\n            });\n          });\n          pageStatus = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n            // TAB 1 2\n            curD2DSwitchType: 1,\n            initD2DSwitchType: 1\n          });\n          if (ChildrenProductList && ChildrenProductList.length) {\n            isShowD2DSwitchTab = true;\n          }\n        }\n      }\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), other), {}, {\n      PriceInfo: PriceInfo,\n      priceCalendar: priceCalendar,\n      currentRouteInfo: currentRouteInfo,\n      routeInfo: routeInfo,\n      MainPMRecomendInfo: PMRecomendInfo,\n      pageStatus: pageStatus,\n      secondInfoLoaded: true,\n      ParentsProductList: ParentsProductList,\n      ChildrenProductList: ChildrenProductList,\n      isShowD2DSwitchTab: isShowD2DSwitchTab\n    });\n  },\n  UPDATE_COMPOSITE_COUPON_INFO: function UPDATE_COMPOSITE_COUPON_INFO(state, compositeCoupon) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      compositeCoupon: compositeCoupon\n    });\n  },\n  UPDATE_CRUISE_TIMING_INFO: function UPDATE_CRUISE_TIMING_INFO(state, productInfo) {\n    var currentRouteInfo = state.currentRouteInfo;\n    var PriceInfo = productInfo.PriceInfo,\n      TravelIntroductionInfo = productInfo.TravelIntroductionInfo;\n    currentRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, currentRouteInfo), {}, {\n      TravelIntroductionInfo: UPDATE_SIMPLE_TRAVEL_INTRODUCTION(TravelIntroductionInfo)\n    });\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      PriceInfo: PriceInfo,\n      currentRouteInfo: currentRouteInfo\n    });\n  },\n  UPDATE_COUPON_COMPONENT_DATA: function UPDATE_COUPON_COMPONENT_DATA(state, data) {\n    var availableClaimList = data.availableClaimList,\n      availableUseList = data.availableUseList,\n      singkekList = data.singkekList,\n      receivedNouseList = data.receivedNouseList;\n    return SET_ROUTE_INFO(state, {\n      CouponInfo: {\n        availableClaimList: availableClaimList,\n        availableUseList: availableUseList,\n        singkekList: singkekList,\n        receivedNouseList: receivedNouseList\n      }\n    });\n  },\n  UPDATE_EMPTY_COUPON_COMPONENT_DATA: function UPDATE_EMPTY_COUPON_COMPONENT_DATA(state) {\n    return SET_ROUTE_INFO(state, {\n      CouponInfo: {}\n    });\n  },\n  SET_USER_INFO: function SET_USER_INFO(state, info) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), info);\n  },\n  UPDATE_STORE_INFO: function UPDATE_STORE_INFO(state, NearbyStoreInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      NearbyStoreInfo: NearbyStoreInfo\n    });\n  },\n  UPDATE_FAVOURITE_STATUS: function UPDATE_FAVOURITE_STATUS(state, myFavorites) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      myFavorites: myFavorites\n    });\n  },\n  UPDATE_FAVOURITE_MENU: function UPDATE_FAVOURITE_MENU(state, favoriteMenuStatus) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      favoriteMenuStatus: favoriteMenuStatus\n    });\n  },\n  /** update product info when data has been requested */\n  UPDATE_CURRENT_ROUTE: function UPDATE_CURRENT_ROUTE(state, info) {\n    var pageStatus = state.pageStatus,\n      isTabStyle = state.isTabStyle;\n    var activeProductId = pageStatus.activeProductId,\n      activeAlias = pageStatus.activeAlias;\n    var _info$targetProductId = info.targetProductId,\n      targetProductId = _info$targetProductId === void 0 ? activeProductId : _info$targetProductId,\n      _info$targetAlias = info.targetAlias,\n      targetAlias = _info$targetAlias === void 0 ? activeAlias : _info$targetAlias,\n      targetRouteItem = info.targetRouteItem;\n    var curLineHasVideo = (targetRouteItem === null || targetRouteItem === void 0 ? void 0 : targetRouteItem.MediaInfo) && targetRouteItem.MediaInfo.VideoInfoList && targetRouteItem.MediaInfo.VideoInfoList.length > 0;\n    var lastLineHasVideo = pageStatus.hasVideo;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      pageStatus: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n        activeProductId: targetProductId,\n        activeAlias: targetAlias,\n        hasVideo: isTabStyle ? curLineHasVideo : lastLineHasVideo\n      }),\n      currentRouteInfo: targetRouteItem,\n      mediaInfoCurRoute: (targetRouteItem === null || targetRouteItem === void 0 ? void 0 : targetRouteItem.MediaInfo) || {}\n    });\n  },\n  /** update product info when get muliti-line data */\n  UPDATE_MULTIPLE_LINE: function UPDATE_MULTIPLE_LINE(state, info) {\n    var routeInfo = state.routeInfo,\n      pageStatus = state.pageStatus,\n      currentRouteInfo = state.currentRouteInfo,\n      isTabStyle = state.isTabStyle;\n    var productInfo = info.productInfo,\n      targetProductId = info.targetProductId,\n      PreSaleProductInfo = info.PreSaleProductInfo;\n    var BasicInfo = productInfo.BasicInfo,\n      TagGroupInfo = productInfo.TagGroupInfo,\n      PMRecomendInfo = productInfo.PMRecomendInfo,\n      DescriptionInfo = productInfo.DescriptionInfo,\n      TravelIntroductionInfo = productInfo.TravelIntroductionInfo,\n      CostInfoList = productInfo.CostInfoList,\n      FeeInfoList = productInfo.FeeInfoList,\n      OrderKnow = productInfo.OrderKnow,\n      Visa = productInfo.Visa,\n      SegmentInfo = productInfo.SegmentInfo,\n      SelfPayInfoList = productInfo.SelfPayInfoList,\n      BasicExtendInfo = productInfo.BasicExtendInfo,\n      BookInfo = productInfo.BookInfo,\n      PriceInfo = productInfo.PriceInfo,\n      bookingRuleInfo = productInfo.bookingRuleInfo,\n      priceCalendar = productInfo.priceCalendar,\n      emotionalCues = productInfo.emotionalCues,\n      servicePerson = productInfo.servicePerson,\n      userDestinationOrder = productInfo.userDestinationOrder,\n      askStatus = productInfo.askStatus,\n      ExtInfo = productInfo.ExtInfo,\n      MediaInfo = productInfo.MediaInfo,\n      imageStyleInfo = productInfo.imageStyleInfo;\n    var curLineHasVideo = MediaInfo && MediaInfo.VideoInfoList && MediaInfo.VideoInfoList.length > 0;\n    var newRouteItem = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({\n      isLoaded: true,\n      SubName: BasicInfo.SubName,\n      TagGroupInfo: TagGroupInfo,\n      PMRecomendInfo: PMRecomendInfo,\n      DescriptionInfo: DescriptionInfo,\n      TravelIntroductionInfo: UPDATE_SIMPLE_TRAVEL_INTRODUCTION(TravelIntroductionInfo),\n      CostInfoList: CostInfoList,\n      FeeInfoList: FeeInfoList,\n      OrderKnow: OrderKnow,\n      Visa: Visa,\n      SegmentInfo: SegmentInfo,\n      SelfPayInfoList: SelfPayInfoList,\n      BasicExtendInfo: BasicExtendInfo,\n      BookInfo: BookInfo,\n      CouponInfo: currentRouteInfo.CouponInfo,\n      PriceInfo: PriceInfo,\n      scheduleDates: priceCalendar.scheduleDates,\n      dailyMinPrices: priceCalendar.dailyMinPrices,\n      servicePerson: servicePerson,\n      userDestinationOrder: userDestinationOrder,\n      askStatus: askStatus,\n      MediaInfo: MediaInfo,\n      imageStyleInfo: imageStyleInfo\n    }, getMemberDiscountInfo(ExtInfo)), {}, {\n      // /\n      BookingDay: BasicInfo.BookingDay,\n      BookingTime: BasicInfo.BookingTime\n    });\n\n    // \n    if (PreSaleProductInfo && PreSaleProductInfo.PreSaleNotice) {\n      newRouteItem = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, newRouteItem), {}, {\n        PreSaleNotice: PreSaleProductInfo.PreSaleNotice,\n        PreSaleTagGroupInfo: PreSaleProductInfo.TagGroupInfo\n      });\n    }\n    var lastLineHasVideo = pageStatus.hasVideo;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      pageStatus: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n        activeProductId: targetProductId,\n        hasVideo: isTabStyle ? curLineHasVideo : lastLineHasVideo\n      }),\n      routeInfo: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, routeInfo), {}, (0,defineProperty/* default */.Z)({}, targetProductId, newRouteItem)),\n      currentRouteInfo: newRouteItem,\n      bookingRuleInfo: bookingRuleInfo,\n      emotionalCues: emotionalCues,\n      mediaInfoCurRoute: MediaInfo\n    });\n  },\n  SET_LINE_SWITCH_LOADING: function SET_LINE_SWITCH_LOADING(state, isShowLineSwitchLoading) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isShowLineSwitchLoading: isShowLineSwitchLoading\n    });\n  },\n  // \n  UPDATE_PROPOSAL_ORDER_STATUS: function UPDATE_PROPOSAL_ORDER_STATUS(state, isProposalOrderTexted) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isProposalOrderTexted: isProposalOrderTexted\n    });\n  },\n  // \n  UPDATE_PROPOSAL_ORDER_INFO: function UPDATE_PROPOSAL_ORDER_INFO(state, proposalOrderInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      proposalOrderInfo: proposalOrderInfo\n    });\n  },\n  /** update product info when get muliti-travel data */\n  UPDATE_MULTIPLE_TRAVEL: function UPDATE_MULTIPLE_TRAVEL(state, info) {\n    var routeInfo = state.routeInfo,\n      pageStatus = state.pageStatus,\n      currentRouteInfo = state.currentRouteInfo;\n    var productInfo = info.productInfo,\n      targetAlias = info.targetAlias;\n    var TravelIntroductionInfo = productInfo.TravelIntroductionInfo,\n      SegmentInfo = productInfo.SegmentInfo,\n      Visa = productInfo.Visa,\n      FeeInfoList = productInfo.FeeInfoList,\n      imageStyleInfo = productInfo.imageStyleInfo;\n    var newRouteItem = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, currentRouteInfo), {}, {\n      isLoaded: true,\n      TravelIntroductionInfo: UPDATE_SIMPLE_TRAVEL_INTRODUCTION(TravelIntroductionInfo),\n      SegmentInfo: SegmentInfo,\n      Visa: Visa,\n      FeeInfoList: FeeInfoList,\n      imageStyleInfo: imageStyleInfo\n    });\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      pageStatus: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n        activeAlias: targetAlias\n      }),\n      routeInfo: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, routeInfo), {}, (0,defineProperty/* default */.Z)({}, targetAlias, newRouteItem)),\n      currentRouteInfo: newRouteItem\n    });\n  },\n  TOGGLE_CITY_SELECT_MASK: function TOGGLE_CITY_SELECT_MASK(state, isShowCitySelectMask) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isShowCitySelectMask: isShowCitySelectMask\n    });\n  },\n  /** update product info when changed departure city */\n  UPDATE_NEWDEPARTCITY_INFO: function UPDATE_NEWDEPARTCITY_INFO(state, data) {\n    var _data$MainProductInfo2, _data$MainProductInfo3, _data$MainProductInfo4, _data$MainProductInfo5, _data$MainProductInfo6;\n    var pageStatus = state.pageStatus,\n      MainBasicInfo = state.BasicInfo,\n      MainMediaInfo = state.MediaInfo,\n      oldCurrentRouteInfo = state.currentRouteInfo,\n      PreSaleProductInfo = state.PreSaleProductInfo;\n    var _pageStatus3 = pageStatus,\n      isMultiLine = _pageStatus3.isMultiLine,\n      isMultiTravel = _pageStatus3.isMultiTravel,\n      activeAlias = _pageStatus3.activeAlias;\n    var _data$MainProductInfo = data.MainProductInfo,\n      BasicInfo = _data$MainProductInfo.BasicInfo,\n      MediaInfo = _data$MainProductInfo.MediaInfo,\n      TagGroupInfo = _data$MainProductInfo.TagGroupInfo,\n      BookInfo = _data$MainProductInfo.BookInfo,\n      SegmentInfo = _data$MainProductInfo.SegmentInfo,\n      PriceInfo = _data$MainProductInfo.PriceInfo,\n      PMRecomendInfo = _data$MainProductInfo.PMRecomendInfo,\n      DescriptionInfo = _data$MainProductInfo.DescriptionInfo,\n      TourGroupInfo = _data$MainProductInfo.TourGroupInfo,\n      TravelIntroductionInfo = _data$MainProductInfo.TravelIntroductionInfo,\n      CostInfoList = _data$MainProductInfo.CostInfoList,\n      FeeInfoList = _data$MainProductInfo.FeeInfoList,\n      OrderKnow = _data$MainProductInfo.OrderKnow,\n      Visa = _data$MainProductInfo.Visa,\n      SelfPayInfoList = _data$MainProductInfo.SelfPayInfoList,\n      BasicExtendInfo = _data$MainProductInfo.BasicExtendInfo,\n      TravelList = _data$MainProductInfo.TravelList,\n      priceCalendar = _data$MainProductInfo.priceCalendar;\n\n    // \n    if (BasicInfo.ProductId !== MainBasicInfo.ProductId) {\n      BasicInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, BasicInfo), {}, {\n        ProductId: MainBasicInfo.ProductId,\n        MainName: MainBasicInfo.MainName,\n        SubName: MainBasicInfo.SubName\n      });\n      MediaInfo = MainMediaInfo;\n    }\n    var routeInfo = {};\n    var currentRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({\n      isLoaded: true,\n      SubName: BasicInfo.SubName,\n      TagGroupInfo: TagGroupInfo,\n      PMRecomendInfo: PMRecomendInfo,\n      DescriptionInfo: DescriptionInfo,\n      TravelIntroductionInfo: UPDATE_SIMPLE_TRAVEL_INTRODUCTION(TravelIntroductionInfo),\n      CostInfoList: CostInfoList,\n      FeeInfoList: FeeInfoList,\n      OrderKnow: OrderKnow,\n      Visa: Visa,\n      SegmentInfo: SegmentInfo,\n      SelfPayInfoList: SelfPayInfoList,\n      BasicExtendInfo: BasicExtendInfo,\n      BookInfo: BookInfo,\n      PriceInfo: PriceInfo,\n      scheduleDates: priceCalendar.scheduleDates,\n      dailyMinPrices: priceCalendar.dailyMinPrices,\n      servicePerson: (_data$MainProductInfo2 = data.MainProductInfo) === null || _data$MainProductInfo2 === void 0 ? void 0 : _data$MainProductInfo2.servicePerson,\n      userDestinationOrder: (_data$MainProductInfo3 = data.MainProductInfo) === null || _data$MainProductInfo3 === void 0 ? void 0 : _data$MainProductInfo3.userDestinationOrder,\n      askStatus: (_data$MainProductInfo4 = data.MainProductInfo) === null || _data$MainProductInfo4 === void 0 ? void 0 : _data$MainProductInfo4.askStatus,\n      MediaInfo: MediaInfo,\n      imageStyleInfo: (_data$MainProductInfo5 = data.MainProductInfo) === null || _data$MainProductInfo5 === void 0 ? void 0 : _data$MainProductInfo5.imageStyleInfo\n    }, getMemberDiscountInfo((_data$MainProductInfo6 = data.MainProductInfo) === null || _data$MainProductInfo6 === void 0 ? void 0 : _data$MainProductInfo6.ExtInfo)), {}, {\n      // /\n      BookingDay: BasicInfo.BookingDay,\n      BookingTime: BasicInfo.BookingTime\n    });\n    if (isMultiLine) {\n      var _data$RouteProductInf, _data$RouteProductInf2, _data$RouteProductInf3, _data$RouteProductInf4, _data$RouteProductInf5, _data$RouteProductInf6, _data$RouteProductInf7, _data$RouteProductInf8, _data$RouteProductInf9, _data$RouteProductInf10, _data$RouteProductInf11, _data$RouteProductInf12, _data$RouteProductInf13, _data$RouteProductInf14, _data$RouteProductInf15, _data$RouteProductInf16, _data$RouteProductInf17, _data$RouteProductInf18, _data$RouteProductInf19, _data$RouteProductInf20, _data$RouteProductInf21, _data$RouteProductInf22, _data$RouteProductInf23, _data$RouteProductInf24;\n      TourGroupInfo.TourGroupProductInfo.forEach(function (item) {\n        routeInfo[item.ProductId] = item.ProductId === BasicInfo.ProductId ? currentRouteInfo : {\n          isLoaded: false\n        };\n      });\n      var newRouteItem = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({\n        isLoaded: true,\n        SubName: (_data$RouteProductInf = data.RouteProductInfo) === null || _data$RouteProductInf === void 0 ? void 0 : _data$RouteProductInf.BasicInfo.SubName,\n        TagGroupInfo: (_data$RouteProductInf2 = data.RouteProductInfo) === null || _data$RouteProductInf2 === void 0 ? void 0 : _data$RouteProductInf2.TagGroupInfo,\n        PMRecomendInfo: (_data$RouteProductInf3 = data.RouteProductInfo) === null || _data$RouteProductInf3 === void 0 ? void 0 : _data$RouteProductInf3.PMRecomendInfo,\n        DescriptionInfo: (_data$RouteProductInf4 = data.RouteProductInfo) === null || _data$RouteProductInf4 === void 0 ? void 0 : _data$RouteProductInf4.DescriptionInfo,\n        TravelIntroductionInfo: UPDATE_SIMPLE_TRAVEL_INTRODUCTION((_data$RouteProductInf5 = data.RouteProductInfo) === null || _data$RouteProductInf5 === void 0 ? void 0 : _data$RouteProductInf5.TravelIntroductionInfo),\n        CostInfoList: (_data$RouteProductInf6 = data.RouteProductInfo) === null || _data$RouteProductInf6 === void 0 ? void 0 : _data$RouteProductInf6.CostInfoList,\n        FeeInfoList: (_data$RouteProductInf7 = data.RouteProductInfo) === null || _data$RouteProductInf7 === void 0 ? void 0 : _data$RouteProductInf7.FeeInfoList,\n        OrderKnow: (_data$RouteProductInf8 = data.RouteProductInfo) === null || _data$RouteProductInf8 === void 0 ? void 0 : _data$RouteProductInf8.OrderKnow,\n        Visa: (_data$RouteProductInf9 = data.RouteProductInfo) === null || _data$RouteProductInf9 === void 0 ? void 0 : _data$RouteProductInf9.Visa,\n        SegmentInfo: (_data$RouteProductInf10 = data.RouteProductInfo) === null || _data$RouteProductInf10 === void 0 ? void 0 : _data$RouteProductInf10.SegmentInfo,\n        SelfPayInfoList: (_data$RouteProductInf11 = data.RouteProductInfo) === null || _data$RouteProductInf11 === void 0 ? void 0 : _data$RouteProductInf11.SelfPayInfoList,\n        BasicExtendInfo: (_data$RouteProductInf12 = data.RouteProductInfo) === null || _data$RouteProductInf12 === void 0 ? void 0 : _data$RouteProductInf12.BasicExtendInfo,\n        BookInfo: (_data$RouteProductInf13 = data.RouteProductInfo) === null || _data$RouteProductInf13 === void 0 ? void 0 : _data$RouteProductInf13.BookInfo,\n        PriceInfo: (_data$RouteProductInf14 = data.RouteProductInfo) === null || _data$RouteProductInf14 === void 0 ? void 0 : _data$RouteProductInf14.PriceInfo,\n        scheduleDates: (_data$RouteProductInf15 = data.RouteProductInfo) === null || _data$RouteProductInf15 === void 0 ? void 0 : _data$RouteProductInf15.priceCalendar.scheduleDates,\n        dailyMinPrices: (_data$RouteProductInf16 = data.RouteProductInfo) === null || _data$RouteProductInf16 === void 0 ? void 0 : _data$RouteProductInf16.priceCalendar.dailyMinPrices,\n        servicePerson: (_data$RouteProductInf17 = data.RouteProductInfo) === null || _data$RouteProductInf17 === void 0 ? void 0 : _data$RouteProductInf17.servicePerson,\n        userDestinationOrder: (_data$RouteProductInf18 = data.RouteProductInfo) === null || _data$RouteProductInf18 === void 0 ? void 0 : _data$RouteProductInf18.userDestinationOrder,\n        askStatus: (_data$RouteProductInf19 = data.RouteProductInfo) === null || _data$RouteProductInf19 === void 0 ? void 0 : _data$RouteProductInf19.askStatus,\n        imageStyleInfo: (_data$RouteProductInf20 = data.RouteProductInfo) === null || _data$RouteProductInf20 === void 0 ? void 0 : _data$RouteProductInf20.imageStyleInfo,\n        MediaInfo: MediaInfo\n      }, getMemberDiscountInfo((_data$RouteProductInf21 = data.RouteProductInfo) === null || _data$RouteProductInf21 === void 0 ? void 0 : _data$RouteProductInf21.ExtInfo)), {}, {\n        // /\n        BookingDay: (_data$RouteProductInf22 = data.RouteProductInfo) === null || _data$RouteProductInf22 === void 0 ? void 0 : _data$RouteProductInf22.BasicInfo.BookingDay,\n        BookingTime: (_data$RouteProductInf23 = data.RouteProductInfo) === null || _data$RouteProductInf23 === void 0 ? void 0 : _data$RouteProductInf23.BasicInfo.BookingTime\n      });\n\n      // \n      if (PreSaleProductInfo && PreSaleProductInfo.PreSaleNotice) {\n        newRouteItem = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, newRouteItem), {}, {\n          PreSaleNotice: PreSaleProductInfo.PreSaleNotice,\n          PreSaleTagGroupInfo: PreSaleProductInfo.TagGroupInfo\n        });\n      }\n      var activeProductId = (_data$RouteProductInf24 = data.RouteProductInfo) === null || _data$RouteProductInf24 === void 0 ? void 0 : _data$RouteProductInf24.BasicInfo.ProductId;\n      routeInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, routeInfo), {}, (0,defineProperty/* default */.Z)({}, activeProductId, newRouteItem));\n      pageStatus = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n        activeProductId: activeProductId\n      });\n      currentRouteInfo = newRouteItem;\n    } else if (isMultiTravel) {\n      var _data$RouteProductInf25, _data$RouteProductInf26, _data$RouteProductInf27, _data$RouteProductInf28, _data$RouteProductInf29, _data$RouteProductInf30, _data$RouteProductInf31, _data$RouteProductInf32;\n      TravelList.forEach(function (item) {\n        routeInfo[item.Alias] = item.Alias === TravelList[0].Alias ? currentRouteInfo : {\n          isLoaded: false\n        };\n      });\n      var _newRouteItem = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, currentRouteInfo), {}, {\n        isLoaded: true,\n        TravelIntroductionInfo: UPDATE_SIMPLE_TRAVEL_INTRODUCTION((_data$RouteProductInf25 = data.RouteProductInfo) === null || _data$RouteProductInf25 === void 0 ? void 0 : _data$RouteProductInf25.TravelIntroductionInfo),\n        SegmentInfo: (_data$RouteProductInf26 = data.RouteProductInfo) === null || _data$RouteProductInf26 === void 0 ? void 0 : _data$RouteProductInf26.SegmentInfo,\n        FeeInfoList: (_data$RouteProductInf27 = data.RouteProductInfo) === null || _data$RouteProductInf27 === void 0 ? void 0 : _data$RouteProductInf27.FeeInfoList,\n        servicePerson: (_data$RouteProductInf28 = data.RouteProductInfo) === null || _data$RouteProductInf28 === void 0 ? void 0 : _data$RouteProductInf28.servicePerson,\n        userDestinationOrder: (_data$RouteProductInf29 = data.RouteProductInfo) === null || _data$RouteProductInf29 === void 0 ? void 0 : _data$RouteProductInf29.userDestinationOrder,\n        askStatus: (_data$RouteProductInf30 = data.RouteProductInfo) === null || _data$RouteProductInf30 === void 0 ? void 0 : _data$RouteProductInf30.askStatus,\n        imageStyleInfo: (_data$RouteProductInf31 = data.RouteProductInfo) === null || _data$RouteProductInf31 === void 0 ? void 0 : _data$RouteProductInf31.imageStyleInfo,\n        MediaInfo: MediaInfo\n      }, getMemberDiscountInfo((_data$RouteProductInf32 = data.RouteProductInfo) === null || _data$RouteProductInf32 === void 0 ? void 0 : _data$RouteProductInf32.ExtInfo));\n      routeInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, routeInfo), {}, (0,defineProperty/* default */.Z)({}, activeAlias, _newRouteItem));\n      currentRouteInfo = _newRouteItem;\n    }\n\n    // \n    if (oldCurrentRouteInfo && oldCurrentRouteInfo.CouponInfo) {\n      currentRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, currentRouteInfo), {}, {\n        CouponInfo: oldCurrentRouteInfo.CouponInfo\n      });\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), data.MainProductInfo), {}, {\n      pageStatus: pageStatus,\n      MediaInfo: MediaInfo,\n      routeInfo: routeInfo,\n      currentRouteInfo: currentRouteInfo\n    });\n  },\n  UPDATE_SERVICE_PERSONS: function UPDATE_SERVICE_PERSONS(state, newLineServicePersons) {\n    var servicePersons = state.servicePersons;\n    var _ref6 = newLineServicePersons || {},\n      newservicePersons = _ref6.servicePersons;\n    servicePersons = servicePersons || {};\n    newservicePersons = newservicePersons || {};\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      servicePersons: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, servicePersons), newservicePersons)\n    });\n  },\n  UPDATE_QCONFIG_INFO: function UPDATE_QCONFIG_INFO(state, QconfigInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), QconfigInfo);\n  },\n  TOGGLE_ROUTE_MODE: function TOGGLE_ROUTE_MODE(state) {\n    var isSimpleMode = state.isSimpleMode;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isSimpleMode: !isSimpleMode\n    });\n  },\n  TOGGLE_SHOW_MENU_POP: function TOGGLE_SHOW_MENU_POP(state, isShowMenuPop) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isShowMenuPop: isShowMenuPop\n    });\n  },\n  UPDATE_LOCATION_INFO: function UPDATE_LOCATION_INFO(state, LocationInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      LocationInfo: LocationInfo\n    });\n  },\n  UPDATE_FLIGHTDISCOUNT_INFO: function UPDATE_FLIGHTDISCOUNT_INFO(state, flightDiscountInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      flightDiscountInfo: flightDiscountInfo\n    });\n  },\n  SET_PAGE_ID: function SET_PAGE_ID(state, pageId) {\n    var actionIdSuffix = '';\n    if (IsTripApp) {\n      actionIdSuffix = \"ibugrp-10650028586\";\n    } else {\n      var pageStatus = state.pageStatus;\n      var prodType = pageStatus.prodType;\n      actionIdSuffix = \"\".concat(prodType, \"-\").concat(pageId);\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      pageId: pageId,\n      actionIdSuffix: actionIdSuffix\n    });\n  },\n  UPDATE_BRAND_INFO: function UPDATE_BRAND_INFO(state, brandInfos) {\n    var BasicInfo = state.BasicInfo;\n    var BrandFloorId = BasicInfo.BrandFloorId;\n    var SpecialBrandInfo = brandInfos.filter(function (item) {\n      return item.id === BrandFloorId;\n    })[0];\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      SpecialBrandInfo: SpecialBrandInfo\n    });\n  },\n  UPDATE_SERVICE_TIP: function UPDATE_SERVICE_TIP(state, serviceTip) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      serviceTip: serviceTip\n    });\n  },\n  UPDATE_ALERT_MASK: function UPDATE_ALERT_MASK(state, alertInfo) {\n    var isShowCalendarPop = state.isShowCalendarPop;\n    var isShowAlertMask = alertInfo.isShowAlertMask;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isShowAlertMask: isShowAlertMask,\n      isShowCalendarPop: isShowAlertMask ? false : isShowCalendarPop,\n      alertInfo: alertInfo\n    });\n  },\n  SET_CITY_SELECT_MASK_INFO: function SET_CITY_SELECT_MASK_INFO(state, targetProductId) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      citySelectTargetProductId: targetProductId\n    });\n  },\n  HIDE_ALL_MASK: function HIDE_ALL_MASK(state) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), initMaskStatus);\n  },\n  SET_COUNTDOWN_STATUS: function SET_COUNTDOWN_STATUS(state, Status) {\n    var countDownStatus = state.countDownStatus;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      countDownStatus: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, countDownStatus), {}, {\n        Status: Status\n      })\n    });\n  },\n  TOGGLE_PRESALE_NOTICE_MASK: function TOGGLE_PRESALE_NOTICE_MASK(state, info) {\n    var status = info.status,\n      selectType = info.selectType;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isShowPreSaleNoticeMask: status,\n      PreSaleNoticeMaskSelectType: selectType\n    });\n  },\n  UPDATE_BOOKINGRULE_INFO: function UPDATE_BOOKINGRULE_INFO(state, BookingRuleInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      BookingRuleInfo: BookingRuleInfo\n    });\n  },\n  SET_BOOKING_RULE_FETCHED: function SET_BOOKING_RULE_FETCHED(state) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      BookingRuleFetched: true\n    });\n  },\n  SET_CONCAT_DATA: function SET_CONCAT_DATA(state, dataList) {\n    var info = {};\n    dataList.forEach(function (data) {\n      data && Object.keys(data).forEach(function (key) {\n        info[key] = data[key];\n      });\n    });\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), info);\n  },\n  SET_CONCAT_DATA_SECOND_SCREEN: function SET_CONCAT_DATA_SECOND_SCREEN(state, dataList) {\n    var info = {};\n    dataList.forEach(function (data) {\n      data && Object.keys(data).forEach(function (key) {\n        info[key] = data[key];\n      });\n    });\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), info), {}, {\n      second_screen_fetched: true\n    });\n  },\n  SET_ABTEST_RESULT: function SET_ABTEST_RESULT(state, ABTestResult) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      ABTestResult: ABTestResult\n    });\n  },\n  SET_VIPMEMBER_INFO: function SET_VIPMEMBER_INFO(state, info) {\n    var BasicInfo = state.BasicInfo;\n    var SuperMemberInfo = info.SuperMemberInfo,\n      UserInterestList = info.UserInterestList;\n\n    // \n    var commonMemberInterestCounts = 0;\n    // \n    var superMemberInterestCounts = 0;\n    if (UserInterestList && UserInterestList.length) {\n      var commonInfo = UserInterestList.filter(function (item) {\n        return item.CreateProductLineId === 66;\n      })[0];\n      var superInfo = UserInterestList.filter(function (item) {\n        return item.CreateProductLineId === 61;\n      })[0];\n      if (commonInfo) {\n        commonMemberInterestCounts = commonInfo.InterestCounts;\n      }\n      if (superInfo) {\n        superMemberInterestCounts = superInfo.InterestCounts;\n      }\n    }\n\n    //   > 0\n    var hasSuperMemberRight = SuperMemberInfo && SuperMemberInfo.IsSuperMember && BasicInfo.IsInternal && [1, 3, 4].includes(BasicInfo.ProductPatternId) && superMemberInterestCounts > 0;\n    if (!hasSuperMemberRight) {\n      superMemberInterestCounts = 0;\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      SuperMemberInfo: SuperMemberInfo,\n      UserInterestList: UserInterestList,\n      hasSuperMemberRight: hasSuperMemberRight,\n      commonMemberInterestCounts: commonMemberInterestCounts,\n      superMemberInterestCounts: superMemberInterestCounts\n    });\n  },\n  SET_FAVOURITE_MENU_POSITION: function SET_FAVOURITE_MENU_POSITION(state, isShowHeaderMenu) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isShowHeaderMenu: isShowHeaderMenu\n    });\n  },\n  SET_CALENDAR_SELECTED_DATE: function SET_CALENDAR_SELECTED_DATE(state, selectedDate) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CalendarSelectedDate: selectedDate\n    });\n  },\n  TOGGLE_SELFFUND_MASK: function TOGGLE_SELFFUND_MASK(state, info) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), info);\n  },\n  // \n  SET_CRUISE_BOOKING_INFO: function SET_CRUISE_BOOKING_INFO(state, data) {\n    var curDate = data.curDate;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseDepartDate: curDate,\n      SelectedCruiseRoomInfo: null,\n      CruisePriceInfo: null\n    });\n  },\n  // \n  INIT_CRUISE_DATA: function INIT_CRUISE_DATA(state, info) {\n    var RoomInfos = info.RoomInfos,\n      Tags = info.Tags,\n      ClassRooms = info.ClassRooms;\n    var curRoomType = RoomInfos[0].RoomType;\n    var CruiseRoomInfo = {\n      RoomInfos: RoomInfos,\n      Tags: (0,defineProperty/* default */.Z)({}, curRoomType, Tags),\n      ClassRooms: (0,defineProperty/* default */.Z)({}, curRoomType, ClassRooms.filter(function (item) {\n        return item.RoomType === curRoomType;\n      })),\n      curRoomType: curRoomType\n    };\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseRoomInfo: CruiseRoomInfo,\n      CruiseBookingStatus: 'canbooking'\n    });\n  },\n  // \n  RESET_CRUISE_DATA: function RESET_CRUISE_DATA(state) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      ShoppingId: '',\n      CruiseRoomInfo: null,\n      CruiseBookingStatus: 'loading',\n      SelectedCruiseRoomInfo: [],\n      CruisePriceInfo: null\n    });\n  },\n  // \n  UPDATE_CRUISE_BOOKING_STATUS: function UPDATE_CRUISE_BOOKING_STATUS(state, CruiseBookingStatus) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseBookingStatus: CruiseBookingStatus\n    });\n  },\n  // \n  INIT_CRUISE_ROOM_INFO: function INIT_CRUISE_ROOM_INFO(state, info) {\n    var RoomInfos = info.RoomInfos,\n      Tags = info.Tags,\n      ClassRooms = info.ClassRooms;\n    var curRoomType = RoomInfos[0].RoomType;\n    var CruiseRoomInfo = {\n      RoomInfos: RoomInfos,\n      Tags: (0,defineProperty/* default */.Z)({}, curRoomType, Tags),\n      ClassRooms: (0,defineProperty/* default */.Z)({}, curRoomType, ClassRooms.filter(function (item) {\n        return item.RoomType === curRoomType;\n      })),\n      curRoomType: curRoomType\n    };\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseRoomInfo: CruiseRoomInfo,\n      CruiseBookingStatus: 'canbooking'\n    });\n  },\n  // \n  UPDATE_CRUISE_ROOM_INFO: function UPDATE_CRUISE_ROOM_INFO(state, info) {\n    var CruiseRoomInfo = state.CruiseRoomInfo;\n    var _CruiseRoomInfo = CruiseRoomInfo,\n      OldClassRooms = _CruiseRoomInfo.ClassRooms,\n      OldTags = _CruiseRoomInfo.Tags;\n    var cabinFilter = info.cabinFilter,\n      RoomInfos = info.RoomInfos,\n      Tags = info.Tags,\n      NewClassRooms = info.ClassRooms;\n    var curRoomType = cabinFilter.RoomType;\n    CruiseRoomInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, CruiseRoomInfo), {}, {\n      Tags: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, OldTags), {}, (0,defineProperty/* default */.Z)({}, curRoomType, Tags)),\n      ClassRooms: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, OldClassRooms), {}, (0,defineProperty/* default */.Z)({}, curRoomType, NewClassRooms)),\n      curRoomType: curRoomType\n    });\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseRoomInfo: CruiseRoomInfo\n    });\n  },\n  // \n  SET_CUR_ROOMTYPE: function SET_CUR_ROOMTYPE(state, RoomType) {\n    var CruiseRoomInfo = state.CruiseRoomInfo;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseRoomInfo: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, CruiseRoomInfo), {}, {\n        curRoomType: RoomType\n      })\n    });\n  },\n  // \n  SET_SELECT_ROOM_TAG: function SET_SELECT_ROOM_TAG(state, tag) {\n    var CruiseRoomInfo = state.CruiseRoomInfo;\n    var selectedTags = CruiseRoomInfo.selectedTags,\n      curRoomType = CruiseRoomInfo.curRoomType;\n    if (selectedTags && selectedTags[curRoomType]) {\n      if (selectedTags[curRoomType].find(function (item) {\n        return item.Type === tag.Type && item.Id === tag.Id;\n      })) {\n        selectedTags[curRoomType] = selectedTags[curRoomType].filter(function (item) {\n          return item.Type !== tag.Type || item.Id !== tag.Id;\n        });\n      } else {\n        if (tag.Type === 2) {\n          var newSelectedTags = selectedTags[curRoomType].filter(function (item) {\n            return item.Type !== 2;\n          });\n          selectedTags[curRoomType] = [].concat((0,toConsumableArray/* default */.Z)(newSelectedTags), [tag]);\n        } else {\n          selectedTags[curRoomType].push(tag);\n        }\n      }\n    } else {\n      if (selectedTags) {\n        selectedTags = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, selectedTags), {}, (0,defineProperty/* default */.Z)({}, curRoomType, [tag]));\n      } else {\n        selectedTags = (0,defineProperty/* default */.Z)({}, curRoomType, [tag]);\n      }\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseRoomInfo: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, CruiseRoomInfo), {}, {\n        selectedTags: selectedTags\n      })\n    });\n  },\n  // \n  RESET_SELECT_ROOM_TAG: function RESET_SELECT_ROOM_TAG(state) {\n    var CruiseRoomInfo = state.CruiseRoomInfo;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseRoomInfo: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, CruiseRoomInfo), {}, {\n        selectedTags: null\n      })\n    });\n  },\n  // \n  INIT_SELECT_CRUISE_ROOM: function INIT_SELECT_CRUISE_ROOM(state, info) {\n    var SelectedCruiseRoomInfo = info.SelectedCruiseRoomInfo,\n      CruisePriceInfo = info.CruisePriceInfo;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      SelectedCruiseRoomInfo: SelectedCruiseRoomInfo,\n      CruisePriceInfo: CruisePriceInfo\n    });\n  },\n  // \n  UPDATE_SELECT_CRUISE_ROOM: function UPDATE_SELECT_CRUISE_ROOM(state, info) {\n    var SelectedCruiseRoomInfo = state.SelectedCruiseRoomInfo;\n    var RoomInfo = info.RoomInfo,\n      CountInfo = info.CountInfo;\n    var OvaryRoomId = RoomInfo.OvaryRoomId,\n      Name = RoomInfo.Name,\n      MinNum = RoomInfo.MinNum,\n      MaxNum = RoomInfo.MaxNum,\n      Token = RoomInfo.Token,\n      RoomType = RoomInfo.RoomType,\n      ClassId = RoomInfo.ClassId;\n    var SelectedCount = CountInfo.SelectedCount,\n      _CountInfo$AdultCount = CountInfo.AdultCount,\n      AdultCount = _CountInfo$AdultCount === void 0 ? 0 : _CountInfo$AdultCount,\n      _CountInfo$ChildCount = CountInfo.ChildCount,\n      ChildCount = _CountInfo$ChildCount === void 0 ? 0 : _CountInfo$ChildCount,\n      Type = CountInfo.Type;\n    SelectedCruiseRoomInfo = SelectedCruiseRoomInfo || [];\n    var NewSelectedCruiseRoomInfo = SelectedCruiseRoomInfo.slice();\n    if (Type === 'Person') {\n      if (AdultCount + ChildCount > MaxNum * SelectedCount) {\n        SelectedCount = Math.min(SelectedCount + 1, 9);\n      }\n    }\n    if (Type === 'Room') {\n      if (AdultCount + ChildCount > MaxNum * SelectedCount) {\n        if (ChildCount > 0) {\n          if (ChildCount < MinNum) {\n            AdultCount = MaxNum * SelectedCount;\n            ChildCount = 0;\n          } else {\n            ChildCount = Math.max(MaxNum * SelectedCount - AdultCount, 0);\n          }\n        } else {\n          AdultCount = MaxNum * SelectedCount;\n        }\n      }\n    }\n    var selectInfo = {\n      OvaryRoomId: OvaryRoomId,\n      Name: Name,\n      AdultCount: AdultCount,\n      ChildCount: ChildCount,\n      SelectedCount: SelectedCount,\n      Token: Token,\n      RoomType: RoomType,\n      ClassId: ClassId,\n      MinNum: MinNum,\n      MaxNum: MaxNum\n    };\n    if (SelectedCruiseRoomInfo.some(function (room) {\n      return room.OvaryRoomId === OvaryRoomId;\n    })) {\n      var index = SelectedCruiseRoomInfo.findIndex(function (room) {\n        return room.OvaryRoomId === OvaryRoomId;\n      });\n      NewSelectedCruiseRoomInfo[index] = selectInfo;\n    } else {\n      NewSelectedCruiseRoomInfo.push(selectInfo);\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      SelectedCruiseRoomInfo: NewSelectedCruiseRoomInfo,\n      CruiseErrorTokenList: [],\n      CruiseErrorText: ''\n    });\n  },\n  // \n  UPDATE_CRUISE_PRICE: function UPDATE_CRUISE_PRICE(state, CruisePriceInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruisePriceInfo: CruisePriceInfo\n    });\n  },\n  // \n  UPDATE_OVARYROOM_DETAIL: function UPDATE_OVARYROOM_DETAIL(state, OvaryRoomDetailPopId) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      OvaryRoomDetailPopId: OvaryRoomDetailPopId\n    });\n  },\n  // \n  UPDATE_CRUISE_JOURNEY_DETAIL: function UPDATE_CRUISE_JOURNEY_DETAIL(state, CruiseJourneyTourId) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseJourneyTourId: CruiseJourneyTourId\n    });\n  },\n  UPDATE_OVARYROOM_PRICE_INFO: function UPDATE_OVARYROOM_PRICE_INFO(state, PriceDesc) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      PriceDesc: PriceDesc\n    });\n  },\n  // \n  UPDATE_CRUISE_JOURNEYINFO: function UPDATE_CRUISE_JOURNEYINFO(state, CruiseJourneyInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseJourneyInfo: CruiseJourneyInfo\n    });\n  },\n  // \n  UPDATE_ERROR_CRUISE_TOKEN: function UPDATE_ERROR_CRUISE_TOKEN(state, info) {\n    var TokenList = info.TokenList,\n      _info$ErrorText = info.ErrorText,\n      ErrorText = _info$ErrorText === void 0 ? '' : _info$ErrorText;\n    var ErrorRoomType = TokenList[0].split('_')[1];\n    var CruiseRoomInfo = state.CruiseRoomInfo;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      CruiseErrorTokenList: TokenList,\n      CruiseErrorText: ErrorText,\n      CruiseRoomInfo: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, CruiseRoomInfo), {}, {\n        curRoomType: ErrorRoomType\n      })\n    });\n  },\n  // /\n  TOGGLE_PASSENGR_TIP: function TOGGLE_PASSENGR_TIP(state, isShowPassengerTip) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isShowPassengerTip: isShowPassengerTip\n    });\n  },\n  UPDATE_XREC_PRODUCT: function UPDATE_XREC_PRODUCT(state, XRecProductList) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      XRecProductList: XRecProductList\n    });\n  },\n  SET_PRICECALENDAR_DATA_H5: function SET_PRICECALENDAR_DATA_H5(state, data) {\n    var _Object$keys;\n    var flatDailyMinPrice = data.flatDailyMinPrice;\n    var dailyMinPrice = {};\n    (_Object$keys = Object.keys(flatDailyMinPrice)) === null || _Object$keys === void 0 || _Object$keys.forEach(function (key) {\n      dailyMinPrice[key] = {\n        productPrices: flatDailyMinPrice[key]\n      };\n    });\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      priceCalendarData: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, data), {}, {\n        dailyMinPrice: dailyMinPrice\n      }),\n      scheduleDisableDates: null\n    });\n  },\n  SET_PRICECALENDAR_DATA: function SET_PRICECALENDAR_DATA(state, data) {\n    var newProcessSelectDate = state.newProcessSelectDate;\n    if (newProcessSelectDate && data && data.dailyMinPrice) {\n      if (!data.dailyMinPrice[newProcessSelectDate]) {\n        newProcessSelectDate = '';\n      }\n    }\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      priceCalendarData: data,\n      newProcessSelectDate: newProcessSelectDate,\n      scheduleDisableDates: null\n    });\n  },\n  SET_NEWPROCESS_SELECT_DATE: function SET_NEWPROCESS_SELECT_DATE(state, date) {\n    var newProcessSelectDate = state.newProcessSelectDate;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      newProcessSelectDate: date,\n      ExtendedStayShoppingInfo: null,\n      isSelectPreSale: false,\n      lastSelectDate: newProcessSelectDate\n    });\n  },\n  SET_PRIVATE_TIP_STATUS: function SET_PRIVATE_TIP_STATUS(state, isPrivateTipStillShow) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isPrivateTipStillShow: isPrivateTipStillShow\n    });\n  },\n  SET_EXTENDSTAY_SHOPPING: function SET_EXTENDSTAY_SHOPPING(state, ExtendedStayShoppingInfo) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      ExtendedStayShoppingInfo: ExtendedStayShoppingInfo\n    });\n  },\n  SET_EXTENDSTAY_PATH: function SET_EXTENDSTAY_PATH(state, extendStayPath) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      extendStayPath: extendStayPath\n    });\n  },\n  SET_SHOW_DEPARTCITYINFO: function SET_SHOW_DEPARTCITYINFO(state) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isShowInitDepartCity: true\n    });\n  },\n  SET_SELECT_PRESALE_DATE: function SET_SELECT_PRESALE_DATE(state) {\n    // let { pageStatus, PreSaleTourGroupInfo } = state\n    // let { activeProductId } = pageStatus\n    // let { PreSaleInfo } = PreSaleTourGroupInfo || {}\n    // let PreSaleProductId = PreSaleInfo && PreSaleInfo.find(item => item.ProductId === activeProductId) && PreSaleInfo.find(item => item.ProductId === activeProductId).PreSaleProductId\n\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isSelectPreSale: true,\n      newProcessSelectDate: ''\n    });\n  },\n  SET_SHOW_PRESALE_MULTIROUTE: function SET_SHOW_PRESALE_MULTIROUTE(state) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isShowMulitiRouteInPreSale: true\n    });\n  },\n  UPDATE_D2DSWITCH_STATUS: function UPDATE_D2DSWITCH_STATUS(state, curD2DSwitchType) {\n    var pageStatus = state.pageStatus;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      pageStatus: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n        curD2DSwitchType: curD2DSwitchType\n      })\n    });\n  },\n  UPDATE_REFRESH_SELECTDATE_FLAG: function UPDATE_REFRESH_SELECTDATE_FLAG(state) {\n    var _state$refreshSelectD = state.refreshSelectDateFlag,\n      refreshSelectDateFlag = _state$refreshSelectD === void 0 ? 0 : _state$refreshSelectD;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      refreshSelectDateFlag: refreshSelectDateFlag + 1\n    });\n  },\n  SET_MULTITRAVEL_SCHEDATES: function SET_MULTITRAVEL_SCHEDATES(state, multiTravelScheduleDates) {\n    var routeInfo = state.routeInfo;\n    var newRouteInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, routeInfo), {}, {\n      multiTravelScheduleDates: multiTravelScheduleDates\n    });\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      routeInfo: newRouteInfo\n    });\n  },\n  SET_SCHEDULE_DISABLE_DATE: function SET_SCHEDULE_DISABLE_DATE(state, date) {\n    var scheduleDisableDates = state.scheduleDisableDates;\n    scheduleDisableDates = scheduleDisableDates || [];\n    scheduleDisableDates.push(date);\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      scheduleDisableDates: scheduleDisableDates\n    });\n  },\n  // \n  UPDATE_TRADE_MINPRICE_MODE: function UPDATE_TRADE_MINPRICE_MODE(state, isTradeMinPriceMode) {\n    var pageStatus = state.pageStatus;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      pageStatus: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, pageStatus), {}, {\n        isTradeMinPriceMode: isTradeMinPriceMode\n      })\n    });\n  },\n  // \n  SET_D2DSWITCH_LOADING: function SET_D2DSWITCH_LOADING(state, isD2DSwitchLoading) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isD2DSwitchLoading: isD2DSwitchLoading\n    });\n  },\n  // \n  UPDATE_SECKILL_LIMIT_STATUS: function UPDATE_SECKILL_LIMIT_STATUS(state, isSecKillLimit) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      isSecKillLimit: isSecKillLimit\n    });\n  }\n});\n\n// , \nvar UPDATE_SIMPLE_TRAVEL_INTRODUCTION = function UPDATE_SIMPLE_TRAVEL_INTRODUCTION(TravelIntroductionInfo) {\n  if (!TravelIntroductionInfo) {\n    return;\n  }\n  var TravelIntroductionList = TravelIntroductionInfo.TravelIntroductionList;\n  if (!TravelIntroductionList) {\n    return TravelIntroductionInfo;\n  }\n  var IntroductionInfoList = TravelIntroductionList[0].IntroductionInfoList;\n  var TravelDetailList = IntroductionInfoList.map(function (IntroductionInfo) {\n    var Desc = IntroductionInfo.Desc,\n      FewDay = IntroductionInfo.FewDay,\n      TrafficType = IntroductionInfo.TrafficType,\n      DailyList = IntroductionInfo.DailyList,\n      TravelDate = IntroductionInfo.TravelDate;\n    var flightList = [];\n    var dinnerList = [];\n    var scenicList = [];\n    var themeList = [];\n    var hotelList = [];\n    var listByTime = [];\n    var orderList = [];\n    var themeInfos = [];\n    DailyList && DailyList.forEach(function (item) {\n      orderList.push(item);\n      if (item.ActiveType === 9 && item.Desc) {\n        listByTime.push(item);\n      }\n      if (item.ActiveType === 8 && item.Desc) {\n        listByTime.push(item);\n      }\n      if (item.ActiveType === 2 && item.Desc) {\n        flightList.push(item);\n      }\n      var isNotEmptyScenic = item.ActiveType === 3 && item.ScenicSpotList.some(function (item) {\n        return item.Name || item.PreName || item.SuffixName;\n      });\n      if (isNotEmptyScenic || [4, 6, 7, 11].includes(item.ActiveType)) {\n        scenicList.push(item);\n      }\n      if (item.ActiveType === 12 && item.Desc) {\n        scenicList.push(item);\n      }\n      var isDinner = item.ActiveType === 0 && (item.DinnerInfo && item.DinnerInfo.DinnerType || item.Desc);\n      if (isDinner) {\n        dinnerList.push(item);\n      }\n      if (item.ActiveType === 1 || item.ActiveType === 18) {\n        var HotelInfoList = item.HotelInfoList,\n          _Desc = item.Desc;\n        if (HotelInfoList && HotelInfoList.length && HotelInfoList[0].HotelName || _Desc) {\n          hotelList.push(item);\n        }\n      }\n      if (item.Themes && item.Themes.length) {\n        item.Themes.forEach(function (group) {\n          if (themeInfos.some(function (type) {\n            return type.CustomTheme === group.CustomTheme;\n          })) {\n            var curTheme = themeInfos.find(function (type) {\n              return type.CustomTheme === group.CustomTheme;\n            });\n            curTheme.Infos.push({\n              Time: item.DepartTime,\n              fields: group.fields\n            });\n          } else {\n            var themeItem = {\n              CustomTheme: group.CustomTheme,\n              CustomThemeDesc: group.CustomThemeDesc,\n              Infos: [{\n                Time: item.DepartTime,\n                fields: group.fields\n              }]\n            };\n            themeInfos.push(themeItem);\n          }\n        });\n      }\n    });\n    return {\n      Desc: Desc,\n      FewDay: FewDay,\n      TrafficType: TrafficType,\n      flightList: flightList,\n      dinnerList: dinnerList,\n      scenicList: scenicList,\n      themeList: themeList,\n      hotelList: hotelList,\n      listByTime: listByTime,\n      orderList: orderList,\n      TravelDate: TravelDate,\n      themeInfos: themeInfos\n    };\n  });\n  TravelIntroductionList = [(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, TravelIntroductionList[0]), {}, {\n    TravelDetailList: TravelDetailList\n  })];\n  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, TravelIntroductionInfo), {}, {\n    TravelIntroductionList: TravelIntroductionList\n  });\n};\nvar SET_ROUTE_INFO = function SET_ROUTE_INFO(state, info) {\n  var currentRouteInfo = state.currentRouteInfo,\n    routeInfo = state.routeInfo,\n    pageStatus = state.pageStatus;\n  var activeProductId = pageStatus.activeProductId,\n    activeAlias = pageStatus.activeAlias,\n    isMultiLine = pageStatus.isMultiLine,\n    isMultiTravel = pageStatus.isMultiTravel;\n  var newRouteItem = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, currentRouteInfo), info);\n  if (isMultiLine) {\n    routeInfo[activeProductId] = newRouteItem;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      currentRouteInfo: newRouteItem,\n      routeInfo: routeInfo\n    });\n  } else if (isMultiTravel) {\n    routeInfo[activeAlias] = newRouteItem;\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      currentRouteInfo: newRouteItem,\n      routeInfo: routeInfo\n    });\n  } else {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {\n      currentRouteInfo: newRouteItem\n    });\n  }\n};\nvar getMemberDiscountInfo = function getMemberDiscountInfo(ExtInfo) {\n  // \n  var isMemberDiscountProduct = false;\n  if (ExtInfo && ExtInfo.length) {\n    var VipDiscountProduct = ExtInfo.filter(function (item) {\n      return item.Key === 'isVipDiscountProduct';\n    })[0];\n    isMemberDiscountProduct = VipDiscountProduct && VipDiscountProduct.Value && VipDiscountProduct.Value === 'true';\n  }\n\n  // \n  var isShowFlightDiscountInfo = false;\n  //  ( &&  >= )\n  var isShowMemberDiscountInfo = false;\n  if (ExtInfo && ExtInfo.length) {\n    var _VipDiscountProduct = ExtInfo.filter(function (item) {\n      return item.Key === 'UserDetail';\n    })[0];\n    var value = _VipDiscountProduct && _VipDiscountProduct.Value ? JSON.parse(_VipDiscountProduct.Value) : null;\n    if (value && value.userDiscounts && value.userDiscounts.length) {\n      isShowMemberDiscountInfo = value.userDiscounts.some(function (item) {\n        return item.type === 1;\n      });\n      isShowFlightDiscountInfo = value.userDiscounts.some(function (item) {\n        return item.type === 2;\n      });\n    }\n  }\n\n  // \n  var memeberDiscount;\n  if (ExtInfo && ExtInfo.length) {\n    var memeberDiscountInfo = ExtInfo.filter(function (item) {\n      return item.Key === 'UserDetail';\n    })[0];\n    if (memeberDiscountInfo && memeberDiscountInfo.Value) {\n      var discountInfo = JSON.parse(memeberDiscountInfo.Value).ctrip_vip_discount;\n      memeberDiscount = 100 - discountInfo * 100;\n    }\n  }\n  return {\n    isMemberDiscountProduct: isMemberDiscountProduct,\n    isShowFlightDiscountInfo: isShowFlightDiscountInfo,\n    isShowMemberDiscountInfo: isShowMemberDiscountInfo,\n    memeberDiscount: memeberDiscount\n  };\n};\n// EXTERNAL MODULE: ./src/pages/vacations/isomorphic/util/context.ts\nvar context = __webpack_require__(10932);\n;// CONCATENATED MODULE: ./src/pages/vacations/isomorphic/pages/detail/constants.ts\nvar gqlFragment = {\n  fetchProductBasicInfo: \"\\n    query getProductInfo(\\n        $params: ProductArgs!\\n        $bookFormEmotionalCuesParams: ProductBookFormEmotionalCuesArgs!\\n    ) {\\n        pageSetting\\n        productInfo(params: $params) {\\n        BasicInfo {\\n            json\\n        }\\n        MediaInfo {\\n            json\\n        }\\n        TagGroupInfo {\\n            json\\n        }\\n        BookInfo {\\n            json\\n        }\\n        ScheduleInfo {\\n            json\\n        }\\n        PriceInfo {\\n            json\\n        }\\n        BasicExtendInfo {\\n            json\\n        }\\n        TourGroupInfo {\\n            json\\n        }\\n        ExtInfo {\\n            json\\n        }\\n        SegmentInfo {\\n            json\\n        }\\n        VendorInfo {\\n            json\\n        }\\n        TravelList {\\n          Alias\\n          Name\\n          TourInfoId\\n          isActive\\n        }\\n        PreSaleTourGroupInfo{\\n            json\\n        }\\n        specialTag\\n        serverTime\\n        qConfig {\\n            isPremium\\n            consultant\\n            bonusInfo\\n            isShowHKTip\\n            studyUrl\\n            duringServiceIcon\\n            sixSecurityInfo\\n            membershipUrl\\n        }\\n        CruisesBaseInfo {\\n            json\\n        }\\n        emotionalCues(params: $bookFormEmotionalCuesParams) {\\n            urgentInfo\\n            bookingDynamic\\n            productSelling\\n            riskCityPolicy\\n        }\\n        switchConfig\\n        userInformation {\\n            json\\n        }\\n        ResponseStatus\\n        }\\n    }\\n  \",\n  fetchProductBasicInfo_SecKill: \"\\n    query getProductInfo(\\n        $params: ProductArgs!\\n        $bookFormEmotionalCuesParams: ProductBookFormEmotionalCuesArgs!\\n    ) {\\n        pageSetting\\n        productInfo(params: $params) {\\n        BasicInfo {\\n            json\\n        }\\n        MediaInfo {\\n            json\\n        }\\n        TagGroupInfo {\\n            json\\n        }\\n        BookInfo {\\n            json\\n        }\\n        ScheduleInfo {\\n            json\\n        }\\n        PriceInfo {\\n            json\\n        }\\n        BasicExtendInfo {\\n            json\\n        }\\n        TourGroupInfo {\\n            json\\n        }\\n        ExtInfo {\\n            json\\n        }\\n        SegmentInfo {\\n            json\\n        }\\n        VendorInfo {\\n            json\\n        }\\n        TravelList {\\n          Alias\\n          Name\\n          TourInfoId\\n          isActive\\n        }\\n        specialTag\\n        serverTime\\n        qConfig {\\n            bonusInfo\\n            studyUrl\\n            sixSecurityInfo\\n            membershipUrl\\n        }\\n        emotionalCues(params: $bookFormEmotionalCuesParams) {\\n            urgentInfo\\n            riskCityPolicy\\n        }\\n        switchConfig\\n        userInformation {\\n            json\\n        }\\n        ResponseStatus\\n        }\\n    }\\n  \",\n  fetchProductSecondInfo: function fetchProductSecondInfo(PreSaleProductId) {\n    if (PreSaleProductId) {\n      return \"query getProductInfo(\\n          $params: ProductArgs!\\n          $servicePersonParams: ProductServicePersonArg!\\n          $expertParams: ProductExpertArgs!\\n          $imEntryInfoParams: IMEntryInfoArgs!\\n          $priceCalendarParams: PriceCalendarArgs!\\n          $PreSaleParams: ProductArgs!\\n          $groupChildrenParams: ProductGroupChildrenArgs!\\n        ) {\\n            productInfo(params: $params) {\\n                PriceInfo {\\n                  json\\n                }\\n                brandTag\\n                productRanking\\n                imageStyleInfo {\\n                  json\\n                }\\n                productExtend {\\n                    commonProblem\\n                    bookingTip\\n                    MultiLineInfo\\n                    MoreRecommendProductList\\n                    commonProblem\\n                }\\n                compositeCoupon {\\n                    promotionList\\n                    promotionCount\\n                    recommendPromotion\\n                    recommendPromotionTitle\\n                }\\n                CostInfoList {\\n                    json\\n                }\\n                FeeInfoList {\\n                    json\\n                }\\n                OrderKnow {\\n                    json\\n                }\\n                Visa {\\n                    json\\n                }\\n                SelfPayInfoList {\\n                    json\\n                }\\n                PMRecomendInfo {\\n                    json\\n                }\\n                DescriptionInfo {\\n                    json\\n                }\\n                TravelIntroductionInfo {\\n                    json\\n                }\\n                myFavorites {\\n                    isFavorite\\n                    isLogin\\n                    favoriteId\\n                }\\n                servicePerson(params: $servicePersonParams) {\\n                  json\\n                }\\n                brandScore {\\n                  inLand\\n                  shopId\\n                  shopType\\n                  success\\n                  productCategoryList\\n                  shopInfo\\n                  productList\\n                  showLocation\\n                }\\n                suggestInfo {\\n                  searchName\\n                }\\n                liveCast {\\n                  json\\n                }\\n                expertInfo(params: $expertParams) {\\n                  summary\\n                  datas\\n                }\\n                imEntryInfo(params: $imEntryInfoParams) {\\n                  imInfo\\n                  serviceInfo\\n                }\\n                groupCard{\\n                  cards\\n                  count\\n                  oneWithN\\n                }\\n                bookingRuleInfo {\\n                  bookingRule\\n                }\\n                promotionDisplayInfo {\\n                  creditInfo\\n                }\\n                promotionDisplayInfoNew {\\n                  creditInfo\\n                }\\n                priceCalendar(params: $priceCalendarParams) {\\n                  scheduleDates\\n                  json\\n                }\\n                groupChildren(params: $groupChildrenParams) {\\n                  groups\\n                }\\n                userDestinationOrder {\\n                  brandTag\\n                  tags\\n                  productDestinationOrderList\\n                }\\n                askStatus {\\n                  json\\n                }\\n                productPlayLineEx {\\n                  json\\n                }\\n                tPalClientInfo {\\n                  tPalScheduleList\\n                }\\n                ResponseStatus\\n            }\\n            PreSaleProductInfo: productInfo(params: $PreSaleParams) {\\n                PreSaleNotice {\\n                  json\\n                }\\n                TagGroupInfo {\\n                  json\\n                }\\n                askStatus {\\n                  json\\n                }\\n                ResponseStatus\\n            }\\n        }\";\n    } else {\n      return \"query getProductInfo(\\n          $params: ProductArgs!\\n          $servicePersonParams: ProductServicePersonArg!\\n          $expertParams: ProductExpertArgs!\\n          $imEntryInfoParams: IMEntryInfoArgs!\\n          $priceCalendarParams: PriceCalendarArgs!\\n          $groupChildrenParams: ProductGroupChildrenArgs!\\n        ) {\\n            productInfo(params: $params) {\\n                PriceInfo {\\n                  json\\n                }\\n                brandTag\\n                productRanking\\n                imageStyleInfo {\\n                  json\\n                }\\n                productExtend {\\n                    commonProblem\\n                    bookingTip\\n                    MultiLineInfo\\n                    MoreRecommendProductList\\n                    commonProblem\\n                }\\n                compositeCoupon {\\n                    promotionList\\n                    promotionCount\\n                    recommendPromotion\\n                    recommendPromotionTitle\\n                }\\n                CostInfoList {\\n                    json\\n                }\\n                FeeInfoList {\\n                    json\\n                }\\n                OrderKnow {\\n                    json\\n                }\\n                Visa {\\n                    json\\n                }\\n                SelfPayInfoList {\\n                    json\\n                }\\n                PMRecomendInfo {\\n                    json\\n                }\\n                DescriptionInfo {\\n                    json\\n                }\\n                TravelIntroductionInfo {\\n                    json\\n                }\\n                myFavorites {\\n                    isFavorite\\n                    isLogin\\n                    favoriteId\\n                }\\n                servicePerson(params: $servicePersonParams) {\\n                  json\\n                }\\n                brandScore {\\n                  inLand\\n                  shopId\\n                  shopType\\n                  success\\n                  productCategoryList\\n                  shopInfo\\n                  productList\\n                  showLocation\\n                }\\n                suggestInfo {\\n                  searchName\\n                }\\n                liveCast {\\n                  json\\n                }\\n                expertInfo(params: $expertParams) {\\n                  summary\\n                  datas\\n                }\\n                imEntryInfo(params: $imEntryInfoParams) {\\n                  imInfo\\n                  serviceInfo\\n                }\\n                groupCard{\\n                  cards\\n                  count\\n                  oneWithN\\n                }\\n                bookingRuleInfo {\\n                  bookingRule\\n                }\\n                promotionDisplayInfo {\\n                  creditInfo\\n                }\\n                promotionDisplayInfoNew {\\n                  creditInfo\\n                }\\n                priceCalendar(params: $priceCalendarParams) {\\n                  scheduleDates\\n                  json\\n                }\\n                groupChildren(params: $groupChildrenParams) {\\n                  groups\\n                }\\n                userDestinationOrder {\\n                  brandTag\\n                  tags\\n                  productDestinationOrderList\\n                }\\n                askStatus {\\n                  json\\n                }\\n                productPlayLineEx {\\n                  json\\n                }\\n                tPalClientInfo {\\n                  tPalScheduleList\\n                }\\n                ResponseStatus\\n            }\\n        }\";\n    }\n  },\n  fetchProductSecondInfo_SecKill: \"\\n    query getProductInfo(\\n      $params: ProductArgs!\\n      $imEntryInfoParams: IMEntryInfoArgs!\\n      $priceCalendarParams: PriceCalendarArgs!\\n    ) {\\n        productInfo(params: $params) {\\n            PriceInfo {\\n              json\\n            }\\n            brandTag\\n            compositeCoupon {\\n                promotionList\\n                promotionCount\\n                recommendPromotion\\n                recommendPromotionTitle\\n            }\\n            CostInfoList {\\n                json\\n            }\\n            FeeInfoList {\\n                json\\n            }\\n            OrderKnow {\\n                json\\n            }\\n            Visa {\\n                json\\n            }\\n            SelfPayInfoList {\\n                json\\n            }\\n            PMRecomendInfo {\\n                json\\n            }\\n            DescriptionInfo {\\n                json\\n            }\\n            TravelIntroductionInfo {\\n                json\\n            }\\n            myFavorites {\\n                isFavorite\\n                isLogin\\n                favoriteId\\n            }\\n            brandScore {\\n              inLand\\n              shopId\\n              shopType\\n              success\\n              productCategoryList\\n              shopInfo\\n              productList\\n              showLocation\\n            }\\n            imEntryInfo(params: $imEntryInfoParams) {\\n              imInfo\\n              serviceInfo\\n            }\\n            groupCard{\\n              cards\\n              count\\n              oneWithN\\n            }\\n            priceCalendar(params: $priceCalendarParams) {\\n              scheduleDates\\n              json\\n            }\\n            ResponseStatus\\n        }\\n    }\",\n  fetchMultiLineDetailInfo: function fetchMultiLineDetailInfo(PreSaleProductId) {\n    if (PreSaleProductId) {\n      return \"\\n        query getProductInfo(\\n          $params: ProductArgs!\\n          $priceCalendarParams: PriceCalendarArgs!\\n          $bookFormEmotionalCuesParams: ProductBookFormEmotionalCuesArgs!\\n          $PreSaleParams: ProductArgs!\\n          $servicePersonParams: ProductServicePersonArg!\\n        ) {\\n            productInfo(params: $params) {\\n              BasicInfo {\\n                json\\n              }\\n              BookInfo {\\n                json\\n              }\\n              MediaInfo {\\n                json\\n              }\\n              PriceInfo {\\n                json\\n              }\\n              TagGroupInfo {\\n                json\\n              }\\n              SegmentInfo {\\n                json\\n              }\\n              PMRecomendInfo {\\n                json\\n              }\\n              DescriptionInfo {\\n                json\\n              }\\n              TravelIntroductionInfo {\\n                json\\n              }\\n              CostInfoList {\\n                json\\n              }\\n              FeeInfoList {\\n                json\\n              }\\n              OrderKnow {\\n                json\\n              }\\n              Visa {\\n                json\\n              }\\n              BasicExtendInfo {\\n                json\\n              }\\n              SelfPayInfoList {\\n                json\\n              }\\n              bookingRuleInfo {\\n                bookingRule\\n              }\\n              imageStyleInfo {\\n                json\\n              }\\n              priceCalendar(params: $priceCalendarParams) {\\n                scheduleDates\\n                json\\n              }\\n              emotionalCues(params: $bookFormEmotionalCuesParams) {\\n                urgentInfo\\n                bookingDynamic\\n                productSelling\\n                riskCityPolicy\\n              }\\n              servicePerson(params: $servicePersonParams) {\\n                json\\n              }\\n              userDestinationOrder {\\n                brandTag\\n                tags\\n                productDestinationOrderList\\n              }\\n              askStatus {\\n                json\\n              }\\n              ExtInfo {\\n                json\\n              }\\n              ResponseStatus\\n            }\\n            PreSaleProductInfo: productInfo(params: $PreSaleParams) {\\n              PreSaleNotice {\\n                json\\n              }\\n              TagGroupInfo {\\n                json\\n              }\\n              askStatus {\\n                json\\n              }\\n              ResponseStatus\\n            }\\n          }\\n        \";\n    } else {\n      return \"\\n          query getProductInfo(\\n            $params: ProductArgs!\\n            $priceCalendarParams: PriceCalendarArgs!\\n            $bookFormEmotionalCuesParams: ProductBookFormEmotionalCuesArgs!\\n            $servicePersonParams: ProductServicePersonArg!\\n          ) {\\n              productInfo(params: $params) {\\n                BasicInfo {\\n                  json\\n                }\\n                BookInfo {\\n                  json\\n                }\\n                MediaInfo {\\n                  json\\n                }\\n                PriceInfo {\\n                  json\\n                }\\n                TagGroupInfo {\\n                  json\\n                }\\n                SegmentInfo {\\n                  json\\n                }\\n                PMRecomendInfo {\\n                  json\\n                }\\n                DescriptionInfo {\\n                  json\\n                }\\n                TravelIntroductionInfo {\\n                  json\\n                }\\n                CostInfoList {\\n                  json\\n                }\\n                FeeInfoList {\\n                  json\\n                }\\n                OrderKnow {\\n                  json\\n                }\\n                Visa {\\n                  json\\n                }\\n                BasicExtendInfo {\\n                  json\\n                }\\n                SelfPayInfoList {\\n                  json\\n                }\\n                bookingRuleInfo {\\n                  bookingRule\\n                }\\n                imageStyleInfo {\\n                  json\\n                }\\n                priceCalendar(params: $priceCalendarParams) {\\n                  scheduleDates\\n                  json\\n                }\\n                emotionalCues(params: $bookFormEmotionalCuesParams) {\\n                  urgentInfo\\n                  bookingDynamic\\n                  productSelling\\n                  riskCityPolicy\\n                }\\n                servicePerson(params: $servicePersonParams) {\\n                  json\\n                }\\n                userDestinationOrder {\\n                  brandTag\\n                  tags\\n                  productDestinationOrderList\\n                }\\n                askStatus {\\n                  json\\n                }\\n                ExtInfo {\\n                  json\\n                }\\n                ResponseStatus\\n              }\\n            }\\n          \";\n    }\n  },\n  fetchMultiTravelDetailInfo: \"\\n  query getProductInfo($params: ProductArgs!) {\\n      productInfo(params: $params) {\\n        SegmentInfo {\\n          json\\n        }\\n        TravelIntroductionInfo {\\n          json\\n        }\\n        Visa {\\n          json\\n        }\\n        FeeInfoList {\\n          json\\n        }\\n        imageStyleInfo {\\n          json\\n        }\\n        ResponseStatus\\n      }\\n    }\\n  \",\n  fetchNewDepartCityProductInfo: function fetchNewDepartCityProductInfo(isMultiLine, isMultiTravel, PreSaleProductId) {\n    if (PreSaleProductId) {\n      return \"\\n              query getProductInfo(\\n                $MainParams: ProductArgs!\\n                $bookFormEmotionalCuesParams: ProductBookFormEmotionalCuesArgs\".concat(isMultiLine || isMultiTravel ? ', $RouteParams: ProductArgs!' : '', \"\\n                $priceCalendarParams: PriceCalendarArgs!\\n                $PreSaleParams: ProductArgs!\\n                $servicePersonParams: ProductServicePersonArg!\\n              ) {\\n                  MainProductInfo: productInfo(params: $MainParams) {\\n                    BasicInfo {\\n                      json\\n                    }\\n                    MediaInfo {\\n                      json\\n                    }\\n                    TagGroupInfo {\\n                      json\\n                    }\\n                    BookInfo {\\n                      json\\n                    }\\n                    ScheduleInfo {\\n                      json\\n                    }\\n                    SegmentInfo {\\n                      json\\n                    }\\n                    PriceInfo {\\n                      json\\n                    }\\n                    PMRecomendInfo {\\n                      json\\n                    }\\n                    DescriptionInfo {\\n                      json\\n                    }\\n                    TourGroupInfo {\\n                      json\\n                    }\\n                    VendorInfo {\\n                      json\\n                    }\\n                    TravelIntroductionInfo {\\n                      json\\n                    }\\n                    CostInfoList {\\n                      json\\n                    }\\n                    FeeInfoList {\\n                      json\\n                    }\\n                    OrderKnow {\\n                      json\\n                    }\\n                    Visa {\\n                      json\\n                    }\\n                    SelfPayInfoList {\\n                      json\\n                    }\\n                    BasicExtendInfo {\\n                      json\\n                    }\\n                    groupCard{\\n                      cards\\n                      count\\n                    }\\n                    promotionDisplayInfo {\\n                      creditInfo\\n                    }\\n                    promotionDisplayInfoNew {\\n                      creditInfo\\n                    }\\n                    bookingRuleInfo {\\n                      bookingRule\\n                    }\\n                    specialTag\\n                    serverTime\\n                    qConfig {\\n                      isPremium\\n                      consultant\\n                      bonusInfo\\n                      isShowHKTip\\n                      studyUrl\\n                      duringServiceIcon\\n                      sixSecurityInfo\\n                      membershipUrl\\n                    }\\n                    compositeCoupon {\\n                      promotionList\\n                      promotionCount\\n                      recommendPromotion\\n                      recommendPromotionTitle\\n                    }\\n                    productExtend {\\n                      commonProblem\\n                      bookingTip\\n                      MultiLineInfo\\n                      MoreRecommendProductList\\n                      commonProblem\\n                    }\\n                    brandScore {\\n                      inLand\\n                      shopId\\n                      shopType\\n                      success\\n                      productCategoryList\\n                      shopInfo\\n                      productList\\n                      showLocation\\n                    }\\n                    TravelList {\\n                      Alias\\n                      Name\\n                      TourInfoId\\n                      isActive\\n                    }\\n                    imageStyleInfo {\\n                      json\\n                    }\\n                    emotionalCues(params: $bookFormEmotionalCuesParams) {\\n                      urgentInfo\\n                      bookingDynamic\\n                      productSelling\\n                      riskCityPolicy\\n                    }\\n                    priceCalendar(params: $priceCalendarParams) {\\n                      scheduleDates\\n                      json\\n                    }\\n                    userInformation {\\n                      json\\n                    }\\n                    servicePerson(params: $servicePersonParams) {\\n                      json\\n                    }\\n                    userDestinationOrder {\\n                      brandTag\\n                      tags\\n                      productDestinationOrderList\\n                    }\\n                    askStatus {\\n                      json\\n                    }\\n                    ExtInfo {\\n                      json\\n                    }\\n                    productPlayLineEx {\\n                      json\\n                    }\\n                    ResponseStatus\\n                  }\\n                  PreSaleProductInfo: productInfo(params: $PreSaleParams) {\\n                    PreSaleNotice {\\n                      json\\n                    }\\n                    TagGroupInfo {\\n                      json\\n                    }\\n                    askStatus {\\n                      json\\n                    }\\n                    ResponseStatus\\n                  }\\n                  \").concat(isMultiLine || isMultiTravel ? \"\\n                  RouteProductInfo: productInfo(params: $RouteParams) {\\n                      BasicInfo {\\n                        json\\n                      }\\n                      TravelIntroductionInfo {\\n                        json\\n                      }\\n                      SegmentInfo {\\n                        json\\n                      }\\n                      FeeInfoList {\\n                        json\\n                      }\\n                      servicePerson(params: $servicePersonParams) {\\n                        json\\n                      }\\n                      userDestinationOrder {\\n                        brandTag\\n                        tags\\n                        productDestinationOrderList\\n                      }\\n                      askStatus {\\n                        json\\n                      }\\n                      ExtInfo {\\n                        json\\n                      }\\n                      \".concat(isMultiLine ? \"\\n                      TagGroupInfo {\\n                        json\\n                      }\\n                      PriceInfo {\\n                        json\\n                      }\\n                      SegmentInfo {\\n                        json\\n                      }\\n                      PMRecomendInfo {\\n                        json\\n                      }\\n                      DescriptionInfo {\\n                        json\\n                      }\\n                      CostInfoList {\\n                        json\\n                      }\\n                      OrderKnow {\\n                        json\\n                      }\\n                      Visa {\\n                        json\\n                      }\\n                      BasicExtendInfo {\\n                        json\\n                      }\\n                      BookInfo {\\n                        json\\n                      }\\n                      SelfPayInfoList {\\n                        json\\n                      }\\n                      imageStyleInfo {\\n                        json\\n                      }\\n                      priceCalendar(params: $priceCalendarParams) {\\n                        scheduleDates\\n                        json\\n                      }\\n                      ResponseStatus\\n                      \" : '', \"\\n                    }\\n                \") : '', \"\\n                }\\n\\n              \");\n    } else {\n      return \"\\n        query getProductInfo(\\n          $MainParams: ProductArgs!\\n          $bookFormEmotionalCuesParams: ProductBookFormEmotionalCuesArgs\".concat(isMultiLine || isMultiTravel ? ', $RouteParams: ProductArgs!' : '', \"\\n          $priceCalendarParams: PriceCalendarArgs!\\n          $servicePersonParams: ProductServicePersonArg!\\n        ) {\\n            MainProductInfo: productInfo(params: $MainParams) {\\n              BasicInfo {\\n                json\\n              }\\n              MediaInfo {\\n                json\\n              }\\n              TagGroupInfo {\\n                json\\n              }\\n              BookInfo {\\n                json\\n              }\\n              ScheduleInfo {\\n                json\\n              }\\n              SegmentInfo {\\n                json\\n              }\\n              PriceInfo {\\n                json\\n              }\\n              PMRecomendInfo {\\n                json\\n              }\\n              DescriptionInfo {\\n                json\\n              }\\n              TourGroupInfo {\\n                json\\n              }\\n              VendorInfo {\\n                json\\n              }\\n              TravelIntroductionInfo {\\n                json\\n              }\\n              CostInfoList {\\n                json\\n              }\\n              FeeInfoList {\\n                json\\n              }\\n              OrderKnow {\\n                json\\n              }\\n              Visa {\\n                json\\n              }\\n              SelfPayInfoList {\\n                json\\n              }\\n              BasicExtendInfo {\\n                json\\n              }\\n              groupCard{\\n                cards\\n                count\\n              }\\n              promotionDisplayInfo {\\n                creditInfo\\n              }\\n              promotionDisplayInfoNew {\\n                creditInfo\\n              }\\n              bookingRuleInfo {\\n                bookingRule\\n              }\\n              specialTag\\n              serverTime\\n              qConfig {\\n                isPremium\\n                consultant\\n                bonusInfo\\n                isShowHKTip\\n                studyUrl\\n                duringServiceIcon\\n                sixSecurityInfo\\n                membershipUrl\\n              }\\n              compositeCoupon {\\n                promotionList\\n                promotionCount\\n                recommendPromotion\\n                recommendPromotionTitle\\n              }\\n              productExtend {\\n                commonProblem\\n                bookingTip\\n                MultiLineInfo\\n                MoreRecommendProductList\\n                commonProblem\\n              }\\n              brandScore {\\n                inLand\\n                shopId\\n                shopType\\n                success\\n                productCategoryList\\n                shopInfo\\n                productList\\n                showLocation\\n              }\\n              TravelList {\\n                Alias\\n                Name\\n                TourInfoId\\n                isActive\\n              }\\n              imageStyleInfo {\\n                json\\n              }\\n              emotionalCues(params: $bookFormEmotionalCuesParams) {\\n                urgentInfo\\n                bookingDynamic\\n                productSelling\\n                riskCityPolicy\\n              }\\n              priceCalendar(params: $priceCalendarParams) {\\n                scheduleDates\\n                json\\n              }\\n              userInformation {\\n                json\\n              }\\n              servicePerson(params: $servicePersonParams) {\\n                json\\n              }\\n              userDestinationOrder {\\n                brandTag\\n                tags\\n                productDestinationOrderList\\n              }\\n              askStatus {\\n                json\\n              }\\n              ExtInfo {\\n                json\\n              }\\n              productPlayLineEx {\\n                json\\n              }\\n              ResponseStatus\\n            }\\n            \").concat(isMultiLine || isMultiTravel ? \"\\n            RouteProductInfo: productInfo(params: $RouteParams) {\\n                BasicInfo {\\n                  json\\n                }\\n                TravelIntroductionInfo {\\n                  json\\n                }\\n                SegmentInfo {\\n                  json\\n                }\\n                FeeInfoList {\\n                  json\\n                }\\n                servicePerson(params: $servicePersonParams) {\\n                  json\\n                }\\n                userDestinationOrder {\\n                  brandTag\\n                  tags\\n                  productDestinationOrderList\\n                }\\n                askStatus {\\n                  json\\n                }\\n                ExtInfo {\\n                  json\\n                }\\n                \".concat(isMultiLine ? \"\\n                TagGroupInfo {\\n                  json\\n                }\\n                PriceInfo {\\n                  json\\n                }\\n                SegmentInfo {\\n                  json\\n                }\\n                PMRecomendInfo {\\n                  json\\n                }\\n                DescriptionInfo {\\n                  json\\n                }\\n                CostInfoList {\\n                  json\\n                }\\n                OrderKnow {\\n                  json\\n                }\\n                Visa {\\n                  json\\n                }\\n                BasicExtendInfo {\\n                  json\\n                }\\n                BookInfo {\\n                  json\\n                }\\n                SelfPayInfoList {\\n                  json\\n                }\\n                imageStyleInfo {\\n                  json\\n                }\\n                priceCalendar(params: $priceCalendarParams) {\\n                  scheduleDates\\n                  json\\n                }\\n                ResponseStatus\\n                \" : '', \"\\n                }\\n            \") : '', \"\\n          }\\n\\n        \");\n    }\n  },\n  fetchRefreshPriceInfo: \"\\n    query getProductInfo(\\n        $params: ProductArgs!\\n        $priceCalendarParams: PriceCalendarArgs!\\n    ) {\\n        productInfo(params: $params) {\\n        BasicInfo {\\n            json\\n        }\\n        BookInfo {\\n            json\\n        }\\n        ScheduleInfo {\\n            json\\n        }\\n        PriceInfo {\\n            json\\n        }\\n        groupCard{\\n            cards\\n            count\\n        }\\n        priceCalendar(params: $priceCalendarParams) {\\n            scheduleDates\\n            json\\n        }\\n        ResponseStatus\\n        }\\n    }\\n  \"\n};\n// EXTERNAL MODULE: ./node_modules/querystring/index.js\nvar querystring = __webpack_require__(79666);\n// EXTERNAL MODULE: ./src/pages/vacations/isomorphic/pages/resource/modelAction/entry.ts\nvar entry = __webpack_require__(50107);\n;// CONCATENATED MODULE: ./src/pages/vacations/isomorphic/pages/detail/log/index.ts\n/*  */\n\nvar setupDetailLog = function setupDetailLog(_ref) {\n  var ctx = _ref.ctx;\n  // KM  - @ctrip/devhub-trace-log\n  var traceKMLogAction = function traceKMLogAction(info) {\n    if (false) {}\n    try {\n      ctx.getDHTLogger().logActionInfo(info);\n    } catch (err) {\n      // ctx.logPageError('DHTLogger Error', err)\n    }\n  };\n  var traceKMLogPage = function traceKMLogPage(info) {\n    if (false) {}\n    try {\n      ctx.getDHTLogger().logPageInfo(info);\n    } catch (err) {\n      // ctx.logPageError('DHTLogger Error', err)\n    }\n  };\n  var traceKMLogError = function traceKMLogError(message, error) {\n    var info = {\n      pageName: 'detail',\n      message: message,\n      ex: error\n    };\n    if (false) {}\n    try {\n      ctx.getDHTLogger().logError(info);\n    } catch (err) {\n      console.log(' traceKMLogError', err);\n    }\n  };\n  var traceKMLogMessage = function traceKMLogMessage(message) {\n    if (false) {}\n    try {\n      ctx.getDHTLogger().logMessage(message);\n    } catch (err) {\n      console.log(' traceKMLogMessage', err);\n    }\n  };\n  var traceKMInterruption = function traceKMInterruption(desc, key, sceneText) {\n    try {\n      var scene = '';\n      if (key.startsWith('vac_1')) {\n        scene = '';\n      } else if (key.startsWith('vac_2')) {\n        scene = '';\n      } else if (key.startsWith('vac_3')) {\n        scene = '';\n      } else if (key.startsWith('vac_4')) {\n        scene = '';\n      }\n      if (scene === '') {\n        return;\n      }\n      if (false) {}\n      ctx.getDHTLogger().logActionInfo({\n        module: '',\n        scene: !!sceneText ? sceneText : scene,\n        role: platform/* RoleType.sys */.GD.sys,\n        action: platform/* ActionType.show */.Us.show,\n        value: desc || '-',\n        key: key\n      });\n    } catch (err) {\n      console.log(' traceKMLogAction', err);\n    }\n  };\n  return {\n    traceKMLogAction: traceKMLogAction,\n    traceKMLogPage: traceKMLogPage,\n    traceKMLogError: traceKMLogError,\n    traceKMLogMessage: traceKMLogMessage,\n    traceKMInterruption: traceKMInterruption\n  };\n};\n;// CONCATENATED MODULE: ./src/pages/vacations/isomorphic/pages/detail/model.ts\n\n\n\n\n\nvar model_excluded = [\"ResponseStatus\", \"imEntryInfo\"],\n  model_excluded2 = [\"ResponseStatus\"];\nvar _process, _process2;\n\n\n\n\n\n\n\n\n\n\nvar ABTestCodeList = [\"230505_VAC_ask1\", \"230612_VAC_XTJMK\"];\nvar isUnitTest = typeof process === \"undefined\" ? false : ((_process = process) === null || _process === void 0 || (_process = _process.env) === null || _process === void 0 ? void 0 : \"production\") === \"test\";\nvar isDevelopment = typeof process === 'undefined' ? false : ((_process2 = process) === null || _process2 === void 0 || (_process2 = _process2.env) === null || _process2 === void 0 ? void 0 : \"production\") === 'development';\nvar initMaskStatus = {\n  isShowCitySelectMask: false,\n  isShowCouponMask: false,\n  isShowPromotionMask: false,\n  isShowCreditMask: false,\n  isShowServiceTagMask: false,\n  isShowSpecialBrandMask: false,\n  isShowMenuPop: false,\n  isShowCustomerServiceMask: false,\n  isShowPriceTipMask: false,\n  isShowAlertMask: false,\n  isShowUrgentMask: false,\n  isShowScenicMask: false,\n  isShowTrackOrderPop: false,\n  isShowCalendarPop: false,\n  isShowPresaleCalendarPop: false,\n  isShowCruisePriceDetail: false,\n  isShowSeaCruiseInfo: false,\n  isShowMemberShipMask: false,\n  isShowScenicExcludingFeeMask: false,\n  isShowThemeDifficultyMask: false,\n  isShowXRecommendMask: false,\n  isShowDiscountDetailMask: false,\n  isShowBookingLimitMask: false,\n  isShowGoldGuideMask: false,\n  isShowTpalMask: false,\n  isShowPreSaleNoticeMask: false,\n  isShowGODetailMask: false\n};\nvar initialState = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, initMaskStatus), {}, {\n  //  false\n  isSimpleMode: false,\n  // \n  isShowLazyLoadContent: false,\n  favoriteMenuStatus: \"hide\",\n  isDefaultClause: false,\n  isShowHeaderMenu: false,\n  isSnapshot: false,\n  isShowSummaryLoading: false,\n  isShowErrorPage: false,\n  isShowCustomerService: true,\n  visaCountry: \"\",\n  ABTestResult: [],\n  currentImageIndex: 0,\n  isPremium: false,\n  // \n  isNewProcess: true,\n  // \n  isPreSale: true,\n  // ABTAB\n  isShowD2DSwitch: false,\n  // ABTAB\n  isShowD2DSwitch_p2c: false,\n  // \n  isTpalStyle: false,\n  // tab\n  isTabStyle: false\n});\nvar model_Model = (0,platform/* createReactModel */.lU)(function () {\n  var ctx = (0,context/* setupTourContext */.Do)();\n  // query \n  var query = (0,context/* setupQueryContext */.$S)();\n  var lowerCaseQuery = {};\n  Object.keys(query).forEach(function (key) {\n    lowerCaseQuery[key.toLocaleLowerCase()] = query[key];\n  });\n\n  // \n  var isSecKill = lowerCaseQuery.seckill === \"1\";\n\n  // \n  var _ref = (0,platform/* setupStore */.zn)({\n      initialState: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, initialState), {}, {\n        query: lowerCaseQuery,\n        isSnapshot: !!lowerCaseQuery.snapshotid\n      }, (0,context/* setupPlatformContext */.IP)()), {}, {\n        handlers: {},\n        ShoppingId: lowerCaseQuery.shoppingid,\n        // \n        issyncLiistInfo: lowerCaseQuery.syncdata === \"1\",\n        // , url \n        isShowInitDepartCity: !!lowerCaseQuery.departcityid,\n        // url  id  checkShouldSelectPreSale \n        isShowMulitiRouteInPreSale: !lowerCaseQuery.presaleid,\n        // \n        isSecKill: isSecKill,\n        //  false\n        isSecKillLimit: false\n      }),\n      reducers: reducer\n      // logger: true\n    }),\n    store = _ref.store,\n    actions = _ref.actions;\n\n  // \n  var requestQueues = {};\n  var cancelRequest = function cancelRequest(key) {\n    if (requestQueues[key]) {\n      requestQueues[key].cancel();\n      delete requestQueues[key];\n    }\n  };\n\n  //  RenderTime Info\n  var RenderTimeInfoList = [];\n\n  //  fetch data \n  var FirstFetchData = null;\n  var SecondFetchData = null;\n\n  // \n  var isClickFavBeforeData = false;\n\n  // \n  var hasJumpedResouce = false;\n\n  // \n  var hasRefreshedLineReset = true;\n\n  /**  */\n  var resourceEntry = (0,entry/* setupResourceEntry */.c)({\n    ctx: ctx\n  });\n\n  // \n  var _setupDetailLog = setupDetailLog({\n      ctx: ctx\n    }),\n    traceKMLogAction = _setupDetailLog.traceKMLogAction,\n    traceKMInterruption = _setupDetailLog.traceKMInterruption;\n\n  /** functions need call again when login */\n  var onLoginSuccess = /*#__PURE__*/function () {\n    var _ref2 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!IsCtripApp) {\n              _context.next = 5;\n              break;\n            }\n            _context.next = 3;\n            return fetchLoginUpdatedProductInfo();\n          case 3:\n            _context.next = 5;\n            break;\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function onLoginSuccess() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  /** functions need call again when change depart city */\n  var onChangeDepartCity = /*#__PURE__*/function () {\n    var _ref3 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2() {\n      var SET_CONCAT_DATA, dataList;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            SET_CONCAT_DATA = actions.SET_CONCAT_DATA;\n            if (!IsTripApp) {\n              _context2.next = 7;\n              break;\n            }\n            _context2.next = 4;\n            return Promise.all([]);\n          case 4:\n            _context2.t0 = _context2.sent;\n            _context2.next = 10;\n            break;\n          case 7:\n            _context2.next = 9;\n            return Promise.all([fetchStoreInfoPromise()]);\n          case 9:\n            _context2.t0 = _context2.sent;\n          case 10:\n            dataList = _context2.t0;\n            SET_CONCAT_DATA(dataList);\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function onChangeDepartCity() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var preloadCallbackAction = /*#__PURE__*/function () {\n    var _ref4 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee3() {\n      var _store$getState, _query, BasicInfo, PriceInfo, BookInfo, SegmentInfo;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!isUnitTest) {\n              _context3.next = 6;\n              break;\n            }\n            _context3.next = 3;\n            return fetchProductBasicInfo();\n          case 3:\n            checkShouldChangeDepartCity();\n            // fetchCruiseJourneyInfo()\n            fetchInitCruiseInfo();\n            return _context3.abrupt(\"return\");\n          case 6:\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\")) {\n              _context3.next = 17;\n              break;\n            }\n            _context3.prev = 7;\n            _context3.next = 10;\n            return fetchProductBasicInfo();\n          case 10:\n            _store$getState = store.getState(), _query = _store$getState.query, BasicInfo = _store$getState.BasicInfo, PriceInfo = _store$getState.PriceInfo, BookInfo = _store$getState.BookInfo, SegmentInfo = _store$getState.SegmentInfo; // \n            ctx.triggerComponentWillCreateEvents({\n              query: _query,\n              BasicInfo: BasicInfo,\n              PriceInfo: PriceInfo,\n              BookInfo: BookInfo,\n              SegmentInfo: SegmentInfo\n            });\n            _context3.next = 17;\n            break;\n          case 14:\n            _context3.prev = 14;\n            _context3.t0 = _context3[\"catch\"](7);\n            console.log(\"preloadCallbackAction\", _context3.t0);\n          case 17:\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\")) {\n              _context3.next = 27;\n              break;\n            }\n            _context3.prev = 18;\n            _context3.next = 21;\n            return fetchProductBasicInfo();\n          case 21:\n            setCtmRefStorage();\n            _context3.next = 27;\n            break;\n          case 24:\n            _context3.prev = 24;\n            _context3.t1 = _context3[\"catch\"](18);\n            console.log(\"preloadCallbackAction\", _context3.t1);\n          case 27:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[7, 14], [18, 24]]);\n    }));\n    return function preloadCallbackAction() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  //  SSR componentWillMount  render  Dom\n  (0,platform/* setupPreloadCallback */.Ns)(preloadCallbackAction);\n\n  // rewrite jumpH5  H5  goTo\n  var jumpH5 = function jumpH5(_ref5) {\n    var url = _ref5.url,\n      params = _ref5.params,\n      options = _ref5.options;\n    // if (ctx.Platform === 'H5') {\n    //     if (url && url.startsWith('/webapp/vacations/tour/')) {\n    //         url = url.split('/webapp/vacations/tour')[1]\n    //         ctx.goTo({ url, params })\n    //     } else {\n    //         ctx.jumpH5({ url, params })\n    //     }\n    // } else {\n    ctx.jumpH5({\n      url: url,\n      params: params,\n      options: options\n    });\n    // }\n  };\n  /************************* Request **************************/\n  /**  **/\n  var fetchCurrentLimiting = /*#__PURE__*/function () {\n    var _ref6 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee5() {\n      var UPDATE_SECKILL_LIMIT_STATUS, _yield$ctx$post, ResponseStatus, duration;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            UPDATE_SECKILL_LIMIT_STATUS = actions.UPDATE_SECKILL_LIMIT_STATUS;\n            _context5.prev = 1;\n            _context5.next = 4;\n            return ctx.post(\"currentLimiting\", {});\n          case 4:\n            _yield$ctx$post = _context5.sent;\n            ResponseStatus = _yield$ctx$post.ResponseStatus;\n            if (ResponseStatus && ResponseStatus.Ack && ResponseStatus.Ack === \"Success\") {\n              UPDATE_SECKILL_LIMIT_STATUS(false);\n              duration = Math.random() * (500 - 100) + 100;\n              setTimeout( /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee4() {\n                var info;\n                return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee4$(_context4) {\n                  while (1) switch (_context4.prev = _context4.next) {\n                    case 0:\n                      _context4.next = 2;\n                      return fetchProductBasicInfo();\n                    case 2:\n                      info = _context4.sent;\n                      if (info !== 'error') {\n                        // \n                        traceInitLogs();\n                      }\n                    case 4:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }, _callee4);\n              })), duration);\n            } else {\n              UPDATE_SECKILL_LIMIT_STATUS(true);\n            }\n            _context5.next = 13;\n            break;\n          case 9:\n            _context5.prev = 9;\n            _context5.t0 = _context5[\"catch\"](1);\n            console.log(_context5.t0);\n            UPDATE_SECKILL_LIMIT_STATUS(true);\n          case 13:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5, null, [[1, 9]]);\n    }));\n    return function fetchCurrentLimiting() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchRefreshSecKillBookInfo = /*#__PURE__*/function () {\n    var _ref8 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee6() {\n      var _store$getState2, BasicInfo, UPDATE_STATE, queryName, queryString, wakenUpData, _wakenUpData, allianceid, sid, awake_allianceid, awake_sid, variables, _yield$ctx$gqlpost, data, productInfo, ResponseStatus, BookInfo, ScheduleInfo;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            _store$getState2 = store.getState(), BasicInfo = _store$getState2.BasicInfo;\n            UPDATE_STATE = actions.UPDATE_STATE;\n            queryName = \"ProductInfo_App_Refresh_SecKill_BookInfo\";\n            queryString = \"\\n      query getProductInfo(\\n          $params: ProductArgs!\\n      ) {\\n          productInfo(params: $params) {\\n            BookInfo {\\n                json\\n            }\\n            ScheduleInfo {\\n                json\\n            }\\n            ResponseStatus\\n          }\\n      }\\n    \";\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\")) {\n              _context6.next = 10;\n              break;\n            }\n            _context6.next = 7;\n            return ctx.getClientInfo();\n          case 7:\n            _context6.t0 = _context6.sent;\n            _context6.next = 13;\n            break;\n          case 10:\n            _context6.next = 12;\n            return ctx.getWakeUpData();\n          case 12:\n            _context6.t0 = _context6.sent;\n          case 13:\n            wakenUpData = _context6.t0;\n            _wakenUpData = wakenUpData, allianceid = _wakenUpData.allianceid, sid = _wakenUpData.sid, awake_allianceid = _wakenUpData.awake_allianceid, awake_sid = _wakenUpData.awake_sid;\n            wakenUpData = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, wakenUpData), {}, {\n              allianceid: Number(awake_allianceid || allianceid || 0),\n              sid: Number(awake_sid || sid || 0)\n            });\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: Number(BasicInfo.ProductId),\n                DepartureCityId: Number(BasicInfo.DepartureId || 2),\n                MarketingInfo: {\n                  AllianceId: wakenUpData.allianceid,\n                  SId: wakenUpData.sid\n                }\n              }, ctx.attachShardParams())\n            };\n            _context6.prev = 17;\n            _context6.next = 20;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 20:\n            _yield$ctx$gqlpost = _context6.sent;\n            data = _yield$ctx$gqlpost.data;\n            productInfo = data.productInfo;\n            ResponseStatus = productInfo.ResponseStatus;\n            if (ResponseStatus.Ack === \"Success\") {\n              BookInfo = productInfo.BookInfo, ScheduleInfo = productInfo.ScheduleInfo;\n              UPDATE_STATE({\n                BookInfo: BookInfo,\n                ScheduleInfo: ScheduleInfo\n              });\n            }\n            _context6.next = 30;\n            break;\n          case 27:\n            _context6.prev = 27;\n            _context6.t1 = _context6[\"catch\"](17);\n            console.log(_context6.t1);\n          case 30:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6, null, [[17, 27]]);\n    }));\n    return function fetchRefreshSecKillBookInfo() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  /** () */\n  var fetchProductBasicInfo = /*#__PURE__*/function () {\n    var _ref9 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee7() {\n      var startTime, _store$getState3, query, ABTestResult, pageStatus, isPreSale, isShowD2DSwitch, isShowD2DSwitch_p2c, isSecKill, UPDATE_PRODUCT_BASIC_INFO, productid, departcityid, departdate, queryName, queryString, wakenUpData, _wakenUpData2, allianceid, sid, awake_allianceid, awake_sid, variables, cachekey, options, isSameRequestOnRoad, dataList, fetchTime, _dataList$, data, errors, _dataList$$__isFromCa, __isFromCache, extensions, _dataList$2, userInfo, isLogin, productInfo, pageSetting, ResponseStatus, ScheduleInfo, BasicInfo, PreSaleTourGroupInfo, BookInfo, _extensions$SoaRespon, isCruise, PreSaleStatus, isExtendedStay, url, _options, _url, _options2, SpecialTagList, isTpalStyle, _url2, _options3, shouldDirect, CruiseDepartDate, _ScheduleDateList$, _ScheduleInfo$Schedul, ScheduleDateList, pageId, SET_PAGE_ID, renderTime, _ref10, prevpage, page, firstTraceData, ErrorMessage;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            startTime = new Date().getTime();\n            _store$getState3 = store.getState(), query = _store$getState3.query, ABTestResult = _store$getState3.ABTestResult, pageStatus = _store$getState3.pageStatus, isPreSale = _store$getState3.isPreSale, isShowD2DSwitch = _store$getState3.isShowD2DSwitch, isShowD2DSwitch_p2c = _store$getState3.isShowD2DSwitch_p2c, isSecKill = _store$getState3.isSecKill;\n            UPDATE_PRODUCT_BASIC_INFO = actions.UPDATE_PRODUCT_BASIC_INFO;\n            productid = query.productid, departcityid = query.departcityid, departdate = query.departdate;\n            queryName = isSecKill ? \"ProductInfo_App_1st_SecKill\" : \"ProductInfo_App_1st_V2\";\n            queryString = isSecKill ? gqlFragment.fetchProductBasicInfo_SecKill : gqlFragment.fetchProductBasicInfo;\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\")) {\n              _context7.next = 12;\n              break;\n            }\n            _context7.next = 9;\n            return ctx.getClientInfo();\n          case 9:\n            _context7.t0 = _context7.sent;\n            _context7.next = 15;\n            break;\n          case 12:\n            _context7.next = 14;\n            return ctx.getWakeUpData();\n          case 14:\n            _context7.t0 = _context7.sent;\n          case 15:\n            wakenUpData = _context7.t0;\n            _wakenUpData2 = wakenUpData, allianceid = _wakenUpData2.allianceid, sid = _wakenUpData2.sid, awake_allianceid = _wakenUpData2.awake_allianceid, awake_sid = _wakenUpData2.awake_sid;\n            wakenUpData = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, wakenUpData), {}, {\n              allianceid: Number(awake_allianceid || allianceid || 0),\n              sid: Number(awake_sid || sid || 0)\n            });\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: Number(productid),\n                DepartureCityId: Number(departcityid || 2),\n                DepartureDate: departdate,\n                MarketingInfo: {\n                  AllianceId: wakenUpData.allianceid,\n                  SId: wakenUpData.sid\n                },\n                HeadTagList: [{\n                  \"Key\": \"IsNonDepartureCityPrice\",\n                  \"Value\": \"1\"\n                }]\n              }, ctx.attachShardParams()),\n              bookFormEmotionalCuesParams: {\n                HeadTagList: [{\n                  Key: \"from_page\",\n                  Value: \"product\"\n                }, {\n                  Key: \"emotional_type\",\n                  Value: \"emergency_info_new\"\n                }, {\n                  Key: \"page_index\",\n                  Value: \"1002\"\n                }, {\n                  Key: \"business_line\",\n                  Value: \"1\"\n                }]\n              }\n            }; // \n            if (isUnitTest) {\n              variables.params.testCaseId = \"44954748\";\n            }\n            cachekey = ['rn_tour', 'detail', productid, departcityid, departdate].join('_');\n            options = {\n              //  \n              needRetry: true,\n              cachePolicy: {\n                enableCache: true,\n                cacheExpireTime: 30,\n                cacheLocation: \"MEM\",\n                cacheKey: cachekey\n              }\n            }; // \n            if (query.nocache) {\n              options = {\n                needRetry: true\n              };\n            }\n\n            // \n            if (isSecKill) {\n              options = {};\n            }\n\n            // \n            isSameRequestOnRoad = isUnitTest ? false : ctx.CRNFetch.isSameRequestOnRoad({\n              cacheKey: cachekey\n            });\n            _context7.prev = 25;\n            _context7.next = 28;\n            return Promise.all([ctx.gqlpost(queryString, variables, queryName, options), ctx.getUserInfo()]);\n          case 28:\n            dataList = _context7.sent;\n            fetchTime = new Date().getTime();\n            _dataList$ = dataList[0], data = _dataList$.data, errors = _dataList$.errors, _dataList$$__isFromCa = _dataList$.__isFromCache, __isFromCache = _dataList$$__isFromCa === void 0 ? false : _dataList$$__isFromCa, extensions = _dataList$.extensions; // \n            _dataList$2 = dataList[1], userInfo = _dataList$2.userInfo, isLogin = _dataList$2.isLogin;\n            if (!errors) {\n              _context7.next = 36;\n              break;\n            }\n            throw new Error(errors[0].message);\n          case 36:\n            productInfo = data.productInfo, pageSetting = data.pageSetting;\n            ResponseStatus = productInfo.ResponseStatus, ScheduleInfo = productInfo.ScheduleInfo, BasicInfo = productInfo.BasicInfo, PreSaleTourGroupInfo = productInfo.PreSaleTourGroupInfo, BookInfo = productInfo.BookInfo;\n            if (!(ResponseStatus.Ack === \"Success\")) {\n              _context7.next = 94;\n              break;\n            }\n            isCruise = BasicInfo.isCruise, PreSaleStatus = BasicInfo.PreSaleStatus; //  \n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\")) {\n              _context7.next = 61;\n              break;\n            }\n            // \n            isExtendedStay = false;\n            if (productInfo && productInfo.BasicInfo && productInfo.BasicInfo.isPureDiyfhxsdp) {\n              isExtendedStay = productInfo && productInfo.SegmentInfo && !productInfo.SegmentInfo.IsFixSegment;\n            }\n            if (!isExtendedStay) {\n              _context7.next = 48;\n              break;\n            }\n            url = \"/webapp/vacations/tour/detail_o\";\n            _options = {\n              isRedirect: true\n            };\n            ctx.jumpH5({\n              url: url,\n              params: query,\n              options: _options\n            });\n            return _context7.abrupt(\"return\");\n          case 48:\n            if (!(productInfo && productInfo.BasicInfo && productInfo.BasicInfo.isCruise)) {\n              _context7.next = 53;\n              break;\n            }\n            _url = \"/webapp/vacations/tour/cruise\";\n            _options2 = {\n              isRedirect: true\n            };\n            ctx.jumpH5({\n              url: _url,\n              params: query,\n              options: _options2\n            });\n            return _context7.abrupt(\"return\");\n          case 53:\n            if (!(productInfo && productInfo.TagGroupInfo && productInfo.TagGroupInfo.SpecialTagList)) {\n              _context7.next = 61;\n              break;\n            }\n            SpecialTagList = productInfo.TagGroupInfo.SpecialTagList;\n            isTpalStyle = SpecialTagList.some(function (tagInfo) {\n              return (tagInfo === null || tagInfo === void 0 ? void 0 : tagInfo.TagId) === 2173;\n            });\n            if (!isTpalStyle) {\n              _context7.next = 61;\n              break;\n            }\n            _url2 = \"/webapp/vacations/tour/detail\";\n            _options3 = {\n              isRedirect: true\n            };\n            ctx.jumpH5({\n              url: _url2,\n              params: query,\n              options: _options3\n            });\n            return _context7.abrupt(\"return\");\n          case 61:\n            if (!(PreSaleStatus === 2 && isPreSale)) {\n              _context7.next = 67;\n              break;\n            }\n            _context7.next = 64;\n            return redirectToMainProductId({\n              PreSaleTourGroupInfo: PreSaleTourGroupInfo,\n              productid: productid\n            });\n          case 64:\n            shouldDirect = _context7.sent;\n            if (!shouldDirect) {\n              _context7.next = 67;\n              break;\n            }\n            return _context7.abrupt(\"return\");\n          case 67:\n            // \n            CruiseDepartDate = query.departdate;\n            if (isCruise && !CruiseDepartDate) {\n              _ScheduleInfo$Schedul = ScheduleInfo.ScheduleDateList, ScheduleDateList = _ScheduleInfo$Schedul === void 0 ? [] : _ScheduleInfo$Schedul;\n              CruiseDepartDate = (_ScheduleDateList$ = ScheduleDateList[0]) === null || _ScheduleDateList$ === void 0 ? void 0 : _ScheduleDateList$.PriceDate;\n            }\n\n            // pv\n            pageId = setPageId(BasicInfo, query);\n            UPDATE_PRODUCT_BASIC_INFO({\n              pageSetting: pageSetting,\n              productInfo: productInfo,\n              userInfo: userInfo,\n              isLogin: isLogin,\n              CruiseDepartDate: CruiseDepartDate,\n              wakenUpData: wakenUpData,\n              isPreSale: isPreSale,\n              isShowD2DSwitch: isShowD2DSwitch,\n              isShowD2DSwitch_p2c: isShowD2DSwitch_p2c\n            });\n            SET_PAGE_ID = actions.SET_PAGE_ID; //  pageId \n            SET_PAGE_ID(pageId);\n            renderTime = new Date().getTime();\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: String(BasicInfo.ProductId)\n              }, {\n                key: \"cacheKey\",\n                value: cachekey\n              }],\n              module: \"\",\n              scene: \" /tour/bff/graphql/ProductInfo_App_1st_V2\",\n              action: \"sys_show\",\n              rootMessageId: extensions === null || extensions === void 0 || (_extensions$SoaRespon = extensions.SoaResponseStatus) === null || _extensions$SoaRespon === void 0 || (_extensions$SoaRespon = _extensions$SoaRespon.ResponseStatus) === null || _extensions$SoaRespon === void 0 || (_extensions$SoaRespon = _extensions$SoaRespon.Extension.find(function (item) {\n                return item.Id === \"RootMessageId\";\n              })) === null || _extensions$SoaRespon === void 0 ? void 0 : _extensions$SoaRespon.Value\n            });\n            if (isCruise) {\n              if (!BookInfo.IsBook || !ScheduleInfo.HasInventory) {\n                traceKMInterruption(\"\", \"vac_25002\");\n              }\n            }\n            _context7.next = 78;\n            return ctx.getCurrentPageInfo();\n          case 78:\n            _context7.t1 = _context7.sent;\n            if (_context7.t1) {\n              _context7.next = 81;\n              break;\n            }\n            _context7.t1 = {};\n          case 81:\n            _ref10 = _context7.t1;\n            prevpage = _ref10.prevpage;\n            page = _ref10.page;\n            firstTraceData = {\n              timeStamp: renderTime,\n              content: [{\n                key: \"\",\n                value: String(__isFromCache)\n              }, {\n                key: \"\",\n                value: String(isSameRequestOnRoad)\n              },\n              // { key: '', value: fetchTime - startTime < 300 },\n              {\n                key: \"\",\n                value: String(prevpage)\n              }, {\n                key: \"\",\n                value: String(fetchTime - startTime)\n              }, {\n                key: \"\",\n                value: String(renderTime - fetchTime)\n              }]\n            };\n            RenderTimeInfoList.push(firstTraceData);\n\n            // app \n            if (ctx.Platform === \"RN\") {\n              ctx.traceDevLog(\"tour_detail_1st_count\", {\n                __isFromCache: __isFromCache\n              });\n              if (__isFromCache) {\n                ctx.traceDevLog(\"tour_detail_1st_from_cache\", {\n                  __isFromCache: __isFromCache\n                });\n              }\n            }\n\n            // H5 ,  view \n            if (!(ctx.Platform !== \"H5\")) {\n              _context7.next = 92;\n              break;\n            }\n            _context7.next = 90;\n            return getLocationInfo();\n          case 90:\n            _context7.next = 92;\n            return fetchProductSecondInfo();\n          case 92:\n            _context7.next = 95;\n            break;\n          case 94:\n            throw new Error(ResponseStatus.Errors[0].Message);\n          case 95:\n            _context7.next = 104;\n            break;\n          case 97:\n            _context7.prev = 97;\n            _context7.t2 = _context7[\"catch\"](25);\n            console.log(_context7.t2);\n            ErrorMessage = _context7.t2.message ? _context7.t2.message : \"\";\n            ctx.showToast(ErrorMessage);\n            ctx.logPageError(\"fetchProductBasicInfo\", _context7.t2);\n            return _context7.abrupt(\"return\", \"error\");\n          case 104:\n          case \"end\":\n            return _context7.stop();\n        }\n      }, _callee7, null, [[25, 97]]);\n    }));\n    return function fetchProductBasicInfo() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchLoginProductBasicInfo = /*#__PURE__*/function () {\n    var _ref11 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee8() {\n      var _store$getState4, query, ABTestResult, pageStatus, BasicInfo, isPreSale, isShowD2DSwitch, isShowD2DSwitch_p2c, copiedOriginalProductState, copiedNewProductState, isSecKill, UPDATE_PRODUCT_BASIC_INFO, RESET_D2DCOPIED_STORE, departdate, ProductId, DepartureCityId, cachedOriginalDepartureCityId, cachedActiveProductId, curD2DSwitchType, initD2DSwitchType, queryName, queryString, wakenUpData, _wakenUpData3, allianceid, sid, awake_allianceid, awake_sid, variables, dataList, _dataList$3, data, errors, extensions, _dataList$4, userInfo, isLogin, productInfo, pageSetting, ResponseStatus, ScheduleInfo, _BasicInfo, _extensions$SoaRespon2, isCruise, CruiseDepartDate, _ScheduleDateList$2, ScheduleDateList, UPDATE_D2DSWITCH_STATUS, _store$getState5, currentBasicInfo, currentPageStatus;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee8$(_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            _store$getState4 = store.getState(), query = _store$getState4.query, ABTestResult = _store$getState4.ABTestResult, pageStatus = _store$getState4.pageStatus, BasicInfo = _store$getState4.BasicInfo, isPreSale = _store$getState4.isPreSale, isShowD2DSwitch = _store$getState4.isShowD2DSwitch, isShowD2DSwitch_p2c = _store$getState4.isShowD2DSwitch_p2c, copiedOriginalProductState = _store$getState4.copiedOriginalProductState, copiedNewProductState = _store$getState4.copiedNewProductState, isSecKill = _store$getState4.isSecKill;\n            UPDATE_PRODUCT_BASIC_INFO = actions.UPDATE_PRODUCT_BASIC_INFO, RESET_D2DCOPIED_STORE = actions.RESET_D2DCOPIED_STORE;\n            departdate = query.departdate;\n            if (BasicInfo) {\n              _context8.next = 5;\n              break;\n            }\n            return _context8.abrupt(\"return\");\n          case 5:\n            ProductId = BasicInfo.ProductId;\n            DepartureCityId = BasicInfo.DepartureId; //  d2d \n            cachedOriginalDepartureCityId = BasicInfo.DepartureId;\n            cachedActiveProductId = pageStatus.activeProductId; // d2d \n            curD2DSwitchType = pageStatus.curD2DSwitchType, initD2DSwitchType = pageStatus.initD2DSwitchType;\n            if (curD2DSwitchType !== initD2DSwitchType) {\n              if (copiedOriginalProductState) {\n                ProductId = copiedOriginalProductState.BasicInfo.ProductId;\n                DepartureCityId = copiedOriginalProductState.BasicInfo.DepartureId;\n              }\n            }\n            queryName = \"ProductInfo_App_Login_Refresh\";\n            queryString = isSecKill ? gqlFragment.fetchProductBasicInfo_SecKill : gqlFragment.fetchProductBasicInfo;\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\")) {\n              _context8.next = 19;\n              break;\n            }\n            _context8.next = 16;\n            return ctx.getClientInfo();\n          case 16:\n            _context8.t0 = _context8.sent;\n            _context8.next = 22;\n            break;\n          case 19:\n            _context8.next = 21;\n            return ctx.getWakeUpData();\n          case 21:\n            _context8.t0 = _context8.sent;\n          case 22:\n            wakenUpData = _context8.t0;\n            _wakenUpData3 = wakenUpData, allianceid = _wakenUpData3.allianceid, sid = _wakenUpData3.sid, awake_allianceid = _wakenUpData3.awake_allianceid, awake_sid = _wakenUpData3.awake_sid;\n            wakenUpData = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, wakenUpData), {}, {\n              allianceid: Number(awake_allianceid || allianceid || 0),\n              sid: Number(awake_sid || sid || 0)\n            });\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: ProductId,\n                DepartureCityId: DepartureCityId,\n                DepartureDate: departdate,\n                MarketingInfo: {\n                  AllianceId: wakenUpData.allianceid,\n                  SId: wakenUpData.sid\n                }\n              }, ctx.attachShardParams()),\n              bookFormEmotionalCuesParams: {\n                HeadTagList: [{\n                  Key: \"from_page\",\n                  Value: \"product\"\n                }, {\n                  Key: \"emotional_type\",\n                  Value: \"emergency_info_new\"\n                }, {\n                  Key: \"page_index\",\n                  Value: \"1002\"\n                }, {\n                  Key: \"business_line\",\n                  Value: \"1\"\n                }]\n              }\n            };\n            _context8.prev = 26;\n            _context8.next = 29;\n            return Promise.all([ctx.gqlpost(queryString, variables, queryName), ctx.getUserInfo()]);\n          case 29:\n            dataList = _context8.sent;\n            _dataList$3 = dataList[0], data = _dataList$3.data, errors = _dataList$3.errors, extensions = _dataList$3.extensions; // \n            _dataList$4 = dataList[1], userInfo = _dataList$4.userInfo, isLogin = _dataList$4.isLogin;\n            if (!errors) {\n              _context8.next = 36;\n              break;\n            }\n            throw new Error(errors[0].message);\n          case 36:\n            productInfo = data.productInfo, pageSetting = data.pageSetting;\n            ResponseStatus = productInfo.ResponseStatus, ScheduleInfo = productInfo.ScheduleInfo, _BasicInfo = productInfo.BasicInfo;\n            if (!(ResponseStatus.Ack === \"Success\")) {\n              _context8.next = 68;\n              break;\n            }\n            // \n            isCruise = _BasicInfo.isCruise;\n            CruiseDepartDate = query.departdate;\n            if (isCruise && !CruiseDepartDate) {\n              ScheduleDateList = ScheduleInfo.ScheduleDateList;\n              CruiseDepartDate = (_ScheduleDateList$2 = ScheduleDateList[0]) === null || _ScheduleDateList$2 === void 0 ? void 0 : _ScheduleDateList$2.PriceDate;\n            }\n\n            // d2d  copied store\n            if (curD2DSwitchType !== initD2DSwitchType) {\n              RESET_D2DCOPIED_STORE();\n            }\n            UPDATE_PRODUCT_BASIC_INFO({\n              pageSetting: pageSetting,\n              productInfo: productInfo,\n              userInfo: userInfo,\n              isLogin: isLogin,\n              CruiseDepartDate: CruiseDepartDate,\n              wakenUpData: wakenUpData,\n              isPreSale: isPreSale,\n              isShowD2DSwitch: isShowD2DSwitch,\n              isShowD2DSwitch_p2c: isShowD2DSwitch_p2c\n            });\n\n            /**  */\n            hasRefreshedLineReset = false;\n            _context8.next = 47;\n            return fetchProductSecondInfo();\n          case 47:\n            hasRefreshedLineReset = true;\n            if (!(!curD2DSwitchType || curD2DSwitchType === initD2DSwitchType)) {\n              _context8.next = 57;\n              break;\n            }\n            if (!(pageStatus && pageStatus.activeProductId !== _BasicInfo.ProductId)) {\n              _context8.next = 53;\n              break;\n            }\n            hasRefreshedLineReset = false;\n            _context8.next = 53;\n            return handlers.handleMultiLineChange(pageStatus.activeProductId);\n          case 53:\n            if (!(pageStatus && pageStatus.isMultiTravel && pageStatus.activeAlias !== \"A\")) {\n              _context8.next = 57;\n              break;\n            }\n            hasRefreshedLineReset = false;\n            _context8.next = 57;\n            return handlers.handleMultiTravelChange(pageStatus.activeAlias);\n          case 57:\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: String(_BasicInfo.ProductId)\n              }],\n              module: \"\",\n              scene: \" /tour/bff/graphql/ProductInfo_App_Login_Refresh\",\n              action: \"sys_show\",\n              rootMessageId: extensions === null || extensions === void 0 || (_extensions$SoaRespon2 = extensions.SoaResponseStatus) === null || _extensions$SoaRespon2 === void 0 || (_extensions$SoaRespon2 = _extensions$SoaRespon2.ResponseStatus) === null || _extensions$SoaRespon2 === void 0 || (_extensions$SoaRespon2 = _extensions$SoaRespon2.Extension.find(function (item) {\n                return item.Id === \"RootMessageId\";\n              })) === null || _extensions$SoaRespon2 === void 0 ? void 0 : _extensions$SoaRespon2.Value\n            });\n\n            // D2D\n            if (!(curD2DSwitchType !== initD2DSwitchType)) {\n              _context8.next = 66;\n              break;\n            }\n            UPDATE_D2DSWITCH_STATUS = actions.UPDATE_D2DSWITCH_STATUS;\n            UPDATE_D2DSWITCH_STATUS(curD2DSwitchType);\n            _context8.next = 63;\n            return fetchFullD2DProductInfo();\n          case 63:\n            // \n            _store$getState5 = store.getState(), currentBasicInfo = _store$getState5.BasicInfo, currentPageStatus = _store$getState5.pageStatus;\n            if (cachedOriginalDepartureCityId !== currentBasicInfo.DepartureId) {\n              handlers.handleChangeDepartCity(cachedOriginalDepartureCityId, cachedActiveProductId);\n            }\n            if (cachedActiveProductId !== currentPageStatus.activeProductId) {\n              handlers.handleMultiLineChange(cachedActiveProductId);\n            }\n          case 66:\n            _context8.next = 69;\n            break;\n          case 68:\n            throw new Error(ResponseStatus.Errors[0].Message);\n          case 69:\n            _context8.next = 76;\n            break;\n          case 71:\n            _context8.prev = 71;\n            _context8.t1 = _context8[\"catch\"](26);\n            console.log(_context8.t1);\n            ctx.logPageError(\"fetchLoginProductBasicInfo\", _context8.t1);\n            return _context8.abrupt(\"return\", \"error\");\n          case 76:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee8, null, [[26, 71]]);\n    }));\n    return function fetchLoginProductBasicInfo() {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchRefreshPriceInfo = /*#__PURE__*/function () {\n    var _ref12 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee9() {\n      var _store$getState6, BasicInfo, pageStatus, REFRESH_PRICE_INFO, departdate, queryName, queryString, wakenUpData, _wakenUpData4, allianceid, sid, awake_allianceid, awake_sid, variables, _yield$ctx$gqlpost2, data, extensions, productInfo, ResponseStatus, _BasicInfo2, _extensions$SoaRespon3;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee9$(_context9) {\n        while (1) switch (_context9.prev = _context9.next) {\n          case 0:\n            _store$getState6 = store.getState(), BasicInfo = _store$getState6.BasicInfo, pageStatus = _store$getState6.pageStatus;\n            REFRESH_PRICE_INFO = actions.REFRESH_PRICE_INFO;\n            departdate = query.departdate;\n            queryName = \"ProductInfo_App_Refresh\";\n            queryString = gqlFragment.fetchRefreshPriceInfo;\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\")) {\n              _context9.next = 11;\n              break;\n            }\n            _context9.next = 8;\n            return ctx.getClientInfo();\n          case 8:\n            _context9.t0 = _context9.sent;\n            _context9.next = 14;\n            break;\n          case 11:\n            _context9.next = 13;\n            return ctx.getWakeUpData();\n          case 13:\n            _context9.t0 = _context9.sent;\n          case 14:\n            wakenUpData = _context9.t0;\n            _wakenUpData4 = wakenUpData, allianceid = _wakenUpData4.allianceid, sid = _wakenUpData4.sid, awake_allianceid = _wakenUpData4.awake_allianceid, awake_sid = _wakenUpData4.awake_sid;\n            wakenUpData = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, wakenUpData), {}, {\n              allianceid: Number(awake_allianceid || allianceid || 0),\n              sid: Number(awake_sid || sid || 0)\n            });\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: Number(BasicInfo.ProductId),\n                DepartureCityId: Number(BasicInfo.DepartureId || 0),\n                DepartureDate: departdate,\n                MarketingInfo: {\n                  AllianceId: wakenUpData.allianceid,\n                  SId: wakenUpData.sid\n                }\n              }, ctx.attachShardParams()),\n              priceCalendarParams: {\n                queryTourGroup: false,\n                needInventory: false,\n                needFlightDiscountPrice: true\n              }\n            }; // \n            if (isUnitTest) {\n              variables.params.testCaseId = \"44954748\";\n            }\n            _context9.prev = 19;\n            ctx.showMaskLoading();\n            _context9.next = 23;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 23:\n            _yield$ctx$gqlpost2 = _context9.sent;\n            data = _yield$ctx$gqlpost2.data;\n            extensions = _yield$ctx$gqlpost2.extensions;\n            productInfo = data.productInfo;\n            ResponseStatus = productInfo.ResponseStatus, _BasicInfo2 = productInfo.BasicInfo;\n            if (ResponseStatus.Ack === \"Success\") {\n              REFRESH_PRICE_INFO({\n                productInfo: productInfo\n              });\n              ctx.hideMaskLoading();\n              if (pageStatus.activeProductId !== _BasicInfo2.ProductId) {\n                handlers.handleMultiLineChange(pageStatus.activeProductId);\n              }\n              ctx.sendKMLog({\n                attrs: [{\n                  key: \"productId\",\n                  value: String(_BasicInfo2.ProductId)\n                }],\n                module: \"\",\n                scene: \" /tour/bff/graphql/ProductInfo_App_Refresh\",\n                action: \"sys_show\",\n                rootMessageId: extensions === null || extensions === void 0 || (_extensions$SoaRespon3 = extensions.SoaResponseStatus) === null || _extensions$SoaRespon3 === void 0 || (_extensions$SoaRespon3 = _extensions$SoaRespon3.ResponseStatus) === null || _extensions$SoaRespon3 === void 0 || (_extensions$SoaRespon3 = _extensions$SoaRespon3.Extension.find(function (item) {\n                  return item.Id === \"RootMessageId\";\n                })) === null || _extensions$SoaRespon3 === void 0 ? void 0 : _extensions$SoaRespon3.Value\n              });\n            }\n            _context9.next = 36;\n            break;\n          case 31:\n            _context9.prev = 31;\n            _context9.t1 = _context9[\"catch\"](19);\n            console.log(_context9.t1);\n            ctx.logPageError(\"fetchRefreshPriceInfo\", _context9.t1);\n            ctx.hideMaskLoading();\n          case 36:\n          case \"end\":\n            return _context9.stop();\n        }\n      }, _callee9, null, [[19, 31]]);\n    }));\n    return function fetchRefreshPriceInfo() {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  // \n  var fetchRiskCityInfo = /*#__PURE__*/function () {\n    var _ref13 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee10(targetProductId) {\n      var _store$getState7, BasicInfo, UPDATE_STATE, queryName, queryString, variables, _yield$ctx$gqlpost3, data, errors, productInfo, ResponseStatus, emotionalCues;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee10$(_context10) {\n        while (1) switch (_context10.prev = _context10.next) {\n          case 0:\n            _store$getState7 = store.getState(), BasicInfo = _store$getState7.BasicInfo;\n            UPDATE_STATE = actions.UPDATE_STATE;\n            queryName = \"ProductInfo_App_RiskCityInfo\";\n            queryString = \"\\n        query getProductInfo(\\n            $params: ProductArgs!\\n            $bookFormEmotionalCuesParams: ProductBookFormEmotionalCuesArgs!\\n        ) {\\n            productInfo(params: $params) {\\n            emotionalCues(params: $bookFormEmotionalCuesParams) {\\n                urgentInfo\\n                bookingDynamic\\n                productSelling\\n                riskCityPolicy\\n            }\\n            ResponseStatus\\n            }\\n        }\\n        \";\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: targetProductId,\n                DepartureCityId: BasicInfo.DepartureId\n              }, ctx.attachShardParams()),\n              bookFormEmotionalCuesParams: {\n                HeadTagList: [{\n                  Key: \"from_page\",\n                  Value: \"product\"\n                }, {\n                  Key: \"emotional_type\",\n                  Value: \"emergency_info_new\"\n                }, {\n                  Key: \"page_index\",\n                  Value: \"1002\"\n                }, {\n                  Key: \"business_line\",\n                  Value: \"1\"\n                }]\n              }\n            }; // \n            if (isUnitTest) {\n              variables.params.testCaseId = \"44954748\";\n            }\n            _context10.prev = 6;\n            _context10.next = 9;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 9:\n            _yield$ctx$gqlpost3 = _context10.sent;\n            data = _yield$ctx$gqlpost3.data;\n            errors = _yield$ctx$gqlpost3.errors;\n            if (!errors) {\n              _context10.next = 16;\n              break;\n            }\n            throw new Error(errors[0].message);\n          case 16:\n            productInfo = data.productInfo;\n            ResponseStatus = productInfo.ResponseStatus, emotionalCues = productInfo.emotionalCues;\n            if (!(ResponseStatus.Ack === \"Success\")) {\n              _context10.next = 22;\n              break;\n            }\n            UPDATE_STATE({\n              emotionalCues: emotionalCues\n            });\n            _context10.next = 23;\n            break;\n          case 22:\n            throw new Error(ResponseStatus.Errors[0].Message);\n          case 23:\n            _context10.next = 29;\n            break;\n          case 25:\n            _context10.prev = 25;\n            _context10.t0 = _context10[\"catch\"](6);\n            console.log(_context10.t0);\n            ctx.logPageError(\"fetchRiskCityInfo\", _context10.t0);\n          case 29:\n          case \"end\":\n            return _context10.stop();\n        }\n      }, _callee10, null, [[6, 25]]);\n    }));\n    return function fetchRiskCityInfo(_x) {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n  /**  */\n  var fetchProductSecondInfo = /*#__PURE__*/function () {\n    var _ref14 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee11() {\n      var lastRenderTraceData, startTime, _store$getState8, query, wakenUpData, BasicInfo, PreSaleTourGroupInfo, isPreSale, isShowD2DSwitch, isShowD2DSwitch_p2c, pageStatus, LocationInfo, isSecKill, productid, departcityid, departdate, ProductId, DepartureId, activeProductId, PreSaleProductId, PreSaleInfo, curProductInfo, queryName, queryString, variables, _yield$ctx$gqlpost4, data, errors, extensions, fetchTime, productInfo, PreSaleProductInfo, ResponseStatus, imEntryInfo, other, _extensions$SoaRespon4, serviceTip, groups, type, ABResult, _ABResult, UPDATE_PRODUCT_SECOND_INFO, renderTime, secondTraceData;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee11$(_context11) {\n        while (1) switch (_context11.prev = _context11.next) {\n          case 0:\n            lastRenderTraceData = RenderTimeInfoList[RenderTimeInfoList.length - 1];\n            startTime = new Date().getTime();\n            if (lastRenderTraceData && lastRenderTraceData.timeStamp) {\n              startTime = lastRenderTraceData.timeStamp;\n            }\n            _store$getState8 = store.getState(), query = _store$getState8.query, wakenUpData = _store$getState8.wakenUpData, BasicInfo = _store$getState8.BasicInfo, PreSaleTourGroupInfo = _store$getState8.PreSaleTourGroupInfo, isPreSale = _store$getState8.isPreSale, isShowD2DSwitch = _store$getState8.isShowD2DSwitch, isShowD2DSwitch_p2c = _store$getState8.isShowD2DSwitch_p2c, pageStatus = _store$getState8.pageStatus, LocationInfo = _store$getState8.LocationInfo, isSecKill = _store$getState8.isSecKill;\n            productid = query.productid, departcityid = query.departcityid, departdate = query.departdate;\n            ProductId = BasicInfo.ProductId, DepartureId = BasicInfo.DepartureId;\n            activeProductId = pageStatus.activeProductId; // \n            if (isPreSale && PreSaleTourGroupInfo && PreSaleTourGroupInfo.PreSaleInfo) {\n              PreSaleInfo = PreSaleTourGroupInfo.PreSaleInfo;\n              if (PreSaleInfo.length) {\n                curProductInfo = PreSaleInfo.find(function (item) {\n                  return item.ProductId === ProductId;\n                });\n                if (curProductInfo && curProductInfo.PreSaleProductId) {\n                  PreSaleProductId = curProductInfo.PreSaleProductId;\n                }\n              }\n            }\n            queryName = isSecKill ? \"ProductInfo_App_2nd_SecKill\" : \"ProductInfo_App_2nd_V2\";\n            queryString = isSecKill ? gqlFragment.fetchProductSecondInfo_SecKill : gqlFragment.fetchProductSecondInfo(PreSaleProductId); // console.log('LocationInfo', LocationInfo)\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: Number(activeProductId || ProductId || productid),\n                DepartureCityId: Number(DepartureId || departcityid || 2),\n                DepartureDate: departdate,\n                MarketingInfo: {\n                  AllianceId: wakenUpData.allianceid,\n                  SId: wakenUpData.sid\n                }\n              }, ctx.attachShardParams()),\n              servicePersonParams: {\n                PageType: 1,\n                PageSize: 10,\n                PageIndex: 1\n              },\n              expertParams: {\n                exportType: 1,\n                pageIndex: 1,\n                pageSize: 3\n              },\n              imEntryInfoParams: {\n                pageFrom: \"detail\",\n                sourceFrom: query.fromhhtravel === \"1\" ? \"hhtravel\" : \"\"\n              },\n              priceCalendarParams: {\n                queryTourGroup: false,\n                needInventory: false,\n                needFlightDiscountPrice: true,\n                needTradePrice: ctx.Platform === \"H5\" ? !!ctx.H5Util.isBestone() : false\n              },\n              groupChildrenParams: {\n                locationCityId: Number((LocationInfo === null || LocationInfo === void 0 ? void 0 : LocationInfo.departureCityId) || 2)\n              }\n            }; // \n            if (PreSaleProductId) {\n              variables = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, variables), {}, {\n                PreSaleParams: (0,objectSpread2/* default */.Z)({\n                  ProductId: Number(PreSaleProductId),\n                  DepartureCityId: Number(departcityid || 2)\n                }, ctx.attachShardParams())\n              });\n            }\n\n            // \n            if (isUnitTest) {\n              variables.params.testCaseId = \"44954748\";\n            }\n            _context11.prev = 13;\n            _context11.next = 16;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 16:\n            _yield$ctx$gqlpost4 = _context11.sent;\n            data = _yield$ctx$gqlpost4.data;\n            errors = _yield$ctx$gqlpost4.errors;\n            extensions = _yield$ctx$gqlpost4.extensions;\n            fetchTime = new Date().getTime();\n            if (!errors) {\n              _context11.next = 25;\n              break;\n            }\n            throw new Error(errors[0].message);\n          case 25:\n            productInfo = data.productInfo, PreSaleProductInfo = data.PreSaleProductInfo;\n            ResponseStatus = productInfo.ResponseStatus, imEntryInfo = productInfo.imEntryInfo, other = (0,objectWithoutProperties/* default */.Z)(productInfo, model_excluded);\n            if (!(ResponseStatus.Ack === \"Success\")) {\n              _context11.next = 59;\n              break;\n            }\n            _context11.next = 30;\n            return setIMEntryTip(imEntryInfo);\n          case 30:\n            serviceTip = _context11.sent;\n            other.imEntryInfo = imEntryInfo;\n            other.serviceTip = serviceTip;\n\n            // D2D AB \n            if (!(productInfo.groupChildren && productInfo.groupChildren.groups)) {\n              _context11.next = 48;\n              break;\n            }\n            groups = productInfo.groupChildren.groups;\n            if (!(groups && groups[0])) {\n              _context11.next = 48;\n              break;\n            }\n            type = groups[0].type; // \n            if (!(type === 2)) {\n              _context11.next = 42;\n              break;\n            }\n            _context11.next = 40;\n            return getAB(\"221226_VAC_dst04\");\n          case 40:\n            ABResult = _context11.sent;\n            if (ABResult === \"B\") {\n              isShowD2DSwitch = true;\n            }\n          case 42:\n            if (!(type === 1)) {\n              _context11.next = 48;\n              break;\n            }\n            _context11.next = 45;\n            return getAB(\"230504_VAC_dst6\");\n          case 45:\n            _ABResult = _context11.sent;\n            if (_ABResult === \"B\") {\n              isShowD2DSwitch_p2c = true;\n            }\n\n            //  N \n            if (BasicInfo && BasicInfo.ProductCategoryId === 9) {\n              isShowD2DSwitch_p2c = true;\n            }\n          case 48:\n            UPDATE_PRODUCT_SECOND_INFO = actions.UPDATE_PRODUCT_SECOND_INFO;\n            UPDATE_PRODUCT_SECOND_INFO({\n              other: other,\n              PreSaleProductInfo: PreSaleProductInfo,\n              isShowD2DSwitch: isShowD2DSwitch,\n              isShowD2DSwitch_p2c: isShowD2DSwitch_p2c\n            });\n\n            //  url \n            checkShouldSelectPreSale();\n            renderTime = new Date().getTime();\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: String(query.productid)\n              }],\n              module: \"\",\n              scene: \" /tour/bff/graphql/ProductInfo_App_2nd_V2\",\n              action: \"sys_show\",\n              rootMessageId: extensions === null || extensions === void 0 || (_extensions$SoaRespon4 = extensions.SoaResponseStatus) === null || _extensions$SoaRespon4 === void 0 || (_extensions$SoaRespon4 = _extensions$SoaRespon4.ResponseStatus) === null || _extensions$SoaRespon4 === void 0 || (_extensions$SoaRespon4 = _extensions$SoaRespon4.Extension.find(function (item) {\n                return item.Id === \"RootMessageId\";\n              })) === null || _extensions$SoaRespon4 === void 0 ? void 0 : _extensions$SoaRespon4.Value\n            });\n            secondTraceData = {\n              timeStamp: renderTime,\n              content: [{\n                key: \"\",\n                value: String(fetchTime - startTime)\n              }, {\n                key: \"\",\n                value: String(renderTime - fetchTime)\n              }]\n            };\n            RenderTimeInfoList.push(secondTraceData);\n            isClickFavBeforeData && handlers.handleClickFavorite();\n            fetchProductScheduleDesc();\n            _context11.next = 60;\n            break;\n          case 59:\n            throw new Error(ResponseStatus.Errors[0].Message);\n          case 60:\n            _context11.next = 66;\n            break;\n          case 62:\n            _context11.prev = 62;\n            _context11.t0 = _context11[\"catch\"](13);\n            ctx.logPageError(\"fetchProductSecondInfo\", _context11.t0);\n            console.log(_context11.t0);\n          case 66:\n          case \"end\":\n            return _context11.stop();\n        }\n      }, _callee11, null, [[13, 62]]);\n    }));\n    return function fetchProductSecondInfo() {\n      return _ref14.apply(this, arguments);\n    };\n  }();\n\n  /*  */\n  var fetchSecondScreen = /*#__PURE__*/function () {\n    var _ref15 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee12() {\n      var lastRenderTraceData, startTime, _store$getState9, isSecKill, SET_CONCAT_DATA_SECOND_SCREEN, dataList, fetchTime, renderTime, thirdTraceData;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee12$(_context12) {\n        while (1) switch (_context12.prev = _context12.next) {\n          case 0:\n            lastRenderTraceData = RenderTimeInfoList[RenderTimeInfoList.length - 1];\n            startTime = new Date().getTime();\n            if (lastRenderTraceData && lastRenderTraceData.timeStamp) {\n              startTime = lastRenderTraceData.timeStamp;\n            }\n            _store$getState9 = store.getState(), isSecKill = _store$getState9.isSecKill;\n            SET_CONCAT_DATA_SECOND_SCREEN = actions.SET_CONCAT_DATA_SECOND_SCREEN;\n            if (!isSecKill) {\n              _context12.next = 7;\n              break;\n            }\n            return _context12.abrupt(\"return\");\n          case 7:\n            _context12.next = 9;\n            return Promise.all([fetchUserCommonInfoPromise(), fetchStoreInfoPromise(), fetchVipMemberInfoPromise(), fetchServicePersonDetail()]);\n          case 9:\n            dataList = _context12.sent;\n            fetchTime = new Date().getTime();\n            SET_CONCAT_DATA_SECOND_SCREEN(dataList);\n            renderTime = new Date().getTime();\n            thirdTraceData = {\n              timeStamp: renderTime,\n              content: [{\n                key: \"\",\n                value: String(fetchTime - startTime)\n              }, {\n                key: \"\",\n                value: String(renderTime - fetchTime)\n              }]\n            };\n            RenderTimeInfoList.push(thirdTraceData);\n            traceKMPageInfo(RenderTimeInfoList);\n          case 16:\n          case \"end\":\n            return _context12.stop();\n        }\n      }, _callee12);\n    }));\n    return function fetchSecondScreen() {\n      return _ref15.apply(this, arguments);\n    };\n  }();\n  var traceKMPageInfo = function traceKMPageInfo(logList) {\n    var _store$getState10 = store.getState(),\n      BasicInfo = _store$getState10.BasicInfo,\n      ABTestResult = _store$getState10.ABTestResult;\n    ctx.sendKMLog({\n      attrs: [{\n        key: \"productId\",\n        value: BasicInfo.ProductId\n      }],\n      action: \"sys_pageinfo\",\n      contents: [{\n        key: \"\",\n        value: \"(\" + BasicInfo.ProductId + \") \" + BasicInfo.MainName\n      }, {\n        key: \"\",\n        value: \"(\" + BasicInfo.DepartureId + \") \" + BasicInfo.DepartureCityName\n      }],\n      desc: \"\"\n    });\n    var contents = [];\n    logList.forEach(function (item) {\n      if (item.content && item.content.length) {\n        contents = contents.concat(item.content);\n      }\n    });\n    ctx.sendKMLog({\n      attrs: [{\n        key: \"productId\",\n        value: BasicInfo.ProductId\n      }],\n      action: \"sys_pageinfo\",\n      desc: \"\",\n      contents: contents\n    });\n    ctx.sendKMLog({\n      attrs: [{\n        key: \"productId\",\n        value: BasicInfo.ProductId\n      }],\n      action: \"sys_pageinfo\",\n      contents: Object.entries(ABTestResult).map(function (_ref16) {\n        var _ref17 = (0,slicedToArray/* default */.Z)(_ref16, 2),\n          code = _ref17[0],\n          version = _ref17[1];\n        return {\n          key: code,\n          value: version\n        };\n      }),\n      desc: \"AB\"\n    });\n  };\n\n  /**  */\n  var fetchInitCruiseInfo = /*#__PURE__*/function () {\n    var _ref18 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee13() {\n      var _store$getState11, BasicInfo, CruiseDepartDate, currentRouteInfo, priceCalendarData, ScheduleInfo, UPDATE_CRUISE_BOOKING_STATUS, RESET_CRUISE_DATA, INIT_SELECT_CRUISE_ROOM, INIT_CRUISE_DATA, UPDATE_CRUISE_ROOM_INFO, calendar_price, _ScheduleInfo$Schedul2, ScheduleDateList, CruiseSelectDate, head, params, options, cabinFilter, SelectedCruiseRoomInfoStore, selectValue, _selectValue$Selected, SelectedCruiseRoomInfo, RoomType, _ResponseStatus$Exten, _yield$ctx$post2, RoomInfos, Tags, ClassRooms, ResponseStatus;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee13$(_context13) {\n        while (1) switch (_context13.prev = _context13.next) {\n          case 0:\n            _store$getState11 = store.getState(), BasicInfo = _store$getState11.BasicInfo, CruiseDepartDate = _store$getState11.CruiseDepartDate, currentRouteInfo = _store$getState11.currentRouteInfo, priceCalendarData = _store$getState11.priceCalendarData, ScheduleInfo = _store$getState11.ScheduleInfo;\n            UPDATE_CRUISE_BOOKING_STATUS = actions.UPDATE_CRUISE_BOOKING_STATUS, RESET_CRUISE_DATA = actions.RESET_CRUISE_DATA, INIT_SELECT_CRUISE_ROOM = actions.INIT_SELECT_CRUISE_ROOM;\n            if (BasicInfo.isCruise) {\n              _context13.next = 4;\n              break;\n            }\n            return _context13.abrupt(\"return\");\n          case 4:\n            RESET_CRUISE_DATA();\n            INIT_CRUISE_DATA = actions.INIT_CRUISE_DATA, UPDATE_CRUISE_ROOM_INFO = actions.UPDATE_CRUISE_ROOM_INFO;\n            calendar_price = 0;\n            _ScheduleInfo$Schedul2 = ScheduleInfo.ScheduleDateList, ScheduleDateList = _ScheduleInfo$Schedul2 === void 0 ? [] : _ScheduleInfo$Schedul2;\n            CruiseSelectDate = ScheduleDateList.filter(function (item) {\n              return item.PriceDate === CruiseDepartDate || item.FestivalDate === CruiseDepartDate;\n            })[0];\n            if (CruiseSelectDate && CruiseSelectDate.DisplayPrice) {\n              calendar_price = CruiseSelectDate.DisplayPrice;\n            }\n            head = {\n              extension: [{\n                name: \"calendar_price\",\n                value: calendar_price\n              }]\n            };\n            params = {\n              head: head,\n              CruiseCondition: {\n                ProductId: BasicInfo.ProductId,\n                DepartCityId: BasicInfo.DepartureId,\n                DepartDate: CruiseDepartDate\n              }\n            };\n            console.log(\"===  init ===\", CruiseDepartDate, calendar_price);\n            options = {\n              needRetry: true\n            }; //h5\n            if (!(ctx.Platform === 'H5')) {\n              _context13.next = 23;\n              break;\n            }\n            SelectedCruiseRoomInfoStore = ctx === null || ctx === void 0 ? void 0 : ctx.Stores.SelectedCruiseRoomInfoStore.getInstance();\n            _context13.next = 18;\n            return SelectedCruiseRoomInfoStore.get();\n          case 18:\n            _context13.t0 = _context13.sent;\n            if (_context13.t0) {\n              _context13.next = 21;\n              break;\n            }\n            _context13.t0 = '';\n          case 21:\n            selectValue = _context13.t0;\n            if (selectValue) {\n              _selectValue$Selected = selectValue.SelectedCruiseRoomInfo, SelectedCruiseRoomInfo = _selectValue$Selected === void 0 ? [] : _selectValue$Selected;\n              RoomType = (SelectedCruiseRoomInfo === null || SelectedCruiseRoomInfo === void 0 ? void 0 : SelectedCruiseRoomInfo.length) && SelectedCruiseRoomInfo[0].RoomType;\n              cabinFilter = {\n                RoomType: RoomType\n              };\n              if (!!cabinFilter) {\n                params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                  Filter: cabinFilter\n                });\n              }\n              INIT_SELECT_CRUISE_ROOM(selectValue);\n              SelectedCruiseRoomInfoStore.clear();\n            }\n          case 23:\n            _context13.prev = 23;\n            _context13.next = 26;\n            return ctx.post(\"GetCruiseRoomInfo\", params, options);\n          case 26:\n            _yield$ctx$post2 = _context13.sent;\n            RoomInfos = _yield$ctx$post2.RoomInfos;\n            Tags = _yield$ctx$post2.Tags;\n            ClassRooms = _yield$ctx$post2.ClassRooms;\n            ResponseStatus = _yield$ctx$post2.ResponseStatus;\n            if (ResponseStatus.Ack === \"Success\") {\n              INIT_CRUISE_DATA({\n                RoomInfos: RoomInfos,\n                Tags: Tags,\n                ClassRooms: ClassRooms\n              });\n              //\n              if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === 'H5') {\n                if (!!cabinFilter) {\n                  UPDATE_CRUISE_ROOM_INFO({\n                    cabinFilter: cabinFilter,\n                    RoomInfos: RoomInfos,\n                    Tags: Tags,\n                    ClassRooms: ClassRooms\n                  });\n                }\n              }\n              if (!ClassRooms || !ClassRooms.length) {\n                traceKMInterruption(\"\", \"vac_45001\");\n              }\n            } else {\n              UPDATE_CRUISE_BOOKING_STATUS(\"cannotbooking\");\n            }\n            traceKMLogAction({\n              attrs: [{\n                key: \"productId\",\n                value: String(BasicInfo.ProductId)\n              }],\n              module: \"\",\n              scene: \" 20168/GetCruiseRoomInfo\",\n              action: platform/* ActionType.show */.Us.show,\n              value: \"-\",\n              rootMessageId: ResponseStatus === null || ResponseStatus === void 0 || (_ResponseStatus$Exten = ResponseStatus.Extension) === null || _ResponseStatus$Exten === void 0 || (_ResponseStatus$Exten = _ResponseStatus$Exten.find(function (item) {\n                return item.Id === \"RootMessageId\";\n              })) === null || _ResponseStatus$Exten === void 0 ? void 0 : _ResponseStatus$Exten.Value\n            });\n            _context13.next = 41;\n            break;\n          case 35:\n            _context13.prev = 35;\n            _context13.t1 = _context13[\"catch\"](23);\n            UPDATE_CRUISE_BOOKING_STATUS(\"cannotbooking\");\n            ctx.logPageError(\"fetchInitCruiseInfo\", _context13.t1);\n            traceKMInterruption((_context13.t1 === null || _context13.t1 === void 0 ? void 0 : _context13.t1.message) || \"\", \"vac_15001\");\n            console.log(_context13.t1);\n          case 41:\n          case \"end\":\n            return _context13.stop();\n        }\n      }, _callee13, null, [[23, 35]]);\n    }));\n    return function fetchInitCruiseInfo() {\n      return _ref18.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchCruiseRoomInfo = /*#__PURE__*/function () {\n    var _ref19 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee14(cabinFilter) {\n      var _store$getState12, BasicInfo, CruiseDepartDate, currentRouteInfo, priceCalendarData, ScheduleInfo, UPDATE_CRUISE_ROOM_INFO, INIT_CRUISE_ROOM_INFO, UPDATE_CRUISE_BOOKING_STATUS, calendar_price, _ScheduleInfo$Schedul3, ScheduleDateList, CruiseSelectDate, head, params, request, _ref20, RoomInfos, Tags, ClassRooms, ResponseStatus;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee14$(_context14) {\n        while (1) switch (_context14.prev = _context14.next) {\n          case 0:\n            _store$getState12 = store.getState(), BasicInfo = _store$getState12.BasicInfo, CruiseDepartDate = _store$getState12.CruiseDepartDate, currentRouteInfo = _store$getState12.currentRouteInfo, priceCalendarData = _store$getState12.priceCalendarData, ScheduleInfo = _store$getState12.ScheduleInfo;\n            UPDATE_CRUISE_ROOM_INFO = actions.UPDATE_CRUISE_ROOM_INFO, INIT_CRUISE_ROOM_INFO = actions.INIT_CRUISE_ROOM_INFO, UPDATE_CRUISE_BOOKING_STATUS = actions.UPDATE_CRUISE_BOOKING_STATUS;\n            calendar_price = 0;\n            _ScheduleInfo$Schedul3 = ScheduleInfo.ScheduleDateList, ScheduleDateList = _ScheduleInfo$Schedul3 === void 0 ? [] : _ScheduleInfo$Schedul3;\n            CruiseSelectDate = ScheduleDateList.filter(function (item) {\n              return item.PriceDate === CruiseDepartDate || item.FestivalDate === CruiseDepartDate;\n            })[0];\n            if (CruiseSelectDate && CruiseSelectDate.DisplayPrice) {\n              calendar_price = CruiseSelectDate.DisplayPrice;\n            }\n            head = {\n              extension: [{\n                name: \"calendar_price\",\n                value: calendar_price\n              }]\n            };\n            params = {\n              head: head,\n              CruiseCondition: {\n                ProductId: BasicInfo.ProductId,\n                DepartCityId: BasicInfo.DepartureId,\n                DepartDate: CruiseDepartDate\n              }\n            };\n            console.log(\"===  ===\", CruiseDepartDate, calendar_price);\n            if (cabinFilter) {\n              params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                Filter: cabinFilter\n              });\n            }\n            _context14.prev = 10;\n            cancelRequest(\"GetCruiseRoomInfo\");\n            request = ctx.createRequest(\"GetCruiseRoomInfo\", params);\n            requestQueues[\"GetCruiseRoomInfo\"] = request;\n            if (!isUnitTest) {\n              _context14.next = 20;\n              break;\n            }\n            _context14.next = 17;\n            return ctx.post(\"GetCruiseRoomInfo\", params, {\n              chooseReq: 1\n            });\n          case 17:\n            _context14.t0 = _context14.sent;\n            _context14.next = 23;\n            break;\n          case 20:\n            _context14.next = 22;\n            return request.fetch();\n          case 22:\n            _context14.t0 = _context14.sent;\n          case 23:\n            _ref20 = _context14.t0;\n            RoomInfos = _ref20.RoomInfos;\n            Tags = _ref20.Tags;\n            ClassRooms = _ref20.ClassRooms;\n            ResponseStatus = _ref20.ResponseStatus;\n            delete requestQueues[\"GetCruiseRoomInfo\"];\n            if (ResponseStatus.Ack === \"Success\") {\n              if (cabinFilter) {\n                UPDATE_CRUISE_ROOM_INFO({\n                  cabinFilter: cabinFilter,\n                  RoomInfos: RoomInfos,\n                  Tags: Tags,\n                  ClassRooms: ClassRooms\n                });\n              } else {\n                INIT_CRUISE_ROOM_INFO({\n                  RoomInfos: RoomInfos,\n                  Tags: Tags,\n                  ClassRooms: ClassRooms\n                });\n              }\n              if (!ClassRooms || !ClassRooms.length) {\n                traceKMInterruption(\"\", \"vac_45002\");\n              }\n            } else {\n              if (cabinFilter) {\n                ctx.showToast(\"\");\n              } else {\n                UPDATE_CRUISE_BOOKING_STATUS(\"cannotbooking\");\n              }\n            }\n            _context14.next = 38;\n            break;\n          case 32:\n            _context14.prev = 32;\n            _context14.t1 = _context14[\"catch\"](10);\n            if (cabinFilter) {\n              ctx.showToast(\"\");\n            } else {\n              UPDATE_CRUISE_BOOKING_STATUS(\"cannotbooking\");\n            }\n            ctx.logPageError(\"fetchCruiseRoomInfo\", _context14.t1);\n            traceKMInterruption((_context14.t1 === null || _context14.t1 === void 0 ? void 0 : _context14.t1.message) || \"\", \"vac_15002\");\n            console.log(_context14.t1);\n          case 38:\n          case \"end\":\n            return _context14.stop();\n        }\n      }, _callee14, null, [[10, 32]]);\n    }));\n    return function fetchCruiseRoomInfo(_x2) {\n      return _ref19.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchCruiseJourneyInfo = /*#__PURE__*/function () {\n    var _ref21 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee15() {\n      var _store$getState13, currentRouteInfo, pageId, CruiseDepartDate, CruisesBaseInfo, BasicInfo, UPDATE_CRUISE_JOURNEYINFO, SegmentInfo, Segments, BoardingDay, cruPackageId, params, _yield$ctx$post3, journeyInfos;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee15$(_context15) {\n        while (1) switch (_context15.prev = _context15.next) {\n          case 0:\n            _store$getState13 = store.getState(), currentRouteInfo = _store$getState13.currentRouteInfo, pageId = _store$getState13.pageId, CruiseDepartDate = _store$getState13.CruiseDepartDate, CruisesBaseInfo = _store$getState13.CruisesBaseInfo, BasicInfo = _store$getState13.BasicInfo;\n            if (!(!BasicInfo.isCruise && !isUnitTest)) {\n              _context15.next = 3;\n              break;\n            }\n            return _context15.abrupt(\"return\");\n          case 3:\n            UPDATE_CRUISE_JOURNEYINFO = actions.UPDATE_CRUISE_JOURNEYINFO;\n            SegmentInfo = currentRouteInfo.SegmentInfo;\n            Segments = SegmentInfo.Segments;\n            BoardingDay = CruisesBaseInfo.BoardingDay;\n            cruPackageId = isUnitTest ? \"\" : Segments.find(function (item) {\n              return item.CruisePackageId;\n            }).CruisePackageId;\n            params = {\n              cruPackageId: cruPackageId,\n              departureDate: new vdate/* default */.Z(CruiseDepartDate).addDay(BoardingDay - 1).format(\"YYYY-MM-DD\"),\n              cruHead: {\n                channel: \"115\",\n                localeLang: \"zh-CN\",\n                pageId: pageId,\n                currency: \"CNY\",\n                clientInfo: {\n                  salesPlatform: \"APP\"\n                }\n              }\n            };\n            _context15.prev = 9;\n            _context15.next = 12;\n            return ctx.post(\"CruisePackageJourneyInfo\", params);\n          case 12:\n            _yield$ctx$post3 = _context15.sent;\n            journeyInfos = _yield$ctx$post3.journeyInfos;\n            UPDATE_CRUISE_JOURNEYINFO(journeyInfos);\n            _context15.next = 21;\n            break;\n          case 17:\n            _context15.prev = 17;\n            _context15.t0 = _context15[\"catch\"](9);\n            ctx.logPageError(\"fetchCruiseJourneyInfo\", _context15.t0);\n            console.log(_context15.t0);\n          case 21:\n          case \"end\":\n            return _context15.stop();\n        }\n      }, _callee15, null, [[9, 17]]);\n    }));\n    return function fetchCruiseJourneyInfo() {\n      return _ref21.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fecthCruiseTimingInfo = /*#__PURE__*/function () {\n    var _ref22 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee16(DepartureDate) {\n      var _store$getState14, BasicInfo, UPDATE_CRUISE_TIMING_INFO, queryName, queryString, variables, _yield$ctx$gqlpost5, data, errors, productInfo, ResponseStatus;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee16$(_context16) {\n        while (1) switch (_context16.prev = _context16.next) {\n          case 0:\n            _store$getState14 = store.getState(), BasicInfo = _store$getState14.BasicInfo;\n            UPDATE_CRUISE_TIMING_INFO = actions.UPDATE_CRUISE_TIMING_INFO;\n            queryName = \"getProductInfo\";\n            queryString = \"\\n            query getProductInfo($params: ProductArgs!) {\\n                productInfo(params: $params) {\\n                    PriceInfo {\\n                        json\\n                    }\\n                    TravelIntroductionInfo {\\n                        json\\n                    }\\n                    ResponseStatus\\n                }\\n            }\\n        \";\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: BasicInfo.ProductId,\n                DepartureCityId: BasicInfo.DepartureId,\n                DepartureDate: DepartureDate\n              }, ctx.attachShardParams())\n            };\n            _context16.prev = 5;\n            _context16.next = 8;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 8:\n            _yield$ctx$gqlpost5 = _context16.sent;\n            data = _yield$ctx$gqlpost5.data;\n            errors = _yield$ctx$gqlpost5.errors;\n            if (!errors) {\n              _context16.next = 15;\n              break;\n            }\n            throw new Error(errors[0].message);\n          case 15:\n            productInfo = data.productInfo;\n            ResponseStatus = productInfo.ResponseStatus;\n            if (!(ResponseStatus.Ack === \"Success\")) {\n              _context16.next = 21;\n              break;\n            }\n            UPDATE_CRUISE_TIMING_INFO(productInfo);\n            _context16.next = 22;\n            break;\n          case 21:\n            throw new Error(ResponseStatus.Errors[0].Message);\n          case 22:\n            _context16.next = 28;\n            break;\n          case 24:\n            _context16.prev = 24;\n            _context16.t0 = _context16[\"catch\"](5);\n            console.log(_context16.t0);\n            ctx.logPageError(\"fecthCruiseTimingInfo\", _context16.t0);\n          case 28:\n          case \"end\":\n            return _context16.stop();\n        }\n      }, _callee16, null, [[5, 24]]);\n    }));\n    return function fecthCruiseTimingInfo(_x3) {\n      return _ref22.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchOvaryRoomPrice = /*#__PURE__*/function () {\n    var _ref23 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee17() {\n      var _store$getState15, SelectedCruiseRoomInfo, BasicInfo, CruiseDepartDate, UPDATE_CRUISE_PRICE, SelectOvaryRooms, params, request, _ref24, SelectOvaryRoomPrices, TotalPrice, TotalDiscountAmount, TotalDiscountTradeAmount, TotalTradePrice, ResponseStatus;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee17$(_context17) {\n        while (1) switch (_context17.prev = _context17.next) {\n          case 0:\n            _store$getState15 = store.getState(), SelectedCruiseRoomInfo = _store$getState15.SelectedCruiseRoomInfo, BasicInfo = _store$getState15.BasicInfo, CruiseDepartDate = _store$getState15.CruiseDepartDate;\n            UPDATE_CRUISE_PRICE = actions.UPDATE_CRUISE_PRICE;\n            SelectOvaryRooms = SelectedCruiseRoomInfo.filter(function (item) {\n              return item.SelectedCount > 0 && item.AdultCount > 0;\n            }).map(function (item) {\n              var OvaryRoomId = item.OvaryRoomId,\n                SelectedCount = item.SelectedCount,\n                AdultCount = item.AdultCount,\n                ChildCount = item.ChildCount;\n              return {\n                OvaryRoomId: OvaryRoomId,\n                Passengers: [{\n                  Type: \"Adult\",\n                  Count: AdultCount\n                }, {\n                  Type: \"Child\",\n                  Count: ChildCount\n                }],\n                SelectedCount: SelectedCount\n              };\n            });\n            if (!(!SelectOvaryRooms.length && !isUnitTest)) {\n              _context17.next = 6;\n              break;\n            }\n            UPDATE_CRUISE_PRICE({\n              SelectOvaryRoomPrices: [],\n              TotalPrice: 0\n            });\n            return _context17.abrupt(\"return\");\n          case 6:\n            params = {\n              SelectOvaryRooms: SelectOvaryRooms,\n              CruiseCondition: {\n                ProductId: BasicInfo.ProductId,\n                DepartCityId: BasicInfo.DepartureId,\n                DepartDate: CruiseDepartDate\n              }\n            };\n            _context17.prev = 7;\n            cancelRequest(\"OvaryRoomPriceCalculate\");\n            request = ctx.createRequest(\"OvaryRoomPriceCalculate\", params);\n            requestQueues[\"OvaryRoomPriceCalculate\"] = request;\n            if (!isUnitTest) {\n              _context17.next = 17;\n              break;\n            }\n            _context17.next = 14;\n            return ctx.post(\"OvaryRoomPriceCalculate\", params);\n          case 14:\n            _context17.t0 = _context17.sent;\n            _context17.next = 20;\n            break;\n          case 17:\n            _context17.next = 19;\n            return request.fetch();\n          case 19:\n            _context17.t0 = _context17.sent;\n          case 20:\n            _ref24 = _context17.t0;\n            SelectOvaryRoomPrices = _ref24.SelectOvaryRoomPrices;\n            TotalPrice = _ref24.TotalPrice;\n            TotalDiscountAmount = _ref24.TotalDiscountAmount;\n            TotalDiscountTradeAmount = _ref24.TotalDiscountTradeAmount;\n            TotalTradePrice = _ref24.TotalTradePrice;\n            ResponseStatus = _ref24.ResponseStatus;\n            delete requestQueues[\"OvaryRoomPriceCalculate\"];\n            UPDATE_CRUISE_PRICE({\n              SelectOvaryRoomPrices: SelectOvaryRoomPrices,\n              TotalPrice: TotalPrice,\n              TotalDiscountAmount: TotalDiscountAmount,\n              TotalDiscountTradeAmount: TotalDiscountTradeAmount,\n              TotalTradePrice: TotalTradePrice\n            });\n            _context17.next = 37;\n            break;\n          case 31:\n            _context17.prev = 31;\n            _context17.t1 = _context17[\"catch\"](7);\n            if (_context17.t1 !== \"abort\") {\n              ctx.showToast(\"\");\n            }\n            ctx.logPageError(\"fetchOvaryRoomPrice\", _context17.t1);\n            traceKMInterruption((_context17.t1 === null || _context17.t1 === void 0 ? void 0 : _context17.t1.message) || \"\", \"vac_15003\");\n            console.log(_context17.t1);\n          case 37:\n          case \"end\":\n            return _context17.stop();\n        }\n      }, _callee17, null, [[7, 31]]);\n    }));\n    return function fetchOvaryRoomPrice() {\n      return _ref23.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchUserCommonInfoPromise = /*#__PURE__*/function () {\n    var _ref25 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee18() {\n      var _store$getState16, isLogin, userInfo, params, _yield$ctx$post4, data, commonUserInfo;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee18$(_context18) {\n        while (1) switch (_context18.prev = _context18.next) {\n          case 0:\n            _store$getState16 = store.getState(), isLogin = _store$getState16.isLogin, userInfo = _store$getState16.userInfo;\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) !== \"RN\")) {\n              _context18.next = 3;\n              break;\n            }\n            return _context18.abrupt(\"return\", null);\n          case 3:\n            if (!(!isLogin || userInfo.IsNonUser)) {\n              _context18.next = 5;\n              break;\n            }\n            return _context18.abrupt(\"return\", null);\n          case 5:\n            params = {\n              RequestTypeList: [4]\n            };\n            _context18.prev = 6;\n            _context18.next = 9;\n            return ctx.post(\"GetUserCommonInfo\", params);\n          case 9:\n            _yield$ctx$post4 = _context18.sent;\n            data = _yield$ctx$post4.Data;\n            if (data.ContactInfo) {\n              _context18.next = 13;\n              break;\n            }\n            return _context18.abrupt(\"return\", null);\n          case 13:\n            commonUserInfo = data.ContactInfo.CommonContactList[0];\n            return _context18.abrupt(\"return\", {\n              commonUserInfo: commonUserInfo\n            });\n          case 17:\n            _context18.prev = 17;\n            _context18.t0 = _context18[\"catch\"](6);\n            ctx.logPageError(\"fetchUserCommonInfoPromise\", _context18.t0);\n            console.log(_context18.t0);\n            return _context18.abrupt(\"return\", null);\n          case 22:\n          case \"end\":\n            return _context18.stop();\n        }\n      }, _callee18, null, [[6, 17]]);\n    }));\n    return function fetchUserCommonInfoPromise() {\n      return _ref25.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchStoreInfoPromise = /*#__PURE__*/function () {\n    var _ref26 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee19() {\n      var _store$getState17, pageStatus, BasicInfo, LocationInfo, UPDATE_STORE_INFO, params, _yield$ctx$post5, data;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee19$(_context19) {\n        while (1) switch (_context19.prev = _context19.next) {\n          case 0:\n            _store$getState17 = store.getState(), pageStatus = _store$getState17.pageStatus, BasicInfo = _store$getState17.BasicInfo, LocationInfo = _store$getState17.LocationInfo;\n            UPDATE_STORE_INFO = actions.UPDATE_STORE_INFO;\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) !== \"RN\")) {\n              _context19.next = 4;\n              break;\n            }\n            return _context19.abrupt(\"return\", null);\n          case 4:\n            if (!pageStatus.isRetail) {\n              _context19.next = 6;\n              break;\n            }\n            return _context19.abrupt(\"return\", null);\n          case 6:\n            params = {\n              cityId: BasicInfo.DepartureId\n            };\n            if (LocationInfo) {\n              if (Number(LocationInfo.latitude) && Number(LocationInfo.longitude)) {\n                params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                  latitude: LocationInfo.latitude,\n                  longitude: LocationInfo.longitude,\n                  coordType: LocationInfo.coordinateType\n                });\n              }\n            }\n            _context19.prev = 8;\n            _context19.next = 11;\n            return ctx.post(\"GetNearbyStore\", params);\n          case 11:\n            _yield$ctx$post5 = _context19.sent;\n            data = _yield$ctx$post5.Data;\n            return _context19.abrupt(\"return\", {\n              NearbyStoreInfo: data\n            });\n          case 16:\n            _context19.prev = 16;\n            _context19.t0 = _context19[\"catch\"](8);\n            ctx.logPageError(\"fetchStoreInfoPromise\", _context19.t0);\n            console.log(_context19.t0);\n            return _context19.abrupt(\"return\", null);\n          case 21:\n          case \"end\":\n            return _context19.stop();\n        }\n      }, _callee19, null, [[8, 16]]);\n    }));\n    return function fetchStoreInfoPromise() {\n      return _ref26.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchVipMemberInfoPromise = /*#__PURE__*/function () {\n    var _ref27 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee20() {\n      var _store$getState18, isLogin, BasicInfo, pageStatus, params, _yield$ctx$post6, data, SuperMemberInfo, UserInterestList, commonMemberInterestCounts, superMemberInterestCounts, commonInfo, superInfo, hasSuperMemberRight;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee20$(_context20) {\n        while (1) switch (_context20.prev = _context20.next) {\n          case 0:\n            _store$getState18 = store.getState(), isLogin = _store$getState18.isLogin, BasicInfo = _store$getState18.BasicInfo, pageStatus = _store$getState18.pageStatus;\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) !== \"RN\")) {\n              _context20.next = 3;\n              break;\n            }\n            return _context20.abrupt(\"return\", null);\n          case 3:\n            if (isLogin) {\n              _context20.next = 5;\n              break;\n            }\n            return _context20.abrupt(\"return\", null);\n          case 5:\n            params = {\n              RequestType: [1, 2, 4, 9]\n            };\n            _context20.prev = 6;\n            _context20.next = 9;\n            return ctx.post(\"getuserinfo\", params);\n          case 9:\n            _yield$ctx$post6 = _context20.sent;\n            data = _yield$ctx$post6.Data;\n            SuperMemberInfo = data.SuperMemberInfo, UserInterestList = data.UserInterestList; // \n            commonMemberInterestCounts = 0; // \n            superMemberInterestCounts = 0;\n            if (UserInterestList && UserInterestList.length) {\n              commonInfo = UserInterestList.filter(function (item) {\n                return item.CreateProductLineId === 66;\n              })[0];\n              superInfo = UserInterestList.filter(function (item) {\n                return item.CreateProductLineId === 61;\n              })[0];\n              if (commonInfo) {\n                commonMemberInterestCounts = commonInfo.InterestCounts;\n              }\n              if (superInfo) {\n                superMemberInterestCounts = superInfo.InterestCounts;\n              }\n            }\n\n            // \n            if (BasicInfo.isCruise) {\n              commonMemberInterestCounts = 0;\n              superMemberInterestCounts = 0;\n            }\n\n            //   > 0\n            hasSuperMemberRight = SuperMemberInfo && SuperMemberInfo.IsSuperMember && BasicInfo.IsInternal && [1, 3, 4].includes(BasicInfo.ProductPatternId) && superMemberInterestCounts > 0;\n            if (!hasSuperMemberRight) {\n              superMemberInterestCounts = 0;\n            }\n            return _context20.abrupt(\"return\", {\n              SuperMemberInfo: SuperMemberInfo,\n              UserInterestList: UserInterestList,\n              hasSuperMemberRight: hasSuperMemberRight,\n              commonMemberInterestCounts: commonMemberInterestCounts,\n              superMemberInterestCounts: superMemberInterestCounts\n            });\n          case 21:\n            _context20.prev = 21;\n            _context20.t0 = _context20[\"catch\"](6);\n            ctx.logPageError(\"fetchVipMemberInfoPromise\", _context20.t0);\n            console.log(_context20.t0);\n            return _context20.abrupt(\"return\", null);\n          case 26:\n          case \"end\":\n            return _context20.stop();\n        }\n      }, _callee20, null, [[6, 21]]);\n    }));\n    return function fetchVipMemberInfoPromise() {\n      return _ref27.apply(this, arguments);\n    };\n  }();\n  var fetchServicePersonDetail = /*#__PURE__*/function () {\n    var _ref28 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee21() {\n      var _store$getState19, MediaInfo, isSecKill, _MediaInfo$ImgList, ImgList, servicePersonIds, params, _yield$ctx$post7, servicePersons, servicePersonFormat;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee21$(_context21) {\n        while (1) switch (_context21.prev = _context21.next) {\n          case 0:\n            _store$getState19 = store.getState(), MediaInfo = _store$getState19.mediaInfoCurRoute, isSecKill = _store$getState19.isSecKill;\n            _MediaInfo$ImgList = MediaInfo.ImgList, ImgList = _MediaInfo$ImgList === void 0 ? [] : _MediaInfo$ImgList;\n            if (!isSecKill) {\n              _context21.next = 4;\n              break;\n            }\n            return _context21.abrupt(\"return\");\n          case 4:\n            servicePersonIds = []; //  id\n            ImgList.forEach(function (item) {\n              var _ContentInfoList$;\n              var AccompanyTourInfo = item.AccompanyTourInfo;\n              if (!AccompanyTourInfo) return;\n              var ImageTypeId = AccompanyTourInfo.ImageTypeId,\n                _AccompanyTourInfo$Co = AccompanyTourInfo.ContentInfoList,\n                ContentInfoList = _AccompanyTourInfo$Co === void 0 ? [] : _AccompanyTourInfo$Co;\n              var PersonId = Number((_ContentInfoList$ = ContentInfoList[0]) === null || _ContentInfoList$ === void 0 ? void 0 : _ContentInfoList$.InfoContent);\n              if (ImageTypeId != 5 || isNaN(PersonId)) return;\n              servicePersonIds.push(PersonId);\n            });\n            params = {\n              parameterList: [{\n                key: \"SourceCode\",\n                value: \"3\"\n              }],\n              servicePersonIds: servicePersonIds\n            };\n            if (!(servicePersonIds.length === 0)) {\n              _context21.next = 9;\n              break;\n            }\n            return _context21.abrupt(\"return\");\n          case 9:\n            _context21.prev = 9;\n            _context21.next = 12;\n            return ctx.post(\"getServicePersonDetail\", params);\n          case 12:\n            _yield$ctx$post7 = _context21.sent;\n            servicePersons = _yield$ctx$post7.servicePersons;\n            if (!(!servicePersons || !servicePersons.length)) {\n              _context21.next = 16;\n              break;\n            }\n            return _context21.abrupt(\"return\");\n          case 16:\n            servicePersonFormat = {};\n            servicePersons === null || servicePersons === void 0 || servicePersons.forEach(function (personInfo) {\n              var _ref29 = personInfo || {},\n                servicePersonID = _ref29.servicePersonID,\n                cName = _ref29.cName,\n                isTpal = _ref29.isTpal,\n                isNewGoodGuide = _ref29.isNewGoodGuide,\n                briefIntroduction = _ref29.briefIntroduction,\n                isDriver = _ref29.isDriver,\n                isGuide = _ref29.isGuide,\n                isNewGoodDriver = _ref29.isNewGoodDriver;\n              servicePersonIds.forEach(function (PersonId) {\n                if (String(PersonId) == servicePersonID) {\n                  servicePersonFormat[servicePersonID] = {\n                    isTpal: isTpal,\n                    isNewGoodGuide: isNewGoodGuide,\n                    briefIntroduction: briefIntroduction,\n                    cName: cName,\n                    isDriver: isDriver,\n                    isGuide: isGuide,\n                    isNewGoodDriver: isNewGoodDriver\n                  };\n                }\n              });\n            });\n            return _context21.abrupt(\"return\", {\n              servicePersons: servicePersonFormat\n            });\n          case 21:\n            _context21.prev = 21;\n            _context21.t0 = _context21[\"catch\"](9);\n            ctx.logPageError(\"fetchServicePersonDetail\", _context21.t0);\n            console.log(_context21.t0);\n            return _context21.abrupt(\"return\", null);\n          case 26:\n          case \"end\":\n            return _context21.stop();\n        }\n      }, _callee21, null, [[9, 21]]);\n    }));\n    return function fetchServicePersonDetail() {\n      return _ref28.apply(this, arguments);\n    };\n  }();\n  var fetchFlightDiscountDetail = /*#__PURE__*/function () {\n    var _ref30 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee22() {\n      var _store$getState20, LocationInfo, newProcessSelectDate, ABTestResult, BasicInfo, isShowD2DSwitchTab, pageStatus, isSecKill, UPDATE_FLIGHTDISCOUNT_INFO, _ref31, activeProductId, activeAlias, isMultiLine, isMultiTravel, params, request, _yield$request$fetch, data, _ref32, scheduleInfos;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee22$(_context22) {\n        while (1) switch (_context22.prev = _context22.next) {\n          case 0:\n            _store$getState20 = store.getState(), LocationInfo = _store$getState20.LocationInfo, newProcessSelectDate = _store$getState20.newProcessSelectDate, ABTestResult = _store$getState20.ABTestResult, BasicInfo = _store$getState20.BasicInfo, isShowD2DSwitchTab = _store$getState20.isShowD2DSwitchTab, pageStatus = _store$getState20.pageStatus, isSecKill = _store$getState20.isSecKill;\n            UPDATE_FLIGHTDISCOUNT_INFO = actions.UPDATE_FLIGHTDISCOUNT_INFO;\n            _ref31 = pageStatus || {}, activeProductId = _ref31.activeProductId, activeAlias = _ref31.activeAlias, isMultiLine = _ref31.isMultiLine, isMultiTravel = _ref31.isMultiTravel;\n            if (!isSecKill) {\n              _context22.next = 5;\n              break;\n            }\n            return _context22.abrupt(\"return\");\n          case 5:\n            if (!(!(LocationInfo !== null && LocationInfo !== void 0 && LocationInfo.departureCityId) || (LocationInfo === null || LocationInfo === void 0 ? void 0 : LocationInfo.departureCityId) == BasicInfo.DepartureId || isShowD2DSwitchTab || BasicInfo.ProductCategoryId !== 9 && BasicInfo.ProductCategoryId !== 26)) {\n              _context22.next = 7;\n              break;\n            }\n            return _context22.abrupt(\"return\");\n          case 7:\n            params = {\n              productId: activeProductId,\n              locationCityId: LocationInfo === null || LocationInfo === void 0 ? void 0 : LocationInfo.departureCityId,\n              departureDate: newProcessSelectDate,\n              aliasName: isMultiTravel ? activeAlias : \"\",\n              needReturn: pageStatus.isExtendedStay ? false : true\n            };\n            _context22.prev = 8;\n            cancelRequest(\"getFlightDiscountDetail\");\n            request = ctx.createRequest(\"getFlightDiscountDetail\", params);\n            requestQueues[\"getFlightDiscountDetail\"] = request;\n            _context22.next = 14;\n            return request.fetch();\n          case 14:\n            _yield$request$fetch = _context22.sent;\n            data = _yield$request$fetch.data;\n            delete requestQueues[\"getFlightDiscountDetail\"];\n            // if (!data) return;\n            _ref32 = data || {\n              scheduleInfos: []\n            }, scheduleInfos = _ref32.scheduleInfos;\n            UPDATE_FLIGHTDISCOUNT_INFO(scheduleInfos);\n            _context22.next = 26;\n            break;\n          case 21:\n            _context22.prev = 21;\n            _context22.t0 = _context22[\"catch\"](8);\n            ctx.logPageError(\"fetchFlightDiscountDetail\", _context22.t0);\n            console.log(_context22.t0);\n            return _context22.abrupt(\"return\", null);\n          case 26:\n          case \"end\":\n            return _context22.stop();\n        }\n      }, _callee22, null, [[8, 21]]);\n    }));\n    return function fetchFlightDiscountDetail() {\n      return _ref30.apply(this, arguments);\n    };\n  }();\n\n  // \n  var lastScheduleDescParams = {};\n  var fetchProductScheduleDesc = /*#__PURE__*/function () {\n    var _ref33 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee23() {\n      var _store$getState21, BasicInfo, newProcessSelectDate, pageStatus, priceCalendarData, groupCard, UPDATE_STATE, _ref34, activeProductId, activeAlias, isMultiLine, isMultiTravel, departDate, minPrice, dailyMinPrice, selectedDateItem, selectedDate, multiTravelPrice, _multiTravelPrice$act, displayPrice, date, cards, curLine, _curLine$priceInfo, _displayPrice, minPriceDate, params, request, _yield$request$fetch2, data, priceEffectiveInfo;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee23$(_context23) {\n        while (1) switch (_context23.prev = _context23.next) {\n          case 0:\n            _store$getState21 = store.getState(), BasicInfo = _store$getState21.BasicInfo, newProcessSelectDate = _store$getState21.newProcessSelectDate, pageStatus = _store$getState21.pageStatus, priceCalendarData = _store$getState21.priceCalendarData, groupCard = _store$getState21.groupCard;\n            UPDATE_STATE = actions.UPDATE_STATE;\n            _ref34 = pageStatus || {}, activeProductId = _ref34.activeProductId, activeAlias = _ref34.activeAlias, isMultiLine = _ref34.isMultiLine, isMultiTravel = _ref34.isMultiTravel;\n            if (!(ctx.Platform !== \"RN\")) {\n              _context23.next = 5;\n              break;\n            }\n            return _context23.abrupt(\"return\");\n          case 5:\n            // if (!newProcessSelectDate) {\n            //   return\n            // }\n            departDate = '';\n            minPrice = 0;\n            if (newProcessSelectDate) {\n              departDate = newProcessSelectDate;\n              if (priceCalendarData) {\n                dailyMinPrice = priceCalendarData.dailyMinPrice;\n                selectedDateItem = dailyMinPrice[newProcessSelectDate];\n                if (selectedDateItem && selectedDateItem.productPrices) {\n                  selectedDate = selectedDateItem.productPrices.find(function (item) {\n                    return item.productId === activeProductId;\n                  });\n                  if (selectedDate) {\n                    minPrice = selectedDate.displayPrice;\n                  }\n                }\n              }\n            } else {\n              // \n              if (isMultiTravel) {\n                multiTravelPrice = getMultiTravelMinPrice(priceCalendarData);\n                if (multiTravelPrice && multiTravelPrice[activeAlias]) {\n                  _multiTravelPrice$act = multiTravelPrice[activeAlias], displayPrice = _multiTravelPrice$act.displayPrice, date = _multiTravelPrice$act.date;\n                  minPrice = displayPrice;\n                  departDate = new vdate/* default */.Z(date).format('YYYY-MM-DD');\n                }\n              } else if (groupCard && groupCard.cards && groupCard.cards.length) {\n                //  groupCard  priceInfo\n                cards = groupCard.cards;\n                curLine = cards.find(function (item) {\n                  return item.productId === activeProductId;\n                });\n                if (curLine && curLine.priceInfo) {\n                  _curLine$priceInfo = curLine.priceInfo, _displayPrice = _curLine$priceInfo.displayPrice, minPriceDate = _curLine$priceInfo.minPriceDate;\n                  departDate = new vdate/* default */.Z(vdate/* default.transformTimeStamp */.Z.transformTimeStamp(minPriceDate)).format('YYYY-MM-DD');\n                  minPrice = _displayPrice;\n                }\n              }\n            }\n            params = {\n              productId: activeProductId,\n              departureCityId: BasicInfo.DepartureId,\n              departureDate: departDate,\n              minPrice: minPrice,\n              aliasName: activeAlias\n            };\n            if (!(!departDate || !minPrice)) {\n              _context23.next = 11;\n              break;\n            }\n            return _context23.abrupt(\"return\");\n          case 11:\n            if (!(JSON.stringify(params) === JSON.stringify(lastScheduleDescParams))) {\n              _context23.next = 15;\n              break;\n            }\n            return _context23.abrupt(\"return\");\n          case 15:\n            lastScheduleDescParams = params;\n          case 16:\n            _context23.prev = 16;\n            // \n            UPDATE_STATE({\n              priceEffectiveInfo: null\n            });\n            cancelRequest('getProductScheduleDesc');\n            request = ctx.createRequest('getProductScheduleDesc', params);\n            requestQueues['getProductScheduleDesc'] = request;\n            _context23.next = 23;\n            return request.fetch();\n          case 23:\n            _yield$request$fetch2 = _context23.sent;\n            data = _yield$request$fetch2.data;\n            delete requestQueues['getProductScheduleDesc'];\n            priceEffectiveInfo = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, data), {}, {\n              minPrice: minPrice\n            });\n            UPDATE_STATE({\n              priceEffectiveInfo: priceEffectiveInfo\n            });\n            _context23.next = 34;\n            break;\n          case 30:\n            _context23.prev = 30;\n            _context23.t0 = _context23[\"catch\"](16);\n            ctx.logPageError('fetchProductScheduleDesc', _context23.t0);\n            console.log(_context23.t0);\n          case 34:\n          case \"end\":\n            return _context23.stop();\n        }\n      }, _callee23, null, [[16, 30]]);\n    }));\n    return function fetchProductScheduleDesc() {\n      return _ref33.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchProductDisposition = /*#__PURE__*/function () {\n    var _ref35 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee24() {\n      var _store$getState22, BasicInfo, UPDATE_STATE, params, _yield$ctx$post8, dispositions;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee24$(_context24) {\n        while (1) switch (_context24.prev = _context24.next) {\n          case 0:\n            _store$getState22 = store.getState(), BasicInfo = _store$getState22.BasicInfo;\n            UPDATE_STATE = actions.UPDATE_STATE;\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) !== \"H5\")) {\n              _context24.next = 4;\n              break;\n            }\n            return _context24.abrupt(\"return\");\n          case 4:\n            params = {\n              ProductId: BasicInfo.ProductId,\n              clientSource: \"MD_ServerFrom_MobileHtml5\"\n            };\n            _context24.prev = 5;\n            _context24.next = 8;\n            return ctx.post(\"getProductDisposition\", params);\n          case 8:\n            _yield$ctx$post8 = _context24.sent;\n            dispositions = _yield$ctx$post8.dispositions;\n            if (dispositions && dispositions && dispositions.find(function (item) {\n              return item.dispositionType === 1;\n            })) {\n              UPDATE_STATE({\n                isSupportCommonIntention: true\n              });\n            }\n            _context24.next = 16;\n            break;\n          case 13:\n            _context24.prev = 13;\n            _context24.t0 = _context24[\"catch\"](5);\n            console.log(_context24.t0);\n          case 16:\n          case \"end\":\n            return _context24.stop();\n        }\n      }, _callee24, null, [[5, 13]]);\n    }));\n    return function fetchProductDisposition() {\n      return _ref35.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchABPreInfo = /*#__PURE__*/function () {\n    var _ref36 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee25() {\n      var options, _yield$ctx$post9, Data, IsAB;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee25$(_context25) {\n        while (1) switch (_context25.prev = _context25.next) {\n          case 0:\n            _context25.prev = 0;\n            options = {\n              timeout: 1\n            };\n            _context25.next = 4;\n            return ctx.post(\"Getabpreinfo\", {}, options);\n          case 4:\n            _yield$ctx$post9 = _context25.sent;\n            Data = _yield$ctx$post9.Data;\n            IsAB = Data.IsAB;\n            return _context25.abrupt(\"return\", IsAB);\n          case 10:\n            _context25.prev = 10;\n            _context25.t0 = _context25[\"catch\"](0);\n            console.log(_context25.t0);\n            return _context25.abrupt(\"return\", false);\n          case 14:\n          case \"end\":\n            return _context25.stop();\n        }\n      }, _callee25, null, [[0, 10]]);\n    }));\n    return function fetchABPreInfo() {\n      return _ref36.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchVipMemberInfo = /*#__PURE__*/function () {\n    var _ref37 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee26() {\n      var _store$getState23, isLogin, SET_VIPMEMBER_INFO, params, _yield$ctx$post10, data, SuperMemberInfo, UserInterestList;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee26$(_context26) {\n        while (1) switch (_context26.prev = _context26.next) {\n          case 0:\n            _store$getState23 = store.getState(), isLogin = _store$getState23.isLogin;\n            SET_VIPMEMBER_INFO = actions.SET_VIPMEMBER_INFO;\n            if (isLogin) {\n              _context26.next = 4;\n              break;\n            }\n            return _context26.abrupt(\"return\");\n          case 4:\n            params = {\n              RequestType: [1, 2, 4, 9]\n            };\n            _context26.prev = 5;\n            _context26.next = 8;\n            return ctx.post(\"getuserinfo\", params);\n          case 8:\n            _yield$ctx$post10 = _context26.sent;\n            data = _yield$ctx$post10.Data;\n            SuperMemberInfo = data.SuperMemberInfo, UserInterestList = data.UserInterestList;\n            SET_VIPMEMBER_INFO({\n              SuperMemberInfo: SuperMemberInfo,\n              UserInterestList: UserInterestList\n            });\n            _context26.next = 18;\n            break;\n          case 14:\n            _context26.prev = 14;\n            _context26.t0 = _context26[\"catch\"](5);\n            ctx.logPageError(\"fetchVipMemberInfoPromise\", _context26.t0);\n            console.log(_context26.t0);\n          case 18:\n          case \"end\":\n            return _context26.stop();\n        }\n      }, _callee26, null, [[5, 14]]);\n    }));\n    return function fetchVipMemberInfo() {\n      return _ref37.apply(this, arguments);\n    };\n  }();\n  var setIMEntryTip = /*#__PURE__*/function () {\n    var _ref38 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee27(imEntryInfo) {\n      var serviceInfo, shortText, longText, result;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee27$(_context27) {\n        while (1) switch (_context27.prev = _context27.next) {\n          case 0:\n            if (!(imEntryInfo && imEntryInfo.serviceInfo)) {\n              _context27.next = 11;\n              break;\n            }\n            serviceInfo = imEntryInfo.serviceInfo;\n            shortText = serviceInfo.shortServiceToast;\n            longText = serviceInfo.serviceToast; // \n            _context27.next = 6;\n            return ctx.loadStorage(\"TOUR_DETAIL_SERVICE_TIP_TEXT\", \"tour\");\n          case 6:\n            result = _context27.sent;\n            if (result === shortText) {\n              longText = \"\";\n            } else {\n              ctx.Storage.save({\n                key: \"TOUR_DETAIL_SERVICE_TIP_TEXT\",\n                value: shortText,\n                domain: \"tour\",\n                expires: 2592000\n              });\n            }\n            return _context27.abrupt(\"return\", {\n              shortText: shortText,\n              longText: longText\n            });\n          case 11:\n            return _context27.abrupt(\"return\", null);\n          case 12:\n          case \"end\":\n            return _context27.stop();\n        }\n      }, _callee27);\n    }));\n    return function setIMEntryTip(_x4) {\n      return _ref38.apply(this, arguments);\n    };\n  }();\n\n  /** fetch create favorite */\n  var fetchCreateFavorite = /*#__PURE__*/function () {\n    var _ref39 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee28() {\n      var _store$getState24, BasicInfo, userInfo, isLogin, pageStatus, UPDATE_FAVOURITE_STATUS, UPDATE_FAVOURITE_MENU, BizType, Tag, params, _yield$ctx$post11, ResultCode, FavoriteIdList, ResultMessage, isFavorite, favoriteId, myFavorites;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee28$(_context28) {\n        while (1) switch (_context28.prev = _context28.next) {\n          case 0:\n            _store$getState24 = store.getState(), BasicInfo = _store$getState24.BasicInfo, userInfo = _store$getState24.userInfo, isLogin = _store$getState24.isLogin, pageStatus = _store$getState24.pageStatus;\n            UPDATE_FAVOURITE_STATUS = actions.UPDATE_FAVOURITE_STATUS, UPDATE_FAVOURITE_MENU = actions.UPDATE_FAVOURITE_MENU;\n            if (isLogin) {\n              _context28.next = 4;\n              break;\n            }\n            return _context28.abrupt(\"return\");\n          case 4:\n            BizType = IsTripApp ? \"GROUP_TRAVEL_IBU\" : \"GROUP_TRAVEL\";\n            Tag = \"\";\n            if (!IsCtripApp) {\n              _context28.next = 19;\n              break;\n            }\n            _context28.t0 = BasicInfo.ProductPatternId;\n            _context28.next = _context28.t0 === 2 ? 10 : _context28.t0 === 3 ? 13 : _context28.t0 === 4 ? 15 : 17;\n            break;\n          case 10:\n            BizType = \"PLANE_HOTEL\";\n            Tag = \"\";\n            return _context28.abrupt(\"break\", 18);\n          case 13:\n            Tag = \"\";\n            return _context28.abrupt(\"break\", 18);\n          case 15:\n            Tag = \"\";\n            return _context28.abrupt(\"break\", 18);\n          case 17:\n            BizType = \"GROUP_TRAVEL\";\n          case 18:\n            if (BasicInfo.isStudy) {\n              BizType = \"YOUXUE\";\n              Tag = \"\";\n            }\n          case 19:\n            params = {\n              FavoriteList: [{\n                BizType: BizType,\n                ProductID: String(BasicInfo.ProductId),\n                FromCityID: BasicInfo.DepartureId,\n                SaleCityID: BasicInfo.DepartureId,\n                ExtendList: IsCtripApp ? [{\n                  Name: \"Tag\",\n                  Value: Tag\n                }] : []\n              }]\n            };\n            if (ctx.Platform === \"RN\") {\n              params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                UID: userInfo.UserID\n              });\n            }\n            _context28.prev = 21;\n            _context28.next = 24;\n            return ctx.post(\"CreateFavorite\", params);\n          case 24:\n            _yield$ctx$post11 = _context28.sent;\n            ResultCode = _yield$ctx$post11.ResultCode;\n            FavoriteIdList = _yield$ctx$post11.FavoriteIdList;\n            ResultMessage = _yield$ctx$post11.ResultMessage;\n            isFavorite = ResultCode === 0 && FavoriteIdList && FavoriteIdList.length > 0;\n            if (!isFavorite) {\n              _context28.next = 37;\n              break;\n            }\n            favoriteId = FavoriteIdList[0];\n            myFavorites = {\n              isFavorite: isFavorite,\n              favoriteId: favoriteId,\n              clicked: true\n            };\n            UPDATE_FAVOURITE_STATUS(myFavorites);\n            UPDATE_FAVOURITE_MENU(\"add\");\n            return _context28.abrupt(\"return\", true);\n          case 37:\n            throw new Error(ResultMessage);\n          case 38:\n            _context28.next = 47;\n            break;\n          case 40:\n            _context28.prev = 40;\n            _context28.t1 = _context28[\"catch\"](21);\n            console.log(_context28.t1);\n            IsCtripApp && ctx.showToast(\"\");\n            UPDATE_FAVOURITE_MENU(\"failed\");\n            ctx.logPageError(\"fetchCreateFavorite\", _context28.t1);\n            return _context28.abrupt(\"return\", false);\n          case 47:\n          case \"end\":\n            return _context28.stop();\n        }\n      }, _callee28, null, [[21, 40]]);\n    }));\n    return function fetchCreateFavorite() {\n      return _ref39.apply(this, arguments);\n    };\n  }();\n\n  /** fetch cancel favorite */\n  var fetchCancelFavorite = /*#__PURE__*/function () {\n    var _ref40 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee29() {\n      var _store$getState25, myFavorites, userInfo, isLogin, UPDATE_FAVOURITE_STATUS, UPDATE_FAVOURITE_MENU, params, _myFavorites;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee29$(_context29) {\n        while (1) switch (_context29.prev = _context29.next) {\n          case 0:\n            _store$getState25 = store.getState(), myFavorites = _store$getState25.myFavorites, userInfo = _store$getState25.userInfo, isLogin = _store$getState25.isLogin;\n            UPDATE_FAVOURITE_STATUS = actions.UPDATE_FAVOURITE_STATUS, UPDATE_FAVOURITE_MENU = actions.UPDATE_FAVOURITE_MENU;\n            if (isLogin) {\n              _context29.next = 4;\n              break;\n            }\n            return _context29.abrupt(\"return\");\n          case 4:\n            params = {\n              FavoriteIdList: [myFavorites.favoriteId]\n            };\n            if (ctx.Platform === \"RN\") {\n              params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                UID: userInfo.UserID\n              });\n            }\n            _context29.prev = 6;\n            _context29.next = 9;\n            return ctx.post(\"CancelFavorite\", params);\n          case 9:\n            _myFavorites = {\n              isFavorite: false\n            };\n            UPDATE_FAVOURITE_STATUS(_myFavorites);\n            UPDATE_FAVOURITE_MENU(\"delete\");\n            return _context29.abrupt(\"return\", true);\n          case 15:\n            _context29.prev = 15;\n            _context29.t0 = _context29[\"catch\"](6);\n            IsCtripApp && ctx.showToast(\"\");\n            console.log(_context29.t0);\n            ctx.logPageError(\"fetchCancelFavorite\", _context29.t0);\n            return _context29.abrupt(\"return\", false);\n          case 21:\n          case \"end\":\n            return _context29.stop();\n        }\n      }, _callee29, null, [[6, 15]]);\n    }));\n    return function fetchCancelFavorite() {\n      return _ref40.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchMultiLineDetailInfo = /*#__PURE__*/function () {\n    var _ref41 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee30(targetProductId) {\n      var _store$getState26, BasicInfo, wakenUpData, shark, PreSaleTourGroupInfo, isPreSale, UPDATE_MULTIPLE_LINE, SET_LINE_SWITCH_LOADING, PreSaleProductId, PreSaleInfo, curProductInfo, queryName, queryString, variables, _yield$ctx$gqlpost6, data, extensions, productInfo, PreSaleProductInfo, ResponseStatus, ErrorMessage;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee30$(_context30) {\n        while (1) switch (_context30.prev = _context30.next) {\n          case 0:\n            _store$getState26 = store.getState(), BasicInfo = _store$getState26.BasicInfo, wakenUpData = _store$getState26.wakenUpData, shark = _store$getState26.shark, PreSaleTourGroupInfo = _store$getState26.PreSaleTourGroupInfo, isPreSale = _store$getState26.isPreSale;\n            UPDATE_MULTIPLE_LINE = actions.UPDATE_MULTIPLE_LINE, SET_LINE_SWITCH_LOADING = actions.SET_LINE_SWITCH_LOADING; // \n            if (isPreSale && PreSaleTourGroupInfo && PreSaleTourGroupInfo.PreSaleInfo) {\n              PreSaleInfo = PreSaleTourGroupInfo.PreSaleInfo;\n              if (PreSaleInfo.length) {\n                curProductInfo = PreSaleInfo.find(function (item) {\n                  return item.ProductId === targetProductId;\n                });\n                if (curProductInfo && curProductInfo.PreSaleProductId) {\n                  PreSaleProductId = curProductInfo.PreSaleProductId;\n                }\n              }\n            }\n            queryName = \"ProductInfo_App_MultiLine_V2\";\n            queryString = gqlFragment.fetchMultiLineDetailInfo(PreSaleProductId);\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: targetProductId,\n                DepartureCityId: BasicInfo.DepartureId,\n                MarketingInfo: {\n                  AllianceId: wakenUpData.allianceid,\n                  SId: wakenUpData.sid\n                }\n              }, ctx.attachShardParams()),\n              priceCalendarParams: {\n                queryTourGroup: false,\n                needInventory: false,\n                needFlightDiscountPrice: true\n              },\n              bookFormEmotionalCuesParams: {\n                HeadTagList: [{\n                  Key: \"from_page\",\n                  Value: \"product\"\n                }, {\n                  Key: \"emotional_type\",\n                  Value: \"emergency_info_new\"\n                }, {\n                  Key: \"page_index\",\n                  Value: \"1002\"\n                }, {\n                  Key: \"business_line\",\n                  Value: \"1\"\n                }]\n              },\n              servicePersonParams: {\n                PageType: 1,\n                PageSize: 10,\n                PageIndex: 1\n              }\n            }; // \n            if (PreSaleProductId) {\n              variables = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, variables), {}, {\n                PreSaleParams: (0,objectSpread2/* default */.Z)({\n                  ProductId: Number(PreSaleProductId),\n                  DepartureCityId: Number(BasicInfo.DepartureId)\n                }, ctx.attachShardParams())\n              });\n            }\n\n            // \n            if (isUnitTest) {\n              variables.params.testCaseId = \"45305792\";\n            }\n            _context30.prev = 8;\n            SET_LINE_SWITCH_LOADING(true);\n            _context30.next = 12;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 12:\n            _yield$ctx$gqlpost6 = _context30.sent;\n            data = _yield$ctx$gqlpost6.data;\n            extensions = _yield$ctx$gqlpost6.extensions;\n            productInfo = data.productInfo, PreSaleProductInfo = data.PreSaleProductInfo;\n            ResponseStatus = productInfo.ResponseStatus;\n            if (!(ResponseStatus.Ack === \"Success\")) {\n              _context30.next = 22;\n              break;\n            }\n            UPDATE_MULTIPLE_LINE({\n              productInfo: productInfo,\n              targetProductId: targetProductId,\n              PreSaleProductInfo: PreSaleProductInfo\n            });\n            SET_LINE_SWITCH_LOADING(false);\n            _context30.next = 23;\n            break;\n          case 22:\n            throw new Error(ResponseStatus.Errors[0].Message);\n          case 23:\n            return _context30.abrupt(\"return\", extensions);\n          case 26:\n            _context30.prev = 26;\n            _context30.t0 = _context30[\"catch\"](8);\n            console.log(_context30.t0);\n            SET_LINE_SWITCH_LOADING(false);\n            ErrorMessage = \"\";\n            ctx.showToast(ErrorMessage);\n            ctx.logPageError(\"fetchMultiLineDetailInfo\", _context30.t0);\n          case 33:\n          case \"end\":\n            return _context30.stop();\n        }\n      }, _callee30, null, [[8, 26]]);\n    }));\n    return function fetchMultiLineDetailInfo(_x5) {\n      return _ref41.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchMultiTravelDetailInfo = /*#__PURE__*/function () {\n    var _ref42 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee31(targetAlias) {\n      var _store$getState27, BasicInfo, shark, UPDATE_MULTIPLE_TRAVEL, SET_LINE_SWITCH_LOADING, queryName, queryString, variables, _yield$ctx$gqlpost7, data, productInfo, ResponseStatus, ErrorMessage;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee31$(_context31) {\n        while (1) switch (_context31.prev = _context31.next) {\n          case 0:\n            _store$getState27 = store.getState(), BasicInfo = _store$getState27.BasicInfo, shark = _store$getState27.shark;\n            UPDATE_MULTIPLE_TRAVEL = actions.UPDATE_MULTIPLE_TRAVEL, SET_LINE_SWITCH_LOADING = actions.SET_LINE_SWITCH_LOADING;\n            queryName = \"ProductInfo_App_MultiTravel_V2\";\n            queryString = gqlFragment.fetchMultiTravelDetailInfo;\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: BasicInfo.ProductId,\n                DepartureCityId: BasicInfo.DepartureId,\n                Alias: [targetAlias]\n              }, ctx.attachShardParams())\n            };\n            _context31.prev = 5;\n            SET_LINE_SWITCH_LOADING(true);\n            _context31.next = 9;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 9:\n            _yield$ctx$gqlpost7 = _context31.sent;\n            data = _yield$ctx$gqlpost7.data;\n            productInfo = data.productInfo;\n            ResponseStatus = productInfo.ResponseStatus;\n            if (!(ResponseStatus.Ack === \"Success\")) {\n              _context31.next = 18;\n              break;\n            }\n            UPDATE_MULTIPLE_TRAVEL({\n              productInfo: productInfo,\n              targetAlias: targetAlias\n            });\n            SET_LINE_SWITCH_LOADING(false);\n            _context31.next = 19;\n            break;\n          case 18:\n            throw new Error(ResponseStatus.Errors[0].Message);\n          case 19:\n            _context31.next = 28;\n            break;\n          case 21:\n            _context31.prev = 21;\n            _context31.t0 = _context31[\"catch\"](5);\n            console.log(_context31.t0);\n            SET_LINE_SWITCH_LOADING(false);\n            ErrorMessage = \"\";\n            ctx.showToast(ErrorMessage);\n            ctx.logPageError(\"fetchMultiTravelDetailInfo\", _context31.t0);\n          case 28:\n          case \"end\":\n            return _context31.stop();\n        }\n      }, _callee31, null, [[5, 21]]);\n    }));\n    return function fetchMultiTravelDetailInfo(_x6) {\n      return _ref42.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var fetchNewDepartCityProductInfo = /*#__PURE__*/function () {\n    var _ref43 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee32(DepartureCityId, targetProductId, isManual) {\n      var _store$getState28, BasicInfo, pageStatus, currentRouteInfo, shark, TourGroupInfo, wakenUpData, PreSaleTourGroupInfo, isPreSale, isMultiLine, isMultiTravel, activeAlias, UPDATE_NEWDEPARTCITY_INFO, SET_LINE_SWITCH_LOADING, PreSaleProductId, PreSaleInfo, curProductInfo, queryName, queryString, PriceInfo, DepartureCityPriceList, ProductIdList, MainProductId, variables, _extensions$SoaRespon5, _yield$ctx$gqlpost8, data, extensions, _extensions$SoaRespon6, targetLine, lineAlias, curLine, curAlias, _data$MainProductInfo, BookInfo, ScheduleInfo, ErrorMessage;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee32$(_context32) {\n        while (1) switch (_context32.prev = _context32.next) {\n          case 0:\n            _store$getState28 = store.getState(), BasicInfo = _store$getState28.BasicInfo, pageStatus = _store$getState28.pageStatus, currentRouteInfo = _store$getState28.currentRouteInfo, shark = _store$getState28.shark, TourGroupInfo = _store$getState28.TourGroupInfo, wakenUpData = _store$getState28.wakenUpData, PreSaleTourGroupInfo = _store$getState28.PreSaleTourGroupInfo, isPreSale = _store$getState28.isPreSale;\n            isMultiLine = pageStatus.isMultiLine, isMultiTravel = pageStatus.isMultiTravel, activeAlias = pageStatus.activeAlias;\n            UPDATE_NEWDEPARTCITY_INFO = actions.UPDATE_NEWDEPARTCITY_INFO, SET_LINE_SWITCH_LOADING = actions.SET_LINE_SWITCH_LOADING; // \n            if (isPreSale && PreSaleTourGroupInfo && PreSaleTourGroupInfo.PreSaleInfo) {\n              PreSaleInfo = PreSaleTourGroupInfo.PreSaleInfo;\n              if (PreSaleInfo.length) {\n                curProductInfo = PreSaleInfo.find(function (item) {\n                  return item.ProductId === targetProductId;\n                });\n                if (curProductInfo && curProductInfo.PreSaleProductId) {\n                  PreSaleProductId = curProductInfo.PreSaleProductId;\n                }\n              }\n            }\n            queryName = \"ProductNewCity_App_1st_V1\";\n            queryString = gqlFragment.fetchNewDepartCityProductInfo(isMultiLine, isMultiTravel, PreSaleProductId);\n            PriceInfo = currentRouteInfo.PriceInfo;\n            DepartureCityPriceList = PriceInfo.DepartureCityPriceList;\n            ProductIdList = DepartureCityPriceList ? DepartureCityPriceList !== null && DepartureCityPriceList !== void 0 && DepartureCityPriceList.filter(function (item) {\n              return item.DepartureCityId === DepartureCityId;\n            })[0] ? DepartureCityPriceList === null || DepartureCityPriceList === void 0 ? void 0 : DepartureCityPriceList.filter(function (item) {\n              return item.DepartureCityId === DepartureCityId;\n            })[0].ProductIdList : [] : [];\n            MainProductId = ProductIdList.includes(BasicInfo.ProductId) ? BasicInfo.ProductId : targetProductId;\n            variables = {\n              MainParams: (0,objectSpread2/* default */.Z)({\n                ProductId: MainProductId,\n                DepartureCityId: DepartureCityId,\n                MarketingInfo: {\n                  AllianceId: wakenUpData.allianceid,\n                  SId: wakenUpData.sid\n                }\n              }, ctx.attachShardParams()),\n              bookFormEmotionalCuesParams: {\n                HeadTagList: [{\n                  Key: \"from_page\",\n                  Value: \"product\"\n                }, {\n                  Key: \"emotional_type\",\n                  Value: \"emergency_info_new\"\n                }, {\n                  Key: \"page_index\",\n                  Value: \"1002\"\n                }, {\n                  Key: \"business_line\",\n                  Value: \"1\"\n                }]\n              },\n              priceCalendarParams: {\n                queryTourGroup: false,\n                needInventory: false,\n                needFlightDiscountPrice: true\n              },\n              servicePersonParams: {\n                PageType: 1,\n                PageSize: 10,\n                PageIndex: 1\n              }\n            };\n            if (isMultiLine) {\n              variables = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, variables), {}, {\n                RouteParams: (0,objectSpread2/* default */.Z)({\n                  ProductId: targetProductId,\n                  DepartureCityId: DepartureCityId,\n                  MarketingInfo: {\n                    AllianceId: wakenUpData.allianceid,\n                    SId: wakenUpData.sid\n                  }\n                }, ctx.attachShardParams())\n              });\n            }\n            if (isMultiTravel) {\n              variables = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, variables), {}, {\n                RouteParams: (0,objectSpread2/* default */.Z)({\n                  ProductId: BasicInfo.ProductId,\n                  Alias: [activeAlias],\n                  DepartureCityId: DepartureCityId,\n                  MarketingInfo: {\n                    AllianceId: wakenUpData.allianceid,\n                    SId: wakenUpData.sid\n                  }\n                }, ctx.attachShardParams())\n              });\n            }\n\n            // \n            if (PreSaleProductId) {\n              variables = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, variables), {}, {\n                PreSaleParams: (0,objectSpread2/* default */.Z)({\n                  ProductId: Number(PreSaleProductId),\n                  DepartureCityId: DepartureCityId\n                }, ctx.attachShardParams())\n              });\n            }\n\n            // \n            if (isUnitTest) {\n              variables.MainParams.testCaseId = \"44954748\";\n              variables.RouteParams.testCaseId = \"44954748\";\n            }\n            _context32.prev = 15;\n            _context32.next = 18;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 18:\n            _yield$ctx$gqlpost8 = _context32.sent;\n            data = _yield$ctx$gqlpost8.data;\n            extensions = _yield$ctx$gqlpost8.extensions;\n            UPDATE_NEWDEPARTCITY_INFO(data);\n\n            // fetch new depart city info\n            onChangeDepartCity();\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: BasicInfo.ProductId\n              }],\n              scene: \"\",\n              action: isManual ? \"usr_change\" : \"sys_change\",\n              value: data.MainProductInfo.BasicInfo.DepartureCityName,\n              before: BasicInfo.DepartureCityName,\n              rootMessageId: extensions === null || extensions === void 0 || (_extensions$SoaRespon5 = extensions.SoaResponseStatus) === null || _extensions$SoaRespon5 === void 0 || (_extensions$SoaRespon5 = _extensions$SoaRespon5.ResponseStatus) === null || _extensions$SoaRespon5 === void 0 || (_extensions$SoaRespon5 = _extensions$SoaRespon5.Extension.find(function (item) {\n                return item.Id === \"RootMessageId\";\n              })) === null || _extensions$SoaRespon5 === void 0 ? void 0 : _extensions$SoaRespon5.Value\n            });\n            if (pageStatus.activeProductId !== targetProductId) {\n              targetLine = TourGroupInfo.TourGroupProductInfo.filter(function (item) {\n                return item.ProductId === targetProductId;\n              })[0];\n              lineAlias = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"][targetLine.SortNumber - 1];\n              curLine = TourGroupInfo.TourGroupProductInfo.filter(function (item) {\n                return item.ProductId === pageStatus.activeProductId;\n              })[0];\n              curAlias = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"][curLine.SortNumber - 1];\n              ctx.sendKMLog({\n                attrs: [{\n                  key: \"productId\",\n                  value: BasicInfo.ProductId\n                }],\n                scene: \"\",\n                action: \"usr_change\",\n                value: \"\".concat(lineAlias, \"\\u7EBF\\uFF1A\").concat(targetProductId),\n                before: \"\".concat(curAlias, \"\\u7EBF\\uFF1A\").concat(pageStatus.activeProductId),\n                rootMessageId: extensions === null || extensions === void 0 || (_extensions$SoaRespon6 = extensions.SoaResponseStatus) === null || _extensions$SoaRespon6 === void 0 || (_extensions$SoaRespon6 = _extensions$SoaRespon6.ResponseStatus) === null || _extensions$SoaRespon6 === void 0 || (_extensions$SoaRespon6 = _extensions$SoaRespon6.Extension.find(function (item) {\n                  return item.Id === \"RootMessageId\";\n                })) === null || _extensions$SoaRespon6 === void 0 ? void 0 : _extensions$SoaRespon6.Value\n              });\n            }\n            _data$MainProductInfo = data.MainProductInfo, BookInfo = _data$MainProductInfo.BookInfo, ScheduleInfo = _data$MainProductInfo.ScheduleInfo;\n            if (BookInfo.IsBook && ScheduleInfo.HasInventory) {\n              SET_LINE_SWITCH_LOADING(true);\n            }\n            // \n            // checkNewProcessSelectedDateAvailable()\n            _context32.next = 35;\n            break;\n          case 29:\n            _context32.prev = 29;\n            _context32.t0 = _context32[\"catch\"](15);\n            console.log(_context32.t0);\n            ErrorMessage = \"\";\n            ctx.showToast(ErrorMessage);\n            ctx.logPageError(\"fetchNewDepartCityProductInfo\", _context32.t0);\n          case 35:\n          case \"end\":\n            return _context32.stop();\n        }\n      }, _callee32, null, [[15, 29]]);\n    }));\n    return function fetchNewDepartCityProductInfo(_x7, _x8, _x9) {\n      return _ref43.apply(this, arguments);\n    };\n  }();\n\n  //  \n  var fetchFullD2DProductInfo = /*#__PURE__*/function () {\n    var _ref44 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee33() {\n      var _store$getState29, pageStatus, wakenUpData, ParentsProductList, ChildrenProductList, LocationInfo, isSecKill, SWITCH_TO_NEW_PRODUCT, queryName, queryString, initD2DSwitchType, d2dProductId, d2dDepartureCityId, parentProductInfo, variables, _yield$ctx$gqlpost9, data, errors, extensions, productInfo, ResponseStatus, BasicInfo, _extensions$SoaRespon7;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee33$(_context33) {\n        while (1) switch (_context33.prev = _context33.next) {\n          case 0:\n            _store$getState29 = store.getState(), pageStatus = _store$getState29.pageStatus, wakenUpData = _store$getState29.wakenUpData, ParentsProductList = _store$getState29.ParentsProductList, ChildrenProductList = _store$getState29.ChildrenProductList, LocationInfo = _store$getState29.LocationInfo, isSecKill = _store$getState29.isSecKill;\n            SWITCH_TO_NEW_PRODUCT = actions.SWITCH_TO_NEW_PRODUCT;\n            queryName = \"RelatedProductInfo_App_1st_V2\";\n            queryString = isSecKill ? gqlFragment.fetchProductBasicInfo_SecKill : gqlFragment.fetchProductBasicInfo;\n            initD2DSwitchType = pageStatus.initD2DSwitchType; // \n            if (!(initD2DSwitchType === 2 && (!ParentsProductList || !ParentsProductList[0] || !ParentsProductList[0].parentProductInfo))) {\n              _context33.next = 7;\n              break;\n            }\n            return _context33.abrupt(\"return\");\n          case 7:\n            if (!(initD2DSwitchType === 1 && (!ChildrenProductList || !ChildrenProductList[0] || !ChildrenProductList[0].childProductInfoList || !ChildrenProductList[0].childProductInfoList[0]))) {\n              _context33.next = 9;\n              break;\n            }\n            return _context33.abrupt(\"return\");\n          case 9:\n            if (initD2DSwitchType === 2) {\n              d2dProductId = ParentsProductList[0].parentProductInfo.productId;\n              parentProductInfo = ParentsProductList[0].parentProductInfo;\n              d2dDepartureCityId = parentProductInfo.departureCities && parentProductInfo.departureCities[0] && parentProductInfo.departureCities[0].DepartureCityId;\n            }\n            if (initD2DSwitchType === 1) {\n              d2dProductId = ChildrenProductList[0].childProductInfoList[0].productId;\n              d2dDepartureCityId = LocationInfo === null || LocationInfo === void 0 ? void 0 : LocationInfo.departureCityId;\n            }\n            if (d2dProductId) {\n              _context33.next = 13;\n              break;\n            }\n            return _context33.abrupt(\"return\");\n          case 13:\n            // console.log('parentProductInfo', parentProductInfo)\n            // return\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: Number(d2dProductId),\n                DepartureCityId: Number(d2dDepartureCityId || 2),\n                MarketingInfo: {\n                  AllianceId: wakenUpData.allianceid,\n                  SId: wakenUpData.sid\n                }\n              }, ctx.attachShardParams()),\n              bookFormEmotionalCuesParams: {\n                HeadTagList: [{\n                  Key: \"from_page\",\n                  Value: \"product\"\n                }, {\n                  Key: \"emotional_type\",\n                  Value: \"emergency_info_new\"\n                }, {\n                  Key: \"page_index\",\n                  Value: \"1002\"\n                }, {\n                  Key: \"business_line\",\n                  Value: \"1\"\n                }]\n              }\n            };\n            _context33.prev = 14;\n            _context33.next = 17;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 17:\n            _yield$ctx$gqlpost9 = _context33.sent;\n            data = _yield$ctx$gqlpost9.data;\n            errors = _yield$ctx$gqlpost9.errors;\n            extensions = _yield$ctx$gqlpost9.extensions;\n            if (!errors) {\n              _context33.next = 25;\n              break;\n            }\n            throw new Error(errors[0].message);\n          case 25:\n            productInfo = data.productInfo;\n            ResponseStatus = productInfo.ResponseStatus, BasicInfo = productInfo.BasicInfo;\n            if (!(ResponseStatus.Ack === \"Success\")) {\n              _context33.next = 34;\n              break;\n            }\n            SWITCH_TO_NEW_PRODUCT({\n              productInfo: productInfo\n            });\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: String(BasicInfo.ProductId)\n              }],\n              module: \"\",\n              scene: \" /tour/bff/graphql/RelatedProductInfo_App_1st_V2\",\n              action: \"sys_show\",\n              rootMessageId: extensions === null || extensions === void 0 || (_extensions$SoaRespon7 = extensions.SoaResponseStatus) === null || _extensions$SoaRespon7 === void 0 || (_extensions$SoaRespon7 = _extensions$SoaRespon7.ResponseStatus) === null || _extensions$SoaRespon7 === void 0 || (_extensions$SoaRespon7 = _extensions$SoaRespon7.Extension.find(function (item) {\n                return item.Id === \"RootMessageId\";\n              })) === null || _extensions$SoaRespon7 === void 0 ? void 0 : _extensions$SoaRespon7.Value\n            });\n\n            /**  */\n            _context33.next = 32;\n            return fetchFullProductSecondInfo();\n          case 32:\n            _context33.next = 35;\n            break;\n          case 34:\n            throw new Error(ResponseStatus.Errors[0].Message);\n          case 35:\n            _context33.next = 41;\n            break;\n          case 37:\n            _context33.prev = 37;\n            _context33.t0 = _context33[\"catch\"](14);\n            console.log(_context33.t0);\n            ctx.logPageError(\"fetchFullD2DProductInfo\", _context33.t0);\n          case 41:\n          case \"end\":\n            return _context33.stop();\n        }\n      }, _callee33, null, [[14, 37]]);\n    }));\n    return function fetchFullD2DProductInfo() {\n      return _ref44.apply(this, arguments);\n    };\n  }();\n  var fetchFullProductSecondInfo = /*#__PURE__*/function () {\n    var _ref45 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee34() {\n      var _store$getState30, query, wakenUpData, BasicInfo, PreSaleTourGroupInfo, isPreSale, isSecKill, ProductId, DepartureId, PreSaleProductId, PreSaleInfo, curProductInfo, queryName, queryString, variables, _yield$ctx$gqlpost10, data, errors, extensions, productInfo, PreSaleProductInfo, ResponseStatus, other, _extensions$SoaRespon8, SWITCH_TO_NEW_PRODUCT_SECOND;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee34$(_context34) {\n        while (1) switch (_context34.prev = _context34.next) {\n          case 0:\n            _store$getState30 = store.getState(), query = _store$getState30.query, wakenUpData = _store$getState30.wakenUpData, BasicInfo = _store$getState30.BasicInfo, PreSaleTourGroupInfo = _store$getState30.PreSaleTourGroupInfo, isPreSale = _store$getState30.isPreSale, isSecKill = _store$getState30.isSecKill;\n            ProductId = BasicInfo.ProductId, DepartureId = BasicInfo.DepartureId; // \n            if (isPreSale && PreSaleTourGroupInfo && PreSaleTourGroupInfo.PreSaleInfo) {\n              PreSaleInfo = PreSaleTourGroupInfo.PreSaleInfo;\n              if (PreSaleInfo.length) {\n                curProductInfo = PreSaleInfo.find(function (item) {\n                  return item.ProductId === ProductId;\n                });\n                if (curProductInfo && curProductInfo.PreSaleProductId) {\n                  PreSaleProductId = curProductInfo.PreSaleProductId;\n                }\n              }\n            }\n            queryName = \"RelatedProductInfo_App_2nd_V2\";\n            queryString = isSecKill ? gqlFragment.fetchProductSecondInfo_SecKill : gqlFragment.fetchProductSecondInfo(PreSaleProductId);\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: Number(ProductId),\n                DepartureCityId: Number(DepartureId),\n                MarketingInfo: {\n                  AllianceId: wakenUpData.allianceid,\n                  SId: wakenUpData.sid\n                }\n              }, ctx.attachShardParams()),\n              servicePersonParams: {\n                PageType: 1,\n                PageSize: 10,\n                PageIndex: 1\n              },\n              expertParams: {\n                exportType: 1,\n                pageIndex: 1,\n                pageSize: 3\n              },\n              imEntryInfoParams: {\n                pageFrom: \"detail\",\n                sourceFrom: query.fromhhtravel === \"1\" ? \"hhtravel\" : \"\"\n              },\n              priceCalendarParams: {\n                queryTourGroup: false,\n                needInventory: false,\n                needFlightDiscountPrice: true\n              },\n              groupChildrenParams: {\n                locationCityId: 0\n              }\n            }; // \n            if (PreSaleProductId) {\n              variables = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, variables), {}, {\n                PreSaleParams: (0,objectSpread2/* default */.Z)({\n                  ProductId: Number(PreSaleProductId),\n                  DepartureCityId: Number(DepartureId)\n                }, ctx.attachShardParams())\n              });\n            }\n            _context34.prev = 7;\n            _context34.next = 10;\n            return ctx.gqlpost(queryString, variables, queryName);\n          case 10:\n            _yield$ctx$gqlpost10 = _context34.sent;\n            data = _yield$ctx$gqlpost10.data;\n            errors = _yield$ctx$gqlpost10.errors;\n            extensions = _yield$ctx$gqlpost10.extensions;\n            if (!errors) {\n              _context34.next = 18;\n              break;\n            }\n            throw new Error(errors[0].message);\n          case 18:\n            productInfo = data.productInfo, PreSaleProductInfo = data.PreSaleProductInfo;\n            ResponseStatus = productInfo.ResponseStatus, other = (0,objectWithoutProperties/* default */.Z)(productInfo, model_excluded2);\n            if (!(ResponseStatus.Ack === \"Success\")) {\n              _context34.next = 26;\n              break;\n            }\n            SWITCH_TO_NEW_PRODUCT_SECOND = actions.SWITCH_TO_NEW_PRODUCT_SECOND;\n            SWITCH_TO_NEW_PRODUCT_SECOND({\n              other: other,\n              PreSaleProductInfo: PreSaleProductInfo\n            });\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: String(BasicInfo.ProductId)\n              }],\n              module: \"\",\n              scene: \" /tour/bff/graphql/RelatedProductInfo_App_2nd_V2\",\n              action: \"sys_show\",\n              rootMessageId: extensions === null || extensions === void 0 || (_extensions$SoaRespon8 = extensions.SoaResponseStatus) === null || _extensions$SoaRespon8 === void 0 || (_extensions$SoaRespon8 = _extensions$SoaRespon8.ResponseStatus) === null || _extensions$SoaRespon8 === void 0 || (_extensions$SoaRespon8 = _extensions$SoaRespon8.Extension.find(function (item) {\n                return item.Id === \"RootMessageId\";\n              })) === null || _extensions$SoaRespon8 === void 0 ? void 0 : _extensions$SoaRespon8.Value\n            });\n            _context34.next = 27;\n            break;\n          case 26:\n            throw new Error(ResponseStatus.Errors[0].Message);\n          case 27:\n            _context34.next = 33;\n            break;\n          case 29:\n            _context34.prev = 29;\n            _context34.t0 = _context34[\"catch\"](7);\n            ctx.logPageError(\"fetchFullProductSecondInfo\", _context34.t0);\n            console.log(_context34.t0);\n          case 33:\n          case \"end\":\n            return _context34.stop();\n        }\n      }, _callee34, null, [[7, 29]]);\n    }));\n    return function fetchFullProductSecondInfo() {\n      return _ref45.apply(this, arguments);\n    };\n  }();\n\n  /**  Id  */\n  var fetchCityNameByCityId = /*#__PURE__*/function () {\n    var _ref46 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee35(CityId) {\n      var _yield$ctx$post12, CityList, NameCN;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee35$(_context35) {\n        while (1) switch (_context35.prev = _context35.next) {\n          case 0:\n            if (!(CityId <= 0)) {\n              _context35.next = 2;\n              break;\n            }\n            return _context35.abrupt(\"return\");\n          case 2:\n            _context35.prev = 2;\n            _context35.next = 5;\n            return ctx.post(\"GetCityNameByCityId\", {\n              CityIds: [CityId]\n            });\n          case 5:\n            _yield$ctx$post12 = _context35.sent;\n            CityList = _yield$ctx$post12.CityList;\n            if (!(CityList && CityList[0])) {\n              _context35.next = 12;\n              break;\n            }\n            NameCN = CityList[0].NameCN;\n            return _context35.abrupt(\"return\", NameCN);\n          case 12:\n            return _context35.abrupt(\"return\", \"\");\n          case 13:\n            _context35.next = 19;\n            break;\n          case 15:\n            _context35.prev = 15;\n            _context35.t0 = _context35[\"catch\"](2);\n            console.log(_context35.t0);\n            ctx.logPageError(\"fetchCityNameByCityId\", _context35.t0);\n          case 19:\n          case \"end\":\n            return _context35.stop();\n        }\n      }, _callee35, null, [[2, 15]]);\n    }));\n    return function fetchCityNameByCityId(_x10) {\n      return _ref46.apply(this, arguments);\n    };\n  }();\n\n  // \n  var fetchCreateTrackOrder = /*#__PURE__*/function () {\n    var _ref47 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee36(selectedDate, phoneNumber) {\n      var _store$getState31, BasicInfo, params, _yield$ctx$post13, ResponseStatus;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee36$(_context36) {\n        while (1) switch (_context36.prev = _context36.next) {\n          case 0:\n            _store$getState31 = store.getState(), BasicInfo = _store$getState31.BasicInfo;\n            params = {\n              trackInfoType: {\n                trackSBUType: \"TeamTour\",\n                trackType: \"WishOrder\",\n                trackFromType: \"Wireless\",\n                trackSubChannel: 12,\n                orderUserType: {\n                  contactPhone: phoneNumber\n                },\n                trackOrderType: {\n                  trackProductType: {\n                    productId: BasicInfo.ProductId,\n                    startCityId: BasicInfo.DepartureId,\n                    saleMode: BasicInfo.SaleMode,\n                    destName: BasicInfo.DestCityName\n                  },\n                  startDateFrom: selectedDate[0],\n                  startDateTo: selectedDate[1],\n                  remark: \"\"\n                }\n              }\n            };\n            ctx.showMaskLoading();\n            _context36.prev = 3;\n            _context36.next = 6;\n            return ctx.post(\"CreateTrack\", params);\n          case 6:\n            _yield$ctx$post13 = _context36.sent;\n            ResponseStatus = _yield$ctx$post13.ResponseStatus;\n            ctx.hideMaskLoading();\n            if (!(ResponseStatus && ResponseStatus.Ack === \"Success\")) {\n              _context36.next = 14;\n              break;\n            }\n            ctx.showToast(\"\");\n            return _context36.abrupt(\"return\", true);\n          case 14:\n            ctx.showToast(\"\");\n            return _context36.abrupt(\"return\", false);\n          case 16:\n            _context36.next = 25;\n            break;\n          case 18:\n            _context36.prev = 18;\n            _context36.t0 = _context36[\"catch\"](3);\n            ctx.hideMaskLoading();\n            console.log(_context36.t0);\n            ctx.showToast(\"\");\n            ctx.logPageError(\"fetchCreateTrackOrder\", _context36.t0);\n            return _context36.abrupt(\"return\", false);\n          case 25:\n          case \"end\":\n            return _context36.stop();\n        }\n      }, _callee36, null, [[3, 18]]);\n    }));\n    return function fetchCreateTrackOrder(_x11, _x12) {\n      return _ref47.apply(this, arguments);\n    };\n  }();\n\n  // \n  var fetchLoginUpdatedProductInfo = /*#__PURE__*/function () {\n    var _ref48 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee37() {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee37$(_context37) {\n        while (1) switch (_context37.prev = _context37.next) {\n          case 0:\n            _context37.next = 2;\n            return fetchLoginProductBasicInfo();\n          case 2:\n            _context37.next = 4;\n            return fetchVipMemberInfo();\n          case 4:\n          case \"end\":\n            return _context37.stop();\n        }\n      }, _callee37);\n    }));\n    return function fetchLoginUpdatedProductInfo() {\n      return _ref48.apply(this, arguments);\n    };\n  }();\n\n  // \n  var checkLoginStatusUpdate = /*#__PURE__*/function () {\n    var _ref49 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee38() {\n      var _store$getState32, lastLoginStatus, _yield$ctx$getUserInf, isLogin;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee38$(_context38) {\n        while (1) switch (_context38.prev = _context38.next) {\n          case 0:\n            _store$getState32 = store.getState(), lastLoginStatus = _store$getState32.isLogin;\n            _context38.next = 3;\n            return ctx.getUserInfo();\n          case 3:\n            _yield$ctx$getUserInf = _context38.sent;\n            isLogin = _yield$ctx$getUserInf.isLogin;\n            if (isLogin && !lastLoginStatus) {\n              fetchLoginUpdatedProductInfo();\n            }\n          case 6:\n          case \"end\":\n            return _context38.stop();\n        }\n      }, _callee38);\n    }));\n    return function checkLoginStatusUpdate() {\n      return _ref49.apply(this, arguments);\n    };\n  }();\n\n  /** H5 */\n  var fetchCruiseTourDetail = /*#__PURE__*/function () {\n    var _ref51 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee39(_ref50) {\n      var tourId, useDate, pageId, _store$getState33, BasicInfo, params, _response$responseSta, response;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee39$(_context39) {\n        while (1) switch (_context39.prev = _context39.next) {\n          case 0:\n            tourId = _ref50.tourId, useDate = _ref50.useDate, pageId = _ref50.pageId;\n            _store$getState33 = store.getState(), BasicInfo = _store$getState33.BasicInfo;\n            if (!(!BasicInfo.isCruise && !isUnitTest)) {\n              _context39.next = 4;\n              break;\n            }\n            return _context39.abrupt(\"return\");\n          case 4:\n            // let { ShoppingId} = helpers.getResource()\n            params = {\n              tourId: tourId,\n              useDate: useDate,\n              cruHead: {\n                channel: ctx.H5Util.isBestone() ? \"BST\" : \"H5\",\n                channel3: ctx.H5Util.getServiceChannelId() || 116,\n                localeLang: \"zh-CN\",\n                pageId: pageId,\n                currency: \"CNY\",\n                clientInfo: {\n                  salesPlatform: \"H5\"\n                }\n              }\n            };\n            _context39.prev = 5;\n            _context39.next = 8;\n            return ctx.post(\"ProductDetailTourDetail\", params);\n          case 8:\n            response = _context39.sent;\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"tourId\",\n                value: tourId\n              }],\n              scene: \" /19658/ProductDetailTourDetail\",\n              action: platform/* ActionType.show */.Us.show,\n              value: tourId,\n              rootMessageId: response === null || response === void 0 || (_response$responseSta = response.responseStatus) === null || _response$responseSta === void 0 || (_response$responseSta = _response$responseSta.extension.find(function (item) {\n                return item.id === \"RootMessageId\";\n              })) === null || _response$responseSta === void 0 ? void 0 : _response$responseSta.value\n            });\n            return _context39.abrupt(\"return\", response);\n          case 13:\n            _context39.prev = 13;\n            _context39.t0 = _context39[\"catch\"](5);\n            ctx.logPageError(\"fetchProductDetailTourDetail\", _context39.t0);\n            console.log(_context39.t0);\n          case 17:\n          case \"end\":\n            return _context39.stop();\n        }\n      }, _callee39, null, [[5, 13]]);\n    }));\n    return function fetchCruiseTourDetail(_x13) {\n      return _ref51.apply(this, arguments);\n    };\n  }();\n\n  /************************* handlers **************************/\n  var handlers = {\n    /**  */\n    handleMultiLineChange: function () {\n      var _handleMultiLineChange = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee40(targetProductId) {\n        var _TourGroupInfo$TourGr;\n        var isManual,\n          needSendLog,\n          _store$getState34,\n          BasicInfo,\n          pageStatus,\n          routeInfo,\n          TourGroupInfo,\n          currentRouteInfo,\n          shark,\n          groupCard,\n          isTabStyle,\n          UPDATE_CURRENT_ROUTE,\n          SET_LINE_SWITCH_LOADING,\n          UPDATE_SERVICE_PERSONS,\n          targetLine,\n          targetAvailableDepartCities,\n          lineAlias,\n          curLineId,\n          curLine,\n          curAlias,\n          rootMessageId,\n          targetRouteItem,\n          _extensions$SoaRespon9,\n          extensions,\n          res,\n          targetDepartCityId,\n          PriceInfo,\n          targetCityInfo,\n          targetCityName,\n          TOGGLE_CITY_SELECT_MASK,\n          SET_CITY_SELECT_MASK_INFO,\n          options,\n          _args40 = arguments;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee40$(_context40) {\n          while (1) switch (_context40.prev = _context40.next) {\n            case 0:\n              isManual = _args40.length > 1 && _args40[1] !== undefined ? _args40[1] : true;\n              needSendLog = _args40.length > 2 && _args40[2] !== undefined ? _args40[2] : true;\n              _store$getState34 = store.getState(), BasicInfo = _store$getState34.BasicInfo, pageStatus = _store$getState34.pageStatus, routeInfo = _store$getState34.routeInfo, TourGroupInfo = _store$getState34.TourGroupInfo, currentRouteInfo = _store$getState34.currentRouteInfo, shark = _store$getState34.shark, groupCard = _store$getState34.groupCard, isTabStyle = _store$getState34.isTabStyle;\n              UPDATE_CURRENT_ROUTE = actions.UPDATE_CURRENT_ROUTE, SET_LINE_SWITCH_LOADING = actions.SET_LINE_SWITCH_LOADING, UPDATE_SERVICE_PERSONS = actions.UPDATE_SERVICE_PERSONS;\n              if (!(targetProductId === pageStatus.activeProductId)) {\n                _context40.next = 6;\n                break;\n              }\n              return _context40.abrupt(\"return\");\n            case 6:\n              targetLine = TourGroupInfo === null || TourGroupInfo === void 0 || (_TourGroupInfo$TourGr = TourGroupInfo.TourGroupProductInfo) === null || _TourGroupInfo$TourGr === void 0 ? void 0 : _TourGroupInfo$TourGr.filter(function (item) {\n                return item.ProductId === targetProductId;\n              })[0];\n              if (targetLine) {\n                _context40.next = 9;\n                break;\n              }\n              return _context40.abrupt(\"return\");\n            case 9:\n              targetAvailableDepartCities = targetLine.DepartureCities;\n              lineAlias = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"][targetLine.SortNumber - 1];\n              curLineId = pageStatus.activeProductId;\n              curLine = TourGroupInfo.TourGroupProductInfo.filter(function (item) {\n                return item.ProductId === pageStatus.activeProductId;\n              })[0];\n              curAlias = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"][curLine.SortNumber - 1];\n              if (!IsTripApp) {\n                _context40.next = 17;\n                break;\n              }\n              _context40.next = 60;\n              break;\n            case 17:\n              if (!(targetAvailableDepartCities && targetAvailableDepartCities.includes(BasicInfo.DepartureId))) {\n                _context40.next = 40;\n                break;\n              }\n              rootMessageId = undefined;\n              targetRouteItem = routeInfo[targetProductId];\n              if (!(targetRouteItem && targetRouteItem.isLoaded)) {\n                _context40.next = 25;\n                break;\n              }\n              UPDATE_CURRENT_ROUTE({\n                targetProductId: targetProductId,\n                targetRouteItem: targetRouteItem\n              });\n              // \n              fetchRiskCityInfo(targetProductId);\n              _context40.next = 34;\n              break;\n            case 25:\n              _context40.next = 27;\n              return fetchMultiLineDetailInfo(targetProductId);\n            case 27:\n              extensions = _context40.sent;\n              rootMessageId = extensions === null || extensions === void 0 || (_extensions$SoaRespon9 = extensions.SoaResponseStatus) === null || _extensions$SoaRespon9 === void 0 || (_extensions$SoaRespon9 = _extensions$SoaRespon9.ResponseStatus) === null || _extensions$SoaRespon9 === void 0 || (_extensions$SoaRespon9 = _extensions$SoaRespon9.Extension.find(function (item) {\n                return item.Id === \"RootMessageId\";\n              })) === null || _extensions$SoaRespon9 === void 0 ? void 0 : _extensions$SoaRespon9.Value;\n              //  1n  \n              // tpal1n \n              if (!(isTabStyle && groupCard && !groupCard.oneWithN)) {\n                _context40.next = 34;\n                break;\n              }\n              _context40.next = 32;\n              return fetchServicePersonDetail();\n            case 32:\n              res = _context40.sent;\n              if (res) {\n                UPDATE_SERVICE_PERSONS(res);\n              }\n            case 34:\n              needSendLog && ctx.sendKMLog({\n                attrs: [{\n                  key: \"productId\",\n                  value: BasicInfo.ProductId\n                }],\n                scene: \"\",\n                action: isManual ? \"usr_change\" : \"sys_change\",\n                value: \"\".concat(lineAlias, \"\\u7EBF\\uFF1A\").concat(targetProductId),\n                before: \"\".concat(curAlias, \"\\u7EBF\\uFF1A\").concat(curLineId),\n                rootMessageId: rootMessageId\n              });\n              hasRefreshedLineReset = true;\n              // \n              checkNewProcessSelectedDateAvailable();\n              return _context40.abrupt(\"return\", true);\n            case 40:\n              if (!(targetAvailableDepartCities && targetAvailableDepartCities.length === 1)) {\n                _context40.next = 55;\n                break;\n              }\n              // , \n              targetDepartCityId = targetAvailableDepartCities[0];\n              PriceInfo = currentRouteInfo.PriceInfo;\n              targetCityInfo = PriceInfo && PriceInfo.DepartureCityPriceList && PriceInfo.DepartureCityPriceList.filter(function (item) {\n                return item.DepartureCityId === targetDepartCityId;\n              })[0];\n              targetCityName = targetCityInfo ? targetCityInfo.DepartureCityName : \"\";\n              _context40.next = 47;\n              return handlers.handleChangeDepartCity(targetDepartCityId, targetProductId, false, true, targetCityName);\n            case 47:\n              ctx.showToast(\"\".concat(lineAlias, \"\\u7EBF\\u4EC5\\u652F\\u6301\\u3010\").concat(targetCityName, \"\\u3011\\u51FA\\u53D1\\uFF0C\\u5DF2\\u4E3A\\u60A8\\u81EA\\u52A8\\u5207\\u6362\"));\n              ctx.sendKMLog({\n                attrs: [{\n                  key: \"productId\",\n                  value: BasicInfo.ProductId\n                }],\n                scene: \"\",\n                action: isManual ? \"usr_change\" : \"sys_change\",\n                value: \"\".concat(lineAlias, \"\\u7EBF\\uFF1A\").concat(targetProductId),\n                before: \"\".concat(curAlias, \"\\u7EBF\\uFF1A\").concat(curLineId)\n              });\n              hasRefreshedLineReset = true;\n              // \n              checkNewProcessSelectedDateAvailable();\n              traceSingleDepartureSwitchCity(1);\n              traceAutoChangeline();\n              _context40.next = 60;\n              break;\n            case 55:\n              //  \n              TOGGLE_CITY_SELECT_MASK = actions.TOGGLE_CITY_SELECT_MASK, SET_CITY_SELECT_MASK_INFO = actions.SET_CITY_SELECT_MASK_INFO;\n              options = {\n                params: {\n                  message: \"\\u672C\\u4EA7\\u54C1\\u4E0D\\u652F\\u6301\\u4ECE\".concat(BasicInfo.DepartureCityName, \"\\u51FA\\u53D1\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u5207\\u6362\\u51FA\\u53D1\\u57CE\\u5E02\"),\n                  textPositive: \"\",\n                  textNegative: \"\"\n                },\n                positiveCallback: function positiveCallback() {\n                  console.log(\"\");\n                  TOGGLE_CITY_SELECT_MASK(true);\n                  SET_CITY_SELECT_MASK_INFO(targetProductId);\n                },\n                negativeCallback: function negativeCallback() {\n                  console.log(\"\");\n                },\n                style: {\n                  zIndex: 999\n                }\n              };\n              if (ctx.Platform === \"Taro\") {\n                options = {\n                  content: \"\\u672C\\u4EA7\\u54C1\\u4E0D\\u652F\\u6301\\u4ECE\".concat(BasicInfo.DepartureCityName, \"\\u51FA\\u53D1\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u5207\\u6362\\u51FA\\u53D1\\u57CE\\u5E02\"),\n                  cancelText: \"\",\n                  confirmText: \"\",\n                  showCancel: true,\n                  confirmColor: \"#0086f6\",\n                  cancelColor: \"#0086f6\",\n                  success: function success(res) {\n                    if (res.confirm) {\n                      console.log(\"\");\n                      TOGGLE_CITY_SELECT_MASK(true);\n                      SET_CITY_SELECT_MASK_INFO(targetProductId);\n                    } else if (res.cancel) {\n                      console.log(\"\");\n                    }\n                  }\n                };\n              }\n              ctx.showDialog(options);\n              traceChangeCityPopExpos();\n            case 60:\n            case \"end\":\n              return _context40.stop();\n          }\n        }, _callee40);\n      }));\n      function handleMultiLineChange(_x14) {\n        return _handleMultiLineChange.apply(this, arguments);\n      }\n      return handleMultiLineChange;\n    }(),\n    /**  */\n    handleMultiTravelChange: function () {\n      var _handleMultiTravelChange = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee41(targetAlias) {\n        var _store$getState35, pageStatus, routeInfo, BasicInfo, UPDATE_CURRENT_ROUTE, curAlias, targetRouteItem;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee41$(_context41) {\n          while (1) switch (_context41.prev = _context41.next) {\n            case 0:\n              _store$getState35 = store.getState(), pageStatus = _store$getState35.pageStatus, routeInfo = _store$getState35.routeInfo, BasicInfo = _store$getState35.BasicInfo;\n              UPDATE_CURRENT_ROUTE = actions.UPDATE_CURRENT_ROUTE;\n              if (!(targetAlias === pageStatus.activeAlias)) {\n                _context41.next = 4;\n                break;\n              }\n              return _context41.abrupt(\"return\");\n            case 4:\n              curAlias = pageStatus.activeAlias;\n              targetRouteItem = routeInfo[targetAlias];\n              if (!(targetRouteItem && targetRouteItem.isLoaded)) {\n                _context41.next = 10;\n                break;\n              }\n              UPDATE_CURRENT_ROUTE({\n                targetAlias: targetAlias,\n                targetRouteItem: targetRouteItem\n              });\n              _context41.next = 12;\n              break;\n            case 10:\n              _context41.next = 12;\n              return fetchMultiTravelDetailInfo(targetAlias);\n            case 12:\n              hasRefreshedLineReset = true;\n              checkNewProcessSelectedDateAvailable();\n              ctx.sendKMLog({\n                attrs: [{\n                  key: \"productId\",\n                  value: BasicInfo.ProductId\n                }],\n                scene: \"\",\n                action: \"usr_change\",\n                value: \"\".concat(targetAlias, \"\\u7EBF\"),\n                before: \"\".concat(curAlias, \"\\u7EBF\")\n              });\n              return _context41.abrupt(\"return\", true);\n            case 16:\n            case \"end\":\n              return _context41.stop();\n          }\n        }, _callee41);\n      }));\n      function handleMultiTravelChange(_x15) {\n        return _handleMultiTravelChange.apply(this, arguments);\n      }\n      return handleMultiTravelChange;\n    }(),\n    /**\n     * show / hide city select mask\n     */\n    handleToggleCitySelectMask: function handleToggleCitySelectMask(isShowCitySelectMask) {\n      var TOGGLE_CITY_SELECT_MASK = actions.TOGGLE_CITY_SELECT_MASK,\n        SET_CITY_SELECT_MASK_INFO = actions.SET_CITY_SELECT_MASK_INFO;\n      TOGGLE_CITY_SELECT_MASK(isShowCitySelectMask);\n      if (!isShowCitySelectMask) {\n        var _store$getState36 = store.getState(),\n          citySelectTargetProductId = _store$getState36.citySelectTargetProductId;\n        if (citySelectTargetProductId) {\n          traceClickChangeCityFromPop(\"\");\n        }\n        IsTripApp && SET_CITY_SELECT_MASK_INFO(null);\n      }\n    },\n    /**\n     * change departure city\n     */\n    handleChangeDepartCity: function () {\n      var _handleChangeDepartCity = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee42(cityId, targetProductId) {\n        var isManual,\n          isActiveModify,\n          departureCityName,\n          _store$getState37,\n          BasicInfo,\n          citySelectTargetProductId,\n          currentRouteInfo,\n          issyncLiistInfo,\n          pageStatus,\n          query,\n          SET_CITY_SELECT_MASK_INFO,\n          SET_EXTENDSTAY_SHOPPING,\n          PriceInfo,\n          cityName,\n          newQuery,\n          _args42 = arguments;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee42$(_context42) {\n          while (1) switch (_context42.prev = _context42.next) {\n            case 0:\n              isManual = _args42.length > 2 && _args42[2] !== undefined ? _args42[2] : true;\n              isActiveModify = _args42.length > 3 && _args42[3] !== undefined ? _args42[3] : true;\n              departureCityName = _args42.length > 4 && _args42[4] !== undefined ? _args42[4] : \"\";\n              _store$getState37 = store.getState(), BasicInfo = _store$getState37.BasicInfo, citySelectTargetProductId = _store$getState37.citySelectTargetProductId, currentRouteInfo = _store$getState37.currentRouteInfo, issyncLiistInfo = _store$getState37.issyncLiistInfo, pageStatus = _store$getState37.pageStatus, query = _store$getState37.query;\n              SET_CITY_SELECT_MASK_INFO = actions.SET_CITY_SELECT_MASK_INFO, SET_EXTENDSTAY_SHOPPING = actions.SET_EXTENDSTAY_SHOPPING;\n              if (!(cityId === BasicInfo.DepartureId)) {\n                _context42.next = 7;\n                break;\n              }\n              return _context42.abrupt(\"return\");\n            case 7:\n              if (IsCtripApp) {\n                traceChangeDepartureCity(BasicInfo.DepartureId, cityId);\n                if (citySelectTargetProductId) {\n                  PriceInfo = currentRouteInfo.PriceInfo;\n                  cityName = PriceInfo && PriceInfo.DepartureCityPriceList && PriceInfo.DepartureCityPriceList.filter(function (item) {\n                    return item.DepartureCityId === cityId;\n                  })[0].DepartureCityName;\n                  traceClickChangeCityFromPop(cityName);\n                }\n\n                // \n                SET_CITY_SELECT_MASK_INFO(0);\n              }\n              if (ctx.Platform === \"H5\") {\n                newQuery = \"?\".concat(querystring.stringify((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, query), {}, {\n                  departcityid: cityId\n                })));\n                history.replaceState(null, \"\", newQuery);\n              }\n\n              // Shopping\n              if (ctx.get(\"TOUR_SHOPPING_HISTORY\")) {\n                ctx.remove(\"TOUR_SHOPPING_HISTORY\");\n              }\n              ctx.showMaskLoading();\n              _context42.next = 13;\n              return fetchNewDepartCityProductInfo(cityId, targetProductId, isManual);\n            case 13:\n              _context42.next = 15;\n              return fetchInitCruiseInfo();\n            case 15:\n              ctx.hideMaskLoading();\n              if (IsCtripApp) {\n                // B\n                // \n                if (issyncLiistInfo && isActiveModify) {\n                  setDepartureCityIdForList(cityId, departureCityName);\n                }\n              }\n\n              //  shopping \n              if (pageStatus.isExtendedStay) {\n                SET_EXTENDSTAY_SHOPPING();\n              }\n            case 18:\n            case \"end\":\n              return _context42.stop();\n          }\n        }, _callee42);\n      }));\n      function handleChangeDepartCity(_x16, _x17) {\n        return _handleChangeDepartCity.apply(this, arguments);\n      }\n      return handleChangeDepartCity;\n    }(),\n    // \n    handleClickFavorite: function () {\n      var _handleClickFavorite = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee44(isShowHeaderMenu) {\n        var _store$getState38, isLogin, myFavorites, TOGGLE_SHOW_MENU_POP, SET_FAVOURITE_MENU_POSITION, _ref52, isFavorite, fetchSuccess;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee44$(_context44) {\n          while (1) switch (_context44.prev = _context44.next) {\n            case 0:\n              _store$getState38 = store.getState(), isLogin = _store$getState38.isLogin, myFavorites = _store$getState38.myFavorites;\n              TOGGLE_SHOW_MENU_POP = actions.TOGGLE_SHOW_MENU_POP, SET_FAVOURITE_MENU_POSITION = actions.SET_FAVOURITE_MENU_POSITION;\n              if (myFavorites) {\n                _context44.next = 5;\n                break;\n              }\n              isClickFavBeforeData = true;\n              return _context44.abrupt(\"return\");\n            case 5:\n              if (isLogin) {\n                _context44.next = 9;\n                break;\n              }\n              //  webview \n              if (ctx.isInWebviewH5()) {\n                ctx.loginInWebview();\n              } else {\n                if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n                  ctx.login({\n                    callback: function () {\n                      var _callback = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee43() {\n                        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee43$(_context43) {\n                          while (1) switch (_context43.prev = _context43.next) {\n                            case 0:\n                              _context43.next = 2;\n                              return fetchLoginUpdatedProductInfo();\n                            case 2:\n                            case \"end\":\n                              return _context43.stop();\n                          }\n                        }, _callee43);\n                      }));\n                      function callback() {\n                        return _callback.apply(this, arguments);\n                      }\n                      return callback;\n                    }()\n                  });\n                } else {\n                  UserLogin({\n                    afterCallback: function afterCallback() {\n                      handlers.handleClickFavorite(isShowHeaderMenu);\n                    }\n                  });\n                }\n              }\n              _context44.next = 21;\n              break;\n            case 9:\n              _ref52 = myFavorites || {}, isFavorite = _ref52.isFavorite;\n              if (!isFavorite) {\n                _context44.next = 16;\n                break;\n              }\n              _context44.next = 13;\n              return fetchCancelFavorite();\n            case 13:\n              _context44.t0 = _context44.sent;\n              _context44.next = 19;\n              break;\n            case 16:\n              _context44.next = 18;\n              return fetchCreateFavorite();\n            case 18:\n              _context44.t0 = _context44.sent;\n            case 19:\n              fetchSuccess = _context44.t0;\n              if (IsTripApp) {\n                SET_FAVOURITE_MENU_POSITION(isShowHeaderMenu);\n              } else {\n                fetchSuccess && TOGGLE_SHOW_MENU_POP(true);\n              }\n            case 21:\n            case \"end\":\n              return _context44.stop();\n          }\n        }, _callee44);\n      }));\n      function handleClickFavorite(_x18) {\n        return _handleClickFavorite.apply(this, arguments);\n      }\n      return handleClickFavorite;\n    }(),\n    // pop\n    handleHideFavoriteMenu: function handleHideFavoriteMenu() {\n      var TOGGLE_SHOW_MENU_POP = actions.TOGGLE_SHOW_MENU_POP,\n        UPDATE_FAVOURITE_MENU = actions.UPDATE_FAVOURITE_MENU;\n      var _store$getState39 = store.getState(),\n        favoriteMenuStatus = _store$getState39.favoriteMenuStatus;\n      if (favoriteMenuStatus === \"hide\") {\n        return;\n      }\n      UPDATE_FAVOURITE_MENU(\"hide\");\n      IsCtripApp && TOGGLE_SHOW_MENU_POP(false);\n    },\n    // \n    handleGoTravelIntention: function handleGoTravelIntention() {\n      var _store$getState40 = store.getState(),\n        BasicInfo = _store$getState40.BasicInfo,\n        pageStatus = _store$getState40.pageStatus;\n      var url = \"/webapp/vacations/tour/travelintention\";\n      var params = {\n        outtype: BasicInfo.isDiyfhxsdp ? \"diy\" : \"tour\",\n        subchannelid: 12,\n        sourcetype: 2,\n        productid: pageStatus.activeProductId || BasicInfo.ProductId,\n        dcityid: BasicInfo.DepartureId,\n        destid: BasicInfo.DestCityId,\n        dest: BasicInfo.DestCityName\n      };\n      ctx.jumpH5({\n        url: url,\n        params: params\n      });\n    },\n    // \n    handleGoLargeGroupIntention: function handleGoLargeGroupIntention() {\n      var _store$getState41 = store.getState(),\n        BasicInfo = _store$getState41.BasicInfo,\n        pageStatus = _store$getState41.pageStatus;\n      var url = \"/webapp/vacations/tour/adjustintention\";\n      var params = {\n        productId: pageStatus.activeProductId,\n        departcityid: BasicInfo.DepartureId,\n        large: 1\n      };\n      ctx.jumpH5({\n        url: url,\n        params: params\n      });\n    },\n    // \n    handleToggleCouponMask: function handleToggleCouponMask(isShowCouponMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowCouponMask: isShowCouponMask\n      });\n    },\n    // \n    handleToggleGatherInfoMask: function handleToggleGatherInfoMask(isShowGatherInfoMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowGatherInfoMask: isShowGatherInfoMask\n      });\n    },\n    // \n    handleTogglePromotionMask: function handleTogglePromotionMask(isShowPromotionMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowPromotionMask: isShowPromotionMask\n      });\n      isShowPromotionMask && sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    // \n    handleToggleCreditMask: function handleToggleCreditMask(isShowCreditMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowCreditMask: isShowCreditMask\n      });\n    },\n    // \n    handleToggleServiceTagMask: function handleToggleServiceTagMask(isShowServiceTagMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowServiceTagMask: isShowServiceTagMask\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: isShowServiceTagMask ? \"\" : \"\"\n      });\n    },\n    // \n    handleToggleSpecialBrandMask: function handleToggleSpecialBrandMask(isShowSpecialBrandMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowSpecialBrandMask: isShowSpecialBrandMask\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: isShowSpecialBrandMask ? \"\" : \"\"\n      });\n    },\n    // \n    handleToggleGoldGuideMask: function handleToggleGoldGuideMask(isShowGoldGuideMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowGoldGuideMask: isShowGoldGuideMask\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: isShowGoldGuideMask ? \"\" : \"\"\n      });\n    },\n    //  Tpal \n    handleToggleTpalMask: function handleToggleTpalMask(isShowTpalMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowTpalMask: isShowTpalMask\n      });\n      sendUsrClickKMLog({\n        scene: \"Tpal\",\n        value: isShowTpalMask ? \"\" : \"\"\n      });\n    },\n    // H5\n    handleToggleH5PageMask: function handleToggleH5PageMask(_ref53) {\n      var isShowH5PageMask = _ref53.isShowH5PageMask,\n        H5PageMaskUrl = _ref53.H5PageMaskUrl;\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowH5PageMask: isShowH5PageMask,\n        H5PageMaskUrl: H5PageMaskUrl\n      });\n      sendUsrClickKMLog({\n        scene: \"H5\",\n        value: isShowH5PageMask ? \"\" : \"\"\n      });\n    },\n    // \n    handleToggleCustomerServiceMask: function handleToggleCustomerServiceMask(isShowCustomerServiceMask) {\n      handlers.handleHideFavoriteMenu();\n      if (ctx.Platform === \"H5\" || ctx.Platform === \"Taro\") {\n        var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n        UPDATE_POP_STATUS({\n          isShowCustomerServiceMask: isShowCustomerServiceMask\n        });\n      } else {\n        var _store$getState42 = store.getState(),\n          imEntryInfo = _store$getState42.imEntryInfo,\n          BasicInfo = _store$getState42.BasicInfo,\n          actionIdSuffix = _store$getState42.actionIdSuffix,\n          pageStatus = _store$getState42.pageStatus,\n          pageId = _store$getState42.pageId;\n        var isCruise = BasicInfo.isCruise;\n        if (!imEntryInfo) {\n          return;\n        }\n        var imInfo = imEntryInfo.imInfo,\n          serviceInfo = imEntryInfo.serviceInfo;\n        var mobileServiceTime = imInfo.mobileServiceTime,\n          afterSaleServiceTime = imInfo.afterSaleServiceTime,\n          mobile = imInfo.mobile,\n          mobileCode = imInfo.mobileCode,\n          afterSaleTel = imInfo.afterSaleTel,\n          afterSaleExtTel = imInfo.afterSaleExtTel,\n          imSwitch = imInfo.imSwitch,\n          inquiry = imInfo.inquiry,\n          imServiceTime = imInfo.imServiceTime;\n\n        // \n        var beforeSalePhoneNumber = mobile;\n        if (mobileCode) {\n          beforeSalePhoneNumber = \"\".concat(mobile, \",\").concat(mobileCode);\n        }\n        beforeSalePhoneNumber = String(beforeSalePhoneNumber).split(\"-\").join(\"\"); // \n\n        // \n        var afterSalePhoneNumber = afterSaleTel;\n        if (mobileCode) {\n          afterSalePhoneNumber = \"\".concat(afterSaleTel, \",\").concat(afterSaleExtTel);\n        }\n        afterSalePhoneNumber = String(afterSalePhoneNumber).split(\"-\").join(\"\"); // \n\n        var consultModuleDataList = [];\n\n        // \n        var servicePersonText = \"\";\n        if (serviceInfo && serviceInfo.shortServiceToast && serviceInfo.shortServiceToast === \"\") {\n          servicePersonText = \"\";\n        }\n        if (imSwitch) {\n          var jumpUrl = getJumpIMUrl();\n          consultModuleDataList.push({\n            consultItemDataList: [{\n              itemDescription: isCruise ? \"\".concat(!!imServiceTime ? \"\\u670D\\u52A1\\u65F6\\u95F4\\uFF1A\".concat(imServiceTime, \"\\n\") : '').concat(servicePersonText, \"\\u4E13\\u5458\\u63D0\\u4F9B\\u5728\\u7EBF\\u670D\\u52A1\\uFF0C\\u975E\\u5DE5\\u4F5C\\u65F6\\u95F4\\u53EF\\u62E8\\u6253\\u7535\\u8BDD\\u8054\\u7CFB\\u6211\\u4EEC\") : \"\".concat(!!imServiceTime ? \"\\u670D\\u52A1\\u65F6\\u95F4\\uFF1A\".concat(imServiceTime, \"\\n\") : '').concat(servicePersonText, \"\\u4E13\\u5458\\u63D0\\u4F9B\\u5728\\u7EBF\\u670D\\u52A1\\uFF0C\\u89E3\\u7B54\\u5EA6\\u5047\\u76F8\\u5173\\u95EE\\u9898\"),\n              itemType: \"IM\",\n              jumpUrl: jumpUrl\n            }],\n            moduleTitle: \"\"\n          });\n        }\n        if (inquiry && (!!beforeSalePhoneNumber || !!afterSalePhoneNumber)) {\n          var consultItemDataList = [];\n          if (!!mobile && !!beforeSalePhoneNumber) {\n            consultItemDataList.push({\n              itemTitle: \"\",\n              itemDescription: \"\".concat(!!mobileServiceTime ? \"\\u670D\\u52A1\\u65F6\\u95F4\\uFF1A\".concat(mobileServiceTime, \"\\n\") : '', \"\\u7535\\u8BDD\\u63A5\\u901A\\u540E\\uFF0C\\u8BF7\\u544A\\u77E5\\u5BA2\\u670D\\u4EA7\\u54C1\\u7F16\\u53F7: \").concat(BasicInfo.ProductId),\n              itemLightDescriptionList: [\"\".concat(BasicInfo.ProductId)],\n              destinationNumber: mobile,\n              channelNumber: mobileCode || \"\",\n              destinationNumberDisplay: beforeSalePhoneNumber,\n              itemType: \"PSTN\",\n              locationGlobalId: \"1\",\n              locationName: \"\"\n            });\n          }\n          if (!!afterSaleTel && !!afterSalePhoneNumber) {\n            consultItemDataList.push({\n              itemTitle: \"\",\n              itemDescription: \"\".concat(!!afterSaleServiceTime ? \"\\u670D\\u52A1\\u65F6\\u95F4\\uFF1A\".concat(afterSaleServiceTime, \"\\n\") : '', \"\\u5982\\u60A8\\u8BA2\\u5355\\u5DF2\\u63D0\\u4EA4\\uFF0C\\u53EF\\u8054\\u7CFB\\u552E\\u540E\\u5BA2\\u670D\\u67E5\\u8BE2\\u53CA\\u4FEE\\u6539\"),\n              destinationNumber: afterSaleTel,\n              channelNumber: afterSaleExtTel || \"\",\n              destinationNumberDisplay: afterSalePhoneNumber,\n              itemType: \"PSTN\",\n              locationGlobalId: \"1\",\n              locationName: \"\"\n            });\n          }\n          consultModuleDataList.push({\n            consultItemDataList: consultItemDataList,\n            moduleTitle: \"\"\n          });\n        }\n        ctx.Business.doBusinessJob(10, \"100011\", {\n          widgetTitle: \"\",\n          consultModuleDataList: consultModuleDataList,\n          traceContent: \"\".concat(actionIdSuffix, \"-popups\"),\n          pageId: pageId\n        }, new Date().valueOf().toString(), function () {});\n      }\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    // H5\n    handleGoSelectPhoneCode: function handleGoSelectPhoneCode(countryInfo) {\n      var url = \"/webapp/vacations/tour/order_phone\";\n      var params = countryInfo;\n      jumpH5({\n        url: url,\n        params: params\n      });\n    },\n    // H5\n    handleSubmitProposalOrder: function () {\n      var _handleSubmitProposalOrder = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee45(proposalOrderInfo, countryInfo) {\n        var UPDATE_PROPOSAL_ORDER_STATUS, UPDATE_PROPOSAL_ORDER_INFO, TrackOrderId;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee45$(_context45) {\n          while (1) switch (_context45.prev = _context45.next) {\n            case 0:\n              // if (this.isFetchingCreateOrder) {\n              //     return\n              // }\n              UPDATE_PROPOSAL_ORDER_STATUS = actions.UPDATE_PROPOSAL_ORDER_STATUS, UPDATE_PROPOSAL_ORDER_INFO = actions.UPDATE_PROPOSAL_ORDER_INFO;\n              UPDATE_PROPOSAL_ORDER_INFO(proposalOrderInfo);\n              ctx.showLoading();\n              // this.isFetchingCreateOrder = true\n              _context45.next = 5;\n              return fetchCreateProposalOrder(proposalOrderInfo, countryInfo);\n            case 5:\n              TrackOrderId = _context45.sent;\n              if (TrackOrderId) {\n                ctx.showToast(\"\");\n                UPDATE_PROPOSAL_ORDER_STATUS(true);\n                ctx.hideLoading();\n                // this.isFetchingCreateOrder = false\n              } else {\n                ctx.showToast(\"\");\n                ctx.hideLoading();\n                // this.isFetchingCreateOrder = false\n              }\n              return _context45.abrupt(\"return\", TrackOrderId);\n            case 8:\n            case \"end\":\n              return _context45.stop();\n          }\n        }, _callee45);\n      }));\n      function handleSubmitProposalOrder(_x19, _x20) {\n        return _handleSubmitProposalOrder.apply(this, arguments);\n      }\n      return handleSubmitProposalOrder;\n    }(),\n    // H5 \n    handleToggleProposalOrderMask: function handleToggleProposalOrderMask(isShowProposalOrderMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowProposalOrderMask: isShowProposalOrderMask\n      });\n\n      // \n      handlers.handleToggleCustomerServiceMask(!isShowProposalOrderMask);\n    },\n    // \n    handleTogglePriceTipMask: function handleTogglePriceTipMask(isShowPriceTipMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowPriceTipMask: isShowPriceTipMask\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: isShowPriceTipMask ? \"\" : \"\"\n      });\n    },\n    // \n    handleToggleUrgentMask: function handleToggleUrgentMask(isShowUrgentMask) {\n      var _store$getState43 = store.getState(),\n        emotionalCues = _store$getState43.emotionalCues,\n        BasicInfo = _store$getState43.BasicInfo;\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowUrgentMask: isShowUrgentMask\n      });\n      var jsonData = emotionalCues.urgentInfo.map(function (item, index) {\n        var RichContent = item.RichContent,\n          Title = item.Title;\n        return {\n          key: \"\\u516C\\u544A\\u8BE6\\u60C5\".concat(index + 1, \": \").concat(Title),\n          value: RichContent\n        };\n      });\n      ctx.sendKMLog({\n        attrs: [{\n          key: \"productId\",\n          value: BasicInfo.ProductId\n        }],\n        scene: \"\",\n        action: \"usr_click\",\n        value: isShowUrgentMask ? \"\" : \"\",\n        jsonData: isShowUrgentMask ? jsonData : null\n      });\n    },\n    handleTogglePreSaleNoticeMask: function handleTogglePreSaleNoticeMask(info) {\n      var _store$getState44 = store.getState(),\n        BasicInfo = _store$getState44.BasicInfo;\n      var TOGGLE_PRESALE_NOTICE_MASK = actions.TOGGLE_PRESALE_NOTICE_MASK;\n      TOGGLE_PRESALE_NOTICE_MASK(info);\n      ctx.sendKMLog({\n        attrs: [{\n          key: \"productId\",\n          value: BasicInfo.ProductId\n        }],\n        scene: \"\",\n        action: \"usr_click\",\n        value: info.status ? \"\" : \"\"\n      });\n    },\n    //  GO \n    handleToggleGODetailMask: function handleToggleGODetailMask(isShowGODetailMask) {\n      var _store$getState45 = store.getState(),\n        BasicInfo = _store$getState45.BasicInfo;\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowGODetailMask: isShowGODetailMask\n      });\n      ctx.sendKMLog({\n        attrs: [{\n          key: \"productId\",\n          value: BasicInfo.ProductId\n        }],\n        scene: \"GO\",\n        action: \"usr_click\",\n        value: isShowGODetailMask ? \"\" : \"\"\n      });\n    },\n    handleToggleTpalMemberMask: function handleToggleTpalMemberMask(isShowTpalMemberMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowTpalMemberMask: isShowTpalMemberMask\n      });\n    },\n    // \n    handleToggleScenicMask: function handleToggleScenicMask(isShowScenicMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowScenicMask: isShowScenicMask\n      });\n    },\n    handleToggleTrafficPriceTipMask: function handleToggleTrafficPriceTipMask(isShowTrafficPriceTipMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowTrafficPriceTipMask: isShowTrafficPriceTipMask\n      });\n    },\n    /** / */\n    handleRouteModeChange: function handleRouteModeChange() {\n      var TOGGLE_ROUTE_MODE = actions.TOGGLE_ROUTE_MODE;\n      TOGGLE_ROUTE_MODE();\n    },\n    /**  /  */\n    handleToggleCalendarPop: function handleToggleCalendarPop(isShowCalendarPop) {\n      var _store$getState46 = store.getState(),\n        BasicInfo = _store$getState46.BasicInfo;\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowCalendarPop: isShowCalendarPop\n      });\n      if (!isShowCalendarPop) {\n        var _store$getState47 = store.getState(),\n          isShow = _store$getState47.isShowCalendarPop;\n        if (!isShow) {\n          ctx.sendKMLog({\n            attrs: [{\n              key: \"productId\",\n              value: BasicInfo.ProductId\n            }],\n            module: \"\",\n            action: \"usr_click\",\n            value: \"\"\n          });\n        }\n      }\n    },\n    handleTogglePresaleCalendarPop: function handleTogglePresaleCalendarPop(isShowPresaleCalendarPop) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowPresaleCalendarPop: isShowPresaleCalendarPop\n      });\n    },\n    /**  */\n    handleToggleCruisePriceDetail: function handleToggleCruisePriceDetail(isShowCruisePriceDetail) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowCruisePriceDetail: isShowCruisePriceDetail\n      });\n    },\n    /**  */\n    handleToggleMemberShipMask: function handleToggleMemberShipMask(isShowMemberShipMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowMemberShipMask: isShowMemberShipMask\n      });\n    },\n    /**  */\n    handleToggleScenicExcludingFeeMask: function handleToggleScenicExcludingFeeMask(isShowScenicExcludingFeeMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowScenicExcludingFeeMask: isShowScenicExcludingFeeMask\n      });\n    },\n    /**  */\n    handleToggleThemeDifficultyMask: function handleToggleThemeDifficultyMask(isShowThemeDifficultyMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowThemeDifficultyMask: isShowThemeDifficultyMask\n      });\n    },\n    /**  */\n    handleSwitchRoomType: function handleSwitchRoomType(RoomType) {\n      var _ClassRooms$RoomType, _RoomInfos$find, _RoomInfos$find2;\n      var _store$getState48 = store.getState(),\n        CruiseRoomInfo = _store$getState48.CruiseRoomInfo,\n        BasicInfo = _store$getState48.BasicInfo;\n      var SET_CUR_ROOMTYPE = actions.SET_CUR_ROOMTYPE;\n      var ClassRooms = CruiseRoomInfo.ClassRooms,\n        curRoomType = CruiseRoomInfo.curRoomType,\n        RoomInfos = CruiseRoomInfo.RoomInfos;\n      if ((_ClassRooms$RoomType = ClassRooms[RoomType]) !== null && _ClassRooms$RoomType !== void 0 && _ClassRooms$RoomType.length) {\n        SET_CUR_ROOMTYPE(RoomType);\n      } else {\n        fetchCruiseRoomInfo({\n          RoomType: RoomType\n        });\n      }\n      // \n      var valueName = (_RoomInfos$find = RoomInfos.find(function (v) {\n        return v.RoomType === RoomType;\n      })) === null || _RoomInfos$find === void 0 ? void 0 : _RoomInfos$find.Name;\n      var valueText = \"\".concat(valueName, \"\\uFF08\").concat(RoomType, \"\\uFF09\");\n      var beforeName = (_RoomInfos$find2 = RoomInfos.find(function (v) {\n        return v.RoomType === curRoomType;\n      })) === null || _RoomInfos$find2 === void 0 ? void 0 : _RoomInfos$find2.Name;\n      var beforeText = \"\".concat(beforeName, \"\\uFF08\").concat(curRoomType, \"\\uFF09\");\n      traceKMLogAction({\n        attrs: [{\n          key: \"productId\",\n          value: String(BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.ProductId)\n        }],\n        scene: \"\",\n        role: platform/* RoleType.usr */.GD.usr,\n        action: platform/* ActionType.change */.Us.change,\n        value: valueText,\n        before: beforeText\n      });\n    },\n    /**  */\n    handleSelectRoomTag: function handleSelectRoomTag(Tag) {\n      var _selectedTags$curRoom;\n      var SET_SELECT_ROOM_TAG = actions.SET_SELECT_ROOM_TAG;\n      SET_SELECT_ROOM_TAG(Tag);\n      var _store$getState49 = store.getState(),\n        CruiseRoomInfo = _store$getState49.CruiseRoomInfo,\n        BasicInfo = _store$getState49.BasicInfo;\n      var selectedTags = CruiseRoomInfo.selectedTags,\n        curRoomType = CruiseRoomInfo.curRoomType;\n      fetchCruiseRoomInfo({\n        RoomType: curRoomType,\n        Tags: selectedTags[curRoomType]\n      });\n      var tags = (_selectedTags$curRoom = selectedTags[curRoomType]) === null || _selectedTags$curRoom === void 0 || (_selectedTags$curRoom = _selectedTags$curRoom.map(function (tag) {\n        return tag.Name;\n      })) === null || _selectedTags$curRoom === void 0 ? void 0 : _selectedTags$curRoom.join(\",\");\n      traceKMLogAction({\n        attrs: [{\n          key: \"productId\",\n          value: String(BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.ProductId)\n        }],\n        scene: \"\",\n        role: platform/* RoleType.usr */.GD.usr,\n        action: platform/* ActionType.change */.Us.change,\n        value: tags || \"-\"\n      });\n    },\n    /**  */\n    handleResetRoomTag: function () {\n      var _handleResetRoomTag = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee46() {\n        var RESET_SELECT_ROOM_TAG, _store$getState50, CruiseRoomInfo, curRoomType;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee46$(_context46) {\n          while (1) switch (_context46.prev = _context46.next) {\n            case 0:\n              RESET_SELECT_ROOM_TAG = actions.RESET_SELECT_ROOM_TAG;\n              RESET_SELECT_ROOM_TAG();\n              _store$getState50 = store.getState(), CruiseRoomInfo = _store$getState50.CruiseRoomInfo;\n              curRoomType = CruiseRoomInfo.curRoomType;\n              _context46.next = 6;\n              return fetchCruiseRoomInfo({\n                RoomType: curRoomType,\n                Tags: []\n              });\n            case 6:\n            case \"end\":\n              return _context46.stop();\n          }\n        }, _callee46);\n      }));\n      function handleResetRoomTag() {\n        return _handleResetRoomTag.apply(this, arguments);\n      }\n      return handleResetRoomTag;\n    }(),\n    /**  /  */\n    handleToggleOvaryRoomDetail: function handleToggleOvaryRoomDetail(OvaryRoomDetailPopId) {\n      var UPDATE_OVARYROOM_DETAIL = actions.UPDATE_OVARYROOM_DETAIL;\n      UPDATE_OVARYROOM_DETAIL(OvaryRoomDetailPopId);\n    },\n    /**  /  */\n    handleToggleCruiseJourneyInfo: function handleToggleCruiseJourneyInfo(CruiseJourneyTourId) {\n      var UPDATE_CRUISE_JOURNEY_DETAIL = actions.UPDATE_CRUISE_JOURNEY_DETAIL;\n      UPDATE_CRUISE_JOURNEY_DETAIL(CruiseJourneyTourId);\n    },\n    /**  /  */\n    handleToggleOvaryRoomPriceInfo: function handleToggleOvaryRoomPriceInfo(PriceDesc) {\n      var UPDATE_OVARYROOM_PRICE_INFO = actions.UPDATE_OVARYROOM_PRICE_INFO;\n      UPDATE_OVARYROOM_PRICE_INFO(PriceDesc);\n    },\n    /**  /  */\n    handleToggleSeaCruiseInfo: function handleToggleSeaCruiseInfo(isShowSeaCruiseInfo) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowSeaCruiseInfo: isShowSeaCruiseInfo\n      });\n    },\n    /**  */\n    handleShare: function () {\n      var _handleShare = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee47() {\n        var _store$getState51, BasicInfo, pageStatus, currentRouteInfo, query, switchConfig, PriceInfo, SegmentInfo, isPureDiyfhxsdp, isCruise, params, shareUrl, shareImage, title, shareText, miniProgramImage, data, miniProgramPath, isExtendedStay, isShareWeapp, miniProgramID, miniprogramType, shareData;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee47$(_context47) {\n          while (1) switch (_context47.prev = _context47.next) {\n            case 0:\n              _store$getState51 = store.getState(), BasicInfo = _store$getState51.BasicInfo, pageStatus = _store$getState51.pageStatus, currentRouteInfo = _store$getState51.currentRouteInfo, query = _store$getState51.query, switchConfig = _store$getState51.switchConfig;\n              PriceInfo = currentRouteInfo.PriceInfo, SegmentInfo = currentRouteInfo.SegmentInfo;\n              isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp, isCruise = BasicInfo.isCruise;\n              params = {\n                productId: BasicInfo.ProductId,\n                departCityId: BasicInfo.DepartureId,\n                AllianceID: 263382,\n                SID: 1520352\n              };\n              if (pageStatus.isMultiLine) {\n                params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                  pkgType: \"multiline\",\n                  lineProductId: pageStatus.activeProductId\n                });\n              } else if (pageStatus.isMultiTravel) {\n                params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                  pkgType: \"multitravel\",\n                  alias: pageStatus.activeAlias\n                });\n              }\n              shareUrl = \"\".concat(HTTPS_HOST, \"/webapp/vacations/tour/detail?\").concat(querystring.stringify(params));\n              shareImage = getShareImage();\n              title = BasicInfo.Title;\n              shareText = \"\"; // \n              miniProgramImage = \"\".concat(HTTPS_HOST, \"/tour/service/getShareImg?productId=\").concat(BasicInfo.ProductId, \"&price=\").concat(PriceInfo.MinPrice); // \n              if (isCruise) {\n                shareUrl = \"\".concat(HTTPS_HOST, \"/webapp/vacations/tour/cruise?\").concat(querystring.stringify(params));\n                miniProgramImage = getShareImage();\n              }\n              data = JSON.stringify({\n                url: encodeURIComponent(shareUrl + \"&ctm_ref=vdc_ctm_grp_wechat_friend\")\n              });\n              miniProgramPath = \"cwx/component/cwebview/cwebview?data=\" + data;\n              isExtendedStay = isPureDiyfhxsdp && SegmentInfo && !SegmentInfo.IsFixSegment; //     H5 \n              isShareWeapp = !isExtendedStay && !isCruise; // \n              if (isShareWeapp) {\n                miniProgramPath = \"/pages/vacations/detail/index?\".concat(querystring.stringify(params));\n              }\n\n              // ID\n              miniProgramID = \"gh_36ada103ba97\"; //  miniProgramID = 'gh_ed50c9b1c981'\n              //   0: 1: 2:\n              miniprogramType = 0;\n              if (query && query.miniprogramtype) {\n                miniprogramType = query.miniprogramtype;\n              }\n              shareData = [{\n                shareType: \"WeixinFriend\",\n                imageUrl: miniProgramImage,\n                title: title,\n                text: shareText,\n                linkUrl: shareUrl + \"&ctm_ref=vdc_ctm_grp_wechat_friend\",\n                miniProgramPath: miniProgramPath,\n                miniProgramID: miniProgramID,\n                miniprogramType: miniprogramType\n              }, {\n                shareType: \"WeixinCircle\",\n                imageUrl: shareImage,\n                title: title,\n                text: shareText,\n                linkUrl: shareUrl + \"&ctm_ref=vdc_ctm_grp_wechat_moment\"\n              }, {\n                shareType: \"QQ\",\n                imageUrl: shareImage,\n                title: title,\n                text: shareText,\n                linkUrl: shareUrl + \"&ctm_ref=vdc_ctm_grp_qq_friend\"\n              }, {\n                shareType: \"QQZone\",\n                imageUrl: shareImage,\n                title: title,\n                text: shareText,\n                linkUrl: shareUrl + \"&ctm_ref=vdc_ctm_grp_qq_qzone\"\n              }, {\n                shareType: \"SinaWeibo\",\n                imageUrl: shareImage,\n                title: title,\n                text: shareText,\n                linkUrl: shareUrl + \"&ctm_ref=vdc_ctm_grp_weibo\"\n              }, {\n                shareType: \"SMS\",\n                imageUrl: shareImage,\n                title: title,\n                text: shareText,\n                linkUrl: shareUrl + \"&ctm_ref=vdc_ctm_grp_text\"\n              }, {\n                shareType: \"Email\",\n                imageUrl: shareImage,\n                title: title,\n                text: shareText,\n                linkUrl: shareUrl + \"&ctm_ref=vdc_ctm_grp_email\"\n              }, {\n                shareType: \"Copy\",\n                imageUrl: shareImage,\n                title: title,\n                text: shareText,\n                linkUrl: shareUrl + \"&ctm_ref=vdc_ctm_grp_copy\"\n              }, {\n                shareType: \"Default\",\n                imageUrl: shareImage,\n                title: title,\n                text: shareText,\n                linkUrl: shareUrl + \"&ctm_ref=vdc_ctm_grp_ctrip_friend\"\n              }];\n              ctx.Share.customShare({\n                dataList: shareData\n              });\n            case 21:\n            case \"end\":\n              return _context47.stop();\n          }\n        }, _callee47);\n      }));\n      function handleShare() {\n        return _handleShare.apply(this, arguments);\n      }\n      return handleShare;\n    }(),\n    handleToggleTrackOrderPop: function handleToggleTrackOrderPop(isShowTrackOrderPop) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowTrackOrderPop: isShowTrackOrderPop\n      });\n    },\n    // \n    handleSubmitTrackOrder: function () {\n      var _handleSubmitTrackOrder = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee48(selectedDate, phoneNumber) {\n        var dates, result;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee48$(_context48) {\n          while (1) switch (_context48.prev = _context48.next) {\n            case 0:\n              if (!(!selectedDate || !selectedDate.length)) {\n                _context48.next = 3;\n                break;\n              }\n              ctx.showToast(\"\");\n              return _context48.abrupt(\"return\");\n            case 3:\n              if (!(!phoneNumber || phoneNumber.length !== 11)) {\n                _context48.next = 6;\n                break;\n              }\n              ctx.showToast(\"\");\n              return _context48.abrupt(\"return\");\n            case 6:\n              dates = selectedDate.map(function (item) {\n                return vdate/* default.transformServerDate */.Z.transformServerDate(item);\n              });\n              _context48.next = 9;\n              return fetchCreateTrackOrder(dates, phoneNumber);\n            case 9:\n              result = _context48.sent;\n              if (result) {\n                handlers.handleToggleTrackOrderPop(false);\n              }\n            case 11:\n            case \"end\":\n              return _context48.stop();\n          }\n        }, _callee48);\n      }));\n      function handleSubmitTrackOrder(_x21, _x22) {\n        return _handleSubmitTrackOrder.apply(this, arguments);\n      }\n      return handleSubmitTrackOrder;\n    }(),\n    /**  action  trace  */\n    handleSendTraceLog: function handleSendTraceLog(key, value) {\n      var _store$getState52 = store.getState(),\n        pageId = _store$getState52.pageId,\n        pageStatus = _store$getState52.pageStatus;\n      ctx.traceKeyLog({\n        event_value: key,\n        event_bu: pageStatus.prodType,\n        page_id: pageId,\n        data: value\n      });\n    },\n    /**  traceLog  */\n    handleTraceLog: function handleTraceLog(key) {\n      var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      ctx.tracelog(key, value);\n    },\n    //  /  \n    handleShowSelfFundMask: function handleShowSelfFundMask(ScenicName, SelfFundedActivities) {\n      var TOGGLE_SELFFUND_MASK = actions.TOGGLE_SELFFUND_MASK;\n      TOGGLE_SELFFUND_MASK({\n        isShowSelfFundMask: true,\n        SelfFundedMaskInfo: {\n          ScenicName: ScenicName,\n          SelfFundedActivities: SelfFundedActivities\n        }\n      });\n    },\n    handleHideSelfFundMask: function handleHideSelfFundMask() {\n      var TOGGLE_SELFFUND_MASK = actions.TOGGLE_SELFFUND_MASK;\n      TOGGLE_SELFFUND_MASK({\n        isShowSelfFundMask: false\n      });\n    },\n    // \n    handleSetCruiseBookingInfo: function handleSetCruiseBookingInfo(data) {\n      var _store$getState53 = store.getState(),\n        CruiseDepartDate = _store$getState53.CruiseDepartDate,\n        BasicInfo = _store$getState53.BasicInfo;\n      var curDate = data.curDate;\n      var SET_CRUISE_BOOKING_INFO = actions.SET_CRUISE_BOOKING_INFO;\n      SET_CRUISE_BOOKING_INFO(data);\n\n      // \n      fetchCruiseRoomInfo();\n\n      // \n      if (CruiseDepartDate !== curDate) {\n        fecthCruiseTimingInfo(curDate);\n        fetchCruiseJourneyInfo();\n      }\n      traceKMLogAction({\n        attrs: [{\n          key: \"productId\",\n          value: String(BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.ProductId)\n        }],\n        scene: \"\",\n        role: platform/* RoleType.usr */.GD.usr,\n        action: platform/* ActionType.change */.Us.change,\n        value: curDate,\n        before: CruiseDepartDate\n      });\n    },\n    // \n    handleSelectCruiseRoom: function handleSelectCruiseRoom(RoomInfo, CountInfo) {\n      var UPDATE_SELECT_CRUISE_ROOM = actions.UPDATE_SELECT_CRUISE_ROOM,\n        TOGGLE_PASSENGR_TIP = actions.TOGGLE_PASSENGR_TIP;\n      UPDATE_SELECT_CRUISE_ROOM({\n        RoomInfo: RoomInfo,\n        CountInfo: CountInfo\n      });\n      var MaxSelectCount = RoomInfo.MaxSelectCount;\n      var SelectedCount = CountInfo.SelectedCount,\n        AdultCount = CountInfo.AdultCount;\n      if (MaxSelectCount < 5 && SelectedCount > MaxSelectCount) {\n        traceKMInterruption(\"\\u4EC5\\u5269\".concat(MaxSelectCount, \"\\u95F4\\uFF0C\\u65E0\\u6CD5\\u5BB9\\u7EB3\\u66F4\\u591A\\u5BA2\\u4EBA\"), \"vac_25001\", \"\");\n      }\n      if (SelectedCount > AdultCount) {\n        traceKMInterruption(\"1\", \"vac_35001\", \"\");\n      }\n\n      // \n      fetchOvaryRoomPrice();\n      TOGGLE_PASSENGR_TIP(false);\n    },\n    // \n    handleSetCanBookingErrorInfo: function handleSetCanBookingErrorInfo(_ref54) {\n      var ShoppingId = _ref54.ShoppingId,\n        TokenList = _ref54.TokenList;\n      var _store$getState54 = store.getState(),\n        BasicInfo = _store$getState54.BasicInfo,\n        curShoppingId = _store$getState54.ShoppingId;\n      var UPDATE_ERROR_CRUISE_TOKEN = actions.UPDATE_ERROR_CRUISE_TOKEN;\n      var isCruise = BasicInfo.isCruise;\n      if (!isCruise) {\n        return;\n      }\n      if (curShoppingId !== ShoppingId) {\n        return;\n      }\n      if (!TokenList) {\n        return;\n      }\n      UPDATE_ERROR_CRUISE_TOKEN({\n        TokenList: TokenList\n      });\n    },\n    // \n    handleToggleDiscountDetailMask: function handleToggleDiscountDetailMask(isShowDiscountDetailMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowDiscountDetailMask: isShowDiscountDetailMask\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: isShowDiscountDetailMask ? \"\" : \"\"\n      });\n    },\n    // \n    handleSelectNewProcessDate: function handleSelectNewProcessDate(date) {\n      var price = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      var isFromRecommandSchedule = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var _store$getState55 = store.getState(),\n        issyncLiistInfo = _store$getState55.issyncLiistInfo,\n        pageStatus = _store$getState55.pageStatus,\n        groupCard = _store$getState55.groupCard;\n      var SET_NEWPROCESS_SELECT_DATE = actions.SET_NEWPROCESS_SELECT_DATE;\n      SET_NEWPROCESS_SELECT_DATE(date);\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\".concat(isFromRecommandSchedule ? \"--\" : \"\").concat(date, \" / \").concat(price)\n      });\n\n      // \n      ctx.set(\"NewProcessSelectedDate\", date, 24 * 60 * 60);\n\n      // B\n      if (issyncLiistInfo) {\n        setSeletedDateForList(date);\n      }\n\n      //  ()\n      var activeProductId = pageStatus.activeProductId;\n      var curPreSaleProductId;\n      if (groupCard && groupCard.cards && groupCard.cards.length) {\n        var curPreSaleInfo = groupCard.cards.find(function (item) {\n          return item.productId === activeProductId;\n        });\n        if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n          curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n        }\n      }\n      if (curPreSaleProductId) {\n        ctx.remove(\"SelectPreSaleDate\");\n      }\n\n      // \n      if (ctx.Platform === \"RN\") {\n        fetchFlightDiscountDetail();\n        fetchProductScheduleDesc();\n      }\n    },\n    // \n    handleSetNewProcessCacheDate: function () {\n      var _handleSetNewProcessCacheDate = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee49() {\n        var isFromPageDidAppear,\n          SET_NEWPROCESS_SELECT_DATE,\n          _store$getState56,\n          query,\n          priceCalendarData,\n          pageStatus,\n          currentRouteInfo,\n          newProcessSelectDate,\n          groupCard,\n          BasicInfo,\n          cacheDate,\n          hasPreSaleDateCache,\n          activeProductId,\n          curPreSaleProductId,\n          curPreSaleInfo,\n          _activeProductId,\n          isMultiTravel,\n          activeAlias,\n          dailyMinPrice,\n          curLineAllDates,\n          SegmentInfo,\n          firstSegment,\n          curAliasAvailableDates,\n          productPrices,\n          _args49 = arguments;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee49$(_context49) {\n          while (1) switch (_context49.prev = _context49.next) {\n            case 0:\n              isFromPageDidAppear = _args49.length > 0 && _args49[0] !== undefined ? _args49[0] : false;\n              SET_NEWPROCESS_SELECT_DATE = actions.SET_NEWPROCESS_SELECT_DATE;\n              _store$getState56 = store.getState(), query = _store$getState56.query, priceCalendarData = _store$getState56.priceCalendarData, pageStatus = _store$getState56.pageStatus, currentRouteInfo = _store$getState56.currentRouteInfo, newProcessSelectDate = _store$getState56.newProcessSelectDate, groupCard = _store$getState56.groupCard, BasicInfo = _store$getState56.BasicInfo; // \n              _context49.next = 5;\n              return ctx.get(\"NewProcessSelectedDate\");\n            case 5:\n              cacheDate = _context49.sent;\n              _context49.next = 8;\n              return ctx.get(\"SelectPreSaleDate\");\n            case 8:\n              hasPreSaleDateCache = _context49.sent;\n              console.log(\"\", cacheDate, hasPreSaleDateCache);\n\n              //  pageDidAppear \n              if (!isFromPageDidAppear) {\n                _context49.next = 16;\n                break;\n              }\n              if (hasJumpedResouce) {\n                _context49.next = 15;\n                break;\n              }\n              return _context49.abrupt(\"return\");\n            case 15:\n              hasJumpedResouce = false;\n            case 16:\n              if (!(query && query.presaleid)) {\n                _context49.next = 19;\n                break;\n              }\n              if (!(!isFromPageDidAppear || !hasJumpedResouce)) {\n                _context49.next = 19;\n                break;\n              }\n              return _context49.abrupt(\"return\");\n            case 19:\n              // \n              activeProductId = pageStatus.activeProductId;\n              if (groupCard && groupCard.cards && groupCard.cards.length) {\n                curPreSaleInfo = groupCard.cards.find(function (item) {\n                  return item.productId === activeProductId;\n                });\n                if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n                  curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n                }\n              }\n              if (!curPreSaleProductId) {\n                _context49.next = 25;\n                break;\n              }\n              if (!hasPreSaleDateCache) {\n                _context49.next = 25;\n                break;\n              }\n              handlers.handleSelectPreSaleDate();\n              return _context49.abrupt(\"return\");\n            case 25:\n              if (priceCalendarData) {\n                _context49.next = 27;\n                break;\n              }\n              return _context49.abrupt(\"return\");\n            case 27:\n              if (!(cacheDate && cacheDate === newProcessSelectDate)) {\n                _context49.next = 29;\n                break;\n              }\n              return _context49.abrupt(\"return\");\n            case 29:\n              if (!cacheDate) {\n                _context49.next = 38;\n                break;\n              }\n              _activeProductId = pageStatus.activeProductId, isMultiTravel = pageStatus.isMultiTravel, activeAlias = pageStatus.activeAlias;\n              dailyMinPrice = priceCalendarData.dailyMinPrice;\n              curLineAllDates = currentRouteInfo.dailyMinPrices, SegmentInfo = currentRouteInfo.SegmentInfo; // \n              if (!pageStatus.isExtendedStay) {\n                _context49.next = 37;\n                break;\n              }\n              firstSegment = SegmentInfo === null || SegmentInfo === void 0 ? void 0 : SegmentInfo.Segments[0];\n              if (firstSegment.DepartureCityID !== firstSegment.DestinationCityID || !firstSegment.IsIncludeHotel) {\n                _context49.next = 37;\n                break;\n              }\n              return _context49.abrupt(\"return\");\n            case 37:\n              if (isMultiTravel) {\n                if (curLineAllDates && curLineAllDates.length) {\n                  curAliasAvailableDates = curLineAllDates.filter(function (item) {\n                    return item === null || item === void 0 ? void 0 : item.productPrices.some(function (line) {\n                      return line.alias === activeAlias;\n                    });\n                  });\n                  if (curAliasAvailableDates.some(function (item) {\n                    return item.date === cacheDate;\n                  })) {\n                    SET_NEWPROCESS_SELECT_DATE(cacheDate);\n                    // \n                    if (ctx.Platform === \"RN\") {\n                      fetchFlightDiscountDetail();\n                      fetchProductScheduleDesc();\n                    }\n                    ctx.sendKMLog({\n                      attrs: [{\n                        key: \"productId\",\n                        value: BasicInfo.ProductId\n                      }],\n                      scene: \"\",\n                      action: \"sys_change\",\n                      value: cacheDate\n                    });\n                  }\n                }\n              } else {\n                // console.log('checkNewProcessSelectedDateAvailable', curLineAllDates, dailyMinPrice, cacheDate, activeProductId, availableLine)\n                if (dailyMinPrice[cacheDate]) {\n                  productPrices = dailyMinPrice[cacheDate].productPrices;\n                  if (productPrices && productPrices.find(function (item) {\n                    return item.productId === _activeProductId;\n                  })) {\n                    SET_NEWPROCESS_SELECT_DATE(cacheDate);\n                    // \n                    if (ctx.Platform === \"RN\") {\n                      fetchFlightDiscountDetail();\n                      fetchProductScheduleDesc();\n                    }\n                    ctx.sendKMLog({\n                      attrs: [{\n                        key: \"productId\",\n                        value: BasicInfo.ProductId\n                      }],\n                      scene: \"\",\n                      action: \"sys_change\",\n                      value: cacheDate\n                    });\n                  }\n                }\n              }\n            case 38:\n            case \"end\":\n              return _context49.stop();\n          }\n        }, _callee49);\n      }));\n      function handleSetNewProcessCacheDate() {\n        return _handleSetNewProcessCacheDate.apply(this, arguments);\n      }\n      return handleSetNewProcessCacheDate;\n    }(),\n    // \n    handleCheckPreSaleDateCache: function () {\n      var _handleCheckPreSaleDateCache = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee50() {\n        var _store$getState57, query, pageStatus, groupCard, hasPreSaleDateCache, activeProductId, curPreSaleProductId, curPreSaleInfo;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee50$(_context50) {\n          while (1) switch (_context50.prev = _context50.next) {\n            case 0:\n              _store$getState57 = store.getState(), query = _store$getState57.query, pageStatus = _store$getState57.pageStatus, groupCard = _store$getState57.groupCard; // \n              _context50.next = 3;\n              return ctx.get(\"SelectPreSaleDate\");\n            case 3:\n              hasPreSaleDateCache = _context50.sent;\n              activeProductId = pageStatus.activeProductId;\n              if (groupCard && groupCard.cards && groupCard.cards.length) {\n                curPreSaleInfo = groupCard.cards.find(function (item) {\n                  return item.productId === activeProductId;\n                });\n                if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n                  curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n                }\n              }\n              if (!curPreSaleProductId) {\n                _context50.next = 10;\n                break;\n              }\n              if (!hasPreSaleDateCache) {\n                _context50.next = 10;\n                break;\n              }\n              handlers.handleSelectPreSaleDate();\n              return _context50.abrupt(\"return\");\n            case 10:\n            case \"end\":\n              return _context50.stop();\n          }\n        }, _callee50);\n      }));\n      function handleCheckPreSaleDateCache() {\n        return _handleCheckPreSaleDateCache.apply(this, arguments);\n      }\n      return handleCheckPreSaleDateCache;\n    }(),\n    // \n    handleToggleBookingLimitMask: function handleToggleBookingLimitMask(isShowBookingLimitMask) {\n      var UPDATE_POP_STATUS = actions.UPDATE_POP_STATUS;\n      UPDATE_POP_STATUS({\n        isShowBookingLimitMask: isShowBookingLimitMask\n      });\n    },\n    // \n    handleSelectPreSaleDate: function handleSelectPreSaleDate() {\n      var isUsrClick = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var _store$getState58 = store.getState(),\n        BasicInfo = _store$getState58.BasicInfo,\n        groupCard = _store$getState58.groupCard,\n        pageStatus = _store$getState58.pageStatus;\n      var SET_SELECT_PRESALE_DATE = actions.SET_SELECT_PRESALE_DATE;\n      SET_SELECT_PRESALE_DATE();\n\n      // Id\n      var curPreSaleProductId;\n      var curAlias;\n      if (groupCard && groupCard.cards && groupCard.cards.length) {\n        var curPreSaleInfo = groupCard.cards.find(function (item) {\n          return item.productId === pageStatus.activeProductId;\n        });\n        if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n          curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n          curAlias = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"][curPreSaleInfo.sortNumber - 1];\n        }\n      }\n      ctx.sendKMLog({\n        attrs: [{\n          key: \"productId\",\n          value: BasicInfo.ProductId\n        }],\n        scene: \"\",\n        action: isUsrClick ? \"usr_click\" : \"sys_change\",\n        value: \"\\u9884\\u552E\\u4EA7\\u54C1\".concat(curAlias, \"\\u7EBF\\uFF1A\").concat(curPreSaleProductId)\n      });\n\n      // \n      ctx.set(\"SelectPreSaleDate\", \"1\", 24 * 60 * 60);\n    },\n    handleSwitchD2DTab: function () {\n      var _handleSwitchD2DTab = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee51(curD2DSwitchType) {\n        var _store$getState59, BasicInfo, pageStatus, copiedNewProductState, ParentsProductList, ChildrenProductList, SWITCH_BACKTO_NEW_PRODUCT, SWITCH_BACKTO_ORIGINAL_PRODUCT, UPDATE_D2DSWITCH_STATUS, SET_D2DSWITCH_LOADING;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee51$(_context51) {\n          while (1) switch (_context51.prev = _context51.next) {\n            case 0:\n              _store$getState59 = store.getState(), BasicInfo = _store$getState59.BasicInfo, pageStatus = _store$getState59.pageStatus, copiedNewProductState = _store$getState59.copiedNewProductState, ParentsProductList = _store$getState59.ParentsProductList, ChildrenProductList = _store$getState59.ChildrenProductList;\n              SWITCH_BACKTO_NEW_PRODUCT = actions.SWITCH_BACKTO_NEW_PRODUCT, SWITCH_BACKTO_ORIGINAL_PRODUCT = actions.SWITCH_BACKTO_ORIGINAL_PRODUCT;\n              if (!(curD2DSwitchType === pageStatus.curD2DSwitchType)) {\n                _context51.next = 4;\n                break;\n              }\n              return _context51.abrupt(\"return\");\n            case 4:\n              UPDATE_D2DSWITCH_STATUS = actions.UPDATE_D2DSWITCH_STATUS, SET_D2DSWITCH_LOADING = actions.SET_D2DSWITCH_LOADING;\n              UPDATE_D2DSWITCH_STATUS(curD2DSwitchType);\n              SET_D2DSWITCH_LOADING(true);\n              if (!(curD2DSwitchType !== pageStatus.initD2DSwitchType)) {\n                _context51.next = 18;\n                break;\n              }\n              if (!copiedNewProductState) {\n                _context51.next = 12;\n                break;\n              }\n              // \n              SWITCH_BACKTO_NEW_PRODUCT();\n              _context51.next = 16;\n              break;\n            case 12:\n              // \n              ctx.showMaskLoading();\n              _context51.next = 15;\n              return fetchFullD2DProductInfo();\n            case 15:\n              ctx.hideMaskLoading();\n            case 16:\n              _context51.next = 19;\n              break;\n            case 18:\n              // \n              SWITCH_BACKTO_ORIGINAL_PRODUCT();\n            case 19:\n              SET_D2DSWITCH_LOADING(false);\n              ctx.sendKMLog({\n                attrs: [{\n                  key: \"productId\",\n                  value: BasicInfo.ProductId\n                }],\n                scene: \"TAB\",\n                action: \"usr_click\",\n                value: curD2DSwitchType === 1 ? \"\" : \"\"\n              });\n            case 21:\n            case \"end\":\n              return _context51.stop();\n          }\n        }, _callee51);\n      }));\n      function handleSwitchD2DTab(_x23) {\n        return _handleSwitchD2DTab.apply(this, arguments);\n      }\n      return handleSwitchD2DTab;\n    }(),\n    /************************* Go to Link **************************/\n    handleGoBooking: function handleGoBooking() {\n      var selectedDate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      var fromMoreDate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      handlers.handleHideFavoriteMenu();\n      var _store$getState60 = store.getState(),\n        BookInfo = _store$getState60.BookInfo,\n        ScheduleInfo = _store$getState60.ScheduleInfo,\n        pageStatus = _store$getState60.pageStatus,\n        countDownStatus = _store$getState60.countDownStatus,\n        BasicInfo = _store$getState60.BasicInfo;\n      if (!ScheduleInfo || !BookInfo) {\n        return;\n      }\n      if (!BookInfo.IsBook || !ScheduleInfo.HasInventory) {\n        return;\n      }\n\n      // \n      if (pageStatus.isSetCountDown && countDownStatus && countDownStatus.Status !== \"start\") {\n        return;\n      }\n\n      // \n      var SET_CALENDAR_SELECTED_DATE = actions.SET_CALENDAR_SELECTED_DATE;\n      SET_CALENDAR_SELECTED_DATE(selectedDate);\n\n      //  storage \n      ctx.Storage.save({\n        key: \"TOUR_DETAIL_JUMP_CALENDAR\",\n        value: \"1\",\n        domain: \"tour\",\n        expires: 600\n      });\n      handlers.handleToggleCalendarPop(true);\n      if (selectedDate) {\n        ctx.sendKMLog({\n          attrs: [{\n            key: \"productId\",\n            value: BasicInfo.ProductId\n          }],\n          scene: \"\",\n          action: \"usr_click\",\n          value: selectedDate\n        });\n      } else {\n        ctx.sendKMLog({\n          attrs: [{\n            key: \"productId\",\n            value: BasicInfo.ProductId\n          }],\n          action: \"usr_click\",\n          value: fromMoreDate ? \"\" : \"\"\n        });\n      }\n    },\n    handleGoCalendarPage: function handleGoCalendarPage(_ref55) {\n      var ShoppingId = _ref55.ShoppingId,\n        alias = _ref55.alias,\n        line = _ref55.line;\n      var _store$getState61 = store.getState(),\n        BasicInfo = _store$getState61.BasicInfo,\n        BookInfo = _store$getState61.BookInfo,\n        pageStatus = _store$getState61.pageStatus,\n        query = _store$getState61.query,\n        LocationInfo = _store$getState61.LocationInfo,\n        CalendarSelectedDate = _store$getState61.CalendarSelectedDate,\n        ShoppingSelectedResources = _store$getState61.ShoppingSelectedResources,\n        isLogin = _store$getState61.isLogin,\n        pageSetting = _store$getState61.pageSetting,\n        wakenUpData = _store$getState61.wakenUpData,\n        liveCast = _store$getState61.liveCast,\n        pageId = _store$getState61.pageId,\n        SegmentInfo = _store$getState61.SegmentInfo;\n      var params = {\n        pdid: BasicInfo.ProductId,\n        //id\n        dcid: BasicInfo.DepartureId,\n        //id\n        scid: BasicInfo.SaleCityId,\n        shoppingid: ShoppingId,\n        startDate: new vdate/* default */.Z(vdate/* default.transformTimeStamp */.Z.transformTimeStamp(BookInfo.Start)).format(),\n        //\n        endDate: new vdate/* default */.Z(vdate/* default.transformTimeStamp */.Z.transformTimeStamp(BookInfo.End)).format(),\n        //\n        date: CalendarSelectedDate,\n        //\n        line: line,\n        //line\n        istour: !BasicInfo.isPureDiyfhxsdp,\n        iscruise: BasicInfo.isCruise,\n        detailpagename: ctx.RegisterPageName,\n        isnewshopping: 1,\n        newprocess: !BasicInfo.isCruise ? 1 : 0\n      };\n\n      //  alias\n      if (pageStatus.isMultiTravel) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          alias: alias\n        });\n      }\n\n      // \n      var showCompetition = !BasicInfo.isDiyfhxsdp && !BasicInfo.isCruise;\n      if (showCompetition) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          showCompetition: showCompetition\n        });\n      }\n\n      // \n      if (!BasicInfo.isCruise) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          stype: SegmentInfo.IsFixSegment ? 1 : 0\n        });\n      }\n\n      // , \n      var crhdepartname = query.crhdepartname,\n        crhdeparttype = query.crhdeparttype,\n        crhdestname = query.crhdestname,\n        crhdesttype = query.crhdesttype;\n      if (crhdepartname) {\n        if (LocationInfo && LocationInfo.LocationCityId && LocationInfo.LocationCityId === BasicInfo.DepartureId) {\n          params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n            crhdepartname: crhdepartname,\n            crhdeparttype: crhdeparttype,\n            crhdestname: crhdestname,\n            crhdesttype: crhdesttype\n          });\n        } else {\n          params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n            crhdepartname: BasicInfo.DepartureCityName,\n            crhdeparttype: 2,\n            crhdestname: crhdestname,\n            crhdesttype: crhdesttype\n          });\n        }\n      }\n\n      // \n      if (query.activitycode) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          activitycode: query.activitycode\n        });\n      }\n      if (query.qstagecount) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          qstagecount: query.qstagecount\n        });\n      }\n      if (query.fromhhtravel === \"1\") {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          fromhhtravel: 1\n        });\n      }\n\n      // \n      if (BasicInfo.isCruise && ShoppingSelectedResources && ShoppingSelectedResources.length) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          isnewshopping: 1\n        });\n      }\n\n      // \n      if (liveCast && liveCast.liveId) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          liveid: liveCast.liveId,\n          pageid: pageId\n        });\n      }\n\n      //  AI  query.traceid \n      checkQueryTraceId();\n\n      // /\n      var url = \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=price_calendar_new&\" + querystring.stringify(params);\n      var jumpFunc = function jumpFunc() {\n        ctx.openURL(url);\n      };\n      if (pageSetting && pageSetting.prefetch && pageSetting.prefetch.resource) {\n        var _pageSetting$prefetch = pageSetting.prefetch.resource,\n          newmodule = _pageSetting$prefetch.newmodule,\n          enabled = _pageSetting$prefetch.enabled,\n          expiredtime = _pageSetting$prefetch.expiredtime;\n        if (newmodule) {\n          var allianceid = wakenUpData.allianceid,\n            sid = wakenUpData.sid;\n          if (enabled && !!ShoppingId) {\n            jumpFunc = function jumpFunc() {\n              ctx.ResourceEntry.open(params, {\n                line: pageStatus.activeProductId,\n                departCityId: BasicInfo.DepartureId,\n                alias: alias,\n                shoppingid: ShoppingId,\n                allianceid: allianceid,\n                sid: sid,\n                clientid: ctx.Application.clientID,\n                usecouponstate: 0,\n                expiredtime: expiredtime,\n                showCompetition: showCompetition,\n                sourceFrom: query.fromhhtravel === \"1\" ? \"hhtravel\" : \"\"\n              });\n            };\n          } else {\n            url = \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=resource&\" + querystring.stringify(params);\n            jumpFunc = function jumpFunc() {\n              ctx.openURL(url);\n            };\n          }\n        }\n      }\n\n      // url =\n      //     'http://127.0.0.1:5389/index.ios.bundle?CRNModuleName=CTTourApp&CRNType=1&initialPage=price_calendar_new&' +\n      //     querystring.stringify(params)\n      console.log(\"==resource url==\", url);\n      if (!isLogin) {\n        if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n          ctx.login({\n            callback: function () {\n              var _callback2 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee52() {\n                return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee52$(_context52) {\n                  while (1) switch (_context52.prev = _context52.next) {\n                    case 0:\n                      _context52.next = 2;\n                      return fetchLoginUpdatedProductInfo();\n                    case 2:\n                    case \"end\":\n                      return _context52.stop();\n                  }\n                }, _callee52);\n              }));\n              function callback() {\n                return _callback2.apply(this, arguments);\n              }\n              return callback;\n            }()\n          });\n        } else {\n          UserLogin({\n            beforeCallback: function beforeCallback() {\n              jumpFunc();\n              setTimeout(function () {\n                handlers.handleToggleCalendarPop(false);\n              }, 500);\n            }\n          });\n        }\n      } else {\n        jumpFunc();\n        setTimeout(function () {\n          handlers.handleToggleCalendarPop(false);\n        }, 500);\n      }\n    },\n    // \n    handleGoResource_NewProcess: function handleGoResource_NewProcess(_ref56) {\n      var ShoppingId = _ref56.ShoppingId;\n      var _store$getState62 = store.getState(),\n        BasicInfo = _store$getState62.BasicInfo,\n        BookInfo = _store$getState62.BookInfo,\n        pageStatus = _store$getState62.pageStatus,\n        query = _store$getState62.query,\n        LocationInfo = _store$getState62.LocationInfo,\n        newProcessSelectDate = _store$getState62.newProcessSelectDate,\n        ShoppingSelectedResources = _store$getState62.ShoppingSelectedResources,\n        isLogin = _store$getState62.isLogin,\n        pageSetting = _store$getState62.pageSetting,\n        wakenUpData = _store$getState62.wakenUpData,\n        TourGroupInfo = _store$getState62.TourGroupInfo,\n        liveCast = _store$getState62.liveCast,\n        pageId = _store$getState62.pageId,\n        SegmentInfo = _store$getState62.SegmentInfo,\n        isSecKill = _store$getState62.isSecKill;\n      var UPDATE_STATE = actions.UPDATE_STATE;\n      var params = {\n        pdid: BasicInfo.ProductId,\n        //id\n        dcid: BasicInfo.DepartureId,\n        //id\n        scid: BasicInfo.SaleCityId,\n        shoppingid: ShoppingId,\n        startDate: new vdate/* default */.Z(vdate/* default.transformTimeStamp */.Z.transformTimeStamp(BookInfo.Start)).format(),\n        //\n        endDate: new vdate/* default */.Z(vdate/* default.transformTimeStamp */.Z.transformTimeStamp(BookInfo.End)).format(),\n        //\n        date: newProcessSelectDate,\n        //\n        line: pageStatus.activeProductId,\n        //line\n        istour: !BasicInfo.isPureDiyfhxsdp,\n        iscruise: BasicInfo.isCruise,\n        detailpagename: ctx.RegisterPageName,\n        isnewshopping: 1,\n        newprocess: 1\n      };\n\n      //  alias\n      var alias = undefined;\n      if (pageStatus.isMultiTravel) {\n        alias = pageStatus.activeAlias;\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          alias: alias\n        });\n      }\n\n      // \n      var showCompetition = !BasicInfo.isDiyfhxsdp && !BasicInfo.isCruise;\n      if (showCompetition) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          showCompetition: showCompetition\n        });\n      }\n\n      // \n      if (!BasicInfo.isCruise) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          stype: SegmentInfo.IsFixSegment ? 1 : 0\n        });\n      }\n      if (isSecKill) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          isSecKill: 1\n        });\n      }\n\n      // , \n      var crhdepartname = query.crhdepartname,\n        crhdeparttype = query.crhdeparttype,\n        crhdestname = query.crhdestname,\n        crhdesttype = query.crhdesttype;\n      if (crhdepartname) {\n        if (LocationInfo && LocationInfo.LocationCityId && LocationInfo.LocationCityId === BasicInfo.DepartureId) {\n          params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n            crhdepartname: crhdepartname,\n            crhdeparttype: crhdeparttype,\n            crhdestname: crhdestname,\n            crhdesttype: crhdesttype\n          });\n        } else {\n          params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n            crhdepartname: BasicInfo.DepartureCityName,\n            crhdeparttype: 2,\n            crhdestname: crhdestname,\n            crhdesttype: crhdesttype\n          });\n        }\n      }\n\n      // \n      if (query.activitycode) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          activitycode: query.activitycode\n        });\n      }\n      if (query.qstagecount) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          qstagecount: query.qstagecount\n        });\n      }\n      if (query.fromhhtravel === \"1\") {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          fromhhtravel: 1\n        });\n      }\n\n      // \n      if (BasicInfo.isCruise && ShoppingSelectedResources && ShoppingSelectedResources.length) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          isnewshopping: 1\n        });\n      }\n\n      // \n      if (liveCast && liveCast.liveId) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          liveid: liveCast.liveId,\n          pageid: pageId\n        });\n      }\n\n      //  AI  query.traceid \n      checkQueryTraceId();\n\n      // /\n      var url = \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=price_calendar_new&\" + querystring.stringify(params);\n      var jumpFunc = function jumpFunc() {\n        ctx.openURL(url);\n      };\n      if (ctx.Platform === \"RN\" && pageSetting && pageSetting.prefetch && pageSetting.prefetch.resource) {\n        var _pageSetting$prefetch2 = pageSetting.prefetch.resource,\n          newmodule = _pageSetting$prefetch2.newmodule,\n          enabled = _pageSetting$prefetch2.enabled,\n          expiredtime = _pageSetting$prefetch2.expiredtime;\n        if (newmodule) {\n          var allianceid = wakenUpData.allianceid,\n            sid = wakenUpData.sid;\n          if (enabled && !!ShoppingId) {\n            jumpFunc = function jumpFunc() {\n              ctx.ResourceEntry.open(params, {\n                line: pageStatus.activeProductId,\n                departCityId: BasicInfo.DepartureId,\n                alias: alias,\n                shoppingid: ShoppingId,\n                allianceid: allianceid,\n                sid: sid,\n                clientid: ctx.Application.clientID,\n                usecouponstate: 0,\n                expiredtime: expiredtime,\n                showCompetition: showCompetition,\n                sourceFrom: query.fromhhtravel === \"1\" ? \"hhtravel\" : \"\"\n              });\n            };\n          } else {\n            url = \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=resource&\" + querystring.stringify(params);\n            jumpFunc = function jumpFunc() {\n              ctx.openURL(url);\n            };\n          }\n        }\n      }\n\n      // url =\n      //     'http://127.0.0.1:5389/index.ios.bundle?CRNModuleName=CTTourApp&CRNType=1&initialPage=price_calendar_new&' +\n      //     querystring.stringify(params)\n      console.log(\"==resource url==\", url);\n\n      // H5 \n      if (ctx.Platform === \"H5\") {\n        var _location;\n        url = \"/webapp/vacations/tour/resourcenew\";\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          from: (_location = location) === null || _location === void 0 ? void 0 : _location.href\n        });\n\n        //  H5  bridge \n        if (ctx.isInWebviewH5() && !ctx.isInZTApp()) {\n          ctx.jumpH5InWebview({\n            url: url,\n            params: params\n          });\n          return;\n        }\n        jumpFunc = function jumpFunc() {\n          jumpH5({\n            url: url,\n            params: params\n          });\n        };\n\n        // APP  H5  crn \n        // if (ctx.isH5InCtripApp()) {\n        //   jumpFunc = () => {\n        //     let url =\n        //       \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=resource&\" +\n        //       querystring.stringify(params);\n        //     console.log(\"APP  H5  crn \", url);\n        //     ctx.openURL(url);\n        //   };\n        // }\n      }\n\n      // Taro \n      if (ctx.Platform === \"Taro\") {\n        var _location2;\n        url = \"/pages/vacations/resource/index\";\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          from: (_location2 = location) === null || _location2 === void 0 ? void 0 : _location2.href\n        });\n        jumpFunc = function jumpFunc() {\n          ctx.navigateTo({\n            url: url,\n            params: params\n          });\n        };\n      }\n      if (!isLogin) {\n        if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n          ctx.login({\n            callback: function () {\n              var _callback3 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee53() {\n                return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee53$(_context53) {\n                  while (1) switch (_context53.prev = _context53.next) {\n                    case 0:\n                      _context53.next = 2;\n                      return fetchLoginUpdatedProductInfo();\n                    case 2:\n                    case \"end\":\n                      return _context53.stop();\n                  }\n                }, _callee53);\n              }));\n              function callback() {\n                return _callback3.apply(this, arguments);\n              }\n              return callback;\n            }()\n          });\n        } else if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\" && !ctx.isH5InCtripApp()) {\n          var _url3 = \"/webapp/vacations/tour/resourcenew?\" + querystring.stringify(params);\n          ctx.handleH5Login({\n            fromUrl: _url3\n          });\n        } else {\n          UserLogin({\n            beforeCallback: function beforeCallback() {\n              UPDATE_STATE({\n                backFromResourcePage: true\n              });\n              // \n              hasJumpedResouce = true;\n              jumpFunc();\n            }\n          });\n        }\n      } else {\n        UPDATE_STATE({\n          backFromResourcePage: true\n        });\n        // \n        hasJumpedResouce = true;\n        jumpFunc();\n      }\n    },\n    //  3.0\n    handleGoResource_V3: function handleGoResource_V3(_ref57) {\n      var ShoppingId = _ref57.ShoppingId;\n      var _store$getState63 = store.getState(),\n        BasicInfo = _store$getState63.BasicInfo,\n        BookInfo = _store$getState63.BookInfo,\n        pageStatus = _store$getState63.pageStatus,\n        query = _store$getState63.query,\n        LocationInfo = _store$getState63.LocationInfo,\n        newProcessSelectDate = _store$getState63.newProcessSelectDate,\n        ShoppingSelectedResources = _store$getState63.ShoppingSelectedResources,\n        isLogin = _store$getState63.isLogin,\n        pageSetting = _store$getState63.pageSetting,\n        wakenUpData = _store$getState63.wakenUpData,\n        TourGroupInfo = _store$getState63.TourGroupInfo,\n        liveCast = _store$getState63.liveCast,\n        pageId = _store$getState63.pageId,\n        SegmentInfo = _store$getState63.SegmentInfo,\n        isSecKill = _store$getState63.isSecKill;\n      var UPDATE_STATE = actions.UPDATE_STATE;\n      var params = {\n        pdid: BasicInfo.ProductId,\n        //id\n        dcid: BasicInfo.DepartureId,\n        //id\n        scid: BasicInfo.SaleCityId,\n        shoppingid: ShoppingId,\n        startDate: new vdate/* default */.Z(vdate/* default.transformTimeStamp */.Z.transformTimeStamp(BookInfo.Start)).format(),\n        //\n        endDate: new vdate/* default */.Z(vdate/* default.transformTimeStamp */.Z.transformTimeStamp(BookInfo.End)).format(),\n        //\n        date: newProcessSelectDate,\n        //\n        line: pageStatus.activeProductId,\n        //line\n        istour: !BasicInfo.isPureDiyfhxsdp,\n        iscruise: BasicInfo.isCruise,\n        detailpagename: ctx.RegisterPageName\n      };\n\n      //  alias\n      var alias = undefined;\n      if (pageStatus.isMultiTravel) {\n        alias = pageStatus.activeAlias;\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          alias: alias\n        });\n      }\n\n      // \n      if (!BasicInfo.isCruise) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          stype: SegmentInfo.IsFixSegment ? 1 : 0\n        });\n      }\n      if (isSecKill) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          isSecKill: 1\n        });\n      }\n\n      // , \n      var crhdepartname = query.crhdepartname,\n        crhdeparttype = query.crhdeparttype,\n        crhdestname = query.crhdestname,\n        crhdesttype = query.crhdesttype;\n      if (crhdepartname) {\n        if (LocationInfo && LocationInfo.LocationCityId && LocationInfo.LocationCityId === BasicInfo.DepartureId) {\n          params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n            crhdepartname: crhdepartname,\n            crhdeparttype: crhdeparttype,\n            crhdestname: crhdestname,\n            crhdesttype: crhdesttype\n          });\n        } else {\n          params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n            crhdepartname: BasicInfo.DepartureCityName,\n            crhdeparttype: 2,\n            crhdestname: crhdestname,\n            crhdesttype: crhdesttype\n          });\n        }\n      }\n\n      // \n      if (query.activitycode) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          activitycode: query.activitycode\n        });\n      }\n      if (query.qstagecount) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          qstagecount: query.qstagecount\n        });\n      }\n      if (query.fromhhtravel === \"1\") {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          fromhhtravel: 1\n        });\n      }\n\n      // \n      if (BasicInfo.isCruise && ShoppingSelectedResources && ShoppingSelectedResources.length) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          isnewshopping: 1\n        });\n      }\n\n      // \n      if (liveCast && liveCast.liveId) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          liveid: liveCast.liveId,\n          pageid: pageId\n        });\n      }\n\n      //  AI  query.traceid \n      checkQueryTraceId();\n\n      // /\n      var url = \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=resource_v3&\" + querystring.stringify(params);\n      var jumpFunc = function jumpFunc() {\n        ctx.openURL(url);\n      };\n      console.log(\"==resource url==\", url);\n      if (!isLogin) {\n        if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n          ctx.login({\n            callback: function () {\n              var _callback4 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee54() {\n                return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee54$(_context54) {\n                  while (1) switch (_context54.prev = _context54.next) {\n                    case 0:\n                      _context54.next = 2;\n                      return fetchLoginUpdatedProductInfo();\n                    case 2:\n                    case \"end\":\n                      return _context54.stop();\n                  }\n                }, _callee54);\n              }));\n              function callback() {\n                return _callback4.apply(this, arguments);\n              }\n              return callback;\n            }()\n          });\n        } else if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\" && !ctx.isH5InCtripApp()) {\n          var _url4 = \"/webapp/vacations/tour/resourcenew?\" + querystring.stringify(params);\n          ctx.handleH5Login({\n            fromUrl: _url4\n          });\n        } else {\n          UserLogin({\n            beforeCallback: function beforeCallback() {\n              UPDATE_STATE({\n                backFromResourcePage: true\n              });\n              // \n              hasJumpedResouce = true;\n              jumpFunc();\n            }\n          });\n        }\n      } else {\n        UPDATE_STATE({\n          backFromResourcePage: true\n        });\n        // \n        hasJumpedResouce = true;\n        jumpFunc();\n      }\n    },\n    handleGoOrderPage: function () {\n      var _handleGoOrderPage = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee56(_ref58) {\n        var ShoppingId, _store$getState64, BasicInfo, pageStatus, query, isLogin, pageSetting, isSecKill, UPDATE_STATE, productId, departCityId, params, orderPageURL;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee56$(_context56) {\n          while (1) switch (_context56.prev = _context56.next) {\n            case 0:\n              ShoppingId = _ref58.ShoppingId;\n              _store$getState64 = store.getState(), BasicInfo = _store$getState64.BasicInfo, pageStatus = _store$getState64.pageStatus, query = _store$getState64.query, isLogin = _store$getState64.isLogin, pageSetting = _store$getState64.pageSetting, isSecKill = _store$getState64.isSecKill;\n              UPDATE_STATE = actions.UPDATE_STATE;\n              productId = pageStatus.activeProductId; //id\n              departCityId = BasicInfo.DepartureId; //id\n              try {\n                params = {\n                  productId: productId,\n                  departCityId: departCityId,\n                  shoppingId: ShoppingId,\n                  detailpagename: ctx.RegisterPageName,\n                  timestamp: new Date().valueOf(),\n                  flightTip: 0,\n                  productType: pageStatus.prodType,\n                  hasAirport: 0,\n                  //\n                  isnewshopping: 1 //\n                };\n\n                if (!BasicInfo.isCruise) {\n                  params.isQuickBooking = 1;\n                }\n\n                //  alias\n                if (pageStatus.isMultiTravel) {\n                  params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                    alias: pageStatus.activeAlias\n                  });\n                }\n                if (query.fromhhtravel === \"1\") {\n                  params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                    fromhhtravel: 1\n                  });\n                }\n                if (isSecKill) {\n                  params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                    isSecKill: 1\n                  });\n                }\n\n                // \n                if (query.activitycode) {\n                  params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                    activitycode: query.activitycode\n                  });\n                }\n                if (query.qstagecount) {\n                  params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                    qstagecount: query.qstagecount\n                  });\n                }\n                orderPageURL = \"/rn_tour_order/main.js?CRNModuleName=CTTourApp&CRNType=1&inavbarhidden=1&ishidenavbar=yes&initialPage=tour_orderv3&timestamp=\" + new Date().getTime();\n                if ((BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.PreSaleStatus) === 2) {\n                  orderPageURL = \"/rn_tour_order/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=order_presale&timestamp=\" + new Date().getTime();\n                }\n                if (ctx.Platform === \"H5\") {\n                  orderPageURL = \"/booking\";\n                }\n                if (ctx.Platform === \"Taro\") {\n                  orderPageURL = \"/pages/tourbooking/order/index\";\n                }\n\n                // \n                hasJumpedResouce = true;\n                if (!isLogin) {\n                  if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n                    ctx.login({\n                      callback: function () {\n                        var _callback5 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee55() {\n                          return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee55$(_context55) {\n                            while (1) switch (_context55.prev = _context55.next) {\n                              case 0:\n                                _context55.next = 2;\n                                return fetchLoginUpdatedProductInfo();\n                              case 2:\n                              case \"end\":\n                                return _context55.stop();\n                            }\n                          }, _callee55);\n                        }));\n                        function callback() {\n                          return _callback5.apply(this, arguments);\n                        }\n                        return callback;\n                      }()\n                    });\n                  } else {\n                    UserLogin({\n                      beforeCallback: function beforeCallback() {\n                        UPDATE_STATE({\n                          backFromOrderPage: true\n                        });\n                        ctx.goTo({\n                          url: orderPageURL,\n                          params: params\n                        });\n                        setTimeout(function () {\n                          handlers.handleToggleCalendarPop(false);\n                        }, 500);\n                      }\n                    });\n                  }\n                } else {\n                  UPDATE_STATE({\n                    backFromOrderPage: true\n                  });\n                  ctx.goTo({\n                    url: orderPageURL,\n                    params: params\n                  });\n                  setTimeout(function () {\n                    handlers.handleToggleCalendarPop(false);\n                  }, 500);\n                }\n              } catch (error) {\n                ctx.logPageError(\"handleBooking\", error);\n              }\n            case 6:\n            case \"end\":\n              return _context56.stop();\n          }\n        }, _callee56);\n      }));\n      function handleGoOrderPage(_x24) {\n        return _handleGoOrderPage.apply(this, arguments);\n      }\n      return handleGoOrderPage;\n    }(),\n    // \n    handleGoOrderPage_PreSale: function () {\n      var _handleGoOrderPage_PreSale = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee58(_ref59) {\n        var ShoppingId, PreSaleProductId, _store$getState65, BasicInfo, pageStatus, query, isLogin, pageSetting, departCityId, orderPageURL, params, _location3, url;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee58$(_context58) {\n          while (1) switch (_context58.prev = _context58.next) {\n            case 0:\n              ShoppingId = _ref59.ShoppingId, PreSaleProductId = _ref59.PreSaleProductId;\n              _store$getState65 = store.getState(), BasicInfo = _store$getState65.BasicInfo, pageStatus = _store$getState65.pageStatus, query = _store$getState65.query, isLogin = _store$getState65.isLogin, pageSetting = _store$getState65.pageSetting; // let productId = pageStatus.activeProductId //id\n              departCityId = BasicInfo.DepartureId; //id\n              try {\n                orderPageURL = \"/rn_tour_order/main.js?CRNModuleName=CTTourApp&CRNType=1&inavbarhidden=1&ishidenavbar=yes&initialPage=order_presale\";\n                if (ctx.Platform === \"H5\") {\n                  orderPageURL = \"/presale\";\n                }\n                if (ctx.Platform === \"Taro\") {\n                  orderPageURL = \"/webapp/vacations/tour/presale\";\n                }\n                params = {\n                  productId: PreSaleProductId,\n                  departCityId: departCityId,\n                  shoppingId: ShoppingId,\n                  detailpagename: ctx.RegisterPageName,\n                  productType: pageStatus.prodType\n                }; // \n                hasJumpedResouce = true;\n                if (!isLogin) {\n                  if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n                    ctx.login({\n                      callback: function () {\n                        var _callback6 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee57() {\n                          return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee57$(_context57) {\n                            while (1) switch (_context57.prev = _context57.next) {\n                              case 0:\n                                _context57.next = 2;\n                                return fetchLoginUpdatedProductInfo();\n                              case 2:\n                              case \"end\":\n                                return _context57.stop();\n                            }\n                          }, _callee57);\n                        }));\n                        function callback() {\n                          return _callback6.apply(this, arguments);\n                        }\n                        return callback;\n                      }()\n                    });\n                  } else if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\" && !ctx.isH5InCtripApp()) {\n                    params.from = (_location3 = location) === null || _location3 === void 0 ? void 0 : _location3.href;\n                    url = \"/webapp/vacations/tour/presale?\" + querystring.stringify(params);\n                    ctx.handleH5Login({\n                      fromUrl: url\n                    });\n                  } else {\n                    UserLogin({\n                      beforeCallback: function beforeCallback() {\n                        ctx.goTo({\n                          url: orderPageURL,\n                          params: params\n                        });\n                      }\n                    });\n                  }\n                } else {\n                  if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n                    ctx.jumpH5({\n                      url: orderPageURL,\n                      params: params\n                    });\n                  } else {\n                    ctx.goTo({\n                      url: orderPageURL,\n                      params: params\n                    });\n                  }\n                }\n              } catch (error) {\n                ctx.logPageError(\"handleGoOrderPage_PreSale\", error);\n              }\n            case 4:\n            case \"end\":\n              return _context58.stop();\n          }\n        }, _callee58);\n      }));\n      function handleGoOrderPage_PreSale(_x25) {\n        return _handleGoOrderPage_PreSale.apply(this, arguments);\n      }\n      return handleGoOrderPage_PreSale;\n    }(),\n    handleOrderBackError: function () {\n      var _handleOrderBackError = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee59(BackPageInfo) {\n        var TokenInfoList;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee59$(_context59) {\n          while (1) switch (_context59.prev = _context59.next) {\n            case 0:\n              TokenInfoList = BackPageInfo && BackPageInfo.TokenInfoList;\n              if (TokenInfoList !== null && TokenInfoList !== void 0 && TokenInfoList.length) {\n                //\b\b\n                setTimeout(function () {\n                  handlers.handleToggleCalendarPop(true);\n                }, 500);\n              }\n            case 2:\n            case \"end\":\n              return _context59.stop();\n          }\n        }, _callee59);\n      }));\n      function handleOrderBackError(_x26) {\n        return _handleOrderBackError.apply(this, arguments);\n      }\n      return handleOrderBackError;\n    }(),\n    //  - &\n    handleNextPage: function () {\n      var _handleNextPage = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee61() {\n        var _store$getState66, pageStatus, BasicInfo, newProcessSelectDate, isLogin, isSecKill, UPDATE_REFRESH_SELECTDATE_FLAG, SET_NEWPROCESS_SELECT_DATE, SET_SCHEDULE_DISABLE_DATE, UPDATE_SECKILL_LIMIT_STATUS, DepartureId, _yield$fetchTransacti, result, payload, _payload, recommendSearch, cabinInfo, shoppingDetail, extraResource, ShoppingId, isQuickBooking, isTour, ABResult, _payload2, toastMessage, errorCode, options, _options4;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee61$(_context61) {\n          while (1) switch (_context61.prev = _context61.next) {\n            case 0:\n              _store$getState66 = store.getState(), pageStatus = _store$getState66.pageStatus, BasicInfo = _store$getState66.BasicInfo, newProcessSelectDate = _store$getState66.newProcessSelectDate, isLogin = _store$getState66.isLogin, isSecKill = _store$getState66.isSecKill;\n              UPDATE_REFRESH_SELECTDATE_FLAG = actions.UPDATE_REFRESH_SELECTDATE_FLAG, SET_NEWPROCESS_SELECT_DATE = actions.SET_NEWPROCESS_SELECT_DATE, SET_SCHEDULE_DISABLE_DATE = actions.SET_SCHEDULE_DISABLE_DATE, UPDATE_SECKILL_LIMIT_STATUS = actions.UPDATE_SECKILL_LIMIT_STATUS;\n              DepartureId = BasicInfo.DepartureId;\n              if (isLogin) {\n                _context61.next = 7;\n                break;\n              }\n              if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\")) {\n                _context61.next = 7;\n                break;\n              }\n              ctx.login({\n                callback: function () {\n                  var _callback7 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee60() {\n                    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee60$(_context60) {\n                      while (1) switch (_context60.prev = _context60.next) {\n                        case 0:\n                          _context60.next = 2;\n                          return fetchLoginUpdatedProductInfo();\n                        case 2:\n                        case \"end\":\n                          return _context60.stop();\n                      }\n                    }, _callee60);\n                  }));\n                  function callback() {\n                    return _callback7.apply(this, arguments);\n                  }\n                  return callback;\n                }()\n              });\n              return _context61.abrupt(\"return\");\n            case 7:\n              _context61.next = 9;\n              return (0,platform/* fetchTransaction */.KI)({\n                pageName: \"detail\",\n                productId: pageStatus.activeProductId,\n                alias: pageStatus.isMultiTravel ? pageStatus.activeAlias : \"\",\n                departCityId: DepartureId\n              });\n            case 9:\n              _yield$fetchTransacti = _context61.sent;\n              result = _yield$fetchTransacti.result;\n              payload = _yield$fetchTransacti.payload;\n              payload = payload || {};\n\n              // result = null\n              if (!result) {\n                _context61.next = 34;\n                break;\n              }\n              _payload = payload, recommendSearch = _payload.recommendSearch, cabinInfo = _payload.cabinInfo, shoppingDetail = _payload.shoppingDetail, extraResource = _payload.extraResource;\n              ShoppingId = recommendSearch.ShoppingId;\n              isQuickBooking = extraResource.settings.isQuickBookingV2;\n              if (ctx.Platform === 'RN') {\n                ctx.tracelog('grp_caldarflo_ordimde_click', {\n                  is_jump_respage: isQuickBooking ? 'T' : 'F'\n                });\n              }\n\n              //  APP \n              if (!isQuickBooking) {\n                _context61.next = 22;\n                break;\n              }\n              handlers.handleGoOrderPage({\n                ShoppingId: ShoppingId\n              });\n              _context61.next = 32;\n              break;\n            case 22:\n              // \n              resourceEntry.cacheFirstScreenData(payload);\n              //  B  C handleGoResource_V3\n              //  handleGoResource_NewProcess\n              isTour = BasicInfo.ProductPatternId === 1;\n              if (!isTour) {\n                _context61.next = 31;\n                break;\n              }\n              _context61.next = 27;\n              return getAB('230609_VAC_res3');\n            case 27:\n              ABResult = _context61.sent;\n              if (['B', 'C'].includes(ABResult)) {\n                handlers.handleGoResource_V3({\n                  ShoppingId: ShoppingId\n                });\n              } else {\n                handlers.handleGoResource_NewProcess({\n                  ShoppingId: ShoppingId\n                });\n              }\n              _context61.next = 32;\n              break;\n            case 31:\n              handlers.handleGoResource_NewProcess({\n                ShoppingId: ShoppingId\n              });\n            case 32:\n              _context61.next = 36;\n              break;\n            case 34:\n              _payload2 = payload, toastMessage = _payload2.toastMessage, errorCode = _payload2.errorCode; // toastMessage = '123'\n              // errorCode = '429'\n              if (toastMessage) {\n                if (ctx.Platform === 'Taro') {\n                  options = {\n                    content: toastMessage,\n                    confirmText: '',\n                    showCancel: false,\n                    success: function success(res) {\n                      // console.log('')\n                      handlers.handleToggleCalendarPop(true);\n                    }\n                  };\n                  SET_NEWPROCESS_SELECT_DATE('');\n                  UPDATE_REFRESH_SELECTDATE_FLAG();\n                  SET_SCHEDULE_DISABLE_DATE(newProcessSelectDate);\n                  ctx.showDialog(options);\n                } else {\n                  // \n                  if (errorCode === '429') {\n                    // let options = {\n                    //     params: {\n                    //         message: toastMessage || '',\n                    //         textPositive: '',\n                    //     },\n                    //     style: {\n                    //         zIndex: 999,\n                    //     },\n                    // }\n                    // ctx.showDialog(options)\n                    UPDATE_SECKILL_LIMIT_STATUS(true);\n                  } else {\n                    _options4 = {\n                      params: {\n                        message: toastMessage,\n                        textPositive: ''\n                      },\n                      positiveCallback: function positiveCallback() {\n                        // console.log('')\n                        handlers.handleToggleCalendarPop(true);\n                      },\n                      style: {\n                        zIndex: 999\n                      }\n                    };\n                    SET_NEWPROCESS_SELECT_DATE('');\n                    UPDATE_REFRESH_SELECTDATE_FLAG();\n                    SET_SCHEDULE_DISABLE_DATE(newProcessSelectDate);\n                    ctx.showDialog(_options4);\n                  }\n                }\n              } else {\n                handlers.handleGoResource_NewProcess({\n                  ShoppingId: ''\n                });\n              }\n            case 36:\n            case \"end\":\n              return _context61.stop();\n          }\n        }, _callee61);\n      }));\n      function handleNextPage() {\n        return _handleNextPage.apply(this, arguments);\n      }\n      return handleNextPage;\n    }(),\n    //  - \n    handleNextPage_Cruise: function () {\n      var _handleNextPage_Cruise = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee62(scrollToElement) {\n        var _store$getState67, isLogin, BasicInfo, CruiseDepartDate, SelectedCruiseRoomInfo, CruiseRoomInfo, CruisePriceInfo, UPDATE_ERROR_CRUISE_TOKEN, UPDATE_CRUISE_BOOKING_STATUS, TOGGLE_PASSENGR_TIP, TotalRoomCount, sceneText, CruiseErrorTokenList, SelectedCruiseRoomInfoStore, newSelectedCruiseRoomInfo, selectedRoomInfo, totalAdultCount, totalChildCount, SelectedResources, transaction, payload, recommendSearch, extraResource, ShoppingId, isQuickBooking, ResourceStatuses, _CruiseErrorTokenList, _ctx$ctrl2, _ctx$ctrl3;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee62$(_context62) {\n          while (1) switch (_context62.prev = _context62.next) {\n            case 0:\n              _store$getState67 = store.getState(), isLogin = _store$getState67.isLogin, BasicInfo = _store$getState67.BasicInfo, CruiseDepartDate = _store$getState67.CruiseDepartDate, SelectedCruiseRoomInfo = _store$getState67.SelectedCruiseRoomInfo, CruiseRoomInfo = _store$getState67.CruiseRoomInfo, CruisePriceInfo = _store$getState67.CruisePriceInfo;\n              UPDATE_ERROR_CRUISE_TOKEN = actions.UPDATE_ERROR_CRUISE_TOKEN, UPDATE_CRUISE_BOOKING_STATUS = actions.UPDATE_CRUISE_BOOKING_STATUS, TOGGLE_PASSENGR_TIP = actions.TOGGLE_PASSENGR_TIP; // \n              if (!(CruiseRoomInfo && CruiseRoomInfo.selectedTags)) {\n                _context62.next = 6;\n                break;\n              }\n              if (!Object.values(CruiseRoomInfo.selectedTags).some(function (item) {\n                return item.length > 0;\n              })) {\n                _context62.next = 6;\n                break;\n              }\n              _context62.next = 6;\n              return handlers.handleResetRoomTag();\n            case 6:\n              // \n              TotalRoomCount = SelectedCruiseRoomInfo && SelectedCruiseRoomInfo.filter(function (item) {\n                return item.SelectedCount;\n              }).reduce(function (sum, cur) {\n                return sum + cur.SelectedCount;\n              }, 0);\n              sceneText = \"\";\n              if (!(TotalRoomCount > 5)) {\n                _context62.next = 12;\n                break;\n              }\n              ctx.showToast(\"5\");\n              traceKMInterruption(\"5\", \"vac_35002\", sceneText);\n              return _context62.abrupt(\"return\");\n            case 12:\n              // \n              CruiseErrorTokenList = [];\n              SelectedCruiseRoomInfo.forEach(function (item) {\n                var SelectedCount = item.SelectedCount,\n                  AdultCount = item.AdultCount,\n                  ChildCount = item.ChildCount,\n                  MinNum = item.MinNum,\n                  Token = item.Token;\n                if (MinNum * SelectedCount > AdultCount + ChildCount) {\n                  // \n                  CruiseErrorTokenList.push(Token);\n                  traceKMInterruption(\"1\", \"vac_35003\", sceneText);\n                } else if (SelectedCount > AdultCount) {\n                  // 1\n                  CruiseErrorTokenList.push(Token);\n                  traceKMInterruption(\"1\", \"vac_35004\", sceneText);\n                }\n              });\n              if (!CruiseErrorTokenList.length) {\n                _context62.next = 18;\n                break;\n              }\n              UPDATE_ERROR_CRUISE_TOKEN({\n                TokenList: CruiseErrorTokenList\n              });\n              setTimeout(function () {\n                if (ctx.Platform === \"RN\") {\n                  ctx.scrollToElement(\"CabinRoomError\");\n                } else {\n                  var _ctx$ctrl;\n                  scrollToElement && scrollToElement((_ctx$ctrl = ctx.ctrl) === null || _ctx$ctrl === void 0 ? void 0 : _ctx$ctrl.elementPosition[\"CabinRoomError\"]);\n                }\n              }, 100);\n              return _context62.abrupt(\"return\");\n            case 18:\n              if (isLogin) {\n                _context62.next = 22;\n                break;\n              }\n              // h5\n              if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\") {\n                SelectedCruiseRoomInfoStore = ctx === null || ctx === void 0 ? void 0 : ctx.Stores.SelectedCruiseRoomInfoStore.getInstance();\n                newSelectedCruiseRoomInfo = [];\n                SelectedCruiseRoomInfo.map(function (room) {\n                  if (room.SelectedCount > 0 && (room.AdultCount > 0 || room.ChildCount > 0)) {\n                    newSelectedCruiseRoomInfo.push(room);\n                  }\n                });\n                selectedRoomInfo = {\n                  SelectedCruiseRoomInfo: newSelectedCruiseRoomInfo,\n                  CruisePriceInfo: CruisePriceInfo\n                };\n                SelectedCruiseRoomInfoStore.set(selectedRoomInfo);\n              }\n              UserLogin({\n                beforeCallback: function beforeCallback() {\n                  handlers.handleNextPage_Cruise();\n                }\n              });\n              return _context62.abrupt(\"return\");\n            case 22:\n              UPDATE_CRUISE_BOOKING_STATUS(\"loading\");\n              totalAdultCount = 0;\n              totalChildCount = 0;\n              SelectedResources = SelectedCruiseRoomInfo.filter(function (item) {\n                return item.SelectedCount > 0;\n              }).map(function (item) {\n                var Token = item.Token,\n                  SelectedCount = item.SelectedCount,\n                  AdultCount = item.AdultCount,\n                  _item$ChildCount = item.ChildCount,\n                  ChildCount = _item$ChildCount === void 0 ? 0 : _item$ChildCount;\n                totalAdultCount += AdultCount;\n                totalChildCount += ChildCount;\n                return {\n                  Token: Token,\n                  Count: SelectedCount,\n                  ExtendInfos: [{\n                    ExtendMaps: [{\n                      Key: \"AdultNum\",\n                      Value: AdultCount\n                    }, {\n                      Key: \"ChildNum\",\n                      Value: ChildCount\n                    }]\n                  }]\n                };\n              });\n              _context62.next = 28;\n              return (0,platform/* fetchTransaction */.KI)({\n                pageName: \"cruise_detail\",\n                productId: BasicInfo.ProductId,\n                departCityId: BasicInfo.DepartureId,\n                departureDate: CruiseDepartDate,\n                alias: \"\",\n                adultCount: totalAdultCount,\n                childCount: totalChildCount,\n                selectedResources: SelectedResources\n              });\n            case 28:\n              transaction = _context62.sent;\n              if (transaction.result === true) {\n                payload = transaction.payload;\n                recommendSearch = payload.recommendSearch, extraResource = payload.extraResource;\n                ShoppingId = recommendSearch.ShoppingId;\n                isQuickBooking = extraResource.settings.isQuickBookingV2; // \n                if (isQuickBooking) {\n                  handlers.handleGoOrderPage({\n                    ShoppingId: ShoppingId\n                  });\n                } else {\n                  // \n                  resourceEntry.cacheFirstScreenData(payload);\n                  handlers.handleGoResource_NewProcess({\n                    ShoppingId: ShoppingId\n                  });\n                }\n                UPDATE_CRUISE_BOOKING_STATUS(\"canbooking\");\n                TOGGLE_PASSENGR_TIP(false);\n              } else if (transaction.payload && transaction.payload.ResourceStatuses) {\n                ResourceStatuses = transaction.payload.ResourceStatuses;\n                ctx.showToast(\"\");\n                _CruiseErrorTokenList = ResourceStatuses.map(function (item) {\n                  return item.Token;\n                });\n                UPDATE_ERROR_CRUISE_TOKEN({\n                  TokenList: _CruiseErrorTokenList\n                });\n                UPDATE_CRUISE_BOOKING_STATUS(\"canbooking\");\n                if (ctx.Platform === \"RN\") {\n                  ctx.scrollToElement(\"Cabin\");\n                } else {\n                  scrollToElement && scrollToElement((_ctx$ctrl2 = ctx.ctrl) === null || _ctx$ctrl2 === void 0 ? void 0 : _ctx$ctrl2.elementPosition[\"Cabin\"]);\n                }\n              } else {\n                ctx.showToast(\"\");\n                UPDATE_CRUISE_BOOKING_STATUS(\"canbooking\");\n                if (ctx.Platform === \"RN\") {\n                  ctx.scrollToElement(\"Cabin\");\n                } else {\n                  scrollToElement && scrollToElement((_ctx$ctrl3 = ctx.ctrl) === null || _ctx$ctrl3 === void 0 ? void 0 : _ctx$ctrl3.elementPosition[\"Cabin\"]);\n                }\n              }\n            case 30:\n            case \"end\":\n              return _context62.stop();\n          }\n        }, _callee62);\n      }));\n      function handleNextPage_Cruise(_x27) {\n        return _handleNextPage_Cruise.apply(this, arguments);\n      }\n      return handleNextPage_Cruise;\n    }(),\n    //  - \n    handleNextPage_Presale: function () {\n      var _handleNextPage_Presale = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee63() {\n        var _store$getState68, pageStatus, BasicInfo, isSelectPreSale, groupCard, isPreSale, DepartureId, activeProductId, isMultiLine, curPreSaleProductId, curAlias, inventory, curPreSaleInfo, _yield$fetchTransacti2, result, payload, _payload3, shoppingId, _payload4, toastMessage, options, _options5;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee63$(_context63) {\n          while (1) switch (_context63.prev = _context63.next) {\n            case 0:\n              _store$getState68 = store.getState(), pageStatus = _store$getState68.pageStatus, BasicInfo = _store$getState68.BasicInfo, isSelectPreSale = _store$getState68.isSelectPreSale, groupCard = _store$getState68.groupCard, isPreSale = _store$getState68.isPreSale;\n              DepartureId = BasicInfo.DepartureId;\n              activeProductId = pageStatus.activeProductId, isMultiLine = pageStatus.isMultiLine;\n              if (!(!isSelectPreSale || !isPreSale)) {\n                _context63.next = 5;\n                break;\n              }\n              return _context63.abrupt(\"return\");\n            case 5:\n              if (groupCard && groupCard.cards && groupCard.cards.length) {\n                curPreSaleInfo = groupCard.cards.find(function (item) {\n                  return item.productId === activeProductId;\n                });\n                if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n                  curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n                  curAlias = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"][curPreSaleInfo.sortNumber - 1];\n                  inventory = curPreSaleInfo.preSaleProductInfo.inventory;\n                }\n              }\n              _context63.next = 8;\n              return (0,platform/* fetchTransaction */.KI)({\n                pageName: \"presale_detail\",\n                productId: curPreSaleProductId,\n                //  alias \n                alias: isMultiLine ? curAlias : \"\",\n                departCityId: DepartureId,\n                mainProductId: activeProductId,\n                inventory: inventory\n              });\n            case 8:\n              _yield$fetchTransacti2 = _context63.sent;\n              result = _yield$fetchTransacti2.result;\n              payload = _yield$fetchTransacti2.payload;\n              payload = payload || {};\n              if (payload && payload.shoppingId) {\n                _payload3 = payload, shoppingId = _payload3.shoppingId;\n                handlers.handleGoOrderPage_PreSale({\n                  ShoppingId: shoppingId,\n                  PreSaleProductId: curPreSaleProductId\n                });\n              } else {\n                _payload4 = payload, toastMessage = _payload4.toastMessage;\n                if (ctx.Platform === \"Taro\") {\n                  options = {\n                    content: toastMessage || \"\",\n                    confirmText: \"\",\n                    showCancel: false\n                  };\n                  ctx.showDialog(options);\n                } else {\n                  _options5 = {\n                    params: {\n                      message: toastMessage || \"\",\n                      textPositive: \"\"\n                    },\n                    style: {\n                      zIndex: 999\n                    }\n                  };\n                  ctx.showDialog(_options5);\n                }\n              }\n            case 13:\n            case \"end\":\n              return _context63.stop();\n          }\n        }, _callee63);\n      }));\n      function handleNextPage_Presale() {\n        return _handleNextPage_Presale.apply(this, arguments);\n      }\n      return handleNextPage_Presale;\n    }(),\n    /**  */\n    handleGoSecurityInfo: function handleGoSecurityInfo() {\n      var _store$getState69 = store.getState(),\n        BasicInfo = _store$getState69.BasicInfo;\n      var isDiyfhxsdp = BasicInfo.isDiyfhxsdp,\n        isCruise = BasicInfo.isCruise;\n      var sub = isDiyfhxsdp ? \"diytour\" : isCruise ? \"cruise\" : \"grouptravel\";\n      var url = \"https://m.ctrip.com/webapp/sp/serviceensure?bu=travel&sub=\".concat(sub);\n      jumpH5({\n        url: url\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoCustomize: function handleGoCustomize() {\n      var _store$getState70 = store.getState(),\n        BasicInfo = _store$getState70.BasicInfo;\n      var url = \"/webapp/dingzhi/demandAssign\";\n      var params = {\n        productid: BasicInfo.ProductId,\n        departure: BasicInfo.DepartureCityName,\n        departureid: BasicInfo.DepartureId,\n        destination: BasicInfo.DestCityName,\n        destinationid: BasicInfo.DestCityId,\n        productOrigin: BasicInfo.isDiyfhxsdp ? 2 : 1,\n        isHideNavBar: \"YES\"\n      };\n      if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\") {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          from: location.href\n        });\n      }\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoTravelNote: function handleGoTravelNote(urlInfo) {\n      var ename = urlInfo.ename,\n        id = urlInfo.id,\n        did = urlInfo.did;\n      var url = \"/webapp/you/travels/\".concat(ename + did, \"/\").concat(id, \".html?navBarStyle=white\");\n      jumpH5({\n        url: url\n      });\n    },\n    /**  */\n    handleGoRecommendDetail: function handleGoRecommendDetail(productInfo) {\n      if (ctx.Platform === \"RN\") {\n        var url = \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=detail&\" + querystring.stringify(productInfo) + \"&navBarStyle=white\";\n        ctx.openURL(url);\n      } else {\n        var _url5 = \"/webapp/vacations/tour/detail_new\";\n        var params = productInfo;\n        jumpH5({\n          url: _url5,\n          params: params\n        });\n      }\n    },\n    /**  */\n    handleGoStarInfo: function handleGoStarInfo() {\n      var _store$getState71 = store.getState(),\n        BasicInfo = _store$getState71.BasicInfo;\n      var url = \"https://m.ctrip.com/tangram/MjExOA==?isHideNavBar=YES&ctm_ref=vactang_page_2118\";\n      if (BasicInfo.isDiyfhxsdp) {\n        url = \"https://m.ctrip.com/tangram/NDUxNg==?isHideNavBar=YES&ctm_ref=vactang_page_4516\";\n      }\n      if (ctx.Platform !== \"H5\" && ctx.Platform !== \"Taro\") traceGoStarInfo();\n      jumpH5({\n        url: url\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoTagUrl: function handleGoTagUrl(url) {\n      if (!url) {\n        return;\n      }\n      traceJumpTagUrl();\n      jumpH5({\n        url: url\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    // \n    handleGoCreditInfo: function handleGoCreditInfo() {\n      var _store$getState72 = store.getState(),\n        promotionDisplayInfo = _store$getState72.promotionDisplayInfo;\n      var url = promotionDisplayInfo.creditInfo.CampaignUrl;\n      jumpH5({\n        url: url\n      });\n    },\n    /**  */\n    handleGoBonusPage: function handleGoBonusPage() {\n      var jumpObj = {};\n      // let url = 'https://pages.c-ctrip.com/commerce/rewards/pointExplain/pointExplain.html'\n      var url = \"https://m.ctrip.com/webapp/rewards/pointexplain?isHideNavBar=YES\";\n      if (ctx.Platform === \"Taro\") {\n        jumpObj = {\n          url: url,\n          options: {\n            needLogin: true\n          }\n        };\n      } else {\n        jumpObj = {\n          url: url\n        };\n      }\n      jumpH5(jumpObj);\n    },\n    /**  */\n    handleGoSuperVipPage: function handleGoSuperVipPage() {\n      var url = \"https://contents.ctrip.com/buildingblocksweb/special/membershipcard/rightsDetailList.html?ishidenavbar=yes&groupid=1&rightsid=2499&ishideheader=no&ishidefooter=yes\";\n      jumpH5({\n        url: url\n      });\n    },\n    /** SDP */\n    handleGoSDPServicePage: function handleGoSDPServicePage() {\n      var url = \"https://pages.c-ctrip.com/groupTravelUED/app/201606/service_guarantee/service_guarantee.html\";\n      jumpH5({\n        url: url\n      });\n    },\n    /** SDP */\n    handleGoSDPShop: function handleGoSDPShop() {\n      var url = \"/webapp/vacations/tour/supplier\";\n      var params = {\n        isHideNavBar: \"YES\"\n      };\n      jumpH5({\n        url: url,\n        params: params\n      });\n    },\n    /**  */\n    handleGoSelfLicenseInfo: function handleGoSelfLicenseInfo() {\n      var url = \"/webapp/vacations/tour/supplier\";\n      ctx.jumpH5({\n        url: url\n      });\n    },\n    /**  */\n    handleGoLicensePage: function handleGoLicensePage(providerId) {\n      var url = \"/webapp/vacations/tour/supplier_pic\";\n      var params = {\n        providerId: providerId,\n        all: 1,\n        isHideNavBar: \"YES\"\n      };\n      jumpH5({\n        url: url,\n        params: params\n      });\n    },\n    /**  */\n    handleGoComment: function handleGoComment() {\n      var _store$getState73 = store.getState(),\n        BasicInfo = _store$getState73.BasicInfo;\n      var isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp;\n      var channel = isPureDiyfhxsdp ? \"vacations-diy\" : \"vacations-grp\";\n      var queryid = BasicInfo.ProductId;\n      var scene = isPureDiyfhxsdp ? \"SINGLE_PRODUCT_QUERY\" : \"PRODUCT_QUERY\";\n      var url = \"/rn_vac_comment/_crn_config?CRNModuleName=ctrip-app&CRNType=1&initialPage=CommentList&channel=\".concat(channel, \"&queryid=\").concat(queryid, \"&scene=\").concat(scene);\n      ctx.openURL(url);\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoShopDetail: function handleGoShopDetail() {\n      handlers.handleHideFavoriteMenu();\n      var _store$getState74 = store.getState(),\n        BasicInfo = _store$getState74.BasicInfo,\n        VendorInfo = _store$getState74.VendorInfo,\n        brandScore = _store$getState74.brandScore;\n      if (!VendorInfo || !brandScore) {\n        return;\n      }\n      //  /  \n      // if (BasicInfo.isDiyfhxsdp || BasicInfo.isStudy) {\n      //     return\n      // }\n\n      // \n      if (brandScore && !brandScore.shopInfo) {\n        return;\n      }\n      // \n      if (BasicInfo.SaleMode === \"G\") {\n        return;\n      }\n      var url = \"/webapp/vacations/shop/home\";\n      var params = {\n        productid: BasicInfo.ProductId,\n        brandId: VendorInfo.BrandId,\n        desCityId: BasicInfo.DestCityId,\n        detailId: BasicInfo.ProductId,\n        proId: VendorInfo.VenderId,\n        shopId: brandScore.shopId,\n        saleMode: BasicInfo.SaleMode,\n        isHideNavBar: \"YES\"\n      };\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    handleGoGuideList: function handleGoGuideList() {\n      var _store$getState75 = store.getState(),\n        BasicInfo = _store$getState75.BasicInfo,\n        VendorInfo = _store$getState75.VendorInfo,\n        currentRouteInfo = _store$getState75.currentRouteInfo,\n        pageStatus = _store$getState75.pageStatus;\n      var servicePerson = currentRouteInfo.servicePerson;\n      if (!VendorInfo) {\n        return;\n      }\n      var url = \"/webapp/vacations/shop/guidelist\";\n\n      // roleType: 0 1\n      var roleType = 0;\n      if (servicePerson && servicePerson.roleType) {\n        roleType = servicePerson.roleType;\n      }\n      var params = {\n        productid: pageStatus.activeProductId,\n        departcityid: BasicInfo.DepartureId,\n        proId: VendorInfo.VenderId,\n        isgold: BasicInfo.IsGoodGuideProduct ? \"1\" : \"0\",\n        isself: BasicInfo.SaleMode === \"S\",\n        detailpagename: ctx.RegisterPageName,\n        roleType: roleType,\n        isHideNavBar: \"YES\"\n      };\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    // \n    handleGoGuideDetail: function handleGoGuideDetail(servicePersonID) {\n      var _store$getState76 = store.getState(),\n        VendorInfo = _store$getState76.VendorInfo;\n      if (!VendorInfo || !servicePersonID) {\n        return;\n      }\n      var _formatServiceUrlForP = formatServiceUrlForPhotoBrowser(servicePersonID),\n        url = _formatServiceUrlForP.url,\n        params = _formatServiceUrlForP.params;\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoTopList: function handleGoTopList(url) {\n      var _store$getState77 = store.getState(),\n        BasicInfo = _store$getState77.BasicInfo;\n      if (!url) {\n        return;\n      }\n      url = url + \"&destinationCityId=\".concat(BasicInfo.DestCityId, \"&transDepartureId=\").concat(BasicInfo.DepartureId);\n      if (ctx.Platform === \"RN\") {\n        ctx.openURL(url);\n      } else {\n        jumpH5({\n          url: url\n        });\n      }\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoStudyStandard: function handleGoStudyStandard() {\n      var _store$getState78 = store.getState(),\n        qConfig = _store$getState78.qConfig;\n      var studyUrl = qConfig.studyUrl;\n      jumpH5({\n        url: studyUrl\n      });\n    },\n    /**  */\n    handleGoStoreInfo: function handleGoStoreInfo() {\n      var _store$getState79 = store.getState(),\n        NearbyStoreInfo = _store$getState79.NearbyStoreInfo;\n      var url = NearbyStoreInfo.nearbyStoreUrl;\n      var params = {\n        navBarStyle: \"white\"\n      };\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoCostMore: function handleGoCostMore(targetProductId) {\n      var _store$getState80 = store.getState(),\n        BasicInfo = _store$getState80.BasicInfo;\n      var SaleCityId = BasicInfo.SaleCityId,\n        DepartureId = BasicInfo.DepartureId;\n      var url = \"/webapp/vacations/tour/detail_cost_more\";\n      var params = {\n        productId: targetProductId,\n        saleCityId: SaleCityId,\n        departCityId: DepartureId,\n        isHideNavBar: \"YES\"\n      };\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoVisa: function handleGoVisa() {\n      var _store$getState81 = store.getState(),\n        pageStatus = _store$getState81.pageStatus,\n        BasicInfo = _store$getState81.BasicInfo,\n        ABTestResult = _store$getState81.ABTestResult;\n      var url = \"/webapp/vacations/tour/detail_visa_new\";\n      var params = {\n        productId: BasicInfo.ProductId,\n        saleCityId: BasicInfo.SaleCityId,\n        departCityId: BasicInfo.DepartureId,\n        lineProductId: pageStatus.activeProductId || BasicInfo.ProductId,\n        // \n        isHideNavBar: \"YES\"\n      };\n      if (pageStatus.isMultiTravel) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          alias: pageStatus.activeAlias\n        });\n      }\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoBookingNote: function handleGoBookingNote(_ref60) {\n      var Code = _ref60.Code;\n      var _store$getState82 = store.getState(),\n        pageStatus = _store$getState82.pageStatus,\n        BasicInfo = _store$getState82.BasicInfo,\n        LocationInfo = _store$getState82.LocationInfo;\n      var ProductId = BasicInfo.ProductId,\n        SaleCityId = BasicInfo.SaleCityId,\n        DepartureId = BasicInfo.DepartureId;\n      var url = \"/webapp/vacations/tour/detail_booking_note\";\n      var params = {\n        productId: ProductId,\n        saleCityId: SaleCityId,\n        departCityId: DepartureId,\n        lineProductId: pageStatus.activeProductId || ProductId,\n        Code: Code,\n        isHideNavBar: \"YES\"\n      };\n      if (LocationInfo && LocationInfo.locationCityId) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          locateCityId: LocationInfo.locationCityId\n        });\n      }\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoDefaultInfo: function handleGoDefaultInfo() {\n      var _store$getState83 = store.getState(),\n        pageStatus = _store$getState83.pageStatus,\n        BasicInfo = _store$getState83.BasicInfo;\n      var ProductId = BasicInfo.ProductId,\n        DepartureId = BasicInfo.DepartureId;\n      var url = \"/webapp/vacations/tour/defaultinfo\";\n      var params = {\n        productId: ProductId,\n        departCityId: DepartureId,\n        lineProductId: pageStatus.activeProductId || ProductId,\n        isHideNavBar: \"YES\"\n      };\n      jumpH5({\n        url: url,\n        params: params\n      });\n    },\n    /**  */\n    handleGoThemeEquipment: function handleGoThemeEquipment() {\n      var _store$getState84 = store.getState(),\n        pageStatus = _store$getState84.pageStatus,\n        BasicInfo = _store$getState84.BasicInfo;\n      var DepartureId = BasicInfo.DepartureId;\n      var url = \"/webapp/vacations/tour/theme_equipment\";\n      var params = {\n        productId: pageStatus.activeProductId,\n        departCityId: DepartureId,\n        isHideNavBar: \"YES\"\n      };\n      if (pageStatus.isMultiTravel) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          alias: pageStatus.activeAlias\n        });\n      }\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoThemeGuide: function handleGoThemeGuide() {\n      var _store$getState85 = store.getState(),\n        pageStatus = _store$getState85.pageStatus,\n        BasicInfo = _store$getState85.BasicInfo;\n      var DepartureId = BasicInfo.DepartureId;\n      var url = \"/webapp/vacations/tour/theme_guide\";\n      var params = {\n        productId: pageStatus.activeProductId,\n        departCityId: DepartureId,\n        isHideNavBar: \"YES\"\n      };\n      if (pageStatus.isMultiTravel) {\n        params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n          alias: pageStatus.activeAlias\n        });\n      }\n      jumpH5({\n        url: url,\n        params: params\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /** IM  */\n    handleGoIM: function handleGoIM() {\n      var isAdvisor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n        var _store$getState86 = store.getState(),\n          imEntryInfo = _store$getState86.imEntryInfo,\n          BasicInfo = _store$getState86.BasicInfo,\n          VendorInfo = _store$getState86.VendorInfo,\n          pageId = _store$getState86.pageId,\n          isLogin = _store$getState86.isLogin;\n        var _ref61 = imEntryInfo || {},\n          imInfo = _ref61.imInfo;\n        var _ref62 = imInfo || {},\n          resolveImCode = _ref62.resolveImCode;\n        if (!isLogin) {\n          ctx.login({\n            callback: function () {\n              var _callback8 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee64() {\n                return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee64$(_context64) {\n                  while (1) switch (_context64.prev = _context64.next) {\n                    case 0:\n                      _context64.next = 2;\n                      return fetchLoginUpdatedProductInfo();\n                    case 2:\n                    case \"end\":\n                      return _context64.stop();\n                  }\n                }, _callee64);\n              }));\n              function callback() {\n                return _callback8.apply(this, arguments);\n              }\n              return callback;\n            }()\n          });\n        } else {\n          var IMParams = {\n            IMCode: resolveImCode,\n            productId: BasicInfo.ProductId,\n            departureCityId: BasicInfo.DepartureId,\n            destinationIdList: JSON.stringify([BasicInfo.DestCityId]),\n            platformId: 1,\n            extendJson: JSON.stringify({\n              Platform: \"H5\",\n              providerId: VendorInfo && VendorInfo.VenderId\n            }),\n            providerId: VendorInfo && String(VendorInfo.VenderId),\n            pageId: pageId,\n            isPreSale: \"1\"\n          };\n          var url = \"/tour/im/group\";\n          var params = IMParams;\n          var options = {\n            needLogin: true,\n            needHost: true\n          };\n          ctx.jumpH5({\n            url: url,\n            params: params,\n            options: options\n          });\n        }\n      } else {\n        var _url6 = getJumpIMUrl(isAdvisor);\n        ctx.openURL(_url6);\n      }\n    },\n    /**  IM  */\n    handleGoPrivateIM: function handleGoPrivateIM() {\n      var _store$getState87 = store.getState(),\n        BasicInfo = _store$getState87.BasicInfo,\n        pageId = _store$getState87.pageId,\n        VendorInfo = _store$getState87.VendorInfo,\n        pageStatus = _store$getState87.pageStatus,\n        TourGroupInfo = _store$getState87.TourGroupInfo;\n      var activeProductId = pageStatus.activeProductId,\n        activeAlias = pageStatus.activeAlias,\n        isMultiLine = pageStatus.isMultiLine,\n        isMultiTravel = pageStatus.isMultiTravel;\n      var _ref63 = TourGroupInfo || {},\n        TourGroupProductInfo = _ref63.TourGroupProductInfo;\n      if (!VendorInfo) {\n        return;\n      }\n      var extendJson = {\n        providerId: String(VendorInfo.VenderId)\n      };\n      // im\n      if (isMultiLine) {\n        var activeLine = TourGroupProductInfo.filter(function (item) {\n          return item.ProductId == activeProductId;\n        })[0];\n        if (activeLine) {\n          var LINE = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\n          extendJson.lineDesc = LINE[activeLine.SortNumber - 1];\n        }\n      } else if (isMultiTravel) {\n        extendJson.routeDesc = activeAlias;\n      }\n      var params = {\n        IMCode: (BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.Level) === 6 ? \"01090504\" : \"01090502\",\n        productId: String(BasicInfo.ProductId),\n        destinationIdList: [BasicInfo.DestCityId],\n        departureCityId: String(BasicInfo.DepartureId),\n        saleCityId: String(BasicInfo.SaleCityId),\n        pageId: pageId,\n        isPreSale: \"1\",\n        providerId: String(VendorInfo.VenderId),\n        ExtendJson: JSON.stringify(extendJson)\n      };\n      ctx.Storage.save({\n        key: \"TOUR_GROUPCHAT_ROBOT\",\n        value: JSON.stringify(params),\n        domain: \"tour\"\n      });\n      var url = \"ctrip://wireless/tour_groupchat_robot?groupBizType=1105\";\n      ctx.openURL(url);\n    },\n    /**  */\n    handleGoFavouriteList: function handleGoFavouriteList() {\n      var _store$getState88 = store.getState(),\n        BasicInfo = _store$getState88.BasicInfo,\n        isLogin = _store$getState88.isLogin;\n      var tagid = BasicInfo.isStudy ? \"YOUXUE\" : BasicInfo.isDiyfhxsdp ? \"FREE_TRAVEL_GROUP\" : \"GROUP_TRAVEL\";\n      var url;\n      if (ctx.Platform === \"H5\") {\n        url = \"/webapp/favorite/index\";\n        var params = {\n          tagid: tagid,\n          from: location.href\n        };\n        ctx.jumpH5({\n          url: url,\n          params: params\n        });\n      } else if (ctx.Platform === \"Taro\") {\n        if (!isLogin) {\n          ctx.login({\n            callback: function () {\n              var _callback9 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee65() {\n                return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee65$(_context65) {\n                  while (1) switch (_context65.prev = _context65.next) {\n                    case 0:\n                      _context65.next = 2;\n                      return fetchLoginUpdatedProductInfo();\n                    case 2:\n                    case \"end\":\n                      return _context65.stop();\n                  }\n                }, _callee65);\n              }));\n              function callback() {\n                return _callback9.apply(this, arguments);\n              }\n              return callback;\n            }()\n          });\n          return;\n        }\n        var groupType = BasicInfo.isDiyfhxsdp ? \"FREE_TRAVEL_GROUP\" : \"GROUP_TRAVEL\";\n        var _url7 = \"https://m.ctrip.com/webapp/favorite/index?tagid=\".concat(groupType);\n        ctx.jumpH5({\n          url: _url7\n        });\n      } else {\n        url = ctx.Util.base64Encode(\"/favorite/index.html?tagid=\" + tagid + \"&isHideNavBar=YES\");\n        ctx.openURL(\"ctrip://wireless/h5?type=1&url=\" + url);\n      }\n    },\n    /**  */\n    handleGoHistory: function handleGoHistory() {\n      var url = \"https://m.ctrip.com/webapp/history/?tagid=VACATION&ctm_ref=vactang_page_1144&sid=711465&allianceid=262684&autoawaken=close\";\n      ctx.jumpH5({\n        url: url\n      });\n    },\n    /**  */\n    handleGoHotKey: function handleGoHotKey(hotkey) {\n      ctx.openURL(\"ctrip://wireless/tour_vacation_search?kwd=\" + hotkey);\n    },\n    /**  */\n    handleGoPicList: function handleGoPicList(index) {\n      var _store$getState89 = store.getState(),\n        BasicInfo = _store$getState89.BasicInfo,\n        _store$getState89$Med = _store$getState89.MediaInfo,\n        MediaInfo = _store$getState89$Med === void 0 ? {} : _store$getState89$Med,\n        isTabStyle = _store$getState89.isTabStyle,\n        pageStatus = _store$getState89.pageStatus,\n        isShowD2DSwitchTab = _store$getState89.isShowD2DSwitchTab;\n      var ImgList = MediaInfo.ImgList;\n      var ProductId = BasicInfo.ProductId,\n        DepartureId = BasicInfo.DepartureId,\n        isCruise = BasicInfo.isCruise;\n      var activeProductId = pageStatus.activeProductId,\n        initD2DSwitchType = pageStatus.initD2DSwitchType,\n        curD2DSwitchType = pageStatus.curD2DSwitchType;\n      if (!ImgList || ImgList.length < 2) {\n        return;\n      }\n      if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\" || (ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n        var url = \"/webapp/vacations/tour/detail_picture_list\";\n        var params = {\n          productId: ProductId\n        };\n        jumpH5({\n          url: url,\n          params: params\n        });\n      } else {\n        traceGoPictureList(index);\n        if (isCruise) {\n          var _url8 = \"/webapp/vacations/tour/detail_picture_list\";\n          var _params = {\n            productId: ProductId,\n            isHideNavBar: \"YES\"\n          };\n          jumpH5({\n            url: _url8,\n            params: _params\n          });\n        } else {\n          var isNewStyleFlag = isTabStyle;\n          if (isNewStyleFlag && isShowD2DSwitchTab && initD2DSwitchType) {\n            isNewStyleFlag = initD2DSwitchType == curD2DSwitchType;\n          }\n          // let url = `http://192.168.1.4:5389/index.ios.bundle?CRNModuleName=CTTourApp&CRNType=1&initialPage=album&productid=${isTabStyle ? activeProductId : ProductId}&departcityid=${DepartureId}&isNewStyle=${isNewStyleFlag ? 1 : 0}`\n          // let url = `http://10.32.229.129:5389/index.ios.bundle?CRNModuleName=CTTourApp&CRNType=1&initialPage=album&productid=${isTabStyle ? activeProductId : ProductId}&departcityid=${DepartureId}&isNewStyle=${isNewStyleFlag ? 1 : 0}`\n          var _url9 = \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=album&productid=\".concat(isTabStyle ? activeProductId : ProductId, \"&departcityid=\").concat(DepartureId, \"&isNewStyle=\").concat(isNewStyleFlag ? 1 : 0);\n          ctx.openURL(_url9);\n        }\n        sendUsrClickKMLog({\n          scene: \"\",\n          value: \"\"\n        });\n      }\n    },\n    // \n    handleGoAlbumReview: function handleGoAlbumReview() {\n      var _store$getState90 = store.getState(),\n        BasicInfo = _store$getState90.BasicInfo,\n        isTabStyle = _store$getState90.isTabStyle,\n        pageStatus = _store$getState90.pageStatus,\n        isShowD2DSwitchTab = _store$getState90.isShowD2DSwitchTab;\n      var ProductId = BasicInfo.ProductId,\n        DepartureId = BasicInfo.DepartureId;\n      var activeProductId = pageStatus.activeProductId,\n        initD2DSwitchType = pageStatus.initD2DSwitchType,\n        curD2DSwitchType = pageStatus.curD2DSwitchType;\n      var isNewStyleFlag = isTabStyle;\n      if (isNewStyleFlag && isShowD2DSwitchTab && initD2DSwitchType) {\n        isNewStyleFlag = initD2DSwitchType == curD2DSwitchType;\n      }\n\n      // let url = `http://127.0.0.1:5389/index.ios.bundle?CRNModuleName=CTTourApp&CRNType=1&initialPage=album&productid=${ProductId}&departcityid=${DepartureId}&isreview=1`\n      var url = \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=album&productid=\".concat(isTabStyle ? activeProductId : ProductId, \"&departcityid=\").concat(DepartureId, \"&isNewStyle=\").concat(isNewStyleFlag ? 1 : 0, \"&isreview=1\");\n      // let url = `http://192.168.1.4:5389/index.ios.bundle?CRNModuleName=CTTourApp&CRNType=1&initialPage=album&productid=${isTabStyle ? activeProductId : ProductId}&departcityid=${DepartureId}&isNewStyle=${isNewStyleFlag ? 1 : 0}&isreview=1`\n\n      ctx.openURL(url);\n    },\n    // \n    handleGoEpidemicPolicy: function handleGoEpidemicPolicy() {\n      var _store$getState91 = store.getState(),\n        BasicInfo = _store$getState91.BasicInfo;\n      var url = \"/webapp/train/activity/ctrip-isolation-policy-query\";\n      var params = {\n        isHideNavBar: \"YES\",\n        source: \"coronavirus\",\n        from: BasicInfo.DepartureCityName,\n        to: BasicInfo.DestCityName\n      };\n      ctx.tracelog(\"grp_yiqinggonggao_trace\", {});\n      jumpH5({\n        url: url,\n        params: params\n      });\n    },\n    //  rn \n    handleGoTourPoiPage: function handleGoTourPoiPage(isScenicTab) {\n      var _store$getState92 = store.getState(),\n        BasicInfo = _store$getState92.BasicInfo,\n        currentRouteInfo = _store$getState92.currentRouteInfo,\n        pageStatus = _store$getState92.pageStatus;\n      if (ctx.Platform === \"RN\") {\n        var TravelIntroductionInfo = currentRouteInfo.TravelIntroductionInfo;\n        var _TravelIntroductionIn = TravelIntroductionInfo.TravelIntroductionList[0],\n          IntroductionInfoList = _TravelIntroductionIn.IntroductionInfoList,\n          TravelDetailList = _TravelIntroductionIn.TravelDetailList,\n          TravelSummaryInfoList = _TravelIntroductionIn.TravelSummaryInfoList;\n        var isShowScenic = TravelSummaryInfoList && TravelSummaryInfoList.some(function (info) {\n          return info.SummaryItems.some(function (item) {\n            return item.ItemId === 5;\n          });\n        });\n        var data = {\n          IntroductionInfoList: IntroductionInfoList,\n          TravelDetailList: TravelDetailList,\n          BasicInfo: BasicInfo,\n          TravelSummaryInfoList: TravelSummaryInfoList,\n          tabIndex: isScenicTab ? 0 : 1,\n          isShowScenic: isShowScenic\n        };\n        ctx.set(\"TourPoiDetailData\", data);\n\n        // console.log('TourPoiDetailData', data)\n\n        // let url =\n        //     'http://127.0.0.1:5389/index.ios.bundle?CRNModuleName=CTTourApp&CRNType=1&initialPage=poidetail'\n        var url = \"/rn_tour/main.js?CRNModuleName=CTTourApp&CRNType=1&initialPage=poidetail\";\n        ctx.openURL(url);\n      } else {\n        var tabIndex = isScenicTab ? 0 : 1;\n        var _url10 = \"/webapp/vacations/tour/poidetail\";\n        var params = {\n          //  id pageStatus.activeProductId\n          productId: pageStatus.activeProductId,\n          departCityId: BasicInfo.DepartureId,\n          //   pageStatus.activeAlias\n          alias: pageStatus.activeAlias,\n          tabindex: tabIndex,\n          from: ctx.Platform === \"Taro\" ? null : location.href\n        };\n        var options = {\n          alwaysjump: 1\n        };\n        jumpH5({\n          url: _url10,\n          params: params,\n          options: options\n        });\n      }\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoHotelDetail: function handleGoHotelDetail(info) {\n      var HotelID = info.HotelID,\n        CityId = info.CityId;\n      if (ctx.Platform === \"RN\") {\n        var params = {\n          cityid: CityId,\n          hotelid: HotelID,\n          sourcefrom: \"tour_poi\"\n        };\n        new ctx.HotelPreFetch(params, {\n          needJump: true,\n          pageName: \"hotelDetail\",\n          env: ctx.Env.getEnvType(),\n          jumpOptions: {\n            hotel: true\n          }\n        });\n      } else {\n        var url = \"/webapp/vacations/idiytour/hotelDetail\";\n        var _params2 = {\n          cityid: CityId,\n          hotelid: HotelID,\n          sourcefrom: \"tour_poi\",\n          from: ctx.Platform === \"Taro\" ? null : location.href\n        };\n        var options = {\n          isInZTAppToctrip: true\n        };\n        jumpH5({\n          url: url,\n          params: _params2,\n          options: options\n        });\n      }\n    },\n    /**  */\n    handleGoScenicDetail: function handleGoScenicDetail(info) {\n      saveHotelAndScenicInfo();\n      var id = info.id,\n        day = info.day;\n      var url = \"/webapp/vacations/tour/detail_scenic\";\n      var params = {\n        id: id,\n        day: day,\n        isDinner: \"0\",\n        ctstore: 1,\n        isHideNavBar: \"YES\"\n      };\n      jumpH5({\n        url: url,\n        params: params\n      });\n    },\n    /**  POI  */\n    handleGoPoiPage: function handleGoPoiPage(scenic, day) {\n      var DistrictID = scenic.DistrictID,\n        GSScenicSpotID = scenic.GSScenicSpotID,\n        PoiTypeId = scenic.PoiTypeId,\n        BusinessId = scenic.BusinessId;\n      if (PoiTypeId === 3 || PoiTypeId === 66) {\n        if (ctx.Platform === \"RN\") {\n          var url = ctx.Util.base64Encode(\"/rn_destination_poi/index.main.js?CRNModuleName=rn_destination_poi&CRNType=1&initialPage=sightDetail&poiId=\".concat(GSScenicSpotID, \"&districtId=\").concat(DistrictID, \"&scene=grouptours&hideTicket=yes\"));\n          ctx.openURL(\"ctrip://wireless/h5?type=5&url=\" + url);\n        } else {\n          var _url11 = \"/webapp/you/gspoi/sight/\".concat(DistrictID, \"/\").concat(BusinessId, \".html?poiId=\").concat(GSScenicSpotID, \"&scene=grouptours&seo=0&isHideNavBar=YES\");\n          var options = {\n            isInZTAppToctrip: true\n          };\n          jumpH5({\n            url: _url11,\n            params: {},\n            options: options\n          });\n        }\n      } else if (PoiTypeId === 5) {\n        var _url12 = \"/webapp/you/gsshopping/shops/\".concat(DistrictID, \"/\").concat(BusinessId, \".html\");\n        var params = {\n          isHideNavBar: \"YES\",\n          seo: 0,\n          scene: \"grouptours\"\n        };\n        var _options6 = {\n          isInZTAppToctrip: true\n        };\n        jumpH5({\n          url: _url12,\n          params: params,\n          options: _options6\n        });\n      } else if (PoiTypeId === 2) {\n        var _url13 = \"/webapp/you/foods/\".concat(DistrictID, \"/\").concat(BusinessId, \".html\");\n        var _params3 = {\n          fromType: \"hotel\",\n          isHideHeader: true,\n          navBarStyle: \"white\",\n          isHideNavBar: \"YES\"\n        };\n        var _options7 = {\n          isInZTAppToctrip: true\n        };\n        jumpH5({\n          url: _url13,\n          params: _params3,\n          options: _options7\n        });\n      } else {\n        if (!GSScenicSpotID) {\n          return;\n        }\n        handlers.handleGoScenicDetail({\n          id: GSScenicSpotID,\n          day: day\n        });\n      }\n      sendUsrClickKMLog({\n        scene: \"POI\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoRestaurantDetail: function handleGoRestaurantDetail(info) {\n      var destCityId = info.destCityId,\n        restId = info.restId;\n      var url = \"/webapp/you/foods/\".concat(destCityId, \"/\").concat(restId, \".html\");\n      var params = {\n        fromType: \"hotel\",\n        isHideHeader: true,\n        navBarStyle: \"white\",\n        isHideNavBar: \"YES\"\n      };\n      var options = {\n        isInZTAppToctrip: true\n      };\n      jumpH5({\n        url: url,\n        params: params,\n        options: options\n      });\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoMapDetail: function handleGoMapDetail() {\n      var _store$getState93 = store.getState(),\n        pageStatus = _store$getState93.pageStatus;\n      var activeProductId = pageStatus.activeProductId,\n        activeAlias = pageStatus.activeAlias;\n      var url = \"/rn_destination_journey/main.js?CRNModuleName=rn_destination_journey&CRNType=1&initialPage=mapToolsPage&productId=\".concat(activeProductId, \"&productType=2&alias=\").concat(activeAlias);\n      ctx.openURL(url);\n    },\n    /**  poi  */\n    handleGoShipDetail: function handleGoShipDetail() {\n      var _store$getState94 = store.getState(),\n        CruisesBaseInfo = _store$getState94.CruisesBaseInfo;\n      var ShipInfo = CruisesBaseInfo.ShipInfo;\n      var EnName = ShipInfo.EnName,\n        Company = ShipInfo.Company;\n      if (ctx.Platform === \"RN\") {\n        var url = \"/rn_cruise_webapp/index.ios.js?CRNModuleName=rn_cruise_webapp&CRNType=1&initialPage=Poi&companyNameEN=\".concat(Company.EnName, \"&shipNameEN=\").concat(EnName);\n        ctx.openURL(url);\n      } else {\n        var _url14 = \"https://m.ctrip.com/webapp/cw/cruise/poi.html?companyNameEN=\".concat(Company.EnName, \"&shipNameEN=\").concat(EnName);\n        ctx.jumpH5({\n          url: _url14\n        });\n      }\n    },\n    /**  */\n    handleGoMemberShip: function handleGoMemberShip() {\n      var _store$getState95 = store.getState(),\n        qConfig = _store$getState95.qConfig,\n        userInfo = _store$getState95.userInfo,\n        hasSuperMemberRight = _store$getState95.hasSuperMemberRight;\n      if (!qConfig || !qConfig.membershipUrl) {\n        return;\n      }\n      var membershipUrl = qConfig.membershipUrl;\n      var VipGrade = userInfo.VipGrade;\n      var urlKey = VipGrade >= 20 ? VipGrade : \"\";\n      urlKey = hasSuperMemberRight ? urlKey + \"s\" : urlKey;\n      if (ctx.Platform === \"H5\" || ctx.Platform === \"Taro\") {\n        ctx.jumpH5({\n          url: membershipUrl[urlKey]\n        });\n      } else {\n        ctx.openURL(membershipUrl[urlKey]);\n      }\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoFlightDiscountPage: function handleGoFlightDiscountPage() {\n      var url;\n      if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"H5\" || (ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n        url = \"https://m.ctrip.com/tangram/MTU2MjQ=?ctm_ref=vactang_page_15624&isHideNavBar=YES\";\n        jumpH5({\n          url: url\n        });\n      } else {\n        url = \"/rn_tour_tangram/_crn_config?CRNModuleName=rn_tangram&CRNType=1&initialPage=VacationTangram&pageId=MTU2MjQ=&ctm_ref=vactang_page_15624\";\n        ctx.openURL(url);\n      }\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoSuggestDestination: function handleGoSuggestDestination(kwd) {\n      var _store$getState96 = store.getState(),\n        BasicInfo = _store$getState96.BasicInfo;\n      var params = BasicInfo.isDiyfhxsdp ? {\n        searchtype: \"diy\",\n        tab: 2,\n        kwd: kwd\n      } : {\n        searchtype: \"tour\",\n        tab: 64,\n        kwd: kwd\n      };\n      if (ctx.Platform === \"RN\") {\n        var url = \"ctrip://wireless/tour_vacation_search?\".concat(querystring.stringify(params));\n        ctx.openURL(url);\n      } else {\n        var _url15 = \"/webapp/vacations/tour/list\";\n        jumpH5({\n          url: _url15,\n          params: params\n        });\n      }\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    // \n    handleGoSearchTag: function handleGoSearchTag(kwd) {\n      var _store$getState97 = store.getState(),\n        BasicInfo = _store$getState97.BasicInfo;\n      var ProductCategoryId = BasicInfo.ProductCategoryId,\n        isDiyfhxsdp = BasicInfo.isDiyfhxsdp,\n        DestCityName = BasicInfo.DestCityName,\n        isStudy = BasicInfo.isStudy;\n      var params = isDiyfhxsdp ? {\n        searchtype: \"diy\",\n        tab: ProductCategoryId === 9 ? 65536 : 2,\n        kwd: \"\".concat(DestCityName, \" \").concat(kwd)\n      } : isStudy ? {\n        searchtype: \"study\",\n        tab: 8192,\n        kwd: \"\".concat(DestCityName, \" \").concat(kwd)\n      } : {\n        searchtype: \"tour\",\n        tab: ProductCategoryId === 9 ? 512 : 64,\n        kwd: \"\".concat(DestCityName, \" \").concat(kwd)\n      };\n      var url = \"ctrip://wireless/tour_vacation_search?\".concat(querystring.stringify(params));\n      ctx.openURL(url);\n      sendUsrClickKMLog({\n        scene: \"\",\n        value: \"\"\n      });\n    },\n    /**  */\n    handleGoCruiseRoomDiffPage: function handleGoCruiseRoomDiffPage() {\n      if (ctx.Platform === \"RN\") {\n        var url = \"/rn_cruise_webapp/main.js?CRNModuleName=rn_cruise_webapp&CRNType=1&initialPage=ClassDetail&lessonId=15\";\n        ctx.openURL(url);\n      } else {\n        var _url16 = \"https://m.ctrip.com/webapp/cw/cruise/classdetail.html?lessonId=15\";\n        ctx.jumpH5({\n          url: _url16\n        });\n      }\n    },\n    /**  */\n    handleGoCruiseCommonProblem: function handleGoCruiseCommonProblem() {\n      var _store$getState98 = store.getState(),\n        CruisesBaseInfo = _store$getState98.CruisesBaseInfo;\n      var ShipInfo = CruisesBaseInfo.ShipInfo;\n      var EnName = ShipInfo.EnName,\n        Company = ShipInfo.Company;\n      if (ctx.Platform === \"RN\") {\n        var url = \"/rn_cruise_webapp/index.ios.js?CRNModuleName=rn_cruise_webapp&CRNType=1&initialPage=PoiFAQ&companyName=\".concat(Company.EnName, \"&shipName=\").concat(EnName);\n        ctx.openURL(url);\n      } else {\n        var _url17 = \"https://m.ctrip.com/webapp/cw/cruise/poifaq.html?companyName=\".concat(Company.EnName, \"&shipName=\").concat(EnName);\n        ctx.jumpH5({\n          url: _url17\n        });\n      }\n    },\n    /**  */\n    handleGoCruiseBookingTip: function handleGoCruiseBookingTip() {\n      if (ctx.Platform === \"RN\") {\n        var url = \"/rn_cruise_webapp/index.ios.js?CRNModuleName=rn_cruise_webapp&CRNType=1&initialPage=ClassIndex&tabid=5\";\n        ctx.openURL(url);\n      } else {\n        var _url18 = \"https://m.ctrip.com/webapp/cw/cruise/classindex.html?tabid=5\";\n        ctx.jumpH5({\n          url: _url18\n        });\n      }\n    },\n    // \n    handleGoHotelStarPage: function handleGoHotelStarPage() {\n      var url = \"/rn_hotel_ct/main.js?CRNType=1&initialPage=HotelStarDiamondDescriptionPage&CRNModuleName=RN_CT_Hotel&isHideNavBar=YES&isMainland=1\";\n      ctx.openURL(url);\n    },\n    // \n    handleGoTrackOrder: function handleGoTrackOrder() {\n      var _store$getState99 = store.getState(),\n        BasicInfo = _store$getState99.BasicInfo,\n        pageStatus = _store$getState99.pageStatus;\n      var url = \"/webapp/vacations/tour/travelintention\";\n      var params = {\n        outtype: BasicInfo.isDiyfhxsdp ? \"diy\" : \"tour\",\n        subchannelid: 12,\n        sourcetype: 2,\n        productid: pageStatus.activeProductId || BasicInfo.ProductId,\n        dcityid: BasicInfo.DepartureId,\n        destid: BasicInfo.DestCityId,\n        dest: BasicInfo.DestCityName,\n        from: ctx.Platform === \"Taro\" ? null : location.href\n      };\n      jumpH5({\n        url: url,\n        params: params\n      });\n    },\n    handleGoEnterpriseWechatPage: function handleGoEnterpriseWechatPage() {\n      var _store$getState100 = store.getState(),\n        BasicInfo = _store$getState100.BasicInfo;\n      var SaleMode = BasicInfo.SaleMode,\n        IsInternal = BasicInfo.IsInternal;\n      var h5Url = \"\";\n      var useBackUp = (Number(BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.ProductId) || 0) % 2 === 0 ? true : false;\n      if (SaleMode === \"S\") {\n        if (IsInternal) {\n          h5Url = useBackUp ? \"https://m.ctrip.com/tangram/MzMxMDQ=?ctm_ref=vactang_page_33104&isHideNavBar=YES&apppgid=10650019968\" : \"https://m.ctrip.com/tangram/MzY2Nzc=?ctm_ref=vactang_page_36677&isHideNavBar=YES&apppgid=10650019968\";\n        } else {\n          h5Url = \"https://m.ctrip.com/tangram/MzMzNDE=?ctm_ref=vactang_page_33341&isHideNavBar=YES&apppgid=10650019968\";\n        }\n      } else if (SaleMode === \"P\") {\n        if (IsInternal) {\n          h5Url = useBackUp ? \"https://m.ctrip.com/tangram/MzY3ODA=?ctm_ref=vactang_page_36780&isHideNavBar=YES&apppgid=10650019968\" : \"https://m.ctrip.com/tangram/MzY2ODA=?ctm_ref=vactang_page_36680&isHideNavBar=YES&apppgid=10650019968\";\n        } else {\n          h5Url = \"https://m.ctrip.com/tangram/MzMzNDI=?ctm_ref=vactang_page_33342&isHideNavBar=YES&apppgid=10650019968\";\n        }\n      }\n      if (h5Url) {\n        var data = JSON.stringify({\n          url: encodeURIComponent(h5Url)\n        });\n        if (ctx.Platform === \"Taro\") {\n          var url = \"/cwx/component/cwebview/cwebview?data=\" + data;\n          ctx.navigateTo({\n            url: url\n          });\n        } else {\n          var miniProgramPath = \"cwx/component/cwebview/cwebview?data=\" + data;\n          var path = ctx.Util.base64Encode(miniProgramPath);\n          var _url19 = \"ctrip://wireless/login/openMiniProgram?username=gh_36ada103ba97&path=\".concat(path, \"&type=0\");\n          ctx.openURL(_url19);\n        }\n      }\n    },\n    handleGoComplexRoutePage: function handleGoComplexRoutePage() {\n      var _store$getState101 = store.getState(),\n        BasicInfo = _store$getState101.BasicInfo,\n        pageStatus = _store$getState101.pageStatus;\n      var isMultiLine = pageStatus.isMultiLine,\n        isMultiTravel = pageStatus.isMultiTravel,\n        activeProductId = pageStatus.activeProductId,\n        activeAlias = pageStatus.activeAlias;\n      var url = \"/pages/vacations/detailComplexRoute/index\";\n      var params = {\n        ProductId: pageStatus.activeProductId,\n        DepartCityId: BasicInfo.DepartureId,\n        Alias: pageStatus.activeAlias\n      };\n      ctx.navigateTo({\n        url: url,\n        params: params\n      });\n    },\n    // \n    handleGoAsk: function handleGoAsk() {\n      var _store$getState102 = store.getState(),\n        BasicInfo = _store$getState102.BasicInfo,\n        pageStatus = _store$getState102.pageStatus,\n        pageId = _store$getState102.pageId,\n        VendorInfo = _store$getState102.VendorInfo;\n      if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"RN\") {\n        var url = \"/webapp/you/askAnswer/ask/list\";\n        var IMCode = \"01090800\";\n        var isRetail = BasicInfo.SaleMode === \"R\";\n        var groupBizType = isRetail ? 1115 : 1105;\n        var providerId = String(VendorInfo.VenderId);\n        var args = \"{\\\"IMCode\\\":\\\"\".concat(IMCode, \"\\\",\\\"pageId\\\":\\\"\").concat(pageId, \"\\\",\\\"providerId\\\":\\\"\").concat(providerId, \"\\\",\\\"destinationIdList\\\":[\").concat(BasicInfo.DestCityId, \"],\\\"productId\\\":\\\"\").concat(BasicInfo.ProductId, \"\\\",\\\"orderStatus\\\":\\\"0\\\",\\\"isPreSale\\\":\\\"1\\\"}\");\n        var imUrl = \"ctrip://wireless/tour_groupchat_robot_url?groupBizType=\".concat(groupBizType, \"&args=\").concat(encodeURIComponent(ctx.Util.base64Encode(args)));\n        var params = {\n          id: pageStatus.activeProductId,\n          pageType: \"groupTravel\",\n          imShowtext: \"\",\n          imUrl: encodeURIComponent(imUrl),\n          isHideHeader: true,\n          isHideNavBar: \"YES\"\n        };\n        ctx.jumpH5({\n          url: url,\n          params: params\n        });\n      }\n    }\n  };\n\n  /************************* Helper **************************/\n  // \n  var setDepartureCityIdForList = /*#__PURE__*/function () {\n    var _ref64 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee66(cityId, departureCityName) {\n      var _store$getState103, BasicInfo, key, storage, data;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee66$(_context66) {\n        while (1) switch (_context66.prev = _context66.next) {\n          case 0:\n            _store$getState103 = store.getState(), BasicInfo = _store$getState103.BasicInfo;\n            if (departureCityName) {\n              _context66.next = 3;\n              break;\n            }\n            return _context66.abrupt(\"return\");\n          case 3:\n            key = \"DETAIL_LIST_LINKAGE\";\n            _context66.next = 6;\n            return ctx.loadStorage(key, \"tour\");\n          case 6:\n            storage = _context66.sent;\n            data = storage ? JSON.parse(storage) : {};\n            data = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, data), {}, {\n              departureCityId: cityId,\n              departureCityName: departureCityName\n            });\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: BasicInfo.ProductId\n              }],\n              scene: \"\",\n              action: \"sys_change\",\n              jsonData: data\n            });\n            ctx.Storage.save({\n              key: \"DETAIL_LIST_LINKAGE\",\n              value: JSON.stringify(data),\n              domain: \"tour\"\n            });\n            // console.log('testtttttttttcityid', value);\n          case 11:\n          case \"end\":\n            return _context66.stop();\n        }\n      }, _callee66);\n    }));\n    return function setDepartureCityIdForList(_x28, _x29) {\n      return _ref64.apply(this, arguments);\n    };\n  }();\n  // \n  var setSeletedDateForList = /*#__PURE__*/function () {\n    var _ref65 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee67(date) {\n      var _store$getState104, BasicInfo, key, storage, data;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee67$(_context67) {\n        while (1) switch (_context67.prev = _context67.next) {\n          case 0:\n            _store$getState104 = store.getState(), BasicInfo = _store$getState104.BasicInfo;\n            key = \"DETAIL_LIST_LINKAGE\";\n            _context67.next = 4;\n            return ctx.loadStorage(key, \"tour\");\n          case 4:\n            storage = _context67.sent;\n            data = storage ? JSON.parse(storage) : {};\n            data = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, data), {}, {\n              seletedDate: date\n            });\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: BasicInfo.ProductId\n              }],\n              scene: \"\",\n              action: \"sys_change\",\n              jsonData: data\n            });\n            ctx.Storage.save({\n              key: \"DETAIL_LIST_LINKAGE\",\n              value: JSON.stringify(data),\n              domain: \"tour\"\n            });\n          case 9:\n          case \"end\":\n            return _context67.stop();\n        }\n      }, _callee67);\n    }));\n    return function setSeletedDateForList(_x30) {\n      return _ref65.apply(this, arguments);\n    };\n  }();\n  // \n  var getLocationInfo = /*#__PURE__*/function () {\n    var _ref66 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee68() {\n      var _store$getState105, BasicInfo, UPDATE_LOCATION_INFO, LocationInfo;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee68$(_context68) {\n        while (1) switch (_context68.prev = _context68.next) {\n          case 0:\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) !== \"RN\")) {\n              _context68.next = 2;\n              break;\n            }\n            return _context68.abrupt(\"return\");\n          case 2:\n            _store$getState105 = store.getState(), BasicInfo = _store$getState105.BasicInfo;\n            UPDATE_LOCATION_INFO = actions.UPDATE_LOCATION_INFO;\n            _context68.next = 6;\n            return ctx.getDepartureCityCache();\n          case 6:\n            LocationInfo = _context68.sent;\n            LocationInfo = LocationInfo || {};\n\n            // console.log(' LocationInfo ', LocationInfo)\n            UPDATE_LOCATION_INFO(LocationInfo);\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: BasicInfo.ProductId\n              }],\n              scene: \"\",\n              action: \"sys_change\",\n              jsonData: LocationInfo\n            });\n          case 10:\n          case \"end\":\n            return _context68.stop();\n        }\n      }, _callee68);\n    }));\n    return function getLocationInfo() {\n      return _ref66.apply(this, arguments);\n    };\n  }();\n  var setUserInfo = /*#__PURE__*/function () {\n    var _ref67 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee69() {\n      var _yield$ctx$getUserInf2, userInfo, isLogin, SET_USER_INFO;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee69$(_context69) {\n        while (1) switch (_context69.prev = _context69.next) {\n          case 0:\n            _context69.next = 2;\n            return ctx.getUserInfo();\n          case 2:\n            _yield$ctx$getUserInf2 = _context69.sent;\n            userInfo = _yield$ctx$getUserInf2.userInfo;\n            isLogin = _yield$ctx$getUserInf2.isLogin;\n            SET_USER_INFO = actions.SET_USER_INFO;\n            SET_USER_INFO({\n              userInfo: userInfo,\n              isLogin: isLogin\n            });\n          case 7:\n          case \"end\":\n            return _context69.stop();\n        }\n      }, _callee69);\n    }));\n    return function setUserInfo() {\n      return _ref67.apply(this, arguments);\n    };\n  }();\n  var UserLogin = function UserLogin(_ref68) {\n    var beforeCallback = _ref68.beforeCallback,\n      afterCallback = _ref68.afterCallback,\n      _ref68$showNonMember = _ref68.showNonMember,\n      showNonMember = _ref68$showNonMember === void 0 ? false : _ref68$showNonMember;\n    ctx.User.userLoginWithParams({\n      showNonMember: showNonMember\n    }, /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee70() {\n      var _store$getState106, isLogin;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee70$(_context70) {\n        while (1) switch (_context70.prev = _context70.next) {\n          case 0:\n            _context70.next = 2;\n            return setUserInfo();\n          case 2:\n            _store$getState106 = store.getState(), isLogin = _store$getState106.isLogin;\n            if (!isLogin) {\n              _context70.next = 8;\n              break;\n            }\n            beforeCallback && beforeCallback();\n            _context70.next = 7;\n            return onLoginSuccess();\n          case 7:\n            afterCallback && afterCallback();\n          case 8:\n          case \"end\":\n            return _context70.stop();\n        }\n      }, _callee70);\n    })));\n  };\n  var loginCallback = /*#__PURE__*/function () {\n    var _ref70 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee71() {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee71$(_context71) {\n        while (1) switch (_context71.prev = _context71.next) {\n          case 0:\n            _context71.next = 2;\n            return setUserInfo();\n          case 2:\n            onLoginSuccess();\n          case 3:\n          case \"end\":\n            return _context71.stop();\n        }\n      }, _callee71);\n    }));\n    return function loginCallback() {\n      return _ref70.apply(this, arguments);\n    };\n  }();\n\n  /**  IMCode */\n  var getIMCode = function getIMCode() {\n    var _store$getState107 = store.getState(),\n      imEntryInfo = _store$getState107.imEntryInfo;\n    if (imEntryInfo && imEntryInfo.imInfo && imEntryInfo.imInfo.resolveImCode) {\n      return imEntryInfo.imInfo.resolveImCode;\n    } else {\n      return \"01090100\";\n    }\n  };\n\n  /**  */\n  var getShareImage = function getShareImage() {\n    var _store$getState108 = store.getState(),\n      MediaInfo = _store$getState108.MediaInfo;\n    var ImgList = MediaInfo.ImgList;\n    //\n    var defaultImage = \"https://pic.c-ctrip.com/vacation_v2/h5/group_travel/pic_none.png\";\n    if (ImgList && ImgList[0] && ImgList[0].UrlList[0] && ImgList[0].UrlList[0].Value) {\n      defaultImage = ImgList[0].UrlList[0].Value.replace(\"_750_420\", \"_160_160\");\n    }\n    return defaultImage;\n  };\n\n  /**   /  poi  storage */\n  var saveHotelAndScenicInfo = function saveHotelAndScenicInfo() {\n    var _store$getState109 = store.getState(),\n      currentRouteInfo = _store$getState109.currentRouteInfo;\n    if (!currentRouteInfo) {\n      return;\n    }\n    var TravelIntroductionInfo = currentRouteInfo.TravelIntroductionInfo;\n    if (!TravelIntroductionInfo) {\n      return null;\n    }\n    var TravelDetailList = TravelIntroductionInfo.TravelIntroductionList[0].TravelDetailList;\n    if (!TravelDetailList || !TravelDetailList.length) {\n      return;\n    }\n    var hotelList = [];\n    var scenicList = [];\n    var dinnerList = [];\n    TravelDetailList.forEach(function (item) {\n      var day = item.FewDay;\n      var scenicInfo = {\n        day: day,\n        data: []\n      };\n      var dinnerInfo = {\n        day: day,\n        data: []\n      };\n      item.hotelList.forEach(function (hotel) {\n        hotel.HotelInfoList.forEach(function (hotelItem, index) {\n          hotelList.push({\n            day: day,\n            id: hotelItem.HotelID,\n            name: hotelItem.HotelName,\n            orFlag: index !== 0\n          });\n        });\n      });\n      item.scenicList.forEach(function (scenic, index) {\n        scenic.ScenicSpotList.forEach(function (scenicItem, index) {\n          var orFlag = index > 0 && !!scenic.ScenicSpotList[index - 1].OrFlag;\n          if (scenicItem.GSScenicSpotID) {\n            scenicInfo.data.push({\n              id: scenicItem.GSScenicSpotID,\n              name: scenicItem.Name,\n              classic: scenicItem.IsClassic,\n              orFlag: orFlag\n            });\n          }\n        });\n      });\n      item.dinnerList.forEach(function (dinner, index) {\n        var DinnerInfo = dinner.DinnerInfo;\n        var _ref71 = DinnerInfo || {},\n          DinnerPoiInfoList = _ref71.DinnerPoiInfoList;\n        if (!DinnerPoiInfoList) {\n          return;\n        }\n        DinnerPoiInfoList.forEach(function (dinnerItem, index) {\n          if (dinnerItem.GSScenicSpotID) {\n            dinnerInfo.data.push({\n              id: dinnerItem.GSScenicSpotID,\n              name: dinnerItem.Name,\n              classic: false,\n              orFlag: false\n            });\n          }\n        });\n      });\n      if (scenicInfo.data.length) {\n        scenicList.push(scenicInfo);\n      }\n      if (dinnerInfo.data.length) {\n        dinnerList.push(dinnerInfo);\n      }\n    });\n    var value = JSON.stringify({\n      detail_hotel_list: hotelList,\n      detail_scenic_list: scenicList,\n      detail_dinner_list: dinnerList\n    });\n    ctx.Storage.save({\n      key: \"VACATION_TOURE_VIEW\",\n      value: value,\n      domain: \"tour\"\n    });\n  };\n\n  /** () */\n  var checkShouldChangeDepartCity = /*#__PURE__*/function () {\n    var _ref72 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee72() {\n      var _store$getState110, pageStatus, BookInfo, ScheduleInfo, SET_SHOW_DEPARTCITYINFO;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee72$(_context72) {\n        while (1) switch (_context72.prev = _context72.next) {\n          case 0:\n            _store$getState110 = store.getState(), pageStatus = _store$getState110.pageStatus, BookInfo = _store$getState110.BookInfo, ScheduleInfo = _store$getState110.ScheduleInfo;\n            SET_SHOW_DEPARTCITYINFO = actions.SET_SHOW_DEPARTCITYINFO; // D2D \n            if (!(pageStatus.curD2DSwitchType !== pageStatus.initD2DSwitchType)) {\n              _context72.next = 4;\n              break;\n            }\n            return _context72.abrupt(\"return\");\n          case 4:\n            if (BookInfo.IsBook) {\n              _context72.next = 7;\n              break;\n            }\n            SET_SHOW_DEPARTCITYINFO();\n            return _context72.abrupt(\"return\");\n          case 7:\n            // \n            if (pageStatus.isCrhTag) {\n              checkShouldSwitchToCRH();\n            }\n\n            // \n            _context72.next = 10;\n            return checkChangeToAvailableLine();\n          case 10:\n            _context72.t1 = _context72.sent;\n            if (!_context72.t1) {\n              _context72.next = 15;\n              break;\n            }\n            _context72.next = 14;\n            return checkChangeToOnlyDepartCity();\n          case 14:\n            _context72.t1 = _context72.sent;\n          case 15:\n            _context72.t0 = _context72.t1;\n            if (!_context72.t0) {\n              _context72.next = 20;\n              break;\n            }\n            _context72.next = 19;\n            return checkAutoSelectDepartCity();\n          case 19:\n            _context72.t0 = _context72.sent;\n          case 20:\n            _context72.t2 = _context72.t0;\n            if (!_context72.t2) {\n              _context72.next = 24;\n              break;\n            }\n            _context72.next = 24;\n            return checkChangeToOtherDepartCity();\n          case 24:\n            //  \n            checkShouldSwitchToActiveLine();\n            SET_SHOW_DEPARTCITYINFO();\n          case 26:\n          case \"end\":\n            return _context72.stop();\n        }\n      }, _callee72);\n    }));\n    return function checkShouldChangeDepartCity() {\n      return _ref72.apply(this, arguments);\n    };\n  }();\n\n  /**  */\n  var checkShouldChangeSelectDate = /*#__PURE__*/function () {\n    var _ref73 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee73() {\n      var _store$getState111, BasicInfo, query, pageStatus, groupCard, SET_NEWPROCESS_SELECT_DATE, _store$getState112, currentRouteInfo, dailyMinPrices, storage, cacheDate, hasPreSaleDateCache, activeProductId, curPreSaleProductId, curPreSaleInfo, data, dateArr, chooseDate;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee73$(_context73) {\n        while (1) switch (_context73.prev = _context73.next) {\n          case 0:\n            _store$getState111 = store.getState(), BasicInfo = _store$getState111.BasicInfo, query = _store$getState111.query, pageStatus = _store$getState111.pageStatus, groupCard = _store$getState111.groupCard;\n            SET_NEWPROCESS_SELECT_DATE = actions.SET_NEWPROCESS_SELECT_DATE; // \n            _store$getState112 = store.getState(), currentRouteInfo = _store$getState112.currentRouteInfo;\n            dailyMinPrices = currentRouteInfo.dailyMinPrices;\n            _context73.next = 6;\n            return ctx.loadStorage(\"DETAIL_LIST_LINKAGE\", \"tour\");\n          case 6:\n            storage = _context73.sent;\n            _context73.next = 9;\n            return ctx.get(\"NewProcessSelectedDate\");\n          case 9:\n            cacheDate = _context73.sent;\n            _context73.next = 12;\n            return ctx.get(\"SelectPreSaleDate\");\n          case 12:\n            hasPreSaleDateCache = _context73.sent;\n            if (!(query && query.presaleid)) {\n              _context73.next = 15;\n              break;\n            }\n            return _context73.abrupt(\"return\");\n          case 15:\n            // \n            activeProductId = pageStatus.activeProductId;\n            if (groupCard && groupCard.cards && groupCard.cards.length) {\n              curPreSaleInfo = groupCard.cards.find(function (item) {\n                return item.productId === activeProductId;\n              });\n              if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n                curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n              }\n            }\n            if (!curPreSaleProductId) {\n              _context73.next = 21;\n              break;\n            }\n            if (!hasPreSaleDateCache) {\n              _context73.next = 21;\n              break;\n            }\n            handlers.handleSelectPreSaleDate();\n            return _context73.abrupt(\"return\");\n          case 21:\n            if (storage) {\n              _context73.next = 23;\n              break;\n            }\n            return _context73.abrupt(\"return\");\n          case 23:\n            data = JSON.parse(storage);\n            if (data) {\n              _context73.next = 26;\n              break;\n            }\n            return _context73.abrupt(\"return\");\n          case 26:\n            dateArr = data.dateArr;\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: BasicInfo.ProductId\n              }],\n              scene: \"\",\n              action: \"sys_change\",\n              value: dateArr ? dateArr.join(\"; \") : \"\",\n              jsonData: data\n            });\n            if (!(!dateArr || !dateArr.length)) {\n              _context73.next = 30;\n              break;\n            }\n            return _context73.abrupt(\"return\");\n          case 30:\n            if (!dateArr.includes(cacheDate)) {\n              _context73.next = 32;\n              break;\n            }\n            return _context73.abrupt(\"return\");\n          case 32:\n            chooseDate = \"\";\n            dateArr.some(function (date) {\n              var isInRange = false;\n              dailyMinPrices === null || dailyMinPrices === void 0 || dailyMinPrices.forEach(function (dailyItem) {\n                if (dailyItem.date === date) {\n                  chooseDate = date;\n                  isInRange = true;\n                }\n              });\n              return isInRange;\n            });\n            if (chooseDate) {\n              SET_NEWPROCESS_SELECT_DATE(chooseDate);\n              // \n              if (ctx.Platform === \"RN\") {\n                fetchFlightDiscountDetail();\n                fetchProductScheduleDesc();\n              }\n              ctx.set(\"NewProcessSelectedDate\", chooseDate, 24 * 60 * 60);\n            } else {\n              handlers.handleTraceLog(\"grp_toast_details_products_exposure\");\n            }\n          case 35:\n          case \"end\":\n            return _context73.stop();\n        }\n      }, _callee73);\n    }));\n    return function checkShouldChangeSelectDate() {\n      return _ref73.apply(this, arguments);\n    };\n  }();\n\n  /**   */\n  var checkShouldSwitchToCRH = function checkShouldSwitchToCRH() {\n    var _store$getState113 = store.getState(),\n      productGroupInfo = _store$getState113.productGroupInfo,\n      pageStatus = _store$getState113.pageStatus;\n    if (!productGroupInfo) {\n      return;\n    }\n    var TagGroupInfoList = productGroupInfo.TagGroupInfoList;\n\n    //  Id \n    var CrhLineIdList = [];\n    TagGroupInfoList && TagGroupInfoList.forEach(function (item) {\n      item.SpecialTagList.forEach(function (tag) {\n        if (tag.TagName === \"\") {\n          CrhLineIdList.push(item.ProductId);\n        }\n      });\n    });\n\n    // , \n    if (CrhLineIdList.length && !CrhLineIdList.includes(pageStatus.activeProductId)) {\n      handlers.handleMultiLineChange(CrhLineIdList[0], false);\n    }\n  };\n\n  /**  */\n  var checkChangeToAvailableLine = /*#__PURE__*/function () {\n    var _ref74 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee74() {\n      var _store$getState114, query, BasicInfo, LocationInfo, currentRouteInfo, TourGroupInfo, PriceInfo, departCityId, allDepartCities, curLine, targetProduct, targetLine, urlCityName, LINE_ALIAS;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee74$(_context74) {\n        while (1) switch (_context74.prev = _context74.next) {\n          case 0:\n            _store$getState114 = store.getState(), query = _store$getState114.query, BasicInfo = _store$getState114.BasicInfo, LocationInfo = _store$getState114.LocationInfo, currentRouteInfo = _store$getState114.currentRouteInfo, TourGroupInfo = _store$getState114.TourGroupInfo;\n            PriceInfo = currentRouteInfo.PriceInfo;\n            LocationInfo = LocationInfo || {};\n            if (query.departcityid) {\n              _context74.next = 29;\n              break;\n            }\n            departCityId = LocationInfo.departureCityId || LocationInfo.locationCityId;\n            allDepartCities = PriceInfo && PriceInfo.DepartureCityPriceList && PriceInfo.DepartureCityPriceList.map(function (item) {\n              return item.DepartureCityId;\n            });\n            if (!(!TourGroupInfo || !TourGroupInfo.TourGroupProductInfo)) {\n              _context74.next = 8;\n              break;\n            }\n            return _context74.abrupt(\"return\", true);\n          case 8:\n            curLine = TourGroupInfo.TourGroupProductInfo.filter(function (item) {\n              return item.ProductId === Number(BasicInfo.ProductId);\n            })[0];\n            if (!(curLine && curLine.DepartureCities.includes(Number(departCityId)))) {\n              _context74.next = 13;\n              break;\n            }\n            _context74.next = 12;\n            return handlers.handleChangeDepartCity(Number(departCityId), BasicInfo.ProductId, false);\n          case 12:\n            return _context74.abrupt(\"return\", false);\n          case 13:\n            if (!(allDepartCities && allDepartCities.includes(Number(departCityId)))) {\n              _context74.next = 26;\n              break;\n            }\n            targetProduct = TourGroupInfo.TourGroupProductInfo.filter(function (item) {\n              return item.DepartureCities.includes(Number(departCityId));\n            })[0];\n            if (!(targetProduct.ProductId !== BasicInfo.ProductId)) {\n              _context74.next = 26;\n              break;\n            }\n            _context74.next = 18;\n            return handlers.handleChangeDepartCity(Number(departCityId), targetProduct.ProductId, false, false);\n          case 18:\n            targetLine = TourGroupInfo.TourGroupProductInfo.filter(function (item) {\n              return item.ProductId === targetProduct.ProductId;\n            })[0];\n            _context74.next = 21;\n            return fetchCityNameByCityId(departCityId);\n          case 21:\n            urlCityName = _context74.sent;\n            LINE_ALIAS = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\n            ctx.showToast(\"\".concat(LINE_ALIAS[curLine.SortNumber - 1], \"\\u7EBF\\u4E0D\\u652F\\u6301\").concat(urlCityName, \"\\u51FA\\u53D1\\uFF0C\\u5DF2\\u4E3A\\u60A8\\u81EA\\u52A8\\u5207\\u6362\\u5230\").concat(LINE_ALIAS[targetLine.SortNumber - 1], \"\\u7EBF\"));\n            traceDepartcityMetricInfo({\n              sceneType: 1,\n              isAccept: true\n            });\n            return _context74.abrupt(\"return\", false);\n          case 26:\n            return _context74.abrupt(\"return\", true);\n          case 29:\n            return _context74.abrupt(\"return\", true);\n          case 30:\n          case \"end\":\n            return _context74.stop();\n        }\n      }, _callee74);\n    }));\n    return function checkChangeToAvailableLine() {\n      return _ref74.apply(this, arguments);\n    };\n  }();\n\n  /**   */\n  var checkShouldSwitchToActiveLine = function checkShouldSwitchToActiveLine() {\n    var _store$getState115 = store.getState(),\n      groupCard = _store$getState115.groupCard,\n      pageStatus = _store$getState115.pageStatus,\n      TourGroupInfo = _store$getState115.TourGroupInfo,\n      BasicInfo = _store$getState115.BasicInfo,\n      query = _store$getState115.query;\n    if (!pageStatus.isMultiLine || !groupCard || !TourGroupInfo) {\n      return true;\n    }\n\n    // \n    if (query && query.presaleid) {\n      return true;\n    }\n    var cards = groupCard.cards;\n\n    //  Id \n    var ActiveLineIdList = [];\n    cards && cards.forEach(function (item) {\n      if (item.canBook && Number.isInteger(item.priceDesc)) {\n        ActiveLineIdList.push(item.productId);\n      }\n    });\n    if (ActiveLineIdList.length && !ActiveLineIdList.includes(pageStatus.activeProductId)) {\n      handlers.handleMultiLineChange(ActiveLineIdList[0], false);\n      // let curLine = TourGroupInfo.TourGroupProductInfo.filter(\n      //     (item) => item.ProductId === pageStatus.activeProductId\n      // )[0]\n      // let targetLine = TourGroupInfo.TourGroupProductInfo.filter(\n      //     (item) => item.ProductId === ActiveLineIdList[0]\n      // )[0]\n\n      // const LINE_ALIAS = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J']\n      // ctx.showToast(\n      //     `${LINE_ALIAS[curLine.SortNumber - 1]}${\n      //         BasicInfo.DepartureCityName\n      //     }${LINE_ALIAS[targetLine.SortNumber - 1]}`\n      // )\n      traceDepartcityMetricInfo({\n        sceneType: 1,\n        isAccept: true\n      });\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  /** ,  */\n  var checkChangeToOnlyDepartCity = /*#__PURE__*/function () {\n    var _ref75 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee75() {\n      var _store$getState116, query, currentRouteInfo, BasicInfo, PriceInfo, curProductIdDepartCities, allDepartCities, onlyDepartCity;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee75$(_context75) {\n        while (1) switch (_context75.prev = _context75.next) {\n          case 0:\n            _store$getState116 = store.getState(), query = _store$getState116.query, currentRouteInfo = _store$getState116.currentRouteInfo, BasicInfo = _store$getState116.BasicInfo;\n            PriceInfo = currentRouteInfo.PriceInfo;\n            if (!(PriceInfo && PriceInfo.DepartureCityPriceList)) {\n              _context75.next = 14;\n              break;\n            }\n            //  Id \n            curProductIdDepartCities = PriceInfo.DepartureCityPriceList.filter(function (item) {\n              return item.ProductIdList.includes(BasicInfo.ProductId);\n            });\n            allDepartCities = PriceInfo.DepartureCityPriceList.map(function (item) {\n              return item.DepartureCityId;\n            }); //  Id , \n            if (!(curProductIdDepartCities.length === 1 && !allDepartCities.includes(Number(query.departcityid)))) {\n              _context75.next = 14;\n              break;\n            }\n            onlyDepartCity = curProductIdDepartCities[0]; // url , \n            if (query.departcityid) {\n              _context75.next = 9;\n              break;\n            }\n            return _context75.abrupt(\"return\", false);\n          case 9:\n            if (!(onlyDepartCity.DepartureCityId !== Number(query.departcityid))) {\n              _context75.next = 14;\n              break;\n            }\n            // lastToastToken = await ctx.showToastWithCallback(\n            //     `${onlyDepartCity.DepartureCityName}`\n            // )\n            ctx.showToast(\"\\u672C\\u4EA7\\u54C1\\u4EC5\\u652F\\u6301\\u3010\".concat(onlyDepartCity.DepartureCityName, \"\\u3011\\u51FA\\u53D1\\uFF0C\\u5DF2\\u4E3A\\u60A8\\u81EA\\u52A8\\u5207\\u6362\"), 2);\n            traceSingleDepartureSwitchCity(0);\n            traceDepartcityMetricInfo({\n              sceneType: 2,\n              isAccept: true\n            });\n            return _context75.abrupt(\"return\", false);\n          case 14:\n            return _context75.abrupt(\"return\", true);\n          case 15:\n          case \"end\":\n            return _context75.stop();\n        }\n      }, _callee75);\n    }));\n    return function checkChangeToOnlyDepartCity() {\n      return _ref75.apply(this, arguments);\n    };\n  }();\n\n  /** ,  */\n  var checkChangeToOtherDepartCity = /*#__PURE__*/function () {\n    var _ref76 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee76() {\n      var _store$getState117, query, BasicInfo, currentRouteInfo, TourGroupInfo, PriceInfo, allDepartCities, targetProduct, curLine, targetLine, urlCityName, LINE_ALIAS, UPDATE_ALERT_MASK, _urlCityName, alertInfo;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee76$(_context76) {\n        while (1) switch (_context76.prev = _context76.next) {\n          case 0:\n            _store$getState117 = store.getState(), query = _store$getState117.query, BasicInfo = _store$getState117.BasicInfo, currentRouteInfo = _store$getState117.currentRouteInfo, TourGroupInfo = _store$getState117.TourGroupInfo;\n            PriceInfo = currentRouteInfo.PriceInfo;\n            if (!(query.departcityid && Number(query.departcityid) !== BasicInfo.DepartureId && Number(query.departcityid))) {\n              _context76.next = 32;\n              break;\n            }\n            if (PriceInfo.DepartureCityPriceList) {\n              _context76.next = 5;\n              break;\n            }\n            return _context76.abrupt(\"return\", true);\n          case 5:\n            allDepartCities = PriceInfo.DepartureCityPriceList.map(function (item) {\n              return item.DepartureCityId;\n            });\n            if (!(allDepartCities.includes(Number(query.departcityid)) && TourGroupInfo && TourGroupInfo.TourGroupProductInfo)) {\n              _context76.next = 22;\n              break;\n            }\n            // \n            targetProduct = TourGroupInfo.TourGroupProductInfo.filter(function (item) {\n              return item.DepartureCities.includes(Number(query.departcityid));\n            })[0];\n            _context76.next = 10;\n            return handlers.handleChangeDepartCity(Number(query.departcityid), targetProduct.ProductId, false, false);\n          case 10:\n            curLine = TourGroupInfo.TourGroupProductInfo.filter(function (item) {\n              return item.ProductId === Number(query.productid);\n            })[0];\n            targetLine = TourGroupInfo.TourGroupProductInfo.filter(function (item) {\n              return item.ProductId === targetProduct.ProductId;\n            })[0];\n            _context76.next = 14;\n            return fetchCityNameByCityId(query.departcityid);\n          case 14:\n            urlCityName = _context76.sent;\n            LINE_ALIAS = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\n            ctx.showToast(\"\".concat(LINE_ALIAS[curLine.SortNumber - 1], \"\\u7EBF\\u4E0D\\u652F\\u6301\").concat(urlCityName, \"\\u51FA\\u53D1\\uFF0C\\u5DF2\\u4E3A\\u60A8\\u81EA\\u52A8\\u5207\\u6362\\u5230\").concat(LINE_ALIAS[targetLine.SortNumber - 1], \"\\u7EBF\"));\n            traceAutoChangeline();\n            traceDepartcityMetricInfo({\n              sceneType: 1,\n              isAccept: true\n            });\n            return _context76.abrupt(\"return\", false);\n          case 22:\n            // \n            UPDATE_ALERT_MASK = actions.UPDATE_ALERT_MASK;\n            _context76.next = 25;\n            return fetchCityNameByCityId(query.departcityid);\n          case 25:\n            _urlCityName = _context76.sent;\n            alertInfo = {\n              type: \"choose_other_city\",\n              isShowAlertMask: true,\n              mainBtnText: \"\",\n              subBtnText: \"\",\n              title: \"\\u672C\\u4EA7\\u54C1\\u4E0D\\u652F\\u6301\\u4ECE\".concat(_urlCityName, \"\\u51FA\\u53D1\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u5207\\u6362\\u51FA\\u53D1\\u57CE\\u5E02\")\n            };\n            UPDATE_ALERT_MASK(alertInfo);\n            traceChangeCityPopExpos();\n            return _context76.abrupt(\"return\", false);\n          case 30:\n            _context76.next = 33;\n            break;\n          case 32:\n            return _context76.abrupt(\"return\", true);\n          case 33:\n          case \"end\":\n            return _context76.stop();\n        }\n      }, _callee76);\n    }));\n    return function checkChangeToOtherDepartCity() {\n      return _ref76.apply(this, arguments);\n    };\n  }();\n\n  /** ,  (1. 2.)*/\n  var checkAutoSelectDepartCity = /*#__PURE__*/function () {\n    var _ref77 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee77() {\n      var _store$getState118, query, BasicInfo, LocationInfo, currentRouteInfo, PriceInfo, cachedCityId, locationCityId, availableCityList, UPDATE_ALERT_MASK, alertInfo;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee77$(_context77) {\n        while (1) switch (_context77.prev = _context77.next) {\n          case 0:\n            _store$getState118 = store.getState(), query = _store$getState118.query, BasicInfo = _store$getState118.BasicInfo, LocationInfo = _store$getState118.LocationInfo, currentRouteInfo = _store$getState118.currentRouteInfo;\n            PriceInfo = currentRouteInfo.PriceInfo;\n            if (query.departcityid) {\n              _context77.next = 24;\n              break;\n            }\n            if (!(!LocationInfo || !LocationInfo.locationCityId && !LocationInfo.departureCityId)) {\n              _context77.next = 5;\n              break;\n            }\n            return _context77.abrupt(\"return\", true);\n          case 5:\n            cachedCityId = Number(LocationInfo.departureCityId) || 0;\n            locationCityId = Number(LocationInfo.locationCityId) || 0;\n            availableCityList = PriceInfo && PriceInfo.DepartureCityPriceList && PriceInfo.DepartureCityPriceList.map(function (item) {\n              return item.DepartureCityId;\n            });\n            if (!(availableCityList && availableCityList.includes(cachedCityId))) {\n              _context77.next = 14;\n              break;\n            }\n            if (!(cachedCityId !== BasicInfo.DepartureId)) {\n              _context77.next = 12;\n              break;\n            }\n            _context77.next = 12;\n            return handlers.handleChangeDepartCity(cachedCityId, BasicInfo.ProductId, false, false);\n          case 12:\n            _context77.next = 21;\n            break;\n          case 14:\n            if (!(availableCityList && availableCityList.includes(locationCityId))) {\n              _context77.next = 20;\n              break;\n            }\n            if (!(locationCityId !== BasicInfo.DepartureId)) {\n              _context77.next = 18;\n              break;\n            }\n            _context77.next = 18;\n            return handlers.handleChangeDepartCity(locationCityId, BasicInfo.ProductId, false, false);\n          case 18:\n            _context77.next = 21;\n            break;\n          case 20:\n            if (availableCityList && availableCityList.length) {\n              //  \n              UPDATE_ALERT_MASK = actions.UPDATE_ALERT_MASK;\n              alertInfo = {\n                type: \"choose_other_city\",\n                isShowAlertMask: true,\n                mainBtnText: \"\",\n                subBtnText: \"\",\n                title: \"\\u672C\\u4EA7\\u54C1\\u652F\\u6301\\u591A\\u5730\\u51FA\\u53D1\\uFF0C\\u5EFA\\u8BAE\\u60A8\\u5207\\u6362\\u51FA\\u53D1\\u57CE\\u5E02\"\n              };\n              UPDATE_ALERT_MASK(alertInfo);\n              traceChangeCityPopExpos();\n            }\n          case 21:\n            return _context77.abrupt(\"return\", false);\n          case 24:\n            return _context77.abrupt(\"return\", true);\n          case 25:\n          case \"end\":\n            return _context77.stop();\n        }\n      }, _callee77);\n    }));\n    return function checkAutoSelectDepartCity() {\n      return _ref77.apply(this, arguments);\n    };\n  }();\n\n  // \n  var checkNewProcessSelectedDateAvailable = function checkNewProcessSelectedDateAvailable() {\n    var _store$getState119 = store.getState(),\n      newProcessSelectDate = _store$getState119.newProcessSelectDate,\n      priceCalendarData = _store$getState119.priceCalendarData,\n      pageStatus = _store$getState119.pageStatus,\n      currentRouteInfo = _store$getState119.currentRouteInfo,\n      groupCard = _store$getState119.groupCard;\n    var SET_NEWPROCESS_SELECT_DATE = actions.SET_NEWPROCESS_SELECT_DATE,\n      SET_LINE_SWITCH_LOADING = actions.SET_LINE_SWITCH_LOADING;\n    if (!hasRefreshedLineReset) {\n      return;\n    }\n    if (!newProcessSelectDate) {\n      fetchProductScheduleDesc();\n      var curD2DSwitchType = pageStatus.curD2DSwitchType;\n      //  \n      if (curD2DSwitchType) {\n        checkD2DSwitchSelectedDateAvailable();\n        return;\n      } else {\n        SET_LINE_SWITCH_LOADING(false);\n        return;\n      }\n    }\n    var activeProductId = pageStatus.activeProductId,\n      isMultiTravel = pageStatus.isMultiTravel,\n      activeAlias = pageStatus.activeAlias;\n    var curLineAllDates = currentRouteInfo.dailyMinPrices;\n    if (isMultiTravel) {\n      if (curLineAllDates && curLineAllDates.length) {\n        var curAliasAvailableDates = curLineAllDates.filter(function (item) {\n          return item === null || item === void 0 ? void 0 : item.productPrices.some(function (line) {\n            return line.alias === activeAlias;\n          });\n        });\n        if (curAliasAvailableDates.some(function (item) {\n          return item.date === newProcessSelectDate;\n        })) {\n          console.log(\"\");\n        } else {\n          SET_NEWPROCESS_SELECT_DATE(\"\");\n          console.log(\"\", 1);\n          ctx.showToast(\"\");\n        }\n      }\n    } else {\n      // console.log('checkNewProcessSelectedDateAvailable', curLineAllDates, dailyMinPrice, newProcessSelectDate, activeProductId, availableLine)\n\n      if (!curLineAllDates || !curLineAllDates.length) {\n        // \n        var curPreSaleProductId;\n        if (groupCard && groupCard.cards && groupCard.cards.length) {\n          var curPreSaleInfo = groupCard.cards.find(function (item) {\n            return item.productId === activeProductId;\n          });\n          if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n            curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n          }\n        }\n        if (!curPreSaleProductId) {\n          SET_NEWPROCESS_SELECT_DATE(\"\");\n          ctx.showToast(\"\");\n        }\n      } else {\n        if (priceCalendarData) {\n          var dailyMinPrice = priceCalendarData.dailyMinPrice;\n          if (dailyMinPrice[newProcessSelectDate]) {\n            var productPrices = dailyMinPrice[newProcessSelectDate].productPrices;\n            if (productPrices && productPrices.find(function (item) {\n              return item.productId === activeProductId;\n            })) {\n              console.log(\"\");\n            } else {\n              SET_NEWPROCESS_SELECT_DATE(\"\");\n              console.log(\"\", 2);\n              ctx.showToast(\"\");\n            }\n          } else {\n            SET_NEWPROCESS_SELECT_DATE(\"\");\n            console.log(\"\", 3);\n            ctx.showToast(\"\");\n          }\n        }\n      }\n    }\n    SET_LINE_SWITCH_LOADING(false);\n    fetchProductScheduleDesc();\n  };\n\n  // \n  var checkD2DSwitchSelectedDateAvailable = function checkD2DSwitchSelectedDateAvailable() {\n    var _store$getState120 = store.getState(),\n      copiedOriginalProductState = _store$getState120.copiedOriginalProductState,\n      copiedNewProductState = _store$getState120.copiedNewProductState,\n      pageStatus = _store$getState120.pageStatus,\n      priceCalendarData = _store$getState120.priceCalendarData;\n    var SET_NEWPROCESS_SELECT_DATE = actions.SET_NEWPROCESS_SELECT_DATE,\n      SET_LINE_SWITCH_LOADING = actions.SET_LINE_SWITCH_LOADING;\n    var curD2DSwitchType = pageStatus.curD2DSwitchType,\n      activeProductId = pageStatus.activeProductId,\n      initD2DSwitchType = pageStatus.initD2DSwitchType;\n    var newProcessSelectDate, currentRouteInfo, groupCard, isMultiTravel, activeAlias;\n    console.log(\"checkD2DSwitchSelectedDateAvailable\", curD2DSwitchType);\n    if (curD2DSwitchType !== initD2DSwitchType) {\n      console.log(\"checkD2DSwitchSelectedDateAvailable1\", copiedOriginalProductState);\n      if (!copiedOriginalProductState) {\n        return;\n      }\n      newProcessSelectDate = copiedOriginalProductState.newProcessSelectDate;\n      currentRouteInfo = copiedOriginalProductState.currentRouteInfo;\n      groupCard = copiedOriginalProductState.groupCard;\n      isMultiTravel = copiedOriginalProductState.pageStatus.isMultiTravel;\n      activeAlias = copiedOriginalProductState.pageStatus.activeAlias;\n    } else {\n      if (!copiedNewProductState) {\n        return;\n      }\n      newProcessSelectDate = copiedNewProductState.newProcessSelectDate;\n      currentRouteInfo = copiedNewProductState.currentRouteInfo;\n      groupCard = copiedNewProductState.groupCard;\n      isMultiTravel = copiedNewProductState.pageStatus.isMultiTravel;\n      activeAlias = copiedNewProductState.pageStatus.activeAlias;\n    }\n    if (!newProcessSelectDate) {\n      return;\n    }\n    var _currentRouteInfo = currentRouteInfo,\n      curLineAllDates = _currentRouteInfo.dailyMinPrices;\n    if (isMultiTravel) {\n      if (curLineAllDates && curLineAllDates.length) {\n        var curAliasAvailableDates = curLineAllDates.filter(function (item) {\n          return item === null || item === void 0 ? void 0 : item.productPrices.some(function (line) {\n            return line.alias === activeAlias;\n          });\n        });\n        if (curAliasAvailableDates.some(function (item) {\n          return item.date === newProcessSelectDate;\n        })) {\n          console.log(\"\");\n        } else {\n          SET_NEWPROCESS_SELECT_DATE(\"\");\n          console.log(\"\", 4);\n          ctx.showToast(\"\");\n        }\n      }\n    } else {\n      console.log(\"checkD2DSwitchSelectedDateAvailable2\", curLineAllDates, newProcessSelectDate, activeProductId, priceCalendarData);\n      if (!curLineAllDates || !curLineAllDates.length) {\n        // \n        var curPreSaleProductId;\n        if (groupCard && groupCard.cards && groupCard.cards.length) {\n          var curPreSaleInfo = groupCard.cards.find(function (item) {\n            return item.productId === activeProductId;\n          });\n          if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n            curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n          }\n        }\n        if (!curPreSaleProductId) {\n          SET_NEWPROCESS_SELECT_DATE(\"\");\n          ctx.showToast(\"\");\n        }\n      } else {\n        if (priceCalendarData) {\n          var dailyMinPrice = priceCalendarData.dailyMinPrice;\n          if (dailyMinPrice[newProcessSelectDate]) {\n            var productPrices = dailyMinPrice[newProcessSelectDate].productPrices;\n            if (productPrices && productPrices.find(function (item) {\n              return item.productId === activeProductId;\n            })) {\n              console.log(\"\");\n              SET_NEWPROCESS_SELECT_DATE(newProcessSelectDate);\n\n              // \n              if (ctx.Platform === \"RN\") {\n                fetchFlightDiscountDetail();\n                fetchProductScheduleDesc();\n              }\n            } else {\n              SET_NEWPROCESS_SELECT_DATE(\"\");\n              console.log(\"\", 5);\n              ctx.showToast(\"\");\n            }\n          } else {\n            SET_NEWPROCESS_SELECT_DATE(\"\");\n            console.log(\"\", 6);\n            ctx.showToast(\"\");\n          }\n        }\n      }\n    }\n    SET_LINE_SWITCH_LOADING(false);\n  };\n\n  //  url \n  var checkShouldSelectPreSale = /*#__PURE__*/function () {\n    var _ref78 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee78() {\n      var _store$getState121, query, groupCard, pageStatus, isPreSale, SET_SHOW_PRESALE_MULTIROUTE, activeProductId, curPreSaleProductId, curPreSaleParentProductId, curPreSaleInfo;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee78$(_context78) {\n        while (1) switch (_context78.prev = _context78.next) {\n          case 0:\n            _store$getState121 = store.getState(), query = _store$getState121.query, groupCard = _store$getState121.groupCard, pageStatus = _store$getState121.pageStatus, isPreSale = _store$getState121.isPreSale;\n            SET_SHOW_PRESALE_MULTIROUTE = actions.SET_SHOW_PRESALE_MULTIROUTE;\n            activeProductId = pageStatus.activeProductId;\n            if (isPreSale) {\n              _context78.next = 6;\n              break;\n            }\n            SET_SHOW_PRESALE_MULTIROUTE();\n            return _context78.abrupt(\"return\");\n          case 6:\n            if (!(query && query.presaleid)) {\n              _context78.next = 17;\n              break;\n            }\n            // Id\n\n            // Id\n\n            if (groupCard && groupCard.cards && groupCard.cards.length) {\n              curPreSaleInfo = groupCard.cards.find(function (item) {\n                if (item && item.preSaleProductInfo && item.preSaleProductInfo.productId === Number(query.presaleid)) {\n                  return true;\n                } else {\n                  return false;\n                }\n              });\n              if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n                curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n                curPreSaleParentProductId = curPreSaleInfo.productId;\n              }\n            }\n            if (!curPreSaleProductId) {\n              _context78.next = 16;\n              break;\n            }\n            if (!(activeProductId === curPreSaleParentProductId)) {\n              _context78.next = 13;\n              break;\n            }\n            handlers.handleSelectPreSaleDate();\n            _context78.next = 16;\n            break;\n          case 13:\n            _context78.next = 15;\n            return handlers.handleMultiLineChange(curPreSaleParentProductId);\n          case 15:\n            handlers.handleSelectPreSaleDate();\n          case 16:\n            SET_SHOW_PRESALE_MULTIROUTE();\n          case 17:\n          case \"end\":\n            return _context78.stop();\n        }\n      }, _callee78);\n    }));\n    return function checkShouldSelectPreSale() {\n      return _ref78.apply(this, arguments);\n    };\n  }();\n\n  /**  AB  */\n  var getABTestResult = /*#__PURE__*/function () {\n    var _ref79 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee80() {\n      var _store$getState122, query, SET_ABTEST_RESULT, UPDATE_STATE, ABTestResult, promiseList, resultList;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee80$(_context80) {\n        while (1) switch (_context80.prev = _context80.next) {\n          case 0:\n            _store$getState122 = store.getState(), query = _store$getState122.query;\n            SET_ABTEST_RESULT = actions.SET_ABTEST_RESULT, UPDATE_STATE = actions.UPDATE_STATE;\n            ABTestResult = {};\n            promiseList = ABTestCodeList.map( /*#__PURE__*/function () {\n              var _ref80 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee79(code) {\n                var result;\n                return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee79$(_context79) {\n                  while (1) switch (_context79.prev = _context79.next) {\n                    case 0:\n                      _context79.next = 2;\n                      return ctx.getABTest(code);\n                    case 2:\n                      result = _context79.sent;\n                      return _context79.abrupt(\"return\", {\n                        code: code,\n                        version: result.ExpVersion || \"A\"\n                      });\n                    case 4:\n                    case \"end\":\n                      return _context79.stop();\n                  }\n                }, _callee79);\n              }));\n              return function (_x31) {\n                return _ref80.apply(this, arguments);\n              };\n            }());\n            _context80.next = 6;\n            return Promise.all(promiseList);\n          case 6:\n            resultList = _context80.sent;\n            resultList.forEach(function (_ref81) {\n              var code = _ref81.code,\n                version = _ref81.version;\n              ABTestResult[code] = version;\n            });\n            SET_ABTEST_RESULT(ABTestResult);\n          case 9:\n          case \"end\":\n            return _context80.stop();\n        }\n      }, _callee80);\n    }));\n    return function getABTestResult() {\n      return _ref79.apply(this, arguments);\n    };\n  }();\n  var getAB = /*#__PURE__*/function () {\n    var _ref82 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee81(ABCode) {\n      var result, ABCodeResult;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee81$(_context81) {\n        while (1) switch (_context81.prev = _context81.next) {\n          case 0:\n            if (!((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) !== \"RN\")) {\n              _context81.next = 2;\n              break;\n            }\n            return _context81.abrupt(\"return\");\n          case 2:\n            _context81.next = 4;\n            return ctx.getABTest(ABCode);\n          case 4:\n            result = _context81.sent;\n            ABCodeResult = (result === null || result === void 0 ? void 0 : result.ExpVersion) || \"A\";\n            return _context81.abrupt(\"return\", ABCodeResult);\n          case 7:\n          case \"end\":\n            return _context81.stop();\n        }\n      }, _callee81);\n    }));\n    return function getAB(_x32) {\n      return _ref82.apply(this, arguments);\n    };\n  }();\n\n  /**  IM  */\n  var getJumpIMUrl = function getJumpIMUrl() {\n    var isAdvisor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var _store$getState123 = store.getState(),\n      BasicInfo = _store$getState123.BasicInfo,\n      pageId = _store$getState123.pageId,\n      VendorInfo = _store$getState123.VendorInfo,\n      pageStatus = _store$getState123.pageStatus,\n      TourGroupInfo = _store$getState123.TourGroupInfo;\n    var activeProductId = pageStatus.activeProductId,\n      activeAlias = pageStatus.activeAlias,\n      isMultiLine = pageStatus.isMultiLine,\n      isMultiTravel = pageStatus.isMultiTravel;\n    var _ref83 = TourGroupInfo || {},\n      TourGroupProductInfo = _ref83.TourGroupProductInfo;\n    if (!VendorInfo) {\n      return;\n    }\n\n    //  1105\n    var isRetail = BasicInfo.SaleMode === \"R\";\n    var groupBizType = isRetail ? 1115 : 1105;\n    var extendJson = {\n      providerId: String(VendorInfo.VenderId)\n    };\n    // im\n    if (isMultiLine) {\n      var activeLine = TourGroupProductInfo.filter(function (item) {\n        return item.ProductId == activeProductId;\n      })[0];\n      if (activeLine) {\n        var LINE = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\n        extendJson.lineDesc = LINE[activeLine.SortNumber - 1];\n      }\n    } else if (isMultiTravel) {\n      extendJson.routeDesc = activeAlias;\n    }\n    var params = {\n      IMCode: isAdvisor ? \"01090800\" : getIMCode(),\n      productId: String(BasicInfo.ProductId),\n      destinationIdList: [BasicInfo.DestCityId],\n      departureCityId: String(BasicInfo.DepartureId),\n      saleCityId: String(BasicInfo.SaleCityId),\n      pageId: pageId,\n      isPreSale: \"1\",\n      providerId: String(VendorInfo.VenderId),\n      ExtendJson: JSON.stringify(extendJson)\n    };\n    ctx.Storage.save({\n      key: \"TOUR_GROUPCHAT_ROBOT\",\n      value: JSON.stringify(params),\n      domain: \"tour\"\n    });\n    return \"ctrip://wireless/tour_groupchat_robot?groupBizType=\" + groupBizType;\n  };\n  var formatServiceUrlForPhotoBrowser = function formatServiceUrlForPhotoBrowser(servicePersonID) {\n    var _store$getState124 = store.getState(),\n      BasicInfo = _store$getState124.BasicInfo,\n      VendorInfo = _store$getState124.VendorInfo,\n      currentRouteInfo = _store$getState124.currentRouteInfo;\n    if (!VendorInfo) {\n      return {};\n    }\n    var servicePerson = currentRouteInfo.servicePerson;\n    var isSelf = BasicInfo.SaleMode === \"S\";\n    var providerID = VendorInfo.VenderId;\n    var url = \"/webapp/vacations/shop/tourguide\";\n    var params = {\n      servicepersonid: servicePersonID,\n      supplierid: isSelf ? \"0\" : String(providerID),\n      productid: BasicInfo.ProductId,\n      departcityid: BasicInfo.DepartureId,\n      detailpagename: ctx.RegisterPageName,\n      showproduct: 1,\n      showserveproducts: 1,\n      isHideNavBar: \"YES\"\n    };\n    if (servicePerson && servicePerson.roleType && servicePerson.roleType === 3) {\n      params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n        tpal: 1\n      });\n    }\n\n    // RNguideJumpUrl\n    var guideJumpUrl = url;\n    if (ctx.Platform === \"RN\") {\n      guideJumpUrl = ctx.parseUrl(url, params);\n      // /webapp/url\n      if (guideJumpUrl.indexOf('/webapp/') === 0) {\n        guideJumpUrl = HTTPS_HOST + guideJumpUrl;\n      }\n    }\n    return {\n      url: url,\n      params: params,\n      guideJumpUrl: guideJumpUrl\n    };\n  };\n\n  // \n  var refreshSelectedLine = /*#__PURE__*/function () {\n    var _ref84 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee82() {\n      var _store$getState125, pageStatus, isMultiLine, isMultiTravel, result, _result;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee82$(_context82) {\n        while (1) switch (_context82.prev = _context82.next) {\n          case 0:\n            _context82.prev = 0;\n            _store$getState125 = store.getState(), pageStatus = _store$getState125.pageStatus;\n            isMultiLine = pageStatus.isMultiLine, isMultiTravel = pageStatus.isMultiTravel;\n            if (!isMultiLine) {\n              _context82.next = 8;\n              break;\n            }\n            _context82.next = 6;\n            return ctx.get(\"CALENDAR_SELECT_LINE\");\n          case 6:\n            result = _context82.sent;\n            if (result) {\n              handlers.handleMultiLineChange(Number(result), false, false);\n              ctx.remove(\"CALENDAR_SELECT_LINE\");\n            }\n          case 8:\n            if (!isMultiTravel) {\n              _context82.next = 13;\n              break;\n            }\n            _context82.next = 11;\n            return ctx.get(\"CALENDAR_SELECT_ALIAS\");\n          case 11:\n            _result = _context82.sent;\n            if (_result) {\n              handlers.handleMultiTravelChange(_result);\n              ctx.remove(\"CALENDAR_SELECT_ALIAS\");\n            }\n          case 13:\n            _context82.next = 18;\n            break;\n          case 15:\n            _context82.prev = 15;\n            _context82.t0 = _context82[\"catch\"](0);\n            console.log(\"refreshSelectedLine\", _context82.t0);\n          case 18:\n          case \"end\":\n            return _context82.stop();\n        }\n      }, _callee82, null, [[0, 15]]);\n    }));\n    return function refreshSelectedLine() {\n      return _ref84.apply(this, arguments);\n    };\n  }();\n\n  // idid\n  var redirectToMainProductId = /*#__PURE__*/function () {\n    var _ref86 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee83(_ref85) {\n      var PreSaleTourGroupInfo, productid, UPDATE_URL_QUERY, PreSaleInfo, curMainProductInfo, ProductId;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee83$(_context83) {\n        while (1) switch (_context83.prev = _context83.next) {\n          case 0:\n            PreSaleTourGroupInfo = _ref85.PreSaleTourGroupInfo, productid = _ref85.productid;\n            UPDATE_URL_QUERY = actions.UPDATE_URL_QUERY;\n            if (!(PreSaleTourGroupInfo && PreSaleTourGroupInfo.PreSaleInfo && PreSaleTourGroupInfo.PreSaleInfo.length)) {\n              _context83.next = 13;\n              break;\n            }\n            PreSaleInfo = PreSaleTourGroupInfo.PreSaleInfo;\n            curMainProductInfo = PreSaleInfo.find(function (item) {\n              return item.PreSaleProductId === Number(productid);\n            });\n            if (!curMainProductInfo) {\n              _context83.next = 13;\n              break;\n            }\n            ProductId = curMainProductInfo.ProductId;\n            if (!ProductId) {\n              _context83.next = 13;\n              break;\n            }\n            UPDATE_URL_QUERY({\n              productid: ProductId,\n              presaleid: productid,\n              nocache: 1\n            });\n            _context83.next = 11;\n            return fetchProductBasicInfo();\n          case 11:\n            ctx.sendKMLog({\n              attrs: [{\n                key: \"productId\",\n                value: productid\n              }],\n              scene: \"Id\",\n              action: \"sys_change\",\n              value: \"\\u4FEE\\u6B63\\u540E\\u4EA7\\u54C1Id\\uFF1A\".concat(ProductId),\n              before: \"\\u539F\\u59CBURL\\u4EA7\\u54C1Id\\uFF1A\".concat(productid)\n            });\n            return _context83.abrupt(\"return\", true);\n          case 13:\n            return _context83.abrupt(\"return\", false);\n          case 14:\n          case \"end\":\n            return _context83.stop();\n        }\n      }, _callee83);\n    }));\n    return function redirectToMainProductId(_x33) {\n      return _ref86.apply(this, arguments);\n    };\n  }();\n  /************************* Logs **************************/\n  /**  pageId */\n  var setPageId = function setPageId(BasicInfo, query) {\n    var PAGEID_MAP = ctx.Platform === \"RN\" ? {\n      \"11\": \"401019\",\n      \"10\": \"401020\",\n      \"9\": \"401021\",\n      \"26\": \"401023\",\n      \"13\": \"404027\",\n      \"33\": \"600001573\",\n      \"34\": \"600001573\",\n      \"41\": \"600001573\",\n      \"42\": \"600001573\",\n      sale: \"401007\",\n      route: \"401040\",\n      theme: \"600005140\",\n      privileged: \"220241\",\n      original: \"220240\",\n      diyfhxsdp: \"600000786\",\n      pureDiyfhxsdp: \"411017\",\n      cruise: \"10650053814\",\n      default: \"600001573\"\n    } : {\n      \"11\": \"220102\",\n      \"10\": \"220103\",\n      \"9\": \"220104\",\n      \"26\": \"220106\",\n      \"13\": \"223027\",\n      \"33\": \"600001565\",\n      \"34\": \"600001565\",\n      \"41\": \"600001565\",\n      \"42\": \"600001565\",\n      sale: \"104313\",\n      route: \"220133\",\n      theme: \"600005137\",\n      privileged: \"220241\",\n      original: \"220240\",\n      diyfhxsdp: \"600000785\",\n      pureDiyfhxsdp: \"234017\",\n      cruise: \"10650053814\",\n      default: \"600001565\"\n    };\n    if (!BasicInfo) {\n      return;\n    }\n    var type = BasicInfo.ProductCategoryId;\n    if (BasicInfo.isCruise) {\n      type = \"cruise\";\n    } else if (BasicInfo.isPureDiyfhxsdp) {\n      type = \"pureDiyfhxsdp\";\n    } else if (BasicInfo.isDiyfhxsdp) {\n      type = \"diyfhxsdp\";\n    } else if (query.sharetype) {\n      type = query.sharetype;\n    } else if (BasicInfo.IsThemeProduct) {\n      type = \"theme\";\n    }\n    var pageId = PAGEID_MAP[type] || PAGEID_MAP[\"default\"];\n    if ((ctx === null || ctx === void 0 ? void 0 : ctx.Platform) === \"Taro\") {\n      ctx.sendPV({\n        pageId: pageId,\n        url: ctx.url\n      });\n    } else {\n      //  pageId\n      ctx.asyncSetPageId && ctx.asyncSetPageId(pageId);\n      ctx.Log.logPage(pageId, {\n        targetPageRef: ctx.pageviewIdentity,\n        __page_hierarchy_id: ctx.__page_hierarchy_id\n      });\n    }\n    // ctx.Log.send('pv', { page_id: pageId, url: ctx.url })\n\n    return pageId;\n  };\n\n  /**  */\n  var traceInitLogs = function traceInitLogs() {\n    traceViewHistory();\n    traceAppRemarketing();\n    sendTrack();\n    traceStudy();\n    traceBasicInfo();\n    traceCanNotBook();\n    traceInvalidProduct();\n    traceURLDepartureChange();\n    traceRequestRef();\n    setCtmRefStorage();\n  };\n\n  /**  */\n  var traceViewHistory = function traceViewHistory() {\n    var _store$getState126 = store.getState(),\n      BasicInfo = _store$getState126.BasicInfo,\n      pageStatus = _store$getState126.pageStatus,\n      BookInfo = _store$getState126.BookInfo,\n      ScheduleInfo = _store$getState126.ScheduleInfo,\n      currentRouteInfo = _store$getState126.currentRouteInfo;\n    var PriceInfo = currentRouteInfo.PriceInfo;\n    if (!BookInfo || !ScheduleInfo || !PriceInfo) {\n      return;\n    }\n    var key = ctx.Platform === \"RN\" ? \"pkg_detail_view_app_basic\" : \"pkg_detail_view_h5_basic\";\n    var vacationType;\n    switch (BasicInfo.ProductPatternId) {\n      case 2:\n        vacationType = \"diy\";\n        break;\n      case 3:\n        vacationType = \"self\";\n        break;\n      case 4:\n        vacationType = \"private\";\n        break;\n      default:\n        vacationType = \"pkg\";\n    }\n    if (BasicInfo.isCruise) {\n      vacationType = \"Cruise_New\";\n    }\n    traceCruiseHistory();\n    var line_type = pageStatus.isMultiLine ? \"\" : pageStatus.isMultiTravel ? \"\" : \"\";\n    var value = {\n      to_poi: {\n        poiname: BasicInfo.DestCityName,\n        poiid: BasicInfo.DestCityId\n      },\n      from: {\n        cityname: BasicInfo.DepartureCityName,\n        cityid: BasicInfo.DepartureId\n      },\n      vacationtype: vacationType,\n      productid: BasicInfo.ProductId,\n      is_sold: !BookInfo.IsBook || !ScheduleInfo.HasInventory ? 1 : 0,\n      price: PriceInfo.MinPrice,\n      line_type: line_type,\n      ispresell: BasicInfo.PreSaleStatus === 1,\n      originprice: PriceInfo.OriginPrice,\n      displayprice: PriceInfo.DisplayPrice\n    };\n    ctx.tracelog(key, value);\n  };\n\n  // \n  var traceCruiseHistory = function traceCruiseHistory() {\n    var _store$getState127 = store.getState(),\n      BasicInfo = _store$getState127.BasicInfo,\n      pageId = _store$getState127.pageId,\n      isLogin = _store$getState127.isLogin;\n    if (!isLogin) {\n      return;\n    }\n    var bizType = \"Tour_pkg\";\n    switch (BasicInfo.ProductPatternId) {\n      case 2:\n        bizType = \"Tour_diy\";\n        break;\n      case 3:\n        bizType = \"Tour_self\";\n        break;\n      case 4:\n        bizType = \"Tour_private\";\n        break;\n      default:\n        bizType = \"Tour_pkg\";\n    }\n    if (BasicInfo.isCruise) {\n      bizType = \"Cruise_New\";\n    }\n    var params = {\n      pageType: \"Detail\",\n      channel: \"App\",\n      site: \"ctrip\",\n      bizType: bizType,\n      commonData: {\n        fromCityId: BasicInfo.DepartureId,\n        productId: String(BasicInfo.ProductId),\n        pageId: pageId\n      }\n    };\n    try {\n      ctx.post(\"saveBrowseHistory\", params);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  /** App  */\n  var traceAppRemarketing = function traceAppRemarketing() {\n    var _store$getState128 = store.getState(),\n      pageStatus = _store$getState128.pageStatus,\n      BasicInfo = _store$getState128.BasicInfo;\n    var ProductCategoryId = BasicInfo.ProductCategoryId,\n      ProductId = BasicInfo.ProductId,\n      DepartureId = BasicInfo.DepartureId,\n      SaleCityId = BasicInfo.SaleCityId;\n    var suffix = \"p\".concat(ProductId, \"s\").concat(SaleCityId, \"d\").concat(DepartureId);\n    // \n    if ([9, 10, 33, 41].includes(ProductCategoryId)) {\n      var value = \"\";\n      if (BasicInfo.isStudy) {\n        value = \"youxue-detail-inland-\".concat(suffix);\n      } else {\n        value = \"grouptravel-detail-domestic-\".concat(suffix);\n      }\n      ctx.Business.logGoogleRemarking(value, {\n        type: \"hybrid\"\n      });\n    }\n    // \n    if ([11, 26, 34, 42].includes(ProductCategoryId)) {\n      var _value = \"\";\n      if (BasicInfo.isStudy) {\n        _value = \"youxue-detail-int-\".concat(suffix);\n      } else {\n        _value = \"grouptravel-detail-overseas-\".concat(suffix);\n      }\n      ctx.Business.logGoogleRemarking(_value, {\n        type: \"hybrid\"\n      });\n    }\n  };\n\n  /** view  */\n  var sendTrack = function sendTrack() {\n    var _store$getState129 = store.getState(),\n      BasicInfo = _store$getState129.BasicInfo,\n      userInfo = _store$getState129.userInfo;\n    var ProductCategoryId = BasicInfo.ProductCategoryId,\n      ProductId = BasicInfo.ProductId,\n      DepartureId = BasicInfo.DepartureId,\n      DestCityId = BasicInfo.DestCityId;\n    var data = {\n      UID: userInfo.UserID,\n      IP: \"\",\n      From: DepartureId,\n      To: DestCityId,\n      ProductID: ProductId\n    };\n    var _arr = [],\n      _key = \"\";\n    if (ProductCategoryId == 10) {\n      //\n      _key = \"TOUR.BROWSE.DOMESTIC.LONG\";\n    } else if (ProductCategoryId == 9) {\n      //n\n      _key = \"TOUR.BROWSE.DOMESTIC.NDAY\";\n    } else if (ProductCategoryId == 11) {\n      //\n      _key = \"TOUR.BROWSE.ABROAD.LONG\";\n    } else if (ProductCategoryId == 26) {\n      //n\n      _key = \"TOUR.BROWSE.ABROAD.NDAY\";\n    }\n    if (!_key) return;\n    for (var k in data) {\n      _arr.push([k, \"=\", data[k]].join(\"\"));\n    }\n    ctx.tracelog(_key, _arr.join(\"&\"));\n  };\n\n  /**  */\n  var traceStudy = function traceStudy() {\n    var _store$getState130 = store.getState(),\n      BasicInfo = _store$getState130.BasicInfo;\n    var ProductCategoryId = BasicInfo.ProductCategoryId,\n      ProductId = BasicInfo.ProductId;\n    if (ProductCategoryId == 33 || ProductCategoryId == 34 || ProductCategoryId == 41 || ProductCategoryId == 42) {\n      var studyType = \"\";\n      if (ProductCategoryId == 34) {\n        studyType = \"\";\n      } else if (ProductCategoryId == 41) {\n        studyType = \"\";\n      } else if (ProductCategoryId == 42) {\n        studyType = \"\";\n      }\n      var key = ctx.Platform === \"RN\" ? \"pkg_youxue_protype_APP\" : \"pkg_youxue_protype_h5\";\n      var value = \"type=\" + studyType + \"&productid=\" + ProductId;\n      ctx.tracelog(key, value);\n    }\n  };\n\n  /**  */\n  var traceBasicInfo = function traceBasicInfo() {\n    var _store$getState131 = store.getState(),\n      BasicInfo = _store$getState131.BasicInfo,\n      pageStatus = _store$getState131.pageStatus;\n    var key = ctx.Platform === \"RN\" ? \"pkg_dtl_loading_app\" : \"pkg_dtl_loading_h5\";\n    var value = {\n      pkgid: BasicInfo.ProductId,\n      stcityid: BasicInfo.DepartureId,\n      slcityid: BasicInfo.SaleCityId,\n      pagebu: pageStatus.prodType\n    };\n    ctx.tracelog(key, value);\n  };\n\n  /**  */\n  var traceCanNotBook = function traceCanNotBook() {\n    var _store$getState132 = store.getState(),\n      BookInfo = _store$getState132.BookInfo,\n      ScheduleInfo = _store$getState132.ScheduleInfo;\n    if (!BookInfo.IsBook || !ScheduleInfo || !ScheduleInfo.HasInventory) {\n      traceBookErrorInfo({\n        operation: \"\",\n        messageid: \"vac_0080\",\n        message: \"\"\n      });\n    }\n  };\n\n  /**  */\n  var traceInvalidProduct = function traceInvalidProduct() {\n    var _store$getState133 = store.getState(),\n      BookInfo = _store$getState133.BookInfo;\n    if (!BookInfo.IsActive) {\n      traceBookErrorInfo({\n        operation: \"\",\n        messageid: \"vac_0079\",\n        message: \"\"\n      });\n    }\n  };\n\n  /**  */\n  var traceBookErrorInfo = function traceBookErrorInfo(options) {\n    var _store$getState134 = store.getState(),\n      BasicInfo = _store$getState134.BasicInfo,\n      pageId = _store$getState134.pageId;\n    var key = \"vacation_usershoppinginterruption_vac\";\n    var value = {\n      businessline: BasicInfo.isPureDiyfhxsdp ? \"sdp1.0\" : \"grp\",\n      merchandiseid: BasicInfo.ProductId,\n      startcity: BasicInfo.DepartureId,\n      pageid: pageId,\n      operation: options.operation,\n      messageid: options.messageid,\n      message: options.message\n    };\n    ctx.tracelog(key, value);\n  };\n\n  /** url */\n  var traceURLDepartureChange = function traceURLDepartureChange() {\n    var _store$getState135 = store.getState(),\n      BasicInfo = _store$getState135.BasicInfo,\n      query = _store$getState135.query;\n    var DepartureId = BasicInfo.DepartureId;\n    if (DepartureId != query.departcityid && query.departcityid) {\n      var key = \"pkg_detail_url_unmatch_city\";\n      var value = {\n        pkgid: BasicInfo.ProductId,\n        departcityid: query.departcityid,\n        citycode: DepartureId\n      };\n      ctx.tracelog(key, value);\n    }\n  };\n\n  /**  */\n  var traceChangeDepartureCity = /*#__PURE__*/function () {\n    var _ref87 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee84(oldCityId, newCityId) {\n      var _store$getState136, BasicInfo, isFromCalendar, key, value;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee84$(_context84) {\n        while (1) switch (_context84.prev = _context84.next) {\n          case 0:\n            _store$getState136 = store.getState(), BasicInfo = _store$getState136.BasicInfo;\n            _context84.next = 3;\n            return ctx.loadStorage(\"TOUR_DETAIL_JUMP_CALENDAR\", \"tour\");\n          case 3:\n            isFromCalendar = _context84.sent;\n            if (ctx.Platform === \"H5\") {\n              ctx.remove({\n                key: \"TOUR_DETAIL_JUMP_CALENDAR\",\n                domain: \"tour\"\n              });\n            } else {\n              ctx.Storage.remove({\n                key: \"TOUR_DETAIL_JUMP_CALENDAR\",\n                domain: \"tour\"\n              });\n            }\n            key = \"pkg_detail_change_city\";\n            value = {\n              pkgid: BasicInfo.ProductId,\n              cityname_original: oldCityId,\n              citycode: newCityId,\n              yes_or_no: isFromCalendar ? 1 : 0\n            };\n            ctx.tracelog(key, value);\n          case 8:\n          case \"end\":\n            return _context84.stop();\n        }\n      }, _callee84);\n    }));\n    return function traceChangeDepartureCity(_x34, _x35) {\n      return _ref87.apply(this, arguments);\n    };\n  }();\n\n  /**   */\n  var traceChangeCityPopExpos = function traceChangeCityPopExpos() {\n    var _store$getState137 = store.getState(),\n      LocationInfo = _store$getState137.LocationInfo,\n      query = _store$getState137.query;\n    var key = \"grp_detail_switchpop_expo\";\n    var cachedCityId = Number(LocationInfo === null || LocationInfo === void 0 ? void 0 : LocationInfo.departureCityId) || 0;\n    var locationCityId = Number(LocationInfo === null || LocationInfo === void 0 ? void 0 : LocationInfo.locationCityId) || 0;\n    var value = {\n      departcityid: query.departcityid,\n      citycode: cachedCityId,\n      geo_cityid: locationCityId,\n      sourcetype: 0\n    };\n    ctx.tracelog(key, value);\n  };\n\n  /**  */\n  var traceSingleDepartureSwitchCity = function traceSingleDepartureSwitchCity(sourcetype) {\n    var key = \"grp_detail_switchcity_expo\";\n    var value = {\n      sourcetype: sourcetype\n    };\n    ctx.tracelog(key, value);\n  };\n\n  /**  */\n  var traceAutoChangeline = function traceAutoChangeline() {\n    var key = \"grp_detail_swtichtoast_expo\";\n    var value = {};\n    ctx.tracelog(key, value);\n  };\n\n  /**  /  */\n  var traceMultipleBtn = function traceMultipleBtn(button, targetProductId) {\n    var _store$getState138 = store.getState(),\n      BasicInfo = _store$getState138.BasicInfo,\n      TourGroupInfo = _store$getState138.TourGroupInfo;\n    var _TourGroupInfo$TourGr2 = TourGroupInfo.TourGroupProductInfo,\n      TourGroupProductInfo = _TourGroupInfo$TourGr2 === void 0 ? [] : _TourGroupInfo$TourGr2;\n    var key = \"pkg_dtl_linetab_app\";\n    var value = {\n      pkgid: BasicInfo.ProductId,\n      stcityid: BasicInfo.DepartureId,\n      pagebu: \"grp\",\n      button: button + \"\",\n      real_pkgid: targetProductId,\n      line: button,\n      line_total: TourGroupProductInfo.length\n    };\n    ctx.tracelog(key, value);\n  };\n\n  /**  */\n  var traceGoPictureList = function traceGoPictureList(index) {\n    var _store$getState139 = store.getState(),\n      actionIdSuffix = _store$getState139.actionIdSuffix,\n      BasicInfo = _store$getState139.BasicInfo,\n      pageId = _store$getState139.pageId,\n      pageStatus = _store$getState139.pageStatus;\n    var key = \"\".concat(actionIdSuffix, \"-picture-more-\").concat(BasicInfo.ProductId, \"-\").concat(index);\n    ctx.traceKeyLog({\n      event_value: key,\n      event_bu: pageStatus.prodType,\n      page_id: pageId\n    });\n  };\n\n  /**  */\n  var traceGoStarInfo = function traceGoStarInfo() {\n    var _store$getState140 = store.getState(),\n      actionIdSuffix = _store$getState140.actionIdSuffix,\n      pageId = _store$getState140.pageId,\n      pageStatus = _store$getState140.pageStatus;\n    var key = \"\".concat(actionIdSuffix, \"-info-star\");\n    ctx.traceKeyLog({\n      event_value: key,\n      event_bu: pageStatus.prodType,\n      page_id: pageId\n    });\n  };\n\n  /**  */\n  var traceClickChangeCityFromPop = function traceClickChangeCityFromPop(name) {\n    var _store$getState141 = store.getState(),\n      actionIdSuffix = _store$getState141.actionIdSuffix,\n      pageId = _store$getState141.pageId,\n      pageStatus = _store$getState141.pageStatus;\n    var key = \"\".concat(actionIdSuffix, \"-popups-switch-\").concat(name, \"-0\");\n    ctx.traceKeyLog({\n      event_value: key,\n      event_bu: pageStatus.gprodType,\n      page_id: pageId\n    });\n    traceDepartcityMetricInfo({\n      sceneType: 2,\n      isAccept: name === \"\",\n      selectedCity: name !== \"\"\n    });\n  };\n\n  /**  */\n  var traceDepartcityMetricInfo = /*#__PURE__*/function () {\n    var _ref88 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee85() {\n      var _ref89,\n        _ref89$sceneType,\n        sceneType,\n        _ref89$isAccept,\n        isAccept,\n        _ref89$selectedCity,\n        selectedCity,\n        _store$getState142,\n        LocationInfo,\n        pageStatus,\n        query,\n        params,\n        _args85 = arguments;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee85$(_context85) {\n        while (1) switch (_context85.prev = _context85.next) {\n          case 0:\n            _ref89 = _args85.length > 0 && _args85[0] !== undefined ? _args85[0] : {}, _ref89$sceneType = _ref89.sceneType, sceneType = _ref89$sceneType === void 0 ? 1 : _ref89$sceneType, _ref89$isAccept = _ref89.isAccept, isAccept = _ref89$isAccept === void 0 ? true : _ref89$isAccept, _ref89$selectedCity = _ref89.selectedCity, selectedCity = _ref89$selectedCity === void 0 ? false : _ref89$selectedCity;\n            _store$getState142 = store.getState(), LocationInfo = _store$getState142.LocationInfo, pageStatus = _store$getState142.pageStatus, query = _store$getState142.query;\n            LocationInfo = LocationInfo || {};\n            params = {\n              ProductId: pageStatus.activeProductId,\n              UrlDepartureCityId: query.departcityid ? query.departcityid : 0,\n              LocationCityId: LocationInfo.locationCityId ? LocationInfo.locationCityId : 0,\n              CacheCityId: LocationInfo.departureCityId ? LocationInfo.departureCityId : 0,\n              SceneType: sceneType,\n              IsAccept: isAccept,\n              RecommendType: LocationInfo.locationCityId ? 3 : LocationInfo.departureCityId ? 2 : query.departcityid ? 5 : selectedCity ? 6 : 4\n            };\n            _context85.prev = 4;\n            _context85.next = 7;\n            return ctx.post(\"DepartureCityMetric\", params);\n          case 7:\n            _context85.next = 12;\n            break;\n          case 9:\n            _context85.prev = 9;\n            _context85.t0 = _context85[\"catch\"](4);\n            console.log(_context85.t0);\n          case 12:\n          case \"end\":\n            return _context85.stop();\n        }\n      }, _callee85, null, [[4, 9]]);\n    }));\n    return function traceDepartcityMetricInfo() {\n      return _ref88.apply(this, arguments);\n    };\n  }();\n\n  /**  ref  */\n  var traceRequestRef = /*#__PURE__*/function () {\n    var _ref90 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee86() {\n      var _store$getState143, _query2, _isSecKill, productid, departcityid, queryName, queryString, _yield$ctx$Business$d, className, ref, variables;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee86$(_context86) {\n        while (1) switch (_context86.prev = _context86.next) {\n          case 0:\n            if (!(ctx.Platform !== \"RN\")) {\n              _context86.next = 2;\n              break;\n            }\n            return _context86.abrupt(\"return\");\n          case 2:\n            _context86.prev = 2;\n            _store$getState143 = store.getState(), _query2 = _store$getState143.query, _isSecKill = _store$getState143.isSecKill;\n            productid = _query2.productid, departcityid = _query2.departcityid;\n            if (!_isSecKill) {\n              _context86.next = 7;\n              break;\n            }\n            return _context86.abrupt(\"return\");\n          case 7:\n            queryName = \"getProductInfo\";\n            queryString = \"\\n            query getProductInfo($params: ProductArgs!) {\\n                productInfo(params: $params) {\\n                  BookInfo {\\n                    json\\n                  }\\n                  ScheduleInfo {\\n                    json\\n                  }\\n                }\\n              }\\n            \"; //  URL / className\n            _context86.next = 11;\n            return ctx.Business.doBusinessJobPromise(9, \"80052\", {}, new Date().valueOf().toString());\n          case 11:\n            _yield$ctx$Business$d = _context86.sent;\n            className = _yield$ctx$Business$d.className;\n            ref = _yield$ctx$Business$d.ref;\n            variables = {\n              params: (0,objectSpread2/* default */.Z)({\n                ProductId: Number(productid),\n                DepartureCityId: Number(departcityid || 0),\n                HeadTagList: [{\n                  Key: \"pageReference\",\n                  Value: ref || className || \"\"\n                }]\n              }, ctx.attachShardParams())\n            };\n            ctx.gqlpost(queryString, variables, queryName);\n            _context86.next = 21;\n            break;\n          case 18:\n            _context86.prev = 18;\n            _context86.t0 = _context86[\"catch\"](2);\n            console.log(_context86.t0);\n          case 21:\n          case \"end\":\n            return _context86.stop();\n        }\n      }, _callee86, null, [[2, 18]]);\n    }));\n    return function traceRequestRef() {\n      return _ref90.apply(this, arguments);\n    };\n  }();\n\n  //  query  ctm_ref \n  var setCtmRefStorage = function setCtmRefStorage() {\n    var _store$getState144 = store.getState(),\n      query = _store$getState144.query,\n      TourGroupInfo = _store$getState144.TourGroupInfo,\n      pageStatus = _store$getState144.pageStatus,\n      BasicInfo = _store$getState144.BasicInfo;\n    if (query.ctm_ref) {\n      var productId = BasicInfo.ProductId;\n\n      // ID\n      if (pageStatus && pageStatus.isMultiLine) {\n        if (TourGroupInfo && TourGroupInfo.TourGroupProductInfo) {\n          var TourGroupProductInfo = TourGroupInfo.TourGroupProductInfo;\n          if (TourGroupProductInfo && TourGroupProductInfo[0]) {\n            productId = TourGroupProductInfo[0].ProductId;\n          }\n        }\n      }\n      ctx.set(\"ctm_ref_\".concat(productId), query.ctm_ref, 8 * 60 * 60);\n    }\n  };\n\n  //  AI  query.traceid \n  var checkQueryTraceId = function checkQueryTraceId() {\n    try {\n      var _store$getState145 = store.getState(),\n        _query3 = _store$getState145.query;\n      if (_query3.traceid) {\n        // \n        ctx.set(\"UrlQueryTraceId\", _query3.traceid, 24 * 60 * 60);\n      } else {\n        // \n        ctx.remove(\"UrlQueryTraceId\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  var traceJumpTagUrl = function traceJumpTagUrl() {\n    var key = \"grp_prddtl_priceribbon_click\";\n    var value = {};\n    ctx.tracelog(key, value);\n  };\n  var sendUsrClickKMLog = function sendUsrClickKMLog(_ref91) {\n    var scene = _ref91.scene,\n      value = _ref91.value;\n    var _store$getState146 = store.getState(),\n      BasicInfo = _store$getState146.BasicInfo;\n    ctx.sendKMLog({\n      attrs: [{\n        key: \"productId\",\n        value: BasicInfo.ProductId\n      }],\n      scene: scene,\n      action: \"usr_click\",\n      value: value\n    });\n  };\n\n  // H5\n  var fetchCreateProposalOrder = /*#__PURE__*/function () {\n    var _ref92 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee87(proposalOrderInfo, countryInfo) {\n      var _store$getState147, BasicInfo, pageStatus, params, _yield$ctx$post14, ResponseStatus;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee87$(_context87) {\n        while (1) switch (_context87.prev = _context87.next) {\n          case 0:\n            _store$getState147 = store.getState(), BasicInfo = _store$getState147.BasicInfo, pageStatus = _store$getState147.pageStatus;\n            params = {\n              trackInfoType: {\n                trackSBUType: BasicInfo.isDiyfhxsdp ? \"FreeTour\" : \"TeamTour\",\n                trackType: \"WishOrder\",\n                trackFromType: \"H5\",\n                trackSubChannel: 9,\n                orderUserType: {\n                  contactName: proposalOrderInfo.nameInput,\n                  contactPhone: proposalOrderInfo.phoneInput,\n                  intCode: String(countryInfo.code)\n                },\n                trackOrderType: {\n                  trackProductType: {\n                    productId: BasicInfo.ProductId,\n                    startCityId: BasicInfo.DepartureId,\n                    destName: BasicInfo.DestCityName,\n                    saleMode: BasicInfo.SaleMode,\n                    productPatterns: [{\n                      id: BasicInfo.isDiyfhxsdp ? 2 : 1,\n                      name: BasicInfo.isDiyfhxsdp ? \"\" : \"\"\n                    }]\n                  },\n                  remark: proposalOrderInfo.textInput\n                }\n              }\n            };\n            _context87.prev = 2;\n            _context87.next = 5;\n            return ctx.post(\"CreateTrack\", params);\n          case 5:\n            _yield$ctx$post14 = _context87.sent;\n            ResponseStatus = _yield$ctx$post14.ResponseStatus;\n            return _context87.abrupt(\"return\", ResponseStatus.Ack === \"Success\");\n          case 10:\n            _context87.prev = 10;\n            _context87.t0 = _context87[\"catch\"](2);\n            console.log(_context87.t0);\n            return _context87.abrupt(\"return\", false);\n          case 14:\n          case \"end\":\n            return _context87.stop();\n        }\n      }, _callee87, null, [[2, 10]]);\n    }));\n    return function fetchCreateProposalOrder(_x36, _x37) {\n      return _ref92.apply(this, arguments);\n    };\n  }();\n  var getMultiTravelMinPrice = function getMultiTravelMinPrice(priceCalendarData) {\n    if (!priceCalendarData || !priceCalendarData.dailyMinPrice) {\n      return {};\n    }\n    var dailyMinPrice = priceCalendarData.dailyMinPrice;\n\n    //  alias \n    var multiTravelMinPriceGroupByAlias = {};\n    Object.entries(dailyMinPrice).forEach(function (_ref93) {\n      var _ref94 = (0,slicedToArray/* default */.Z)(_ref93, 2),\n        key = _ref94[0],\n        value = _ref94[1];\n      if (value && value.productPrices && value.productPrices[0]) {\n        // \n        var info = value.productPrices[0];\n        if (info && info.alias) {\n          var alias = info.alias,\n            date = info.date,\n            displayPrice = info.displayPrice;\n          if (multiTravelMinPriceGroupByAlias[alias]) {\n            var curDisplayPrice = multiTravelMinPriceGroupByAlias[alias].displayPrice;\n            if (displayPrice > 0 && displayPrice < curDisplayPrice) {\n              multiTravelMinPriceGroupByAlias[alias] = info;\n            }\n          } else {\n            multiTravelMinPriceGroupByAlias[alias] = info;\n          }\n        }\n      }\n    });\n    return multiTravelMinPriceGroupByAlias;\n  };\n\n  /**\n   *  { store, actions } \n   * actions \n   */\n  return {\n    store: store,\n    actions: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, actions), {}, {\n      fetchCurrentLimiting: fetchCurrentLimiting,\n      fetchRefreshSecKillBookInfo: fetchRefreshSecKillBookInfo,\n      fetchProductBasicInfo: fetchProductBasicInfo,\n      fetchProductSecondInfo: fetchProductSecondInfo,\n      setPageId: setPageId,\n      checkLoginStatusUpdate: checkLoginStatusUpdate,\n      getLocationInfo: getLocationInfo,\n      fetchSecondScreen: fetchSecondScreen,\n      getABTestResult: getABTestResult,\n      handlers: handlers,\n      traceInitLogs: traceInitLogs,\n      checkShouldChangeDepartCity: checkShouldChangeDepartCity,\n      refreshSelectedLine: refreshSelectedLine,\n      fetchCruiseRoomInfo: fetchCruiseRoomInfo,\n      fetchOvaryRoomPrice: fetchOvaryRoomPrice,\n      fetchCruiseJourneyInfo: fetchCruiseJourneyInfo,\n      fetchInitCruiseInfo: fetchInitCruiseInfo,\n      loginCallback: loginCallback,\n      sendKMLog: ctx.sendKMLog,\n      traceKMInterruption: traceKMInterruption,\n      checkNewProcessSelectedDateAvailable: checkNewProcessSelectedDateAvailable,\n      checkShouldChangeSelectDate: checkShouldChangeSelectDate,\n      fetchCityNameByCityId: fetchCityNameByCityId,\n      fetchProductDisposition: fetchProductDisposition,\n      formatServiceUrlForPhotoBrowser: formatServiceUrlForPhotoBrowser,\n      setUserInfo: setUserInfo,\n      fetchRefreshPriceInfo: fetchRefreshPriceInfo,\n      fetchCruiseTourDetail: fetchCruiseTourDetail,\n      fetchServicePersonDetail: fetchServicePersonDetail,\n      sendPV: ctx.sendPV,\n      ut: {\n        fetchVipMemberInfo: fetchVipMemberInfo,\n        fetchCreateFavorite: fetchCreateFavorite,\n        fetchCancelFavorite: fetchCancelFavorite,\n        fetchCityNameByCityId: fetchCityNameByCityId,\n        fetchCruiseRoomInfo: fetchCruiseRoomInfo,\n        fetchCruiseJourneyInfo: fetchCruiseJourneyInfo,\n        fetchOvaryRoomPrice: fetchOvaryRoomPrice\n      }\n    })\n  };\n});\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/Header.tsx\n\n\n\n\n\n\n\nfunction Header() {\n  var _ref = model_Model.useState(function (state) {\n      var actionIdSuffix = state.actionIdSuffix,\n        BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo;\n      return {\n        actionIdSuffix: actionIdSuffix,\n        BasicInfo: BasicInfo,\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    actionIdSuffix = _ref.actionIdSuffix,\n    BasicInfo = _ref.BasicInfo,\n    currentRouteInfo = _ref.currentRouteInfo;\n  var handleTraceLog = model_Model.useActions().handlers.handleTraceLog;\n  var _ref2 = BasicInfo || {},\n    isDiyfhxsdp = _ref2.isDiyfhxsdp;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isShowHeader = _useState2[0],\n    setIsShowHeader = _useState2[1];\n  var _useState3 = (0,react.useState)(0),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    curIndex = _useState4[0],\n    setCurIndex = _useState4[1];\n  var scrollTopRef = (0,react.useRef)(0);\n  // tab\n  var isClickScrolling = (0,react.useRef)(false);\n  var Tabs;\n  var orderKnowText = '';\n  var Visa = currentRouteInfo.Visa;\n  if (([11, 12, 26, 34].includes(BasicInfo.ProductCategoryId) || BasicInfo.isCruise) && Visa) {\n    var VisaCountryList = Visa.VisaCountryList,\n      VisaDescList = Visa.VisaDescList;\n    if (VisaCountryList && VisaCountryList.length || VisaDescList && VisaDescList.length) {\n      var VisaTitle = '';\n      if (BasicInfo.DestProvinceId === 53) {\n        VisaTitle = '';\n      }\n      if ([58, 59].indexOf(BasicInfo.DestCityId) > -1) {\n        VisaTitle = '';\n      }\n      orderKnowText = \"\".concat(VisaTitle, \"/\\u987B\\u77E5\");\n    }\n  }\n  if (isDiyfhxsdp) {\n    Tabs = [{\n      text: '',\n      ele: '#FakeProductSummary'\n    }, {\n      text: '',\n      ele: '#RouteInfo'\n    }, {\n      text: '',\n      ele: '#CostDescription'\n    }, {\n      text: orderKnowText,\n      ele: '#OrderKnow'\n    }, {\n      text: '',\n      ele: '#Comment'\n    }];\n  } else {\n    Tabs = [{\n      text: '',\n      ele: '#ProductSummary'\n    }, {\n      text: '',\n      ele: '#RouteInfo'\n    }, {\n      text: '',\n      ele: '#CostDescription'\n    }, {\n      text: orderKnowText,\n      ele: '#OrderKnow'\n    }, {\n      text: '',\n      ele: '#Comment'\n    }];\n  }\n  (0,taro.usePageScroll)(function (_ref3) {\n    var _Tabs$;\n    var scrollTop = _ref3.scrollTop;\n    scrollTopRef.current = scrollTop;\n    if (isClickScrolling.current) {\n      return;\n    }\n    var idName = (_Tabs$ = Tabs[0]) === null || _Tabs$ === void 0 ? void 0 : _Tabs$.ele;\n    var tab = taro_default().createSelectorQuery().select(idName);\n    if (tab) {\n      tab.boundingClientRect(function (rect) {\n        if (rect) {\n          var isCurTopOut;\n          if (BasicInfo.isDiyfhxsdp) {\n            isCurTopOut = rect.top - 65 < 0;\n          } else {\n            isCurTopOut = rect.top - 150 < 0;\n          }\n          if (isCurTopOut) {\n            !isShowHeader && setIsShowHeader(true);\n          } else {\n            if (isShowHeader) {\n              setIsShowHeader(false);\n              setCurIndex(0);\n            }\n          }\n        }\n      }).exec();\n    }\n    Tabs.forEach(function (item, index) {\n      var text = item.text,\n        ele = item.ele;\n      var element = taro_default().createSelectorQuery().select(ele);\n      if (element) {\n        element.boundingClientRect(function (rect) {\n          if (rect) {\n            var isCurTopOut = rect.top < 0;\n            if (isCurTopOut) {\n              if (index + 1 < 5) {\n                var nextEle = taro_default().createSelectorQuery().select(Tabs[index + 1]['ele']);\n                if (nextEle) {\n                  nextEle.boundingClientRect(function (nrect) {\n                    if (nrect) {\n                      var isNextInView = nrect.top > 0 && nrect.top < (0,taro.getSystemInfoSync)().screenHeight - 700;\n                      if (isNextInView) {\n                        curIndex !== index + 1 && setCurIndex(index + 1);\n                      }\n                    }\n                  }).exec();\n                }\n              }\n            }\n          }\n        }).exec();\n      }\n    });\n  });\n  var _getSystemInfoSync = (0,taro.getSystemInfoSync)(),\n    statusBarHeight = _getSystemInfoSync.statusBarHeight;\n  var menuBtnInfo = (0,taro.getMenuButtonBoundingClientRect)();\n  var menuPaddingTop = menuBtnInfo.top - statusBarHeight;\n  var fixedHeight = menuBtnInfo.height + statusBarHeight + 55;\n  var handleScrollToEle = (0,react.useCallback)(function (ele, index) {\n    isClickScrolling.current = true;\n    var element = taro_default().createSelectorQuery().select(ele);\n    if (element) {\n      element.boundingClientRect(function (rect) {\n        if (rect) {\n          var targetTop = scrollTopRef.current + rect.top - fixedHeight;\n          taro_default().pageScrollTo({\n            scrollTop: targetTop,\n            duration: 300,\n            complete: function complete() {\n              isClickScrolling.current = false;\n              if (index === 0) {\n                setIsShowHeader(false);\n              }\n            }\n          });\n        }\n      }).exec();\n    }\n  }, []);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"HeaderBoxNew\",\n    style: {\n      visibility: isShowHeader ? 'visible' : 'hidden',\n      top: statusBarHeight + menuPaddingTop + menuBtnInfo.height\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"HeaderTabBox\",\n      children: Tabs.map(function (item, index) {\n        var text = item.text,\n          ele = item.ele;\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"HeaderTabItem \".concat(curIndex === index ? 'FontWeightBold' : ''),\n          onClick: function onClick(event) {\n            if (curIndex !== index) {\n              handleScrollToEle(ele, index);\n              setTimeout(function () {\n                setCurIndex(index);\n              }, 50);\n            }\n            handleTraceLog('grp_prddtl_ptab_click', {\n              tabid: index + 1\n            });\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: text\n          }), curIndex === index && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: isDiyfhxsdp ? index === 1 ? \"TabBarlineLong\" : \"TabBarline\" : \"TabBarline\"\n          })]\n        }, index);\n      })\n    })\n  });\n}\n// EXTERNAL MODULE: external \"@miniapp/cwx/cwx\"\nvar cwx_ = __webpack_require__(33675);\nvar cwx_default = /*#__PURE__*/__webpack_require__.n(cwx_);\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/ImageInfo.tsx\n\n\n\n\n\n\n\n\n\n\nvar MemoImageInfo = /*#__PURE__*/react.memo(ImageInfo_ImageInfo);\n/* harmony default export */ var ImageInfo = (MemoImageInfo);\nfunction ImageInfo_ImageInfo(_ref) {\n  var isShowHeavyData = _ref.isShowHeavyData;\n  var _useState = (0,react.useState)(0),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    imgIndex = _useState2[0],\n    setImgIndex = _useState2[1];\n  var _getSystemInfoSync = (0,taro.getSystemInfoSync)(),\n    windowWidth = _getSystemInfoSync.windowWidth;\n  var _ref2 = model_Model.useState(function (state) {\n      var MediaInfo = state.MediaInfo;\n      return {\n        MediaInfo: MediaInfo\n      };\n    }),\n    MediaInfo = _ref2.MediaInfo;\n  if (!MediaInfo) {\n    return null;\n  }\n  var _MediaInfo$VideoInfoL = MediaInfo.VideoInfoList,\n    VideoInfoList = _MediaInfo$VideoInfoL === void 0 ? [] : _MediaInfo$VideoInfoL,\n    _MediaInfo$ImgList = MediaInfo.ImgList,\n    ImgList = _MediaInfo$ImgList === void 0 ? [] : _MediaInfo$ImgList;\n  var originalImg = '';\n  if (ImgList && ImgList.length && ImgList[0].UrlList && ImgList[0].UrlList[0]) {\n    originalImg = ImgList[0].UrlList[0].Value;\n  }\n  //\n  var lowQualityImg = originalImg.replace('750_420_Q90.jpg', '750_750_Q80.webp');\n  var videoUrl = '';\n  if (VideoInfoList && VideoInfoList.length > 0) {\n    videoUrl = VideoInfoList[0].PlayUrl;\n  }\n  if (!lowQualityImg) {\n    lowQualityImg = 'https://pic.c-ctrip.com/vacation_v2/h5/group_travel/pic_none.png';\n  }\n  var _useState3 = (0,react.useState)({\n      coverImageUrl: lowQualityImg,\n      //    \n      originalCoverImageUrl: originalImg,\n      //\n      isHighQualityCoverImageReady: false,\n      //\n      videoUrl: videoUrl,\n      //\n      isReady: false,\n      //1000ms\n      isPlaying: false,\n      //\n      isAutoplay: false //WI-FI\n    }),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    mediaSetting = _useState4[0],\n    changeMediaSetting = _useState4[1];\n\n  // 1000ms\n  (0,react.useEffect)(function () {\n    if (!mediaSetting.videoUrl) return;\n    if (!mediaSetting.isReady) {\n      setTimeout(function () {\n        var newSetting = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mediaSetting), {}, {\n          isReady: true\n        });\n        changeMediaSetting(newSetting);\n      }, 1000);\n    } else {\n      if (isShowHeavyData && mediaSetting.isHighQualityCoverImageReady) {\n        if (originalImg !== mediaSetting.coverImageUrl) {\n          var newSetting = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mediaSetting), {}, {\n            coverImageUrl: originalImg\n          });\n          changeMediaSetting(newSetting);\n        }\n      }\n      taro_default().getNetworkType({\n        success: function success(res) {\n          var networkType = res.networkType;\n          var isWifi = networkType === 'wifi';\n          if (isWifi) {\n            if (!mediaSetting.isAutoplay) {\n              var _newSetting = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mediaSetting), {}, {\n                isAutoplay: true\n              });\n              changeMediaSetting(_newSetting);\n            }\n          }\n        }\n      });\n    }\n  }, [isShowHeavyData, mediaSetting]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ImageInfoBox\",\n    children: [!mediaSetting.isPlaying && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PicAndVideoTop\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(PicAndVideoTopBox, {\n        imgIndex: imgIndex,\n        setImgIndex: setImgIndex\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      style: {\n        minHeight: windowWidth,\n        marginBottom: -80\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(MemoMediaInfo, {\n        isShowHeavyData: isShowHeavyData,\n        mediaSetting: mediaSetting,\n        changeMediaSetting: changeMediaSetting,\n        setImgIndex: setImgIndex,\n        imgIndex: imgIndex,\n        isPlaying: mediaSetting.isPlaying\n      })\n    }), !mediaSetting.isPlaying && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"bottomIndex\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"MaskBgGradient\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"maskSecondPart\"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(ProductInfoBigPic, {})]\n  });\n}\nvar MemoMediaInfo = /*#__PURE__*/react.memo(MediaInfo);\nfunction MediaInfo(_ref3) {\n  var _ImgList$;\n  var isShowHeavyData = _ref3.isShowHeavyData,\n    mediaSetting = _ref3.mediaSetting,\n    changeMediaSetting = _ref3.changeMediaSetting,\n    setImgIndex = _ref3.setImgIndex,\n    imgIndex = _ref3.imgIndex,\n    isPlaying = _ref3.isPlaying;\n  var _getSystemInfoSync2 = (0,taro.getSystemInfoSync)(),\n    windowWidth = _getSystemInfoSync2.windowWidth;\n  var handleGoPicList = model_Model.useActions().handlers.handleGoPicList;\n  var _ref4 = model_Model.useState(function (state) {\n      var MediaInfo = state.MediaInfo,\n        pageId = state.pageId,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        MediaInfo: MediaInfo,\n        pageId: pageId,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    MediaInfo = _ref4.MediaInfo,\n    pageId = _ref4.pageId,\n    actionIdSuffix = _ref4.actionIdSuffix;\n  var _ref5 = MediaInfo || {},\n    _ref5$ImgList = _ref5.ImgList,\n    ImgList = _ref5$ImgList === void 0 ? [] : _ref5$ImgList,\n    VideoInfoList = _ref5.VideoInfoList;\n  if (!ImgList || !ImgList.length) {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"ImageInfoPicContainer\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          lazyLoad: true,\n          className: \"ImageInfoPic\",\n          mode: \"widthFix\",\n          src: \"https://pic.c-ctrip.com/vacation_v2/h5/group_travel/pic_none.png\"\n        })\n      })\n    });\n  }\n\n  // \n  var pauseVideo = (0,react.useCallback)(function () {\n    var videoCtx = taro_default().createVideoContext('video');\n    if (videoCtx) {\n      videoCtx.pause();\n      if (mediaSetting.isPlaying) {\n        var newSetting = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mediaSetting), {}, {\n          isPlaying: false\n        });\n        changeMediaSetting(newSetting);\n      }\n    }\n  }, [mediaSetting]);\n  var originalImg = (_ImgList$ = ImgList[0]) === null || _ImgList$ === void 0 || (_ImgList$ = _ImgList$.UrlList[0]) === null || _ImgList$ === void 0 ? void 0 : _ImgList$.Value;\n  var lowQualityImg = originalImg.replace('750_420_Q90.jpg', '750_750_Q80.webp');\n  var _ref6 = VideoInfoList && VideoInfoList.length && VideoInfoList[0] || {},\n    ImageUrl = _ref6.ImageUrl;\n  if (ImageUrl) {\n    ImageUrl = ImageUrl.replace('750_420_Q90.jpg', '750_750_Q80.webp');\n  }\n  // \n  var renderImgList = [{\n    UrlList: [{\n      Value: mediaSetting.coverImageUrl\n    }]\n  }];\n\n  //\n  if (isShowHeavyData && mediaSetting.isHighQualityCoverImageReady) {\n    renderImgList = ImgList;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      mode: \"widthFix\",\n      src: mediaSetting.originalCoverImageUrl,\n      style: {\n        width: 1,\n        height: 1,\n        visibility: 'hidden',\n        position: 'absolute'\n      },\n      onLoad: function onLoad() {\n        if (!mediaSetting.isHighQualityCoverImageReady) {\n          var newSetting = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mediaSetting), {}, {\n            isHighQualityCoverImageReady: true\n          });\n          changeMediaSetting(newSetting);\n        }\n      }\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Swiper, {\n      className: \"ImageInfoSwiper_New\",\n      circular: true,\n      autoplay: false,\n      onChange: function onChange(event) {\n        var current = event.detail.current;\n        setImgIndex(current);\n        pauseVideo();\n      },\n      current: imgIndex,\n      onClick: function onClick(evt) {\n        handleGoPicList();\n        cwx_default().uploadUserAction(evt, \"\".concat(actionIdSuffix, \"-picture-more\"));\n      },\n      children: [mediaSetting.isReady && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.SwiperItem, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"videoPlayingImgMask\",\n          style: {\n            background: 'black'\n          }\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(VideoPlayer, {\n          mediaSetting: mediaSetting,\n          changeMediaSetting: changeMediaSetting,\n          VideoImageUrl: ImageUrl\n        })]\n      }), renderImgList.map(function (image, index) {\n        var _image$UrlList$, _imgUrl, _imgUrl2;\n        var imgUrl = image === null || image === void 0 || (_image$UrlList$ = image.UrlList[0]) === null || _image$UrlList$ === void 0 ? void 0 : _image$UrlList$.Value;\n        imgUrl = (_imgUrl = imgUrl) === null || _imgUrl === void 0 ? void 0 : _imgUrl.replace('750_420_Q90.jpg', '750_750_Q80.webp');\n        imgUrl = (_imgUrl2 = imgUrl) === null || _imgUrl2 === void 0 ? void 0 : _imgUrl2.replace('750_420_Q90.png', '750_750_Q80.webp');\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.SwiperItem, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"ImageInfoPicContainer\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n              className: \"ImageInfoPic\",\n              mode: \"widthFix\",\n              style: {\n                height: windowWidth\n              },\n              src: imgUrl\n            })\n          })\n        }, index);\n      })]\n    })]\n  });\n}\nfunction VideoPlayer(_ref7) {\n  var mediaSetting = _ref7.mediaSetting,\n    changeMediaSetting = _ref7.changeMediaSetting,\n    VideoImageUrl = _ref7.VideoImageUrl;\n  var _getSystemInfoSync3 = (0,taro.getSystemInfoSync)(),\n    windowWidth = _getSystemInfoSync3.windowWidth;\n  var _ref8 = model_Model.useState(function (state) {\n      var pageId = state.pageId,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        pageId: pageId,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    pageId = _ref8.pageId,\n    actionIdSuffix = _ref8.actionIdSuffix;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ImageInfoPicContainer SwiperItemVideoPlayer\",\n      onClick: function onClick(event) {\n        cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-picture-video\"));\n        event.stopPropagation();\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Video, {\n        style: {\n          width: '100%',\n          height: windowWidth * (42 / 75)\n        },\n        id: \"video\",\n        playBtnPosition: \"center\",\n        showPlayBtn: true,\n        enableProgressGesture: false,\n        muted: true,\n        showMuteBtn: true,\n        src: mediaSetting.videoUrl,\n        poster: VideoImageUrl || mediaSetting.coverImageUrl,\n        controls: true,\n        autoplay: mediaSetting.isAutoplay && mediaSetting.isReady,\n        loop: false,\n        onPlay: function onPlay(evt) {\n          if (!mediaSetting.isPlaying) {\n            var newSetting = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mediaSetting), {}, {\n              isPlaying: true\n            });\n            changeMediaSetting(newSetting);\n          }\n        },\n        onPause: function onPause() {\n          if (mediaSetting.isPlaying) {\n            var newSetting = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mediaSetting), {}, {\n              isPlaying: false\n            });\n            changeMediaSetting(newSetting);\n          }\n        },\n        onEnded: function onEnded() {\n          if (mediaSetting.isPlaying) {\n            var newSetting = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mediaSetting), {}, {\n              isPlaying: false\n            });\n            changeMediaSetting(newSetting);\n          }\n        }\n      })\n    })\n  });\n}\nfunction ProductInfoBigPic() {\n  var _ref9 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        pageStatus = state.pageStatus,\n        VendorInfo = state.VendorInfo;\n      return {\n        BasicInfo: BasicInfo,\n        pageStatus: pageStatus,\n        VendorInfo: VendorInfo\n      };\n    }),\n    BasicInfo = _ref9.BasicInfo,\n    pageStatus = _ref9.pageStatus,\n    VendorInfo = _ref9.VendorInfo;\n  if (!BasicInfo) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"productInfoBigPicBox\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      style: {\n        position: 'relative',\n        zIndex: 1\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(SupplierWithId, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(NameInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(PricePanel, {})]\n    })\n  });\n}\nfunction SupplierWithId() {\n  var _ref10 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        VendorInfo = state.VendorInfo,\n        brandScore = state.brandScore;\n      return {\n        BasicInfo: BasicInfo,\n        VendorInfo: VendorInfo,\n        brandScore: brandScore\n      };\n    }),\n    BasicInfo = _ref10.BasicInfo,\n    VendorInfo = _ref10.VendorInfo,\n    brandScore = _ref10.brandScore;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleGoShopDetail = _Model$useActions$han.handleGoShopDetail,\n    handleTraceLog = _Model$useActions$han.handleTraceLog;\n  var IsInternal = BasicInfo.IsInternal,\n    ProductPatternId = BasicInfo.ProductPatternId;\n  var isNewUpgrade = false;\n  if (IsInternal && (ProductPatternId === 1 || ProductPatternId === 3 || ProductPatternId === 4)) {\n    isNewUpgrade = true;\n  }\n\n  // \n  var isSelf = BasicInfo.SaleMode === 'S';\n  var _ref11 = (brandScore === null || brandScore === void 0 ? void 0 : brandScore.shopInfo) || {},\n    storeType = _ref11.storeType;\n  // \n  var isGoldShop = storeType && storeType.storeTypeId === 1;\n\n  // \n  var canJumpShop = true;\n  //  /  \n  if (BasicInfo.isDiyfhxsdp || BasicInfo.isStudy) {\n    canJumpShop = false;\n  }\n  // \n  if (BasicInfo.SaleMode === 'G') {\n    canJumpShop = false;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"SupplierWithIdContainer\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        onClick: function onClick() {\n          if (canJumpShop) {\n            handleGoShopDetail();\n            handleTraceLog('grp_prddtl_shoptag_click');\n          }\n        },\n        style: {\n          display: 'flex'\n        },\n        children: !isSelf ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"shopNameContainer\",\n          children: [!!isGoldShop && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            style: {\n              width: 64,\n              height: 17\n            },\n            src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/title_goldshop.png'\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"supplierShowInfo\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: isGoldShop ? 'SupplierBgGoldShop' : 'SupplierBg',\n              children: !!VendorInfo && (VendorInfo.VendorBrand || VendorInfo.VendorName)\n            })\n          })]\n        }) : isNewUpgrade ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          style: {\n            width: 119,\n            height: 16\n          },\n          src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/salebyself@3x.png'\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          style: {\n            width: 69,\n            height: 16\n          },\n          src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/salebyself_normal.png'\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"productidMargin\",\n        onClick: function onClick() {\n          taro_default().setClipboardData({\n            data: String(BasicInfo.ProductId),\n            success: function success(res) {\n              taro_default().showToast({\n                title: '',\n                duration: 2000,\n                icon: 'none'\n              });\n            }\n          });\n        },\n        children: [\"\\u7F16\\u53F7 \", BasicInfo.ProductId]\n      })]\n    })\n  });\n}\nfunction PricePanel() {\n  var _getSystemInfoSync4 = (0,taro.getSystemInfoSync)(),\n    windowWidth = _getSystemInfoSync4.windowWidth;\n  var _ref12 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        query = state.query,\n        CompositePromotionInfo = state.CompositePromotionInfo,\n        currentRouteInfo = state.currentRouteInfo,\n        MarketingInfo = state.MarketingInfo,\n        actionIdSuffix = state.actionIdSuffix,\n        pageStatus = state.pageStatus,\n        isShowMemberDiscountInfo = state.isShowMemberDiscountInfo,\n        isShowFlightDiscountInfo = state.isShowFlightDiscountInfo,\n        userInfo = state.userInfo,\n        PriceInfo = state.PriceInfo,\n        pageId = state.pageId;\n      return {\n        BasicInfo: BasicInfo,\n        query: query,\n        CompositePromotionInfo: CompositePromotionInfo,\n        currentRouteInfo: currentRouteInfo,\n        MarketingInfo: MarketingInfo,\n        actionIdSuffix: actionIdSuffix,\n        pageStatus: pageStatus,\n        isShowMemberDiscountInfo: isShowMemberDiscountInfo,\n        isShowFlightDiscountInfo: isShowFlightDiscountInfo,\n        userInfo: userInfo,\n        PriceInfo: PriceInfo,\n        pageId: pageId\n      };\n    }),\n    BasicInfo = _ref12.BasicInfo,\n    query = _ref12.query,\n    CompositePromotionInfo = _ref12.CompositePromotionInfo,\n    currentRouteInfo = _ref12.currentRouteInfo,\n    MarketingInfo = _ref12.MarketingInfo,\n    actionIdSuffix = _ref12.actionIdSuffix,\n    pageStatus = _ref12.pageStatus,\n    isShowMemberDiscountInfo = _ref12.isShowMemberDiscountInfo,\n    isShowFlightDiscountInfo = _ref12.isShowFlightDiscountInfo,\n    userInfo = _ref12.userInfo,\n    PriceInfo = _ref12.PriceInfo,\n    pageId = _ref12.pageId;\n  var _Model$useActions$han2 = model_Model.useActions().handlers,\n    handleTogglePriceTipMask = _Model$useActions$han2.handleTogglePriceTipMask,\n    handleGoTagUrl = _Model$useActions$han2.handleGoTagUrl,\n    handleGoMemberShip = _Model$useActions$han2.handleGoMemberShip,\n    handleGoFlightDiscountPage = _Model$useActions$han2.handleGoFlightDiscountPage,\n    handleToggleDiscountDetailMask = _Model$useActions$han2.handleToggleDiscountDetailMask,\n    handleTraceLog = _Model$useActions$han2.handleTraceLog;\n  var MinPrice = PriceInfo.MinPrice,\n    MinPriceRemark = PriceInfo.MinPriceRemark,\n    OriginPrice = PriceInfo.OriginPrice,\n    DisplayPrice = PriceInfo.DisplayPrice,\n    PreferentialPriceDetail = PriceInfo.PreferentialPriceDetail;\n  var isCruise = pageStatus.isCruise;\n\n  // \n  var isShowOriginPrice = isCruise && OriginPrice > 0 && OriginPrice !== MinPrice;\n\n  // \n  var OrderPersonCount = BasicInfo.OrderPersonCount,\n    PersonsAnnual = BasicInfo.PersonsAnnual,\n    PersonsMonth = BasicInfo.PersonsMonth;\n  var PersonCountString = OrderPersonCount > 0 ? \"\\u5DF2\\u552E\".concat(OrderPersonCount, \"\\u4EBA\") : '';\n  var _getMemberPriceSettin = getMemberPriceSetting(),\n    isMemberPrice = _getMemberPriceSettin.isMemberPrice,\n    backgroundImage = _getMemberPriceSettin.backgroundImage,\n    fontColor = _getMemberPriceSettin.fontColor,\n    priceTitle = _getMemberPriceSettin.priceTitle,\n    discountInfoColor = _getMemberPriceSettin.discountInfoColor;\n\n  //  PreferentialPriceItems \n  var displayPreferentialPriceItems = [];\n  // \n  var totalDiscountPrice = 0;\n  // UI\n  var isShowDiscountPriceInfo = false;\n  if (PreferentialPriceDetail) {\n    var PreferentialAmountDetails = PreferentialPriceDetail.PreferentialAmountDetails,\n      PreferentialPriceItems = PreferentialPriceDetail.PreferentialPriceItems,\n      UserDetail = PreferentialPriceDetail.UserDetail;\n    if (PreferentialPriceItems) {\n      PreferentialPriceItems.forEach(function (item) {\n        if (!displayPreferentialPriceItems.some(function (priceItem) {\n          return priceItem.PreferentialTitle === item.PreferentialTitle;\n        })) {\n          displayPreferentialPriceItems.push(item);\n        }\n      });\n      totalDiscountPrice = PreferentialAmountDetails && PreferentialAmountDetails[0] && PreferentialAmountDetails[0].PreferentialAmount;\n      isShowDiscountPriceInfo = totalDiscountPrice > 0;\n    }\n  }\n  (0,react.useEffect)(function () {\n    try {\n      var discnttagtype = '';\n      if (isShowDiscountPriceInfo) {\n        var _PreferentialPriceItems = PreferentialPriceDetail.PreferentialPriceItems;\n        if (_PreferentialPriceItems && _PreferentialPriceItems.length) {\n          discnttagtype = _PreferentialPriceItems.map(function (item) {\n            return item.PreferentialTitle;\n          }).join(',');\n        }\n      }\n      handleTraceLog('grp_prddtl_discntprice_expo', {\n        isdiscount: isShowDiscountPriceInfo ? 1 : 0,\n        disctprice: DisplayPrice,\n        discnt: totalDiscountPrice,\n        discnttagtype: discnttagtype,\n        cityname: BasicInfo.DestCityName\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n\n  //   \n  if (isMemberPrice) {\n    if (isShowDiscountPriceInfo && PreferentialPriceDetail) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"NewProfileSpecialTagContainer\",\n        style: {\n          display: 'flex'\n        },\n        onClick: function onClick() {\n          isShowFlightDiscountInfo ? handleGoFlightDiscountPage() : handleGoMemberShip();\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"NewProfilePriceBox\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"NewProfileMemberPriceInfo\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"NewProfilePriceFirstLine\",\n              children: [DisplayPrice > 0 ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProfilePriceIconBigPic\",\n                  children: \"\\uFFE5\"\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProfilePricePanelPriceNumVipBigPic\",\n                  children: DisplayPrice\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProfilePriceText\",\n                  children: \"/\\u4EBA\\u8D77\"\n                })]\n              }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"NewProfilePriceNone\",\n                children: \"\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"NewdiscountPriceMemberTagBox NewdiscountPriceTagBox NewdiscountPriceTagItemLast\",\n                onClick: function onClick(event) {\n                  event.stopPropagation();\n                  handleToggleDiscountDetailMask(true);\n                  handleTraceLog('grp_prddtl_discnt_click');\n                },\n                children: [totalDiscountPrice > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"NewdiscountPriceDiscount\",\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                    style: {\n                      color: 'rgb(255, 119, 0)',\n                      fontSize: 12,\n                      fontWeight: 'bold'\n                    },\n                    children: [\"\\u5DF2\\u51CF\", totalDiscountPrice]\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"NewdetaildiscountPriceTagIcon\"\n                  })]\n                }), displayPreferentialPriceItems.length > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"displayPreferentialPriceItemsBox\",\n                  children: displayPreferentialPriceItems.map(function (priceItem, priceIndex) {\n                    var PreferentialTitle = priceItem.PreferentialTitle;\n                    var isLast = priceIndex + 1 === displayPreferentialPriceItems.length;\n                    return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                        className: \"NewdiscountPriceTagItem\",\n                        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                          style: {\n                            color: 'rgb(255, 119, 0)',\n                            fontSize: 12,\n                            fontWeight: 'bold'\n                          },\n                          children: PreferentialTitle\n                        })\n                      }), !!isLast ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                        className: \"PreferentialDetailIcon\",\n                        children: \"\\uEBC3\"\n                      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                        className: \"discountPriceTagPoint\",\n                        children: \".\"\n                      })]\n                    }, priceIndex);\n                  })\n                })]\n              })]\n            }), !!PersonCountString && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"NewProfileTravelCountTex\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"fontsize-20\",\n                style: {\n                  color: fontColor.count\n                },\n                children: PersonCountString\n              })\n            })]\n          })\n        })\n      });\n    } else {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"NewProfileSpecialTagContainer\",\n        style: {\n          display: 'flex'\n        },\n        onClick: function onClick() {\n          isShowFlightDiscountInfo ? handleGoFlightDiscountPage() : handleGoMemberShip();\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"NewProfilePriceBox\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"NewProfileMemberPriceInfo\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"NewProfilePriceFirstLine\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                className: \"fontsize-20\",\n                style: {\n                  color: fontColor.price\n                },\n                children: [priceTitle, \"\\xA0\"]\n              }), DisplayPrice > 0 ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProfilePriceIconBigPic\",\n                  children: \"\\uFFE5\"\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProfilePricePanelPriceNumVipBigPic\",\n                  children: DisplayPrice\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProfilePriceText\",\n                  children: \"/\\u4EBA\\u8D77\"\n                })]\n              }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"NewProfilePriceNone\",\n                children: \"\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n              })]\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"NewProfilePriceSecondLine\",\n              children: [!!MinPriceRemark && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"NewProfilePriceIcon\",\n                style: {\n                  color: fontColor.price\n                },\n                onClick: function onClick(event) {\n                  event.stopPropagation();\n                  handleTogglePriceTipMask(true);\n                  cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-info-policy\"));\n                },\n                children: \"\\uE931\"\n              }), !!PersonCountString && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"NewProfileTravelCountTex\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"fontsize-20\",\n                  style: {\n                    color: fontColor.count\n                  },\n                  children: PersonCountString\n                })\n              })]\n            })]\n          })\n        })\n      });\n    }\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"NewProfilePriceBox\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"NewProfilePriceInfo\",\n        children: [DisplayPrice > 0 ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"ProfilePriceIconBigPic\",\n            children: \"\\uFFE5\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"ProfilePricePanelPriceNumVipBigPic\",\n            children: DisplayPrice\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"ProfilePriceText\",\n            children: \"/\\u4EBA\\u8D77\"\n          })]\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"NewProfilePriceNone\",\n          children: \"\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n        }), !!MinPriceRemark && !isShowDiscountPriceInfo && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"NewProfilePriceIcon\",\n          style: {\n            top: 2\n          },\n          onClick: function onClick(event) {\n            handleTogglePriceTipMask(true);\n            cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-info-policy\"));\n          },\n          children: \"\\uE931\"\n        }), isShowDiscountPriceInfo && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"NewdiscountPriceTagBox NewdiscountPriceTagItemLast\",\n          onClick: function onClick() {\n            handleToggleDiscountDetailMask(true);\n            handleTraceLog('grp_prddtl_discnt_click');\n          },\n          children: [totalDiscountPrice > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"NewdiscountPriceDiscount\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              style: {\n                color: 'rgb(255, 119, 0)',\n                fontSize: 12,\n                fontWeight: 'bold'\n              },\n              children: [\"\\u5DF2\\u51CF\", totalDiscountPrice]\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"NewdetaildiscountPriceTagIcon\"\n            })]\n          }), displayPreferentialPriceItems.length > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"displayPreferentialPriceItemsBox\",\n            children: displayPreferentialPriceItems.map(function (priceItem, priceIndex) {\n              var PreferentialTitle = priceItem.PreferentialTitle;\n              var isLast = priceIndex + 1 === displayPreferentialPriceItems.length;\n              return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"NewdiscountPriceTagItem\",\n                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    style: {\n                      color: 'rgb(255, 119, 0)',\n                      fontSize: 12,\n                      fontWeight: 'bold'\n                    },\n                    children: PreferentialTitle\n                  })\n                }), !!isLast ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"PreferentialDetailIcon\",\n                  children: \"\\uEBC3\"\n                }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"discountPriceTagPoint\",\n                  children: \".\"\n                })]\n              }, priceIndex);\n            })\n          })]\n        }), !!PersonCountString && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"NewProfileTravelCountTex\",\n            children: PersonCountString\n          })\n        })]\n      })\n    })\n  });\n}\nfunction NameInfo() {\n  var _ref13 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo,\n        pageId = state.pageId,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        BasicInfo: BasicInfo,\n        currentRouteInfo: currentRouteInfo,\n        pageId: pageId,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    BasicInfo = _ref13.BasicInfo,\n    currentRouteInfo = _ref13.currentRouteInfo,\n    pageId = _ref13.pageId,\n    actionIdSuffix = _ref13.actionIdSuffix;\n  var handleGoStarInfo = model_Model.useActions().handlers.handleGoStarInfo;\n  var shouldShowTitle = BasicInfo.isStudy;\n  var starNumberUrl;\n  if (BasicInfo.Level > 0) {\n    starNumberUrl = \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bigpic/star_\".concat(BasicInfo.Level, \"_new.png\");\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"NewProfileMainNameText\",\n      children: shouldShowTitle ? BasicInfo.Title : BasicInfo.MainName\n    }), BasicInfo.Level > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"ProfileStarContainerBigPic ProfileStarBigPicImg\",\n      src: starNumberUrl,\n      onClick: function onClick(event) {\n        handleGoStarInfo();\n        cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-info-star\"));\n      }\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(StudyIcon, {})]\n  });\n}\nfunction StudyIcon() {\n  var currentRouteInfo = model_Model.useState(function (state) {\n    return state.currentRouteInfo;\n  });\n  var TagGroupInfo = currentRouteInfo.TagGroupInfo;\n  if (!TagGroupInfo) {\n    return null;\n  }\n  var StudyCharacterTagList = TagGroupInfo.StudyCharacterTagList || [];\n  if (!StudyCharacterTagList.length) {\n    return null;\n  }\n  var isStudyGold = StudyCharacterTagList.filter(function (item) {\n    return item.TagId === 1248;\n  }).length > 0;\n  var isStudySilver = StudyCharacterTagList.filter(function (item) {\n    return item.TagId === 1249;\n  }).length > 0;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n    children: [isStudyGold && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n      className: \"StudyGoldIcon\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"StudyGoldIconFont\",\n        children: \"\\uE509\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"StudyGoldIconText\",\n        children: \"\\u91D1\\u724C\\u8425\"\n      })]\n    }), isStudySilver && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n      className: \"StudySilverIcon\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"StudySilverIconFont\",\n        children: \"\\uE509\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"StudySilverIconText\",\n        children: \"\\u94F6\\u724C\\u8425\"\n      })]\n    })]\n  });\n}\nfunction PicAndVideoTopBox(_ref14) {\n  var imgIndex = _ref14.imgIndex,\n    setImgIndex = _ref14.setImgIndex;\n  var _ref15 = model_Model.useState(function (state) {\n      var MediaInfo = state.MediaInfo;\n      return {\n        MediaInfo: MediaInfo\n      };\n    }),\n    MediaInfo = _ref15.MediaInfo;\n  var _MediaInfo$ImgList2 = MediaInfo.ImgList,\n    ImgList = _MediaInfo$ImgList2 === void 0 ? [] : _MediaInfo$ImgList2;\n  var totalLength = ImgList.length;\n  var hasVideo = MediaInfo && MediaInfo.VideoInfoList && MediaInfo.VideoInfoList.length > 0;\n  var isShowPlayerButton = hasVideo && imgIndex === 0;\n  var ImageInfoProductInfoTextStr = !!isShowPlayerButton ? \"\\u89C6\\u9891 \".concat(imgIndex + 1, \"/\").concat(totalLength) : \"\\u56FE\\u7247 \".concat(imgIndex + 1, \"/\").concat(totalLength);\n  if (ImgList.length <= 0) return null;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ImageInfoPicIndex\",\n    children: [hasVideo && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: isShowPlayerButton ? 'videoCur' : '',\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          fontSize: 12,\n          color: !isShowPlayerButton ? '#fff' : '#333'\n        },\n        onClick: function onClick() {\n          setImgIndex(0);\n        },\n        children: \"\\u89C6\\u9891\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        style: {\n          fontSize: 12,\n          color: !hasVideo || isShowPlayerButton ? '#fff' : '#333'\n        },\n        className: hasVideo && !isShowPlayerButton ? 'picCur' : '',\n        onClick: function onClick() {\n          setImgIndex(1);\n        },\n        children: [\"\\u56FE\\u7247\", !isShowPlayerButton && \"\".concat(hasVideo ? imgIndex : imgIndex + 1, \"/\").concat(MediaInfo.ImgList.length)]\n      })\n    })]\n  });\n}\nfunction getMemberPriceSetting() {\n  var _ref16 = model_Model.useState(function (state) {\n      var isShowMemberDiscountInfo = state.isShowMemberDiscountInfo,\n        isShowFlightDiscountInfo = state.isShowFlightDiscountInfo,\n        userInfo = state.userInfo;\n      return {\n        isShowMemberDiscountInfo: isShowMemberDiscountInfo,\n        isShowFlightDiscountInfo: isShowFlightDiscountInfo,\n        userInfo: userInfo\n      };\n    }),\n    isShowMemberDiscountInfo = _ref16.isShowMemberDiscountInfo,\n    isShowFlightDiscountInfo = _ref16.isShowFlightDiscountInfo,\n    userInfo = _ref16.userInfo;\n  var result = {\n    isMemberPrice: false,\n    //\n    backgroundImage: '',\n    fontColor: {\n      title: '',\n      price: '',\n      count: ''\n    },\n    discountInfoColor: {\n      border: '',\n      font: '',\n      discountText: '',\n      discountBg: ''\n    },\n    priceTitle: ''\n  };\n  if (!isShowMemberDiscountInfo && !isShowFlightDiscountInfo) return result;\n  if (!userInfo || !userInfo.ExtendInfo) {\n    return result;\n  }\n  var _userInfo$ExtendInfo = userInfo.ExtendInfo,\n    VipGrade = _userInfo$ExtendInfo.VipGrade,\n    LevelName = _userInfo$ExtendInfo.LevelName;\n  result.isMemberPrice = true;\n  if (isShowMemberDiscountInfo) {\n    result.priceTitle = LevelName + ''; //\n  }\n\n  if (isShowFlightDiscountInfo) {\n    result.priceTitle = '';\n  }\n  // \n  var imageDict = {\n    '20': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/vip/pricebg_20.png',\n    '30': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/vip/pricebg_30.png',\n    '35': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/vip/pricebg_35.png',\n    '40': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/vip/pricebg_40.png',\n    flightCross: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/vip/pricebg_flight.png'\n  };\n\n  //\n  var fontColorDict = {\n    '20': {\n      title: 'rgb(255, 255, 255)',\n      price: 'rgb(255, 255, 255)',\n      count: 'rgba(255, 255, 255, 0.6)'\n    },\n    '30': {\n      title: 'rgb(248, 228, 195)',\n      price: 'rgb(250, 229, 193)',\n      count: 'rgba(248, 228, 195,0.6)'\n    },\n    '35': {\n      title: 'rgb(255, 240, 215)',\n      price: 'rgb(250, 229, 193)',\n      count: 'rgba(248, 228, 195,0.6)'\n    },\n    '40': {\n      title: 'rgb(255, 240, 215)',\n      price: 'rgb(250, 229, 193)',\n      count: 'rgba(248, 228, 195,0.6)'\n    },\n    flightCross: {\n      title: 'rgb(255, 255, 255)',\n      price: 'rgb(255, 255, 255)',\n      count: 'rgba(255, 255, 255,0.6)'\n    }\n  };\n  var discountInfoColorDict = {\n    '20': {\n      border: 'rgb(255, 255, 255)',\n      font: 'rgb(255, 255, 255)',\n      discountText: 'rgb(88, 153, 174)',\n      discountBg: 'linear-gradient(90deg, rgb(228, 251, 251) 0%, rgb(220, 242, 249) 100%)'\n    },\n    '30': {\n      border: 'rgb(255, 255, 255)',\n      font: 'rgb(255, 255, 255)',\n      discountText: 'rgb(62, 69, 137)',\n      discountBg: 'linear-gradient(90deg, rgb(217, 220, 247) 0%, rgb(210, 213, 247) 100%)'\n    },\n    '35': {\n      border: 'rgb(255, 255, 255)',\n      font: 'rgb(255, 255, 255)',\n      discountText: 'rgb(62, 69, 137)',\n      discountBg: 'linear-gradient(-255.34deg, rgb(217, 224, 244) 0%, rgb(197, 207, 239) 100%)'\n    },\n    '40': {\n      border: 'rgb(250, 229, 193)',\n      font: 'rgb(250, 229, 193)',\n      discountText: 'rgb(72, 72, 72)',\n      discountBg: 'linear-gradient(90deg, rgb(255, 245, 226) 0%, rgb(241, 221, 188) 100%)'\n    },\n    flightCross: {\n      border: 'rgb(255, 255, 255)',\n      font: 'rgb(255, 255, 255)',\n      discountText: 'rgb(12, 121, 235)',\n      discountBg: 'linear-gradient(90deg, rgb(233, 243, 255) 0%, rgb(208, 231, 255) 100%)'\n    }\n  };\n\n  // \n  var vipKey = '';\n  if (isShowFlightDiscountInfo) {\n    vipKey = 'flightCross';\n  } else {\n    vipKey = VipGrade + '';\n  }\n\n  //\n  result.backgroundImage = imageDict[vipKey] || '';\n  result.fontColor = fontColorDict[vipKey] || {};\n  result.discountInfoColor = discountInfoColorDict[vipKey] || {};\n  return result;\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/NewDestination.tsx\n\n\n\n\n\n\nfunction NewDestination() {\n  var _ref = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        suggestInfo = state.suggestInfo,\n        bookingRuleInfo = state.bookingRuleInfo,\n        actionIdSuffix = state.actionIdSuffix,\n        pageId = state.pageId;\n      return {\n        BasicInfo: BasicInfo,\n        suggestInfo: suggestInfo,\n        bookingRuleInfo: bookingRuleInfo,\n        actionIdSuffix: actionIdSuffix,\n        pageId: pageId\n      };\n    }),\n    BasicInfo = _ref.BasicInfo,\n    suggestInfo = _ref.suggestInfo,\n    bookingRuleInfo = _ref.bookingRuleInfo,\n    actionIdSuffix = _ref.actionIdSuffix,\n    pageId = _ref.pageId;\n  var handleGoSuggestDestination = model_Model.useActions().handlers.handleGoSuggestDestination;\n  var DestCityName = BasicInfo.DestCityName;\n  if (!suggestInfo || !bookingRuleInfo) {\n    return null;\n  }\n  var bookingRule = bookingRuleInfo.bookingRule;\n  // \n  if (!bookingRule || !bookingRule.IsHitTheRule || bookingRule.BookingRuleType !== 1) {\n    return null;\n  }\n  var searchName = suggestInfo.searchName;\n  if (!searchName) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ModuleBox NewDestinationContainer\",\n    onClick: function onClick() {\n      handleGoSuggestDestination(searchName);\n      cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-middle-entry\"));\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NewDestinationInfoBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewDestinationInfoLimit\",\n        children: \"\\u5F53\\u524D\\u4EA7\\u54C1\\u4E0D\\u53EF\\u8BA2\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"NewDestinationInfoDesc FontW600\",\n        children: [\"\\u4E0D\\u5982\\u6765\", /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"FontBlue\",\n          children: searchName\n        }), \"\\u4F53\\u9A8C\\u201C\", DestCityName, \"\\u98CE\\u5149\\u201D\"]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"NewDestinationInfoBtn\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"NewDestinationInfoBtnText\",\n          children: \"\\u53BB\\u770B\\u770B\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"NewDestinationInfoBtnIcon FontW600\",\n          children: \"\\uE944\"\n        })]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"NewDestinationImgBox\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        lazyLoad: true,\n        className: \"NewDestinationImg\",\n        src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/destrec.png\"\n      })\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/MultiRoute.tsx\n\n\n\n\n\n\n\n// const MemoMultiRoute = React.memo(MultiRoute)\n// export default MemoMultiRoute\n\n\n\n/* harmony default export */ var MultiRoute = (/*#__PURE__*/(0,react.forwardRef)(MultiRoute_MultiRoute));\nfunction MultiRoute_MultiRoute(props, routeRef) {\n  var _Model$useState = model_Model.useState(function (state) {\n      var pageStatus = state.pageStatus,\n        TourGroupInfo = state.TourGroupInfo,\n        TravelList = state.TravelList;\n      return {\n        pageStatus: pageStatus,\n        TourGroupInfo: TourGroupInfo,\n        TravelList: TravelList\n      };\n    }),\n    pageStatus = _Model$useState.pageStatus,\n    TourGroupInfo = _Model$useState.TourGroupInfo,\n    TravelList = _Model$useState.TravelList;\n  var _useState = (0,react.useState)(\"multiRouteId_\".concat((pageStatus === null || pageStatus === void 0 ? void 0 : pageStatus.activeProductId) || '')),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    multiRouteId = _useState2[0],\n    setMultiRouteId = _useState2[1];\n  var _useState3 = (0,react.useState)(\"multiTravelAlias_\".concat((pageStatus === null || pageStatus === void 0 ? void 0 : pageStatus.activeAlias) || 'A')),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    multiTravelAlias = _useState4[0],\n    setMultiTravelAlias = _useState4[1];\n  (0,react.useImperativeHandle)(routeRef, function () {\n    return {\n      setMultiRouteId: setMultiRouteId,\n      setMultiTravelAlias: setMultiTravelAlias\n    };\n  });\n  if (!pageStatus) {\n    return null;\n  }\n  var isMultiLine = pageStatus.isMultiLine,\n    isMultiTravel = pageStatus.isMultiTravel;\n  if (!isMultiLine && !isMultiTravel) {\n    return null;\n  }\n  var _TourGroupInfo$TourGr = TourGroupInfo.TourGroupProductInfo,\n    TourGroupProductInfo = _TourGroupInfo$TourGr === void 0 ? [] : _TourGroupInfo$TourGr;\n  var lineNumber = TourGroupProductInfo === null || TourGroupProductInfo === void 0 ? void 0 : TourGroupProductInfo.length;\n  var isVersionBText;\n  if (isMultiLine) {\n    isVersionBText = lineNumber > 1 && \"\".concat(lineNumber, \"\\u4E2A\\u5957\\u9910\");\n  } else {\n    isVersionBText = (TravelList === null || TravelList === void 0 ? void 0 : TravelList.length) > 1 && \"\".concat(TravelList === null || TravelList === void 0 ? void 0 : TravelList.length, \"\\u4E2A\\u5957\\u9910\");\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"MultiRouteContainer_New\",\n    id: \"Taro_Scroll_To\",\n    children: [!!isVersionBText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"leftSuspend\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"compressionVersionBText\",\n        children: isVersionBText\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.ScrollView, {\n      scrollX: true,\n      scrollWithAnimation: true,\n      scrollIntoView: isMultiLine ? multiRouteId : multiTravelAlias,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"MultiRouteScrollContainer\",\n        children: isMultiLine ? /*#__PURE__*/(0,jsx_runtime.jsx)(MultipleLine, {\n          setMultiRouteId: setMultiRouteId\n        }) : isMultiTravel ? /*#__PURE__*/(0,jsx_runtime.jsx)(MultipleTravel, {\n          setMultiTravelAlias: setMultiTravelAlias\n        }) : null\n      })\n    })]\n  });\n}\n\n// \nfunction MultipleLine(_ref) {\n  var setMultiRouteId = _ref.setMultiRouteId;\n  var _Model$useState2 = model_Model.useState(function (state) {\n      var groupCard = state.groupCard,\n        pageStatus = state.pageStatus,\n        isPremium = state.isPremium,\n        isPreSale = state.isPreSale,\n        BasicInfo = state.BasicInfo;\n      return {\n        groupCard: groupCard,\n        pageStatus: pageStatus,\n        isPremium: isPremium,\n        isPreSale: isPreSale,\n        BasicInfo: BasicInfo\n      };\n    }),\n    groupCard = _Model$useState2.groupCard,\n    pageStatus = _Model$useState2.pageStatus,\n    isPremium = _Model$useState2.isPremium,\n    isPreSale = _Model$useState2.isPreSale,\n    BasicInfo = _Model$useState2.BasicInfo;\n  var handleMultiLineChange = model_Model.useActions().handlers.handleMultiLineChange;\n  var activeProductId = pageStatus.activeProductId;\n  var _ref2 = groupCard || {},\n    cards = _ref2.cards;\n  if (!cards || !cards.length) {\n    return null;\n  }\n  var lineOfDescription;\n  cards.map(function (item, index) {\n    if (!item) {\n      return;\n    }\n    var Description = item.name;\n    if (/\\d/.test(Description) || Description.includes('+')) {\n      if (Description.length > 7) {\n        lineOfDescription = true;\n      }\n    } else {\n      if (Description.length > 6) {\n        lineOfDescription = true;\n      }\n    }\n  });\n\n  // \n  var hasAnyPreSale = groupCard.cards.some(function (item) {\n    var preSaleProductInfo = item.preSaleProductInfo;\n    if (isPreSale && preSaleProductInfo && preSaleProductInfo.canBook) {\n      return true;\n    } else {\n      return false;\n    }\n  });\n\n  // groupCard.cards  canBook  false \n  var sortedGroupCards = sortLineByCanBook(cards);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(react.Fragment, {\n    children: sortedGroupCards.map(function (item, index) {\n      var ProductId = item.productId,\n        Description = item.name,\n        lineName = item.lineName,\n        hasPrice = item.hasPrice,\n        priceDesc = item.priceDesc,\n        preSaleProductInfo = item.preSaleProductInfo,\n        canBook = item.canBook,\n        priceInfo = item.priceInfo;\n      var isCurrent = activeProductId === ProductId;\n      var _ref3 = priceInfo || {},\n        preferentialPriceDetail = _ref3.preferentialPriceDetail,\n        baseCarMinPrice = _ref3.baseCarMinPrice;\n      var _ref4 = preferentialPriceDetail || {},\n        preferentialAmountDetails = _ref4.preferentialAmountDetails;\n      var discountPriceInRoute = preferentialAmountDetails && preferentialAmountDetails[0] && preferentialAmountDetails[0].preferentialAmount;\n      // \n      var isCarInfoVerssionB = false;\n      if (baseCarMinPrice) {\n        isCarInfoVerssionB = true;\n      }\n      var hasPreSale = isPreSale && preSaleProductInfo && preSaleProductInfo.canBook;\n      if (hasPreSale) {\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(PresaleLineRouteInfo, {\n          isCurrent: isCurrent,\n          handleMultiLineChange: handleMultiLineChange,\n          productId: ProductId,\n          route: lineName,\n          hasPrice: hasPrice,\n          priceDesc: priceDesc,\n          description: Description,\n          lineOfDescription: lineOfDescription,\n          isPremium: isPremium,\n          preSaleProductInfo: preSaleProductInfo,\n          setMultiRouteId: setMultiRouteId,\n          canBook: canBook,\n          isCarInfoVerssionB: isCarInfoVerssionB,\n          baseCarMinPrice: baseCarMinPrice,\n          discountPriceInRoute: discountPriceInRoute\n        }, ProductId);\n      }\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(LineRouteInfo, {\n          isCurrent: isCurrent,\n          handleMultiLineChange: handleMultiLineChange,\n          productId: ProductId,\n          route: lineName,\n          hasPrice: hasPrice,\n          price: priceDesc,\n          description: Description,\n          lineOfDescription: lineOfDescription,\n          isPremium: isPremium,\n          setMultiRouteId: setMultiRouteId,\n          hasAnyPreSale: hasAnyPreSale,\n          isCarInfoVerssionB: isCarInfoVerssionB,\n          baseCarMinPrice: baseCarMinPrice,\n          discountPriceInRoute: discountPriceInRoute\n        }, ProductId)\n      });\n    })\n  });\n}\n// \nfunction MultipleTravel(_ref5) {\n  var setMultiTravelAlias = _ref5.setMultiTravelAlias;\n  var _ref6 = model_Model.useState(function (state) {\n      var TravelList = state.TravelList,\n        isPremium = state.isPremium,\n        priceCalendarData = state.priceCalendarData,\n        pageStatus = state.pageStatus,\n        BasicInfo = state.BasicInfo,\n        groupCard = state.groupCard;\n      return {\n        TravelList: TravelList,\n        isPremium: isPremium,\n        priceCalendarData: priceCalendarData,\n        pageStatus: pageStatus,\n        BasicInfo: BasicInfo,\n        groupCard: groupCard\n      };\n    }),\n    TravelList = _ref6.TravelList,\n    isPremium = _ref6.isPremium,\n    priceCalendarData = _ref6.priceCalendarData,\n    pageStatus = _ref6.pageStatus,\n    BasicInfo = _ref6.BasicInfo,\n    groupCard = _ref6.groupCard;\n  (0,react.useEffect)(function () {\n    //\n    SET_MULTITRAVEL_SCHEDATES(multiTravelPrice);\n  }, [priceCalendarData]);\n  if (!TravelList) {\n    return null;\n  }\n  var handleMultiTravelChange = model_Model.useActions().handlers.handleMultiTravelChange;\n  var _Model$useActions = model_Model.useActions(),\n    SET_MULTITRAVEL_SCHEDATES = _Model$useActions.SET_MULTITRAVEL_SCHEDATES;\n  var activeAlias = pageStatus.activeAlias;\n  var lineOfName;\n  TravelList.map(function (line, lineIndex) {\n    if (!line) {\n      return;\n    }\n    var Name = line.Name;\n    if (Name.length > 7) {\n      lineOfName = true;\n    }\n  });\n  var multiTravelPrice = getMultiTravelPrice(priceCalendarData);\n  var sortedTravelList = sortTravelListByCanBook(TravelList);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(react.Fragment, {\n    children: sortedTravelList.map(function (item, index) {\n      var Alias = item.Alias,\n        Name = item.Name,\n        TourInfoId = item.TourInfoId,\n        isActive = item.isActive,\n        priceInfo = item.priceInfo;\n      var isCurrent = activeAlias === Alias;\n      var description = Name;\n      var multiTravelRouteDisplayPrice = multiTravelPrice[Alias];\n      var showPriceInTime = multiTravelPrice.priceInTimeLines.includes(Alias) ? '' : '';\n      multiTravelRouteDisplayPrice = multiTravelRouteDisplayPrice || showPriceInTime;\n\n      //  \n      var _ref7 = priceInfo || {},\n        baseCarMinPrice = _ref7.baseCarMinPrice;\n      var isCarInfoVerssionB = false;\n      if (baseCarMinPrice) {\n        isCarInfoVerssionB = true;\n      }\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(react.Fragment, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(TravelRouteInfo, {\n          handleMultiTravelChange: handleMultiTravelChange,\n          Alias: Alias,\n          isActive: isActive,\n          isCurrent: isCurrent,\n          productId: TourInfoId,\n          route: Alias + '',\n          description: description,\n          isPremium: isPremium,\n          lineOfName: lineOfName,\n          multiTravelRouteDisplayPrice: multiTravelRouteDisplayPrice,\n          setMultiTravelAlias: setMultiTravelAlias,\n          isCarInfoVerssionB: isCarInfoVerssionB,\n          baseCarMinPrice: baseCarMinPrice,\n          multiTravelPrice: multiTravelPrice\n        })\n      }, index);\n    })\n  });\n}\n\n// \nfunction LineRouteInfo(_ref8) {\n  var handleMultiLineChange = _ref8.handleMultiLineChange,\n    productId = _ref8.productId,\n    _ref8$isCurrent = _ref8.isCurrent,\n    isCurrent = _ref8$isCurrent === void 0 ? true : _ref8$isCurrent,\n    _ref8$disabled = _ref8.disabled,\n    disabled = _ref8$disabled === void 0 ? false : _ref8$disabled,\n    route = _ref8.route,\n    _ref8$hasPrice = _ref8.hasPrice,\n    hasPrice = _ref8$hasPrice === void 0 ? false : _ref8$hasPrice,\n    price = _ref8.price,\n    description = _ref8.description,\n    lineOfDescription = _ref8.lineOfDescription,\n    isPremium = _ref8.isPremium,\n    setMultiRouteId = _ref8.setMultiRouteId,\n    _ref8$hasAnyPreSale = _ref8.hasAnyPreSale,\n    hasAnyPreSale = _ref8$hasAnyPreSale === void 0 ? false : _ref8$hasAnyPreSale,\n    isCarInfoVerssionB = _ref8.isCarInfoVerssionB,\n    baseCarMinPrice = _ref8.baseCarMinPrice,\n    discountPriceInRoute = _ref8.discountPriceInRoute;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    onClick: /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return handleMultiLineChange(productId);\n          case 2:\n            setMultiRouteId(\"multiRouteId_\".concat(productId));\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    })),\n    className: isCurrent ? isPremium ? 'MultiRouteInfo_New MultiRouteActive_New_Premium' : 'MultiRouteInfo_New MultiRouteActive_New' : 'MultiRouteInfo_New',\n    style: hasAnyPreSale ? {} : {\n      paddingTop: 8\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ScrollToDestination\",\n      id: \"multiRouteId_\".concat(productId)\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"MultiRoutePriceBox\",\n      children: [!!price ? hasPrice ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"colorPrice_Label2\",\n        children: [\"\\xA5\", /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"MultiRoutePrice colorPrice_38\",\n          children: price\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            color: '#888'\n          },\n          children: \"\\u8D77\"\n        })]\n      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"MultiRouteNoPrice\",\n        children: price\n      }) : null, !!discountPriceInRoute && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"afterPricePromotionBox\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          style: {\n            color: '#ff6600',\n            fontSize: 11,\n            fontWeight: 'bold'\n          },\n          children: [\"\\u5DF2\\u51CF\", discountPriceInRoute]\n        })\n      })]\n    }), !!isCarInfoVerssionB && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      style: {\n        marginBottom: 0,\n        alignSelf: 'flex-start'\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"baseCarMinPriceText\",\n        children: [\"\\u6EE13\\u4EBA\\u518D\\u51CF\\xA5\", baseCarMinPrice, \"\\u8D77\"]\n      })\n    }), !!description && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"MarginTop4 MultiRouteDescriptionBox\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"MultiRouteDescription_New\",\n        style: {\n          height: lineOfDescription ? 33 : null\n        },\n        children: [route, /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            color: 'rgba(136,136,136,.8)',\n            marginLeft: 2,\n            marginRight: 2\n          },\n          children: \"|\"\n        }), description]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(DistinctionInformation, {\n      productId: productId,\n      alias: false\n    }), !!isCurrent && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"currentSelectedRoute\",\n      src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bigpic/route_select_icon\".concat(isPremium ? '_new' : '', \".png\")\n    })]\n  });\n}\n\n// \nfunction PresaleLineRouteInfo(_ref10) {\n  var handleMultiLineChange = _ref10.handleMultiLineChange,\n    productId = _ref10.productId,\n    _ref10$isCurrent = _ref10.isCurrent,\n    isCurrent = _ref10$isCurrent === void 0 ? true : _ref10$isCurrent,\n    _ref10$disabled = _ref10.disabled,\n    disabled = _ref10$disabled === void 0 ? false : _ref10$disabled,\n    route = _ref10.route,\n    _ref10$hasPrice = _ref10.hasPrice,\n    hasPrice = _ref10$hasPrice === void 0 ? false : _ref10$hasPrice,\n    priceDesc = _ref10.priceDesc,\n    description = _ref10.description,\n    lineOfDescription = _ref10.lineOfDescription,\n    isPremium = _ref10.isPremium,\n    preSaleProductInfo = _ref10.preSaleProductInfo,\n    setMultiRouteId = _ref10.setMultiRouteId,\n    canBook = _ref10.canBook,\n    isCarInfoVerssionB = _ref10.isCarInfoVerssionB,\n    baseCarMinPrice = _ref10.baseCarMinPrice,\n    discountPriceInRoute = _ref10.discountPriceInRoute;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    onClick: /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2() {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return handleMultiLineChange(productId);\n          case 2:\n            setMultiRouteId(\"multiRouteId_\".concat(productId));\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    })),\n    className: isCurrent ? 'MultiRouteInfo_New MultiRouteActive_New' : 'MultiRouteInfo_New',\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ScrollToDestination\",\n      id: \"multiRouteId_\".concat(productId)\n    }), !!isCurrent && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"MultiRouteItemPresaleImgBg\",\n      src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/presaledlinebg.png\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: isCurrent ? 'CurrentMultiRouteItemPresalePriceBox' : 'MultiRouteItemPresalePriceBox',\n      children: (preSaleProductInfo === null || preSaleProductInfo === void 0 ? void 0 : preSaleProductInfo.minPrice) > 0 ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: isCurrent ? 'MultiRouteItemPresalePriceTextCur' : 'MultiRouteItemPresalePriceText',\n        children: [\"\\u9884\\u552E\\u4EF7\\xA5\", preSaleProductInfo.minPrice, \"\\u8D77\"]\n      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: isCurrent ? 'MultiRouteItemPresalePriceTextCur' : 'MultiRouteItemPresalePriceText',\n        children: \"\\u9884\\u552E\\u4EF7\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"MultiRoutePriceBox\",\n      children: [!!priceDesc ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: canBook ? hasPrice ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"priceDescContainer\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"colorPrice_Label2\",\n            children: \"\\xA5\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"detaiNumFont20THBold colorPrice_38\",\n            children: priceDesc\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"toUpPosition color3_Label2\",\n            children: \"\\u8D77\"\n          })]\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"priceDescNoSale\",\n          children: priceDesc\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"priceDescNoSale2\",\n          children: \"\\u53EF\\u9009\\u9884\\u552E\"\n        })\n      }) : null, !!discountPriceInRoute && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"afterPricePromotionBox\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          style: {\n            color: '#ff6600',\n            fontSize: 11,\n            fontWeight: 'bold'\n          },\n          children: [\"\\u5DF2\\u51CF\", discountPriceInRoute]\n        })\n      })]\n    }), !!isCarInfoVerssionB && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      style: {\n        marginBottom: 0,\n        alignSelf: 'flex-start'\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"baseCarMinPriceText\",\n        children: [\"\\u6EE13\\u4EBA\\u518D\\u51CF\\xA5\", baseCarMinPrice, \"\\u8D77\"]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"MarginTop4 MultiRouteDescriptionBox\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"MultiRouteDescription_New\",\n        style: {\n          height: lineOfDescription ? 33 : null\n        },\n        children: [route, /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            color: 'rgba(136,136,136,.8)',\n            marginLeft: 2,\n            marginRight: 2\n          },\n          children: \"|\"\n        }), description]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(DistinctionInformation, {\n      productId: productId,\n      alias: false\n    }), !!isCurrent && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"currentSelectedRoute\",\n      src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bigpic/route_select_icon\".concat(isPremium ? '_new' : '', \".png\")\n    })]\n  });\n}\n\n// \nfunction TravelRouteInfo(_ref12) {\n  var handleMultiTravelChange = _ref12.handleMultiTravelChange,\n    Alias = _ref12.Alias,\n    productId = _ref12.productId,\n    _ref12$isCurrent = _ref12.isCurrent,\n    isCurrent = _ref12$isCurrent === void 0 ? false : _ref12$isCurrent,\n    _ref12$disabled = _ref12.disabled,\n    disabled = _ref12$disabled === void 0 ? false : _ref12$disabled,\n    route = _ref12.route,\n    description = _ref12.description,\n    isPremium = _ref12.isPremium,\n    lineOfName = _ref12.lineOfName,\n    isActive = _ref12.isActive,\n    multiTravelRouteDisplayPrice = _ref12.multiTravelRouteDisplayPrice,\n    setMultiTravelAlias = _ref12.setMultiTravelAlias,\n    isCarInfoVerssionB = _ref12.isCarInfoVerssionB,\n    baseCarMinPrice = _ref12.baseCarMinPrice,\n    multiTravelPrice = _ref12.multiTravelPrice;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    onClick: /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee3() {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return handleMultiTravelChange(Alias);\n          case 2:\n            setMultiTravelAlias(\"multiTravelAlias_\".concat(Alias));\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    })),\n    className: isCurrent ? 'MultiTravelInfo_New MultiRouteActive_New' : 'MultiTravelInfo_New',\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ScrollToDestination\",\n      id: \"multiTravelAlias_\".concat(Alias)\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"MultiRoutePriceBox\",\n      children: !isActive ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"multiTravelNoSaleBox\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"isActiveText\",\n          children: \"\\u6682\\u65E0\\u53EF\\u552E\"\n        })\n      }) : !!multiTravelRouteDisplayPrice && (multiTravelRouteDisplayPrice > 0 ? /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"priceDescContainer\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: \"#ff6600\",\n              fontSize: 12,\n              fontWeight: 'bold'\n            },\n            children: \"\\xA5\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"detaiNumFont20THBold\",\n            style: {\n              color: \"#ff6600\",\n              fontSize: 20\n            },\n            children: multiTravelRouteDisplayPrice\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              position: 'relative',\n              bottom: 2,\n              color: '#888',\n              fontSize: 12\n            },\n            children: \"\\u8D77\"\n          }), !!multiTravelPrice.allMinPriceDiscount && Number.isInteger(multiTravelPrice.allMinPriceDiscount[Alias]) && multiTravelPrice.allMinPriceDiscount[Alias] > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"afterPricePromotionBox\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              style: {\n                color: '#ff6600',\n                fontSize: 11,\n                fontWeight: 'bold'\n              },\n              children: [\"\\u5DF2\\u51CF\", multiTravelPrice.allMinPriceDiscount[Alias]]\n            })\n          })]\n        })\n      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            fontSize: 16,\n            color: \"#ff6600\"\n          },\n          className: \"priceDescNoSale\",\n          children: \"\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n        })\n      }))\n    }), !!isCarInfoVerssionB && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      style: {\n        marginBottom: 0,\n        alignSelf: 'flex-start'\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"baseCarMinPriceText\",\n        children: [\"\\u6EE13\\u4EBA\\u518D\\u51CF\\xA5\", baseCarMinPrice, \"\\u8D77\"]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"MarginTop8 FlexAlignCenter\",\n      style: {\n        width: \"100%\"\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"MultiRouteDescription_New\",\n        style: {\n          height: lineOfName ? 33 : null\n        },\n        children: [route, !!description && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            color: 'rgba(136,136,136,.8)',\n            marginLeft: 2,\n            marginRight: 2\n          },\n          children: \"|\"\n        }), description]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(DistinctionInformation, {\n      productId: \"multiTravel\",\n      alias: Alias\n    }), !!isCurrent && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"currentSelectedRoute\",\n      src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bigpic/route_select_icon\".concat(isPremium ? '_new' : '', \".png\")\n    })]\n  });\n}\nvar getMultiTravelPrice = function getMultiTravelPrice(priceCalendarData) {\n  var _Object$values;\n  var multiTravelPrice = {\n    priceInTimeLines: [],\n    everyLineIncludesSchedule: {},\n    allMinPriceDiscount: {}\n  };\n  if (!priceCalendarData) {\n    return multiTravelPrice;\n  }\n  var dailyMinPrice = priceCalendarData.dailyMinPrice;\n  var lineMinPriceDate = {};\n  (_Object$values = Object.values(dailyMinPrice)) === null || _Object$values === void 0 || _Object$values.forEach(function (priceObj, index) {\n    if (!priceObj) return;\n    var productPrices = priceObj.productPrices;\n    var _ref14 = productPrices[0] || [],\n      alias = _ref14.alias,\n      displayPrice = _ref14.displayPrice;\n    var curDate = Object.keys(dailyMinPrice)[index];\n\n    //\n    if (multiTravelPrice.everyLineIncludesSchedule[alias]) {\n      multiTravelPrice.everyLineIncludesSchedule[alias].push(curDate);\n    } else {\n      multiTravelPrice.everyLineIncludesSchedule[alias] = [curDate];\n    }\n    if (displayPrice === '' || displayPrice === 0) {\n      if (!multiTravelPrice.priceInTimeLines.includes(alias)) {\n        multiTravelPrice.priceInTimeLines.push(alias);\n      }\n      return;\n    }\n    if (multiTravelPrice[alias]) {\n      if (displayPrice > 0 && displayPrice < multiTravelPrice[alias]) {\n        multiTravelPrice[alias] = displayPrice;\n        lineMinPriceDate[alias] = curDate;\n      }\n    } else {\n      multiTravelPrice[alias] = displayPrice;\n      lineMinPriceDate[alias] = curDate;\n    }\n  });\n  Object.entries(lineMinPriceDate).forEach(function (item) {\n    if (!item || !item[1] || !dailyMinPrice[item[1]]) return;\n    var productPrices = dailyMinPrice[item[1]].productPrices;\n    if (!productPrices) return;\n    var _productPrices$ = productPrices[0],\n      displayPrice = _productPrices$.displayPrice,\n      originalPriceInfo = _productPrices$.originalPriceInfo;\n    var curLineMinpriceDiscont = (originalPriceInfo === null || originalPriceInfo === void 0 ? void 0 : originalPriceInfo.originalPrice) - displayPrice;\n    multiTravelPrice.allMinPriceDiscount[item[0]] = curLineMinpriceDiscont;\n  });\n  return multiTravelPrice;\n};\n\n//\nfunction DistinctionInformation(_ref15) {\n  var productId = _ref15.productId,\n    alias = _ref15.alias;\n  var _ref16 = model_Model.useState(function (state) {\n      var groupCard = state.groupCard;\n      return {\n        groupCard: groupCard\n      };\n    }),\n    groupCard = _ref16.groupCard;\n  if (!groupCard) {\n    return null;\n  }\n  var _groupCard$cards = groupCard.cards,\n    cards = _groupCard$cards === void 0 ? [] : _groupCard$cards;\n  if (!cards.length) {\n    return null;\n  }\n  var showCardInfo;\n  if (productId === 'multiTravel') {\n    //\n    showCardInfo = cards.find(function (item) {\n      return item.alias === alias;\n    });\n  } else {\n    //\n    showCardInfo = cards.find(function (item) {\n      return item.productId === productId;\n    });\n  }\n  if (!showCardInfo) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"distinctionInformationBox\",\n    children: !!showCardInfo.cardItems && showCardInfo.cardItems.map(function (card, index) {\n      if (!card) {\n        return null;\n      }\n      var descItems = card.descItems,\n        isBest = card.isBest,\n        groupName = card.groupName,\n        isHidden = card.isHidden,\n        displayContent = card.displayContent;\n      // groupdescItemsnull,{contenttext}\n      if (!descItems || isHidden) {\n        return null;\n      }\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(DistinctionInformationItem, {\n        icon: groupName,\n        text: displayContent,\n        isBest: isBest\n      }, index);\n    })\n  });\n}\nfunction DistinctionInformationItem(_ref17) {\n  var icon = _ref17.icon,\n    text = _ref17.text,\n    isBest = _ref17.isBest;\n  var bestIconUrl = {\n    '': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/besttext_zhu.png',\n    '': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/besttext_tuan.png',\n    '': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/besttext_you.png',\n    '': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/besttext_can.png',\n    '': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/besttext_huo.png'\n  };\n  var imgurl = bestIconUrl[icon];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"distinctionText\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"distinctionIconBox\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"distinctionTextIcon\",\n        style: {\n          position: 'relative',\n          bottom: 0\n        },\n        children: icon\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"distinctionInfo\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"distinctionNoInfoTextColor\",\n        children: text\n      }), !!isBest && !!imgurl && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        style: {\n          width: 33,\n          height: 12,\n          paddingLeft: 2,\n          position: 'relative',\n          top: 2\n        },\n        src: imgurl\n      })]\n    })]\n  });\n}\nvar sortLineByCanBook = function sortLineByCanBook(cards) {\n  var newCards = cards.slice();\n  return newCards.sort(function (a, b) {\n    if (a.canBook && !b.canBook) {\n      return -1; // a  b \n    } else if (!a.canBook && b.canBook) {\n      return 1; // b  a \n    } else {\n      return 0; // \n    }\n  });\n};\n\nvar sortTravelListByCanBook = function sortTravelListByCanBook(TravelList) {\n  var newCards = TravelList.slice();\n  return newCards.sort(function (a, b) {\n    if (a.isActive && !b.isActive) {\n      return -1; // a  b \n    } else if (!a.isActive && b.isActive) {\n      return 1; // b  a \n    } else {\n      return 0; // \n    }\n  });\n};\n// EXTERNAL MODULE: ./src/pages/vacations/shared/util/vdate.ts\nvar util_vdate = __webpack_require__(98933);\n// EXTERNAL MODULE: ./src/pages/vacations/shared/util/index.ts\nvar util = __webpack_require__(13336);\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/RouteScheduleInfo.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar isIphoneX = util/* default.isIphoneX */.Z.isIphoneX();\nvar topDateTag = {\n  lowest: '',\n  nextlowest: '',\n  weekend: '',\n  festival: '',\n  minprice: ''\n};\nvar MemoSchedule = /*#__PURE__*/react.memo(RouteScheduleInfo_RouteScheduleInfo);\n/* harmony default export */ var RouteScheduleInfo = (MemoSchedule);\nfunction RouteScheduleInfo_RouteScheduleInfo() {\n  var _ref = model_Model.useState(function (state) {\n      var isSelectPreSale = state.isSelectPreSale;\n      return {\n        isSelectPreSale: isSelectPreSale\n      };\n    }),\n    isSelectPreSale = _ref.isSelectPreSale;\n  var routeRef = (0,react.useRef)(null);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ModuleBoxBigPic\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(BrandingImageBanner, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(DepartureInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(MultiRoute, {\n      ref: routeRef\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(DateList, {\n      routeRef: routeRef\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(CarDiscountPrice, {}), !!isSelectPreSale && /*#__PURE__*/(0,jsx_runtime.jsx)(PreSaleNotice, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CompressionVersionTip, {})]\n  });\n}\nfunction DepartureInfo() {\n  var _ref2 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo,\n        pageStatus = state.pageStatus,\n        TourGroupInfo = state.TourGroupInfo,\n        TravelList = state.TravelList;\n      return {\n        BasicInfo: BasicInfo,\n        currentRouteInfo: currentRouteInfo,\n        pageStatus: pageStatus,\n        TourGroupInfo: TourGroupInfo,\n        TravelList: TravelList\n      };\n    }),\n    BasicInfo = _ref2.BasicInfo,\n    currentRouteInfo = _ref2.currentRouteInfo,\n    pageStatus = _ref2.pageStatus,\n    TourGroupInfo = _ref2.TourGroupInfo,\n    TravelList = _ref2.TravelList;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleToggleCitySelectMask = _Model$useActions$han.handleToggleCitySelectMask,\n    handleChangeDepartCity = _Model$useActions$han.handleChangeDepartCity;\n  var isMultiLine = pageStatus.isMultiLine,\n    isMultiTravel = pageStatus.isMultiTravel;\n  var isMergeShowDepartInfo = !(isMultiLine || isMultiTravel);\n  if (!BasicInfo || isMergeShowDepartInfo) {\n    return null;\n  }\n  var DepartureCityName = BasicInfo.DepartureCityName;\n  var PriceInfo = currentRouteInfo.PriceInfo;\n  var _ref3 = PriceInfo || {},\n    DepartureCityPriceList = _ref3.DepartureCityPriceList;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"FlexAlignCenter \",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      onClick: function onClick() {\n        DepartureCityPriceList && DepartureCityPriceList.length > 1 ? handleToggleCitySelectMask(true) : null;\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"RouteDepartTitle\",\n        children: [DepartureCityName, \"\\u51FA\\u53D1\"]\n      })\n    }), DepartureCityPriceList && DepartureCityPriceList.length > 1 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"FlexAlignCenter\",\n      onClick: function onClick() {\n        handleToggleCitySelectMask(true);\n      },\n      style: {\n        fontSize: 14\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"ModuleTitleSwitcTextBlue\",\n        children: \"\\u66F4\\u6362\\u51FA\\u53D1\\u5730\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"ModuleTitleArrowIconBlue\",\n        children: \"\\uE944\"\n      })]\n    })]\n  });\n}\nfunction getIndex(commonDates, top1Date, top2Date, newProcessSelectDate) {\n  if (!newProcessSelectDate || (top1Date === null || top1Date === void 0 ? void 0 : top1Date.date) === newProcessSelectDate) return 0;\n  if ((top2Date === null || top2Date === void 0 ? void 0 : top2Date.date) === newProcessSelectDate) return 1;\n  var dateIndex = 0,\n    flag = true;\n  commonDates === null || commonDates === void 0 || commonDates.forEach(function (item, index) {\n    if ((item === null || item === void 0 ? void 0 : item.date) === newProcessSelectDate) {\n      flag = false;\n      if (top1Date) {\n        dateIndex++;\n      }\n      if (top2Date) {\n        dateIndex++;\n      }\n      dateIndex += index;\n    }\n  });\n  if (!flag) {\n    return dateIndex;\n  }\n  //\n  if (top1Date || top2Date) {\n    if (top1Date && top2Date) {\n      return 2;\n    } else {\n      return 1;\n    }\n  }\n  //\n  return 0;\n}\nfunction DateList(_ref4) {\n  var _currentRouteInfo$dai, _allDisplayDates;\n  var routeRef = _ref4.routeRef;\n  var _Model$useActions$han2 = model_Model.useActions().handlers,\n    handleToggleCalendarPop = _Model$useActions$han2.handleToggleCalendarPop,\n    handleToggleBookingLimitMask = _Model$useActions$han2.handleToggleBookingLimitMask,\n    handleTraceLog = _Model$useActions$han2.handleTraceLog,\n    handleToggleCitySelectMask = _Model$useActions$han2.handleToggleCitySelectMask;\n  var _ref5 = model_Model.useState(function (state) {\n      var ScheduleInfo = state.ScheduleInfo,\n        groupCard = state.groupCard,\n        BasicInfo = state.BasicInfo,\n        actionIdSuffix = state.actionIdSuffix,\n        newProcessSelectDate = state.newProcessSelectDate,\n        priceCalendarData = state.priceCalendarData,\n        pageStatus = state.pageStatus,\n        isPreSale = state.isPreSale,\n        TourGroupInfo = state.TourGroupInfo,\n        currentRouteInfo = state.currentRouteInfo,\n        isSelectPreSale = state.isSelectPreSale,\n        routeInfo = state.routeInfo;\n      return {\n        ScheduleInfo: ScheduleInfo,\n        groupCard: groupCard,\n        BasicInfo: BasicInfo,\n        actionIdSuffix: actionIdSuffix,\n        newProcessSelectDate: newProcessSelectDate,\n        priceCalendarData: priceCalendarData,\n        pageStatus: pageStatus,\n        isPreSale: isPreSale,\n        TourGroupInfo: TourGroupInfo,\n        currentRouteInfo: currentRouteInfo,\n        isSelectPreSale: isSelectPreSale,\n        routeInfo: routeInfo\n      };\n    }),\n    ScheduleInfo = _ref5.ScheduleInfo,\n    groupCard = _ref5.groupCard,\n    BasicInfo = _ref5.BasicInfo,\n    actionIdSuffix = _ref5.actionIdSuffix,\n    newProcessSelectDate = _ref5.newProcessSelectDate,\n    priceCalendarData = _ref5.priceCalendarData,\n    pageStatus = _ref5.pageStatus,\n    isPreSale = _ref5.isPreSale,\n    TourGroupInfo = _ref5.TourGroupInfo,\n    currentRouteInfo = _ref5.currentRouteInfo,\n    isSelectPreSale = _ref5.isSelectPreSale,\n    routeInfo = _ref5.routeInfo;\n  var activeProductId = pageStatus.activeProductId,\n    activeAlias = pageStatus.activeAlias,\n    isMultiTravel = pageStatus.isMultiTravel,\n    isMultiLine = pageStatus.isMultiLine;\n  var _ref6 = TourGroupInfo || {},\n    TourGroupProductInfo = _ref6.TourGroupProductInfo;\n  var scheduleDates = currentRouteInfo.scheduleDates,\n    TagGroupInfo = currentRouteInfo.TagGroupInfo,\n    PriceInfo = currentRouteInfo.PriceInfo;\n  var _ref7 = PriceInfo || {},\n    DepartureCityPriceList = _ref7.DepartureCityPriceList;\n  var _useState = (0,react.useState)(0),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    scrollLeft = _useState2[0],\n    setScrollLeft = _useState2[1];\n  var _getScheduleTopDate = getScheduleTopDate(),\n    commonDates = _getScheduleTopDate.commonDates,\n    top1Date = _getScheduleTopDate.top1Date,\n    top2Date = _getScheduleTopDate.top2Date,\n    isShowTopDates = _getScheduleTopDate.isShowTopDates;\n  //\n  isShowTopDates = false;\n  var hasShowRecommandSchedule;\n  (0,react.useEffect)(function () {\n    if (isSelectPreSale) {\n      return;\n    }\n    var dateIndex = getIndex(commonDates, top1Date, top2Date, newProcessSelectDate);\n    // let distance = 30 + (dateIndex - 1) * 74 - 60\n    var distance = 30 + (dateIndex - 1) * 84 - 60;\n    setScrollLeft(distance);\n  }, [newProcessSelectDate]);\n  (0,react.useEffect)(function () {\n    var dateIndex = getIndex(commonDates, top1Date, top2Date, newProcessSelectDate);\n    var distance = 30 + (dateIndex - 1) * 74;\n    if (hasShowRecommandSchedule) {\n      distance = Math.random();\n      var recommandScroll = \"multiRouteId_\".concat(activeProductId);\n      isMultiLine && routeRef.current && routeRef.current.setMultiRouteId(recommandScroll);\n    }\n    if (isShowPreSaleDate) {\n      distance += 40;\n    }\n    setScrollLeft(distance);\n  }, [activeProductId]);\n\n  // \n  (0,react.useEffect)(function () {\n    var recommandScroll = \"multiTravelAlias_\".concat(activeAlias);\n    isMultiTravel && routeRef.current && routeRef.current.setMultiTravelAlias(recommandScroll);\n    if (hasShowRecommandSchedule) {\n      setScrollLeft(Math.random());\n    }\n  }, [activeAlias]);\n  if (!ScheduleInfo) {\n    return null;\n  }\n\n  // \n  var isShowPreSaleDate = false;\n  // Id\n  var curPreSaleProductId;\n  // \n  if (groupCard && groupCard.cards && groupCard.cards.length) {\n    var curPreSaleInfo = groupCard.cards.find(function (item) {\n      return item.productId === activeProductId;\n    });\n    if (isPreSale && curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n      isShowPreSaleDate = true;\n      curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n    }\n  }\n\n  //activeProductIdactiveAlias\n  var selectLine;\n  if (pageStatus.isMultiLine) {\n    var _TourGroupInfo$TourGr;\n    var curLineInfo = TourGroupInfo === null || TourGroupInfo === void 0 || (_TourGroupInfo$TourGr = TourGroupInfo.TourGroupProductInfo) === null || _TourGroupInfo$TourGr === void 0 ? void 0 : _TourGroupInfo$TourGr.filter(function (item) {\n      return item.ProductId === pageStatus.activeProductId;\n    })[0];\n    var LINE_ALIAS = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'];\n    if (curLineInfo) {\n      selectLine = LINE_ALIAS[curLineInfo.SortNumber - 1];\n    }\n  }\n  if (pageStatus.isMultiTravel) {\n    selectLine = pageStatus.activeAlias;\n    // scheduleDates,\n    if (!commonDates && !top1Date && !top2Date) {\n      scheduleDates = [];\n    }\n  }\n  var isMergeShowDepartInfo = !(isMultiLine || isMultiTravel);\n  var showLineText = isMergeShowDepartInfo ? \"\\u73ED\\u671F\\u9009\\u62E9\\xB7\".concat((BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.DepartureCityName) || '', \"\\u51FA\\u53D1\") : '';\n\n  // \n  if (!scheduleDates || !scheduleDates.length) {\n    // \n    if (isShowPreSaleDate) {\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [isMergeShowDepartInfo && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          style: {\n            marginLeft: 16\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            style: {\n              fontWeight: 'bold',\n              color: '#333',\n              fontSize: 17\n            },\n            children: [BasicInfo.DepartureCityName, \"\\u51FA\\u53D1\"]\n          }), DepartureCityPriceList && DepartureCityPriceList.length > 1 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"DepartSwitchBigPic\",\n            onClick: function onClick() {\n              handleToggleCitySelectMask(true);\n            },\n            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"detailMoreLeft\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                style: {\n                  color: '#666',\n                  fontSize: 12\n                },\n                children: \"\\u66F4\\u6362\\u51FA\\u53D1\\u5730\"\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"mergeDetailIcon\",\n                children: \"\\uE944\"\n              })]\n            })\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"ScheduleBoxNewWithTip\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"datePreText\",\n            children: \"\\u73ED\\u671F\\u9009\\u62E9\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(PreSaleDate, {\n            showDividingLine: false,\n            isShowInventoryTip: false\n          })]\n        })]\n      });\n    } else {\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [isMergeShowDepartInfo && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"detailTitleItemBox\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            style: {\n              fontWeight: 'bold',\n              color: '#333',\n              fontSize: 17\n            },\n            children: [BasicInfo.DepartureCityName, \"\\u51FA\\u53D1\"]\n          }), DepartureCityPriceList && DepartureCityPriceList.length > 1 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"DepartSwitchBigPic\",\n            onClick: function onClick() {\n              handleToggleCitySelectMask(true);\n            },\n            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"detailMoreLeft\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                style: {\n                  color: '#666',\n                  fontSize: 12\n                },\n                children: \"\\u66F4\\u6362\\u51FA\\u53D1\\u5730\"\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"mergeDetailIcon\",\n                children: \"\\uE944\"\n              })]\n            })\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"detailNodateBigPic\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"detailNodateText Color1_Cap1\",\n            children: \"\\u6682\\u65E0\\u53EF\\u552E\\u73ED\\u671F\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            className: \"detailNodateImg\",\n            src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bgnodate.png\"\n          })]\n        })]\n      });\n    }\n  }\n  if (!commonDates) {\n    return null;\n  }\n  var allDisplayDates = commonDates;\n  if (top2Date) {\n    allDisplayDates = [top2Date].concat((0,toConsumableArray/* default */.Z)(allDisplayDates));\n  }\n  if (top1Date) {\n    allDisplayDates = [top1Date].concat((0,toConsumableArray/* default */.Z)(allDisplayDates));\n  }\n  var _ref8 = TagGroupInfo || {},\n    _ref8$MoreTagList = _ref8.MoreTagList,\n    MoreTagList = _ref8$MoreTagList === void 0 ? [] : _ref8$MoreTagList;\n  var hasGroupTag = (MoreTagList === null || MoreTagList === void 0 ? void 0 : MoreTagList.some(function (item) {\n    return item.TagId === 1807;\n  })) || false;\n  var isPrivateGroup = BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.isPrivateGroup;\n  var isShowInventoryTip = allDisplayDates && allDisplayDates.some(function (item) {\n    return item.inventory > 0 && item.inventory < 10 || item.showGroup && !isPrivateGroup && !hasGroupTag;\n  });\n\n  // \n  var isSelectDateOutCommon = commonDates && !commonDates.some(function (item) {\n    return item.date === newProcessSelectDate;\n  }) && (top1Date === null || top1Date === void 0 ? void 0 : top1Date.date) !== newProcessSelectDate && (top2Date === null || top2Date === void 0 ? void 0 : top2Date.date) !== newProcessSelectDate;\n  var selectedDate = {};\n  if (priceCalendarData && newProcessSelectDate && isSelectDateOutCommon) {\n    var dailyMinPrice = priceCalendarData.dailyMinPrice;\n    selectedDate = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, dailyMinPrice[newProcessSelectDate]), {}, {\n      date: newProcessSelectDate\n    });\n    //  isSelectDateOutCommon  productPrices \n    if (selectedDate && selectedDate.productPrices) {\n      var correctPrice = selectedDate.productPrices.find(function (item) {\n        return item.productId === activeProductId;\n      });\n      if (correctPrice) {\n        selectedDate.price = correctPrice.price;\n        selectedDate.displayPrice = correctPrice.displayPrice;\n        selectedDate.inventory = correctPrice.inventory;\n        selectedDate.showGroup = correctPrice.showGroup;\n      }\n    }\n  }\n  var dateIndex = 0;\n  if (!!top1Date || !!top2Date || isSelectDateOutCommon) {\n    if (!!top1Date) {\n      dateIndex++;\n    }\n    if (!!top2Date) {\n      dateIndex++;\n    }\n    if (isSelectDateOutCommon) {\n      dateIndex++;\n    }\n  }\n\n  // // 4 && \n  var recommandSchedule = [];\n  var _ref9 = routeInfo || {},\n    multiTravelScheduleDates = _ref9.multiTravelScheduleDates;\n\n  // //\n  if (isMultiTravel && priceCalendarData && priceCalendarData.dailyMinPrice && multiTravelScheduleDates && multiTravelScheduleDates.everyLineIncludesSchedule) {\n    var _curLineInfo = Object.entries(multiTravelScheduleDates.everyLineIncludesSchedule).find(function (lineArr) {\n      return lineArr[0] === activeAlias;\n    });\n    var curLineScheduleLength = _curLineInfo && _curLineInfo[1] && _curLineInfo[1].length || 0;\n    var allScheduleArr = Object.entries(priceCalendarData.dailyMinPrice);\n    hasShowRecommandSchedule = curLineScheduleLength <= 4 && allScheduleArr.length > curLineScheduleLength;\n\n    //,Y=10-X(X<=4)\n    if (hasShowRecommandSchedule) {\n      var dateArr = [];\n      Object.entries(multiTravelScheduleDates.everyLineIncludesSchedule).forEach(function (lineArr) {\n        if (lineArr && lineArr[0] && lineArr[0] !== activeAlias) {\n          dateArr = [].concat((0,toConsumableArray/* default */.Z)(dateArr), (0,toConsumableArray/* default */.Z)(lineArr[1]));\n        }\n      });\n\n      //,\n      dateArr = dateArr.sort(function (a, b) {\n        var date1 = new Date(a).getTime(),\n          date2 = new Date(b).getTime();\n        return date1 - date2;\n      }).slice(0, 10);\n      dateArr.forEach(function (date) {\n        var dateInfo = priceCalendarData.dailyMinPrice[date];\n        if (!dateInfo || !dateInfo.productPrices) return;\n        var scheduleInfo = (0,objectSpread2/* default */.Z)({\n          date: date\n        }, dateInfo.productPrices[0]);\n        if (recommandSchedule.length + curLineScheduleLength < 10) {\n          recommandSchedule.push(scheduleInfo);\n        }\n      });\n    }\n  }\n\n  //\n  if (isMultiLine && currentRouteInfo && ((_currentRouteInfo$dai = currentRouteInfo.dailyMinPrices) === null || _currentRouteInfo$dai === void 0 ? void 0 : _currentRouteInfo$dai.length) <= 4 && priceCalendarData && priceCalendarData.dailyMinPrice && TourGroupProductInfo) {\n    // \n    var curLineSchedule = currentRouteInfo.dailyMinPrices;\n    var _allScheduleArr = Object.entries(priceCalendarData.dailyMinPrice);\n    var LINE = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'];\n    var multilineAliasMap = {};\n    TourGroupProductInfo.forEach(function (line) {\n      if (!line) return;\n      multilineAliasMap[line.ProductId] = LINE[line.SortNumber - 1] || '';\n    });\n\n    //,\n    if (_allScheduleArr.length > curLineSchedule.length) {\n      hasShowRecommandSchedule = true;\n      _allScheduleArr.forEach(function (item) {\n        if (!item) return;\n        var _ref10 = item[1] || {},\n          productPrices = _ref10.productPrices;\n\n        // --\n        var hasOtherLineSchedule = productPrices === null || productPrices === void 0 ? void 0 : productPrices.every(function (lineObj) {\n          var _currentRouteInfo$Tag;\n          return (lineObj === null || lineObj === void 0 ? void 0 : lineObj.productId) !== ((_currentRouteInfo$Tag = currentRouteInfo.TagGroupInfo) === null || _currentRouteInfo$Tag === void 0 ? void 0 : _currentRouteInfo$Tag.ProductId);\n        });\n        if (!hasOtherLineSchedule) return;\n\n        //format XX\n        var scheduleInfo,\n          curScheduleIncludeLines = {};\n        var dayMinPrice = Infinity,\n          showLineName,\n          isPriceIntimeLine;\n        productPrices === null || productPrices === void 0 || productPrices.forEach(function (lineObj) {\n          if (!lineObj) return;\n          if (multilineAliasMap[lineObj.productId]) {\n            if (lineObj.displayPrice === 0) {\n              isPriceIntimeLine = multilineAliasMap[lineObj.productId];\n            }\n            if (lineObj.displayPrice > 0 && lineObj.displayPrice < dayMinPrice) {\n              dayMinPrice = lineObj.displayPrice;\n              showLineName = multilineAliasMap[lineObj.productId];\n            }\n            curScheduleIncludeLines[multilineAliasMap[lineObj.productId]] = (0,objectSpread2/* default */.Z)({}, lineObj);\n          }\n        });\n        showLineName = showLineName || isPriceIntimeLine;\n        scheduleInfo = (0,objectSpread2/* default */.Z)({\n          date: item[0],\n          showLineName: showLineName,\n          hasMultiLine: (productPrices === null || productPrices === void 0 ? void 0 : productPrices.length) > 1\n        }, curScheduleIncludeLines[showLineName]);\n        if (recommandSchedule.length + curLineSchedule.length < 10) {\n          recommandSchedule.push(scheduleInfo);\n        }\n      });\n    }\n  }\n  if (isSelectDateOutCommon && hasShowRecommandSchedule && priceCalendarData && priceCalendarData.dailyMinPrice && priceCalendarData.dailyMinPrice[newProcessSelectDate]) {\n    var _priceCalendarData$da;\n    isSelectDateOutCommon = (_priceCalendarData$da = priceCalendarData.dailyMinPrice[newProcessSelectDate].productPrices) === null || _priceCalendarData$da === void 0 ? void 0 : _priceCalendarData$da.some(function (item) {\n      return activeProductId === (item === null || item === void 0 ? void 0 : item.productId);\n    });\n  }\n  var lineInfoText = selectLine ? selectLine + '' : '';\n  var showLineTextHasSchedule = isMergeShowDepartInfo ? \"\".concat(lineInfoText, \"\\xB7\").concat((BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.DepartureCityName) || '', \"\\u51FA\\u53D1\") : lineInfoText;\n\n  // let lineInfoTextCompressionVersionB \n  //         = !isshowRecommandLabel\n  //             ? selectLine\n  //                 ? selectLine + ''\n  //                 : ''\n  //             : ''\n\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    children: [!!isMergeShowDepartInfo && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"FlexAlignCenter FlexBetween MarginBottom16\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        style: {\n          display: 'flex',\n          marginLeft: 9\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          style: {\n            fontWeight: 'bold',\n            color: '#333',\n            fontSize: 17\n          },\n          children: [BasicInfo.DepartureCityName, \"\\u51FA\\u53D1\"]\n        }), DepartureCityPriceList && DepartureCityPriceList.length > 1 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"DepartSwitchBigPic\",\n          onClick: function onClick() {\n            handleToggleCitySelectMask(true);\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"detailMoreLeft\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: '#666',\n                fontSize: 12\n              },\n              children: \"\\u66F4\\u6362\\u51FA\\u53D1\\u5730\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"mergeDetailIcon\",\n              children: \"\\uE944\"\n            })]\n          })\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"ScheduleDetailContainer\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"datePreText\",\n        children: lineInfoText\n      }), !!isShowPreSaleDate && /*#__PURE__*/(0,jsx_runtime.jsx)(PreSaleDate, {\n        isShowInventoryTip: isShowInventoryTip\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.ScrollView, {\n        scrollX: true,\n        scrollWithAnimation: true,\n        className: !!isShowPreSaleDate ? 'ShowPreSaleDateScheduleDetailScroll' : recommandSchedule.length > 0 ? '' : 'ScheduleDetailScroll',\n        scrollLeft: scrollLeft,\n        style: {\n          marginLeft: !!isShowPreSaleDate ? 0 : 0,\n          paddingRight: 6\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"ScheduleDetailList\",\n          children: [!!top1Date && /*#__PURE__*/(0,jsx_runtime.jsx)(DateItem, {\n            item: top1Date,\n            setScrollLeft: setScrollLeft,\n            index: 0,\n            isShowInventoryTip: isShowInventoryTip,\n            isShowGroupTip: top1Date.showGroup && !isPrivateGroup && !hasGroupTag\n          }), !!top2Date && /*#__PURE__*/(0,jsx_runtime.jsx)(DateItem, {\n            item: top2Date,\n            setScrollLeft: setScrollLeft,\n            index: 1,\n            isShowInventoryTip: isShowInventoryTip,\n            isShowGroupTip: top2Date.showGroup && !isPrivateGroup && !hasGroupTag\n          }), priceCalendarData && isSelectDateOutCommon && !!newProcessSelectDate && /*#__PURE__*/(0,jsx_runtime.jsx)(DateItem, {\n            item: selectedDate,\n            setScrollLeft: setScrollLeft,\n            index: 2,\n            isShowInventoryTip: isShowInventoryTip,\n            isShowGroupTip: selectedDate.showGroup && !isPrivateGroup && !hasGroupTag\n          }), commonDates.map(function (item, index) {\n            return /*#__PURE__*/(0,jsx_runtime.jsx)(DateItem, {\n              item: item,\n              setScrollLeft: setScrollLeft,\n              index: dateIndex + index,\n              isShowInventoryTip: isShowInventoryTip,\n              isShowGroupTip: item.showGroup && !isPrivateGroup && !hasGroupTag\n            }, index);\n          }), recommandSchedule.length > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(RecommandSchedule, {\n            recommandSchedule: recommandSchedule,\n            isShowInventoryTip: isShowInventoryTip\n          })]\n        })\n      }), (((_allDisplayDates = allDisplayDates) === null || _allDisplayDates === void 0 ? void 0 : _allDisplayDates.length) || 0) + ((recommandSchedule === null || recommandSchedule === void 0 ? void 0 : recommandSchedule.length) || 0) > 4 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"ScheduleDetailMoreContainer\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"ScheduleDetailMoreShadow\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"ScheduleDetailMore\",\n          onClick: function onClick(event) {\n            handleToggleCalendarPop(true);\n            cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-start-more-\").concat(BasicInfo.ProductId));\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"ScheduleDetailMoreText\",\n            children: \"\\u5168\\u90E8\\u73ED\\u671F\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"ScheduleDetailMoreArrow\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"ScheduleDetailMoreArrowIcon\",\n              children: \"\\uE944\"\n            })\n          })]\n        })]\n      })]\n    })]\n  });\n}\nvar RecommandSchedule = function RecommandSchedule(_ref11) {\n  var recommandSchedule = _ref11.recommandSchedule,\n    isShowInventoryTip = _ref11.isShowInventoryTip;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"recommandSchedulesModule\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"recommandSchedulesBox\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"moreRecommandText\",\n        children: \"\\u66F4\\u591A\\u63A8\\u8350\"\n      })\n    }), recommandSchedule.map(function (schedule) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(RecommandDateItemWithTip, {\n        schedule: schedule,\n        isShowInventoryTip: isShowInventoryTip\n      });\n    })]\n  });\n};\nfunction RecommandDateItemWithTip(_ref12) {\n  var schedule = _ref12.schedule,\n    isShowInventoryTip = _ref12.isShowInventoryTip;\n  var _ref13 = model_Model.useState(function (state) {\n      var pageStatus = state.pageStatus;\n      return {\n        pageStatus: pageStatus\n      };\n    }),\n    pageStatus = _ref13.pageStatus;\n  var _Model$useActions$han3 = model_Model.useActions().handlers,\n    handleMultiLineChange = _Model$useActions$han3.handleMultiLineChange,\n    handleMultiTravelChange = _Model$useActions$han3.handleMultiTravelChange,\n    handleSelectNewProcessDate = _Model$useActions$han3.handleSelectNewProcessDate;\n  var isMultiLine = pageStatus.isMultiLine,\n    isMultiTravel = pageStatus.isMultiTravel;\n  var handleSelectRecommandDate = /*#__PURE__*/function () {\n    var _ref14 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(changeLineName, productId, price, recommandDate) {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (changeLineName) {\n              _context.next = 2;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 2:\n            handleSelectNewProcessDate(recommandDate, price);\n            if (!isMultiLine) {\n              _context.next = 8;\n              break;\n            }\n            _context.next = 6;\n            return handleMultiLineChange(productId);\n          case 6:\n            _context.next = 11;\n            break;\n          case 8:\n            if (!isMultiTravel) {\n              _context.next = 11;\n              break;\n            }\n            _context.next = 11;\n            return handleMultiTravelChange(changeLineName);\n          case 11:\n            taro_default().showToast({\n              title: \"\\u5DF2\\u4E3A\\u60A8\\u5207\\u6362\\u81F3\".concat(changeLineName, \"\\u7EBF\"),\n              duration: 2000,\n              icon: 'none'\n            });\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function handleSelectRecommandDate(_x, _x2, _x3, _x4) {\n      return _ref14.apply(this, arguments);\n    };\n  }();\n  if (!schedule) {\n    return null;\n  }\n  var date = schedule.date,\n    displayPrice = schedule.displayPrice,\n    alias = schedule.alias,\n    showLineName = schedule.showLineName,\n    hasMultiLine = schedule.hasMultiLine,\n    productId = schedule.productId;\n  var lineName = isMultiLine ? showLineName : alias;\n  var dislineName = isMultiLine ? \"\\u53EF\\u9009\".concat(showLineName, \"\\u7EBF\").concat(hasMultiLine ? '' : '') : \"\\u53EF\\u9009\".concat(alias, \"\\u7EBF\");\n  var weekNum = new Date(date === null || date === void 0 ? void 0 : date.replace(/-/g, '/')).getDay();\n  var hasMiniFontSize = !!hasMultiLine ? displayPrice >= Math.pow(10, 5) ? true : false : false;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: 'ScheduleDetailItem FlexColumn',\n    onClick: function onClick() {\n      handleSelectRecommandDate(isMultiLine ? showLineName : alias, productId, displayPrice, date);\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"ScheduleDetailItemWeek\",\n      children: weekName[weekNum] ? \"\\u661F\\u671F\".concat(weekName[weekNum]) : ''\n    }), !!date && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"ScheduleDetailItemDay\",\n      children: date === null || date === void 0 ? void 0 : date.slice(5, 10)\n    }), displayPrice > 0 ? /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"\".concat(!hasMiniFontSize ? 'ScheduleDetailItemPrice' : 'ScheduleDetailItemPriceRecommand', \" FontNumberBold\"),\n        style: hasMiniFontSize ? {\n          position: 'relative',\n          top: 2\n        } : null,\n        children: ['' + displayPrice, /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"RecommandPriceMin\",\n          children: !!hasMultiLine ? '' : ''\n        })]\n      })\n    }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"ScheduleDetailItemPriceInTime\",\n      children: \"\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: !hasMultiLine ? 'otherLineScheduleMultiLine' : 'otherLineSchedule',\n      style: hasMultiLine ? hasMiniFontSize ? {\n        bottom: 2\n      } : {\n        marginBottom: -1\n      } : null,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: isShowInventoryTip ? 'SchedulePricePresaleWithTip' : 'otherLineScheduleText',\n        children: lineName ? dislineName : ''\n      })\n    })]\n  });\n}\nvar weekName = {\n  '0': '',\n  '1': '',\n  '2': '',\n  '3': '',\n  '4': '',\n  '5': '',\n  '6': ''\n};\nvar monthName = {\n  '01': '',\n  '02': '',\n  '03': '',\n  '04': '',\n  '05': '',\n  '06': '',\n  '07': '',\n  '08': '',\n  '09': '',\n  '10': '',\n  '11': '',\n  '12': ''\n};\nfunction DateItem(_ref15) {\n  var item = _ref15.item,\n    setScrollLeft = _ref15.setScrollLeft,\n    index = _ref15.index,\n    isShowInventoryTip = _ref15.isShowInventoryTip,\n    isShowGroupTip = _ref15.isShowGroupTip;\n  var _ref16 = model_Model.useState(function (state) {\n      var actionIdSuffix = state.actionIdSuffix,\n        newProcessSelectDate = state.newProcessSelectDate,\n        isPremium = state.isPremium,\n        scheduleDisableDates = state.scheduleDisableDates;\n      return {\n        actionIdSuffix: actionIdSuffix,\n        newProcessSelectDate: newProcessSelectDate,\n        isPremium: isPremium,\n        scheduleDisableDates: scheduleDisableDates\n      };\n    }),\n    actionIdSuffix = _ref16.actionIdSuffix,\n    newProcessSelectDate = _ref16.newProcessSelectDate,\n    isPremium = _ref16.isPremium,\n    scheduleDisableDates = _ref16.scheduleDisableDates;\n  var handleSelectNewProcessDate = model_Model.useActions().handlers.handleSelectNewProcessDate;\n  var handleSelectDate = (0,react.useCallback)(function (date, price) {\n    if (scheduleDisableDates && scheduleDisableDates.includes(date)) {\n      taro_default().showToast({\n        title: '',\n        icon: 'none',\n        duration: 2000\n      });\n    } else {\n      handleSelectNewProcessDate(date, price);\n    }\n  }, [scheduleDisableDates]);\n  if (!item || !item.date) {\n    return null;\n  }\n  var Festival = item.Festival,\n    _item$date = item.date,\n    date = _item$date === void 0 ? '' : _item$date,\n    festivalName = item.festivalName,\n    FestivalDate = item.FestivalDate,\n    displayPrice = item.displayPrice,\n    type = item.type,\n    inventory = item.inventory,\n    showGroup = item.showGroup;\n  if (Festival && FestivalDate) {\n    date = FestivalDate;\n  }\n  var isSelected = newProcessSelectDate === date;\n  var priceDay = date.slice(5, 10);\n  var priceWeek = '' + (weekName[new Date(date).getDay()] || '');\n  var pricePrefix = displayPrice > 0 ? '' : null;\n  var tipText = type === 'festival' ? festivalName : topDateTag[type];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ScheduleDetailItem FlexColumn \".concat(isSelected ? isPremium ? 'ScheduleDetailItemActivePremium' : 'ScheduleDetailItemActive' : ''),\n    onClick: function onClick(event) {\n      handleSelectDate(date, displayPrice);\n      setScrollLeft(30 + (index - 1) * 74);\n      cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-start-date-\").concat(date.replace(/-/g, '')));\n    },\n    children: [!!tipText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"CommonTopDateTagPresale\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: '#F5190A',\n          fontSize: 11,\n          fontWeight: 500\n        },\n        children: tipText\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"ScheduleDetailItemWeek\",\n      children: priceWeek\n    }), !!priceDay && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"ScheduleDetailItemDay\",\n      children: priceDay\n    }), displayPrice > 0 ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"ScheduleDetailItemPrice FontNumberBold\",\n      children: pricePrefix + displayPrice\n    }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"ScheduleDetailItemPriceInTime\",\n      children: \"\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n    }), isShowInventoryTip && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ScheduleDateBottomTip\",\n      children: inventory > 0 && inventory < 10 ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        style: {\n          color: '#999',\n          fontSize: 11\n        },\n        children: [!!isShowGroupTip ? '' : '', \"\\u4F59\", inventory]\n      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: '#999',\n          fontSize: 11\n        },\n        children: !!isShowGroupTip ? '' : ''\n      })\n    }), !!isSelected && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"currentSelectedDate\",\n      style: isIphoneX ? null : {\n        right: '-1px'\n      },\n      src: isPremium ? \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bigpic/date_select_icon.png\" : \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bigpic/route_select_icon.png\"\n    })]\n  });\n}\nfunction TipInfo() {\n  var _ref17 = Model.useState(function (state) {\n      var isShowMemberDiscountInfo = state.isShowMemberDiscountInfo,\n        isShowFlightDiscountInfo = state.isShowFlightDiscountInfo,\n        userInfo = state.userInfo,\n        groupCard = state.groupCard,\n        isPreSale = state.isPreSale,\n        pageStatus = state.pageStatus,\n        isSelectPreSale = state.isSelectPreSale;\n      return {\n        isShowMemberDiscountInfo: isShowMemberDiscountInfo,\n        isShowFlightDiscountInfo: isShowFlightDiscountInfo,\n        userInfo: userInfo,\n        groupCard: groupCard,\n        isPreSale: isPreSale,\n        pageStatus: pageStatus,\n        isSelectPreSale: isSelectPreSale\n      };\n    }),\n    isShowMemberDiscountInfo = _ref17.isShowMemberDiscountInfo,\n    isShowFlightDiscountInfo = _ref17.isShowFlightDiscountInfo,\n    userInfo = _ref17.userInfo,\n    groupCard = _ref17.groupCard,\n    isPreSale = _ref17.isPreSale,\n    pageStatus = _ref17.pageStatus,\n    isSelectPreSale = _ref17.isSelectPreSale;\n\n  //  Tip\n  var isShowPreSaleDate = false;\n  if (groupCard && groupCard.cards && groupCard.cards.length) {\n    var curPreSaleInfo = groupCard.cards.find(function (item) {\n      return item.productId === pageStatus.activeProductId;\n    });\n    if (isPreSale && curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n      isShowPreSaleDate = true;\n    }\n  }\n  if (isSelectPreSale && isShowPreSaleDate) {\n    return null;\n  }\n  if (!isShowMemberDiscountInfo && !isShowFlightDiscountInfo) {\n    return null;\n  }\n  if (isShowFlightDiscountInfo) {\n    return /*#__PURE__*/_jsxs(View, {\n      className: \"ScheduleTipBox\",\n      children: [/*#__PURE__*/_jsx(View, {\n        className: \"ScheduleTipBoxIcon\",\n        children: \"\\uEF89\"\n      }), /*#__PURE__*/_jsx(View, {\n        className: \"ScheduleTipBoxText\",\n        children: isShowPreSaleDate ? '' : ''\n      })]\n    });\n  }\n  var _userInfo$ExtendInfo = userInfo === null || userInfo === void 0 ? void 0 : userInfo.ExtendInfo,\n    LevelName = _userInfo$ExtendInfo.LevelName,\n    VipGrade = _userInfo$ExtendInfo.VipGrade;\n  if (!VipGrade || VipGrade < 20) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxs(View, {\n    className: \"ScheduleTipBox\",\n    children: [/*#__PURE__*/_jsx(View, {\n      className: \"ScheduleTipBoxIcon\",\n      children: \"\\uEF89\"\n    }), /*#__PURE__*/_jsx(View, {\n      className: \"ScheduleTipBoxText\",\n      children: isShowPreSaleDate ? \"\\u6B64\\u4EF7\\u683C\\u5DF2\\u4E3A\".concat(LevelName, \"\\u4E13\\u4EAB\\u8D77\\u4EF7\\uFF08\\u4E0D\\u542B\\u9884\\u552E\\uFF09\") : \"\\u6B64\\u4EF7\\u683C\\u5DF2\\u4E3A\".concat(LevelName, \"\\u4E13\\u4EAB\\u8D77\\u4EF7\")\n    })]\n  });\n}\nfunction UIPrice(_ref18) {\n  var MinPrice = _ref18.MinPrice,\n    isSelected = _ref18.isSelected,\n    _ref18$isRecommandSch = _ref18.isRecommandSchedule,\n    isRecommandSchedule = _ref18$isRecommandSch === void 0 ? false : _ref18$isRecommandSch;\n  if (MinPrice > 0) {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n      children: !!isRecommandSchedule ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"RecommandSchedulePrice\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            className: \"RecommandPrice1\",\n            children: [\"\\xA5\", MinPrice]\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          style: {\n            position: 'relative'\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"RecommandPrice\",\n            children: \"\\u8D77\"\n          })\n        })]\n      }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: isSelected ? 'isSelectedPrice' : 'noSelectedPrice',\n        children: [\"\\xA5\", MinPrice]\n      })\n    });\n  } else {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      style: {\n        position: 'relative',\n        top: 0,\n        color: '#333',\n        fontSize: 13,\n        fontWeight: isSelected ? 'bold' : 'normal'\n      },\n      children: \"\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n    });\n  }\n}\nfunction PreSaleDate(_ref19) {\n  var _ref19$showDividingLi = _ref19.showDividingLine,\n    showDividingLine = _ref19$showDividingLi === void 0 ? true : _ref19$showDividingLi,\n    isShowInventoryTip = _ref19.isShowInventoryTip;\n  var _ref20 = model_Model.useState(function (state) {\n      var pageStatus = state.pageStatus,\n        groupCard = state.groupCard,\n        isSelectPreSale = state.isSelectPreSale;\n      return {\n        pageStatus: pageStatus,\n        groupCard: groupCard,\n        isSelectPreSale: isSelectPreSale\n      };\n    }),\n    pageStatus = _ref20.pageStatus,\n    groupCard = _ref20.groupCard,\n    isSelectPreSale = _ref20.isSelectPreSale;\n  var handleSelectPreSaleDate = model_Model.useActions().handlers.handleSelectPreSaleDate;\n  var activeProductId = pageStatus.activeProductId;\n\n  // \n  var preSalePrice = 0;\n  var curPreSaleProductId;\n  if (groupCard && groupCard.cards && groupCard.cards.length) {\n    var curPreSaleInfo = groupCard.cards.find(function (item) {\n      return item.productId === activeProductId;\n    });\n    if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n      preSalePrice = curPreSaleInfo.preSaleProductInfo.minPrice;\n      curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n    }\n  }\n  var isSelected = isSelectPreSale;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    onClick: function onClick() {\n      handleSelectPreSaleDate(true);\n    },\n    className: !!showDividingLine ? 'PreSaleDateContainer' : '',\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: isSelected ? 'PreSaleDateBoxCur' : 'PreSaleDateBox',\n      style: {\n        height: isShowInventoryTip ? 108 : 100\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: isSelected ? 'PreSaleDateTopTextCur' : 'PreSaleDateTopText',\n        children: \"\\u9884\\u552E\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"PreSaleDateInfo\",\n        style: {\n          height: isShowInventoryTip ? 90 : 82\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"PreSaleDateText\",\n          style: {\n            marginTop: 6\n          },\n          children: \"\\u8D2D\\u4E70\\u540E\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"PreSaleDateText\",\n          children: \"\\u9884\\u7EA6\\u65E5\\u671F\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"PreSaleDateTipText\",\n          children: \"\\u672A\\u7EA6\\u5168\\u9000\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(UIPrice, {\n          MinPrice: preSalePrice,\n          isSelected: true\n        }), !!isSelected && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"currentSelectedDate\",\n          src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bigpic/route_select_icon.png'\n        })]\n      })]\n    }), !!showDividingLine && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PreSaleDateBetweenLine\"\n    })]\n  });\n}\nfunction PreSaleNotice() {\n  var _ref21 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo,\n        pageStatus = state.pageStatus,\n        isPreSale = state.isPreSale,\n        groupCard = state.groupCard;\n      return {\n        currentRouteInfo: currentRouteInfo,\n        pageStatus: pageStatus,\n        isPreSale: isPreSale,\n        groupCard: groupCard\n      };\n    }),\n    currentRouteInfo = _ref21.currentRouteInfo,\n    pageStatus = _ref21.pageStatus,\n    isPreSale = _ref21.isPreSale,\n    groupCard = _ref21.groupCard;\n  var _Model$useActions$han4 = model_Model.useActions().handlers,\n    handleTogglePresaleCalendarPop = _Model$useActions$han4.handleTogglePresaleCalendarPop,\n    handleTogglePreSaleNoticeMask = _Model$useActions$han4.handleTogglePreSaleNoticeMask;\n  var PreSaleNotice = currentRouteInfo.PreSaleNotice,\n    PreSaleTagGroupInfo = currentRouteInfo.PreSaleTagGroupInfo;\n  if (!isPreSale) {\n    return null;\n  }\n\n  // \n  if (!PreSaleNotice) {\n    return null;\n  }\n  var activeProductId = pageStatus.activeProductId;\n  var curPreSaleProductId;\n  if (groupCard && groupCard.cards && groupCard.cards.length) {\n    var curPreSaleInfo = groupCard.cards.find(function (item) {\n      return item.productId === activeProductId;\n    });\n    if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n      curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n    }\n  }\n  if (!curPreSaleProductId) {\n    return null;\n  }\n\n  // \n  var PreSaleTravelDayText = '';\n  // \n  var PreSaleBookingRuleText = '';\n  if (PreSaleNotice && PreSaleNotice.PreSaleRule) {\n    var _PreSaleNotice$PreSal = PreSaleNotice.PreSaleRule,\n      PreSaleTravelStartDay = _PreSaleNotice$PreSal.PreSaleTravelStartDay,\n      PreSaleTravelEndDay = _PreSaleNotice$PreSal.PreSaleTravelEndDay,\n      AdvanceBookingDays = _PreSaleNotice$PreSal.AdvanceBookingDays,\n      AdvanceBookingTime = _PreSaleNotice$PreSal.AdvanceBookingTime;\n    if (PreSaleTravelStartDay && PreSaleTravelEndDay) {\n      PreSaleTravelDayText = \"\".concat(util_vdate/* default.parse */.Z.parse(PreSaleTravelStartDay, false).format('YYYYMMDD'), \"-\").concat(util_vdate/* default.parse */.Z.parse(PreSaleTravelEndDay, false).format('YYYYMMDD'), \"\\u671F\\u95F4\\u53EF\\u51FA\\u884C\");\n    }\n    if (AdvanceBookingDays && AdvanceBookingTime) {\n      PreSaleBookingRuleText = \"\\u81F3\\u5C11\\u63D0\\u524D\".concat(AdvanceBookingDays, \"\\u5929\").concat(AdvanceBookingTime, \"\\u524D\\u9884\\u7EA6\");\n    }\n  }\n\n  // \n  var hasTag2171 = false;\n  var hasTag2172 = false;\n  if (PreSaleTagGroupInfo && PreSaleTagGroupInfo.SpecialTagList && PreSaleTagGroupInfo.SpecialTagList.length) {\n    var SpecialTagList = PreSaleTagGroupInfo.SpecialTagList;\n    if (SpecialTagList.find(function (item) {\n      return item.TagId === 2171;\n    })) {\n      hasTag2171 = true;\n    }\n    if (SpecialTagList.find(function (item) {\n      return item.TagId === 2172;\n    })) {\n      hasTag2172 = true;\n    }\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"PreSaleNoticeContainer\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PreSaleNoticeArrow\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PreSaleNoticeTopLine\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"PreSaleNoticeBox\",\n      children: [!!PreSaleTravelDayText && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"PreSaleNoticeItem\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"PreSaleNoticeItemIcon\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"detailIcon_presale Color1_Body2\",\n            children: \"\\uDB82\\uDC63\"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"PreSaleNoticeItemText\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"Color1_Cap2\",\n            children: PreSaleTravelDayText\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PreSaleNoticeItemEntry\",\n          onClick: function onClick() {\n            handleTogglePresaleCalendarPop(true);\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"Color1_Cap2\",\n            children: \"\\u65E5\\u5386\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"detailIcon_presale Color1_Cap2\",\n            children: \"\\uE944\"\n          })]\n        })]\n      }), !!PreSaleNotice && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"PreSaleNoticeItem\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"PreSaleNoticeItemIcon\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"detailIcon_presale Color1_Body2\",\n            children: \"\\uDB84\\uDCF6\"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"FlexWrap\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"PreSaleNoticeItemText\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"Color1_Cap2\",\n              children: \"\\u8D2D\\u4E70\\u540E\\u9700\\u7EA6\\u51FA\\u884C\\u65E5\\u671F\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"Color3_Cap2\",\n              style: {\n                opacity: 0.5\n              },\n              children: \"\\xA0|\\xA0\"\n            }), !!PreSaleBookingRuleText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"Color1_Cap2\",\n              children: PreSaleBookingRuleText\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"PreSaleNoticeItemEntry\",\n            onClick: function onClick() {\n              handleTogglePreSaleNoticeMask({\n                status: true,\n                selectType: 'PreSaleRule'\n              });\n            },\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"Color1_Cap2\",\n              children: \"\\u9884\\u7EA6\\u89C4\\u5219\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"detailIcon_presale Color1_Cap2\",\n              children: \"\\uE944\"\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"PreSaleNoticeItem\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"PreSaleNoticeItemIcon\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"detailIcon_presale Colorg_Body2\",\n            children: \"\\uDB84\\uDCF7\"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PreSaleNoticeItemText\",\n          children: [!!hasTag2172 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"Colorg_Cap2\",\n            children: \"\\u672A\\u7EA6\\u5168\\u9000\"\n          }), !!hasTag2172 && !!hasTag2171 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"Color3_Cap2\",\n            style: {\n              opacity: 0.5\n            },\n            children: \"\\xA0|\\xA0\"\n          }), !!hasTag2171 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"Colorg_Cap2\",\n            children: \"\\u8FC7\\u671F\\u81EA\\u52A8\\u9000\"\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PreSaleNoticeItemEntry\",\n          onClick: function onClick() {\n            handleTogglePreSaleNoticeMask({\n              status: true,\n              selectType: 'PreSaleUnbooking'\n            });\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"Color1_Cap2\",\n            children: \"\\u9000\\u6539\\u653F\\u7B56\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"detailIcon_presale Color1_Cap2\",\n            children: \"\\uE944\"\n          })]\n        })]\n      })]\n    })]\n  });\n}\nvar getScheduleTopDate = function getScheduleTopDate() {\n  var _ref22 = model_Model.useState(function (state) {\n      var priceCalendarData = state.priceCalendarData,\n        currentRouteInfo = state.currentRouteInfo,\n        pageStatus = state.pageStatus;\n      return {\n        priceCalendarData: priceCalendarData,\n        currentRouteInfo: currentRouteInfo,\n        pageStatus: pageStatus\n      };\n    }),\n    priceCalendarData = _ref22.priceCalendarData,\n    currentRouteInfo = _ref22.currentRouteInfo,\n    pageStatus = _ref22.pageStatus;\n  var curLineAllDates = currentRouteInfo.dailyMinPrices,\n    scheduleDates = currentRouteInfo.scheduleDates,\n    PriceInfo = currentRouteInfo.PriceInfo;\n  //  scheduleDates \n  if (curLineAllDates && scheduleDates && scheduleDates.length) {\n    scheduleDates = scheduleDates.map(function (schedule) {\n      var curScheduleDate = (curLineAllDates === null || curLineAllDates === void 0 ? void 0 : curLineAllDates.find(function (item) {\n        return item.date === schedule.date;\n      })) || {};\n      return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, schedule), curScheduleDate);\n    });\n  }\n  //  dailyMinPrice \n  var availableScheduleDates = [];\n  if (curLineAllDates && curLineAllDates.length && priceCalendarData && priceCalendarData.flatDailyMinPrice) {\n    var dailyMinPrice = priceCalendarData.dailyMinPrice;\n    curLineAllDates.forEach(function (dateItem) {\n      var date = dateItem.date;\n      if (dailyMinPrice[date]) {\n        var productPrices = dailyMinPrice[date].productPrices;\n        if (productPrices.find(function (line) {\n          return line.productId === pageStatus.activeProductId;\n        })) {\n          availableScheduleDates.push(dateItem);\n        }\n      }\n    });\n  } else {\n    availableScheduleDates = curLineAllDates;\n  }\n  availableScheduleDates = availableScheduleDates || [];\n\n  // \n  if (pageStatus.isMultiTravel) {\n    var activeAlias = pageStatus.activeAlias;\n    if (availableScheduleDates) {\n      availableScheduleDates = availableScheduleDates.filter(function (item) {\n        var productPrices = item.productPrices;\n        if (productPrices && productPrices.length) {\n          return productPrices.some(function (line) {\n            return line.alias === activeAlias;\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n    if (scheduleDates) {\n      scheduleDates = scheduleDates.filter(function (item) {\n        var productPrices = item.productPrices;\n        if (productPrices && productPrices.length) {\n          return productPrices.some(function (line) {\n            return line.alias === activeAlias;\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n    // console.log('availableScheduleDates', availableScheduleDates)\n  }\n\n  if (!availableScheduleDates || !availableScheduleDates.length) {\n    return {\n      commonDates: null,\n      top1Date: null,\n      top2Date: null\n    };\n  }\n\n  // 2 Top 10\n  var commonDates = availableScheduleDates.slice(0, 12);\n  var top1Date = null;\n  var top2Date = null;\n\n  // \n  var curMonth = new util_vdate/* default */.Z().format('MM');\n  // \n  var nextMonth = new util_vdate/* default */.Z().addMonth(1).format('MM');\n\n  // \n  var curMonthDates = availableScheduleDates.filter(function (item) {\n    var _item$date2;\n    return ((_item$date2 = item.date) === null || _item$date2 === void 0 ? void 0 : _item$date2.slice(5, 7)) === curMonth;\n  });\n  // \n  var nextMonthDates = availableScheduleDates.filter(function (item) {\n    var _item$date3;\n    return ((_item$date3 = item.date) === null || _item$date3 === void 0 ? void 0 : _item$date3.slice(5, 7)) === nextMonth;\n  });\n\n  // \n  var curMonthLowestPrice = 0;\n  var curMonthLowestPriceDate = null;\n  if (curMonthDates && curMonthDates.length) {\n    // \n    curMonthLowestPrice = curMonthDates.filter(function (item) {\n      return item.displayPrice > 0;\n    }).length ? curMonthDates.filter(function (item) {\n      return item.displayPrice > 0;\n    }).sort(function (prev, next) {\n      return prev.displayPrice - next.displayPrice;\n    })[0].displayPrice : 0;\n    // \n    curMonthLowestPriceDate = curMonthDates.filter(function (item) {\n      return item.displayPrice === curMonthLowestPrice;\n    }).sort(function (prev, next) {\n      return Number(prev.date.split('-').join('')) - Number(next.date.split('-').join(''));\n    })[0];\n  }\n\n  // \n  var nextMonthLowestPrice = 0;\n  var nextMonthLowestPriceDate = null;\n  if (nextMonthDates && nextMonthDates.length) {\n    // \n    nextMonthLowestPrice = nextMonthDates.filter(function (item) {\n      return item.displayPrice > 0;\n    }).length ? nextMonthDates.filter(function (item) {\n      return item.displayPrice > 0;\n    }).sort(function (prev, next) {\n      return prev.displayPrice - next.displayPrice;\n    })[0].displayPrice : 0;\n    // \n    nextMonthLowestPriceDate = nextMonthDates.filter(function (item) {\n      return item.displayPrice === nextMonthLowestPrice;\n    }).sort(function (prev, next) {\n      return Number(prev.date.split('-').join('')) - Number(next.date.split('-').join(''));\n    })[0];\n  }\n\n  // \n  var recentFestivalDates = scheduleDates.filter(function (item) {\n    return !!item.festivalName;\n  }).sort(function (prev, next) {\n    return new util_vdate/* default */.Z(prev.date).getTime() - new util_vdate/* default */.Z(next.date).getTime();\n  });\n  var minPriceDate = availableScheduleDates.filter(function (item) {\n    return item.displayPrice > 0;\n  }).length ? availableScheduleDates.filter(function (item) {\n    return item.displayPrice > 0;\n  }).sort(function (prev, next) {\n    return prev.displayPrice - next.displayPrice;\n  })[0].date : '';\n  console.log('--minPriceDate--', minPriceDate);\n\n  // \n  if (minPriceDate) {\n    // \n    top1Date = availableScheduleDates.find(function (item) {\n      return item.date === minPriceDate;\n    });\n    top1Date.type = 'minprice';\n    if (recentFestivalDates && recentFestivalDates[0]) {\n      var curDate = new util_vdate/* default */.Z().format('YYYY-MM-DD');\n\n      // 60\n      if (util_vdate/* default.dayDiff */.Z.dayDiff(curDate, recentFestivalDates[0].date) <= 60 && recentFestivalDates[0].date !== top1Date.date) {\n        top2Date = recentFestivalDates[0];\n        top2Date.type = 'festival';\n      } else {\n        // \n        if (recentFestivalDates[1] && util_vdate/* default.dayDiff */.Z.dayDiff(curDate, recentFestivalDates[1].date) <= 60) {\n          top2Date = recentFestivalDates[1];\n          top2Date.type = 'festival';\n        } else {\n          // 30\n          var recentWeekend = getRecentWeekend(availableScheduleDates);\n          if (recentWeekend && recentWeekend.date !== top1Date.date) {\n            top2Date = recentWeekend;\n            top2Date.type = 'weekend';\n          }\n        }\n      }\n    } else {\n      // 30\n      var _recentWeekend = getRecentWeekend(availableScheduleDates);\n      if (_recentWeekend && _recentWeekend.date !== top1Date.date) {\n        top2Date = _recentWeekend;\n        top2Date.type = 'weekend';\n      }\n    }\n  } else {\n    // \n\n    // 60\n    if (recentFestivalDates && recentFestivalDates[0]) {\n      var _curDate = new util_vdate/* default */.Z().format('YYYY-MM-DD');\n      var dayDiff = util_vdate/* default.dayDiff */.Z.dayDiff(_curDate, recentFestivalDates[0].date);\n      if (dayDiff <= 60) {\n        // \n        top1Date = recentFestivalDates[0];\n        top1Date.type = 'festival';\n      } else {\n        // 30\n        var _recentWeekend2 = getRecentWeekend(availableScheduleDates);\n        if (_recentWeekend2 && _recentWeekend2.date) {\n          top1Date = _recentWeekend2;\n          top1Date.type = 'weekend';\n        }\n      }\n\n      // \n      if (recentFestivalDates[1]) {\n        var _curDate2 = new util_vdate/* default */.Z().format('YYYY-MM-DD');\n        var _dayDiff = util_vdate/* default.dayDiff */.Z.dayDiff(_curDate2, recentFestivalDates[1].date);\n        if (_dayDiff <= 60) {\n          top2Date = recentFestivalDates[1];\n          top2Date.type = 'festival';\n        }\n      } else {\n        // 30\n        var _recentWeekend3 = getRecentWeekend(availableScheduleDates);\n        if (_recentWeekend3 && _recentWeekend3.date !== top1Date.date) {\n          top2Date = _recentWeekend3;\n          top2Date.type = 'weekend';\n        }\n      }\n    } else {\n      // 30\n      var _recentWeekend4 = getRecentWeekend(availableScheduleDates);\n      if (_recentWeekend4 && _recentWeekend4.date) {\n        top1Date = _recentWeekend4;\n        top1Date.type = 'weekend';\n      }\n    }\n  }\n\n  // \n  if (top1Date) {\n    commonDates = commonDates.filter(function (item) {\n      return item.date !== top1Date.date;\n    });\n  }\n  if (top2Date) {\n    commonDates = commonDates.filter(function (item) {\n      return item.date !== top2Date.date;\n    });\n  }\n\n  // 10\n  commonDates = commonDates.slice(0, 10);\n\n  // 5\n  var isShowTopDates = true;\n  var allDatesLength = commonDates.length;\n  if (top1Date) {\n    allDatesLength += 1;\n  }\n  if (top2Date) {\n    allDatesLength += 1;\n  }\n  isShowTopDates = allDatesLength > 5;\n  console.log('getScheduleTopDate', {\n    commonDates: commonDates,\n    top1Date: top1Date,\n    top2Date: top2Date,\n    isShowTopDates: isShowTopDates\n  });\n  return {\n    commonDates: commonDates,\n    top1Date: top1Date,\n    top2Date: top2Date,\n    isShowTopDates: isShowTopDates\n  };\n};\nvar getRecentWeekend = function getRecentWeekend(availableScheduleDates) {\n  var recentWeekend = null;\n  // \n  var curDate = new util_vdate/* default */.Z().format('YYYY-MM-DD');\n  // 30\n  var recent30Dates = availableScheduleDates.filter(function (date) {\n    var dayDiff = util_vdate/* default.dayDiff */.Z.dayDiff(curDate, date.date);\n    if (dayDiff > 30) {\n      return false;\n    } else {\n      return true;\n    }\n  });\n  for (var index = 0; index < recent30Dates.length; index++) {\n    var date = recent30Dates[index].date;\n    var _weekName = new util_vdate/* default */.Z(date).format('w');\n    if (['', ''].includes(_weekName)) {\n      recentWeekend = recent30Dates[index];\n      break;\n    }\n  }\n  return recentWeekend;\n};\nfunction BrandingImageBanner() {\n  var _Model$useState = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        query = state.query,\n        specialTag = state.specialTag,\n        brandTag = state.brandTag,\n        currentRouteInfo = state.currentRouteInfo,\n        pageSetting = state.pageSetting;\n      return {\n        BasicInfo: BasicInfo,\n        query: query,\n        specialTag: specialTag,\n        brandTag: brandTag,\n        currentRouteInfo: currentRouteInfo,\n        pageSetting: pageSetting\n      };\n    }),\n    BasicInfo = _Model$useState.BasicInfo,\n    query = _Model$useState.query,\n    specialTag = _Model$useState.specialTag,\n    brandTag = _Model$useState.brandTag,\n    currentRouteInfo = _Model$useState.currentRouteInfo,\n    pageSetting = _Model$useState.pageSetting;\n  var _Model$useActions$han5 = model_Model.useActions().handlers,\n    handleToggleSpecialBrandMask = _Model$useActions$han5.handleToggleSpecialBrandMask,\n    handleGoTagUrl = _Model$useActions$han5.handleGoTagUrl,\n    handleTraceLog = _Model$useActions$han5.handleTraceLog;\n\n  // \n  if (!brandTag || !brandTag.ImgUrl || !brandTag.ImgUrl.mini) {\n    return null;\n  }\n  var specialBrandImg = brandTag.ImgUrl.mini;\n  var linkUrl = brandTag.linkUrl,\n    isJump = brandTag.isJump,\n    code = brandTag.code;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    onClick: function onClick() {\n      linkUrl && handleGoTagUrl(linkUrl);\n    },\n    className: \"ImageBannerBoxBigPicBrand\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"ImageBannerImgBigPicBrand\",\n      src: specialBrandImg\n    })\n  });\n}\nfunction CompressionVersionTip() {\n  var _TagGroupInfo$MoreTag;\n  var _ref23 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo,\n        userInfo = state.userInfo,\n        groupCard = state.groupCard,\n        isPreSale = state.isPreSale,\n        pageStatus = state.pageStatus,\n        isSelectPreSale = state.isSelectPreSale,\n        priceCalendarData = state.priceCalendarData,\n        priceCalendar = state.priceCalendar,\n        routeInfo = state.routeInfo,\n        isTpalStyle = state.isTpalStyle;\n      return {\n        BasicInfo: BasicInfo,\n        currentRouteInfo: currentRouteInfo,\n        userInfo: userInfo,\n        groupCard: groupCard,\n        isPreSale: isPreSale,\n        pageStatus: pageStatus,\n        isSelectPreSale: isSelectPreSale,\n        priceCalendarData: priceCalendarData,\n        priceCalendar: priceCalendar,\n        routeInfo: routeInfo,\n        isTpalStyle: isTpalStyle\n      };\n    }),\n    BasicInfo = _ref23.BasicInfo,\n    currentRouteInfo = _ref23.currentRouteInfo,\n    userInfo = _ref23.userInfo,\n    groupCard = _ref23.groupCard,\n    isPreSale = _ref23.isPreSale,\n    pageStatus = _ref23.pageStatus,\n    isSelectPreSale = _ref23.isSelectPreSale,\n    priceCalendarData = _ref23.priceCalendarData,\n    priceCalendar = _ref23.priceCalendar,\n    routeInfo = _ref23.routeInfo,\n    isTpalStyle = _ref23.isTpalStyle;\n  var _Model$useActions$han6 = model_Model.useActions().handlers,\n    handleTraceLog = _Model$useActions$han6.handleTraceLog,\n    handleToggleBookingLimitMask = _Model$useActions$han6.handleToggleBookingLimitMask;\n  if (!currentRouteInfo) return null;\n  var BasicExtendInfo = currentRouteInfo.BasicExtendInfo,\n    isShowFlightDiscountInfo = currentRouteInfo.isShowFlightDiscountInfo,\n    isShowMemberDiscountInfo = currentRouteInfo.isShowMemberDiscountInfo,\n    BookInfo = currentRouteInfo.BookInfo,\n    TagGroupInfo = currentRouteInfo.TagGroupInfo,\n    scheduleDates = currentRouteInfo.scheduleDates;\n  var _ref24 = userInfo || {},\n    VipGradeRemark = _ref24.VipGradeRemark,\n    VipGrade = _ref24.VipGrade;\n\n  // \n  var isShowPreSaleDate = false;\n  //  Tip\n  if (groupCard && groupCard.cards && groupCard.cards.length) {\n    var curPreSaleInfo = groupCard.cards.find(function (item) {\n      return item.productId === pageStatus.activeProductId;\n    });\n    if (isPreSale && curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n      isShowPreSaleDate = true;\n    }\n  }\n  var isShowBookLimitIcon = true;\n  //  icon\n  if (!!priceCalendar && (!scheduleDates || !scheduleDates.length)) {\n    if (!isShowPreSaleDate) {\n      isShowBookLimitIcon = false;\n    }\n  }\n  // \n  var _ref25 = routeInfo || {},\n    multiTravelScheduleDates = _ref25.multiTravelScheduleDates;\n  var isMultiLine = pageStatus.isMultiLine,\n    isMultiTravel = pageStatus.isMultiTravel,\n    activeProductId = pageStatus.activeProductId,\n    activeAlias = pageStatus.activeAlias;\n  if (isMultiTravel && multiTravelScheduleDates && !multiTravelScheduleDates[activeAlias] && !multiTravelScheduleDates.priceInTimeLines.includes(activeAlias)) {\n    isShowBookLimitIcon = false;\n  }\n\n  //  \n  var compressionAdapteAgeText = '';\n  if (BasicInfo.isStudy && BasicExtendInfo && BasicExtendInfo.AdapteAgeText) {\n    compressionAdapteAgeText = BasicExtendInfo.AdapteAgeText;\n  }\n\n  //  \n  var compressionDiscountPriceText = '';\n  if (VipGrade && VipGrade >= 20) {\n    compressionDiscountPriceText = isShowPreSaleDate ? \"\\u6B64\\u4EF7\\u683C\\u5DF2\\u4E3A\".concat(VipGradeRemark, \"\\u4E13\\u4EAB\\u8D77\\u4EF7\\uFF08\\u4E0D\\u542B\\u9884\\u552E\\uFF09\") : \"\\u6B64\\u4EF7\\u683C\\u5DF2\\u4E3A\".concat(VipGradeRemark, \"\\u4E13\\u4EAB\\u8D77\\u4EF7\");\n  }\n  if (isShowFlightDiscountInfo) {\n    compressionDiscountPriceText = isShowPreSaleDate ? '' : '';\n  }\n  if (isSelectPreSale && isShowPreSaleDate || !isShowMemberDiscountInfo && !isShowFlightDiscountInfo) {\n    compressionDiscountPriceText = '';\n  }\n\n  //  \n  var compressionBookText = '';\n  var DestCityId = BasicInfo.DestCityId,\n    DepartureId = BasicInfo.DepartureId,\n    ProductId = BasicInfo.ProductId;\n\n  //\n  var displayTags = TagGroupInfo === null || TagGroupInfo === void 0 || (_TagGroupInfo$MoreTag = TagGroupInfo.MoreTagList) === null || _TagGroupInfo$MoreTag === void 0 ? void 0 : _TagGroupInfo$MoreTag.slice();\n  var hasConfirmTag;\n  if (displayTags) {\n    displayTags.forEach(function (item) {\n      if ((item === null || item === void 0 ? void 0 : item.TagId) === 2146) {\n        hasConfirmTag = true;\n      }\n    });\n  }\n  var today = new util_vdate/* default */.Z().format('YYYY-MM-DD');\n  var tomorrow = new util_vdate/* default */.Z().addDay(1).format('YYYY-MM-DD');\n  var tomorrowCanBook, todayCanBook;\n  if (priceCalendarData !== null && priceCalendarData !== void 0 && priceCalendarData.dailyMinPrice && priceCalendarData !== null && priceCalendarData !== void 0 && priceCalendarData.dailyMinPrice[tomorrow]) {\n    var _priceCalendarData$da2 = priceCalendarData === null || priceCalendarData === void 0 ? void 0 : priceCalendarData.dailyMinPrice[tomorrow],\n      tomorrowProductPrices = _priceCalendarData$da2.productPrices;\n    tomorrowCanBook = tomorrowProductPrices === null || tomorrowProductPrices === void 0 ? void 0 : tomorrowProductPrices.some(function (priceObj) {\n      var productId = priceObj.productId,\n        alias = priceObj.alias;\n      if (isMultiLine) {\n        return productId === activeProductId;\n      } else if (isMultiTravel) {\n        return alias === activeAlias;\n      }\n      return true;\n    });\n  }\n  if (priceCalendarData !== null && priceCalendarData !== void 0 && priceCalendarData.dailyMinPrice && priceCalendarData !== null && priceCalendarData !== void 0 && priceCalendarData.dailyMinPrice[today]) {\n    var _priceCalendarData$da3 = priceCalendarData === null || priceCalendarData === void 0 ? void 0 : priceCalendarData.dailyMinPrice[today],\n      todayProductPrices = _priceCalendarData$da3.productPrices;\n    todayCanBook = todayProductPrices === null || todayProductPrices === void 0 ? void 0 : todayProductPrices.some(function (priceObj) {\n      var productId = priceObj.productId,\n        alias = priceObj.alias;\n      if (isMultiLine) {\n        return productId === activeProductId;\n      } else if (isMultiTravel) {\n        return alias === activeAlias;\n      }\n      return true;\n    });\n  }\n  var tomorrowCanBookText = tomorrowCanBook ? hasConfirmTag ? ' | ' : ' | ' : '';\n  var todayCanBookText = todayCanBook ? hasConfirmTag ? ' | ' : ' | ' : '';\n  if (tomorrowCanBook && BasicInfo.BookingTime && BasicInfo.BookingDay == 1) {\n    tomorrowCanBookText = BasicInfo.BookingTime + '' + tomorrowCanBookText;\n  }\n  if (BasicInfo.BookingDay == 0 && BasicInfo.BookingTime && todayCanBook) {\n    tomorrowCanBookText = BasicInfo.BookingTime + '' + todayCanBookText;\n  }\n  tomorrowCanBookText = isSelectPreSale ? '' : tomorrowCanBookText;\n\n  // TODO: app\n  tomorrowCanBookText = '';\n\n  // \n  var canAdultBook = true;\n  var canChildBook = true;\n\n  // \n  if (BasicExtendInfo && BasicExtendInfo.PriceStandardList) {\n    var PriceStandardList = BasicExtendInfo.PriceStandardList;\n    if (PriceStandardList && PriceStandardList.length) {\n      var canAdultBookInfo = PriceStandardList.find(function (item) {\n        return item.PassengerType === 1;\n      });\n      var canChildBookInfo = PriceStandardList.find(function (item) {\n        return item.PassengerType === 2;\n      });\n      canAdultBook = canAdultBookInfo && canAdultBookInfo.IsCanBook;\n      canChildBook = canChildBookInfo && canChildBookInfo.IsCanBook;\n    }\n  }\n  var _ref26 = BookInfo || {},\n    MinBookPerson = _ref26.MinBookPerson;\n  var passengerTypeLimitText = canAdultBook ? canChildBook ? '' : '' : '';\n  var exposeValue = {\n    departCityid: DepartureId,\n    real_pkgid: activeProductId || ProductId,\n    destcityid: DestCityId\n  };\n  var startText = isMultiLine || isMultiTravel ? '' : '';\n  if (MinBookPerson > 1) {\n    compressionBookText = tomorrowCanBookText + startText + \"\".concat(MinBookPerson, \"\\u4EBA\\u8D77\\u8BA2\") + (passengerTypeLimitText ? \",\".concat(passengerTypeLimitText) : '');\n  } else {\n    if (passengerTypeLimitText) {\n      compressionBookText = tomorrowCanBookText + startText + passengerTypeLimitText;\n    } else {\n      if (tomorrowCanBookText) {\n        compressionBookText = tomorrowCanBookText.slice(0, -3);\n      }\n    }\n  }\n  if (!BookInfo) {\n    compressionBookText = '';\n  }\n  var textCount = 0;\n  if (compressionAdapteAgeText) textCount++;\n  if (compressionBookText) textCount++;\n  if (compressionDiscountPriceText) textCount++;\n  var betweenText1And2, betweenText2And3;\n  if (textCount == 2) {\n    if (compressionBookText) {\n      if (compressionAdapteAgeText) {\n        betweenText1And2 = true;\n      } else {\n        betweenText2And3 = true;\n      }\n    } else {\n      betweenText1And2 = true;\n    }\n  }\n  if (textCount === 3) {\n    betweenText1And2 = true;\n    betweenText2And3 = true;\n  }\n  if (!isShowBookLimitIcon && textCount === 0) return null;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"compressionAll\",\n    children: [!!isShowBookLimitIcon && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"bookLimitAllCompression\",\n      onClick: function onClick() {\n        handleToggleBookingLimitMask(true);\n        handleTraceLog('grp_prddtl_booking_clause_click');\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"bookLimitAllCompressionText\",\n        children: \"\\u9884\\u8BA2\\u9650\\u5236\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"bookingDetailIconAll\",\n        children: \"\\uE931\"\n      })]\n    }), !isShowBookLimitIcon && textCount > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"bookingDetailIconAll\",\n      children: \"\\uE931\\xA0\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n      className: \"allCompressionTextBox\",\n      style: isShowBookLimitIcon ? {\n        textIndent: '70px',\n        minHeight: 10\n      } : null,\n      children: [textCount > 0 && !!isShowBookLimitIcon && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"splitText\",\n        children: \"|\"\n      }), compressionAdapteAgeText ? \" \".concat(compressionAdapteAgeText, \" \") : '', !!betweenText1And2 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"splitText\",\n        children: \"|\"\n      }), compressionBookText ? \" \".concat(compressionBookText, \" \") : '', !!betweenText2And3 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"splitText\",\n        children: \"|\"\n      }), compressionDiscountPriceText ? \" \".concat(compressionDiscountPriceText) : '']\n    })]\n  });\n}\nfunction CarDiscountPrice() {\n  var _ref27 = model_Model.useState(function (state) {\n      var groupCard = state.groupCard,\n        BasicInfo = state.BasicInfo,\n        pageStatus = state.pageStatus;\n      return {\n        groupCard: groupCard,\n        BasicInfo: BasicInfo,\n        pageStatus: pageStatus\n      };\n    }),\n    groupCard = _ref27.groupCard,\n    BasicInfo = _ref27.BasicInfo,\n    pageStatus = _ref27.pageStatus;\n  var _ref28 = groupCard || {},\n    cards = _ref28.cards;\n  if (!cards) return null;\n  var _ref29 = cards[0] || {},\n    priceInfo = _ref29.priceInfo;\n  var _ref30 = priceInfo || {},\n    baseCarMinPrice = _ref30.baseCarMinPrice;\n  var isMergeShowDepartInfo = !(pageStatus.isMultiLine || pageStatus.isMultiTravel);\n  if (!baseCarMinPrice || !isMergeShowDepartInfo) return null;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"carInfoBox\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n      className: \"baseCarMinPriceText\",\n      children: [\"\\u6EE13\\u4EBA\\u518D\\u51CF\\xA5\", baseCarMinPrice, \"\\u8D77\"]\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/ThemeSummary.tsx\n\n\n\n\n\nvar MemoThemeSummary = /*#__PURE__*/react.memo(ThemeSummary_ThemeSummary);\n/* harmony default export */ var ThemeSummary = (MemoThemeSummary);\nfunction ThemeSummary_ThemeSummary() {\n  var _ref = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        BasicInfo: BasicInfo,\n        currentRouteInfo: currentRouteInfo,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    BasicInfo = _ref.BasicInfo,\n    currentRouteInfo = _ref.currentRouteInfo,\n    actionIdSuffix = _ref.actionIdSuffix;\n  var IsThemeProduct = BasicInfo.IsThemeProduct;\n  var handleToggleThemeDifficultyMask = model_Model.useActions().handlers.handleToggleThemeDifficultyMask;\n  if (!IsThemeProduct) {\n    return null;\n  }\n  var TravelIntroductionInfo = currentRouteInfo.TravelIntroductionInfo;\n  if (!TravelIntroductionInfo || !TravelIntroductionInfo.TravelIntroductionList || !TravelIntroductionInfo.TravelIntroductionList[0]) {\n    return null;\n  }\n  var ThemeOverviewInfo = TravelIntroductionInfo.TravelIntroductionList[0].ThemeOverviewInfo;\n  if (!ThemeOverviewInfo || !ThemeOverviewInfo.length) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ModuleBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"FlexAlignCenter MarginBottom24\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"ModuleTitleText Flex1\",\n        children: \"\\u6D3B\\u52A8\\u8BF4\\u660E\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ProductSummaryDetailContainer\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: ThemeOverviewInfo.map(function (item, index) {\n          var Key = item.Key,\n            Desc = item.Desc,\n            Title = item.Title;\n\n          // \n          if (Key === 'difficulty') {\n            return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"ProductSummaryDetailItem MarginBottom16\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"ProductSummaryDetailItemThemeLeft\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProductSummaryDetailItemText FontW600\",\n                  children: Title\n                })\n              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"ProductSummaryDetailItemRight\",\n                onClick: function onClick(event) {\n                  handleToggleThemeDifficultyMask(true);\n                },\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProductSummaryDetailItemText\",\n                  children: Desc\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProductSummaryDetailItemBtnText MarginLeft12\",\n                  children: \"\\u67E5\\u770B\\u8BE6\\u60C5\"\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ProductSummaryDetailItemBtnIcon\",\n                  children: \"\\uE944\"\n                })]\n              })]\n            }, index);\n          }\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"ProductSummaryDetailItem MarginBottom16\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"ProductSummaryDetailItemThemeLeft\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"ProductSummaryDetailItemText FontW600\",\n                children: Title\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"ProductSummaryDetailItemRight\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"ProductSummaryDetailItemText\",\n                children: Desc\n              })\n            })]\n          }, index);\n        })\n      })\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/Comment.tsx\n\n\n\n\n\n\n\n\n\nvar MemoComment = /*#__PURE__*/react.memo(Comment_Comment);\n/* harmony default export */ var Comment = (MemoComment);\nfunction Comment_Comment() {\n  var _Model$useState = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo;\n      return {\n        BasicInfo: BasicInfo\n      };\n    }),\n    BasicInfo = _Model$useState.BasicInfo;\n  var env = util/* default.getEnv */.Z.getEnv();\n  if (env === 'prd') {\n    env = 'prod';\n  }\n  var isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp;\n  var props = {\n    channel: isPureDiyfhxsdp ? 'vacations-diy' : 'vacations-grp',\n    env: env,\n    // env  prod\n    queryId: BasicInfo.ProductId,\n    //6570392\n    scene: isPureDiyfhxsdp ? 'SINGLE_PRODUCT_QUERY' : 'PRODUCT_QUERY',\n    //'PRODUCT_QUERY' as const\n    jump: function jump(url) {\n      var data = {\n        url: encodeURIComponent(url),\n        pageTitle: {\n          color: {\n            backgroundColor: '#ffffff',\n            frontColor: '#000000'\n          }\n        }\n      };\n      cwx_default().navigateTo({\n        url: '/cwx/component/cwebview/cwebview?data=' + JSON.stringify(data)\n      });\n    }\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"ModuleBoxWithoutPadding commentMargin\",\n    id: \"Comment\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(commonModule_prod.SimpleCommentList, (0,objectSpread2/* default */.Z)({}, props))\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/BrandInfo.tsx\n\n\n\n\n\n\n\nvar MemoBrandInfo = /*#__PURE__*/react.memo(BrandInfo_BrandInfo);\n/* harmony default export */ var BrandInfo = (MemoBrandInfo);\nfunction BrandInfo_BrandInfo() {\n  var _ref = model_Model.useState(function (state) {\n      var brandScore = state.brandScore,\n        BasicInfo = state.BasicInfo;\n      return {\n        brandScore: brandScore,\n        BasicInfo: BasicInfo\n      };\n    }),\n    brandScore = _ref.brandScore,\n    BasicInfo = _ref.BasicInfo;\n\n  //  \n  if (BasicInfo.isCruise) {\n    return null;\n  }\n  if (!brandScore) {\n    return null;\n  }\n\n  // \n  var productList = brandScore.productList,\n    shopInfo = brandScore.shopInfo;\n  if (!shopInfo && (!productList || productList.length < 1)) {\n    return null;\n  }\n  var isGoldShop = shopInfo.isGoldShop;\n  // \n  var isSelf = BasicInfo.SaleMode === 'S';\n  var isDiyfhxsdp = BasicInfo.isDiyfhxsdp,\n    isStudy = BasicInfo.isStudy;\n  if (isDiyfhxsdp || isStudy) {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"ModuleBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(LicenseInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(BrandInfoList, {\n        productList: productList\n      })]\n    });\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ModuleBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(ShopInfo, {\n      shopInfo: shopInfo\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(BrandInfoList, {\n      productList: productList\n    })]\n  });\n}\nfunction LicenseInfo() {\n  var BasicInfo = model_Model.useState(function (state) {\n    return state.BasicInfo;\n  });\n  var VendorInfo = model_Model.useState(function (state) {\n    return state.VendorInfo;\n  });\n  var brandScore = model_Model.useState(function (state) {\n    return state.brandScore;\n  });\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleGoSelfLicenseInfo = _Model$useActions$han.handleGoSelfLicenseInfo,\n    handleGoLicensePage = _Model$useActions$han.handleGoLicensePage;\n  var isDiyfhxsdp = BasicInfo.isDiyfhxsdp,\n    isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp,\n    isStudy = BasicInfo.isStudy,\n    IsInternal = BasicInfo.IsInternal,\n    ProductPatternId = BasicInfo.ProductPatternId;\n  var _ref2 = (brandScore === null || brandScore === void 0 ? void 0 : brandScore.shopInfo) || {},\n    storeType = _ref2.storeType;\n  // \n  var isGoldShop = !!(storeType && storeType.storeTypeId === 1);\n  // \n  var isSelf = BasicInfo.SaleMode === 'S';\n  var isNewUpgrade = false;\n  if (IsInternal && (ProductPatternId === 1 || ProductPatternId === 3 || ProductPatternId === 4)) {\n    isNewUpgrade = true;\n  }\n  var backgroundImageUrl = isGoldShop ? 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/shop/goldbg.png' : isSelf ? 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/detailshop_newbg.png' : null;\n  if (isPureDiyfhxsdp || isStudy && BasicInfo.SaleMode === 'S') {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      children: [(!!isGoldShop || !!isSelf) && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"BrandInfoBg\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"BrandInfoBgImg\",\n          src: backgroundImageUrl\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"BrandInfoContent\",\n        onClick: function onClick() {\n          handleGoSelfLicenseInfo();\n        },\n        style: {\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"FlexAlignCenter\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"FlexAlignCenter Flex1\",\n            children: [!isSelf && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"ModuleTitleText\",\n              children: \"\\u643A\\u7A0B\\u81EA\\u8425\"\n            }), isGoldShop && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"BrandInfoTitleImgBox\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                lazyLoad: true,\n                mode: \"widthFix\",\n                className: \"BrandInfoTitleImg\",\n                src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/gold_brand.png\"\n              })\n            }), isSelf && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"BrandInfoTitleImgBox_self_new\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                lazyLoad: true,\n                mode: \"widthFix\",\n                className: \"BrandInfoTitleImg\",\n                src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/salebyself_newicon.png\"\n              })\n            }), isSelf && !!isNewUpgrade && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"detailBusinessSelfNewIconUpgrade\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                lazyLoad: true,\n                mode: \"widthFix\",\n                className: \"BrandInfoTitleImg\",\n                src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/salebyself_newgrade_icon.png\"\n              })\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"ModuleTitlePosition\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"ModuleTitleSwitchText\",\n              children: \"\\u7ECF\\u8425\\u8BB8\\u53EF\\u8BC1/\\u8425\\u4E1A\\u6267\\u7167\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"ModuleTitleArrowIcon\",\n              children: \"\\uE944\"\n            })]\n          })]\n        }), isSelf && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BrandInfoCompanyBox\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"BrandInfoCompanyName\",\n            children: \"\\u643A\\u7A0B\\u56FD\\u9645\\u65C5\\u884C\\u793E(\\u5B98\\u65B9)\"\n          })\n        })]\n      })]\n    });\n  } else if (isDiyfhxsdp || isStudy) {\n    if (!VendorInfo || !VendorInfo.BCScanningCopy) {\n      return null;\n    }\n    var VenderId = VendorInfo.VenderId,\n      VendorBrand = VendorInfo.VendorBrand,\n      VendorName = VendorInfo.VendorName;\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      children: [(!!isGoldShop || !!isSelf) && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"BrandInfoBg\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"BrandInfoBgImg\",\n          src: backgroundImageUrl\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        onClick: function onClick() {\n          handleGoLicensePage(VenderId);\n        },\n        className: \"BrandInfoContent\",\n        style: {\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"FlexAlignCenter\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"FlexAlignCenter Flex1\",\n            children: [!isSelf && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"ModuleTitleText\",\n              children: VendorBrand\n            }), isGoldShop && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"BrandInfoTitleImgBox\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                lazyLoad: true,\n                mode: \"widthFix\",\n                className: \"BrandInfoTitleImg\",\n                src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/gold_brand.png\"\n              })\n            }), isSelf && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"BrandInfoTitleImgBox_self_new\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                lazyLoad: true,\n                mode: \"widthFix\",\n                className: \"BrandInfoTitleImg\",\n                src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/salebyself_newicon.png\"\n              })\n            }), isSelf && !!isNewUpgrade && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"detailBusinessSelfNewIconUpgrade\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                lazyLoad: true,\n                mode: \"widthFix\",\n                className: \"BrandInfoTitleImg\",\n                src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/salebyself_newgrade_icon.png\"\n              })\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"ModuleTitlePosition\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"ModuleTitleSwitchText\",\n              children: \"\\u7ECF\\u8425\\u8BB8\\u53EF\\u8BC1/\\u8425\\u4E1A\\u6267\\u7167\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"ModuleTitleArrowIcon\",\n              children: \"\\uE944\"\n            })]\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BrandInfoCompanyBox\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"BrandInfoCompanyName\",\n            children: VendorName\n          })\n        })]\n      })]\n    });\n  } else {\n    return null;\n  }\n}\nfunction ShopInfo(_ref3) {\n  var shopInfo = _ref3.shopInfo;\n  var _ref4 = model_Model.useState(function (state) {\n      var brandScore = state.brandScore,\n        actionIdSuffix = state.actionIdSuffix,\n        BasicInfo = state.BasicInfo,\n        VendorInfo = state.VendorInfo;\n      return {\n        brandScore: brandScore,\n        actionIdSuffix: actionIdSuffix,\n        BasicInfo: BasicInfo,\n        VendorInfo: VendorInfo\n      };\n    }),\n    brandScore = _ref4.brandScore,\n    actionIdSuffix = _ref4.actionIdSuffix,\n    BasicInfo = _ref4.BasicInfo,\n    VendorInfo = _ref4.VendorInfo;\n  var handleGoShopDetail = model_Model.useActions().handlers.handleGoShopDetail;\n  if (!brandScore || !shopInfo) {\n    return null;\n  }\n  var IsInternal = BasicInfo.IsInternal,\n    ProductPatternId = BasicInfo.ProductPatternId;\n  var brandName = shopInfo.brandName,\n    providerName = shopInfo.providerName,\n    totalScore = shopInfo.totalScore,\n    customersCount = shopInfo.customersCount,\n    storeEvaluation = shopInfo.storeEvaluation,\n    serviceDestinationName = shopInfo.serviceDestinationName,\n    isGoldShop = shopInfo.isGoldShop,\n    cmtGuidePosiRate = shopInfo.cmtGuidePosiRate;\n  var _ref5 = storeEvaluation || {},\n    gradeName = _ref5.gradeName,\n    gradeIconUrl = _ref5.gradeIconUrl;\n  var guideRateText = formatGuideRate(cmtGuidePosiRate);\n\n  // \n  var isSelf = BasicInfo.SaleMode === 'S';\n  var entryText = '';\n  var isNewUpgrade = false;\n  if (IsInternal && (ProductPatternId === 1 || ProductPatternId === 3 || ProductPatternId === 4)) {\n    isNewUpgrade = true;\n  }\n  var backgroundImageUrl = isGoldShop ? 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/shop/goldbg.png' : isSelf ? 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/detailshop_newbg.png' : null;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    children: [(!!isGoldShop || !!isSelf) && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"BrandInfoBg\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"BrandInfoBgImg\",\n        src: backgroundImageUrl\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"BrandInfoContent\",\n      onClick: function onClick(event) {\n        handleGoShopDetail();\n        cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-shop-entry\"));\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"FlexAlignCenter\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"FlexAlignCenter Flex1\",\n          children: [!isSelf && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"ModuleTitleText\",\n            children: brandName\n          }), isGoldShop && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BrandInfoTitleImgBox\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n              lazyLoad: true,\n              mode: \"widthFix\",\n              className: \"BrandInfoTitleImg\",\n              src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/gold_brand.png\"\n            })\n          }), isSelf && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BrandInfoTitleImgBox_self_new\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n              lazyLoad: true,\n              mode: \"widthFix\",\n              className: \"BrandInfoTitleImg\",\n              src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/salebyself_newicon.png\"\n            })\n          }), isSelf && !!isNewUpgrade && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"detailBusinessSelfNewIconUpgrade\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n              lazyLoad: true,\n              mode: \"widthFix\",\n              className: \"BrandInfoTitleImg\",\n              src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/salebyself_newgrade_icon.png\"\n            })\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"ModuleTitlePosition\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"ModuleTitleSwitchText\",\n            children: entryText\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"ModuleTitleArrowIcon\",\n            children: \"\\uE944\"\n          })]\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"BrandInfoCompanyBox\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"BrandInfoCompanyName\",\n          children: isSelf ? '()' : providerName\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"BrandInfoGradeBox\",\n        children: [totalScore > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"BrandInfoGrade\",\n          style: {\n            minWidth: 140\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"FlexVerticalCenter MarginBottom16\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"BrandInfoGradeNumText\",\n              children: totalScore\n            }), !!(gradeIconUrl && gradeName) && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"BrandInfoGradeContent FlexAlignCenter\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                lazyLoad: true,\n                className: \"BrandInfoGradeImg\",\n                src: gradeIconUrl\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"BrandInfoContentText FontDark\",\n                children: gradeName\n              })]\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BrandInfoGradeDesc\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              className: \"BrandInfoContentText\",\n              children: [\"\\u5546\\u6237\\u5728\", /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"FontDark FontW500\",\n                children: serviceDestinationName\n              }), \"\\u7684\\u7EFC\\u5408\\u8BC4\\u5206\"]\n            })\n          })]\n        }), !!guideRateText && Number(guideRateText) > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"BrandInfoGrade\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BrandInfoGradeNum\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              className: \"BrandInfoGradeNumText\",\n              children: [guideRateText, \"%\"]\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BrandInfoGradeDesc\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"BrandInfoContentText\",\n              children: \"\\u5BFC\\u6E38\\u597D\\u8BC4\\u7387\"\n            })\n          })]\n        }), !!customersCount && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"BrandInfoGrade\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BrandInfoGradeNum\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"BrandInfoGradeNumText\",\n              children: customersCount\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BrandInfoGradeDesc\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"BrandInfoContentText\",\n              children: \"\\u7D2F\\u8BA1\\u670D\\u52A1\\u4EBA\\u6570\"\n            })\n          })]\n        })]\n      })]\n    })]\n  });\n}\nfunction BrandInfoList(_ref6) {\n  var productList = _ref6.productList;\n  var _ref7 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        BasicInfo: BasicInfo,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    BasicInfo = _ref7.BasicInfo,\n    actionIdSuffix = _ref7.actionIdSuffix;\n  if (!productList || !productList.length) {\n    return null;\n  }\n  var handleGoRecommendDetail = model_Model.useActions().handlers.handleGoRecommendDetail;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.ScrollView, {\n    scrollX: true,\n    scrollWithAnimation: true,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"BrandInfoCardContainer\",\n      children: productList.map(function (item) {\n        var ProductId = item.ProductId,\n          Name = item.Name,\n          MinPrice = item.MinPrice,\n          ImgUrl = item.ImgUrl,\n          RecDesc = item.TagGroup.RecDesc,\n          Active = item.Active;\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(BrandInfoCard, {\n          DepartureId: BasicInfo.DepartureId,\n          handleGoRecommendDetail: handleGoRecommendDetail,\n          Active: Active,\n          ProductId: ProductId,\n          Name: Name,\n          RecDesc: RecDesc,\n          MinPrice: MinPrice,\n          ImgUrl: ImgUrl,\n          actionIdSuffix: actionIdSuffix,\n          BasicInfo: BasicInfo\n        }, ProductId);\n      })\n    })\n  });\n}\nfunction BrandInfoCard(_ref8) {\n  var DepartureId = _ref8.DepartureId,\n    Name = _ref8.Name,\n    MinPrice = _ref8.MinPrice,\n    ImgUrl = _ref8.ImgUrl,\n    RecDesc = _ref8.RecDesc,\n    Active = _ref8.Active,\n    handleGoRecommendDetail = _ref8.handleGoRecommendDetail,\n    ProductId = _ref8.ProductId,\n    actionIdSuffix = _ref8.actionIdSuffix,\n    BasicInfo = _ref8.BasicInfo;\n  ImgUrl = ImgUrl ? ImgUrl.replace('_326_210_Q90.', '_210_210_Q90.') : '';\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"BrandInfoCard\",\n    onClick: function onClick(event) {\n      if (Active) {\n        handleGoRecommendDetail({\n          productid: ProductId,\n          departcityid: DepartureId\n        });\n        cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-recommend-product-0-\").concat(BasicInfo.ProductId, \"-\").concat(ProductId));\n      }\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"BrandInfoImgBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        lazyLoad: true,\n        className: \"BrandInfoImgPic\",\n        mode: \"widthFix\",\n        src: ImgUrl || ''\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"BrandInfoTag\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"BrandInfoTagText\",\n          children: RecDesc\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"BrandInfoNameBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"BrandInfoTitleBox\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"BrandInfoTitleText MultipuleLineOverflow2\",\n          children: Name\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"BrandInfoPriceNumber\",\n        children: Active ? MinPrice > 0 ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"BrandInfoPriceYuan\",\n            children: \"\\uFFE5\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"BrandInfoPriceNu\",\n            children: MinPrice\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"BrandInfoPriceTip\",\n            children: \"\\u8D77\"\n          })]\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"BrandInfoPriceInTime\",\n          children: \"\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"BrandInfoPriceInTime\",\n          children: \"\\u4E0D\\u53EF\\u8BA2\"\n        })\n      })]\n    })]\n  });\n}\nfunction formatGuideRate(cmtGuidePosiRate) {\n  if (!!cmtGuidePosiRate && cmtGuidePosiRate > 0) {\n    var rateNumber = cmtGuidePosiRate * 100;\n    return Number.isInteger(rateNumber) ? Number(rateNumber) : Number(rateNumber).toFixed(1);\n  } else {\n    return '';\n  }\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/OrderKnow.tsx\n\n\n\n\n\n\nfunction OrderKnow() {\n  var _ref = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo;\n      return {\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    currentRouteInfo = _ref.currentRouteInfo;\n  if (!currentRouteInfo) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"detailoneTipBg\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"OrderKnowBoxNew\",\n        id: \"OrderKnow\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(BookingNote, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(OrderKnow_PreSaleNotice, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(VisaInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(OrderKnowItem, {\n          Code: '31'\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(OrderKnowItem, {\n          Code: '10001'\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(OrderKnowItem, {\n          Code: '38'\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(OrderKnowItem, {\n          Code: '72'\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(OrderKnowItem, {\n          Code: '10002'\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(OrderKnowItem, {\n          Code: '10000'\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(CostMore, {})]\n      })\n    })\n  });\n}\n\n// \nfunction OrderKnow_PreSaleNotice() {\n  var _ref2 = model_Model.useState(function (state) {\n      var pageStatus = state.pageStatus,\n        currentRouteInfo = state.currentRouteInfo,\n        isSelectPreSale = state.isSelectPreSale,\n        isPremium = state.isPremium,\n        isPreSale = state.isPreSale;\n      return {\n        pageStatus: pageStatus,\n        currentRouteInfo: currentRouteInfo,\n        isSelectPreSale: isSelectPreSale,\n        isPremium: isPremium,\n        isPreSale: isPreSale\n      };\n    }),\n    pageStatus = _ref2.pageStatus,\n    currentRouteInfo = _ref2.currentRouteInfo,\n    isSelectPreSale = _ref2.isSelectPreSale,\n    isPremium = _ref2.isPremium,\n    isPreSale = _ref2.isPreSale;\n  var handleTogglePreSaleNoticeMask = model_Model.useActions().handlers.handleTogglePreSaleNoticeMask;\n  var PreSaleNotice = currentRouteInfo.PreSaleNotice;\n  if (!isPreSale) {\n    return null;\n  }\n\n  // \n  if (!PreSaleNotice) {\n    return null;\n  }\n  if (!isSelectPreSale) {\n    return null;\n  }\n  var iconUrl = 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/orderknow_presale.png';\n  if (isPremium) {\n    if (!iconUrl.endsWith('_p.png')) {\n      iconUrl = iconUrl.replace('.png', '_p.png');\n    }\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"OrderKnowItemNewBg\"\n    // colors={isPremium ? ['#fff', 'rgb(255, 251, 249)'] : ['#fff', 'rgb(246, 251, 255)']}\n    // start={{ x: 0, y: 0.85 }}\n    // end={{ x: 0, y: 1 }}\n    ,\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      onClick: function onClick() {\n        handleTogglePreSaleNoticeMask({\n          status: true,\n          selectType: 'PreSaleRule'\n        });\n      },\n      className: \"OrderKnowItemNew\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"OrderKnowItemIcon\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"OrderKnowItemIconImg\",\n          src: iconUrl\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"OrderKnowItemTitle\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"Color1_Body2_Bold\",\n          children: \"\\u9884\\u552E\\u8BF4\\u660E\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"OrderKnowItemSub Color3_Cap2\",\n          children: \"\\u9884\\u7EA6\\u89C4\\u5219\\u53CA\\u6D41\\u7A0B\\u3001\\u9000\\u6539\\u653F\\u7B56\\u3001\\u53D1\\u7968\\u4FE1\\u606F\"\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"OrderKnowItemNewIcon\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"Color1_Body2 detailIcon\",\n          children: \"\\uE944\"\n        })\n      })]\n    })\n  });\n}\nfunction BookingNote() {\n  var _ref3 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo;\n      return {\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    _ref3$currentRouteInf = _ref3.currentRouteInfo,\n    currentRouteInfo = _ref3$currentRouteInf === void 0 ? {} : _ref3$currentRouteInf;\n  var OrderKnow = currentRouteInfo.OrderKnow;\n  if (!OrderKnow) return null;\n  var ContractDesc = OrderKnow.ContractDesc;\n  if (!ContractDesc) return null;\n  ContractDesc = ContractDesc.replace(/<br\\s*\\/?>/g, '\\n');\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ContractDescBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"bookingNeedKnow\",\n      children: \"\\u8D2D\\u4E70\\u987B\\u77E5\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"OrderKnowContractDesc\",\n      children: ContractDesc\n    })]\n  });\n}\nfunction VisaInfo() {\n  var BasicInfo = model_Model.useState(function (state) {\n    return state.BasicInfo;\n  });\n  var currentRouteInfo = model_Model.useState(function (state) {\n    return state.currentRouteInfo;\n  });\n  var actionIdSuffix = model_Model.useState(function (state) {\n    return state.actionIdSuffix;\n  });\n  var handleGoVisa = model_Model.useActions().handlers.handleGoVisa;\n  var Visa = currentRouteInfo.Visa,\n    TravelIntroductionInfo = currentRouteInfo.TravelIntroductionInfo;\n  if (!BasicInfo) {\n    return null;\n  }\n  var shouldShowVisaInfo = [11, 12, 26, 34].includes(BasicInfo.ProductCategoryId) || BasicInfo.isCruise;\n  if (!Visa || !shouldShowVisaInfo) {\n    return null;\n  }\n\n  // v8.10  6381\n  var VisaCountryList = Visa.VisaCountryList,\n    VisaDescList = Visa.VisaDescList;\n  if ((!VisaCountryList || !VisaCountryList.length) && (!VisaDescList || !VisaDescList.length)) {\n    return null;\n  }\n  var VisaTitle = '';\n  if (BasicInfo.DestProvinceId === 53) {\n    VisaTitle = '';\n  }\n  if ([58, 59].indexOf(BasicInfo.DestCityId) > -1) {\n    VisaTitle = '';\n  }\n  var iconUrl = 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/orderknow_visa.png';\n  var subText = getVisaSubText(Visa, TravelIntroductionInfo);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"OrderKnowItemNewBg\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"OrderKnowItemNew\",\n      onClick: function onClick() {\n        handleGoVisa();\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"OrderKnowItemIcon\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"OrderKnowItemIconImg\",\n          src: iconUrl\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"OrderKnowItemTitle\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"OrderKnowItemText\",\n          children: VisaTitle\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"OrderKnowItemVisaSub MultipuleLineOverflow2\",\n          children: subText\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"OrderKnowItemNewIcon\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"detailIcon\",\n          children: \"\\uE944\"\n        })\n      })]\n    })\n  });\n}\nfunction CostMore() {\n  var currentRouteInfo = model_Model.useState(function (state) {\n    return state.currentRouteInfo;\n  });\n  var pageStatus = model_Model.useState(function (state) {\n    return state.pageStatus;\n  });\n  var actionIdSuffix = model_Model.useState(function (state) {\n    return state.actionIdSuffix;\n  });\n  var handleGoCostMore = model_Model.useActions().handlers.handleGoCostMore;\n  var _ref4 = currentRouteInfo || {},\n    SelfPayInfoList = _ref4.SelfPayInfoList;\n  var targetProductId = pageStatus.activeProductId;\n  if (!SelfPayInfoList || !SelfPayInfoList.length) {\n    return null;\n  }\n  var iconUrl = 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/orderknow_cost.png';\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"OrderKnowItemNew OrderKnowItemNewBg\",\n    onClick: function onClick() {\n      handleGoCostMore(targetProductId);\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"OrderKnowItemIcon\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"OrderKnowItemIconImg\",\n        src: iconUrl\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"OrderKnowItemTitle\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"OrderKnowItemText\",\n        children: \"\\u63A8\\u8350\\u81EA\\u8D39\\u9879\\u76EE\\uFF0C\\u4EC5\\u4F9B\\u53C2\\u8003\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"OrderKnowItemSub\",\n        children: \"\\u5EFA\\u8BAE\\u6027\\u9879\\u76EE\\u3001\\u81EA\\u613F\\u81EA\\u8D39\\u3001\\u65E0\\u5F3A\\u5236\\u6D88\\u8D39\"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"OrderKnowItemNewIcon\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"detailIcon\",\n        children: \"\\uE944\"\n      })\n    })]\n  });\n}\nvar OrderKnowTypeMap = {\n  '31': '',\n  '10001': '/',\n  '38': '',\n  '10002': '',\n  '72': '',\n  // '76': '',\n  '10000': ''\n};\nvar OrderKnowIconMap = {\n  '31': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/orderknow_bookinglimit.png',\n  '10001': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/orderknow_hotelinfo.png',\n  '38': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/orderknow_tourdesc.png',\n  '10002': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/orderknow_notes.png',\n  '72': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/orderknow_defaultinfo.png',\n  // '76': '',\n  '10000': 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/orderknow_tips.png'\n};\nfunction OrderKnowItem(_ref5) {\n  var Code = _ref5.Code;\n  var currentRouteInfo = model_Model.useState(function (state) {\n    return state.currentRouteInfo;\n  });\n  var actionIdSuffix = model_Model.useState(function (state) {\n    return state.actionIdSuffix;\n  });\n  var handleGoBookingNote = model_Model.useActions().handlers.handleGoBookingNote;\n  var OrderKnow = currentRouteInfo.OrderKnow;\n  if (!OrderKnow) {\n    return null;\n  }\n  var OrderKnowList = OrderKnow.OrderKnowList;\n  if (!OrderKnowList || !OrderKnowList.length) {\n    return null;\n  }\n  var info = OrderKnowList.find(function (rule) {\n    return rule.Code === Code;\n  });\n  if (!info || !info.InfrastructureInfoList && !info.DescList) {\n    return null;\n  }\n  var subTitle = '';\n  if (info.InfrastructureInfoList && info.InfrastructureInfoList.length) {\n    subTitle = info.InfrastructureInfoList.map(function (item) {\n      return item.Category;\n    }).slice(0, 4).join('');\n  }\n  var iconUrl = OrderKnowIconMap[Code];\n  var isLast = Code === '10000';\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"OrderKnowItemNewBg\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"OrderKnowItemNew\",\n      onClick: function onClick() {\n        handleGoBookingNote({\n          Code: Code\n        });\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"OrderKnowItemIcon\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"OrderKnowItemIconImg\",\n          src: iconUrl\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"OrderKnowItemTitle\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"OrderKnowItemText\",\n          children: info.Title\n        }), !!subTitle && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"OrderKnowItemSub\",\n          children: subTitle\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"OrderKnowItemNewIcon\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"detailIcon\",\n          children: \"\\uE944\"\n        })\n      })]\n    })\n  });\n}\n\n// \nvar getVisaSubText = function getVisaSubText(Visa, TravelIntroductionInfo) {\n  var VisaInterviewMap = {\n    1: '',\n    2: '',\n    3: ''\n  };\n  var summaryText = '';\n  if (TravelIntroductionInfo && TravelIntroductionInfo.TravelIntroductionList && TravelIntroductionInfo.TravelIntroductionList[0]) {\n    var TravelSummaryInfoList = TravelIntroductionInfo.TravelIntroductionList[0].TravelSummaryInfoList;\n    var _VisaInfo = TravelSummaryInfoList.find(function (info) {\n      return info.SummaryType === 9;\n    });\n    if (_VisaInfo && _VisaInfo.SummaryItems && _VisaInfo.SummaryItems[0]) {\n      summaryText = _VisaInfo.SummaryItems[0].ItemText;\n    }\n  }\n  var result = [];\n  if (Visa && Visa.VisaCountryList && Visa.VisaCountryList.length) {\n    var VisaCountryList = Visa.VisaCountryList;\n    if (VisaCountryList.length === 1) {\n      // \n      var _VisaCountryList$ = VisaCountryList[0],\n        VisaInterview = _VisaCountryList$.VisaInterview,\n        VisaType = _VisaCountryList$.VisaType,\n        VisaTypeName = _VisaCountryList$.VisaTypeName;\n      var text = VisaInterview ? \"\".concat(VisaInterviewMap[VisaInterview], \"\\uFF0C\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\").concat(VisaTypeName) : \"\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\".concat(VisaTypeName);\n      result.push(text);\n    } else {\n      // \n      var isAllVisaInterviewSame = VisaCountryList.every(function (visa) {\n        return visa.VisaInterview === VisaCountryList[0].VisaInterview && visa.VisaType === VisaCountryList[0].VisaType;\n      });\n      if (isAllVisaInterviewSame) {\n        // \n        var _VisaCountryList$2 = VisaCountryList[0],\n          _VisaInterview = _VisaCountryList$2.VisaInterview,\n          _VisaType = _VisaCountryList$2.VisaType,\n          _VisaTypeName = _VisaCountryList$2.VisaTypeName;\n        var _text = _VisaInterview ? \"\".concat(VisaInterviewMap[_VisaInterview], \"\\uFF0C\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\").concat(_VisaTypeName) : \"\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\".concat(_VisaTypeName);\n        result.push(_text);\n      } else {\n        // \n        VisaCountryList.forEach(function (visa) {\n          var Country = visa.Country,\n            VisaInterview = visa.VisaInterview,\n            VisaType = visa.VisaType,\n            VisaTypeName = visa.VisaTypeName;\n          var text = VisaInterview ? \"\".concat(Country, \"\\uFF1A\").concat(VisaInterviewMap[VisaInterview], \"\\uFF0C\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\").concat(VisaTypeName) : \"\".concat(Country, \"\\uFF1A\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\").concat(VisaTypeName);\n          result.push(text);\n        });\n      }\n    }\n  }\n  var visaText = result.join(\"\");\n  if (summaryText && visaText) {\n    return \"\".concat(summaryText, \"\\uFF0C\").concat(visaText);\n  } else {\n    return \"\".concat(summaryText).concat(visaText);\n  }\n};\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/CostDescription.tsx\n\n\n\n\n\n\n\n\nvar PassengerTypeTextMap = {\n  1: '',\n  2: ''\n};\nvar PassengerTypeTipTextMap = {\n  1: '',\n  2: '*'\n};\nvar MemoCostDescription = /*#__PURE__*/react.memo(CostDescription_CostDescription);\n/* harmony default export */ var CostDescription = (MemoCostDescription);\nfunction CostDescription_CostDescription() {\n  var _ref = model_Model.useState(function (state) {\n      var _state$currentRouteIn = state.currentRouteInfo,\n        CostInfoList = _state$currentRouteIn.CostInfoList,\n        FeeInfoList = _state$currentRouteIn.FeeInfoList,\n        BasicExtendInfo = _state$currentRouteIn.BasicExtendInfo;\n      var BasicInfo = state.BasicInfo,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        CostInfoList: CostInfoList,\n        FeeInfoList: FeeInfoList,\n        BasicExtendInfo: BasicExtendInfo,\n        BasicInfo: BasicInfo,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    CostInfoList = _ref.CostInfoList,\n    FeeInfoList = _ref.FeeInfoList,\n    BasicExtendInfo = _ref.BasicExtendInfo,\n    BasicInfo = _ref.BasicInfo,\n    actionIdSuffix = _ref.actionIdSuffix;\n  var isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp,\n    isStudy = BasicInfo.isStudy,\n    isCruise = BasicInfo.isCruise;\n\n  // : : ; : \n  var initPassengerType = isStudy ? 2 : 1;\n  // \n  var _ref2 = BasicExtendInfo || {},\n    _ref2$PriceStandardLi = _ref2.PriceStandardList,\n    PriceStandardList = _ref2$PriceStandardLi === void 0 ? [] : _ref2$PriceStandardLi;\n  if (PriceStandardList && PriceStandardList.length > 0) {\n    var canChildBook = PriceStandardList.filter(function (item) {\n      return item.PassengerType === 2;\n    })[0].IsCanBook;\n    if (!canChildBook) {\n      initPassengerType = 1;\n    }\n  }\n\n  // , 1 2\n  var _useState = (0,react.useState)(initPassengerType),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    curPassengerType = _useState2[0],\n    setCurPassengerType = _useState2[1];\n  if (isPureDiyfhxsdp || isCruise) {\n    if (!CostInfoList || !Object.values(CostInfoList) || !Object.values(CostInfoList).length) {\n      return null;\n    }\n  } else {\n    if (!FeeInfoList || !PriceStandardList) {\n      return null;\n    }\n  }\n  var IncludingFees;\n  var ExcludingFees;\n  if (FeeInfoList) {\n    IncludingFees = FeeInfoList && FeeInfoList.filter(function (item) {\n      return Number(item.SubTitleCode) === 15;\n    })[0] && FeeInfoList.filter(function (item) {\n      return Number(item.SubTitleCode) === 15;\n    })[0].ProductClauseList;\n    ExcludingFees = FeeInfoList && FeeInfoList.filter(function (item) {\n      return Number(item.SubTitleCode) === 71;\n    })[0] && FeeInfoList.filter(function (item) {\n      return Number(item.SubTitleCode) === 71;\n    })[0].ProductClauseList;\n  }\n  if (isPureDiyfhxsdp || isCruise) {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(UICotsInfoList, {\n      CostInfoList: CostInfoList\n    });\n  }\n\n  //  \n  var disPlayPriceStandardList = PriceStandardList.slice().sort(function (item) {\n    return isStudy ? -item.PassengerType : item.PassengerType;\n  });\n  var curPassengerTypeTitle = PriceStandardList.filter(function (item) {\n    return item.PassengerType === curPassengerType;\n  })[0].Title;\n\n  //  icon tip\n  var isShowIconTip = curPassengerType !== initPassengerType;\n\n  //  (  & )\n  var isShowChildHeightTip = false;\n  if (PriceStandardList && PriceStandardList.length) {\n    var childInfo = PriceStandardList.filter(function (item) {\n      return item.PassengerType === 2;\n    })[0];\n    if (childInfo) {\n      var MinHeight = childInfo.MinHeight,\n        MaxHeight = childInfo.MaxHeight,\n        MinAge = childInfo.MinAge,\n        MaxAge = childInfo.MaxAge;\n      if ((MinHeight || MaxHeight) && (MinAge || MaxAge)) {\n        isShowChildHeightTip = true;\n      }\n    }\n  }\n  if (curPassengerType !== 2) {\n    isShowChildHeightTip = false;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"NewModuleBox\",\n    id: \"CostDescription\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"NewCostDescriptionTitle NewModuleTitleText MarginBottom24\",\n      children: \"\\u8D39\\u7528\\u4FE1\\u606F\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"FlexAlignCenter MarginBottom24\",\n      children: disPlayPriceStandardList.map(function (item, index) {\n        var PassengerType = item.PassengerType,\n          IsCanBook = item.IsCanBook;\n        var isSelected = PassengerType === curPassengerType;\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"NewCostDescriptionPassenger \".concat(IsCanBook ? '' : 'NewCostDescriptionPassengerDisabled', \" \").concat(isSelected ? 'NewCostDescriptionPassengerSelected' : '', \"\\n                        \"),\n          onClick: function onClick(event) {\n            IsCanBook && setCurPassengerType(PassengerType);\n            cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-labelblock-select-\").concat(PassengerType - 1));\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            className: \"NewCostDescriptionPassengerText\",\n            children: [PassengerTypeTipTextMap[PassengerType], !IsCanBook && '']\n          })\n        });\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NewCostDescriptionApplicablePerson\",\n      children: [\"\\u4EE5\\u4E0B\\u8BF4\\u660E\\u4EC5\\u9002\\u7528\", PassengerTypeTextMap[curPassengerType], !!curPassengerTypeTitle && \" (\".concat(curPassengerTypeTitle, \")\")]\n    }), isShowIconTip && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"NewCostDescriptionApplicablePerson\",\n      children: isStudy ? '* ' : '* '\n    }), isShowChildHeightTip && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"NewCostDescriptionApplicablePerson\",\n      children: \"* \\u6EE1\\u8DB3\\u5E74\\u9F84\\u6761\\u4EF6\\u7684\\u513F\\u7AE5\\u8EAB\\u9AD8\\u4E0D\\u7B26\\u65F6\\uFF0C\\u8BF7\\u6309\\u513F\\u7AE5\\u4E0B\\u5355\\uFF0C\\u53EF\\u80FD\\u4F1A\\u6D89\\u53CA\\u73B0\\u573A\\u8865\\u5DEE\\u4EF7\\uFF0C\\u7531\\u670D\\u52A1\\u4EBA\\u5458\\u73B0\\u573A\\u534F\\u52A9\\u5904\\u7406\\uFF0C\\u5177\\u4F53\\u5DEE\\u4EF7\\u91D1\\u989D\\u4EE5\\u73B0\\u573A\\u62A5\\u4EF7\\u4E3A\\u51C6\\u3002\"\n    }), !!IncludingFees && IncludingFees.length > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(CostIncludingFees, {\n      feeInfos: IncludingFees,\n      setCurPassengerType: setCurPassengerType,\n      curPassengerType: curPassengerType,\n      initPassengerType: initPassengerType,\n      PriceStandardList: PriceStandardList,\n      isStudy: isStudy,\n      actionIdSuffix: actionIdSuffix\n    }), !!ExcludingFees && ExcludingFees.length > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(CostExcludingFees, {\n      feeInfos: ExcludingFees,\n      PriceStandardList: PriceStandardList\n    })]\n  });\n}\nfunction CostIncludingFees(_ref3) {\n  var feeInfos = _ref3.feeInfos,\n    setCurPassengerType = _ref3.setCurPassengerType,\n    initPassengerType = _ref3.initPassengerType,\n    curPassengerType = _ref3.curPassengerType,\n    PriceStandardList = _ref3.PriceStandardList,\n    isStudy = _ref3.isStudy,\n    actionIdSuffix = _ref3.actionIdSuffix;\n  var handleToggleGODetailMask = model_Model.useActions().handlers.handleToggleGODetailMask;\n  //  icon tip\n  var isShowIconTip = curPassengerType !== initPassengerType;\n\n  //  (  & )\n  var isShowChildHeightTip = false;\n  if (PriceStandardList && PriceStandardList.length) {\n    var childInfo = PriceStandardList.filter(function (item) {\n      return item.PassengerType === 2;\n    })[0];\n    if (childInfo) {\n      var MinHeight = childInfo.MinHeight,\n        MaxHeight = childInfo.MaxHeight,\n        MinAge = childInfo.MinAge,\n        MaxAge = childInfo.MaxAge;\n      if ((MinHeight || MaxHeight) && (MinAge || MaxAge)) {\n        isShowChildHeightTip = true;\n      }\n    }\n  }\n  if (curPassengerType !== 2) {\n    isShowChildHeightTip = false;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"NewCostDescriptionBlock\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NewCostDescriptionTable\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"NewCostDescriptionTableTitleBg\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"NewCostDescriptionTableTitleIcon\",\n          children: \"\\uED1E\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"NewCostDescriptionTableTitleText\",\n          children: \"\\u8D39\\u7528\\u5305\\u542B\"\n        })]\n      }), feeInfos.map(function (ClauseItem, infoIndex) {\n        if (!ClauseItem) {\n          return null;\n        }\n        var ClauseTypeName = ClauseItem.ClauseTypeName,\n          ClauseTypeId = ClauseItem.ClauseTypeId,\n          ClauseSubItemList = ClauseItem.ClauseSubItemList;\n        if (!ClauseSubItemList || !ClauseSubItemList.length) {\n          return null;\n        }\n        var isLast = infoIndex + 1 === feeInfos.length;\n        var isDiff = ClauseSubItemList.some(function (item) {\n          return item.DifferenceType !== 0;\n        }) && isShowIconTip;\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"NewCostDescriptionTableTd\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"NewCostDescriptionTableTdLeft\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"NewCostDescriptionTableConsistent\",\n              children: [isDiff && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"NewCostDescriptionTipIconNew\",\n                children: \"*\"\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"NewCostDescriptionTableTextLeft\",\n                children: ClauseTypeName\n              })]\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"NewCostDescriptionTableTdRight\",\n            children: ClauseSubItemList.map(function (ClauseSubItem, ClauseSubItemIndex) {\n              var DifferenceType = ClauseSubItem.DifferenceType,\n                SubTitle = ClauseSubItem.SubTitle,\n                TargetPopulationItemList = ClauseSubItem.TargetPopulationItemList;\n              var infos = TargetPopulationItemList && TargetPopulationItemList.filter(function (item) {\n                return [1, curPassengerType + 1].includes(item.TargetPopulation);\n              });\n              return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n                children: [infos.map(function (item, index) {\n                  var ClauseId = item.ClauseId,\n                    Description = item.Description,\n                    IsHighlight = item.IsHighlight;\n                  if (!Description) {\n                    return null;\n                  }\n                  Description = Description.replace(/<br\\s*\\/?>/g, '\\n');\n                  var style = IsHighlight ? {\n                    color: '#ff7700',\n                    fontWeight: 600\n                  } : {};\n\n                  //  GO \n                  var isShowGODetailIcon = ClauseId === 32666;\n                  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                    className: \"NewCostDescriptionTableTextRight\",\n                    style: style,\n                    onClick: function onClick() {\n                      isShowGODetailIcon ? handleToggleGODetailMask(true) : null;\n                    },\n                    children: [!!SubTitle && \"\".concat(SubTitle, \"\\uFF1A\"), Description, !!isShowGODetailIcon && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                      className: \"bookingDetailIcon\",\n                      children: [' ', \"\\uE931\"]\n                    })]\n                  }, ClauseId);\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(ThemeInfoEntry, {\n                  ClauseTypeId: ClauseTypeId,\n                  infos: infos\n                })]\n              });\n            })\n          })]\n        }, ClauseTypeId);\n      })]\n    })\n  });\n}\nfunction CostExcludingFees(_ref4) {\n  var feeInfos = _ref4.feeInfos,\n    PriceStandardList = _ref4.PriceStandardList;\n  var handleToggleScenicExcludingFeeMask = model_Model.useActions().handlers.handleToggleScenicExcludingFeeMask;\n  var _ref5 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo;\n      return {\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    currentRouteInfo = _ref5.currentRouteInfo;\n\n  // \n  var hasScenicSelfSund = false;\n  var TravelIntroductionInfo = currentRouteInfo.TravelIntroductionInfo;\n  if (TravelIntroductionInfo && TravelIntroductionInfo.TravelIntroductionList) {\n    var _ref6 = (TravelIntroductionInfo.TravelIntroductionList || {})[0] || {},\n      TravelOverviewInfo = _ref6.TravelOverviewInfo;\n    var _ref7 = TravelOverviewInfo || {},\n      ScenicSportSelfActiveList = _ref7.ScenicSportSelfActiveList;\n    hasScenicSelfSund = ScenicSportSelfActiveList && ScenicSportSelfActiveList.length;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"NewCostDescriptionBlock NewCostDescriptionBlock_new\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NewCostDescriptionBlockBg\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewCostDescriptionBlockIcon\",\n        children: \"\\uED1F\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewCostDescriptionBlockexclude\",\n        children: \"\\u8D39\\u7528\\u4E0D\\u542B\"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"NewCostDescriptionTable_new\",\n      children: feeInfos.map(function (ClauseItem, index) {\n        if (!ClauseItem) {\n          return null;\n        }\n        var ClauseTypeName = ClauseItem.ClauseTypeName,\n          ClauseTypeId = ClauseItem.ClauseTypeId,\n          ClauseSubItemList = ClauseItem.ClauseSubItemList;\n        // /\n        var clauseGroupByPassengerType = {};\n        ClauseSubItemList.forEach(function (subItem) {\n          var TargetPopulationItemList = subItem.TargetPopulationItemList,\n            SubTitle = subItem.SubTitle;\n          TargetPopulationItemList.forEach(function (item) {\n            var TargetPopulation = item.TargetPopulation,\n              Description = item.Description;\n            var info = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, item), {}, {\n              Description: SubTitle ? \"\".concat(SubTitle, \"\\uFF1A\").concat(Description) : Description\n            });\n            if (clauseGroupByPassengerType[TargetPopulation]) {\n              clauseGroupByPassengerType[TargetPopulation].push(info);\n            } else {\n              clauseGroupByPassengerType[TargetPopulation] = [info];\n            }\n          });\n        });\n\n        // \n        var isShowSelfFundMaskBtn = ClauseTypeId === 58 && hasScenicSelfSund;\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"NewCostDescriptionTableTd\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"NewCostDescriptionTableTdLeft\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"NewCostDescriptionTableTextLeft\",\n              children: ClauseTypeName\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"NewCostDescriptionTableTdRight\",\n            children: Object.keys(clauseGroupByPassengerType).map(function (type, ClauseSubItemIndex) {\n              var infos = clauseGroupByPassengerType[type];\n              return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                children: [infos.map(function (item) {\n                  var ClauseId = item.ClauseId,\n                    Description = item.Description,\n                    IsHighlight = item.IsHighlight;\n                  if (!Description) {\n                    return null;\n                  }\n                  Description = Description.replace(/<br\\s*\\/?>/g, '\\n');\n                  var style = IsHighlight ? {\n                    color: '#ff7700',\n                    fontWeight: 600\n                  } : {};\n                  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"NewCostDescriptionTableTextRight\",\n                    style: style,\n                    children: Description\n                  }, ClauseId);\n                }), isShowSelfFundMaskBtn && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"NewSelfFundBtn\",\n                  onClick: function onClick() {\n                    handleToggleScenicExcludingFeeMask(true);\n                  },\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"NewSelfFundBtnText\",\n                    children: \"\\u67E5\\u770B\\u5B8C\\u6574\\u4FE1\\u606F\"\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"NewSelfFundBtnIcon\",\n                    children: \"\\uE944\"\n                  })]\n                })]\n              });\n            })\n          })]\n        }, ClauseTypeId);\n      })\n    })]\n  });\n}\nfunction UICotsInfoList(_ref8) {\n  var CostInfoList = _ref8.CostInfoList;\n  if (!CostInfoList) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"NewModuleBox\",\n    id: \"CostDescription\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"NewCostDescriptionTitle NewModuleTitleText MarginBottom24\",\n      children: \"\\u8D39\\u7528\\u4FE1\\u606F\"\n    }), Object.values(CostInfoList).map(function (CostInfo, index) {\n      var Category = CostInfo.Category,\n        DescriptionList = CostInfo.DescriptionList;\n      if (!DescriptionList.length) {\n        return null;\n      }\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"NewCostDescriptionBlock\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"NewCostDescriptionTable\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"NewCostDescriptionTableTitleBg\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"NewCostDescriptionTableTitleText\",\n              children: Category\n            })\n          }), DescriptionList.map(function (desc, descIndex) {\n            if (!desc) {\n              return null;\n            }\n            desc = desc.replace(/<(\\/?)(?!br).*?>/gi, '').replace(/<br\\s*\\/?>/g, '\\n');\n            return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"NewCostDescriptionTableTd\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"NewCostDescriptionTableTdLeftWithIndex\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"NewCostDescriptionTableTextLeft\",\n                  children: descIndex + 1\n                })\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"NewCostDescriptionTableTdRight\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"NewCostDescriptionTableTextRight\",\n                  children: desc\n                })\n              })]\n            }, descIndex);\n          })]\n        })\n      }, index);\n    })]\n  });\n}\nfunction ThemeInfoEntry(_ref9) {\n  var ClauseTypeId = _ref9.ClauseTypeId,\n    infos = _ref9.infos;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleGoThemeEquipment = _Model$useActions$han.handleGoThemeEquipment,\n    handleGoThemeGuide = _Model$useActions$han.handleGoThemeGuide;\n  if (ClauseTypeId === 1001) {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NewSelfFundBtn\",\n      onClick: function onClick() {\n        handleGoThemeEquipment();\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewSelfFundBtnText\",\n        children: \"\\u67E5\\u770B\\u5B8C\\u6574\\u88C5\\u5907\\u4FE1\\u606F\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewSelfFundBtnIcon\",\n        children: \"\\uE944\"\n      })]\n    });\n  }\n  if (ClauseTypeId === 4 && infos.some(function (item) {\n    return item.ClauseId === 101;\n  })) {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NewSelfFundBtn\",\n      onClick: function onClick() {\n        handleGoThemeGuide();\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewSelfFundBtnText\",\n        children: \"\\u67E5\\u770B\\u5B8C\\u6574\\u5411\\u5BFC\\u4FE1\\u606F\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewSelfFundBtnIcon\",\n        children: \"\\uE944\"\n      })]\n    });\n  }\n  if (ClauseTypeId === 4 && infos.some(function (item) {\n    return item.ClauseId === 102;\n  })) {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NewSelfFundBtn\",\n      onClick: function onClick() {\n        handleGoThemeGuide();\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewSelfFundBtnText\",\n        children: \"\\u67E5\\u770B\\u5B8C\\u6574\\u6559\\u7EC3\\u4FE1\\u606F\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewSelfFundBtnIcon\",\n        children: \"\\uE944\"\n      })]\n    });\n  }\n  if (ClauseTypeId === 4 && infos.some(function (item) {\n    return item.ClauseId === 103;\n  })) {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NewSelfFundBtn\",\n      onClick: function onClick() {\n        handleGoThemeGuide();\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewSelfFundBtnText\",\n        children: \"\\u67E5\\u770B\\u5B8C\\u6574\\u5411\\u5BFC/\\u6559\\u7EC3\\u4FE1\\u606F\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewSelfFundBtnIcon\",\n        children: \"\\uE944\"\n      })]\n    });\n  }\n  return null;\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/MoreRecommend.tsx\n\n\n\n\n\n\nvar MemoMoreRecommend = /*#__PURE__*/react.memo(MoreRecommend_MoreRecommend);\n/* harmony default export */ var MoreRecommend = (MemoMoreRecommend);\nfunction MoreRecommend_MoreRecommend() {\n  var _Model$useState = model_Model.useState(function (state) {\n      var productExtend = state.productExtend;\n      return {\n        productExtend: productExtend\n      };\n    }),\n    productExtend = _Model$useState.productExtend;\n  if (!productExtend) {\n    return null;\n  }\n  var handleGoRecommendDetail = model_Model.useActions().handlers.handleGoRecommendDetail;\n  var MoreRecommendProductList = productExtend.MoreRecommendProductList;\n  if (!MoreRecommendProductList || MoreRecommendProductList.length < 1) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"MoreRecommendContainer\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"MoreRecommendTextBox FlexVerticalCenter\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"MoreRecommendText\",\n        children: \"\\u66F4\\u591A\\u63A8\\u8350\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RecommendCardContainer\",\n      children: MoreRecommendProductList.map(function (item) {\n        if (!item.ImageUrl) {\n          return null;\n        }\n        var ImageUrl = item.ImageUrl.replace('_500_280', '_500_333').replace('_192_192', '_500_333').replace('_Q70.', '_Q90.');\n        var productInfo = {\n          productid: item.ProductId,\n          departcityid: item.StartCityId\n        };\n        var exposeKey = 'pkg_dtl_recpkgexpo_app';\n        var exposeValue = {\n          slcityid: item.StartCityId,\n          stcityid: item.StartCityId,\n          pagebu: 'grp',\n          pkgid: item.ProductId\n        };\n        var ProductId = item.ProductId,\n          Pattern = item.Pattern,\n          ProductName = item.ProductName,\n          MinPrice = item.MinPrice;\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(RecommendCard, {\n          productInfo: productInfo,\n          handleGoRecommendDetail: handleGoRecommendDetail,\n          ImageUrl: ImageUrl,\n          Pattern: Pattern,\n          ProductName: ProductName,\n          MinPrice: MinPrice\n        }, ProductId);\n      })\n    })]\n  });\n}\nfunction RecommendCard(props) {\n  var ImageUrl = props.ImageUrl,\n    Pattern = props.Pattern,\n    ProductName = props.ProductName,\n    MinPrice = props.MinPrice,\n    handleGoRecommendDetail = props.handleGoRecommendDetail,\n    productInfo = props.productInfo;\n  if (!ImageUrl) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    onClick: function onClick() {\n      return handleGoRecommendDetail(productInfo);\n    },\n    className: \"RecommendCard\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RecommendTag FlexVerticalCenter\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RecommendTagText\",\n        children: Pattern\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RecommendImgBox\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        lazyLoad: true,\n        className: \"RecommendImgPic\",\n        mode: \"aspectFill\",\n        src: ImageUrl\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"RecommendInfoBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"RecommendTitleBox\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"RecommendTitleText MultipuleLineOverflow2 FontW600\",\n          children: ProductName\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"RecommendPriceNumber\",\n        children: MinPrice > 0 ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"RecommendPriceYuan\",\n            children: \"\\uFFE5\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"RecommendPriceNum\",\n            children: MinPrice\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"RecommendPriceTip\",\n            children: \"\\u8D77\"\n          })]\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"RecommendPriceInTime \",\n          children: \"\\u5B9E\\u65F6\\u8BA1\\u4EF7\"\n        })\n      })]\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/SecurityInfo.tsx\n\n\n\n\n\nfunction SecurityInfo() {\n  var handleGoSecurityInfo = model_Model.useActions().handlers.handleGoSecurityInfo;\n  var _ref = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        BasicInfo: BasicInfo,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    BasicInfo = _ref.BasicInfo,\n    actionIdSuffix = _ref.actionIdSuffix;\n  var imageUrl = BasicInfo.isDiyfhxsdp ? 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/axd_diy.png' : 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/axd_grp.png';\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"SecurityInfoContainer\",\n    onClick: function onClick(event) {\n      handleGoSecurityInfo();\n      cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-recommend-ins\"));\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      lazyLoad: true,\n      className: \"SecurityInfoImg\",\n      mode: \"widthFix\",\n      src: imageUrl\n    })\n  });\n}\n// EXTERNAL MODULE: ./src/pages/vacations/common/safeArea/index.tsx\nvar safeArea = __webpack_require__(60403);\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/Footer.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Footer(_ref) {\n  var selectDateFn = _ref.selectDateFn;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"FixedButtom\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(WarningInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CurBookingScheduleInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"FooterContainer\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"FooterFunctionContainer\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(ShopButton, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(FavoriteButton, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CustomerServiceButton, {})]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(BookingButton, {\n        selectDateFn: selectDateFn\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(safeArea/* default */.Z, {})]\n  });\n}\nfunction ShopButton() {\n  var _ref2 = model_Model.useState(function (state) {\n      var brandScore = state.brandScore,\n        actionIdSuffix = state.actionIdSuffix,\n        BasicInfo = state.BasicInfo;\n      return {\n        brandScore: brandScore,\n        actionIdSuffix: actionIdSuffix,\n        BasicInfo: BasicInfo\n      };\n    }),\n    brandScore = _ref2.brandScore,\n    actionIdSuffix = _ref2.actionIdSuffix,\n    BasicInfo = _ref2.BasicInfo;\n  var handleGoShopDetail = model_Model.useActions().handlers.handleGoShopDetail;\n\n  //  /  \n  if (BasicInfo.isDiyfhxsdp || BasicInfo.isStudy) {\n    return null;\n  }\n  // \n  if (brandScore && !brandScore.shopInfo) {\n    return null;\n  }\n  // \n  if (BasicInfo.SaleMode === 'G') {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"FooterFunction\",\n    onClick: function onClick(event) {\n      handleGoShopDetail();\n      cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-bottom-shop\"));\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"FooterFunctionIcon\",\n      children: \"\\uDB80\\uDC1B\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"FooterFunctionText\",\n      children: \"\\u5E97\\u94FA\"\n    })]\n  });\n}\nfunction FavoriteButton() {\n  var handleClickFavorite = model_Model.useActions().handlers.handleClickFavorite;\n  var _ref3 = model_Model.useState(function (state) {\n      var myFavorites = state.myFavorites,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        myFavorites: myFavorites,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    myFavorites = _ref3.myFavorites,\n    actionIdSuffix = _ref3.actionIdSuffix;\n  var _ref4 = myFavorites || {},\n    isFavorite = _ref4.isFavorite;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"FooterFunction\",\n    onClick: function onClick(event) {\n      handleClickFavorite();\n      cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-bottom-fav\"));\n    },\n    children: [isFavorite ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"FooterFunctionIcon FontRed\",\n      children: \"\\uE958\"\n    }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"FooterFunctionIcon\",\n      children: \"\\uE957\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"FooterFunctionText\",\n      children: \"\\u6536\\u85CF\"\n    })]\n  });\n}\nfunction CustomerServiceButton() {\n  var _ref5 = model_Model.useState(function (state) {\n      var imEntryInfo = state.imEntryInfo,\n        actionIdSuffix = state.actionIdSuffix,\n        BasicInfo = state.BasicInfo;\n      return {\n        imEntryInfo: imEntryInfo,\n        actionIdSuffix: actionIdSuffix,\n        BasicInfo: BasicInfo\n      };\n    }),\n    imEntryInfo = _ref5.imEntryInfo,\n    actionIdSuffix = _ref5.actionIdSuffix,\n    BasicInfo = _ref5.BasicInfo;\n  var handleToggleCustomerServiceMask = model_Model.useActions().handlers.handleToggleCustomerServiceMask;\n  if (!imEntryInfo) {\n    return null;\n  }\n  var imInfo = imEntryInfo.imInfo,\n    serviceInfo = imEntryInfo.serviceInfo;\n  if (!imInfo) {\n    return null;\n  }\n  var isShowEntry = imInfo.isShowEntry;\n  if (!isShowEntry) {\n    return null;\n  }\n  var shortServiceToast = serviceInfo === null || serviceInfo === void 0 ? void 0 : serviceInfo.shortServiceToast;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"FooterFunction\",\n    onClick: function onClick(event) {\n      handleToggleCustomerServiceMask(true);\n      cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-bottom-IM-\").concat(BasicInfo.ProductId));\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"FooterFunctionIcon\",\n      children: \"\\uDB80\\uDCD6\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"FooterFunctionText\",\n      children: \"\\u5BA2\\u670D\"\n    }), !!shortServiceToast && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"FooterFunctionTips\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"FooterFunctionTipsText\",\n        children: shortServiceToast\n      })\n    })]\n  });\n}\nfunction BookingButton(_ref6) {\n  var selectDateFn = _ref6.selectDateFn;\n  var _ref7 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo,\n        ScheduleInfo = state.ScheduleInfo,\n        bookingRuleInfo = state.bookingRuleInfo,\n        isShowLineSwitchLoading = state.isShowLineSwitchLoading,\n        actionIdSuffix = state.actionIdSuffix,\n        isSelectPreSale = state.isSelectPreSale,\n        pageStatus = state.pageStatus,\n        groupCard = state.groupCard,\n        isPreSale = state.isPreSale,\n        TourGroupInfo = state.TourGroupInfo,\n        newProcessSelectDate = state.newProcessSelectDate,\n        routeInfo = state.routeInfo,\n        priceCalendarData = state.priceCalendarData,\n        BasicInfo = state.BasicInfo,\n        isPremium = state.isPremium,\n        BookInfo = state.BookInfo;\n      return {\n        currentRouteInfo: currentRouteInfo,\n        ScheduleInfo: ScheduleInfo,\n        bookingRuleInfo: bookingRuleInfo,\n        isShowLineSwitchLoading: isShowLineSwitchLoading,\n        actionIdSuffix: actionIdSuffix,\n        isSelectPreSale: isSelectPreSale,\n        pageStatus: pageStatus,\n        groupCard: groupCard,\n        isPreSale: isPreSale,\n        TourGroupInfo: TourGroupInfo,\n        newProcessSelectDate: newProcessSelectDate,\n        routeInfo: routeInfo,\n        priceCalendarData: priceCalendarData,\n        BasicInfo: BasicInfo,\n        isPremium: isPremium,\n        BookInfo: BookInfo\n      };\n    }),\n    currentRouteInfo = _ref7.currentRouteInfo,\n    ScheduleInfo = _ref7.ScheduleInfo,\n    bookingRuleInfo = _ref7.bookingRuleInfo,\n    isShowLineSwitchLoading = _ref7.isShowLineSwitchLoading,\n    actionIdSuffix = _ref7.actionIdSuffix,\n    isSelectPreSale = _ref7.isSelectPreSale,\n    pageStatus = _ref7.pageStatus,\n    groupCard = _ref7.groupCard,\n    isPreSale = _ref7.isPreSale,\n    TourGroupInfo = _ref7.TourGroupInfo,\n    newProcessSelectDate = _ref7.newProcessSelectDate,\n    routeInfo = _ref7.routeInfo,\n    priceCalendarData = _ref7.priceCalendarData,\n    BasicInfo = _ref7.BasicInfo,\n    isPremium = _ref7.isPremium,\n    BookInfo = _ref7.BookInfo;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleGoTravelIntention = _Model$useActions$han.handleGoTravelIntention,\n    handleNextPage = _Model$useActions$han.handleNextPage,\n    handleNextPage_Presale = _Model$useActions$han.handleNextPage_Presale,\n    handleTraceLog = _Model$useActions$han.handleTraceLog;\n  // \n  var isCurLineCanNotBook = false;\n  var scrollTopRef = (0,react.useRef)(0);\n  var handleClickBookingButton = /*#__PURE__*/function () {\n    var _ref8 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n      var curPreSaleProductId, curPreSaleInfo, curLineAllDates;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            // \n\n            if (groupCard && groupCard.cards && groupCard.cards.length) {\n              curPreSaleInfo = groupCard.cards.find(function (item) {\n                return item.productId === pageStatus.activeProductId;\n              });\n              if (isPreSale && curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n                curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n              }\n            }\n\n            // \n            if (!(isPreSale && isSelectPreSale && curPreSaleProductId)) {\n              _context.next = 8;\n              break;\n            }\n            taro_default().showLoading({\n              title: '',\n              mask: true\n            });\n            _context.next = 5;\n            return handleNextPage_Presale();\n          case 5:\n            taro_default().hideLoading();\n            _context.next = 26;\n            break;\n          case 8:\n            //  store  newProcessSelectDate \n            curLineAllDates = currentRouteInfo.dailyMinPrices; // \n            if (!((!curLineAllDates || !curLineAllDates.length) && !isSelectPreSale)) {\n              _context.next = 13;\n              break;\n            }\n            // \n            taro_default().pageScrollTo({\n              selector: '#Taro_Scroll_To_Offset',\n              duration: 300\n            });\n            taro_default().showToast({\n              title: '',\n              duration: 2000,\n              icon: 'none'\n            });\n            return _context.abrupt(\"return\");\n          case 13:\n            if (!newProcessSelectDate) {\n              _context.next = 23;\n              break;\n            }\n            taro_default().showLoading({\n              title: '',\n              mask: true\n            });\n            if (!selectDateFn.current) {\n              _context.next = 20;\n              break;\n            }\n            _context.next = 18;\n            return selectDateFn.current.handleSyncSelectDateStorage(newProcessSelectDate);\n          case 18:\n            _context.next = 20;\n            return handleNextPage();\n          case 20:\n            taro_default().hideLoading();\n            _context.next = 26;\n            break;\n          case 23:\n            // \n            taro_default().pageScrollTo({\n              selector: '#Taro_Scroll_To_Offset',\n              duration: 300\n            });\n            taro_default().showToast({\n              title: '',\n              duration: 2000,\n              icon: 'none'\n            });\n            return _context.abrupt(\"return\");\n          case 26:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function handleClickBookingButton() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  var isShowXRecButtom = false;\n  if (bookingRuleInfo && bookingRuleInfo.bookingRule && bookingRuleInfo.bookingRule.CanBookingSingleResource) {\n    isShowXRecButtom = true;\n  }\n  if (currentRouteInfo && currentRouteInfo.TravelIntroductionInfo && !currentRouteInfo.TravelIntroductionInfo.TravelIntroductionList) {\n    isShowXRecButtom = false;\n  }\n  if (!ScheduleInfo || !ScheduleInfo.HasInventory || !BookInfo.IsBook || BookInfo.IsBookChannelError) {\n    isShowXRecButtom = false;\n  }\n  if (bookingRuleInfo && bookingRuleInfo.bookingRule && bookingRuleInfo.bookingRule.IsHitTheRule) {\n    var BookingRuleType = bookingRuleInfo.bookingRule.BookingRuleType;\n    var hasSchedule = BookingRuleType === 2;\n    if (!hasSchedule) {\n      isShowXRecButtom = false;\n    }\n  }\n\n  // \n  var scheduleDates = currentRouteInfo.scheduleDates;\n  if (pageStatus.isMultiLine && (!scheduleDates || !scheduleDates.length)) {\n    var curPreSaleProductId;\n    if (groupCard && groupCard.cards && groupCard.cards.length) {\n      var curPreSaleInfo = groupCard.cards.find(function (item) {\n        return item.productId === pageStatus.activeProductId;\n      });\n      if (isPreSale && curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n        curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n      }\n    }\n    if (!curPreSaleProductId) {\n      isCurLineCanNotBook = true;\n    }\n  }\n\n  // \n  var curLineAlias = '';\n  if (pageStatus.isMultiLine) {\n    var _ref9 = TourGroupInfo || {},\n      TourGroupProductInfo = _ref9.TourGroupProductInfo;\n    var activeLine = TourGroupProductInfo === null || TourGroupProductInfo === void 0 ? void 0 : TourGroupProductInfo.filter(function (item) {\n      return item.ProductId == pageStatus.activeProductId;\n    })[0];\n    if (activeLine) {\n      var LINE = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'];\n      curLineAlias = LINE[activeLine.SortNumber - 1];\n    }\n  }\n  var _getSystemInfoSync = (0,taro.getSystemInfoSync)(),\n    statusBarHeight = _getSystemInfoSync.statusBarHeight;\n  var menuBtnInfo = (0,taro.getMenuButtonBoundingClientRect)();\n  var fixedHeight = menuBtnInfo.height + statusBarHeight + 55;\n  (0,taro.usePageScroll)(function (_ref10) {\n    var scrollTop = _ref10.scrollTop;\n    scrollTopRef.current = scrollTop;\n  });\n  var handleScrollToEle = (0,react.useCallback)(function (ele) {\n    var element = taro_default().createSelectorQuery().select(ele);\n    if (element) {\n      element.boundingClientRect(function (rect) {\n        if (rect) {\n          var targetTop = scrollTopRef.current + rect.top - fixedHeight;\n          taro_default().pageScrollTo({\n            scrollTop: targetTop,\n            duration: 300,\n            complete: function complete() {}\n          });\n        }\n      }).exec();\n    }\n  }, []);\n\n  //  \n  var _ref11 = routeInfo || {},\n    multiTravelScheduleDates = _ref11.multiTravelScheduleDates;\n  var activeAlias = pageStatus.activeAlias,\n    isMultiTravel = pageStatus.isMultiTravel;\n  if (isMultiTravel && priceCalendarData && multiTravelScheduleDates && !multiTravelScheduleDates[activeAlias] && !multiTravelScheduleDates.priceInTimeLines.includes(activeAlias)) {\n    isCurLineCanNotBook = true;\n    curLineAlias = activeAlias;\n  }\n  if (!scheduleDates) {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"Flex1 loadingButton\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u52A0\\u8F7D\\u4E2D\"\n      })\n    });\n  }\n  if (!BookInfo.IsBook || isCurLineCanNotBook) {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n      className: \"FooterBtn SoldOut\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"FooterBtnText\",\n        children: isCurLineCanNotBook ? \"\".concat(curLineAlias, \"\\u7EBF\\u4E0D\\u53EF\\u8BA2\") : ''\n      })\n    });\n  }\n  isPremium = false;\n  if (isShowXRecButtom) {\n    // \n    var BookingButtonColor = isPremium ? ['#E0B770', '#D1A04B'] : ['#FFB114', '#FF7700'];\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"FooterBtnTwoBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"Flex1\",\n        onClick: function onClick() {\n          handleScrollToEle('#RouteInfo');\n          handleTraceLog('grp_prddtl_bottom_bar_click', {\n            productid: BasicInfo.ProductId\n          });\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: isPremium ? 'FooterBtnContentTwoBigPicPremium' : 'FooterBtnContentTwoBigPic',\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: isPremium ? 'routeTextColorPremium' : 'routeTextColor',\n            children: \"\\u770B\\u6BCF\\u65E5\\u884C\\u7A0B\"\n          })\n        })\n      }), isShowLineSwitchLoading ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"Flex1\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"loadingButton\",\n          style: {\n            backgroundImage: \"linear-gradient(90deg, \".concat(BookingButtonColor[0], \" 0%,\").concat(BookingButtonColor[1], \" 100%)\")\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: '#fff',\n              fontSize: 15,\n              fontWeight: 'bold'\n            },\n            children: \"\\u52A0\\u8F7D\\u4E2D\"\n          })\n        })\n      }) : isCurLineCanNotBook ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"Flex1\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"FooterBtnContentTwo\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            style: {\n              color: '#999',\n              fontSize: 15,\n              fontWeight: 'bold'\n            },\n            children: [curLineAlias, \"\\u7EBF\\u4E0D\\u53EF\\u8BA2\"]\n          })\n        })\n      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"Flex1\",\n        onClick: function onClick() {\n          handleClickBookingButton();\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"FooterBtnContentTwo\",\n          style: {\n            backgroundImage: \"linear-gradient(90deg, \".concat(BookingButtonColor[0], \" 0%,\").concat(BookingButtonColor[1], \" 100%)\")\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: '#fff',\n              fontSize: 15,\n              fontWeight: 'bold'\n            },\n            children: \"\\u7ACB\\u5373\\u9884\\u8BA2\"\n          })\n        })\n      })]\n    });\n  }\n  if (bookingRuleInfo && bookingRuleInfo.bookingRule && bookingRuleInfo.bookingRule.IsHitTheRule) {\n    var bookingRule = bookingRuleInfo.bookingRule;\n    var _BookingRuleType = bookingRule.BookingRuleType;\n    var _hasSchedule = _BookingRuleType === 2;\n    if (!_hasSchedule) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n        className: \"FooterBtn\",\n        onClick: function onClick() {\n          handleGoTravelIntention();\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"FooterBtnText\",\n          children: \"\\u63D0\\u4EA4\\u9700\\u6C42\"\n        })\n      });\n    } else {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n        className: \"FooterBtn\",\n        onClick: function onClick() {\n          handleClickBookingButton();\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"FooterBtnText\",\n          children: \"\\u7ACB\\u5373\\u9884\\u8BA2\"\n        })\n      });\n    }\n  }\n  if (!ScheduleInfo || !ScheduleInfo.HasInventory) {\n    // \n    var _curPreSaleProductId;\n    if (groupCard && groupCard.cards && groupCard.cards.length) {\n      var _curPreSaleInfo = groupCard.cards.find(function (item) {\n        return item.productId === pageStatus.activeProductId;\n      });\n      if (isPreSale && _curPreSaleInfo && _curPreSaleInfo.preSaleProductInfo && _curPreSaleInfo.preSaleProductInfo.canBook) {\n        _curPreSaleProductId = _curPreSaleInfo.preSaleProductInfo.productId;\n      }\n    }\n\n    // \n    if (_curPreSaleProductId) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n        className: \"FooterBtn\",\n        onClick: function onClick(event) {\n          handleClickBookingButton();\n          cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-bottom-order\"));\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"FooterBtnText\",\n          children: \"\\u7ACB\\u5373\\u9884\\u8BA2\"\n        })\n      });\n    } else {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n        className: \"FooterBtn SoldOut\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"FooterBtnText\",\n          children: \"\\u4E0D\\u53EF\\u8BA2\"\n        })\n      });\n    }\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n    className: \"FooterBtn\",\n    onClick: function onClick(event) {\n      handleClickBookingButton();\n      cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-bottom-order\"));\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"FooterBtnText\",\n      children: \"\\u7ACB\\u5373\\u9884\\u8BA2\"\n    })\n  });\n}\nfunction WarningInfo() {\n  var _ref12 = model_Model.useState(function (state) {\n      var bookingRuleInfo = state.bookingRuleInfo;\n      return {\n        bookingRuleInfo: bookingRuleInfo\n      };\n    }),\n    bookingRuleInfo = _ref12.bookingRuleInfo;\n  if (!bookingRuleInfo || !bookingRuleInfo.bookingRule) {\n    return null;\n  }\n  var bookingRule = bookingRuleInfo.bookingRule;\n  var BookingRuleType = bookingRule.BookingRuleType,\n    BookingRuleNotice = bookingRule.BookingRuleNotice,\n    IsHitTheRule = bookingRule.IsHitTheRule;\n  if (!IsHitTheRule) {\n    return null;\n  }\n  var contents = BookingRuleNotice ? BookingRuleNotice.Content : [];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"WarningBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"WarningContentList\",\n      children: contents.map(function (item, index) {\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"WarningItem\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"WarningIcon\",\n            children: \"\\uEF89\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"WarningText\",\n            children: item\n          })]\n        }, index);\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(WarningButton, {\n      BookingRuleType: BookingRuleType\n    })]\n  });\n}\n\n// \nfunction CurBookingScheduleInfo() {\n  var _ref13 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        pageStatus = state.pageStatus,\n        newProcessSelectDate = state.newProcessSelectDate,\n        TourGroupInfo = state.TourGroupInfo,\n        isIPhoneX = state.isIPhoneX,\n        isIOS = state.isIOS,\n        isSelectPreSale = state.isSelectPreSale,\n        currentRouteInfo = state.currentRouteInfo,\n        isPreSale = state.isPreSale,\n        groupCard = state.groupCard;\n      return {\n        BasicInfo: BasicInfo,\n        pageStatus: pageStatus,\n        newProcessSelectDate: newProcessSelectDate,\n        TourGroupInfo: TourGroupInfo,\n        isIPhoneX: isIPhoneX,\n        isIOS: isIOS,\n        isSelectPreSale: isSelectPreSale,\n        currentRouteInfo: currentRouteInfo,\n        isPreSale: isPreSale,\n        groupCard: groupCard\n      };\n    }),\n    BasicInfo = _ref13.BasicInfo,\n    pageStatus = _ref13.pageStatus,\n    newProcessSelectDate = _ref13.newProcessSelectDate,\n    TourGroupInfo = _ref13.TourGroupInfo,\n    isIPhoneX = _ref13.isIPhoneX,\n    isIOS = _ref13.isIOS,\n    isSelectPreSale = _ref13.isSelectPreSale,\n    currentRouteInfo = _ref13.currentRouteInfo,\n    isPreSale = _ref13.isPreSale,\n    groupCard = _ref13.groupCard;\n  var handleTraceLog = model_Model.useActions().handlers.handleTraceLog;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isShow = _useState2[0],\n    setIsShow = _useState2[1];\n  (0,taro.usePageScroll)(function (_ref14) {\n    var scrollTop = _ref14.scrollTop;\n    if (scrollTop > 5) {\n      setIsShow(true);\n    } else {\n      setIsShow(false);\n    }\n  });\n  if (!BasicInfo || !pageStatus) {\n    return null;\n  }\n  if (!isShow) {\n    return null;\n  }\n  var DepartureCityName = BasicInfo.DepartureCityName,\n    TravelDays = BasicInfo.TravelDays;\n  var activeProductId = pageStatus.activeProductId,\n    isMultiLine = pageStatus.isMultiLine,\n    isMultiTravel = pageStatus.isMultiTravel,\n    activeAlias = pageStatus.activeAlias;\n  var lineAlias = '';\n  if (isMultiLine && TourGroupInfo && TourGroupInfo.TourGroupProductInfo) {\n    var curLine = TourGroupInfo.TourGroupProductInfo.find(function (item) {\n      return item.ProductId === activeProductId;\n    });\n    lineAlias = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'][curLine.SortNumber - 1];\n  }\n  if (isMultiTravel) {\n    lineAlias = activeAlias;\n  }\n\n  //  store  newProcessSelectDate \n  var curLineAllDates = currentRouteInfo.dailyMinPrices;\n  if (!curLineAllDates || !curLineAllDates.length) {\n    newProcessSelectDate = '';\n  }\n  var startDateText = '';\n  var endDateText = '';\n  if (newProcessSelectDate) {\n    var startDate = new util_vdate/* default */.Z(newProcessSelectDate).format('YYYYMMDD');\n    var endDate = new util_vdate/* default */.Z(newProcessSelectDate).addDay(TravelDays - 1).format('YYYYMMDD');\n    startDateText = startDate.slice(-9);\n    endDateText = endDate.slice(-9);\n  }\n  var departCityText = \"\".concat(DepartureCityName, \"\\u51FA\\u53D1\");\n  if (departCityText.length > 5) {\n    departCityText = departCityText.slice(0, 4) + '..';\n  }\n\n  // \n  var PreSaleNotice = currentRouteInfo.PreSaleNotice;\n  if (!isPreSale) {\n    isSelectPreSale = false;\n  }\n  if (!PreSaleNotice) {\n    isSelectPreSale = false;\n  }\n  var curPreSaleProductId;\n  if (groupCard && groupCard.cards && groupCard.cards.length) {\n    var curPreSaleInfo = groupCard.cards.find(function (item) {\n      return item.productId === activeProductId;\n    });\n    if (curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n      curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n    }\n  }\n  if (!curPreSaleProductId) {\n    isSelectPreSale = false;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"FooterBookingInfoBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"FooterBookingInfoTitle\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"Color1_Cap2_Bold\",\n          children: \"\\u5DF2\\u9009\"\n        })\n      }), isSelectPreSale ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"FooterBookingInfoContent\",\n        children: [!!lineAlias && /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            className: \"Color1_Cap2\",\n            children: [lineAlias, \"\\u7EBF\"]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"FooterBookingInfoContentLine\"\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"Color1_Cap2\",\n          children: \"\\u9884\\u552E\\xB7\\u8D2D\\u4E70\\u540E\\u9884\\u7EA6\\u65E5\\u671F\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"FooterBookingInfoContentLine\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"Color1_Cap2\",\n          children: departCityText\n        })]\n      }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"FooterBookingInfoContent\",\n        children: [!!lineAlias && /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            className: \"Color1_Cap2\",\n            children: [lineAlias, \"\\u7EBF\"]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"FooterBookingInfoContentLine\"\n          })]\n        }), !!startDateText && !!endDateText && /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            className: \"Color1_Cap2\",\n            children: [startDateText, \"-\", endDateText]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"FooterBookingInfoContentLine\"\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"Color1_Cap2\",\n          children: departCityText\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"FooterBookingInfoButton\",\n        onClick: function onClick() {\n          taro_default().pageScrollTo({\n            selector: '#Taro_Scroll_To_Offset',\n            duration: 300\n          });\n          handleTraceLog('grp_prddtl_revise_click');\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"ColorBlue_Cap2\",\n          children: \"\\u4FEE\\u6539\"\n        })\n      })]\n    })\n  });\n}\nfunction WarningButton(_ref15) {\n  var BookingRuleType = _ref15.BookingRuleType;\n  var _ref16 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo;\n      return {\n        BasicInfo: BasicInfo\n      };\n    }),\n    BasicInfo = _ref16.BasicInfo;\n  var _Model$useActions$han2 = model_Model.useActions().handlers,\n    handleGoSuggestDestination = _Model$useActions$han2.handleGoSuggestDestination,\n    handleGoTravelIntention = _Model$useActions$han2.handleGoTravelIntention;\n  switch (BookingRuleType) {\n    case 2:\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"WarningButton\",\n        onClick: function onClick() {\n          handleGoTravelIntention();\n        },\n        children: \"\\u63D0\\u4EA4\\u9700\\u6C42\"\n      });\n    case 3:\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"WarningButton\",\n        onClick: function onClick() {\n          handleGoSuggestDestination(BasicInfo.DestCityName);\n        },\n        children: \"\\u9884\\u8BA2\\u7701\\u5185\\u6E38\"\n      });\n    default:\n      return null;\n  }\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/EndPage.tsx\n\n\n\nfunction EndPage() {\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"EndPageContainer\"\n  });\n}\n// EXTERNAL MODULE: ./src/pages/vacations/common/pop/PopOptionPlus.tsx\nvar PopOptionPlus = __webpack_require__(94503);\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/ServiceTagMask.tsx\n\n\n\n\n\n\nvar freeRefundTags = [2148, 2147, 2149, 2150, 2151, 2152];\nfunction ServiceTagMask() {\n  var _ref = model_Model.useState(function (state) {\n      var isShowServiceTagMask = state.isShowServiceTagMask,\n        currentRouteInfo = state.currentRouteInfo;\n      return {\n        isShowServiceTagMask: isShowServiceTagMask,\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    isShowServiceTagMask = _ref.isShowServiceTagMask,\n    currentRouteInfo = _ref.currentRouteInfo;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleToggleServiceTagMask = _Model$useActions$han.handleToggleServiceTagMask,\n    handleGoSecurityInfo = _Model$useActions$han.handleGoSecurityInfo,\n    handleGoDefaultInfo = _Model$useActions$han.handleGoDefaultInfo;\n  if (!isShowServiceTagMask) {\n    return null;\n  }\n  var _ref2 = currentRouteInfo || {},\n    TagGroupInfo = _ref2.TagGroupInfo;\n  var displayTags = TagGroupInfo.MoreTagList.slice();\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u670D\\u52A1\\u4FDD\\u969C\",\n    headerBgUrl: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/servicebg.png\",\n    handleClose: function handleClose() {\n      handleToggleServiceTagMask(false);\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PopContentContainer PopMaskContainer\",\n      children: displayTags.map(function (item, index) {\n        var TagName = item.TagName,\n          TagId = item.TagId;\n        if (TagId === 10001001) {\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"ServiceTagItem\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"ServiceTagImgBox\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                className: \"ServiceTagImgPic\",\n                mode: \"widthFix\",\n                src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/securetravel.png\"\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"ServiceTagContentBox\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"ServiceTagContentTitle\",\n                onClick: function onClick() {\n                  handleGoSecurityInfo();\n                },\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ServiceTagContentTitleText\",\n                  children: \"\\u653E\\u5FC3\\u6E38\"\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ServiceTagContentTitleIcon\",\n                  children: \"\\uE944\"\n                })]\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"ServiceTagContentInfo\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ServiceTagContentInfoText\",\n                  children: \"\\u9488\\u5BF9\\u6E38\\u5BA2\\u75DB\\u70B9\\u7684\\u4E00\\u7AD9\\u5F0F\\u89E3\\u51B3\\u65B9\\u6848\\u3002\\u7701\\u5FC3\\u7701\\u529B\\u4E0D\\u82B1\\u94B1\\uFF0C\\u53EA\\u4E3A\\u60A8\\u7684\\u5E78\\u798F\\u65C5\\u7A0B\"\n                })\n              })]\n            })]\n          });\n        }\n        if (freeRefundTags.includes(TagId)) {\n          TagName = TagName + '';\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"ServiceTagItem\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"ServiceTagImgBox\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                className: \"ServiceTagImgPic\",\n                mode: \"widthFix\",\n                src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/securetravel.png\"\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"ServiceTagContentBox\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"ServiceTagContentTitle\",\n                onClick: function onClick() {\n                  handleGoDefaultInfo();\n                },\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ServiceTagContentTitleText\",\n                  children: TagName\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ServiceTagContentTitleIcon\",\n                  children: \"\\uE944\"\n                })]\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"ServiceTagContentInfo\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ServiceTagContentInfoText\",\n                  children: item.Description\n                })\n              })]\n            })]\n          });\n        }\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"ServiceTagItem\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"ServiceTagImgBox\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n              className: \"ServiceTagImgPic\",\n              mode: \"widthFix\",\n              src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/securetravel.png\"\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"ServiceTagContentBox\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"ServiceTagContentTitle\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"ServiceTagContentTitleText\",\n                children: TagName\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"ServiceTagContentInfo\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"ServiceTagContentInfoText\",\n                children: item.Description\n              })\n            })]\n          })]\n        });\n      })\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/PriceTipMask.tsx\n\n\n\n\n\nfunction PriceTipMask() {\n  var _ref = model_Model.useState(function (state) {\n      var isShowPriceTipMask = state.isShowPriceTipMask,\n        currentRouteInfo = state.currentRouteInfo;\n      return {\n        isShowPriceTipMask: isShowPriceTipMask,\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    isShowPriceTipMask = _ref.isShowPriceTipMask,\n    currentRouteInfo = _ref.currentRouteInfo;\n  var handleTogglePriceTipMask = model_Model.useActions().handlers.handleTogglePriceTipMask;\n  var PriceInfo = currentRouteInfo.PriceInfo;\n  if (!isShowPriceTipMask || !PriceInfo || !PriceInfo.MinPriceRemark) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u8D77\\u4EF7\\u8BF4\\u660E\",\n    handleClose: function handleClose() {\n      handleTogglePriceTipMask(false);\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PopMaskContainer MarginX32\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"mp-html\", {\n        content: PriceInfo.MinPriceRemark,\n        copyLink: false,\n        onLinktap: function onLinktap(event) {}\n      })\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/ConsultantWechatBanner.tsx\n\n\n\n\n\nfunction ConsultantSimpleBanner() {\n  var _ref = model_Model.useState(function (state) {\n      var qConfig = state.qConfig,\n        BasicInfo = state.BasicInfo;\n      return {\n        qConfig: qConfig,\n        BasicInfo: BasicInfo\n      };\n    }),\n    qConfig = _ref.qConfig,\n    BasicInfo = _ref.BasicInfo;\n  var handleGoEnterpriseWechatPage = model_Model.useActions().handlers.handleGoEnterpriseWechatPage;\n  if (!BasicInfo) {\n    return null;\n  }\n  var isStudy = BasicInfo.isStudy,\n    IsThemeProduct = BasicInfo.IsThemeProduct,\n    SaleMode = BasicInfo.SaleMode;\n  // \n  if (isStudy || IsThemeProduct) {\n    return null;\n  }\n  if (!['S', 'P'].includes(SaleMode)) {\n    return null;\n  }\n  if (!qConfig || !qConfig.consultant) {\n    return null;\n  }\n  var consultant = qConfig.consultant;\n  var backgroundImg = consultant.backgroundImg,\n    content = consultant.content,\n    title = consultant.title,\n    wechatNumber = consultant.wechatNumber;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"SimpleBanner ModuleBoxWithoutPadding FlexAlignCenter\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      lazyLoad: true,\n      className: \"WeChatBannerBgImage\",\n      src: backgroundImg\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"SimpleBannerCenterBox FlexAlignStart FlexColumn\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"SimpleBannerTitle MarginBottom8\",\n        children: title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"SimpleBannerContent\",\n        children: content\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"SimpleBannerBtn FlexVerticalCenter\",\n      onClick: function onClick() {\n        handleGoEnterpriseWechatPage();\n        // Taro.setClipboardData({ data: String(wechatNumber) })\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"SimpleBannerBtnText\",\n        children: \"\\u7ACB\\u5373\\u6DFB\\u52A0\"\n      })\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/Customize.tsx\n\n\n\n\n\n\nfunction Customize() {\n  var handleGoCustomize = model_Model.useActions().handlers.handleGoCustomize;\n  var _ref = model_Model.useState(function (state) {\n      var pageStatus = state.pageStatus,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        pageStatus: pageStatus,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    pageStatus = _ref.pageStatus,\n    actionIdSuffix = _ref.actionIdSuffix;\n  if (pageStatus.isCruise) {\n    return null;\n  }\n  var backgroundImg = 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/customize.png';\n  var title = '';\n  var content = '';\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"SimpleBanner ModuleBoxWithoutPadding FlexAlignCenter MarginTop24 MarginBottom24\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      lazyLoad: true,\n      className: \"CustomizeBannerBgImage\",\n      src: backgroundImg\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"SimpleBannerCenterBox FlexAlignStart FlexColumn\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"SimpleBannerTitle MarginBottom8\",\n        children: title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"SimpleBannerContent\",\n        children: content\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"SimpleBannerBtn FlexVerticalCenter\",\n      onClick: function onClick(event) {\n        handleGoCustomize();\n        cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-recommend-travel\"));\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"SimpleBannerBtnText\",\n        children: \"\\u7ACB\\u5373\\u5B9A\\u5236\"\n      })\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/FixedButton.tsx\n\n\n\n\n\n\n\nfunction FixedButton() {\n  var _ref = model_Model.useState(function (state) {\n      var isSimpleMode = state.isSimpleMode,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        isSimpleMode: isSimpleMode,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    isSimpleMode = _ref.isSimpleMode,\n    actionIdSuffix = _ref.actionIdSuffix;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isShow = _useState2[0],\n    setIsShow = _useState2[1];\n  var RoutePositionRef = (0,react.useRef)(0);\n  var handleRouteModeChange = model_Model.useActions().handlers.handleRouteModeChange;\n  (0,taro.usePageScroll)(function (_ref2) {\n    var scrollTop = _ref2.scrollTop;\n    var element = taro_default().createSelectorQuery().select('#Route');\n    if (element) {\n      element.boundingClientRect(function (rect) {\n        if (rect) {\n          if (rect.top < 38) {\n            if (!isShow) {\n              setIsShow(true);\n              RoutePositionRef.current = scrollTop;\n            }\n          } else {\n            isShow && setIsShow(false);\n          }\n        }\n      }).exec();\n    }\n  });\n  if (!isShow) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"FixedButtonBox\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"FixedButtonItem\",\n      onClick: function onClick(event) {\n        taro_default().pageScrollTo({\n          scrollTop: 0,\n          duration: 300\n        });\n        cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-mask-back\"));\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        lazyLoad: true,\n        mode: \"widthFix\",\n        className: \"FixedButtonImg\",\n        src: 'https://pic.c-ctrip.com/VacationH5Pic/group_travel/tourcrn/top.png'\n      })\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/common/ZtVirtualList/index.tsx\n/* provided dependency */ var ZtVirtualList_document = __webpack_require__(32180)[\"document\"];\n\n\n\n\n\n\n\n\nvar _this6 = undefined;\n\n\n\n\n/**\n * \n * @param\t{Array}\tlist  \n * @param\t{String}\tlistId  id\n * @param\t{Number}\tsegmentNum  10\n * @param\t{Boolean}\tautoScrollTop  list\n * @param\t{Number}\tscreenNum  2 2 * scrollHeight()\n * @param\t{Object}\tscrollViewProps  scrollView\n * @param\t{Function}\tonBottom  \n * @param\t{Function}\tonComplete  \n * @param\t{Function}\tonRender  Item\n * @param\t{Function}\tonRenderTop  \n * @param\t{Function}\tonRenderBottom  \n * @param\t{Function}\tonGetScrollData  \n */\n\n\nvar VirtialList = /*#__PURE__*/function (_Component) {\n  (0,inherits/* default */.Z)(VirtialList, _Component);\n  var _super = (0,createSuper/* default */.Z)(VirtialList);\n  function VirtialList(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, VirtialList);\n    _this = _super.call(this, props);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"pageHeightArr\", []);\n    // \n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"initList\", []);\n    // \n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"windowHeight\", 0);\n    // \n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"currentPage\", taro_default().getCurrentInstance());\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"observer\", void 0);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"getSystemInformation\", function () {\n      try {\n        var res = (0,taro.getSystemInfoSync)();\n        _this.windowHeight = res.windowHeight;\n      } catch (err) {\n        console.error(\"\\u83B7\\u53D6\\u7CFB\\u7EDF\\u4FE1\\u606F\\u5931\\u8D25\\uFF1A\".concat(err));\n      }\n    });\n    /**\n     * \n     */\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handleComplete\", function () {\n      var onComplete = _this.props.onComplete;\n      _this.setState({\n        isComplete: true\n      }, function () {\n        onComplete === null || onComplete === void 0 || onComplete();\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"renderNext\", function () {\n      var _this$props = _this.props,\n        onBottom = _this$props.onBottom,\n        listType = _this$props.listType,\n        scrollViewProps = _this$props.scrollViewProps,\n        list = _this$props.list;\n      if (listType === \"single\") {\n        var _this$initList$page_i;\n        var page_index = _this.state.wholePageIndex + 1;\n        if (!((_this$initList$page_i = _this.initList[page_index]) !== null && _this$initList$page_i !== void 0 && _this$initList$page_i.length)) {\n          _this.handleComplete();\n          return;\n        }\n        onBottom === null || onBottom === void 0 || onBottom();\n        _this.setState({\n          wholePageIndex: page_index\n        }, function () {\n          var _this$state = _this.state,\n            wholePageIndex = _this$state.wholePageIndex,\n            twoList = _this$state.twoList;\n          twoList[wholePageIndex] = _this.initList[wholePageIndex];\n          _this.setState({\n            twoList: (0,toConsumableArray/* default */.Z)(twoList)\n          }, function () {\n            taro_default().nextTick(function () {\n              _this.setHeight(list);\n            });\n          });\n        });\n      } else if (listType === \"multi\") {\n        var _scrollViewProps$onSc;\n        scrollViewProps === null || scrollViewProps === void 0 || (_scrollViewProps$onSc = scrollViewProps.onScrollToLower) === null || _scrollViewProps$onSc === void 0 || _scrollViewProps$onSc.call(scrollViewProps);\n      }\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"webObserve\", function () {\n      var listId = _this.props.listId;\n      var $targets = ZtVirtualList_document.querySelectorAll(\"#\".concat(listId, \" .zt-main-list>taro-view-core\"));\n      var options = {\n        root: ZtVirtualList_document.querySelector(\"#\".concat(listId)),\n        rootMargin: \"500px 0px\"\n        // threshold: [0.5],\n      };\n\n      _this.observer = new IntersectionObserver(_this.observerCallBack, options);\n      $targets.forEach(function ($item) {\n        var _this$observer;\n        (_this$observer = _this.observer) === null || _this$observer === void 0 || _this$observer.observe($item);\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"observerCallBack\", function (entries) {\n      var twoList = _this.state.twoList;\n      entries.forEach(function (item) {\n        var screenIndex = item.target['data-index'];\n        if (item.isIntersecting) {\n          // \n          twoList[screenIndex] = _this.initList[screenIndex];\n          _this.setState({\n            twoList: (0,toConsumableArray/* default */.Z)(twoList)\n          });\n        } else {\n          // \n          twoList[screenIndex] = {\n            height: _this.pageHeightArr[screenIndex]\n          };\n          _this.setState({\n            twoList: (0,toConsumableArray/* default */.Z)(twoList)\n          });\n        }\n      });\n    });\n    /**\n     * \n     */\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handleObserve\", function () {\n      _this.miniObserve();\n    });\n    /**\n     * \n     */\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"miniObserve\", function () {\n      var _scrollViewProps$styl;\n      var wholePageIndex = _this.state.wholePageIndex;\n      var _this$props2 = _this.props,\n        scrollViewProps = _this$props2.scrollViewProps,\n        listId = _this$props2.listId,\n        _this$props2$screenNu = _this$props2.screenNum,\n        screenNum = _this$props2$screenNu === void 0 ? 2 : _this$props2$screenNu;\n      // scrollView\n      var scrollHeight = (scrollViewProps === null || scrollViewProps === void 0 || (_scrollViewProps$styl = scrollViewProps.style) === null || _scrollViewProps$styl === void 0 ? void 0 : _scrollViewProps$styl.height) || _this.windowHeight;\n      var observer = taro_default().createIntersectionObserver(_this.currentPage.page).relativeToViewport({\n        top: screenNum * scrollHeight,\n        bottom: screenNum * scrollHeight\n      });\n      observer.observe(\"#\".concat(listId, \" .wrap_\").concat(wholePageIndex), function (res) {\n        var _twoList$wholePageInd;\n        var twoList = _this.state.twoList;\n        if ((res === null || res === void 0 ? void 0 : res.intersectionRatio) <= 0) {\n          // \n          twoList[wholePageIndex] = {\n            height: _this.pageHeightArr[wholePageIndex]\n          };\n          _this.setState({\n            twoList: (0,toConsumableArray/* default */.Z)(twoList)\n          });\n        } else if (!((_twoList$wholePageInd = twoList[wholePageIndex]) !== null && _twoList$wholePageInd !== void 0 && _twoList$wholePageInd.length)) {\n          // \n          twoList[wholePageIndex] = _this.initList[wholePageIndex];\n          _this.setState({\n            twoList: (0,toConsumableArray/* default */.Z)(twoList)\n          });\n        }\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handleScroll\", throttle(function (event) {\n      var _this$props$onGetScro, _this$props3;\n      var listId = _this.props.listId;\n      (_this$props$onGetScro = (_this$props3 = _this.props).onGetScrollData) === null || _this$props$onGetScro === void 0 || _this$props$onGetScro.call(_this$props3, (0,defineProperty/* default */.Z)({}, \"\".concat(listId), event));\n    }, 300, 300));\n    _this.state = {\n      wholePageIndex: 0,\n      // \n      twoList: [],\n      // \n      isComplete: false,\n      // \n      innerScrollTop: 0 // \n    };\n    return _this;\n  }\n  (0,createClass/* default */.Z)(VirtialList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props4 = this.props,\n        list = _this$props4.list,\n        listType = _this$props4.listType;\n      this.getSystemInformation();\n      if (listType === \"single\") {\n        this.formatList(list);\n      } else if (listType === \"multi\") {\n        this.formatMultiList(list);\n      }\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this2 = this,\n        _nextProps$list3;\n      var _this$props5 = this.props,\n        list = _this$props5.list,\n        listType = _this$props5.listType,\n        _this$props5$pageNum = _this$props5.pageNum,\n        oldPageNUm = _this$props5$pageNum === void 0 ? 1 : _this$props5$pageNum;\n      if (listType === \"single\") {\n        // innerScrollTop0\n        this.setState({\n          innerScrollTop: 1\n        });\n        if (JSON.stringify(nextProps.list) !== JSON.stringify(list)) {\n          this.pageHeightArr = [];\n          this.setState({\n            wholePageIndex: 0,\n            isComplete: false,\n            twoList: [],\n            innerScrollTop: 0\n          }, function () {\n            var _nextProps$list;\n            if ((_nextProps$list = nextProps.list) !== null && _nextProps$list !== void 0 && _nextProps$list.length) {\n              _this2.formatList(nextProps.list);\n            } else {\n              _this2.handleComplete();\n            }\n          });\n        }\n      } else if (listType === \"multi\") {\n        var _nextProps$pageNum = nextProps.pageNum,\n          pageNum = _nextProps$pageNum === void 0 ? 1 : _nextProps$pageNum;\n        if (JSON.stringify(nextProps.list) !== JSON.stringify(list)) {\n          if (pageNum < oldPageNUm && pageNum == 1) {\n            this.initList = [];\n            this.pageHeightArr = [];\n            this.setState({\n              innerScrollTop: 1\n            });\n            this.setState({\n              wholePageIndex: 0,\n              isComplete: false,\n              twoList: []\n            }, function () {\n              var _nextProps$list2;\n              if ((_nextProps$list2 = nextProps.list) !== null && _nextProps$list2 !== void 0 && _nextProps$list2.length) {\n                _this2.formatMultiList(nextProps.list, pageNum);\n              } else {\n                _this2.handleComplete();\n              }\n            });\n            taro_default().nextTick(function () {\n              _this2.setState({\n                innerScrollTop: 0\n              });\n            });\n          } else {\n            this.formatMultiList(nextProps.list, pageNum);\n          }\n        }\n      }\n      if (!((_nextProps$list3 = nextProps.list) !== null && _nextProps$list3 !== void 0 && _nextProps$list3.length)) {\n        // list\n        this.handleComplete();\n      }\n    }\n  }, {\n    key: \"formatMultiList\",\n    value:\n    /**\n     * listlist\n     * @param\tlist list\n     * @param\tpageNum \n     */\n    function formatMultiList() {\n      var _this3 = this;\n      var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var pageNum = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var twoList = this.state.twoList;\n      if (!(list !== null && list !== void 0 && list.length)) return;\n      this.segmentList(list);\n      twoList[pageNum - 1] = this.initList[pageNum - 1];\n      this.setState({\n        twoList: (0,toConsumableArray/* default */.Z)(twoList),\n        wholePageIndex: pageNum - 1\n      }, function () {\n        taro_default().nextTick(function () {\n          _this3.setHeight(list);\n        });\n      });\n    }\n    /**\n     * listinitList\n     */\n  }, {\n    key: \"segmentList\",\n    value: function segmentList() {\n      var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var _this$props$segmentNu = this.props.segmentNum,\n        segmentNum = _this$props$segmentNu === void 0 ? 10 : _this$props$segmentNu;\n      var arr = [];\n      var _list = [];\n      list.forEach(function (item, index) {\n        arr.push(item);\n        if ((index + 1) % segmentNum === 0) {\n          _list.push(arr);\n          arr = [];\n        }\n      });\n      // segmentNum_list\n      var restList = list.slice(_list.length * segmentNum);\n      if (restList !== null && restList !== void 0 && restList.length) {\n        _list.push(restList);\n        if (_list.length <= 1) {\n          // segmentNum\n          this.handleComplete();\n        }\n      }\n      this.initList = _list;\n    }\n    /**\n     * \n     * @param\tlist \t\n     */\n  }, {\n    key: \"formatList\",\n    value: function formatList() {\n      var _this4 = this;\n      var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.segmentList(list);\n      this.setState({\n        twoList: this.initList.slice(0, 1)\n      }, function () {\n        taro_default().nextTick(function () {\n          _this4.setHeight(list);\n        });\n      });\n    }\n  }, {\n    key: \"setHeight\",\n    value:\n    /**\n     * \n     */\n    function setHeight() {\n      var _this5 = this;\n      var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var wholePageIndex = this.state.wholePageIndex;\n      var listId = this.props.listId;\n      var query = (0,taro.createSelectorQuery)();\n      query.select(\"#\".concat(listId, \" .wrap_\").concat(wholePageIndex)).boundingClientRect();\n      query.exec(function (res) {\n        // H5\n        if (list !== null && list !== void 0 && list.length) {\n          var _res$;\n          _this5.pageHeightArr.push(res === null || res === void 0 || (_res$ = res[0]) === null || _res$ === void 0 ? void 0 : _res$.height);\n        }\n      });\n      this.handleObserve();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n        twoList = _this$state2.twoList,\n        isComplete = _this$state2.isComplete,\n        innerScrollTop = _this$state2.innerScrollTop;\n      var _this$props6 = this.props,\n        _this$props6$segmentN = _this$props6.segmentNum,\n        segmentNum = _this$props6$segmentN === void 0 ? 10 : _this$props6$segmentN,\n        scrollViewProps = _this$props6.scrollViewProps,\n        onRenderTop = _this$props6.onRenderTop,\n        onRenderBottom = _this$props6.onRenderBottom,\n        onRender = _this$props6.onRender,\n        onRenderLoad = _this$props6.onRenderLoad,\n        listId = _this$props6.listId,\n        className = _this$props6.className,\n        autoScrollTop = _this$props6.autoScrollTop;\n      var scrollStyle = {\n        height: '100%'\n      };\n      var _scrollViewProps = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, scrollViewProps), {}, {\n        scrollTop: autoScrollTop ? innerScrollTop === 0 ? 0 : \"\" : scrollViewProps === null || scrollViewProps === void 0 ? void 0 : scrollViewProps.scrollTop\n      });\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.ScrollView, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({\n        scrollY: true,\n        id: listId,\n        style: scrollStyle,\n        onScrollToLower: this.renderNext,\n        lowerThreshold: 250,\n        className: \"zt-virtual-list-container \".concat(className),\n        onScroll: this.handleScroll\n      }, _scrollViewProps), {}, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Block, {\n          children: onRenderTop === null || onRenderTop === void 0 ? void 0 : onRenderTop()\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"zt-main-list\",\n          children: twoList === null || twoList === void 0 ? void 0 : twoList.map(function (item, pageIndex) {\n            return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              \"data-index\": pageIndex,\n              className: \"wrap_\".concat(pageIndex),\n              children: (item === null || item === void 0 ? void 0 : item.length) > 0 ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Block, {\n                children: item.map(function (el, index) {\n                  return onRender === null || onRender === void 0 ? void 0 : onRender(el, pageIndex * segmentNum + index, pageIndex);\n                })\n              }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                style: {\n                  'height': \"\".concat(item === null || item === void 0 ? void 0 : item.height, \"px\")\n                }\n              })\n            }, pageIndex);\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Block, {\n          children: (onRenderLoad === null || onRenderLoad === void 0 ? void 0 : onRenderLoad()) && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"zt-loading-text\",\n            children: onRenderLoad()\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Block, {\n          children: isComplete && (onRenderBottom === null || onRenderBottom === void 0 ? void 0 : onRenderBottom())\n        })]\n      }));\n    }\n  }]);\n  return VirtialList;\n}(react.Component);\n(0,defineProperty/* default */.Z)(VirtialList, \"defaultProps\", void 0);\n\nVirtialList.defaultProps = {\n  list: [],\n  pageNum: 1,\n  listId: \"zt-virtial-list\",\n  listType: 'single',\n  segmentNum: 10,\n  screenNum: 2,\n  scrollViewProps: {},\n  className: \"\",\n  autoScrollTop: true,\n  onRender: function render() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {});\n  }\n};\nvar throttle = function throttle(fn, delay, mustRunDelay) {\n  var timer;\n  var startTime;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var curTime = Date.now();\n    clearTimeout(timer);\n    if (!startTime) {\n      startTime = curTime;\n    }\n    if (curTime - startTime >= mustRunDelay) {\n      fn.apply(_this6, args);\n      startTime = curTime;\n    } else {\n      timer = setTimeout(function () {\n        fn.apply(this, args);\n      }, delay);\n    }\n  };\n};\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/CitySelectMask.tsx\n\n\n\n\n\n\n\n\nfunction CitySelectMask() {\n  var _ref = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo,\n        pageStatus = state.pageStatus,\n        BasicInfo = state.BasicInfo,\n        isShowCitySelectMask = state.isShowCitySelectMask,\n        citySelectTargetProductId = state.citySelectTargetProductId;\n      return {\n        currentRouteInfo: currentRouteInfo,\n        pageStatus: pageStatus,\n        BasicInfo: BasicInfo,\n        isShowCitySelectMask: isShowCitySelectMask,\n        citySelectTargetProductId: citySelectTargetProductId\n      };\n    }),\n    currentRouteInfo = _ref.currentRouteInfo,\n    pageStatus = _ref.pageStatus,\n    BasicInfo = _ref.BasicInfo,\n    isShowCitySelectMask = _ref.isShowCitySelectMask,\n    citySelectTargetProductId = _ref.citySelectTargetProductId;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleToggleCitySelectMask = _Model$useActions$han.handleToggleCitySelectMask,\n    handleChangeDepartCity = _Model$useActions$han.handleChangeDepartCity;\n  var _useState = (0,react.useState)(''),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    cityText = _useState2[0],\n    setCityText = _useState2[1];\n  if (!isShowCitySelectMask) {\n    return null;\n  }\n  var PriceInfo = currentRouteInfo.PriceInfo;\n  var DepartureCityPriceList = PriceInfo.DepartureCityPriceList || [];\n\n  //  21 (7 )\n  var shouldShowSearchBox = DepartureCityPriceList.length > 21;\n  var displayDepartureCityPriceList = cityText ? DepartureCityPriceList.filter(function (item) {\n    var DepartureCityName = item.DepartureCityName,\n      DepartureCityPy = item.DepartureCityPy;\n    return DepartureCityName.includes(cityText) || DepartureCityPy.toLowerCase().includes(cityText.toLowerCase());\n  }) : DepartureCityPriceList;\n\n  // \n  var firstLetterList = [];\n  var CityGroupByFirstLetter = [];\n  displayDepartureCityPriceList.forEach(function (city) {\n    var _city$DepartureCityPy;\n    var firstLetter = city === null || city === void 0 || (_city$DepartureCityPy = city.DepartureCityPy[0]) === null || _city$DepartureCityPy === void 0 ? void 0 : _city$DepartureCityPy.toUpperCase();\n    if (firstLetterList.includes(firstLetter)) {\n      var _CityGroupByFirstLett;\n      var index = firstLetterList.indexOf(firstLetter);\n      (_CityGroupByFirstLett = CityGroupByFirstLetter[index]) === null || _CityGroupByFirstLett === void 0 || _CityGroupByFirstLett.data[0].push(city);\n    } else {\n      firstLetterList.push(firstLetter);\n      CityGroupByFirstLetter.push({\n        key: firstLetter,\n        data: [[city]]\n      });\n    }\n  });\n  CityGroupByFirstLetter = CityGroupByFirstLetter.slice().sort();\n  var PreferentialPriceDetail = PriceInfo.PreferentialPriceDetail;\n  // UI\n  var isShowDiscountPriceInfo = false;\n  // \n  var totalDiscountPrice = 0;\n  if (PreferentialPriceDetail) {\n    var PreferentialAmountDetails = PreferentialPriceDetail.PreferentialAmountDetails,\n      PreferentialPriceItems = PreferentialPriceDetail.PreferentialPriceItems;\n    if (PreferentialPriceItems) {\n      totalDiscountPrice = PreferentialAmountDetails && PreferentialAmountDetails[0] && PreferentialAmountDetails[0].PreferentialAmount;\n      isShowDiscountPriceInfo = totalDiscountPrice > 0;\n    }\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u8BF7\\u9009\\u62E9\\u51FA\\u53D1\\u5730\",\n    handleClose: function handleClose() {\n      handleToggleCitySelectMask(false);\n    },\n    isScrollView: false,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PopMaskContainer CitySelectContainer\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(VirtialList, {\n        list: CityGroupByFirstLetter,\n        onRender: function onRender(group, index, segmentIndex) {\n          var key = group.key,\n            data = group.data;\n          var cityList = data[0];\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"CitySelectGroup\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"CitySelectGroupLetter\",\n              children: key\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"CitySelectCityList\",\n              children: cityList.map(function (city, cityIndex) {\n                var DepartureCityId = city.DepartureCityId,\n                  DepartureCityName = city.DepartureCityName,\n                  MinPrice = city.MinPrice,\n                  ProductIdList = city.ProductIdList;\n                var activeProductId = pageStatus.activeProductId;\n                var targetProductId = citySelectTargetProductId || activeProductId;\n                var isAvailable = ProductIdList.includes(targetProductId);\n                var isCurDepartCity = BasicInfo.DepartureId === DepartureCityId;\n                if (isAvailable) {\n                  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                    className: isCurDepartCity ? 'CitySelectCityBg cur' : 'CitySelectCityBg',\n                    onClick: function onClick() {\n                      handleChangeDepartCity(DepartureCityId, targetProductId);\n                      handleToggleCitySelectMask(false);\n                    },\n                    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                      className: \"CitySelectCityBox\",\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                        className: \"CitySelectCityText\",\n                        children: DepartureCityName\n                      }),  false && /*#__PURE__*/0]\n                    }, cityIndex), isCurDepartCity && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                      className: \"CitySelectCurIcon\",\n                      mode: \"widthFix\",\n                      src: \"https://pic.c-ctrip.com/VacationH5Pic/group_travel/tourcrn/dui.png\"\n                    })]\n                  });\n                } else {\n                  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"CitySelectCityBg\",\n                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                      className: \"CitySelectCityBox\",\n                      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                        className: \"CitySelectCityText unavailable\",\n                        children: DepartureCityName\n                      })\n                    }, cityIndex)\n                  });\n                }\n              })\n            })]\n          }, index);\n        },\n        scrollViewProps: {\n          style: {\n            maxHeight: \"calc(94vh - 110px)\"\n          }\n        }\n      })\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/UrgentMask.tsx\n\n\n\n\nfunction UrgentMask() {\n  var _ref = model_Model.useState(function (state) {\n      var isShowUrgentMask = state.isShowUrgentMask,\n        emotionalCues = state.emotionalCues,\n        BasicInfo = state.BasicInfo;\n      return {\n        isShowUrgentMask: isShowUrgentMask,\n        emotionalCues: emotionalCues,\n        BasicInfo: BasicInfo\n      };\n    }),\n    isShowUrgentMask = _ref.isShowUrgentMask,\n    emotionalCues = _ref.emotionalCues,\n    BasicInfo = _ref.BasicInfo;\n  var handleToggleUrgentMask = model_Model.useActions().handlers.handleToggleUrgentMask;\n\n  // if (!isShowUrgentMask) {\n  //     return null\n  // }\n\n  var urgentInfo = emotionalCues.urgentInfo,\n    riskCityPolicy = emotionalCues.riskCityPolicy;\n  var formatData = formatRiskData({\n    EmotionalCues: urgentInfo,\n    riskCityPolicy: riskCityPolicy,\n    BasicInfo: BasicInfo\n  });\n  console.log('formatData', emotionalCues, formatData);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(commonModule_prod.UrgentInfo, {\n    riskPolicyInfo: formatData,\n    isShow: !!isShowUrgentMask,\n    onClose: function onClose() {\n      handleToggleUrgentMask(false);\n    }\n  });\n}\nvar formatRiskData = function formatRiskData(_ref2) {\n  var EmotionalCues = _ref2.EmotionalCues,\n    riskCityPolicy = _ref2.riskCityPolicy,\n    BasicInfo = _ref2.BasicInfo;\n  var isOverSea = BasicInfo.IsOverSea || BasicInfo.IsHkMcTw;\n  var result = [];\n\n  // \n  if (EmotionalCues && EmotionalCues.length) {\n    var policies = [];\n    EmotionalCues.forEach(function (item) {\n      var Title = item.Title,\n        RichContent = item.RichContent,\n        Weight = item.Weight;\n      policies.push({\n        title: Title,\n        policyText: RichContent,\n        urgencyLevel: Weight\n      });\n    });\n    result.push({\n      tabTitle: '',\n      tabType: '0',\n      policies: policies\n    });\n  }\n  if (riskCityPolicy) {\n    var startCityPolicy = riskCityPolicy.startCityPolicy,\n      endCityPolicy = riskCityPolicy.endCityPolicy,\n      startCityRevPolicy = riskCityPolicy.startCityRevPolicy,\n      endCityRevPolicy = riskCityPolicy.endCityRevPolicy;\n\n    // \n    if (!startCityPolicy || !startCityPolicy[0]) {\n      startCityPolicy = [{}];\n    }\n    if (!endCityPolicy || !endCityPolicy[0]) {\n      endCityPolicy = [{}];\n    }\n    if (!endCityRevPolicy || !endCityRevPolicy[0]) {\n      endCityRevPolicy = [{}];\n    }\n    if (!startCityRevPolicy || !startCityRevPolicy[0]) {\n      startCityRevPolicy = [{}];\n    }\n    var tab1Info;\n    var tab2Info;\n\n    // \n    if (startCityPolicy[0].srcId === startCityRevPolicy[0].srcId) {\n      startCityRevPolicy[0] = {};\n    }\n    if (endCityPolicy[0].srcId === endCityRevPolicy[0].srcId) {\n      endCityRevPolicy[0] = {};\n    }\n\n    // \n    var _startCityPolicy$ = startCityPolicy[0],\n      levelTagName_s = _startCityPolicy$.levelTagName,\n      leavePolicy_s = _startCityPolicy$.leavePolicy,\n      phoneInfos_s = _startCityPolicy$.phoneInfos,\n      levelTag_s = _startCityPolicy$.levelTag,\n      city_s = _startCityPolicy$.city,\n      ctripCreateTime_s = _startCityPolicy$.ctripCreateTime,\n      tags_s = _startCityPolicy$.tags,\n      title_s = _startCityPolicy$.title;\n\n    // \n    var _endCityRevPolicy$ = endCityRevPolicy[0],\n      comePolicy_s_r = _endCityRevPolicy$.policy,\n      title_s_r = _endCityRevPolicy$.title,\n      city_s_r = _endCityRevPolicy$.city,\n      tags_s_r = _endCityRevPolicy$.tags,\n      ctripCreateTime_s_r = _endCityRevPolicy$.ctripCreateTime,\n      levelTag_s_r = _endCityRevPolicy$.levelTag,\n      levelTagName_s_r = _endCityRevPolicy$.levelTagName;\n\n    // \n    var _endCityPolicy$ = endCityPolicy[0],\n      levelTagName_e = _endCityPolicy$.levelTagName,\n      phoneInfos_e = _endCityPolicy$.phoneInfos,\n      levelTag_e = _endCityPolicy$.levelTag,\n      city_e = _endCityPolicy$.city,\n      comePolicy_e = _endCityPolicy$.comePolicy,\n      ctripCreateTime_e = _endCityPolicy$.ctripCreateTime,\n      tags_e = _endCityPolicy$.tags,\n      title_e = _endCityPolicy$.title;\n\n    // \n    var _startCityRevPolicy$ = startCityRevPolicy[0],\n      leavePolicy_e_r = _startCityRevPolicy$.policy,\n      title_e_r = _startCityRevPolicy$.title,\n      city_e_r = _startCityRevPolicy$.city,\n      tags_e_r = _startCityRevPolicy$.tags,\n      ctripCreateTime_e_r = _startCityRevPolicy$.ctripCreateTime,\n      levelTag_e_r = _startCityRevPolicy$.levelTag,\n      levelTagName_e_r = _startCityRevPolicy$.levelTagName;\n\n    //  -   - \n    // title_s: \n    // title_e: \n    // title_e_r: \n    // title_s_r: \n\n    // \n    if (isOverSea) {\n      levelTag_s = '';\n      levelTag_e = '';\n    }\n\n    // \n    if (city_s === city_e) {\n      if (leavePolicy_s) {\n        // \n        var _policies = [{\n          title: title_s,\n          // urgencyLevel: levelTag_s,\n          subTitle: levelTagName_s,\n          policyText: leavePolicy_s,\n          phoneTitle: \"\".concat(city_s, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n          phoneInfos: phoneInfos_s,\n          ctripCreateTime: ctripCreateTime_s,\n          tags: tags_s\n        }];\n        tab1Info = {\n          tabTitle: \"\\u51FA\".concat(city_s),\n          tabType: '1',\n          policies: _policies\n        };\n      }\n      if (comePolicy_e) {\n        // \n        var _policies2 = [{\n          title: title_e,\n          // urgencyLevel: levelTag_e,\n          subTitle: levelTagName_e,\n          policyText: comePolicy_e,\n          phoneTitle: \"\".concat(city_e, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n          phoneInfos: phoneInfos_e,\n          ctripCreateTime: ctripCreateTime_e,\n          tags: tags_e\n        }];\n        tab2Info = {\n          tabTitle: \"\\u8FDB\".concat(city_e),\n          tabType: '1',\n          policies: _policies2\n        };\n      }\n    } else {\n      if (leavePolicy_s) {\n        // \n        if (comePolicy_e) {\n          // \n          var _policies3 = [{\n            title: title_s,\n            // urgencyLevel: levelTag_s,\n            subTitle: levelTagName_s,\n            policyText: leavePolicy_s,\n            phoneTitle: \"\".concat(city_s, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n            phoneInfos: phoneInfos_s,\n            ctripCreateTime: ctripCreateTime_s,\n            tags: tags_s\n          }, {\n            title: title_e,\n            // urgencyLevel: levelTag_e,\n            subTitle: levelTagName_e,\n            policyText: comePolicy_e,\n            phoneTitle: \"\".concat(city_e, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n            phoneInfos: phoneInfos_e,\n            ctripCreateTime: ctripCreateTime_e,\n            tags: tags_e\n          }];\n          tab1Info = {\n            tabTitle: \"\".concat(city_s, \"-\").concat(city_e),\n            tabType: '1',\n            policies: _policies3\n          };\n        } else {\n          // \n          var _policies4 = [{\n            title: title_s,\n            // urgencyLevel: levelTag_s,\n            subTitle: levelTagName_s,\n            policyText: leavePolicy_s,\n            phoneTitle: \"\".concat(city_s, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n            phoneInfos: phoneInfos_s,\n            ctripCreateTime: ctripCreateTime_s,\n            tags: tags_s\n          }];\n          tab1Info = {\n            tabTitle: \"\\u51FA\".concat(city_s),\n            tabType: '1',\n            policies: _policies4\n          };\n        }\n      } else {\n        // \n        if (comePolicy_e) {\n          // \n          var _policies5 = [{\n            title: title_e,\n            // urgencyLevel: levelTag_e,\n            subTitle: levelTagName_e,\n            policyText: comePolicy_e,\n            phoneTitle: \"\".concat(city_e, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n            phoneInfos: phoneInfos_e,\n            ctripCreateTime: ctripCreateTime_e,\n            tags: tags_e\n          }];\n          tab1Info = {\n            tabTitle: \"\\u8FDB\".concat(city_e),\n            tabType: '1',\n            policies: _policies5\n          };\n        } else {\n          // \n        }\n      }\n      if (leavePolicy_e_r) {\n        // \n        if (comePolicy_s_r) {\n          // \n          var _policies6 = [{\n            title: title_e_r,\n            // urgencyLevel: levelTag_e_r,\n            subTitle: levelTagName_e_r,\n            policyText: leavePolicy_e_r,\n            phoneTitle: \"\".concat(city_e_r, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n            // phoneInfos: phoneInfos_e,\n            ctripCreateTime: ctripCreateTime_e_r,\n            tags: tags_e_r\n          }, {\n            title: title_s_r,\n            // urgencyLevel: levelTag_s_r,\n            subTitle: levelTagName_s_r,\n            policyText: comePolicy_s_r,\n            phoneTitle: \"\".concat(city_s_r, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n            // phoneInfos: phoneInfos_s,\n            ctripCreateTime: ctripCreateTime_s_r,\n            tags: tags_s_r\n          }];\n          tab2Info = {\n            tabTitle: \"\".concat(city_e_r, \"-\").concat(city_s_r),\n            tabType: '1',\n            policies: _policies6\n          };\n        } else {\n          // \n          var _policies7 = [{\n            title: title_e_r,\n            // urgencyLevel: levelTag_e_r,\n            subTitle: levelTagName_e_r,\n            policyText: leavePolicy_e_r,\n            phoneTitle: \"\".concat(city_e_r, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n            // phoneInfos: phoneInfos_e,\n            ctripCreateTime: ctripCreateTime_e_r,\n            tags: tags_e_r\n          }];\n          tab2Info = {\n            tabTitle: \"\\u51FA\".concat(city_e_r),\n            tabType: '1',\n            policies: _policies7\n          };\n        }\n      } else {\n        // \n        if (comePolicy_s_r) {\n          // \n          var _policies8 = [{\n            title: title_s_r,\n            // urgencyLevel: levelTag_s_r,\n            subTitle: levelTagName_s_r,\n            policyText: comePolicy_s_r,\n            phoneTitle: \"\".concat(city_s_r, \"\\u75AB\\u60C5\\u54A8\\u8BE2\\u7535\\u8BDD\"),\n            // phoneInfos: phoneInfos_s,\n            ctripCreateTime: ctripCreateTime_s_r,\n            tags: tags_s_r\n          }];\n          tab2Info = {\n            tabTitle: \"\\u8FDB\".concat(city_s_r),\n            tabType: '1',\n            policies: _policies8\n          };\n        } else {\n          // \n        }\n      }\n    }\n    tab1Info && result.push(tab1Info);\n    tab2Info && result.push(tab2Info);\n  }\n\n  // console.log(result)\n  return result;\n};\n// EXTERNAL MODULE: ./src/pages/vacations/detail/skeleton.png\nvar skeleton = __webpack_require__(8700);\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/CustomerServiceMask.tsx\n\n\n\n\n\n\n\nfunction CustomerServiceMask() {\n  var _ref = model_Model.useState(function (state) {\n      var isShowCustomerServiceMask = state.isShowCustomerServiceMask,\n        imEntryInfo = state.imEntryInfo,\n        BasicInfo = state.BasicInfo;\n      return {\n        isShowCustomerServiceMask: isShowCustomerServiceMask,\n        imEntryInfo: imEntryInfo,\n        BasicInfo: BasicInfo\n      };\n    }),\n    isShowCustomerServiceMask = _ref.isShowCustomerServiceMask,\n    imEntryInfo = _ref.imEntryInfo,\n    BasicInfo = _ref.BasicInfo;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleToggleCustomerServiceMask = _Model$useActions$han.handleToggleCustomerServiceMask,\n    handleGoIM = _Model$useActions$han.handleGoIM;\n  if (!isShowCustomerServiceMask || !imEntryInfo) {\n    return null;\n  }\n  var imInfo = imEntryInfo.imInfo,\n    serviceInfo = imEntryInfo.serviceInfo;\n  var mobileServiceTime = imInfo.mobileServiceTime,\n    afterSaleServiceTime = imInfo.afterSaleServiceTime,\n    mobile = imInfo.mobile,\n    mobileCode = imInfo.mobileCode,\n    afterSaleTel = imInfo.afterSaleTel,\n    afterSaleExtTel = imInfo.afterSaleExtTel,\n    imSwitch = imInfo.imSwitch,\n    inquiry = imInfo.inquiry,\n    imServiceTime = imInfo.imServiceTime;\n\n  // \n  var beforeSalePhoneNumber = mobile;\n  if (mobileCode) {\n    beforeSalePhoneNumber = \"\".concat(mobile, \",\").concat(mobileCode);\n  }\n  beforeSalePhoneNumber = String(beforeSalePhoneNumber).split('-').join(''); // \n\n  // \n  var afterSalePhoneNumber = afterSaleTel;\n  if (mobileCode) {\n    afterSalePhoneNumber = \"\".concat(afterSaleTel, \",\").concat(afterSaleExtTel);\n  }\n  afterSalePhoneNumber = String(afterSalePhoneNumber).split('-').join(''); // \n\n  // \n  var servicePersonText = '';\n  if (serviceInfo && serviceInfo.shortServiceToast && serviceInfo.shortServiceToast === '') {\n    servicePersonText = '';\n  }\n  var imDescription = BasicInfo.isCruise ? \"\".concat(servicePersonText, \"\\u4E13\\u5458\\u63D0\\u4F9B\\u5728\\u7EBF\\u670D\\u52A1\\uFF0C\\u975E\\u5DE5\\u4F5C\\u65F6\\u95F4\\u53EF\\u62E8\\u6253\\u7535\\u8BDD\\u8054\\u7CFB\\u6211\\u4EEC\") : \"\".concat(servicePersonText, \"\\u4E13\\u5458\\u63D0\\u4F9B\\u5728\\u7EBF\\u670D\\u52A1\\uFF0C\\u89E3\\u7B54\\u5EA6\\u5047\\u76F8\\u5173\\u95EE\\u9898\");\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u5BA2\\u670D\",\n    handleClose: function handleClose() {\n      handleToggleCustomerServiceMask(false);\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"PopMaskContainer CustomerServiceContainer\",\n      children: [imSwitch && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"CustomerServiceType\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"CustomerServiceTypeTitle\",\n          children: \"\\u5728\\u7EBF\\u5BA2\\u670D\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"CustomerServiceInfo\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"CustomerServiceContent\",\n            children: [!!imServiceTime && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              className: \"CustomerServiceText\",\n              children: [\"\\u670D\\u52A1\\u65F6\\u95F4 \", imServiceTime]\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"CustomerServiceText\",\n              children: imDescription\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"CustomerServiceIcon\",\n            onClick: function onClick() {\n              handleGoIM();\n            },\n            children: \"\\uEE3B\"\n          })]\n        })]\n      }), inquiry && (!!beforeSalePhoneNumber || !!afterSalePhoneNumber) && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"CustomerServiceType\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"CustomerServiceTypeTitle\",\n          children: \"\\u7535\\u8BDD\\u5BA2\\u670D\"\n        }), !!mobile && !!beforeSalePhoneNumber && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"CustomerServiceInfo\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"CustomerServiceContent\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              className: \"CustomerServiceText\",\n              children: [\"\\u552E\\u524D\\u54A8\\u8BE2 \\u670D\\u52A1\\u65F6\\u95F4 \", mobileServiceTime]\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              className: \"CustomerServiceText\",\n              children: [\"\\u7535\\u8BDD\\u63A5\\u901A\\u540E\\uFF0C\\u8BF7\\u544A\\u77E5\\u5BA2\\u670D\\u4EA7\\u54C1\\u7F16\\u53F7:\", BasicInfo.ProductId]\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"CustomerServiceIcon\",\n            onClick: function onClick() {\n              taro_default().makePhoneCall({\n                phoneNumber: beforeSalePhoneNumber\n              });\n            },\n            children: \"\\uE952\"\n          })]\n        }), !!afterSaleTel && !!afterSalePhoneNumber && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"CustomerServiceInfo\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"CustomerServiceContent\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              className: \"CustomerServiceText\",\n              children: [\"\\u552E\\u540E\\u54A8\\u8BE2 \\u670D\\u52A1\\u65F6\\u95F4 \", afterSaleServiceTime]\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"CustomerServiceText\",\n              children: \"\\u5982\\u60A8\\u8BA2\\u5355\\u5DF2\\u63D0\\u4EA4\\uFF0C\\u53EF\\u8054\\u7CFB\\u552E\\u540E\\u5BA2\\u670D\\u67E5\\u8BE2\\u53CA\\u4FEE\\u6539\"\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"CustomerServiceIcon\",\n            onClick: function onClick() {\n              taro_default().makePhoneCall({\n                phoneNumber: afterSalePhoneNumber\n              });\n            },\n            children: \"\\uE952\"\n          })]\n        })]\n      })]\n    })\n  });\n}\n// EXTERNAL MODULE: ./src/pages/vacations/shared/constants/index.ts\nvar constants = __webpack_require__(63906);\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/SelfFundMask.tsx\n\n\n\n\n\n\nfunction SelfFundMask() {\n  var _ref = model_Model.useState(function (state) {\n      var isShowSelfFundMask = state.isShowSelfFundMask,\n        SelfFundedMaskInfo = state.SelfFundedMaskInfo;\n      return {\n        isShowSelfFundMask: isShowSelfFundMask,\n        SelfFundedMaskInfo: SelfFundedMaskInfo\n      };\n    }),\n    isShowSelfFundMask = _ref.isShowSelfFundMask,\n    SelfFundedMaskInfo = _ref.SelfFundedMaskInfo;\n  var handleHideSelfFundMask = model_Model.useActions().handlers.handleHideSelfFundMask;\n  if (!isShowSelfFundMask) {\n    return null;\n  }\n  var ScenicName = SelfFundedMaskInfo.ScenicName,\n    SelfFundedActivities = SelfFundedMaskInfo.SelfFundedActivities;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u81EA\\u8D39\\u8BE6\\u60C5\",\n    subtitle: ScenicName,\n    handleClose: function handleClose() {\n      handleHideSelfFundMask(false);\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PopMaskContainer MarginX32\",\n      children: SelfFundedActivities.map(function (item, index) {\n        var ActivityName = item.ActivityName,\n          ActivityDesc = item.ActivityDesc,\n          Currency = item.Currency,\n          Price = item.Price,\n          UseListingPrice = item.UseListingPrice;\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"ScenicItem\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"ScenicTitle\",\n            children: ActivityName\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"ScenicContent\",\n            children: ActivityDesc\n          }), (Price > 0 || UseListingPrice) && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"ScenicContent\",\n            children: [\"\\u53C2\\u8003\\u4EF7\\u683C\\uFF1A\", UseListingPrice ? '' : \"\".concat(Currency).concat(Price)]\n          })]\n        }, index);\n      })\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/ScenicExcludingFeeMask.tsx\n\n\n\n\n\n\nfunction ScenicExcludingFeeMask() {\n  var _ref = model_Model.useState(function (state) {\n      var isShowScenicExcludingFeeMask = state.isShowScenicExcludingFeeMask,\n        currentRouteInfo = state.currentRouteInfo;\n      return {\n        isShowScenicExcludingFeeMask: isShowScenicExcludingFeeMask,\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    isShowScenicExcludingFeeMask = _ref.isShowScenicExcludingFeeMask,\n    currentRouteInfo = _ref.currentRouteInfo;\n  var handleToggleScenicExcludingFeeMask = model_Model.useActions().handlers.handleToggleScenicExcludingFeeMask;\n  var TravelIntroductionInfo = currentRouteInfo.TravelIntroductionInfo;\n  if (!TravelIntroductionInfo || !TravelIntroductionInfo.TravelIntroductionList) {\n    return null;\n  }\n  var _ref2 = (TravelIntroductionInfo.TravelIntroductionList || {})[0] || {},\n    TravelOverviewInfo = _ref2.TravelOverviewInfo;\n  var _ref3 = TravelOverviewInfo || {},\n    ScenicSportSelfActiveList = _ref3.ScenicSportSelfActiveList;\n  if (!isShowScenicExcludingFeeMask) {\n    return null;\n  }\n  if (!ScenicSportSelfActiveList || !ScenicSportSelfActiveList.length) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u666F\\u70B9/\\u573A\\u9986\\u6536\\u8D39\\u4FE1\\u606F\",\n    handleClose: function handleClose() {\n      handleToggleScenicExcludingFeeMask(false);\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PopMaskContainer ScenicExcludingFeeBox\",\n      children: ScenicSportSelfActiveList.map(function (scenic, index) {\n        var PoiName = scenic.PoiName,\n          SelfFundedActivities = scenic.SelfFundedActivities;\n        if (!PoiName || !SelfFundedActivities || !SelfFundedActivities.length) {\n          return null;\n        }\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"ExcludingFeeItem\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"ExcludingFeeItemTitle\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"ExcludingFeeItemTitleText\",\n              children: PoiName\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"ExcludingFeeItemTable\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"ExcludingFeeItemTableHeader\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"ExcludingFeeItemTableHeader1\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ExcludingFeeItemTableHeaderText\",\n                  children: \"\\u6536\\u8D39\\u7C7B\\u578B\"\n                })\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"ExcludingFeeItemTableHeader2\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ExcludingFeeItemTableHeaderText\",\n                  children: \"\\u53C2\\u8003\\u4EF7\\u683C\"\n                })\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"ExcludingFeeItemTableHeader3\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ExcludingFeeItemTableHeaderText\",\n                  children: \"\\u6536\\u8D39\\u8BE6\\u60C5\"\n                })\n              })]\n            }), SelfFundedActivities.map(function (selfFund, fundIndex) {\n              var ActivityDesc = selfFund.ActivityDesc,\n                ActivityName = selfFund.ActivityName,\n                Currency = selfFund.Currency,\n                Price = selfFund.Price,\n                UseListingPrice = selfFund.UseListingPrice;\n              return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"ExcludingFeeItemTableContent\",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"ExcludingFeeItemTableContent1\",\n                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"ExcludingFeeItemTableContentText\",\n                    children: ActivityName\n                  })\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"ExcludingFeeItemTableContent2\",\n                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"ExcludingFeeItemTableContentText\",\n                    children: UseListingPrice ? '' : \"\".concat(Currency).concat(Price)\n                  })\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"ExcludingFeeItemTableContent3\",\n                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"ExcludingFeeItemTableContentText\",\n                    children: ActivityDesc\n                  })\n                })]\n              }, fundIndex);\n            })]\n          })]\n        }, index);\n      })\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/InvalidPage.tsx\n\n\n\n\n\nfunction InvalidPage() {\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"InvalidPage\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      lazyLoad: true,\n      className: \"InvalidPageImg\",\n      src: \"https://pic.c-ctrip.com/VacationH5Pic/group_travel/tourcrn/nofor.png\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"InvalidPageText\",\n      children: \"\\u62B1\\u6B49\\uFF0C\\u8BE5\\u4EA7\\u54C1\\u5DF2\\u4E0B\\u7EBF\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"InvalidPageBtn\",\n      onClick: function onClick() {\n        cwx_default().navigateBack();\n      },\n      children: \"\\u8FD4\\u56DE\\u4E0A\\u4E00\\u9875\"\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/LicenseInfo.tsx\n\n\n\n\n\nfunction LicenseInfo_LicenseInfo() {\n  var _ref = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        VendorInfo = state.VendorInfo;\n      return {\n        BasicInfo: BasicInfo,\n        VendorInfo: VendorInfo\n      };\n    }),\n    BasicInfo = _ref.BasicInfo,\n    VendorInfo = _ref.VendorInfo;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleGoSelfLicenseInfo = _Model$useActions$han.handleGoSelfLicenseInfo,\n    handleGoLicensePage = _Model$useActions$han.handleGoLicensePage;\n  var isCruise = BasicInfo.isCruise;\n  if (isCruise && BasicInfo.SaleMode === 'S') {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ModuleBox\",\n      onClick: function onClick() {\n        handleGoSelfLicenseInfo();\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"LicenseInfoBox\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"LicenseInfoTitle\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            lazyLoad: true,\n            className: \"LicenseInfoImg\",\n            src: \"https://pic.c-ctrip.com/VacationH5Pic/group_travel/tourcrn/logo.png\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"LicenseInfoName\",\n            children: \"\\u643A\\u7A0B\\u81EA\\u8425\"\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"LicenseInfoTip\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"LicenseInfoTipText\",\n            children: \"\\u7ECF\\u8425\\u8BB8\\u53EF\\u8BC1/\\u8425\\u4E1A\\u6267\\u7167\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"LicenseInfoTipIcon\",\n            children: \"\\uE944\"\n          })]\n        })]\n      })\n    });\n  } else if (isCruise || BasicInfo.SaleMode === 'G') {\n    if (!VendorInfo || !VendorInfo.BCScanningCopy) {\n      return null;\n    }\n    var VendorFullName = VendorInfo.VendorFullName,\n      VenderId = VendorInfo.VenderId;\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ModuleBox\",\n      onClick: function onClick() {\n        handleGoLicensePage(VenderId);\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"LicenseInfoBox\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"LicenseInfoTitle\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"LicenseInfoIcon\",\n            children: \"\\uF3C4\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"LicenseInfoName\",\n            children: VendorFullName\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"LicenseInfoTip\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"LicenseInfoTipText\",\n            children: \"\\u7ECF\\u8425\\u8BB8\\u53EF\\u8BC1/\\u8425\\u4E1A\\u6267\\u7167\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"LicenseInfoTipIcon\",\n            children: \"\\uE944\"\n          })]\n        })]\n      })\n    });\n  } else {\n    return null;\n  }\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/DiscountDetailMask.tsx\n\n\n\n\n\n\n\nfunction DiscountDetailMask() {\n  var _ref = model_Model.useState(function (state) {\n      var isShowDiscountDetailMask = state.isShowDiscountDetailMask,\n        currentRouteInfo = state.currentRouteInfo,\n        BasicInfo = state.BasicInfo;\n      return {\n        isShowDiscountDetailMask: isShowDiscountDetailMask,\n        currentRouteInfo: currentRouteInfo,\n        BasicInfo: BasicInfo\n      };\n    }),\n    isShowDiscountDetailMask = _ref.isShowDiscountDetailMask,\n    currentRouteInfo = _ref.currentRouteInfo,\n    BasicInfo = _ref.BasicInfo;\n  var handleToggleDiscountDetailMask = model_Model.useActions().handlers.handleToggleDiscountDetailMask;\n  var PriceInfo = currentRouteInfo.PriceInfo;\n  if (!isShowDiscountDetailMask) {\n    return null;\n  }\n  var ProductPatternId = BasicInfo.ProductPatternId;\n  var MinPrice = PriceInfo.MinPrice,\n    MinPriceRemark = PriceInfo.MinPriceRemark,\n    OriginPrice = PriceInfo.OriginPrice,\n    DisplayPrice = PriceInfo.DisplayPrice,\n    PreferentialPriceDetail = PriceInfo.PreferentialPriceDetail;\n  if (!PreferentialPriceDetail) {\n    return null;\n  }\n  var PreferentialAmountDetails = PreferentialPriceDetail.PreferentialAmountDetails,\n    PreferentialPriceItems = PreferentialPriceDetail.PreferentialPriceItems,\n    UserDetail = PreferentialPriceDetail.UserDetail;\n  var PreferentialAmount = PreferentialAmountDetails && PreferentialAmountDetails[0] && PreferentialAmountDetails[0].PreferentialAmount;\n  var preferentialPriceItemsGroupByType = [];\n  PreferentialPriceItems.forEach(function (item) {\n    var PreferentialType = item.PreferentialType,\n      PreferentialTitle = item.PreferentialTitle;\n    if (preferentialPriceItemsGroupByType.some(function (groupItem) {\n      return groupItem.PreferentialType === PreferentialType;\n    })) {\n      preferentialPriceItemsGroupByType.find(function (groupItem) {\n        return groupItem.PreferentialType === PreferentialType;\n      }).Items.push(item);\n    } else {\n      preferentialPriceItemsGroupByType.push({\n        PreferentialType: PreferentialType,\n        PreferentialTitle: PreferentialTitle,\n        Items: [item]\n      });\n    }\n  });\n  if (MinPriceRemark) {\n    MinPriceRemark = MinPriceRemark.replace(/<br\\s*\\/?>/g, '\\n');\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u4F18\\u60E0\\u660E\\u7EC6\",\n    handleClose: function handleClose() {\n      handleToggleDiscountDetailMask(false);\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"DiscountDetailBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"DiscountPkgPriceBox\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"DiscountPriceTitle\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: 'rgb(51, 51, 51)',\n              fontSize: 16,\n              fontWeight: 'bold'\n            },\n            children: ProductPatternId === 2 ? '' : ''\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"DiscountPriceText\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: 'rgb(102, 102, 102)',\n              fontSize: 13\n            },\n            children: \"\\u6BCF\\u6210\\u4EBA\\xA0\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: 'rgb(255, 119, 0)',\n              fontSize: 12\n            },\n            children: \"\\xA5\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: 'rgb(255, 119, 0)',\n              fontFamily: '20TH_bold',\n              fontSize: 16\n            },\n            children: OriginPrice\n          })]\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"DiscountListPriceBox\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"DiscountPriceTitleBox\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"DiscountPriceTitle\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: 'rgb(51, 51, 51)',\n                fontSize: 16,\n                fontWeight: 'bold'\n              },\n              children: \"\\u4F18\\u60E0\"\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"DiscountPriceText\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: 'rgb(102, 102, 102)',\n                fontSize: 13\n              },\n              children: \"\\u6BCF\\u6210\\u4EBA\\xA0\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: 'rgb(255, 119, 0)',\n                fontSize: 12\n              },\n              children: \"-\\xA5\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: 'rgb(255, 119, 0)',\n                fontFamily: '20TH_bold',\n                fontSize: 16\n              },\n              children: PreferentialAmount\n            })]\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"DiscountInfoList\",\n          children: [preferentialPriceItemsGroupByType.map(function (groupItem, groupIndex) {\n            var PreferentialTitle = groupItem.PreferentialTitle,\n              Items = groupItem.Items;\n            return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"DiscountInfoItem\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"DiscountInfoTag\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  style: {\n                    color: 'rgb(255, 119, 0)',\n                    fontSize: 11\n                  },\n                  children: PreferentialTitle\n                })\n              }), Items.map(function (priceItem, priceIndex) {\n                return /*#__PURE__*/(0,jsx_runtime.jsx)(DiscountInfoItem, {\n                  priceItem: priceItem\n                }, priceIndex);\n              })]\n            }, groupIndex);\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            style: {\n              color: 'rgb(153, 153, 153)',\n              fontSize: 12\n            },\n            children: \"*\\u5177\\u4F53\\u4F18\\u60E0\\u91D1\\u989D\\u4EE5\\u63D0\\u4EA4\\u8BA2\\u5355\\u663E\\u793A\\u4E3A\\u51C6\"\n          })]\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"DiscountTotalBox\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"DiscountPriceTitle\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            style: {\n              color: 'rgb(51, 51, 51)',\n              fontSize: 16,\n              fontWeight: 'bold'\n            },\n            children: \"\\u5F53\\u524D\\u8D77\\u4EF7\"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"DiscountPriceText\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            style: {\n              color: 'rgb(102, 102, 102)',\n              fontSize: 13\n            },\n            children: \"\\u6BCF\\u6210\\u4EBA\\xA0\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            style: {\n              color: 'rgb(255, 119, 0)',\n              fontSize: 12\n            },\n            children: \"\\xA5\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            style: {\n              color: 'rgb(255, 119, 0)',\n              fontFamily: '20TH_bold',\n              fontSize: 25,\n              position: 'relative',\n              top: 4\n            },\n            children: DisplayPrice\n          })]\n        })]\n      }), !!MinPriceRemark && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"DiscountDescBox\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"DiscountPriceTitle\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            style: {\n              color: 'rgb(51, 51, 51)',\n              fontSize: 16,\n              fontWeight: 'bold'\n            },\n            children: \"\\u8D77\\u4EF7\\u8BF4\\u660E\"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"DiscountDescContent\",\n          dangerouslySetInnerHTML: {\n            __html: MinPriceRemark\n          }\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        style: {\n          height: 70\n        }\n      })]\n    })\n  });\n}\nfunction DiscountInfoItem(_ref2) {\n  var priceItem = _ref2.priceItem;\n  var PreferentialName = priceItem.PreferentialName,\n    PreferentialPrice = priceItem.PreferentialPrice;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isShowAll = _useState2[0],\n    setIsShowAll = _useState2[1];\n  var isShowToggleBtn = PreferentialName && PreferentialName.length > 18;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"DiscountInfoDetail\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"DiscountInfoDetailText\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: 'rgb(102, 102, 102)',\n          fontSize: 12,\n          display: '-webkit-box',\n          '-webkit-line-clamp': isShowAll ? '9' : '1',\n          textOverflow: 'ellipsis',\n          overflow: 'hidden',\n          '-webkit-box-orient': 'vertical'\n        },\n        children: PreferentialName\n      })\n    }), isShowToggleBtn && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"DiscountInfoDetailMore\",\n      onClick: function onClick() {\n        setIsShowAll(!isShowAll);\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: 'rgb(153, 153, 153)',\n          fontSize: 12\n        },\n        children: \"\\u8BE6\\u7EC6\\u8BF4\\u660E\"\n      }), isShowAll ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: 'rgb(153, 153, 153)',\n          fontSize: 12,\n          fontFamily: 'crn_font_Ctrip_GroupTour'\n        },\n        children: \"\\uE946\"\n      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: 'rgb(153, 153, 153)',\n          fontSize: 12,\n          fontFamily: 'crn_font_Ctrip_GroupTour'\n        },\n        className: \"detailIcon\",\n        children: \"\\uE945\"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"DiscountInfoDetailNum\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        style: {\n          color: 'rgb(102, 102, 102)',\n          fontSize: 13\n        },\n        children: [\"-\\xA5\", PreferentialPrice]\n      })\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components/NavBar.tsx\n\n\n\n\n\n\n\n\nfunction NavBar(_ref) {\n  var _BasicInfo$Title;\n  var isShowMenu = _ref.isShowMenu,\n    setIsShowMeanu = _ref.setIsShowMeanu;\n  var _Model$useState = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo;\n      return {\n        BasicInfo: BasicInfo\n      };\n    }),\n    BasicInfo = _Model$useState.BasicInfo;\n  var _getSystemInfoSync = (0,taro.getSystemInfoSync)(),\n    statusBarHeight = _getSystemInfoSync.statusBarHeight,\n    system = _getSystemInfoSync.system;\n  var menuBtnInfo = (0,taro.getMenuButtonBoundingClientRect)();\n  var menuPaddingTop = menuBtnInfo.top - statusBarHeight;\n  var displayTitle = ((_BasicInfo$Title = BasicInfo.Title) === null || _BasicInfo$Title === void 0 ? void 0 : _BasicInfo$Title.length) > 10 ? BasicInfo.Title.slice(0, 9) + '...' : BasicInfo.Title;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isShowNavBar = _useState2[0],\n    setIsShowNavBar = _useState2[1];\n  (0,taro.usePageScroll)(function (_ref2) {\n    var scrollTop = _ref2.scrollTop;\n    setIsShowMeanu(false);\n    if (scrollTop > 200) {\n      if (!isShowNavBar) {\n        setIsShowNavBar(true);\n        taro_default().setNavigationBarColor({\n          backgroundColor: '#ffffff',\n          frontColor: '#000000'\n        });\n      }\n    } else {\n      if (isShowNavBar) {\n        setIsShowNavBar(false);\n        taro_default().setNavigationBarColor({\n          backgroundColor: 'rgba(0,0,0,0.25)',\n          frontColor: '#ffffff'\n        });\n      }\n    }\n  });\n  var pages = taro_default().getCurrentPages();\n  var isFirstPage = pages.length === 1;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: isShowNavBar ? 'NavBarBox' : 'NavBarBoxOpacity',\n    onClick: function onClick() {\n      setIsShowMeanu(false);\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"NavBarPlaceHolder\",\n      style: {\n        height: statusBarHeight\n      }\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NavBarTitleLine\",\n      style: {\n        paddingTop: menuPaddingTop,\n        height: menuBtnInfo.height\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"NavBarLeftBox\",\n        children: [isFirstPage ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"NavBarLeftBtnBox\",\n          onClick: function onClick() {\n            cwx_default().switchTab({\n              url: '/pages/home/homepage'\n            });\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"NavBarIcon\",\n            children: \"\\uEFFE\"\n          })\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"NavBarLeftBtnBox\",\n          onClick: function onClick() {\n            cwx_default().navigateBack();\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"NavBarIcon\",\n            children: \"\\uE1A9\"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"NavBarLeftBetweenLine\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"NavBarLeftBtnBox\",\n          onClick: function onClick(event) {\n            event.stopPropagation();\n            setIsShowMeanu(!isShowMenu);\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"NavBarIcon\",\n            children: \"\\uF7EB\"\n          })\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"NavBarTitle\",\n        children: !!displayTitle && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"NavBarTitleText\",\n          children: isShowNavBar ? displayTitle : ''\n        })\n      })]\n    }), isShowMenu && /*#__PURE__*/(0,jsx_runtime.jsx)(NavMenu, {\n      setIsShowMeanu: setIsShowMeanu\n    })]\n  });\n}\nfunction NavMenu(_ref3) {\n  var setIsShowMeanu = _ref3.setIsShowMeanu;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleGoFavouriteList = _Model$useActions$han.handleGoFavouriteList,\n    handleGoHistory = _Model$useActions$han.handleGoHistory;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"NavMenuBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"NavMenuArrow\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NavMenuItem\",\n      onClick: function onClick(event) {\n        event.stopPropagation();\n        handleGoHistory();\n        setIsShowMeanu(false);\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NavMenuItemIcon\",\n        children: \"\\uE15A\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NavMenuItemText\",\n        children: \"\\u6D4F\\u89C8\\u5386\\u53F2\"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"NavMenuItem\",\n      onClick: function onClick(event) {\n        event.stopPropagation();\n        handleGoFavouriteList();\n        setIsShowMeanu(false);\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NavMenuItemIcon\",\n        children: \"\\uDB80\\uDC18\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NavMenuItemText\",\n        children: \"\\u6536\\u85CF\\u5217\\u8868\"\n      })]\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/ProductFeature.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar MemoProductFeature = /*#__PURE__*/react.memo(ProductFeature_ProductFeature);\n/* harmony default export */ var ProductFeature = (MemoProductFeature);\nfunction ProductFeature_ProductFeature() {\n  var _useState = (0,react.useState)(true),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isExpand = _useState2[0],\n    setIsExpand = _useState2[1];\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    isShowToggleButton = _useState4[0],\n    setIsShowToggleButton = _useState4[1];\n  var contentHeightRef = (0,react.useRef)(0);\n  var _ref = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        currentRouteInfo: currentRouteInfo,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    currentRouteInfo = _ref.currentRouteInfo,\n    actionIdSuffix = _ref.actionIdSuffix;\n  var DescriptionInfo = currentRouteInfo.DescriptionInfo;\n\n  // \n  (0,react.useEffect)(function () {\n    function setToggleButton() {\n      return _setToggleButton.apply(this, arguments);\n    }\n    function _setToggleButton() {\n      _setToggleButton = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n        var timeId;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              timeId = setInterval(function () {\n                var query = taro_default().createSelectorQuery();\n                var ele = query.select('.Layout >>> .ProductFeatureInfoBox');\n                if (ele) {\n                  ele.boundingClientRect(function (rect) {\n                    if (rect) {\n                      console.log(rect.height);\n                      if (rect.height <= contentHeightRef.current) {\n                        clearInterval(timeId);\n                      } else {\n                        contentHeightRef.current = rect.height;\n                        if (rect.height > 600) {\n                          setIsShowToggleButton(true);\n                          setIsExpand(false);\n                        }\n                      }\n                    }\n                  }).exec();\n                }\n              }, 750);\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return _setToggleButton.apply(this, arguments);\n    }\n    setToggleButton();\n  }, [DescriptionInfo]);\n  if (!DescriptionInfo || !DescriptionInfo.Introduction) {\n    return null;\n  }\n  var Introduction = DescriptionInfo.Introduction;\n\n  // \n  Introduction = Introduction.replace(/src=\"\\/\\//g, 'src=\"https://');\n\n  // \n  Introduction = Introduction.replace(/style=\"/g, 'style=\"font-size: 14px !important;text-align: left!important;line-height: 1.3!important;float: none!important;padding: 0!important;position: static!important;height: auto!important;');\n  Introduction = Introduction.replace(/<img(.*?)src=\"(.*?)\"(.*?)\\/?>/g, '<img style=\"display: block!important;vertical-align: top!important;width: 100%!important;\" src=\"$2\" />');\n\n  // let richTextList = convertLinkRichTextToArray(Introduction)\n\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"FeatureModuleBox\",\n    id: \"ProductFeature\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ModuleTitle\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"ModuleTitleText\",\n        children: \"\\u4EA7\\u54C1\\u7279\\u8272\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(SellingPointInProductFeature, {}), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"ProductFeatureBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"ProductFeatureInfoBox \".concat(!isExpand ? '' : 'active'),\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"mp-html\", {\n          content: Introduction,\n          copyLink: false,\n          onLinktap: function onLinktap(event) {}\n        })\n      }), isShowToggleButton && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"ProductFeatureExpandTextBox FlexVerticalCenter\",\n        onClick: function onClick(event) {\n          isExpand && taro_default().pageScrollTo({\n            selector: '.ProductFeatureBox',\n            duration: 300\n          });\n          setIsExpand(function (isExpand) {\n            return !isExpand;\n          });\n          cwx_default().uploadUserAction(event, \"\".concat(actionIdSuffix, \"-info-spread\"));\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"ContentExpandToggleText\",\n          children: isExpand ? '' : ''\n        }), isExpand ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"ContentExpandToggleText FontIcon MarginLeft8\",\n          children: \"\\uE946\"\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"ContentExpandToggleText FontIcon MarginLeft8\",\n          children: \"\\uE945\"\n        })]\n      })]\n    })]\n  });\n}\nfunction SellingPointInProductFeature() {\n  var currentRouteInfo = model_Model.useState(function (state) {\n    return state.currentRouteInfo;\n  });\n  var MainPMRecomendInfo = model_Model.useState(function (state) {\n    return state.MainPMRecomendInfo;\n  });\n  var pageStatus = model_Model.useState(function (state) {\n    return state.pageStatus;\n  });\n  var isPremium = model_Model.useState(function (state) {\n    return state.isPremium;\n  });\n  var _ref2 = currentRouteInfo || {},\n    PMRecomendInfo = _ref2.PMRecomendInfo;\n  if (!PMRecomendInfo) {\n    return null;\n  }\n  var RecommendList = PMRecomendInfo.RecommendList;\n\n  //  ()\n  if (!RecommendList && pageStatus.isMultiTravel) {\n    RecommendList = MainPMRecomendInfo.RecommendList || [];\n  }\n  if (!RecommendList || !RecommendList.length) {\n    return null;\n  }\n  var SellingPoints = RecommendList.slice(0, 3);\n  var isShowDetailText = SellingPoints.every(function (item, index) {\n    var RecommendTag = item.RecommendTag,\n      DescDetail = item.DescDetail;\n    return RecommendTag.length + DescDetail.length <= 22;\n  });\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"SellingNewBoxInFeature\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      children: SellingPoints.map(function (item, index) {\n        var DescDetail = item.DescDetail.replace(/<(\\/?)(?!br).*?>/gi, '');\n        var iconUrl = \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/point_no\".concat(index + 1, \".png\");\n        if (isPremium) {\n          if (!iconUrl.endsWith('_p.png')) {\n            iconUrl = iconUrl.replace('.png', '_p.png');\n          }\n        }\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"SellingNewBoxItemInFeature\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"SellingContentBox\",\n            children: [SellingPoints.length > 1 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n              className: \"SellingNumberImgInFeature\",\n              src: iconUrl\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              className: \"SellingTextMaxWidth\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                style: {\n                  color: '#333',\n                  fontSize: 12,\n                  fontWeight: 'bold'\n                },\n                children: [item.RecommendTag, \"\\xA0\"]\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                style: {\n                  color: '#666',\n                  fontSize: 12\n                },\n                className: isShowDetailText ? 'SellingTextMaxWidth' : 'SellingInfoBoxText',\n                children: DescDetail\n              })]\n            })]\n          })\n        }, index);\n      })\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/RouteInfo.tsx\n\n\n\n\n\n\n\n\n\n\nfunction RouteInfo() {\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"RouteInfoContainer\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(TabBar, {}), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"RouteInfoPadding\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(RouteTitle, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(ProductSummary, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(ProductFeature, {})]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RouteDetailBox\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(RouteDetail, {})\n    })]\n  });\n}\nfunction TabBar() {\n  var _ref = model_Model.useState(function (state) {\n      var pageStatus = state.pageStatus,\n        isPremium = state.isPremium,\n        BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo;\n      return {\n        pageStatus: pageStatus,\n        isPremium: isPremium,\n        BasicInfo: BasicInfo,\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    pageStatus = _ref.pageStatus,\n    isPremium = _ref.isPremium,\n    BasicInfo = _ref.BasicInfo,\n    currentRouteInfo = _ref.currentRouteInfo;\n  var handleTraceLog = model_Model.useActions().handlers.handleTraceLog;\n  var scrollTopRef = (0,react.useRef)(0);\n  var orderKnowText = '';\n  var Visa = currentRouteInfo.Visa;\n  if (([11, 12, 26, 34].includes(BasicInfo.ProductCategoryId) || BasicInfo.isCruise) && Visa) {\n    var VisaCountryList = Visa.VisaCountryList,\n      VisaDescList = Visa.VisaDescList;\n    if (VisaCountryList && VisaCountryList.length || VisaDescList && VisaDescList.length) {\n      var VisaTitle = '';\n      if (BasicInfo.DestProvinceId === 53) {\n        VisaTitle = '';\n      }\n      if ([58, 59].indexOf(BasicInfo.DestCityId) > -1) {\n        VisaTitle = '';\n      }\n      orderKnowText = \"\".concat(VisaTitle, \"/\\u987B\\u77E5\");\n    }\n  }\n  var Tabs;\n  if (BasicInfo.isDiyfhxsdp) {\n    Tabs = [{\n      text: '',\n      ele: '#FakeProductSummary'\n    }, {\n      text: '',\n      ele: '#RouteInfo'\n    }, {\n      text: '',\n      ele: '#CostDescription'\n    }, {\n      text: orderKnowText,\n      ele: '#OrderKnow'\n    }, {\n      text: '',\n      ele: '#Comment'\n    }];\n  } else {\n    Tabs = [{\n      text: '',\n      ele: '#ProductSummary'\n    }, {\n      text: '',\n      ele: '#RouteInfo'\n    }, {\n      text: '',\n      ele: '#CostDescription'\n    }, {\n      text: orderKnowText,\n      ele: '#OrderKnow'\n    }, {\n      text: '',\n      ele: '#Comment'\n    }];\n  }\n  var _getSystemInfoSync = (0,taro.getSystemInfoSync)(),\n    statusBarHeight = _getSystemInfoSync.statusBarHeight;\n  var menuBtnInfo = (0,taro.getMenuButtonBoundingClientRect)();\n  var fixedHeight = menuBtnInfo.height + statusBarHeight + 55;\n  (0,taro.usePageScroll)(function (_ref2) {\n    var scrollTop = _ref2.scrollTop;\n    scrollTopRef.current = scrollTop;\n  });\n  var handleScrollToEle = (0,react.useCallback)(function (ele, index) {\n    var element = taro_default().createSelectorQuery().select(ele);\n    if (element) {\n      element.boundingClientRect(function (rect) {\n        if (rect) {\n          var targetTop = scrollTopRef.current + rect.top - fixedHeight;\n          taro_default().pageScrollTo({\n            scrollTop: targetTop,\n            duration: 300,\n            complete: function complete() {}\n          });\n        }\n      }).exec();\n    }\n  }, []);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    style: {\n      zIndex: 1\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RouteTabBox\",\n      id: \"FakeProductSummary\",\n      children: Tabs.map(function (item, index) {\n        var text = item.text,\n          ele = item.ele;\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"HeaderTabItem \".concat(index === 0 ? 'FontWeightBold' : ''),\n          onClick: function onClick() {\n            handleScrollToEle(ele, index);\n            handleTraceLog('grp_prddtl_ptab_click', {\n              tabid: index + 1\n            });\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: text\n          }), index === 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"TabBarline\"\n          })]\n        }, index);\n      })\n    })\n  });\n}\nfunction RouteTitle() {\n  var _ref3 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        pageStatus = state.pageStatus,\n        groupInfo = state.groupInfo;\n      return {\n        BasicInfo: BasicInfo,\n        pageStatus: pageStatus,\n        groupInfo: groupInfo\n      };\n    }),\n    BasicInfo = _ref3.BasicInfo,\n    pageStatus = _ref3.pageStatus,\n    groupInfo = _ref3.groupInfo;\n  var isMultiLine = pageStatus.isMultiLine,\n    isMultiTravel = pageStatus.isMultiTravel,\n    activeAlias = pageStatus.activeAlias,\n    activeProductId = pageStatus.activeProductId;\n  var lineAliasText = '';\n  if (isMultiLine) {\n    var _groupInfo$groupPrice;\n    lineAliasText = groupInfo === null || groupInfo === void 0 || (_groupInfo$groupPrice = groupInfo.groupPriceList) === null || _groupInfo$groupPrice === void 0 || (_groupInfo$groupPrice = _groupInfo$groupPrice.find(function (item) {\n      return item.ProductId === activeProductId;\n    })) === null || _groupInfo$groupPrice === void 0 ? void 0 : _groupInfo$groupPrice.lineName;\n  }\n  if (isMultiTravel) {\n    lineAliasText = \"\".concat(activeAlias, \"\\u7EBF\");\n  }\n  if (BasicInfo.isDiyfhxsdp || BasicInfo.isStudy) {\n    lineAliasText = '';\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"RouteTitleBoxNew\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RouteTitleLine\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RouteTitleText\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        children: [lineAliasText, \"\\u603B\\u89C8\"]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RouteTitleLine\"\n    })]\n  });\n}\nvar getIsShowSecureDinner = function getIsShowSecureDinner(TagGroupInfo, DinnerTimeAssign) {\n  // \n  var isSecureTravel = false;\n  if (TagGroupInfo && TagGroupInfo.MoreTagList) {\n    isSecureTravel = TagGroupInfo.MoreTagList.some(function (item) {\n      return item.TagId === 1895;\n    });\n  }\n  // \n  var hasCareDinner = false;\n  if (DinnerTimeAssign) {\n    var adultInfo = DinnerTimeAssign.find(function (item) {\n      return item.PassengerType === 1;\n    });\n    if (adultInfo && adultInfo.TravelDinnerInfo && adultInfo.TravelDinnerInfo.length) {\n      var careDinnerInfo = adultInfo.TravelDinnerInfo.find(function (item) {\n        return item.DinnerCareType === 2;\n      });\n      if (careDinnerInfo) {\n        hasCareDinner = careDinnerInfo.DinnerTimeInfo.some(function (dinner) {\n          return dinner.Times > 0;\n        });\n      }\n    }\n    if (!hasCareDinner) {\n      var childInfo = DinnerTimeAssign.find(function (item) {\n        return item.PassengerType === 2;\n      });\n      if (childInfo && childInfo.TravelDinnerInfo && childInfo.TravelDinnerInfo.length) {\n        var _careDinnerInfo = childInfo.TravelDinnerInfo.find(function (item) {\n          return item.DinnerCareType === 2;\n        });\n        if (_careDinnerInfo) {\n          hasCareDinner = _careDinnerInfo.DinnerTimeInfo.some(function (dinner) {\n            return dinner.Times > 0;\n          });\n        }\n      }\n    }\n  }\n  return isSecureTravel && hasCareDinner;\n};\nfunction ProductSummary() {\n  var _ref4 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        BasicInfo: BasicInfo,\n        currentRouteInfo: currentRouteInfo,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    BasicInfo = _ref4.BasicInfo,\n    currentRouteInfo = _ref4.currentRouteInfo,\n    actionIdSuffix = _ref4.actionIdSuffix;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleGoTourPoiPage = _Model$useActions$han.handleGoTourPoiPage,\n    handleTraceLog = _Model$useActions$han.handleTraceLog,\n    handleGoVisa = _Model$useActions$han.handleGoVisa;\n  var TravelIntroductionInfo = currentRouteInfo.TravelIntroductionInfo,\n    TagGroupInfo = currentRouteInfo.TagGroupInfo,\n    Visa = currentRouteInfo.Visa;\n  if (!TravelIntroductionInfo || !TravelIntroductionInfo.TravelIntroductionList) {\n    return null;\n  }\n  var _ref5 = (TravelIntroductionInfo.TravelIntroductionList || {})[0] || {},\n    TravelSummaryInfoList = _ref5.TravelSummaryInfoList,\n    TravelOverviewInfo = _ref5.TravelOverviewInfo;\n  if (!TravelSummaryInfoList || !TravelSummaryInfoList.length) {\n    return null;\n  }\n  var DinnerTimeAssign = TravelOverviewInfo && TravelOverviewInfo.DinnerTimeAssign;\n\n  //\n  var shouldShowVisaInfo = [11, 12, 26, 34].includes(BasicInfo.ProductCategoryId) || BasicInfo.isCruise;\n  if (BasicInfo.IsInternal || BasicInfo.DestProvinceId === 53) {\n    shouldShowVisaInfo = false;\n  }\n  var showVisaDetail = true;\n  var _ref6 = Visa || {},\n    VisaCountryList = _ref6.VisaCountryList,\n    VisaDescList = _ref6.VisaDescList;\n  if ((!VisaCountryList || !VisaCountryList.length) && (!VisaDescList || !VisaDescList.length)) {\n    showVisaDetail = false;\n  }\n  var summaryVisaSubText = getSummaryVisaSubText(Visa);\n  var IsGoodGuideProduct = BasicInfo.IsGoodGuideProduct;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"SummaryBox\",\n    id: \"ProductSummary\",\n    children: TravelSummaryInfoList.map(function (item, index) {\n      var SummaryIcon = item.SummaryIcon,\n        SummaryTitle = item.SummaryTitle,\n        SummaryType = item.SummaryType,\n        SummaryItems = item.SummaryItems;\n\n      // \n      var isVisaInfo = SummaryType === 9;\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"SummaryItem\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"SummaryItemTitle\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            className: \"SummaryItemTitleImg\",\n            src: SummaryIcon\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: SummaryTitle\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"SummaryItemContentBox\",\n          children: SummaryItems.map(function (infoItem, infoIndex) {\n            var ItemId = infoItem.ItemId,\n              ItemText = infoItem.ItemText,\n              SubItemText = infoItem.SubItemText;\n            var isScenicItem = ItemId === 5;\n            var isHotelItem = ItemId === 22;\n            var isGuideItem = [103, 203].includes(ItemId);\n            var isDriverItem = [303].includes(ItemId);\n            var isTPalItem = [403].includes(ItemId);\n            if (isGuideItem || isDriverItem || isTPalItem) {\n              return /*#__PURE__*/(0,jsx_runtime.jsx)(ProductSummaryServicePerson, {\n                IsGoodGuideProduct: IsGoodGuideProduct,\n                ItemText: ItemText,\n                SubItemText: SubItemText,\n                isDriver: isDriverItem,\n                isTPalItem: isTPalItem\n              }, infoIndex);\n            }\n\n            // \n            if (isVisaInfo) {\n              if (ItemText.length > 40) {\n                ItemText = ItemText.slice(0, 36) + '...';\n              }\n            }\n            return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"SummaryItemContentItem\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"SummaryItemMainContent\",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"SummaryItemMainContenDot\",\n                  children: \"\\u2022\\xA0\"\n                }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"SummaryItemMainContentTitle\",\n                  children: [ItemText, (isScenicItem || isHotelItem) && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"SummaryItemMainSubTitle\",\n                    onClick: function onClick() {\n                      handleGoTourPoiPage(isScenicItem);\n                      isHotelItem && handleTraceLog('grp_prddtl_hoteldtl_click', {});\n                    },\n                    children: \"\\xA0\\xA0\\u8BE6\\u60C5\"\n                  }), isVisaInfo && showVisaDetail && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"SummaryItemMainSubTitle\",\n                    onClick: function onClick() {\n                      handleGoVisa();\n                    },\n                    children: \"\\xA0\\xA0\\u8BE6\\u60C5\"\n                  })]\n                })]\n              }), !!SubItemText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"SummaryItemSubContent\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  children: SubItemText\n                })\n              }), isVisaInfo && !!summaryVisaSubText && /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n                children: summaryVisaSubText.map(function (text, textIndex) {\n                  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"SummaryItemSubContent\",\n                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                      children: text\n                    })\n                  }, textIndex);\n                })\n              })]\n            }, infoIndex);\n          })\n        })]\n      }, index);\n    })\n  });\n}\nfunction RouteDetail() {\n  var TravelIntroductionInfo = model_Model.useState(function (state) {\n    return state.currentRouteInfo.TravelIntroductionInfo;\n  });\n  if (!TravelIntroductionInfo || !TravelIntroductionInfo.TravelIntroductionList) {\n    return null;\n  }\n  var _ref7 = TravelIntroductionInfo.TravelIntroductionList[0] || {},\n    LocalTimeDesc = _ref7.LocalTimeDesc,\n    TravelHotelDesc = _ref7.TravelHotelDesc,\n    IntroductionInfoList = _ref7.IntroductionInfoList;\n  var isShowHotelDetailDesc;\n  IntroductionInfoList === null || IntroductionInfoList === void 0 || IntroductionInfoList.forEach(function (dayItem) {\n    if (!dayItem) return;\n    var _dayItem$DailyList = dayItem.DailyList,\n      DailyList = _dayItem$DailyList === void 0 ? [] : _dayItem$DailyList;\n    DailyList.forEach(function (day, index) {\n      if (day !== null && day !== void 0 && day.HotelInfoList && day !== null && day !== void 0 && day.HotelInfoList.length) {\n        isShowHotelDetailDesc = true;\n      }\n    });\n  });\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(RouteDetailTitle, {\n      TravelIntroductionInfo: TravelIntroductionInfo\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(RouteDetailContent, {}), !!LocalTimeDesc && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"RouteDetailTitleTextSub\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteDetailIcon\",\n        children: \"\\uEF89\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteTimeTipText\",\n        children: LocalTimeDesc\n      })]\n    }), !!isShowHotelDetailDesc && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"RouteDetailTitleTextSub\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteDetailIcon\",\n        children: \"\\uEF89\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteTimeTipText\",\n        children: \"\\u9152\\u5E97\\u94BB\\u7EA7\\u7531\\u643A\\u7A0B\\u5E73\\u53F0\\u8BC4\\u5B9A,\\u5177\\u4F53\\u8BC4\\u5B9A\\u6807\\u51C6\\u53EF\\u89C1\\u643A\\u7A0B\\u5E73\\u53F0\\u9152\\u5E97\\u9891\\u9053\"\n      })]\n    }), !!TravelHotelDesc && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"RouteDetailTitleTextSub\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteDetailIcon\",\n        children: \"\\uEF89\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteTimeTipText\",\n        children: TravelHotelDesc\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"RouteDetailTitleTextSub\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteDetailIcon\",\n        children: \"\\uEF89\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteTimeTipText\",\n        children: \"\\u666F\\u70B9\\u56FE\\u7247\\u4EC5\\u4F9B\\u53C2\\u8003\"\n      })]\n    })]\n  });\n}\nfunction RouteDetailTitle(_ref8) {\n  var TravelIntroductionInfo = _ref8.TravelIntroductionInfo;\n  var _TravelIntroductionIn = TravelIntroductionInfo.TravelIntroductionList[0],\n    TravelDetailList = _TravelIntroductionIn.TravelDetailList,\n    LocalTimeDesc = _TravelIntroductionIn.LocalTimeDesc,\n    TravelOverviewInfo = _TravelIntroductionIn.TravelOverviewInfo;\n  var _ref9 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        actionIdSuffix = state.actionIdSuffix;\n      return {\n        BasicInfo: BasicInfo,\n        actionIdSuffix: actionIdSuffix\n      };\n    }),\n    BasicInfo = _ref9.BasicInfo,\n    actionIdSuffix = _ref9.actionIdSuffix;\n  var isDiyfhxsdp = BasicInfo.isDiyfhxsdp;\n  var handleGoMapDetail = model_Model.useActions().handlers.handleGoMapDetail;\n\n  // \n  var _ref10 = TravelOverviewInfo || {},\n    TravelSummaryModuleList = _ref10.TravelSummaryModuleList;\n  var MapHasSpots = BasicInfo.TravelDays !== 2;\n  if (TravelSummaryModuleList) {\n    var ScenicInfo = TravelSummaryModuleList.filter(function (item) {\n      return item.ModuleId === 5;\n    });\n    if (!ScenicInfo || !ScenicInfo[0] || !ScenicInfo[0].Description) {\n      MapHasSpots = false;\n    }\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"RouteDetailTitleBox\",\n    id: \"RouteInfo\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RouteDetailTitleInfo\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteDetailTitleText\",\n        children: isDiyfhxsdp ? '' : \"\".concat(TravelDetailList.length, \"\\u65E5\\u884C\\u7A0B\")\n      })\n    })\n  });\n}\nfunction RouteDetailContent() {\n  var _ref11 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo;\n      var TravelIntroductionInfo = currentRouteInfo.TravelIntroductionInfo;\n      return {\n        TravelIntroductionInfo: TravelIntroductionInfo\n      };\n    }),\n    TravelIntroductionInfo = _ref11.TravelIntroductionInfo;\n  var _Model$useActions$han2 = model_Model.useActions().handlers,\n    handleGoComplexRoutePage = _Model$useActions$han2.handleGoComplexRoutePage,\n    handleTraceLog = _Model$useActions$han2.handleTraceLog;\n  var totalDay = 0;\n  if (TravelIntroductionInfo && TravelIntroductionInfo.TravelIntroductionList && TravelIntroductionInfo.TravelIntroductionList[0]) {\n    totalDay = TravelIntroductionInfo.TravelIntroductionList[0].IntroductionInfoList.length;\n  }\n  var initAllToggleStatus = totalDay > 2 ? Array(totalDay).fill(false) : Array(totalDay).fill(true);\n  var _useState = (0,react.useState)(initAllToggleStatus),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    allToggleStatus = _useState2[0],\n    setAllToggleStatus = _useState2[1];\n  if (!TravelIntroductionInfo || !TravelIntroductionInfo.TravelIntroductionList) {\n    return null;\n  }\n  var _TravelIntroductionIn2 = TravelIntroductionInfo.TravelIntroductionList[0],\n    IntroductionInfoList = _TravelIntroductionIn2.IntroductionInfoList,\n    LocalTimeDesc = _TravelIntroductionIn2.LocalTimeDesc,\n    TravelHotelDesc = _TravelIntroductionIn2.TravelHotelDesc;\n  var isAllShow = allToggleStatus.every(function (item) {\n    return item;\n  });\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"RouteDetailContentBox\",\n    children: [IntroductionInfoList === null || IntroductionInfoList === void 0 ? void 0 : IntroductionInfoList.map(function (day, dayIndex) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(RouteDetailContentItem, {\n        day: day,\n        dayIndex: dayIndex,\n        allToggleStatus: allToggleStatus,\n        setAllToggleStatus: setAllToggleStatus\n      }, day.FewDay);\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"RouteExpandBox\",\n      onClick: function onClick() {\n        handleGoComplexRoutePage();\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"RouteExpandBoxBg\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"RouteExpandBoxText\",\n          style: {\n            color: '#007FE9',\n            fontSize: '12px'\n          },\n          children: \"\\u67E5\\u770B\\u8BE6\\u7EC6\\u884C\\u7A0B\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"RouteExpandBoxIcon\",\n          children: \"\\uE944\"\n        })]\n      })\n    })]\n  });\n}\nvar getDayilyScenicInfos = function getDayilyScenicInfos(day) {\n  // ActiveType == 3 ActiveType == 12\n  var scenicList = day.scenicList.filter(function (scenic, index) {\n    return [3, 12].includes(scenic.ActiveType);\n  });\n  // \n  var ScenicSpotList = [];\n  scenicList.map(function (item) {\n    item.ScenicSpotList[0] && (item.ScenicSpotList[0].timeIndex = 0);\n    ScenicSpotList.push.apply(ScenicSpotList, (0,toConsumableArray/* default */.Z)(item.ScenicSpotList));\n  });\n  //\n  var cityList = new Set();\n  ScenicSpotList.map(function (spot) {\n    if (spot.PoiDistrictInfo) {\n      if (spot.PoiDistrictInfo.DistrictType == 'City') {\n        cityList.add(spot.PoiDistrictInfo.Name);\n      } else {\n        if (spot.PoiDistrictInfo.ParentDistrictPath[0]) {\n          var _spot$PoiDistrictInfo = spot.PoiDistrictInfo.ParentDistrictPath[0],\n            Name = _spot$PoiDistrictInfo.Name,\n            DistrictType = _spot$PoiDistrictInfo.DistrictType;\n          if (DistrictType === 'Country') {\n            cityList.add(spot.PoiDistrictInfo.Name);\n          } else {\n            cityList.add(Name);\n          }\n        }\n      }\n    }\n  });\n  var scenicInfos = [];\n  ScenicSpotList.map(function (spot, index) {\n    var infoItem = spot.Name;\n    // if (spot.IsClassic) {\n    //     infoItem += ''\n    // }\n    var shouldShowOrFlag = spot.timeIndex !== 0 && !!ScenicSpotList[index - 1].OrFlag;\n    var lastIndex = scenicInfos.length - 1;\n    if (shouldShowOrFlag) {\n      scenicInfos[lastIndex] = scenicInfos[lastIndex] + '  ' + infoItem;\n    } else {\n      scenicInfos.push(infoItem);\n    }\n  });\n  return scenicInfos;\n};\n\n//  item\nfunction RouteDetailContentItem(_ref12) {\n  var _curDayJourneyInfo$;\n  var day = _ref12.day,\n    dayIndex = _ref12.dayIndex,\n    allToggleStatus = _ref12.allToggleStatus,\n    setAllToggleStatus = _ref12.setAllToggleStatus;\n  var _ref13 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo,\n        BasicInfo = state.BasicInfo,\n        pageStatus = state.pageStatus,\n        TourGroupInfo = state.TourGroupInfo,\n        TravelList = state.TravelList,\n        isPremium = state.isPremium,\n        CruiseJourneyInfo = state.CruiseJourneyInfo,\n        ABTestResult = state.ABTestResult;\n      var TravelIntroductionInfo = currentRouteInfo.TravelIntroductionInfo,\n        TagGroupInfo = currentRouteInfo.TagGroupInfo;\n      var TourGroupProductInfo = TourGroupInfo.TourGroupProductInfo;\n      return {\n        TravelIntroductionInfo: TravelIntroductionInfo,\n        BasicInfo: BasicInfo,\n        pageStatus: pageStatus,\n        TourGroupProductInfo: TourGroupProductInfo,\n        TravelList: TravelList,\n        isPremium: isPremium,\n        CruiseJourneyInfo: CruiseJourneyInfo,\n        TagGroupInfo: TagGroupInfo,\n        ABTestResult: ABTestResult\n      };\n    }),\n    TravelIntroductionInfo = _ref13.TravelIntroductionInfo,\n    BasicInfo = _ref13.BasicInfo,\n    pageStatus = _ref13.pageStatus,\n    TourGroupProductInfo = _ref13.TourGroupProductInfo,\n    TravelList = _ref13.TravelList,\n    CruiseJourneyInfo = _ref13.CruiseJourneyInfo,\n    TagGroupInfo = _ref13.TagGroupInfo,\n    ABTestResult = _ref13.ABTestResult;\n  var _Model$useActions$han3 = model_Model.useActions().handlers,\n    handleTraceLog = _Model$useActions$han3.handleTraceLog,\n    handleGoPoiPage = _Model$useActions$han3.handleGoPoiPage;\n  if (!TravelIntroductionInfo || !TravelIntroductionInfo.TravelIntroductionList) {\n    return null;\n  }\n  var isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp;\n  var _TravelIntroductionIn3 = TravelIntroductionInfo.TravelIntroductionList[0],\n    IntroductionInfoList = _TravelIntroductionIn3.IntroductionInfoList,\n    TravelDetailList = _TravelIntroductionIn3.TravelDetailList;\n  var FewDay = day.FewDay,\n    Desc = day.Desc,\n    DailyList = day.DailyList,\n    TravelDate = day.TravelDate;\n  // \n  var isShowDate = !!TravelDate;\n\n  // \n  var curDayJourneyInfo = CruiseJourneyInfo && CruiseJourneyInfo.filter(function (item) {\n    return item.date === TravelDate;\n  });\n  var curDayJourneyTours = curDayJourneyInfo && curDayJourneyInfo[0] && ((_curDayJourneyInfo$ = curDayJourneyInfo[0]) === null || _curDayJourneyInfo$ === void 0 || (_curDayJourneyInfo$ = _curDayJourneyInfo$.journeyItemList[0]) === null || _curDayJourneyInfo$ === void 0 ? void 0 : _curDayJourneyInfo$.tours);\n  var hasJourneyTours = curDayJourneyTours && curDayJourneyTours.length > 0;\n  var scenicInfos = getDayilyScenicInfos(TravelDetailList[dayIndex]);\n\n  // \n  var isSecureTravel = false;\n  if (TagGroupInfo && TagGroupInfo.MoreTagList) {\n    isSecureTravel = TagGroupInfo.MoreTagList.some(function (item) {\n      return item.TagId === 1895;\n    });\n  }\n\n  // index\n  var trafficDayTime = [-1, -1];\n  all_loop: for (var _dayIndex = 0; _dayIndex < IntroductionInfoList.length; _dayIndex++) {\n    var _DailyList = IntroductionInfoList[_dayIndex].DailyList;\n    _DailyList = _DailyList || [];\n    for (var timeIndex = 0; timeIndex < _DailyList.length; timeIndex++) {\n      if (_DailyList[timeIndex].ActiveType === 8) {\n        trafficDayTime = [_dayIndex, timeIndex];\n        break all_loop;\n      }\n    }\n  }\n  var imageUrlList = [];\n  DailyList = DailyList || [];\n  var defaultImg = 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/defaultscenic.png';\n  DailyList.forEach(function (item, index) {\n    var ActiveType = item.ActiveType,\n      ScenicSpotList = item.ScenicSpotList;\n    if ([3, 12].includes(ActiveType)) {\n      ScenicSpotList.forEach(function (scenic, index) {\n        if (index !== 0 && !!ScenicSpotList[index - 1].OrFlag || !scenic.GSScenicSpotID) {\n          // \n        } else {\n          var Name = scenic.Name,\n            ImgList = scenic.ImgList,\n            SuffixName = scenic.SuffixName,\n            GSScenicSpotID = scenic.GSScenicSpotID;\n          var fullname = Name + (SuffixName || '');\n          var ImgUrl = ImgList && ImgList[0] && ImgList[0].UrlList[0].Value || defaultImg;\n          ImgUrl = ImgUrl.replace('360_202', '480_240');\n          if (!imageUrlList.find(function (item) {\n            return item.GSScenicSpotID === GSScenicSpotID;\n          })) {\n            imageUrlList.push({\n              ImgUrl: ImgUrl,\n              fullname: fullname,\n              scenic: scenic,\n              GSScenicSpotID: GSScenicSpotID\n            });\n          }\n        }\n      });\n    }\n  });\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"RouteDetailDayBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n      className: \"RouteDetailDay\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"RouteDetailDayTitleNum detaiNumFont20THBold\",\n        children: [\"D\", FewDay]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteDetailDayTitleNumLine\",\n        children: \"|\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"RouteDetailDayTitleText\",\n        children: Desc\n      })]\n    }, FewDay), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.ScrollView, {\n      scrollX: true,\n      scrollWithAnimation: true,\n      enableFlex: true,\n      className: \"scrollViewBox\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"routeImgsList\",\n        children: imageUrlList.map(function (imgurlObj, index) {\n          var scenic = imgurlObj.scenic;\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"RouteImgsContainer\",\n            onClick: function onClick() {\n              handleTraceLog('grp_prddtl_exposedpoi_trace', {\n                position: index + 1\n              });\n              handleGoPoiPage(scenic);\n            },\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n              src: imgurlObj.ImgUrl,\n              className: \"RouteImgNew\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"RouteImgNewMask\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"RouteImgText\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                children: imgurlObj.fullname\n              })\n            })]\n          }, index);\n        })\n      })\n    })]\n  });\n}\nfunction ProductSummaryServicePerson(_ref14) {\n  var IsGoodGuideProduct = _ref14.IsGoodGuideProduct,\n    ItemText = _ref14.ItemText,\n    SubItemText = _ref14.SubItemText,\n    _ref14$isDriver = _ref14.isDriver,\n    isDriver = _ref14$isDriver === void 0 ? false : _ref14$isDriver,\n    _ref14$isTPalItem = _ref14.isTPalItem,\n    isTPalItem = _ref14$isTPalItem === void 0 ? false : _ref14$isTPalItem;\n  var _Model$useActions$han4 = model_Model.useActions().handlers,\n    handleToggleGoldGuideMask = _Model$useActions$han4.handleToggleGoldGuideMask,\n    handleGoGuideList = _Model$useActions$han4.handleGoGuideList,\n    handleToggleTpalMask = _Model$useActions$han4.handleToggleTpalMask,\n    handleGoTagUrl = _Model$useActions$han4.handleGoTagUrl;\n  var _ref15 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo;\n      return {\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    currentRouteInfo = _ref15.currentRouteInfo;\n  var showRoleDescText = '* ';\n  if (isTPalItem) {\n    showRoleDescText = '* T.PALT.PAL';\n  } else if (isDriver) {\n    showRoleDescText = '* ';\n  }\n  var servicePerson = currentRouteInfo.servicePerson;\n  if (!servicePerson || !servicePerson.servicePersons || !servicePerson.servicePersons.length) {\n    showRoleDescText = '';\n  }\n  if (IsGoodGuideProduct) {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"GuideListContanerBg\",\n        src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/shop/guide/detailgoldbg.png'\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"SummaryItemContentItem\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"SummaryItemMainContent\",\n          onClick: function onClick() {\n            handleGoTagUrl('https://m.ctrip.com/tangram/Mjk0MDk=?ctm_ref=vactang_page_29409&isHideNavBar=YES&apppgid=401019');\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"SummaryItemMainContenDot\",\n            children: \"\\u2022\\xA0\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"SummaryItemMainContentTitle\",\n            children: \"\\u5168\\u7A0B\\u7531\\u91D1\\u724C\\u5BFC\\u6E38\\u5E26\\u56E2\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"SummaryGuideEntryIcon\",\n            children: \"\\uE944\"\n          })]\n        }), !!SubItemText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"SummaryItemSubContent\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              zIndex: 2\n            },\n            children: SubItemText\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(GuideList, {}), !!showRoleDescText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"SummaryItemBottomContent\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: showRoleDescText\n          })\n        })]\n      })]\n    });\n  } else if (isTPalItem) {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"GuideListContanerBg\",\n        src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/shop/guide/detailtpalbg.png'\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"SummaryItemContentItem\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"SummaryItemMainContent\",\n          onClick: function onClick() {\n            handleGoTagUrl('https://m.ctrip.com/tangram/MzE0MDA=?ctm_ref=vactang_page_31400&isHideNavBar=YES&apppgid=401019');\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"SummaryItemMainContenDot\",\n            children: \"\\u2022\\xA0\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"SummaryItemMainContentTitle\",\n            children: ItemText\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"SummaryGuideEntryIcon\",\n            children: \"\\uE944\"\n          })]\n        }), !!SubItemText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"SummaryItemSubContent\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              zIndex: 2\n            },\n            children: SubItemText\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(GuideList, {}), !!showRoleDescText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"SummaryItemBottomContent\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: showRoleDescText\n          })\n        })]\n      })]\n    });\n  } else {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"SummaryItemContentItem\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"SummaryItemMainContent\",\n        onClick: function onClick() {\n          !!isDriver && handleGoGuideList();\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"SummaryItemMainContenDot\",\n          children: \"\\u2022\\xA0\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"SummaryItemMainContentTitle\",\n          children: ItemText\n        }), !!isDriver && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"SummaryGuideEntryIcon\",\n          children: \"\\uE944\"\n        })]\n      }), !!SubItemText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"SummaryItemSubContent\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: SubItemText\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(GuideList, {}), !!showRoleDescText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"SummaryItemBottomContent\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: showRoleDescText\n        })\n      })]\n    });\n  }\n}\nfunction GuideList() {\n  var _Model$useActions$han5 = model_Model.useActions().handlers,\n    handleGoGuideList = _Model$useActions$han5.handleGoGuideList,\n    handleGoGuideDetail = _Model$useActions$han5.handleGoGuideDetail,\n    handleTraceLog = _Model$useActions$han5.handleTraceLog;\n  var _ref16 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo,\n        BasicInfo = state.BasicInfo;\n      return {\n        currentRouteInfo: currentRouteInfo,\n        BasicInfo: BasicInfo\n      };\n    }),\n    currentRouteInfo = _ref16.currentRouteInfo,\n    BasicInfo = _ref16.BasicInfo;\n  var defaultImg = 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/shop/avatar.png';\n  var servicePerson = currentRouteInfo.servicePerson;\n  if (!servicePerson || !servicePerson.servicePersons || !servicePerson.servicePersons.length) {\n    return null;\n  }\n  var rowCount = servicePerson.rowCount,\n    servicePersons = servicePerson.servicePersons;\n  var isBigScreen = false;\n  var displayGuides = isBigScreen ? servicePersons.slice(0, 3) : servicePersons.slice(0, 2);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"GuideListContaner\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"GuideList\",\n      children: displayGuides.map(function (item, index) {\n        var servicePersonID = item.servicePersonID,\n          cName = item.cName,\n          lifePhoto = item.lifePhoto,\n          guideCommentAverageScore = item.guideCommentAverageScore,\n          workExperience = item.workExperience,\n          isNewGoodGuide = item.isNewGoodGuide;\n        var guideScore = !!guideCommentAverageScore && guideCommentAverageScore > 0 ? Number(guideCommentAverageScore).toFixed(1) : 0;\n        lifePhoto = lifePhoto.replace('.jpg', '_R_200_200.jpg?proc=autoorient');\n\n        // \n        var isGoodGuide = isNewGoodGuide && isNewGoodGuide === '1';\n\n        // \n        var experienceYears = !!workExperience && Number(workExperience) > 0 ? Math.floor(Number(workExperience) / 12) : 0;\n        var experienceMonths = Number(workExperience) - experienceYears * 12;\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"GuideListItem\",\n          onClick: function onClick() {\n            handleGoGuideDetail(servicePersonID);\n          },\n          children: [!!isGoodGuide && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            className: \"GuideListItemGoldIcon\",\n            src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/shop/guide/goldicontag.png'\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            className: \"GuideListItemImg\",\n            src: lifePhoto || defaultImg\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"GuideListInfo\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"GuideListInfoName\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"GuideListInfoNameText\",\n                children: cName\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"GuideListInfoNameIcon\",\n                children: \"\\uE944\"\n              })]\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"GuideListInfoTag\",\n              children: [!!guideScore && guideScore > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                className: \"GuideListInfoTagText\",\n                children: \"\".concat(guideScore, \"\\u5206\")\n              }), !!guideScore && guideScore > 0 && !!workExperience && Number(workExperience) > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"GuideListInfoTagLine\"\n              }), !!workExperience && Number(workExperience) > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                className: \"GuideListInfoTagText\",\n                children: [\"\\u4ECE\\u4E1A\", experienceYears > 0 ? \"\".concat(experienceYears, \"\\u5E74\") : \"\".concat(experienceMonths, \"\\u6708\")]\n              })]\n            })]\n          })]\n        }, index);\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"GuideListButton\",\n      onClick: function onClick() {\n        handleGoGuideList();\n      },\n      style: {\n        zIndex: 2\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"GuideEntryButtonText\",\n        children: \"\\u5168\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"GuideEntryButtonText\",\n        children: \"\\u90E8\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"GuideEntryButtonText\",\n        children: rowCount\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"GuideEntryButtonText\",\n        children: \"\\u4F4D\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"GuideEntryButtonIcon\",\n        children: \"\\uDB80\\uDCF9\"\n      })]\n    })]\n  });\n}\n\n// \nvar VisaInterviewMap = {\n  1: '',\n  2: '',\n  3: ''\n};\nvar getSummaryVisaSubText = function getSummaryVisaSubText(Visa) {\n  if (!Visa) {\n    return null;\n  }\n  var VisaCountryList = Visa.VisaCountryList;\n  if (!VisaCountryList || !VisaCountryList.length) {\n    return null;\n  }\n  var result = [];\n  if (VisaCountryList.length === 1) {\n    // \n    var _VisaCountryList$ = VisaCountryList[0],\n      VisaInterview = _VisaCountryList$.VisaInterview,\n      VisaType = _VisaCountryList$.VisaType,\n      VisaTypeName = _VisaCountryList$.VisaTypeName;\n    var text = VisaInterview ? \"\".concat(VisaInterviewMap[VisaInterview], \"\\uFF0C\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\").concat(VisaTypeName) : \"\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\".concat(VisaTypeName);\n    result.push(text);\n  } else {\n    // \n    var isAllVisaInterviewSame = VisaCountryList.every(function (visa) {\n      return visa.VisaInterview === VisaCountryList[0].VisaInterview && visa.VisaType === VisaCountryList[0].VisaType;\n    });\n    if (isAllVisaInterviewSame) {\n      // \n      var _VisaCountryList$2 = VisaCountryList[0],\n        _VisaInterview = _VisaCountryList$2.VisaInterview,\n        _VisaType = _VisaCountryList$2.VisaType,\n        _VisaTypeName = _VisaCountryList$2.VisaTypeName;\n      var _text = _VisaInterview ? \"\".concat(VisaInterviewMap[_VisaInterview], \"\\uFF0C\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\").concat(_VisaTypeName) : \"\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\".concat(_VisaTypeName);\n      result.push(_text);\n    } else {\n      // \n      VisaCountryList.forEach(function (visa) {\n        var Country = visa.Country,\n          VisaInterview = visa.VisaInterview,\n          VisaType = visa.VisaType,\n          VisaTypeName = visa.VisaTypeName;\n        var text = VisaInterview ? \"\".concat(Country, \"\\uFF1A\").concat(VisaInterviewMap[VisaInterview], \"\\uFF0C\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\").concat(VisaTypeName) : \"\".concat(Country, \"\\uFF1A\\u529E\\u7406\\u7C7B\\u578B\\u4E3A\").concat(VisaTypeName);\n        result.push(text);\n      });\n    }\n  }\n  return result;\n};\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/AllPromotionMask.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AllPromotionMask() {\n  var _ref = model_Model.useState(function (state) {\n      var pageId = state.pageId,\n        pageStatus = state.pageStatus,\n        BasicInfo = state.BasicInfo,\n        wakenUpData = state.wakenUpData,\n        isShowPromotionMask = state.isShowPromotionMask;\n      return {\n        pageId: pageId,\n        pageStatus: pageStatus,\n        BasicInfo: BasicInfo,\n        wakenUpData: wakenUpData,\n        isShowPromotionMask: isShowPromotionMask\n      };\n    }),\n    pageId = _ref.pageId,\n    pageStatus = _ref.pageStatus,\n    BasicInfo = _ref.BasicInfo,\n    wakenUpData = _ref.wakenUpData,\n    isShowPromotionMask = _ref.isShowPromotionMask;\n  var handleTogglePromotionMask = model_Model.useActions().handlers.handleTogglePromotionMask;\n  if (!isShowPromotionMask) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u4F18\\u60E0\\u4FE1\\u606F\",\n    handleClose: function handleClose() {\n      handleTogglePromotionMask(false);\n    },\n    backgroundColor: '#f8f8f8',\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"PopMaskContainer\",\n      style: {\n        margin: 12,\n        marginTop: 0,\n        backgroundColor: '#f8f8f8'\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(MemberShipInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(SuperMemberInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CrossMemberInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CreditInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(PromotionInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(BonusInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(SpecialTagInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CouponInfo, {})]\n    })\n  });\n}\nfunction CouponInfo() {\n  var _ref2 = model_Model.useState(function (state) {\n      var pageId = state.pageId,\n        pageStatus = state.pageStatus,\n        BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo;\n      var CouponInfo = currentRouteInfo.CouponInfo;\n      return {\n        pageId: pageId,\n        pageStatus: pageStatus,\n        BasicInfo: BasicInfo,\n        CouponInfo: CouponInfo\n      };\n    }),\n    pageId = _ref2.pageId,\n    pageStatus = _ref2.pageStatus,\n    BasicInfo = _ref2.BasicInfo,\n    CouponInfo = _ref2.CouponInfo;\n  var _useState = (0,react.useState)(0),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    count = _useState2[0],\n    setCount = _useState2[1];\n\n  /**\n   *   product pattern / category / sale mode limits\n   */\n  if (![1, 2, 3, 4].includes(BasicInfo.ProductPatternId) || ![9, 10, 11, 26, 33, 34, 41, 42].includes(BasicInfo.ProductCategoryId) || !['S', 'O', 'P', 'G', 'R'].includes(BasicInfo.SaleMode)) {\n    return null;\n  }\n  if (!CouponInfo) {\n    return null;\n  }\n  var availableClaimList = CouponInfo.availableClaimList,\n    availableUseList = CouponInfo.availableUseList,\n    singkekList = CouponInfo.singkekList,\n    receivedNouseList = CouponInfo.receivedNouseList;\n  availableClaimList = availableClaimList || [];\n  availableUseList = availableUseList || [];\n  singkekList = singkekList || [];\n  receivedNouseList = receivedNouseList || [];\n  var couponList = [].concat((0,toConsumableArray/* default */.Z)(availableClaimList), (0,toConsumableArray/* default */.Z)(singkekList), (0,toConsumableArray/* default */.Z)(availableUseList), (0,toConsumableArray/* default */.Z)(receivedNouseList));\n  if (!couponList || !couponList.length) {\n    return null;\n  }\n  var _cwx$mkt$getUnion = cwx_default().mkt.getUnion(),\n    allianceid = _cwx$mkt$getUnion.allianceid,\n    sid = _cwx$mkt$getUnion.sid;\n  var env = util/* default.getEnv */.Z.getEnv();\n  if (env === 'prd') {\n    env = 'prod';\n  }\n  var options = {\n    needPopover: false,\n    visible: true,\n    isShowEmptyContent: false,\n    clientEnv: {\n      env: env,\n      ctType: 0,\n      clientType: 3\n    },\n    Header: null,\n    data: {\n      //   new Date().getTime()\n      forceReloadTimestamp: String(count),\n      //bu\n      source: 'TOUR',\n      //\n      saleChannel: 117,\n      //aid\n      allianceId: allianceid,\n      //sid\n      siteId: sid,\n      //clientId\n      clientId: (cwx_default()).clientID,\n      //id\n      pageId: pageId,\n      //zh-CN\n      locale: 'zh-CN',\n      //,:CNY\n      currency: 'CNY',\n      //ID\n      productId: pageStatus.activeProductId\n    },\n    // \n    onLoadData: function onLoadData(listData) {\n      console.log('onLoadData', listData);\n    },\n    onClaim: function onClaim(data) {\n      // \n      // console.log('--onClaim--', data)\n      setCount(count + 1);\n\n      // if (data && data.success) {\n      //     console.log('--onClaim--', data)\n      //     setCount(count + 1)\n      //     // fetchRefreshPriceInfo()\n      // }\n    }\n  };\n\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(commonModule_prod.ClaimCoupon, (0,objectSpread2/* default */.Z)({}, options));\n}\n\n// \nfunction MemberShipInfo() {\n  var _ref3 = model_Model.useState(function (state) {\n      var userInformation = state.userInformation;\n      return {\n        userInformation: userInformation\n      };\n    }),\n    userInformation = _ref3.userInformation;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleGoMemberShip = _Model$useActions$han.handleGoMemberShip,\n    handleGoBonusPage = _Model$useActions$han.handleGoBonusPage;\n  if (!userInformation || !userInformation.levelMember) {\n    return null;\n  }\n  var levelMember = userInformation.levelMember;\n  var levelCode = levelMember.levelCode,\n    rights = levelMember.rights;\n  if (levelCode < 20 || rights.length === 1 && rights[0] && rights[0].type === 'LEVELMEMBER_BONUS') {\n    return null;\n  }\n  var TextColorMap = {\n    0: '#4daaf8',\n    5: '#6291d5',\n    10: '#c49d59',\n    20: '#218db1',\n    30: '#595cb3',\n    35: '#5533b0',\n    40: '#a27a4f'\n  };\n  var HandlersMap = {\n    LEVELMEMBER_PRICE: handleGoMemberShip,\n    LEVELMEMBER_CANCEL: handleGoMemberShip,\n    LEVELMEMBER_BONUS: handleGoBonusPage\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"PromotionMemeberBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"PromotionMemeberBg\",\n      src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/vipbg/vip_\".concat(levelCode, \".png\")\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionMemberContentBox\",\n      children: rights.map(function (item, index) {\n        var title = item.title,\n          type = item.type,\n          desc = item.desc;\n        // \n        var handleClick = HandlersMap[type];\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PromotionMemberItem\",\n          onClick: function onClick() {\n            handleClick();\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"PromotionMemberInfo\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"PromotionMemberTitle\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                style: {\n                  color: TextColorMap[levelCode],\n                  fontSize: 12,\n                  fontWeight: 'bold'\n                },\n                children: [\"\\u2022\\xA0\", title]\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"PromotionMemberContent\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                style: {\n                  color: '#333333',\n                  fontSize: 12\n                },\n                children: desc\n              })\n            })]\n          }), !!handleClick && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: '#666666',\n              fontSize: 12\n            },\n            className: \"PromotionDetailIcon\",\n            children: \"\\uE944\"\n          })]\n        }, index);\n      })\n    })]\n  });\n}\n\n// \nfunction SuperMemberInfo() {\n  var _ref4 = model_Model.useState(function (state) {\n      var userInformation = state.userInformation;\n      return {\n        userInformation: userInformation\n      };\n    }),\n    userInformation = _ref4.userInformation;\n  var handleGoMemberShip = model_Model.useActions().handlers.handleGoMemberShip;\n  if (!userInformation || !userInformation.superMember) {\n    return null;\n  }\n  var superMember = userInformation.superMember;\n  var rights = superMember.rights;\n  if (!rights || !rights.length) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"PromotionMemeberBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"PromotionMemeberBg\",\n      src: \"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/vipbg/vip_s.png\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionMemberContentBox\",\n      children: rights.map(function (item, index) {\n        var title = item.title,\n          desc = item.desc;\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PromotionMemberItem\",\n          onClick: function onClick() {\n            handleGoMemberShip();\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"PromotionMemberInfo\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"PromotionMemberTitle\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                style: {\n                  color: '#7b3e29',\n                  fontSize: 12,\n                  fontWeight: 'bold'\n                },\n                children: [\"\\u2022\\xA0\", title]\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"PromotionMemberContent\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                style: {\n                  color: '#333333',\n                  fontSize: 12\n                },\n                children: desc\n              })\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: '#666666',\n              fontSize: 12\n            },\n            className: \"PromotionDetailIcon\",\n            children: \"\\uE944\"\n          })]\n        }, index);\n      })\n    })]\n  });\n}\n\n// \nfunction CrossMemberInfo() {\n  var _ref5 = model_Model.useState(function (state) {\n      var userInformation = state.userInformation;\n      return {\n        userInformation: userInformation\n      };\n    }),\n    userInformation = _ref5.userInformation;\n  var handleGoFlightDiscountPage = model_Model.useActions().handlers.handleGoFlightDiscountPage;\n  if (!userInformation || !userInformation.crossMember) {\n    return null;\n  }\n  var crossMember = userInformation.crossMember;\n  var rights = crossMember.rights;\n  if (!rights || !rights.length) {\n    return null;\n  }\n  var content = rights[0].desc;\n  if (!content) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"PromotionItemBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionItemTitle\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: '#333333',\n          fontSize: 15,\n          fontWeight: 'bold'\n        },\n        children: \"\\u673A\\u7968\\u7528\\u6237\\u6743\\u76CA\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionItemContentList\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"PromotionItemContentItem\",\n        onClick: function onClick() {\n          handleGoFlightDiscountPage();\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PromotionTitleBox\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"PromotionTitleText\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: '#333333',\n                fontSize: 12\n              },\n              children: content\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: '#666666',\n              fontSize: 12\n            },\n            className: \"PromotionDetailIcon\",\n            children: \"\\uE944\"\n          })]\n        })\n      })\n    })]\n  });\n}\n\n// \nfunction CreditInfo() {\n  var _ref6 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        actionIdSuffix = state.actionIdSuffix,\n        pageId = state.pageId,\n        promotionDisplayInfo = state.promotionDisplayInfo;\n      return {\n        BasicInfo: BasicInfo,\n        actionIdSuffix: actionIdSuffix,\n        pageId: pageId,\n        promotionDisplayInfo: promotionDisplayInfo\n      };\n    }),\n    BasicInfo = _ref6.BasicInfo,\n    actionIdSuffix = _ref6.actionIdSuffix,\n    pageId = _ref6.pageId,\n    promotionDisplayInfo = _ref6.promotionDisplayInfo;\n  var _Model$useActions$han2 = model_Model.useActions().handlers,\n    handleGoCreditInfo = _Model$useActions$han2.handleGoCreditInfo,\n    handleTraceLog = _Model$useActions$han2.handleTraceLog;\n  var isCruise = BasicInfo.isCruise;\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    isShowAll = _useState4[0],\n    setIsShowAll = _useState4[1];\n  if (isCruise) {\n    return null;\n  }\n  if (!promotionDisplayInfo || !promotionDisplayInfo.creditInfo) {\n    return null;\n  }\n  var _promotionDisplayInfo = promotionDisplayInfo.creditInfo,\n    PromotionWords = _promotionDisplayInfo.PromotionWords,\n    ButtonText = _promotionDisplayInfo.ButtonText,\n    IsCreditSuccess = _promotionDisplayInfo.IsCreditSuccess;\n  if (!PromotionWords) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"PromotionItemBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionItemTitle\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: '#333333',\n          fontSize: 15,\n          fontWeight: 'bold'\n        },\n        children: \"\\u62FF\\u53BB\\u82B1\\u5206\\u671F\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionItemContentList\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"PromotionItemContentItem\",\n        onClick: function onClick() {\n          IsCreditSuccess ? setIsShowAll(!isShowAll) : handleGoCreditInfo();\n          handleTraceLog('grp_prddtl_naquhua_click', {});\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PromotionTitleBox\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"PromotionTitleText\",\n            children: !!PromotionWords && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: '#333333',\n                fontSize: 12\n              },\n              children: PromotionWords\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"PromotionTitleArrow\",\n            children: [!!ButtonText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"PromotionDetailIcon\",\n              style: {\n                color: '#666666',\n                fontSize: 12\n              },\n              children: ButtonText\n            }), IsCreditSuccess ? /*#__PURE__*/(0,jsx_runtime.jsx)(ToggleButton, {\n              isShowAll: isShowAll,\n              setIsShowAll: setIsShowAll\n            }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"PromotionDetailIcon\",\n              style: {\n                color: '#666666',\n                fontSize: 12\n              },\n              children: \"\\uE944\"\n            })]\n          })]\n        }), !!isShowAll && /*#__PURE__*/(0,jsx_runtime.jsx)(CreditSuccessInfo, {})]\n      })\n    })]\n  });\n}\nfunction CreditSuccessInfo() {\n  var _Model$useState = model_Model.useState(),\n    promotionDisplayInfo = _Model$useState.promotionDisplayInfo;\n  if (!promotionDisplayInfo || !promotionDisplayInfo.creditInfo) {\n    return null;\n  }\n  var _promotionDisplayInfo2 = promotionDisplayInfo.creditInfo,\n    ActivityInfo = _promotionDisplayInfo2.ActivityInfo,\n    FirstRepayDay = _promotionDisplayInfo2.FirstRepayDay;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"PromotionContentText\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"PromotionCreditInfoBox\",\n      children: [!!ActivityInfo && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"PromotionCreditInfoItem\",\n        style: {\n          color: '#333333',\n          fontSize: 12\n        },\n        children: ActivityInfo\n      }), !!FirstRepayDay && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"PromotionCreditInfoItem\",\n        style: {\n          color: '#333333',\n          fontSize: 12\n        },\n        children: [\"\\u4ECA\\u5929\\u9884\\u8BA2\\uFF0C\\u9884\\u8BA1\", FirstRepayDay, \"\\u8FD8\\u6B3E\\u3002\"]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"PromotionCreditTip\",\n      style: {\n        color: '#999999',\n        fontSize: 13\n      },\n      children: \"\\u2022\\xA0\\u62FF\\u53BB\\u82B1\\u7528\\u6237\\u5728\\u53EF\\u7528\\u989D\\u5EA6\\u5185\\uFF0C\\u53EF\\u4F7F\\u7528\\u62FF\\u53BB\\u82B1\\u5206\\u671F\\u4ED8\\u6B3E\\u3002\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"PromotionCreditTip\",\n      style: {\n        color: '#999999',\n        fontSize: 13\n      },\n      children: \"\\u2022\\xA0\\u5F53\\u524D\\u5206\\u671F\\u670D\\u52A1\\u4EC5\\u4F9B\\u53C2\\u8003\\uFF0C\\u8BE6\\u7EC6\\u4FE1\\u606F\\u4EE5\\u6536\\u94F6\\u53F0\\u5C55\\u793A\\u4E3A\\u51C6\\u3002\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"PromotionCreditTip\",\n      style: {\n        color: '#999999',\n        fontSize: 13\n      },\n      children: \"\\u2022\\xA0\\u8D26\\u6237\\u5185\\u5982\\u6709\\u53EF\\u7528\\u7684\\u62FF\\u53BB\\u82B1\\u4F18\\u60E0\\uFF0C\\u4F1A\\u9ED8\\u8BA4\\u4F7F\\u7528\\uFF0C\\u5C55\\u793A\\u7684\\u670D\\u52A1\\u8D39\\u5373\\u4E3A\\u5DF2\\u4EAB\\u4F18\\u60E0\\u7684\\u670D\\u52A1\\u8D39\\u3002\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"PromotionCreditTip\",\n      style: {\n        color: '#999999',\n        fontSize: 13\n      },\n      children: \"\\u2022\\xA0\\u5177\\u4F53\\u7684\\u5206\\u671F\\u670D\\u52A1\\u63D0\\u4F9B\\u5546\\u53CA\\u534F\\u8BAE\\uFF0C\\u8BF7\\u81F3\\u62FF\\u53BB\\u82B1\\u9996\\u9875-\\u8BBE\\u7F6E-\\u534F\\u8BAE\\u4E0E\\u58F0\\u660E\\u4E2D\\u67E5\\u770B\\u8BE6\\u60C5\\u3002\"\n    })]\n  });\n}\n\n// \nfunction PromotionInfo() {\n  var _Model$useState2 = model_Model.useState(),\n    compositeCoupon = _Model$useState2.compositeCoupon;\n  if (!compositeCoupon) {\n    return null;\n  }\n  var promotionList = compositeCoupon.promotionList,\n    promotionCount = compositeCoupon.promotionCount;\n  if (!promotionCount) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: promotionList.map(function (type, index) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(PromotionTypeItem, {\n        type: type\n      }, index);\n    })\n  });\n}\nfunction PromotionTypeItem(_ref7) {\n  var type = _ref7.type;\n  var list = type.list,\n    title = type.title;\n  var _useState5 = (0,react.useState)(false),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    isShowAll = _useState6[0],\n    setIsShowAll = _useState6[1];\n  var firstItem = list[0];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"PromotionItemBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionItemTitle\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: '#333333',\n          fontSize: 15,\n          fontWeight: 'bold'\n        },\n        children: title\n      })\n    }), isShowAll ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionItemContentList\",\n      children: list.map(function (item, itemIndex) {\n        var promotionSubTypeName = item.promotionSubTypeName,\n          name = item.name,\n          linePrefix = item.linePrefix,\n          description = item.description;\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PromotionItemContentItem\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"PromotionTitleTopBox\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"PromotionTitleTextShowAll\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                style: {\n                  color: '#333333',\n                  fontSize: 12\n                },\n                children: [promotionSubTypeName, name, linePrefix]\n              })\n            }), itemIndex === 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"PromotionTitleArrow\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(ToggleButton, {\n                isShowAll: isShowAll,\n                setIsShowAll: setIsShowAll\n              })\n            })]\n          }), !!description && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"PromotionContentText\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: '#999999',\n                fontSize: 12\n              },\n              children: description\n            })\n          })]\n        }, itemIndex);\n      })\n    }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionItemContentList\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"PromotionItemContentItem\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PromotionTitleTopBox\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"PromotionTitleText\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n              style: {\n                color: '#333333',\n                fontSize: 12\n              },\n              className: \"ellipsis\",\n              children: [firstItem.promotionSubTypeName, firstItem.name, firstItem.linePrefix]\n            })\n          }), (list.length > 1 || firstItem.description || firstItem.name.length > 16) && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"PromotionTitleArrow\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(ToggleButton, {\n              isShowAll: isShowAll,\n              setIsShowAll: setIsShowAll\n            })\n          })]\n        })\n      })\n    })]\n  });\n}\n\n// \nfunction BonusInfo() {\n  var _ref8 = model_Model.useState(function (state) {\n      var userInformation = state.userInformation;\n      return {\n        userInformation: userInformation\n      };\n    }),\n    userInformation = _ref8.userInformation;\n  var handleGoBonusPage = model_Model.useActions().handlers.handleGoBonusPage;\n  if (!userInformation || !userInformation.levelMember) {\n    return null;\n  }\n  var levelMember = userInformation.levelMember;\n  var rights = levelMember.rights;\n  var bonusInfo = rights.find(function (item) {\n    return item.type === 'LEVELMEMBER_BONUS';\n  });\n  if (!bonusInfo || !bonusInfo.desc || rights.length > 1) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"PromotionItemBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionItemTitle\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: '#333333',\n          fontSize: 15,\n          fontWeight: 'bold'\n        },\n        children: bonusInfo.title\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PromotionItemContentList\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"PromotionItemContentItem\",\n        onClick: function onClick() {\n          handleGoBonusPage();\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"PromotionTitleBox\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"PromotionTitleText\",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: '#333333',\n                fontSize: 12\n              },\n              children: bonusInfo.desc\n            })\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"PromotionDetailIcon\",\n            style: {\n              color: '#666666',\n              fontSize: 12\n            },\n            children: \"\\uE944\"\n          })]\n        })\n      })\n    })]\n  });\n}\nfunction ToggleButton(_ref9) {\n  var isShowAll = _ref9.isShowAll,\n    setIsShowAll = _ref9.setIsShowAll;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    onClick: function onClick() {\n      setIsShowAll(!isShowAll);\n    },\n    className: \"PromotionToggleBtn\",\n    children: isShowAll ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"PromotionDetailIcon\",\n        style: {\n          color: '#666666',\n          fontSize: 12\n        },\n        children: \"\\u6536\\u8D77\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"PromotionDetailIcon\",\n        style: {\n          color: '#666666',\n          fontSize: 12\n        },\n        children: \"\\uE0B3\"\n      })]\n    }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"PromotionDetailIcon\",\n        style: {\n          color: '#666666',\n          fontSize: 12\n        },\n        children: \"\\u5C55\\u5F00\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"PromotionDetailIcon\",\n        style: {\n          color: '#666666',\n          fontSize: 12\n        },\n        children: \"\\uE0B2\"\n      })]\n    })\n  });\n}\nfunction SpecialTagInfo() {\n  var _ref10 = model_Model.useState(function (state) {\n      var specialTag = state.specialTag;\n      return {\n        specialTag: specialTag\n      };\n    }),\n    specialTag = _ref10.specialTag;\n  var _Model$useActions$han3 = model_Model.useActions().handlers,\n    handleGoTagUrl = _Model$useActions$han3.handleGoTagUrl,\n    handleTraceLog = _Model$useActions$han3.handleTraceLog;\n  if (!specialTag) {\n    return null;\n  }\n\n  // \n  var specialTagImg = specialTag && specialTag.ImageUrl;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    onClick: function onClick() {\n      specialTag.AlbumUrl && handleGoTagUrl(specialTag.AlbumUrl);\n    },\n    className: \"ImageBannerBoxBigPic\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"ImageBannerImg\",\n      src: specialTagImg\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/BookingLimitMask.tsx\n\n\n\n\n\n// sdp \n\n\nvar bookingLimitSdp = [{\n  description: '18'\n}, {\n  description: ''\n}];\nfunction BookingLimitMask(_ref) {\n  var controller = _ref.controller;\n  var _Model$useState = model_Model.useState(function (state) {\n      var isShowBookingLimitMask = state.isShowBookingLimitMask,\n        BasicInfo = state.BasicInfo,\n        pageStatus = state.pageStatus,\n        currentRouteInfo = state.currentRouteInfo;\n      return {\n        isShowBookingLimitMask: isShowBookingLimitMask,\n        BasicInfo: BasicInfo !== null && BasicInfo !== void 0 ? BasicInfo : {},\n        pageStatus: pageStatus,\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    isShowBookingLimitMask = _Model$useState.isShowBookingLimitMask,\n    BasicInfo = _Model$useState.BasicInfo,\n    pageStatus = _Model$useState.pageStatus,\n    currentRouteInfo = _Model$useState.currentRouteInfo;\n  var SegmentInfo = currentRouteInfo.SegmentInfo,\n    BookInfo = currentRouteInfo.BookInfo,\n    OrderKnow = currentRouteInfo.OrderKnow;\n  var MinBookPerson = BookInfo.MinBookPerson,\n    MaxBookPerson = BookInfo.MaxBookPerson;\n  var IsOverSea = BasicInfo.IsOverSea;\n  var handleToggleBookingLimitMask = model_Model.useActions().handlers.handleToggleBookingLimitMask;\n  if (!isShowBookingLimitMask) {\n    return null;\n  }\n  var Segments = SegmentInfo.Segments || [];\n  var sdpIncludeFlight = Segments.some(function (item) {\n    return item.IsIncludeSystemFlight === true;\n  });\n  var sdpIncludeHotel = Segments.some(function (item) {\n    return item.IsIncludeHotel === true;\n  });\n  var sdpIncludeTrain = Segments.some(function (item) {\n    return item.IsIncludeSystemTrain === true;\n  });\n\n  // \n  var OrderKnowList = (OrderKnow === null || OrderKnow === void 0 ? void 0 : OrderKnow.OrderKnowList) || [];\n  var filterOrderKnow = OrderKnowList.find(function (item) {\n    return item.Title == '';\n  });\n  var BookLimitInfo = (filterOrderKnow === null || filterOrderKnow === void 0 ? void 0 : filterOrderKnow.DescList) || [];\n  var productType = pageStatus.isPureDiyfhxsdp ? 'sdp' : 'grp';\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u9884\\u8BA2\\u9650\\u5236\",\n    handleClose: function handleClose() {\n      handleToggleBookingLimitMask(false);\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"PopMaskContainer MarginX32\",\n      children: [productType === 'grp' && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"BookingLimitMaskLine\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BookingLimitMaskIcon\",\n            children: \"\\uE167\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"BookingLimitMaskText\",\n            children: [\"\\u8BE5\\u4EA7\\u54C1\\u6700\\u5C11\", MinBookPerson, \"\\u4EBA\\u8D77\\u8BA2\\uFF0C\\u6210\\u4EBA+\\u513F\\u7AE5\\u6700\\u591A\\u652F\\u6301\", MaxBookPerson, \"\\u4EBA\"]\n          })]\n        }), !!BookLimitInfo && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: BookLimitInfo.map(function (val, index) {\n            var isHighlight = val.IsHighlight;\n            return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"BookingLimitMaskLine\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"BookingLimitMaskIcon\",\n                children: \"\\uE167\"\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: isHighlight ? 'BookingLimitMaskTextHighlight' : 'BookingLimitMaskText',\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"mp-html\", {\n                  content: val.Detail,\n                  copyLink: false,\n                  onLinktap: function onLinktap(event) {\n                    if (event && event.detail && event.detail.href) {\n                      controller.jumpH5({\n                        url: event.detail.href\n                      });\n                    }\n                  }\n                })\n              })]\n            }, index);\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"BookingLimitMaskLine\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BookingLimitMaskIcon\",\n            children: \"\\uE167\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"BookingLimitMaskText\",\n            children: \"\\u4EE5\\u4E0A\\u4EF7\\u683C\\u5747\\u4E3A\\u4EBA\\u5747\\u4EF7\"\n          })]\n        })]\n      }), productType === 'sdp' && !IsOverSea && !sdpIncludeTrain && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"BookingLimitMaskLine\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BookingLimitMaskIcon\",\n          children: \"\\uE167\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"BookingLimitMaskText\",\n          children: [\"\\u8BE5\\u4EA7\\u54C1\\u6700\\u5C11\", MinBookPerson, \"\\u4EBA\\u8D77\\u8BA2\\uFF0C\\u6210\\u4EBA+\\u513F\\u7AE5+\\u5A74\\u513F\\u6700\\u591A\\u652F\\u6301\", MaxBookPerson, \"\\u4EBA\"]\n        })]\n      }), productType === 'sdp' && !IsOverSea && sdpIncludeTrain && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"BookingLimitMaskLine\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BookingLimitMaskIcon\",\n          children: \"\\uE167\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"BookingLimitMaskText\",\n          children: [\"\\u8BE5\\u4EA7\\u54C1\\u6700\\u5C11\", MinBookPerson, \"\\u4EBA\\u8D77\\u8BA2\\uFF0C\\u6210\\u4EBA+\\u513F\\u7AE5\\u6700\\u591A\\u652F\\u6301\", MaxBookPerson, \"\\u4EBA\\uFF0C\\u4E14\\u603B\\u4EBA\\u6570\\u6700\\u591A9\\u4EBA\"]\n        })]\n      }), productType === 'sdp' && !!IsOverSea && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"BookingLimitMaskLine\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BookingLimitMaskIcon\",\n          children: \"\\uE167\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"BookingLimitMaskText\",\n          children: [\"\\u8BE5\\u4EA7\\u54C1\\u6700\\u5C11\", MinBookPerson, \"\\u4EBA\\u8D77\\u8BA2\\uFF0C\\u8BE5\\u4EA7\\u54C1\\u6210\\u4EBA+\\u513F\\u7AE5\\u6700\\u591A\", MaxBookPerson, \"\\u4EBA\\u4E14\\u5A74\\u513F\\u6700\\u591A4\\u540D\"]\n        })]\n      }), productType === 'sdp' && sdpIncludeTrain && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"BookingLimitMaskLine\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BookingLimitMaskIcon\",\n          children: \"\\uE167\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BookingLimitMaskText\",\n          children: \"\\u706B\\u8F66\\u7968\\u8D2D\\u4E70\\uFF1A\\u4E00\\u540D\\u6210\\u5E74\\u4EBA\\u65C5\\u5BA2\\u53EF\\u4EE5\\u514D\\u8D39\\u643A\\u5E26\\u4E00\\u540D\\u8EAB\\u9AD8\\u4E0D\\u8DB31.2\\u7C73\\u7684\\u513F\\u7AE5\\uFF08\\u542B\\u5A74\\u513F\\uFF09\\uFF1B1.2~1.5\\u7C73\\u7684\\u513F\\u7AE5\\u51FA\\u51FA\\u513F\\u7AE5\\u7968\\uFF1B\\u8D85\\u8FC71.5\\u7C73\\u7684\\u513F\\u7AE5\\u51FA\\u5168\\u4EF7\\u5750\\u7968\\u3002\"\n        })]\n      }), productType === 'sdp' && sdpIncludeFlight && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"BookingLimitMaskLine\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BookingLimitMaskIcon\",\n          children: \"\\uE167\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BookingLimitMaskText\",\n          children: \"12\\u5468\\u5C81\\u53CA\\u4EE5\\u4E0A\\u7684\\u513F\\u7AE5\\u89C6\\u4F5C\\u6210\\u4EBA\\u67E5\\u8BE2\\u673A\\u7968\\uFF0C\\u4EE5\\u6210\\u4EBA\\u4EF7\\u8BA1\\u4EF7\\uFF1B\\u51FA\\u884C\\u5F53\\u65E5\\u672A\\u6EE114\\u5929\\u7684\\u5A74\\u513F\\u9700\\u81F3\\u822A\\u7A7A\\u516C\\u53F8\\u552E\\u7968\\u5904\\u7533\\u8BF7\\u8D2D\\u4E70\\u673A\\u7968\\u3002\"\n        })]\n      }), productType === 'sdp' && sdpIncludeHotel && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"BookingLimitMaskLine\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BookingLimitMaskIcon\",\n          children: \"\\uE167\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"BookingLimitMaskText\",\n          children: \"\\u513F\\u7AE5/\\u5A74\\u513F\\u5165\\u4F4F\\u9075\\u5FAA\\u9152\\u5E97\\u653F\\u7B56\\u3002\"\n        })]\n      }), productType === 'sdp' && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: bookingLimitSdp.map(function (val, index) {\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"BookingLimitMaskLine\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"BookingLimitMaskIcon\",\n              children: \"\\uE167 \"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"BookingLimitMaskText\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"mp-html\", {\n                content: val.description,\n                copyLink: false,\n                onLinktap: function onLinktap(event) {\n                  if (event && event.detail && event.detail.href) {\n                    controller.jumpH5({\n                      url: event.detail.href\n                    });\n                  }\n                }\n              })\n            })]\n          }, index);\n        })\n      })]\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/PreSaleNoticeMask.tsx\n\n\n\n// import { PresaleNotice } from '@ctrip/vacation-process-components-taro'\n\nfunction PreSaleNoticeMask() {\n  var handleTogglePreSaleNoticeMask = model_Model.useActions().handlers.handleTogglePreSaleNoticeMask;\n  var _Model$useState = model_Model.useState(),\n    isShowPreSaleNoticeMask = _Model$useState.isShowPreSaleNoticeMask,\n    PreSaleNoticeMaskSelectType = _Model$useState.PreSaleNoticeMaskSelectType,\n    currentRouteInfo = _Model$useState.currentRouteInfo;\n  var notice = currentRouteInfo.PreSaleNotice;\n  if (!notice) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(commonModule_prod.PresaleNotice, {\n    notice: notice,\n    type: PreSaleNoticeMaskSelectType,\n    isShow: isShowPreSaleNoticeMask,\n    onClose: function onClose() {\n      handleTogglePreSaleNoticeMask({\n        status: false,\n        selectType: ''\n      });\n    }\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/pop/GODetailMask.tsx\n\n\n\n\n\nfunction GODetailMask() {\n  var _ref = model_Model.useState(function (state) {\n      var isShowGODetailMask = state.isShowGODetailMask;\n      return {\n        isShowGODetailMask: isShowGODetailMask\n      };\n    }),\n    isShowGODetailMask = _ref.isShowGODetailMask;\n  var handleToggleGODetailMask = model_Model.useActions().handlers.handleToggleGODetailMask;\n  if (!isShowGODetailMask) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(PopOptionPlus/* default */.Z, {\n    title: \"\\u8BF4\\u660E\",\n    handleClose: function handleClose() {\n      handleToggleGODetailMask(false);\n    },\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"PopMaskContainer MarginX32\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: \"T\\u961F\\uFF08Trip Pal\\uFF09\\u662F\\u9762\\u5411\\u5E74\\u8F7B\\u4EBA\\u65C5\\u884C\\u7684\\u300E\\u7ED3\\u4F34\\u6E38\\u300F\\u4E13\\u5C5E\\u9886\\u961F\\uFF0C\\u4ED6\\u4EEC\\u6027\\u683C\\u6D3B\\u6CFC\\uFF0C\\u719F\\u6089\\u5F53\\u5730\\u5403\\u559D\\u73A9\\u4E50\\uFF0C\\u5404\\u6000\\u6240\\u957F\\uFF0C\\u662F\\u5E26\\u7740\\u4F60\\u73A9\\u7684\\u9760\\u8C31\\u73A9\\u4F34\\uFF0C\\u662F\\u56E2\\u961F\\u6C14\\u6C1B\\u7684\\u7EC4\\u7EC7\\u8005\\u3002\"\n      })\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/CommentTip.tsx\n\n\n\n\n\n\n\n\nfunction CommentTip() {\n  var _ref = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo;\n      return {\n        BasicInfo: BasicInfo\n      };\n    }),\n    BasicInfo = _ref.BasicInfo;\n  var isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp;\n  var env = util/* default.getEnv */.Z.getEnv();\n  if (env === 'prd') {\n    env = 'prod';\n  }\n  var props = {\n    channel: isPureDiyfhxsdp ? 'vacations-diy' : 'vacations-grp',\n    env: env,\n    // env  prod\n    queryId: BasicInfo.ProductId,\n    //6570392\n    scene: isPureDiyfhxsdp ? 'SINGLE_PRODUCT_QUERY' : 'PRODUCT_QUERY',\n    //'PRODUCT_QUERY' as const\n    isFillet: false,\n    //   16\n    jump: function jump(url) {\n      var data = {\n        url: encodeURIComponent(url),\n        pageTitle: {\n          color: {\n            backgroundColor: '#ffffff',\n            frontColor: '#000000'\n          }\n        }\n      };\n      cwx_default().navigateTo({\n        url: '/cwx/component/cwebview/cwebview?data=' + JSON.stringify(data)\n      });\n    }\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"ModuleBoxWithoutPadding\",\n    id: \"Taro_Scroll_To_Offset\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(commonModule_prod.SimpleCommentBar, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, props), {}, {\n      isPlaceholder: true\n    }))\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/SellingPoint_new.tsx\n\n\n\n\n\n\n\n\n\n\n\nfunction SellingPointWithComment() {\n  var _ref = model_Model.useState(function (state) {\n      var isPremium = state.isPremium,\n        BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo,\n        ABTestResult = state.ABTestResult,\n        CruisesBaseInfo = state.CruisesBaseInfo,\n        productRanking = state.productRanking,\n        isIOS = state.isIOS;\n      return {\n        isPremium: isPremium,\n        BasicInfo: BasicInfo,\n        currentRouteInfo: currentRouteInfo,\n        ABTestResult: ABTestResult,\n        CruisesBaseInfo: CruisesBaseInfo,\n        productRanking: productRanking,\n        isIOS: isIOS\n      };\n    }),\n    isPremium = _ref.isPremium,\n    BasicInfo = _ref.BasicInfo,\n    currentRouteInfo = _ref.currentRouteInfo,\n    ABTestResult = _ref.ABTestResult,\n    CruisesBaseInfo = _ref.CruisesBaseInfo,\n    productRanking = _ref.productRanking,\n    isIOS = _ref.isIOS;\n  var TagGroupInfo = currentRouteInfo.TagGroupInfo;\n  var isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp,\n    isCruise = BasicInfo.isCruise;\n  var hasRankingInfo = productRanking && productRanking.rankingDesc;\n  var hasTagInfo = true;\n  var SpecialTagList = TagGroupInfo.SpecialTagList || [];\n  var MoreTagList = TagGroupInfo.MoreTagList || [];\n  var NewPromotionTagList = TagGroupInfo.NewPromotionTagList || [];\n  var TravelServiceTagList = TagGroupInfo.TravelServiceTagList || [];\n  if (!isPureDiyfhxsdp)\n    //  MoreTagList \n    MoreTagList = [];\n  if (!MoreTagList.length && !SpecialTagList.length && !NewPromotionTagList.length && !TravelServiceTagList.length) {\n    hasTagInfo = false;\n  }\n  //  AB\n  var isShowTagWithSearch = false;\n  if (ABTestResult && ABTestResult['220808_VAC_xqtlb'] && ABTestResult['220808_VAC_xqtlb'] === 'B') {\n    isShowTagWithSearch = true;\n  }\n  var hasTagBox = hasRankingInfo || hasTagInfo;\n  var env = util/* default.getEnv */.Z.getEnv();\n  if (env === 'prd') {\n    env = 'prod';\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"sellingPointWithCommentBox\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"sellingPointSubBox\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(ProfileSubName, {}), !!hasTagBox && /*#__PURE__*/(0,jsx_runtime.jsx)(TagInfoWithSearch, {})]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      style: {\n        marginTop: -7\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(CommentTip, {})\n    })]\n  });\n}\nfunction ProfileSubName() {\n  var _ref2 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo,\n        BasicInfo = state.BasicInfo,\n        isIOS = state.isIOS;\n      return {\n        currentRouteInfo: currentRouteInfo,\n        BasicInfo: BasicInfo,\n        isIOS: isIOS\n      };\n    }),\n    currentRouteInfo = _ref2.currentRouteInfo,\n    BasicInfo = _ref2.BasicInfo,\n    isIOS = _ref2.isIOS;\n  var handleTraceLog = model_Model.useActions().handlers.handleTraceLog;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isExpand = _useState2[0],\n    setExpandStatus = _useState2[1];\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    lineNumberExtend = _useState4[0],\n    setLineNumberExtend = _useState4[1];\n  var SubName = currentRouteInfo === null || currentRouteInfo === void 0 ? void 0 : currentRouteInfo.SubName;\n  (0,react.useEffect)(function () {\n    setLineNumberExtend(false);\n    setExpandStatus(false);\n    taro_default().nextTick(function () {\n      var element = taro_default().createSelectorQuery().select('#SellingPointRef');\n      if (element) {\n        element.boundingClientRect(function (res) {\n          if ((res === null || res === void 0 ? void 0 : res.height) > 65) {\n            setLineNumberExtend(true);\n          }\n        }).exec();\n      }\n    });\n  }, [SubName]);\n  var stateChange = function stateChange(status) {\n    setExpandStatus(status);\n  };\n  if (!!BasicInfo.isStudy || !SubName) {\n    return null;\n  }\n  SubName = '         ' + SubName.replace(/\\n/g, \" \");\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"sellingPointIcon\",\n      src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bigpic/sellingpoint_icon.png'\n    }), !!isExpand ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"titleContainer\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"subNameTextColor\",\n        children: SubName\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"expandStatus\",\n        onClick: function onClick() {\n          stateChange(!isExpand);\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            color: 'rgb(17,17,17)',\n            fontSize: 13\n          },\n          children: \"\\u6536\\u8D77\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"detailIconExpand\",\n          children: \"\\uE946\"\n        })]\n      })]\n    }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"detaiDiscountTextNew\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"subtitleText\",\n          children: SubName\n        }), lineNumberExtend && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"iconContainer\",\n          onClick: function onClick() {\n            stateChange(!isExpand);\n            handleTraceLog('grp_prddtl_subtitle_spread_trace');\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"expandLeftLinear\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            style: {\n              backgroundColor: 'rgba(255,255,255,1)',\n              width: 6,\n              height: 20\n            }\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"expandTextDesc\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              style: {\n                color: 'rgb(17,17,17)',\n                fontSize: 13\n              },\n              children: \"\\u5C55\\u5F00\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: 'detailIconExpand',\n              children: \"\\uE945\"\n            })]\n          })]\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      id: 'SellingPointRef',\n      className: \"SubNameAllText\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"subtitleText2\",\n        style: {\n          display: 'flex'\n        },\n        children: SubName\n      })\n    })]\n  });\n}\nfunction TagInfoWithSearch() {\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ProfileTagLineBigPic\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(UIRankingInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(TagInfo, {})]\n  });\n}\nfunction TagInfo() {\n  var BasicInfo = model_Model.useState(function (state) {\n    return state.BasicInfo;\n  });\n  var currentRouteInfo = model_Model.useState(function (state) {\n    return state.currentRouteInfo;\n  });\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleGoSearchTag = _Model$useActions$han.handleGoSearchTag,\n    handleToggleThemeDifficultyMask = _Model$useActions$han.handleToggleThemeDifficultyMask,\n    handleTraceLog = _Model$useActions$han.handleTraceLog;\n  var TagGroupInfo = currentRouteInfo.TagGroupInfo;\n  var isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp;\n  var MarketingTagList = TagGroupInfo.MarketingTagList || [];\n  var SpecialTagList = TagGroupInfo.SpecialTagList || [];\n  var MoreTagList = TagGroupInfo.MoreTagList || [];\n  var NewPromotionTagList = TagGroupInfo.NewPromotionTagList || [];\n  var TravelServiceTagList = TagGroupInfo.TravelServiceTagList || [];\n  if (!isPureDiyfhxsdp)\n    //  MoreTagList \n    MoreTagList = [];\n  if (!MarketingTagList.length && !MoreTagList.length && !SpecialTagList.length && !NewPromotionTagList.length && !TravelServiceTagList.length) {\n    return null;\n  }\n  var isShowThemeDifficultyTag = SpecialTagList.some(function (tag) {\n    return [2103, 2104, 2105, 2106, 2107].includes(tag.TagId);\n  });\n  var ThemeDifficultyTag = null;\n  var displaySpecialTagList = [].concat((0,toConsumableArray/* default */.Z)(SpecialTagList.slice()), (0,toConsumableArray/* default */.Z)(TravelServiceTagList.slice()));\n  if (isShowThemeDifficultyTag) {\n    ThemeDifficultyTag = SpecialTagList.find(function (tag) {\n      return [2103, 2104, 2105, 2106, 2107].includes(tag.TagId);\n    });\n    if (ThemeDifficultyTag) {\n      displaySpecialTagList = SpecialTagList.filter(function (tag) {\n        return tag.TagId !== ThemeDifficultyTag.TagId;\n      });\n    }\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [!!ThemeDifficultyTag && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"detailLabelTheme\",\n      onClick: function onClick() {\n        handleToggleThemeDifficultyMask(true);\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          fontSize: 11,\n          color: '#fff'\n        },\n        children: ThemeDifficultyTag.TagName\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"detailThemeIcon\"\n      })]\n    }), NewPromotionTagList.concat(displaySpecialTagList).map(function (_ref3, index) {\n      var TagName = _ref3.TagName,\n        TagDisplayName = _ref3.TagDisplayName;\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"ProfileTagGrayBigPic\",\n        onClick: function onClick() {\n          // handleGoSearchTag(TagName)\n          handleTraceLog('grp_xqtlb_trace', {\n            pttype: BasicInfo.ProductPatternId,\n            tag: TagName\n          });\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            color: 'rgba(0,0,0,0.7)',\n            fontSize: 11\n          },\n          children: TagDisplayName || TagName\n        })\n      }, index);\n    })]\n  });\n}\nfunction UIRankingInfo() {\n  var BasicInfo = model_Model.useState(function (state) {\n    return state.BasicInfo;\n  });\n  var productRanking = model_Model.useState(function (state) {\n    return state.productRanking;\n  });\n  var _Model$useActions$han2 = model_Model.useActions().handlers,\n    handleGoTopList = _Model$useActions$han2.handleGoTopList,\n    handleTraceLog = _Model$useActions$han2.handleTraceLog;\n\n  // \n  if (![9, 26].includes(BasicInfo.ProductCategoryId)) {\n    return null;\n  }\n  if (!productRanking || !productRanking.rankingDesc) {\n    return null;\n  }\n  var rankingDesc = productRanking.rankingDesc,\n    jumpUrl = productRanking.jumpUrl;\n  var canJumpRankingInfo = jumpUrl && jumpUrl.h5Url;\n  var targetUrl = jumpUrl === null || jumpUrl === void 0 ? void 0 : jumpUrl.h5Url;\n  var exposeValue = {\n    pkgid: BasicInfo.ProductId,\n    pttype: BasicInfo.ProductPatternId,\n    dest_id: BasicInfo.DestCityId,\n    toplistname: rankingDesc\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    onClick: function onClick() {\n      canJumpRankingInfo ? handleGoTopList(targetUrl) : null;\n      handleTraceLog('grp_bangdan_trace', exposeValue);\n    },\n    className: \"detailRankingBoxBigPic\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"detailLabelRankingBigPic\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          color: 'rgb(168,112,64)',\n          fontSize: 10\n        },\n        children: rankingDesc\n      }), !!canJumpRankingInfo && targetUrl && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"jumpRankingIcon\",\n        children: \"\\uE944\"\n      })]\n    })\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/components_new/TagBanner.tsx\n\n\n\n\n\n\nvar styles = {};\n\n\n\n\n\nfunction ProfileBanner() {\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"bannerContainer\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Announcement, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(BookingServiceTags, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(PromotionTags, {})]\n  });\n}\nfunction Announcement() {\n  var emotionalCues = model_Model.useState(function (state) {\n    return state.emotionalCues;\n  });\n  //  012\n  var riskType = emotionalCues && emotionalCues.riskCityPolicy && emotionalCues.riskCityPolicy.riskType;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleToggleUrgentMask = _Model$useActions$han.handleToggleUrgentMask,\n    handleTraceLog = _Model$useActions$han.handleTraceLog;\n\n  //\n  var isShowUrgentInfo = false;\n  if (emotionalCues && emotionalCues.urgentInfo && emotionalCues.urgentInfo.length) {\n    isShowUrgentInfo = true;\n  }\n  if (emotionalCues && emotionalCues.riskCityPolicy) {\n    var riskCityPolicy = emotionalCues.riskCityPolicy;\n    var startCityPolicy = riskCityPolicy.startCityPolicy,\n      endCityPolicy = riskCityPolicy.endCityPolicy,\n      startCityRevPolicy = riskCityPolicy.startCityRevPolicy,\n      endCityRevPolicy = riskCityPolicy.endCityRevPolicy;\n    if (startCityPolicy || endCityPolicy || startCityRevPolicy || endCityRevPolicy) {\n      isShowUrgentInfo = true;\n    }\n  }\n  if (isShowUrgentInfo) {\n    // \n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"ProfileServiceTagBoxPeerBigPic\",\n      onClick: function onClick() {\n        handleToggleUrgentMask(true);\n        handleTraceLog('grp_prddtl_notice_click', {\n          type: ''\n        });\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"noticeText\",\n        children: \"\\u516C\\u544A\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"ProfileServiceTagUrgentInfo\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            fontSize: 13,\n            color: '#666',\n            marginRight: 20\n          },\n          children: \"\\u51FA\\u884C\\u653F\\u7B56\\u63D0\\u9192\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"UrgentInfoIcon\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              fontSize: 14,\n              color: '#999'\n            },\n            className: \"baseIcon\",\n            children: \"\\uE944\"\n          })\n        })]\n      })]\n    });\n  } else {\n    // \n    return null;\n  }\n}\nfunction BookingServiceTags() {\n  var currentRouteInfo = model_Model.useState(function (state) {\n    return state.currentRouteInfo;\n  });\n  var BasicInfo = model_Model.useState(function (state) {\n    return state.BasicInfo;\n  });\n  var actionIdSuffix = model_Model.useState(function (state) {\n    return state.actionIdSuffix;\n  });\n  var _Model$useActions$han2 = model_Model.useActions().handlers,\n    handleToggleServiceTagMask = _Model$useActions$han2.handleToggleServiceTagMask,\n    handleGoSecurityInfo = _Model$useActions$han2.handleGoSecurityInfo;\n  var _ref = currentRouteInfo || {},\n    TagGroupInfo = _ref.TagGroupInfo;\n  var isDiyfhxsdp = BasicInfo.isDiyfhxsdp;\n  if (isDiyfhxsdp) {\n    var _displayTags = getDisplayServiceTags(BasicInfo, TagGroupInfo.MoreTagList);\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: 'ProfileServiceTagBoxPeerBigPicSdp',\n      onClick: function onClick() {\n        handleGoSecurityInfo();\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"noticeText\",\n        children: \"\\u670D\\u52A1\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"ProfileServiceTagCenterBigPic\",\n        children: _displayTags.map(function (tag, index) {\n          if (index === 0) {\n            return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"ProfileServiceTagItemBigPic\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                className: \"ProfileSecureIconBigPicSdp\",\n                src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/securetravel.png'\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"ProfileServiceTagItemBigPic\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                  style: {\n                    color: '#0dba0d',\n                    fontSize: 12\n                  },\n                  children: [tag, \"\\uFF1A\"]\n                })\n              })]\n            }, index);\n          } else {\n            return /*#__PURE__*/(0,jsx_runtime.jsx)(react.Fragment, {\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"ProfileServiceTagItemBigPicRe\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"ProfileServiceTagItemBigPic\",\n                  children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n                    style: {\n                      color: '#0dba0d',\n                      fontSize: 12\n                    },\n                    children: [index === 1 ? '' : '', tag]\n                  })\n                })\n              })\n            }, index);\n          }\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"ProfileServiceTagItemBigPic\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            fontSize: 14,\n            color: '#999'\n          },\n          className: \"baseIcon\",\n          children: \"\\uE944\"\n        })\n      })]\n    });\n  }\n  if (!TagGroupInfo || !TagGroupInfo.MoreTagList || TagGroupInfo.MoreTagList.length === 0) {\n    return null;\n  }\n  var displayTags = TagGroupInfo.MoreTagList.slice();\n\n  //    tag\n  var isShowSecureTag = displayTags.some(function (item) {\n    return [2147, 1747].includes(item.TagId);\n  }) && displayTags.find(function (item) {\n    return item.TagId === 2154;\n  });\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"ProfileServiceTagBoxPeerBigPicProm\",\n    onClick: function onClick() {\n      handleToggleServiceTagMask(true);\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"noticeText\",\n      children: \"\\u670D\\u52A1\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"ProfileServiceTagCenterLineUrgentBigPic\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"ProfileServiceTagItemBigPic\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"ProfileSecureIconContainigPic\",\n          src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/securetravel.png'\n        }), isShowSecureTag && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"ProfileAXDIconBigPic\",\n          src: 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/axd_wyx.png'\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"contextContainer\",\n        children: displayTags.map(function (tag, index) {\n          var TagName = tag.TagName,\n            TagDisplayName = tag.TagDisplayName;\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            style: {\n              fontSize: 12,\n              color: isShowSecureTag ? '#666' : '#0dba0d'\n            },\n            children: [index === 0 ? '' : '', TagDisplayName || TagName]\n          }, index);\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"ProfileServiceTagItemBigPic\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        style: {\n          fontSize: 14,\n          color: '#999'\n        },\n        className: \"baseIcon\",\n        children: \"\\uE944\"\n      })\n    })]\n  });\n}\nfunction getDisplayServiceTags(BasicInfo, MoreTagList) {\n  var isPureDiyfhxsdp = BasicInfo.isPureDiyfhxsdp,\n    isDiyfhxsdp = BasicInfo.isDiyfhxsdp,\n    IsHkMcTw = BasicInfo.IsHkMcTw,\n    IsInternal = BasicInfo.IsInternal;\n  var tags = [];\n  if (isDiyfhxsdp) {\n    // '', ''\n    var isOverseas = !IsHkMcTw && !IsInternal;\n    if (isOverseas) {\n      tags = ['', ''];\n    } else {\n      tags = ['', ''];\n    }\n    tags.unshift('');\n  } else {\n    MoreTagList.slice().forEach(function (_ref2) {\n      var TagName = _ref2.TagName;\n      tags.push(TagName);\n    });\n  }\n  return tags;\n}\nfunction PromotionTags() {\n  var _ref3 = model_Model.useState(function (state) {\n      var currentRouteInfo = state.currentRouteInfo,\n        pageStatus = state.pageStatus,\n        pageId = state.pageId;\n      return {\n        currentRouteInfo: currentRouteInfo,\n        pageStatus: pageStatus,\n        pageId: pageId\n      };\n    }),\n    currentRouteInfo = _ref3.currentRouteInfo,\n    pageStatus = _ref3.pageStatus,\n    pageId = _ref3.pageId;\n  var _Model$useActions$han3 = model_Model.useActions().handlers,\n    handleTogglePromotionMask = _Model$useActions$han3.handleTogglePromotionMask,\n    handleTraceLog = _Model$useActions$han3.handleTraceLog;\n  var _Model$useActions = model_Model.useActions(),\n    UPDATE_COUPON_COMPONENT_DATA = _Model$useActions.UPDATE_COUPON_COMPONENT_DATA;\n\n  // \n  var activeProductId = pageStatus.activeProductId;\n  (0,react.useEffect)(function () {\n    getClaimCouponList({\n      pageId: pageId,\n      activeProductId: activeProductId,\n      UPDATE_COUPON_COMPONENT_DATA: UPDATE_COUPON_COMPONENT_DATA\n    });\n  }, [activeProductId]);\n  var totalCount = getTotalDiscountCount();\n  var entryText = totalCount ? \"\".concat(totalCount, \"\\u9879\\u4F18\\u60E0\") : '';\n\n  // \n  var CouponInfo = currentRouteInfo.CouponInfo;\n  var hasCoupon = CouponInfo && CouponInfo.availableClaimList && CouponInfo.availableClaimList.length > 0;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"PromotionBannerBoxBigPic\",\n    onClick: function onClick() {\n      handleTogglePromotionMask(true);\n    },\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"PromotionText\",\n      children: \"\\u4F18\\u60E0\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"PromotionBannerListBigPic\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(LevelMemberTag, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CrossMemberTag, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(SuperMemberTag, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(SpecialTag, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CouponTag, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(CreditTag, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(PromotionTag, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(BonusTag, {})]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"PromotionBannerBoxBigPic\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewBannerDiscountsCount\",\n        children: hasCoupon ? '' : entryText\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"NewBannerItemIconText\",\n        children: \"\\uE944\"\n      })]\n    })]\n  });\n}\nfunction LevelMemberTag() {\n  var _ref4 = model_Model.useState(function (state) {\n      var userInformation = state.userInformation;\n      return {\n        userInformation: userInformation\n      };\n    }),\n    userInformation = _ref4.userInformation;\n  if (!userInformation || !userInformation.levelMember) {\n    return null;\n  }\n  var levelMember = userInformation.levelMember;\n  var levelCode = levelMember.levelCode,\n    tags = levelMember.tags;\n  if (!tags || !tags.length) {\n    return null;\n  }\n  var INCLUDE_KEY = ['LEVELMEMBER_PRICE', 'LEVELMEMBER_DEFAULT'];\n  var displayTag = tags.find(function (item) {\n    return INCLUDE_KEY.includes(item.key);\n  });\n  if (!displayTag || !displayTag.value) {\n    return null;\n  }\n  var baseImgUrl = 'https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/detail/bigpic/';\n  var displayImgUrlMap = {\n    : baseImgUrl + 'black_diamond.png',\n    : baseImgUrl + 'Platinum.png',\n    : baseImgUrl + 'gold_diamond.png',\n    : baseImgUrl + 'diamond.png'\n  };\n  var displayImgUrl = displayImgUrlMap[displayTag.value.substr(0, 2)];\n  var TagTextColorMap = {\n    0: '#0086f6',\n    5: '#4274bc',\n    10: '#B3802D',\n    20: 'rgb(21,123,157)',\n    30: 'rgb(70,82,144)',\n    35: 'rgb(39,57,111)',\n    40: '#ead6b1'\n  };\n  var TagBgColorMap = {\n    0: ['#E5F4FF', '#E5F4FF'],\n    5: ['#e6f0ff', '#e6f0ff'],\n    10: ['#FFFAF2', '#FFFAF2'],\n    20: ['rgb(255, 255, 255)', 'rgb(255, 255, 255)'],\n    30: ['rgb(255, 255, 255)', 'rgb(255, 255, 255)'],\n    35: ['rgb(255, 255, 255)', 'rgb(255, 255, 255)'],\n    40: ['rgb(102, 102, 102)', 'rgb(51, 51, 51)']\n  };\n  var _ref5 = TagBgColorMap[levelCode] || ['#E5F4FF', '#E5F4FF'],\n    _ref6 = (0,slicedToArray/* default */.Z)(_ref5, 2),\n    color1 = _ref6[0],\n    color2 = _ref6[1];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    style: {\n      borderColor: TagTextColorMap[levelCode],\n      backgroundImage: \"linear-gradient(to right bottom, \".concat(color1, \" 25%, \").concat(color2, \" 75%)\")\n    },\n    className: \"PromotionBannerMemberTagBigPic\",\n    children: [!!displayImgUrl && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"levelMemberIcon\",\n      src: displayImgUrl\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n      style: {\n        fontSize: 11,\n        color: TagTextColorMap[levelCode]\n      },\n      children: [\"\\xA0\", displayTag.value, \"\\xA0\"]\n    })]\n  });\n}\nfunction CrossMemberTag() {\n  var _ref7 = model_Model.useState(function (state) {\n      var userInformation = state.userInformation;\n      return {\n        userInformation: userInformation\n      };\n    }),\n    userInformation = _ref7.userInformation;\n  if (!userInformation || !userInformation.crossMember) {\n    return null;\n  }\n  var crossMember = userInformation.crossMember;\n  var tags = crossMember.tags;\n  if (!tags || !tags.length) {\n    return null;\n  }\n  var INCLUDE_KEY = ['FLIGHTMEMBER_PRICE'];\n  var displayTag = tags.find(function (item) {\n    return INCLUDE_KEY.includes(item.key);\n  });\n  if (!displayTag || !displayTag.value) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    style: {\n      background: '#f2f8fe'\n    },\n    className: \"PromotionBannerMemberTagBigPic\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n      style: {\n        fontSize: 11,\n        color: '#0086F6'\n      },\n      children: [\"\\xA0\", displayTag.value, \"\\xA0\"]\n    })\n  });\n}\nfunction SuperMemberTag() {\n  var _ref8 = model_Model.useState(function (state) {\n      var userInformation = state.userInformation;\n      return {\n        userInformation: userInformation\n      };\n    }),\n    userInformation = _ref8.userInformation;\n  if (!userInformation || !userInformation.superMember) {\n    return null;\n  }\n  var superMember = userInformation.superMember;\n  var tags = superMember.tags;\n  if (!tags || !tags.length) {\n    return null;\n  }\n  var INCLUDE_KEY = ['SUPERMEMBER_DEFAULT'];\n  var displayTag = tags.find(function (item) {\n    return INCLUDE_KEY.includes(item.key);\n  });\n  if (!displayTag || !displayTag.value) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    style: {\n      background: '#ffefe1',\n      borderColor: '#7b3e29'\n    },\n    className: \"PromotionBannerMemberTagBigPic\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n      style: {\n        fontSize: 11,\n        color: '#7b3e29'\n      },\n      children: [\"\\xA0\", displayTag.value, \"\\xA0\"]\n    })\n  });\n}\nfunction SpecialTag() {\n  var _ref9 = model_Model.useState(function (state) {\n      var specialTag = state.specialTag;\n      return {\n        specialTag: specialTag\n      };\n    }),\n    specialTag = _ref9.specialTag;\n  if (!specialTag) {\n    return null;\n  }\n  var TagName = specialTag.TagName;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"PromotionBannerItemBigPic\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      style: {\n        fontSize: 11,\n        color: '#FF6600'\n      },\n      children: TagName\n    })\n  });\n}\nfunction CouponTag() {\n  var _ref10 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        currentRouteInfo = state.currentRouteInfo;\n      return {\n        BasicInfo: BasicInfo,\n        currentRouteInfo: currentRouteInfo\n      };\n    }),\n    BasicInfo = _ref10.BasicInfo,\n    currentRouteInfo = _ref10.currentRouteInfo;\n  var CouponInfo = currentRouteInfo.CouponInfo;\n  if (!CouponInfo) {\n    return null;\n  }\n  var availableClaimList = CouponInfo.availableClaimList,\n    availableUseList = CouponInfo.availableUseList,\n    singkekList = CouponInfo.singkekList,\n    receivedNouseList = CouponInfo.receivedNouseList;\n  availableClaimList = availableClaimList || [];\n  availableUseList = availableUseList || [];\n  singkekList = singkekList || [];\n  receivedNouseList = receivedNouseList || [];\n  var couponList = [].concat((0,toConsumableArray/* default */.Z)(availableClaimList), (0,toConsumableArray/* default */.Z)(singkekList), (0,toConsumableArray/* default */.Z)(availableUseList), (0,toConsumableArray/* default */.Z)(receivedNouseList));\n  if (!couponList || !couponList.length) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: couponList.map(function (item, index) {\n      var promotionLabel = item.promotionLabel;\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"PromotionBannerItemBigPic\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            fontSize: 11,\n            color: '#FF6600'\n          },\n          children: promotionLabel\n        })\n      });\n    })\n  });\n}\nfunction CreditTag() {\n  var _ref11 = model_Model.useState(function (state) {\n      var BasicInfo = state.BasicInfo,\n        promotionDisplayInfo = state.promotionDisplayInfo;\n      return {\n        BasicInfo: BasicInfo,\n        promotionDisplayInfo: promotionDisplayInfo\n      };\n    }),\n    BasicInfo = _ref11.BasicInfo,\n    promotionDisplayInfo = _ref11.promotionDisplayInfo;\n  var isCruise = BasicInfo.isCruise;\n  if (isCruise) {\n    return null;\n  }\n  if (!promotionDisplayInfo || !promotionDisplayInfo.creditInfo) {\n    return null;\n  }\n  var PromotionWords = promotionDisplayInfo.creditInfo.PromotionWords;\n  if (!PromotionWords) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"PromotionBannerItemBigPic\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      style: {\n        fontSize: 11,\n        color: '#FF6600'\n      },\n      children: \"\\u62FF\\u53BB\\u82B1\\u5206\\u671F\"\n    })\n  });\n}\nfunction PromotionTag() {\n  var _ref12 = model_Model.useState(function (state) {\n      var compositeCoupon = state.compositeCoupon;\n      return {\n        compositeCoupon: compositeCoupon\n      };\n    }),\n    compositeCoupon = _ref12.compositeCoupon;\n  if (!compositeCoupon) {\n    return null;\n  }\n  var promotionList = compositeCoupon.promotionList,\n    promotionCount = compositeCoupon.promotionCount;\n  if (!promotionCount) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: promotionList.map(function (item, index) {\n      var title = item.title,\n        tag = item.tag;\n      if (!tag) {\n        return null;\n      }\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"PromotionBannerItemBigPic\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          style: {\n            fontSize: 11,\n            color: '#FF6600'\n          },\n          children: tag\n        })\n      }, index);\n    })\n  });\n}\nfunction BonusTag() {\n  var _ref13 = model_Model.useState(function (state) {\n      var userInformation = state.userInformation;\n      return {\n        userInformation: userInformation\n      };\n    }),\n    userInformation = _ref13.userInformation;\n  if (!userInformation || !userInformation.levelMember) {\n    return null;\n  }\n  var levelMember = userInformation.levelMember;\n  var tags = levelMember.tags;\n  if (!tags || !tags.length) {\n    return null;\n  }\n  var INCLUDE_KEY = ['LEVELMEMBER_BONUS'];\n  var displayTag = tags.find(function (item) {\n    return INCLUDE_KEY.includes(item.key);\n  });\n  if (!displayTag || !displayTag.value) {\n    return null;\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"PromotionBannerItemBigPic\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      style: {\n        fontSize: 11,\n        color: '#FF6600'\n      },\n      children: displayTag.value\n    })\n  });\n}\nvar getTotalDiscountCount = function getTotalDiscountCount() {\n  var _ref14 = model_Model.useState(function (state) {\n      var userInformation = state.userInformation,\n        compositeCoupon = state.compositeCoupon,\n        promotionDisplayInfo = state.promotionDisplayInfo;\n      return {\n        userInformation: userInformation,\n        compositeCoupon: compositeCoupon,\n        promotionDisplayInfo: promotionDisplayInfo\n      };\n    }),\n    userInformation = _ref14.userInformation,\n    compositeCoupon = _ref14.compositeCoupon,\n    promotionDisplayInfo = _ref14.promotionDisplayInfo;\n  var totalCount = 0;\n  if (userInformation) {\n    var levelMember = userInformation.levelMember,\n      crossMember = userInformation.crossMember,\n      superMember = userInformation.superMember;\n    var hasMemberDiscount = [levelMember, crossMember, superMember].some(function (info) {\n      if (info) {\n        var tags = info.tags;\n        if (tags && tags.length) {\n          var INCLUDE_KEY = ['LEVELMEMBER_PRICE', 'LEVELMEMBER_DEFAULT', 'FLIGHTMEMBER_PRICE', 'SUPERMEMBER_DEFAULT'];\n          if (tags.find(function (item) {\n            return INCLUDE_KEY.includes(item.key);\n          })) {\n            return true;\n          }\n        }\n      }\n      return false;\n    });\n    if (hasMemberDiscount) {\n      totalCount += 1;\n    }\n  }\n  if (compositeCoupon && compositeCoupon.promotionCount) {\n    totalCount = totalCount + compositeCoupon.promotionCount;\n  }\n  if (promotionDisplayInfo && promotionDisplayInfo.creditInfo) {\n    var PromotionWords = promotionDisplayInfo.creditInfo.PromotionWords;\n    if (PromotionWords) {\n      totalCount += 1;\n    }\n  }\n  return totalCount;\n};\nfunction getClaimCouponList(_ref15) {\n  var pageId = _ref15.pageId,\n    activeProductId = _ref15.activeProductId,\n    UPDATE_COUPON_COMPONENT_DATA = _ref15.UPDATE_COUPON_COMPONENT_DATA;\n  var _cwx$mkt$getUnion = cwx_default().mkt.getUnion(),\n    allianceid = _cwx$mkt$getUnion.allianceid,\n    sid = _cwx$mkt$getUnion.sid;\n  var env = util/* default.getEnv */.Z.getEnv();\n  if (env === 'prd') {\n    env = 'prod';\n  }\n  var options = {\n    env: env,\n    ctType: 0,\n    clientType: 3,\n    //bu\n    source: 'TOUR',\n    //\n    saleChannel: 117,\n    //aid\n    allianceId: allianceid,\n    //sid\n    siteId: sid,\n    //clientId\n    clientId: (cwx_default()).clientID,\n    //id\n    pageId: pageId,\n    //zh-CN\n    locale: 'zh-CN',\n    //,:CNY\n    currency: 'CNY',\n    //ID\n    productId: activeProductId\n  };\n  (0,commonModule_prod.fetchClaimCouponList)(options).then(function (val) {\n    console.log('---fetchClaimCouponList---', val);\n    UPDATE_COUPON_COMPONENT_DATA(val);\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/view.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction DetailView(_ref) {\n  var controller = _ref.controller;\n  var _Model$useState = model_Model.useState(function (state) {\n      var query = state.query,\n        BasicInfo = state.BasicInfo,\n        pageStatus = state.pageStatus,\n        currentRouteInfo = state.currentRouteInfo,\n        isShowCalendarPop = state.isShowCalendarPop,\n        isShowPresaleCalendarPop = state.isShowPresaleCalendarPop,\n        isLogin = state.isLogin,\n        CalendarSelectedDate = state.CalendarSelectedDate,\n        pageId = state.pageId,\n        PageUrl = state.PageUrl,\n        newProcessSelectDate = state.newProcessSelectDate,\n        groupCard = state.groupCard,\n        isPreSale = state.isPreSale,\n        TourGroupInfo = state.TourGroupInfo,\n        refreshSelectDateFlag = state.refreshSelectDateFlag,\n        scheduleDisableDates = state.scheduleDisableDates;\n      var _ref2 = currentRouteInfo || {},\n        PriceInfo = _ref2.PriceInfo,\n        BookInfo = _ref2.BookInfo;\n      return {\n        query: query,\n        BasicInfo: BasicInfo,\n        pageStatus: pageStatus,\n        PriceInfo: PriceInfo,\n        isShowCalendarPop: isShowCalendarPop,\n        isShowPresaleCalendarPop: isShowPresaleCalendarPop,\n        isLogin: isLogin,\n        CalendarSelectedDate: CalendarSelectedDate,\n        BookInfo: BookInfo,\n        pageId: pageId,\n        PageUrl: PageUrl,\n        newProcessSelectDate: newProcessSelectDate,\n        groupCard: groupCard,\n        isPreSale: isPreSale,\n        TourGroupInfo: TourGroupInfo,\n        refreshSelectDateFlag: refreshSelectDateFlag,\n        scheduleDisableDates: scheduleDisableDates\n      };\n    }),\n    query = _Model$useState.query,\n    BasicInfo = _Model$useState.BasicInfo,\n    pageStatus = _Model$useState.pageStatus,\n    PriceInfo = _Model$useState.PriceInfo,\n    isShowCalendarPop = _Model$useState.isShowCalendarPop,\n    isShowPresaleCalendarPop = _Model$useState.isShowPresaleCalendarPop,\n    isLogin = _Model$useState.isLogin,\n    CalendarSelectedDate = _Model$useState.CalendarSelectedDate,\n    BookInfo = _Model$useState.BookInfo,\n    pageId = _Model$useState.pageId,\n    PageUrl = _Model$useState.PageUrl,\n    newProcessSelectDate = _Model$useState.newProcessSelectDate,\n    groupCard = _Model$useState.groupCard,\n    isPreSale = _Model$useState.isPreSale,\n    TourGroupInfo = _Model$useState.TourGroupInfo,\n    refreshSelectDateFlag = _Model$useState.refreshSelectDateFlag,\n    scheduleDisableDates = _Model$useState.scheduleDisableDates;\n  var _Model$useActions$han = model_Model.useActions().handlers,\n    handleToggleCalendarPop = _Model$useActions$han.handleToggleCalendarPop,\n    handleTogglePresaleCalendarPop = _Model$useActions$han.handleTogglePresaleCalendarPop,\n    handleSetNewProcessCacheDate = _Model$useActions$han.handleSetNewProcessCacheDate,\n    handleSelectNewProcessDate = _Model$useActions$han.handleSelectNewProcessDate,\n    handleCheckPreSaleDateCache = _Model$useActions$han.handleCheckPreSaleDateCache,\n    handleMultiTravelChange = _Model$useActions$han.handleMultiTravelChange,\n    handleMultiLineChange = _Model$useActions$han.handleMultiLineChange,\n    handleTraceLog = _Model$useActions$han.handleTraceLog;\n  var _Model$useActions = model_Model.useActions(),\n    sendPV = _Model$useActions.sendPV,\n    SET_PRICECALENDAR_DATA_H5 = _Model$useActions.SET_PRICECALENDAR_DATA_H5,\n    checkNewProcessSelectedDateAvailable = _Model$useActions.checkNewProcessSelectedDateAvailable;\n  var selectDateFn = (0,react.useRef)(null);\n  var selectDateFn_presale = (0,react.useRef)(null);\n  var _getSystemInfoSync = (0,taro.getSystemInfoSync)(),\n    windowHeight = _getSystemInfoSync.windowHeight,\n    screenHeight = _getSystemInfoSync.screenHeight,\n    safeArea = _getSystemInfoSync.safeArea;\n  var scrollViewHeight = util/* default.isIphoneX */.Z.isIphoneX() ? screenHeight - (88 + 68) : screenHeight - (88 + 34);\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isShowHeavyData = _useState2[0],\n    setIsShowHeavyData = _useState2[1];\n  (0,react.useEffect)(function () {\n    if (BasicInfo) {\n      setTimeout(function () {\n        setIsShowHeavyData(true);\n      }, 200);\n    }\n  }, [BasicInfo]);\n\n  // \n  (0,taro.useDidShow)(function () {\n    sendPV({\n      pageId: pageId,\n      url: PageUrl\n    });\n\n    // \n    handleSetNewProcessCacheDate(true);\n  });\n  (0,react.useEffect)(function () {\n    if (BasicInfo) {\n      taro_default().setNavigationBarTitle({\n        title: BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.Title\n      });\n    }\n  }, [BasicInfo === null || BasicInfo === void 0 ? void 0 : BasicInfo.Title]);\n  (0,react.useEffect)(function () {\n    if (BasicInfo) {\n      controller.onShareAppMessage = function () {\n        var params = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, query), {}, {\n          departcityid: BasicInfo.DepartureId\n        });\n        var path = \"/pages/vacations/detail/index?\".concat(commonModule_prod.querystring.stringify(params));\n        return {\n          path: path,\n          title: BasicInfo ? BasicInfo.Title : '',\n          imageUrl: \"\".concat(constants/* HTTPS_HOST */.I, \"/tour/service/getShareImg?productId=\").concat(BasicInfo.ProductId, \"&price=\").concat(PriceInfo.MinPrice)\n        };\n      };\n    } else {\n      controller.onShareAppMessage = function () {\n        var path = \"/pages/vacations/detail/index?\".concat(commonModule_prod.querystring.stringify(query));\n        return {\n          path: path,\n          title: ''\n        };\n      };\n    }\n  }, [BasicInfo]);\n\n  //  handleSetNewProcessCacheDate\n  var hasCacheDateUsed = (0,react.useRef)(false);\n\n  // \n  (0,react.useEffect)(function () {\n    if (selectDateFn.current && pageStatus.activeProductId) {\n      selectDateFn.current.initCalendar({\n        productId: pageStatus.activeProductId,\n        alias: pageStatus.isMultiTravel ? pageStatus.activeAlias : '',\n        departCityId: BasicInfo.DepartureId\n      }).then(function (data) {\n        console.log('', data);\n        var flatDailyMinPrice = data.flatDailyMinPrice;\n        if (flatDailyMinPrice) {\n          SET_PRICECALENDAR_DATA_H5(data);\n          checkNewProcessSelectedDateAvailable();\n          if (!hasCacheDateUsed.current) {\n            handleSetNewProcessCacheDate();\n            hasCacheDateUsed.current = true;\n          }\n        } else {\n          // \n          handleCheckPreSaleDateCache();\n        }\n      });\n    }\n  }, [selectDateFn.current, pageStatus, BasicInfo]);\n\n  // \n  (0,react.useEffect)(function () {\n    console.log('');\n    if (!refreshSelectDateFlag || !scheduleDisableDates) {\n      return;\n    }\n    if (selectDateFn.current && pageStatus.activeProductId) {\n      selectDateFn.current.initCalendar({\n        productId: pageStatus.activeProductId,\n        alias: pageStatus.isMultiTravel ? pageStatus.activeAlias : '',\n        departCityId: BasicInfo.DepartureId,\n        disableDates: scheduleDisableDates\n      }).then(function () {\n        // handleToggleCalendarPop(true)\n      });\n    }\n  }, [refreshSelectDateFlag, scheduleDisableDates]);\n\n  // \n  (0,react.useEffect)(function () {\n    if (selectDateFn_presale.current && pageStatus.activeProductId) {\n      // Id\n      var curPreSaleProductId;\n      var activeProductId = pageStatus.activeProductId,\n        activeAlias = pageStatus.activeAlias;\n      if (groupCard && groupCard.cards && groupCard.cards.length) {\n        var curPreSaleInfo = groupCard.cards.find(function (item) {\n          return item.productId === activeProductId;\n        });\n        if (isPreSale && curPreSaleInfo && curPreSaleInfo.preSaleProductInfo && curPreSaleInfo.preSaleProductInfo.canBook) {\n          curPreSaleProductId = curPreSaleInfo.preSaleProductInfo.productId;\n        }\n      }\n      if (curPreSaleProductId) {\n        selectDateFn_presale === null || selectDateFn_presale === void 0 || selectDateFn_presale.current.initCalendar({\n          productId: curPreSaleProductId,\n          alias: activeAlias,\n          departCityId: BasicInfo.DepartureId\n        });\n      }\n    }\n  }, [selectDateFn_presale.current, pageStatus, BasicInfo, groupCard]);\n\n  // \n  var calendarCallBack = (0,react.useCallback)( /*#__PURE__*/function () {\n    var _ref3 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(data) {\n      var activeProductId, activeAlias, isMultiTravel, date, displayPrice, price, originalPriceInfo, productId, alias, isSuccess, _TourGroupInfo$TourGr, nextLine, lineName, _isSuccess;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            activeProductId = pageStatus.activeProductId, activeAlias = pageStatus.activeAlias, isMultiTravel = pageStatus.isMultiTravel;\n            date = data.date, displayPrice = data.displayPrice, price = data.price, originalPriceInfo = data.originalPriceInfo, productId = data.productId, alias = data.alias; // PRD: http://conf.ctripcorp.com/pages/viewpage.action?pageId=1644714832\n            if (!isMultiTravel) {\n              _context.next = 10;\n              break;\n            }\n            handleSelectNewProcessDate(date, displayPrice);\n            _context.next = 6;\n            return handleMultiTravelChange(alias);\n          case 6:\n            isSuccess = _context.sent;\n            isSuccess && alias && controller.showToast(\"\\u5DF2\\u4E3A\\u60A8\\u5207\\u6362\\u81F3\".concat(alias, \"\\u7EBF\"));\n            _context.next = 17;\n            break;\n          case 10:\n            handleSelectNewProcessDate(date, displayPrice);\n            nextLine = TourGroupInfo === null || TourGroupInfo === void 0 || (_TourGroupInfo$TourGr = TourGroupInfo.TourGroupProductInfo) === null || _TourGroupInfo$TourGr === void 0 ? void 0 : _TourGroupInfo$TourGr.find(function (item) {\n              return item.ProductId === productId;\n            });\n            lineName = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'][(nextLine === null || nextLine === void 0 ? void 0 : nextLine.SortNumber) - 1];\n            _context.next = 15;\n            return handleMultiLineChange(productId);\n          case 15:\n            _isSuccess = _context.sent;\n            _isSuccess && lineName && controller.showToast(\"\\u5DF2\\u4E3A\\u60A8\\u5207\\u6362\\u81F3\".concat(lineName, \"\\u7EBF\"));\n          case 17:\n            handleTraceLog('grp_prddtl_cldr_date_click', {\n              lead_time: date,\n              price: price,\n              displayprice: displayPrice,\n              originprice: originalPriceInfo === null || originalPriceInfo === void 0 ? void 0 : originalPriceInfo.originalPrice,\n              productid: productId,\n              departcityid: BasicInfo.DepartureId\n            });\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [pageStatus, TourGroupInfo]);\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    isShowMenu = _useState4[0],\n    setIsShowMeanu = _useState4[1];\n  if (!BasicInfo) {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      mode: \"widthFix\",\n      style: {\n        width: '100%'\n      },\n      src: skeleton\n    });\n  }\n  if (BookInfo && !BookInfo.IsActive) {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(InvalidPage, {});\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"Layout\",\n      onClick: function onClick() {\n        setIsShowMeanu(false);\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(NavBar, {\n        setIsShowMeanu: setIsShowMeanu,\n        isShowMenu: isShowMenu\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(Header, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(ImageInfo, {\n          isShowHeavyData: isShowHeavyData\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(SellingPointWithComment, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(ProfileBanner, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(NewDestination, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(RouteScheduleInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(RouteInfo, {}), isShowHeavyData && /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(ThemeSummary, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(ConsultantSimpleBanner, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(CostDescription, {})\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(OrderKnow, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(LicenseInfo_LicenseInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(Comment, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(BrandInfo, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(Customize, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(MoreRecommend, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(SecurityInfo, {})]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(EndPage, {})]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(Footer, {\n        selectDateFn: selectDateFn\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(FixedButton, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(PriceTipMask, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(ServiceTagMask, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(AllPromotionMask, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(CitySelectMask, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(CustomerServiceMask, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(SelfFundMask, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(ScenicExcludingFeeMask, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(DiscountDetailMask, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(BookingLimitMask, {\n          controller: controller\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(GODetailMask, {})\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(PreSaleNoticeMask, {})\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(UrgentMask, {})\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(commonModule_prod.SelectDate, {\n        pageName: \"detail\",\n        selectedDate: newProcessSelectDate,\n        isShow: isShowCalendarPop,\n        onClose: function onClose() {\n          return handleToggleCalendarPop(false);\n        },\n        onSelect: calendarCallBack,\n        onRef: function onRef(fn) {\n          return selectDateFn.current = fn;\n        },\n        logger: true\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(commonModule_prod.SelectDate, {\n        pageName: \"presale_detail\",\n        isShow: isShowPresaleCalendarPop,\n        onClose: function onClose() {\n          return handleTogglePresaleCalendarPop(false);\n        },\n        onRef: function onRef(fn) {\n          return selectDateFn_presale.current = fn;\n        },\n        logger: true\n      })\n    })]\n  });\n}\n// EXTERNAL MODULE: ./src/pages/vacations/shared/BaseController.ts + 5 modules\nvar BaseController = __webpack_require__(85198);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/vacations/detail/index.tsx\n\n\n\n\n\n\n\n\n\nvar _dec, _class;\n\n\n\n\n\n\n\nvar Detail = (_dec = (0,commonModule_prod.PureModel)({\n  Model: model_Model\n}), _dec(_class = /*#__PURE__*/function (_BaseController) {\n  (0,inherits/* default */.Z)(Detail, _BaseController);\n  var _super = (0,createSuper/* default */.Z)(Detail);\n  function Detail() {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Detail);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"pageId\", 'ignore_page_pv');\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), commonModule_prod.MODEL_CONTEXT, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, context/* TourContext.impl */.p.impl((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, _this.tourContext), {}, {\n      url: _this.getPageUrl(),\n      isInWebviewH5: function isInWebviewH5() {\n        return false;\n      },\n      isInZTApp: function isInZTApp() {\n        return false;\n      }\n    }))), context/* QueryContext.impl */.fI.impl((0,objectSpread2/* default */.Z)({}, _this.getUrlQuery()))));\n    return _this;\n  }\n  (0,createClass/* default */.Z)(Detail, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n        var isWeapp, isStandalone, url, params, options;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              // \n              taro_default().loadFontFace({\n                family: 'crn_font_Ctrip_GroupTour',\n                source: 'url(\"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/iconfont/crn_font_Ctrip_GroupTour.ttf?v=3\")'\n              });\n              taro_default().loadFontFace({\n                family: '20TH_bold',\n                source: 'url(\"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/iconfont/20TH_bold.ttf\")'\n              });\n              taro_default().loadFontFace({\n                family: '20TH_regular',\n                source: 'url(\"https://pic.c-ctrip.com/VacationH5Pic/tourpic/group_travel/iconfont/20TH_regular.ttf\")'\n              });\n              _context.next = 5;\n              return this.fetchSwitch();\n            case 5:\n              isWeapp = _context.sent;\n              // \n              isStandalone = this.getMiniProgramPlatform() === 'taro_vacation'; //  qconfig \n              if (isStandalone) {\n                isWeapp = true;\n              }\n              if (!isWeapp) {\n                url = '/webapp/vacations/tour/detail';\n                params = this.getUrlQuery();\n                options = {\n                  isRedirect: true\n                };\n                this.jumpH5({\n                  url: url,\n                  params: params,\n                  options: options\n                });\n              }\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n      return componentWillMount;\n    }()\n  }, {\n    key: \"fetchSwitch\",\n    value: function () {\n      var _fetchSwitch = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2() {\n        var params, dataList, IsAB, AppSettingList, getQConfigData;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              params = {\n                KeyList: ['main_weapp_detail_switch']\n              };\n              _context2.prev = 1;\n              _context2.next = 4;\n              return Promise.all([this.post('Getabpreinfo', {}), this.post('QConfig', params)]);\n            case 4:\n              dataList = _context2.sent;\n              // , ABB\n              IsAB = dataList[0].Data.IsAB;\n              AppSettingList = dataList[1].Data.AppSettingList;\n              getQConfigData = function getQConfigData(data, key) {\n                return JSON.parse(data.filter(function (item) {\n                  return item.Key === key;\n                })[0].Value);\n              };\n              return _context2.abrupt(\"return\", IsAB || getQConfigData(AppSettingList, 'main_weapp_detail_switch').open);\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.log(_context2.t0);\n              return _context2.abrupt(\"return\", false);\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[1, 11]]);\n      }));\n      function fetchSwitch() {\n        return _fetchSwitch.apply(this, arguments);\n      }\n      return fetchSwitch;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(DetailView, {\n        controller: this\n      });\n    }\n  }]);\n  return Detail;\n}(BaseController/* default */.Z)) || _class);\n\n;// CONCATENATED MODULE: ./src/pages/vacations/detail/index.tsx\n\n\nvar config = {\"enableShareAppMessage\":true,\"usingComponents\":{\"mp-html\":\"../common/mp-html/index\"},\"navigationBarBackgroundColor\":\"#fff\",\"navigationStyle\":\"custom\"};\n\nDetail.enableShareAppMessage = true\nvar inst = Page((0,runtime_esm.createPageConfig)(Detail, 'pages/vacations/detail/index', {root:{cn:[]}}, config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 8700:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"pages/vacations/detail/skeleton.png\";\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/ext/global\");\n\n/***/ }),\n\n/***/ 33675:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 46346:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/ext/global\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [4666,2107,1216,8592], function() { return __webpack_exec__(88287); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["require","wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","_process","_process2","runtime_esm","regeneratorRuntime","asyncToGenerator","objectSpread2","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","defineProperty","commonModule_prod","slicedToArray","react","taro","taro_default","n","components_react","objectWithoutProperties","platform","toConsumableArray","vdate","IsTripApp","Mx","appId","IsCtripApp","version","reg","HTTPS_HOST","replace","str","$1","$2","$3","_pad","len","toString","length","fill","Array","join","substr","fat","uat","prd","prod","Xb","getEnvType","_excluded","_excluded2","_excluded3","_excluded4","reducer","UPDATE_STATE","state","data","Z","UPDATE_POP_STATUS","statusInfo","UPDATE_URL_QUERY","newQuery","query","UPDATE_PRODUCT_BASIC_INFO","_ref","pageSetting","productInfo","userInfo","isLogin","CruiseDepartDate","wakenUpData","isPreSale","isShowD2DSwitch","isShowD2DSwitch_p2c","pageStatus","BasicInfo","MediaInfo","TagGroupInfo","BookInfo","ScheduleInfo","PriceInfo","BasicExtendInfo","TourGroupInfo","ExtInfo","qConfig","TravelList","SegmentInfo","isCruise","isStudy","isDiyfhxsdp","isPureDiyfhxsdp","_ref2","_ref2$ImgList","ImgList","categoryStrategy","hasVideo","VideoInfoList","isSetCountDown","EffectTime","indexOf","countDownStatus","SaleStartTime","transformTimeStamp","SaleEndTime","ExpireTime","ServerTime","ServiceDateTime","Status","isShowSoldOutRecommend","IsBook","HasInventory","TourGroupProductInfo","_TagGroupInfo$Special","SpecialTagList","isMultiLine","isMultiTravel","activeProductId","ProductId","activeAlias","Alias","isRetail","SaleMode","isAgent","prodType","isCrhTag","identifier","isExtendedStay","IsFixSegment","_getMemberDiscountInf","getMemberDiscountInfo","isMemberDiscountProduct","isShowMemberDiscountInfo","isShowFlightDiscountInfo","memeberDiscount","_ref3","isPremium","Level","currentRouteInfo","isLoaded","SubName","BookingDay","BookingTime","routeInfo","forEach","item","payload","isImageUpdateVersionB","isTabStyle","isTpalStyle","isTpalStyleForFlightDiscount","tagInfo","index","TagId","preloadProductImageList","UrlList","LCPImage","Value","mediaInfoCurRoute","SWITCH_TO_NEW_PRODUCT","_ref4","newRouteMediaInfo","expertInfo","curLineHasVideo","lastLineHasVideo","copiedOriginalProductState","priceCalendar","newProcessSelectDate","SWITCH_TO_NEW_PRODUCT_SECOND","info","other","PreSaleProductInfo","originalProductExtend","productExtend","CostInfoList","FeeInfoList","OrderKnow","Visa","SelfPayInfoList","PMRecomendInfo","DescriptionInfo","TravelIntroductionInfo","groupChildren","servicePerson","userDestinationOrder","askStatus","imageStyleInfo","UPDATE_SIMPLE_TRAVEL_INTRODUCTION","scheduleDates","dailyMinPrices","PreSaleNotice","PreSaleTagGroupInfo","MoreRecommendProductList","MainPMRecomendInfo","secondInfoLoaded","SWITCH_BACKTO_ORIGINAL_PRODUCT","copiedNewProductState","curD2DSwitchType","initD2DSwitchType","SWITCH_BACKTO_NEW_PRODUCT","targetD2DSwitchType","RESET_D2DCOPIED_STORE","REFRESH_PRICE_INFO","_ref5","groupCard","_pageStatus","mainInfo","UPDATE_PRODUCT_SECOND_INFO","_expertInfo$summary","_pageStatus2","hasReviewInfo","summary","some","count","isShowD2DSwitchTab","ParentsProductList","groups","parentsGroup","filter","type","parentProductInfo","canBook","ChildrenProductList","_groups","childrenGroup","childProductInfoList","map","cItem","newChildProductInfoList","lItem","UPDATE_COMPOSITE_COUPON_INFO","compositeCoupon","UPDATE_CRUISE_TIMING_INFO","UPDATE_COUPON_COMPONENT_DATA","availableClaimList","availableUseList","singkekList","receivedNouseList","SET_ROUTE_INFO","CouponInfo","UPDATE_EMPTY_COUPON_COMPONENT_DATA","SET_USER_INFO","UPDATE_STORE_INFO","NearbyStoreInfo","UPDATE_FAVOURITE_STATUS","myFavorites","UPDATE_FAVOURITE_MENU","favoriteMenuStatus","UPDATE_CURRENT_ROUTE","_info$targetProductId","targetProductId","_info$targetAlias","targetAlias","targetRouteItem","UPDATE_MULTIPLE_LINE","bookingRuleInfo","emotionalCues","newRouteItem","SET_LINE_SWITCH_LOADING","isShowLineSwitchLoading","UPDATE_PROPOSAL_ORDER_STATUS","isProposalOrderTexted","UPDATE_PROPOSAL_ORDER_INFO","proposalOrderInfo","UPDATE_MULTIPLE_TRAVEL","TOGGLE_CITY_SELECT_MASK","isShowCitySelectMask","UPDATE_NEWDEPARTCITY_INFO","_data$MainProductInfo2","_data$MainProductInfo3","_data$MainProductInfo4","_data$MainProductInfo5","_data$MainProductInfo6","MainBasicInfo","MainMediaInfo","oldCurrentRouteInfo","_pageStatus3","_data$MainProductInfo","MainProductInfo","MainName","_data$RouteProductInf","_data$RouteProductInf2","_data$RouteProductInf3","_data$RouteProductInf4","_data$RouteProductInf5","_data$RouteProductInf6","_data$RouteProductInf7","_data$RouteProductInf8","_data$RouteProductInf9","_data$RouteProductInf10","_data$RouteProductInf11","_data$RouteProductInf12","_data$RouteProductInf13","_data$RouteProductInf14","_data$RouteProductInf15","_data$RouteProductInf16","_data$RouteProductInf17","_data$RouteProductInf18","_data$RouteProductInf19","_data$RouteProductInf20","_data$RouteProductInf21","_data$RouteProductInf22","_data$RouteProductInf23","_data$RouteProductInf24","RouteProductInfo","_data$RouteProductInf25","_data$RouteProductInf26","_data$RouteProductInf27","_data$RouteProductInf28","_data$RouteProductInf29","_data$RouteProductInf30","_data$RouteProductInf31","_data$RouteProductInf32","_newRouteItem","UPDATE_SERVICE_PERSONS","newLineServicePersons","servicePersons","_ref6","newservicePersons","UPDATE_QCONFIG_INFO","QconfigInfo","TOGGLE_ROUTE_MODE","isSimpleMode","TOGGLE_SHOW_MENU_POP","isShowMenuPop","UPDATE_LOCATION_INFO","LocationInfo","UPDATE_FLIGHTDISCOUNT_INFO","flightDiscountInfo","SET_PAGE_ID","pageId","actionIdSuffix","concat","UPDATE_BRAND_INFO","brandInfos","BrandFloorId","SpecialBrandInfo","id","UPDATE_SERVICE_TIP","serviceTip","UPDATE_ALERT_MASK","alertInfo","isShowCalendarPop","isShowAlertMask","SET_CITY_SELECT_MASK_INFO","citySelectTargetProductId","HIDE_ALL_MASK","initMaskStatus","SET_COUNTDOWN_STATUS","TOGGLE_PRESALE_NOTICE_MASK","status","selectType","isShowPreSaleNoticeMask","PreSaleNoticeMaskSelectType","UPDATE_BOOKINGRULE_INFO","BookingRuleInfo","SET_BOOKING_RULE_FETCHED","BookingRuleFetched","SET_CONCAT_DATA","dataList","Object","keys","key","SET_CONCAT_DATA_SECOND_SCREEN","second_screen_fetched","SET_ABTEST_RESULT","ABTestResult","SET_VIPMEMBER_INFO","SuperMemberInfo","UserInterestList","commonMemberInterestCounts","superMemberInterestCounts","commonInfo","CreateProductLineId","superInfo","InterestCounts","hasSuperMemberRight","IsSuperMember","IsInternal","includes","ProductPatternId","SET_FAVOURITE_MENU_POSITION","isShowHeaderMenu","SET_CALENDAR_SELECTED_DATE","selectedDate","CalendarSelectedDate","TOGGLE_SELFFUND_MASK","SET_CRUISE_BOOKING_INFO","curDate","SelectedCruiseRoomInfo","CruisePriceInfo","INIT_CRUISE_DATA","RoomInfos","Tags","ClassRooms","curRoomType","RoomType","CruiseRoomInfo","CruiseBookingStatus","RESET_CRUISE_DATA","ShoppingId","UPDATE_CRUISE_BOOKING_STATUS","INIT_CRUISE_ROOM_INFO","UPDATE_CRUISE_ROOM_INFO","_CruiseRoomInfo","OldClassRooms","OldTags","cabinFilter","NewClassRooms","SET_CUR_ROOMTYPE","SET_SELECT_ROOM_TAG","tag","selectedTags","find","Type","Id","newSelectedTags","RESET_SELECT_ROOM_TAG","INIT_SELECT_CRUISE_ROOM","UPDATE_SELECT_CRUISE_ROOM","RoomInfo","CountInfo","OvaryRoomId","Name","MinNum","MaxNum","Token","ClassId","SelectedCount","_CountInfo$AdultCount","AdultCount","_CountInfo$ChildCount","ChildCount","NewSelectedCruiseRoomInfo","slice","Math","min","max","selectInfo","room","findIndex","CruiseErrorTokenList","CruiseErrorText","UPDATE_CRUISE_PRICE","UPDATE_OVARYROOM_DETAIL","OvaryRoomDetailPopId","UPDATE_CRUISE_JOURNEY_DETAIL","CruiseJourneyTourId","UPDATE_OVARYROOM_PRICE_INFO","PriceDesc","UPDATE_CRUISE_JOURNEYINFO","CruiseJourneyInfo","UPDATE_ERROR_CRUISE_TOKEN","TokenList","_info$ErrorText","ErrorText","ErrorRoomType","split","TOGGLE_PASSENGR_TIP","isShowPassengerTip","UPDATE_XREC_PRODUCT","XRecProductList","SET_PRICECALENDAR_DATA_H5","_Object$keys","flatDailyMinPrice","dailyMinPrice","productPrices","priceCalendarData","scheduleDisableDates","SET_PRICECALENDAR_DATA","SET_NEWPROCESS_SELECT_DATE","date","ExtendedStayShoppingInfo","isSelectPreSale","lastSelectDate","SET_PRIVATE_TIP_STATUS","isPrivateTipStillShow","SET_EXTENDSTAY_SHOPPING","SET_EXTENDSTAY_PATH","extendStayPath","SET_SHOW_DEPARTCITYINFO","isShowInitDepartCity","SET_SELECT_PRESALE_DATE","SET_SHOW_PRESALE_MULTIROUTE","isShowMulitiRouteInPreSale","UPDATE_D2DSWITCH_STATUS","UPDATE_REFRESH_SELECTDATE_FLAG","_state$refreshSelectD","refreshSelectDateFlag","SET_MULTITRAVEL_SCHEDATES","multiTravelScheduleDates","newRouteInfo","SET_SCHEDULE_DISABLE_DATE","UPDATE_TRADE_MINPRICE_MODE","isTradeMinPriceMode","SET_D2DSWITCH_LOADING","isD2DSwitchLoading","UPDATE_SECKILL_LIMIT_STATUS","isSecKillLimit","TravelIntroductionList","IntroductionInfoList","TravelDetailList","IntroductionInfo","Desc","FewDay","TrafficType","DailyList","TravelDate","flightList","dinnerList","scenicList","themeList","hotelList","listByTime","orderList","themeInfos","ActiveType","isNotEmptyScenic","ScenicSpotList","PreName","SuffixName","isDinner","DinnerInfo","DinnerType","HotelInfoList","_Desc","HotelName","Themes","group","CustomTheme","curTheme","Infos","Time","DepartTime","fields","themeItem","CustomThemeDesc","VipDiscountProduct","Key","_VipDiscountProduct","value","JSON","parse","userDiscounts","memeberDiscountInfo","discountInfo","ctrip_vip_discount","context","gqlFragment","fetchProductBasicInfo","fetchProductBasicInfo_SecKill","fetchProductSecondInfo","PreSaleProductId","fetchProductSecondInfo_SecKill","fetchMultiLineDetailInfo","fetchMultiTravelDetailInfo","fetchNewDepartCityProductInfo","fetchRefreshPriceInfo","querystring","entry","setupDetailLog","ctx","traceKMLogAction","getDHTLogger","logActionInfo","err","traceKMLogPage","logPageInfo","traceKMLogError","message","error","pageName","ex","logError","console","log","traceKMLogMessage","logMessage","traceKMInterruption","desc","sceneText","scene","startsWith","module","role","GD","sys","action","Us","show","model_excluded","model_excluded2","ABTestCodeList","isUnitTest","process","env","isShowCouponMask","isShowPromotionMask","isShowCreditMask","isShowServiceTagMask","isShowSpecialBrandMask","isShowCustomerServiceMask","isShowPriceTipMask","isShowUrgentMask","isShowScenicMask","isShowTrackOrderPop","isShowPresaleCalendarPop","isShowCruisePriceDetail","isShowSeaCruiseInfo","isShowMemberShipMask","isShowScenicExcludingFeeMask","isShowThemeDifficultyMask","isShowXRecommendMask","isShowDiscountDetailMask","isShowBookingLimitMask","isShowGoldGuideMask","isShowTpalMask","isShowGODetailMask","initialState","isShowLazyLoadContent","isDefaultClause","isSnapshot","isShowSummaryLoading","isShowErrorPage","isShowCustomerService","visaCountry","currentImageIndex","isNewProcess","model_Model","lU","Do","$S","lowerCaseQuery","toLocaleLowerCase","isSecKill","seckill","zn","snapshotid","IP","handlers","shoppingid","issyncLiistInfo","syncdata","departcityid","presaleid","reducers","store","actions","requestQueues","cancelRequest","cancel","RenderTimeInfoList","isClickFavBeforeData","hasJumpedResouce","hasRefreshedLineReset","resourceEntry","c","_setupDetailLog","onLoginSuccess","mark","_callee","wrap","_context","prev","next","fetchLoginUpdatedProductInfo","stop","apply","this","arguments","onChangeDepartCity","_callee2","_context2","Promise","all","t0","sent","fetchStoreInfoPromise","preloadCallbackAction","_callee3","_store$getState","_query","_context3","checkShouldChangeDepartCity","fetchInitCruiseInfo","abrupt","Platform","getState","triggerComponentWillCreateEvents","setCtmRefStorage","t1","Ns","jumpH5","url","params","options","fetchCurrentLimiting","_callee5","_yield$ctx$post","ResponseStatus","duration","_context5","post","Ack","random","setTimeout","_callee4","_context4","traceInitLogs","fetchRefreshSecKillBookInfo","_ref8","_callee6","_store$getState2","queryName","queryString","_wakenUpData","allianceid","sid","awake_allianceid","awake_sid","variables","_yield$ctx$gqlpost","_context6","getClientInfo","getWakeUpData","Number","DepartureCityId","DepartureId","MarketingInfo","AllianceId","SId","attachShardParams","gqlpost","_ref9","_callee7","startTime","_store$getState3","productid","departdate","_wakenUpData2","cachekey","isSameRequestOnRoad","fetchTime","_dataList$","errors","_dataList$$__isFromCa","__isFromCache","extensions","_dataList$2","PreSaleTourGroupInfo","_extensions$SoaRespon","PreSaleStatus","_options","_url","_options2","_url2","_options3","shouldDirect","_ScheduleDateList$","_ScheduleInfo$Schedul","ScheduleDateList","renderTime","_ref10","prevpage","firstTraceData","ErrorMessage","_context7","Date","getTime","DepartureDate","HeadTagList","bookFormEmotionalCuesParams","testCaseId","needRetry","cachePolicy","enableCache","cacheExpireTime","cacheLocation","cacheKey","nocache","CRNFetch","getUserInfo","Error","isRedirect","redirectToMainProductId","PriceDate","setPageId","sendKMLog","attrs","String","rootMessageId","SoaResponseStatus","Extension","getCurrentPageInfo","page","timeStamp","content","traceDevLog","getLocationInfo","Errors","Message","t2","showToast","logPageError","fetchLoginProductBasicInfo","_ref11","_callee8","_store$getState4","cachedOriginalDepartureCityId","cachedActiveProductId","_wakenUpData3","_dataList$3","_dataList$4","_BasicInfo","_extensions$SoaRespon2","_ScheduleDateList$2","_store$getState5","currentBasicInfo","currentPageStatus","_context8","handleMultiLineChange","handleMultiTravelChange","fetchFullD2DProductInfo","handleChangeDepartCity","_ref12","_callee9","_store$getState6","_wakenUpData4","_yield$ctx$gqlpost2","_BasicInfo2","_extensions$SoaRespon3","_context9","priceCalendarParams","queryTourGroup","needInventory","needFlightDiscountPrice","showMaskLoading","hideMaskLoading","fetchRiskCityInfo","_ref13","_callee10","_store$getState7","_yield$ctx$gqlpost3","_context10","_x","_ref14","_callee11","lastRenderTraceData","_store$getState8","PreSaleInfo","curProductInfo","_yield$ctx$gqlpost4","imEntryInfo","_extensions$SoaRespon4","ABResult","_ABResult","secondTraceData","_context11","servicePersonParams","PageType","PageSize","PageIndex","expertParams","exportType","pageIndex","pageSize","imEntryInfoParams","pageFrom","sourceFrom","fromhhtravel","needTradePrice","H5Util","isBestone","groupChildrenParams","locationCityId","departureCityId","PreSaleParams","setIMEntryTip","getAB","ProductCategoryId","checkShouldSelectPreSale","handleClickFavorite","fetchProductScheduleDesc","fetchSecondScreen","_ref15","_callee12","_store$getState9","thirdTraceData","_context12","fetchUserCommonInfoPromise","fetchVipMemberInfoPromise","fetchServicePersonDetail","traceKMPageInfo","logList","_store$getState10","contents","DepartureCityName","entries","_ref16","_ref17","code","_ref18","_callee13","_store$getState11","calendar_price","_ScheduleInfo$Schedul2","CruiseSelectDate","head","SelectedCruiseRoomInfoStore","selectValue","_selectValue$Selected","_ResponseStatus$Exten","_yield$ctx$post2","_context13","FestivalDate","DisplayPrice","extension","name","CruiseCondition","DepartCityId","DepartDate","Stores","getInstance","get","Filter","clear","fetchCruiseRoomInfo","_ref19","_callee14","_store$getState12","_ScheduleInfo$Schedul3","request","_ref20","_context14","createRequest","chooseReq","fetch","_x2","fetchCruiseJourneyInfo","_ref21","_callee15","_store$getState13","CruisesBaseInfo","Segments","BoardingDay","cruPackageId","_yield$ctx$post3","journeyInfos","_context15","CruisePackageId","departureDate","addDay","format","cruHead","channel","localeLang","currency","clientInfo","salesPlatform","fecthCruiseTimingInfo","_ref22","_callee16","_store$getState14","_yield$ctx$gqlpost5","_context16","_x3","fetchOvaryRoomPrice","_ref23","_callee17","_store$getState15","SelectOvaryRooms","_ref24","SelectOvaryRoomPrices","TotalPrice","TotalDiscountAmount","TotalDiscountTradeAmount","TotalTradePrice","_context17","Passengers","Count","_ref25","_callee18","_store$getState16","_yield$ctx$post4","commonUserInfo","_context18","IsNonUser","RequestTypeList","Data","ContactInfo","CommonContactList","_ref26","_callee19","_store$getState17","_yield$ctx$post5","_context19","cityId","latitude","longitude","coordType","coordinateType","_ref27","_callee20","_store$getState18","_yield$ctx$post6","_context20","RequestType","_ref28","_callee21","_store$getState19","_MediaInfo$ImgList","servicePersonIds","_yield$ctx$post7","servicePersonFormat","_context21","_ContentInfoList$","AccompanyTourInfo","ImageTypeId","_AccompanyTourInfo$Co","ContentInfoList","PersonId","InfoContent","isNaN","parameterList","personInfo","_ref29","servicePersonID","cName","isTpal","isNewGoodGuide","briefIntroduction","isDriver","isGuide","isNewGoodDriver","fetchFlightDiscountDetail","_ref30","_callee22","_store$getState20","_ref31","_yield$request$fetch","_ref32","scheduleInfos","_context22","productId","aliasName","needReturn","lastScheduleDescParams","_ref33","_callee23","_store$getState21","_ref34","departDate","minPrice","selectedDateItem","multiTravelPrice","_multiTravelPrice$act","displayPrice","cards","curLine","_curLine$priceInfo","_displayPrice","minPriceDate","_yield$request$fetch2","priceEffectiveInfo","_context23","getMultiTravelMinPrice","priceInfo","stringify","fetchProductDisposition","_ref35","_callee24","_store$getState22","_yield$ctx$post8","dispositions","_context24","clientSource","dispositionType","isSupportCommonIntention","fetchVipMemberInfo","_ref37","_callee26","_store$getState23","_yield$ctx$post10","_context26","_ref38","_callee27","serviceInfo","shortText","longText","result","_context27","shortServiceToast","serviceToast","loadStorage","Storage","save","domain","expires","_x4","fetchCreateFavorite","_ref39","_callee28","_store$getState24","BizType","Tag","_yield$ctx$post11","ResultCode","FavoriteIdList","ResultMessage","isFavorite","favoriteId","_context28","FavoriteList","ProductID","FromCityID","SaleCityID","ExtendList","UID","UserID","clicked","fetchCancelFavorite","_ref40","_callee29","_store$getState25","_myFavorites","_context29","_ref41","_callee30","_store$getState26","_yield$ctx$gqlpost6","_context30","shark","_x5","_ref42","_callee31","_store$getState27","_yield$ctx$gqlpost7","_context31","_x6","_ref43","_callee32","isManual","_store$getState28","DepartureCityPriceList","ProductIdList","MainProductId","_extensions$SoaRespon5","_yield$ctx$gqlpost8","_extensions$SoaRespon6","targetLine","lineAlias","curAlias","_context32","MainParams","RouteParams","before","SortNumber","_x7","_x8","_x9","_ref44","_callee33","_store$getState29","d2dProductId","d2dDepartureCityId","_yield$ctx$gqlpost9","_extensions$SoaRespon7","_context33","departureCities","fetchFullProductSecondInfo","_ref45","_callee34","_store$getState30","_yield$ctx$gqlpost10","_extensions$SoaRespon8","_context34","fetchCityNameByCityId","_ref46","_callee35","CityId","_yield$ctx$post12","CityList","NameCN","_context35","CityIds","_x10","fetchCreateTrackOrder","_ref47","_callee36","phoneNumber","_store$getState31","_yield$ctx$post13","_context36","trackInfoType","trackSBUType","trackType","trackFromType","trackSubChannel","orderUserType","contactPhone","trackOrderType","trackProductType","startCityId","saleMode","destName","DestCityName","startDateFrom","startDateTo","remark","_x11","_x12","_ref48","_callee37","_context37","checkLoginStatusUpdate","_ref49","_callee38","_store$getState32","lastLoginStatus","_yield$ctx$getUserInf","_context38","fetchCruiseTourDetail","_ref51","_callee39","_ref50","tourId","useDate","_store$getState33","_response$responseSta","response","_context39","channel3","getServiceChannelId","responseStatus","_x13","_handleMultiLineChange","_callee40","_TourGroupInfo$TourGr","needSendLog","_store$getState34","targetAvailableDepartCities","curLineId","_extensions$SoaRespon9","res","targetDepartCityId","targetCityInfo","targetCityName","_args40","_context40","undefined","DepartureCities","oneWithN","checkNewProcessSelectedDateAvailable","traceSingleDepartureSwitchCity","traceAutoChangeline","textPositive","textNegative","positiveCallback","negativeCallback","style","zIndex","cancelText","confirmText","showCancel","confirmColor","cancelColor","success","confirm","showDialog","traceChangeCityPopExpos","_x14","_handleMultiTravelChange","_callee41","_store$getState35","_context41","_x15","handleToggleCitySelectMask","_store$getState36","traceClickChangeCityFromPop","_handleChangeDepartCity","_callee42","isActiveModify","departureCityName","_store$getState37","cityName","_args42","_context42","traceChangeDepartureCity","history","replaceState","remove","setDepartureCityIdForList","_x16","_x17","_handleClickFavorite","_callee44","_store$getState38","_ref52","fetchSuccess","_context44","isInWebviewH5","loginInWebview","login","callback","_callback","_callee43","_context43","UserLogin","afterCallback","_x18","handleHideFavoriteMenu","_store$getState39","handleGoTravelIntention","_store$getState40","outtype","subchannelid","sourcetype","dcityid","destid","DestCityId","dest","handleGoLargeGroupIntention","_store$getState41","large","handleToggleCouponMask","handleToggleGatherInfoMask","isShowGatherInfoMask","handleTogglePromotionMask","sendUsrClickKMLog","handleToggleCreditMask","handleToggleServiceTagMask","handleToggleSpecialBrandMask","handleToggleGoldGuideMask","handleToggleTpalMask","handleToggleH5PageMask","_ref53","isShowH5PageMask","H5PageMaskUrl","handleToggleCustomerServiceMask","_store$getState42","imInfo","mobileServiceTime","afterSaleServiceTime","mobile","mobileCode","afterSaleTel","afterSaleExtTel","imSwitch","inquiry","imServiceTime","beforeSalePhoneNumber","afterSalePhoneNumber","consultModuleDataList","servicePersonText","jumpUrl","getJumpIMUrl","consultItemDataList","itemDescription","itemType","moduleTitle","itemTitle","itemLightDescriptionList","destinationNumber","channelNumber","destinationNumberDisplay","locationGlobalId","locationName","Business","doBusinessJob","widgetTitle","traceContent","valueOf","handleGoSelectPhoneCode","countryInfo","handleSubmitProposalOrder","_handleSubmitProposalOrder","_callee45","TrackOrderId","_context45","showLoading","fetchCreateProposalOrder","hideLoading","_x19","_x20","handleToggleProposalOrderMask","isShowProposalOrderMask","handleTogglePriceTipMask","handleToggleUrgentMask","_store$getState43","jsonData","urgentInfo","RichContent","Title","handleTogglePreSaleNoticeMask","_store$getState44","handleToggleGODetailMask","_store$getState45","handleToggleTpalMemberMask","isShowTpalMemberMask","handleToggleScenicMask","handleToggleTrafficPriceTipMask","isShowTrafficPriceTipMask","handleRouteModeChange","handleToggleCalendarPop","_store$getState46","_store$getState47","isShow","handleTogglePresaleCalendarPop","handleToggleCruisePriceDetail","handleToggleMemberShipMask","handleToggleScenicExcludingFeeMask","handleToggleThemeDifficultyMask","handleSwitchRoomType","_ClassRooms$RoomType","_RoomInfos$find","_RoomInfos$find2","_store$getState48","valueName","v","valueText","beforeName","beforeText","usr","change","handleSelectRoomTag","_selectedTags$curRoom","_store$getState49","tags","handleResetRoomTag","_handleResetRoomTag","_callee46","_store$getState50","_context46","handleToggleOvaryRoomDetail","handleToggleCruiseJourneyInfo","handleToggleOvaryRoomPriceInfo","handleToggleSeaCruiseInfo","handleShare","_handleShare","_callee47","_store$getState51","shareUrl","shareImage","title","shareText","miniProgramImage","miniProgramPath","isShareWeapp","miniProgramID","miniprogramType","shareData","_context47","switchConfig","departCityId","AllianceID","SID","pkgType","lineProductId","alias","getShareImage","MinPrice","encodeURIComponent","miniprogramtype","shareType","imageUrl","text","linkUrl","Share","customShare","handleToggleTrackOrderPop","handleSubmitTrackOrder","_handleSubmitTrackOrder","_callee48","dates","_context48","transformServerDate","_x21","_x22","handleSendTraceLog","_store$getState52","traceKeyLog","event_value","event_bu","page_id","handleTraceLog","tracelog","handleShowSelfFundMask","ScenicName","SelfFundedActivities","isShowSelfFundMask","SelfFundedMaskInfo","handleHideSelfFundMask","handleSetCruiseBookingInfo","_store$getState53","handleSelectCruiseRoom","MaxSelectCount","handleSetCanBookingErrorInfo","_ref54","_store$getState54","curShoppingId","handleToggleDiscountDetailMask","handleSelectNewProcessDate","price","isFromRecommandSchedule","_store$getState55","set","setSeletedDateForList","curPreSaleProductId","curPreSaleInfo","preSaleProductInfo","handleSetNewProcessCacheDate","_handleSetNewProcessCacheDate","_callee49","isFromPageDidAppear","_store$getState56","cacheDate","hasPreSaleDateCache","_activeProductId","curLineAllDates","firstSegment","curAliasAvailableDates","_args49","_context49","handleSelectPreSaleDate","DepartureCityID","DestinationCityID","IsIncludeHotel","line","handleCheckPreSaleDateCache","_handleCheckPreSaleDateCache","_callee50","_store$getState57","_context50","handleToggleBookingLimitMask","isUsrClick","_store$getState58","sortNumber","handleSwitchD2DTab","_handleSwitchD2DTab","_callee51","_store$getState59","_context51","_x23","handleGoBooking","fromMoreDate","_store$getState60","handleGoCalendarPage","_ref55","_store$getState61","ShoppingSelectedResources","liveCast","pdid","dcid","scid","SaleCityId","startDate","Start","endDate","End","istour","iscruise","detailpagename","RegisterPageName","isnewshopping","newprocess","showCompetition","stype","crhdepartname","crhdeparttype","crhdestname","crhdesttype","LocationCityId","activitycode","qstagecount","liveId","liveid","pageid","checkQueryTraceId","jumpFunc","openURL","prefetch","resource","_pageSetting$prefetch","newmodule","enabled","expiredtime","ResourceEntry","open","clientid","Application","clientID","usecouponstate","_callback2","_callee52","_context52","beforeCallback","handleGoResource_NewProcess","_ref56","_store$getState62","_location2","_pageSetting$prefetch2","_location","from","location","href","isInZTApp","jumpH5InWebview","navigateTo","backFromResourcePage","_callback3","_callee53","_context53","isH5InCtripApp","_url3","handleH5Login","fromUrl","handleGoResource_V3","_ref57","_store$getState63","_callback4","_callee54","_context54","_url4","handleGoOrderPage","_handleGoOrderPage","_callee56","_ref58","_store$getState64","orderPageURL","_context56","shoppingId","timestamp","flightTip","productType","hasAirport","isQuickBooking","backFromOrderPage","goTo","_callback5","_callee55","_context55","_x24","handleGoOrderPage_PreSale","_handleGoOrderPage_PreSale","_callee58","_ref59","_store$getState65","_location3","_context58","_callback6","_callee57","_context57","_x25","handleOrderBackError","_handleOrderBackError","_callee59","BackPageInfo","TokenInfoList","_context59","_x26","handleNextPage","_handleNextPage","_callee61","_store$getState66","_yield$fetchTransacti","_payload","recommendSearch","extraResource","isTour","_payload2","toastMessage","errorCode","_options4","_context61","_callback7","_callee60","_context60","KI","cabinInfo","shoppingDetail","settings","isQuickBookingV2","is_jump_respage","cacheFirstScreenData","handleNextPage_Cruise","_handleNextPage_Cruise","_callee62","scrollToElement","_store$getState67","TotalRoomCount","newSelectedCruiseRoomInfo","selectedRoomInfo","totalAdultCount","totalChildCount","SelectedResources","transaction","ResourceStatuses","_CruiseErrorTokenList","_ctx$ctrl2","_ctx$ctrl3","_context62","values","reduce","sum","cur","_ctx$ctrl","ctrl","elementPosition","_item$ChildCount","ExtendInfos","ExtendMaps","adultCount","childCount","selectedResources","_x27","handleNextPage_Presale","_handleNextPage_Presale","_callee63","_store$getState68","inventory","_yield$fetchTransacti2","_payload3","_payload4","_options5","_context63","mainProductId","handleGoSecurityInfo","_store$getState69","sub","handleGoCustomize","_store$getState70","departure","departureid","destination","destinationid","productOrigin","isHideNavBar","handleGoTravelNote","urlInfo","ename","did","handleGoRecommendDetail","_url5","handleGoStarInfo","_store$getState71","traceGoStarInfo","handleGoTagUrl","traceJumpTagUrl","handleGoCreditInfo","_store$getState72","promotionDisplayInfo","creditInfo","CampaignUrl","handleGoBonusPage","jumpObj","needLogin","handleGoSuperVipPage","handleGoSDPServicePage","handleGoSDPShop","handleGoSelfLicenseInfo","handleGoLicensePage","providerId","handleGoComment","_store$getState73","queryid","handleGoShopDetail","_store$getState74","VendorInfo","brandScore","shopInfo","brandId","BrandId","desCityId","detailId","proId","VenderId","shopId","handleGoGuideList","_store$getState75","roleType","isgold","IsGoodGuideProduct","isself","handleGoGuideDetail","_store$getState76","_formatServiceUrlForP","formatServiceUrlForPhotoBrowser","handleGoTopList","_store$getState77","handleGoStudyStandard","_store$getState78","studyUrl","handleGoStoreInfo","_store$getState79","nearbyStoreUrl","navBarStyle","handleGoCostMore","_store$getState80","saleCityId","handleGoVisa","_store$getState81","handleGoBookingNote","_ref60","Code","_store$getState82","locateCityId","handleGoDefaultInfo","_store$getState83","handleGoThemeEquipment","_store$getState84","handleGoThemeGuide","_store$getState85","handleGoIM","isAdvisor","_store$getState86","_ref61","_ref62","resolveImCode","IMParams","IMCode","destinationIdList","platformId","extendJson","needHost","_callback8","_callee64","_context64","_url6","handleGoPrivateIM","_store$getState87","_ref63","activeLine","LINE","lineDesc","routeDesc","ExtendJson","handleGoFavouriteList","_store$getState88","tagid","_callback9","_callee65","_context65","groupType","_url7","Util","base64Encode","handleGoHistory","handleGoHotKey","hotkey","handleGoPicList","_store$getState89","_store$getState89$Med","traceGoPictureList","_url8","_params","isNewStyleFlag","_url9","handleGoAlbumReview","_store$getState90","handleGoEpidemicPolicy","_store$getState91","source","to","handleGoTourPoiPage","isScenicTab","_store$getState92","_TravelIntroductionIn","TravelSummaryInfoList","isShowScenic","SummaryItems","ItemId","tabIndex","_url10","tabindex","alwaysjump","handleGoHotelDetail","HotelID","cityid","hotelid","sourcefrom","HotelPreFetch","needJump","Env","jumpOptions","hotel","_params2","isInZTAppToctrip","handleGoScenicDetail","saveHotelAndScenicInfo","day","ctstore","handleGoPoiPage","scenic","DistrictID","GSScenicSpotID","PoiTypeId","BusinessId","_url11","_url12","seo","_options6","_url13","_params3","fromType","isHideHeader","_options7","handleGoRestaurantDetail","destCityId","restId","handleGoMapDetail","_store$getState93","handleGoShipDetail","_store$getState94","ShipInfo","EnName","Company","_url14","handleGoMemberShip","_store$getState95","membershipUrl","VipGrade","urlKey","handleGoFlightDiscountPage","handleGoSuggestDestination","kwd","_store$getState96","searchtype","tab","_url15","handleGoSearchTag","_store$getState97","handleGoCruiseRoomDiffPage","_url16","handleGoCruiseCommonProblem","_store$getState98","_url17","handleGoCruiseBookingTip","_url18","handleGoHotelStarPage","handleGoTrackOrder","_store$getState99","handleGoEnterpriseWechatPage","_store$getState100","h5Url","useBackUp","path","_url19","handleGoComplexRoutePage","_store$getState101","handleGoAsk","_store$getState102","groupBizType","args","imUrl","pageType","imShowtext","_ref64","_callee66","_store$getState103","storage","_context66","_x28","_x29","_ref65","_callee67","_store$getState104","_context67","seletedDate","_x30","_ref66","_callee68","_store$getState105","_context68","getDepartureCityCache","setUserInfo","_ref67","_callee69","_yield$ctx$getUserInf2","_context69","_ref68","_ref68$showNonMember","showNonMember","User","userLoginWithParams","_callee70","_store$getState106","_context70","loginCallback","_ref70","_callee71","_context71","getIMCode","_store$getState107","_store$getState108","defaultImage","_store$getState109","scenicInfo","dinnerInfo","hotelItem","orFlag","scenicItem","OrFlag","classic","IsClassic","dinner","_ref71","DinnerPoiInfoList","dinnerItem","detail_hotel_list","detail_scenic_list","detail_dinner_list","_ref72","_callee72","_store$getState110","_context72","checkShouldSwitchToCRH","checkChangeToAvailableLine","checkChangeToOnlyDepartCity","checkAutoSelectDepartCity","checkChangeToOtherDepartCity","checkShouldSwitchToActiveLine","checkShouldChangeSelectDate","_ref73","_callee73","_store$getState111","_store$getState112","dateArr","chooseDate","_context73","isInRange","dailyItem","_store$getState113","productGroupInfo","TagGroupInfoList","CrhLineIdList","TagName","_ref74","_callee74","_store$getState114","allDepartCities","targetProduct","urlCityName","LINE_ALIAS","_context74","traceDepartcityMetricInfo","sceneType","isAccept","_store$getState115","ActiveLineIdList","isInteger","priceDesc","_ref75","_callee75","_store$getState116","curProductIdDepartCities","onlyDepartCity","_context75","_ref76","_callee76","_store$getState117","_urlCityName","_context76","mainBtnText","subBtnText","_ref77","_callee77","_store$getState118","cachedCityId","availableCityList","_context77","_store$getState119","checkD2DSwitchSelectedDateAvailable","_store$getState120","_currentRouteInfo","_ref78","_callee78","_store$getState121","curPreSaleParentProductId","_context78","getABTestResult","_ref79","_callee80","_store$getState122","promiseList","resultList","_context80","_ref80","_callee79","_context79","getABTest","ExpVersion","_x31","_ref81","_ref82","_callee81","ABCode","ABCodeResult","_context81","_x32","_store$getState123","_ref83","_store$getState124","isSelf","providerID","servicepersonid","supplierid","showproduct","showserveproducts","tpal","guideJumpUrl","parseUrl","refreshSelectedLine","_ref84","_callee82","_store$getState125","_result","_context82","_ref86","_callee83","_ref85","curMainProductInfo","_context83","_x33","PAGEID_MAP","sale","route","theme","privileged","original","diyfhxsdp","pureDiyfhxsdp","cruise","default","sharetype","IsThemeProduct","sendPV","asyncSetPageId","Log","logPage","targetPageRef","pageviewIdentity","__page_hierarchy_id","traceViewHistory","traceAppRemarketing","sendTrack","traceStudy","traceBasicInfo","traceCanNotBook","traceInvalidProduct","traceURLDepartureChange","traceRequestRef","_store$getState126","vacationType","traceCruiseHistory","line_type","to_poi","poiname","poiid","cityname","vacationtype","is_sold","ispresell","originprice","OriginPrice","displayprice","_store$getState127","bizType","site","commonData","fromCityId","_store$getState128","suffix","logGoogleRemarking","_value","_store$getState129","From","To","_arr","_key","k","_store$getState130","studyType","_store$getState131","pkgid","stcityid","slcityid","pagebu","_store$getState132","traceBookErrorInfo","operation","messageid","_store$getState133","IsActive","_store$getState134","businessline","merchandiseid","startcity","_store$getState135","citycode","_ref87","_callee84","oldCityId","newCityId","_store$getState136","isFromCalendar","_context84","cityname_original","yes_or_no","_x34","_x35","_store$getState137","geo_cityid","_store$getState139","_store$getState140","_store$getState141","gprodType","selectedCity","_ref88","_callee85","_ref89","_ref89$sceneType","_ref89$isAccept","_ref89$selectedCity","_store$getState142","_args85","_context85","UrlDepartureCityId","CacheCityId","SceneType","IsAccept","RecommendType","_ref90","_callee86","_store$getState143","_query2","_isSecKill","_yield$ctx$Business$d","className","ref","_context86","doBusinessJobPromise","_store$getState144","ctm_ref","_store$getState145","_query3","traceid","_ref91","_store$getState146","_ref92","_callee87","_store$getState147","_yield$ctx$post14","_context87","contactName","nameInput","phoneInput","intCode","productPatterns","textInput","_x36","_x37","multiTravelMinPriceGroupByAlias","_ref93","_ref94","curDisplayPrice","ut","jsx_runtime","Header","Tabs","useState","useActions","_useState","_useState2","isShowHeader","setIsShowHeader","_useState3","_useState4","curIndex","setCurIndex","scrollTopRef","useRef","isClickScrolling","orderKnowText","VisaCountryList","VisaDescList","VisaTitle","DestProvinceId","ele","usePageScroll","_Tabs$","scrollTop","current","idName","createSelectorQuery","select","boundingClientRect","rect","isCurTopOut","top","exec","element","nextEle","nrect","isNextInView","getSystemInfoSync","screenHeight","_getSystemInfoSync","statusBarHeight","menuBtnInfo","getMenuButtonBoundingClientRect","menuPaddingTop","fixedHeight","height","handleScrollToEle","useCallback","targetTop","pageScrollTo","complete","jsx","View","visibility","children","jsxs","onClick","event","tabid","Text","cwx_","cwx_default","MemoImageInfo","memo","ImageInfo_ImageInfo","ImageInfo","isShowHeavyData","imgIndex","setImgIndex","windowWidth","_MediaInfo$VideoInfoL","originalImg","lowQualityImg","videoUrl","PlayUrl","coverImageUrl","originalCoverImageUrl","isHighQualityCoverImageReady","isReady","isPlaying","isAutoplay","mediaSetting","changeMediaSetting","useEffect","newSetting","getNetworkType","networkType","isWifi","_newSetting","PicAndVideoTopBox","minHeight","marginBottom","MemoMediaInfo","ProductInfoBigPic","_ImgList$","_getSystemInfoSync2","_ref5$ImgList","Image","lazyLoad","mode","src","pauseVideo","videoCtx","createVideoContext","pause","ImageUrl","renderImgList","Fragment","width","position","onLoad","Swiper","circular","autoplay","onChange","detail","evt","uploadUserAction","SwiperItem","background","VideoPlayer","VideoImageUrl","image","_image$UrlList$","_imgUrl","_imgUrl2","imgUrl","_ref7","_getSystemInfoSync3","stopPropagation","Video","playBtnPosition","showPlayBtn","enableProgressGesture","muted","showMuteBtn","poster","controls","loop","onPlay","onPause","onEnded","SupplierWithId","NameInfo","PricePanel","_Model$useActions$han","isNewUpgrade","storeType","isGoldShop","storeTypeId","canJumpShop","display","VendorBrand","VendorName","setClipboardData","icon","_getSystemInfoSync4","CompositePromotionInfo","_Model$useActions$han2","MinPriceRemark","PreferentialPriceDetail","OrderPersonCount","PersonCountString","PersonsAnnual","PersonsMonth","_getMemberPriceSettin","getMemberPriceSetting","isMemberPrice","fontColor","backgroundImage","priceTitle","displayPreferentialPriceItems","discountInfoColor","totalDiscountPrice","isShowDiscountPriceInfo","PreferentialAmountDetails","PreferentialPriceItems","UserDetail","priceItem","PreferentialTitle","PreferentialAmount","discnttagtype","_PreferentialPriceItems","isdiscount","disctprice","discnt","color","fontSize","fontWeight","priceIndex","isLast","starNumberUrl","shouldShowTitle","StudyIcon","StudyCharacterTagList","isStudyGold","isStudySilver","_MediaInfo$ImgList2","totalLength","isShowPlayerButton","border","font","discountText","discountBg","ExtendInfo","_userInfo$ExtendInfo","LevelName","imageDict","flightCross","fontColorDict","discountInfoColorDict","vipKey","NewDestination","suggestInfo","bookingRule","IsHitTheRule","BookingRuleType","searchName","MultiRoute","forwardRef","MultiRoute_MultiRoute","props","routeRef","_Model$useState","multiRouteId","setMultiRouteId","multiTravelAlias","setMultiTravelAlias","useImperativeHandle","isVersionBText","lineNumber","ScrollView","scrollX","scrollWithAnimation","scrollIntoView","MultipleLine","MultipleTravel","lineOfDescription","_Model$useState2","Description","test","hasAnyPreSale","sortedGroupCards","sortLineByCanBook","lineName","hasPrice","isCurrent","preferentialPriceDetail","baseCarMinPrice","preferentialAmountDetails","discountPriceInRoute","preferentialAmount","isCarInfoVerssionB","hasPreSale","PresaleLineRouteInfo","description","LineRouteInfo","lineOfName","_Model$useActions","lineIndex","getMultiTravelPrice","sortedTravelList","sortTravelListByCanBook","TourInfoId","isActive","multiTravelRouteDisplayPrice","showPriceInTime","priceInTimeLines","TravelRouteInfo","_ref8$isCurrent","disabled","_ref8$hasPrice","_ref8$hasAnyPreSale","paddingTop","alignSelf","marginLeft","marginRight","DistinctionInformation","_ref10$isCurrent","_ref10$hasPrice","_ref12$isCurrent","bottom","allMinPriceDiscount","_Object$values","everyLineIncludesSchedule","lineMinPriceDate","priceObj","_productPrices$","originalPriceInfo","curLineMinpriceDiscont","originalPrice","showCardInfo","_groupCard$cards","cardItems","card","descItems","isBest","groupName","isHidden","displayContent","DistinctionInformationItem","bestIconUrl","imgurl","paddingLeft","newCards","sort","a","b","util_vdate","util","isIphoneX","topDateTag","lowest","nextlowest","weekend","festival","minprice","MemoSchedule","RouteScheduleInfo_RouteScheduleInfo","RouteScheduleInfo","BrandingImageBanner","DepartureInfo","DateList","CarDiscountPrice","CompressionVersionTip","isMergeShowDepartInfo","getIndex","commonDates","top1Date","top2Date","dateIndex","flag","_currentRouteInfo$dai","_allDisplayDates","hasShowRecommandSchedule","scrollLeft","setScrollLeft","_getScheduleTopDate","getScheduleTopDate","isShowTopDates","distance","recommandScroll","isShowPreSaleDate","selectLine","curLineInfo","PreSaleDate","showDividingLine","isShowInventoryTip","allDisplayDates","_ref8$MoreTagList","MoreTagList","hasGroupTag","isPrivateGroup","showGroup","isSelectDateOutCommon","correctPrice","_priceCalendarData$da","recommandSchedule","_curLineInfo","lineArr","curLineScheduleLength","allScheduleArr","date1","date2","dateInfo","scheduleInfo","curLineSchedule","_allScheduleArr","multilineAliasMap","hasOtherLineSchedule","every","lineObj","_currentRouteInfo$Tag","showLineName","isPriceIntimeLine","curScheduleIncludeLines","dayMinPrice","Infinity","hasMultiLine","lineInfoText","paddingRight","DateItem","isShowGroupTip","RecommandSchedule","schedule","RecommandDateItemWithTip","_Model$useActions$han3","handleSelectRecommandDate","changeLineName","recommandDate","dislineName","weekNum","getDay","hasMiniFontSize","pow","weekName","handleSelectDate","Festival","_item$date","festivalName","isSelected","priceDay","priceWeek","pricePrefix","tipText","right","UIPrice","_ref18$isRecommandSch","isRecommandSchedule","_ref19$showDividingLi","preSalePrice","marginTop","_Model$useActions$han4","PreSaleTravelDayText","PreSaleBookingRuleText","PreSaleRule","_PreSaleNotice$PreSal","PreSaleTravelStartDay","PreSaleTravelEndDay","AdvanceBookingDays","AdvanceBookingTime","hasTag2171","hasTag2172","opacity","curScheduleDate","availableScheduleDates","dateItem","curMonth","nextMonth","addMonth","curMonthDates","_item$date2","nextMonthDates","_item$date3","curMonthLowestPrice","nextMonthLowestPrice","recentFestivalDates","dayDiff","recentWeekend","getRecentWeekend","_recentWeekend","_curDate","_recentWeekend2","_curDate2","_dayDiff","_recentWeekend3","_recentWeekend4","allDatesLength","recent30Dates","_weekName","specialTag","brandTag","_Model$useActions$han5","ImgUrl","mini","specialBrandImg","isJump","_TagGroupInfo$MoreTag","_Model$useActions$han6","VipGradeRemark","isShowBookLimitIcon","compressionAdapteAgeText","AdapteAgeText","compressionDiscountPriceText","hasConfirmTag","compressionBookText","displayTags","tomorrowCanBook","todayCanBook","today","tomorrow","_priceCalendarData$da2","tomorrowProductPrices","_priceCalendarData$da3","todayProductPrices","tomorrowCanBookText","todayCanBookText","canAdultBook","canChildBook","PriceStandardList","canAdultBookInfo","PassengerType","canChildBookInfo","IsCanBook","MinBookPerson","passengerTypeLimitText","startText","betweenText1And2","betweenText2And3","textCount","textIndent","MemoThemeSummary","ThemeSummary_ThemeSummary","ThemeSummary","ThemeOverviewInfo","MemoComment","Comment_Comment","Comment","getEnv","queryId","jump","pageTitle","backgroundColor","frontColor","SimpleCommentList","MemoBrandInfo","BrandInfo_BrandInfo","BrandInfo","productList","LicenseInfo","BrandInfoList","ShopInfo","backgroundImageUrl","BCScanningCopy","brandName","providerName","totalScore","customersCount","storeEvaluation","serviceDestinationName","cmtGuidePosiRate","gradeName","gradeIconUrl","guideRateText","formatGuideRate","entryText","minWidth","RecDesc","TagGroup","Active","BrandInfoCard","rateNumber","toFixed","BookingNote","OrderKnow_PreSaleNotice","VisaInfo","OrderKnowItem","CostMore","iconUrl","endsWith","_ref3$currentRouteInf","ContractDesc","shouldShowVisaInfo","subText","getVisaSubText","OrderKnowIconMap","OrderKnowList","rule","InfrastructureInfoList","DescList","subTitle","Category","VisaInterviewMap","summaryText","_VisaInfo","SummaryType","ItemText","_VisaCountryList$","VisaInterview","VisaTypeName","VisaType","isAllVisaInterviewSame","visa","_VisaCountryList$2","_VisaInterview","_VisaTypeName","_text","Country","visaText","PassengerTypeTextMap","PassengerTypeTipTextMap","MemoCostDescription","CostDescription_CostDescription","CostDescription","_state$currentRouteIn","initPassengerType","_ref2$PriceStandardLi","IncludingFees","ExcludingFees","curPassengerType","setCurPassengerType","SubTitleCode","ProductClauseList","UICotsInfoList","disPlayPriceStandardList","curPassengerTypeTitle","isShowIconTip","isShowChildHeightTip","childInfo","MinHeight","MaxHeight","MinAge","MaxAge","CostIncludingFees","feeInfos","CostExcludingFees","ClauseItem","infoIndex","ClauseTypeName","ClauseTypeId","ClauseSubItemList","isDiff","DifferenceType","ClauseSubItem","ClauseSubItemIndex","SubTitle","TargetPopulationItemList","infos","TargetPopulation","ClauseId","IsHighlight","isShowGODetailIcon","ThemeInfoEntry","hasScenicSelfSund","TravelOverviewInfo","ScenicSportSelfActiveList","clauseGroupByPassengerType","subItem","isShowSelfFundMaskBtn","CostInfo","DescriptionList","descIndex","MemoMoreRecommend","MoreRecommend_MoreRecommend","MoreRecommend","StartCityId","Pattern","ProductName","RecommendCard","SecurityInfo","safeArea","Footer","selectDateFn","WarningInfo","CurBookingScheduleInfo","ShopButton","FavoriteButton","CustomerServiceButton","BookingButton","isShowEntry","isCurLineCanNotBook","handleClickBookingButton","mask","selector","handleSyncSelectDateStorage","isShowXRecButtom","CanBookingSingleResource","IsBookChannelError","hasSchedule","curLineAlias","Button","BookingButtonColor","_BookingRuleType","_hasSchedule","_curPreSaleProductId","_curPreSaleInfo","BookingRuleNotice","Content","WarningButton","isIPhoneX","isIOS","setIsShow","TravelDays","startDateText","endDateText","departCityText","EndPage","PopOptionPlus","freeRefundTags","ServiceTagMask","headerBgUrl","handleClose","PriceTipMask","copyLink","onLinktap","ConsultantSimpleBanner","consultant","backgroundImg","wechatNumber","Customize","FixedButton","RoutePositionRef","ZtVirtualList_document","_this6","VirtialList","_Component","_super","_this","call","getCurrentInstance","windowHeight","onComplete","setState","isComplete","_this$props","onBottom","listType","scrollViewProps","list","_this$initList$page_i","page_index","wholePageIndex","initList","handleComplete","_this$state","twoList","nextTick","setHeight","_scrollViewProps$onSc","onScrollToLower","listId","$targets","querySelectorAll","root","querySelector","rootMargin","observer","IntersectionObserver","observerCallBack","$item","_this$observer","observe","screenIndex","target","isIntersecting","pageHeightArr","miniObserve","_scrollViewProps$styl","_this$props2","_this$props2$screenNu","screenNum","scrollHeight","createIntersectionObserver","currentPage","relativeToViewport","_twoList$wholePageInd","intersectionRatio","throttle","_this$props$onGetScro","_this$props3","onGetScrollData","innerScrollTop","_this$props4","getSystemInformation","formatList","formatMultiList","nextProps","_nextProps$list3","_this2","_this$props5","_this$props5$pageNum","pageNum","oldPageNUm","_nextProps$list","_nextProps$pageNum","_nextProps$list2","_this3","segmentList","_this$props$segmentNu","segmentNum","arr","_list","restList","_this4","_this5","_res$","handleObserve","_this$state2","_this$props6","_this$props6$segmentN","onRenderTop","onRenderBottom","onRender","onRenderLoad","autoScrollTop","scrollStyle","_scrollViewProps","scrollY","renderNext","lowerThreshold","onScroll","handleScroll","Block","el","Component","defaultProps","fn","delay","mustRunDelay","timer","_len","curTime","now","clearTimeout","CitySelectMask","cityText","displayDepartureCityPriceList","DepartureCityPy","toLowerCase","firstLetterList","CityGroupByFirstLetter","city","_city$DepartureCityPy","firstLetter","toUpperCase","_CityGroupByFirstLett","isScrollView","segmentIndex","cityList","cityIndex","isAvailable","isCurDepartCity","maxHeight","UrgentMask","riskCityPolicy","formatData","formatRiskData","EmotionalCues","UrgentInfo","riskPolicyInfo","onClose","isOverSea","IsOverSea","IsHkMcTw","policies","Weight","policyText","urgencyLevel","tabTitle","tabType","tab1Info","tab2Info","startCityPolicy","endCityPolicy","startCityRevPolicy","endCityRevPolicy","srcId","_startCityPolicy$","levelTagName_s","levelTagName","leavePolicy_s","leavePolicy","phoneInfos_s","phoneInfos","city_s","levelTag","ctripCreateTime_s","ctripCreateTime","tags_s","title_s","_endCityRevPolicy$","comePolicy_s_r","policy","title_s_r","city_s_r","tags_s_r","ctripCreateTime_s_r","levelTagName_s_r","_endCityPolicy$","levelTagName_e","phoneInfos_e","city_e","comePolicy_e","comePolicy","ctripCreateTime_e","tags_e","title_e","_startCityRevPolicy$","leavePolicy_e_r","title_e_r","city_e_r","tags_e_r","ctripCreateTime_e_r","levelTagName_e_r","_policies","phoneTitle","_policies2","_policies3","_policies4","_policies5","_policies6","_policies7","_policies8","skeleton","CustomerServiceMask","imDescription","makePhoneCall","constants","SelfFundMask","subtitle","ActivityName","ActivityDesc","Currency","Price","UseListingPrice","ScenicExcludingFeeMask","PoiName","selfFund","fundIndex","InvalidPage","navigateBack","LicenseInfo_LicenseInfo","VendorFullName","DiscountDetailMask","preferentialPriceItemsGroupByType","PreferentialType","groupItem","Items","fontFamily","groupIndex","DiscountInfoItem","dangerouslySetInnerHTML","__html","PreferentialName","PreferentialPrice","isShowAll","setIsShowAll","isShowToggleBtn","textOverflow","overflow","NavBar","_BasicInfo$Title","isShowMenu","setIsShowMeanu","system","displayTitle","isShowNavBar","setIsShowNavBar","setNavigationBarColor","pages","getCurrentPages","isFirstPage","switchTab","NavMenu","MemoProductFeature","ProductFeature_ProductFeature","ProductFeature","isExpand","setIsExpand","isShowToggleButton","setIsShowToggleButton","contentHeightRef","setToggleButton","_setToggleButton","timeId","setInterval","clearInterval","Introduction","SellingPointInProductFeature","RecommendList","SellingPoints","isShowDetailText","RecommendTag","DescDetail","RouteInfo","TabBar","RouteTitle","ProductSummary","RouteDetail","_groupInfo$groupPrice","groupInfo","lineAliasText","groupPriceList","DinnerTimeAssign","showVisaDetail","summaryVisaSubText","getSummaryVisaSubText","SummaryIcon","SummaryTitle","isVisaInfo","infoItem","SubItemText","isScenicItem","isHotelItem","isGuideItem","isDriverItem","isTPalItem","ProductSummaryServicePerson","textIndex","isShowHotelDetailDesc","LocalTimeDesc","TravelHotelDesc","dayItem","_dayItem$DailyList","RouteDetailTitle","RouteDetailContent","TravelSummaryModuleList","ScenicInfo","ModuleId","totalDay","initAllToggleStatus","allToggleStatus","setAllToggleStatus","_TravelIntroductionIn2","dayIndex","RouteDetailContentItem","getDayilyScenicInfos","timeIndex","Set","spot","PoiDistrictInfo","DistrictType","add","ParentDistrictPath","_spot$PoiDistrictInfo","scenicInfos","shouldShowOrFlag","lastIndex","_curDayJourneyInfo$","_TravelIntroductionIn3","curDayJourneyInfo","curDayJourneyTours","journeyItemList","tours","all_loop","_dayIndex","_DailyList","imageUrlList","defaultImg","fullname","enableFlex","imgurlObj","_ref14$isDriver","_ref14$isTPalItem","showRoleDescText","GuideList","rowCount","isBigScreen","displayGuides","lifePhoto","guideCommentAverageScore","workExperience","guideScore","isGoodGuide","experienceYears","floor","experienceMonths","AllPromotionMask","margin","MemberShipInfo","CrossMemberInfo","CreditInfo","PromotionInfo","BonusInfo","SpecialTagInfo","setCount","couponList","_cwx$mkt$getUnion","mkt","getUnion","needPopover","visible","isShowEmptyContent","clientEnv","ctType","clientType","forceReloadTimestamp","saleChannel","allianceId","siteId","clientId","locale","onLoadData","listData","onClaim","ClaimCoupon","userInformation","levelMember","levelCode","rights","TextColorMap","HandlersMap","LEVELMEMBER_PRICE","LEVELMEMBER_CANCEL","LEVELMEMBER_BONUS","handleClick","superMember","crossMember","_promotionDisplayInfo","PromotionWords","ButtonText","IsCreditSuccess","ToggleButton","CreditSuccessInfo","_promotionDisplayInfo2","ActivityInfo","FirstRepayDay","promotionList","promotionCount","PromotionTypeItem","_useState5","_useState6","firstItem","itemIndex","promotionSubTypeName","linePrefix","bonusInfo","specialTagImg","AlbumUrl","bookingLimitSdp","BookingLimitMask","controller","MaxBookPerson","sdpIncludeFlight","IsIncludeSystemFlight","sdpIncludeHotel","sdpIncludeTrain","IsIncludeSystemTrain","filterOrderKnow","BookLimitInfo","val","isHighlight","Detail","PreSaleNoticeMask","notice","PresaleNotice","GODetailMask","CommentTip","isFillet","SimpleCommentBar","isPlaceholder","SellingPointWithComment","productRanking","hasRankingInfo","rankingDesc","hasTagInfo","NewPromotionTagList","TravelServiceTagList","hasTagBox","ProfileSubName","TagInfoWithSearch","setExpandStatus","lineNumberExtend","setLineNumberExtend","stateChange","UIRankingInfo","TagInfo","MarketingTagList","isShowThemeDifficultyTag","ThemeDifficultyTag","displaySpecialTagList","TagDisplayName","pttype","canJumpRankingInfo","targetUrl","exposeValue","dest_id","toplistname","ProfileBanner","Announcement","BookingServiceTags","PromotionTags","riskType","isShowUrgentInfo","_displayTags","getDisplayServiceTags","isShowSecureTag","isOverseas","unshift","getClaimCouponList","totalCount","getTotalDiscountCount","hasCoupon","LevelMemberTag","CrossMemberTag","SuperMemberTag","SpecialTag","CouponTag","CreditTag","PromotionTag","BonusTag","INCLUDE_KEY","displayTag","baseImgUrl","displayImgUrlMap","displayImgUrl","TagTextColorMap","TagBgColorMap","color1","color2","borderColor","promotionLabel","hasMemberDiscount","fetchClaimCouponList","then","DetailView","PageUrl","selectDateFn_presale","setIsShowHeavyData","useDidShow","setNavigationBarTitle","onShareAppMessage","I","hasCacheDateUsed","initCalendar","disableDates","calendarCallBack","isSuccess","nextLine","_isSuccess","lead_time","SelectDate","onSelect","onRef","logger","_dec","_class","BaseController","PureModel","Model","_BaseController","MODEL_CONTEXT","p","impl","tourContext","getPageUrl","fI","getUrlQuery","_componentWillMount","isWeapp","isStandalone","loadFontFace","family","fetchSwitch","getMiniProgramPlatform","componentWillMount","_fetchSwitch","IsAB","AppSettingList","getQConfigData","KeyList","config","enableShareAppMessage","Page","createPageConfig","cn","__unused_webpack_exports","exports","__webpack_exec__","moduleId","s","O"],"sourceRoot":""}