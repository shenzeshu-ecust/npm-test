{"version":3,"file":"pages/trainBooking/coupon/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_trainBooking_coupon_index.js"],"sourcesContent":["\"use strict\";\nrequire(\"../taroCommon\");\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[949],{\n\n/***/ 56392:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(79301);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(95308);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(57042);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24460);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(21867);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(86066);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: ./src/taroCwx/base.js\nvar base = __webpack_require__(65542);\n// EXTERNAL MODULE: ./src/pages/trainBooking/common/pageId.js\nvar pageId = __webpack_require__(3979);\n// EXTERNAL MODULE: ./src/pages/trainBooking/common/util.js\nvar util = __webpack_require__(38717);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(22276);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(298);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(90129);\n// EXTERNAL MODULE: external \"@/miniapp/cwx/cwx\"\nvar cwx_ = __webpack_require__(56884);\nvar cwx_default = /*#__PURE__*/__webpack_require__.n(cwx_);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./src/pages/trainBooking/coupon/components/Coupon/index.jsx\n\n\n\n\n\n\n\n\n\n\n\nvar noop = function noop() {};\nvar shared = (cwx_default()).train;\nvar Coupon = function Coupon(_ref) {\n  var _ref$selectCoupon = _ref.selectCoupon,\n    selectCoupon = _ref$selectCoupon === void 0 ? {} : _ref$selectCoupon,\n    _ref$couponList = _ref.couponList,\n    couponList = _ref$couponList === void 0 ? [] : _ref$couponList,\n    _ref$disabledCouponLi = _ref.disabledCouponList,\n    disabledCouponList = _ref$disabledCouponLi === void 0 ? [] : _ref$disabledCouponLi,\n    _ref$isUpperCase = _ref.isUpperCase,\n    isUpperCase = _ref$isUpperCase === void 0 ? false : _ref$isUpperCase,\n    isSelectArgent = _ref.isSelectArgent,\n    _ref$isNotSelectPacka = _ref.isNotSelectPackage,\n    isNotSelectPackage = _ref$isNotSelectPacka === void 0 ? false : _ref$isNotSelectPacka,\n    _ref$navigateBack = _ref.navigateBack,\n    navigateBack = _ref$navigateBack === void 0 ? noop : _ref$navigateBack;\n  var _useState = (0,react.useState)(selectCoupon),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    userSelectedCoupon = _useState2[0],\n    setUserSelectedCoupon = _useState2[1];\n  var _useState3 = (0,react.useState)(couponList),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    newCouponList = _useState4[0],\n    setNewCouponList = _useState4[1];\n  var _useState5 = (0,react.useState)(disabledCouponList),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    newDisabledCouponList = _useState6[0],\n    setNewDisabledCouponList = _useState6[1];\n  (0,react.useEffect)(function () {\n    setUserSelectedCoupon(selectCoupon);\n    setNewCouponList(couponList);\n    setNewDisabledCouponList(disabledCouponList);\n  }, [selectCoupon, couponList, disabledCouponList]);\n  var chooseCoupon = function chooseCoupon(index, isDisabled) {\n    var _currentSelectCoupon, _currentSelectCoupon2;\n    var item = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (isDisabled) {\n      var message = item.unavailableToast || (isNotSelectPackage ? \"您未购买套餐，不可使用该优惠券哦\" : \"此优惠券当前无法使用\");\n      util/* default.showModal */.ZP.showModal({\n        m: message\n      });\n      return;\n    }\n    if (isSelectArgent) {\n      util/* default.showModal */.ZP.showModal({\n        m: '紧急代购不可使用优惠券哦'\n      });\n      return;\n    }\n    var currentSelectCoupon = index === -1 ? {} : newCouponList[index];\n    if (((_currentSelectCoupon = currentSelectCoupon) === null || _currentSelectCoupon === void 0 ? void 0 : _currentSelectCoupon.couponCode) === (userSelectedCoupon === null || userSelectedCoupon === void 0 ? void 0 : userSelectedCoupon.couponCode) || (_currentSelectCoupon2 = currentSelectCoupon) !== null && _currentSelectCoupon2 !== void 0 && _currentSelectCoupon2.disabled) {\n      return;\n    }\n    setUserSelectedCoupon(currentSelectCoupon);\n    shared.selectCoupon = selectCoupon;\n    if (isUpperCase) {\n      if (Object.keys(currentSelectCoupon).length > 0) {\n        currentSelectCoupon = (0,util/* getLowerCaseKeyObject */.Zs)(currentSelectCoupon, false);\n      } else {\n        currentSelectCoupon = null;\n      }\n    }\n    navigateBack({\n      selectCoupon: currentSelectCoupon\n    });\n  };\n\n  //展开优惠券明细\n  var expandAction = function expandAction(index, isDisabled) {\n    var item = isDisabled ? newDisabledCouponList[index] : newCouponList[index];\n    if (isDisabled) {\n      newDisabledCouponList[index] = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, item), {}, {\n        allowOpen: !item.allowOpen\n      });\n      setNewDisabledCouponList((0,toConsumableArray/* default */.Z)(newDisabledCouponList));\n    } else {\n      newCouponList[index] = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, item), {}, {\n        allowOpen: !item.allowOpen\n      });\n      setNewCouponList((0,toConsumableArray/* default */.Z)(newCouponList));\n    }\n  };\n  var _renderCouponListItem = function _renderCouponListItem(couponListArr, isDisabled) {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n      children: couponListArr.map(function (item, index) {\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          onClick: function onClick() {\n            return chooseCoupon(index, isDisabled, item);\n          },\n          class: \"coupon-box \".concat(item.disabled ? 'disabled' : '', \"} \\n          \").concat((userSelectedCoupon === null || userSelectedCoupon === void 0 ? void 0 : userSelectedCoupon.couponCode) === item.couponCode ? 'current' : ''),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            class: \"coupon-bd\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              class: \"coupon-left\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                class: \"coupon-left-txt\",\n                children: \"\\u7ACB\\u51CF\\u5238\"\n              }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                class: \"coupon-left-price\",\n                children: [item.deductionAmount, /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  children: \"\\u5143\"\n                })]\n              })]\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              class: \"coupon-right \".concat(item.allowOpen ? 'open' : ''),\n              children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                class: \"coupon-right-txts\",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  class: \"txts-title\",\n                  children: item.couponDisplayName\n                }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  class: \"txts-date\",\n                  children: [\"\\u6709\\u6548\\u671F\\u81F3\", item.couponEndDateStr]\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  class: \"txts-des\",\n                  onClick: function onClick(e) {\n                    e.stopPropagation();\n                    expandAction(index, isDisabled);\n                  },\n                  children: \"\\u4F7F\\u7528\\u8BF4\\u660E\"\n                })]\n              })\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            class: \"coupon-info-none \".concat(item.allowOpen ? 'coupon-info' : ''),\n            onClick: function onClick(e) {\n              e.stopPropagation();\n              expandAction(index, isDisabled);\n            },\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              class: \"remark-box\",\n              children: item.remark\n            })\n          }), !item.disabled ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            class: \"checkbox check-box-base \\n             \".concat((userSelectedCoupon === null || userSelectedCoupon === void 0 ? void 0 : userSelectedCoupon.couponCode) === item.couponCode ? 'active ifont-radio' : '')\n          }) : null]\n        }, index);\n      })\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"coupon-page\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        class: \"coupon-no-use-box  \".concat(userSelectedCoupon && Object.keys(userSelectedCoupon).length ? '' : 'current'),\n        onClick: function onClick() {\n          return chooseCoupon(-1);\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: \"\\u4E0D\\u4F7F\\u7528\\u4F18\\u60E0\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          class: \"checkbox check-box-base \".concat(userSelectedCoupon && Object.keys(userSelectedCoupon).length ? '' : 'active ifont-radio')\n        })]\n      }), _renderCouponListItem(newCouponList), (newDisabledCouponList === null || newDisabledCouponList === void 0 ? void 0 : newDisabledCouponList.length) > 0 ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        class: \"coupon-disable-list\",\n        children: \"\\u4E0D\\u53EF\\u7528\\u4F18\\u60E0\\u5238\"\n      }) : null, _renderCouponListItem(newDisabledCouponList, true)]\n    })\n  });\n};\n/* harmony default export */ var components_Coupon = (Coupon);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/trainBooking/coupon/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Index = /*#__PURE__*/function (_TaroBase) {\n  (0,inherits/* default */.Z)(Index, _TaroBase);\n  var _super = (0,createSuper/* default */.Z)(Index);\n  function Index(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Index);\n    _this = _super.call(this, props);\n    _this.pageId = pageId/* default.grabBooking */.Z.grabBooking;\n    _this.checkPerformance = true; // 白屏检测标志位\n\n    _this.state = {\n      disabledCouponList: [],\n      couponList: [],\n      selectCoupon: {},\n      isUpperCase: false,\n      isSelectArgent: false,\n      isNotSelectPackage: false\n    };\n    return _this;\n  }\n  (0,createClass/* default */.Z)(Index, [{\n    key: \"onLoad\",\n    value: function () {\n      var _onLoad = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(options) {\n        var _options$data, _options$data2, selectCoupon, couponList, isUpperCase, isSelectArgent, isNotSelectPackage, disabledCouponList, userCouponList, userDisabledCouponList;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (options.data) {\n                _options$data = options.data, _options$data2 = _options$data === void 0 ? {} : _options$data, selectCoupon = _options$data2.selectCoupon, couponList = _options$data2.couponList, isUpperCase = _options$data2.isUpperCase, isSelectArgent = _options$data2.isSelectArgent, isNotSelectPackage = _options$data2.isNotSelectPackage;\n                disabledCouponList = couponList.filter(function (item) {\n                  return item.disabled;\n                });\n                couponList = couponList.filter(function (item) {\n                  return !item.disabled;\n                });\n                userCouponList = couponList.map(function (item) {\n                  return (0,util/* getLowerCaseKeyObject */.Zs)(item);\n                });\n                userDisabledCouponList = disabledCouponList.map(function (item) {\n                  return (0,util/* getLowerCaseKeyObject */.Zs)(item);\n                });\n                this.setState({\n                  disabledCouponList: userDisabledCouponList,\n                  couponList: userCouponList,\n                  selectCoupon: (0,util/* getLowerCaseKeyObject */.Zs)(selectCoupon),\n                  isUpperCase: isUpperCase,\n                  isSelectArgent: isSelectArgent,\n                  isNotSelectPackage: isNotSelectPackage\n                });\n              }\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function onLoad(_x) {\n        return _onLoad.apply(this, arguments);\n      }\n      return onLoad;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_Coupon, {\n          selectCoupon: this.state.selectCoupon,\n          couponList: this.state.couponList,\n          disabledCouponList: this.state.disabledCouponList,\n          isSelectArgent: this.state.isSelectArgent,\n          isNotSelectPackage: this.state.isNotSelectPackage,\n          isUpperCase: this.state.isUpperCase,\n          navigateBack: this.navigateBack.bind(this)\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"view-check\",\n          onAnimationEnd: function onAnimationEnd() {\n            return _this2.viewReadyHandle();\n          }\n        })]\n      });\n    }\n  }]);\n  return Index;\n}(base/* default */.Z);\n\n;// CONCATENATED MODULE: ./src/pages/trainBooking/coupon/index.jsx\n\n\nvar config = {\"navigationBarTitleText\":\"使用优惠券\",\"navigationStyle\":\"default\",\"navigationBarBackgroundColor\":\"#0086F6\",\"navigationBarTextStyle\":\"white\"};\n\n\nvar inst = Page((0,runtime_esm.createPageConfig)(Index, 'pages/trainBooking/coupon/index', {root:{cn:[]}}, config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../cwx/ext/global\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [2119,2107,1216,8592], function() { return __webpack_exec__(56392); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["require","wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","runtime_esm","regeneratorRuntime","asyncToGenerator","classCallCheck","createClass","inherits","createSuper","react","components_react","base","pageId","util","toConsumableArray","objectSpread2","slicedToArray","cwx_","cwx_default","n","jsx_runtime","noop","shared","train","Coupon","_ref","_ref$selectCoupon","selectCoupon","_ref$couponList","couponList","_ref$disabledCouponLi","disabledCouponList","_ref$isUpperCase","isUpperCase","isSelectArgent","_ref$isNotSelectPacka","isNotSelectPackage","_ref$navigateBack","navigateBack","_useState","useState","_useState2","Z","userSelectedCoupon","setUserSelectedCoupon","_useState3","_useState4","newCouponList","setNewCouponList","_useState5","_useState6","newDisabledCouponList","setNewDisabledCouponList","useEffect","chooseCoupon","index","isDisabled","_currentSelectCoupon","_currentSelectCoupon2","item","arguments","length","undefined","message","unavailableToast","ZP","showModal","m","currentSelectCoupon","couponCode","disabled","Object","keys","Zs","expandAction","allowOpen","_renderCouponListItem","couponListArr","jsx","Fragment","children","map","jsxs","View","onClick","class","concat","deductionAmount","Text","couponDisplayName","couponEndDateStr","e","stopPropagation","remark","className","components_Coupon","Index","_TaroBase","_super","props","_this","this","call","grabBooking","checkPerformance","state","key","value","_onLoad","mark","_callee","options","_options$data","_options$data2","userCouponList","userDisabledCouponList","wrap","_context","prev","next","data","filter","setState","stop","onLoad","_x","apply","_this2","bind","onAnimationEnd","viewReadyHandle","config","Page","createPageConfig","root","cn","module","exports","__webpack_exec__","moduleId","s","O"],"sourceRoot":""}