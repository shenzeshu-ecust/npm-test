(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[202],{30038:function(e,t){"use strict";t["Z"]={dialog:"style-module__CnPG",title:"style-module_gz6kK",priceContainer:"style-module_yE5TI",priceNewText:"style-module_udEbA",priceNewUnit:"style-module_Dh7XE",priceNewPrice:"style-module_MmfcZ",priceOriginPrice:"style-module_qSlHC",content:"style-module_jcyGC",highlightContent:"style-module_e_SLF",buttonContainer:"style-module_nXe75",cancelButton:"style-module_xaCyz",cancelText:"style-module_Jly1q",confirmButton:"style-module_IUFJu",confirmText:"style-module_s_0O4",commonDialogBg:"style-module_dl7z1",closeButton:"style-module_N25Py",closeIcon:"style-module_N7kbM"}},96902:function(e,t,n){var r=n(59455);e.exports=r},12499:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(79301),a=n(95308),i=n(56884),o=n.n(i),s=n(43881),c=n(39441),l=[],u="A",d=u,m=0;do{if(l.push(d),"Z"==d)break;m++}while((d=String.fromCharCode(d.charCodeAt(0)+1))&&m<30);var f={};l.forEach((function(e){f[e]=[]}));var p="cwx_country_codes";function h(e){var t={};e&&e.forEach((function(e){f[e.py.charAt(0).toUpperCase()].push(e),t[e.country]=e,t[e.cn]=e}));var n={letterArray:l,letterDict:f,codesArray:e,countryDict:t};return s.tO.setSync("cwx_country_codes",JSON.stringify(n)),n}var g=null;function v(){return x.apply(this,arguments)}function x(){return x=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!g&&(t=s.tO.getSync(p),t))try{g=JSON.parse(t),g.countryDict||(g=h(g.codesArray))}catch(e){g=null}if(g){e.next=5;break}return e.next=4,c.Z.postAsync("/12687/GetCountryCode").then((function(e){return h(e.countryInfoList)})).catch((function(e){return console.log(e),{letterArray:l,letterDict:f,codesArray:[],countryDict:{}}}));case 4:g=e.sent;case 5:return e.abrupt("return",g.countryDict);case 6:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function y(e,t){return _.apply(this,arguments)}function _(){return _=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:o().component.areas({data:{selectedCode:t},immediateCallback:function(e){e&&e.code&&n(e.code)}});case 1:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function T(e,t){return Z.apply(this,arguments)}function Z(){return Z=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,i,s;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:a=e.sent,i=a[t],s=i.code||"",o().component.areas({data:{selectedCode:s},immediateCallback:function(e){e&&n({countryCode:e.code,countryName:e.country,showName:e.cn})}});case 6:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}var N={getCountryCode:y,getCountryInfo:T,getCountryShowNameWithCountry:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return n=e.sent,e.abrupt("return",(n[t]||{}).cn);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},C=N},71279:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(57042),a=n(24460),i=n(21867),o=n(86066),s=n(90201),c=n(71515),l={container:"index-module_Q6BVi",shadowContainer:"index-module_IhKLf",header:"index-module_Mk0Sa",closeButton:"index-module_I67Gy",closeIcon:"index-module_thBMf",title:"index-module_tjsZV",tab:"index-module_ssEuP",tabItem:"index-module_zxWQ7",tabText:"index-module_a7TQY",highlightText:"index-module_v9cvQ",tabIndicator:"index-module_ow8iz",mainBody:"index-module_MCOsh",detailTitle:"index-module_eCbZ9",detailContent:"index-module_akio_",exampleText:"index-module_QEGRw",exampleImage:"index-module_Gwxqh",applyExampleImage:"index-module_qK3DV"},u=n(43881),d=n(14028),m=n(80741),f=n(2269),p=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var a;return(0,r.Z)(this,n),a=t.call(this,e),a.state={selectIndex:0},a}return(0,a.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.onClose,n=this.state.selectIndex,r=0===n;return(0,f.jsxs)(c.View,{className:l.container,children:[(0,f.jsxs)(c.View,{className:l.shadowContainer,style:{elevation:2,shadowColor:"rgb(0,0,0)",shadowOpacity:.1},children:[(0,f.jsxs)(c.View,{className:l.header,children:[(0,f.jsx)(u.En,{className:l.closeButton,onClick:t,children:(0,f.jsx)(d.Z,{className:l.closeIcon,children:"\ue004"})}),(0,f.jsx)(c.Text,{className:l.title,children:"\u62a5\u9500\u51ed\u8bc1\u8bf4\u660e"})]}),(0,f.jsxs)(c.View,{className:l.tab,children:[(0,f.jsxs)(u.En,{className:l.tabItem,onClick:function(){return e.setState({selectIndex:0})},children:[(0,f.jsx)(c.Text,{className:[l.tabText,r&&l.highlightText],children:"\u51ed\u8bc1\u8bf4\u660e"}),r&&(0,f.jsx)(c.View,{className:l.tabIndicator})]}),(0,f.jsxs)(u.En,{className:l.tabItem,onClick:function(){return e.setState({selectIndex:1})},children:[(0,f.jsx)(c.Text,{className:[l.tabText,!r&&l.highlightText],children:"\u5982\u4f55\u5f00\u5177"}),!r&&(0,f.jsx)(c.View,{className:l.tabIndicator})]})]}),(0,f.jsx)(c.View,{style:{height:4,position:"absolute",left:0,right:0,backgroundColor:"#fff"}})]}),r?(0,f.jsxs)(c.View,{className:l.mainBody,children:[(0,f.jsx)(c.Text,{className:l.detailTitle,children:"\u62a5\u9500\u51ed\u8bc1\u6548\u529b\u8bf4\u660e"}),(0,f.jsx)(c.Text,{className:l.detailContent,children:"\u7531\u5883\u5916\u4f9b\u5e94\u5546\u63d0\u4f9b\u7684\u4ea7\u54c1\u4e0d\u63d0\u4f9b\u53d1\u7968\uff0c\u5747\u4f7f\u7528\u5e26\u6709\u643a\u7a0b\u4e13\u7528\u7ae0\u7684\u7535\u5b50\u62a5\u9500\u51ed\u8bc1\uff08invoice\uff09\u4f5c\u4e3a\u5177\u6709\u540c\u7b49\u62a5\u9500\u6548\u529b\u7684\u8bc1\u660e\u6587\u4ef6\uff0c\u662f\u6b63\u89c4\u53ef\u62a5\u9500\u7684\u7535\u5b50\u4f9d\u636e\u3002\u5982\u679c\u60a8\u5bf9\u62a5\u9500\u51ed\u8bc1\u7c7b\u578b\u6709\u7279\u522b\u8981\u6c42\uff0c\u53ef\u8054\u7cfb\u5728\u7ebf\u5ba2\u670d\u4eba\u5de5\u534f\u52a9\u60a8\u5904\u7406\u3002"}),(0,f.jsx)(c.Text,{className:l.exampleText,children:"\u793a\u4f8b\uff1a"}),(0,f.jsx)(c.Image,{className:l.exampleImage,src:m.Z.BOOK_RECEIPT_APPLY})]}):(0,f.jsxs)(c.View,{className:l.mainBody,children:[(0,f.jsx)(c.Text,{className:l.detailTitle,children:"\u5f00\u5177\u8bf4\u660e"}),(0,f.jsx)(c.Text,{className:l.detailContent,children:"\u5b8c\u6210\u51fa\u884c\u540e1\u5e74\u5185\uff0c\u60a8\u53ef\u8fdb\u5165\u4e2a\u4eba\u4e2d\u5fc3-\u8ba2\u5355\u5217\u8868\u627e\u5230\u8ba2\u5355\u5e76\u7533\u8bf7\u5f00\u5177\u62a5\u9500\u51ed\u8bc1\u3002\u7533\u8bf7\u6210\u529f\u540e30\u5206\u949f\u5185\u53d1\u9001\u81f3\u60a8\u7684\u90ae\u7bb1\u3002"}),(0,f.jsx)(c.Image,{className:l.applyExampleImage,src:m.Z.BOOK_RECEIPT_EXAMPLE})]})]})}}]),n}(s.Component)},40876:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(90129),a=n(298),i=n(24460),o=n(57042),s=n(45023),c=n(92954),l=n.n(c),u=n(39441),d=n(31789),m=n(11478),f=(0,i.Z)((function e(){(0,o.Z)(this,e)}));(0,s.Z)(f,"loadRefundDetail",(function(e,t,n,r,a){var i=n.fares,o=void 0===i?[]:i,s=m.Z.getFirstFares(o),c=s.fareId;if((0,d.x)(c))return r("openRuleDetailException","\u6253\u5f00\u9000\u7968\u89c4\u5219\u5f02\u5e38"),void l().showToast({title:"\u83b7\u53d6\u4fe1\u606f\u5931\u8d25",duration:2e3,icon:"none"});l().showLoading({title:"\u52a0\u8f7d\u4e2d..."});var f={type:e,solutionId:t,fareId:c};u.Z.postAsync("/27207/noteDetailV2",f).then((function(e){l().hideLoading();var t=e.isSuccess,i=e.contents,o=[];(0,d.x)(i)||i.forEach((function(e){var t=e.title,n=e.content,r=void 0===n?[]:n;r.forEach((function(e){var n=e.label;o.push({title:t,text:null===n||void 0===n?void 0:n.text})}))}));var s=n.couponFee,c=n.ticketAvgPrice,u=n.salePrice,m=n.saleAvgPrice,f=n.ticketPrice,p=n.serviceFee,h=n.serviceAvgFee,g=n.couponAvgFee;t&&i?(r("showRuleDetail","\u663e\u793a\u9000\u7968\u89c4\u5219",{data:o,couponFee:s,ticketAvgPrice:c,salePrice:u,saleAvgPrice:m,ticketPrice:f,serviceFee:p,serviceAvgFee:h,couponAvgFee:g}),a(i)):(r("openRuleDetailFailure","\u6253\u5f00\u9000\u7968\u89c4\u5219\u5931\u8d25",{response:e}),l().showToast({title:"\u83b7\u53d6\u4fe1\u606f\u5931\u8d25",duration:2e3,icon:"none"}))})).catch((function(e){l().hideLoading(),r("openRuleDetailError","\u6253\u5f00\u9000\u7968\u89c4\u5219\u62a5\u9519",{error:e}),l().showToast({title:"\u83b7\u53d6\u4fe1\u606f\u5931\u8d25",duration:2e3,icon:"none"})}))})),(0,s.Z)(f,"formatSeatTagsInfo",(function(e){var t=e.tags,n=e.farePackages,i=[],o={id:"",price:9999999999};return t.forEach((function(e){var t=e.tagIndex,s=[],c=0;n.forEach((function(e){var n=e.fares,i=void 0===n?[]:n,l=e.saleAvgPrice,u=e.couponAvgFee,m=e.serviceAvgFee,f=e.farePackageId;i.forEach((function(n){var i=n.tags,o=void 0===i?[]:i,l=n.farePriceDetails,u=void 0===l?[]:l;if(o.some((function(e){return e.tagIndex===t}))){var m,f=e.fareRelations,p=void 0===f?[]:f;if((0,d.x)(p)||(m=p[0].ticketRemaining||99),s.push((0,a.Z)((0,a.Z)({},e),{},{localIsSoldOut:m<=0,localTicketRemain:m})),!d.Z.isEmpty(u)){var h=(0,r.Z)(u,1),g=h[0],v=g.passengerPriceDetails;if(!d.Z.isEmpty(v)){var x=v.find((function(e){return 1===e.type}))||{};c=x.saleAvgPrice}}}}));var p=l+m-u;p<o.price&&(o={id:f,price:p})}));var l=Math.min.apply(null,s.map((function(e){return e.saleAvgPrice+(e.serviceAvgFee||0)-(e.couponAvgFee||0)})));i.push((0,a.Z)((0,a.Z)({},e),{},{tagPackageList:s,minPrice:l,minPriceAdult:c}))})),{formatTags:i,minPriceFarePackage:o}}))},43261:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(57042),a=n(24460),i=n(21867),o=n(86066),s=n(90201),c=n(71515),l={stationContent:"index-module__YnnS",stationContainer:"index-module_c6IBr",stationLeftPart:"index-module_ksx97",crossDayContainer:"index-module_qunTl",crossDayText:"index-module_m2AHa",relatedTime:"index-module_mck5u",stationMiddlePart:"index-module_bEZNL",imageDashLine:"index-module_hl4Zw",stationFromIndicateLine:"index-module_RQrs3",stationFromIndicateSolidLine:"index-module_g4yr5",stationFromIndicateDashLine:"index-module_Siugh",stationToIndicateLine:"index-module_AIq03",stationToIndicateSolidLine:"index-module_Byf0g",stationToIndicateDashLine:"index-module_AMYrp",stationRightPart:"index-module_lKCYd",stationName:"index-module_waP6x",detailRow:"index-module_lSFuV",supplierImage:"index-module__Ujye",scheduleNumber:"index-module_Qh_Xt",transferStopContainer:"index-module_hgqnv",transferStopLeftPart:"index-module_xI6RL",transferStopTimeContainer:"index-module_dQKp3",transferStopCrossDayTextContainer:"index-module_jrYeG",transferStopCrossDayText:"index-module_HNXsP",transferStopTimeTextArrival:"index-module_Xl34B",transferStopTimeTextDepart:"index-module_XHX26",transferStopMiddlePart:"index-module_Ez8f8",transferStopIndicateLine:"index-module_UT8hf",transferStopIndicateDotWrapper:"index-module_gyVcQ",transferStopIndicateDot:"index-module_Y96Ie",transferStopDashLine:"index-module_kNWEH",transferStopRightPart:"index-module_NEdf5",transferStopTipContainer:"index-module_a8jUp",transferStopTip:"index-module_z_RoE",transferStopDuration:"index-module_EI3BA",transferStopDurationHighlight:"index-module_aVBzA"},u=n(31789),d=(n(43881),n(80741)),m=n(46208),f=n(2269),p=s.memo((function(e){var t,n=e.stationInfo,r=e.isFirst,a=void 0!==r&&r,i=e.isLast,o=void 0!==i&&i,s=e.ignoreType,p=n.stationName,h=n.supplierImage,g=n.scheduleNumber,v=n.type,x=n.relateTime,y=n.relateDate,_=n.pre,T=void 0===_?{}:_,Z=n.next,N=void 0===Z?{}:Z,C=s.hideSupplierLogo,w=T.type,k=T.stationName,I=N.type,S=N.stationName,P=1===v&&5===w&&!u.Z.isEmpty(k),E=2===v&&5===I&&!u.Z.isEmpty(S),b=!C&&!u.Z.isEmpty(h),A=!u.Z.isEmpty(g);return P||E?t=(0,f.jsx)(c.View,{className:1===v?l.stationFromIndicateSolidLine:l.stationToIndicateSolidLine}):a||o||(t=(0,f.jsx)(c.View,{className:1===v?l.stationFromIndicateDashLine:l.stationToIndicateDashLine,children:(0,f.jsx)(c.Image,{className:l.imageDashLine,mode:"widthFix",src:d.Z.DETAIL_JOURNEY_DASH_LINE})})),(0,f.jsxs)(c.View,{className:l.stationContainer,children:[(0,f.jsxs)(c.View,{className:l.stationLeftPart,children:[(0,f.jsx)(c.View,{className:l.crossDayContainer,children:(0,f.jsx)(c.Text,{className:l.crossDayText,children:y})}),(0,f.jsx)(m.ZP,{className:l.relatedTime,fontFamily:m.Fk.TFMedium,children:x})]}),(0,f.jsxs)(c.View,{className:l.stationMiddlePart,children:[(0,f.jsx)(c.View,{className:1===v?l.stationFromIndicateLine:l.stationToIndicateLine}),t]}),(0,f.jsxs)(c.View,{className:l.stationRightPart,children:[(0,f.jsx)(c.Text,{className:l.stationName,children:p}),(b||A)&&(0,f.jsxs)(c.View,{className:l.detailRow,children:[b&&(0,f.jsx)(c.Image,{className:l.supplierImage,mode:"heightFix",src:h}),A&&(0,f.jsx)(m.ZP,{className:l.scheduleNumber,children:g})]})]})]})}),(function(e,t){var n=e.stationInfo,r=t.stationInfo;return n===r})),h=s.memo((function(e){var t=e.stationInfo,n=e.showTransferSheet,r=t.costTime,a=t.tipMessage,i=t.highlight,o=t.relateDateArrival,s=(t.relateTimeArrival,t.relateDateDepart),p=t.relateTimeDepart,h=t.stationName,g=u.Z.isEmpty(h);return(0,f.jsxs)(c.View,{className:l.transferStopContainer,children:[(0,f.jsxs)(c.View,{className:l.transferStopLeftPart,children:[(0,f.jsx)(c.View,{className:l.crossDayContainer,children:(0,f.jsx)(c.Text,{className:l.crossDayText,children:o})}),(0,f.jsxs)(c.View,{className:l.transferStopTimeContainer,children:[(0,f.jsx)(c.View,{className:l.transferStopCrossDayTextContainer,children:(0,f.jsx)(c.Text,{className:l.transferStopCrossDayText,children:s})}),(0,f.jsx)(m.ZP,{fontFamily:m.Fk.TFRegular,className:l.transferStopTimeTextDepart,children:u.Z.isEmpty(p)?"":"".concat(p,"\u51fa\u53d1")})]})]}),(0,f.jsx)(c.View,{className:l.transferStopMiddlePart,children:g?(0,f.jsx)(c.View,{className:l.transferStopDashLine,children:(0,f.jsx)(c.Image,{className:l.imageDashLine,mode:"widthFix",src:d.Z.DETAIL_JOURNEY_DASH_LINE})}):(0,f.jsx)(c.View,{className:l.transferStopIndicateLine,children:(0,f.jsx)(c.View,{className:l.transferStopIndicateDotWrapper,children:(0,f.jsx)(c.View,{className:l.transferStopIndicateDot})})})}),(0,f.jsx)(c.View,{className:l.transferStopRightPart,children:(0,f.jsx)(c.View,{className:l.transferStopTipContainer,children:(0,f.jsxs)(m.ZP,{className:l.transferStopTip,children:[a,(0,f.jsx)(m.ZP,{className:i?l.transferStopDurationHighlight:l.transferStopDuration,onClick:n,children:"  \u6362\u4e58\u65f6\u95f4".concat(r)})]})})})]})}),(function(e,t){var n=e.preStationInfo,r=t.nextStationInfo;return n===r})),g=function(e,t,n,r,a){var i=e.type;return 5===i?(0,f.jsx)(h,{stationInfo:e,showTransferSheet:r},t):(0,f.jsx)(p,{stationInfo:e,isFirst:0===t,isLast:t===n-1,ignoreType:a},t)},v=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.stations,n=void 0===t?[]:t,r=e.showTransferSheet,a=e.ignoreType,i=void 0===a?{}:a,o=n.length;return(0,f.jsx)(c.View,{className:l.stationContent,children:n.map((function(e,t){return g(e,t,o,r,i)}))})}}]),n}(s.PureComponent)},90931:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(90201),a=n(71515),i={tabContainer:"index-module_m5G1Q",tabContentTitleContainer:"index-module_w0tF7",tabTitleView:"index-module_NYJVu",tabTitleText:"index-module_DjcYc",tabTitleLine:"index-module_ICaEX",tabHorizontalLine:"index-module_Yr0pt",tabContent:"index-module_a2ax8",tabContentView:"index-module_B_vYF",tabContentText:"index-module_tFkmy",tabLineContainer:"index-module_TFcOO",ruleItemContainer:"index-module_BB0d0",ruleTitleContainer:"index-module_iNwe6",ruleTitle:"index-module_So02B",ruleSubTitle:"index-module_r_ypy",contentContainer:"index-module_IIfH9",label:"index-module_qyMER",labelBlue:"index-module_H5Jzy",labelOrange:"index-module_G7jN1",description:"index-module_eOOwo"},o=n(31789),s=n(2269),c=r.memo((function(e){var t=e.rule,n=e.style,r=t.title,c=t.subtitle,l=t.content;function u(e){var t=e.title,n=e.content,r=[];t.forEach((function(e,t){0!==t&&r.push((0,s.jsx)(a.View,{className:i.tabTitleLine}));var n=e.text,o=e.flex;r.push((0,s.jsx)(a.View,{className:i.tabTitleView,style:{flex:o},children:(0,s.jsx)(a.Text,{className:i.tabTitleText,children:n})},t))}));var o=[];return n.forEach((function(e,t){var r=[];e.line.forEach((function(e,t){0!==t&&r.push((0,s.jsx)(a.View,{className:i.tabTitleLine}));var n=e.text,o=e.flex;r.push((0,s.jsx)(a.View,{className:i.tabContentView,style:{flex:o},children:(0,s.jsx)(a.Text,{className:i.tabContentText,children:n})}))})),o.push((0,s.jsx)(a.View,{className:i.tabContent,children:r})),t!==n.length-1&&o.push((0,s.jsx)(a.View,{className:i.tabHorizontalLine}))})),(0,s.jsxs)(a.View,{className:i.tabContainer,children:[(0,s.jsx)(a.View,{className:i.tabContentTitleContainer,children:r}),(0,s.jsx)(a.View,{className:i.tabHorizontalLine}),o]})}return(0,s.jsxs)(a.View,{className:i.ruleItemContainer,style:n,children:[(0,s.jsxs)(a.View,{className:i.ruleTitleContainer,children:[(0,s.jsx)(a.Text,{className:i.ruleTitle,children:r}),c&&(0,s.jsx)(a.Text,{className:i.ruleSubTitle,children:c})]}),l.map((function(e,t){var n=e.label,r=void 0===n?{}:n,c=e.description,l=void 0===c?{}:c,d=e.table;if(!o.Z.isEmpty(d))return u(d);var m=r.text,f=r.color,p=l.text,h=l.color,g="";"blue"===f?g=" "+i.labelBlue:"orange"===f&&(g=" "+i.labelOrange);var v="";return"blue"===h?v=" "+i.labelBlue:"orange"===h&&(v=" "+i.labelOrange),(0,s.jsxs)(a.View,{className:i.contentContainer,children:[(0,s.jsx)(a.Text,{className:i.label+g,children:m}),!(0,o.x)(p)&&(0,s.jsx)(a.Text,{className:i.description+v,children:p})]},t)}))]})}),(function(e,t){var n=e.rule,r=t.rule;return n===r}))},25940:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(57042),a=n(24460),i=n(81876),o=n(21867),s=n(86066),c=n(45023),l=n(90201),u=n(71515),d={ruleContainer:"style-module_iB_KK",headerRow:"style-module_zhdA2",closeButton:"style-module_P23Eg",closeIcon:"style-module_wZwt6",titleText:"style-module_poOSg",scrollView:"style-module_cS2lB",bookRow:"style-module_DnePG",bookLeftPart:"style-module_wLlEY",avgPriceRow:"style-module_T0TAl",avgTitle:"style-module_TfYg3",avgPriceMark:"style-module_E7IPX",avgPrice:"style-module_OIIoY",avgPriceTip:"style-module_swAdJ",remainTicket:"style-module_POrEW",bookButton:"style-module_shzaF",bookGradient:"style-module_MR1V9",bookButtonDisabledText:"style-module_ze_Xm",bookButtonText:"style-module_cAsOt",assClear:"style-module_mtesK",assClearAndroid:"style-module_ZhpJD",bottomDescriptionContainer:"style-module_GlvTU",bottomDescription:"style-module_e6NUf",descriptionButton:"style-module_v3OTs",descriptionIcon:"style-module_mQw1C"},m=n(92954),f=n.n(m),p=n(43881),h=n(31789),g=n(11478),v=n(80741),x=n(14028),y=n(46208),_=n(90931),T=n(2269),Z=f().getSystemInfoSync().windowHeight,N=.3*Z,C=.73*Z,w="android"===f().getSystemInfoSync().platform,k=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var a;(0,r.Z)(this,n),a=t.call(this,e),(0,c.Z)((0,i.Z)(a),"getModel",(function(e,t){var n=e.itemPackage,r=void 0===n?{}:n,a=e.ruleList,i=void 0===a?[]:a,o=r.saleAvgPrice,s=r.serviceAvgFee,c=void 0===s?0:s,l=r.couponAvgFee,u=void 0===l?0:l,d=r.localTicketRemain,m=r.localIsSoldOut,f=0;return t||(f=o+c-u),{ticketPrice:f,ticketRemain:d,isSoldOut:m,ruleList:i}}));var o=e.ticketData,s=e.bottomData,l=void 0===s?{}:s,u=l.hideBottom;return a.model=a.getModel(o,u),a.state={isShowPolicy:!1},a}return(0,a.Z)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){var n;(0,h.x)(e.ticketData)||this.props.ticketData===e.ticketData||(this.model=this.getModel(e.ticketData,null===(n=e.bottomData)||void 0===n?void 0:n.hideBottom))}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.ticketData,r=e.onClickBook,a=e.gotoPolicyPage,i=e.bottomData,o=void 0===i?{}:i,s=e.refundTips,c=o.hideBottom,l=o.bottomTips,m=void 0===l?"\u6309\u51fa\u884c\u603b\u4eba\u6570\u9884\u4f30\u4f18\u60e0\u540e\u5747\u4ef7":l,f=o.bottomPriceTips,Z=void 0===f?"\u4eba\u5747\u8d77\u4ef7":f,k=n.itemPackage,I=this.model,S=I.ticketPrice,P=I.ticketRemain,E=I.isSoldOut,b=I.ruleList;return(0,T.jsxs)(u.View,{className:d.ruleContainer,children:[(0,T.jsxs)(u.View,{className:d.headerRow,children:[(0,T.jsx)(p.En,{className:d.closeButton,onClick:t,children:(0,T.jsx)(u.Image,{className:d.closeIcon,src:v.Z.COMMON_ICON_CLOSE})}),(0,T.jsx)(u.Text,{className:d.titleText,children:"\u4f7f\u7528\u8bf4\u660e\u548c\u9000\u6539\u653f\u7b56"})]}),(0,T.jsxs)(u.ScrollView,{className:d.scrollView,scrollY:!0,style:{minHeight:N,maxHeight:C},children:[b.map((function(e,t){return(0,T.jsx)(_.Z,{rule:e},t)})),(0,T.jsx)(u.View,{className:d.bottomDescriptionContainer,onClick:function(){if((0,h.x)(k))a();else{var e=k.fares,t=void 0===e?[]:e,n=g.Z.getFirstFares(t),r=n.fareId;a(r)}},children:(0,T.jsxs)(u.Text,{className:d.bottomDescription,children:[s||"\u4f7f\u7528\u8bf4\u660e\u548c\u9000\u6539\u653f\u7b56\u7531\u5883\u5916\u4f9b\u5e94\u5546\u63d0\u4f9b\uff0c\u5177\u4f53\u7ec6\u5219\u4ee5\u653f\u7b56\u8be6\u60c5\u4e3a\u51c6\u3002\u5982\u9700\u5e2e\u52a9\u8bf7\u8054\u7cfb\u5728\u7ebf\u5ba2\u670d\u3002",(0,T.jsx)(u.Text,{className:d.descriptionButton,children:"\u67e5\u770b\u653f\u7b56\u539f\u6587"}),(0,T.jsx)(x.Z,{className:d.descriptionIcon,children:"\ue944"})]})})]}),!c&&(0,T.jsxs)(u.View,{className:d.bookRow,style:{elevation:10,shadowColor:"rgb(0,0,0)",shadowOpacity:.1},children:[(0,T.jsxs)(u.View,{className:d.bookLeftPart,children:[(0,T.jsxs)(u.View,{className:d.avgPriceRow,children:[(0,T.jsx)(u.Text,{className:d.avgTitle,children:Z}),(0,T.jsx)(u.Text,{className:d.avgPriceMark,children:"\uffe5"}),(0,T.jsx)(y.ZP,{fontFamily:y.Fk.SemiBold,className:d.avgPrice,children:S}),P<9&&(0,T.jsx)(u.Text,{className:d.remainTicket,children:"\u5269".concat(P)})]}),(0,T.jsxs)(u.Text,{className:d.avgPriceTip,children:[m," "]})]}),(0,T.jsxs)(p.En,{className:d.bookButton,onClick:function(){r&&r(k)},children:[!E&&(0,T.jsx)(p.o,{start:{x:1,y:.5},end:{x:0,y:.5},locations:[0,1],colors:["#FF6600","#FF8800"],className:d.bookGradient}),(0,T.jsx)(u.Text,{className:E?d.bookButtonDisabledText:d.bookButtonText,children:E?"\u5df2\u552e\u5b8c":"\u7acb\u5373\u9884\u8ba2"})]})]}),(0,T.jsx)(u.View,{className:w?d.assClearAndroid:d.assClear})]})}}]),n}(l.Component)},35706:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(57042),a=n(24460),i=n(21867),o=n(86066),s=n(90201),c=n(71515),l={errorContainer:"index-module_LLhPU",errorImage:"index-module_Yllct",articleText:"index-module_jfpAg",descText:"index-module_YRZ58",retryContainer:"index-module_G7_tK",retryText:"index-module_h0Qh_"},u=n(43881),d=n(2269),m=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var a;(0,r.Z)(this,n),a=t.call(this,e);var i=a.props.errorCode;return a.errorObject={imageName:"nonesearchresult",article:"\u62b1\u6b49\uff0c\u672a\u627e\u5230\u5408\u9002\u7684\u8f66\u6b21",desc:"\u5efa\u8bae\u5c06\u884c\u7a0b\u62c6\u5206\u8fdb\u884c\u67e5\u8be2",button:"\u91cd\u65b0\u67e5\u8be2",action:"home"},"-1001"!==i&&"-11111"!==i||(a.errorObject={imageName:"tiperror",article:"\u52a0\u8f7d\u5931\u8d25",desc:"\u8bf7\u91cd\u65b0\u518d\u8bd5",button:"\u91cd\u65b0\u52a0\u8f7d",action:"retry"}),a}return(0,a.Z)(n,[{key:"render",value:function(){var e=this,t=this.errorObject,n=t.button,r=t.imageName,a=t.article,i=t.desc,o=t.action,s=this.props.containerStyle;return(0,d.jsxs)(c.View,{className:l.errorContainer,style:s,children:[(0,d.jsx)(c.Image,{className:l.errorImage,src:"https://pic.c-ctrip.com/pic/train/eurail/".concat(r,".png")}),(0,d.jsx)(c.Text,{className:l.articleText,children:a}),(0,d.jsx)(c.Text,{className:l.descText,children:i}),!!n&&(0,d.jsx)(u.En,{className:l.retryContainer,onClick:function(){e.props.retryClick&&e.props.retryClick(o)},children:(0,d.jsx)(c.Text,{className:l.retryText,children:n})})]})}}]),n}(s.Component)},34008:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(298),a=n(68277),i=n(71515),o=n(90201),s={scrollContainer:"style-module_pg7ty"},c=n(2269),l=["renderItem","data","keyExtractor","onLoadMore","horizontal","bounces","lowerThreshold","header","footer","contentContainerClass"],u=(0,o.forwardRef)((function(e,t){var n=e.renderItem,o=e.data,u=e.keyExtractor,d=e.onLoadMore,m=e.horizontal,f=void 0!==m&&m,p=e.bounces,h=void 0===p||p,g=e.lowerThreshold,v=e.header,x=e.footer,y=e.contentContainerClass,_=(0,a.Z)(e,l);return(0,c.jsx)(i.ScrollView,(0,r.Z)((0,r.Z)({scrollY:!f,scrollX:f,bounces:h,lowerThreshold:g,onScrollToLower:d},_),{},{ref:t,"enable-flex":!0,children:(0,c.jsxs)(i.View,{className:"".concat(s.scrollContainer," ").concat(y||""),children:[v,o.map((function(e,t){return n({item:e,index:t},u?u({item:e},t):t)})),x]})}))}))},67215:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(298),a=n(22276),i=n(57042),o=n(24460),s=n(81876),c=n(21867),l=n(86066),u=n(45023),d=n(90201),m=n(71515),f={stationContainer:"style-module_KyEqw",stationLeftPart:"style-module_wj5Ls",stationCrossPart:"style-module_oYRPW",crossDayContainer:"style-module_ueXFR",crossDayText:"style-module_WoYcO",relatedTime:"style-module_iVHF9",costTime:"style-module_su3gz",stationMiddlePart:"style-module_Qxx1s",stationDot:"style-module_qxTDU",stationFromIndicateLine:"style-module_kvF_e",stationFromIndicateDashLine:"style-module_pqXzW",stationToIndicateLine:"style-module_KhA3B",stationToIndicateDashLine:"style-module_tm7sz",stationRightPart:"style-module_ZnpAh",cityName:"style-module_u2nA4",stationName:"style-module_PwlpM",platformView:"style-module_wQt7N",platformText:"style-module_OuTot",detailRow:"style-module_EBwou",supplierImage:"style-module_aj6j8",scheduleNumber:"style-module_BYOaK",separateView:"style-module_ZgNGe",ticketType:"style-module__Np7_",tailPlaceHolder:"style-module_QFcDk",transferContainer:"style-module_Yco32",transferLeftPart:"style-module_bJ6Tz",transferMiddlePart:"style-module_c6WXe",transferRightPart:"style-module_y7cUa",transferRelatedTime:"style-module_q1a3e",transferDotWrapper:"style-module_olT2e",transferDot:"style-module_auzog",transferIndicateLine:"style-module_FfRY4",transferStationName:"style-module_Z7rRO",transferDrop:"style-module_ZR9Jo",transferStopContainer:"style-module_eOmP6",transferStopLeftPart:"style-module_JpprE",transferStopDuration:"style-module_vyKdO",transferStopMiddlePart:"style-module_lIBjl",transferStopIndicateLine:"style-module_CWU1R",imageDashLine:"style-module_Cdaa9",transferStopRightPart:"style-module_jRc9H",transferStopTipContainer:"style-module_BiSQB",transferStopIcon:"style-module_AW8O6",transferStopTip:"style-module_QDdl7",sheetContainer:"style-module_eOCNB",headerRow:"style-module_sro9n",closeButton:"style-module_LY0lC",closeIcon:"style-module_GO3Bc",titleText:"style-module_YcrUJ",briefRow:"style-module_uLA3E",tagView:"style-module_SaYuG",tagImage:"style-module_Cb2QR",tagText:"style-module_gyCi8",departureDate:"style-module_hwqlA",departureDateTip:"style-module_ybW2H",timeIcon:"style-module_w8x6R",headerCostTime:"style-module_bZlnP",scrollWrapper:"style-module_UneYr",scrollView:"style-module_f2l4B",scrollContainer:"style-module_qKk6v",bookRow:"style-module_gNHaZ",bookLeftPart:"style-module_Mx6fA",avgPriceRow:"style-module_Dhmer",avgTitle:"style-module_SCOAc",avgPriceMark:"style-module_MAWES",avgPrice:"style-module_LO2I3",avgPriceTip:"style-module_aAA5a",remainTicket:"style-module___Ch2",bookButton:"style-module_n2_ae",bookGradient:"style-module_N8lMx",bookButtonDisabledText:"style-module_DfF7T",bookButtonText:"style-module_ANwGD",assClear:"style-module_Lz_cJ",assClearAndroid:"style-module_gLAry"},p=n(14028),h=n(92954),g=n.n(h),v=n(43881),x=n(31789),y=n(80741),_=n(46208),T=n(2269),Z=g().getSystemInfoSync().windowHeight,N=.2*Z,C=.7*Z,w="android"===g().getSystemInfoSync().platform,k=d.memo((function(e){var t=e.stationInfo,n=e.isFirst,r=void 0!==n&&n,a=e.isLast,i=void 0!==a&&a,o=e.ignoreType,s=t.cityName,c=t.crossDate,l=t.stationNameEn,u=t.platform,d=t.supplierImage,p=t.scheduleNumber,h=t.ticketType,g=t.type,v=t.relateTime,Z=t.costTime,N=void 0===Z?"":Z,C=o.hideSupplierLogo,w=!C&&!x.Z.isEmpty(d),k=!x.Z.isEmpty(p);return(0,T.jsxs)(m.View,{className:f.stationContainer,children:[(0,T.jsxs)(m.View,{className:f.stationLeftPart,children:[(0,T.jsxs)(m.View,{className:f.stationCrossPart,children:[!x.Z.isEmpty(c)&&(0,T.jsx)(m.View,{className:f.crossDayContainer,children:(0,T.jsx)(m.Text,{className:f.crossDayText,children:c})}),(0,T.jsx)(_.ZP,{fontFamily:_.Fk.TFSemiBold,className:f.relatedTime,children:v})]}),(0,T.jsx)(_.ZP,{className:f.costTime,children:N})]}),(0,T.jsxs)(m.View,{className:f.stationMiddlePart,children:[(0,T.jsx)(m.View,{className:f.stationDot}),(0,T.jsx)(m.View,{className:1===g?f.stationFromIndicateLine:f.stationToIndicateLine}),!r&&!i&&(0,T.jsx)(m.View,{className:1===g?f.stationFromIndicateDashLine:f.stationToIndicateDashLine,children:(0,T.jsx)(m.Image,{className:f.imageDashLine,mode:"widthFix",src:y.Z.LIST_TRANSFER_DASH_LINE})})]}),(0,T.jsxs)(m.View,{className:f.stationRightPart,children:[(0,T.jsx)(m.Text,{className:f.cityName,children:s}),(0,T.jsx)(m.Text,{className:f.stationName,children:l}),!x.Z.isEmpty(u)&&(0,T.jsx)(m.View,{className:f.platformView,children:(0,T.jsx)(_.ZP,{className:f.platformText,children:u})}),1===g&&(0,T.jsxs)(m.View,{className:f.detailRow,children:[w&&(0,T.jsx)(m.Image,{className:f.supplierImage,mode:"heightFix",src:d}),k&&(0,T.jsx)(_.ZP,{className:f.scheduleNumber,children:p}),(w||k)&&(0,T.jsx)(m.View,{className:f.separateView}),(0,T.jsx)(m.Text,{className:f.ticketType,children:h})]})]})]})}),(function(e,t){var n=e.stationInfo,r=t.stationInfo;return n===r})),I=d.memo((function(e){var t=e.stationInfo,n=t.costTime,r=t.tipMessage,a=t.highlight;return(0,T.jsxs)(m.View,{className:f.transferStopContainer,children:[(0,T.jsx)(m.View,{className:f.transferStopLeftPart,children:!x.Z.isEmpty(n)&&(0,T.jsxs)(_.ZP,{className:f.transferStopDuration,style:{color:a?"#F2210C":"#000"},children:["\u7ecf\u505c",n]})}),(0,T.jsx)(m.View,{className:f.transferStopMiddlePart,children:(0,T.jsx)(m.View,{className:f.transferStopIndicateLine,children:(0,T.jsx)(m.Image,{className:f.imageDashLine,mode:"widthFix",src:y.Z.LIST_TRANSFER_DASH_LINE})})}),(0,T.jsx)(m.View,{className:f.transferStopRightPart,children:(0,T.jsxs)(m.View,{className:f.transferStopTipContainer,children:[(0,T.jsx)(p.Z,{className:f.transferStopIcon,children:"\udb84\uddb4"}),(0,T.jsx)(m.Text,{numberOfLines:1,className:f.transferStopTip,children:r})]})})]})}),(function(e,t){var n=e.preStationInfo,r=t.nextStationInfo;return n===r})),S=d.memo((function(e){var t=e.stationInfo,n=t.stationName,r=t.relateTime;return(0,T.jsxs)(m.View,{className:f.transferContainer,children:[(0,T.jsx)(m.View,{className:f.transferLeftPart,children:(0,T.jsx)(m.Text,{className:f.transferRelatedTime,children:r})}),(0,T.jsxs)(m.View,{className:f.transferMiddlePart,children:[(0,T.jsx)(m.View,{className:f.transferIndicateLine}),(0,T.jsx)(m.View,{className:f.transferDotWrapper,children:(0,T.jsx)(m.View,{className:f.transferDot})})]}),(0,T.jsx)(m.View,{className:f.transferRightPart,children:(0,T.jsx)(m.Text,{className:f.transferStationName,children:n})})]})}),(function(e,t){var n=e.preStationInfo,r=t.nextStationInfo;return n===r})),P=d.memo((function(e){var t=e.stationInfo,n=e.togglePassStations,r=t.stations,a=void 0===r?[]:r,i=t.opened,o=void 0!==i&&i;return(0,T.jsxs)(m.View,{className:f.transferContainer,children:[(0,T.jsx)(m.View,{className:f.transferLeftPart}),(0,T.jsx)(m.View,{className:f.transferMiddlePart,children:(0,T.jsx)(m.View,{className:f.transferIndicateLine})}),(0,T.jsxs)(v.En,{className:f.transferRightPart,onClick:function(){return n(t)},children:[(0,T.jsx)(_.ZP,{className:f.transferStationName,children:"\u9014\u7ecf".concat(a.length,"\u4e2a\u7ad9\u70b9")}),(0,T.jsx)(p.Z,{className:f.transferDrop,children:String.fromCodePoint(o?61014:61013)})]})]})}),(function(e,t){var n=e.stationInfo,r=e.opened,a=t.stationInfo,i=t.opened;return n===a&&r===i})),E=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var o;(0,i.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,s.Z)(o),"togglePassStations",(function(e){var t=o.state.stations,n=e.opened,r=void 0!==n&&n,i=e.stations,s=void 0===i?[]:i,c=t.indexOf(e);r?t.splice(c+1,s.length):t.splice.apply(t,[c+1,0].concat((0,a.Z)(s))),e.opened=!r,o.setState({stations:t})}));var c=e.scheduleDetailInfo;return o.state=(0,r.Z)({},c),o}return(0,o.Z)(n,[{key:"componentWillReceiveProps",value:function(e,t){var n=this.state.scheduleDetailInfo,a=e.scheduleDetailInfo;n!==a&&this.setState((0,r.Z)({},a))}},{key:"renderStationItem",value:function(e,t,n,r){var a=e.type;switch(a){case 1:case 2:return(0,T.jsx)(k,{stationInfo:e,isFirst:0===t,isLast:t===n-1,ignoreType:r},t);case 4:var i=e.opened;return(0,T.jsx)(P,{stationInfo:e,opened:i,togglePassStations:this.togglePassStations},t);case 5:return(0,T.jsx)(I,{stationInfo:e},t);default:return(0,T.jsx)(S,{stationInfo:e},t)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.stations,r=void 0===n?[]:n,a=t.departureDate,i=t.transferTag,o=t.costTime,s=t.saleAvgPrice,c=t.ticketRemain,l=t.soldOut,u=void 0!==l&&l,d=t.schedule,h=this.props,g=h.onClose,x=h.onViewScheduleDetail,Z=h.hideBottom,k=void 0!==Z&&Z,I=h.ignoreType,S=void 0===I?{}:I,P=h.transferSheetConfig,E=void 0===P?{}:P;return(0,T.jsxs)(m.View,{className:f.sheetContainer,children:[(0,T.jsxs)(m.View,{className:f.headerRow,children:[(0,T.jsx)(v.En,{className:f.closeButton,onClick:g,children:(0,T.jsx)(p.Z,{className:f.closeIcon,children:"\ue004"})}),(0,T.jsx)(m.Text,{className:f.titleText,children:"\u884c\u7a0b\u8be6\u60c5"})]}),(0,T.jsxs)(v.o,{className:f.briefRow,start:{x:0,y:.5},end:{x:1,y:.5},locations:[0,1],colors:["rgb(245,250,255)","rgba(235,244,255,0)"],children:[(0,T.jsxs)(m.View,{className:f.tagView,children:[(0,T.jsx)(m.Image,{className:f.tagImage,mode:"aspectFit",src:y.Z.LIST_TRANSFER_TAG_BACKGROUND}),(0,T.jsx)(_.ZP,{fontFamily:_.Fk.SemiBold,className:f.tagText,children:i})]}),(0,T.jsx)(_.ZP,{fontFamily:_.Fk.SemiBold,className:f.departureDate,children:a}),(0,T.jsx)(m.Text,{className:f.departureDateTip,children:" (\u5f53\u5730\u65f6\u95f4)"}),(0,T.jsx)(p.Z,{className:f.timeIcon,children:"\uf4bb"}),(0,T.jsx)(_.ZP,{className:f.headerCostTime,children:o})]}),(0,T.jsx)(m.View,{className:f.scrollWrapper,children:(0,T.jsx)(m.ScrollView,{className:f.scrollView,scrollY:!0,scrollX:!1,style:{minHeight:N,maxHeight:C},children:r.map((function(t,n){return e.renderStationItem(t,n,r.length,S)}))})}),!k&&(0,T.jsxs)(m.View,{className:f.bookRow,style:{elevation:10,shadowColor:"rgb(0,0,0)",shadowOpacity:.1},children:[(0,T.jsxs)(m.View,{className:f.bookLeftPart,children:[(0,T.jsxs)(m.View,{className:f.avgPriceRow,children:[(0,T.jsx)(m.Text,{className:f.avgTitle,children:"\u4eba\u5747\u8d77\u4ef7"}),(0,T.jsx)(m.Text,{className:f.avgPriceMark,children:"\uffe5"}),(0,T.jsx)(_.ZP,{fontFamily:_.Fk.SemiBold,className:f.avgPrice,children:s}),c<9&&(0,T.jsx)(m.Text,{className:f.remainTicket,children:"\u5269".concat(c)})]}),(0,T.jsx)(m.Text,{className:f.avgPriceTip,children:(null===E||void 0===E?void 0:E.bottomTips)||"\u6309\u51fa\u884c\u603b\u4eba\u6570\u9884\u4f30\u4f18\u60e0\u540e\u5747\u4ef7"})]}),(0,T.jsxs)(v.En,{className:f.bookButton,onClick:u?void 0:function(){return x(d)},children:[!u&&(0,T.jsx)(v.o,{start:{x:1,y:.5},end:{x:0,y:.5},locations:[0,1],colors:["#FF6600","#FF8800"],className:f.bookGradient}),(0,T.jsx)(m.Text,{className:u?f.bookButtonDisabledText:f.bookButtonText,children:u?"\u5df2\u552e\u5b8c":"\u7acb\u5373\u9884\u8ba2"})]})]}),(0,T.jsx)(m.View,{className:w?f.assClearAndroid:f.assClear})]})}}]),n}(d.Component)},91618:function(e,t,n){"use strict";n.d(t,{S:function(){return _}});var r=n(57042),a=n(24460),i=n(21867),o=n(86066),s=n(90201),c=n(71515),l={refundExpense:"index-module_Gz6su",expenseDetailMask:"index-module_MX1Nx",animatedContainer:"index-module_DZvVv",expenseHeaderRow:"index-module_w9svi",expenseHeaderClose:"index-module_oQ1jl",expenseHeaderCloseIcon:"index-module_tqpgD",expenseHeaderText:"index-module_BNAZX",priceNoticeContainer:"index-module_nOkjN",priceNoticeIcon:"index-module_hxFt1",priceNoticeText:"index-module_vSnNR",priceNoticeLine:"index-module_vxlW8",expenseItemRow:"index-module_aYT7X",itemNormalText:"index-module_JpRiJ",itemBoldText:"index-module_DWpgD",itemDashLine:"index-module_wcl48",saleBackground:"index-module_PagAX",saleText:"index-module_gAKmu",saleCouponName:"index-module_lbsGz",saleCouponPrice:"index-module_ohawl"},u=n(43881),d=n(92954),m=n.n(d),f=n(14028),p=n(31789),h=n(80741),g=n(46208),v=n(2269),x=m().getSystemInfoSync().windowHeight,y=.83*x,_=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var a;(0,r.Z)(this,n),a=t.call(this,e);var i=a.props.priceExpenseData,o=i.title,s=i.list,c=i.tip;return a.model={dialogTitle:o,priceList:s,tip:c},a}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props.closeExpenseDetail,t=this.model,n=t.dialogTitle,r=t.priceList,a=t.tip;return(0,v.jsxs)(c.View,{className:l.refundExpense,children:[(0,v.jsx)(u.En,{activeOpacity:1,className:l.expenseDetailMask,onClick:function(){e()}}),(0,v.jsxs)(c.View,{className:l.animatedContainer,style:{maxHeight:y},children:[(0,v.jsxs)(c.View,{className:l.expenseHeaderRow,children:[(0,v.jsx)(u.En,{className:l.expenseHeaderClose,onClick:e,children:(0,v.jsx)(f.Z,{className:l.expenseHeaderCloseIcon,children:"\ue004"})}),(0,v.jsx)(c.Text,{className:l.expenseHeaderText,children:n})]}),(0,p.x)(a)?(0,v.jsx)(c.View,{className:l.priceNoticeLine,style:{height:1}}):(0,v.jsxs)(c.View,{className:l.priceNoticeContainer,children:[(0,v.jsx)(f.Z,{className:l.priceNoticeIcon,children:"\ue6d5"}),(0,v.jsx)(c.Text,{className:l.priceNoticeText,children:a})]}),r.map((function(e,t){var n=e.label,r=e.value,a=e.detail,i=e.valueBold,o=i?(0,u.AK)(l.itemNormalText,l.itemBoldText):l.itemNormalText;return(0,v.jsxs)(c.View,{children:[(0,v.jsxs)(c.View,{className:l.expenseItemRow,children:[(0,v.jsx)(c.Text,{className:l.itemNormalText,children:n}),(0,v.jsx)(c.Image,{className:l.itemDashLine,mode:"heightFix",src:h.Z.ORDER_EXPENSE_DASH_LINE}),(0,v.jsx)(g.ZP,{fontFamily:g.Fk.Medium,className:o,children:r})]}),!(0,p.x)(a)&&a.map((function(e,t){var n=e.detailTag,r=e.detailLabel,a=e.detailValue;return(0,v.jsxs)(c.View,{className:l.expenseItemRow,style:{marginTop:12},children:[!(0,p.x)(n)&&(0,v.jsx)(c.View,{className:l.saleBackground,children:(0,v.jsx)(c.Text,{className:l.saleText,children:"\u60e0"})}),(0,v.jsx)(c.Text,{className:l.saleCouponName,children:r}),(0,v.jsx)(g.ZP,{className:l.saleCouponPrice,children:a})]},t)}))]},t)})),(0,v.jsx)(c.View,{style:{height:u.ua.isIPhoneX()?114:100}})]})]})}}]),n}(s.Component)},32143:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(57042),a=n(24460),i=n(81876),o=n(21867),s=n(86066),c=n(45023),l=n(90201),u=n(71515),d={container:"index-module_Jr3GW",headerView:"index-module_Af01R",headTitle:"index-module_kgw1p",closeIconButton:"index-module_lZOcQ",closeIcon:"index-module_loprb",content:"index-module_bpcZs",segTitle:"index-module_xaMZU",segDetail:"index-module_h2P1h",addressContainer:"index-module_nAgdj",addressLeftPart:"index-module_ZFB_D",addressRow:"index-module_wKPu3",addressMetaContainer:"index-module_PmLBS",addressMetaText:"index-module_iqdaN",addressDetail:"index-module_s8B5b",addressRightPart:"index-module_lh0to",copyButton:"index-module_OU_4o",copyText:"index-module_PyyKu",addressBottomImage:"index-module_U382T",extraBlank:"index-module_DMmLd"},m=n(14028),f=n(43881),p=n(92954),h=n.n(p),g=n(80741),v=n(2269),x=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var a;return(0,r.Z)(this,n),a=t.call(this,e),(0,c.Z)((0,i.Z)(a),"onCopy",(function(){h().setClipboardData({data:"\u5730\u5740\uff1aTrip.com 1st Floor, 1 Lochrin Square 92 Fountainbridge Edinburgh, United Kingdom\r\n\u6536\u4ef6\u4eba\uff1aTrain Services Team\r\n\u90ae\u7f16\uff1aEH3 9QA"})})),a}return(0,a.Z)(n,[{key:"render",value:function(){var e=this;return(0,v.jsxs)(u.View,{className:d.container,children:[(0,v.jsxs)(u.View,{className:d.headerView,children:[(0,v.jsx)(u.Text,{className:d.headTitle,children:"\u5bc4\u9001\u5730\u5740"}),(0,v.jsx)(f.En,{className:d.closeIconButton,onClick:function(){e.props.onClose()},children:(0,v.jsx)(m.Z,{className:d.closeIcon,children:"\ueb57"})})]}),(0,v.jsxs)(u.View,{className:d.content,children:[(0,v.jsx)(u.Text,{className:d.segTitle,children:"\u5bc4\u9001\u63d0\u793a"}),(0,v.jsx)(u.Text,{className:d.segDetail,children:"\u5982\u60a8\u5df2\u5728\u8f66\u7ad9\u6253\u5370\u7eb8\u8d28\u7968\uff0c\u8bf7\u5c06\u60a8\u7684\u706b\u8f66\u7968\u5bc4\u9001\u81f3\u4ee5\u4e0b\u5730\u5740\uff0c\u5e76\u9644\u4e0a\u60a8\u7684\u53d6\u7968\u7801\u3002"}),(0,v.jsx)(u.Text,{className:d.segDetail,children:"\u6211\u4eec\u5c06\u5728\u6536\u5230\u60a8\u7684\u8f66\u7968\u53ca\u53d6\u7968\u7801\u540e\u5ba1\u6838\u60a8\u7684\u9000\u6b3e\u7533\u8bf7\u3002"}),(0,v.jsx)(u.Text,{className:d.segTitle,children:"\u8f66\u7968\u56de\u5bc4\u4fe1\u606f"}),(0,v.jsxs)(u.View,{className:d.addressContainer,children:[(0,v.jsxs)(u.View,{className:d.addressLeftPart,children:[(0,v.jsxs)(u.View,{className:d.addressRow,children:[(0,v.jsx)(u.View,{className:d.addressMetaContainer,children:(0,v.jsx)(u.Text,{className:d.addressMetaText,children:"\u5730\u5740"})}),(0,v.jsx)(u.Text,{className:d.addressDetail,children:"Trip.com 1st Floor, 1 Lochrin Square 92 Fountainbridge Edinburgh, United Kingdom"})]}),(0,v.jsxs)(u.View,{className:d.addressRow,children:[(0,v.jsx)(u.View,{className:d.addressMetaContainer,children:(0,v.jsx)(u.Text,{className:d.addressMetaText,children:"\u6536\u4ef6\u4eba"})}),(0,v.jsx)(u.Text,{className:d.addressDetail,children:"Train Services Team"})]}),(0,v.jsxs)(u.View,{className:d.addressRow,children:[(0,v.jsx)(u.View,{className:d.addressMetaContainer,children:(0,v.jsx)(u.Text,{className:d.addressMetaText,children:"\u90ae\u7f16"})}),(0,v.jsx)(u.Text,{className:d.addressDetail,children:"EH3 9QA"})]})]}),(0,v.jsx)(f.En,{withFeedback:!0,className:d.addressRightPart,onClick:this.onCopy,children:(0,v.jsx)(u.View,{className:d.copyButton,children:(0,v.jsx)(u.Text,{className:d.copyText,children:"\u590d\u5236"})})}),(0,v.jsx)(u.Image,{src:g.Z.ORDER_ADDRESS_BOTTOM,mode:"scaleToFill",className:d.addressBottomImage})]})]}),(0,v.jsx)(u.View,{className:d.extraBlank})]})}}]),n}(l.Component)},95392:function(e,t,n){"use strict";n.d(t,{D:function(){return g},Z:function(){return v}});var r,a=n(90129),i=n(24460),o=n(57042),s=n(45023),c=n(39441),l=n(92954),u=n.n(l),d=n(31789),m=n(99415),f=n(38913),p=n(11478),h=n(55943),g={waitPay:"PI",cancelled:"OC",ticketProcess:"TI",ticketIssued:"TS",ticketFailed:"TF",orderCompleted:"OS",ticketReturning:"RI",ticketReturned:"RS",tickedReturnFailed:"RF"},v=(0,i.Z)((function e(){(0,o.Z)(this,e)}));r=v,(0,s.Z)(v,"isAutoRefresh",(function(e){return e===g.ticketProcess||e===g.ticketReturning})),(0,s.Z)(v,"loadOrderDetail",(function(e){return new Promise((function(t,n){var r="/27467/json/orderDetail",a={orderId:e};c.Z.postAsync(r,a).then((function(e){t(e)})).catch((function(e){n(e)}))}))})),(0,s.Z)(v,"loadOrderPolicy",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return u().showLoading({title:"\u52a0\u8f7d\u4e2d..."}),new Promise((function(n,r){var a={orderId:e,cachePolicy:{enableCache:!0,cacheExpireTime:600,cacheLocation:"MEM",cacheKey:e}};c.Z.postAsync("/27467/json/orderDetailPolicy",a).then((function(r){u().hideLoading();var a=r.policies,i=void 0===a?[]:a;if(!d.Z.isEmpty(i)){var o=d.Z.find(i,(function(e){return e.type===t}));if(!d.Z.isEmpty(o)&&!d.Z.isEmpty(o.noteDetails))return void n(o.noteDetails)}c.Z.removeCache(e),u().showToast({title:"\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",duration:2e3,icon:"none"})})).catch((function(t){u().hideLoading(),c.Z.removeCache(e),u().showToast({title:"\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",duration:2e3,icon:"none"})}))}))})),(0,s.Z)(v,"resendEmail",(function(e,t){u().showLoading({title:"\u6b63\u5728\u53d1\u9001"});var n="/15724/json/reSendTicketEmail",r={orderId:e};c.Z.postAsync(n,r).then((function(e){u().hideLoading();var n=e.isSuccess;n&&e.header&&200===e.header.retCode?t():u().showToast({title:"\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",duration:2e3,icon:"none"})})).catch((function(e){u().hideLoading(),u().showToast({title:"\u53d1\u9001\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",duration:2e3,icon:"none"})}))})),(0,s.Z)(v,"applyRefund",(function(e,t){u().showLoading({title:"\u8bf7\u6c42\u4e2d..."});var n="/27467/json/applyRefund",r={orderId:e};m.W.traceRefund({action:"applyRefund",orderNumber:e}),c.Z.postAsync(n,r).then((function(e){u().hideLoading(),m.W.traceRefund({action:"applyRefundThen",data:e});var n=e.bizHead,r=void 0===n?{}:n,a=e.refundable,i=e.refundFee,o=r.code,s=r.displayMessage;if(a&&200===o)t(i);else{var c=f.Z.getHttpErrorMessage(o,s," \u62b1\u6b49\uff0c\u7cfb\u7edf\u7e41\u5fd9\uff0c\u5f53\u524d\u8ba2\u5355\u65e0\u6cd5\u9000\u7968");u().showToast({title:c,duration:2e3,icon:"none"}),t(null)}})).catch((function(e){u().hideLoading(),m.W.traceRefund({action:"applyRefundError",data:e}),u().showToast({title:"\u62b1\u6b49\uff0c\u7cfb\u7edf\u7e41\u5fd9\uff0c\u5f53\u524d\u8ba2\u5355\u65e0\u6cd5\u9000\u7968",duration:2e3,icon:"none"})}))})),(0,s.Z)(v,"getCouponInfo",(function(e,t){var n,r=e,a=d.Z.find(t,(function(e){return"COUPON"===e.priceType}));return a&&(r=a.amount,n=a.remark),{couponAmount:r,couponName:n}})),(0,s.Z)(v,"getTicketPriceDetail",(function(e,t){var n=t.outSolution,r=n.farePackages,i=void 0===r?[]:r,o=n.ageRange,s=void 0===o?{}:o,c=s.passengerAgeRanges,l=s.passengerNums,u=[];if(e===h.c.KOREA&&!d.Z.isEmpty(i)&&!d.Z.isEmpty(s)){var m=i[0].fares,f=p.Z.getFirstFares(m),g=f.farePriceDetails,v=void 0===g?[]:g;if(!d.Z.isEmpty(v)){var x=(0,a.Z)(v,1),y=x[0],_=y.passengerPriceDetails;d.Z.isEmpty(_)||_.forEach((function(e){var t,n,r=e.type,a=e.saleAvgPrice,i=null===(t=l.find((function(e){return e.type===r})))||void 0===t?void 0:t.num,o=null===(n=c.find((function(e){return e.passengerTypeCode===r})))||void 0===n?void 0:n.passengerType;i&&o&&u.push({detailLabel:o,detailValue:"\uffe5".concat(a," x").concat(i,"\u4f4d")})}))}}return u})),(0,s.Z)(v,"getPriceExpenseData",(function(e,t){var n=t.orderInfo,a=t.priceDetails,i=t.scheduledPTPInfo,o=n||{},s=o.orderPrice,c=o.couponFee,l=o.ticketPrice,u=o.serviceFee,d=r.getCouponInfo(c,a),m=d.couponAmount,f=d.couponName,p=[];return p.push({label:"\u7968\u4ef7\u603b\u989d",value:"\xa5".concat(l+u),detail:r.getTicketPriceDetail(e,i)}),m>0&&p.push({label:"\u4f18\u60e0\u603b\u989d",value:"-\xa5".concat(m),detail:[{detailTag:"\u60e0",detailLabel:f||"\u4f18\u60e0\u5238",detailValue:"-\xa5".concat(m)}]}),p.push({label:"\u8ba2\u5355\u91d1\u989d",value:"\xa5".concat(s),valueBold:!0}),{tip:"",title:"\u91d1\u989d\u660e\u7ec6",list:p}})),(0,s.Z)(v,"getRefundExpenseData",(function(e,t){var n=t.orderInfo,a=t.refunds,i=void 0===a?[]:a,o=n||{},s=o.orderPrice,c=o.refundFee,l=o.orderStatus,u=r.getPriceExpenseData(e,t),m=u.list,f=r.calcRefundPrice(s,c);f=f<0?0:f;var p=!1;(l===g.ticketReturning||d.Z.isEmpty(i))&&(p=!0),l===g.ticketReturned&&0===f&&(p=!1);var h=p?"\u9000\u7968\u624b\u7eed\u8d39\u7531\u4f9b\u5e94\u5546\u6536\u53d6\uff0c\u6700\u540e\u603b\u9000\u6b3e\u91d1\u989d\u4ee5\u4f9b\u5e94\u5546\u5b9e\u9000\u4e3a\u51c6":"\u9000\u7968\u624b\u7eed\u8d39\u7531\u4f9b\u5e94\u5546\u6536\u53d6";return m.push({label:"\u6263\u9664\u6b3e\u9879",value:"\xa5".concat(c),detail:[{detailLabel:p?"\u9884\u8ba1\u9000\u7968\u624b\u7eed\u8d39":"\u9000\u7968\u624b\u7eed\u8d39",detailValue:"-\xa5".concat(c)}]}),m.push({label:p?"\u9884\u8ba1\u9000\u6b3e\u91d1\u989d":"\u9000\u6b3e\u91d1\u989d",value:"\xa5".concat(f),valueBold:!0}),{title:"\u91d1\u989d\u660e\u7ec6",tip:h,list:m}})),(0,s.Z)(v,"formatCardType",(function(e){switch(e){case 1:return"\u8eab\u4efd\u8bc1";case 2:return"\u62a4\u7167";case 3:return"\u5b66\u751f\u8bc1";case 4:return"\u519b\u4eba\u8bc1";case 6:return"\u9a7e\u9a76\u8bc1";case 7:return"\u56de\u4e61\u8bc1";case 8:return"\u53f0\u80de\u8bc1";case 10:return"\u6e2f\u6fb3\u901a\u884c\u8bc1";case 11:return"\u56fd\u9645\u6d77\u5458\u8bc1";case 20:return"\u5916\u56fd\u4eba\u6c38\u4e45\u5c45\u7559\u8bc1";case 22:return"\u53f0\u6e7e\u901a\u884c\u8bc1";default:return"\u5176\u4ed6"}})),(0,s.Z)(v,"isShowRefundBanner",(function(e,t){if(d.Z.isEmpty(t))return!1;var n=(0,a.Z)(t,1),r=n[0],i=r.merchantId,o=r.billNo;return!(!i||d.Z.isEmpty(o)||"null"===o||"0"===o)})),(0,s.Z)(v,"calcRefundPrice",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Number("".concat(e,"e",1))-Number("".concat(t,"e",1)))/Math.pow(10,1)}))},89838:function(e,t){"use strict";t["Z"]=function(){return null}},83661:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r,a=n(90129),i=n(90983),o=n(24460),s=n(57042),c=n(45023),l=n(9387),u=n(92954),d=n(99415),m=(0,o.Z)((function e(){(0,s.Z)(this,e)}));r=m,(0,c.Z)(m,"PARAMS_MAP",new Map),(0,c.Z)(m,"setParams",(function(e){var t,n=l.Z.generateUUID(12),o=(null===(t=(0,u.getCurrentInstance)().router)||void 0===t?void 0:t.path)||"";if(o.indexOf("euList/index")>-1)r.PARAMS_MAP=new Map;else{var s,c=(0,i.Z)(r.PARAMS_MAP);try{for(c.s();!(s=c.n()).done;){var m=(0,a.Z)(s.value,2),f=m[0],p=m[1];if(p.path===o){r.PARAMS_MAP.delete(f);break}}}catch(e){c.e(e)}finally{c.f()}}return r.PARAMS_MAP.set(n,{path:o,params:e}),d.W.faultTrace({action:"setPageParams",path:o,data:{key:n,params:e}}),console.log("*******SET PARAMS*******",r.PARAMS_MAP.size),{paramsKey:n}})),(0,c.Z)(m,"getParams",(function(e){var t,n=r.PARAMS_MAP.get(e)||{},a=n.params;return d.W.faultTrace({action:"getPageParams",path:null===(t=(0,u.getCurrentInstance)().router)||void 0===t?void 0:t.path,data:{key:e,params:a}}),console.log("*******GET PARAMS*******",r.PARAMS_MAP.size),a})),(0,c.Z)(m,"getParamsWithInstance",(function(e){var t,n=null===e||void 0===e||null===(t=e.router)||void 0===t||null===(t=t.params)||void 0===t?void 0:t.paramsKey;return r.getParams(n)}))},42052:function(e){var t=[{root:"pages/trainAbroad",pages:{"euList/index":{CRN:"321004",mini:"10650106906",H5:"321004"},"euDetail/index":{CRN:"10320656519",mini:"10650106912",H5:"10320656519"},"euBook/index":{CRN:"321006",mini:"10650106914",H5:"321006"},"policy/index":{CRN:"",mini:"",H5:""},"couponList/index":{CRN:"",mini:"",H5:""},"develop/index":{CRN:"",mini:"",H5:""},"ticketMethod/index":{CRN:"",mini:"",H5:""},"order/index":{CRN:"",mini:"",H5:""},"payResult/index":{CRN:"",mini:"",H5:""},"refund/index":{CRN:"10650103958",mini:"10650103958",H5:"10650103958"},"list/korea/index":{CRN:"10650019254",mini:"10650019254",H5:"10650019254"},"list/taiwan/index":{CRN:"400037",mini:"400037",H5:"400037"},"book/korea/index":{CRN:"10650019255",mini:"10650019255",H5:"10650019255"},"book/taiwan/index":{CRN:"400040",mini:"400040",H5:"400040"}}}];function n(){var e={pages:["pages/mainPage/index"]};return e.subPackages=t.map((function(e){var t=e.root,n=e.pages;return{root:t,pages:Object.keys(n).map((function(e){return e}))}})),e}var r={};function a(){return Object.keys(r).length>0||(console.log("[getPageId]","getPageIDConfig"),t.map((function(e){var t=e.root,n=e.pages;Object.keys(n).forEach((function(e){var a="/".concat(t,"/").concat(e);r[a]=n[e]}))}))),r}e.exports={getPageConfig:n,getPageIDConfig:a}},55943:function(e,t,n){"use strict";n.d(t,{c:function(){return r},H:function(){return a}});var r={UNKNOWN:"unknown",EURAIL:"eurail",KOREA:"korea",JAPAN:"japan",TAIWAN:"taiwan"};function a(e){return"KR"===e?r.KOREA:"JP"===e?r.JAPAN:"TW"===e?r.TAIWAN:r.EURAIL}},46208:function(e,t,n){"use strict";n.d(t,{Fk:function(){return u},hQ:function(){return d}});var r=n(298),a=n(68277),i=n(90201),o=n(71515),s=n(77537),c=n(2269),l=["children","fontFamily","style"],u=function(e){return e["Regular"]="Regular",e["Medium"]="Medium",e["Bold"]="Bold",e["SemiBold"]="SemiBold",e["TFRegular"]="TFRegular",e["TFMedium"]="TFMedium",e["TFBold"]="TFBold",e["TFSemiBold"]="TFSemiBold",e}({}),d={Regular:{fontFamily:"TripNumber-Regular",fontWeight:"400"},Medium:{fontFamily:"TripNumber-Medium",fontWeight:"500"},Bold:{fontFamily:"TripNumber-Bold",fontWeight:"700"},SemiBold:{fontFamily:"TripNumber-SemiBold",fontWeight:"600"},TFRegular:{fontFamily:"TripNumberTF-Regular",fontWeight:"400"},TFMedium:{fontFamily:"TripNumberTF-Medium",fontWeight:"500"},TFBold:{fontFamily:"TripNumberTF-Bold",fontWeight:"700"},TFSemiBold:{fontFamily:"TripNumberTF-SemiBold",fontWeight:"600"}},m=function(e){var t=e.children,n=e.fontFamily,i=void 0===n?u.Regular:n,m=e.style,f=void 0===m?{}:m,p=(0,a.Z)(e,l),h=s.Z.getApplicationVersion();if(h<"8.61")return(0,c.jsx)(o.Text,(0,r.Z)((0,r.Z)({style:(0,r.Z)({},f)},p),{},{children:t}));var g=d[i];return(0,c.jsx)(o.Text,(0,r.Z)((0,r.Z)({style:(0,r.Z)((0,r.Z)({},f),g)},p),{},{children:t}))};t["ZP"]=i.memo(m)},80741:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(24460),a=n(57042),i=n(45023),o=(0,r.Z)((function e(){(0,a.Z)(this,e)}));(0,i.Z)(o,"COMMON_ICON_CLOSE","https://images3.c-ctrip.com/train/eurail/2023/common_icon_close.png"),(0,i.Z)(o,"COMMON_SERVICE_ENSURE","https://images3.c-ctrip.com/train/eurail/2023/euList/service-ensure.png"),(0,i.Z)(o,"COMMON_HOR_DASH_LINE","https://images3.c-ctrip.com/train/eurail/2023/coupon/horizonal-dash-line.png"),(0,i.Z)(o,"COMMON_LOAD_ERROR","https://pic.c-ctrip.com/pic/train/eurail/tiperror.png"),(0,i.Z)(o,"COMMON_LOAD_NO_RESULT","https://pic.c-ctrip.com/pic/train/eurail/nonesearchresult.png"),(0,i.Z)(o,"COMMON_CENTER_DIALOG_HEADER","https://images3.c-ctrip.com/train/eurail/2023/euList/dialog-header-bg.png"),(0,i.Z)(o,"COMMON_ACTIVITY_FLOAT_ICON","https://images3.c-ctrip.com/train/2023-3/zengzhang/6yue/7yuehuodong/fubiao_cjhc.png"),(0,i.Z)(o,"LIST_EUROPE_CHANGE","https://images3.c-ctrip.com/train/eurail/2023/euList/from-to-change.png"),(0,i.Z)(o,"LIST_EUROPE_DIRECT","https://images3.c-ctrip.com/train/eurail/2023/euList/from-to-direct.png"),(0,i.Z)(o,"LIST_CALENDAR","https://images3.c-ctrip.com/train/eurail/2023/euList/calendar.png"),(0,i.Z)(o,"LIST_TRANSFER_DASH_LINE","https://images3.c-ctrip.com/train/eurail/2023/euList/transfer-line-dashed.png"),(0,i.Z)(o,"LIST_TRANSFER_TAG_BACKGROUND","https://images3.c-ctrip.com/train/eurail/2023/euList/transfer-tag.png"),(0,i.Z)(o,"DETAIL_JOURNEY_DASH_LINE","https://images3.c-ctrip.com/train/eurail/2023/euDetail/card-dash-line.png"),(0,i.Z)(o,"DETAIL_SEAT_CHOICE","https://images3.c-ctrip.com/train/eurail/2023/euDetail/seat_choice.png"),(0,i.Z)(o,"DETAIL_BANNER_SALE","https://images3.c-ctrip.com/train/eurail/2023/euList/activity-banner-sale.png?date=20230418"),(0,i.Z)(o,"DETAIL_BANNER_CLOSE","https://images3.c-ctrip.com/train/eurail/2023/euList/activity-bannber-close.png"),(0,i.Z)(o,"BOOK_PSG_CHILD","https://images3.c-ctrip.com/train/eurail/2023/book/passenger_child.png"),(0,i.Z)(o,"BOOK_PSG_DELETE","https://images3.c-ctrip.com/train/eurail/2023/book/passenger_delete.png"),(0,i.Z)(o,"BOOK_RECEIPT_APPLY","https://images3.c-ctrip.com/train/eurail/2023/order/receipt-example.png"),(0,i.Z)(o,"BOOK_RECEIPT_EXAMPLE","https://images3.c-ctrip.com/train/eurail/2023/order/receipt-apply-new.png"),(0,i.Z)(o,"BOOK_PROGRESS_LOADING","https://images3.c-ctrip.com/train/eurail/mini/taro-train-abroad/gif/loading-circle.gif"),(0,i.Z)(o,"BOOK_PROGRESS_COMPLETE","https://images3.c-ctrip.com/train/eurail/2023/book/progress_complete.png"),(0,i.Z)(o,"ORDER_BACKGROUND","https://images3.c-ctrip.com/train/eurail/2023/order/background.png"),(0,i.Z)(o,"ORDER_STATUS_DONE","https://images3.c-ctrip.com/train/eurail/2023/order/status_done.png"),(0,i.Z)(o,"ORDER_STATUS_WAIT","https://images3.c-ctrip.com/train/eurail/2023/order/status_wait.png"),(0,i.Z)(o,"ORDER_STATUS_CANCEL","https://images3.c-ctrip.com/train/eurail/2023/order/status_cancel.png"),(0,i.Z)(o,"ORDER_STATUS_FAILURE","https://images3.c-ctrip.com/train/eurail/2023/order/status_failure.png"),(0,i.Z)(o,"ORDER_EXPENSE_DASH_LINE","https://images3.c-ctrip.com/train/eurail/2023/order/expense-detail_dashed.png"),(0,i.Z)(o,"ORDER_TICKET_BACKGROUND","https://images3.c-ctrip.com/train/eurail/2023/order/ticket_card_background.png"),(0,i.Z)(o,"ORDER_TICKET_DASH_LINE","https://images3.c-ctrip.com/train/eurail/2023/order/ticket-dashline.png"),(0,i.Z)(o,"ORDER_ADDRESS_BOTTOM","https://images3.c-ctrip.com/train/eurail/2023/order/express-bottom.png"),(0,i.Z)(o,"ORDER_EU_RAIL_ICON","https://images3.c-ctrip.com/train/eurail/2023/order/eurail_icon.png")},70407:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(57042),a=n(24460),i=n(81876),o=n(21867),s=n(86066),c=n(45023),l=n(65542),u=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var a;return(0,r.Z)(this,n),a=t.call(this,e),a.pageId=a.getPageId&&a.getPageId(),a}return(0,a.Z)(n)}(l.Z),d=n(77537),m=n(43881),f=n(78670),p=n(31789),h=n(32180)["window"],g=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var a;return(0,r.Z)(this,n),a=t.call(this,e),(0,c.Z)((0,i.Z)(a),"defaultBarStyle","dark-content"),(0,c.Z)((0,i.Z)(a),"getSubscribeKeys",(function(){var e=(0,i.Z)(a),t=e.subscribedEvents,n=void 0===t?{}:t;return Object.keys(n).filter((function(e){return"function"===typeof n[e]}))})),(0,c.Z)((0,i.Z)(a),"subScribeObservers",(function(){var e=a.getSubscribeKeys();e.length>0&&m.OB.getPlatform()===m.OB.PLATFORM_TYPE.H5&&"undefined"!==typeof h&&h.addEventListener("pageshow",(function(e){e.persisted||h.performance&&2===h.performance.navigation.type?a.shallowStorageCachedEvents():a.clearStorageCachedEvents()}))})),(0,c.Z)((0,i.Z)(a),"clearStorageCachedEvents",(function(){var e=a.getSubscribeKeys();e.forEach((function(e){return f.ZP.removeEventStorage(e)}))})),(0,c.Z)((0,i.Z)(a),"shallowStorageCachedEvents",(function(){var e=a.getSubscribeKeys();e.forEach((function(e){var t=f.ZP.getEventResponse(e);if(!p.Z.isEmpty(t)){var n=(0,i.Z)(a),r=n.subscribedEvents,o=void 0===r?{}:r,s=JSON.parse(t);o[e].call((0,i.Z)(a),s),f.ZP.removeEventStorage(e)}}))})),a.subScribeObservers(),a.firstView=!0,a}return(0,a.Z)(n,[{key:"pageWillAppear",value:function(){d.Z.setStatusBarStyle(this.defaultBarStyle)}},{key:"componentDidShow",value:function(){m.OB.getPlatform()!==m.OB.PLATFORM_TYPE.H5&&(this.firstView?this.clearStorageCachedEvents():this.shallowStorageCachedEvents()),this.firstView=!1}},{key:"pageDidAppear",value:function(){m.OB.getPlatform()!==m.OB.PLATFORM_TYPE.H5&&(this.firstView?this.clearStorageCachedEvents():this.shallowStorageCachedEvents()),this.firstView=!1}}]),n}(u)},7743:function(e,t,n){"use strict";n.d(t,{e:function(){return u},P:function(){return d}});var r=n(45023),a=n(42052),i=n(92954),o=n(43881),s=n(55943),c=(0,a.getPageIDConfig)(),l={"/pages/trainAbroad/order/index":{CRN:(0,r.Z)((0,r.Z)((0,r.Z)({},s.c.EURAIL,"10650039023"),s.c.KOREA,"10650040872"),s.c.TAIWAN,"10650039027"),mini:(0,r.Z)((0,r.Z)((0,r.Z)({},s.c.EURAIL,"10650108648"),s.c.KOREA,"10650040872"),s.c.TAIWAN,"10650039027"),H5:(0,r.Z)((0,r.Z)((0,r.Z)({},s.c.EURAIL,"10650039023"),s.c.KOREA,"10650040872"),s.c.TAIWAN,"10650039027")},"/pages/trainAbroad/payResult/index":{CRN:(0,r.Z)((0,r.Z)((0,r.Z)({},s.c.EURAIL,"10320663311"),s.c.KOREA,"10650019256"),s.c.TAIWAN,"10320663312"),mini:(0,r.Z)((0,r.Z)((0,r.Z)({},s.c.EURAIL,"10650106916"),s.c.KOREA,"10650019256"),s.c.TAIWAN,"10320663312"),H5:(0,r.Z)((0,r.Z)((0,r.Z)({},s.c.EURAIL,"10320663311"),s.c.KOREA,"10650019256"),s.c.TAIWAN,"10320663312")}};function u(){var e,t=(null===(e=(0,i.getCurrentInstance)().router)||void 0===e?void 0:e.path)||"",n=c[t];return n?(console.log("[getPageId]",t,n[o.OB.getPlatform()]),n[o.OB.getPlatform()]||""):(console.warn("[getPageId]","\u672a\u627e\u5230".concat(t,"\u5bf9\u5e94\u7684\u9875\u9762ID")),"")}function d(e){var t=(0,i.getCurrentInstance)().router.path,n=l[t];if(!n)return console.warn("[getPageId]","\u672a\u627e\u5230".concat(t,"\u5bf9\u5e94\u7684\u9875\u9762ID")),"";var r=n[o.OB.getPlatform()]||{};return console.log("----",JSON.stringify(r)),console.log("[getPageId]",t,r[e]||""),r[e]||""}},47745:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(90201),a={headView:"index-module_lTTPh",headViewBody:"index-module_dtKj2",leftView:"index-module_B87OO",backIcon:"index-module_DGFCK",title:"index-module_ll7Tr"},i=n(71515),o=n(43881),s=n(14028),c=n(2269),l=function(){},u=function(e){var t=e.title,n=e.titleColor,r=e.titleFontSize,u=e.backgroundColor,d=e.renderLeftView,m=void 0===d?l:d,f=e.renderCenterView,p=void 0===f?l:f,h=e.leftViewWidth,g=(e.relativeCenter,wx.getSystemInfoSync()),v=g.statusBarHeight;return(0,c.jsx)(i.View,{className:a.headView,style:{backgroundColor:u,paddingTop:v},children:(0,c.jsxs)(i.View,{className:a.headViewBody,children:[(0,c.jsx)(i.View,{className:a.leftView,style:{width:h},children:m()||(0,c.jsx)(s.Z,{onClick:function(){return o.Nd.navigateBack()},className:a.backIcon,children:"\ue28b"})}),(0,c.jsx)(i.View,{className:a.centerView,children:p()||(0,c.jsx)(i.View,{className:a.title,style:{color:n,fontSize:r},children:t})})]})})},d=r.memo(u)},14028:function(e,t,n){"use strict";var r=n(298),a=n(68277),i=n(90201),o=n(71515),s=n(2269),c=["children","style"],l=function(e){var t=e.children,n=e.style,i=void 0===n?{}:n,l=(0,a.Z)(e,c);return(0,s.jsx)(o.Text,(0,r.Z)((0,r.Z)({style:(0,r.Z)({fontFamily:"crn_font_train_abroad"},i)},l),{},{children:t}))};t["Z"]=i.memo(l)},38080:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(57042),a=n(24460),i=n(21867),o=n(86066),s=n(90201),c=n(71515),l=n(30038),u=n(43881),d=n(31789),m=n(46208),f=n(14028),p=n(2269),h=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,a.Z)(n,[{key:"render",value:function(){var e,t=this.props,n=t.data,r=t.onClose,a=n.title,i=void 0===a?"\u6e29\u99a8\u63d0\u793a":a,o=n.confirm,s=void 0===o?"\u6211\u77e5\u9053\u4e86":o,h=n.cancel,g=n.contents,v=n.confirmCallback,x=n.cancelCallback,y=n.price,_=void 0===y?{}:y;return d.Z.isString(g)?e=g:d.Z.isArray(g)&&(e=g.map((function(e){return e.highlight?(0,p.jsx)(c.Text,{className:l.Z.highlightContent,children:e.content}):e.content}))),(0,p.jsxs)(c.View,{className:l.Z.dialog,children:[(0,p.jsx)(c.Text,{className:l.Z.title,children:i}),!d.Z.isEmpty(_)&&(0,p.jsxs)(c.View,{className:l.Z.priceContainer,style:{alignItems:"flex-end"},children:[(0,p.jsx)(c.Text,{className:l.Z.priceNewText,children:"\u73b0\u4ef7"}),(0,p.jsx)(c.Text,{className:l.Z.priceNewUnit,children:"\xa5"}),(0,p.jsx)(m.ZP,{fontFamily:m.Fk.Medium,className:l.Z.priceNewPrice,children:_.newPrice}),(0,p.jsxs)(m.ZP,{className:l.Z.priceOriginPrice,children:["\u539f\u4ef7\xa5",_.originPrice]})]}),(0,p.jsx)(c.Text,{className:l.Z.content,children:e}),(0,p.jsxs)(c.View,{className:l.Z.buttonContainer,children:[h&&(0,p.jsx)(u.En,{className:l.Z.cancelButton,onClick:function(){x&&x()},children:(0,p.jsx)(c.Text,{className:l.Z.cancelText,children:h})}),(0,p.jsx)(u.En,{className:l.Z.confirmButton,onClick:function(){v&&v()},children:(0,p.jsx)(c.Text,{className:l.Z.confirmText,children:s})})]}),!!r&&(0,p.jsx)(u.En,{className:l.Z.closeButton,onClick:r,children:(0,p.jsx)(f.Z,{className:l.Z.closeIcon,children:"\ue004"})})]})}}]),n}(s.Component)},45185:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(57042),a=n(24460),i=n(21867),o=n(86066),s=n(90201),c=n(47745),l=n(71515),u=n(14028),d={headerContainer:"index-module_VUCjc",headerTitleView:"index-module_zC0MS",headerTitle:"index-module_NmZEs",headerBack:"index-module_dRzeZ"},m=n(2269),f=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.onBackClick,r=e.renderRightView,a=e.headerBackgroundColor,i=void 0===a?"#fff":a,o=e.titleColor,s=void 0===o?"#111":o;return(0,m.jsx)(l.View,{className:d.headerContainer,style:{backgroundColor:i},children:(0,m.jsx)(c.Z,{statusBarProps:{barStyle:"dark-content",translucent:!0,backgroundColor:"transparent"},backgroundColor:i,renderCenterView:function(){return(0,m.jsx)(l.View,{className:d.headerTitleView,children:(0,m.jsx)(l.Text,{className:d.headerTitle,style:{color:s},children:t})})},renderLeftView:function(){return(0,m.jsx)(l.View,{onClick:function(){n&&n()},children:(0,m.jsx)(u.Z,{className:d.headerBack,children:"\ue28b"})})},renderRightView:r})})}}]),n}(s.Component)},65741:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(22276),a=n(57042),i=n(24460),o=n(81876),s=n(21867),c=n(86066),l=n(45023),u=n(90201),d=n(71515),m={dialogRoot:"index-module_i8qB4",dialogHeaderRow:"index-module_qNpWh",dialogHeaderTitle:"index-module_AL8pG",dialogHeaderCloseView:"index-module_PYS3F",dialogHeaderClose:"index-module_W_zW1",scrollWrapper:"index-module_iIknf",topicContentItem:"index-module_vGg5U",topicContentItemTitle:"index-module_VOuYS",tagItem:"index-module_xzU55",tagItemIcon:"index-module_u8cF1",tagItemText:"index-module_cExrx",textContent:"index-module_d3G8S",updateTimeText:"index-module_egzGz",linkButton:"index-module_wt5Qi",linkText:"index-module_uZrr9",linkArrow:"index-module_rVxkw",contentText:"index-module_TAo4v",expandContainer:"index-module_jG0xQ",expandGradient:"index-module_UajYe",expandButton:"index-module_ogq_r",expandText:"index-module_mKTec",expandIcon:"index-module_EOPko",confirmContainer:"index-module_waFS_",confirmButton:"index-module_Epnki",confirmText:"index-module_CVPnp"},f=n(14028),p=n(43881),h=n(92954),g=n.n(h),v=(n(34008),g().getSystemInfoSync().screenWidth),x=v/375,y=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"scaleRatio",value:function(){return x}}]),e}(),_=n(2269),T=g().getSystemInfoSync().windowHeight,Z=.7*T,N=.4*T,C=Math.floor(300*y.scaleRatio()),w=p.OB.getPlatform(),k=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;(0,a.Z)(this,n),i=t.call(this,e),(0,l.Z)((0,o.Z)(i),"renderTopicItem",(function(e,t){var n=e.title,a=e.updateTime,o=e.content,s=e.contentType,c=e.level,l=e.fold,u=i.state.noticeList,h=!1===l||w!==p.OB.PLATFORM_TYPE.CRN?{maxHeight:10086}:void 0;return(0,_.jsxs)(d.View,{className:m.topicContentItem,children:[(0,_.jsx)(d.Text,{className:m.topicContentItemTitle,children:n}),4===c&&(0,_.jsxs)(d.View,{className:m.tagItem,children:[(0,_.jsx)(f.Z,{className:m.tagItemIcon,children:"\udb83\udee6"}),(0,_.jsx)(d.Text,{className:m.tagItemText,children:"\u91cd\u8981\u63d0\u9192 \u53ef\u80fd\u65e0\u6cd5\u51fa\u884c"})]}),(0,_.jsxs)(d.View,{className:m.textContent,style:h,onLayout:function(t){var n=t.nativeEvent,a=n.layout,o=void 0===a?{}:a,s=o.height;Math.ceil(s)>=C&&void 0===l&&(e.fold=!0,i.setState({noticeList:(0,r.Z)(u)}))},children:[(0,_.jsxs)(d.Text,{className:m.updateTimeText,children:["\u66f4\u65b0\u65e5\u671f\uff1a",a]}),2===s?(0,_.jsxs)(p.En,{className:m.linkButton,onClick:function(){return p.Nd.navigateTo({url:o})},children:[(0,_.jsx)(d.Text,{className:m.linkText,children:"\u70b9\u51fb\u67e5\u770b\u51fa\u884c\u4fe1\u606f"}),(0,_.jsx)(f.Z,{className:m.linkArrow,children:"\ue944"})]}):(0,_.jsxs)(d.View,{children:[(0,_.jsx)(d.Text,{className:m.contentText,children:o}),l&&(0,_.jsxs)(d.View,{className:m.expandContainer,children:[(0,_.jsx)(p.o,{className:m.expandGradient,start:{x:.5,y:0},end:{x:.5,y:1},locations:[0,1],colors:["rgba(235,244,255,0)","rgb(246,248,250)"]}),(0,_.jsxs)(p.En,{className:m.expandButton,onClick:function(){e.fold=!1,i.setState({noticeList:(0,r.Z)(u)})},children:[(0,_.jsx)(d.Text,{className:m.expandText,children:"\u5c55\u5f00"}),(0,_.jsx)(f.Z,{className:m.expandIcon,children:"\uee55"})]})]})]})]})]})}));var s=i.props.noticeList,c=void 0===s?[]:s;return c.forEach((function(e){return e.fold=void 0})),i.state={noticeList:c},i.scrollViewRef=(0,u.createRef)(),i}return(0,i.Z)(n,[{key:"render",value:function(){var e=this,t=this.state.noticeList,n=void 0===t?[]:t,r=this.props.onClose;return(0,_.jsxs)(d.View,{className:m.dialogRoot,children:[(0,_.jsxs)(d.View,{className:m.dialogHeaderRow,children:[(0,_.jsx)(p.En,{className:m.dialogHeaderCloseView,onClick:function(){r()},children:(0,_.jsx)(f.Z,{className:m.dialogHeaderClose,children:"\ue004"})}),(0,_.jsx)(d.Text,{className:m.dialogHeaderTitle,children:"\u51fa\u884c\u63d0\u9192"})]}),(0,_.jsx)(d.View,{className:m.scrollWrapper,children:(0,_.jsx)(d.ScrollView,{scrollY:!0,scrollX:!1,style:{maxHeight:Z,minHeight:N},ref:function(t){return e.scrollViewRef=t},children:n.map((function(t,n){return e.renderTopicItem(t,n)}))})}),(0,_.jsx)(d.View,{className:m.confirmContainer,style:{elevation:2,shadowColor:"rgb(0,0,0)",shadowOpacity:.1},children:(0,_.jsx)(p.En,{className:m.confirmButton,onClick:r,children:(0,_.jsx)(d.Text,{className:m.confirmText,children:"\u77e5\u9053\u4e86"})})})]})}}]),n}(u.Component)},4151:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(57042),a=n(24460),i=n(21867),o=n(86066),s=n(90201),c={serviceEnsureContainer:"index-module_exAEk",serviceEnsure:"index-module_fyVBa"},l=n(71515),u=n(43881),d=n(80741),m=n(2269),f=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){return(0,m.jsx)(u.En,{className:c.serviceEnsureContainer,onClick:function(){u.Nd.navigateTo({url:"https://m.ctrip.com/webapp/sp/serviceensure?bu=traffic&showback=false&sub=train#international"})},children:(0,m.jsx)(l.Image,{className:c.serviceEnsure,src:d.Z.COMMON_SERVICE_ENSURE})})}}]),n}(s.Component)},21882:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(57042),a=n(24460),i=n(21867),o=n(86066),s=n(90201),c=n(71515),l={dialogRoot:"index-module_GCteV",dialogHeaderRow:"index-module_oCnub",dialogHeaderTitle:"index-module_lKgHq",dialogHeaderCloseView:"index-module_G02Op",dialogHeaderClose:"index-module_Ct2X7",dialogContentView:"index-module_uIJFU",detailTitle:"index-module_nQwT5",detailText:"index-module_VAmT5",content:"index-module_Q_Qo7",contentRow:"index-module_xzOvV",QContent:"index-module_lZqei",QText:"index-module_cnaB4"},u=n(43881),d=n(92954),m=n.n(d),f=n(80741),p=n(2269),h=m().getSystemInfoSync().windowHeight,g=.83*h,v=.4*h,x=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.content,r=void 0===n?[]:n,a=e.onClose;return(0,p.jsxs)(c.View,{className:l.dialogRoot,style:{maxHeight:g,minHeight:v},children:[(0,p.jsxs)(c.View,{className:l.dialogHeaderRow,children:[(0,p.jsx)(u.En,{className:l.dialogHeaderCloseView,onClick:a,children:(0,p.jsx)(c.Image,{className:l.dialogHeaderClose,src:f.Z.COMMON_ICON_CLOSE})}),(0,p.jsx)(c.Text,{className:l.dialogHeaderTitle,children:t})]}),(0,p.jsx)(c.View,{className:l.dialogContentView,children:r.map((function(e,t){var n=e.question,r=e.answer;return(0,p.jsxs)(c.View,{className:l.content,children:[(0,p.jsxs)(c.View,{className:l.contentRow,children:[(0,p.jsx)(c.View,{className:l.QContent,children:(0,p.jsx)(c.Text,{className:l.QText,children:"Q"})}),(0,p.jsx)(c.Text,{className:l.detailTitle,children:n},t)]}),(0,p.jsxs)(c.View,{className:l.contentRow,style:{marginTop:12},children:[(0,p.jsx)(c.View,{className:l.QContent,style:{backgroundColor:"#ff7700"},children:(0,p.jsx)(c.Text,{className:l.QText,children:"A"})}),(0,p.jsx)(c.Text,{className:l.detailText,children:r},t)]})]},t)}))})]})}}]),n}(s.Component)},92835:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(90129),a=n(11478),i={headerContainer:"index-module_IYmya",headerCity:"index-module_EjoSv",headerCitySmall:"index-module_oJVYL",headerArrow:"index-module_V4Elx",headerPassenger:"index-module_MQYwH",headerCityContainer:"index-module_CEGwo",headerBack:"index-module_Wh6qF"},o=n(71515),s=n(14028),c=n(90201),l={bannerRoot:"style-module_kvb9t",bannerContainer:"style-module_NmbTM",infoIcon:"style-module_Qfc1x",mainTitle:"style-module__fSAo",content:"style-module_vyU2I",forwardIcon:"style-module_AXyZN"},u=n(43881),d=n(2269),m=c.memo((function(e){var t=e.noticeTitle,n=e.noticeContent,r=(e.jumpURL,e.showDialog),a=n.length>8?n.substring(0,8)+"\u2026":n;return(0,d.jsx)(o.View,{className:l.bannerRoot,children:(0,d.jsxs)(u.En,{className:l.bannerContainer,activeOpacity:1,onClick:function(){return r()},children:[(0,d.jsx)(s.Z,{className:l.infoIcon,isCommon:!0,children:"\ue6d5"}),(0,d.jsx)(o.Text,{className:l.mainTitle,children:t}),(0,d.jsx)(o.Text,{className:l.content,numberOfLines:1,children:a}),(0,d.jsx)(s.Z,{className:l.forwardIcon,isCommon:!0,children:"\ue944"})]})})})),f=n(47745),p=n(65741),h=n(39441),g=n(31789),v=n(99415),x=function(e){var t=e.fromCity,n=e.toCity,l=e.searchAgeInfoList,x=void 0===l?[]:l,y=e.ageRanges,_=e.onBackClick,T=e.push,Z=e.pageId,N=e.noticeParams,C=(0,c.useState)(!1),w=(0,r.Z)(C,2),k=w[0],I=w[1],S=(0,c.useState)({}),P=(0,r.Z)(S,2),E=P[0],b=P[1];(0,c.useMemo)((function(){(0,g.x)(N)||h.Z.postAsync("/27304/getNotice",N).then((function(e){var t=e.noticeList,n=void 0===t?[]:t,a=n.length;if(a>0){var i=(0,r.Z)(n,1),o=i[0],s=void 0===o?{}:o;b({noticeCount:a,firstNotice:s,noticeList:n})}})).catch((function(e){v.W.UserTrace({action:"getNoticeError",desc:"\u8bf7\u6c42\u516c\u544a\u63a5\u53e3\u62a5\u9519",businessType:"pre_order",pageId:Z,dataBody:{error:e}})}))}),[N,Z]);var A=E.noticeCount,D=E.firstNotice,j=void 0===D?{}:D,R=j.contentType,O=j.content,M=j.title,L=(0,c.useMemo)((function(){return g.Z.isEmpty(x)?"":a.Z.convertPassengerInfo2List(x,y).join(" ")}),[x,y]),V=a.Z.formatHeaderStation(t,n),B=V.smallSize,F=V.formatFrom,Y=V.formatTo,H=B?i.headerCitySmall:i.headerCity,U=0,W=(0,c.useCallback)((function(){return(0,d.jsxs)(o.View,{className:i.headerContainer,children:[(0,d.jsxs)(o.View,{className:i.headerCityContainer,children:[(0,d.jsx)(o.Text,{numberOfLines:1,className:H,children:F}),(0,d.jsx)(s.Z,{className:i.headerArrow,children:"\ue9e2"}),(0,d.jsx)(o.Text,{numberOfLines:1,className:H,children:Y})]}),!!L&&(0,d.jsx)(o.Text,{className:i.headerPassenger,children:L})]})}),[L,Y,F]),G=(0,c.useCallback)((function(){return(0,d.jsx)(o.View,{onClick:function(){_()},children:(0,d.jsx)(s.Z,{className:i.headerBack,children:"\ue28b"})})}),[]),$=(0,c.useMemo)((function(){return{barStyle:"dark-content",translucent:!0,backgroundColor:"#fff"}}),[]),K=(0,c.useCallback)((function(){return(0,d.jsx)(o.View,{style:{alignItems:"flex-end",display:"flex"},children:(0,d.jsx)(u.En,{style:{height:20,width:30,marginRight:5},onClick:function(){if("\u5df4\u9ece"===F&&"\u65e5\u5185\u74e6"===Y||"\u4f26\u6566"===F&&"\u5251\u6865"===Y){if(U<10)return void U++;U=0,T&&T()}else U=0}})})}),[F,Y]);return(0,d.jsxs)(o.View,{style:{display:"flex",flexDirection:"column"},children:[(0,d.jsx)(f.Z,{backgroundColor:"#fff",titleColor:"#333",statusBarProps:$,renderCenterView:W,renderLeftView:G,renderRightView:K}),!g.Z.isEmpty(E)&&(0,d.jsx)(m,{noticeTitle:A>1?"\u51fa\u884c\u63d0\u9192\uff1a".concat(A,"\u6761\u516c\u544a"):"\u51fa\u884c\u63d0\u9192\uff1a",noticeContent:(A>1?"\xb7":"")+((0,g.x)(M)?O:M),showDialog:function(){2!==R||1!==A?I(!0):u.Nd.navigateTo({url:O})}}),(0,d.jsx)(u.lI,{zIndex:100,crnModalProps:{statusBarTranslucent:!0},visible:k,closeOnMaskClick:!0,onClose:function(){I(!1)},children:(0,d.jsx)(p.Z,{noticeList:E.noticeList,onClose:function(){I(!1)}})})]})},y=x},71559:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(24460),a=n(57042),i=n(45023),o=n(43881),s=n(77537),c=n(83090),l=(0,r.Z)((function e(){(0,a.Z)(this,e)}));(0,i.Z)(l,"navigateBack",(function(e){var t=e.pageName,r=e.delta;if(o.OB.getPlatform()===o.OB.PLATFORM_TYPE.CRN)t?n.g.currentApp.currentPage.props.page.pageContext.pop(t):n.g.currentApp.currentPage.props.page.pageContext.pop();else{var a=getCurrentPages().map((function(e){return"/".concat(e.route)}));if(t){var i=a.lastIndexOf(t);return o.Nd.navigateBack({delta:i>0?a.length-1-i:r})}if(r)return o.Nd.navigateBack({delta:r});o.Nd.navigateBack()}})),(0,i.Z)(l,"navigateTo",(function(e){o.Nd.navigateTo(e)})),(0,i.Z)(l,"gotoPlatHome",(function(){if(o.OB.getPlatform()===o.OB.PLATFORM_TYPE.CRN){var e=s.Z.getApplicationVersion();o.ua.isIOS()&&e<c.i.IOS_SUPPORT_EU_HOME_VERSION?o.Nd.navigateTo({url:"ctrip://wireless/train_inquire?c4=1"}):o.Nd.navigateTo({url:"/rn_eurail/_crn_config?CRNModuleName=Eurail&CRNType=1&initialPage=index"})}else{var t=getCurrentPages().map((function(e){return"/".concat(e.route)})),n=t.lastIndexOf("/pages/train/index/index");if(n>0)return o.Nd.navigateBack({delta:t.length-1-n});o.Nd.navigateTo({url:"/pages/train/index/index?abroadFlag=1"})}})),(0,i.Z)(l,"startPlatHome",(function(){o.OB.getPlatform()===o.OB.PLATFORM_TYPE.CRN&&o.Nd.navigateTo({url:"/rn_eurail/_crn_config?CRNModuleName=Eurail&CRNType=1&initialPage=index"})}))},31789:function(e,t,n){"use strict";n.d(t,{Z:function(){return p},x:function(){return f}});var r=n(56884),a=n(93212);function i(){return(new Date).getTime()}function o(e){var t=(0,a.Z)(e);return null!=e&&("object"==t||"function"==t)}function s(e){if("number"==typeof e)return e;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}return"string"==typeof e?+e:NAN}var c="Expected a function",l=Math.max,u=Math.min;function d(e,t,n){var r,a,d,m,f,p,h=0,g=!1,v=!1,x=!0;if("function"!=typeof e)throw new TypeError(c);function y(t){var n=r,i=a;return r=a=void 0,h=t,m=e.apply(i,n),m}function _(e){return h=e,f=setTimeout(N,t),g?y(e):m}function T(e){var n=e-p,r=e-h,a=t-n;return v?u(a,d-r):a}function Z(e){var n=e-p,r=e-h;return void 0===p||n>=t||n<0||v&&r>=d}function N(){var e=i();if(Z(e))return C(e);f=setTimeout(N,T(e))}function C(e){return f=void 0,x&&r?y(e):(r=a=void 0,m)}function w(){void 0!==f&&clearTimeout(f),h=0,r=p=a=f=void 0}function k(){return void 0===f?m:C(i())}function I(){var e=i(),n=Z(e);if(r=arguments,a=this,p=e,n){if(void 0===f)return _(p);if(v)return f=setTimeout(N,t),y(p)}return void 0===f&&(f=setTimeout(N,t)),m}return t=s(t)||0,o(n)&&(g=!!n.leading,v="maxWait"in n,d=v?l(s(n.maxWait)||0,t):d,x="trailing"in n?!!n.trailing:x),I.cancel=w,I.flush=k,I}var m=d,f=r._.isEmpty;r._.debounce=m;var p=r._},39441:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,a=n(24460),i=n(57042),o=n(45023),s=n(79301),c=n(298),l=n(95308),u=n(96902),d=n(43881),m=n(92234),f=n(83090);function p(){return h.apply(this,arguments)}function h(){return h=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,a,i=arguments;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:"https://m.ctrip.com",a="/restapi/soa2",r||(r=d.OB.getDevEnv()),e.t0=r,e.next=e.t0===d.OB.DEV_ENV_TYPE.FAT?6:e.t0===d.OB.DEV_ENV_TYPE.UAT?8:e.t0===d.OB.DEV_ENV_TYPE.PROD?10:12;break;case 6:return n="https://gateway.m.fws.qa.nt.ctripcorp.com",e.abrupt("break",14);case 8:return n="https://gateway.m.uat.qa.nt.ctripcorp.com",e.abrupt("break",14);case 10:return n=t,e.abrupt("break",14);case 12:return n=t,e.abrupt("break",14);case 14:return e.abrupt("return",n+a);case 15:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}var g=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var a,i,o,l,f,h,g,v;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.url,i=t.prdDomain,o=t.needLog,l=void 0!==o&&o,e.next=3,p(i);case 3:return f=e.sent,h=f+a,g={cachePolicy:{enableCache:!1}},n&&(g=JSON.parse(JSON.stringify(n))),v={url:h,data:(0,c.Z)((0,c.Z)({},g),{},{bizHead:{version:u.rn_version,source:m.Z.getPlatform()}}),timeout:3e4,cachePolicy:g.cachePolicy},l&&console.log("[request]",h,JSON.stringify(v)),e.abrupt("return",(0,d.WY)([v],!1).then((function(e){var t=e[0],n=t.data,a=t.isSuccess;return l&&console.log("[response]",h,JSON.stringify((0,c.Z)((0,c.Z)({},n),{},{isSuccess:a}))),(0,c.Z)((0,c.Z)({},n),{},{isSuccess:a,requestKey:r})})).catch((function(e){throw l&&console.log("[error]",h,JSON.stringify(e)),(0,c.Z)((0,c.Z)({},e),{},{requestKey:r})})));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=(0,a.Z)((function e(){(0,i.Z)(this,e)}));(0,o.Z)(v,"postAsync",(function(e,t,n){return g({url:e,needLog:f.i.isLogNetwork},t,n)})),(0,o.Z)(v,"removeCache",(function(e){m.Z.removeCache(e)}))},92234:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(57042),a=n(24460),i=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"removeCache",value:function(e){}},{key:"getPlatform",value:function(){var e="weapp";return"mini_".concat(e)}}]),e}()},64018:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(79301),a=n(95308),i=n(57042),o=n(24460),s=n(43881),c=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"regularPayV2",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.Y8.payment.callPay2({serverData:{orderId:t,payToken:n.payToken,busType:4,requestId:n.requestId},sbackCallback:function(){a("result",t)},ebackCallback:function(){a("",t)},rbackCallback:function(){a("",t)},fromCallback:function(){a("",t)}});case 1:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}()},99415:function(e,t,n){"use strict";n.d(t,{W:function(){return R}});var r=n(298),a=n(24460),i=n(57042),o=n(45023),s=n(43881),c=n(96902),l=n(51061),u=n(62617),d=n(35488),m=n(96930),f=n(27595),p=n(83090),h=n(79301),g=n(93212),v=n(95308),x=n(77537),y=n(32180)["window"],_={};function T(){return Z.apply(this,arguments)}function Z(){return Z=(0,v.Z)((0,h.Z)().mark((function e(){var t,r,a,i,o,c;return(0,h.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(k()!==s.OB.PLATFORM_TYPE.CRN){e.next=6;break}return o=(null===(t=n.g.currentApp.currentPage)||void 0===t||null===(t=t.props)||void 0===t||null===(t=t.navigation)||void 0===t||null===(r=t.getCurrentRoutes)||void 0===r?void 0:r.call(t))||[],c=null===(a=o[o.length-1])||void 0===a?void 0:a.pageContext,e.abrupt("return",(null===c||void 0===c||null===(i=c.getPageId)||void 0===i?void 0:i.call(c))||(null===c||void 0===c?void 0:c.pageId));case 6:if(k()!==s.OB.PLATFORM_TYPE.H5){e.next=8;break}return e.abrupt("return",new Promise((function(e){y.__bfi.push(["_getPageid",function(t,n){return e(t?"":n)}])})));case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function N(e){return new Promise((function(t){var n;if(k()!==s.OB.PLATFORM_TYPE.CRN)return k()===s.OB.PLATFORM_TYPE.Mini?t(null===(n=_.userTraceSessionCodeObj)||void 0===n?void 0:n[e]):k()===s.OB.PLATFORM_TYPE.H5?t(sessionStorage.getItem(e)):void 0;x.Z.callNativeWithCallback("Train","callNativeData",{actionName:"getSessionCache",data:{key:e,remove:!1}},(function(e,n){return n&&"string"==typeof n&&(n=JSON.parse(n)),I(n,t,(function(){return t("")}))}))}))}function C(e,t){if(k()!==s.OB.PLATFORM_TYPE.CRN)return k()===s.OB.PLATFORM_TYPE.Mini?(_.userTraceSessionCodeObj=_.userTraceSessionCodeObj||{},void(_.userTraceSessionCodeObj[e]=t)):void(k()!==s.OB.PLATFORM_TYPE.H5||sessionStorage.setItem(e,t));x.Z.callNativeWithCallback("Train","callNativeData",{actionName:"addSessionCache",data:{data:t,key:e}},(function(e,t){return t&&"string"==typeof t&&(t=JSON.parse(t)),I(t,(function(){}),(function(){}))}))}function w(){var e="xxxxxxxx-xxxx-2xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}));return"".concat(e,"-").concat(Date.now().valueOf(),"-userTracePreOrderToken-").concat(k())}function k(){return s.OB.getPlatform()}function I(e,t,n){try{var r=e;"string"===typeof e&&(r=JSON.parse(e)),r.trainBusinessObj?!r.trainBusinessObj.dataInfo&&!r.trainBusinessObj.data||"{}"===JSON.stringify(r.trainBusinessObj.data)&&1!==r.trainBusinessObj.code?n&&n(r.trainBusinessObj.message):t&&t(r.trainBusinessObj.dataInfo||r.trainBusinessObj.data):r.dataInfo||r.data?t&&t(r.dataInfo||r.data):n&&n(r.message)}catch(e){n&&n()}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(t){setTimeout((function(){t(e)}),e)}))}var P=n(32180)["window"],E="";function b(e,t){return A.apply(this,arguments)}function A(){return A=(0,v.Z)((0,h.Z)().mark((function e(t,n){var r,a,i,o;return(0,h.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="userTracePreOrderToken",a="o_tra_user_trace",t.action){e.next=5;break}return console.error("userTrace error: \u9700\u8981\u4f20\u5165action!"),e.abrupt("return",!1);case 5:if(E){e.next=10;break}return e.next=8,N(r);case 8:E=e.sent,E||t.orderId||(i=w(),C(r,i),E=i);case 10:if(e.t1=t.pageId,e.t1){e.next=15;break}return e.next=14,T();case 14:e.t1=e.sent;case 15:if(e.t0=!e.t1,e.t0){e.next=24;break}if(e.t2=t.pageId,e.t2){e.next=22;break}return e.next=21,T();case 21:e.t2=e.sent;case 22:e.t3=e.t2,e.t0="ignore_page_pv"===e.t3;case 24:if(e.t4=e.t0,!e.t4){e.next=28;break}return e.next=28,S(120);case 28:if(e.t5=t.businessType,e.t6=t.action,e.t7="".concat(t.OrderId||t.orderId||t.OrderID||t.orderID||""),e.t8=t.desc,e.t9=t.type,e.t10="object"===(0,g.Z)(t.dataBody)||t.dataBody instanceof Array?JSON.stringify(t.dataBody):t.dataBody,e.t11=E,e.t12=t.pageId,e.t12){e.next=40;break}return e.next=39,T();case 39:e.t12=e.sent;case 40:return e.t13=e.t12,o={businessType:e.t5,action:e.t6,orderId:e.t7,desc:e.t8,type:e.t9,dataBody:e.t10,preOrderToken:e.t11,pageId:e.t13},n?n(a,o):k()===s.OB.PLATFORM_TYPE.H5?P.__bfi.push(["_devTrace",a,o]):k()===s.OB.PLATFORM_TYPE.CRN&&s.uM.logDevTrace("o_tra_user_trace",o),p.i.isLogUserTrace&&(console.log("********log trace**********"),console.log("o_tra_user_trace",o)),o.orderId&&(E="",C(r,"")),e.abrupt("return",!0);case 46:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}var D,j=b,R=(0,a.Z)((function e(){(0,i.Z)(this,e)}));D=R,(0,o.Z)(R,"userTraceList",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={action:e,desc:t,dataBody:n,businessType:"pre_order",pageId:d.Z.PAGE_ID};D.UserTrace(r)})),(0,o.Z)(R,"userTraceDetail",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={action:e,desc:t,dataBody:n,businessType:"x_order",pageId:l.Z.getDetailPageId()};D.UserTrace(r)})),(0,o.Z)(R,"userTraceBook",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={action:e,desc:t,dataBody:n,businessType:"x_order",pageId:u.Z.getBookPageId()};D.UserTrace(r)})),(0,o.Z)(R,"userTraceBookOrder",(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={orderId:e,action:t,desc:n,dataBody:r,businessType:"createOrder",pageId:u.Z.getBookPageId()};D.UserTrace(a)})),(0,o.Z)(R,"userTraceBookPay",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={orderId:e,action:t,desc:n,dataBody:r,businessType:"goPay",pageId:u.Z.getBookPageId()};D.UserTrace(a)})),(0,o.Z)(R,"UserTrace",(function(e,t){j(e,t).catch()})),(0,o.Z)(R,"tracePayResult",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.Z)((0,r.Z)({},e),{},{pageId:m.Z.PAGE_ID,page:"payResult",rn_version:c.rn_version});D.faultTrace(t)})),(0,o.Z)(R,"traceRefund",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.Z)((0,r.Z)({},e),{},{pageId:f.Z.PAGE_ID,page:"refund",rn_version:c.rn_version});D.faultTrace(t)})),(0,o.Z)(R,"traceOrder",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.Z)((0,r.Z)({},e),{},{page:"order",rn_version:c.rn_version});D.faultTrace(t)})),(0,o.Z)(R,"faultTrace",(function(e){p.i.isLogFaultTrace&&console.log("[devTrace]","key:[o_train_abroad_fault_trace]",JSON.stringify(e)),s.uM.logDevTrace("o_train_abroad_fault_trace",e)}))},62617:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,a=n(57042),i=n(24460),o=n(45023),s=n(7743),c=n(82226),l=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"logPayClick",value:function(e){var t={PageId:this.getBookPageId(),value:e};c.Z.logTrace("TCAEUfillPage_pay_click",t)}},{key:"logUnMatchExpose",value:function(e){var t={PageId:this.getBookPageId(),value:e};c.Z.logTrace("TCAEUfillPage_holdPopup_exposure",t)}},{key:"logUnMatchClick",value:function(e,t){var n={clickType:e,value:t,PageId:this.getBookPageId()};c.Z.logTrace("TCAEUfillPage_holdPopup_click",n)}},{key:"logPriceDetailClick",value:function(){var e={PageId:this.getBookPageId()};c.Z.logTrace("TCAEUfillPage_priceDetail_click",e)}},{key:"logAddPassengers",value:function(){var e={PageId:this.getBookPageId()};c.Z.logTrace("TCAEUfillPage_addPassenger_click",e)}}]),e}();r=l,(0,o.Z)(l,"getBookPageId",(function(){return(0,s.e)()})),(0,o.Z)(l,"tracePageExpose",(function(e){var t={PageId:r.getBookPageId(),value:e};c.Z.logTrace("TCAEUfillPage_exposure",t)}))},51061:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r,a=n(90129),i=n(24460),o=n(57042),s=n(45023),c=n(31789),l=n(11478),u=n(7743),d=n(82226),m=(0,i.Z)((function e(){(0,o.Z)(this,e)}));r=m,(0,s.Z)(m,"getDetailPageId",(function(){return(0,u.e)()})),(0,s.Z)(m,"convertTraceObject",(function(e){var t=e.item,n=e.trainData,r=e.searchAgeInfoList,i=t.fares,o=void 0===i?[]:i,s=(0,a.Z)(o,1),u=s[0],d=void 0===u?{}:u;if(!(0,c.x)(d)){var m=d.ticketInfo,f=m.classNameShow,p=m.name,h=n.departureLocation,g=n.arrivalLocation,v=n.changeQuantity;return{arriveStation:g.name,departStation:h.name,num:"".concat(l.Z.calculateTotalPassengers(r)),routeType:v>0?"2":"1",seatType:f,ticketType:p,type:"1"}}return{}})),(0,s.Z)(m,"seatTypeClick",(function(e){var t={clickType:e,PageId:r.getDetailPageId()};d.Z.logTrace("TCAEUxPage_seatType_click",t)})),(0,s.Z)(m,"routeDetailClick",(function(){var e={PageId:r.getDetailPageId()};d.Z.logTrace("TCAEUxPage_routeDetail_click",e)})),(0,s.Z)(m,"informationClick",(function(e){if(!(0,c.x)(e)){var t={PageId:r.getDetailPageId(),TripInfo:e};d.Z.logTrace("TCAEUxPage_information_click",t)}})),(0,s.Z)(m,"bookClick",(function(e,t){var n={clickType:e,PageId:r.getDetailPageId(),TripInfo:t};d.Z.logTrace("TCAEUxPage_book_click",n)})),(0,s.Z)(m,"tracePageExpose",(function(e){var t={PageId:r.getDetailPageId(),value:e};d.Z.logTrace("TCAEUtrainDetailPage_exposure",t)}))},35488:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r,a=n(24460),i=n(57042),o=n(45023),s=n(11478),c=n(7743),l=n(82226),u=(0,a.Z)((function e(){(0,i.Z)(this,e)}));r=u,(0,o.Z)(u,"getListPageId",(function(){return(0,c.e)()})),(0,o.Z)(u,"convertTraceObject",(function(e,t){var n=e.departureLocation,r=e.arrivalLocation,a=e.saleAvgPrice,i=e.changeQuantity;return{departStation:n.name,arriveStation:r.name,price:"".concat(a),num:"".concat(s.Z.calculateTotalPassengers(t)),routeType:i>0?"2":"1",type:"1"}})),(0,o.Z)(u,"routeCardClick",(function(e,t){var n={clickType:t,PageId:r.getListPageId(),TripInfo:e};l.Z.logTrace("TCAEUlistPage_routeCard_click",n)})),(0,o.Z)(u,"adClick",(function(){var e={PageId:r.getListPageId()};l.Z.logTrace("TCAEUlistPage_ad_click",e)})),(0,o.Z)(u,"routeDetailClick",(function(e){var t={PageId:r.getListPageId(),TripInfo:e};l.Z.logTrace("TCAEUlistPage_routeDetail_click",t)})),(0,o.Z)(u,"routeCardExposure",(function(e,t){var n={PageId:r.getListPageId(),TripInfo:e,targetPageRef:null!==t&&void 0!==t?t:""};l.Z.logTrace("TCAEUlistPage_routeCard_exposure",n)})),(0,o.Z)(u,"calendarClick",(function(e){var t={PageId:r.getListPageId(),clickType:e};l.Z.logTrace("TCAEUlistPage_calendar_click",t)})),(0,o.Z)(u,"filterClick",(function(e){var t={PageId:r.getListPageId(),clickType:"".concat(e)};l.Z.logTrace("TCAEUlistPage_filter_click",t)})),(0,o.Z)(u,"tracePageExpose",(function(e){var t={PageId:r.getListPageId(),value:e};l.Z.logTrace("TCAEUtrainListPage_exposure",t)}))},10860:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,a=n(24460),i=n(57042),o=n(45023),s=n(82226),c=n(7743),l=(0,a.Z)((function e(){(0,i.Z)(this,e)}));r=l,(0,o.Z)(l,"PAGE_ID",""),(0,o.Z)(l,"getOrderPageId",(function(e){return r.PAGE_ID=(0,c.P)(e)||r.PAGE_ID,r.PAGE_ID})),(0,o.Z)(l,"traceViewRefundDetail",(function(e){var t={PageId:r.PAGE_ID,Type:e};s.Z.logTrace("TCAEUdetailPage_refund_click",t)})),(0,o.Z)(l,"traceViewETickets",(function(){var e={PageId:r.PAGE_ID};s.Z.logTrace("TCAEUdetailPage_eTicket_click",e)})),(0,o.Z)(l,"traceNaviBack",(function(e){var t={PageId:r.PAGE_ID,Time:e};s.Z.logTrace("TCAEUdetailPage_back_click",t)})),(0,o.Z)(l,"tracePageExpose",(function(e,t,n,a){var i={PageId:r.PAGE_ID,orderid:e,Type:t,value:n,TypeDiff:a,TypeSndAttr:0};s.Z.logTrace("TCAEUdetailPage_exposure",i)})),(0,o.Z)(l,"traceConfirmRefund",(function(e){var t={PageId:r.PAGE_ID,Type:e};s.Z.logTrace("TCAEUrefundPage_confirm_click",t)})),(0,o.Z)(l,"traceGoPay",(function(){var e={PageId:r.PAGE_ID};s.Z.logTrace("TCAEUdetailPage_toPay_click",e)})),(0,o.Z)(l,"traceViewBottomButton",(function(e,t){var n={PageId:r.PAGE_ID,Type:t,clickType:e};s.Z.logTrace("TCAEUdetailPage_bottom_click",n)})),(0,o.Z)(l,"traceViewJourneyDetail",(function(){var e={PageId:r.PAGE_ID};s.Z.logTrace("TCAEUdetailPage_routeDetail_click",e)})),(0,o.Z)(l,"traceViewRefundRule",(function(e){var t={PageId:r.PAGE_ID,Type:e};s.Z.logTrace("TCAEUdetailPage_rule_click",t)})),(0,o.Z)(l,"traceViewIMService",(function(e){var t={PageId:r.PAGE_ID,Type:e};s.Z.logTrace("TCAEUdetailPage_service_click",t)}))},96930:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,a=n(24460),i=n(57042),o=n(45023),s=n(82226),c=n(7743),l=(0,a.Z)((function e(){(0,i.Z)(this,e)}));r=l,(0,o.Z)(l,"PAGE_ID",""),(0,o.Z)(l,"getResultPageId",(function(e){return r.PAGE_ID=(0,c.P)(e)||r.PAGE_ID,r.PAGE_ID})),(0,o.Z)(l,"passViewClick",(function(e,t){var n={PageId:r.PAGE_ID,ScanId:e,clickType:t};s.Z.logTrace("TCAEUfinishPage_pass_click",n)})),(0,o.Z)(l,"activityDialogClick",(function(e,t){var n={PageId:r.PAGE_ID,value:t,clickType:e};s.Z.logTrace("TCAEUfinishPage_pop_click",n)})),(0,o.Z)(l,"actionButtonClick",(function(e){var t={PageId:r.PAGE_ID,clickType:e};s.Z.logTrace("TCAEUfinishPage_top_click",t)})),(0,o.Z)(l,"activityButtonClick",(function(e){var t={PageId:r.PAGE_ID,value:e};s.Z.logTrace("TCAEUdetailPage_icon_click",t)})),(0,o.Z)(l,"tracePageExpose",(function(e){var t={PageId:r.PAGE_ID,value:e};console.log("pistv-----",e),s.Z.logTrace("TCAEUfinishPage_exposure",t)}))},27595:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r,a=n(24460),i=n(57042),o=n(45023),s=n(82226),c=(0,a.Z)((function e(){(0,i.Z)(this,e)}));r=c,(0,o.Z)(c,"PAGE_ID","10650103958"),(0,o.Z)(c,"traceConfirm",(function(e){var t={PageId:r.PAGE_ID,type:e};s.Z.logTrace("TCAEUrefundPage_confirm_click",t)}))},67350:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(79301),a=n(95308),i=n(57042),o=n(24460),s=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"logMetric",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.length>1&&void 0!==n[1]?n[1]:7777,n.length>2&&void 0!==n[2]?n[2]:"",n.length>3&&void 0!==n[3]?n[3]:"",n.length>4?n[4]:void 0;case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},82226:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(24460),a=n(57042),i=n(45023),o=(0,r.Z)((function e(){(0,a.Z)(this,e)}));(0,i.Z)(o,"logTrace",(function(e,t){}))},83090:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var r=n(24460),a=n(57042),i=n(45023),o=(0,r.Z)((function e(){(0,a.Z)(this,e)}));(0,i.Z)(o,"getMobileConfigSync",(function(e){return"{}"}));var s,c=n(31789),l=(0,r.Z)((function e(){(0,a.Z)(this,e)}));s=l,(0,i.Z)(l,"isLogNetwork",!1),(0,i.Z)(l,"isLogFaultTrace",!1),(0,i.Z)(l,"isLogUserTrace",!1),(0,i.Z)(l,"IOS_SUPPORT_EU_HOME_VERSION","8.61.4"),(0,i.Z)(l,"getAbroadRnConfig",(function(){var e;try{var t=o.getMobileConfigSync("AbroadRnConfig");e=JSON.parse(t)}catch(t){e={}}return e})),(0,i.Z)(l,"getInstructions",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eu",t={eu:[{text:"\u8bf7\u60a8\u5728\u63d0\u4ea4\u8ba2\u5355\u524d\u4ed4\u7ec6\u9605\u8bfb "},{text:"\u56fd\u9645\u706b\u8f66\u670d\u52a1\u534f\u8bae\u3001",url:"https://contents.ctrip.com/activitysetupapp/mkt/index/a?popup=close",highlight:!0},{text:"\u4e2a\u4eba\u4fe1\u606f\u6388\u6743\u58f0\u660e",url:"https://contents.ctrip.com/activitysetupapp/mkt/index/shouquan?popup=close",highlight:!0},{text:"\u548c "},{text:"\u9884\u8ba2\u987b\u77e5",url:"https://contents.ctrip.com/activitysetupapp/mkt/index/yuding?popup=close",highlight:!0}]};try{var n=s.getAbroadRnConfig(),r=n["xtaro.abroad.book"]||{},a=r.instructions,i=void 0===a?{}:a;console.log("[AbroadRnConfigObject]",JSON.stringify(n)),(0,c.x)(i)||(t=i)}catch(e){console.log("instructions",e)}return t[e]})),(0,i.Z)(l,"getPassengerTip",(function(){var e={title:"\u4e58\u5ba2\u5e74\u9f84\u5f71\u54cd\u7968\u4ef7\u548c\u51fa\u884c\uff0c\u8bf7\u6b63\u786e\u586b\u5199",content:[{question:"1\u3001\u4e3a\u4ec0\u4e48\u8981\u6b63\u786e\u586b\u5199\u4e58\u5ba2\u5e74\u9f84\u4fe1\u606f\uff1f",answer:"\u7b54\uff1a\u56fd\u9645\u706b\u8f66\u7968\u7531\u5883\u5916\u4f9b\u5e94\u5546\u63d0\u4f9b\u670d\u52a1\u3002\u4e0d\u540c\u4f9b\u5e94\u5546\u5bf9\u4e8e\u8f66\u7968\u9002\u7528\u7684\u4e58\u5ba2\u5e74\u9f84\u5206\u7c7b\u6709\u4e0d\u540c\u7684\u5b9a\u4e49\u3001\u4e0d\u540c\u7684\u4f18\u60e0\uff0c\u6b63\u786e\u586b\u5199\u4e58\u5ba2\u4fe1\u606f\u5c06\u4e8e\u6709\u52a9\u4e8e\u60a8\u83b7\u5f97\u6700\u4f73\u65b9\u6848\u3002\n\u6ce8\u610f\uff1a\u8f66\u7968\u9002\u7528\u5e74\u9f84\u4ee5\u4e58\u8f66\u5f53\u5929\u5e74\u9f84\u4e3a\u51c6\u3002"},{question:"2\u3001\u641c\u7d22\u8f66\u7968\u65f6\u7684\u4e58\u5ba2\u4fe1\u606f\u4e0e\u51fa\u884c\u4e58\u5ba2\u4e0d\u4e00\u81f4?",answer:"\u7b54\uff1a\u4f9b\u5e94\u5546\u6309\u641c\u7d22\u8f66\u7968\u65f6\u7684\u4e58\u5ba2\u4fe1\u606f\u63d0\u4f9b\u6253\u5305\u4ef7\u65b9\u6848\u3002\u60a8\u53ef\u5f55\u5165\u4e0e\u641c\u7d22\u4fe1\u606f\u4e00\u81f4\u7684\u4e58\u5ba2\u4eba\u6570\u548c\u5e74\u9f84\u4eab\u53d7\u539f\u641c\u7d22\u4ef7\u65b9\u6848\uff0c\u6216\u6839\u636e\u5b9e\u9645\u51fa\u884c\u4e58\u5ba2\u91cd\u65b0\u67e5\u4ef7\u3002"}]};try{var t=s.getAbroadRnConfig(),n=t["xtaro.abroad.book"]||{},r=n.passengerTip,a=void 0===r?{}:r;(0,c.x)(a)||(e=a)}catch(e){console.log("[getAbroadRnConfigError]",e)}return e})),(0,i.Z)(l,"getPriceTip",(function(){return{title:"\u4eba\u5747\u8d77\u4ef7\u987b\u77e5",content:[{question:"1\u3001\u4e3a\u4ec0\u4e48\u6709\u7684\u8f66\u6b21\uff0c\u6211\u66f4\u6539\u4e58\u5ba2\u5e74\u9f84\u540e\uff0c\u4eba\u5747\u8d77\u4ef7\u53d8\u4e86\uff0c\u6709\u7684\u8f66\u6b21\u6ca1\u6709\u6539\u53d8\uff1f",answer:"\u7b54\uff1a\u56fd\u9645\u706b\u8f66\u7968\u7531\u5883\u5916\u4f9b\u5e94\u5546\u63d0\u4f9b\u670d\u52a1\uff0c\u4e0d\u540c\u5883\u5916\u4f9b\u5e94\u5546\u5bf9\u4e58\u5ba2\u5e74\u9f84\u5206\u7c7b\u6709\u4e0d\u540c\u7684\u5b9a\u4e49\uff0c\u4e0d\u540c\u7684\u5e74\u9f84\u53ef\u80fd\u4f1a\u5bf9\u5e94\u4e0d\u540c\u4ef7\u683c\uff0c\u6240\u4ee5\u66f4\u6539\u4e58\u5ba2\u5e74\u9f84\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u4eba\u5747\u8d77\u4ef7\u53d8\u5316\u3002"},{question:"2\u3001\u9664\u4e86\u4e58\u5ba2\u5e74\u9f84\uff0c\u4eba\u5747\u8d77\u4ef7\u8fd8\u4f1a\u53d7\u4ec0\u4e48\u56e0\u7d20\u5f71\u54cd\uff1f",answer:"\u7b54\uff1a\u4eba\u5747\u8d77\u4ef7\u53d7\u591a\u79cd\u56e0\u7d20\u5f71\u54cd\uff0c\u51fa\u884c\u4e58\u5ba2\u7684\u5e74\u9f84\u3001\u4eba\u6570\u3001\u51fa\u884c\u65f6\u95f4\u3001\u51fa\u884c\u8def\u7ebf\u3001\u8f66\u6b21\u3001\u6c47\u7387\u7b49\u90fd\u53ef\u80fd\u5f71\u54cd\u4eba\u5747\u8d77\u4ef7\u3002"}]}})),(0,i.Z)(l,"getOrderSwitch",(function(){var e=!0;try{var t=s.getAbroadRnConfig(),n=t["xtaro.abroad.order"]||{},r=n.open,a=void 0===r||r;e=a}catch(e){console.log("[getAbroadRnConfigError]",e)}return e}))},11478:function(e,t,n){"use strict";n.d(t,{Z:function(){return T},b:function(){return y}});var r=n(68277),a=n(298),i=n(90129),o=n(57042),s=n(24460),c=n(45023),l=n(31789),u=n(92954),d=n.n(u),m=n(6980),f=n(12111),p=n(19274);f.Z.updateLocale=function(e,t){f.Z.locale(p.Z)};var h,g=f.Z,v=["matchedCount"],x=d().getSystemInfoSync().screenWidth,y=x>375?20:x/375*20,_={bus:"\u5df4\u58eb",ferry:"\u6e21\u8239",underground:"\u5730\u94c1",transfer:"\u8f6c\u4e58",metro:"\u5730\u94c1",tram:"\u6709\u8f68\u8f66",taxi:"\u51fa\u79df\u8f66",hovercraft:"\u6c14\u57ab\u8239",ship:"\u8239",tube:"\u5730\u94c1","cable car":"\u7f06\u8f66","cog railway":"\u706b\u8f66",bike:"\u81ea\u884c\u8f66",car:"\u6c7d\u8f66",unknown:"\u5176\u5b83"},T=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,null,[{key:"assembleStopInfos",value:function(e,t){if(e.length>0){var n=l.Z.last(e);n.next=t,t.pre=n,e.push(t)}else e.push(t)}},{key:"calculateTotalPassengers",value:function(e){return l.Z.reduce(e,(function(e,t){return e+t.count}),0)}},{key:"getTicketInfoFromSolution",value:function(e){if(!l.Z.isEmpty(e)){var t=e.farePackages,n=void 0===t?[]:t,r=(0,i.Z)(n,1),a=r[0],o=a.fares,s=void 0===o?[]:o,c=(0,i.Z)(s,1),u=c[0],d=u.ticketInfo;return d}}},{key:"formatSeat",value:function(e){var t,n,r=e.coach,a=e.seatNum,i="any"===(null===(t=r)||void 0===t?void 0:t.toLowerCase()),o="any"===(null===(n=a)||void 0===n?void 0:n.toLowerCase());i&&(r="\u81ea\u7531"),o&&(a="\u81ea\u7531\u5ea7\u4f4d");var s=l.Z.isEmpty(r),c=l.Z.isEmpty(a);return c&&s||i&&o?"\u81ea\u7531\u5ea7":s?a:c?"".concat(r,"\u8f66\u53a2"):"".concat(r,"\u8f66\u53a2").concat(a)}},{key:"formatSingleJourneySeat",value:function(e,t){var n=this,r=t.farePackages,a=void 0===r?[]:r,o=t.segments,s=void 0===o?[]:o,c=(0,i.Z)(a,1),u=c[0],d=u.fares,m=void 0===d?[]:d,f=(0,i.Z)(m,1),p=f[0],h=p.ticketInfo,g=h.classNameShow,v=h.classSeatShow,x=h.name,y=(0,i.Z)(s,1),T=y[0],Z=T.legs,N=void 0===Z?[]:Z;e.forEach((function(e){var t=e.journeyLegIndex,n=e.coach,r=e.seatNum,a=l.Z.find(N,(function(e){return e.journeyLegIndex==t})),i=a.hasNoneAnySeat,o=void 0!==i&&i,s=a.hasNoneEmptySeat,c=void 0!==s&&s,u=a.legSeats;l.Z.isEmpty(u)&&(u=[],a.legSeats=u),u.push(e),o||"any"===n.toLowerCase()&&"any"===r.toLowerCase()||(a.hasNoneAnySeat=!0),c||l.Z.isEmpty(n)&&l.Z.isEmpty(r)||(a.hasNoneEmptySeat=!0)}));var C=N.filter((function(e){var t;return"walk"!==(null===(t=e.transport)||void 0===t||null===(t=t.transportType)||void 0===t?void 0:t.toLowerCase())})),w=l.Z.isEmpty(v)?x:v,k=[];return!C.some((function(e){return e.hasNoneAnySeat&&e.hasNoneEmptySeat}))&&C.every((function(e){var t;return"train"===(null===(t=e.transport)||void 0===t||null===(t=t.transportType)||void 0===t?void 0:t.toLowerCase())}))?k.push({journeyTitle:"\u5168\u7a0b",journeyLevel:g,seatFormatShow:C.some((function(e){return e.hasNoneAnySeat}))?w:"\u81ea\u7531\u5ea7"}):(C.forEach((function(e,t){var r,a=null===e||void 0===e||null===(r=e.transport)||void 0===r||null===(r=r.transportType)||void 0===r?void 0:r.toLowerCase(),i=e.hasNoneAnySeat,o=void 0!==i&&i,s=e.hasNoneEmptySeat,c=void 0!==s&&s,l=e.legSeats,u=c&&o,d="train"===a,m=d?g:_[a]||"\u672a\u77e5";u?k.push({journeyTitle:"".concat(t+1,"\u7a0b"),journeyLevel:m,seatFormatShow:l.map((function(e){return n.formatSeat(e)})).join("\uff0c")}):d?k.push({journeyTitle:"".concat(t+1,"\u7a0b"),journeyLevel:g,seatFormatShow:o?w:"\u81ea\u7531\u5ea7"}):k.push({journeyTitle:"".concat(t+1,"\u7a0b"),journeyLevel:m,seatFormatShow:o?"\u5176\u5b83"===m||"\u8f6c\u4e58"===m?"\u8bf7\u81ea\u884c\u524d\u5f80\u8f66\u7ad9":"\u8bf7\u4e58\u5750".concat(m):"\u81ea\u7531\u5ea7"})})),1===k.length&&(l.Z.first(k).journeyTitle="\u5168\u7a0b")),k}}]),e}();h=T,(0,c.Z)(T,"DATE_FORMAT_YYYY_MM_DD_HH_mm_ss","YYYY-MM-DD HH:mm:ss"),(0,c.Z)(T,"DATE_FORMAT_YYYY_MM_DD","YYYY-MM-DD"),(0,c.Z)(T,"DATE_FORMAT_YYYY_M_D","YYYY-M-D"),(0,c.Z)(T,"DATE_FORMAT_MM_DD","MM-DD"),(0,c.Z)(T,"DATE_FORMAT_HH_mm","HH:mm"),(0,c.Z)(T,"DATE_FORMAT_ddd","ddd"),(0,c.Z)(T,"DATE_FORMAT_M_DD","M\u6708DD\u65e5"),(0,c.Z)(T,"initialLocale",(function(){g.updateLocale("zh-cn",{})})),(0,c.Z)(T,"formatHighLight",(function(e){if(!e)return[];var t=[];return e.replace(/\(([^{}()]*)\)|\{([^{}()]*)\}|([^{}()]*)/g,(function(e,n,r,a){n&&t.push({text:n,highLight:!0}),r&&t.push({text:r,fontWeight:!0}),a&&t.push({text:a})})),t})),(0,c.Z)(T,"formatTimeStamp",(function(e){var t=parseInt(e/60/24),n=parseInt(e/60%24),r=parseInt(e%60),a="";return t>0&&(a=t+"\u5929"),n>0&&(a+=n+"\u65f6"),r>0&&(a+=parseFloat(r)+"\u5206"),a})),(0,c.Z)(T,"formatCreateOrderCheckData",(function(e,t,n){var r=e.departureLocation,a=e.arrivalLocation,i=e.departureDateTime,o=e.arrivalDateTime,s=t.fares,c=void 0===s?[]:s,l=h.getFirstFares(c),u=l.ticketInfo,d=void 0===u?{}:u,f=d.className,p=d.classSeatShow,v=void 0===p?"":p,x=g(i,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss),y=g(o,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss),_=g(g(o,h.DATE_FORMAT_YYYY_MM_DD),h.DATE_FORMAT_YYYY_MM_DD).diff(y,"days");return{ticketInfos:[{title:x.format("M\u6708DD\u65e5 ddd \u51fa\u53d1")},{title:"".concat(x.format("HH:mm")," - ").concat(y.format("HH:mm")),crossDay:_},{title:"".concat(r.name," - ").concat(a.name)},{title:"".concat(f," ").concat(v)}],passengerInfos:n.map((function(e){return{name:"".concat(m.Z.formatName(e.lastName)," ").concat(m.Z.formatName(e.firstName)),gender:e.gender}}))}})),(0,c.Z)(T,"formatBookTransferData",(function(e,t){var n=t.saleAvgPrice,r=t.ticketRemain,a=t.soldOut,i=h.formatTransferData(e);return i.saleAvgPrice=n,i.ticketRemain=r,i.soldOut=a,i.schedule=t,i})),(0,c.Z)(T,"formatTransferData",(function(e){var t,n,r,a,o=e.segments,s=void 0===o?[]:o,c=e.allowMobileAndETicket,u=e.changeQuantity,d=e.departureDateTime,m=e.durationMinutes,f=u>0,p=g(d,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss),v=(0,i.Z)(s,1),x=v[0],y=x.legs,_=void 0===y?[]:y,T=x.logo,Z=[],N=c?"\u7535\u5b50\u7968":"\u7eb8\u8d28\u7968";return _.forEach((function(e,i){var o=e.journeyStops,s=void 0===o?[]:o,c=e.departureLocation,u=e.arrivalLocation,d=e.transport,m=e.durationMinutes,p=e.departureDateTime,v=e.arrivalDateTime,x=e.destinationPlatform,y=e.originPlatform,_=d.displayName,C=d.transportType,w=void 0===C?"":C,k=c.cityName,I=void 0===k?"":k,S=c.locationCode,P=u.cityName,E=void 0===P?"":P,b=u.locationCode,A=s.length,D=[],j={type:4,stations:D,expanded:!1},R=A>4,O="walk"===w.toLowerCase();if(!l.Z.isEmpty(t)){var M,L,V;O?(L=b,V=x):(L=S,V=y),M=r!==L||n!==V||l.Z.isEmpty(n)||l.Z.isEmpty(V)?r===L?"\u7ad9\u5185\u6362\u4e58\uff0c\u8bf7\u6ce8\u610f\u66f4\u6362\u4e58\u8f66\u7ad9\u53f0":"\u9700\u66f4\u6362\u8f66\u7ad9\uff0c\u8bf7\u6ce8\u610f\u9884\u7559\u8db3\u591f\u65f6\u95f4":"\u65e0\u9700\u51fa\u7ad9\uff0c\u540c\u53f0\u6362\u4e58";var B=g(p,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss).diff(g(t,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss),"minutes");Z.push({type:5,costTime:O?"":h.formatTimeStamp(B),tipMessage:M,highlight:B<30})}t=v,r=b,n=x,s.forEach((function(e,t){var n=e.location,r=void 0===n?{}:n,i=e.platform,o=e.arrivalDateTime,s=e.departureDateTime,c=r.name,u=void 0===c?"":c,d=r.localName,p=void 0===d?"":d,v={stationName:u,type:3};if(0===t){v.relateTime=s.substring(11,16),v.type=1,v.cityName=I,v.costTime=f?"".concat(O?"\u6b65\u884c\u7ea6":"").concat(h.formatTimeStamp(m)):"",v.stationNameEn=p,Z.push(v),O||(v.supplierImage=T,v.scheduleNumber=_,v.ticketType=N);var x=g(s,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss);l.Z.isEmpty(a)||(v.crossDate=x.isSame(a,"day")?void 0:x.format(h.DATE_FORMAT_M_DD)),a=x,l.Z.isEmpty(i)||(v.platform="\u7ad9\u53f0 ".concat(i," (Platform ").concat(i,")"))}else if(t===A-1){v.relateTime=o.substring(11,16),v.type=2,v.cityName=E,v.stationNameEn=p,Z.push(v),l.Z.isEmpty(i)||(v.platform="\u7ad9\u53f0 ".concat(i," (Platform ").concat(i,")"));var y=g(o,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss);v.crossDate=y.isSame(a,"day")?void 0:y.format(h.DATE_FORMAT_M_DD),a=y}else R&&Z.indexOf(j)<0&&Z.push(j),v.relateTime=o.substring(11,16),R?D.push(v):Z.push(v)}))})),{transferTag:f?"\u4e2d\u8f6c".concat(u,"\u6b21"):"\u76f4\u8fbe",costTime:h.formatTimeStamp(m),departureDate:p.format("M\u6708DD\u65e5 ddd"),stations:Z}})),(0,c.Z)(T,"formatScheduleCard",(function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.segments,c=void 0===s?[]:s,u=o.changeQuantity,d=o.departureDateTime,m=o.durationMinutes,f=u>0,p=g(d,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss),v=(0,i.Z)(c,1),x=v[0],y=x.legs,_=void 0===y?[]:y,T=x.logo,Z=x.departureLocation,N=void 0===Z?{}:Z,C=x.arrivalLocation,w=void 0===C?{}:C,k=[],I=_.filter((function(e){var t=e.transport,n=void 0===t?{}:t,r=n.transportType,a=void 0===r?"":r;return"walk"!==a.toLowerCase()})),S=I.length-1;return I.forEach((function(i,o){var s=i.departureLocation,c=i.arrivalLocation,u=i.transport,d=i.departureDateTime,m=i.arrivalDateTime,f=o===S,p=u.displayName,v=g(d,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss),x=g(m,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss),y=!v.isSame(x,"day"),_=s.name,Z=s.cityName,N=void 0===Z?"":Z,C=s.locationCode,w=c.name,I=c.cityName,P=void 0===I?"":I,E=c.locationCode,b=t===C;if(!l.Z.isEmpty(e)){var A;b?(A={stationName:_,relateTimeArrival:n.relateTime,relateDateArrival:n.relateDate,tipMessage:"".concat(n.stationName," \xb7 \u7ad9\u5185\u4e2d\u8f6c"),relateTimeDepart:d.substring(11,16),relateDateDepart:v.isSame(e,"day")?void 0:v.format("M\u6708D\u65e5")},l.Z.isEmpty(r)||(r.supplierImage=n.supplierImage,r.scheduleNumber=n.scheduleNumber)):(h.assembleStopInfos(k,n),A={tipMessage:"\u7ad9\u5916\u6362\u4e58"});var D=v.diff(e,"minutes");h.assembleStopInfos(k,(0,a.Z)({type:5,costTime:h.formatTimeStamp(D),highlight:D<30},A))}e=x,t=E,n={type:2,cityName:P,relateTime:m.substring(11,16),stationName:w,relateDate:y?x.format("M\u6708D\u65e5"):void 0,supplierImage:T,scheduleNumber:p},b?(r=null,f&&h.assembleStopInfos(k,n)):(r={type:1,cityName:N,relateTime:d.substring(11,16),stationName:_},h.assembleStopInfos(k,r),f&&h.assembleStopInfos(k,n))})),{transferTag:f?"\u4e2d\u8f6c":"\u76f4\u8fbe",costTime:h.formatTimeStamp(m),departureYear:p.format("YYYY\u5e74"),departureDate:p.format("M\u6708DD\u65e5"),departureWeekDay:p.format("ddd"),departArrive:"".concat(N.cityName,"-").concat(w.cityName),stations:k}})),(0,c.Z)(T,"convertPassengerInfo2List",(function(e,t){return t=l.Z.isEmpty(t)?[{passengerType:"\u6210\u4eba",ageLow:30,ageHigh:59},{passengerType:"\u513f\u7ae5/\u9752\u5e74",ageLow:4,ageHigh:29},{passengerType:"\u957f\u8005",ageLow:60,ageHigh:999}]:t.map((function(e){e.matchedCount;var t=(0,r.Z)(e,v);return(0,a.Z)({},t)})),e.forEach((function(e){for(var n=e.age,r=e.count,a=0;a<t.length;a++){var i=t[a],o=t[a],s=o.ageLow,c=o.ageHigh,l=o.matchedCount,u=void 0===l?0:l;if(n>=s&&n<=c){i.matchedCount=u+r;break}}})),t.filter((function(e){return e.matchedCount>0})).map((function(e){return"".concat(e.matchedCount).concat(e.passengerType)}))})),(0,c.Z)(T,"bindSolutionBasicInfo",(function(e,t){var n=e.departureLocation,r=e.arrivalLocation,a=e.departureDateTime,i=e.arrivalDateTime,o=g(a,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss),s=g(i,h.DATE_FORMAT_YYYY_MM_DD_HH_mm_ss),c=g(g(i,h.DATE_FORMAT_YYYY_MM_DD),h.DATE_FORMAT_YYYY_MM_DD).diff(g(a,h.DATE_FORMAT_YYYY_MM_DD),"days");t.tripLine="".concat(null===n||void 0===n?void 0:n.cityName," - ").concat(null===r||void 0===r?void 0:r.cityName),t.crossDay=c,t.departTime=o.format(h.DATE_FORMAT_HH_mm),t.arriveTime=s.format(h.DATE_FORMAT_HH_mm)})),(0,c.Z)(T,"formatTicketInfos",(function(e){var t,n=e.tickets,r=void 0===n?[]:n,a=e.scheduledPTPInfo,i=void 0===a?{}:a,o=i.outSolution,s=i.inSolution,c={},u={},d=[],m=[],f={outTicketInfo:u};return h.bindSolutionBasicInfo(o,u),l.Z.isEmpty(s)||(f.inTicketInfo=c,h.bindSolutionBasicInfo(s,c)),c.tickets=d,u.tickets=m,r.forEach((function(e){var n=e.solutionIndex;if(l.Z.isEmpty(t)&&"CHECK_IN_URL"===e.ticketType)return t=e,void(f.checkinTicket=t);"in"===n?d.push(e):m.push(e)})),f})),(0,c.Z)(T,"formatSeatInfo",(function(e){var t=e.seats,n=void 0===t?[]:t,r=e.scheduledPTPInfo,a=void 0===r?{}:r,i=a.inSolution,o=a.outSolution;if((0,l.x)(n))return{};var s={};return(0,l.x)(o)||(s.outSeats=h.formatSingleJourneySeat(n,o)),(0,l.x)(i)||(s.inSeats=h.formatSingleJourneySeat(n,i)),s})),(0,c.Z)(T,"formatHeaderStation",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.length,r=t.length,a=7,i=7;/[\u4e00-\u9fa5]+/g.test(e)||(a=12),/[\u4e00-\u9fa5]+/g.test(t)||(i=12);var o=a+i+1,s=n+r>12,c=e,l=t;if(s)if(n>a&&r>i)c="".concat(e.substring(0,a),"..."),l="".concat(t.substring(0,i),"...");else if(n>a){var u=o-r;c="".concat(e.substring(0,u),"...")}else if(r>i){var d=o-n;l="".concat(t.substring(0,d),"...")}return{smallSize:s,formatFrom:c,formatTo:l}})),(0,c.Z)(T,"getFirstFares",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((0,l.x)(e))return{};var t=(0,i.Z)(e,1),n=t[0];return(0,l.x)(n)?{}:n})),(0,c.Z)(T,"formatProductLine",(function(e){var t=e.departureLocation,n=void 0===t?{}:t,r=e.arrivalLocation,a=void 0===r?{}:r,i=n.countryCode,o=a.countryCode;return i===o?i:"CROSS"}))},78670:function(e,t,n){"use strict";n.d(t,{kC:function(){return m},ZP:function(){return p}});var r=n(24460),a=n(57042),i=n(45023),o=n(43881),s=n(12111),c=n(31789),l=n(99415),u="KEY_TRAIN_ABROAD_LIST_BANNER",d="KEY_TRAIN_ABROAD_BOOK_HISTORY",m="KEY_TRAIN_ABROAD_DEV_PASSENGER_SWITCH",f="KEY_TRAIN_ABROAD_CHECK_IN_SHOW",p=(0,r.Z)((function e(){(0,a.Z)(this,e)}));(0,i.Z)(p,"isShowListBanner",(function(){try{var e=o.tO.getSync(u);return!!(0,c.x)(e)||(0,s.Z)().isAfter((0,s.Z)(e),"d")}catch(e){return!0}})),(0,i.Z)(p,"setShowListBanner",(function(){var e=(0,s.Z)().format("YYYY-MM-DD");o.tO.setSync(u,e)})),(0,i.Z)(p,"getUserBookHistoryInfo",(function(){var e={countryCode:"86",phone:"",email:""};try{var t=o.tO.getSync(d);return(0,c.x)(t)?e:t}catch(t){return e}})),(0,i.Z)(p,"saveUserBookHistoryInfo",(function(e){if(!(0,c.x)(e))try{for(var t=!0,n=Object.keys(e),r=0;r<n.length;r++){var a=e[n[r]];if((0,c.x)(a)){t=!1;break}}t&&(l.W.userTraceBook("saveUserBookHistoryInfo","\u4fdd\u5b58\u7528\u6237\u4e0b\u5355\u4fe1\u606f",{data:e}),o.tO.setSync(d,e))}catch(e){l.W.userTraceBook("saveUserBookHistoryInfoError","\u4fdd\u5b58\u7528\u6237\u4e0b\u5355\u4fe1\u606f\u62a5\u9519",{error:e})}})),(0,i.Z)(p,"saveDevSwitch",(function(e,t){try{o.tO.setSync(e,t)}catch(e){console.log("error",e)}})),(0,i.Z)(p,"getDevSwitch",(function(e){try{return o.tO.getSync(e)}catch(e){console.log("error",e)}return!1})),(0,i.Z)(p,"getOrderHasAlert",(function(e){try{var t=o.tO.getSync(f)||"{}",n=JSON.parse(t);return console.log("dvvvv----",n),!c.Z.isEmpty(n[e])}catch(e){console.log("error-getOrderHasAlert",e)}})),(0,i.Z)(p,"setOrderHasAlert",(function(e,t){try{var n=o.tO.getSync(f)||"{}",r=JSON.parse(n);r[e]=t;var a=(0,s.Z)().add(-5,"d");return Object.keys(r).forEach((function(e){return a.isAfter((0,s.Z)(r[e]))&&delete r[e]})),o.tO.setSync(f,JSON.stringify(r))}catch(e){console.log("error-getOrderHasAlert",e)}})),(0,i.Z)(p,"getEventResponse",(function(e){try{return o.tO.getSync("abroad-".concat(e))}catch(e){console.log("error-getEventResponse",e)}})),(0,i.Z)(p,"setEventResponse",(function(e,t){try{return o.tO.setSync("abroad-".concat(e),JSON.stringify(t))}catch(e){console.log("error-getEventResponse",e)}})),(0,i.Z)(p,"removeEventStorage",(function(e){o.tO.removeSync("abroad-".concat(e))}))},77537:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(24460),a=n(57042),i=n(45023),o=n(43881),s=(0,r.Z)((function e(){(0,a.Z)(this,e)}));(0,i.Z)(s,"openCustomService",(function(e,t){var n="https://m.ctrip.com/webapp/servicechatv2?bizType=1328&pageCode=".concat(t,"&channel=TRN&orderInfo=").concat(encodeURIComponent('{"ctype":"ORD","cid":"'.concat(e,'","bu":"TRN"}')),"&isPreSale=0&platform=wechat");o.Nd.navigateTo({url:n})})),(0,i.Z)(s,"getApplicationVersion",(function(){return""})),(0,i.Z)(s,"sendPV",(function(e,t){o.uM.logSendPV(e,t)})),(0,i.Z)(s,"setStatusBarStyle",(function(e){})),(0,i.Z)(s,"callNativeWithCallback",(function(e,t,n,r){}))},9387:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(57042),a=n(24460),i=n(92954),o={},s=new i.Events,c=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"getCache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=o[e];return t&&(n[e]=void 0),n}},{key:"setCache",value:function(e,t){o[e]=t}},{key:"generateUUID",value:function(e){var t=(new Date).getTime(),n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}));return e?n.slice(0,e):n}},{key:"getEvents",value:function(){return s}}]),e}()},38913:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,a=n(24460),i=n(57042),o=n(45023),s=n(31789),c=n(43881),l=(0,a.Z)((function e(){(0,i.Z)(this,e)}));r=l,(0,o.Z)(l,"getHttpErrorMessage",(function(e,t,n){return r.isUseServerMsg(e,t)?t:n})),(0,o.Z)(l,"isUseServerMsg",(function(e,t){return 100!==e&&200!==e&&!(0,s.x)(t)})),(0,o.Z)(l,"isWeApp",(function(){return c.OB.getPlatform()===c.OB.PLATFORM_TYPE.Mini}))},6980:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(79301),a=n(95308),i=n(57042),o=n(24460),s=n(45023),c=n(31789),l=n(12111),u=n(12499),d={M:"\u7537",F:"\u5973"},m={"\u7537":"M","\u5973":"F"};function f(){var e=this.chineseName,t=this.lastName,n=this.firstName;return c.Z.isEmpty(t)||c.Z.isEmpty(n)?e:"".concat(g.formatName(t),"/").concat(g.formatName(n))}function p(){var e=this.lastName,t=this.firstName,n=this.birthday,r=this.gender,a=this.nationality,i=this.passportID;return c.Z.isEmpty(e)||c.Z.isEmpty(t)?"\u8bf7\u8865\u5145\u82f1\u6587\u59d3\u540d":c.Z.isEmpty(n)||c.Z.isEmpty(r)||c.Z.isEmpty(a)||c.Z.isEmpty(i)?"\u4e58\u8f66\u4eba\u4fe1\u606f\u4e0d\u5168\uff0c\u8bf7\u70b9\u51fb\u7f16\u8f91":""}function h(){return c.Z.isEmpty(p.apply(this))}var g=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"matchPassengerNums",value:function(e,t){t.forEach((function(t){t.passengerType=(e.find((function(e){return e.passengerTypeCode===t.type}))||{}).passengerType}))}},{key:"formatPassengers",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var i,o,s,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=[],o=0;case 2:if(!(o<t.length)){e.next=11;break}return s=t[o],e.next=6,this.formatPassenger(s,n,a);case 6:c=e.sent,i.push(c);case 8:o++,e.next=2;break;case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"mergeSelectedPassengers",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;t.forEach((function(t){var r=e.find((function(e){return e.passengerID===t.passengerID}));r&&r.passengerTypeCode!==n&&(r.selected=!0)}))}},{key:"formatPassenger",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var i,o,s,m,g,v,x,y,_,T,Z,N,C,w,k,I;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.passengerID,o=t.eNFirstName,s=t.eNLastName,m=t.cNName,g=t.birthday,v=t.gender,x=t.nationality,y=t.commonPassengerCardList,_=void 0===y?[]:y,Z={},c.Z.isEmpty(g)||(N=(0,l.Z)(g),N.isValid()&&(T=a.diff(N,"year"),Z=n.find((function(e){return T>=e.ageLow&&T<=e.ageHigh}))||{})),C=_.find((function(e){return"2"===e.cardType})),w=C||{},k=w.cardNo,I=d[v],e.t0=i,e.t1=T,e.t2=Z.passengerTypeCode,e.t3=Z.passengerType,e.t4=m,e.t5=s,e.t6=o,e.t7=g,e.t8=I,e.t9=x,e.next=18,u.Z.getCountryShowNameWithCountry(x);case 18:return e.t10=e.sent,e.t11=k,e.t12=t,e.t13=f,e.t14=p,e.t15=h,e.abrupt("return",{passengerID:e.t0,age:e.t1,passengerTypeCode:e.t2,passengerType:e.t3,chineseName:e.t4,lastName:e.t5,firstName:e.t6,birthday:e.t7,gender:e.t8,nationality:e.t9,nationalityName:e.t10,passportID:e.t11,originPassenger:e.t12,showName:e.t13,showError:e.t14,isCompleted:e.t15});case 25:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"reverseOriginUserInfo",value:function(e){var t=e.lastName,n=e.firstName,r=e.birthday,a=e.gender,i=e.nationality,o=e.passportID,s=e.originPassenger;if(!c.Z.isEmpty(s)){s.eNFirstName=n,s.eNLastName=t,s.birthday=r,s.gender=m[a],s.nationality=i;var l=s.commonPassengerCardList,u=void 0===l?[]:l,d=u.find((function(e){return"2"===e.cardType}));return c.Z.isEmpty(d)?(u.push({cardType:"2",cardNo:o}),s.commonPassengerCardList=u):d.cardNo=o,s}var f={cardType:"2",cardNo:o};return{eNFirstName:n,eNLastName:t,birthday:r,gender:m[a],nationality:i,commonPassengerCardList:[f]}}},{key:"reverseSaveUserInfo",value:function(e){var t=e.lastName,n=e.firstName,r=e.birthday,a=e.gender,i=e.nationality,o=e.passportID,s=e.passengerID;return{id:s,enFirstName:n,enLastName:t,birthday:r,gender:m[a],nationality:i,cards:[{cardType:"2",cardNo:o}]}}},{key:"formatSelectMessageFromPassengers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.forEach((function(e){var t=e.passengerTypeCode,r=n.find((function(e){return e.type===t}));c.Z.isEmpty(r)?(r={type:t,num:1},n.push(r)):r.num++})),this.formatSelectMessage(e,n)}},{key:"formatSelectMessage",value:function(e,t){return c.Z.reduce(e,(function(e,n){var r=t.find((function(e){return e.type===n.passengerTypeCode}));return e+(c.Z.isEmpty(r)?"":"".concat(r.num).concat(n.passengerType," "))}),"")}},{key:"formatScannerPassenger",value:function(e,t,n){var r=e.familyName,a=void 0===r?"":r,i=e.givenName,o=void 0===i?"":i,s=e.gender,u=e.passportID,d=e.birthday,m={};if(!c.Z.isEmpty(d)){var h=(0,l.Z)(d,"YYYYMMDD");if(h.isValid()){d=h.format("YYYY-MM-DD");var g=n.diff(h,"year");m=t.find((function(e){return g>=e.ageLow&&g<=e.ageHigh}))||{}}}return{passengerTypeCode:m.passengerTypeCode,passengerType:m.passengerType,lastName:a.toUpperCase(),firstName:o.toUpperCase(),birthday:d,nationality:"CN",nationalityName:"\u4e2d\u56fd",gender:"0"===s?"\u5973":"1"===s?"\u7537":void 0,passportID:u,showName:f,showError:p}}},{key:"shuntPassengersToNums",value:function(e){var t=[];return e.forEach((function(e){var n=e.passengerTypeCode,r=e.passengerType,a=t.find((function(e){return e.type===n}));c.Z.isEmpty(a)?(a={type:n,passengerType:r,num:1},t.push(a)):a.num++})),t}},{key:"checkPassengersSatisfied",value:function(t,n){var r=e.shuntPassengersToNums(n),a=!0;if(r.length!==t.length)return!1;for(var i=function(){var e=t[o],n=e.type,i=e.num,s=r.find((function(e){return e.type===n}))||{};if(i!==s.num)return a=!1,1},o=0;o<t.length;o++)if(i())break;return a}},{key:"shuntPassengersToAgeInfoList",value:function(e){return e.map((function(e){return{age:e.age,count:1}}))}},{key:"formatPassengerNote",value:function(e,t){return c.Z.reduce(e,(function(e,n){var r=n.passengerTypeCode,a=n.passengerType,i=n.ageLow,o=n.ageHigh,s=t.find((function(e){return e.type===r}));return c.Z.isEmpty(s)?e:"".concat(e," ").concat(s.num).concat(a,"\uff08").concat(i,"\u5c81-").concat(o,"\u5c81\uff09")}),"")}},{key:"formatReminderTable",value:function(e){return{title:[{text:"\u4eba\u7fa4",flex:1},{text:"\u5e74\u9f84",flex:3}],content:e.map((function(e){var t,n=e.ageLow,r=e.ageHigh;return t=0===n?"".concat(r,"\u5468\u5c81\u53ca\u4ee5\u4e0b"):r>200?"".concat(n,"\u5468\u5c81(\u542b)\u53ca\u4ee5\u4e0a"):"".concat(n,"\u5468\u5c81(\u542b)-").concat(r,"\u5468\u5c81(\u542b)"),{line:[{text:e.passengerType,flex:1},{text:t,flex:3}]}}))}}}]),e}();(0,s.Z)(g,"formatPassenger2List",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.forEach((function(t){var r=t.type,a=t.num,i=e.find((function(e){return r===e.passengerTypeCode}));if(i){var o=i.passengerType;n.push("".concat(a).concat(o))}})),n})),(0,s.Z)(g,"formatGender",(function(e){return d[e]})),(0,s.Z)(g,"formatName",(function(e){if(c.Z.isEmpty(e))return"";var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}))},43881:function(e,t,n){"use strict";n.d(t,{mu:function(){return rt},Zy:function(){return Sn},kd:function(){return ce},o:function(){return ae},gb:function(){return Nn},lI:function(){return ut},A_:function(){return Ye},AF:function(){return nt},vQ:function(){return X},eJ:function(){return Rn},En:function(){return $},AK:function(){return P},Y8:function(){return sn},xF:function(){return a},OB:function(){return i},WY:function(){return on},Nd:function(){return s},tO:function(){return Ot},ua:function(){return r},uM:function(){return o}});var r={};n.r(r),n.d(r,{isAlipay:function(){return Te},isAndroid:function(){return pe},isApp:function(){return ge},isBaidu:function(){return ye},isH5:function(){return ve},isIOS:function(){return fe},isIPhoneX:function(){return he},isInAlipay:function(){return Pe},isInApp:function(){return Ee},isInBaidu:function(){return Ie},isInKuaiShou:function(){return ke},isInMini:function(){return Ae},isInQQ:function(){return De},isInQuick:function(){return we},isInServer:function(){return Ce},isInTouTiao:function(){return Se},isInWechat:function(){return be},isLowIOS:function(){return je},isMini:function(){return xe},isQQ:function(){return Ne},isTouTiao:function(){return _e},isWechat:function(){return Ze}});var a={};n.r(a),n.d(a,{getBoundingClientRect:function(){return Ue}});var i={};n.r(i),n.d(i,{APP_TYPE:function(){return ft},DEV_ENV_TYPE:function(){return mt},PLATFORM_TYPE:function(){return dt},getAppType:function(){return xt},getDevEnv:function(){return gt},getPlatform:function(){return vt}});var o={};n.r(o),n.d(o,{logDevTrace:function(){return A},logExposure:function(){return j},logMetric:function(){return D},logSendPV:function(){return R},logTrace:function(){return b}});var s={};n.r(s),n.d(s,{navigateBack:function(){return vn},navigateTo:function(){return hn},redirectTo:function(){return gn}});var c=n(90201),l=n(2269),u=n(93212),d=n(298),m=n(57042),f=n(24460),p=n(21867),h=n(86066),g=n(71515),v=n(81876),x=n(45023),y=n(92954),_=n.n(y),T=function(e){return 2*e+"rpx"},Z=T,N=function(e,t){var n=function(e){return"number"===typeof e?t?Z(e):e+"px":e},r={width:n,height:n,fontSize:n,lineHeight:function(e){return"number"===typeof e&&e>11?e+"px":e},left:n,top:n,right:n,bottom:n,paddingLeft:n,paddingRight:n,paddingTop:n,paddingBottom:n,marginLeft:n,marginRight:n,marginTop:n,marginBottom:n,borderWidth:n,borderTopLeftRadius:n,borderBottomRightRadius:n,borderTopRightRadius:n,borderBottomLeftRadius:n,borderRadius:n,minHeight:n,minWidth:n,maxHeight:n,maxWidth:n,shadowRadius:n,shadowOffset:function(e){if("object"===(0,u.Z)(e))for(var t in e)e[t]="number"===typeof e[t]?e[t]+"px":e[t]},flexBasis:function(e){return"number"===typeof e||"string"===typeof e&&-1==e.indexOf("px")?e+"px":e},flexGrow:function(e){return"string"===typeof e?+e:e},flexShrink:function(e){return"string"===typeof e?+e:e}},a=function(){if("function"===typeof e[i]){var t=e[i];e[i]=function(){var e=t.apply(void 0,arguments);for(var n in e)r[n]&&(e[n]=r[n](e[n]));return e}}else if("object"!==(0,u.Z)(e[i]))r[i]&&(e[i]=r[i](e[i]));else for(var n in e[i])r[n]&&(e[i][n]=r[n](e[i][n]))};for(var i in e)a();var o="";for(var s in e)o+=s.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}))+": "+e[s]+";\n";return o},C=N,w=function(e){_().setClipboardData({data:e})},k=w,I=n(32180)["document"],S=(c.Component,n(22276)),P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")},E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat((0,S.Z)(t.filter(Boolean))))};function b(e,t){var n,r;null===(n=y.Current.page)||void 0===n||null===(r=n["ubtTrace"])||void 0===r||r.call(n,e,t)}function A(e,t){var n,r;null===(n=y.Current.page)||void 0===n||null===(r=n["ubtDevTrace"])||void 0===r||r.call(n,e,t)}function D(e,t,n){var r,a;null===(r=y.Current.page)||void 0===r||null===(a=r["ubtMetric"])||void 0===a||a.call(r,{name:e,value:t,tag:n||{}})}function j(e,t,n){var r,a;null===(r=y.Current.page)||void 0===r||null===(a=r["ubtExposure"])||void 0===a||a.call(r,e,t,n)}function R(e,t){var n,r;null===(n=y.Current.page)||void 0===n||null===(r=n["ubtSendPV"])||void 0===r||r.call(n,(0,d.Z)({page_id:e},t||{}))}var O=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,m.Z)(this,n),r=t.call(this,e),r.state={isActive:!1},r.handleClick=r.handleClick.bind((0,v.Z)(r)),r.handleTouchEnd=r.handleTouchEnd.bind((0,v.Z)(r)),r.handleTouchStart=r.handleTouchStart.bind((0,v.Z)(r)),r.handleOnLongPress=r.handleOnLongPress.bind((0,v.Z)(r)),r}return(0,f.Z)(n,[{key:"handleClick",value:function(e){var t=this,r=this.props.onClick,a=n._Tasks;a.forEach((function(n){n&&n(e,t)})),this.sendLog(),r&&r(e)}},{key:"handleTouchStart",value:function(e){var t=this.props,n=t.withFeedback,r=t.onTouchStart,a=this.state.isActive;n&&!a&&this.setState({isActive:!0}),r&&r(e)}},{key:"handleTouchEnd",value:function(e){var t=this.props,n=t.withFeedback,r=t.onTouchEnd;n&&this.setState({isActive:!1}),r&&r(e)}},{key:"handleOnLongPress",value:function(e){var t=this.props,n=t.withFeedback,r=t.onLongPress;n&&this.setState({isActive:!1}),r&&r(e)}},{key:"sendLog",value:function(){var e=this.props.log;if(e){var t=Array.isArray(e)?e:[e];t.length<=0||t.forEach((function(e){e.key&&b(e.key,e.params||{})}))}}},{key:"isNeedRegisterClick",value:function(){var e=this.props,t=e.onClick,r=e.log,a=n._Tasks.length>0,i=Array.isArray(r)?r.length>0:!!r;return a||i||!!t}},{key:"isNeedRegisterTouchStart",value:function(){var e=this.props,t=e.onTouchStart,n=e.withFeedback;return!!t||!!n}},{key:"isNeedRegisterTouchEnd",value:function(){var e=this.props,t=e.onTouchEnd,n=e.withFeedback;return!!t||!!n}},{key:"isNeedRegisterLongPress",value:function(){var e=this.props,t=e.onLongPress,n=e.withFeedback;return!!t||!!n}}]),n}(c.Component);(0,x.Z)(O,"_Tasks",[]);var M,L=n(68277),V=n(56884),B=n.n(V),F=["id","className","testID"],Y=["id","className"],H=function(e){var t=e||{},n=t.ubtKey,r=t.data;return n?{"data-expose":{ubtKeyName:n,data:r},id:"".concat(Date.now(),"_").concat(Math.random().toString().slice(2,6)),className:"autoExpose"}:{}},U=function(e){return c.forwardRef((function(t,n){var r=t||{},a=r.id,i=r.className,o=r.testID,s=(0,L.Z)(r,F),u=(0,c.useMemo)((function(){return H(o)}),[o]),m=u.id,f=u.className,p=(0,L.Z)(u,Y);return(0,l.jsx)(e,(0,d.Z)((0,d.Z)((0,d.Z)({},p),s),{},{id:P(a,m),className:P(i,f),ref:n}))}))},W=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.style,a=void 0===r?{}:r,i=e.activeOpacity,o=void 0===i?.2:i,s=e.activeStyle,c=void 0===s?{}:s,u=e.withFeedback,m=void 0!==u&&u,f=e.children,p=this.state.isActive,h=m?E({opacity:o},c):{},v=p?E(a,h):a,x=this.isNeedRegisterClick(),y=this.isNeedRegisterTouchStart(),_=this.isNeedRegisterTouchEnd(),T=this.isNeedRegisterLongPress();return(0,l.jsx)(g.View,(0,d.Z)((0,d.Z)({},this.props),{},{className:P("xt-xview",n),style:v,hoverStyle:m?h:void 0,onClick:x?this.handleClick:void 0,onTouchStart:y?this.handleTouchStart:void 0,onTouchEnd:_?this.handleTouchEnd:void 0,onLongPress:T?this.handleOnLongPress:void 0,children:f}))}}]),n}(O);M=W,(0,x.Z)(W,"register",(function(e){var t;Array.isArray(e)?(t=M._Tasks).push.apply(t,(0,S.Z)(e)):M._Tasks.push(e)}));var G=U(W);G.register=W.register;var $=G,K=n(32180)["document"],J=["layout","onTouchMove","renderBottom","scrollTop","scrollLeft","renderTop"],z=function(e){return"horizontal"===e},Q="nearest",q=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,m.Z)(this,n),r=t.call(this,e),(0,x.Z)((0,v.Z)(r),"$ref",void 0),(0,x.Z)((0,v.Z)(r),"reWriteScrollTo",(function(){var e=r.props.layout;r.$ref.current.oldScrollTo=r.$ref.current.scrollTo,r.$ref.current.scrollTo=function(t){var n=t.offset;r.$ref.current.oldScrollTo?r.$ref.current.oldScrollTo({top:z(e)?0:n,left:z(e)?n:0,behavior:"smooth"}):z(e)?r.setState({scrollLeft:n}):r.setState({scrollTop:n})}})),(0,x.Z)((0,v.Z)(r),"scrollToIndex",(function(e){var t=e.indexId,n=e.align,a=void 0===n?"auto":n,i=r.props.layout,o=K.getElementById("".concat(t)),s={start:"start",center:"center",end:"end",auto:"nearest"},c=s[a];if(o&&o.scrollIntoView){var l=Q,u=Q;z(i)?u=c:l=c,o.scrollIntoView({behavior:"smooth",block:l,inline:u})}else r.setState({scrollIntoView:"".concat(t),scrollIntoViewAlignment:c||Q})})),r.state={isScrolled:!1,scrollTop:0,scrollLeft:0,scrollIntoView:null,scrollIntoViewAlignment:null},r.$ref=r.props.forwardedRef||c.createRef(),r}return(0,f.Z)(n,[{key:"componentDidMount",value:function(){this.reWriteScrollTo(),this.$ref.current.scrollToIndex=this.scrollToIndex}},{key:"renderChildren",value:function(){var e,t=this.props,n=t.itemData,r=t.item,a=t.initialNumToRender,i=void 0===a?10:a;return e=this.state.isScrolled?n:n.slice(0,i),(0,l.jsx)(l.Fragment,{children:e.map((function(e,t){var n,a=null!==(n=r({item:e,index:t}))&&void 0!==n?n:(0,l.jsx)(l.Fragment,{});return a}))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.layout,r=t.onTouchMove,a=t.renderBottom,i=t.scrollTop,o=t.scrollLeft,s=t.renderTop,c=(0,L.Z)(t,J);return(0,l.jsxs)(l.Fragment,{children:[s,(0,l.jsxs)(g.ScrollView,(0,d.Z)((0,d.Z)({},c),{},{scrollX:z(n),scrollY:!z(n),scrollTop:i||this.state.scrollTop,scrollLeft:o||this.state.scrollLeft,ref:this.$ref,enhanced:!0,scrollIntoView:this.state.scrollIntoView,scrollIntoViewAlignment:this.state.scrollIntoViewAlignment,onScroll:function(){var t;e.setState({scrollIntoView:null,scrollIntoViewAlignment:null}),e.props.onScroll&&(t=e.props).onScroll.apply(t,arguments)},onTouchMove:function(){e.state.isScrolled||e.setState({isScrolled:!0}),r&&r.apply(void 0,arguments)},children:[this.renderChildren(),a]}))]})}}]),n}(c.Component);(0,x.Z)(q,"defaultProps",{layout:"vertical"});var X=c.forwardRef((function(e,t){return(0,l.jsx)(q,(0,d.Z)({forwardedRef:t},e))})),ee=["start","end","colors","locations","useAngle","angleCenter","angle","style","children"],te=[["top left","top","top right"],["left",null,"right"],["bottom left","bottom","bottom right"]];function ne(e,t){var n,r=null===(n=te[t.y-e.y+1])||void 0===n?void 0:n[t.x-e.x+1];return r?"to ".concat(r):null}var re=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,x.Z)((0,v.Z)(e),"state",{width:1,height:1}),(0,x.Z)((0,v.Z)(e),"getAngle",(function(){var t=e.props,n=t.start,r=t.end;if(e.props.useAngle)return e.props.angle+"deg";var a=ne(n,r);if(a)return a;var i=Math.atan2(e.state.width*(e.props.end.y-e.props.start.y),e.state.height*(e.props.end.x-e.props.start.x))+Math.PI/2;return i+"rad"})),(0,x.Z)((0,v.Z)(e),"getColors",(function(){return e.props.colors.map((function(t,n){var r=e.props.locations[n],a="";return r&&(a=" "+100*r+"%"),t+a})).join(",")})),e}return(0,f.Z)(n,[{key:"render",value:function(){var e=this.props,t=(e.start,e.end,e.colors,e.locations,e.useAngle,e.angleCenter,e.angle,e.style),n=void 0===t?{}:t,r=e.children,a=(0,L.Z)(e,ee);return(0,l.jsx)(g.View,(0,d.Z)((0,d.Z)({},a),{},{style:(0,d.Z)((0,d.Z)({},n),{},{backgroundImage:"linear-gradient(".concat(this.getAngle(),",").concat(this.getColors(),")")}),children:r}))}}]),n}(c.PureComponent);(0,x.Z)(re,"defaultProps",{start:{x:.5,y:0},end:{x:.5,y:1},locations:[],colors:[],useAngle:!1,angle:0});var ae=re,ie=function(e){var t=e.className,n=e.style;return(0,l.jsx)(g.View,{className:P("xt-iphonex-adapter__top",t),style:n})},oe=function(e){var t=e.className,n=e.style;return(0,l.jsx)(g.View,{className:P("xt-iphonex-adapter__bottom",t),style:n})},se={Top:ie,Bottom:oe},ce=se,le=function(e){return(0,l.jsx)(g.Image,(0,d.Z)({},e))},ue=(U(le),n(90129)),de=c.forwardRef((function(e,t){var n=e.numberOfLines,r=e.style,a=e.className,i=(0,c.useMemo)((function(){var e=Number(n);return!e||e<=0?["",{}]:1===e?["xt-text_single_line",{}]:["xt-text_multy_line",{"-webkit-line-clamp":"".concat(e)}]}),[n]),o=(0,ue.Z)(i,2),s=o[0],u=o[1];return(0,l.jsx)(g.Text,(0,d.Z)((0,d.Z)({},e),{},{className:P(a,s),style:E(r,u),numberOfLines:n?"".concat(n):"",ref:t}))})),me=(U(de),_().getSystemInfoSync()),fe=function(e){return"ios"===me.platform},pe=function(e){return"android"===me.platform},he=function(e){var t=me.model,n=Te(),r=n?/iPhone(\d{0,3}),(\d{0,3})/i:/iPhone (X|\d{0,3})/,a=t.match(r)||[],i=n?Number(a[1])>10||10==Number(a[1])&&(3==Number(a[2])||6==Number(a[2])):"X"==a[1]||Number(a[1])>10;return i},ge=function(){return!1},ve=function(){return!1},xe=function(){return!0},ye=function(){var e="weapp".toUpperCase();return e==y.ENV_TYPE.SWAN},_e=function(){var e="weapp".toUpperCase();return e==y.ENV_TYPE.TT},Te=function(){var e="weapp".toUpperCase();return e==y.ENV_TYPE.ALIPAY},Ze=function(){var e="weapp".toUpperCase();return e==y.ENV_TYPE.WEAPP},Ne=function(){var e="weapp".toUpperCase();return e==y.ENV_TYPE.QQ},Ce=function(e){return!1},we=function(e){return!1},ke=function(e){return!1},Ie=function(e){return!1},Se=function(e){return!1},Pe=function(e){return!1},Ee=function(e){return!1},be=function(e){return!1},Ae=function(e){return!1},De=function(e){return!1},je=function(e){var t=me.system,n=t.indexOf("iOS")>-1;if(n){var r=parseInt(t.split(" ")[1].split(".")[0]);if(r<=13)return!0}return!1},Re=n(32180)["window"],Oe=function(e){Ce()||Re["CtripBar"]&&Re["CtripBar"]["app_set_navbar_hidden"]&&Re["CtripBar"]["app_set_navbar_hidden"](e)},Me=function(e){Ce()||Re["CtripBar"]&&Re["CtripBar"]["appSetStatusBarStyle"]&&Re["CtripBar"]["appSetStatusBarStyle"](e)},Le=function(){Ce()||Re["CtripBar"]&&Re["CtripBar"]["appSetTransparentForWindow"]&&Re["CtripBar"]["appSetTransparentForWindow"]()},Ve=function(){return new Promise((function(e,t){try{if(!Ee())return e(0);if(fe()){var n=20;return he()&&(n+=24),void e(n)}Re["CtripBar"]&&Re["CtripBar"]["appGetStatusBarHeight"]&&Re["CtripBar"]["appGetStatusBarHeight"]((function(t){e(t/Re.devicePixelRatio)}))}catch(e){t(e)}}))},Be=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,m.Z)(this,n),r=t.call(this,e),r.updateStatusBarHeight(),r}return(0,f.Z)(n,[{key:"componentDidMount",value:function(){this.handleH5InApp()}},{key:"componentDidUpdate",value:function(e,t,n){this.handleH5InApp()}},{key:"handleH5InApp",value:function(){Ee()&&(this.updateStatusBarHeight(),this.updateFromProps())}},{key:"updateStatusBarHeight",value:function(){Ve().then((function(e){n.currentHeight=e}))}},{key:"updateFromProps",value:function(){var e=this.props,t=e.barStyle,r=e.translucent,a=e.hidden;t&&n.setBarStyle(t),"boolean"===typeof r&&n.setTranslucent(r),"boolean"===typeof a&&n.setHidden(a)}}]),n}(c.Component);(0,x.Z)(Be,"currentHeight",void 0),(0,x.Z)(Be,"setHidden",(function(e,t){Oe(e)})),(0,x.Z)(Be,"setBarStyle",(function(e,t){Me(e)})),(0,x.Z)(Be,"setNetworkActivityIndicatorVisible",(function(e){})),(0,x.Z)(Be,"setBackgroundColor",(function(e,t){})),(0,x.Z)(Be,"setTranslucent",(function(e){e&&Le()}));var Fe=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"render",value:function(){return(0,l.jsx)(l.Fragment,{})}}]),n}(Be),Ye=Fe,He=function(e,t,n){var r=e,a=!Te()&&!ye();if(a){var i=t||"__xtaro__root__";r=".".concat(i," >>> ").concat(e)}_().createSelectorQuery().select(r).boundingClientRect().exec((function(t){var r=t;if(t&&t.length&&(r=t[0]),r||!a)return n(r);_().createSelectorQuery().select(e).boundingClientRect().exec((function(e){var t=e;return e&&e.length&&(t=e[0]),n(t)}))}))},Ue=function(e){return new Promise((function(t,n){var r,a=e.node,i=e.prefixCls;if(!a)return n({errMsg:"getBoundingClientRect:fail node is not exist"});var o,s,c="",l=(null===a||void 0===a?void 0:a.uid)||(null===a||void 0===a||null===(r=a.props)||void 0===r?void 0:r.id)||(null===a||void 0===a?void 0:a.id),u="";l||(u=(a.className||(null===(o=a.props)||void 0===o?void 0:o.className)||(null===(s=a.props)||void 0===s?void 0:s.class)||"").split(" ").filter(Boolean).map((function(e,t){return 0==t?"".concat(e):0==e.indexOf(".")?" ".concat(e):".".concat(e)})).join(""));if(c=l?"#".concat(l):u?".".concat(u):"",!c)return n({errMsg:"getBoundingClientRect:fail node requires a class name or unique id"});try{He(c,i,(function(e){t(e)}))}catch(e){return n({errMsg:"getBoundingClientRect:fail ".concat(e)})}}))},We=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,m.Z)(this,n),r=t.call(this,e),(0,x.Z)((0,v.Z)(r),"loopTimer",void 0),(0,x.Z)((0,v.Z)(r),"isInAnimating",!1),(0,x.Z)((0,v.Z)(r),"el",void 0),r.state={animationData:null},r.onTransitionEnd=r.onTransitionEnd.bind((0,v.Z)(r)),r}return(0,f.Z)(n,[{key:"componentDidMount",value:function(){this.startAnimation()}},{key:"componentDidUpdate",value:function(e,t){e.animation!==this.props.animation&&this.startAnimation()}},{key:"componentWillUnmount",value:function(){this.isInAnimating=!1,this.clearLoopTimer()}},{key:"clearLoopTimer",value:function(){this.loopTimer&&clearTimeout(this.loopTimer)}},{key:"startAnimation",value:function(){var e,t,n=this.props,r=n.animation,a=n.loop;a&&this.isInAnimating||(null===r||void 0===r||null===(e=r.actions)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.animates)||void 0===e?void 0:e.length)>0&&(this.isInAnimating=!0,0===(null===r||void 0===r||null===(t=r.option)||void 0===t||null===(t=t.transition)||void 0===t?void 0:t.duration)&&(this.isInAnimating=!1),this.setState({animationData:this.props.animation}))}},{key:"clearAnimation",value:function(e){this.setState({animationData:{actions:[{animates:[{type:"style",args:[]}]}],option:{transformOrigin:"50% 50% 0",transition:{delay:0,duration:0,timingFunction:"linear"}}}},e)}},{key:"onTransitionEnd",value:function(e){var t=this,n=this.props,r=n.loop,a=n.onTransitionEnd;if(r){var i=this.props.animation;i&&this.isInAnimating&&this.clearAnimation((function(){t.clearLoopTimer(),t.loopTimer=setTimeout((function(){t.setState({animationData:i})}),15)}))}else this.isInAnimating=!1,a&&a(e)}}]),n}(c.Component),Ge=We,$e=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"render",value:function(){var e=this;return(0,l.jsx)(g.View,(0,d.Z)((0,d.Z)({},this.props),{},{ref:function(t){return e.el=t}}))}}]),n}(Ge),Ke=$e,Je=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"render",value:function(){var e=this;return(0,l.jsx)(g.Text,(0,d.Z)((0,d.Z)({},this.props),{},{ref:function(t){return e.el=t}}))}}]),n}(Ge),ze=Je,Qe=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"render",value:function(){var e=this;return(0,l.jsx)(g.Image,(0,d.Z)((0,d.Z)({},this.props),{},{ref:function(t){return e.el=t}}))}}]),n}(Ge),qe=Qe,Xe=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"render",value:function(){var e=this;return(0,l.jsx)(g.ScrollView,(0,d.Z)((0,d.Z)({},this.props),{},{ref:function(t){return e.el=t}}))}}]),n}(Ge),et=Xe,tt={View:Ke,Text:ze,Image:qe,ScrollView:et},nt=tt,rt=function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"render",value:function(){return null}}]),n}(c.Component),at=g.View,it=g.CustomWrapper,ot=function(e){return e["bottom"]="bottom",e["top"]="top",e["left"]="left",e["right"]="right",e}({}),st=function(e){var t=e.visible,n=void 0!==t&&t,r=e.closeOnMaskClick,a=void 0===r||r,i=e.onClose,o=e.onMaskClick,s=e.position,l=void 0===s?ot.bottom:s,u=e.closeTransitionEnd,d=e.duration,m=void 0===d?300:d,f=(0,c.useState)(n),p=(0,ue.Z)(f,2),h=p[0],g=p[1],v=(0,c.useRef)(0),x=(0,c.useRef)(0),y=(0,c.useRef)(_().getSystemInfoSync().windowWidth),T=(0,c.useRef)(_().getSystemInfoSync().windowHeight),Z=(0,c.useRef)(null),N=(0,c.useRef)(null);(0,c.useEffect)((function(){switch(l){case ot.left:v.current=-y.current,x.current=0;break;case ot.right:v.current=y.current,x.current=0;break;case ot.top:v.current=0,x.current=-T.current;break;default:v.current=0,x.current=T.current;break}}),[l]),(0,c.useEffect)((function(){n&&!h&&g(!0),(n&&!h||!n&&h)&&j(n)}),[n,h]),(0,c.useEffect)((function(){return function(){clearTimeout(Z.current),clearTimeout(N.current)}}),[]);var C=(0,c.useCallback)((function(){null===o||void 0===o||o(),a&&(null===i||void 0===i||i())}),[o,i]),w=(0,c.useCallback)((function(){n||(g(!1),null===u||void 0===u||u())}),[n,h]),k=(0,c.useState)(null),I=(0,ue.Z)(k,2),S=I[0],P=I[1],E=(0,c.useState)(null),b=(0,ue.Z)(E,2),A=b[0],D=b[1],j=(0,c.useCallback)((function(e){var t=_().createAnimation({duration:m,delay:0,timingFunction:"ease"}),r=_().createAnimation({duration:m,delay:0,timingFunction:"ease"}),a=function(){t.translateX(0).translateY(0).opacity(1).step(),r.opacity(1).step(),P(t.export()),D(r.export())};e?(clearTimeout(N.current),xe()?(clearTimeout(Z.current),Z.current=setTimeout(a,20)):a()):(t.translateX(v.current).translateY(x.current).opacity(0).step(),r.opacity(0).step(),P(t.export()),D(r.export()),N.current=setTimeout((function(){n||(g(!1),null===u||void 0===u||u())}),400))}),[]);return{animationData:S,animationMask:A,handleMaskClick:C,handleTransitionEnd:w,isShow:h}},ct=st,lt=function(e){var t=e.visible,n=e.children,r=e.position,a=void 0===r?ot.bottom:r,i=e.zIndex,o=void 0===i?0:i,s=e.showCloseButton,u=void 0!==s&&s,m=e.closeButtonPosition,f=void 0===m?"right":m,p=e.className,h=void 0===p?"":p,v=e.style,x=void 0===v?{}:v,y=e.titleStyle,_=void 0===y?{}:y,T=e.contentClassName,Z=void 0===T?"":T,N=e.contentStyle,C=void 0===N?{}:N,w=e.mask,k=void 0===w||w,I=e.maskClassName,S=void 0===I?"":I,P=e.maskStyle,E=void 0===P?{}:P,b=e.title,A=void 0===b?"":b,D=e.crnModalProps,j=void 0===D?{}:D,R=e.hideIphoneXAdapter,O=void 0!==R&&R,M=e.isCrnModal,L=void 0===M||M,V=e.onClose,B=L?at:g.View,F=ct(e),Y=F.isShow,H=F.animationData,U=F.animationMask,W=F.handleMaskClick,G=F.handleTransitionEnd,$=(0,c.useState)(!1),K=(0,ue.Z)($,2),J=K[0],z=K[1];return(0,c.useEffect)((function(){t&&!J&&z(!0)}),[t,J]),(0,l.jsx)(it,{children:(0,l.jsx)(B,(0,d.Z)((0,d.Z)({catchMove:!0,className:"xt-poplayer xt-poplayer-fixed",style:{zIndex:o,display:Y?void 0:"none"},visible:Y,transparent:!0},j),{},{children:(0,l.jsxs)(g.View,{className:"xt-poplayer__container",children:[k?(0,l.jsx)(Ke,{disableScroll:"disableScroll",className:"xt-poplayer__container__mask ".concat(S),style:E,animation:U,onClick:W}):null,(0,l.jsxs)(Ke,{style:(0,d.Z)({opacity:0},x),className:"xt-poplayer__container__content xt-poplayer__container__content__".concat(a," ").concat(h," ").concat(L?"xt-poplayer__container__content_crn_model":"xt-poplayer__container__content_view"),animation:H,onTransitionEnd:G,children:[A?(0,l.jsxs)(g.View,{className:"xt-poplayer__container__content__header",style:_,children:[(0,l.jsx)(g.Text,{className:"xt-poplayer__container__content__header__title",children:A}),u?(0,l.jsx)(g.View,{className:"xt-poplayer__container__content__header__close xt-poplayer__container__content__header__close__".concat(f),onClick:V,children:(0,l.jsx)(g.Image,{className:"xt-poplayer__container__content__header__close__icon",src:"https://dimg04.c-ctrip.com/images/1o52m12000aswrc8dB020.png"})}):null]}):null,(0,l.jsx)(g.View,{style:(0,d.Z)({flex:1},C),className:Z,children:J?n:null}),O?null:(0,l.jsx)(ce.Bottom,{})]})]})}))})},ut=lt,dt=function(e){return e["CRN"]="CRN",e["Mini"]="mini",e["H5"]="H5",e["Online"]="online",e}({}),mt=function(e){return e["FAT"]="FAT",e["UAT"]="UAT",e["PROD"]="PROD",e["DEV"]="DEV",e}({}),ft=function(e){return e["TRIP"]="TRIP",e["CTRIP"]="CTRIP",e}({}),pt=n(65238),ht=n.n(pt),gt=function(e){var t,n=ht().env||"";switch("undefined"!==typeof process&&"development"===(null===(t=process)||void 0===t||null===(t=t.env)||void 0===t?void 0:"production")&&(n=mt.DEV),n=n.toLowerCase(),n){case"dev":return mt.DEV;case"fat":return mt.FAT;case"uat":return mt.UAT;case"prd":return mt.PROD;default:return mt.PROD}},vt=function(){return dt.Mini},xt=function(){return ft.CTRIP},yt=n(79301),_t=n(95308),Tt="__xtaro-storage-time__",Zt=function(e,t){var n=e.data,r=e.expires,a=e.key,i=e.domain;if(r){var o=Object.prototype.toString.call(r);if("[object Date]"===o||"[object Number]"===o){var s="[object Date]"===o?r.getTime():(new Date).getTime()+r;return _().setStorage({key:Tt+a,data:s,domain:i}),t?_().setStorageSync(a,n,i):_().setStorage(e)}console.error("type error: expires is not Date or number")}return t?_().setStorageSync(a,n,i):_().setStorage(e)},Nt=function(e){return Zt(e)},Ct=function(e,t,n,r){return Zt({data:t,key:e,expires:n,domain:r},!0)},wt=function(e,t){return new Promise((function(n,r){var a=_().getStorageSync(e,t);n(a)}))},kt=function(){var e=(0,_t.Z)((0,yt.Z)().mark((function e(t){var n,r,a,i,o,s;return(0,yt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.key,r=t.complete,a=t.fail,i=t.domain,e.next=3,wt(Tt+n,i);case 3:if(o=e.sent,!(o&&o<(new Date).getTime())){e.next=11;break}return s={errMsg:"getStorage:fail data not found"},a&&a(s),r&&r(s),_().removeStorage({key:n}),_().removeStorage({key:Tt+n}),e.abrupt("return");case 11:return e.abrupt("return",_().getStorage(t));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=function(e,t){var n=_().getStorageSync(Tt+e,t);return n?n>(new Date).getTime()?_().getStorageSync(e,t):(_().removeStorage({key:e}),_().removeStorage({key:Tt+e}),""):_().getStorageSync(e,t)},St=_().removeStorage,Pt=_().removeStorageSync,Et=_().clearStorage,bt=_().clearStorageSync,At=_().getStorageInfo,Dt=_().getStorageInfoSync,jt={set:Nt,setSync:Ct,get:kt,getSync:It,remove:St,removeSync:Pt,clear:Et,clearSync:bt,getInfoSync:Dt,getInfo:At},Rt=jt,Ot=Rt,Mt=function(){var e,t=(0,y.getCurrentPages)();return null===(e=t[t.length-1])||void 0===e?void 0:e.route},Lt=(0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)({},mt.DEV,"https://m.ctrip.com"),mt.PROD,"https://m.ctrip.com"),mt.FAT,"https://gateway.m.fws.qa.nt.ctripcorp.com"),mt.UAT,"https://gateway.m.uat.qa.nt.ctripcorp.com"),Vt=function(e){},Bt=Vt,Ft=n(32180)["document"],Yt=n(32180)["window"];function Ht(e,t){var n=Ft.createElement("script");return n.async=!0,n.src=e,t&&(n.onerror=t),Ft.getElementsByTagName("head")[0].appendChild(n),n}function Ut(e){var t="";for(var n in e){var r=void 0!==e[n]?e[n]:"";t+="&".concat(n,"=").concat(encodeURIComponent(r))}return t}function Wt(e,t,n){e.parentNode&&(e.parentNode.removeChild(e),delete Yt[t],n&&clearTimeout(n))}function Gt(){var e=0;return function(t,n){if("undefined"===typeof Yt){var r=n.fail;return r(null)}var a,i,o=n.prefix,s=void 0===o?"__jp":o,c=n.cbName,l=void 0===c?"callback":c,u=n.timeout,d=void 0===u?15e3:u,m=n.data,f=void 0===m?{}:m,p=n.success,h=n.fail,g=s+e++;Yt[g]=function(e){return Yt[g]&&Wt(a,g,i),p(e)},t="".concat(t).concat(t.indexOf("?")>0?"":"?").concat(Ut(f).substr(1),"&").concat(l,"=").concat(g),a=Ht(t,(function(e){return h(e),Wt(a,g,i)})),d&&(i=setTimeout((function(){return Wt(a,g,i),h("timeout")}),d))}}var $t=Gt(),Kt=$t,Jt=n(32180)["window"],zt=["url","head","data","method","retryTimes","req","timeout","cachePolicy","isSOAAgent","useAutoParseSoaParams","needLock","jsonp","cbName","debounceTime","beforeHandleData","afterHandleData"],Qt={},qt={},Xt="",en=function(e){return e.replace("https://","http://")},tn=function(e){var t=Lt[gt(e)]||Lt[mt.PROD];return Ce()?en(t):t},nn=function(){var e=(0,_t.Z)((0,yt.Z)().mark((function e(t,n,r){var a,i;return(0,yt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a={data:r.data||r,isSuccess:t},!n){e.next=10;break}if(i=n(a),!(i instanceof Promise)){e.next=9;break}return e.next=6,i;case 6:a=e.sent,e.next=10;break;case 9:a=i;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function rn(e,t,n){var r=t.afterHandleData,a=e.cbName,i=e.url,o=e.jsonp,s=e.data,c=e.timeout;return new Promise((function(l){var u={success:function(){var e=(0,_t.Z)((0,yt.Z)().mark((function e(t){var n;return(0,yt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,nn(!0,r,t);case 2:n=e.sent,l(n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fail:function(){var e=(0,_t.Z)((0,yt.Z)().mark((function e(a){var i;return(0,yt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n&&n(t,a),e.next=3,nn(!1,r,a);case 3:i=e.sent,l(i);case 5:case"end":return e.stop()}}),e)})));function a(t){return e.apply(this,arguments)}return a}()};if(o)return Kt(i,(0,d.Z)({data:s,cbName:a,timeout:c},u));B().request((0,d.Z)((0,d.Z)({},e),u))}))}var an=function(){var e=(0,_t.Z)((0,yt.Z)().mark((function e(t,n,r,a){var i,o,s,c,l,u;return(0,yt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=tn(a),o=[],Array.isArray(t)||(t=[t]),s="";try{s=Mt()}catch(e){console.log("curPageContextId => getPageContextId  error:",e)}Xt!==s&&(Qt={},qt={},Xt=s),c=(0,yt.Z)().mark((function e(){var n,s,c,l,m,f,p,h,g,v,x,y,_,T,Z,N,C,w,k,I,S,P,E,b,A,D,j,R,O,M,V;return(0,yt.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t[u],s=n.url,c=n.head,l=n.data,m=n.method,f=void 0===m?"POST":m,p=n.retryTimes,h=void 0===p?0:p,g=n.req,v=n.timeout,x=void 0===v?15e3:v,y=n.cachePolicy,_=n.isSOAAgent,T=n.useAutoParseSoaParams,Z=void 0!==T&&T,N=n.needLock,C=n.jsonp,w=n.cbName,k=n.debounceTime,I=void 0===k?200:k,S=n.beforeHandleData,n.afterHandleData,P=(0,L.Z)(n,zt),E=g||a,b={},s=-1==s.indexOf("http")?"".concat(i).concat(s):s,c&&(l.head=Object.assign(l.head||{},c)),!S){e.next=15;break}if(A=S(l),!(A instanceof Promise)){e.next=14;break}return e.next=11,A;case 11:l=e.sent,e.next=15;break;case 14:l=A;case 15:if("undefined"===typeof Jt&&_&&(Z&&(D=Bt(s)||{},j=D.serviceCode,R=D.serviceOperation,b.serviceCode=j,b.serviceOperation=R),E.clientId||(b.ignoreCID=!0),b.body=l),O=(0,d.Z)((0,d.Z)({url:s,method:f,data:l,jsonp:C,cbName:w,retryTimes:h,timeout:x,cachePolicy:y,req:E,isSOAAgent:_},P),b),1!==N){e.next=24;break}return Qt[s]&&Qt[s](null),M=new Promise((function(e){Qt[s]=e,setTimeout((0,_t.Z)((0,yt.Z)().mark((function t(){var a;return(0,yt.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e===Qt[s]){t.next=3;break}return t.abrupt("return",e(null));case 3:return t.next=5,rn(O,n,r);case 5:a=t.sent,e(a),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("request error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),I)})),o.push(M),e.abrupt("return",0);case 24:if(2!==N){e.next=29;break}if(!qt[s]){e.next=28;break}return o.push(null),e.abrupt("return",0);case 28:qt[s]=!0;case 29:V=rn(O,n,r).finally((function(){delete qt[s]})),o.push(V);case 31:case"end":return e.stop()}}),e)})),u=0;case 8:if(!(u<t.length)){e.next=16;break}return e.delegateYield(c(),"t0",10);case 10:if(l=e.t0,0!==l){e.next=13;break}return e.abrupt("continue",13);case 13:u++,e.next=8;break;case 16:return Ce()||n&&(0,y.showLoading)({title:n.text||""}),e.abrupt("return",Promise.all(o).finally((function(){Ce()||n&&(0,y.hideLoading)()})));case 18:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),on=an,sn=B(),cn=function(e,t){var n=[];if("object"===(0,u.Z)(t)&&t instanceof Array===!1){for(var r in t){var a=t[r];"string"!==typeof a&&"number"!==typeof a&&"boolean"!==typeof a||n.push("".concat(r,"=").concat(a))}return n.length<=0?e:e+(-1===e.indexOf("?")?"?":"&")+n.join("&")}return e},ln=["complete","success","fail","url","data","beforeRouteChange"],un=["url","data","beforeRouteChange","fail","complete"],dn=["beforeRouteChange"],mn=sn.navigateTo,fn=sn.redirectTo,pn=sn.navigateBack,hn=function(e){var t=e.complete,n=e.success,r=e.fail,a=e.url,i=e.data,o=e.beforeRouteChange,s=(0,L.Z)(e,ln);if(!a||"string"!=typeof a)return console.error("\u5f53\u524dURL\u53c2\u6570\u975e\u6cd5"),r&&r(),void(t&&t());if(a=cn(a,i),a.indexOf("http://")>-1||a.indexOf("https://")>-1){var c="/cwx/component/cwebview/cwebview";o&&o(),mn((0,d.Z)((0,d.Z)({},s),{},{url:"".concat(c,"?data=").concat(JSON.stringify((0,d.Z)({url:encodeURIComponent(a),needLogin:e.needLogin||!1,pageTitle:{color:{frontColor:"#000000",backgroundColor:"#ffffff"}}},e.other||{}))),success:n,complete:t,fail:r}))}else o&&o(),mn((0,d.Z)((0,d.Z)({},s),{},{url:a,success:n,complete:t,fail:r}))},gn=function(e){var t=e.url,n=e.data,r=e.beforeRouteChange,a=e.fail,i=e.complete,o=(0,L.Z)(e,un);if(!t||"string"!=typeof t)return console.error("\u5f53\u524dURL\u53c2\u6570\u975e\u6cd5"),a&&a(),void(i&&i());t=cn(t,n),r&&r(),fn((0,d.Z)({url:t,fail:a,complete:i},o))},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.beforeRouteChange,n=(0,L.Z)(e,dn);t&&t(),pn(n)},xn=n(32180)["document"];function yn(e){if(!xn)return null;for(var t=xn.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("=");if(e==r[0].trim())return decodeURIComponent(r[1])}return null}var _n=n(32180)["navigator"],Tn=function(){function e(){(0,m.Z)(this,e),(0,x.Z)(this,"appId","h5"),(0,x.Z)(this,"env",gt())}return(0,f.Z)(e,[{key:"getApplicationInfo",value:function(){return{locale:yn("ibu_h5_local"),userAgent:_n.userAgent}}}]),e}(),Zn=(new Tn,function(e){(0,p.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,m.Z)(this,n),r=t.call(this,e),r.state={},r}return(0,f.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.size,n=void 0===t?24:t,r=e.text,a=void 0===r?"\u5373\u5c06\u5448\u73b0":r,i=e.fontStyle,o=void 0===i?{}:i,s=e.style,c=e.url,u=void 0===c?"https://dimg04.c-ctrip.com/images/0AS5v120008wcbunh538C.png":c;return(0,l.jsxs)(g.View,{className:"xt-loading",style:s,children:[(0,l.jsx)(g.Image,{src:u,style:{width:n,height:n,animation:"xtaroloadingrotate 0.7s linear infinite"},mode:"aspectFit"}),(0,l.jsx)(g.Text,{className:"xt-loading__text",style:o,children:a})]})}}]),n}(c.Component)),Nn=Zn,Cn=function(e){var t=e.resizeMode,n=void 0===t?"cover":t,r=e.source,a={center:"center",contain:"aspectFit",cover:"aspectFill",repeat:void 0,stretch:"scaleToFill"},i=function(e){return a[e]},o=function(e){var t,n=!_e();return n||(e=null===(t=e)||void 0===t?void 0:t.replace(/(jpg|png)_\.webp/,"$1")),e},s=(0,c.useState)(i(n)),l=(0,ue.Z)(s,2),u=l[0],d=l[1],m=(0,c.useState)(o(r?r.uri:"")),f=(0,ue.Z)(m,2),p=f[0],h=f[1];return(0,c.useEffect)((function(){d(i(n))}),[n]),(0,c.useEffect)((function(){h(o(r?r.uri:""))}),[r]),{mode:u,src:p}},wn=Cn,kn=["children","imageRef","style","imageStyle","className","imageClassName"],In=c.forwardRef((function(e,t){var n=e.children,r=e.imageRef,a=e.style,i=void 0===a?{}:a,o=e.imageStyle,s=void 0===o?{}:o,c=e.className,u=e.imageClassName,m=(0,L.Z)(e,kn),f=wn(e),p=f.mode,h=f.src,v=i.width,x=i.height;return(0,l.jsxs)(g.View,{ref:t,className:P("xt-imagebackground",c),style:i,children:[(0,l.jsx)(g.Image,(0,d.Z)({ref:r,src:h,className:P("xt-imagebackground__image",u),style:(0,d.Z)({width:v||"100%",height:x||"100%"},s),mode:p,webp:!0},m)),n]})})),Sn=In;var Pn=["url","className","style","numberOfLines","onClick"],En=c.forwardRef((function(e,t){var n=e||{},r=n.url,a=n.className,i=n.style,o=n.numberOfLines,s=n.onClick,u=(0,L.Z)(n,Pn),m=(0,c.useCallback)((function(e){r&&hn({url:r}),s&&s(e)}),[r]),f=(0,c.useMemo)((function(){var e=Number(o);return!e||e<=0?["",{}]:1===e?["xt-link_single_line",{}]:["xt-link_multy_line",{"-webkit-line-clamp":"".concat(e)}]}),[o]),p=(0,ue.Z)(f,2),h=p[0],v=p[1];return(0,l.jsx)(g.Text,(0,d.Z)((0,d.Z)({},u),{},{className:P("xt-link",a,h),style:E(i,v),numberOfLines:"".concat(o),onClick:m,ref:t}))})),bn=(U(En),function(e){return e["ctrip"]="ctrip",e["trip"]="trip",e}(bn||{})),An=function(){function e(){(0,m.Z)(this,e)}return(0,f.Z)(e,null,[{key:"getEmojiMap",value:function(e,t,n){var r="trip"===e,a=t?r?this.CACHE_TRIP_KEY_GIF:this.CACHE_KEY_GIF:r?this.CACHE_TRIP_KEY:this.CACHE_KEY,i=Ot.getSync(a)||{};return i&&0!==Object.keys(i).length||("function"===typeof n&&this.callbackQueue.push(n),this.fetchEmojiMap(e,t)),i}},{key:"clearCallbackQueue",value:function(){var e=null;while(e=this.callbackQueue.shift())e&&"function"===typeof e&&e()}},{key:"parseStyleName",value:function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}},{key:"parseStringStyle",value:function(e){for(var t=(e||"").replace(/[\s|\n]/g,"").split(";"),n={},r=0;r<t.length;r++){var a=t[r].split(":"),i=this.parseStyleName(a[0]),o=a[1];i&&o&&(n[i]=o)}return n}},{key:"fetchEmojiMap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn.ctrip,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.isFetching[t]||(this.isFetching[t]=!0,on([{url:"https://m.".concat(t,".com/restapi/soa2/19530/getEmojiImageMap"),method:"POST",data:{site:t,type:n?"gif":"image"}}]).then((function(r){var a=r[0]||{},i=a.data;try{var o=i.data&&(n?i.data.gifMap:i.data.map);if(o&&Object.keys(o).length>0){var s=n?"trip"===t?e.CACHE_TRIP_KEY_GIF:e.CACHE_KEY_GIF:"trip"===t?e.CACHE_TRIP_KEY:e.CACHE_KEY;return Ot.setSync(s,o),e.clearCallbackQueue(),o}}catch(e){console.log(e)}e.isFetching[t]=!1})).catch((function(e){console.log(e)})))}},{key:"parseEmojiText",value:function(t,n){if(!t)return"";var r=n.site,a=void 0===r?bn.ctrip:r,i=n.showGif,o=void 0===i||i,s=n.callback,c=e.getEmojiMap(a,o,s)||{};return e.getResult(t,c,n)}},{key:"parseEmojiContentArray",value:function(t,n){if(!t)return[{content:t,type:"text"}];var r=n.site,a=void 0===r?bn.ctrip:r,i=n.showGif,o=void 0===i||i,s=n.callback,c=e.getEmojiMap(a,o,s)||{};return this.getEmojiContentArray(t,c,n)}},{key:"getEmojiContentArray",value:function(e,t,n){var r=[],a=0;while(a<e.length){if("["===e[a]){var i=e.indexOf("]",a+1);if(-1!==i){var o=e.substring(a+1,i);t[o]?r.push({content:this.getEmojiByKey(o,t,n),type:"emoji"}):r.push({content:"[".concat(o,"]"),type:"text"}),a=i}else{var s=e.substring(a,e.length);r.push({content:s,type:"text"}),a=e.length}}else{var c=e.indexOf("[",a+1);if(-1!==c){var l=e.substring(a,c);r.push({content:l,type:"text"}),a=c-1}else{var u=e.substring(a,e.length);r.push({content:u,type:"text"}),a=e.length}}a++}return r}},{key:"getResult",value:function(t,n,r){var a=Object.keys(n),i=/\[[^(\[|\])]+\]/g,o=t.match(i);if(!o)return t;for(var s=e.handleUniqueArray(o),c=r.emojiClassName,l=void 0===c?"":c,u=r.emojiStyles,d=void 0===u?"":u,m=t,f=0;f<s.length;f++){var p=s[f],h=p.substring(1,p.length-1);if(-1!==a.indexOf(h)){var g=this.getEmojiByKey(h,n,r),v='<img class="'.concat(l,'" style="').concat(d,'" src="').concat(g,'" alt="').concat(p,'" />'),x=e.replaceAll(m,p,v);m=x}}return m}},{key:"getEmojiByKey",value:function(e,t,n){var r="",a="",i=null===n||void 0===n?void 0:n.showGif;return i&&"object"===(0,u.Z)(t[e])?(r=t[e].gif||"",a=t[e].image):a="object"===(0,u.Z)(t[e])?t[e].image:t[e],i&&r||a}},{key:"replaceAll",value:function(e,t,n){var r="",a=e,i=t.length;while(a.indexOf(t)>-1){var o=a.indexOf(t);r+=a.substring(0,o),r+=n;var s=a.substring(o+i);a=s}return r+=a,r}},{key:"handleUniqueArray",value:function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}}]),e}();(0,x.Z)(An,"CACHE_KEY","XTARO_EMOJI_MAP"),(0,x.Z)(An,"CACHE_KEY_GIF","XTARO_EMOJI_MAP_GIF"),(0,x.Z)(An,"CACHE_TRIP_KEY","XTARO_EMOJI_MAP_TRIP"),(0,x.Z)(An,"CACHE_TRIP_KEY_GIF","XTARO_EMOJI_MAP_TRIP_GIF"),(0,x.Z)(An,"isFetching",{ctrip:!1,trip:!1}),(0,x.Z)(An,"callbackQueue",[]);var Dn=["mode","value","start","end","onChange","children","className"],jn=c.forwardRef((function(e,t){var n=e.mode,r=e.value,a=e.start,i=e.end,o=e.onChange,s=e.children,c=(e.className,(0,L.Z)(e,Dn));return(0,l.jsx)(g.Picker,(0,d.Z)((0,d.Z)({ref:t,mode:n,value:r,start:a,end:i,onChange:o},c),{},{children:s}))})),Rn=c.memo(jn),On=["children","columnData"],Mn=function(e){e.children,e.columnData,(0,L.Z)(e,On);return(0,l.jsx)(g.PickerViewColumn,(0,d.Z)({className:"column-style"},e))};Mn.displayName="_XPickerViewColumn";var Ln=n(12111);n(19274),Ln.Z},12111:function(e,t,n){"use strict";n.d(t,{Z:function(){return G}});var r=n(93212),a=60,i=60*a,o=24*i,s=7*o,c=1e3,l=a*c,u=i*c,d=o*c,m=s*c,f="millisecond",p="second",h="minute",g="hour",v="day",x="week",y="month",_="quarter",T="year",Z="date",N="YYYY-MM-DDTHH:mm:ssZ",C="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},S=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},P=function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+S(r,2,"0")+":"+S(a,2,"0")},E=function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,y),i=n-a<0,o=t.clone().add(r+(i?-1:1),y);return+(-(r+(n-a)/(i?a-o:o-a))||0)},b=function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},A=function(e){var t={M:y,y:T,w:x,d:v,D:Z,h:g,m:h,s:p,ms:f,Q:_};return t[e]||String(e||"").toLowerCase().replace(/s$/,"")},D=function(e){return void 0===e},j={s:S,z:P,m:E,a:b,p:A,u:D},R="en",O={};O[R]=I;var M="$isDayjsObject",L=function(e){return e instanceof U||!(!e||!e[M])},V=function e(t,n,r){var a;if(!t)return R;if("string"===typeof t){var i=t.toLowerCase();O[i]&&(a=i),n&&(O[i]=n,a=i);var o=t.split("-");if(!a&&o.length>1)return e(o[0])}else{var s=t.name;O[s]=t,a=s}return!r&&a&&(R=a),a||!r&&R},B=function(e,t){if(L(e))return e.clone();var n="object"===(0,r.Z)(t)?t:{};return n.date=e,n.args=arguments,new U(n)},F=function(e,t){return B(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},Y=j;Y.l=V,Y.i=L,Y.w=F;var H=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(Y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"===typeof t&&!/Z$/i.test(t)){var r=t.match(w);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)},U=function(){function e(e){this.$L=V(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[M]=!0}var t=e.prototype;return t.parse=function(e){this.$d=H(e),this.init()},t.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},t.$utils=function(){return Y},t.isValid=function(){return!(this.$d.toString()===C)},t.isSame=function(e,t){var n=B(e);return this.startOf(t)<=n&&n<=this.endOf(t)},t.isAfter=function(e,t){return B(e)<this.startOf(t)},t.isBefore=function(e,t){return this.endOf(t)<B(e)},t.$g=function(e,t,n){return Y.u(e)?this[t]:this.set(n,e)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,t){var n=this,r=!!Y.u(t)||t,a=Y.p(e),i=function(e,t){var a=Y.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(v)},o=function(e,t){var a=[0,0,0,0],i=[23,59,59,999];return Y.w(n.toDate()[e].apply(n.toDate("s"),(r?a:i).slice(t)),n)},s=this.$W,c=this.$M,l=this.$D,u="set"+(this.$u?"UTC":"");switch(a){case T:return r?i(1,0):i(31,11);case y:return r?i(1,c):i(0,c+1);case x:var d=this.$locale().weekStart||0,m=(s<d?s+7:s)-d;return i(r?l-m:l+(6-m),c);case v:case Z:return o(u+"Hours",0);case g:return o(u+"Minutes",1);case h:return o(u+"Seconds",2);case p:return o(u+"Milliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,t){var n,r=Y.p(e),a="set"+(this.$u?"UTC":""),i=(n={},n[v]=a+"Date",n[Z]=a+"Date",n[y]=a+"Month",n[T]=a+"FullYear",n[g]=a+"Hours",n[h]=a+"Minutes",n[p]=a+"Seconds",n[f]=a+"Milliseconds",n)[r],o=r===v?this.$D+(t-this.$W):t;if(r===y||r===T){var s=this.clone().set(Z,1);s.$d[i](o),s.init(),this.$d=s.set(Z,Math.min(this.$D,s.daysInMonth())).$d}else i&&this.$d[i](o);return this.init(),this},t.set=function(e,t){return this.clone().$set(e,t)},t.get=function(e){return this[Y.p(e)]()},t.add=function(e,t){var n,r=this;e=Number(e);var a=Y.p(t),i=function(t){var n=B(r);return Y.w(n.date(n.date()+Math.round(t*e)),r)};if(a===y)return this.set(y,this.$M+e);if(a===T)return this.set(T,this.$y+e);if(a===v)return i(1);if(a===x)return i(7);var o=(n={},n[h]=l,n[g]=u,n[p]=c,n)[a]||1,s=this.$d.getTime()+e*o;return Y.w(s,this)},t.subtract=function(e,t){return this.add(-1*e,t)},t.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||C;var r=e||N,a=Y.z(this),i=this.$H,o=this.$m,s=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,a,i){return e&&(e[n]||e(t,r))||a[n].slice(0,i)},m=function(e){return Y.s(i%12||12,e,"0")},f=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p=function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return Y.s(t.$y,4,"0");case"M":return s+1;case"MM":return Y.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,l,3);case"MMMM":return d(l,s);case"D":return t.$D;case"DD":return Y.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(i);case"HH":return Y.s(i,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return f(i,o,!0);case"A":return f(i,o,!1);case"m":return String(o);case"mm":return Y.s(o,2,"0");case"s":return String(t.$s);case"ss":return Y.s(t.$s,2,"0");case"SSS":return Y.s(t.$ms,3,"0");case"Z":return a;default:break}return null};return r.replace(k,(function(e,t){return t||p(e)||a.replace(":","")}))},t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},t.diff=function(e,t,n){var r,a=this,i=Y.p(t),o=B(e),s=(o.utcOffset()-this.utcOffset())*l,f=this-o,Z=function(){return Y.m(a,o)};switch(i){case T:r=Z()/12;break;case y:r=Z();break;case _:r=Z()/3;break;case x:r=(f-s)/m;break;case v:r=(f-s)/d;break;case g:r=f/u;break;case h:r=f/l;break;case p:r=f/c;break;default:r=f;break}return n?r:Y.a(r)},t.daysInMonth=function(){return this.endOf(y).$D},t.$locale=function(){return O[this.$L]},t.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=V(e,t,!0);return r&&(n.$L=r),n},t.clone=function(){return Y.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e}(),W=U.prototype;B.prototype=W,[["$ms",f],["$s",p],["$m",h],["$H",g],["$W",v],["$M",y],["$y",T],["$D",Z]].forEach((function(e){W[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),B.extend=function(e,t){return e.$i||(e(t,U,B),e.$i=!0),B},B.locale=V,B.isDayjs=L,B.unix=function(e){return B(1e3*e)},B.en=O[R],B.Ls=O,B.p={};var G=B},19274:function(e,t,n){"use strict";var r=n(12111),a={name:"zh-cn",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e,t){switch(t){case"W":return e+"\u5468";default:return e+"\u65e5"}},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(e,t){var n=100*e+t;return n<600?"\u51cc\u6668":n<900?"\u65e9\u4e0a":n<1100?"\u4e0a\u5348":n<1300?"\u4e2d\u5348":n<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};r.Z.locale(a,null,!0),t["Z"]=a},59455:function(e){"use strict";e.exports=JSON.parse('{"rn_version":"23101701","edit_time":"2023-09-25 14:27:45"}')}}]);
//# sourceMappingURL=taroCommon.js.map