{"version":3,"file":"pages/flight/pages/cityPicker/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_flight_pages_cityPicker_index.js"],"sourcesContent":["\"use strict\";\nrequire(\"../../taroCommon\");\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[9265],{\n\n/***/ 69445:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./src/pages/flight/common/utils/f_page_decorator.tsx + 12 modules\nvar f_page_decorator = __webpack_require__(74498);\n// EXTERNAL MODULE: ./src/pages/flight/common/constant/pageId/index.ts + 4 modules\nvar pageId = __webpack_require__(60328);\n// EXTERNAL MODULE: ./src/pages/flight/lib/commonModule.prod.js\nvar commonModule_prod = __webpack_require__(91425);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(298);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: ./src/pages/flight/common/logs/logUbt.ts\nvar logUbt = __webpack_require__(18228);\n// EXTERNAL MODULE: ./src/pages/flight/router/jump/jumpHelper.ts\nvar jumpHelper = __webpack_require__(5437);\n// EXTERNAL MODULE: ./src/pages/flight/common/reactUtils/hooks/index.ts + 10 modules\nvar hooks = __webpack_require__(29557);\n// EXTERNAL MODULE: ./src/pages/flight/components/NavBar/NavBar.new.tsx + 1 modules\nvar NavBar_new = __webpack_require__(53096);\n// EXTERNAL MODULE: ./src/pages/flight/common/utils/storage.ts\nvar storage = __webpack_require__(21367);\n// EXTERNAL MODULE: ./src/pages/flight/types/index.ts + 3 modules\nvar types = __webpack_require__(60452);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(79301);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(22276);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(95308);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(90129);\n// EXTERNAL MODULE: ./src/pages/flight/common/cp/index.ts + 1 modules\nvar cp = __webpack_require__(82933);\n// EXTERNAL MODULE: ./src/pages/flight/common/models/onePlatform.ts\nvar onePlatform = __webpack_require__(30993);\n// EXTERNAL MODULE: ./src/pages/flight/common/models/homePromotion.ts + 1 modules\nvar homePromotion = __webpack_require__(25487);\n// EXTERNAL MODULE: ./src/pages/flight/common/utils/storage/Storage.ts\nvar Storage = __webpack_require__(71098);\n// EXTERNAL MODULE: ./src/pages/flight/common/constant/abtestExpCode.ts\nvar abtestExpCode = __webpack_require__(27759);\n// EXTERNAL MODULE: ./src/pages/flight/apis/onePlatformServer.ts\nvar onePlatformServer = __webpack_require__(58637);\n;// CONCATENATED MODULE: ./src/pages/flight/pages/cityPicker/CityPickerContainer/cityGalleryApi.ts\n\n\nvar cityGalleryApi = onePlatformServer/* default.injectEndpoints */.Z.injectEndpoints({\n  endpoints: function endpoints(builder) {\n    return {\n      cityGallery: builder.query({\n        query: function query(regionType) {\n          return {\n            url: \"/19691/cityGallery\",\n            queryParams: {\n              data: {\n                regionType: regionType\n              }\n            },\n            queryObject: {\n              subEnv: 'fat3'\n            }\n          };\n        },\n        transformResponse: function transformResponse(_ref) {\n          var data = _ref.data;\n          return data;\n        }\n      })\n    };\n  }\n});\n\n// Export hooks for usage in functional components, which are\n// auto-generated based on the defined endpoints\nvar useCityGalleryQuery = cityGalleryApi.useCityGalleryQuery,\n  usePrefetchCityGallery = cityGalleryApi.usePrefetch,\n  useLazyCityGalleryQuery = cityGalleryApi.useLazyCityGalleryQuery;\n\n/* harmony default export */ var CityPickerContainer_cityGalleryApi = ((/* unused pure expression or super */ null && (cityGalleryApi)));\n;// CONCATENATED MODULE: ./src/pages/flight/pages/cityPicker/CityPickerContainer/CityPickerContainer.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getCityData(inTest, data) {\n  if (!inTest && data !== null && data !== void 0 && data.themes) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, data), {}, {\n      themes: undefined\n    });\n  }\n  return data;\n}\nvar domesticCityGalleryStorage = new Storage/* default */.ZP({\n  version: '2020-05-29',\n  key: function key() {\n    return 'domesticCityGallery';\n  },\n  expires: function expires() {\n    return 7 * Storage/* day */.v0;\n  }\n});\nvar internationalCityGalleryStorage = new Storage/* default */.ZP({\n  version: '2020-05-29',\n  key: function key() {\n    return 'internationalCityGallery';\n  },\n  expires: function expires() {\n    return 7 * Storage/* day */.v0;\n  }\n});\nvar CityPickerContainer = function CityPickerContainer(_ref) {\n  var children = _ref.children,\n    disableIndex = _ref.disableIndex,\n    isHome = _ref.isHome;\n  var _useState = (0,react.useState)([]),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    currentCityAirport = _useState2[0],\n    setCurrentCityAirport = _useState2[1];\n  var specialOffersVersion = (0,hooks/* useAbTestForKey */.bE)(abtestExpCode/* homeSpecialOffersExpCode */.vC, 'A', ['weapp']);\n  var inSpecialABTest = ['B', 'E'].includes(specialOffersVersion);\n  var needRideTheme = isHome && inSpecialABTest;\n  var _useState3 = (0,react.useState)(),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    domesticCityGalleryData = _useState4[0],\n    setDomesticCityGalleryData = _useState4[1];\n  var _useState5 = (0,react.useState)(),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    internationalCityGalleryData = _useState6[0],\n    setInternationalGalleryData = _useState6[1];\n\n  // 增加开关能够关闭临近机场功能，服务反馈说定位不正确\n  var openLocationCityData = (0,hooks/* usePageSwitcherConfig */.Sl)('openLocationCityData');\n  var _useLazyCityGalleryQu = useLazyCityGalleryQuery(),\n    _useLazyCityGalleryQu2 = (0,slicedToArray/* default */.Z)(_useLazyCityGalleryQu, 1),\n    cityGalleryQuery = _useLazyCityGalleryQu2[0];\n  (0,react.useEffect)(function () {\n    var _cityGalleryData, _cityGalleryData2;\n    var cityGalleryData = domesticCityGalleryStorage.get();\n    // 如果不在B、E版，且有去除数据中的themes字段\n    if (!needRideTheme && (_cityGalleryData = cityGalleryData) !== null && _cityGalleryData !== void 0 && _cityGalleryData.themes) {\n      cityGalleryData = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, cityGalleryData), {}, {\n        themes: undefined\n      });\n    }\n    // 如果在B、E版，且没有themes 则先清除缓存\n    if (needRideTheme && !((_cityGalleryData2 = cityGalleryData) !== null && _cityGalleryData2 !== void 0 && _cityGalleryData2.themes)) {\n      domesticCityGalleryStorage.remove();\n      cityGalleryData = null;\n    }\n    if (cityGalleryData) {\n      setDomesticCityGalleryData(cityGalleryData);\n    } else {\n      cityGalleryQuery('DOMESTIC').then(function (_ref2) {\n        var data = _ref2.data;\n        domesticCityGalleryStorage.set(getCityData(needRideTheme, data));\n        setDomesticCityGalleryData(getCityData(needRideTheme, data));\n      });\n    }\n  }, [cityGalleryQuery, needRideTheme]);\n  (0,react.useEffect)(function () {\n    var _cityGalleryData3, _cityGalleryData4;\n    var cityGalleryData = internationalCityGalleryStorage.get();\n\n    // 如果不在B、E版，且有去除数据中的themes字段\n    if (!needRideTheme && (_cityGalleryData3 = cityGalleryData) !== null && _cityGalleryData3 !== void 0 && _cityGalleryData3.themes) {\n      cityGalleryData = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, cityGalleryData), {}, {\n        themes: undefined\n      });\n    }\n    // 如果在B、E版，且没有themes 则先清除缓存\n    if (needRideTheme && !((_cityGalleryData4 = cityGalleryData) !== null && _cityGalleryData4 !== void 0 && _cityGalleryData4.themes)) {\n      internationalCityGalleryStorage.remove();\n      cityGalleryData = null;\n    }\n    if (cityGalleryData) {\n      setInternationalGalleryData(cityGalleryData);\n    } else {\n      cityGalleryQuery('INTERNATIONAL').then(function (_ref3) {\n        var data = _ref3.data;\n        internationalCityGalleryStorage.set(getCityData(needRideTheme, data));\n        setInternationalGalleryData(getCityData(needRideTheme, data));\n      });\n    }\n  }, [cityGalleryQuery, needRideTheme]);\n\n  /**\n   * poi模糊搜索\n   */\n  var airportFuzzySearch = (0,react.useCallback)(function (param) {\n    var flightType;\n    if (typeof disableIndex === 'string') {\n      flightType = Number(disableIndex) + 1;\n    }\n    if (param) {\n      return onePlatform/* AirportFuzzySearch.promise */.Ki.promise({\n        data: {\n          key: param,\n          flightType: flightType\n        }\n      });\n    } else {\n      return Promise.resolve([]);\n    }\n  }, [disableIndex]);\n  (0,react.useEffect)(function () {\n    if (!openLocationCityData) {\n      return;\n    }\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n    function _fetchData() {\n      _fetchData = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n        var _res$fairinfo;\n        var _yield$getLocation, latitude, longitude, res, _res$fairinfo2, fairinfo, ctype, regionType, airportFirst, cityCode, cityName;\n        return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return (0,cp/* getLocation */.k$)();\n            case 2:\n              _yield$getLocation = _context.sent;\n              latitude = _yield$getLocation.latitude;\n              longitude = _yield$getLocation.longitude;\n              if (!(!latitude || !longitude)) {\n                _context.next = 7;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 7:\n              _context.next = 9;\n              return homePromotion/* LocationCityData.promise */.Xg.promise({\n                lati: latitude,\n                longi: longitude,\n                useDoubleCver: true\n              }).catch(function (error) {\n                (0,logUbt/* ubtError */.rb)(error);\n                return undefined;\n              });\n            case 9:\n              res = _context.sent;\n              if (res !== null && res !== void 0 && (_res$fairinfo = res.fairinfo) !== null && _res$fairinfo !== void 0 && _res$fairinfo.length) {\n                _context.next = 12;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 12:\n              _res$fairinfo2 = res.fairinfo, fairinfo = _res$fairinfo2 === void 0 ? [] : _res$fairinfo2, ctype = res.ctype;\n              regionType = ctype === 1 ? 'DOMESTIC' : 'INTERNATIONAL';\n              airportFirst = commonModule_prod.R.head(fairinfo);\n              cityCode = airportFirst === null || airportFirst === void 0 ? void 0 : airportFirst.ccode;\n              cityName = airportFirst === null || airportFirst === void 0 ? void 0 : airportFirst.cname;\n              (0,logUbt/* sendSpeed */.jq)('location_city_data', {\n                latitude: latitude,\n                longitude: longitude,\n                regionType: regionType,\n                cityCode: cityCode,\n                cityName: cityName\n              });\n              setCurrentCityAirport([{\n                regionType: regionType,\n                isLocation: true,\n                cityCode: cityCode,\n                cityName: cityName,\n                cityId: res.cityid\n              }].concat((0,toConsumableArray/* default */.Z)(commonModule_prod.R.map(function (_ref4) {\n                var ccode = _ref4.ccode,\n                  cname = _ref4.cname,\n                  aptcode = _ref4.aptcode,\n                  aptname = _ref4.aptname,\n                  dis = _ref4.dis;\n                return {\n                  regionType: regionType,\n                  cityCode: ccode,\n                  cityName: cname,\n                  airportCode: aptcode,\n                  airportName: aptname,\n                  distance: dis\n                };\n              }, fairinfo))));\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n    fetchData();\n  }, [openLocationCityData]);\n  return children({\n    currentCityAirport: currentCityAirport,\n    domesticCityGalleryData: domesticCityGalleryData,\n    internationalCityGalleryData: internationalCityGalleryData,\n    airportFuzzySearch: airportFuzzySearch,\n    version: specialOffersVersion\n  });\n};\n/* harmony default export */ var CityPickerContainer_CityPickerContainer = (/*#__PURE__*/(0,react.memo)(CityPickerContainer));\n;// CONCATENATED MODULE: ./src/pages/flight/pages/cityPicker/CityPickerContainer/types.ts\n\n;// CONCATENATED MODULE: ./src/pages/flight/pages/cityPicker/CityPickerContainer/index.ts\n\n\n\n\n/* harmony default export */ var cityPicker_CityPickerContainer = (CityPickerContainer_CityPickerContainer);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./src/pages/flight/pages/cityPicker/CityPickComp/CityPicker.tsx\n\n\n\n\n\n\n\n\n\n\n\n// import type { TagsConfig } from '@/flight/typings/entity';\n\n\n\n\nvar CityPickerPage = function CityPickerPage(props) {\n  var cityPickerTagsConfigs = (0,hooks/* usePageConfig */.Gm)('CityPickerTagsConfigs', []);\n  var params = (0,hooks/* useLayerParams */.aN)(props);\n  var resolve = props.resolve,\n    reject = props.reject;\n  var _params$title = params.title,\n    title = _params$title === void 0 ? '' : _params$title,\n    disableIndex = params.disableIndex,\n    _params$tripType = params.tripType,\n    tripType = _params$tripType === void 0 ? '' : _params$tripType,\n    _params$selectedCurre = params.selectedCurrentTab,\n    selectedCurrentTab = _params$selectedCurre === void 0 ? '' : _params$selectedCurre,\n    cityInfo = params.cityInfo,\n    sideName = params.sideName,\n    from = params.from;\n  // 往返情况暂时不展示标签\n  var tagsConfigs = cityPickerTagsConfigs.map(function (item) {\n    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, item), {}, {\n      show: item.type === 'rightTag' && tripType === 'ONE_WAY' && decodeURIComponent(title).includes('到达') ? item.show : false\n    });\n  });\n  var isHome = from === 'HOME';\n  var city;\n  try {\n    city = JSON.parse(decodeURIComponent(cityInfo));\n  } catch (error) {\n    city = {};\n  }\n  var regionType = (Array.isArray(city) ? city : [city]).some(function (item) {\n    return item.regionType === types/* RegionType.INTERNATIONAL */.Og.INTERNATIONAL;\n  }) ? types/* RegionType.INTERNATIONAL */.Og.INTERNATIONAL : types/* RegionType.DOMESTIC */.Og.DOMESTIC;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"CityPickerPage\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(NavBar_new/* default */.Z, {\n      reject: reject,\n      title: decodeURIComponent(title)\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(cityPicker_CityPickerContainer, {\n      disableIndex: disableIndex,\n      isHome: isHome,\n      children: function children(_ref) {\n        var currentCityAirport = _ref.currentCityAirport,\n          airportFuzzySearch = _ref.airportFuzzySearch,\n          domesticCityGalleryData = _ref.domesticCityGalleryData,\n          internationalCityGalleryData = _ref.internationalCityGalleryData,\n          version = _ref.version;\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(commonModule_prod.CityPicker, {\n          tripType: tripType,\n          disableIndex: disableIndex,\n          // 国际城市选择器放开\n          selectedCurrentTab: selectedCurrentTab,\n          regionType: regionType,\n          currentCityAirport: currentCityAirport,\n          airportFuzzySearch: airportFuzzySearch,\n          domesticCityGalleryData: domesticCityGalleryData,\n          internationalCityGalleryData: internationalCityGalleryData,\n          sendSpeed: logUbt/* sendSpeed */.jq,\n          ubtTrace: logUbt/* ubtTrace */.wn,\n          cityHistoryStorage: storage/* cityHistoryStorage */.qV,\n          onSelectCity: function onSelectCity(cityItem) {\n            (0,logUbt/* sendSpeed */.jq)(\"c_flt_tinyapp_city_picker_select\", {\n              cityItem: cityItem\n            });\n            (0,jumpHelper/* goBack */.Hm)(resolve, cityItem);\n          },\n          cityInfo: cityInfo,\n          sideName: sideName,\n          multiChoice: version === 'E' && isHome,\n          tagsConfigs: tagsConfigs\n        });\n      }\n    })]\n  });\n};\n/* harmony default export */ var CityPicker = (/*#__PURE__*/(0,react.memo)(CityPickerPage));\n;// CONCATENATED MODULE: ./src/pages/flight/pages/cityPicker/CityPickComp/index.tsx\n\n\n/* harmony default export */ var CityPickComp = (CityPicker);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/flight/pages/cityPicker/index.tsx\n\n\n\n\n/* harmony default export */ var cityPicker = ((0,f_page_decorator/* default */.Z)({\n  pageId: pageId/* CITY_PICK */.tn\n})(CityPickComp));\n;// CONCATENATED MODULE: ./src/pages/flight/pages/cityPicker/index.tsx\n\n\nvar config = {\"navigationBarTitleText\":\"携程机票\",\"navigationBarTextStyle\":\"black\",\"titleBarColor\":\"#ffffff\",\"navigationStyle\":\"custom\",\"allowsBounceVertical\":\"NO\"};\n\n\nvar inst = Page((0,runtime_esm.createPageConfig)(cityPicker, 'pages/flight/pages/cityPicker/index', {root:{cn:[]}}, config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/ext/global\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [4499,2107,1216,8592], function() { return __webpack_exec__(69445); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["require","wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","runtime_esm","f_page_decorator","pageId","commonModule_prod","objectSpread2","react","components_react","logUbt","jumpHelper","hooks","NavBar_new","storage","types","regeneratorRuntime","toConsumableArray","asyncToGenerator","slicedToArray","cp","onePlatform","homePromotion","Storage","abtestExpCode","onePlatformServer","cityGalleryApi","Z","injectEndpoints","endpoints","builder","cityGallery","query","regionType","url","queryParams","data","queryObject","subEnv","transformResponse","_ref","useLazyCityGalleryQuery","useCityGalleryQuery","usePrefetch","getCityData","inTest","themes","undefined","domesticCityGalleryStorage","ZP","version","key","expires","v0","internationalCityGalleryStorage","CityPickerContainer","children","disableIndex","isHome","_useState","useState","_useState2","currentCityAirport","setCurrentCityAirport","specialOffersVersion","bE","vC","inSpecialABTest","includes","needRideTheme","_useState3","_useState4","domesticCityGalleryData","setDomesticCityGalleryData","_useState5","_useState6","internationalCityGalleryData","setInternationalGalleryData","openLocationCityData","Sl","_useLazyCityGalleryQu","_useLazyCityGalleryQu2","cityGalleryQuery","useEffect","_cityGalleryData","_cityGalleryData2","cityGalleryData","get","remove","then","_ref2","set","_cityGalleryData3","_cityGalleryData4","_ref3","airportFuzzySearch","useCallback","param","flightType","Number","Ki","promise","Promise","resolve","fetchData","_fetchData","apply","this","arguments","mark","_callee","_res$fairinfo","_yield$getLocation","latitude","longitude","res","_res$fairinfo2","fairinfo","ctype","airportFirst","cityCode","cityName","wrap","_context","prev","next","k$","sent","abrupt","Xg","lati","longi","useDoubleCver","catch","error","rb","length","R","head","ccode","cname","jq","isLocation","cityId","cityid","concat","map","_ref4","aptcode","aptname","dis","airportCode","airportName","distance","stop","CityPickerContainer_CityPickerContainer","memo","cityPicker_CityPickerContainer","jsx_runtime","CityPickerPage","props","city","cityPickerTagsConfigs","Gm","params","aN","reject","_params$title","title","_params$tripType","tripType","_params$selectedCurre","selectedCurrentTab","cityInfo","sideName","from","tagsConfigs","item","show","type","decodeURIComponent","JSON","parse","Array","isArray","some","Og","INTERNATIONAL","DOMESTIC","jsxs","View","className","jsx","CityPicker","sendSpeed","ubtTrace","wn","cityHistoryStorage","qV","onSelectCity","cityItem","Hm","multiChoice","CityPickComp","cityPicker","tn","config","Page","createPageConfig","root","cn","module","exports","__webpack_exec__","moduleId","s","O"],"sourceRoot":""}