(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[4499],{90614:function(e,t){"use strict";t["Z"]={SeparatorComp:"Transit-module_V1Qri",item:"Transit-module_OlxRM",TransitBox:"Transit-module_kkAG1","transit-info-box":"Transit-module_JqSYo","transit-info-container":"Transit-module_wjuXA",virtualServicesBox:"Transit-module_nUkkj","transfer-city":"Transit-module_SZzo8",transitTipsBox:"Transit-module_sJjJZ",green787:"Transit-module_pFQIM",orange700:"Transit-module_NomV5",black333:"Transit-module_n7oGp",noServicesBox:"Transit-module_pzqHJ","icon-arrow-right":"Transit-module_L2Jeq","basic-info":"Transit-module_fbTy7","trip-icon":"Transit-module_R2Fw2","trip-type":"Transit-module_Be_Z5","airline-description":"Transit-module_iBHyk","flight-time":"Transit-module_uAQmV",plus:"Transit-module_nwQp7","flight-airport":"Transit-module_HnJjQ",isNewAirport:"Transit-module_otsqJ","c-green":"Transit-module_U7hkc","text-bg":"Transit-module_berM3","c-orange":"Transit-module_O5e4q","transit-pop-subtitle":"Transit-module_hwRVv","tip-icon":"Transit-module_ViSzP","transit-pop-subcontent":"Transit-module_KZwcs"}},27842:function(e,t){"use strict";t["Z"]={SeparatorComp:"index-module_ZLxng",RightDisplayArrow:"index-module_yxiLm"}},73027:function(e,t){"use strict";t["Z"]={"navigation-container":"NavBar-module_a0iTJ",list:"NavBar-module_Sqw_i","status-bar":"NavBar-module_tJUT2","navigation-bar":"NavBar-module_QJTEf",show:"NavBar-module_AiEo9",booking:"NavBar-module_TXAEU","navigation-left":"NavBar-module_IsEgP","navigation-icon":"NavBar-module_H1DmW","navigation-middle":"NavBar-module_QZaxp",tt:"NavBar-module_SHNPd","navigation-title":"NavBar-module_j7NAi","nav-wrap":"NavBar-module_MvYcU","nav-titleContainer":"NavBar-module_hfjEN","nav-title":"NavBar-module_Pra3h",whiteColor:"NavBar-module_HrB1I","home-btn-group":"NavBar-module_Ct7im","btn-wrap":"NavBar-module_MRoGh","btn-home":"NavBar-module_H8aNp","swan-home":"NavBar-module_w5EZ2","btn-icon":"NavBar-module_i7Yba","btn-back":"NavBar-module_NH0lX",line:"NavBar-module_wre8U","title-bar":"NavBar-module_pzQw2",barBox:"NavBar-module_PeLq0","b-nav-wrap":"NavBar-module_h8c8F","user-login-right":"NavBar-module_y9dqe","user-manu-list":"NavBar-module_NOvDe","m-list-item":"NavBar-module_e0m_H","jifen-yunfei":"NavBar-module_wsK7r","home-btn-group-new":"NavBar-module_GWt93"}},15568:function(e,t){"use strict";t["Z"]={tabOuter:"TabWithScroll-module_AUHGV",tabImgWrap:"TabWithScroll-module_teba5",tabImg:"TabWithScroll-module_kFJPF",header:"TabWithScroll-module_QwAFg",tabItemContainer:"TabWithScroll-module__Or_q",tabItemScrollContainer:"TabWithScroll-module_zj6Cm",tabItem:"TabWithScroll-module_GJ9hX",activeTabItem:"TabWithScroll-module_mqtJ5"}},3457:function(e,t){"use strict";t["Z"]={"list-bottom-text":"list-module_eNSp9",PredictionHide:"list-module_cK38w",ListPageNew:"list-module_wrLpP",pageTop:"list-module_sgHaI","pageTop-alipay":"list-module__TFRu",predictionShow:"list-module_V10HF",skeletonBox:"list-module_yvUKc",skeletonContainer:"list-module_VlpM6",hBox:"list-module_gtkhg",loadingViewBox:"list-module_nuBjb",loadingView:"list-module_ezJEA",blockBox:"list-module_fVjB_",loadingBlink:"list-module_z6T7P",b1:"list-module_ZW2wK",b2:"list-module_ztWia",b3:"list-module_UYZJR",b4:"list-module_ai03f",b5:"list-module_QiTXL",divBox:"list-module_f8jbX",d1:"list-module_rPmXQ",d2:"list-module_CRfx_"}},39457:function(e,t){"use strict";t["Z"]={"flight-card-padding":"FlightListCard-module_gPFqE","FlightListCard-new":"FlightListCard-module_z8fDY",time:"FlightListCard-module_EqM8m","time-plus":"FlightListCard-module_sSiXe",priceLock:"FlightListCard-module_BqiGb","priceLock-con":"FlightListCard-module_VbhJI","recommend-description":"FlightListCard-module_QfXR2",airport:"FlightListCard-module_srac3",departureName:"FlightListCard-module_vlG9E",arrivalName:"FlightListCard-module_kmvgx",isNewAirport:"FlightListCard-module_mQ9vc","share-flight":"FlightListCard-module_NVAHQ","airline-craft-green":"FlightListCard-module_IcRe4",tag:"FlightListCard-module_kqs1A","trip-tag-wrap":"FlightListCard-module_NAjZX","icon-ontime":"FlightListCard-module_OUhnS","icon-pay-flight":"FlightListCard-module_i6yYK","icon-promote-food":"FlightListCard-module_QFYWw",plus:"FlightListCard-module_XJ9jR",noairport:"FlightListCard-module_kttPQ","recommend-line-left":"FlightListCard-module_fd7cb","recommend-line-right":"FlightListCard-module_P8_wa","recommend-title":"FlightListCard-module_AoL6a",feature:"FlightListCard-module_DrwAc","airline-description":"FlightListCard-module_akV2o","airline-description-item":"FlightListCard-module_l78gn","icon-sort-clock":"FlightListCard-module_kxUQE","last-order":"FlightListCard-module_P5Y46",marginB:"FlightListCard-module_NEpSU","last-order-line":"FlightListCard-module_hc7my","line-left":"FlightListCard-module_z6EWc","line-right":"FlightListCard-module_cVoXw","last-order-txt":"FlightListCard-module_RVBMw",card:"FlightListCard-module_Np2Km","flight-card":"FlightListCard-module_EOFjM",commonCard:"FlightListCard-module_VkTMp",commonCardBox:"FlightListCard-module_ksbY6",tagText:"FlightListCard-module_loN_G",CardContentBox:"FlightListCard-module_LO_mQ","card-top-left-tag":"FlightListCard-module_ykt6g","lowest-tag-box":"FlightListCard-module_MXHfe",pTop:"FlightListCard-module_qGDGy",newBg:"FlightListCard-module_MX6pA",noMarginT:"FlightListCard-module_wbR42","fill-loading":"FlightListCard-module_nBdW5","near-trip-card":"FlightListCard-module_DU75e","near-trip-title":"FlightListCard-module_fZmvb","airline-logo":"FlightListCard-module_L0wn_","price-box":"FlightListCard-module_Y1d0T","near-price-box":"FlightListCard-module_lglTV","line-arrow":"FlightListCard-module_pRETz","currency-symbol":"FlightListCard-module_ZJM4q","near-price":"FlightListCard-module_BpaiR","economize-price":"FlightListCard-module_bAUyf",price:"FlightListCard-module_XPo64","near-city":"FlightListCard-module_aFXSF",CardContentContainer:"FlightListCard-module_jgqFU",CardContentDiv:"FlightListCard-module_tnAzM","flight-info-left":"FlightListCard-module_vaFmt","flight-logo-container":"FlightListCard-module_sS2Or","img-box":"FlightListCard-module_bVx45","flight-info-top":"FlightListCard-module_UzUpJ",departureContainer:"FlightListCard-module_Z4EOV",stopTransit:"FlightListCard-module_sEvFL",arrivalContainer:"FlightListCard-module_sO8QF","price-sub-title":"FlightListCard-module_Fri7i","price-lock-tag":"FlightListCard-module_HEt0K","lock-final-pay":"FlightListCard-module_WJjpD","flight-info-right-tag":"FlightListCard-module_n5vpi","tags-box":"FlightListCard-module_xyILy","label-tag-box":"FlightListCard-module_t6GJO","trip-tag":"FlightListCard-module_fbreX","transit-airline-logo":"FlightListCard-module_nOvLV",displayStyle:"FlightListCard-module_L0GAl",tripTagContainer:"FlightListCard-module_AQ4_P",tripTagBox:"FlightListCard-module_y7G3x",airlineInfo:"FlightListCard-module_bNwts",airlineBox:"FlightListCard-module_Dgpmo",boxContainer:"FlightListCard-module_TDRVd",marginL:"FlightListCard-module_vr6fP",separateLine:"FlightListCard-module_me2O8","flight-recommend":"FlightListCard-module_VRHkO","separate-line":"FlightListCard-module_hzFgh","to-left":"FlightListCard-module_b15Tw",recommendText:"FlightListCard-module_Hhkwr",fltSecurityTag:"FlightListCard-module_lMyC7","flt-security-box":"FlightListCard-module_XQAa_","flt-security-icon":"FlightListCard-module_vtVoy","flt-security-text":"FlightListCard-module_SlR98","trip-limit-tag":"FlightListCard-module_RO68_","trip-limit-icon":"FlightListCard-module_JY7cu","limit-icon-title":"FlightListCard-module_Zbu9g","trip-limit-text":"FlightListCard-module_b_Z1c","out-tag":"FlightListCard-module_asAwD","member-tag":"FlightListCard-module_qAQ0W","super-member":"FlightListCard-module_WkbX6","black-member":"FlightListCard-module_hN5Wy",discountLabel:"FlightListCard-module_nC2Cb","remain-ticket":"FlightListCard-module_DJtnz","middle-text":"FlightListCard-module_KkKP0","middle-time":"FlightListCard-module_XYdDF","middle-stop-transit":"FlightListCard-module_daVIg","middle-content":"FlightListCard-module_Tt6L9",visitedBg:"FlightListCard-module_CaBnp",city:"FlightListCard-module_iwPas","virtual-description":"FlightListCard-module_TBQTs","txt-title":"FlightListCard-module_blqMd","near-symbol":"FlightListCard-module_xdYvI",visited:"FlightListCard-module_GApSM","stop-transit":"FlightListCard-module_ESG6F","item-content":"FlightListCard-module_pOwYT",padding:"FlightListCard-module_ZA5bo","card-spin":"FlightListCard-module_sVNvC","card-spin-animation":"FlightListCard-module_dD1JP","not-economy":"FlightListCard-module_Q5TTc",gradeTip:"FlightListCard-module_PnwYt",moreTicket:"FlightListCard-module_rytSa","price-style":"FlightListCard-module_O8e4W","inter-price-sub-title":"FlightListCard-module_W99NR"}},24417:function(e,t){"use strict";t["Z"]={"list-bottom-text":"list-module_tp2QI",PredictionHide:"list-module_eh3hd",ListPageNew:"list-module_Uh6ug",pageTop:"list-module_T_gk7","pageTop-alipay":"list-module_oDAAy",predictionShow:"list-module_yijWR",departureBox:"list-module_kYf_l",skeletonBox:"list-module_v_uBr",skeletonContainer:"list-module_lMdgc",hBox:"list-module_Sg3pN",loadingViewBox:"list-module_fCHEb",loadingView:"list-module_YuLVB",blockBox:"list-module_UOqAF",loadingBlink:"list-module_wF3Rp",b1:"list-module_SIgm2",b2:"list-module_CQLoI",b3:"list-module_n_M11",b4:"list-module_iCLxA",b5:"list-module_bS2JI",divBox:"list-module_VvWkU",d1:"list-module_juHiF",d2:"list-module_uXCx_"}},58637:function(e,t,n){"use strict";n.d(t,{F:function(){return s}});var r=n(68277),i=n(91425),o=n(17188),a=["skipCaptcha"],c=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,(function(e,t){return(0,i.isPlainObject)(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))+")"},s=(0,i.createApi)({reducerPath:"flightBaseServer",baseQuery:(0,o.d)(),endpoints:function(){return{}},serializeQueryArgs:function(e){var t=e.queryArgs,n=void 0===t?{}:t,i=e.endpointName,o=(n.skipCaptcha,(0,r.Z)(n,a));return c({endpointName:i,queryArgs:o})}});t["Z"]=s},98082:function(e,t,n){"use strict";n(91425);var r=function(){return function(){}};t["Z"]=r},37791:function(e,t,n){"use strict";n.r(t);n(91425)},34934:function(e,t,n){"use strict";n.d(t,{C0:function(){return i}});n(91425);var r=n(39352),i=function(){var e,t=null===r.n||void 0===r.n||null===(e=r.n.cmpBridge)||void 0===e?void 0:e.isMiniProgram();return"QQAPP"!==t&&t}},5644:function(e,t,n){"use strict";n.d(t,{CL:function(){return c},Z1:function(){return u},Rc:function(){return d},oP:function(){return f},IF:function(){return m},Ak:function(){return p},Pr:function(){return h},pK:function(){return g},mM:function(){return v},Ov:function(){return w},Yo:function(){return b},KE:function(){return C},$F:function(){return j},W4:function(){return S},In:function(){return k},t5:function(){return I}});var r=n(91425),i=n(26901),o=n(39352);function a(e,t){var n=(0,i.G)(),r=n.allianceid,o=void 0===r?"":r,a=n.sid,c=void 0===a?"":a;return o===e&&c===t}var c=a("108881","552683"),s=o.n&&o.n.Fusion||{},l=o.n&&o.n.isLighthouse,u=function(){return"hide"===s.homeBackButton},d=function(){return s.flightHomeBackUrl},f=function(){return"hide"===s.navBar},m=function(){return"hide"===s.homeNewGuest||l},p=function(){return"hide"===s.navBarBackBtn},h=function(){return"support"===s.supportCabinFilter},g=function(){return"hide"===s.hideListEditCity},v=function(){return p()||f()},y=s.homeEntrance,x=s.flightPlusHotel,_=void 0===x?"":x,N=s.orderListFilter,T=void 0===N?"":N,w=function(){return"hide"===T},b=y&&!r.R.includes("OrderList",y),C=y&&!r.R.includes("FlightSchedule",y),j=y&&!r.R.includes("CheckIn",y),S=y&&!r.R.includes("FlyGuide",y),k=y&&!r.R.includes("Subscription",y),I=(y&&r.R.includes("LowPrice",y),"hide"===_)},63779:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(298),i=n(57042),o=n(24460),a=n(45023),c=(n(91425),n(92954)),s=n(26901),l=n(86944),u=n(82761),d=n(39352),f=n(53052),m={},p=n(32180)["window"],h=function(){return"undefined"===typeof p},g=n(99531),v={fat:"https://m.ctrip.fat33.qa.nt.ctripcorp.com/html5/flight/api/getConfig",prd:"https://m.ctrip.com/html5/flight/api/getConfig"},y=null,x=3,_={promotionImagesConfig:{homepageImages:[],listpageImage:{}},serviceAssurance:{},OrderCards:{},shareEdit:{},switchers:{},travelPackageConfig:{},i18n:{},paymentTerms:{},preShareEdit:{},festivalDate:{},expTrace:{}},N=function(){function e(){(0,i.Z)(this,e),(0,a.Z)(this,"_status","init"),(0,a.Z)(this,"initPromise",new Promise((function(e){y=e}))),this.fetchPageConfig()}return(0,o.Z)(e,[{key:"_resolveConfig",value:function(e){this._status="loaded",_=e,d.n&&!d.n.FlightConfigs&&(d.n.FlightConfigs=e),y(e)}},{key:"fetchPageConfig",value:function(){var e=this;if(h())return this._resolveConfig({}),this.initPromise;if("init"!==this._status||!x)return this.initPromise;if(d.n&&d.n.FlightConfigs)return this._resolveConfig(d.n.FlightConfigs);this._status="loading",x--;var t=(0,s.G)()||{},n=t.allianceid,i=t.sid,o=(0,r.Z)({cid:(0,l.al)(),allianceid:n,sid:i,env:"weapp"},m);return(0,c.request)({method:"GET",url:(0,f.Nv)({url:v[(0,u.i)()]||v.prd,query:o})}).then((function(t){(0,g.jq)("fetch_page_config_success");var n=t.data;return e._resolveConfig(n),n})).catch((function(t){(0,g.jq)("fetch_page_config_fail",t),e._resolveConfig({})})),this.initPromise}},{key:"get",value:function(e,t){return _[e]||t}},{key:"getSwitcher",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=_&&_.switchers&&_.switchers[e];return void 0===n?t:n}},{key:"getI18n",value:function(e){return _&&_.i18n&&_.i18n[e]||!1}}]),e}(),T=new N,w=T},27759:function(e,t,n){"use strict";n.d(t,{aZ:function(){return r},vC:function(){return i},wJ:function(){return o}});n(91425);var r="230508_FLT_tkbb",i="230731_FLT_tjtab",o="231023_FLT_fceq"},51070:function(e,t,n){"use strict";n.d(t,{YL:function(){return a},e3:function(){return c},NF:function(){return s},Hu:function(){return l},yc:function(){return u},AZ:function(){return d},Yd:function(){return f},cD:function(){return m},Ti:function(){return p},NR:function(){return h},Z9:function(){return v},$K:function(){return y},NE:function(){return x}});for(var r=n(298),i=n(91425),o=n(60452),a=10,c=function(e){return e[e["Transit"]=0]="Transit",e[e["NearDate"]=1]="NearDate",e}({}),s=function(e){return e[e["LockPriceNote"]=1]="LockPriceNote",e[e["LockPriceCoupon"]=2]="LockPriceCoupon",e[e["RealNameTip"]=3]="RealNameTip",e[e["ImmediatelyDiscount"]=10]="ImmediatelyDiscount",e[e["ImmediatelyDiscountTitle"]=11]="ImmediatelyDiscountTitle",e[e["ImmediatelyDiscountDesc"]=12]="ImmediatelyDiscountDesc",e[e["ImmediatelyDiscountBombFlag"]=13]="ImmediatelyDiscountBombFlag",e[e["PolicyNoteType15"]=15]="PolicyNoteType15",e[e["ImmediatelyDiscountAfter"]=14]="ImmediatelyDiscountAfter",e[e["PolicyNoteType16"]=16]="PolicyNoteType16",e[e["PolicyNoteType17"]=17]="PolicyNoteType17",e[e["PolicyNoteType18"]=18]="PolicyNoteType18",e[e["LockPriceNoteNew"]=19]="LockPriceNoteNew",e[e["StudentCertification"]=20]="StudentCertification",e[e["FamilyLimit"]=21]="FamilyLimit",e[e["LockPriceService"]=22]="LockPriceService",e[e["LockPricePolicy"]=23]="LockPricePolicy",e[e["DebugInfo"]=24]="DebugInfo",e[e["TravelCoupon"]=31]="TravelCoupon",e}({}),l=["\u666e\u901a\u4f1a\u5458\u4ef7","\u767d\u94f6\u8d35\u5bbe\u4ef7","\u9ec4\u91d1\u8d35\u5bbe\u4ef7","\u94c2\u91d1\u8d35\u5bbe\u4ef7","\u94bb\u77f3\u8d35\u5bbe\u4ef7","\u91d1\u94bb\u8d35\u5bbe\u4ef7","\u9ed1\u94bb\u8d35\u5bbe\u4ef7","\u8d85\u7ea7\u4f1a\u5458\u4ef7"],u=[{name:"\u7ecf\u6d4e\u8231",value:o.pI.ECONOMY},{name:"\u516c\u52a1\u8231/\u5934\u7b49\u8231",value:o.pI["BUSINESS,FIRST"]}],d=[{name:"\u7ecf\u6d4e\u8231\u3001\u8d85\u7ea7\u7ecf\u6d4e\u8231",value:o.IS["ECONOMY\u3001SUPER_ECONOMY"]},{name:"\u516c\u52a1\u8231\u3001\u5934\u7b49\u8231",value:o.IS["BUSINESS\u3001FIRST"]},{name:"\u516c\u52a1\u8231",value:o.IS.BUSINESS},{name:"\u5934\u7b49\u8231",value:o.IS.FIRST}],f=[{name:"\u7ecf\u6d4e\u8231",value:o.c2.ECONOMY},{name:"\u8d85\u7ea7\u7ecf\u6d4e\u8231",value:o.c2.SUPER_ECONOMY},{name:"\u516c\u52a1\u8231",value:o.c2.BUSINESS},{name:"\u5934\u7b49\u8231",value:o.c2.FIRST}],m={TAKE_FILGHT_TITLE:"\u4e58\u673a\u63d0\u9192",FLIGHT_NOTICE_TITLE:"\u4e58\u673a\u63d0\u9192",OTHER_NOTICE_TITLE:"\u5176\u4ed6\u63d0\u9192",DEPART:"\u51fa",FIRST_STOP:"\u7ecf\u505c",TRANSFER:"\u4e2d\u8f6c",SECOND_STOP:"\u7ecf\u505c",ARRIVE:"\u8fdb",STOP:"\u7ecf\u505c"},p={title:"\u672a\u6765\u4e00\u4e2a\u6708",begin:(0,i.dayjs)().format("YYYY-MM-DD"),end:(0,i.dayjs)().add(1,"month").format("YYYY-MM-DD"),type:""},h=[p,{title:"\u672a\u6765\u4e09\u4e2a\u6708",begin:(0,i.dayjs)().format("YYYY-MM-DD"),end:(0,i.dayjs)().add(3,"month").format("YYYY-MM-DD")},{title:(0,i.dayjs)().format("M\u6708"),begin:(0,i.dayjs)().format("YYYY-MM-DD"),end:(0,i.dayjs)().endOf("month").format("YYYY-MM-DD")}],g=1;g<4;g++)h.push({title:(0,i.dayjs)().add(g,"month").format("M\u6708"),begin:(0,i.dayjs)().add(g,"month").startOf("month").format("YYYY-MM-DD"),end:(0,i.dayjs)().add(g,"month").endOf("month").format("YYYY-MM-DD")});var v=[{title:"\u4e00",value:1},{title:"\u4e8c",value:2},{title:"\u4e09",value:3},{title:"\u56db",value:4},{title:"\u4e94",value:5},{title:"\u516d",value:6},{title:"\u65e5",value:0}];function y(e){return null!==e&&void 0!==e&&!!e}function x(e){return e.map((function(e){if(e.end&&e.begin&&!(0,i.dayjs)().isAfter((0,i.dayjs)(e.end)))return(0,i.dayjs)().isBefore((0,i.dayjs)(e.begin))?e:(0,r.Z)({begin:(0,i.dayjs)().format("YYYY-MM-DD")},e)})).filter(y)}},38163:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});n(91425);var r="flight_taro_error_weapp"},56262:function(e,t,n){"use strict";n.d(t,{Aq:function(){return r},OG:function(){return i},hL:function(){return o},I6:function(){return a},zw:function(){return c},uR:function(){return s},bl:function(){return l},TB:function(){return u},Ru:function(){return d},XU:function(){return f},BP:function(){return m},z:function(){return p},WK:function(){return h},eJ:function(){return g},lt:function(){return v},kl:function(){return y},iB:function(){return x},Cx:function(){return _},Dd:function(){return N},ZD:function(){return T},Ni:function(){return w},Mk:function(){return b},Be:function(){return C}});n(91425),n(38163);var r="\u4ef7\u683c\u8bf4\u660e",i="\u91d1\u989d\u660e\u7ec6",o="\u9501\u4ef7",a="\u652f\u4ed8",c="\u673a\u7968\u5c3e\u6b3e",s="\u5c3e\u6b3e",l="\u652f\u4ed8\u5c3e\u6b3e\u540e\u53d1\u653e",u="\u9501\u4ef7\u822a\u73ed",d="\u9501\u4ef7\u6d41\u7a0b",f="\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f",m="\u7acb\u5373\u9501\u4ef7",p="\u9501\u5b9a\u4fdd\u969c\u822a\u73ed",h="\u9009\u4ef7\u683c",g="\u586b\u8ba2\u5355",v="\u6838\u5bf9\u652f\u4ed8",y="\u8ba2",x="\u6d3b\u52a8\u89c4\u5219",_="*\u4f18\u60e0\u5238\u53d1\u653e\u5177\u6709\u968f\u673a\u6027\uff0c\u9650\u65f6\u6709\u6548",N="61712aa7f14bcf8b46d4aa63-f98dd9cbd5334ad2",T=function(e){return e[e["HOME"]=6]="HOME",e[e["LIST"]=8]="LIST",e}({}),w={"ECONOMY\u3001SUPER_ECONOMY":"\u7ecf\u6d4e\u8231/\u8d85\u7ea7\u7ecf\u6d4e\u8231",ECONOMY:"\u7ecf\u6d4e\u8231",SUPER_ECONOMY:"\u8d85\u7ea7\u7ecf\u6d4e\u8231","BUSINESS\u3001FIRST":"\u516c\u52a1\u8231/\u5934\u7b49\u8231",BUSINESS:"\u516c\u52a1\u8231",FIRST:"\u5934\u7b49\u8231"},b={ECONOMY:1,BUSINESS:2,FIRST:3,SUPER_ECONOMY:4,"ECONOMY\u3001SUPER_ECONOMY":5,"BUSINESS\u3001FIRST":6},C={1:"ECONOMY",2:"BUSINESS",3:"FIRST",4:"SUPER_ECONOMY",5:"ECONOMY\u3001SUPER_ECONOMY",6:"BUSINESS\u3001FIRST"}},72008:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});n(91425);var r=n(63779),i=function(e){var t=r.Z.get("Flight.Mobile.H5Swift.NewAirport")||r.Z.get("NewAirport");if(!t||!t.active)return!1;var n=t&&t.airport,i=!1;return n&&n.forEach((function(t){i=i||e&&e.indexOf(t)>-1})),i}},60328:function(e,t,n){"use strict";n.d(t,{tn:function(){return u},Uz:function(){return l},lr:function(){return s},IY:function(){return d},uo:function(){return f},y:function(){return c}});n(91425);var r={ONE_WAY:{DEFAULT:"10650035673",NONE:"10650035681",NO_DIRECT:"10650062802"},ROUND_TRIP:{DEPARTURE:"10650035675",ARRIVAL:"10650035677",NONE:"10650034704",NO_DIRECT:"10650062802"}},i={ONE_WAY:"10650034706",ROUND_TRIP:"10650034708",TRANSIT:"10650035685"},o={ONE_WAY:{DEPARTURE:"10650097820"},ROUND_TRIP:{DEPARTURE:"10650098042",ARRIVAL:"10650098044"}},a={ONE_WAY:"10650098046",ROUND_TRIP:"10650098048",TRANSIT:"10650098050"},c="10650047304",s="10650034702",l="10650057534",u="10650064426",d={DOMESTIC:r,INTERNATIONAL:o},f={DOMESTIC:i,INTERNATIONAL:a}},9361:function(e,t,n){"use strict";n.d(t,{PO:function(){return d},GR:function(){return u},tL:function(){return l},R2:function(){return s},So:function(){return c}});n(91425);var r,i=n(92954),o=function(){return(0,i.getMenuButtonBoundingClientRect)()},a=n(298);function c(){if(r)return r;var e=(0,i.getSystemInfoSync)(),t=e,n=t.statusBarHeight;return n&&!Number.isNaN(n)||(e=(0,a.Z)((0,a.Z)({},e),{},{statusBarHeight:0})),r=e}var s=function(){var e=c()||{},t=e.safeArea,n=e.screenHeight;if(t&&t.bottom>0){var r=n-t.bottom;return{top:0,bottom:r,left:0,right:0}}return{top:0,bottom:0,left:0,right:0}},l=function(){var e=c(),t=e.statusBarHeight,n=void 0===t?0:t,r=e.platform,i="android"===r?48:40,a=o(),s=a.top,l=a.height;return s&&0!==s&&l&&0!==l?2*(s-n)+l:i},u=function(){var e=o(),t=e.left;return t||278},d=function(){var e=c(),t=e.host,n=e.appName,r=e.app;return n||(null===t||void 0===t?void 0:t.env)||t||r}},51173:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});n(91425);var r=n(65126),i=function(){var e;return(e=r.Y8.util).base64Encode.apply(e,arguments)}},60727:function(e,t,n){"use strict";n.d(t,{fO:function(){return i},as:function(){return a}});n(91425);var r=n(34934),i=function(){return"weapp"},o={WECHATMINIAPP:"weapp",ALIPAYAPP:"alipay",BAIDUAPP:"swan",OLDQUICKAPP:"quickapp",NEWQUICKAPP:"quickapp",TOUTIAOAPP:"tt",QQAPP:"qq"},a=function(){var e="weapp";if("h5"!==e)return e;var t=o[(0,r.C0)()||""];return t?"h5:".concat(t):"h5"}},86944:function(e,t,n){"use strict";n.d(t,{I8:function(){return c},T8:function(){return s},Be:function(){return l},rE:function(){return u},bW:function(){return d},al:function(){return f},Td:function(){return m},FA:function(){return p},bo:function(){return h},qW:function(){return g},Y8:function(){return a.Y8}});n(91425);var r=n(92954),i=n.n(r),o=n(23266),a=n(65126),c=function(){var e;null===(e=a.Y8.sendUbtExpose)||void 0===e||e.refreshObserve()},s=o.T8,l=i().navigateToMiniProgram,u=function(){return a.Y8.user.duid},d=function(){return a.Y8.user.auth},f=function(){return a.Y8.clientID},m=function(e){i().setNavigationBarTitle({title:e})},p=function(){return a.Y8.user},h=function(){return a.Y8.wxSystemInfo.version||a.z4.version},g=function(){return a.z4.cversion||""}},65126:function(e,t,n){"use strict";n.d(t,{Y8:function(){return i.a},z4:function(){return a.a}});n(91425);var r=n(56884),i=n.n(r),o=n(65238),a=n.n(o);n(91783)},28975:function(e,t,n){"use strict";n.d(t,{c:function(){return l}});var r=n(79301),i=n(95308),o=(n(91425),n(82761)),a=n(56262),c=n(95537),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.qu)("MarsID"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=(0,o.i)(),"fat"!==n){e.next=7;break}return e.next=4,s();case 4:if(i=e.sent,!i){e.next=7;break}return e.abrupt("return","https://mars.fws.qa.nt.ctripcorp.com/mid/".concat(i,"/token-").concat(a.Dd,"/platform-taro").concat(t));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},82761:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});n(91425);var r=n(65126);function i(){return r.z4.env}},84706:function(e,t,n){"use strict";n.d(t,{I2:function(){return o},uN:function(){return a},SU:function(){return c}});n(91425);var r=n(92954),i=n(63928);function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,r.getCurrentInstance)();return(null===(e=n.router)||void 0===e?void 0:e.path)||t}function a(){return(0,i.CU)(o())}var c=function(e){return e}},82933:function(e,t,n){"use strict";n.d(t,{Y8:function(){return u.Y8},rE:function(){return u.rE},k$:function(){return s},fO:function(){return r.fO},Gm:function(){return i.G},x4:function(){return l.x},Be:function(){return u.Be},I8:function(){return u.I8},Td:function(){return u.Td}});n(91425);var r=n(60727),i=n(26901),o=n(65126),a=n(21367),c=n(99531),s=function(){var e=a.DC.get()||{};return e&&e.latitude&&e.longitude?Promise.resolve(e):new Promise((function(e){o.Y8.getLocation({success:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.DC.set(t),(0,c.jq)("get_location_success",t),e(t)},fail:function(){e({})}})}))},l=n(89188),u=(n(40003),n(86944));n(82761)},72546:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var r=n(298),i=n(68277),o=(n(91425),n(65126)),a=n(53052),c=["query","hash","needLogin"],s=function(e,t){var n=t||{},s=n.query,l=n.hash,u=n.needLogin,d=void 0!==u&&u,f=(0,i.Z)(n,c),m=e;s&&(m=(0,a.Nv)({url:e,query:s})),l&&(m+="#"+l),o.Y8.component.cwebview({data:(0,r.Z)((0,r.Z)({},f),{},{url:encodeURIComponent(m),needLogin:d})})}},89188:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(91425),i=n(65126),o=n(99531),a=function(){return(0,o.jq)("go-to-login"),new Promise((function(e,t){(0,r.wrapLogin)(i.Y8.user.login)({callback:function(n){n&&"0"===n.ReturnCode?e(!0):t(!1)}})}))}},40003:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var r=n(91425),i=n(65126),o=n(1911),a=function(e){return(0,o.Z)((function(e){return i.Y8.request((0,r.wrapOpt)(e))}))(e)}},23266:function(e,t,n){"use strict";n.d(t,{T8:function(){return i},gB:function(){return o},n:function(){return a},MR:function(){return c},UY:function(){return s}});n(91425);var r=n(65126),i=r.Y8.navigateTo,o=r.Y8.redirectTo,a=r.Y8.navigateBack,c=r.Y8.switchTab,s=r.Y8.reLaunch},95537:function(e,t,n){"use strict";n.d(t,{po:function(){return s},Fj:function(){return l},cF:function(){return u},qu:function(){return d},Li:function(){return f},hq:function(){return m},B$:function(){return p},nQ:function(){return h}});var r=n(91425),i=n(65126),o=n(92954),a=n(1911),c=(0,r.wrapCWXStorage)(i.Y8),s=(0,a.F)(c.setStorage),l=c.setStorageSync,u=(0,a.F)(c.getStorage),d=c.getStorageSync,f=(0,a.F)(i.Y8.removeStorage),m=i.Y8.removeStorageSync,p=(i.Y8.getStorageInfoSync,o.clearStorage),h=o.getStorageInfo},26901:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});n(91425);var r=n(65126),i=function(){var e=r.Y8.mkt.getUnion();return e?{allianceid:e.allianceid,sid:e.sid,ouid:e.ouid,sourceid:e.sourceid,exmktid:e.exmktid,openid:r.Y8.cwx_mkt.openid,unionid:r.Y8.cwx_mkt.unionid}:{}}},35153:function(e,t,n){"use strict";n.d(t,{E_:function(){return f},D4:function(){return p},oq:function(){return h},rr:function(){return g}});var r=n(298),i=n(91425),o=n(84706),a=n(86944),c=n(51173),s=n(26901),l=n(9361),u=n(25913),d=function(e){return e["FlowEvent"]="FlowEvent",e["RemoteCallEvent"]="RemoteCallEvent",e["ActionEvent"]="ActionEvent",e["StackEvent"]="StackEvent",e["PV"]="PV",e}(d||{}),f=function(e){var t=(0,l.So)(),n=t.platform,i=(0,o.uN)()||{},a=i.mini,c=i.name;return(0,r.Z)((0,r.Z)({},e),{},{platform:n,eventPage:a,pageName:c,from:"weapp"})},m=function(e){return function(t){var n=(0,s.G)(),o=n.allianceid,c=n.sid;return(0,u.iA)((0,r.Z)((0,r.Z)({},f(t)),{},{eventType:e,belongTo:"/taro3/flight",timestamp:(0,i.dayjs)().format("YYYY-MM-DD HH:mm:ss.SSS"),createTime:(0,i.dayjs)().format(),cid:(0,a.al)(),version:(0,a.bo)(),appName:(0,l.PO)(),allianceid:o,sid:c}))}},p=m(d.FlowEvent),h=m(d.StackEvent),g=function(e,t){return m(d.RemoteCallEvent)({value:{pageName:e,apiName:t.apiName,url:t.url,request:t.request,response:(0,c.h)(t.response)}})}},40085:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(298),i=(n(91425),n(18228)),o={exposure:function(e,t){return{ubtKeyName:"s_flt_miniapp_homeshow",speed:"s_flt_miniapp_home_".concat(e),data:t}},click:function(e,t){return(0,i.ff)("c_flt_miniapp_homeclick",(0,r.Z)({speed:"c_flt_miniapp_home_".concat(e)},t))}}},99531:function(e,t,n){"use strict";n.d(t,{eI:function(){return r.eI},im:function(){return i.i},jq:function(){return o.jq},ff:function(){return o.ff},$Y:function(){return o.$Y},bd:function(){return o.bd},rb:function(){return o.rb}});n(91425);var r=n(36610),i=n(20045),o=n(18228)},36610:function(e,t,n){"use strict";n.d(t,{u9:function(){return c},eI:function(){return s}});n(91425);var r=n(38163),i=n(18228),o=n(35153),a=["pages/gs","pages/hotel","pages/myctrip","pages/train","pages/search"],c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{var n;if(e instanceof Error)n=String(e),e.stack&&(n+="\n"+e.stack);else try{n=JSON.stringify(e)}catch(e){n="error\u662f\u4e2a\u5b58\u5728\u5faa\u73af\u5f15\u7528\u7684obj"}var c=a.filter((function(e){return n.indexOf(e)>-1}));if(c.length)return;var s=(0,o.oq)({value:n}),l=t||r.g;(0,i.bd)(l,s),(0,i.rb)(e)}catch(e){console.error("addStackEvent failed",e)}},s=function(e,t){if("string"===typeof e){var n=e.split("?")[0],r=(0,o.rr)(n,t);(0,i.bd)("flight_taro_api_performance",r)}}},20045:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var r=n(298),i=(n(91425),n(65550)),o=n(18228),a=n(39352),c=n(32180)["window"],s=a.Z.startTime||(new c.Date).getTime(),l=function(e,t,n,a){var l,u=t||{},d=u.data,f=u.header,m=void 0===f?{}:f,p=(null===d||void 0===d||null===(l=d.ResponseStatus)||void 0===l?void 0:l.Extension)||[],h=(p.find((function(e){return"RootMessageId"===e.Id}))||{}).Value,g=(p.find((function(e){return"CLOGGING_TRACE_ID"===e.Id}))||{}).Value,v=(p.find((function(e){return"uuid"===e.Id}))||{}).Value;if(h&&g){var y=(0,r.Z)({framework:"nfes",success:!0,statusCode:200,RootMessageId:h,CLOGGING_TRACE_ID:g,url:e,uuid:v},a),x=1e3*parseFloat(m["x-service-call"]||"0"),_=+new c.Date-n,N={start:i.Z.pageName.last?0:n-s,value:_,service:x,network:_-x};(0,o.A9)("http_request_perf",y,N)}};t["Z"]=l},18228:function(e,t,n){"use strict";n.d(t,{cj:function(){return p},wn:function(){return h},A9:function(){return g},ff:function(){return v},bd:function(){return y},rb:function(){return _},$Y:function(){return N},jq:function(){return T},$J:function(){return w}});var r=n(298),i=n(79301),o=n(95308),a=(n(91425),n(92954)),c=n(65126),s=n(53052),l=n(25913),u=n(9361),d=n(35153),f=n(32180)["window"],m=function(e){if(e){var t=c.Y8.getCurrentPage();if(t&&t.ubtSendPV){var n=(0,a.getCurrentInstance)().router||{},r=n.path,i=n.params,o={pageId:e,url:(0,s.Nv)({url:r,query:i}),refer:(0,u.PO)()};return console.debug("%cubtSendPV","color:cyan",o),t.ubtSendPV(o)}}},p=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.pageId&&m(t.pageId),console.debug("%cubtSet","color:cyan",t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){var o;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,o=c.Y8.getCurrentPage(),o&&o.ubtTrace){e.next=4;break}return e.abrupt("return");case 4:o.ubtTrace(t,n),console.debug("%cubtTrace","color:cyan",t,n,r),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r,o){var a,s;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=c.Y8.getCurrentPage(),a&&a.ubtMetric){e.next=4;break}return e.abrupt("return");case 4:s=(0,l.iA)((0,d.E_)(n)),a.ubtMetric({name:t,value:r,tag:s}),console.debug("%cubtMetric","color:cyan",t,s,r,o),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:h(t,(0,d.D4)(n||{}),r);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){var o,a;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,o=c.Y8.getCurrentPage(),o&&o.ubtDevTrace){e.next=4;break}return e.abrupt("return");case 4:a=(0,d.D4)(n),o.ubtDevTrace(t,a),console.debug("%cubtDevTrace","color:cyan",t,a,r),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),x=f.Date.now(),_=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,o,a,s,l,u,d,m;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,s=c.Y8.getCurrentPage(),l=null===s||void 0===s||null===(r=s.__cpage)||void 0===r?void 0:r.__ubt_instance,l){e.next=5;break}return e.abrupt("return");case 5:"string"===typeof t&&(t=new Error(t)),u=null===(o=t)||void 0===o||null===(o=o.stack)||void 0===o?void 0:o.split("\n"),d=null===(a=t)||void 0===a?void 0:a.message,m=f.Date.now()-x,l.send("error",{message:d,time:m,stack:u,file:0,category:"inner-error",framework:"normal",line:0,column:0,repeat:1}),console.error("%cubtError","color:cyan",t,n),e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(e){var t=e.abResult;t&&(h("o_abtest_expresult_weixin",t),console.debug("%csetABTracker","color:cyan",t))},T=function(e,t,n){v("_flight_tinyapp_click",(0,r.Z)({speed:e},t),n)},w=function(e,t,n){v("_flight_tinyapp_show",(0,r.Z)({speed:e},t),n)}},41179:function(e,t,n){"use strict";n.d(t,{r:function(){return C},Z:function(){return j}});var r=n(79301),i=n(298),o=n(68277),a=n(95308),c=n(22276),s=n(57042),l=n(24460),u=n(45023),d=(n(91425),n(53052)),f=n(86944),m=n(40003),p=n(99531),h=n(28975),g=n(71420),v=n(24544),y="noNeedToken";function x(e,t){return y}var _,N,T=n(32180)["window"],w=["skipCaptcha","timeout","extension","auth","data"],b="flt_app_session_transactionId",C=function(){function e(t){(0,s.Z)(this,e),(0,u.Z)(this,"extension",[]),(0,u.Z)(this,"option",void 0),this.option=t}return(0,l.Z)(e,[{key:"setExtension",value:function(e,t){this.extension=[{name:e,value:t}]}},{key:"getApiHeader",value:function(e){var t=e.extension,n=void 0===t?[]:t,r=e.auth,i=e.cver,o=(0,f.qW)();return{auth:r||(0,f.bW)()||"",cver:i||o||"",extension:[].concat((0,c.Z)(this.extension),(0,c.Z)(n),[{name:b,value:_}])}}},{key:"promise",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s,l,u,f,m,p,y,x,_,T,b,C,j,S,k,I,E,P,L;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.option,s=a.url,l=a.ttl,u=a.path,f=void 0===u?"/restapi/soa2":u,m=a.queryObject,p=a.dataformat,y=a.cver,x=(0,i.Z)((0,i.Z)({},this.option.param),n),_=x.skipCaptcha,T=void 0!==_&&_,b=x.timeout,C=x.extension,j=x.auth,S=x.data,k=(0,o.Z)(x,w),I=this.option.noCache||n.noCache,t.next=5,(0,h.c)((0,d.Nv)({url:"".concat(f).concat(s),query:(0,i.Z)({},m)}));case 5:return E=t.sent,P=(0,i.Z)((0,i.Z)({},k),{},{data:S,head:this.getApiHeader({extension:C,auth:j,cver:y,data:S})}),P.idlst&&N&&(P.idlst=[{idtype:2,ID:N}].concat((0,c.Z)(P.idlst))),P.params&&N&&(P.params=[{idtype:12,ID:N}].concat((0,c.Z)(P.params))),L=(0,g.BE)({skipCaptcha:T,url:s},(function(t){return(0,v.z)({url:s,noCache:I,param:(0,i.Z)((0,i.Z)({},k),{},{data:S,captchaInfo:t}),ttl:l},(function(){return e.request({targetUrl:E,paramData:P,timeout:b,captchaInfo:t})}))})).then((function(e){var t=null===e||void 0===e?void 0:e.data;return p?p(t):t})),t.abrupt("return",L);case 11:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()}],[{key:"request",value:function(e){var t=e.targetUrl,n=e.paramData,r=e.timeout,i=e.captchaInfo;(0,p.eI)({url:t,request:n},void 0);var o=+new T.Date,a={"Content-Type":"application/json"};if(i){var c=i.token,s=i.rid,l=i.version;a["x-gate-captcha-token-pass"]=c,a["x-gate-captcha-token-token"]=c,a["x-gate-captcha-rid"]=s,a["x-gate-captcha-version"]=l}var u=x(n,t);return u!==y&&(u?(a["token"]=u,(0,p.bd)("hotel_capture_with_token")):(n.head.extension.push({name:"flt_h5fp_cs",value:"1"}),(0,p.bd)("hotel_capture_no_token"))),new Promise((function(e,i){(0,p.jq)("ajax_model_request",{targetUrl:t,paramData:n}),(0,m.W)({url:t,data:n,header:a,timeout:r,success:function(n){var r;(0,p.eI)({url:t,response:n},void 0),e(n);var i=n&&n.data,a=(null===i||void 0===i||null===(r=i.ResponseStatus)||void 0===r?void 0:r.Extension)||[],c=(a.find((function(e){return e.Id===b}))||{}).Value;c&&(_=c);var s=(null===i||void 0===i?void 0:i.Tranno)||(null===i||void 0===i?void 0:i.transactionNo);s&&(N=s),(0,p.im)(t,n,o,{transactionId:_||"",transactionNo:N||""})}}).catch((function(e){i(e||new Error("\u8bf7\u6c42\u5931\u8d25\u9ed8\u8ba4\u9519\u8bef"))}))}))}}]),e}();function j(e){return new C(e)}},24544:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});n(91425);var r=n(22276),i=n(57042),o=n(24460),a=n(45023),c=15e3,s=5,l=function(){function e(t){(0,i.Z)(this,e),(0,a.Z)(this,"cache",void 0),(0,a.Z)(this,"timer",void 0),(0,a.Z)(this,"maxCache",void 0),this.cache=new Map,this.timer={},this.maxCache=(t||{}).maxCache||s}return(0,o.Z)(e,[{key:"get",value:function(e){return this.cache.get(JSON.stringify(e))}},{key:"set",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;if(this.maxCache>0&&this.cache.size>=this.maxCache){var o=(0,r.Z)(this.cache.keys())[0];this.cache.delete(o),this.timer[o]&&clearTimeout(this.timer[o])}var a=JSON.stringify(e);this.cache.set(a,t),i>0&&(this.timer[a]=setTimeout((function(){n.delete(a)}),i))}},{key:"delete",value:function(e){return delete this.timer[e],this.cache.delete(e)}},{key:"clear",value:function(){return this.timer={},this.cache.clear()}}]),e}(),u=new l({});function d(e,t){var n=e.url,r=e.noCache,i=e.param,o=e.ttl,a=n+(i?JSON.stringify(i):"");r&&u.delete(a);var c=u.get(a);if(c)return c;var s=t().catch((function(e){return u.delete(a),Promise.reject(e)}));return r||u.set(a,s,o),s}},71420:function(e,t,n){"use strict";n.d(t,{BE:function(){return P}});var r=n(24460),i=n(57042),o=n(81876),a=n(21867),c=n(86066),s=n(28009),l=n(45023),u=(n(91425),n(92954)),d=n(99531),f=n(298),m=n(90201),p=n(94892),h=n(90129),g=n(71515),v=n(9361),y=n(82933),x=n(82761),_=n(18228),N={CaptchaModal:"CaptchaModal-module_jf3x8","modal-wrap":"CaptchaModal-module_LHTZ7",full:"CaptchaModal-module_KrwcS","captcha-title":"CaptchaModal-module_VoFfe","captcha-container":"CaptchaModal-module_tRRAC","captcha-content":"CaptchaModal-module_mpD2T"},T=n(2269),w=function(e){(0,a.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){return(0,T.jsx)("captcha",{settings:this.props.settings})}}]),n}(m.Component),b=function(e){var t=e.show,n=e.title,r=void 0===n?"\u8bf7\u5b8c\u6210\u4ee5\u4e0b\u9a8c\u8bc1\uff1a":n,i=e.appId,o=e.businessSite,a=e.onConfirm,c=(0,m.useState)(!1),s=(0,h.Z)(c,2),l=s[0],u=s[1],d=(0,m.useCallback)((function(){}),[]),f=(0,m.useMemo)((function(){setTimeout((function(){u(!0)}),200),(0,_.ff)("c_flight_gray_show",{speed:"\u98ce\u63a7\u5f39\u6846\u5c55\u793a"});var e=(0,v.So)(),t=e.windowWidth,n=e.windowHeight,r=e.language,c=e.model,s=e.version,l=(0,y.Gm)(),f=l.unionid,m=l.openid;return{appId:i,businessSite:o,dev:"prd"===(0,x.i)()?"pro":"uat",width:"280px",height:"40px",margin:"auto",textslider:!1,language:r,openid:m,unionid:f,model:c,wx_version:s,duid:(0,y.rE)(),windowWidth:t,windowHeight:n,chooseOpt:{position:"fixed",width:"240px",height:"160px",type:"pop"},stateChange:function(e){0===e?(0,_.$J)("\u62fc\u56fe\u9a8c\u8bc1\u7801\u663e\u793a"):1===e?(0,_.$J)("\u56fe\u6807\u9a8c\u8bc1\u7801\u663e\u793a"):2===e&&(0,_.$J)("\u56fe\u6807\u9a8c\u8bc1\u7801\u6d88\u5931")},onJigsawFail:function(){(0,_.$J)("\u62fc\u56fe\u9a8c\u8bc1\u9519\u8bef")},onSelectFail:function(){(0,_.$J)("\u9009\u5b57\u9a8c\u8bc1\u9519\u8bef")},onSelectClose:function(){(0,_.$J)("\u5173\u95ed\u9a8c\u8bc1")},resultHandler:function(e){if(console.log("token:",e.token,"e.checkState:",e.checkState,"e.version",e.version,"e.rid:",e.rid),"success"===e.checkState||"hidden"===e.checkState)return a&&a({token:e.token,rid:e.rid,version:e.version});(0,_.ff)("c_flight_gray_result_handler",{speed:e.checkState}),d()}}}),[i,o,d,a]);if(!l)return null;var p=!0;return(0,T.jsxs)(g.View,{className:N.CaptchaModal,style:{display:t?"block":"none"},children:[(0,T.jsx)(g.View,{className:"mask"}),(0,T.jsxs)(g.View,{className:N["modal-wrap"],children:[!p&&(0,T.jsxs)(g.View,{className:N["captcha-content"],children:[(0,T.jsx)(g.Text,{className:N["captcha-title"],children:r}),(0,T.jsx)(g.View,{className:N["captcha-container"],children:(0,T.jsx)(w,{settings:f})})]}),p&&(0,T.jsx)(g.View,{children:(0,T.jsx)(w,{settings:f})})]})]})},C=b,j=function(e){return(0,p.K4)({mask:{callback:e.onCancel},content:(0,T.jsx)(C,(0,f.Z)({},(0,f.Z)({show:!0},e))),animationClassName:"animate__animated animate__slideInUp animate__faster",style:{width:"310px",padding:0}})},S=[],k=null,I=function(e,t){var n="flight_search_airtickets_miniapp";n="flight_search_airtickets_miniapp_pic",(0,u.nextTick)((function(){k&&((0,p.Mr)(k),k=null),k=j({appId:"100008344",businessSite:n,onConfirm:function(t){var n=t.token,r=t.rid,i=t.version;(0,d.jq)("confirm_captcha_modal"),(0,p.Mr)(k),k=null,e({token:n,rid:r,version:i})},onCancel:t})}))},E=function(e){(0,a.Z)(n,e);var t=(0,c.Z)(n);function n(e,r){var a;return(0,i.Z)(this,n),a=t.call(this,e),(0,l.Z)((0,o.Z)(a),"skipCaptcha",void 0),a.skipCaptcha=r,a}return(0,r.Z)(n)}((0,s.Z)(Error));function P(e,t){var n=e.skipCaptcha,r=e.url;return new Promise((function(e,i){var o=function o(a){t(a).then((function(e){var t=null===e||[432,430,500].includes((null===e||void 0===e?void 0:e.statusCode)||0);return t?((0,d.jq)("response_check_is_spider",{code:null===e||void 0===e?void 0:e.statusCode,url:r}),Promise.reject(new Error("response_check_is_spider"))):e})).then(e).catch((function(e){return n||a||[404,502].includes(e.status)?i(new E("\u547d\u4e2d\u722c\u866b\u5207\u53cd\u590d\u6d17\u767d\u8d85\u51fa\u91cd\u8bd5\u6b21\u6570",n)):"AbortError"===e.name?((0,d.jq)("request_timeout"),i(new E("\u8d85\u65f6\u4e0d\u5904\u7406",n))):(S.push(o),(0,d.jq)("show_captcha_modal",{url:r,err:e}),void I((function(e){var t=e.token,n=e.rid,r=e.version;S.forEach((function(e){e&&e({token:t,rid:n,version:r})})),S=[]}),(function(){i(new E("\u5173\u95ed\u53cd\u722c\u5f39\u7a97"))})))}))};o()}))}},11764:function(e,t,n){"use strict";var r=n(79301),i=n(95308),o=n(22276),a=n(298),c=n(68277),s=n(57042),l=n(24460),u=n(79038),d=n(59772),f=n(21867),m=n(86066),p=n(91425),h=n(14506),g=n(84706),v=n(86944),y=n(51173),x=n(26901),_=n(21367),N=n(18228),T=n(60727),w=n(41179),b=n(92954),C=n(34934),j=["dataformat"],S=(0,h.Vj)().substr(1,36),k=function(e){(0,f.Z)(n,e);var t=(0,m.Z)(n);function n(e){var r=e.dataformat,i=(0,c.Z)(e,j);return(0,s.Z)(this,n),t.call(this,(0,a.Z)((0,a.Z)({},i),{},{dataformat:function(e){if(p.R.is(Function,r))return r(e);if(e&&e.data&&"ok"!==e.data)try{e.data=JSON.parse(e.data)}catch(e){e instanceof Error&&(0,N.jq)("soa_data_format_error",e)}return e}}))}return(0,l.Z)(n,[{key:"getApiHeader",value:function(e){var t,r,i=e.extension,a=void 0===i?[]:i,c=e.auth,s=e.cver,l=e.data,f=void 0,m=void 0,p="".concat((0,v.al)()||"",".").concat(l||""),h=(0,x.G)()||{},N=null===(t=(0,b.getCurrentInstance)())||void 0===t||null===(t=t.router)||void 0===t?void 0:t.params,w=null!==N&&void 0!==N&&N.hotelToken?decodeURIComponent(null===N||void 0===N?void 0:N.hotelToken):void 0,j=w?"101":_.cm.getAttr("channel","");return(0,u.Z)((0,d.Z)(n.prototype),"getApiHeader",this).call(this,{auth:c,cver:s,extension:[].concat((0,o.Z)(a),[{name:"Flt_SubChannel",value:j},{name:"mystery",value:(0,y.h)(p).substring(0,64)},{name:"sessionId",value:S},{name:"pageName",value:null===(r=(0,g.uN)())||void 0===r?void 0:r.name},{name:"aId",value:""+(h.allianceid||"")},{name:"sId",value:""+(h.sid||"")},{name:"ouId",value:""+(h.ouid||"")},{name:"sourceId",value:""+(h.sourceid||"")},{name:"exmktID",value:""+(h.exmktid||"")},{name:"env",value:(0,T.as)()||""},{name:"version",value:"2023.11.02"},{name:"platform.source",value:(0,C.C0)()||"H5"},(f||m)&&{name:"FLT_SSID",value:f},(f||m)&&{name:"FLT_BSSID",value:m},w&&{name:"hotelKeys",value:JSON.stringify([{hotelToken:w}])}]).filter(Boolean)})}},{key:"promise",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=(0,a.Z)((0,a.Z)({},this.option.param),t),o=i.data,e.abrupt("return",(0,u.Z)((0,d.Z)(n.prototype),"promise",this).call(this,(0,a.Z)((0,a.Z)({},t),{},{data:JSON.stringify(o)})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(w.r);t["Z"]=function(e){return new k(e)}},17188:function(e,t,n){"use strict";n.d(t,{f:function(){return s},d:function(){return l}});var r=n(79301),i=n(298),o=n(95308),a=n(93212),c=(n(91425),n(11764)),s=function(e){return"object"===(0,a.Z)(e)&&null!=e&&"status"in e},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=(0,o.Z)((0,r.Z)().mark((function n(o){var a,s,l,u,d,f,m,p,h,g,v;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=o.url,s=o.serverCode,l=o.method,u=o.format,d=void 0===u?"json":u,f=o.queryObject,m=void 0===f?{}:f,p=o.cver,h=o.queryParams,g=a||"/".concat(s,"/").concat(d,"/").concat(encodeURIComponent(l||"")),n.prev=2,n.next=5,(0,c.Z)({cver:p,noCache:!0,url:"".concat(e).concat(g),queryObject:(0,i.Z)((0,i.Z)({},t),m)}).promise(h);case 5:return v=n.sent,n.abrupt("return",{data:v});case 9:return n.prev=9,n.t0=n["catch"](2),n.abrupt("return",{error:{status:n.t0.status,data:n.t0,skipCaptcha:n.t0.skipCaptcha}});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}},9021:function(e,t,n){"use strict";n.d(t,{u$:function(){return i},jo:function(){return o},lH:function(){return a},Q$:function(){return c},Ck:function(){return s},Zs:function(){return l},sq:function(){return u}});n(91425);var r=n(41179),i=(0,r.Z)({noCache:!0,url:"/13515/queryUserInfo"}),o=((0,r.Z)({url:"/14420/7087/json/flightGloryDetail"}),(0,r.Z)({url:"/15095/flightSameCityDetect"})),a=((0,r.Z)({url:"/15037/flightClauseSearch"}),(0,r.Z)({url:"/17909/queryuserauthinfo"}),(0,r.Z)({ServiceCode:"13060501",url:"/17909/giftPackage"})),c=(0,r.Z)({ServiceCode:"13032701",url:"/15467/extendCoupon"}),s=(0,r.Z)({url:"/14047/PopupActivity"}),l=(0,r.Z)({url:"/14047/ReceiveCoupon"}),u=(0,r.Z)({url:"/14047/NewUserReceiveCoupon"});(0,r.Z)({url:"/15756/bjjson/bookingquery"}),(0,r.Z)({url:"/15449/bjjson/QueryValidityOfCredential"})},25487:function(e,t,n){"use strict";n.d(t,{E3:function(){return k},zV:function(){return E},SQ:function(){return I},Xg:function(){return P},Hg:function(){return S},G$:function(){return j}});n(91425);var r=n(79301),i=n(298),o=n(68277),a=n(95308),c=n(57042),s=n(24460),l=n(79038),u=n(59772),d=n(21867),f=n(86066),m=n(53052),p=n(40003),h=n(86944),g=n(36610),v=n(20045),y=n(28975),x=n(41179),_=n(71420),N=n(24544),T=n(32180)["window"],w=["noCache","skipCaptcha","timeout","useDoubleCver"],b=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"promise",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,c,s,d,f,p,h,g,v,x,T,b,C,j,S,k,I,E=this;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.option,c=a.url,s=a.ttl,d=a.path,f=void 0===d?"/restapi/soa2":d,p=a.queryObject,h=a.dataformat,g=(0,i.Z)((0,i.Z)({},this.option.param),t),v=g.noCache,x=void 0!==v&&v,T=g.skipCaptcha,b=void 0!==T&&T,C=g.timeout,j=g.useDoubleCver,S=void 0!==j&&j,k=(0,o.Z)(g,w),e.next=4,(0,y.c)((0,m.Nv)({url:"".concat(f).concat(c),query:(0,i.Z)({},p)}));case 4:return I=e.sent,e.abrupt("return",(0,_.BE)({skipCaptcha:b,url:c},(function(e){return(0,N.z)({url:c,noCache:x,param:(0,i.Z)((0,i.Z)({},k),{},{captchaInfo:e}),ttl:s},(function(){return n.requestDouble({targetUrl:I,paramData:(0,i.Z)((0,i.Z)({},k),{},{head:(0,l.Z)((0,u.Z)(n.prototype),"getApiHeader",E).call(E,k)}),timeout:C,captchaInfo:e,useDoubleCver:S})}))})).then((function(e){var t=e&&e.data;return h?h(t):t})));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"requestDouble",value:function(e){var t=e.targetUrl,n=e.paramData,r=e.timeout,o=e.captchaInfo,a=e.useDoubleCver;(0,g.eI)({url:t,request:n},void 0);var c=+new T.Date,s={"Content-Type":"application/json"};if(o){var l=o.token,u=o.rid,d=o.version;s["x-gate-captcha-token-pass"]=l,s["x-gate-captcha-token-token"]=l,s["x-gate-captcha-rid"]=u,s["x-gate-captcha-version"]=d}var f={};if(a){var m=(0,h.qW)();m&&(f=(0,i.Z)((0,i.Z)({},f),{},{cver:m,extension:[{name:"source",value:"miniapp"}]}))}return new Promise((function(e,o){(0,p.W)({url:t,data:(0,i.Z)((0,i.Z)({},n),{},{head:f}),header:s,timeout:r,success:function(n){(0,g.eI)({url:t,response:n},void 0),e(n),(0,v.Z)(t,n,c)},fail:function(e){o(e||new Error("\u8bf7\u6c42\u5931\u8d25\u9ed8\u8ba4\u9519\u8bef"))}})}))}}]),n}(x.r),C=function(e){return new b(e)},j=C({url:"/19728/fuzzySearch"}),S=C({url:"/15095/boardListShowSearch"}),k=C({url:"/21943/flightHomeFirstService"}),I=C({url:"/21943/historySearchLowPriceService"}),E=C({url:"/21943/flightHomeSecondService"}),P=C({url:"/17909/getNearAirportInfo"})},30993:function(e,t,n){"use strict";n.d(t,{u0:function(){return i},Ki:function(){return o}});n(91425);var r=n(11764),i=(0,r.Z)({url:"/19691/note",queryObject:{subEnv:"fat6"}}),o=((0,r.Z)({url:"/19691/xList",queryObject:{subEnv:"fat6"}}),(0,r.Z)({url:"/15490/flightXListSearch"}),(0,r.Z)({url:"/13956/getXProductDetailInfo"}),(0,r.Z)({noCache:!0,url:"/19691/orderCreate",queryObject:{subEnv:"fat6"}}),(0,r.Z)({noCache:!0,url:"/15756/bjjson/orderCreate",queryObject:{subEnv:"fat3"}}),(0,r.Z)({noCache:!0,url:"/15449/flightrepeatordercheck"}),(0,r.Z)({url:"/19691/verify"}),(0,r.Z)({url:"/19691/airportFuzzySearch"}));(0,r.Z)({ttl:36e5,url:"/19691/getRegion"}),(0,r.Z)({url:"/19691/reportMetric"}),(0,r.Z)({url:"/19691/report"}),(0,r.Z)({noCache:!0,url:"/19691/saveSharePassenger"}),(0,r.Z)({url:"/19691/getMemberInterests"}),(0,r.Z)({noCache:!0,url:"/19691/getCoupons"}),(0,r.Z)({url:"/19691/handleUserContact"}),(0,r.Z)({noCache:!0,url:"/19691/getHorn"}),(0,r.Z)({noCache:!0,url:"/17964/hornContent"}),(0,r.Z)({url:"/19691/getTravelCard"}),(0,r.Z)({url:"/19691/getConfig"}),(0,r.Z)({url:"/19691/PersonalizedTheme"}),(0,r.Z)({url:"/19691/specialRoutesSearch"}),(0,r.Z)({url:"/19691/getPassengerENName"}),(0,r.Z)({url:"/19691/getSwitch"}),(0,r.Z)({url:"/19691/orderComplete"}),(0,r.Z)({url:"/19691/completeInvoice"}),(0,r.Z)({url:"/19691/getHomeFlightInfo"}),(0,r.Z)({url:"/19691/subscribeToShare"}),(0,r.Z)({url:"/19691/getSharePassenger"}),(0,r.Z)({url:"/19691/getAvailableCardList"})},88990:function(e,t,n){"use strict";n.d(t,{Mi:function(){return o}});n(91425);var r=n(90201),i=(0,r.createContext)({pageProps:{}});i.displayName="PageContext";i.Consumer;var o=i.Provider},29557:function(e,t,n){"use strict";n.d(t,{bE:function(){return _},hk:function(){return g},aT:function(){return l},aN:function(){return N},Gm:function(){return p},Sl:function(){return h},h0:function(){return f},lg:function(){return S}});n(91425);var r=n(90201),i=(n(88990),n(90129)),o=n(57729),a=n(18228),c=n(94892),s=n(32180)["window"];function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5,l=(0,r.useState)((new s.Date).getTime()),u=(0,i.Z)(l,2),d=u[0],f=u[1],m=function(){var e=(new s.Date).getTime(),r=e-d;return r>n&&((0,a.jq)("page_detention_timeout",{desc:"\u9875\u9762\u505c\u7559\u8fc7\u957f",timeSpan:r}),(0,o.w)({content:"\u60a8\u5728\u5f53\u524d\u9875\u9762\u505c\u7559\u7684\u65f6\u95f4\u8fc7\u957f\uff0c\u8bf7\u91cd\u65b0\u67e5\u8be2\uff01",buttons:[{text:"\u77e5\u9053\u4e86",callback:function(){f((new s.Date).getTime()),t(),(0,c.Mr)()}}]}),!0)},p=function(){m()||e.apply(void 0,arguments)};return{callback:p}}var u=n(92954),d=n.n(u),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=(0,r.useState)(1),c=(0,i.Z)(a,2),s=c[0],l=c[1],u=(0,r.useRef)(!1);n&&t!==s&&o&&l(t),(0,r.useEffect)((function(){setTimeout((function(){u.current=!1}),200)}),[s]);var f=(0,r.useCallback)((function(){t<=s||u.current||n||t>s&&(u.current=!0,l(s+1))}),[s,t,n]);return(0,r.useEffect)((function(){if(!n){var t=d().getCurrentInstance().page||{},r=d().createIntersectionObserver(t,{thresholds:[0]});return d().nextTick((function(){r.relativeToViewport().observe(e,(function(e){e.intersectionRatio>0&&f()}))})),function(){r.disconnect()}}}),[f,n,e]),{pageNo:s,setPageNo:l,renderNext:f}},m=n(63779);n(99531);function p(e,t){var n=(0,r.useState)(m.Z.get(e)||t),o=(0,i.Z)(n,2),a=o[0],c=o[1];return(0,r.useEffect)((function(){var t=!0;return m.Z.initPromise.then((function(){var n=m.Z.get(e);t&&n&&c(n)})),function(){t=!1}}),[e]),a}var h=function(e){var t=(0,r.useState)("loaded"===m.Z._status&&m.Z.getSwitcher(e)),n=(0,i.Z)(t,2),o=n[0],a=n[1];return(0,r.useEffect)((function(){var t=!0;return m.Z.initPromise.then((function(){t&&a(m.Z.getSwitcher(e))})),function(){t=!1}}),[e]),o},g=function(e,t){var n=(0,r.useState)(e),o=(0,i.Z)(n,2),a=o[0],c=o[1];return(0,r.useEffect)((function(){if(!(a<t)){var e=setInterval((function(){c(a-1)}),1e3);return function(){clearInterval(e)}}}),[a,t]),a},v=n(65126),y=function(){var e;return(e=v.Y8.ABTestingManager).valueForKeyAsync.apply(e,arguments)},x=function(){var e;return(e=v.Y8.ABTestingManager).valueForKeySync.apply(e,arguments)},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"A",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["weapp","swan","alipay","h5","tt"],o="weapp",a=n.includes(o),c=(0,r.useState)(a&&x(e)||t),s=(0,i.Z)(c,2),l=s[0],u=s[1];return(0,r.useEffect)((function(){var n=["A","B","C","D","E","F"];!a||l&&n.includes(l)||y(e,(function(e){u(e||t)}))}),[t,e,l]),l};function N(e){var t=(0,u.useRouter)(),n=t.params;return n}var T=n(27759),w=n(17321),b=n(72713),C=n(67107),j=n(93652),S=function(){var e=_(T.vC,"A",["weapp"]),t=["B","E"].includes(e),n=(0,C.C)(b.Fg),r=(0,C.C)(b.K),i=(0,C.C)(b.sP),o=(0,C.C)(w.e_),a=(0,j.rs)(o),c=t&&(n.length>1||r.length>1||1===r.length&&r[0].isTheme||i.departDateRange.length&&a);return[!!c,t]}},37549:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(91425);var r=n(90201),i=n(17188);function o(e,t){var n=(0,i.f)(e)&&(null===e||void 0===e?void 0:e.skipCaptcha);(0,r.useEffect)((function(){n&&t()}),[n,t])}},64676:function(e,t,n){"use strict";n.d(t,{d:function(){return m}});var r=n(298),i=(n(91425),n(90201)),o=n(72546),a=n(82761),c=n(60727),s=n(63779),l=n(53052),u=n(92954),d=n(18228),f=(0,c.fO)(),m=function(e,t){var n=(0,u.useRouter)(),c=n.params,m=e.ssrH5Url;(0,i.useEffect)((function(){m&&s.Z.initPromise.then((function(){var e="weapp"===f&&s.Z.getSwitcher("useWeixinTinyApp",!0)||"swan"===f&&s.Z.getSwitcher("useBaiduTinyAppNew",!0)||"alipay"===f&&s.Z.getSwitcher("useAlipayTinyApp",!0)||"tt"===f&&s.Z.getSwitcher("useTtTinyApp",!0);return{mini:e,h5:!e}})).then((function(e){if(e.h5){var n={fat:"m.ctrip.fat33.qa.nt.ctripcorp.com",prd:"m.ctrip.com"}[(0,a.i)()],i=(0,l.Nv)({url:"https://"+n+m,query:(0,r.Z)((0,r.Z)((0,r.Z)({},c),t),{},{fromminiapp:f})});(0,d.jq)("mini_jump_to_h5",{desc:"\u8df3\u8f6c\u81f3h5\u7248\u672c",jumpUrl:i}),(0,o.G)(i,{isNavigate:!1,url:encodeURIComponent(i)})}}))}),[c])}},39352:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});n(91425);var r=n(32180)["window"],i=function(){return"undefined"!==typeof r?r:{location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},screen:{width:390,height:844},devicePixelRatio:1,addEventListener:function(){}}}();t["Z"]=i},93652:function(e,t,n){"use strict";n.d(t,{rs:function(){return i},SA:function(){return o},Fw:function(){return a},tK:function(){return c}});n(91425);var r=n(60452),i=function(e){return"SPECIAL_OFFERS"===e},o=function(e){return"ROUND_TRIP"===e},a=function(e){return"ONE_WAY"===e},c=function(e){return e===r.pI.ECONOMY||e.split("\u3001").some((function(e){return e===r.pI.ECONOMY}))}},13248:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});n(91425);var r=n(60452);function i(e,t){return e===r.Og.INTERNATIONAL||t===r.Og.INTERNATIONAL?r.Og.INTERNATIONAL:r.Og.DOMESTIC}},88698:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(91425),i=function(e,t,n){var i=t.find((function(e){return e.name===n})),o=(null===i||void 0===i?void 0:i.canSearch)||!1;return"ONE_WAY"===e?o||(0,r.showToast)({title:"\u8be5\u57ce\u5e02\u6682\u65e0\u540c\u57ce\u822a\u7ebf",time:1e3}):(o=!1,(0,r.showToast)({title:"\u6682\u4e0d\u652f\u6301\u76f8\u540c\u57ce\u5e02\u5f80\u8fd4\u67e5\u8be2",time:1e3})),o};t["Z"]=i},95277:function(e,t,n){"use strict";n(91425);var r=function(e){var t=e||"";if(e&&e.includes("<HL>")&&e.includes("</HL>")){var n=e.indexOf("<HL>"),r=e.indexOf("</HL>");t=e.replace(/<HL>|<\/HL>/g,"").slice(0,16),t=t.slice(0,n)+"<HL>"+t.slice(n,r-4)+"</HL>"+t.slice(r-4)}return t};t["Z"]=r},4091:function(e,t,n){"use strict";n.d(t,{ps:function(){return i},WU:function(){return o},eV:function(){return a},b6:function(){return s},xF:function(){return l}});var r=n(91425),i=(n(32180)["window"],{0:"\u5468\u65e5",1:"\u5468\u4e00",2:"\u5468\u4e8c",3:"\u5468\u4e09",4:"\u5468\u56db",5:"\u5468\u4e94",6:"\u5468\u516d"}),o=function(e,t){var n=(0,r.dayjs)(e),o=t.replace(/yyyy/,n.year());return o=o.replace(/MM/,"".concat(("0"+(n.month()+1)).slice(-2))),o=o.replace(/dd/,"".concat(("0"+n.date()).slice(-2))),o=o.replace(/EE/,i[n.day()]&&i[n&&n.day()].toString()),o},a=function(e){var t=(0,r.dayjs)(e);return t.isValid()?t.isSame((0,r.dayjs)(),"day")?"\u4eca\u5929":t.isSame((0,r.dayjs)().add(1,"day"),"day")?"\u660e\u5929":t.isSame((0,r.dayjs)().add(2,"day"),"day")?"\u540e\u5929":t.locale("zh-cn").format("ddd"):""},c=function(e,t,n){return(0,r.dayjs)(t).diff((0,r.dayjs)(e),n)},s=function(e,t){if(e&&t){var n=c(t,e,"seconds"),r=Math.floor(n/3600),i=Math.floor(n%3600/60),o=Math.floor(n%3600%60);return{hours:r,minutes:i,seconds:o}}return{hours:0,minutes:0,seconds:0}},l=function(e){if(!e)return"";var t=Math.floor(e/60)>0?Math.floor(e/60):0,n=e-60*t;return"".concat(t>0?t+"h":"").concat(n>0?n+"m":"")}},74498:function(e,t,n){"use strict";n.d(t,{Z:function(){return ae}});var r=n(79301),i=n(298),o=n(95308),a=n(57042),c=n(24460),s=n(81876),l=n(21867),u=n(86066),d=n(45023),f=n(91425),m=n(90201);n(37791);var p=n(59153),h=n(84706),g=n(74711),v=n(71515),y=(n(86428),n(59293)),x=n(60933),_=n(14140),N=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var i,o,a,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=!1,o=t.data||{},a=o.needLogin,c=(null===t||void 0===t?void 0:t.url)||"",!a){e.next=14;break}return e.prev=4,e.next=7,(0,x.Zw)();case 7:e.next=14;break;case 9:return e.prev=9,e.t0=e["catch"](4),i=!0,e.next=14,(0,x.fN)(c);case 14:return _.ZP.addInfo({hasLogin:!i}),e.next=17,n();case 17:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),T=n(63928),w=n(88990),b=n(92954),C=n(99531),j=n(67107),S=n(65550),k=n(49578),I={value:"DOMESTIC"},E=(0,f.createSlice)({name:"regionType",initialState:I,reducers:{changeRegionType:function(e,t){e.value=t.payload}}}),P=E.actions.changeRegionType,L=(E.reducer,n(53012)),V=n(30993),O=n(92660),A=n(48935),R=n(22772),D=n(32532),Z=n(17321),F=n(13612),M=n(53052),B=(n(60727),n(89188),n(90558)),U=(n(5644),n(72546),n(54102)),q=n(2269);function Y(e){var t=e.needLogin,n=e.createNonUser,r=e.children,i=e.bootstrapped,o=(0,j.T)(),a=(0,b.useRouter)(),c=a.path,s=a.params,l=(0,j.C)(F.c7),u=(0,j.C)(Z.QY),d=(0,m.useCallback)((function(){o((0,B.Xq)())}),[o]);(0,m.useEffect)((function(){S.Z.setPageName(c)}),[c]),(0,m.useEffect)((function(){(0,x.Zw)().catch((function(){t&&(0,x.fN)().then((function(){(0,b.redirectTo)({url:(0,M.Nv)({url:c,query:s})})}))}))}),[c,s,t,n,d,l]),(0,m.useEffect)((function(){if(i&&(!u||(0,D.Uc)(s))){var e=(0,D.ZD)(s);if(!e)return void o((0,L.mI)(!0));var t=e,n=t.tripType,r=t.regionType,a=t.departure,c=t.arrival,l=t.passengerType,d=t.interCabin;o((0,k.mA)(n)),o(P(r)),o((0,O.b7)(a)),o((0,O.AO)(a.date)),o((0,A.FS)(c.date)),o((0,A.oC)(c)),o((0,O.jW)(a.cabin)),o((0,A.Pc)(c.cabin)),o((0,R.wl)(l)),o((0,U.dS)(d)),o((0,L.mI)(!0))}}),[s,o,i,u,c]);var f=(0,j.C)(Z.wQ),p=(0,j.C)(Z.wG);return(0,m.useEffect)((function(){var e=f.cityCode,t=f.regionType,n=f.cityName;V.Ki.promise({data:{key:e}}).then((function(r){var i=r.data,a=(i||[]).find((function(t){return"CITY"===t.poiType&&t.cityCode===e.toUpperCase()}));if(a){var c=a.isIntl?"INTERNATIONAL":"DOMESTIC";c!==t&&o((0,O.ro)(c)),n!==a.cityName&&o((0,O.Mb)(a.cityName))}})).catch((function(){}))}),[f,p,o]),(0,m.useEffect)((function(){var e=p.cityCode,t=p.regionType,n=p.cityName;V.Ki.promise({data:{key:e}}).then((function(r){var i=r.data,a=(i||[]).find((function(t){return"CITY"===t.poiType&&t.cityCode===e.toUpperCase()}));if(a){var c=a.isIntl?"INTERNATIONAL":"DOMESTIC";c!==t&&o((0,A.gN)(c)),n!==a.cityName&&o((0,A.nR)(a.cityName))}})).catch((function(){}))}),[f,p,o]),(0,q.jsx)(q.Fragment,{children:r})}var H=(0,m.memo)(Y),G=n(92258),W=n(72656),z=W.C,K=function(){return null},Q=K,J=Q,X=function(e){var t=e.needLogin,n=e.createNonUser,r=e.children,i=(0,b.useRouter)(),o=i.params;return(0,m.useEffect)((function(){try{var e=o.abinfo;if(e){var t=JSON.parse(e)||{},n=t.abResult,r=t.abTracker;(0,C.$Y)({abResult:n,abTracker:r})}}catch(e){}})),(0,q.jsx)(f.Provider,{store:G.h,children:(0,q.jsx)(f.PersistGate,{loading:null,persistor:G.Dj,children:function(e){return(0,q.jsxs)(H,{needLogin:t,createNonUser:n,params:o,bootstrapped:e,children:[(0,q.jsx)(J,{}),r,(0,q.jsx)(z,{})]})}})})},$=(0,m.memo)(X),ee=n(96575),te=n(36610),ne=n(18228),re=n(90983),ie=n(63779),oe=function(e){ie.Z.initPromise.then((function(){var t,n=ie.Z.get("expTrace",{}),r=n.pageTrace,i=void 0===r?{}:r,o=n.expResult,a=void 0===o?{}:o,c=n.expTracker,s=void 0===c?{}:c,l=i["".concat("weapp",":").concat(e)]||i["".concat(e)]||[],u=(0,re.Z)(l);try{for(u.s();!(t=u.n()).done;){var d=t.value,f=a[d],m=s[d];(0,ne.$Y)({abResult:f,abTracker:m})}}catch(e){u.e(e)}finally{u.f()}}))};function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageId,n=e.needLogin,m=e.createNonUser;return function(e){return function(p){(0,l.Z)(x,p);var y=(0,u.Z)(x);function x(e){var n;return(0,a.Z)(this,x),n=y.call(this,e),(0,d.Z)((0,s.Z)(n),"setCurrentPageId",function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.props.pvIdAsync;case 2:o=e.sent,n.setState((0,i.Z)((0,i.Z)({},n.state),{},{currentPageId:t})),t&&(0,ne.cj)({pageId:t},o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.checkPerformance=!0,n.state={currentPageId:t},f.trackPage&&(0,f.trackPage)(),n}return(0,c.Z)(x,[{key:"onUnload",value:function(){var e=(0,h.I2)();(0,ee.of)(e)}},{key:"componentDidShow",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,i,o;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.state.currentPageId,e.next=3,this.props.pvIdAsync;case 3:n=e.sent,i=(0,h.I2)(),(0,ee.FB)(i),o=(0,T.kK)(i),g.ZP.emit(g.Ke,o),oe(o),t&&(0,ne.cj)({pageId:t},n);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentDidCatch",value:function(e){(0,te.u9)(e)}},{key:"render",value:function(){var t=this,r=this.props,o=r.pageProps,a=void 0===o?{}:o,c=r.routerType,s=r.customRoutes;return(0,q.jsxs)(w.Mi,{value:{pageProps:a,routerType:c,customRoutes:s},children:[(0,q.jsx)($,(0,i.Z)((0,i.Z)({},(0,i.Z)((0,i.Z)({},a),{},{needLogin:n,createNonUser:m})),{},{children:(0,q.jsx)(e,(0,i.Z)({},(0,i.Z)((0,i.Z)({},a),{},{setCurrentPageId:this.setCurrentPageId})))})),(0,q.jsx)(v.View,{className:"view-check",onAnimationEnd:function(){return t.viewReadyHandle()}})]})}}]),x}(p.Z)}}(0,y.Iy)(N)},65325:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});n(91425);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ADULT,r=e.CHILD,i=e.INFANT;return[n>0&&{passengercount:n,passengertype:"Adult"},r>0&&{passengercount:r,passengertype:t?"Child":"CHILD"},i>0&&{passengercount:i,passengertype:t?"Baby":"INFANT"}].filter(Boolean)}},25913:function(e,t,n){"use strict";n.d(t,{iA:function(){return l}});var r=n(45023),i=n(298),o=n(90129),a=n(91425),c=function(e){return"[object Object]"===Object.prototype.toString.call(e)},s=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1};return function(n){var a=e(t);return Array.isArray(n)?n.map((function(e){return a(e)})):c(n)?Object.entries(n).reduce((function(e,n){var c=(0,o.Z)(n,2),s=c[0],l=c[1];return t(l)?e:(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},s,a(l)))}),{}):n}},l=s(a.R.either(a.R.isNil,a.R.isEmpty))},1911:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(298),i=(n(91425),function(e){return function(t){return new Promise((function(n,i){try{var o=t||{},a=o.success,c=o.fail,s=o.complete;e((0,r.Z)((0,r.Z)({},t),{},{success:function(e){n(e),a&&a(e)},complete:function(e){s&&s(e)},fail:function(e){i(e),c&&c(e)}}))}catch(e){i(e),fail&&fail(e)}}))}});t["Z"]=i},53052:function(e,t,n){"use strict";n.d(t,{Qc:function(){return l},en:function(){return d},Nv:function(){return f}});var r=n(298),i=n(90129),o=n(91425),a=o.R.compose(o.R.head,o.R.split("?")),c=o.R.compose(o.R.head,o.R.tail,o.R.split("?"));function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.R.startsWith("?",e)&&(e=o.R.tail(e)),o.R.compose(o.R.fromPairs,o.R.map(o.R.split("=")),o.R.filter((function(e){return!o.R.isEmpty(e)})),o.R.split("&"))(e)}var l=s,u=function(e,t){var n,r=null!==(n=null===t||void 0===t?void 0:t.encode)&&void 0!==n&&n;return o.R.compose(o.R.join("&"),o.R.map(o.R.join("=")),o.R.when((function(){return r}),o.R.map(o.R.map(encodeURIComponent))),o.R.filter((function(e){var t=(0,i.Z)(e,2),n=(t[0],t[1]);return!o.R.isEmpty(n)&&!o.R.isNil(n)})),o.R.toPairs)(e)};function d(e){return{url:a(e),query:s(c(e))}}var f=function(e,t){var n=e.url,i=e.query;return o.R.compose(o.R.join("?"),o.R.filter((function(e){return!o.R.isEmpty(e)})))([n,u((0,r.Z)({},i),t)])}},57729:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(298),i=(n(91425),n(94892)),o={title:"",content:"",buttons:[{text:"\u77e5\u9053\u4e86"}]},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"===typeof e?(0,r.Z)((0,r.Z)({},o),{},{content:e}):(0,r.Z)((0,r.Z)({},o),e),n=t.buttons;n[1]&&(n[1].class="primary"),(0,i.K4)((0,r.Z)({className:"taro-show-alert"},t))}},21367:function(e,t,n){"use strict";n.d(t,{LP:function(){return i},IJ:function(){return o},DC:function(){return a},qV:function(){return c},cm:function(){return s}});n(91425);var r=n(71098),i=new r.ZP({version:"2020-05-29",key:function(){return"fioReadStore"},expires:function(){return 1*r.v0}}),o=new r.ZP({version:"2020-05-29",key:function(){return"showedFIOLayerStore"},expires:function(){return 1*r.v0}}),a=new r.ZP({version:"2022-11-24",key:function(){return"userLocation"},expires:function(){return 2*r.v0}}),c=(new r.ZP({version:"2020-05-29",key:function(){return"contactinfo"},expires:function(){return 1*r.v0}}),new r.ZP({version:"2020-05-29",key:function(){return"cityData"},expires:function(){return 1*r.v0},default:function(){}}),new r.ZP({version:"2022-08-29",key:function(){return"cityHistory"},expires:function(){return 1*r.v0}})),s=(new r.ZP({version:"2020-10-14",key:function(){return"searchContext"},expires:function(){return 7*r.v0},default:function(){}}),new r.ZP({version:"2022-04-08",key:function(){return"FLIGHT_H5ST_DOMESTIC_SUBCHANNEL_CACHE"},expires:function(){return 30*r.Z7},default:function(){return{}}}));new r.ZP({version:"2022-06-01",key:function(){return"searchCondition"},expires:function(){return 7*r.v0},default:function(){}})},71098:function(e,t,n){"use strict";n.d(t,{Z7:function(){return u},v0:function(){return f}});var r=n(57042),i=n(24460),o=n(45023),a=(n(91425),n(95537)),c=n(32180)["window"],s="2020-11-18",l="FLT_STOREGE_",u=6e4,d=60*u,f=24*d,m=function(){function e(t){(0,r.Z)(this,e),(0,o.Z)(this,"opt",void 0),this.opt=t}return(0,i.Z)(e,[{key:"getKey",value:function(){return l+this.opt.key()}},{key:"getCacheVersion",value:function(){return s+this.opt.version}},{key:"get",value:function(){var t=(0,a.qu)(this.getKey()),n=this.opt.default&&this.opt.default();if(!t)return n;try{t=JSON.parse(t)}catch(e){return n}return e.getTime()-t.timeStamp>this.opt.expires()||t.version&&t.version!==this.getCacheVersion()?(this.remove(),n):t.data}},{key:"set",value:function(t){(0,a.Fj)(this.getKey(),JSON.stringify({data:t,version:this.getCacheVersion(),timeStamp:e.getTime()}))}},{key:"setAttr",value:function(e,t){var n=this.get()||{};n[e]=t,this.set(n)}},{key:"getAttr",value:function(e,t){var n=this.get()||{};return n[e]||t}},{key:"modify",value:function(e){this.set(e(this.get()))}},{key:"remove",value:function(){(0,a.hq)(this.getKey())}}],[{key:"getTime",value:function(){return(new c.Date).getTime()}}]),e}();t["ZP"]=m},1098:function(e,t,n){"use strict";n.d(t,{j_:function(){return l},Mc:function(){return u},_p:function(){return d},Qf:function(){return f}});var r=n(68277),i=(n(91425),n(92954)),o=["retry","delayTime"],a=["retry","delayTime"],c=200,s={retry:0,delayTime:c,id:!1,dataset:!1,mark:!1,rect:!1,size:!1,scrollOffset:!1,context:!1,node:!1,properties:[],computedStyle:[]};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=t.retry,a=void 0===n?0:n,l=t.delayTime,u=void 0===l?c:l,d=(0,r.Z)(t,o),f=a,m=function t(n){try{(0,i.createSelectorQuery)().selectAll(e).fields(d).exec((function(e){var r=e[0];r&&r.length?n(r):f>0?setTimeout((function(){f--,t(n)}),u):n([])}))}catch(e){n([])}};return new Promise(m)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=t.retry,o=void 0===n?0:n,l=t.delayTime,u=void 0===l?c:l,d=(0,r.Z)(t,a),f=o,m=function t(n,r){try{(0,i.createSelectorQuery)().select(e).fields(d).exec((function(e){var i=e[0];i?n(i):f>0?setTimeout((function(){f--,t(n,r)}),u):n(null)}))}catch(e){n(null)}};return new Promise(m)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=t.retry,r=void 0===n?0:n,o=t.delayTime,a=void 0===o?c:o,l=r,u=function t(n,r){try{(0,i.createSelectorQuery)().select(e).node().exec((function(e){var i,o=null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.node;o?n(o):l>0?setTimeout((function(){l--,t(n,r)}),a):n(null)}))}catch(e){n(null)}};return new Promise(u)}function f(e){var t;return e=e||(0,i.getCurrentInstance)(),(null===(t=e)||void 0===t||null===(t=t.router)||void 0===t?void 0:t.params)||{}}},14140:function(e,t,n){"use strict";var r,i=n(298),o=(n(91425),n(18228)),a=n(39352),c=n(32180)["window"],s=a.Z.startTime||(new c.Date).getTime(),l=function(){var e=(new c.Date).getTime();r={start:e,hasLogin:!0}},u=function(e){r=(0,i.Z)((0,i.Z)({},r),e)},d=function(e){var t,n=(new c.Date).getTime(),a=e.key,l=void 0===a?"":a,u=e.name,d=void 0===u?"":u,f=e.pageId,m=void 0===f?"":f,p=e.timestamp||(null===(t=r)||void 0===t?void 0:t.start)||s;if(p){var h=n-p,g=(0,i.Z)((0,i.Z)({spend:h,isRefresh:!r},r),{},{key:l,name:d,pageId:m});r=void 0,s=void 0,(0,o.ff)("_flight_tinyapp",{speed:JSON.stringify(g)}),(0,o.A9)("_flight_tinyapp_spend",g,h)}};t["ZP"]={add:l,addInfo:u,report:d}},14506:function(e,t,n){"use strict";n.d(t,{Vj:function(){return a},i9:function(){return c},uk:function(){return s},d0:function(){return u},NJ:function(){return d}});var r=n(91425),i=n(92954),o=n.n(i);n(9361);function a(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}var c=function(e){var t=[],n=(0,r.handleHighlightByRegex)(/\[O\](.*?)\[\/O\]/gm,3,-4)(e);return(null===n||void 0===n?void 0:n.length)&&n.forEach((function(e){var n=e.active,i=e.text,o=(0,r.handleHighlightByRegex)(/\[B\](.*?)\[\/B\]/gm,3,-4)(i);(null===o||void 0===o?void 0:o.length)&&o.forEach((function(e){var r=e.active,i=e.text;t.push({text:i,hightLight:n,bold:r})}))})),t};function s(e){return o().pxTransform(e,750)}var l=4,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return e&&e.length>t?"".concat(e.substr(0,t-1),"..."):e},d=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>=0&&r<=128?t++:t+=2}return t}},31174:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});n(91425);var r=n(90201),i=n(71515),o=n(97659),a=n(39457),c={textBox:"AirlinesComponent-module_O9JVZ",text:"AirlinesComponent-module_CACbQ",separateLine:"AirlinesComponent-module_LWQLn","share-flight":"AirlinesComponent-module_OliC8",airlineBox:"AirlinesComponent-module_iMWFP"},s=n(2269),l=function(e){var t,n=e.item,l=e.isInter,u=void 0!==l&&l,d=e.airlineName,f=e.craftText,m=e.moreTicketText,p=n.airlines;return u?(0,s.jsxs)(i.View,{className:c.airlineBox,children:[(0,s.jsx)(i.Text,{className:a.Z["item-content"],children:d}),(null===n||void 0===n||null===(t=n.flgs)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.basinfo)||void 0===t?void 0:t.aAirCode)&&(0,s.jsx)(i.View,{className:c["share-flight"],children:"\u5171\u4eab"}),f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.View,{className:c.separateLine}),(0,s.jsx)(i.View,{className:a.Z["item-content"],children:f})]}),m&&(0,s.jsx)(i.Text,{className:a.Z.moreTicket,children:m})]}):(0,s.jsx)(s.Fragment,{children:p&&p.map((function(e,t){return(0,s.jsxs)(r.Fragment,{children:[p&&p.length>1&&(0,s.jsxs)(i.View,{className:a.Z.airlineInfo,children:[e.code&&(0,s.jsx)(o.Z,{className:a.Z["transit-airline-logo"],src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+e.code+".png"}),(0,s.jsx)(i.Text,{className:a.Z["item-content"],children:e.shortName})]}),(0,s.jsxs)(r.Fragment,{children:[p&&p.length<=1&&(0,s.jsxs)(i.View,{className:"".concat(a.Z.airlineBox," ").concat(a.Z.displayStyle),children:[(0,s.jsx)(i.View,{className:a.Z["item-content"],children:e.displayName}),n.craftText&&(!n.stopItem||0===n.stopItem.length)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.View,{className:c.separateLine}),(0,s.jsx)(i.View,{className:a.Z["item-content"],children:null===n||void 0===n?void 0:n.craftText})]})]}),(null===e||void 0===e?void 0:e.shared)&&(0,s.jsx)(i.View,{className:"".concat(a.Z.airlineBox," ").concat(a.Z.marginL),children:(0,s.jsx)(i.View,{className:"".concat(a.Z["item-content"]," ").concat(c["share-flight"]),children:"\u5171\u4eab"})}),t!==p.length-1&&(0,s.jsx)(i.View,{className:a.Z.airlineBox,children:(0,s.jsx)(i.View,{className:c.separateLine})}),p&&p.length>1&&t===p.length-1&&(0,s.jsxs)(i.View,{className:"".concat(a.Z.airlineBox," ").concat(a.Z.boxContainer),children:[(0,s.jsx)(i.View,{className:c.separateLine}),(0,s.jsx)(i.View,{children:"\u603b"+n.totalDuration})]})]})]},t)}))})},u=l,d=u},9423:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(298),i=n(91425),o=(n(90201),n(29557)),a=n(45023),c=n(71515),s=n(97659),l=n(18228),u=n(72546),d=n(40085),f={"cService-container":"CService-module_LZa4s","margin-bottom":"CService-module_Jjnfd","service-container":"CService-module_cwAXS","service-icon":"CService-module_Scgum","c-header":"CService-module_N87df","c-symbol":"CService-module_icncL","service-box":"CService-module_OuX96","service-box-row":"CService-module_LmqU6","service-assurance":"CService-module_a_Srg","last-broaden":"CService-module_zGMuP","service-title":"CService-module_kh0rN","t-symbol":"CService-module_a9mhl"},m=n(2269),p=function(e){var t=e.pageName,n=e.secondPromote,r=e.serviceAssuranceItems,o=function(e,i,o){(0,l.jq)(i,{pageName:t,index:o}),n?d.z.click("guarantee"):(0,l.jq)("c_flt_tinyapp_home_guarantee");var a=r&&r.jumpUrl;if(a){var c="".concat(a).concat("&showback=false").concat(e);return c&&(0,u.G)(c)}};if(r&&0===Object.keys(r).length)return null;var p=null===r||void 0===r?void 0:r.detail;if(null!==p&&void 0!==p&&p.length){var h,g=p.slice(0,3),v=p.slice(3);return(0,m.jsx)(c.View,{className:(0,i.classnames)("autoExpose",f["cService-container"],(0,a.Z)({},f["margin-bottom"],"\u586b\u5199\u9875"===t)),"data-expose":n?d.z.exposure("guarantee"):{speed:"s_flt_tinyapp_home_guarantee"},children:(0,m.jsxs)(c.View,{className:f["service-container"],children:[(0,m.jsx)(c.View,{className:(0,i.classnames)(f["service-icon"],f["c-header"]),children:(0,m.jsx)(s.Z,{className:f["c-symbol"],src:"".concat((null===r||void 0===r||null===(h=r.title)||void 0===h?void 0:h.iconUrl)||"","blue.png"),lazyLoad:!0})}),(0,m.jsxs)(c.View,{className:f["service-box"],children:[(0,m.jsx)(c.View,{className:f["service-box-row"],children:g&&g.map((function(e,t){return(0,m.jsx)(c.View,{className:f["service-assurance"],onClick:(0,i.trackFn)(t+"--27262",(function(){return o(e.anchorPoint,e.speed,t)})),"data-testid":"on-click-service-".concat(t),children:(0,m.jsxs)(c.View,{className:f["service-title"],children:[(0,m.jsx)(s.Z,{className:f["t-symbol"],src:"".concat(e.iconUrl,"gray.png"),lazyLoad:!0}),e.text]})},t)}))}),(0,m.jsx)(c.View,{className:f["service-box-row"],children:v&&v.map((function(e,t){return(0,m.jsx)(c.View,{className:(0,i.classnames)(f["service-assurance"],(0,a.Z)({},f["last-broaden"],t===v.length-1)),onClick:(0,i.trackFn)(t+"--56cf2",(function(){return o(e.anchorPoint,e.speed,t)})),"data-testid":"on-click-service-".concat(g.length+t),children:(0,m.jsxs)(c.View,{className:f["service-title"],children:[(0,m.jsx)(s.Z,{className:f["t-symbol"],src:"".concat(e.iconUrl,"gray.png")}),e.text]})},t)}))})]})]})})}return null},h=function(e){var t=(0,o.Gm)("serviceAssuranceItems",{});return(0,m.jsx)(p,(0,r.Z)({},(0,r.Z)((0,r.Z)({},e),{},{serviceAssuranceItems:t})))}},34641:function(e,t,n){"use strict";var r=n(57042),i=n(24460),o=n(21867),a=n(86066),c=(n(91425),n(90201)),s=n(2269),l=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,s.jsx)("collection",{isCustomNav:!0,delayTime:5e3,daysBetween:7,collectText:"\u70b9\u51fb'...'\u6dfb\u52a0\u5230\u6211\u7684\u5c0f\u7a0b\u5e8f\uff0c\u4e0b\u6b21\u4f7f\u7528\u66f4\u65b9\u4fbf"})}}]),n}(c.Component);t["Z"]=l},98140:function(e,t,n){"use strict";n.d(t,{E:function(){return m},Z:function(){return p}});var r=n(91425),i=n(67107),o=n(17321),a=n(71515),c=(n(90201),n(94892)),s=n(92954),l={container:"debugInfo-module_B5JP5",box:"debugInfo-module_TIPDX",boxImg:"debugInfo-module_RFD29"},u=n(2269),d=function(e){var t=e.debugInfo,n=function(e){e.stopPropagation(),(0,c.K4)({content:(0,u.jsx)(a.View,{className:l.container,children:Object.keys(t).map((function(e){return(0,u.jsxs)(a.View,{className:l.info,children:[(0,u.jsxs)(a.Text,{style:{color:"#0086f6",fontWeight:"bold"},children:[e,": "]}),(0,u.jsx)(a.Text,{onClick:(0,r.trackFn)(e+"--a688a",(function(){(0,s.setClipboardData)({data:decodeURIComponent(t[e]),success:function(e){e&&(0,r.showToast)("\u5df2\u590d\u5236")}})})),children:decodeURIComponent(t[e])})]},e)}))}),animationClassName:"animate__animated animate__faster animate__zoomIn"})};return(0,u.jsx)(a.View,{className:l.box,onClick:(0,r.trackFn)("showPop--12c3f",n),children:(0,u.jsx)(a.Image,{className:l.boxImg,src:"https://pages.c-ctrip.com/flight_h5/swift/debug.png"})})},f=function(e){var t,n=e.info,r=(0,i.C)(o.Se);return n?(Object.keys(n).forEach((function(e){if(r.includes(e))try{var i;t=JSON.parse(null===(i=n[e])||void 0===i?void 0:i.DEBUG_TIP)}catch(e){t=null}})),t?(0,u.jsx)(d,{debugInfo:t}):null):null},m=function(e){var t,n=e.info;if(!n)return null;try{t=JSON.parse(n)}catch(e){}return t?(0,u.jsx)(d,{debugInfo:t}):null},p=f},84211:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(91425),i=n(90201),o=n(71515),a=n(97659),c=n(5644),s=n(13768),l=(n(72546),{"error-card":"ErrorPage-module_cPuZD",newBg:"ErrorPage-module_C1Mcs","young-btn":"ErrorPage-module_buFdd",BlackColor:"ErrorPage-module_doVza",opacity60:"ErrorPage-module_pGxPX",img:"ErrorPage-module_i1ihB","error-message":"ErrorPage-module_uAM_t","error-desc":"ErrorPage-module_bB2kv",black6:"ErrorPage-module_ndd3E",next:"ErrorPage-module_ko3pi"}),u=n(2269),d=function(){(0,c.Rc)();s.pW.jump({type:"reLaunch"})},f={ERROR:{image:"https://pages.c-ctrip.com/flight_h5/tinyapp/img_nw_failed.svg",message:"\u7f51\u7edc\u4e0d\u7ed9\u529b",desc:"\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e\u540e\u518d\u8bd5",btn:"\u518d\u8bd5\u4e00\u6b21"},NO_RESULT:{image:"https://pages.c-ctrip.com/flight_h5/tinyapp/img_empty.svg",message:"\u62b1\u6b49\uff0c\u67e5\u8be2\u65e0\u7ed3\u679c",desc:"\u5efa\u8bae\u66f4\u6362\u65e5\u671f\u6216\u57ce\u5e02\u91cd\u65b0\u67e5\u8be2",btn:"\u8fd4\u56de\u9996\u9875"},NO_FILTERED:{image:"https://pages.c-ctrip.com/flight_h5/tinyapp/img_empty.svg",message:"\u672a\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c",desc:"\u8bf7\u66f4\u6539\u7b5b\u9009\u6761\u4ef6\u91cd\u65b0\u67e5\u8be2",btn:"\u6e05\u7a7a\u7b5b\u9009\u6761\u4ef6"}},m=function(e){var t=e.state,n=void 0===t?"ERROR":t,c=e.clickFn,s=f[n],m="NO_FILTERED"===n?c:d;return s?(0,u.jsx)(o.View,{className:"".concat(l["error-card"]," ").concat(l.newBg),children:(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(o.View,{className:"error-image",children:(0,u.jsx)(a.Z,{src:s.image,className:l.img})}),(0,u.jsx)(o.View,{className:"".concat(l["error-message"]," mt-1 ").concat(l.BlackColor),children:s.message}),(0,u.jsx)(o.View,{className:"".concat(l["error-desc"]," mt-1 ").concat(l.BlackColor," ").concat(l.opacity60),children:s.desc}),(0,u.jsx)(o.Button,{type:"primary",className:l["young-btn"],onClick:(0,r.trackFn)("fn--6de7d",m),"data-testid":"u_young_btn",children:s.btn})]})}):null},p=m},45438:function(e,t,n){"use strict";n.d(t,{Y:function(){return E}});var r=n(91425),i=n(90201),o=n(71515),a=n(23787),c=n(97659),s=n(21367),l=n(22276),u=n(51070),d=n(68425),f=function(e,t){return 2===e&&1===t?"\u53bb\u7a0b\uff1a":2===e&&2===t?"\u8fd4\u7a0b\uff1a":4===e?"\u7b2c".concat(t,"\u7a0b\uff1a"):""},m=n(45023),p=n(90129),h=n(92954),g=n.n(h),v={linearGradient:"ExpanderContent-module_slbXj",expandView:"ExpanderContent-module_PnUqL",expandText:"ExpanderContent-module_r1MfW",arrowDown:"ExpanderContent-module_OTXrP",subtitleV2:"ExpanderContent-module_mYb5d",contentTextNewV2:"ExpanderContent-module_Fbw6E",contentTime:"ExpanderContent-module_POTCZ",boxShadow:"ExpanderContent-module_dir2E",boxStyle:"ExpanderContent-module_TVnkc",hideStyle:"ExpanderContent-module_xu2f6"},y=n(2269),x={RED_1:"#F5190A",YELLOW_1:"#FF7700",GREY_3:"#333333",GREY_6:"#666666",GREY_9:"#999999",GREY_C:"#CCCCCC",GREEN_1:"#08A66F"},_=function(e){var t=e.noticeItem,n=e.contentList,a=t.source,c=t.sut,s=t.crank,l=(0,i.useRef)(null),u=(0,r.dayjs)(c).format("MM\u6708DD\u65e5"),d=1===s?x.RED_1:2===s?x.YELLOW_1:x.GREEN_1,f=(0,i.useState)(!1),h=(0,p.Z)(f,2),_=h[0],N=h[1],T=(0,i.useState)(!1),w=(0,p.Z)(T,2),b=w[0],C=w[1],j=_&&!b,S=function(){C(!0)},k=function(e){g().setClipboardData({data:e,success:function(e){e&&(0,r.showToast)("\u5df2\u590d\u5236\u94fe\u63a5")}})};return(0,i.useEffect)((function(){var e;(null===(e=l.current)||void 0===e?void 0:e.offsetHeight)>=600&&N(!0)}),[]),(0,y.jsxs)(o.View,{id:"contentTextNewV2",children:[(0,y.jsx)(o.View,{children:(0,y.jsxs)(o.View,{className:(0,r.classnames)(v.contentTextNewV2,(0,m.Z)({},v.hideStyle,j)),style:j?{marginBottom:0}:void 0,ref:l,children:[n.map((function(e,t){var n=e.content,i=e.isHighLight,a=e.isLink,c=i?d:x.GREY_6;return a?(0,y.jsx)(o.Text,{style:{color:"#006FF6"},onClick:(0,r.trackFn)("contentTextNewV2--"+t+"--1f851",(function(){k(n)})),children:"(\u70b9\u51fb\u590d\u5236\u94fe\u63a5\u5230\u6d4f\u89c8\u5668\u6253\u5f00)"},t):(0,y.jsx)(o.Text,{style:{color:c,textAlign:"left"},children:n.replace(/\\n/g,"<br/>")},t)})),a?(0,y.jsx)(o.Text,{className:v.contentTime,children:"\n\n(\u6765\u6e90\uff1a".concat(u," ").concat(a," )")}):null]})}),j?(0,y.jsxs)(o.View,{className:v.boxStyle,children:[(0,y.jsx)(o.View,{className:v.boxShadow}),(0,y.jsxs)(o.View,{className:v.expandView,onClick:(0,r.trackFn)("contentTextNewV2--onClick--27027",(function(){return S()})),children:[(0,y.jsx)(o.Text,{className:v.expandText,children:"\u5c55\u5f00"}),(0,y.jsx)(o.Text,{className:"iconfont-h5 icon-arrow-down iconfont-h5-text"})]})]}):null]})},N=(0,i.memo)(_),T={fioEntrance:"FIO-module_Uvr6g",scrollIntoViewBox:"FIO-module_ZcxsR",fixedBtnArea:"FIO-module_yJfpY",fixedBtn:"FIO-module_kHB3r",scrollContainer:"FIO-module_mxgEi",tabViewCtn:"FIO-module_Hodyi",tabViewCeil:"FIO-module_eIJ6H",tabItem:"FIO-module_vmyph",tabSelected:"FIO-module_VkTBD",tabSelectedLine:"FIO-module_tYyu7",tabUnSelectedLine:"FIO-module_YYqBp",scrollTab:"FIO-module_Rix0s",fioContentBox:"FIO-module_yYCla",innerContainer:"FIO-module_JXD9B",bottomSpace:"FIO-module_PFsUL",cardTitleContainer:"FIO-module_BpBL5",cardTitle:"FIO-module_NxdkW",cardSubTitle:"FIO-module_CLEGw",segTitle:"FIO-module_hamnC",subCityTitleCtn:"FIO-module_WOtdN",yellowTag:"FIO-module_ZDdpX",greenTag:"FIO-module_GAuKl",viewContent:"FIO-module_D9Mf2",contentTextContainerNewV2:"FIO-module_hLwQl",insideTitleV2:"FIO-module_Lznfo",hightLight:"FIO-module_zEF2H",contentTimeViewV2:"FIO-module_ATbws",contentTimeV2:"FIO-module_Marhr",contentTextNewV2:"FIO-module_O4f3K",contentTimeRecentV2:"FIO-module_gv8l1",insideTitle:"FIO-module_Vf7IV",subtitleV2:"FIO-module_oYkVl",tagStyle:"FIO-module_jWsGp",marginRight:"FIO-module_LXeoB",FioImage:"FIO-module_F9O0g",TravelText:"FIO-module_x4T_L",tipText:"FIO-module_f3Fql",rightIconStyle:"FIO-module_W7nyH",boxShadow:"FIO-module_Vj1o1",fioContainer:"FIO-module_PwxRR",paddingStyle:"FIO-module_uUx5k",fioButton:"FIO-module_oWlT1"},w=n(32180)["window"],b=function(e){var t=e.notiInfoV2,n=e.tripType,c=e.onCloseClick,s=(0,a.si)(t),m=(0,a.s2)(t),p=(0,a.dq)(t),h=(0,a.aZ)(t),g=function(e,t,n,i){var a=e.ctriput&&(0,r.dayjs)(e.ctriput).format("YYYY-MM-DD"),c=a&&new w.Date(a).getTime()||0;return(0,y.jsx)(o.View,{children:i.length>0?(0,y.jsxs)(o.View,{className:T.viewContent,children:[(0,y.jsxs)(o.View,{className:T.contentTextContainerNewV2,children:[(0,y.jsx)(o.View,{children:(0,y.jsx)(o.View,{className:T.insideTitleV2,children:n})}),(0,y.jsxs)(o.View,{className:T.contentTimeViewV2,children:[a?(0,y.jsx)(o.View,{className:T.contentTimeV2,children:"\u66f4\u65b0\u65f6\u95f4\uff1a".concat(a)}):null,c&&(0,y.jsx)(o.View,{className:T.contentTimeRecentV2,children:w.Date.now()-c<3456e5?" \u8fd1\u671f":null})]})]}),e.stw?(0,y.jsx)(o.View,{className:T.subtitleV2,children:e.st}):null,(0,y.jsx)(N,{noticeItem:e,contentList:i})]}):null},"notice_detail_".concat(t,"_").concat(n))},v=(0,i.useCallback)((function(e,t,r){var i=e&&(2===n||4===n),c=(null===e||void 0===e?void 0:e.notiInfos)||r||[],s=(0,a.Lq)(c);return(0,y.jsxs)(o.View,{className:"".concat(T.cardTitleContainer," ").concat(i?T.subCityTitleCtn:""),children:[(0,y.jsx)(o.View,{style:{flexDirection:"row"},children:(0,y.jsx)(o.View,{className:i?T.cardSubTitle:T.cardTitle,children:t})}),(0,y.jsx)(o.View,{className:T.tagStyle,children:null===s||void 0===s?void 0:s.map((function(e,t){return null!==e&&void 0!==e&&e.name?(0,y.jsx)(o.View,{className:T.marginRight,children:(0,y.jsx)(o.View,{className:"".concat(null!==e&&void 0!==e&&e.isPositiveTag?T.greenTag:T.yellowTag),children:e.name})},t):null}))})]})}),[n]),x=function(e,t,n){return e&&e.cityName&&Array.isArray(e.notiInfos)&&e.notiInfos.length>0?(0,y.jsxs)(o.View,{className:T.paddingStyle,children:[v(e,t,void 0),e.notiInfos.map((function(e,t){var n=(0,a.NQ)(e.ttl||""),r=(0,a.Mc)(e.fmtcnt||e.content||"");return g(e,t,n,r)}))]},"fio-con-".concat(n)):null},_=(0,i.useCallback)((function(e,t,n){if(!(0,a.qt)(e))return null;var r=(0,y.jsxs)(o.View,{className:T.paddingStyle,children:[v(null,t,e),e.map((function(e,t){var n=(0,a.NQ)(e.ttl||""),r=(0,a.Mc)(e.fmtcnt||e.content||"");return g(e,t,n,r)})),n&&(0,y.jsx)(o.View,{className:T.hightLight,children:n})]});return{title:t,item:r}}),[v]),b=function(){if(!(0,a.qt)(m))return[];if(1===n&&1===m.length){var e=m[0]||{},t=e.tripList,r=void 0===t?[]:t;return(r.filter((function(e){return e&&e.tabCityName&&(0,a.qt)(e.notiInfos)}))||[]).map((function(e,t){var n=(0,a.qt)(s)?t+1:t,r=x(e,e.tabCityName,n);return{item:r,title:e.tabCityName}}))}return m.map((function(e,t){var r=e||{},i=r.tripList,c=void 0===i?[]:i,l=f(n,null===e||void 0===e?void 0:e.segmentNo),u="".concat(l).concat(null===e||void 0===e?void 0:e.departCityName,"-").concat(null===e||void 0===e?void 0:e.arriveCityName),d="".concat(null===e||void 0===e?void 0:e.departCityName,"-").concat(null===e||void 0===e?void 0:e.arriveCityName),m=function(){return(c.filter((function(e){return e&&e.tabCityName&&(0,a.qt)(e.notiInfos)}))||[]).map((function(e,t){var n=(0,a.qt)(s)?t+1:t;return x(e,e.tabCityName,n)}))},p=(0,y.jsxs)(o.View,{children:[1===n&&u?null:(0,y.jsx)(o.View,{className:"".concat(T.cardTitleContainer," ").concat(T.paddingStyle),children:(0,y.jsx)(o.View,{className:T.segTitle,children:u})}),m()]},"fio-box-".concat(t));return{item:p,title:d}}))},C=function(){var e=[_(h,u.cD.TAKE_FILGHT_TITLE)].concat((0,l.Z)(b()),[_(p,u.cD.OTHER_NOTICE_TITLE,"*\u4ee5\u4e0a\u4fe1\u606f\u4ec5\u4f9b\u53c2\u8003")]);return e.filter((function(e){return e}))||[]},j=C().filter(u.$K),S=j.reduce((function(e,t){return e+(null!==t&&void 0!==t&&t.title?t.title.length:0)}),0);return(0,y.jsxs)(o.View,{className:T.scrollIntoViewBox,children:[(0,y.jsx)(d.Z,{style:{maxHeight:"78vh"},isScrollTitle:S>18,hideTabSwitch:j.length<2,tabs:j.map((function(e,t){return{id:"id_fio_detail_"+t,content:e.item,title:e.title}}))}),(0,y.jsx)(o.View,{className:T.fixedBtnArea,children:(0,y.jsx)(o.View,{className:T.fixedBtn,onClick:(0,r.trackFn)("onCloseClick--c1e83",c),children:"\u77e5\u9053\u4e86"})})]})},C=(0,i.memo)(b),j=n(94892),S=function(e,t,n){var r=(0,j.K4)({close:{position:"top-left"},closeMethod:"close",title:e,content:(0,y.jsx)(C,{notiInfoV2:n,tripType:t,onCloseClick:function(){(0,j.Mr)(r)}}),position:"bottom",animationClassName:"animate__animated animate__slideInUp animate__faster",style:{height:"78%",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})},k=function(e,t){var n=t.every((function(t){return t!==e}));return!!n},I=function(e){var t,n,l,u=e.pageTitle,d=e.tripType,f=e.flightNotification,m=e.isMiddle,p=(0,i.useMemo)((function(){return f&&(0,a.c6)(f)}),[f]),h=(0,i.useMemo)((function(){return(0,a.e3)(p)}),[p]),g=null===h||void 0===h?void 0:h.map((function(e){return"".concat(null===e||void 0===e?void 0:e.notiId,"_").concat(null===e||void 0===e?void 0:e.ver)})),v=(0,i.useCallback)((function(){var e,t;(null!==p&&void 0!==p&&null!==(e=p.segNoti)&&void 0!==e&&e.length||null!==p&&void 0!==p&&null!==(t=p.commonNoti)&&void 0!==t&&null!==(t=t.notiInfos)&&void 0!==t&&t.length)&&S(u,d,p)}),[p,u,d]),x=p&&Object.keys(p).length&&(null===p||void 0===p||null===(t=p.segNoti)||void 0===t?void 0:t.length)&&(null===p||void 0===p||null===(n=p.commonNoti)||void 0===n||null===(n=n.notiInfos)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.notiId);(0,i.useEffect)((function(){var e=s.IJ.get()||[],t=null===g||void 0===g?void 0:g.some((function(t){return k(t,e)}));if(t&&m&&x){var n=r.R.union(g,e);s.IJ.set(r.R.take(20,n)),S(u,d,p)}}),[m,u,d,p,g,x]);var _=p||{},N=_.segNoti,w=_.commonNoti;if(!p||!Object.keys(p).length||(!N||0===N.length)&&(null===w||void 0===w||null===(l=w.notiInfos)||void 0===l||null===(l=l[0])||void 0===l||!l.notiId))return null;var b=h&&h.map((function(e){return e.crank})).sort()[0],C=1===b?"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/fio/Icon_info1.png":2===b?"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/components/info_orange.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/fio/Icon_info3.png";return(0,y.jsxs)(o.View,{className:T.fioEntrance,onClick:(0,r.trackFn)("onClick--7dcd0",(function(){return v()})),"data-testid":"open-fio-layer",children:[(0,y.jsx)(c.Z,{src:C,className:T.FioImage}),(0,y.jsx)(o.Text,{className:T.TravelText,children:"\u51fa\u884c\u63d0\u9192\uff1a"}),(0,y.jsx)(o.Text,{className:T.tipText,children:(0,a.Nb)(p)}),(0,y.jsx)(o.View,{className:"iconfont-h5 icon-arrow-right ".concat(T.rightIconStyle),children:(0,y.jsx)(o.View,{className:T.boxShadow})})]})},E=I},9486:function(e,t,n){"use strict";n.d(t,{P:function(){return P},Z:function(){return V}});var r=n(91425),i=n(90201),o=n(71515),a=n(97659),c=n(99531),s=n(94892),l=n(90129),u=n(21367),d=n(45023),f=n(22276),m=n(18228),p={"fio-dialogs":"FioAlert-module_D1Sd3","hidden-dialogs":"FioAlert-module_hOdpC","fio-item-container":"FioAlert-module_LFVDS","center-dialog":"FioAlert-module_UFhvE",dialogs:"FioAlert-module_d8UPM",dialog:"FioAlert-module_XacMF",multi:"FioAlert-module_eLByl","fio-alert-title":"FioAlert-module_U9pK7","fio-alert-container":"FioAlert-module_KRDG7","fio-alert-content":"FioAlert-module_B5psU","fio-footer":"FioAlert-module_r9eJk","btn-confirm":"FioAlert-module_sICos"},h=n(2269);function g(e){var t=u.LP.get()||{};e.forEach((function(e){return t[e]=!0})),u.LP.set(t)}function v(e){var t=e.unReadNotice,n=(0,i.useState)([]),c=(0,l.Z)(n,2),s=c[0],u=c[1];if((0,i.useEffect)((function(){var e=t.map((function(e){return null===e||void 0===e?void 0:e.notificationId}));u(e)}),[t]),!t||!t.length)return null;var v=function(e){for(var n=[],r=0;r<=e&&r<t.length;r++){var i,o=null===(i=t[r])||void 0===i?void 0:i.notificationId;o&&n.push(o)}(0,m.jq)("close_fio_notice_dialog",{desc:"\u5173\u95ed\u516c\u544a\u5f39\u7a97",readedIds:n.join(",")}),g(n);var a=(0,f.Z)(s);n.forEach((function(e){a=a.filter((function(t){return t!==e}))})),u(a)},y=(0,r.classnames)(p["fio-dialogs"],(0,d.Z)({},p["hidden-dialogs"],!s.length)),x=(0,r.classnames)(p["fio-item-container"],"animate__animated animate__fast animate__zoomIn",(0,d.Z)({"multi-wrapper":s.length>1},p["center-dialog"],1===s.length)),_=(0,r.classnames)(p.dialogs);return(0,h.jsx)(o.View,{className:y,catchMove:!0,children:(0,h.jsx)(o.ScrollView,{className:x,scrollX:!0,id:"id_8698f",onScroll:(0,r.trackFn)("id_8698f"),children:(0,h.jsx)(o.View,{className:_,children:t.map((function(e,t){var n=(0,r.classnames)(p.dialog,(0,d.Z)((0,d.Z)({},p.multi,s.length>1),"animate__animated dismiss_animated",!s.includes(e.notificationId)));return(0,h.jsxs)(o.View,{className:n,children:[(0,h.jsxs)(o.View,{children:[(0,h.jsx)(a.Z,{src:"https://pages.c-ctrip.com/flight_h5/swift/icon-warn.png",style:{width:"50px",height:"50px"}}),(0,h.jsx)(o.View,{className:p["fio-alert-title"],children:e.title})]}),(0,h.jsx)(o.ScrollView,{className:p["fio-alert-container"],scrollY:!0,id:"id_8698f_id_e8481_"+e.title,onScroll:(0,r.trackFn)("id_8698f_id_e8481_"+e.title),children:(0,h.jsx)(o.View,{className:p["fio-alert-content"],children:(0,h.jsx)(o.View,{dangerouslySetInnerHTML:{__html:e.content}})})}),(0,h.jsx)(o.View,{className:p["fio-footer"],onClick:(0,r.trackFn)("id_8698f--"+e.title+"--d1100",(function(){return v(t)})),"data-testid":"on-dialog-close",children:(0,h.jsx)(o.View,{className:p["btn-confirm"],children:"\u77e5\u9053\u4e86"})})]},e.title)}))})})})}var y=v,x=y,_=function(e){var t=e.firstNotice,n=(0,i.useState)([]),r=(0,l.Z)(n,2),o=r[0],a=r[1];return(0,i.useEffect)((function(){var e=u.LP.get()||{},n=null===t||void 0===t?void 0:t.filter((function(t){return!e[t.notificationId]}));a(n)}),[t]),(0,h.jsx)(h.Fragment,{children:!(null===o||void 0===o||!o.length)&&(0,h.jsx)(x,{unReadNotice:o})})},N=_,T=n(95518),w=n(92954),b=n.n(w),C={"fio-popup-container-new":"FioPop-module_l_3xE","container-box":"FioPop-module_ueAgA","pop-item":"FioPop-module_YO130","item-title-box":"FioPop-module_ktg4c","item-title-top":"FioPop-module_r8yRd","item-normal-title":"FioPop-module_hwfbr","image-box":"FioPop-module_BZnxv","item-title-content":"FioPop-module_z73Wg","title-level-1":"FioPop-module_ZiWam","title-level-2":"FioPop-module_MLC40","title-level-3":"FioPop-module_yu9nc","item-title-time":"FioPop-module_CaI7s","item-content":"FioPop-module_aSHvj","item-content-container":"FioPop-module_SV_Sd","item-title-level-1":"FioPop-module_pRhwV","item-title-level-2":"FioPop-module_UziMe","item-title-level-3":"FioPop-module_xywes",clickBlue:"FioPop-module_tImYt",sourceBox:"FioPop-module_gxs1n",disclaimerContainer:"FioPop-module_zxRX3",textContainer:"FioPop-module_VqRAf",textStyle:"FioPop-module_tcgaQ",marginBottom:"FioPop-module_HwLpm","item-margin-left":"FioPop-module_fRmsK","item-title-margin-left":"FioPop-module_cJ977"},j=function(e){b().setClipboardData({data:e,success:function(e){e&&(0,r.showToast)("\u5df2\u590d\u5236\u94fe\u63a5")}})};function S(e){var t=e.fio,n=e.isNeedGet,i=e.closeModal,c=e.isNeedIcon,s=void 0===c||c,l=[];return r.R.forEach((function(e){e.disclaimer&&0!==e.disclaimerType&&!l.find((function(t){return t.type===e.disclaimerType&&3!==e.disclaimerType}))&&l.push({content:e.disclaimer,type:e.disclaimerType})}),t),(0,h.jsxs)(o.View,{catchMove:!0,className:C["fio-popup-container-new"],id:"fio-popup",children:[(0,h.jsx)(T.Z,{className:C["container-box"],scrollY:!0,id:"fio-popup_id_e4265",onScroll:(0,r.trackFn)("fio-popup_id_e4265"),children:(0,h.jsxs)(o.View,{className:(0,r.classnames)((0,d.Z)({},C.marginBottom,n)),children:[t.map((function(e,t){var n=(0,r.handleCopyText)(e.content);return(0,h.jsxs)(o.View,{className:C["pop-item"],children:[(0,h.jsxs)(o.View,{className:C["item-title-box"],children:[(0,h.jsxs)(o.View,{className:C["item-title-top"],children:[e.contentRank&&s&&(0,h.jsx)(a.Z,{className:C["image-box"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/fio/Icon_info".concat(e.contentRank,".png")}),(0,h.jsx)(o.Text,{className:(0,r.classnames)(e.contentRank?C["item-title-content"]:C["item-normal-title"],C["title-level-".concat(e.contentRank)],(0,d.Z)({},C["item-title-margin-left"],s)),children:e.title})]}),e.ctripUpdateTime&&(0,h.jsxs)(o.Text,{className:(0,r.classnames)(C["item-title-time"],(0,d.Z)({},C["item-margin-left"],s)),children:["\u66f4\u65b0\u65e5\u671f\uff1a",e.ctripUpdateTime.slice(0,10)]})]}),(0,h.jsx)(o.View,{className:C["item-content"],children:0!==(null===n||void 0===n?void 0:n.length)?n.map((function(t){return t.active?(0,h.jsxs)(o.View,{className:C.clickBlue,onClick:(0,r.trackFn)("fio-popup_id_e4265--"+t.text+"--cbdb5",(function(){return j(t.text)})),"data-testid":"copy-link",children:[" ","(\u70b9\u51fb\u590d\u5236)"," "]},t.text):(0,h.jsx)(o.View,{className:(0,r.classnames)(C["item-content-container"],C["item-title-level-".concat(e.contentRank)]),dangerouslySetInnerHTML:{__html:t.text}},t.text)})):(0,h.jsx)(o.View,{className:(0,r.classnames)(C["item-content-container"],C["item-title-level-".concat(e.contentRank)]),dangerouslySetInnerHTML:{__html:e.content}})}),e.source&&(0,h.jsx)(o.View,{className:C.sourceBox,children:"(\u6765\u6e90\uff1a".concat(e.sourceUpdateTime.slice(5,7),"\u6708").concat(e.sourceUpdateTime.slice(8,10),"\u65e5").concat(e.source,")")})]},t)})),!!l.length&&(0,h.jsxs)(o.View,{className:C.disclaimerContainer,children:[(0,h.jsx)(o.View,{children:"*\u4ee5\u4e0a\u4fe1\u606f\u4ec5\u4f9b\u53c2\u8003:"}),l.map((function(e,t){return(0,h.jsx)(o.View,{children:"".concat(t+1,". ").concat(e.content)},t)}))]})]})}),n&&(0,h.jsx)(o.View,{className:C.textContainer,onClick:(0,r.trackFn)("fio-popup--closeModal--1cd6f",i),children:(0,h.jsx)(o.View,{className:C.textStyle,children:"\u77e5\u9053\u4e86"})})]})}var k=S,I={"loading-msg":"FioMsg-module_d3U32","loading-div":"FioMsg-module_Zoba4","fio-msg-new":"FioMsg-module_rCVpa","fio-container":"FioMsg-module_DPGTp","bg-level-1":"FioMsg-module_PMXwz","bg-level-2":"FioMsg-module_j_Dkm","bg-level-3":"FioMsg-module_fBhVZ","fio-content":"FioMsg-module_tA61S","content-title":"FioMsg-module_NYkwj","title-img":"FioMsg-module_DJHjZ","notice-title":"FioMsg-module_NeQnV","notice-level-1":"FioMsg-module_c5dLL","notice-level-2":"FioMsg-module_gKnKa","notice-level-3":"FioMsg-module_PgMqi",content:"FioMsg-module_oFruN",subTitle:"FioMsg-module_LQygy",bothTitle:"FioMsg-module_wOylO"},E=function(e,t){var n=!0;return function(){var r=arguments;n&&(n=!1,e.apply(this,r),setTimeout((function(){n=!0}),t))}},P=E((function(e,t,n,r){(0,c.jq)("c_show_fio_msg_modal",{desc:"\u70b9\u51fb\u5c55\u793a\u516c\u5171\u6d6e\u5c42"});var i=(0,s.K4)({close:{position:"top-left",isBack:n},closeMethod:"close",title:"\u51fa\u884c\u63d0\u9192",content:(0,h.jsx)(k,{fio:e,isNeedGet:t,closeModal:function(){return(0,s.Mr)(i)},isNeedIcon:r}),position:"bottom"})}),500),L=function(e){var t=e.notificationInfos,n=void 0===t?[]:t,c=(null===n||void 0===n?void 0:n.filter((function(e){return e.contentRank<=2&&"ANN"===e.category})))||[],s=(0,i.useMemo)((function(){return r.R.pipe(r.R.filter((function(e){return e.contentRank<=3&&"ANN"===e.category})),r.R.sort((function(e,t){return e.contentRank-t.contentRank})))(n||[])}),[n]);if(!s||!s.length)return null;var l=s.filter((function(e){return e.subTitleShow})),u=s.filter((function(e){return!e.subTitleShow})),d="";s.forEach((function(e){d+="\xb7".concat(e.title," ")}));var f="";return u.forEach((function(e){f+="\xb7".concat(e.title," ")})),(0,h.jsxs)(o.View,{className:I["fio-msg-new"],children:[(0,h.jsxs)(o.View,{className:(0,r.classnames)(I["fio-container"],I["bg-level-".concat(s[0].contentRank)]),onClick:(0,r.trackFn)("onClick--31cb8",(function(){return P(s)})),"data-testid":"click-fio",children:[(0,h.jsxs)(o.View,{className:I["fio-content"],children:[(0,h.jsxs)(o.View,{className:I["content-title"],children:[(0,h.jsx)(a.Z,{className:I["title-img"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/fio/Icon_info".concat(s[0].contentRank,".png")}),(0,h.jsx)(o.Text,{className:(0,r.classnames)(I["notice-title"],I["notice-level-".concat(s[0].contentRank)]),children:"\u51fa\u884c\u63d0\u9192\uff1a".concat(s.length>1?"".concat(s.length,"\u6761\u516c\u544a"):"")}),!l.length&&(0,h.jsx)(o.View,{className:I.content,children:d})]}),!!l.length&&(0,h.jsx)(o.View,{children:l.slice(0,2).map((function(e){return(0,h.jsx)(o.View,{className:I.subTitle,children:"\xb7".concat(e.title,"\uff1a").concat(e.subTitle)},e.notificationId)}))}),!!l.length&&!!u.length&&(0,h.jsx)(o.View,{className:I.bothTitle,children:f})]}),(0,h.jsx)(o.Text,{className:(0,r.classnames)("iconfont-h5 icon-arrow-right",I["bg-level-".concat(s[0].contentRank)])})]}),(0,h.jsx)(N,{firstNotice:c})]})},V=L},89808:function(e,t,n){"use strict";n.d(t,{k:function(){return G}});var r=n(45023),i=n(90129),o=n(91425),a=n(90201),c=n(71515),s=n(97659),l=n(7532),u=n(27933),d=n(18228),f=n(72546),m=n(72008),p=(n(53052),n(42891)),h=n(62064),g={tagsMapBox:"TagsMap-module_jutW4",SeparatorComp:"TagsMap-module_lCYed",RightDisplayArrow:"TagsMap-module__NnIy"},v=n(2269),y=["MEAT","CRAFT","IN_TIME"];function x(e){var t=e.flightTags;if(t){var n=y.map((function(e){return null===t||void 0===t?void 0:t[e]})).filter((function(e){return!!e}));return(0,v.jsxs)(a.Fragment,{children:[!!n.length&&n.map((function(e,t){return(0,v.jsxs)(c.View,{className:g.tagsMapBox,children:[(0,v.jsx)(p.Z,{}),(0,v.jsx)(c.Text,{children:e}),t===n.length-1&&(0,v.jsx)(h.Z,{})]},t)})),!n.length&&(0,v.jsx)(h.Z,{})]})}return null}var _=x,N={BasicInfoBox:"BasicInfo-module_FtA0O","flight-time-new":"BasicInfo-module_AfYek",h186:"BasicInfo-module_bzngx",h116:"BasicInfo-module_VgrdM",dateBox:"BasicInfo-module_u_U8b","time-plus-new":"BasicInfo-module_g3dgt","flight-info-new":"BasicInfo-module_zoyC2","info-city-box":"BasicInfo-module_aiAnW",verticalBar:"BasicInfo-module_Na1wH",pointBox:"BasicInfo-module_Fw0J3",lineBox:"BasicInfo-module_WcOaH",h150:"BasicInfo-module_dj_UL",h78:"BasicInfo-module_UyvVB",lineText:"BasicInfo-module_Bp8i9","city-info":"BasicInfo-module_AaGe0","stop-info":"BasicInfo-module_CTgNW","info-high-tip":"BasicInfo-module_PhXtd","different-terminal":"BasicInfo-module_sraEQ","info-tag":"BasicInfo-module_VHaL7","tag-box":"BasicInfo-module__PFOA","tag-box-new":"BasicInfo-module_GwZM9","airline-company":"BasicInfo-module_jEI3h","airline-logo":"BasicInfo-module_kOw2a",shared:"BasicInfo-module_zeyz4","airline-name":"BasicInfo-module_K8lUl",imageBox:"BasicInfo-module_lQhde",share:"BasicInfo-module_I0R23"},T=function(e){var t=e.segment,n=e.departDate,i=e.fromBookingPage,l=e.showTerminalTip,u=e.differentTransitDepartPort,p=e.differentTransitArrivePort,h=(e.isMiddleFloatLayer,t.stopInfoList||[]),g=function(){((0,d.jq)("middle_openComfort"),t&&t.comfortPopupLink)&&(0,f.G)(t.comfortPopupLink)};return(0,v.jsxs)(c.View,{className:N.BasicInfoBox,children:[(0,v.jsxs)(c.View,{className:"flight-time ".concat(N["flight-time-new"]," ").concat(null!==h&&void 0!==h&&h.length?N.h186:N.h116),children:[(0,v.jsxs)(c.View,{className:N.dateBox,children:[t.date!==n&&(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(c.Text,{className:N["time-plus-new"],children:t.date})}),t.departureTime]}),(0,v.jsxs)(c.View,{className:N.dateBox,children:[t.crossDays>0&&(0,v.jsx)(c.Text,{className:N["time-plus-new"],children:(0,o.dayjs)(t.arriveDateTime).locale("zh-cn").format("MM-DD ddd")}),t.arrivalTime]})]}),(0,v.jsxs)(c.View,{className:N["flight-info-new"],children:[(0,v.jsxs)(c.View,{className:N["info-city-box"],children:[(0,v.jsxs)(c.View,{className:N.verticalBar,children:[(0,v.jsx)(c.View,{className:N.pointBox}),(0,v.jsx)(c.View,{className:(0,o.classnames)(N.pointBox,N.lineBox,(0,r.Z)((0,r.Z)({},N.h150,null===h||void 0===h?void 0:h.length),N.h78,!(null!==h&&void 0!==h&&h.length))),children:(null===h||void 0===h?void 0:h.length)>0&&(0,v.jsx)(c.View,{className:N.lineText})}),(0,v.jsx)(c.View,{className:N.pointBox})]}),(0,v.jsxs)(c.View,{className:(0,o.classnames)(N["city-info"],N.lineBox,(0,r.Z)((0,r.Z)({},N.h186,null===h||void 0===h?void 0:h.length),N.h116,!(null!==h&&void 0!==h&&h.length))),children:[(0,v.jsx)(c.Text,{className:(0,o.classnames)((0,r.Z)({},N.isNewAirport,(0,m.U)(t.departureName)||u),"item"),children:t.departureName}),h.map((function(e,t){return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(c.View,{className:N["stop-info"],children:"\u7ecf\u505c".concat(null===e||void 0===e?void 0:e.cityName," ").concat((null===e||void 0===e?void 0:e.airportShortName)||"").concat((null===e||void 0===e?void 0:e.buildingShortName)||""," ").concat((null===e||void 0===e?void 0:e.stopCostTime)||"")})},t)})),(0,v.jsx)(c.View,{className:(0,o.classnames)((0,r.Z)({},N.isNewAirport,(0,m.U)(t.arrivalName)||p),"item"),children:t.arrivalName})]})]}),l?(0,v.jsx)(c.View,{className:N["info-high-tip"],children:(0,v.jsx)(c.Text,{className:N["different-terminal"],children:"\u4e0e\u53bb\u7a0b\u51fa\u53d1\u673a\u573a\u4e0d\u540c"})}):null,(0,v.jsxs)(c.View,{className:"airline-info ".concat(N["info-tag"]),onClick:(0,o.trackFn)("onClick--cb0b1",(function(){g()})),"data-testid":"jump-comfort",children:[(0,v.jsx)(c.View,{className:N["tag-box"],children:(0,v.jsxs)(c.View,{className:"".concat(N["airline-company"]," flex-middle"),children:[(0,v.jsx)(s.Z,{className:N["airline-logo"],src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+t.airlineCode+".png"}),(0,v.jsx)(c.Text,{className:N["airline-name"],children:t.airline}),!i&&(0,v.jsx)(_,{flightTags:null===t||void 0===t?void 0:t.flightTags})]})}),(t.shareAirline||t.shareFlightNo)&&(0,v.jsxs)(c.View,{className:"".concat(N["tag-box"]," ").concat(N["tag-box-new"]),children:[(0,v.jsx)(s.Z,{className:N.imageBox,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/arrowdownright.png"}),(0,v.jsx)(c.Text,{className:N.share,children:"\u5b9e\u9645\u627f\u8fd0"}),t.shareAirlineCode&&(0,v.jsx)(s.Z,{className:"".concat(N["airline-logo"]," ").concat(N.shared),src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+t.shareAirlineCode+".png"}),t.shareAirline||t.shareFlightNo]})]})]})]})},w=T,b=n(90614),C=function(e){var t=e.flight,n=e.page,r=e.fromBookingPage,i=e.isDifferentTrip,s=e.isMiddleFloatLayer,d=(0,l.x4)(null===t||void 0===t?void 0:t.transitTips);if(!t||!t.segments)return null;var f=!["BOOKING","SHARE_PASSENGER_EDIT","SHARE_PASSENGER_EDIT_NEW"].includes(n);return(0,v.jsx)(c.View,{className:"FlightCardTransitNew",children:(0,v.jsx)(c.View,{className:b.Z.TransitBox,children:t.segments.map((function(e,l){var m,h,g,y=l===t.segments.length-1&&i,x=l&&(null===t||void 0===t||null===(m=t.segments)||void 0===m||null===(m=m[l-1])||void 0===m?void 0:m.arrivalName)!==(null===e||void 0===e?void 0:e.departureName),_=l<t.segments.length-1&&(null===t||void 0===t||null===(h=t.segments)||void 0===h||null===(h=h[l+1])||void 0===h?void 0:h.departureName)!==(null===e||void 0===e?void 0:e.arrivalName);return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(w,{segment:e,departDate:t.segments[0].date,fromBookingPage:r,showTerminalTip:y,differentTransitDepartPort:x,differentTransitArrivePort:_,isMiddleFloatLayer:s}),l<t.segments.length-1&&(0,v.jsx)(c.View,{className:b.Z["transit-info-box"],children:(0,v.jsxs)(c.View,{className:b.Z["transit-info-container"],onClick:(0,o.trackFn)(e.arrivalTime+"--49714",(function(){return f&&(0,u.C)({name:"\u4e2d\u8f6c\u63d0\u793a",transitTips:d,isTransitValue:!0})})),"data-testid":"on-open-popup",children:[(0,v.jsxs)(c.View,{className:b.Z.virtualServicesBox,children:[(0,v.jsxs)(c.View,{children:[(0,v.jsx)(c.Text,{className:b.Z["transfer-city"],children:(t.virtualServices&&Object.keys(t.virtualServices).length?"\u901a\u7a0b":"\u4e2d\u8f6c")+e.arrivalCityName+(t.transitDuration?" "+t.transitDuration:"")+(null!==(g=t.transitDurationV2)&&void 0!==g&&g.length?" "+t.transitDurationV2[l]:"")}),1===d.length&&!r&&(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(p.Z,{}),(0,v.jsx)(c.Text,{children:"\u9700\u6258\u8fd0\u884c\u674e"})]})]}),d.length>1&&!r&&(0,v.jsx)(c.View,{className:b.Z.transitTipsBox,children:d.map((function(e){return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(p.Z,{}),(0,v.jsx)(c.Text,{className:"".concat("green"===e.color?b.Z.green87a:"orange"===e.color?b.Z.orange700:b.Z.black333),children:e.title})]},e.title)}))})]}),!t.virtualServices&&"BOOKING"!==n&&"SHARE_PASSENGER_EDIT"!==n&&"SHARE_PASSENGER_EDIT_NEW"!==n&&(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.View,{className:b.Z.noServicesBox,children:[!d.length&&(0,v.jsx)(c.Text,{children:"\u4e2d\u8f6c\u8bf4\u660e"}),(0,v.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-right"})]})})]})})]},e.arrivalTime)}))})})},j=n(67107),S=n(17321),k={"top-container":"Top-module_Azyb9","top-container-new":"Top-module_ZzlvB","top-box":"Top-module__JyW4","box-title":"Top-module_s4YDf","image-box":"Top-module_uGImb","text-box":"Top-module_cE18P","date-box":"Top-module_szDqv","city-box":"Top-module_iXa0g","img-box":"Top-module_kAj6C","box-title-inBooking":"Top-module_wBSDh",boxUnion:"Top-module_vpB8K","box-title-union":"Top-module_zi7dZ"};function I(e){var t,n,l,u,d=e.tripIndex,f=e.flight,m=e.fromBookingPage,p=e.tripTypefromOuter,h=void 0===p?"":p,g=(0,j.C)(S.e_),y=(0,a.useMemo)((function(){return h||g}),[h,g]),x="ROUND_TRIP"===y?d?"\u8fd4\u7a0b":"\u53bb\u7a0b":"MULTIPLE_TRIP"===y?"\u7b2c".concat(d+1,"\u7a0b"):"\u5355\u7a0b",_=(0,a.useState)(x),N=(0,i.Z)(_,1),T=N[0],w=f||{},b=w.segments,C=void 0===b?[]:b;return(0,v.jsxs)(c.View,{className:(0,o.classnames)(k["top-container"],(0,r.Z)({},k["top-container-new"],m)),children:[(0,v.jsxs)(c.View,{className:k["top-box"],children:[m?(0,v.jsx)(c.View,{className:k["box-title-inBooking"],children:T}):(0,v.jsxs)(c.View,{className:k["box-title"],children:[(0,v.jsx)(s.Z,{className:k["image-box"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/Rectangle.png"}),(0,v.jsx)(c.Text,{className:"".concat(k["text-box"]," ").concat(k["box-title-union"]),children:T})]}),(0,v.jsx)(c.View,{className:"".concat(k["date-box"]," ").concat(k.boxUnion),children:null===(t=C[0])||void 0===t?void 0:t.date}),(null===(n=C[0])||void 0===n?void 0:n.departureCityName)&&(0,v.jsxs)(c.View,{className:"".concat(k["city-box"]," ").concat(k.boxUnion),children:[null===(l=C[0])||void 0===l?void 0:l.departureCityName,(0,v.jsx)(s.Z,{className:k["img-box"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/arrowrighttrip.png"}),null===(u=C[C.length-1])||void 0===u?void 0:u.arrivalCityName]})]}),(null===f||void 0===f?void 0:f.duration)&&(0,v.jsx)(c.View,{className:k.boxUnion,children:"\u603b\u65f6\u957f"+((null===f||void 0===f?void 0:f.duration)||"")})]})}var E=I,P=function(e){var t=e.flight,n=void 0===t?{}:t,r=e.fromBookingPage,i=void 0!==r&&r,o=e.isDifferentTrip,a=void 0!==o&&o,c=e.isMiddleFloatLayer;return(0,v.jsx)(w,{segment:n.segments[0],departDate:n.segments[0].date,fromBookingPage:i,showTerminalTip:a,isMiddleFloatLayer:c})},L=P,V={"airline-comTags":"Comtag-module_mjFiI",marginT:"Comtag-module_kBJHA","airline-description":"Comtag-module_BMGEP","airline-image":"Comtag-module_M7r0u","airline-logo":"Comtag-module_dqH6W",marginX:"Comtag-module_w6LBj"};function O(e){var t,n=e.flight,r=e.fromBookingPage;return(0,v.jsxs)(c.View,{className:V["airline-comTags"],onClick:(0,o.trackFn)("onClick--35ea4",(function(){(0,l.cL)(n)})),"data-testid":"jump-comfort",children:[(0,v.jsx)(s.Z,{className:V["airline-logo"],src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+n.segments[0].airlineCode+".png"}),(0,v.jsx)(c.Text,{className:V.marginT,children:n.segments[0].airline}),n.segments[0].shareFlightNo&&(0,v.jsxs)(c.View,{className:V["airline-description"],children:[(0,v.jsx)(s.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/arrowright.png",className:V["airline-image"]}),"\u5b9e\u9645\u627f\u8fd0",n.segments[0].shareAirlineCode&&(0,v.jsx)(s.Z,{className:"".concat(V["airline-logo"]," ").concat(V.marginX),src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+n.segments[0].shareAirlineCode+".png"}),n.segments[0].shareAirline||n.segments[0].shareFlightNo]}),!r&&(0,v.jsx)(_,{flightTags:null===n||void 0===n||null===(t=n.segments)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.flightTags})]})}var A=O,R={FlightCardDirectNew:"Direct-module_RRgbl",directCardBox:"Direct-module_GOdxA","icon-oneway":"Direct-module_lXgcs",direct:"Direct-module_ko0kF",time:"Direct-module_we_kj","time-plus":"Direct-module_NIH9H",newColor:"Direct-module_rwbs1",lineH:"Direct-module_uqLRF",paddingX:"Direct-module_NuRBA",airport:"Direct-module_VDC18",isNewAirport:"Direct-module_PJWEL","arrow-right":"Direct-module_PzUkn",tagsMapBox:"Direct-module_KAx6Z",SeparatorComp:"Direct-module_i7nay",RightDisplayArrow:"Direct-module_J_P5R","share-pop-title":"Direct-module_Si7JW","airline-logo":"Direct-module_w4vqK","share-pop-content":"Direct-module_IrWm4","icon-warning":"Direct-module_Dx5xb"},D=function(e){var t=e.flight,n=e.fromBookingPage;return t.segments&&t.segments.length?(0,v.jsx)(c.View,{className:R.FlightCardDirectNew,children:(0,v.jsxs)(c.View,{className:"container",children:[(0,v.jsxs)(c.View,{className:R.directCardBox,children:[(0,v.jsxs)(c.View,{className:"align-self-center text-left",children:[(0,v.jsxs)(c.View,{className:R.time,children:[t.segments[0].crossDays>0&&(0,v.jsx)(c.Text,{className:R["time-plus"],children:(0,o.dayjs)(t.segments[0].departDateTime).locale("zh-cn").format("MM-DD ddd")}),(0,v.jsx)(c.Text,{className:R.lineH,children:t.segments[0].departureTime})]}),(0,v.jsx)(c.View,{className:(0,o.classnames)((0,r.Z)({},R.isNewAirport,(0,m.U)(t.segments[0].departureName)),R.airport,"text-center"),children:t.segments[0].departureName})]}),(0,v.jsx)(c.View,{className:"align-self-center text-center ".concat(R.paddingX),children:(0,v.jsx)(c.View,{className:R["arrow-right"],children:" "})}),(0,v.jsxs)(c.View,{className:"align-self-center text-right",children:[(0,v.jsxs)(c.View,{className:R.time,children:[t.segments[0].crossDays>0&&(0,v.jsx)(c.Text,{className:"".concat(R["time-plus"]," ").concat(R.newColor),children:(0,o.dayjs)(t.segments[0].arriveDateTime).locale("zh-cn").format("MM-DD ddd")}),(0,v.jsx)(c.Text,{className:R.lineH,children:t.segments[0].arrivalTime})]}),(0,v.jsx)(c.View,{className:(0,o.classnames)((0,r.Z)({},R.isNewAirport,(0,m.U)(t.segments[0].arrivalName)),R.airport,"text-center"),children:t.segments[0].arrivalName})]})]}),(0,v.jsx)(A,{flight:t,fromBookingPage:n})]})}):null},Z={"card-body-box":"TripComponent-module_CD5OM","flight-tips":"TripComponent-module_waKOl","tips-container":"TripComponent-module_Fvg9l",justifyB:"TripComponent-module_nanDM",tipsShowAll:"TripComponent-module_cCmt5","txt-title":"TripComponent-module_HujDF","txt-hidden":"TripComponent-module_lkG9S","flight-tips-new":"TripComponent-module_d4qdk",wFull:"TripComponent-module_uo3VJ",marginL:"TripComponent-module_Bld4c",transformStyle:"TripComponent-module_qu0OA","tips-box":"TripComponent-module_MT3o2","tips-box-new":"TripComponent-module_mutnC"},F=function(e){var t=e.tips,n=e.isHidden,r=e.handleIsHidden,s=(0,a.useState)(!1),l=(0,i.Z)(s,2),u=l[0],f=l[1],m=function(){(0,d.jq)("middle_displayTips"),f(!0)},p=function(){f(!1)};return t.length<=0?null:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(c.View,{className:Z["card-body-box"],children:(0,v.jsxs)(c.View,{className:Z["flight-tips"],children:[1===t.length&&(0,v.jsxs)(c.View,{className:Z["tips-container"],children:[t.map((function(e,t){return(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.View,{className:"".concat(!n&&Z["txt-hidden"]),children:[(0,v.jsx)(c.Text,{className:Z["txt-title"],children:e.title+"\uff1a"}),e.content]})},t)})),!n&&(0,v.jsxs)(c.View,{className:"".concat(Z["flight-tips"]," ").concat(Z["flight-tips-new"]),onClick:(0,o.trackFn)("onClick--15544",(function(){return r(!0)})),"data-testid":"on-switch-popup",children:[(0,v.jsx)(c.Text,{children:"\u5c55\u5f00\u63d0\u9192"}),(0,v.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-down"})]})]}),t.length>1&&!u&&(0,v.jsxs)(c.View,{className:"".concat(Z["tips-container"]," ").concat(Z.justifyB),children:[(0,v.jsxs)(c.View,{className:Z["tips-box"],children:[t.map((function(e,t){return(0,v.jsx)(c.View,{className:"".concat(!n&&Z["txt-hidden"]),children:(0,v.jsx)(c.Text,{className:Z["txt-title"],children:(t>0?"\u3001":"")+e.title})},t)})),(0,v.jsx)(c.Text,{children:"\u7b49"+t.length+"\u6761\u9884\u8ba2\u63d0\u793a"})]}),!n&&(0,v.jsxs)(c.View,{className:"".concat(Z["flight-tips"]," ").concat(Z["flight-tips-new"]),onClick:(0,o.trackFn)("showAllTips--3a2b7",m),children:[(0,v.jsx)(c.Text,{children:"\u5c55\u5f00\u63d0\u9192"}),(0,v.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-down ".concat(Z.marginL)})]})]}),t.length>1&&u&&(0,v.jsxs)(c.View,{className:"".concat(Z["tips-container"]," ").concat(Z.tipsShowAll),children:[t.map((function(e,t){return(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.View,{className:Z["tips-box-new"],children:[(0,v.jsx)(c.Text,{className:Z["txt-title"],children:e.title+"\uff1a"}),e.content]})},t)})),(0,v.jsxs)(c.View,{className:"".concat(Z.wFull," ").concat(Z["flight-tips-new"]),onClick:(0,o.trackFn)("foldTips--56d42",p),children:[(0,v.jsx)(c.Text,{children:"\u6536\u8d77\u63d0\u9192"}),(0,v.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-down ".concat(Z.transformStyle)})]})]})]})})})},M=(0,a.memo)(F),B=n(94892),U={"virtual-pop":"VirtualTipsModal-module_PCVU_","virtual-title":"VirtualTipsModal-module_ITR0G","vdesc-title":"VirtualTipsModal-module_EpHkb","vdesc-content":"VirtualTipsModal-module_hD664"},q=function(e){var t=e.virtualServices;return(0,v.jsx)(c.View,{children:(0,v.jsxs)(c.View,{className:"".concat(U["virtual-pop"]," px-3 pt-1"),children:[(0,v.jsx)(c.View,{className:"".concat(U["virtual-title"]," mb-3"),children:"\u4e58\u5750\u8be5\u822a\u73ed\u60a8\u5c06\u4eab\u53d7\u4e00\u4e0b\u670d\u52a1"}),t.CONTACT_HELP&&(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(c.View,{className:"".concat(U["virtual-desc"]," mb-3"),children:(0,v.jsx)(c.View,{className:U["vdesc-content"],children:t.CONTACT_HELP})})}),t.DIRECT_BAGGAGE&&(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.View,{className:"".concat(U["virtual-desc"]," mb-3"),children:[(0,v.jsx)(c.View,{className:"".concat(U["virtual-title"]," mb-1"),children:"\u884c\u674e\u76f4\u8fbe"}),(0,v.jsx)(c.View,{className:U["vdesc-content"],children:t.DIRECT_BAGGAGE})]})}),t.FREE_ACCOMMODATION&&(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.View,{className:"".concat(U["virtual-desc"]," mb-3"),children:[(0,v.jsx)(c.View,{className:"".concat(U["vdesc-title"]," mb-1"),children:"\u514d\u8d39\u4f4f\u5bbf"}),(0,v.jsx)(c.View,{className:U["vdesc-content"],children:t.FREE_ACCOMMODATION})]})}),t.TRANSFER_CAR&&(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.View,{className:"".concat(U["virtual-desc"]," mb-3"),children:[(0,v.jsx)(c.View,{className:"".concat(U["vdesc-title"]," mb-1"),children:"\u642d\u4e58\u4e13\u8f66"}),(0,v.jsx)(c.View,{className:U["vdesc-content"],children:t.TRANSFER_CAR})]})}),t.FLIGHT_FREE&&(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.View,{className:"".concat(U["virtual-desc"]," mb-3"),children:[(0,v.jsx)(c.View,{className:"".concat(U["vdesc-title"]," mb-1"),children:"\u822a\u53d8\u65e0\u5fe7"}),(0,v.jsx)(c.View,{className:U["vdesc-content"],children:t.FLIGHT_FREE})]})}),t.FLIGHT_FREE&&(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.View,{className:"".concat(U["virtual-desc"]," mb-3"),children:[(0,v.jsx)(c.View,{className:"".concat(U["vdesc-title"]," mb-1"),children:"\u4e00\u7968\u5230\u5e95"}),(0,v.jsx)(c.View,{className:U["vdesc-content"],children:t.TICKET_TO_END})]})})]})})},Y=function(e){var t=e.virtualServices;(0,d.jq)("middle_displayTips");var n=(0,B.K4)({close:{position:"top-left"},closeMethod:"close",title:"\u901a\u7a0b\u822a\u73ed\u4e13\u4eab",mask:{callback:function(){(0,B.Mr)(n)}},content:(0,v.jsx)(q,{virtualServices:t}),position:"bottom",animationClassName:"animate__animated animate__slideInUp animate__faster",style:{height:"78%",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})},H={FlightCardNew:"FlightCard-module_FbC_d","flight-info-seg":"FlightCard-module_Y2KRE","border-bottom-none":"FlightCard-module_jDpZe","virtual-box":"FlightCard-module_Qomf3","virtual-container":"FlightCard-module_xtcmu","virtual-tips":"FlightCard-module_Ex5NL","virtual-txt":"FlightCard-module_RVa33","symbol-virtual":"FlightCard-module_M1joT","txt-hidden":"FlightCard-module_WVpxJ","virtual-btn":"FlightCard-module_BK4jd","flight-guide":"FlightCard-module_e_QZh",symbol_fire_inspire:"FlightCard-module_QHvi6","icon-share":"FlightCard-module_SRkFP",isNewAirport:"FlightCard-module_i8d1B"},G=function(e){var t,n=e.tripType,u=e.tips,d=e.flights,f=e.page,m=e.tripTypefromOuter,p=e.fromBookingPage,h=void 0!==p&&p,g=e.isMiddleFloatLayer,y=(0,a.useState)(!1),x=(0,i.Z)(y,2),_=x[0],N=x[1],T=(null===u||void 0===u?void 0:u.filter((function(e){return e.content})))||[],w=(0,a.useMemo)((function(){return"ROUND_TRIP"===m||"ROUND_TRIP"===n}),[m,n]),b=(0,a.useMemo)((function(){var e,t,n,r=null===d||void 0===d?void 0:d.length,i=null===d||void 0===d||null===(e=d[0])||void 0===e||null===(e=e.segments)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.departureAirportCode,o=null===d||void 0===d||null===(t=d[r-1])||void 0===t?void 0:t.segments,a=null===o||void 0===o?void 0:o.length,c=null===o||void 0===o||null===(n=o[a-1])||void 0===n?void 0:n.arrivalAirportCode;return r>1&&i!==c}),[d]),j=function(e){N(e)};if(!d||!d.length)return null;var S=null===d||void 0===d||null===(t=d[0])||void 0===t?void 0:t.virtualServices;return(0,v.jsxs)(c.View,{className:H.FlightCardNew,children:[d.map((function(e,t){var n=t===d.length-1&&b;return(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(c.View,{className:(0,o.classnames)(H["flight-info-seg"],(0,r.Z)({},H["border-bottom-none"],t===d.length-1)),id:"flight-info-".concat(t),children:[(0,v.jsx)(E,{tripIndex:t,flight:e,fromBookingPage:h,tripTypefromOuter:m}),(0,l.uM)(d)||w?(0,v.jsx)(C,{tripIndex:t,flight:e,page:f,fromBookingPage:h,isDifferentTrip:n,isMiddleFloatLayer:g}):(0,l.Ko)(d)?(0,v.jsx)(L,{tripIndex:t,flight:e,fromBookingPage:h,isDifferentTrip:n,isMiddleFloatLayer:g}):(0,v.jsx)(D,{tripIndex:t,flight:e,fromBookingPage:h,isDifferentTrip:n})]})},"".concat(e.duration,"_").concat(t))})),(0,v.jsx)(M,{tips:T,isHidden:_,handleIsHidden:j}),S&&!!Object.keys(S).length&&(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(c.View,{className:H["virtual-box"],children:(0,v.jsx)(c.View,{className:H["virtual-container"],children:(0,v.jsxs)(c.View,{className:"row ".concat(H["virtual-tips"]),children:[(0,v.jsxs)(c.View,{className:"".concat(H["virtual-txt"]," col-10"),children:[(0,v.jsx)(s.Z,{className:"".concat(H["symbol-virtual"]," mr-2"),src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/detail-flightcard/icon-flight-fireinspire.svg"}),(0,v.jsx)(c.View,{className:"col-10",children:(0,v.jsxs)(c.View,{className:"txt-content ".concat(H["txt-hidden"]),children:[(0,v.jsx)(c.Text,{className:"txt-title",children:"\u901a\u7a0b\u4e13\u4eab\uff1a"}),S.DIRECT_BAGGAGE&&(0,v.jsx)(c.Text,{children:"\u884c\u674e\u76f4\u8fbe"}),S.TRANSFER_CAR&&(0,v.jsx)(c.Text,{children:"\u3001\u6362\u4e58\u4e13\u8f66"}),S.FREE_ACCOMMODATION&&(0,v.jsx)(c.Text,{children:"\u3001\u514d\u8d39\u4f4f\u5bbf"}),S.FLIGHT_FREE&&(0,v.jsx)(c.Text,{children:"\u3001\u822a\u53d8\u65e0\u5fe7"}),S.DIRECT_BAGG&&(0,v.jsx)(c.Text,{children:"\u3001\u4e00\u6b21\u503c\u673a"}),S.FLIGHT_FREE&&(0,v.jsx)(c.Text,{children:"\u3001\u4e00\u7968\u5230\u5e95"})]})})]}),(0,v.jsxs)(c.View,{className:H["virtual-btn"],onClick:(0,o.trackFn)("onClick--55b40",(function(){return Y({virtualServices:S})})),children:["\u67e5\u770b",(0,v.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-right"})]})]})})})})]})}},27933:function(e,t,n){"use strict";n.d(t,{C:function(){return m}});var r=n(91425),i=n(90201),o=n(94892),a=n(18228),c=n(71515),s=n(95518),l=n(90614),u=n(2269),d=function(e){var t=e.transitTips,n=e.canScroll,i=e.scrollTop,o=e.tips,a=e.isTransit,d=void 0===a||a;return(0,u.jsx)(c.View,{style:{display:"flex",maxHeight:"70vh",minHeight:"50vh"},id:"transit-pop",children:(0,u.jsx)(s.Z,{className:"scroll",scrollY:n,scrollTop:i,id:"transit-pop_id_e4265",onScroll:(0,r.trackFn)("transit-pop_id_e4265"),children:(0,u.jsx)(c.View,{className:"no-border pl-4 pr-4 max-w-full",style:{height:"100%",overflowY:"scroll",marginTop:0,paddingTop:0},children:(0,u.jsxs)(c.View,{className:"container mb-2",children:[o&&o.map((function(e,t){return(0,u.jsxs)(c.View,{className:"row mt-3",children:[(0,u.jsxs)(c.View,{className:"col-12 ".concat(l.Z["transit-pop-subtitle"]," ").concat(l.Z["c-orange"]),children:[(0,u.jsx)(c.Text,{className:l.Z["tip-icon"],style:{backgroundColor:"#ff7700"}}),e.title]}),(0,u.jsx)(c.View,{className:"col-12 mt-1 ".concat(l.Z["transit-pop-subcontent"]),children:e.content})]},t)})),d&&(0,u.jsxs)(u.Fragment,{children:[t&&t.map((function(e,t){var n={green:"#00b87a",orange:"#ff7700"}[e.color]||"#999999";return(0,u.jsxs)(c.View,{className:(0,r.classnames)("row",{"mt-3":0!==t||o}),children:[(0,u.jsxs)(c.View,{className:(0,r.classnames)(l.Z["transit-pop-subtitle"],"col-12",{"text-ctripGreen-787a":"green"===e.color,"text-ctripOrange-700":"orange"===e.color,"text-ctripBlack-333":"orange"!==e.color&&"green"!==e.color}),children:[(0,u.jsx)(c.Text,{className:l.Z["tip-icon"],style:{background:n}}),e.title]}),(0,u.jsx)(c.View,{className:"col-12 mt-1 ".concat(l.Z["transit-pop-subcontent"]),children:e.content})]},t)})),(0,u.jsxs)(c.View,{className:"row mt-3",children:[(0,u.jsxs)(c.View,{className:"col-12 ".concat(l.Z["transit-pop-subtitle"]),children:[(0,u.jsx)(c.Text,{className:l.Z["tip-icon"]}),"\u7a0e\u8d39\u53ca\u822a\u7a7a\u516c\u53f8"]}),(0,u.jsxs)(c.View,{className:"col-12 mt-1 ".concat(l.Z["transit-pop-subcontent"]),children:[(0,u.jsxs)(c.View,{className:l.Z.item,children:[(0,u.jsx)(c.Text,{className:l.Z["tip-icon"]}),"1. \u6bcf\u6bb5\u822a\u73ed\u5747\u9700\u7f34\u7eb3\u673a\u573a\u5efa\u8bbe\u8d39\u548c\u71c3\u6cb9\u7a0e"]}),(0,u.jsx)(c.View,{className:l.Z.item,children:"2. \u5efa\u8bae\u8d2d\u4e70\u540c\u4e00\u822a\u7a7a\u516c\u53f8\u7684\u4e2d\u8f6c\u8054\u7a0b\u673a\u7968\uff0c\u4fbf\u4e8e\u786e\u8ba4\u673a\u7968\uff0c\u53ca\u53d1\u751f\u822a\u73ed\u5ef6\u8bef\u65f6\u4fdd\u969c\u6743\u76ca\u3002"})]})]}),(0,u.jsxs)(c.View,{className:"row mt-3",children:[(0,u.jsxs)(c.View,{className:"col-12 ".concat(l.Z["transit-pop-subtitle"]),children:[(0,u.jsx)(c.Text,{className:l.Z["tip-icon"]}),"\u8f6c\u673a\u65f6\u95f4"]}),(0,u.jsxs)(c.View,{className:"col-12 mt-1 ".concat(l.Z["transit-pop-subcontent"]),children:[(0,u.jsx)(c.View,{className:l.Z.item,children:"1. \u4e58\u5ba2\u5e94\u8be5\u9884\u7559\u5145\u8db3\u7684\u8f6c\u673a\u65f6\u95f4\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u540e\u4e00\u7a0b\u822a\u73ed\u65e0\u6cd5\u53ca\u65f6\u767b\u673a\uff1b"}),(0,u.jsx)(c.View,{className:l.Z.item,children:"2. \u8f6c\u673a\u8fc7\u7a0b\u4e2d\uff0c\u4e58\u5ba2\u9700\u5904\u7406\u884c\u674e\u548c\u91cd\u65b0\u529e\u7406\u767b\u673a\u624b\u7eed\u3002"})]})]}),(0,u.jsxs)(c.View,{className:"row mt-3",children:[(0,u.jsxs)(c.View,{className:"col-12 ".concat(l.Z["transit-pop-subtitle"]),children:[(0,u.jsx)(c.Text,{className:l.Z["tip-icon"]}),"\u6f5c\u5728\u98ce\u9669"]}),(0,u.jsxs)(c.View,{className:"col-12 mt-1 ".concat(l.Z["transit-pop-subcontent"]),children:[(0,u.jsx)(c.View,{className:l.Z.item,children:"1. \u4e58\u5ba2\u5982\u653e\u5f03\u540e\u7eed\u884c\u7a0b\uff0c\u5219\u540e\u7eed\u822a\u73ed\u4ec5\u80fd\u4eab\u53d7\u81ea\u613f\u9000\u7968\u7684\u6743\u76ca\uff1b"}),(0,u.jsx)(c.View,{className:l.Z.item,children:"2. \u5982\u53d1\u751f\u822a\u73ed\u5ef6\u8bef\uff0c\u5efa\u8bae\u4e58\u5ba2\u4e0e\u822a\u7a7a\u516c\u53f8\u534f\u5546\u89e3\u51b3\uff1b"}),(0,u.jsx)(c.View,{className:l.Z.item,children:"3. \u901a\u5e38\u540c\u4e00\u822a\u7a7a\u516c\u53f8\u7684\u822a\u73ed\u5ef6\u8bef\u5904\u7406\u8f83\u4e3a\u59a5"})]})]}),(0,u.jsxs)(c.View,{className:"row mt-3",children:[(0,u.jsxs)(c.View,{className:"col-12 ".concat(l.Z["transit-pop-subtitle"]),children:[(0,u.jsx)(c.Text,{className:l.Z["tip-icon"]}),"\u81ea\u8eab\u6743\u76ca"]}),(0,u.jsxs)(c.View,{className:"col-12 mt-1 ".concat(l.Z["transit-pop-subcontent"]),children:[(0,u.jsx)(c.View,{className:l.Z.item,children:"1. \u5982\u53d1\u751f\u822a\u73ed\u5ef6\u8bef\uff0c\u60a8\u6709\u6743\u7d22\u8981\u5ef6\u8bef\u8bc1\u660e\u4ee5\u4fbf\u4e8e\u4e0e\u822a\u7a7a\u516c\u53f8\u534f\u5546\u5904\u7406\u3002 \u53c2\u8003:\u300a\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u6c11\u7528\u822a\u7a7a\u6cd5\u300b\u7b2c\u4e00\u767e\u4e8c\u5341\u516d\u6761\u65c5\u5ba2\u3001\u884c\u674e\u6216\u8005\u8d27\u7269\u5728\u822a\u7a7a\u8fd0\u8f93\u4e2d\u56e0\u5ef6\u8bef\u9020\u6210\u7684\u635f\u5931\uff0c\u627f\u8fd0\u4eba\u5e94\u5f53\u627f\u62c5\u8d23\u4efb\uff1b\u4f46\u662f\uff0c\u627f\u8fd0\u4eba\u8bc1\u660e\u672c\u4eba\u6216\u8005\u5176\u53d7\u96c7\u4eba\u3001\u4ee3\u7406\u4eba\u4e3a\u4e86\u907f\u514d\u635f\u5931\u7684\u53d1\u751f\uff0c\u5df2\u7ecf\u91c7\u53d6\u4e00\u5207\u5fc5\u8981\u63aa\u65bd\u6216\u8005\u4e0d\u53ef\u80fd\u91c7\u53d6\u6b64\u79cd\u63aa\u65bd\u7684\uff0c\u4e0d\u627f\u62c5\u8d23\u4efb\u3002"}),(0,u.jsx)(c.View,{className:l.Z.item,style:{marginBottom:"200px"},children:"2. \u8f6c\u673a\u8fc7\u7a0b\u4e2d\uff0c\u4e58\u5ba2\u9700\u5904\u7406\u884c\u674e\u548c\u91cd\u65b0\u529e\u7406\u767b\u673a\u624b\u7eed\u3002"})]})]})]})]})})})})},f=(0,i.memo)(d),m=function(e){var t=e.name,n=e.transitTips,r=e.tips,i=e.isTransitValue,c=void 0!==i&&i,s=e.isMiddleFloat,l=void 0!==s&&s;return(0,a.jq)("\u67e5\u770b\u884c\u7a0b\u63d0\u793a/\u4e2d\u8f6c\u8bf4\u660e"),(0,o.K4)({close:{position:"top-left",isBack:l},closeMethod:"close",title:t,content:(0,u.jsx)(f,{transitTips:n,tips:r,isTransit:c}),position:"bottom"})}},62064:function(e,t,n){"use strict";n(91425),n(90201);var r=n(71515),i=n(27842),o=n(2269);function a(){return(0,o.jsx)(r.Text,{className:"iconfont-h5 icon-arrow-right ".concat(i.Z.RightDisplayArrow)})}t["Z"]=a},42891:function(e,t,n){"use strict";n(91425),n(90201);var r=n(71515),i=n(27842),o=n(2269);function a(){return(0,o.jsx)(r.Text,{className:i.Z.SeparatorComp})}t["Z"]=a},7532:function(e,t,n){"use strict";n.d(t,{cL:function(){return c},x4:function(){return s},Ko:function(){return l},gl:function(){return u},uM:function(){return d}});var r=n(90129),i=(n(91425),n(72546)),o=n(18228),a=(n(53052),{BAGGAGE_STRAIGHT_UP:"green",BAGGAGE_FORWARDING:"green",BAGGAGE_NEED:"orange"}),c=function(e){var t,n=null===e||void 0===e||null===(t=e.segments)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.comfortPopupLink;((0,o.jq)("openComfort"),n)&&(0,i.G)(n,{url:encodeURIComponent(n)})},s=function(e){return e&&0!==Object.keys(e).length?Object.entries(e).filter((function(e){var t=(0,r.Z)(e,2),n=t[1];return!!n})).map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1],o=(null===i||void 0===i?void 0:i.split("|"))||[],c=(0,r.Z)(o,2),s=c[0],l=void 0===s?"":s,u=c[1],d=void 0===u?"":u,f="CHECK_IN"===n?l.includes("\u514d\u503c\u673a")?"green":"orange":a[n];return{title:l,content:d,color:f}})):[]},l=function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((function(e){var t;return null===e||void 0===e||null===(t=e.segments)||void 0===t?void 0:t.some((function(e){var t;return(null===e||void 0===e||null===(t=e.stops)||void 0===t?void 0:t.length)>0}))})))&&void 0!==t&&t},u=function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.reduce((function(e,t){var n,r;return e+(null!==(n=null===t||void 0===t||null===(r=t.segments)||void 0===r?void 0:r.reduce((function(e,t){var n,r;return e+(null!==(n=null===t||void 0===t||null===(r=t.stops)||void 0===r?void 0:r.length)&&void 0!==n?n:0)}),0))&&void 0!==n?n:0)}),0))&&void 0!==t?t:0},d=function(e){var t,n;return(null===e||void 0===e||null===(t=e[0])||void 0===t||null===(t=t.segments)||void 0===t?void 0:t.length)>1||(null===e||void 0===e||null===(n=e[1])||void 0===n||null===(n=n.segments)||void 0===n?void 0:n.length)>1}},6951:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(45023),i=n(91425),o=n(90201),a=n(71515),c={"trip-tag":"index-module_wqXfs",blueTExt:"index-module_m5ggg","green-border-text":"index-module_kq_iN"},s=n(2269),l=function(e){var t=e.value,n=e.borderColor;return(0,s.jsx)(a.View,{className:c["label-tag-box"],children:(0,s.jsx)(a.View,{className:(0,i.classnames)(c["trip-tag"],(0,r.Z)((0,r.Z)({},c.blueTExt,"\u7559\u5b66\u751f\u4e13\u4eab\u4ef7"===t),c["green-border-text"],!!n)),style:{border:n?"1px solid ".concat(n):"none"},children:t})})},u=(0,o.memo)(l)},97659:function(e,t,n){"use strict";n(91425);var r=n(71515);t["Z"]=r.Image},1137:function(e,t,n){"use strict";n.d(t,{K:function(){return M}});var r=n(90129),i=n(91425),o=n(90201),a=n(71515),c=n(4091),s=n(99531),l=function(e,t){var n;return n=1===t?"\u5355\u7a0b":2===t?e?"\u8fd4\u7a0b":"\u53bb\u7a0b":t>2?e?"\u7b2c".concat(e+1,"\u7a0b"):"\u7b2c1\u7a0b":"\u5355\u7a0b",n},u=n(298),d=function(e,t){if(null!==e&&void 0!==e&&e.fmap&&null!==t&&void 0!==t&&t.fmap){var n=1&e.fmap||0,r=1&t.fmap||0;return n-r}return 0},f=function(e,t,n){if(!e||!t)return"";var r=null===e||void 0===e?void 0:e.dportinfo,i=r||{},o=i.city,a=i.aport,c=i.bsname,s=null===t||void 0===t?void 0:t.aportinfo,l=s||{},u=l.city,d=l.cityname,f=l.aport,m=l.aportsname,p=l.bsname;return o!==u?"":n||f!==a?"\u4e2d\u8f6c".concat(d):p!==c?"\u4e2d\u8f6c".concat(f).concat(m):"\u4e2d\u8f6c".concat(f).concat(m).concat(p)},m=function(e){return null!==e&&void 0!==e&&e.length?e.map((function(e){var t=null===e||void 0===e?void 0:e.tlst.filter((function(e){return 4&(null===e||void 0===e?void 0:e.fmap)})),n=i.R.sort(d,t);return(0,u.Z)((0,u.Z)({},e),{},{tlst:n})})):[]},p=function(e,t,n){var r,o=null===e||void 0===e?void 0:e.length;if(null===e||void 0===e||!e.length)return[];var a=0,s=m(n),l=null===e||void 0===e?void 0:e.map((function(n,l){var d,m,p,h,g,v,y,x,_,N,T,w,b,C=(0,i.dayjs)(null===n||void 0===n||null===(d=n.dateinfo)||void 0===d?void 0:d.ddate).format("HH:mm"),j=(0,i.dayjs)(null===n||void 0===n||null===(m=n.dateinfo)||void 0===m?void 0:m.adate).format("HH:mm"),S=(0,i.dayjs)(null===n||void 0===n||null===(p=n.dateinfo)||void 0===p?void 0:p.ddate).format("YYYY-MM-DD"),k=(0,i.dayjs)(null===n||void 0===n||null===(h=n.dateinfo)||void 0===h?void 0:h.adate).format("YYYY-MM-DD"),I=(0,i.dayjs)(null===(g=e[l-1])||void 0===g||null===(g=g.dateinfo)||void 0===g?void 0:g.adate).format("YYYY-MM-DD"),E=(0,i.dayjs)(null===n||void 0===n||null===(v=n.dateinfo)||void 0===v?void 0:v.ddate).format("MM-DD"),P=(0,i.dayjs)(null===n||void 0===n||null===(y=n.dateinfo)||void 0===y?void 0:y.adate).format("MM-DD"),L=l&&(0,i.dayjs)(S).diff(I,"day"),V=(0,i.dayjs)(k).diff(S,"day"),O=(0,c.xF)(null===n||void 0===n||null===(x=n.dateinfo)||void 0===x?void 0:x.jtime),A=O?"\u98de".concat(O):"",R=(null===n||void 0===n?void 0:n.dportinfo)||{},D=R.aport,Z=R.aportsname,F=R.bsname,M=(null===n||void 0===n?void 0:n.aportinfo)||{},B=M.aport,U=M.aportsname,q=M.bsname,Y=(null===n||void 0===n?void 0:n.basinfo)||{},H=Y.airsname,G=Y.flgno,W=Y.logourl,z=Y.meal,K=Y.cancelrate,Q=Y.ishared,J=Y.clogourl,X=Y.crerairsname,$=Y.crerflgno,ee=null===n||void 0===n||null===(_=n.craftinfo)||void 0===_?void 0:_.cdname,te=null===(N=i.R.find((function(e){return 9===e.notetpe}),(null===n||void 0===n?void 0:n.notelst)||[]))||void 0===N?void 0:N.notecnt,ne=null===n||void 0===n?void 0:n.stopinfo;null!==ne&&void 0!==ne&&ne.isstop&&null!==ne&&void 0!==ne&&null!==(T=ne.citys)&&void 0!==T&&T.length&&null!==t&&void 0!==t&&t.length&&(r=null===t||void 0===t?void 0:t[a],a++);var re=o>1&&l<o-1,ie=null===s||void 0===s?void 0:s[l],oe=f(null===e||void 0===e?void 0:e[l+1],n,!1),ae=f(null===e||void 0===e?void 0:e[l+1],n,!0),ce=(0,c.b6)(null===e||void 0===e||null===(w=e[l+1])||void 0===w||null===(w=w.dateinfo)||void 0===w?void 0:w.ddate,null===n||void 0===n||null===(b=n.dateinfo)||void 0===b?void 0:b.adate),se=(ce.hours?"".concat(ce.hours,"h"):"")+(ce.minutes?"".concat(ce.minutes,"m"):""),le=ce.hours<2||2===ce.hours&&!ce.minutes;return(0,u.Z)((0,u.Z)({},n),{},{departureTime:C,arrivalTime:j,crossDayAddInDepart:L,crossDayAddInArrival:V,departure:E,arrival:P,tripSpendTime:A,departurePort:D,departurePortName:Z,departureTerminal:F,arrivalPort:B,arrivalPortName:U,arrivalTerminal:q,airlineName:H,airlineNumber:G,airlineLogo:W,craftName:ee,comfortUrl:te,cancelRate:K,meal:z,isShare:Q,shareAirlineLogo:J,shareAirlineName:X,shareAirlineNumber:$,stopinfo:(0,u.Z)((0,u.Z)({},null===n||void 0===n?void 0:n.stopinfo),{},{stopTipData:r}),hasTransfer:re,foldTransferName:oe,unfoldTransferName:ae,transitTime:se,highLightTime:le,transferNoteInfo:ie})}));return l},h=function(e){var t=e||{},n=t.transfer,r=void 0===n?[]:n,i=t.flgs,o=r.filter((function(e){return 8===e.tflag})),a=r.filter((function(e){var t;return 4===e.tflag||(null===(t=e.tname)||void 0===t?void 0:t.includes("\u4e2d\u8f6c"))}))||[];return p(i,o,a)},g=n(45023),v=n(97659),y={transferBox:"LineBreakArea-module_g5a_2",stopBox:"LineBreakArea-module_DQkIj",name:"LineBreakArea-module_MZkpX",time:"LineBreakArea-module_NilM0",tipContainer:"LineBreakArea-module_uPeVX",iconBox:"LineBreakArea-module_uYBWm",disadvantage:"LineBreakArea-module_nuEcP",advantage:"LineBreakArea-module_OACpL",normalText:"LineBreakArea-module_iGjbH",rightIcon:"LineBreakArea-module_ueEIi",separator:"LineBreakArea-module_khEPk",hightLight:"LineBreakArea-module__kzIz"},x=n(2269),_=function(e){var t=e.tip,n=e.idx,r=e.advantageIdxList,o=e.disadvantageIdxList,c=e.isLast,s=e.hiddenRightArrow,l=e.isStop,u=null===t||void 0===t?void 0:t.fmap,d=1&u,f=!l&&(n===(null===r||void 0===r?void 0:r[0])||n===(null===o||void 0===o?void 0:o[0]));return(0,x.jsxs)(a.View,{className:y.tipContainer,children:[f?(0,x.jsx)(v.Z,{className:y.iconBox,src:d?"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/atention.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/policyGou.png"}):l&&!n?null:(0,x.jsx)(a.Text,{className:y.separator}),(null===t||void 0===t?void 0:t.title)&&(0,x.jsx)(a.Text,{className:(0,i.classnames)((0,g.Z)((0,g.Z)((0,g.Z)({},y.disadvantage,d),y.advantage,!d),y.normalText,l)),children:t.title}),!s&&c&&(0,x.jsx)(a.Text,{className:y.rightIcon})]})},N=function(e){var t=e.stopCitys,n=e.name,r=e.duration,c=e.tipList,s=e.isStop,l=void 0!==s&&s,u=e.hiddenRightArrow,d=void 0!==u&&u,f=e.timeHighlight,m=e.showTransferLayer,p=null===c||void 0===c?void 0:c.length,h=[],v=[];return p&&c.forEach((function(e,t){1&e.fmap?v.push(t):h.push(t)})),null!==t&&void 0!==t&&t.length?(0,x.jsx)(x.Fragment,{children:t.map((function(e){var t="\u7ecf\u505c".concat((null===e||void 0===e?void 0:e.cityName)||(null===e||void 0===e?void 0:e.cityname)),n=null===e||void 0===e?void 0:e.stoptime,r=Math.floor(n/60),s=Math.floor(n-60*r),u=r&&s?"".concat(r,"h").concat(s,"m"):r?"".concat(r,"h"):"".concat(s,"m"),N=(null===c||void 0===c?void 0:c.filter((function(t){return t.aport===e.aport})))||[];return(0,x.jsxs)(a.View,{className:"".concat(l?y.stopBox:y.transferBox),onClick:(0,i.trackFn)(e.cityName+"--24cf5",(function(){return m&&m(t)})),children:[t&&(0,x.jsx)(a.Text,{className:y.name,children:t}),u&&(0,x.jsx)(a.Text,{className:(0,i.classnames)(y.time,(0,g.Z)({},y.hightLight,f)),children:u}),null!==N&&void 0!==N&&N.length&&p?N.map((function(e,t){return(0,x.jsx)(o.Fragment,{children:(0,x.jsx)(_,{tip:e,idx:t,isStop:l,advantageIdxList:h,disadvantageIdxList:v,isLast:t===p-1,hiddenRightArrow:d})},t)})):!d&&(0,x.jsx)(a.Text,{className:y.rightIcon})]},e.cityName)}))}):(0,x.jsxs)(a.View,{className:"".concat(l?y.stopBox:y.transferBox),onClick:(0,i.trackFn)("onClick--4f029",(function(){return m&&m(n)})),children:[n&&(0,x.jsx)(a.Text,{className:y.name,children:n}),r&&(0,x.jsx)(a.Text,{className:(0,i.classnames)(y.time,(0,g.Z)({},y.hightLight,f)),children:r}),p?c.map((function(e,t){return(0,x.jsx)(o.Fragment,{children:(0,x.jsx)(_,{tip:e,idx:t,isStop:l,advantageIdxList:h,disadvantageIdxList:v,isLast:t===p-1,hiddenRightArrow:d})},t)})):!d&&(0,x.jsx)(a.Text,{className:y.rightIcon})]})},T=n(72546),w=n(18228),b=n(62064),C={flightLabel:"FlightLabel-module_BPqyd",lineTag:"FlightLabel-module_ViR8k",airLogo:"FlightLabel-module_rkIdO",separator:"FlightLabel-module_sxAqn",tagsMapBox:"FlightLabel-module_Ugtr9",rightDisplayArrow:"FlightLabel-module_wLytm"},j=function(e,t,n,r,i,o,a){var c=[],s=[];if(t)n&&c.push(n),i&&s.push(i),r&&!e&&s.push(r),[o,a].filter(Boolean).forEach((function(e){return s.push(e)}));else{var l=e?[n,i,o,a].filter(Boolean):[n,i,r,o,a].filter(Boolean);null===l||void 0===l||l.forEach((function(e){return e&&c.push(e)}))}return{dataList:c,shareDataList:s}},S=function(e){var t=e.flightTags,n=e.hideRightArrow;return(null===t||void 0===t?void 0:t.length)>0?(0,x.jsx)(o.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,r){return(0,x.jsxs)(a.View,{className:C.tagsMapBox,children:[(0,x.jsx)(a.Text,{className:C.separator}),(0,x.jsx)(a.Text,{children:e}),r===t.length-1&&!n&&(0,x.jsx)(b.Z,{})]},r)}))}):null},k=function(e){var t=e.comfortUrl,n=e.airlineLogo,r=e.airlineName,o=e.airlineNumber,c=e.craftName,s=e.tripSpendTime,l=e.hideComfortArrow,u=e.meal,d=e.cancelRate,f=e.isDirectTrip,m=e.isShare,p=e.shareAirlineLogo,h=e.shareAirlineName,g=e.shareAirlineNumber,y=e.cabinName,_=function(e){return(0,w.jq)("c_open_comfort_layer"),!l&&e&&(0,T.G)(e,{needFrom:!0})},N=j(f,m,c,s,y,u,d),b=N.dataList,k=N.shareDataList,I=l||!t;return(0,x.jsxs)(a.View,{className:C.flightLabel,onClick:(0,i.trackFn)("onClick--50093",(function(){return _(t)})),children:[(0,x.jsxs)(a.View,{className:C.lineTag,children:[(0,x.jsx)(v.Z,{src:n,className:C.airLogo}),(0,x.jsxs)(a.Text,{children:[r,o]}),!(null===b||void 0===b||!b.length)&&(0,x.jsx)(S,{flightTags:b,hideRightArrow:m||I})]}),m&&(0,x.jsxs)(a.View,{className:C.lineTag,children:[(0,x.jsx)(v.Z,{className:C.airLogo,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/shareFlt.png"}),(0,x.jsx)(a.Text,{children:"\u5b9e\u9645\u627f\u5750 "}),p&&(0,x.jsx)(v.Z,{src:p,className:C.airLogo}),(0,x.jsxs)(a.Text,{children:[h,g]}),!(null===k||void 0===k||!k.length)&&(0,x.jsx)(S,{flightTags:k,hideRightArrow:I})]})]})},I=n(94892),E=n(95518),P={transferLayer:"StopAndTransferLayer-module_MqzlU",tipLayerTab:"StopAndTransferLayer-module_ZmuiX",tabsTitleWrapper:"StopAndTransferLayer-module_Srf6v",tabsTitle:"StopAndTransferLayer-module_QKyPd",tabTitle:"StopAndTransferLayer-module_hoKE2",active:"StopAndTransferLayer-module_BjKAA",contentBox:"StopAndTransferLayer-module_CFA_x",tipContainer:"StopAndTransferLayer-module_m2_xh",tipItem:"StopAndTransferLayer-module_cIt3o",titleBox:"StopAndTransferLayer-module_SLZSk",title:"StopAndTransferLayer-module_LDODf",blueDot:"StopAndTransferLayer-module_pkLM5",content:"StopAndTransferLayer-module_V8dAI"},L=function(e){var t=e.tripTipList,n=e.tabIdx,c=(0,o.useState)(n||0),s=(0,r.Z)(c,2),l=s[0],u=s[1],d=function(e){return(null===t||void 0===t?void 0:t.find((function(t){return(null===t||void 0===t?void 0:t.trno)===e})))||{}},f=(0,o.useState)(d(n)),m=(0,r.Z)(f,2),p=m[0],h=m[1],g=(0,o.useMemo)((function(){return(null===p||void 0===p?void 0:p.tlst)||[]}),[p]),v=function(e){u(e),h(d(e))};return(0,x.jsxs)(a.View,{className:P.transferLayer,children:[(null===t||void 0===t?void 0:t.length)>1&&(0,x.jsx)(a.View,{className:"".concat(P.tipLayerTab),children:(0,x.jsx)(E.Z,{className:P.tabsTitleWrapper,scrollX:!0,id:"id_26fb7",onScroll:(0,i.trackFn)("id_26fb7"),children:t.map((function(e){var t=e.tname,n=e.trno;return(0,x.jsx)(a.View,{className:P.tabsTitle,children:(0,x.jsx)(a.View,{className:"".concat(P.tabTitle," ").concat(l===n?P.active:""),onClick:(0,i.trackFn)("id_26fb7--"+"tab_".concat(t)+"--a269c",(function(){return v(n)})),children:t})},"tab_".concat(t))}))})}),(0,x.jsx)(a.View,{className:P.contentBox,children:(0,x.jsx)(E.Z,{className:P.tipContainer,scrollY:!0,id:"id_d6754",onScroll:(0,i.trackFn)("id_d6754"),children:g.map((function(e){var t=e.title,n=e.cnt;return(0,x.jsxs)(a.View,{className:P.tipItem,children:[(0,x.jsxs)(a.View,{className:P.titleBox,children:[(0,x.jsx)(a.View,{className:P.blueDot}),(0,x.jsx)(a.Text,{className:P.title,children:t})]}),(0,x.jsx)(a.View,{className:P.content,children:n})]},"tip_item_".concat(t))}))})})]})},V=function(e,t,n){var r=(null===e||void 0===e?void 0:e.transfer)||[];if(null!==r&&void 0!==r&&r.length){var i=1===(null===r||void 0===r?void 0:r.length)?n||r[0].tname:"\u4e2d\u8f6c\u63d0\u9192";(0,s.jq)("c_open_transfer_layer_successes"),(0,I.K4)({close:{position:"top-left"},closeMethod:"close",title:i,content:(0,x.jsx)(L,{tripTipList:r,tabIdx:t}),position:"bottom",animationClassName:"animate__animated animate__slideInUp animate__faster",style:{width:"100%",position:"absolute",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})}else(0,s.jq)("c_open_transfer_layer_failure")},O={directCard:"DirectCard-module_Vnw9k",directContainer:"DirectCard-module_uhkAV",airportContainer:"DirectCard-module_lnBAk",blueBorder:"DirectCard-module_HLeyd",emptyDiv:"DirectCard-module_xhTLJ",timeContainer:"DirectCard-module_tFa3L",airport:"DirectCard-module_el0Cz",time:"DirectCard-module_SQnmn",depart:"DirectCard-module_loXmf",arrive:"DirectCard-module_YfEas",arriveBox:"DirectCard-module_oexau",crossDay:"DirectCard-module_C3vhx"},A=function(e){var t,n=e.flight,r=e.hiddenRightArrow,i=e.hideComfortArrow,o=null===n||void 0===n?void 0:n.transfer,c=o.filter((function(e){return 8===e.tflag}))||[],s=null===n||void 0===n?void 0:n.flgs,l=null===(t=p(s,c))||void 0===t?void 0:t[0],u=null===l||void 0===l?void 0:l.departureTime,d=null===l||void 0===l?void 0:l.arrivalTime,f=null===l||void 0===l?void 0:l.departurePort,m=null===l||void 0===l?void 0:l.departurePortName,h=null===l||void 0===l?void 0:l.departureTerminal,g=null===l||void 0===l?void 0:l.arrivalPort,v=null===l||void 0===l?void 0:l.arrivalPortName,y=null===l||void 0===l?void 0:l.arrivalTerminal,_=null===l||void 0===l?void 0:l.crossDayAddInArrival,T=null===l||void 0===l?void 0:l.arrival,w=l.tripSpendTime,b=l.airlineLogo,C=l.airlineName,j=l.airlineNumber,S=l.craftName,I=l.comfortUrl,E=l.meal,P=l.cancelRate,L=l.isShare,A=l.shareAirlineLogo,R=l.shareAirlineName,D=l.shareAirlineNumber,Z=l.cabinName,F=null===l||void 0===l?void 0:l.stopinfo,M=null===F||void 0===F?void 0:F.isstop,B=null===F||void 0===F?void 0:F.citys,U=null===F||void 0===F?void 0:F.stopTipData;return(0,x.jsxs)(a.View,{className:O.directCard,children:[(0,x.jsxs)(a.View,{className:O.directContainer,children:[(0,x.jsxs)(a.View,{className:O.timeContainer,children:[(0,x.jsx)(a.View,{className:"".concat(O.time," ").concat(O.depart),children:u}),(0,x.jsxs)(a.View,{className:"".concat(O.arriveBox," ").concat(O.time," ").concat(O.arrive),children:[!!_&&(0,x.jsx)(a.View,{className:O.crossDay,children:T}),d]})]}),(0,x.jsxs)(a.View,{className:O.airportContainer,children:[(0,x.jsx)(a.View,{className:O.blueBorder}),(0,x.jsxs)(a.View,{className:O.timeContainer,children:[(0,x.jsxs)(a.View,{className:"".concat(O.airport," ").concat(O.depart),children:[f," ",m," ",h]}),M&&(0,x.jsx)(N,{stopCitys:B,tipList:null===U||void 0===U?void 0:U.tlst,hiddenRightArrow:r,timeHighlight:!1,showTransferLayer:function(e){return!r&&V(n,null===U||void 0===U?void 0:U.trno,e)}}),(0,x.jsxs)(a.View,{className:"".concat(O.airport," ").concat(O.arrive),children:[g," ",v," ",y]})]})]})]}),(0,x.jsxs)(a.View,{className:O.directContainer,children:[(0,x.jsx)(a.View,{className:O.emptyDiv}),(0,x.jsx)(a.View,{children:(0,x.jsx)(k,{comfortUrl:I,airlineLogo:b,airlineName:C,airlineNumber:j,craftName:S,tripSpendTime:w,hideComfortArrow:i,meal:E,cancelRate:P,isDirectTrip:!0,isShare:L,shareAirlineLogo:A,shareAirlineName:R,shareAirlineNumber:D,cabinName:Z})})]})]})},R={transferBox:"TransferCard-module_qTc5H",transferBoxNew:"TransferCard-module_9p_Fn",noBorder:"TransferCard-module_pnQHD",firstTripBox:"TransferCard-module_k3awT",airportContainer:"TransferCard-module_AXkat",blueBorder:"TransferCard-module_CST8C",airportNameBox:"TransferCard-module_nCIfH",defaultAirportNameBox:"TransferCard-module_J7cuo",endStretch:"TransferCard-module_aXD_x",departureDate:"TransferCard-module_w4A5y",arrivalDate:"TransferCard-module_xh4wX",addBottom:"TransferCard-module_FMvxG",relateFix:"TransferCard-module_MGd_m",airport:"TransferCard-module_ETnjL",time:"TransferCard-module_QiWW5",departCross:"TransferCard-module_mHAXc",crossDay:"TransferCard-module_EFY6S",subTime:"TransferCard-module_j6SKR",depart:"TransferCard-module_fjFW8",arrive:"TransferCard-module_jhS3i",lineLeftArea:"TransferCard-module_eBNIC",tipContainer:"TransferCard-module_K0BXM",transferArrive:"TransferCard-module_lio6B",addTopArrive:"TransferCard-module_JUxda"},D=function(e){var t=e.arrowUp,n=e.flight,r=e.hiddenRightArrow,c=e.hideComfortArrow,s=h(n);if(null===s||void 0===s||!s.length)return null;var l=s.length;return(0,x.jsx)(a.View,{className:R.transferContainer,children:s.map((function(e,s){var u=e||{},d=u.departureTime,f=u.arrivalTime,m=u.crossDayAddInDepart,p=u.crossDayAddInArrival,h=u.departure,v=u.arrival,y=u.tripSpendTime,_=u.departurePort,T=u.departurePortName,w=u.departureTerminal,b=u.arrivalPort,C=u.arrivalPortName,j=u.arrivalTerminal,S=u.airlineLogo,I=u.airlineName,E=u.airlineNumber,P=u.craftName,L=u.comfortUrl,O=u.meal,A=u.cancelRate,D=u.isShare,Z=u.shareAirlineLogo,F=u.shareAirlineName,M=u.shareAirlineNumber,B=u.stopinfo,U=u.hasTransfer,q=u.foldTransferName,Y=u.unfoldTransferName,H=u.transitTime,G=u.highLightTime,W=u.transferNoteInfo,z=u.cabinName,K=t?Y:q,Q=B||{},J=Q.isstop,X=Q.citys,$=Q.stopTipData;return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsxs)(a.View,{className:R.firstTripBox,children:[(0,x.jsxs)(a.View,{className:R.lineLeftArea,children:[(0,x.jsxs)(a.View,{className:(0,i.classnames)(R.departureDate,(0,g.Z)((0,g.Z)({},R.addBottom,!t),R.relateFix,m)),children:[!!m&&(0,x.jsx)(a.View,{className:"".concat(R.crossDay," ").concat(R.departCross),children:h}),(0,x.jsx)(a.View,{className:(0,i.classnames)(R.time,R.depart,(0,g.Z)({},R.subTime,!t&&s)),children:d})]}),(0,x.jsxs)(a.View,{className:R.arrivalDate,children:[!!p&&(0,x.jsx)(a.View,{className:R.crossDay,children:v}),(0,x.jsx)(a.View,{className:(0,i.classnames)(R.time,R.arrive,(0,g.Z)({},R.subTime,!t&&s<l-1)),children:f})]})]}),(0,x.jsxs)(a.View,{className:R.airportContainer,children:[(0,x.jsx)(a.View,{className:R.blueBorder}),(0,x.jsxs)(a.View,{className:(0,i.classnames)((0,g.Z)((0,g.Z)((0,g.Z)({},R.airportNameBox,t),R.defaultAirportNameBox,!t),R.endStretch,!t&&s===l-1)),children:[(!t&&!s||t)&&(0,x.jsxs)(a.View,{className:(0,i.classnames)(R.airport,R.depart),children:[_," ",T," ",w]}),J&&(0,x.jsx)(N,{stopCitys:X,isStop:!0,tipList:null===$||void 0===$?void 0:$.tlst,hiddenRightArrow:r,timeHighlight:!1,showTransferLayer:function(){return!r&&V(n,null===$||void 0===$?void 0:$.trno)}}),(!t&&s===l-1||t)&&(0,x.jsxs)(a.View,{className:(0,i.classnames)(R.airport,R.arrive,R.transferArrive,(0,g.Z)({},R.addTopArrive,t&&!J)),children:[b," ",C," ",j]})]})]})]}),(0,x.jsxs)(a.View,{className:R.firstTripBox,children:[(0,x.jsx)(a.View,{className:R.lineLeftArea}),(0,x.jsxs)(a.View,{className:(0,i.classnames)((0,g.Z)((0,g.Z)((0,g.Z)({},R.transferBoxNew,t),R.transferBox,!t),R.noBorder,!U)),children:[t&&(0,x.jsx)(k,{comfortUrl:L,airlineLogo:S,airlineName:I,airlineNumber:E,craftName:P,tripSpendTime:y,hideComfortArrow:c,meal:O,cancelRate:A,isDirectTrip:!1,isShare:D,shareAirlineLogo:Z,shareAirlineName:F,shareAirlineNumber:M,cabinName:z}),U&&(0,x.jsx)(N,{name:K,duration:H,tipList:null===W||void 0===W?void 0:W.tlst,hiddenRightArrow:r,timeHighlight:G,showTransferLayer:function(){return!r&&V(n,null===W||void 0===W?void 0:W.trno)}})]})]},-s)]},s)}))})},Z={flightInfoArea:"InterFlightCard-module_fghke",unfoldFlightCard:"InterFlightCard-module_qklcl",foldFlightCard:"InterFlightCard-module_a57Em",smallPaddingBtm:"InterFlightCard-module_O431Z",bigPaddingBtm:"InterFlightCard-module_ujcMD",topLineArea:"InterFlightCard-module_uqEdc",flightDate:"InterFlightCard-module_H1Q2U",arrowArea:"InterFlightCard-module_kttTN",leftMargin:"InterFlightCard-module_sIGnj",tripType:"InterFlightCard-module_wBeZ5",flightTime:"InterFlightCard-module_TRmp3",separator:"InterFlightCard-module_X6D6Q"},F=function(e){var t,n,r,o=e.flight,u=e.index,d=e.arrowUp,f=e.flightLength,m=e.showArrow,p=e.hiddenRightArrow,h=e.handleArrowClick,g=e.hiddenArrow,v=e.hideComfortArrow,y=l(u,f),_=(0,c.xF)(null===o||void 0===o||null===(t=o.seginfo)||void 0===t?void 0:t.durtion),N=(0,c.WU)(null===o||void 0===o||null===(n=o.flgs)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.dateinfo)||void 0===n?void 0:n.ddate.replace(/-/g,"/"),"MM-dd EE"),T=null===o||void 0===o||null===(r=o.flgs)||void 0===r?void 0:r.length;return T?((0,s.jq)("o_single_flight_card_show",{tripNumber:"\u7b2c".concat(u+1,"\u7a0b")}),(0,x.jsxs)(a.View,{className:"".concat(d?Z.foldFlightCard:Z.unfoldFlightCard," ").concat(u!==f-1?d?Z.bigPaddingBtm:Z.smallPaddingBtm:""),id:"flight-info-".concat(u),children:[(0,x.jsxs)(a.View,{className:Z.topLineArea,children:[(0,x.jsxs)(a.View,{className:Z.flightDate,children:[(0,x.jsx)(a.View,{className:Z.tripType,children:y}),(0,x.jsxs)(a.View,{className:Z.flightTime,children:[(0,x.jsx)(a.Text,{children:N}),(0,x.jsx)(a.Text,{className:Z.separator}),(0,x.jsxs)(a.Text,{children:["\u603b\u65f6\u957f",_]})]})]}),!g&&m&&!u&&(0,x.jsxs)(a.View,{className:Z.arrowArea,onClick:(0,i.trackFn)("flight-info-".concat(u)+"--handleArrowClick--2a89e",h),children:[(0,x.jsx)(a.Text,{children:d?"\u6536\u8d77":"\u5c55\u5f00"}),(0,x.jsx)(a.Text,{className:"".concat(Z.leftMargin," iconfont-h5 ").concat(d?"icon-arrow-up":"icon-arrow-down")})]})]}),(0,x.jsx)(a.View,{className:Z.segmentContainer,children:1===T?(0,x.jsx)(A,{flight:o,hiddenRightArrow:p,hideComfortArrow:v}):(0,x.jsx)(D,{arrowUp:!!g||d,flight:o,hiddenRightArrow:p,hideComfortArrow:v})})]})):((0,s.jq)("o_single_flight_card_not_exist"),null)},M=function(e){var t=e.flights,n=e.hiddenArrow,c=void 0!==n&&n,l=e.hiddenRightArrow,u=void 0!==l&&l,d=e.hideComfortArrow,f=void 0!==d&&d,m=(0,o.useState)(!1),p=(0,r.Z)(m,2),h=p[0],g=p[1],v=(0,o.useState)(!1),y=(0,r.Z)(v,2),_=y[0],N=y[1],T=null===t||void 0===t?void 0:t.length,w=i.R.find((function(e){var t;return(null===(t=e.flgs)||void 0===t?void 0:t.length)>1}),t);(0,o.useEffect)((function(){w&&((0,s.jq)("o_flights_exist_transfer"),g(!0))}),[w]);var b=function(){(0,s.jq)(_?"c_flightCard_unfold":"c_flightCard_fold"),N(!_)};return null!==t&&void 0!==t&&t.length?(0,x.jsx)(a.View,{className:"".concat(Z.flightInfoArea),children:t.map((function(e,t){return(0,o.createElement)(F,{flight:e,index:t,arrowUp:_,flightLength:T,showArrow:h,handleArrowClick:b,hiddenArrow:c,hiddenRightArrow:u,hideComfortArrow:f,key:"flight_".concat(t)})}))}):((0,s.jq)("o_flights_not_exist"),null)}},45523:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(45023),i=n(91425),o=n(90201),a=n(71515),c=n(97659),s={boxContainer:"index-module_Pftno",negativeTop:"index-module_JEYgs","line-arrow":"index-module_yoyvj","middle-text":"index-module_XAId5",round:"index-module_djy8C",transitStyle:"index-module_GiOnq",roundContainer:"index-module_HK2mK",textStyle:"index-module_p8mMI",moreTransit:"index-module_C4Icr",textColorStyle:"index-module_ZKq5O",maxWidth:"index-module_yj3Ak",rightMargin:"index-module_GiMUQ",transitBox:"index-module_qEsQg",imgstyle:"index-module_Ps1MJ",marginTop:"index-module_OM26S",timeLine:"index-module_UagIz",lineContainer:"index-module_TNeHK"},l=n(2269),u=function(e){return!e||e.length<1?null:e.map((function(t,n){return(0,l.jsxs)(a.View,{className:(0,i.classnames)(s.roundContainer,(0,r.Z)((0,r.Z)({},s.maxWidth,1!==e.length),s.rightMargin,n!==e.length-1)),children:[(0,l.jsx)(a.View,{className:s.round}),t.map((function(e){return(0,l.jsx)(a.View,{className:"".concat(["\u9700\u8fc7\u5883\u7b7e","\u4e0d\u540c\u673a\u573a"].includes(e)?s.textColorStyle:s.textStyle," ").concat(s.marginTop),children:e},e)}))]},t)}))},d=function(e){var t=e.stopItem,n=e.totalDuration;return(0,l.jsxs)(a.View,{className:(0,i.classnames)(s.boxContainer,(0,r.Z)({},s.negativeTop,(null===t||void 0===t?void 0:t.length)>=3)),children:[n&&(0,l.jsx)(a.View,{className:"".concat(s["middle-text"]),children:n}),(t&&t.length<3||!t)&&(0,l.jsxs)(a.View,{className:s.lineContainer,children:[(0,l.jsx)(c.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/time_line.png",className:s.timeLine}),(0,l.jsx)(a.View,{className:s.transitStyle,children:u(t)})]}),t&&t.length>=3&&(0,l.jsxs)(a.View,{className:s.transitBox,children:[(0,l.jsx)(c.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/transfer.png",className:s.imgstyle}),(0,l.jsxs)(a.View,{className:s.moreTransit,children:["\u8f6c",t.length,"\u6b21"]})]})]})},f=(0,o.memo)(d)},96306:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(45023),i=n(91425),o=n(90201),a=n(71515),c=n(72008),s={Container:"index-module_pmkUv",listCardStyle:"index-module_QLWJX",Name:"index-module_sfMx3",isNewAirport:"index-module__S2bm",time:"index-module_cP75l","time-plus":"index-module_lU591","right-time-plus":"index-module_AUax2","time-plus-color":"index-module_Psk0d"},l=n(2269),u=function(e){var t=e.Time,n=e.Name,o=e.crossDateStr,u=e.crossDays,d=e.isAddDay,f=void 0!==d&&d,m=e.isAddDaytoRight,p=void 0!==m&&m;return(0,l.jsxs)(a.View,{className:(0,i.classnames)("col",s.Container),children:[(0,l.jsxs)(a.View,{className:s.time,children:[o&&!!u&&(0,l.jsx)(a.View,{className:(0,i.classnames)(p?s["right-time-plus"]:s["time-plus"],(0,r.Z)({},s["time-plus-color"],f)),children:o}),t]}),(0,l.jsx)(a.View,{className:"".concat(s.Name," ").concat((0,c.U)(n)?s.isNewAirport:""),children:n})]})},d=(0,o.memo)(u)},2059:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(45023),i=n(91425),o=(n(90201),n(71515)),a=n(56262),c=n(97659),s=n(53096),l=n(34934),u={"title-box":"LoadBarTitle-module_PsHdZ",tt:"LoadBarTitle-module_Ewbzl",normal:"LoadBarTitle-module_GkVqy",active:"LoadBarTitle-module_pGMLx","arrow-icon":"LoadBarTitle-module_kiI_Y"},d=n(2269);function f(e){var t=e.clsName,n=e.pageName,f=e.onBack;if(i.FlightHotelApi.isFlightHotel&&(0,l.C0)())return null;var m="middle"===n,p="booking"===n;return(0,d.jsx)(o.View,{className:u["title-container"],children:(0,d.jsx)(s.Z,{clsName:t,onBack:f,children:function(){return(0,d.jsxs)(o.View,{className:(0,i.classnames)(u["title-box"],(0,r.Z)({},u.tt,!1)),children:[(0,d.jsx)(o.View,{className:(0,i.classnames)(u.normal,(0,r.Z)({},u.active,m)),children:a.WK}),(0,d.jsx)(c.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/title_arrow.png",className:u["arrow-icon"]}),(0,d.jsx)(o.View,{className:(0,i.classnames)(u.normal,(0,r.Z)({},u.active,p)),children:a.eJ}),(0,d.jsx)(c.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/title_arrow.png",className:u["arrow-icon"]}),(0,d.jsx)(o.View,{className:u.normal,children:a.lt})]})}})})}var m=f},72656:function(e,t,n){"use strict";n.d(t,{C:function(){return w}});var r=n(22276),i=n(90129),o=n(298),a=n(91425),c=n(90201),s=n(71515),l=n(84706),u=function(e){return"function"===typeof e},d=function(e,t){return u(e)?e(t):e},f=n(68897),m=n(76538),p=function(e){var t=(0,f.oR)(e),n=t.modals,r=e.name,i=(0,c.useMemo)((function(){return{close:function(e){m.$.emit(r,{type:f.Us.REMOVE_MODAL,modalId:e})},dismiss:function(e){},hidden:function(e){m.$.emit(r,{type:f.Us.HIDDEN_MODAL,modalId:e})}}}),[r]);return{modals:n,handlers:i}},h=n(8944),g=n(2269);function v(e){var t=e.options,n=e.handlers,r=e.maskStyle,i=t.id,c=t.mask,l=t.type,u=c||{},d=u.enableClose,f=void 0===d||d,m=u.style,p=u.callback;return(0,g.jsx)(s.View,{className:"taro-modal-mask",style:(0,o.Z)((0,o.Z)({},r),m),onClick:(0,a.trackFn)("onClick--97439",(function(){f&&("display"===l?n.hidden(i):n.close(i)),p&&p()})),catchMove:!0})}function y(e){var t=e.options,n=e.handlers,r=t.close,i=t.id;if(r){var c=r.style,l=r.position,u=void 0===l?"":l,d=r.callback,f=r.isBack,m=void 0!==f&&f,p=u.includes("top")?{top:0}:{bottom:0},h=u.includes("left")?{left:0}:{right:0};return(0,g.jsx)(s.View,{className:"modal-close",style:(0,o.Z)((0,o.Z)((0,o.Z)({},p),h),c),onClick:(0,a.trackFn)("onClick--e1bbd",(function(){n.close(i),d&&d()})),children:m?(0,g.jsx)(s.Text,{className:"iconfont-h5 icon-arrow-left"}):(0,g.jsx)(s.Text,{className:"iconfont-h5 icon-close icon-special"})})}return null}function x(e){var t=e.options,n=t.title;return n?"string"===typeof n?(0,g.jsx)(s.View,{className:"modal-title",children:(0,g.jsx)(s.Text,{children:n})}):n:null}function _(e){var t=e.options,n=t.content;return n?"string"!==typeof n?d(n,t):(0,g.jsx)(s.View,{className:"modal-content",children:(0,g.jsx)(s.Text,{children:n})}):null}function N(e){var t=e.options,n=e.handlers,r=t.buttons,i=t.autoClose,c=t.id,l=t.btnDirection,u=void 0===l?"row":l;if(!r||r.length<=0)return null;function d(e){i?(n.close(c),e&&e()):e&&e()}return(0,g.jsx)(s.View,{className:"modal-btns ".concat("column"===u?"btn-column":""),children:r.map((function(e){return(0,g.jsx)(s.Text,{className:"modal-btn ".concat(e.class?e.class:""),style:(0,o.Z)({},e.style),onClick:(0,a.trackFn)(e.text+"--607d1",(function(){return d(e.callback)})),children:e.text},e.text)}))})}var T=function(){var e=(0,c.useMemo)((function(){return(0,l.I2)(Math.random().toString())}),[]),t=p({name:e}),n=t.modals,a=void 0===n?[]:n,u=t.handlers,d=(0,c.useState)([]),f=(0,i.Z)(d,2),m=f[0],T=f[1];return(0,c.useEffect)((function(){var e=a.map((function(e){if(e.visible)return e.id})).filter((function(e){return e}));T((function(t){var n=t.filter((function(t){return!e.includes(t)}));return n}))}),[a]),(0,g.jsx)(s.View,{className:"taro-modal-wrapper",catchMove:!0,children:null===a||void 0===a?void 0:a.map((function(e){var t=e.animationClassName,n=void 0===t?"":t,i=e.position,a=e.style,c=e.id,l=n||("bottom"===i?"animate__animated animate__slideInUp animate__faster":""),d=!1===e.visible&&m.includes(c);return(0,g.jsx)(s.View,{className:"taro-modal-container ".concat(e&&e.className?e.className:""),style:{display:d?"none":""},children:(0,g.jsxs)(s.View,{className:"taro-modal-content",children:[(0,g.jsx)(v,{options:e,handlers:u,maskStyle:{display:!1===e.visible?"none":""}}),(0,g.jsxs)(s.View,{className:"flex-content ".concat(l," ").concat(!1===e.visible?"animate__slideOutDown":""),onAnimationEnd:function(){!1===e.visible&&T((function(e){return[].concat((0,r.Z)(e),[c])}))},style:(0,o.Z)((0,o.Z)({},(0,h.C)(i)),a),children:[(0,g.jsx)(y,{options:e,handlers:u}),(0,g.jsx)(x,{options:e}),(0,g.jsx)(_,{options:e}),(0,g.jsx)(N,{options:e,handlers:u})]})]})},c)}))})},w=T},76538:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(22276),i=(n(91425),{list:new Map,emitQueue:new Map,queue:new Map,on:function(e,t){var n,i=this;return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),null!==(n=this.queue.get(e))&&void 0!==n&&n.length&&(this.queue.get(e).forEach((function(n){i.excute.apply(i,[e,t].concat((0,r.Z)(n)))})),this.queue.delete(e)),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)?this.list.get(e).forEach((function(n){t.excute.apply(t,[e,n].concat(r))})):this.queue.has(e)?this.queue.get(e).push(r):this.queue.set(e,[r])},excute:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=setTimeout((function(){t.apply(void 0,r)}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(o)}})},68897:function(e,t,n){"use strict";n.d(t,{Us:function(){return l},oR:function(){return p}});var r=n(90129),i=n(22276),o=n(298),a=(n(91425),n(90201)),c=n(76538),s=20,l=function(e){return e[e["ADD_MODAL"]=0]="ADD_MODAL",e[e["UPDATE_MODAL"]=1]="UPDATE_MODAL",e[e["UPSERT_MODAL"]=2]="UPSERT_MODAL",e[e["DISMISS_MODAL"]=3]="DISMISS_MODAL",e[e["REMOVE_MODAL"]=4]="REMOVE_MODAL",e[e["HIDDEN_MODAL"]=5]="HIDDEN_MODAL",e[e["DISPLAY_MODAL"]=6]="DISPLAY_MODAL",e}({}),u=new Map,d=function(e){if(!u.has(e)){var t=setTimeout((function(){u.delete(e)}),1e3);u.set(e,t)}},f=function(e){var t=u.get(e);t&&clearTimeout(t)},m=function e(t,n){switch(n.type){case l.ADD_MODAL:return(0,o.Z)((0,o.Z)({},t),{},{modals:[].concat((0,i.Z)(t.modals),[n.modal]).slice(0,s)});case l.UPDATE_MODAL:return n.modal.id&&f(n.modal.id),(0,o.Z)((0,o.Z)({},t),{},{modals:t.modals.map((function(e){return e.id===n.modal.id?(0,o.Z)((0,o.Z)({},e),n.modal):e}))});case l.UPSERT_MODAL:var r=n.modal;return t.modals.find((function(e){return e.id===r.id}))?e(t,{type:l.UPDATE_MODAL,modal:r}):e(t,{type:l.ADD_MODAL,modal:r});case l.DISMISS_MODAL:var a=n.modalId;return a?d(a):t.modals.forEach((function(e){d(e.id)})),(0,o.Z)((0,o.Z)({},t),{},{modals:t.modals.map((function(e){return e.id===a||void 0===a?(0,o.Z)((0,o.Z)({},e),{},{visible:!1}):e}))});case l.HIDDEN_MODAL:var c=n.modalId;return(0,o.Z)((0,o.Z)({},t),{},{modals:t.modals.map((function(e){return e.id===c?(0,o.Z)((0,o.Z)({},e),{},{visible:!1}):e}))});case l.DISPLAY_MODAL:var u=n.modalId,m=n.modal,p=t.modals.find((function(e){return e.id===u}));if(!p)return e(t,{type:l.ADD_MODAL,modal:(0,o.Z)((0,o.Z)({},m),{},{resolve:n.resolve,reject:n.reject})});var h=t.modals.filter((function(e){return e.id!==u}));return(0,o.Z)((0,o.Z)({},t),{},{modals:[].concat((0,i.Z)(h),[(0,o.Z)((0,o.Z)({},m),{},{visible:!0,resolve:n.resolve,reject:n.reject})])});case l.REMOVE_MODAL:return void 0===n.modalId?(0,o.Z)((0,o.Z)({},t),{},{modals:[]}):(0,o.Z)((0,o.Z)({},t),{},{modals:t.modals.filter((function(e){return e.id!==n.modalId}))});default:return t}},p=function(e){var t=e.name,n=(0,a.useReducer)(m,{modals:[]}),i=(0,r.Z)(n,2),o=i[0],s=i[1];return(0,a.useEffect)((function(){return c.$.on(t,s),function(){c.$.off(t)}}),[t]),o}},8944:function(e,t,n){"use strict";n.d(t,{B:function(){return i},C:function(){return o}});n(91425);var r=n(9361),i=function(){var e=0;return function(){return(++e).toString()}}(),o=function(e){if("bottom"===e){var t=(0,r.R2)(),n=t.bottom,i=void 0===n?0:n;return{position:"absolute",bottom:0,left:0,width:"100%",padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,paddingBottom:"".concat(i,"px")}}return null}},94892:function(e,t,n){"use strict";n.d(t,{Mr:function(){return v},DE:function(){return g},K4:function(){return h}});n(91425),n(72656);var r=n(298),i=n(39352),o=n(84706),a=n(8944),c=n(68897),s=n(76538),l=n(32180)["window"],u=(n(32180)["document"],function(e){return(0,r.Z)((0,r.Z)({createdAt:l.Date.now(),autoClose:!0},e),{},{id:(null===e||void 0===e?void 0:e.id)||(0,a.B)()})}),d=function(e){var t=(0,o.I2)(),n=u(e);return s.$.emit(t,{type:c.Us.UPSERT_MODAL,modal:n}),n.id},f=[];var m=function(e){var t,n,a=(0,o.I2)(),l=new Promise((function(e,r){t=e,n=r})),d=u((0,r.Z)({type:"display"},(0,r.Z)({id:e.layerId},e))),m=function(){s.$.emit(a,{type:c.Us.HIDDEN_MODAL,modalId:d.id}),n.apply(void 0,arguments)};f.push(m);var p=function(){s.$.emit(a,{type:c.Us.HIDDEN_MODAL,modalId:d.id}),t.apply(void 0,arguments)};return s.$.emit(a,{type:c.Us.DISPLAY_MODAL,modal:d,modalId:d.id,resolve:function(){p.apply(void 0,arguments),i.n.history.back()},reject:function(){m.apply(void 0,arguments),i.n.history.back()}}),l};function p(){}var h=function(e){return p(),d(e)},g=function(e){return p(),m(e)},v=function(e){p(!1);var t=(0,o.I2)();s.$.emit(t,{type:c.Us.REMOVE_MODAL,modalId:e})}},61747:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(91425),i=n(45023),o=n(90201),a=n(71515),c=n(9361),s=n(298),l=n(90129),u=n(97659),d=n(4091),f=n(18228),m=n(82933),p=n(60452),h=n(74711),g=n(67107),v=n(17321),y=n(75819),x=n(35111),_=n(50317),N=n(92660),T=n(48935),w=n(19479),b=n(88698),C={"search-city-date-container":"CityDate-module_tSZ6I","city-container":"CityDate-module_ojeRT",departure:"CityDate-module__4tsr",arrival:"CityDate-module_ZqCkI","departure-city":"CityDate-module_pAJ06","switch-icon":"CityDate-module_FbtHt","outside-icon":"CityDate-module_wThUE","switch-city":"CityDate-module_A0jXx","inner-icon":"CityDate-module_wEEDL","arrival-city":"CityDate-module_ZOGQq","date-container":"CityDate-module_ZkEN2","departure-date":"CityDate-module_bwTmA","time-space":"CityDate-module_BhiWE","arrival-date":"CityDate-module_P3ZPa",weekday:"CityDate-module_COgGW","search-btn":"CityDate-module_be1qt"},j=n(2269);function S(e){var t=e.airportName||"";return t?(t=t.replace(/(\u56fd\u9645)?\u673a\u573a/,""),e.cityName!==t?e.cityName+t:e.cityName):""}function k(e){var t=e.callback,n=e.isIntl,c=(0,g.T)(),k=(0,g.C)(v.wQ),I=(0,g.C)(v.wG),E=(0,g.C)(v.e_),P=(0,g.C)((function(e){return e.sameCity})),L=(0,g.C)(v.W$),V=(0,o.useState)(!1),O=(0,l.Z)(V,2),A=O[0],R=O[1],D=(0,o.useState)({DEPARTURE:k,ARRIVAL:I}),Z=(0,l.Z)(D,2),F=Z[0],M=Z[1],B=F.DEPARTURE,U=F.ARRIVAL;(0,o.useEffect)((function(){M({DEPARTURE:k,ARRIVAL:I})}),[k,I]),(0,o.useEffect)((function(){var e=B.cityCode,t=U.cityCode;!e||!t||e!==t||null!==P&&void 0!==P&&P.find((function(t){return t.name===e}))||c((0,w.tl)(e))}),[F,c,P,B,U]);var q=function(){(0,f.jq)("c_flt_tinyapp_home_search_city"),R(!A);var e={DEPARTURE:(0,s.Z)((0,s.Z)({},B),{},{cityCode:U.cityCode,cityId:U.cityId,cityName:U.cityName,airportCode:U.airportCode,airportName:U.airportName,cityCodeType:U.cityCodeType}),ARRIVAL:(0,s.Z)((0,s.Z)({},U),{},{cityCode:B.cityCode,cityId:B.cityId,cityName:B.cityName,airportCode:B.airportCode,airportName:B.airportName,cityCodeType:B.cityCodeType})};M(e)};(0,o.useEffect)((function(){var e;return A&&(e=setTimeout((function(){R(!1)}),300)),function(){return clearTimeout(e)}}),[A]);var Y=(0,y.l)(),H=(0,o.useCallback)((function(){var e=B.cityCode,n=U.cityCode;if(e&&n&&e===n){var r=(0,b.Z)(E,P,e);if(!r)return}(0,f.jq)("click_search_from_list_title",{ddate:B.date,adate:U.date});var i=B.regionType===p.Og.INTERNATIONAL||U.regionType===p.Og.INTERNATIONAL?p.Og.INTERNATIONAL:p.Og.DOMESTIC;if(L===i)c((0,N.b7)(B)),c((0,N.AO)(B.date)),c((0,T.FS)(U.date)),c((0,T.oC)(U)),h.ZP.emit(i===p.Og.INTERNATIONAL?h.Od:h.rM),t&&t();else{var o={departure:B,arrival:U,from:"weapp"===(0,m.fO)()?"outer":"inner"};Y(i,"redirectTo",{},o)}}),[B,U,L,c,t,E,P,Y]),G=(0,o.useCallback)((function(){"ONE_WAY"===E?(0,f.jq)("c_flt_tinyapp_home_search_date"):(0,f.jq)("c_flt_tinyapp_home_search_ddate");var e=B.cityCode,t=B.date,n=U.cityCode,r=U.date;(0,x.z)({departureCode:e,arrivalCode:n,start:t,end:r,regionType:L,tripType:E,pageName:"FIRST"}).then((function(e){if(e){var t=(0,s.Z)((0,s.Z)({},F),{},{DEPARTURE:(0,s.Z)((0,s.Z)({},F.DEPARTURE),{},{date:e.start}),ARRIVAL:(0,s.Z)((0,s.Z)({},F.ARRIVAL),{},{date:e.end||F.ARRIVAL.date})});M(t)}}))}),[U,B,L,F,E]),W=(0,o.useCallback)((function(e){"DEPARTURE"===e?(0,f.jq)("c_flt_tinyapp_home_search_departure"):(0,f.jq)("c_flt_tinyapp_home_search_arrive"),(0,_.d)({title:"\u9009\u62e9".concat("DEPARTURE"===e?"\u51fa\u53d1":"\u5230\u8fbe","\u57ce\u5e02"),cityInfo:encodeURIComponent(JSON.stringify(F[e])),regionType:L,tripType:E,disableIndex:n?void 0:"1"}).then((function(t){if(t){var n=(0,s.Z)((0,s.Z)({},F),{},(0,i.Z)({},e,(0,s.Z)((0,s.Z)({},F[e]),(0,s.Z)({airportCode:"",airportName:"",regionType:p.Og.DOMESTIC},t))));M(n)}}))}),[L,F,E,n]),z="ONE_WAY"===E,K=(0,r.dayjs)(B.date).format("MM\u6708DD\u65e5"),Q=(0,r.dayjs)(U.date).format("MM\u6708DD\u65e5"),J=(0,r.dayjs)(U.date).diff((0,r.dayjs)(B.date),"day"),X=B.cityName||B.cityCode,$=U.cityName||U.cityCode;return(0,j.jsxs)(a.View,{className:C["search-city-date-container"],children:[(0,j.jsxs)(a.View,{className:(0,r.classnames)(C["city-container"],(0,i.Z)({},C["switch-city"],A)),children:[(0,j.jsx)(a.View,{className:C["departure-city"],onClick:(0,r.trackFn)("onClick--dd5e1",(function(){return W("DEPARTURE")})),children:S(B)||X}),(0,j.jsxs)(a.View,{className:C["switch-icon"],onClick:(0,r.trackFn)("onSwitchCity--d6a8a",q),children:[(0,j.jsx)(u.Z,{className:C["outside-icon"],src:"https://pages.c-ctrip.com/flight_h5/swift/home/city_switch_circle.png"}),(0,j.jsx)(u.Z,{className:C["inner-icon"],src:"https://pages.c-ctrip.com/flight_h5/swift/home/city_switch_icon.png"})]}),(0,j.jsx)(a.View,{className:C["arrival-city"],onClick:(0,r.trackFn)("onClick--bbf69",(function(){return W("ARRIVAL")})),children:S(F.ARRIVAL)||$||"\u5230\u8fbe\u57ce\u5e02"})]}),(0,j.jsxs)(a.View,{className:C["date-container"],children:[(0,j.jsxs)(a.View,{className:C["departure-date"],"data-testid":"u_departure_date",onClick:(0,r.trackFn)("onClick--f0994",(function(){return G()})),children:[K,(0,j.jsx)(a.Text,{className:C.weekday,children:(0,d.eV)(B.date)})]}),!z&&(0,j.jsxs)(j.Fragment,{children:[J>1&&(0,j.jsxs)(a.View,{className:C["time-space"],children:[J,"\u5929"]}),(0,j.jsxs)(a.View,{className:C["arrival-date"],"data-testid":"u_arrival_date",onClick:(0,r.trackFn)("onClick--440b9",(function(){return G()})),children:[Q,(0,j.jsx)(a.Text,{className:C.weekday,children:(0,d.eV)(U.date)})]})]})]}),(0,j.jsx)(a.View,{className:C["search-btn"],onClick:(0,r.trackFn)("searchFn--a2ad1",H),children:"\u641c \u7d22"})]})}var I={"navigation-title-container":"ListTitle-module_ALw59","navigation-title":"ListTitle-module_VLUKc",rotate:"ListTitle-module_rRMQG",show:"ListTitle-module_CPAJY","title-popup":"ListTitle-module_TBZBR","navigation-mask":"ListTitle-module_O6urH",fadeInFromNone:"ListTitle-module_YPTx8"},E=function(e){var t=e.clickTitle,n=void 0===t?function(){}:t,s=e.fold,l=e.isIntl,u=void 0!==l&&l,d=(0,o.useMemo)((function(){return(0,c.tL)()}),[]),f=(0,g.C)(v.Wt),m=(0,g.C)(v.R1),p=(0,g.C)(v.ww),h=(0,g.C)(v.cY),y=(0,g.C)(v.e_),x="ROUND_TRIP"===y,_=m||f,N=h||p;if(!_||!N)return null;var T="".concat(x?"\u53bb\uff1a":"").concat(_," \u21c0 ").concat(N),w=(0,r.classnames)("iconfont-h5","icon-arrow-down",(0,i.Z)({},I.rotate,s)),b=(0,r.classnames)(I["navigation-title-container"],(0,i.Z)({},I.show,s)),C=(0,r.classnames)(I["navigation-mask"],(0,i.Z)({},I.show,s));return(0,j.jsxs)(a.View,{className:b,children:[(0,j.jsx)(a.View,{className:C,onClick:(0,r.trackFn)("onClick--93ef6",(function(){return n(!1)}))}),(0,j.jsxs)(a.View,{className:I["navigation-title"],onClick:(0,r.trackFn)("onClick--48031",(function(){return n()})),children:[s?"\u4fee\u6539\u57ce\u5e02":T,(0,j.jsx)(a.Text,{className:w})]}),(0,j.jsx)(a.View,{className:I["title-popup"],style:{top:d+"px"},children:(0,j.jsx)(k,{callback:function(){return n(!1)},isIntl:u})})]})},P=E,L=P},53096:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(45023),i=n(90129),o=n(91425),a=n(90201),c=n(71515),s=n(92954),l=n(97659),u=n(7138),d=n(9361),f=n(5644),m=n(82933),p=n(67107),h=n(63928),g=n(5437),v=n(17321),y=n(34934),x=function(){return null},_=n(73027),N=n(2269),T=function(e){var t=e.onBack,n=e.onBackBefore,l=e.children,y=e.title,T=e.titleText,b=e.clsName,C=e.reject,j=e.resolve,S=(0,a.useState)(!1),k=(0,i.Z)(S,2),I=k[0],E=k[1],P=(0,p.C)(v.e_),L=(0,p.C)(v.R1),V=(0,p.C)(v.cY),O=(0,s.useRouter)(),A=O.path,R=(0,h.kK)(A),D=(0,a.useMemo)((function(){if(y)return y;var e=String.fromCharCode(8640),t=String.fromCharCode(8652),n="ROUND_TRIP"===P,r="ONE_WAY"===P;if([u.m8.FIRST,u.m8.INTER_FIRST].includes(R))return"".concat(n?"\u53bb\uff1a":"").concat(L," ").concat(e," ").concat(V);if([u.m8.SECOND,u.m8.INTER_SECOND].includes(R))return"\u8fd4: ".concat(V," ").concat(e," ").concat(L);if(R===u.m8.MIDDLE){var i=r?e:t;return"".concat(L," ").concat(i," ").concat(V)}return R===u.m8.BIGHOME?"\u586b\u8ba2\u5355":"\u643a\u7a0b\u673a\u7968"}),[R,y,V,L,P]);(0,a.useEffect)((function(){(0,m.Td)(T||D)}),[T,D]);var Z=(0,a.useMemo)((function(){return(0,d.So)().statusBarHeight}),[]),F=(0,a.useMemo)((function(){return(0,d.tL)()}),[]),M=(0,a.useCallback)((function(){return"function"===typeof n?n():"function"===typeof t?t():"function"===typeof C?C():void([u.m8.HOME].includes(R)?(0,g.Ss)({resolve:j}):(0,g.z_)({resolve:j}))}),[n,t,R,C,j]),B=(0,a.useMemo)((function(){var e=l&&l({clickTitle:function(e){E(void 0===e?!I:e)},fold:I});return e||("string"===typeof D?(0,N.jsx)(c.Text,{className:_.Z["navigation-title"],children:D}):D)}),[l,I,D]);if((0,f.oP)())return null;var U=(0,o.classnames)(_.Z["navigation-container"],b&&_.Z[b],(0,r.Z)({},_.Z.show,b&&I));return(0,N.jsxs)(c.View,{id:"navigation-box",children:[(0,N.jsxs)(c.View,{className:U,children:[(0,N.jsx)(c.View,{className:(0,o.classnames)(_.Z["status-bar"]),style:{height:"".concat(Z,"px")}}),(0,N.jsxs)(c.View,{className:(0,o.classnames)(_.Z["navigation-bar"]),style:{height:"".concat(F,"px")},children:[(0,N.jsx)(c.View,{className:(0,o.classnames)(_.Z["navigation-middle"],(0,r.Z)({},_.Z.tt,!1)),children:B}),(0,N.jsx)(w,{leftClickFn:M}),(0,N.jsx)(x,{})]})]}),(0,N.jsx)(c.View,{style:{height:"".concat(F+Z,"px")}})]})};function w(e){var t=e.leftClickFn,n=(0,s.useRouter)(),i=n.path,d=(0,h.kK)(i),m=(0,s.getCurrentPages)(),p=(0,a.useMemo)((function(){return!(0,f.Z1)()&&(null===m||void 0===m?void 0:m.length)<=1&&[u.m8.HOME].includes(d)}),[m,d]),v=!1,x=!1,T=!1,w=T&&(0,y.C0)(),b=w||(0,f.Ak)();return x||b?null:(0,N.jsxs)(c.View,{className:_.Z["home-btn-group-new"],children:[!v&&(0,N.jsx)(c.View,{className:"".concat(_.Z["btn-wrap"]," ").concat(_.Z["btn-back"]),onClick:(0,o.trackFn)("leftClickFn--fd16e",t),children:(0,N.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-left ".concat(_.Z["btn-icon"])})}),p&&(0,N.jsx)(c.View,{className:(0,o.classnames)(_.Z["btn-wrap"],_.Z["btn-home"],(0,r.Z)({},_.Z["swan-home"],v)),onClick:(0,o.trackFn)("backBigHome--fefc4",g.l0),children:(0,N.jsx)(l.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/home/home-black.png",mode:"aspectFit",className:_.Z["btn-icon"]})})]})}var b=T},75156:function(e,t,n){"use strict";var r=n(57042),i=n(24460),o=n(21867),a=n(86066),c=(n(91425),n(90201)),s=n(2269),l=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,s.jsx)("perinfo-protect-float",{})}}]),n}(c.Component);t["Z"]=l},99519:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(45023),i=n(91425),o=n(90201),a=n(71515),c={priceContainer:"index-module_gZQlN",priceInter:"index-module_hjugI","price-box":"index-module_l_8nc","sanYa-label":"index-module_LUldz","remain-ticket":"index-module_llzta","add-margin":"index-module_GTopq","currency-symbol":"index-module_ixEt5",price:"index-module_bCGel","two-fro-one":"index-module_pX3lt","price-div":"index-module_KsjkI","price-new":"index-module_pJCrr","price-origin":"index-module_jzOP7","new-price":"index-module_gy27b","grey-currency-symbol":"index-module_tbJYO"},s=n(2269),l=function(e){var t=e.isInter,n=e.sanYaLabel,o=e.ticketCount;return t?null:o&&o<5?(0,s.jsx)(a.View,{className:(0,i.classnames)(c["remain-ticket"],(0,r.Z)({},c["add-margin"],!!n)),children:"\u5269"+o+"\u5f20"}):n?(0,s.jsx)(a.View,{className:c["sanYa-label"],children:n}):null},u=function(e){var t=e.ticketCount,n=e.price,o=e.originPrice,u=e.isInter,d=e.segno,f=e.twoFroOne,m=e.sanYaLabel;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.View,{className:(0,i.classnames)("flex-middle","right",(0,r.Z)({},c["price-box"],!f)),children:[(0,s.jsx)(l,{isInter:u,sanYaLabel:m,ticketCount:t}),f?(0,s.jsxs)(a.View,{className:c["two-fro-one"],children:[(0,s.jsxs)(a.View,{className:c["price-new"],children:[2===d?(0,s.jsx)(a.Text,{className:c["currency-symbol"],children:"+"}):null,(0,s.jsx)(a.Text,{className:c["currency-symbol"],children:"\xa5"}),(0,s.jsxs)(a.View,{className:c["new-price"],children:[n,(0,s.jsx)(a.Text,{children:"/\u4eba\u5747\u4ef7"})]})]}),(0,s.jsxs)(a.View,{className:c["price-origin"],children:[2===d?(0,s.jsx)(a.Text,{className:c["grey-currency-symbol"],children:"+"}):null,(0,s.jsx)(a.Text,{className:c["grey-currency-symbol"],children:"\xa5"}),(0,s.jsxs)(a.View,{className:c["origin-price"],children:[o,(0,s.jsx)(a.Text,{children:"/\u4eba"})]})]})]}):(0,s.jsxs)(a.View,{className:c["price-div"],children:[2===d?(0,s.jsx)(a.Text,{className:c["currency-symbol"],children:"+"}):null,(0,s.jsx)(a.Text,{className:c["currency-symbol"],children:"\xa5"}),(0,s.jsx)(a.Text,{className:c.price,children:n})]})]})})},d=(0,o.memo)(u)},50826:function(e,t,n){"use strict";n.d(t,{Z:function(){return nt}});var r=n(91425),i=n(90201),o=n(71515),a=n(67107),c=n(58637),s=c.Z.injectEndpoints({endpoints:function(e){return{getRefund:e.query({query:function(e){return{url:"/16818/intlflightticketremarks",queryParams:e,queryObject:{subEnv:"fat3"}}},transformResponse:function(e){return e}})}}}),l=s.useGetRefundQuery,u=n(52050),d=n(22276),f=n(90129),m=n(298),p=n(94892),h=n(93212),g={table:"index-module_LQ0Aa",row:"index-module_Krmmn",columnItem:"index-module_JAAa5",rowVertical:"index-module_QJonX",columnItemVeritcal:"index-module_dKm8i",currentColumnBorderBottom:"index-module_pKhTm",currentColumnBorderRight:"index-module_FAWWo"},v=n(2269);function y(e){return null!==e&&void 0!==e&&!!e}function x(e){if(!e.length)return null;var t=e.filter(y).map((function(e){var t=b(e);return e.map((function(e){return Array.isArray(e)?e:(0,m.Z)({flexBasis:t+"%"},e)}))}));return(0,v.jsx)(o.View,{className:g.table,children:t.map((function(t,n){return _(t,n,n===e.length-1)}))})}function _(e,t,n){return e.length&&e.every(Array.isArray)?(0,v.jsx)(o.View,{className:g.row,style:n?{borderBottom:"none"}:{},children:N(e)},t):(0,v.jsx)(o.View,{className:g.row,style:n?{borderBottom:"none"}:{},children:e.map((function(t,n){return w(t,n,n===e.length-1)}))},t)}function N(e){var t=b(e),n=b(e[0]),r=e.reduce((function(e,n){return n.forEach((function(n,r){e[r]=e[r]||[],e[r].push((0,m.Z)((0,m.Z)({},n),{},{flexBasis:t+"%"}))})),e}),[]),i={flexBasis:n+"%"};return(0,v.jsx)(v.Fragment,{children:r.map((function(e,t){return T(e,t,t===r.length-1,i)}))})}function T(e,t,n,r){var a=e.filter((function(e){return(null===e||void 0===e?void 0:e.text)||(null===e||void 0===e?void 0:e.render)})),c=n?{borderRight:"none"}:{},s=a.some((function(e){return null===e||void 0===e?void 0:e.customItem})),l=s?{minHeight:100*a.length+"px"}:{};return(0,v.jsx)(o.View,{className:g.rowVertical,style:(0,m.Z)((0,m.Z)((0,m.Z)({},r),c),l),children:a.map((function(e,t){return(0,v.jsx)(i.Fragment,{children:w(e,t,t===a.length-1,!0)},t)}))},t)}function w(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e||{},c=a.render,s=a.text,l=a.flexGrow,u=a.flexBasis,d=a.style,f=a.customItem;if(c){var p=c(e);if("object"!==(0,h.Z)(p))r=(0,v.jsx)(o.Text,{children:p});else if(r=p,f){var y=n?"":i?g.currentColumnBorderBottom:g.currentColumnBorderRight;return(0,v.jsx)(o.View,{className:y,style:{flexBasis:u},children:p})}}else r=(0,v.jsx)(o.Text,{children:String(s)});var x=n?i?{borderBottom:"none"}:{borderRight:"none"}:{};return(0,v.jsx)(o.View,{className:i?g.columnItemVeritcal:g.columnItem,style:(0,m.Z)((0,m.Z)({},x),{},{flexBasis:u,flexGrow:l},d),children:r},t)}function b(e){var t=0,n=e.map((function(e){return null===e||void 0===e?void 0:e.flexBasis})).filter(Boolean).reduce((function(e,n){return t++,parseInt(n)+e}),0),r=(100-n)/(e.length-t);return r}var C={firstLevel:"RefundLayer-module__Vnb3",firstLevelTitle:"RefundLayer-module_YxSUf",firstLevelImage:"RefundLayer-module_MFpUB",descriptionItem:"RefundLayer-module_Ham7r",descriptionFirstTitle:"RefundLayer-module_zCiiJ",descriptionFirstTitleText:"RefundLayer-module_aG3Il",descriptionFirstTitleImage:"RefundLayer-module_iMqjA",descriptionDetails:"RefundLayer-module_IV2m_",descriptionDetail:"RefundLayer-module_NyawP",descriptionDetailTitle:"RefundLayer-module_n5zUw",descriptionDetailText:"RefundLayer-module_K5gSi",description:"RefundLayer-module_cbqQd",tabImgWrap:"RefundLayer-module_dyURl",tabImg:"RefundLayer-module_twgjx",tabContainer:"RefundLayer-module_gaYXU",tabItemContainer:"RefundLayer-module_DklI8",tabItem:"RefundLayer-module_zQ9RS",activeTabItem:"RefundLayer-module_NOCOM",priceDetail:"RefundLayer-module_DkVpu",type7Img:"RefundLayer-module_ObL4z",type7Txt:"RefundLayer-module_Utb2p",invoiceText:"RefundLayer-module_Ijw2K",invoiceImg:"RefundLayer-module_oPUSz",invoiceImgWrap:"RefundLayer-module_MEs3b",errorPage:"RefundLayer-module_xrJfG",errorContainer:"RefundLayer-module_maU8X",errorImage:"RefundLayer-module_H8Tcs",errorText:"RefundLayer-module_KuulG",errorBtn:"RefundLayer-module_gpkLV",loading:"RefundLayer-module_almh6",loadingBox:"RefundLayer-module_FS6A2",titleArrow:"RefundLayer-module_iOxHi",perPrice:"RefundLayer-module__rKYD",cityTitle:"RefundLayer-module_vAtjy"},j={fontWeight:"bold",color:"#333333"},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return null;var n,r=/(.*)\s*([=-])\s*(.*)/,i=r.exec(e),a=k(t)||"",c=a?(0,v.jsxs)(o.Text,{children:["(",a,")"]}):null;if(i){var s="="===i[2]?"https://pages.c-ctrip.com/flight_h5/tinyapp/middle/round_way.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/middle/one_way.png";n=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Text,{style:j,children:i[1].trim()}),(0,v.jsx)(o.Image,{src:s,className:C.titleArrow}),(0,v.jsx)(o.Text,{style:(0,m.Z)((0,m.Z)({},j),{},{marginRight:"4px"}),children:i[3].trim()}),c]})}else n=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Text,{style:j,children:e}),c]});return[{render:function(){return(0,v.jsx)(o.View,{className:C.cityTitle,children:n})},style:{backgroundColor:"#F6F8FA"}}]};function k(e){return e?32===(32&e)?"\u7ecf\u6d4e\u8231":64===(64&e)?"\u8d85\u7ea7\u7ecf\u6d4e\u8231":128===(128&e)?"\u516c\u52a1\u8231":256===(256&e)?"\u5934\u7b49\u8231":void 0:""}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,v.jsxs)(o.View,{className:C.firstLevel,children:[(0,v.jsx)(o.Image,{className:C.firstLevelImage,src:t}),(0,v.jsx)(o.Text,{className:C.firstLevelTitle,children:e}),n]})}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return null;var n=e.iconUrl,r=e.title,i=e.descriptions;return(0,v.jsxs)(o.View,{className:C.descriptionItem,children:[(0,v.jsxs)(o.View,{className:C.descriptionFirstTitle,children:[(0,v.jsx)(o.Image,{className:C.descriptionFirstTitleImage,src:n}),(0,v.jsx)(o.Text,{className:C.descriptionFirstTitleText,children:r})]}),t,(0,v.jsx)(o.View,{className:C.descriptionDetails,children:i.map((function(e){return(0,v.jsxs)(o.View,{children:[(0,v.jsxs)(o.View,{className:C.descriptionDetail,children:[(0,v.jsx)(o.View,{className:C.descriptionDetailTitle,children:(0,v.jsx)(L,{title:e.title,color:e.color,suffix:":"})}),(0,v.jsx)(o.View,{className:C.descriptionDetailText,children:e.desc})]}),e.childrenJsx]},e.title)}))})]},r)}function P(e){var t=e.color,n=e.content;return(0,v.jsx)(o.Text,{style:t?{color:t}:{},children:n})}function L(e){var t=e.title,n=e.color,r=e.suffix,i=void 0===r?"":r;if(!t)return null;var a=/(.*)\s*(\[(O)\](.*?)\[\/O\])\s*(.*)/,c=t.match(a);if(null!==c&&void 0!==c&&c.length){var s=(0,f.Z)(c,6),l=s[1],u=s[3],d=s[4],m=s[5];return"O"!==u||n||(n="#FF7700"),(0,v.jsxs)(v.Fragment,{children:[l&&(0,v.jsx)(o.Text,{children:l}),(0,v.jsx)(P,{color:n,content:d}),(0,v.jsx)(P,{color:n,content:i}),m&&(0,v.jsx)(o.Text,{children:m})]})}return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(P,{color:n,content:t}),(0,v.jsx)(P,{color:n,content:i})]})}function V(e){var t,n=e.noteList,i=[];n.forEach((function(e){1===e.ThirdTitleType&&e.ExtendInfor.forEach((function(e){3===e.Type&&i.push((0,v.jsx)(L,{title:e.ExtendTitle},e.ExtendTitle))}))}));var a,c=null===(t=n.find((function(e){return 4===e.ThirdTitleType})))||void 0===t?void 0:t.ExtendInfor;if(null!==c&&void 0!==c&&c.length){var s=c.find((function(e){return 5===e.Type}));s&&(a=(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(o.Text,{className:C.invoiceText,onClick:(0,r.trackFn)("onClick--af2af",(function(){return(0,p.K4)({close:{position:"top-left"},title:"\u5883\u5916\u7535\u5b50\u51ed\u8bc1\u793a\u4f8b",content:(0,v.jsx)(o.View,{className:C.invoiceImgWrap,children:s.ExtendContent&&(0,v.jsx)(o.Image,{className:C.invoiceImg,src:s.ExtendContent})}),position:"bottom",style:{height:"85vh"}})})),children:s.ExtendTitle})}))}return(0,v.jsxs)(o.View,{children:[i,a]})}function O(e){var t=[];return 16===(16&e.FlagMap)?(0,v.jsx)(V,{noteList:e.NoteList}):(e.NoteList.forEach((function(e){1===e.ThirdTitleType&&e.ExtendInfor.forEach((function(e){3===e.Type?t.push((0,v.jsx)(o.View,{children:e.ExtendTitle},e.ExtendTitle)):7===e.Type&&t.push((0,v.jsxs)(o.View,{children:[(0,v.jsx)(o.View,{className:C.type7Txt,dangerouslySetInnerHTML:{__html:e.ExtendTitle}}),e.ExtendContent&&(0,v.jsx)(o.Image,{className:C.type7Img,src:e.ExtendContent})]},e.ExtendTitle))}))})),(0,v.jsx)(v.Fragment,{children:t}))}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return null;var n=e.NoteTitle,r=e.NoteList,i=e.TagStyle;return{title:n,iconUrl:i,descriptions:r.filter((function(e){return 512!==(521&e.FlagMap)&&1024!==(1024&e.FlagMap)})).map((function(e){return{title:e.NoteSecondTitle,color:t,desc:O(e)}}))}}function R(e){var t=e.fareDetail,n=null===t||void 0===t?void 0:t.NoteList;if(null===n||void 0===n||!n.length)return null;var r=null===t||void 0===t?void 0:t.NoteSecondTitle,i=n.map((function(e){var t=e.ExtendInfor[0];return[{text:e.NoteThirdTitle},{text:t.ExtendTitle},{text:t.ExtendContent},{text:t.Remark,flexBasis:"35%"}]})),a=[{text:"\u4e58\u5ba2",style:{color:"#333333"}},{text:"\u7968\u4ef7",style:{color:"#333333"}},{text:"\u7a0e\u8d39",style:{color:"#333333"}},{text:"\u5355\u4eba\u542b\u7a0e\u603b\u4ef7",flexBasis:"35%",style:{color:"#333333"}}],c=[S(r,null===t||void 0===t?void 0:t.FlagMap),a].concat((0,d.Z)(i)).filter(Boolean);return(0,v.jsx)(o.View,{className:C.priceDetail,children:x(c)})}function D(e,t){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return null;var c=e.NoteTitle,s=e.NoteList,l=e.TagStyle,u=s.map((function(e){return{title:e.NoteSecondTitle,desc:O(e)}})),d=(null===(n=a.find((function(e){return 6===e.ExtentType})))||void 0===n?void 0:n.ExtentContent)||"",f=(null===(r=a.find((function(e){return 8===e.ExtentType})))||void 0===r?void 0:r.ExtentContent)||"",m=(0,v.jsxs)(o.View,{children:[(0,v.jsx)(o.Text,{children:d}),(0,v.jsxs)(o.View,{children:[(0,v.jsx)(o.Text,{children:null===(i=a.find((function(e){return 7===e.ExtentType})))||void 0===i?void 0:i.ExtentContent}),(0,v.jsx)(o.Text,{className:C.perPrice,children:f})]})]});return u.unshift({title:(null===t||void 0===t?void 0:t.NoteTitle)||"",desc:m,childrenJsx:(0,v.jsx)(v.Fragment,{children:((null===t||void 0===t?void 0:t.NoteList)||[]).map((function(e){return(0,v.jsx)(R,{fareDetail:e},e.NoteSecondTitle)}))})}),{title:c,iconUrl:l,descriptions:u}}var Z=n(92954),F={tabsContainer:"index-module_gSFPw",tabs:"index-module_no3w0",tabItem:"index-module_t2PND",tabItemIcon:"index-module_rrn0z",tabItemIconfont:"index-module_GkNLv",tabItemText:"index-module_GSftv",active:"index-module_hWSKp",hightlight:"index-module_EtxWD"};function M(e){var t=e.tabs,n=(0,i.useState)(0),a=(0,f.Z)(n,2),c=a[0],s=a[1],l=(0,i.useState)("auto"),u=(0,f.Z)(l,2),d=u[0],m=u[1],p=(0,i.useRef)(0),h=(0,i.useRef)(null);if((0,i.useLayoutEffect)((function(){if(h.current){var e=h.current.clientHeight;if(!e||"auto"!==d)return;if(p.current){var t=p.current;p.current=e,m(t+"px"),(0,Z.nextTick)((function(){return m(e+"px")}))}else m(e+"px"),p.current=e}}),[d]),null===t||void 0===t||!t.length)return null;var g=function(e){m("auto"),s(e);var n=t[e].clickFn;n&&n()};return(0,v.jsxs)(o.View,{className:F.tabsContainer,children:[(0,v.jsxs)(o.View,{className:F.tabs,children:[(0,v.jsx)(o.View,{className:F.hightlight,style:{left:c/t.length*100+"%"}}),t.map((function(e,t){var n=/^http/.test(e.iconUrl);return(0,v.jsxs)(o.View,{className:"".concat(F.tabItem," ").concat(c===t?F.active:""),onClick:(0,r.trackFn)(e.text+"--5d2cd",(function(){return g(t)})),children:[n?(0,v.jsx)(o.Image,{className:F.tabItemIcon,src:e.iconUrl}):(0,v.jsx)(o.View,{className:"iconfont-h5 ".concat(e.iconUrl," ").concat(F.tabItemIconfont)}),(0,v.jsx)(o.View,{className:F.tabItemText,children:e.text})]},e.text)}))]}),(0,v.jsx)(o.View,{ref:h,id:"tabs-content",style:{height:d,transition:"height ease-out .4s",width:"100%"},children:t[c].content})]})}var B=n(45023),U=function(e){return e[e["ADULT"]=1]="ADULT",e[e["CHILD"]=2]="CHILD",e[e["INFANT"]=3]="INFANT",e}({}),q=(0,B.Z)((0,B.Z)((0,B.Z)({},U.ADULT,{txt:"\u6210\u4eba",icon:"icon-adult"}),U.CHILD,{txt:"\u513f\u7ae5",icon:"icon-child"}),U.INFANT,{txt:"\u5a74\u513f",icon:"icon-infant"}),Y={LuggageTable:"Luggage-module_AUVyR",tableTitle:"Luggage-module_jHH7A",desc:"Luggage-module_Wd5dJ",descContent:"Luggage-module_UwgXP",descTitle:"Luggage-module_b60XM",descText:"Luggage-module_Kcmx_",noLuggage:"Luggage-module_Vrn_E",descDot:"Luggage-module_iBZqC",descDotBox:"Luggage-module_j0h1g",luggageBottom:"Luggage-module_F51Gr",tip:"Luggage-module_bZbbQ",instructionWrap:"Luggage-module_D4vkG",instruction:"Luggage-module_GFcAn",instructionIcon:"Luggage-module_MsUy_",baggageWrap:"Luggage-module_Ayqgh",baggage:"Luggage-module_DDMKJ",baggageNum:"Luggage-module_JoWPt",baggageTitle:"Luggage-module_OaCFl",baggageDesc:"Luggage-module_ypnKP",imageContainer:"Luggage-module_M9MKM",imgSize:"Luggage-module_akSMw",handInImg:"Luggage-module__N4vy",imgSizeBg:"Luggage-module_hWvh4",handInImgBg:"Luggage-module_WSWbo",carrayOnImgBg:"Luggage-module_aVL2B",luggageLength:"Luggage-module_R5W81",luggageWidth:"Luggage-module_WYfio",luggageHeight:"Luggage-module_iCHm7",handInLength:"Luggage-module_okfBn",handInWidth:"Luggage-module_JuRYF",handInHeight:"Luggage-module_Zd37E",textTips:"Luggage-module_chqoT",totalWeight:"Luggage-module_A1uuW"},H={CENTIMETER:"cm"},G={0:"checkin",1:"handin",4:"carryon"},W={_free:"_free","00":"_00","01":"_01",11:"_11",10:"_10"},z=function(e,t){if(!t)return null;var n=t.sort((function(e,t){return e-t}))||[],r=Array.isArray(n)&&n.length>=1;return r?e?[n[2],n[0],n[1]]:[n[1],n[0],n[2]]:null},K="https://pages.c-ctrip.com/flight_h5/tinyapp/middle/luggage/";function Q(e){var t=e.btype,n=e.sizes,r=void 0===n?[]:n,i=e.htype,a=void 0===i?"":i,c="number"===typeof t&&G[t]||null,s=1===t,l=4===t,u=z(s||l,r);return c?(0,v.jsxs)(o.View,{className:Y.imageContainer,children:[(0,v.jsx)(o.Image,{className:"".concat(Y.imgSize," ").concat(s?Y.handInImg:"","\n\t\t\t\t}"),src:"".concat(K+c+(W[a]||""),".png")}),!!u&&(0,v.jsxs)(v.Fragment,{children:[c&&(0,v.jsx)(o.Image,{className:"".concat(Y.imgSizeBg," ").concat(s?Y.handInImgBg:""," ").concat(l?Y.carrayOnImgBg:""),src:"".concat(K+c+"_size",".png")}),!!u[0]&&(0,v.jsx)(o.View,{className:"".concat(Y.luggageLength," ").concat(s?Y.handInLength:""),children:(0,v.jsxs)(o.Text,{className:Y.textTips,children:[u[0],H.CENTIMETER]})}),!!u[1]&&(0,v.jsx)(o.View,{className:"".concat(Y.luggageWidth," ").concat(s?Y.handInWidth:""),children:(0,v.jsxs)(o.Text,{className:Y.textTips,children:[u[1],H.CENTIMETER]})}),!!u[2]&&(0,v.jsx)(o.View,{className:"".concat(Y.luggageHeight," ").concat(s?Y.handInHeight:""),children:(0,v.jsxs)(o.Text,{className:Y.textTips,children:[u[2],H.CENTIMETER]})})]})]}):null}function J(e){var t=null===e||void 0===e?void 0:e.MaxSize;if(!t||"string"!==typeof t||!t.length)return[];var n,r=[];t.includes("&")?r=null===(n=t.split("&"))||void 0===n||null===(n=n[1])||void 0===n?void 0:n.split("*"):r=t.split("*");return 3===r.length?r.map(Number):[]}function X(e){var t=e.Desc,n=e.NoteList,r=e.LuggageType,i=$(e),a=!!Number(i);return(0,v.jsxs)(o.View,{className:Y.desc,children:[Q({btype:r,htype:a?"":"_free",sizes:J(e)}),(0,v.jsxs)(o.View,{className:Y.descContent,children:[(0,v.jsx)(o.View,{className:Y.descTitle,children:t}),n.map((function(e){return(0,v.jsx)(ee,{item:e,noLuggage:a},e.Content)}))]})]},t)}function $(e){var t=e.MaxAmount;return 0===t?"1":"0"}function ee(e){var t=e.item,n=e.noLuggage;return(0,v.jsxs)(o.View,{className:"".concat(Y.descText," ").concat(n?Y.noLuggage:""),children:[(0,v.jsx)(o.View,{className:Y.descDotBox,children:(0,v.jsx)(o.Text,{className:Y.descDot})}),(0,v.jsx)(o.Text,{children:t.Content})]})}function te(e){return e.map((function(e){return(0,v.jsx)(re,{luggageInfo:e},e.Title)}))}function ne(e){var t=e.item,n=t.Desc,r=t.NoteList;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.View,{className:Y.baggage,children:(0,v.jsx)(o.View,{className:Y.descTitle,children:n})}),r.filter((function(e){return 1===e.NoteType||2===e.NoteType})).map((function(e){return(0,v.jsx)(ee,{item:e},e.Content)}))]})}function re(e){var t,n,r=e.luggageInfo,i=r.Title,a=r.LuggageItemList,c=r.ExtendInfoList,s=void 0===c?[]:c,l=a.find((function(e){return 0===e.LuggageType})),u=a.find((function(e){return 1===e.LuggageType})),d=a.find((function(e){return 4===e.LuggageType}));if(u&&d){var f=$(u)+$(d),m=J(u);n=(0,v.jsxs)(v.Fragment,{children:[X(l),(0,v.jsxs)(o.View,{className:Y.desc,children:[Q({btype:4,htype:f,sizes:m}),(0,v.jsxs)(o.View,{className:Y.descContent,children:[(0,v.jsx)(o.View,{className:Y.baggageWrap,children:(0,v.jsx)(ne,{item:d})}),(0,v.jsx)(ne,{item:u})]})]})]})}else n=(0,v.jsx)(v.Fragment,{children:a.map((function(e){return X(e)}))});var p=null===(t=s.find((function(e){return 1===e.ExtentType})))||void 0===t?void 0:t.ExtentContent;return(0,v.jsxs)(o.View,{className:Y.LuggageTable,children:[(0,v.jsx)(o.View,{className:Y.tableTitle,children:i}),(0,v.jsx)(o.View,{children:n}),p&&(0,v.jsx)(o.View,{className:Y.totalWeight,children:p})]})}function ie(e){var t,n=e.luggageInfoList,i=e.detail;if(null===n||void 0===n||!n.length)return null;var a=(null===i||void 0===i?void 0:i.NoteList)||[],c=null===(t=a[a.length-1])||void 0===t||null===(t=t.NoteList)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.ExtendInfor)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.ExtendTitle,s=(0,v.jsxs)(o.View,{className:Y.luggageBottom,children:[(0,v.jsx)(o.View,{className:Y.tip,children:"* \u82e5\u643a\u5e26\u884c\u674e\u8d85\u91cd\uff0c\u903e\u91cd\u90e8\u5206\u7684\u6536\u8d39\u6807\u51c6\u4ee5\u822a\u53f8\u89c4\u5b9a\u4e3a\u51c6"}),(0,v.jsxs)(o.View,{className:Y.instructionWrap,children:[(0,v.jsx)(o.Image,{className:Y.instructionIcon,src:"https://pic.c-ctrip.com/pic/AssetCatalog/biz/common/icon_double_quote.png"}),(0,v.jsx)(o.Text,{className:Y.instruction,children:c})]})]}),l=[],u=r.R.groupWith((function(e,t){return e.AgeType===t.AgeType}),(0,d.Z)(n).sort((function(e,t){return e.AgeType-t.AgeType})));return u.length<=1?(0,v.jsxs)(v.Fragment,{children:[te(u[0]),s]}):(u.forEach((function(e){var t=q[e[0].AgeType];l.push({text:t.txt,iconUrl:t.icon,content:te(e)})})),(0,v.jsxs)(o.View,{children:[(0,v.jsx)(M,{tabs:l}),s]}))}var oe={refundContainer:"Refund-module_cutyT",refundTable:"Refund-module_PaH84",currentColumn:"Refund-module_HhDi2",line:"Refund-module_wJ6i_",triangle:"Refund-module_qVvPp",current:"Refund-module_xN6XJ",tips:"Refund-module_ycy2g",tipImage:"Refund-module_UJO8v",tipContent:"Refund-module_TQrZF",warnings:"Refund-module_tDpCL",warningTitle:"Refund-module_BAnM7",warningItem:"Refund-module_mJvjz",warningItemTitle:"Refund-module_lR76g",warningItemContent:"Refund-module_zQ0iF",foldButton:"Refund-module_B6ndk",foldIcon:"Refund-module_l1sqp",transform:"Refund-module_mD0mT",fold:"Refund-module_c53zj",lastContent:"Refund-module_EBpoL",noteItem:"Refund-module_x1jgc",noteImage:"Refund-module_J2LTR",noteTitleWrap:"Refund-module_ATjPz",noteTitle:"Refund-module_dlRa3",noteContent:"Refund-module_znczY",refundInstructions:"Refund-module_zpI8F",refundInstructionsWrap:"Refund-module_FDXIe",descDotBox:"Refund-module_X2llf",descDot:"Refund-module_TGvR8"},ae=function(e){return{customItem:!0,render:function(t){var n=t.flexBasis;return(0,v.jsxs)(o.View,{className:oe.currentColumn,style:{flexBasis:n},children:[(0,v.jsx)(o.View,{className:oe.line}),(0,v.jsxs)(o.View,{className:oe.current,children:[(0,v.jsx)(o.View,{className:oe.triangle}),(0,v.jsx)(o.Text,{children:"\u5f53\u524d\u65f6\u6bb5"})]}),(0,v.jsx)(o.Text,{children:e})]},e)}}},ce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){var t;return null===e||void 0===e||null===(t=e.ExtendInfor)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.ExtendTitle}));return[{render:function(){return(0,v.jsx)(o.View,{children:r.map((function(e,t){var n=t===r.length?{}:{marginBottom:"8px"};return(0,v.jsxs)(o.View,{style:n,children:[(0,v.jsxs)(o.Text,{style:j,children:[e.NoteThirdTitle,"\uff1a"]}),(0,v.jsx)(o.Text,{children:e.ExtendInfor[0].ExtendTitle})]},e.NoteThirdTitle)}))})}}]};function se(e){return le(e,2)}function le(e,t){var n;return null!==e&&void 0!==e&&null!==(n=e.ExtendInfor)&&void 0!==n&&n.length?e.ExtendInfor.filter((function(e){return e.Type===t})):[]}function ue(e){var t;return null!==e&&void 0!==e&&null!==(t=e.ExtendInfor)&&void 0!==t&&t.length?e.ExtendInfor.every((function(e){return 2!==e.Type})):[]}function de(e){return 128===(128&e.FlagMap)}function fe(e){return 256===(256&e.FlagMap)}function me(e){return{text:e,style:j}}function pe(){return me("\u64cd\u4f5c\u65f6\u95f4")}function he(){return me("\u9000\u7968\u624b\u7eed\u8d39")}function ge(){return me("\u540c\u8231\u6539\u671f\u624b\u7eed\u8d39")}function ve(e,t){var n=e.ExtendInfor.filter((function(e){return 1===e.Type})),r=t.ExtendInfor.filter((function(e){return 1===e.Type}));return!(!n.length&&!r.length)&&(n.length>1||r.length>1||!n.every((function(e,t){return e.ExtendTitle===r[t].ExtendTitle})))}function ye(e,t){var n=!1;return!(!e.length||!t.length)&&(e.length!==t.length||(e.forEach((function(e,r){e.ExtendTitle!==t[r].ExtendTitle&&(n=!0)})),n))}function xe(e,t){var n=se(e),r=se(t),i=le(e,1),o=le(t,1);return!!ye(i,o)||!!ye(n,r)}function _e(e){var t=e.refund,n=e.reschedule,r=[],i=t&&t.ExtendInfor||[],o=n&&n.ExtendInfor||[],a=!ue(t)||!ue(n),c=i.find((function(e){return 3===e.Type})),s=o.find((function(e){return 3===e.Type}));a&&r.push(pe()),c&&r.push(he()),s&&r.push(ge());var l=!!i.find((function(e){return 1===e.Type}))||!!o.find((function(e){return 1===e.Type}));return[r,l]}function Ne(e,t){return(0,m.Z)((0,m.Z)({},e),{},{ExtendInfor:t})}function Te(e,t){return e.push([(0,m.Z)((0,m.Z)({},t),{},{current:de(t),inactive:fe(t)})]),e}function we(e,t){var n=e.ExtendInfor.reduce((function(e,n,r){return 2===n.Type||1===n.Type?Te(e,n):3===n.Type&&(e[e.length-1]||e).push(n,t.ExtendInfor[r]),e}),[]);return n}function be(e,t){var n=e.ExtendInfor.reduce((function(e,n,r){return 1===n.Type?Te(e,n):3===n.Type&&e.push([n,t.ExtendInfor[r]]),e}),[]);return n}function Ce(e){var t=e.ExtendInfor.reduce((function(e,t){return 1===t.Type?Te(e,t):3===t.Type&&e.push([t]),e}),[]);return t}function je(e){var t=e.ExtendInfor.reduce((function(e,t){return 2===t.Type||1===t.Type?e.push([(0,m.Z)((0,m.Z)({},t),{},{current:de(t),inactive:fe(t)})]):3===t.Type&&(e[e.length-1]||e).push(t),e}),[]);return t}function Se(e,t,n){var r=n?[t,e]:[e,t],i=r[0].ExtendInfor.reduce((function(e,t){if(2===t.Type||1===t.Type)Te(e,t);else if(3===t.Type){var r=e.length-1;n?e[r].push(void 0,t):e[r].push(t,void 0)}return e}),[]),o=i[i.length-1],a=o.findIndex((function(e){return!e}));return o[a]=(0,m.Z)({},r[1].ExtendInfor.find((function(e){return 3===e.Type}))),i}function ke(e,t){return e.map((function(n){var r;if(Array.isArray(n))return ke(n,t);if(n){var i=n.ExtendTitle;try{3===n.Type&&(i=JSON.parse(n.ExtendTitle)[t])}catch(e){}return 1===n.Type?{render:function(){return(0,v.jsx)(o.View,{style:j,children:(0,v.jsx)(o.Text,{children:n.ExtendTitle})})}}:n.current?ae(i):null!==(r=e[0])&&void 0!==r&&r.inactive?{render:function(){return(0,v.jsx)(o.View,{style:{color:"#cccccc"},children:(0,v.jsx)(o.Text,{children:i})},i)}}:i?{text:i}:n}}))}function Ie(e,t){var n=ue(e)?Ce(e):je(e),r=n.map((function(e){return ke(e,t)}));return r}function Ee(e,t,n){var i=ue(e),o=ue(t),a=i&&!o||!i&&o,c=[],s=_e({refund:e,reschedule:t}),l=(0,f.Z)(s,2),u=l[0],d=l[1];c=a?Se(e,t,i):we(e,t);var m=c.map((function(e){return ke(e,n)})),p=m;return a&&(p=r.R.groupWith((function(e,t){return e.length===t.length}),m).map((function(e){return 1===e.length?r.R.flatten(e):e}))),d?p.splice(1,0,u):p.unshift(u),p}function Pe(e,t,n){var r=be(e,t),i=ke(r,n),o=_e({refund:e,reschedule:t}),a=(0,f.Z)(o,2),c=a[0],s=a[1];return s?i.splice(1,0,c):i=[c].concat((0,d.Z)(i)),i}function Le(e,t,n){var r=xe(e,t);if(r){var i=Ie(e,n),o=_e({refund:e}),a=(0,f.Z)(o,2),c=a[0],s=a[1];s?i.splice(1,0,c):i=[c,i];var l=Ie(t,n),u=_e({reschedule:t}),m=(0,f.Z)(u,2),p=m[0],h=m[1];return h?l.splice(1,0,p):l=[p,l],[].concat((0,d.Z)(i),(0,d.Z)(l))}var g=ue(e)&&ue(t);return g?Pe(e,t,n):Ee(e,t,n)}function Ve(e){var t=e.passengerType,n=e.refundNoteList,i=(0,f.Z)(n.NoteList,6),a=i[0],c=i[1],s=i[2],l=i[3],u=i[4],m=i[5],p=S(n.NoteSecondTitle);if(1===n.NoteList.length&&16===(16&n.FlagMap))return(0,v.jsx)(o.View,{className:oe.refundTable,children:x([p,[{render:function(){return(0,v.jsx)(o.View,{children:(0,v.jsx)(o.Text,{children:a.ExtendInfor[0].ExtendTitle})})}}]])});var h=ve(a,s),g=p?[p]:[];if(h)for(var y=r.R.groupWith((function(e,t){return 1!==t.Type}),a.ExtendInfor),_=r.R.groupWith((function(e,t){return 1!==t.Type}),s.ExtendInfor),N=Math.max(y.length,_.length),T=0;T<N;T++){var w=Ne(a,y[T]),b=Ne(s,_[T]);g.push.apply(g,(0,d.Z)(Le(w,b,t)))}else g.push.apply(g,(0,d.Z)(Le(a,s,t)));var C=ce(c,l,u);return C&&g.push(C),(0,v.jsxs)(o.View,{className:oe.refundTable,children:[x(g),(0,v.jsx)(Oe,{instruction:m})]})}function Oe(e){var t,n=e.instruction,r=null===n||void 0===n||null===(t=n.ExtendInfor)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.ExtendTitle;return r?(0,v.jsx)(o.View,{className:oe.refundInstructionsWrap,children:(0,v.jsx)(o.View,{className:oe.refundInstructions,dangerouslySetInnerHTML:{__html:r}})}):null}function Ae(e){var t,n=e.refundInfo,r=(0,a.C)((function(e){return e.passengerType.value})),i=r.ADULT,o=void 0===i?1:i,c=r.CHILD,s=void 0===c?0:c,l=r.INFANT,u=void 0===l?0:l,d=null===(t=n.NoteList)||void 0===t?void 0:t[0];if(!d)return null;if(o+s+u===1)return(0,v.jsx)(Ve,{passengerType:U.ADULT,refundNoteList:d});var f=[];return Object.keys(r).forEach((function(e){if(r[e]){var t=q[U[e]];f.push({text:t.txt,iconUrl:t.icon,content:(0,v.jsx)(Ve,{passengerType:U[e],refundNoteList:d})})}})),(0,v.jsx)(M,{tabs:f})}function Re(e){var t=e.refundInfos;return null!==t&&void 0!==t&&t.length?(0,v.jsx)(v.Fragment,{children:t.map((function(e,t){return(0,v.jsx)(Ae,{refundInfo:e},"refundTab_".concat(t))}))}):null}function De(e){var t=e.refundInfo,n=e.noteAndSupplier,r=e.refundTip;if(null===t||void 0===t||!t.length)return null;var i=(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Ze,{tip:r}),(0,v.jsx)(Me,{notes:n})]});return(0,v.jsxs)(o.View,{className:oe.refundContainer,children:[(0,v.jsx)(Re,{refundInfos:t}),i]})}function Ze(e){var t,n,r=e.tip,i=null===r||void 0===r||null===(t=r.NoteList)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.NoteList)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.ExtendInfor;if(null===i||void 0===i||!i.length)return null;var a=i.find((function(e){return e.FlagMap&&64===(64&e.FlagMap)}));a&&(n=(0,v.jsxs)(o.View,{className:oe.tips,children:[(0,v.jsx)(o.Image,{className:oe.tipImage,src:"https://pic.c-ctrip.com/pic/AssetCatalog/biz/common/icon_double_quote.png"}),(0,v.jsx)(o.Text,{className:oe.tipContent,children:a.ExtendContent})]}));var c=i.filter((function(e){return e.FlagMap&&32===(32&e.FlagMap)}));return(0,v.jsxs)(v.Fragment,{children:[n,(0,v.jsx)(Fe,{warnings:c})]})}function Fe(e){var t=e.warnings,n=(0,i.useState)(!1),a=(0,f.Z)(n,2),c=a[0],s=a[1];return null!==t&&void 0!==t&&t.length?(0,v.jsxs)(o.View,{className:oe.warnings,children:[(0,v.jsx)(o.View,{className:oe.warningTitle,children:"\u6ce8\u610f\u4e8b\u9879\uff1a"}),t.map((function(e,n){var r=n===t.length-1,i=e.ExtendTitle,a=e.ExtendContent;return(0,v.jsx)(o.View,{className:oe.warningItem,children:i&&(0,v.jsxs)(o.View,{children:[(0,v.jsxs)(o.View,{className:oe.warningItemTitle,children:[(0,v.jsx)(o.Text,{className:oe.descDot}),(0,v.jsx)(o.Text,{children:"".concat(i.replace("[G]","").replace("[/G]",""))})]}),c&&(0,v.jsx)(o.View,{className:"".concat(oe.warningItemContent," ").concat(r?oe.lastContent:""),children:a})]})},n)})),(0,v.jsxs)(o.View,{onClick:(0,r.trackFn)("onClick--689f5",(function(){return s(!c)})),className:oe.foldButton,children:[(0,v.jsx)(o.View,{children:c?"\u6536\u8d77":"\u8be6\u60c5"}),(0,v.jsx)(o.View,{className:"iconfont-h5  ".concat(oe.foldIcon," ").concat(c?"icon-arrow-up":"icon-arrow-down")})]})]}):null}function Me(e){var t=e.notes;if(!t.length)return null;var n=t.filter((function(e){return e.NoteList.some((function(e){return 0===e.FlagMap}))})),r=t.filter((function(e){return e.NoteList.some((function(e){return 16===e.FlagMap}))}));return(0,v.jsxs)(o.View,{className:oe.noteContainer,children:[Be(n),Be(r)]})}function Be(e){return null!==e&&void 0!==e&&e.length?(0,v.jsx)(v.Fragment,{children:e.map((function(e){return(0,v.jsx)(o.View,{className:oe.noteItem,children:Ue(e)},e.NoteTitle)}))}):null}function Ue(e){var t,n=e.NoteTitle,r=e.NoteList,i=null===(t=r[0])||void 0===t?void 0:t.NoteList;if(null!==i&&void 0!==i&&i.length){var a,c=null===(a=i[0])||void 0===a||null===(a=a.ExtendInfor)||void 0===a?void 0:a[0];if(c){var s=c.ExtendContent,l=c.ExtendTitle;return(0,v.jsxs)(o.View,{children:[(0,v.jsxs)(o.View,{className:oe.noteTitleWrap,children:[s&&(0,v.jsx)(o.Image,{src:s,className:oe.noteImage}),(0,v.jsx)(o.View,{className:oe.noteTitle,children:n})]}),(0,v.jsx)(o.View,{className:oe.noteContent,dangerouslySetInnerHTML:{__html:l}})]})}}}var qe=n(72546),Ye={comboArea:"CtripCombo-module_S_m5D",comboInfoContainer:"CtripCombo-module_AUQDu",comboInfo:"CtripCombo-module_QhGvO",last:"CtripCombo-module_MoM1_",firstTitle:"CtripCombo-module_iKV_3",titleIcon:"CtripCombo-module_GbmLE",secondTitle:"CtripCombo-module_VRYkv",content:"CtripCombo-module_o_Kyb",btn:"CtripCombo-module_NQmo_",secondaryTitleIcon:"CtripCombo-module_xW3mN",comboInfoText:"CtripCombo-module_Z7n8N",comboTitle:"CtripCombo-module_Nuo5X",dashLine:"CtripCombo-module_yzFwH",transfer:"CtripCombo-module_c_2M_",transferTitle:"CtripCombo-module_Hx9wX",transferInfo:"CtripCombo-module__ibdO"};function He(e){var t,n,i,a,c,s=e.policy;if(!s||null===(t=s.NoteList)||void 0===t||!t.length)return null;var l,u,d=null===(n=s.NoteList.filter((function(e){return 512===(521&e.FlagMap)})))||void 0===n?void 0:n[0],f=null===(i=s.NoteList.filter((function(e){return 1024===(1024&e.FlagMap)})))||void 0===i?void 0:i[0];if(null!==d&&void 0!==d&&null!==(a=d.NoteList)&&void 0!==a&&a.length){var m=d.NoteSecondTitle;l=(0,v.jsxs)(o.View,{children:[(0,v.jsxs)(o.View,{className:Ye.firstTitle,children:[(0,v.jsx)(o.Image,{className:Ye.titleIcon,src:"https://pic.c-ctrip.com/AssetCatalog/biz/common/ico_intl_middle.png"}),(0,v.jsx)(o.Text,{children:m})]}),(0,v.jsx)(o.View,{className:Ye.comboInfoContainer,children:d.NoteList.map((function(e,t){var n,i,a,c,s=e.NoteThirdTitle,l=e.ExtendInfor,u=(null===(n=l.find((function(e){return 9===e.Type})))||void 0===n?void 0:n.ExtendContent)||"",f=(null===(i=l.find((function(e){return 10===e.Type})))||void 0===i?void 0:i.ExtendContent)||"",m=(null===(a=l.find((function(e){return 11===e.Type})))||void 0===a?void 0:a.ExtendContent)||"",p=(null===(c=l.find((function(e){return 11===e.Type})))||void 0===c?void 0:c.Remark)||"",h=!s&&u,g=t===d.NoteList.length-1;return(0,v.jsxs)(o.View,{className:"".concat(Ye.comboInfo," ").concat(g?Ye.last:""),children:[h?(0,v.jsx)(o.View,{className:Ye.dashLine}):(0,v.jsxs)(o.View,{className:Ye.comboTitle,children:[(0,v.jsxs)(o.View,{className:Ye.secondTitle,children:[f?(0,v.jsx)(o.Image,{className:Ye.titleIcon,src:f}):null,(0,v.jsx)(o.Text,{children:s})]}),m&&(0,v.jsxs)(o.View,{onClick:(0,r.trackFn)(s+"--d47c5",(function(){return p&&(0,qe.G)(p)})),className:Ye.btn,children:[m,(0,v.jsx)(o.Text,{className:"iconfont-h5 icon-arrow-right"})]})]}),Ge(u,"\u3010","\u3011","#00B87A",{color:"#999999"})]},s)}))})]})}if(null!==f&&void 0!==f&&null!==(c=f.NoteList)&&void 0!==c&&c.length){var p=f.NoteSecondTitle;u=(0,v.jsxs)(o.View,{className:Ye.transfer,children:[(0,v.jsxs)(o.View,{className:Ye.transferTitle,children:[(0,v.jsx)(o.Image,{className:Ye.secondaryTitleIcon,src:"https://pic.c-ctrip.com/AssetCatalog/biz/intl/list/disadvantage_icon.png"}),(0,v.jsx)(o.Text,{children:p})]}),(0,v.jsx)(o.View,{children:f.NoteList.map((function(e,t){var n=e.NoteThirdTitle,r=e.ExtendInfor,i=t===f.NoteList.length-1;return(0,v.jsxs)(o.View,{className:"".concat(Ye.transferInfo," ").concat(i?Ye.last:""),children:[(0,v.jsx)(o.View,{className:Ye.comboInfoText,children:"".concat(n,"\uff1a")}),r.map((function(e,t){var n=e.ExtendTitle,i=r.length>1&&n;return(0,v.jsxs)(o.View,{children:[i?(0,v.jsx)(o.Text,{className:Ye.comboInfoText,children:"".concat(t+1,"\u3001").concat(n,":")}):null,(0,v.jsx)(o.View,{children:Ge(e.Remark,"<HL>","</HL>","#FF7700")})]},n)}))]},n)}))})]})}if(!l&&!u)return null;var h=(0,v.jsxs)(o.View,{className:Ye.comboArea,children:[l," ",u]});return h}function Ge(e,t,n,r,i){var a="",c="",s="";return e&&e.indexOf(t)>-1?(a=e.split(t)[0],c=e.split(t)[1].split(n)[0],s=e.split(n)[1],(0,v.jsxs)(o.View,{className:Ye.content,style:i,children:[a,(0,v.jsx)(o.Text,{style:{color:r},children:c}),s]})):(0,v.jsx)(o.View,{className:Ye.content,style:i,children:e})}var We=n(68425);function ze(e){var t=e.data,n=e.activeIndex,r=t.NoteList,i=t.LuggageInfoList,o=t.ExtendInfo,a=r.find((function(e){return 37===e.NoteType})),c=r.find((function(e){return 38===e.NoteType})),s=r.find((function(e){return 39===e.NoteType})),l=r.find((function(e){return 34===e.NoteType})),d=r.find((function(e){return 30===e.NoteType})),f=r.filter((function(e){return 40===e.NoteType})),m=r.filter((function(e){return 31===e.NoteType})),p=r.find((function(e){return 41===e.NoteType})),h=[{title:"\u4ea7\u54c1\u8bf4\u660e",id:"productFeture",content:(0,v.jsxs)(v.Fragment,{children:[I("\u4ea7\u54c1\u8bf4\u660e","https://pages.c-ctrip.com/flight_h5/tinyapp/middle/illustrate.png"),E(A(a,"#00b87a"),(0,v.jsx)(He,{policy:a})),E(A(c)),E(D(s,l,o))]})},{title:"\u514d\u8d39\u884c\u674e\u89c4\u5b9a",id:"luggageDetails",content:(0,v.jsxs)(v.Fragment,{children:[I("\u514d\u8d39\u884c\u674e\u89c4\u5b9a","https://pages.c-ctrip.com/flight_h5/tinyapp/middle/luggage.png"),(0,v.jsx)(ie,{luggageInfoList:i,detail:d})]})},{title:"\u9000\u6539\u7b7e\u8bf4\u660e",id:"RefundInformation",content:(0,v.jsxs)(v.Fragment,{children:[I("\u9000\u6539\u7b7e\u8bf4\u660e","https://pages.c-ctrip.com/flight_h5/tinyapp/middle/rebook.png"),(0,v.jsx)(De,{refundInfo:f,noteAndSupplier:m,refundTip:p})]})}];return(0,v.jsx)(We.Z,{tabs:h,activeIndex:n,title:(0,v.jsx)(u.Z,{})})}var Ke=n(57042),Qe=n(24460),Je=n(21867),Xe=n(86066),$e=n(99531),et=function(e){(0,Je.Z)(n,e);var t=(0,Xe.Z)(n);function n(e){var r;return(0,Ke.Z)(this,n),r=t.call(this,e),r.state={error:null,errorInfo:null},r}return(0,Qe.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.state.errorInfo;if(e){try{(0,$e.rb)(e)}catch(e){console.error(e)}return this.props.fallback||null}return this.props.children}}]),n}(i.Component),tt=et;function nt(e){for(var t,n=e.pageType,i=e.chkno,c=void 0===i?"":i,s=e.prdid,u=e.polid,d=e.activeIndex,f=(0,a.C)((function(e){return e.passengerType.value})),m=(0,a.C)((function(e){return e.tripType.value})),p=f.ADULT,h=void 0===p?1:p,g=f.CHILD,y=void 0===g?0:g,x=f.INFANT,_=void 0===x?0:x,N="ONE_WAY"===m?0:1,T=[],w=0;w<=N;w++)T.push({SegmentNo:w,ProductId:s,PolicyId:u});var b=l({PageType:n,PassengerList:[{PassengerType:1,PassengerCount:h},{PassengerType:2,PassengerCount:y},{PassengerType:3,PassengerCount:_}],SegmentList:T,CheckNo:c,ExtendInfo:[{ExtentType:6,ExtentContent:"true"}]}),j=b.data,S=b.isFetching,k=b.isError,I=b.refetch;return S?(0,v.jsx)(o.View,{className:C.loadingBox,children:(0,v.jsx)(o.Image,{className:C.loading,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/global_loading.gif"})}):k||"Success"!==(null===j||void 0===j||null===(t=j.ResponseStatus)||void 0===t?void 0:t.Ack)?(0,v.jsx)(o.View,{className:C.errorPage,children:(0,v.jsxs)(o.View,{className:C.errorContainer,children:[(0,v.jsx)(o.Image,{className:C.errorImage,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/img_empty.svg"}),(0,v.jsx)(o.View,{className:C.errorText,children:"\u62b1\u6b49\uff0c\u67e5\u8be2\u672a\u6210\u529f"}),(0,v.jsx)(o.View,{className:C.errorBtn,onClick:(0,r.trackFn)("refetch--4d849",I),children:"\u518d\u8bd5\u4e00\u6b21"})]})}):(0,v.jsx)(tt,{children:(0,v.jsx)(ze,{data:j,activeIndex:d})})}},95518:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(298),i=(n(91425),n(90201),n(71515)),o=n(2269);function a(e){var t=e.enhanced,n=!1,a=t||(n?1:0);return(0,o.jsx)(i.ScrollView,(0,r.Z)((0,r.Z)({},e),{},{enhanced:!!a}))}},52050:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});n(91425),n(90201);var r=n(71515),i=n(15568),o=n(2269);function a(){return(0,o.jsx)(r.View,{className:i.Z.tabImgWrap,children:(0,o.jsx)(r.Image,{className:i.Z.tabImg,src:"https://pages.c-ctrip.com/flight_h5/swift/service_assurance/title_blue.png"})})}},68425:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(79301),i=n(95308),o=n(90129),a=n(91425),c=n(90201),s=n(71515),l=n(95518),u=n(1098),d=n(15568),f=n(2269);function m(e){var t=e.tabs,n=e.activeIndex,m=void 0===n?0:n,p=e.title,h=e.isScrollTitle,g=e.style,v=e.hideTabSwitch,y=(0,c.useState)(m),x=(0,o.Z)(y,2),_=x[0],N=x[1],T=(0,c.useState)(!1),w=(0,o.Z)(T,2),b=w[0],C=w[1],j=(0,c.useState)([]),S=(0,o.Z)(j,2),k=S[0],I=S[1],E=(0,c.useState)("auto"),P=(0,o.Z)(E,2),L=P[0],V=P[1],O=(0,c.useState)(0),A=(0,o.Z)(O,2),R=A[0],D=A[1],Z=(0,c.useRef)(null),F=(0,c.useRef)({timer:null,inScroll:!1}),M=t.map((function(e){return"#"+e.id})).join(",");(0,c.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return t=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.j_)(M,{retry:3,size:!0});case 2:if(t=e.sent,t.length){e.next=5;break}return e.abrupt("return",[]);case 5:return n=t.map((function(e){return parseInt(e.height)})),I(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}function n(){return o.apply(this,arguments)}function o(){return o=(0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.j_)("#tab-container, #tab-header",{retry:3,size:!0});case 2:if(t=e.sent,t.length){e.next=5;break}return e.abrupt("return");case 5:n=t[0].height-t[1].height,V(n);case 7:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}Promise.all([e(),n()]).then((function(e){for(var t=0,n=0;n<m;n++)t+=e[0][n];setTimeout((function(){D(t)}),300)}))}),[m,M]);var B=(0,c.useCallback)((function(e){if(e!==_){for(var t=0,n=0;n<e;n++)t+=k[n];F.current.inScroll=!0,D(t===R?t+1:t),N(e)}}),[k,_,R]),U=function(e){if(!v){var t=Math.ceil(e.target.scrollTop),n=0,r=k.map((function(e){return n+=e,n})),i=r.findIndex((function(e){return e>t}));return b?F.current.inScroll?(F.current.timer&&clearTimeout(F.current.timer),void(F.current.timer=setTimeout((function(){F.current.inScroll=!1,i<_||N(i)}),150))):void N(i):(Z.current&&clearTimeout(Z.current),void(Z.current=setTimeout((function(){C(!0),i<_||N(i)}),150)))}},q=function(){if(v)return null;function e(){return t.map((function(e,t){return(0,f.jsx)(s.View,{className:"".concat(d.Z.tabItem," ").concat(_===t?d.Z.activeTabItem:""),onClick:(0,a.trackFn)(e.id+"--34dbb",(function(){return B(t)})),children:(0,f.jsx)(s.Text,{className:d.Z.tabText,children:e.title})},e.id)}))}return h?(0,f.jsx)(l.Z,{scrollX:!0,className:d.Z.tabItemScrollContainer,id:"id_4ae06",onScroll:(0,a.trackFn)("id_4ae06"),children:e()}):(0,f.jsx)(s.View,{className:d.Z.tabItemContainer,children:e()})};return(0,f.jsxs)(s.View,{className:d.Z.tabOuter,id:"tab-container",style:g,children:[(0,f.jsxs)(s.View,{className:d.Z.header,id:"tab-header",children:[p,q()]}),(0,f.jsxs)(l.Z,{scrollY:!0,scrollWithAnimation:!0,className:d.Z.scrollContainer,onScroll:(0,a.trackFn)("tab-container_id_e4265",U),style:{height:L},scrollTop:R,id:"tab-container_id_e4265",children:[t.map((function(e){return(0,f.jsx)(s.View,{className:"tabs-item",id:e.id,children:e.content},e.title)})),(0,f.jsx)(s.View,{style:{height:"120px"}})]})]})}},84295:function(e,t,n){"use strict";n.d(t,{Zj:function(){return s},zF:function(){return l}});var r=n(298),i=n(91425),o=n(58637),a=n(32180)["window"],c=o.Z.injectEndpoints({endpoints:function(e){return{getLowestPrice:e.query({keepUnusedDataFor:15,query:function(e){return{url:"/15380/bjjson/FlightIntlAndInlandLowestPriceSearch",queryParams:e}},transformResponse:function(e){var t;return(null===e||void 0===e||null===(t=e.priceList)||void 0===t?void 0:t.map((function(e){var t,n;return(0,r.Z)((0,r.Z)({},e),{departDate:null!==(t=e.departDate)&&void 0!==t&&t.includes("Date")?(0,i.dayjs)(new a.Date(parseInt(e.departDate.slice(6,19)))).format("YYYY-MM-DD HH:mm:ss"):e.departDate,returnDate:null!==(n=e.returnDate)&&void 0!==n&&n.includes("Date")?(0,i.dayjs)(new a.Date(parseInt(e.returnDate.slice(6,19)))).format("YYYY-MM-DD HH:mm:ss"):e.returnDate})})))||[]}})}}}),s=c.useGetLowestPriceQuery,l=c.useLazyGetLowestPriceQuery},29085:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});n(91425);var r={ECONOMY:"1",SUPER_ECONOMY:"2",BUSINESS:"4",FIRST:"8","BUSINESS,FIRST":"".concat(12),"BUSINESS\u3001FIRST":"".concat(12),"ECONOMY\u3001SUPER_ECONOMY":"".concat(3)},i=function(e){var t=e.regionType,n=e.departureDate,i=e.departureCode,o=e.arrivalCode,a=e.PassengerList,c=e.cabin,s=e.tripType,l=e.arrivalDate,u=e.isHasTax,d=void 0===u||u,f="INTERNATIONAL"===t,m={searchType:f?2:1,departNewCityCode:i,arriveNewCityCode:o,passengerList:a,grade:Number(r[c]),calendarSelections:[{selectionType:8,selectionContent:[r[c]]},f&&{selectionType:2,selectionContent:[d?"1":"2"]}].filter(Boolean),flag:f?1:0,channelName:"MobileH5"};return"ROUND_TRIP"===s&&l&&(m["returnDate"]=l,m["flag"]=f?5:4),n&&(m["startDate"]=n),m}},8502:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(91425),i=n(90201),o=n(99531),a=n(60328),c=n(74711),s=n(37549),l=n(91481),u=n(29557);function d(e,t){var n=(0,u.Sl)("middlePriceChange");(0,i.useEffect)((function(){if(n&&t&&null!==e&&void 0!==e&&e.length){var i=r.R.map((function(e){return Number(e.price)}),e),a=r.R.includes(Number(t),i);a||((0,o.jq)("middle_price_change",{price:t,desc:"\u4e2d\u95f4\u9875\u53d1\u751f\u53d8\u4ef7",allPrice:"\u5f53\u524d\u7684\u6240\u6709\u4ef7\u683c\uff1a ".concat(i.join(","))}),(0,r.showToast)("\u8be5\u822a\u73ed\u4ef7\u683c\u53d1\u751f\u53d8\u52a8\uff0c\u5df2\u4e3a\u60a8\u5c55\u793a\u6700\u65b0\u4ef7\u683c"))}}),[n,e,t])}function f(e){var t={ECONOMY:"Y",SUPER_ECONOMY:"Y",BUSINESS:"C",FIRST:"F"},n=e.map((function(e){return t[e]})).filter(Boolean).join("_");return n}var m=function(e){var t=e.isFetching,n=e.sections,a=e.policies,c=(0,i.useMemo)((function(){var e=r.R.pipe(r.R.map((function(e){return e.segments})),r.R.flatten)(n||[]);return null===e||void 0===e?void 0:e.map((function(t,r){return{acity:t.arrivalCityCode,adate:t.arriveDateTime,dcity:t.departureCityCode,ddate:t.departDateTime,flightway:1===n.length?"S":"D",fno:t.airline,shared:!!t.shareFlightNo,seqno:r+1,seq:e.length}}))}),[n]),s=(0,i.useMemo)((function(){return null===a||void 0===a?void 0:a.map((function(e,t){var n=Object.keys(e.policyTags||{}).filter((function(e){return["DISCOUNT","MERGE_DISCOUNT","DISCOUNT_REDUCE"].indexOf(e)>-1}));return{index:t+1,class:f(e.cabinClasses),classname:e.title,prditems:e.productTypeList||[],price:e.price,discountLabels:n,routeSearchToken:e.searchKey}}))}),[a]);(0,i.useEffect)((function(){!t&&n&&a&&a.length&&(0,o.ff)("O_FLT_Tinyapp_Middle_Inland_Fltinfo",{fltinfo:c,plyinfos:s})}),[n,a,t,c,s])},p=function(e){var t=e.children,n=e.middleParams,u=e.tripType,f=e.price,p=(0,l.ZS)(n),h=p.data,g=p.isFetching,v=p.isError,y=p.refetch,x=p.error,_=h||{},N=_.middle,T=_.notificationInfos,w=_.transitTipsInfo,b=void 0===w?[]:w;(0,s.Z)(x,y);var C=N||{},j=C.sections,S=void 0===j?[]:j,k=C.tips,I=void 0===k?[]:k,E=C.policies,P=void 0===E?[]:E,L=C.notes,V=void 0===L?[]:L,O=S[0]||{},A=O.segments,R=void 0===A?[]:A,D=R.length>1,Z=D?"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/trainsit_icon.png":"",F=V.find((function(e){return 39===(null===e||void 0===e?void 0:e.notetype)}))||{};return(0,i.useEffect)((function(){if(!g){var e="ROUND_TRIP"===u,t=e?"ROUND_TRIP":D?"TRANSIT":"ONE_WAY",n=r.R.path(["DOMESTIC",t],a.uo);c.ZP.emit(c.WI,n)}}),[g,D,u]),m({isFetching:g,sections:S,policies:P}),(0,i.useEffect)((function(){Z&&(0,o.ff)("S_FLT_xcx_middle_float_transferflight_icon")}),[Z]),d(P,f),t({logoSrc:Z,sections:S,transitTipsInfo:b,policies:P,tips:I.filter((function(e){var t=e.content;return!!t})),notificationInfos:T,fastTransNotes:F,isFetching:g,isError:v,refetch:y})},h=p},91481:function(e,t,n){"use strict";n.d(t,{ZS:function(){return o},l:function(){return c}});n(91425);var r=n(58637),i=r.Z.injectEndpoints({endpoints:function(e){return{getMiddle:e.query({keepUnusedDataFor:15,query:function(e){return{url:"/14488/policyListSearch",queryObject:{subEnv:"fat128"},queryParams:e}},transformResponse:function(e){return e.data}})}}}),o=i.useGetMiddleQuery,a=i.usePrefetch,c=function(){return a("getMiddle",{force:!0})}},22402:function(e,t,n){"use strict";n.d(t,{l:function(){return i.l}});n(91425);var r=n(8502),i=n(91481);t["ZP"]=r.Z},75819:function(e,t,n){"use strict";n.d(t,{l:function(){return y}});var r=n(91425),i=n(90201),o=n(18228),a=n(13768),c=n(298),s=n(92258),l=n(60452),u=n(57729);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){var n=e[t]||[];return n.length?t+":"+n.join(","):""})).filter(Boolean).join("|")}var f=n(56262);function m(e,t,n,i){var o=s.h.getState(),a=i||{},m=a.from,p=void 0===m?"inner":m,h=(0,c.Z)((0,c.Z)({},o),i),g=h.tripType.value,v=h.departure,y=h.arrival,x=h.interCabin,_=e===l.Og.DOMESTIC?"first"===t?v.cabin:y.cabin:x.cabin,N=v.date,T=v.cityCode,w=v.cityName,b=v.airportCode,C=y.date,j=y.cityCode,S=y.cityName,k=y.airportCode;if(T!==j||"ONE_WAY"===g)if((0,r.dayjs)(N).isBefore((0,r.dayjs)(),"day"))(0,u.w)({content:"\u51fa\u53d1\u65e5\u671f\u65e9\u4e8e\u4eca\u5929\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"});else{if("ROUND_TRIP"!==g||!(0,r.dayjs)(N).isAfter(C)){var I=d({cabin:["BUSINESS,FIRST","BUSINESS\u3001FIRST"].includes(_)?[2,3]:[],dport:b?[b]:[],aport:k?[k]:[]}),E={tripType:g,ddate:(0,r.dayjs)(N).format("YYYY-MM-DD"),adate:"ONE_WAY"===g?"":(0,r.dayjs)(C).format("YYYY-MM-DD"),dfilter:I,from:p};if("DOMESTIC"===e)return(0,c.Z)((0,c.Z)({},E),{},{dcity:T,dcityName:w,acity:j,acityName:S});var P=n||{},L=P.ADULT,V=P.CHILD,O=P.INFANT;return(0,c.Z)((0,c.Z)({},E),{},{dcode:T,acode:j,seat:f.Mk[_],adult:L,child:V,baby:O})}(0,u.w)({content:"\u53bb\u7a0b\u65e5\u671f\u665a\u4e8e\u8fd4\u7a0b\u65e5\u671f\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"})}else(0,u.w)({content:"\u51fa\u53d1\u57ce\u5e02\u548c\u5230\u8fbe\u57ce\u5e02\u76f8\u540c\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"})}n(321),n(75552);var p=n(37170),h=n(49956),g=function(){var e=(0,h.Q)({segno:0,polid:"",prdid:""}),t=(0,p.F7)("interListSearch",{force:!0});return(0,i.useCallback)((function(){t(e)}),[t,e])},v=n(73255),y=function(){var e=(0,v.$p)(),t=g();return(0,i.useCallback)((function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=m(n,"first",i,c);s&&("DOMESTIC"===n?(e(),(0,o.jq)("c_flt_tinyapp_home_search_domc",s),a.gY.jump({type:r,params:c.departure?s:{}})):((0,o.jq)("c_flt_tinyapp_home_search_inter",s),t(),a.MQ.jump({params:s,type:r})))}),[e,t])}},59153:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(298),i=n(68277),o=n(57042),a=n(24460),c=n(81876),s=n(21867),l=n(86066),u=n(45023),d=(n(91425),n(65542)),f=n(32180)["document"],m=["ubtKeyName","speed"],p=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,u.Z)((0,c.Z)(e),"pageId","ignore_page_pv"),(0,u.Z)((0,c.Z)(e),"autoExpose",!0),(0,u.Z)((0,c.Z)(e),"pathname",""),(0,u.Z)((0,c.Z)(e),"isForceShowAuthorization",!1),(0,u.Z)((0,c.Z)(e),"isPIPGPage",!0),e}return(0,a.Z)(n,[{key:"getDOMProps",value:function(e){var t,n=null===(t=f)||void 0===t||null===(t=t.getElementById(e))||void 0===t?void 0:t.props;if(n&&("undefined"!==typeof n["data-expose"]||"undefined"!==typeof n.expose)){var o="undefined"!==typeof n["data-expose"]?n["data-expose"]:n.expose,a=o.ubtKeyName,c=o.speed,s=(0,i.Z)(o,m),l=(0,r.Z)((0,r.Z)({},n),{},{"data-expose":{ubtKeyName:a||"_flight_tinyapp_exposure",data:(0,r.Z)((0,r.Z)({},s.data||s),{},{speed:c})}});return l}return n}}]),n}(d.Z)},91425:function(e,t,n){var r=n(32180)["window"],i=n(32180)["navigator"],o=n(32180)["document"],a=(n(32180)["requestAnimationFrame"],n(66371)["default"]);!function(){var t={410:function(e,t,n){var i,o=n(896).default;!function(){"use strict";var a={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=o(n);if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var i=c.apply(null,n);i&&e.push(i)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):"object"===o(n.amdO)&&n.amdO?void 0===(i=function(){return c}.apply(t,[]))||(e.exports=i):r.classNames=c}()},999:function(e,t,n){var r,i,o,a=n(896).default;o=function(){"use strict";var e=6e4,t=36e5,n="millisecond",r="second",i="minute",o="hour",c="day",s="week",l="month",u="quarter",d="year",f="date",m="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),o=n-i<0,a=t.clone().add(r+(o?-1:1),l);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:s,d:c,D:f,h:o,m:i,s:r,ms:n,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},x="en",_={};_[x]=g;var N="$isDayjsObject",T=function(e){return e instanceof j||!(!e||!e[N])},w=function e(t,n,r){var i;if(!t)return x;if("string"==typeof t){var o=t.toLowerCase();_[o]&&(i=o),n&&(_[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var c=t.name;_[c]=t,i=c}return!r&&i&&(x=i),i||!r&&x},b=function(e,t){if(T(e))return e.clone();var n="object"==a(t)?t:{};return n.date=e,n.args=arguments,new j(n)},C=y;C.l=w,C.i=T,C.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var j=function(){function a(e){this.$L=w(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[N]=!0}var g=a.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return C},g.isValid=function(){return!(this.$d.toString()===m)},g.isSame=function(e,t){var n=b(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return b(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<b(e)},g.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,a=!!C.u(t)||t,u=C.p(e),m=function(e,t){var r=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return a?r:r.endOf(c)},p=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return a?m(1,0):m(31,11);case l:return a?m(1,g):m(0,g+1);case s:var x=this.$locale().weekStart||0,_=(h<x?h+7:h)-x;return m(a?v-_:v+(6-_),g);case c:case f:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var a,s=C.p(e),u="set"+(this.$u?"UTC":""),m=(a={},a[c]=u+"Date",a[f]=u+"Date",a[l]=u+"Month",a[d]=u+"FullYear",a[o]=u+"Hours",a[i]=u+"Minutes",a[r]=u+"Seconds",a[n]=u+"Milliseconds",a)[s],p=s===c?this.$D+(t-this.$W):t;if(s===l||s===d){var h=this.clone().set(f,1);h.$d[m](p),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[C.p(e)]()},g.add=function(n,a){var u,f=this;n=Number(n);var m=C.p(a),p=function(e){var t=b(f);return C.w(t.date(t.date()+Math.round(e*n)),f)};if(m===l)return this.set(l,this.$M+n);if(m===d)return this.set(d,this.$y+n);if(m===c)return p(1);if(m===s)return p(7);var h=(u={},u[i]=e,u[o]=t,u[r]=1e3,u)[m]||1,g=this.$d.getTime()+n*h;return C.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||m;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),o=this.$H,a=this.$m,c=this.$M,s=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},f=function(e){return C.s(o%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(h,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return c+1;case"MM":return C.s(c+1,2,"0");case"MMM":return d(n.monthsShort,c,l,3);case"MMMM":return d(l,c);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,s,2);case"ddd":return d(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(o);case"HH":return C.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(o,a,!0);case"A":return p(o,a,!1);case"m":return String(a);case"mm":return C.s(a,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,a,f){var m,p=this,h=C.p(a),g=b(n),v=(g.utcOffset()-this.utcOffset())*e,y=this-g,x=function(){return C.m(p,g)};switch(h){case d:m=x()/12;break;case l:m=x();break;case u:m=x()/3;break;case s:m=(y-v)/6048e5;break;case c:m=(y-v)/864e5;break;case o:m=y/t;break;case i:m=y/e;break;case r:m=y/1e3;break;default:m=y}return f?m:C.a(m)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return _[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return C.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},a}(),S=j.prototype;return b.prototype=S,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",c],["$M",l],["$y",d],["$D",f]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),b.extend=function(e,t){return e.$i||(e(t,j,b),e.$i=!0),b},b.locale=w,b.isDayjs=T,b.unix=function(e){return b(1e3*e)},b.en=_[x],b.Ls=_,b.p={},b},"object"==a(t)?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},251:function(e,t,n){var r,i,o,a,c=n(896).default;a=function(e){"use strict";var t=function(e){return e&&"object"==c(e)&&"default"in e?e:{default:e}}(e),n={name:"zh-cn",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e,t){return"W"===t?e+"\u5468":e+"\u65e5"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(e,t){var n=100*e+t;return n<600?"\u51cc\u6668":n<900?"\u65e9\u4e0a":n<1100?"\u4e0a\u5348":n<1300?"\u4e2d\u5348":n<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return t.default.locale(n,null,!0),n},"object"==c(t)?e.exports=a(n(999)):(i=[n(999)],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},972:function(e,t,n){var r,i,o;o=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,i){var o=n(e),a=n(t),c="("===(i=i||"()")[0],s=")"===i[1];return(c?this.isAfter(o,r):!this.isBefore(o,r))&&(s?this.isBefore(a,r):!this.isAfter(a,r))||(c?this.isBefore(o,r):!this.isAfter(o,r))&&(s?this.isAfter(a,r):!this.isBefore(a,r))}}},"object"==(0,n(896).default)(t)?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},994:function(e,t,n){var r,i,o;o=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}},"object"==(0,n(896).default)(t)?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},900:function(e){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},283:function(e,t,n){var r=n(896).default,i=n(900),o=/\s+/g,a=n(800),c=n(622);function s(e,t,n){"object"===r(e)?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=l),this._callback=e,this._options=t||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(c):Object.create(a),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?i.Script:"style"===e?i.Style:i.Tag,name:e,attribs:t,children:[]},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)},s.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===i.Text)n?t.data=(t.data+e).replace(o," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===i.Text)n?t.data=(t.data+e).replace(o," "):t.data+=e;else{n&&(e=e.replace(o," "));var r=this._createDomElement({data:e,type:i.Text});this._addDomElement(r)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===i.Comment)t.data+=e;else{var n={data:e,type:i.Comment},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:i.Text}],type:i.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:i.Directive});this._addDomElement(n)},e.exports=s},622:function(e,t,n){var r=n(800),i=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach((function(e){var t=o[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},800:function(e){var t=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return r[this.type]||r.element}},n={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},r={element:1,text:3,cdata:4,comment:8};Object.keys(n).forEach((function(e){var r=n[e];Object.defineProperty(t,e,{get:function(){return this[r]||null},set:function(e){return this[r]=e,e}})}))},962:function(e,t,n){var r=n(790);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"\ufffd";e in r&&(e=r[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)}},878:function(e,t,n){"use strict";var r,i=n(896).default,o="object"===("undefined"==typeof Reflect?"undefined":i(Reflect))?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var c=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(e))}function d(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a,c;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=d(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,c=s,console&&console.warn&&console.warn(c)}return e}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=m.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):v(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+i(e));e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||c(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)a(s,this,t);else{var l=s.length,u=v(s,l);for(n=0;n<l;++n)a(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},650:function(e,t,n){"use strict";var r=n(214),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return r.isMemo(e)?a:c[e.$$typeof]||i}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=m(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var c=s(t),h=s(n),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||r&&r[v]||h&&h[v]||c&&c[v])){var y=f(n,v);try{l(t,v,y)}catch(e){}}}}return t}},342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(114),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c={__proto__:null,math:!0,svg:!0},s={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},l=/\s|\//;function u(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(568)(u,n(878).EventEmitter),u.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},u.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},u.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in a||(this._stack.push(e),e in c?this._foreignContext.push(!0):e in s&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},u.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},u.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in c||e in s)&&this._foreignContext.pop(),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},u.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},u.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},u.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},u.prototype.onattribdata=function(e){this._attribvalue+=e},u.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},u.prototype._getInstructionName=function(e){var t=e.search(l),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},u.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},u.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},u.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},u.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},u.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},u.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},u.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},u.prototype.parseComplete=function(e){this.reset(),this.end(e)},u.prototype.write=function(e){this._tokenizer.write(e)},u.prototype.end=function(e){this._tokenizer.end(e)},u.prototype.pause=function(){this._tokenizer.pause()},u.prototype.resume=function(){this._tokenizer.resume()},u.prototype.parseChunk=u.prototype.write,u.prototype.done=u.prototype.end,t.default=u,e.exports=t.default},114:function(e,t,n){"use strict";var r=n(962),i={},o=n(269),a=n(893),c=0,s=c++,l=c++,u=c++,d=c++,f=c++,m=c++,p=c++,h=c++,g=c++,v=c++,y=c++,x=c++,_=c++,N=c++,T=c++,w=c++,b=c++,C=c++,j=c++,S=c++,k=c++,I=c++,E=c++,P=c++,L=c++,V=c++,O=c++,A=c++,R=c++,D=c++,Z=c++,F=c++,M=c++,B=c++,U=c++,q=c++,Y=c++,H=c++,G=c++,W=c++,z=c++,K=c++,Q=c++,J=c++,X=c++,$=c++,ee=c++,te=c++,ne=c++,re=c++,ie=c++,oe=c++,ae=c++,ce=c++,se=c++,le=0,ue=le++,de=le++,fe=le++;function me(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function pe(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function he(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=u,this._index--)}}function ge(e,t){this._state=s,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=s,this._special=ue,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ge.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=l,this._sectionStart=this._index):this._decodeEntities&&this._special===ue&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=s,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateBeforeTagName=function(e){"/"===e?this._state=f:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==ue||me(e)?this._state=s:"!"===e?(this._state=T,this._sectionStart=this._index+1):"?"===e?(this._state=b,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?u:Z,this._sectionStart=this._index)},ge.prototype._stateInTagName=function(e){("/"===e||">"===e||me(e))&&(this._emitToken("onopentagname"),this._state=h,this._index--)},ge.prototype._stateBeforeCloseingTagName=function(e){me(e)||(">"===e?this._state=s:this._special!==ue?"s"===e||"S"===e?this._state=F:(this._state=s,this._index--):(this._state=m,this._sectionStart=this._index))},ge.prototype._stateInCloseingTagName=function(e){(">"===e||me(e))&&(this._emitToken("onclosetag"),this._state=p,this._index--)},ge.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=s,this._sectionStart=this._index+1)},ge.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=s,this._sectionStart=this._index+1):"/"===e?this._state=d:me(e)||(this._state=g,this._sectionStart=this._index)},ge.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=s,this._sectionStart=this._index+1):me(e)||(this._state=h,this._index--)},ge.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||me(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=v,this._index--)},ge.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=h,this._index--):me(e)||(this._cbs.onattribend(),this._state=g,this._sectionStart=this._index)},ge.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=x,this._sectionStart=this._index+1):"'"===e?(this._state=_,this._sectionStart=this._index+1):me(e)||(this._state=N,this._sectionStart=this._index,this._index--)},ge.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=h):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=h):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueNoQuotes=function(e){me(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=h,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateBeforeDeclaration=function(e){this._state="["===e?I:"-"===e?C:w},ge.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=s,this._sectionStart=this._index+1)},ge.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=s,this._sectionStart=this._index+1)},ge.prototype._stateBeforeComment=function(e){"-"===e?(this._state=j,this._sectionStart=this._index+1):this._state=w},ge.prototype._stateInComment=function(e){"-"===e&&(this._state=S)},ge.prototype._stateAfterComment1=function(e){this._state="-"===e?k:j},ge.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=s,this._sectionStart=this._index+1):"-"!==e&&(this._state=j)},ge.prototype._stateBeforeCdata1=pe("C",E,w),ge.prototype._stateBeforeCdata2=pe("D",P,w),ge.prototype._stateBeforeCdata3=pe("A",L,w),ge.prototype._stateBeforeCdata4=pe("T",V,w),ge.prototype._stateBeforeCdata5=pe("A",O,w),ge.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=A,this._sectionStart=this._index+1):(this._state=w,this._index--)},ge.prototype._stateInCdata=function(e){"]"===e&&(this._state=R)},ge.prototype._stateAfterCdata1=function(e){this._state="]"===e?D:A},ge.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=s,this._sectionStart=this._index+1):"]"!==e&&(this._state=A)},ge.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=M:"t"===e||"T"===e?this._state=Q:(this._state=u,this._index--)},ge.prototype._stateBeforeSpecialEnd=function(e){this._special!==de||"c"!==e&&"C"!==e?this._special!==fe||"t"!==e&&"T"!==e?this._state=s:this._state=ee:this._state=H},ge.prototype._stateBeforeScript1=he("R",B),ge.prototype._stateBeforeScript2=he("I",U),ge.prototype._stateBeforeScript3=he("P",q),ge.prototype._stateBeforeScript4=he("T",Y),ge.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||me(e))&&(this._special=de),this._state=u,this._index--},ge.prototype._stateAfterScript1=pe("R",G,s),ge.prototype._stateAfterScript2=pe("I",W,s),ge.prototype._stateAfterScript3=pe("P",z,s),ge.prototype._stateAfterScript4=pe("T",K,s),ge.prototype._stateAfterScript5=function(e){">"===e||me(e)?(this._special=ue,this._state=m,this._sectionStart=this._index-6,this._index--):this._state=s},ge.prototype._stateBeforeStyle1=he("Y",J),ge.prototype._stateBeforeStyle2=he("L",X),ge.prototype._stateBeforeStyle3=he("E",$),ge.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||me(e))&&(this._special=fe),this._state=u,this._index--},ge.prototype._stateAfterStyle1=pe("Y",te,s),ge.prototype._stateAfterStyle2=pe("L",ne,s),ge.prototype._stateAfterStyle3=pe("E",re,s),ge.prototype._stateAfterStyle4=function(e){">"===e||me(e)?(this._special=ue,this._state=m,this._sectionStart=this._index-5,this._index--):this._state=s},ge.prototype._stateBeforeEntity=pe("#",oe,ae),ge.prototype._stateBeforeNumericEntity=pe("X",se,ce),ge.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:i;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ge.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=t+1);t--}},ge.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==s?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ge.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var i=this._buffer.substring(n,this._index),o=parseInt(i,t);this._emitPartial(r(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ge.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ge.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ge.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===s?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ge.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ge.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===s?this._stateText(e):this._state===l?this._stateBeforeTagName(e):this._state===u?this._stateInTagName(e):this._state===f?this._stateBeforeCloseingTagName(e):this._state===m?this._stateInCloseingTagName(e):this._state===p?this._stateAfterCloseingTagName(e):this._state===d?this._stateInSelfClosingTag(e):this._state===h?this._stateBeforeAttributeName(e):this._state===g?this._stateInAttributeName(e):this._state===v?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===x?this._stateInAttributeValueDoubleQuotes(e):this._state===_?this._stateInAttributeValueSingleQuotes(e):this._state===N?this._stateInAttributeValueNoQuotes(e):this._state===T?this._stateBeforeDeclaration(e):this._state===w?this._stateInDeclaration(e):this._state===b?this._stateInProcessingInstruction(e):this._state===C?this._stateBeforeComment(e):this._state===j?this._stateInComment(e):this._state===S?this._stateAfterComment1(e):this._state===k?this._stateAfterComment2(e):this._state===I?this._stateBeforeCdata1(e):this._state===E?this._stateBeforeCdata2(e):this._state===P?this._stateBeforeCdata3(e):this._state===L?this._stateBeforeCdata4(e):this._state===V?this._stateBeforeCdata5(e):this._state===O?this._stateBeforeCdata6(e):this._state===A?this._stateInCdata(e):this._state===R?this._stateAfterCdata1(e):this._state===D?this._stateAfterCdata2(e):this._state===Z?this._stateBeforeSpecial(e):this._state===F?this._stateBeforeSpecialEnd(e):this._state===M?this._stateBeforeScript1(e):this._state===B?this._stateBeforeScript2(e):this._state===U?this._stateBeforeScript3(e):this._state===q?this._stateBeforeScript4(e):this._state===Y?this._stateBeforeScript5(e):this._state===H?this._stateAfterScript1(e):this._state===G?this._stateAfterScript2(e):this._state===W?this._stateAfterScript3(e):this._state===z?this._stateAfterScript4(e):this._state===K?this._stateAfterScript5(e):this._state===Q?this._stateBeforeStyle1(e):this._state===J?this._stateBeforeStyle2(e):this._state===X?this._stateBeforeStyle3(e):this._state===$?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===oe?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===ce?this._stateInNumericEntity(e):this._state===se?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ge.prototype.pause=function(){this._running=!1},ge.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ge.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ge.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ge.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===A||this._state===R||this._state===D?this._cbs.oncdata(e):this._state===j||this._state===S||this._state===k?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==ce||this._xmlMode?this._state!==se||this._xmlMode?this._state!==u&&this._state!==h&&this._state!==y&&this._state!==v&&this._state!==g&&this._state!==_&&this._state!==x&&this._state!==N&&this._state!==m&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ge.prototype.reset=function(){ge.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ge.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ge.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ge.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ge.prototype._emitPartial=function(e){this._baseState!==s?this._cbs.onattribdata(e):this._cbs.ontext(e)},e.exports=ge},509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new r.default((function(e,n){e&&(console.error(e),t(e));try{t(null,c(n))}catch(e){console.error(e),t(e)}}),{}),o=new i.default(n,{xmlMode:!1});o.write(e),o.done()};var r=o(n(283)),i=o(n(342));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(-1===["tag","text"].indexOf(e.type))throw new Error("not supported name "+e.name+" of type "+e.type);return"text"===e.type?{type:e.type,text:e.data}:{name:e.name,children:c(e.children),attrs:e.attribs}}function c(e){return e.map(a)}e.exports=t.default},568:function(e){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},865:function(e,t,n){"use strict";var r=n(896).default,i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,c=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.async_mode"):60111,m=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,x=i?Symbol.for("react.block"):60121,_=i?Symbol.for("react.fundamental"):60117,N=i?Symbol.for("react.responder"):60118,T=i?Symbol.for("react.scope"):60119;function w(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case m:case c:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case d:case p:case y:case v:case u:return e;default:return t}}case a:return t}}}function b(e){return w(e)===m}t.AsyncMode=f,t.ConcurrentMode=m,t.ContextConsumer=d,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=c,t.Lazy=y,t.Memo=v,t.Portal=a,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return b(e)||w(e)===f},t.isConcurrentMode=b,t.isContextConsumer=function(e){return w(e)===d},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===c},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===c||e===m||e===l||e===s||e===h||e===g||"object"===r(e)&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===d||e.$$typeof===p||e.$$typeof===_||e.$$typeof===N||e.$$typeof===T||e.$$typeof===x)},t.typeOf=w},214:function(e,t,n){"use strict";e.exports=n(865)},296:function(e,t,n){"use strict";var r=n(896).default,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy");Symbol.for("react.offscreen"),Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return function(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case s:case c:case m:case p:return e;default:switch(e=e&&e.$$typeof){case d:case u:case f:case g:case h:case l:return e;default:return t}}case o:return t}}}(e)===u}},913:function(e,t,n){"use strict";e.exports=n(296)},390:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(617))&&r.__esModule?r:{default:r}},617:function(e,t,n){"use strict";var r=n(896).default;function i(e){return i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},i(e)}function o(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"==typeof self?"undefined":i(self))||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(e){return!1}return!0}(t)?self[t]:a};var a={getItem:o,setItem:o,removeItem:o}},647:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(390))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},691:function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(482),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},482:function(e,t,n){e=n.nmd(e);var r=n(896).default;!function(t){"use strict";var n,i=Object.prototype,o=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",u="object"===r(e),d=t.regeneratorRuntime;if(d)u&&(e.exports=d);else{(d=t.regeneratorRuntime=u?e.exports:{}).wrap=N;var f="suspendedStart",m="suspendedYield",p="executing",h="completed",g={},v={};v[c]=function(){return this};var y=Object.getPrototypeOf,x=y&&y(y(L([])));x&&x!==i&&o.call(x,c)&&(v=x);var _=C.prototype=w.prototype=Object.create(v);b.prototype=_.constructor=C,C.constructor=b,C[l]=b.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(_),e},d.awrap=function(e){return{__await:e}},j(S.prototype),S.prototype[s]=function(){return this},d.AsyncIterator=S,d.async=function(e,t,n,r){var i=new S(N(e,t,n,r));return d.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(_),_[l]="Generator",_[c]=function(){return this},_.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},d.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return c.type="throw",c.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function N(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return V()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=T(e,t,n);if("normal"===s.type){if(r=n.done?h:m,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function T(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function b(){}function C(){}function j(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){function t(n,i,a,c){var s=T(e[n],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"===r(u)&&o.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,a,c)}),(function(e){t("throw",e,a,c)})):Promise.resolve(u).then((function(e){l.value=e,a(l)}),c)}c(s.arg)}var n;this._invoke=function(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}}function k(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,k(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=T(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,g;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function L(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:V}}function V(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},571:function(e,t,n){"use strict";var i=n(689),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useState,c=i.useEffect,s=i.useLayoutEffect,l=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var d="undefined"==typeof r||void 0===r.document||void 0===r.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&o({inst:i})}),[e,n,t]),c((function(){return u(i)&&o({inst:i}),e((function(){u(i)&&o({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:d},419:function(e,t,n){"use strict";var r=n(689),i=n(256),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,c=r.useRef,s=r.useEffect,l=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=c(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return c=t}return c=e}if(t=c,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,c=n)}var a,c,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var m=a(e,d[0],d[1]);return s((function(){f.hasValue=!0,f.value=m}),[m]),u(m),m}},256:function(e,t,n){"use strict";e.exports=n(571)},848:function(e,t,n){"use strict";e.exports=n(419)},689:function(e){"use strict";e.exports=n(90201)},896:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},790:function(e){"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},269:function(e){"use strict";e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},893:function(e){"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}},c={};function s(e){var n=c[e];if(void 0!==n)return n.exports;var r=c[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.amdO={},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==("undefined"===typeof globalThis?"undefined":a(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"===typeof r?"undefined":a(r)))return r}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var l={};!function(){"use strict";s.r(l),s.d(l,{BackTop:function(){return eg},CityPicker:function(){return Og},DatePicker:function(){return Xg},FlightHotelApi:function(){return iv},IFHType:function(){return rv},IndexList:function(){return $h},MiniInput:function(){return og},MiniRichText:function(){return lg},MiniVirtualList:function(){return nv},OneTripDatePicker:function(){return Qg},PersistGate:function(){return Um},Popup:function(){return Mh},Provider:function(){return du},R:function(){return e},ReactReduxContext:function(){return Pl},ScrollViewWrap:function(){return rg},Switch:function(){return Bh},classnames:function(){return Am()},combineReducers:function(){return Nl},compose:function(){return Tl},configureStore:function(){return Bd},connect:function(){return uu},createApi:function(){return Lm},createAsyncThunk:function(){return Qd},createReplayPage:function(){return Lh},createSelector:function(){return gf},createSlice:function(){return Yd},dayjs:function(){return c()},debounce:function(){return qh},getToken:function(){return Rh},handleCopyText:function(){return Qh},handleHighlight:function(){return Kh},handleHighlightByRegex:function(){return zh},hoistNonReactStatics:function(){return Hl()},htmlParse:function(){return Wh},imgUrlText:function(){return Jh},initCoffeebeanTaro:function(){return Vh},isPlainObject:function(){return Dd},parse:function(){return cg()},persistReducer:function(){return lp},persistStore:function(){return gp},showToast:function(){return Gh},storage:function(){return Vm.Z},throttle:function(){return Yh},trackFn:function(){return Oh},trackPage:function(){return Dh},useDispatch:function(){return gu},useSelector:function(){return Dl},wrapCWXStorage:function(){return Kp},wrapLogin:function(){return Zh},wrapOpt:function(){return Ah},wrapRunOnlyUser:function(){return Fh}});var e={};s.r(e),s.d(e,{F:function(){return p},T:function(){return h},__:function(){return g},add:function(){return T},addIndex:function(){return I},adjust:function(){return L},all:function(){return B},allPass:function(){return Ce},always:function(){return je},and:function(){return ke},andThen:function(){return as},any:function(){return Le},anyPass:function(){return Oe},ap:function(){return Re},aperture:function(){return Me},append:function(){return Be},apply:function(){return qe},applySpec:function(){return ze},applyTo:function(){return Qe},ascend:function(){return Xe},assoc:function(){return it},assocPath:function(){return nt},binary:function(){return st},bind:function(){return J},both:function(){return ht},call:function(){return vt},chain:function(){return Nt},clamp:function(){return wt},clone:function(){return St},collectBy:function(){return It},comparator:function(){return Pt},complement:function(){return Ot},compose:function(){return Bt},composeWith:function(){return Wt},concat:function(){return yn},cond:function(){return _n},construct:function(){return Cn},constructN:function(){return bn},converge:function(){return Sn},count:function(){return In},countBy:function(){return Ln},curry:function(){return Tn},curryN:function(){return S},dec:function(){return Vn},defaultTo:function(){return An},descend:function(){return Dn},difference:function(){return Bn},differenceWith:function(){return Un},dissoc:function(){return zn},dissocPath:function(){return Gn},divide:function(){return Qn},drop:function(){return er},dropLast:function(){return sr},dropLastWhile:function(){return fr},dropRepeats:function(){return vr},dropRepeatsWith:function(){return gr},dropWhile:function(){return _r},either:function(){return br},empty:function(){return jr},endsWith:function(){return Ir},eqBy:function(){return Pr},eqProps:function(){return Vr},equals:function(){return en},evolve:function(){return Or},filter:function(){return mn},find:function(){return Zr},findIndex:function(){return Ur},findLast:function(){return Gr},findLastIndex:function(){return Qr},flatten:function(){return Jr},flip:function(){return $r},forEach:function(){return ti},forEachObjIndexed:function(){return ri},fromPairs:function(){return ii},groupBy:function(){return oi},groupWith:function(){return ci},gt:function(){return li},gte:function(){return di},has:function(){return pi},hasIn:function(){return gi},hasPath:function(){return fi},head:function(){return Ut},identical:function(){return vi},identity:function(){return Yt},ifElse:function(){return xi},inc:function(){return _i},includes:function(){return Ni},indexBy:function(){return Ti},indexOf:function(){return wi},init:function(){return bi},innerJoin:function(){return ji},insert:function(){return Si},insertAll:function(){return ki},intersection:function(){return Oi},intersperse:function(){return Ai},into:function(){return Bi},invert:function(){return qi},invertObj:function(){return Hi},invoker:function(){return Wi},is:function(){return zi},isEmpty:function(){return Qi},isNil:function(){return tt},join:function(){return Ji},juxt:function(){return $i},keys:function(){return pe},keysIn:function(){return to},last:function(){return hr},lastIndexOf:function(){return no},length:function(){return io},lens:function(){return oo},lensIndex:function(){return lo},lensPath:function(){return ho},lensProp:function(){return vo},lift:function(){return mt},liftN:function(){return dt},lt:function(){return xo},lte:function(){return No},map:function(){return ge},mapAccum:function(){return wo},mapAccumRight:function(){return Co},mapObjIndexed:function(){return So},match:function(){return ko},mathMod:function(){return Eo},max:function(){return q},maxBy:function(){return Lo},mean:function(){return Oo},median:function(){return Ro},memoizeWith:function(){return Zo},mergeAll:function(){return Fo},mergeDeepLeft:function(){return Yo},mergeDeepRight:function(){return Ho},mergeDeepWith:function(){return Wo},mergeDeepWithKey:function(){return qo},mergeLeft:function(){return Ko},mergeRight:function(){return Jo},mergeWith:function(){return $o},mergeWithKey:function(){return Bo},min:function(){return ta},minBy:function(){return ra},modify:function(){return ca},modifyPath:function(){return oa},modulo:function(){return la},move:function(){return ua},multiply:function(){return fa},nAry:function(){return at},negate:function(){return ha},none:function(){return va},not:function(){return Vt},nth:function(){return ye},nthArg:function(){return xa},o:function(){return Na},objOf:function(){return Di},of:function(){return wa},omit:function(){return Ca},on:function(){return Sa},once:function(){return Ia},or:function(){return Tr},otherwise:function(){return La},over:function(){return Aa},pair:function(){return Ra},partial:function(){return Za},partialObject:function(){return ma},partialRight:function(){return Fa},partition:function(){return Ma},path:function(){return mo},pathEq:function(){return Ba},pathOr:function(){return qa},pathSatisfies:function(){return Ya},paths:function(){return fo},pick:function(){return Ha},pickAll:function(){return Ga},pickBy:function(){return za},pipe:function(){return Ft},pipeWith:function(){return Gt},pluck:function(){return Te},prepend:function(){return Ka},product:function(){return Qa},project:function(){return $a},promap:function(){return rc},prop:function(){return _e},propEq:function(){return ic},propIs:function(){return oc},propOr:function(){return cc},propSatisfies:function(){return sc},props:function(){return uc},range:function(){return fc},reduce:function(){return we},reduceBy:function(){return Pn},reduceRight:function(){return pc},reduceWhile:function(){return gc},reduced:function(){return vc},reject:function(){return pn},remove:function(){return Yn},repeat:function(){return Nc},replace:function(){return Tc},reverse:function(){return Mt},scan:function(){return bc},sequence:function(){return jc},set:function(){return kc},slice:function(){return Dt},sort:function(){return Ec},sortBy:function(){return Lc},sortWith:function(){return Oc},split:function(){return Ac},splitAt:function(){return Rc},splitEvery:function(){return Zc},splitWhen:function(){return Fc},splitWhenever:function(){return Bc},startsWith:function(){return Uc},subtract:function(){return Yc},sum:function(){return Vo},symmetricDifference:function(){return Hc},symmetricDifferenceWith:function(){return Gc},tail:function(){return Zt},take:function(){return ir},takeLast:function(){return kr},takeLastWhile:function(){return zc},takeWhile:function(){return Xc},tap:function(){return ns},test:function(){return is},thunkify:function(){return dl},times:function(){return xc},toLower:function(){return cs},toPairs:function(){return ls},toPairsIn:function(){return ds},toString:function(){return gn},toUpper:function(){return fs},transduce:function(){return ps},transpose:function(){return gs},traverse:function(){return ys},trim:function(){return _s},tryCatch:function(){return Ts},type:function(){return Ct},unapply:function(){return bs},unary:function(){return js},uncurryN:function(){return ks},unfold:function(){return Es},union:function(){return Ps},unionWith:function(){return Os},uniq:function(){return Vi},uniqBy:function(){return Li},uniqWith:function(){return Vs},unless:function(){return Rs},unnest:function(){return Ds},until:function(){return Fs},unwind:function(){return Ms},update:function(){return co},useWith:function(){return Xa},values:function(){return He},valuesIn:function(){return Us},view:function(){return Hs},when:function(){return Ws},where:function(){return Ks},whereAny:function(){return Js},whereEq:function(){return Xs},without:function(){return $s},xor:function(){return tl},xprod:function(){return rl},zip:function(){return ol},zipObj:function(){return cl},zipWith:function(){return ll}});var t=s(999),c=s.n(t),u=(s(251),s(972)),d=s.n(u),f=s(994),m=s.n(f),p=function(){return!1},h=function(){return!0},g={"@@functional/placeholder":!0};function v(e){return v="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},v(e)}function y(e){return null!=e&&"object"===v(e)&&!0===e["@@functional/placeholder"]}function x(e){return function t(n){return 0===arguments.length||y(n)?t:e.apply(this,arguments)}}function _(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return y(n)?t:x((function(t){return e(n,t)}));default:return y(n)&&y(r)?t:y(n)?x((function(t){return e(t,r)})):y(r)?x((function(t){return e(n,t)})):e(n,r)}}}var N=_((function(e,t){return Number(e)+Number(t)})),T=N;function w(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<i;)o[o.length]=t[n],n+=1;return o}function b(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,c){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,c,s){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,c,s,l){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,c,s,l,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function C(e,t,n){return function(){for(var r=[],i=0,o=e,a=0;a<t.length||i<arguments.length;){var c;a<t.length&&(!y(t[a])||i>=arguments.length)?c=t[a]:(c=arguments[i],i+=1),r[a]=c,y(c)||(o-=1),a+=1}return o<=0?n.apply(this,r):b(o,C(e,r,n))}}var j=_((function(e,t){return 1===e?x(t):b(e,C(e,[],t))})),S=j,k=x((function(e){return S(e.length,(function(){var t=0,n=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var e=n.apply(this,w(arguments,[t,r]));return t+=1,e},e.apply(this,i)}))})),I=k;function E(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return y(n)?t:_((function(t,r){return e(n,t,r)}));case 2:return y(n)&&y(r)?t:y(n)?_((function(t,n){return e(t,r,n)})):y(r)?_((function(t,r){return e(n,t,r)})):x((function(t){return e(n,r,t)}));default:return y(n)&&y(r)&&y(i)?t:y(n)&&y(r)?_((function(t,n){return e(t,n,i)})):y(n)&&y(i)?_((function(t,n){return e(t,r,n)})):y(r)&&y(i)?_((function(t,r){return e(n,t,r)})):y(n)?x((function(t){return e(t,r,i)})):y(r)?x((function(t){return e(n,t,i)})):y(i)?x((function(t){return e(n,r,t)})):e(n,r,i)}}}var P=E((function(e,t,n){var r=n.length;if(e>=r||e<-r)return n;var i=(r+e)%r,o=w(n);return o[i]=t(n[i]),o})),L=P,V=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function O(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function A(e,t,n){return function(){if(0===arguments.length)return n();var r=arguments[arguments.length-1];if(!V(r)){for(var i=0;i<e.length;){if("function"==typeof r[e[i]])return r[e[i]].apply(r,Array.prototype.slice.call(arguments,0,-1));i+=1}if(O(r))return t.apply(null,Array.prototype.slice.call(arguments,0,-1))(r)}return n.apply(this,arguments)}}function R(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var D={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}},Z=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=R(this.xf["@@transducer/step"](e,!1))),e},e}(),F=_((function(e,t){return new Z(e,t)})),M=_(A(["all"],F,(function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0}))),B=M,U=_((function(e,t){return t>e?t:e})),q=U;function Y(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}function H(e){return"[object String]"===Object.prototype.toString.call(e)}var G=x((function(e){return!!V(e)||!!e&&"object"===v(e)&&!H(e)&&(0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))})),W=G,z=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function K(e){return new z(e)}var Q=_((function(e,t){return b(e.length,(function(){return e.apply(t,arguments)}))})),J=Q;function X(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function $(e,t,n,r){return e["@@transducer/result"](n[r](J(e["@@transducer/step"],e),t))}var ee="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function te(e,t,n){if("function"==typeof e&&(e=K(e)),W(n))return function(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return $(e,t,n,"fantasy-land/reduce");if(null!=n[ee])return X(e,t,n[ee]());if("function"==typeof n.next)return X(e,t,n);if("function"==typeof n.reduce)return $(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var ne=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),re=_((function(e,t){return new ne(e,t)})),ie=re;function oe(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var ae=Object.prototype.toString,ce=function(){return"[object Arguments]"===ae.call(arguments)?function(e){return"[object Arguments]"===ae.call(e)}:function(e){return oe("callee",e)}}(),se=ce,le=!{toString:null}.propertyIsEnumerable("toString"),ue=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],de=function(){return arguments.propertyIsEnumerable("length")}(),fe=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},me="function"!=typeof Object.keys||de?x((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=de&&se(e);for(t in e)!oe(t,e)||i&&"length"===t||(r[r.length]=t);if(le)for(n=ue.length-1;n>=0;)oe(t=ue[n],e)&&!fe(r,t)&&(r[r.length]=t),n-=1;return r})):x((function(e){return Object(e)!==e?[]:Object.keys(e)})),pe=me,he=_(A(["fantasy-land/map","map"],ie,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return S(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return te((function(n,r){return n[r]=e(t[r]),n}),{},pe(t));default:return Y(e,t)}}))),ge=he,ve=Number.isInteger||function(e){return e<<0===e},ye=_((function(e,t){var n=e<0?t.length+e:e;return H(t)?t.charAt(n):t[n]})),xe=_((function(e,t){if(null!=t)return ve(e)?ye(e,t):t[e]})),_e=xe,Ne=_((function(e,t){return ge(_e(e),t)})),Te=Ne,we=E(te),be=x((function(e){return S(we(q,0,Te("length",e)),(function(){for(var t=0,n=e.length;t<n;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0}))})),Ce=be,je=x((function(e){return function(){return e}})),Se=_((function(e,t){return e&&t})),ke=Se,Ie=function(){function e(e,t){this.xf=t,this.f=e,this.any=!1}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=R(this.xf["@@transducer/step"](e,!0))),e},e}(),Ee=_((function(e,t){return new Ie(e,t)})),Pe=_(A(["any"],Ee,(function(e,t){for(var n=0;n<t.length;){if(e(t[n]))return!0;n+=1}return!1}))),Le=Pe,Ve=x((function(e){return S(we(q,0,Te("length",e)),(function(){for(var t=0,n=e.length;t<n;){if(e[t].apply(this,arguments))return!0;t+=1}return!1}))})),Oe=Ve,Ae=_((function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(n){return e(n)(t(n))}:te((function(e,n){return w(e,ge(n,t))}),[],e)})),Re=Ae;function De(e,t){for(var n=0,r=t.length-(e-1),i=new Array(r>=0?r:0);n<r;)i[n]=Array.prototype.slice.call(t,n,n+e),n+=1;return i}var Ze=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return w(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e}(),Fe=_((function(e,t){return new Ze(e,t)})),Me=_(A([],Fe,De)),Be=_((function(e,t){return w(t,[e])})),Ue=_((function(e,t){return e.apply(this,t)})),qe=Ue,Ye=x((function(e){for(var t=pe(e),n=t.length,r=[],i=0;i<n;)r[i]=e[t[i]],i+=1;return r})),He=Ye;function Ge(e,t){return V(t)?t.map(e):pe(t).reduce((function(n,r){return n[r]=e(t[r]),n}),{})}var We=x((function e(t){return t=Ge((function(t){return"function"==typeof t?t:e(t)}),t),S(we(q,0,Te("length",He(t))),(function(){var e=arguments;return Ge((function(t){return qe(t,e)}),t)}))})),ze=We,Ke=_((function(e,t){return t(e)})),Qe=Ke,Je=E((function(e,t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0})),Xe=Je;function $e(e,t,n){if(ve(e)&&V(n)){var r=[].concat(n);return r[e]=t,r}var i={};for(var o in n)i[o]=n[o];return i[e]=t,i}var et=x((function(e){return null==e})),tt=et,nt=E((function e(t,n,r){if(0===t.length)return n;var i=t[0];if(t.length>1){var o=!tt(r)&&oe(i,r)?r[i]:ve(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,o)}return $e(i,n,r)})),rt=E((function(e,t,n){return nt([e],t,n)})),it=rt,ot=_((function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,n){return t.call(this,e,n)};case 3:return function(e,n,r){return t.call(this,e,n,r)};case 4:return function(e,n,r,i){return t.call(this,e,n,r,i)};case 5:return function(e,n,r,i,o){return t.call(this,e,n,r,i,o)};case 6:return function(e,n,r,i,o,a){return t.call(this,e,n,r,i,o,a)};case 7:return function(e,n,r,i,o,a,c){return t.call(this,e,n,r,i,o,a,c)};case 8:return function(e,n,r,i,o,a,c,s){return t.call(this,e,n,r,i,o,a,c,s)};case 9:return function(e,n,r,i,o,a,c,s,l){return t.call(this,e,n,r,i,o,a,c,s,l)};case 10:return function(e,n,r,i,o,a,c,s,l,u){return t.call(this,e,n,r,i,o,a,c,s,l,u)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),at=ot,ct=x((function(e){return at(2,e)})),st=ct;function lt(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t}var ut=_((function(e,t){var n=S(e,t);return S(e,(function(){return te(Re,ge(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),dt=ut,ft=x((function(e){return dt(e.length,e)})),mt=ft,pt=_((function(e,t){return lt(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:mt(ke)(e,t)})),ht=pt,gt=x((function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))})),vt=gt;function yt(e){return function t(n){for(var r,i,o,a=[],c=0,s=n.length;c<s;){if(W(n[c]))for(o=0,i=(r=e?t(n[c]):n[c]).length;o<i;)a[a.length]=r[o],o+=1;else a[a.length]=n[c];c+=1}return a}}var xt=_((function(e,t){return ge(e,function(e){var t=function(e){return{"@@transducer/init":D.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?function(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}(r):r}}}(e);return{"@@transducer/init":D.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){return W(n)?te(t,e,n):te(t,e,[n])}}}(t))})),_t=_(A(["fantasy-land/chain","chain"],xt,(function(e,t){return"function"==typeof t?function(n){return e(t(n))(n)}:yt(!1)(ge(e,t))}))),Nt=_t,Tt=E((function(e,t,n){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<e?e:n>t?t:n})),wt=Tt;function bt(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}var Ct=x((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function jt(e,t,n,r){var i=function(i){for(var o=t.length,a=0;a<o;){if(e===t[a])return n[a];a+=1}for(var c in t[a]=e,n[a]=i,e)e.hasOwnProperty(c)&&(i[c]=r?jt(e[c],t,n,!0):e[c]);return i};switch(Ct(e)){case"Object":return i(Object.create(Object.getPrototypeOf(e)));case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return bt(e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var St=x((function(e){return null!=e&&"function"==typeof e.clone?e.clone():jt(e,[],[],!0)})),kt=_((function(e,t){var n=te((function(t,n){var r=e(n);return void 0===t[r]&&(t[r]=[]),t[r].push(n),t}),{},t),r=[];for(var i in n)r.push(n[i]);return r})),It=kt,Et=x((function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}})),Pt=Et,Lt=x((function(e){return!e})),Vt=Lt,Ot=mt(Vt);function At(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function Rt(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return V(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var Dt=E(Rt("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),Zt=x(Rt("tail",Dt(1,1/0)));function Ft(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return b(arguments[0].length,we(At,arguments[0],Zt(arguments)))}var Mt=x((function(e){return H(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));function Bt(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Ft.apply(this,Mt(arguments))}var Ut=ye(0);function qt(e){return e}var Yt=x(qt),Ht=_((function(e,t){if(t.length<=0)return Yt;var n=Ut(t),r=Zt(t);return b(n.length,(function(){return te((function(t,n){return e.call(this,n,t)}),n.apply(this,arguments),r)}))})),Gt=Ht,Wt=_((function(e,t){return Gt.apply(this,[e,Mt(t)])}));function zt(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Kt(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}var Qt="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function Jt(e,t,n,r){var i=zt(e);function o(e,t){return Xt(e,t,n.slice(),r.slice())}return!Kt((function(e,t){return!Kt(o,t,e)}),zt(t),i)}function Xt(e,t,n,r){if(Qt(e,t))return!0;var i=Ct(e);if(i!==Ct(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(v(e)!==v(t)||!Qt(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Qt(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size===t.size&&Jt(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&Jt(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=pe(e);if(a.length!==pe(t).length)return!1;var c=n.concat([e]),s=r.concat([t]);for(o=a.length-1;o>=0;){var l=a[o];if(!oe(l,t)||!Xt(t[l],e[l],c,s))return!1;o-=1}return!0}var $t=_((function(e,t){return Xt(e,t,[],[])})),en=$t;function tn(e,t,n){var r,i;if("function"==typeof e.indexOf)switch(v(t)){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(i=e[n])&&1/i===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(i=e[n])&&i!=i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(en(e[n],t))return n;n+=1}return-1}function nn(e,t){return tn(t,e,0)>=0}function rn(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var on=function(e){return(e<10?"0":"")+e},an="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+on(e.getUTCMonth()+1)+"-"+on(e.getUTCDate())+"T"+on(e.getUTCHours())+":"+on(e.getUTCMinutes())+":"+on(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},cn=an;function sn(e){return function(){return!e.apply(this,arguments)}}function ln(e,t){for(var n=0,r=t.length,i=[];n<r;)e(t[n])&&(i[i.length]=t[n]),n+=1;return i}function un(e){return"[object Object]"===Object.prototype.toString.call(e)}var dn=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),fn=_((function(e,t){return new dn(e,t)})),mn=_(A(["fantasy-land/filter","filter"],fn,(function(e,t){return un(t)?te((function(n,r){return e(t[r])&&(n[r]=t[r]),n}),{},pe(t)):ln(e,t)}))),pn=_((function(e,t){return mn(sn(e),t)}));function hn(e,t){var n=function(n){var r=t.concat([e]);return nn(n,r)?"<Circular>":hn(n,r)},r=function(e,t){return Y((function(t){return rn(t)+": "+n(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+Y(n,e).join(", ")+"))";case"[object Array]":return"["+Y(n,e).concat(r(e,pn((function(e){return/^\d+$/.test(e)}),pe(e)))).join(", ")+"]";case"[object Boolean]":return"object"===v(e)?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):rn(cn(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"===v(e)?"new Number("+n(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"===v(e)?"new String("+n(e.valueOf())+")":rn(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var i=e.toString();if("[object Object]"!==i)return i}return"{"+r(e,pe(e)).join(", ")+"}"}}var gn=x((function(e){return hn(e,[])})),vn=_((function(e,t){if(V(e)){if(V(t))return e.concat(t);throw new TypeError(gn(t)+" is not an array")}if(H(e)){if(H(t))return e+t;throw new TypeError(gn(t)+" is not a string")}if(null!=e&&lt(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&lt(e.concat))return e.concat(t);throw new TypeError(gn(e)+' does not have a method named "concat" or "fantasy-land/concat"')})),yn=vn,xn=x((function(e){return b(we(q,0,ge((function(e){return e[0].length}),e)),(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))})),_n=xn,Nn=x((function(e){return S(e.length,e)})),Tn=Nn,wn=_((function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:Tn(at(e,(function(e,n,r,i,o,a,c,s,l,u){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,n);case 3:return new t(e,n,r);case 4:return new t(e,n,r,i);case 5:return new t(e,n,r,i,o);case 6:return new t(e,n,r,i,o,a);case 7:return new t(e,n,r,i,o,a,c);case 8:return new t(e,n,r,i,o,a,c,s);case 9:return new t(e,n,r,i,o,a,c,s,l);case 10:return new t(e,n,r,i,o,a,c,s,l,u)}})))})),bn=wn,Cn=x((function(e){return bn(e.length,e)})),jn=_((function(e,t){return S(we(q,0,Te("length",t)),(function(){var n=arguments,r=this;return e.apply(r,Y((function(e){return e.apply(r,n)}),t))}))})),Sn=jn,kn=Tn((function(e,t){return te((function(t,n){return e(n)?t+1:t}),0,t)})),In=kn,En=function(){function e(e,t,n,r){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=r,this.inputs={}}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(oe(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e},e}(),Pn=C(4,[],A([],C(4,[],(function(e,t,n,r){return new En(e,t,n,r)})),(function(e,t,n,r){return te((function(r,i){var o=n(i),a=e(oe(o,r)?r[o]:jt(t,[],[],!1),i);return a&&a["@@transducer/reduced"]?R(r):(r[o]=a,r)}),{},r)}))),Ln=Pn((function(e,t){return e+1}),0),Vn=T(-1),On=_((function(e,t){return null==t||t!=t?e:t})),An=On,Rn=E((function(e,t,n){var r=e(t),i=e(n);return r>i?-1:r<i?1:0})),Dn=Rn;function Zn(e,t,n){var r,i=v(e);switch(i){case"string":case"number":return 0===e&&1/e==-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?e in n._items[i]||(t&&(n._items[i][e]=!0),!1):(t&&(n._items[i]={},n._items[i][e]=!0),!1);case"boolean":if(i in n._items){var o=e?1:0;return!!n._items[i][o]||(t&&(n._items[i][o]=!0),!1)}return t&&(n._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?!!nn(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1);case"undefined":return!!n._items[i]||(t&&(n._items[i]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in n._items?!!nn(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1)}}var Fn=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!Zn(e,!0,this)},e.prototype.has=function(e){return Zn(e,!1,this)},e}(),Mn=_((function(e,t){for(var n=[],r=0,i=e.length,o=t.length,a=new Fn,c=0;c<o;c+=1)a.add(t[c]);for(;r<i;)a.add(e[r])&&(n[n.length]=e[r]),r+=1;return n})),Bn=Mn,Un=E((function(e,t,n){for(var r=[],i=0,o=t.length;i<o;)Kt(e,t[i],n)||Kt(e,t[i],r)||r.push(t[i]),i+=1;return r})),qn=E((function(e,t,n){var r=Array.prototype.slice.call(n,0);return r.splice(e,t),r})),Yn=qn,Hn=_((function e(t,n){if(null==n)return n;switch(t.length){case 0:return n;case 1:return function(e,t){if(null==t)return t;if(ve(e)&&V(t))return Yn(e,1,t);var n={};for(var r in t)n[r]=t[r];return delete n[e],n}(t[0],n);default:var r=t[0],i=Array.prototype.slice.call(t,1);return null==n[r]?function(e,t){if(ve(e)&&V(t))return[].concat(t);var n={};for(var r in t)n[r]=t[r];return n}(r,n):it(r,e(i,n[r]),n)}})),Gn=Hn,Wn=_((function(e,t){return Gn([e],t)})),zn=Wn,Kn=_((function(e,t){return e/t})),Qn=Kn,Jn=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},e}(),Xn=_((function(e,t){return new Jn(e,t)})),$n=_(A(["drop"],Xn,(function(e,t){return Dt(Math.max(0,e),1/0,t)}))),er=$n,tr=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?R(n):n},e}(),nr=_((function(e,t){return new tr(e,t)})),rr=_(A(["take"],nr,(function(e,t){return Dt(0,e<0?1/0:e,t)}))),ir=rr;function or(e,t){return ir(e<t.length?t.length-e:0,t)}var ar=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}(),cr=_((function(e,t){return new ar(e,t)})),sr=_(A([],cr,or));function lr(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return Dt(0,n+1,t)}var ur=function(){function e(e,t){this.f=e,this.retained=[],this.xf=t}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},e.prototype.flush=function(e,t){return e=te(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},e.prototype.retain=function(e,t){return this.retained.push(t),e},e}(),dr=_((function(e,t){return new ur(e,t)})),fr=_(A([],dr,lr)),mr=function(){function e(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(n=!0):this.seenFirstValue=!0,this.lastValue=t,n?e:this.xf["@@transducer/step"](e,t)},e}(),pr=_((function(e,t){return new mr(e,t)})),hr=ye(-1),gr=_(A([],pr,(function(e,t){var n=[],r=1,i=t.length;if(0!==i)for(n[0]=t[0];r<i;)e(hr(n),t[r])||(n[n.length]=t[r]),r+=1;return n}))),vr=x(A([],pr(en),gr(en))),yr=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},e}(),xr=_((function(e,t){return new yr(e,t)})),_r=_(A(["dropWhile"],xr,(function(e,t){for(var n=0,r=t.length;n<r&&e(t[n]);)n+=1;return Dt(n,1/0,t)}))),Nr=_((function(e,t){return e||t})),Tr=Nr,wr=_((function(e,t){return lt(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:mt(Tr)(e,t)})),br=wr,Cr=x((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():V(e)?[]:H(e)?"":un(e)?{}:se(e)?function(){return arguments}():(t=e,"[object Uint8ClampedArray]"===(n=Object.prototype.toString.call(t))||"[object Int8Array]"===n||"[object Uint8Array]"===n||"[object Int16Array]"===n||"[object Uint16Array]"===n||"[object Int32Array]"===n||"[object Uint32Array]"===n||"[object Float32Array]"===n||"[object Float64Array]"===n||"[object BigInt64Array]"===n||"[object BigUint64Array]"===n?e.constructor.from(""):void 0);var t,n})),jr=Cr,Sr=_((function(e,t){return er(e>=0?t.length-e:0,t)})),kr=Sr,Ir=_((function(e,t){return en(kr(e.length,t),e)})),Er=E((function(e,t,n){return en(e(t),e(n))})),Pr=Er,Lr=E((function(e,t,n){return en(t[e],n[e])})),Vr=Lr,Or=_((function e(t,n){if(!un(n)&&!V(n))return n;var r,i,o,a=n instanceof Array?[]:{};for(i in n)o=v(r=t[i]),a[i]="function"===o?r(n[i]):r&&"object"===o?e(r,n[i]):n[i];return a})),Ar=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=R(this.xf["@@transducer/step"](e,t))),e},e}(),Rr=_((function(e,t){return new Ar(e,t)})),Dr=_(A(["find"],Rr,(function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return t[n];n+=1}}))),Zr=Dr,Fr=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=R(this.xf["@@transducer/step"](e,this.idx))),e},e}(),Mr=_((function(e,t){return new Fr(e,t)})),Br=_(A([],Mr,(function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return n;n+=1}return-1}))),Ur=Br,qr=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},e}(),Yr=_((function(e,t){return new qr(e,t)})),Hr=_(A([],Yr,(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return t[n];n-=1}}))),Gr=Hr,Wr=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},e}(),zr=_((function(e,t){return new Wr(e,t)})),Kr=_(A([],zr,(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return n;n-=1}return-1}))),Qr=Kr,Jr=x(yt(!0)),Xr=x((function(e){return S(e.length,(function(t,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=t,e.apply(this,r)}))})),$r=Xr,ei=_(Rt("forEach",(function(e,t){for(var n=t.length,r=0;r<n;)e(t[r]),r+=1;return t}))),ti=ei,ni=_((function(e,t){for(var n=pe(t),r=0;r<n.length;){var i=n[r];e(t[i],i,t),r+=1}return t})),ri=ni,ii=x((function(e){for(var t={},n=0;n<e.length;)t[e[n][0]]=e[n][1],n+=1;return t})),oi=_(Rt("groupBy",Pn((function(e,t){return e.push(t),e}),[]))),ai=_((function(e,t){for(var n=[],r=0,i=t.length;r<i;){for(var o=r+1;o<i&&e(t[o-1],t[o]);)o+=1;n.push(t.slice(r,o)),r=o}return n})),ci=ai,si=_((function(e,t){return e>t})),li=si,ui=_((function(e,t){return e>=t})),di=ui,fi=_((function(e,t){if(0===e.length||tt(t))return!1;for(var n=t,r=0;r<e.length;){if(tt(n)||!oe(e[r],n))return!1;n=n[e[r]],r+=1}return!0})),mi=_((function(e,t){return fi([e],t)})),pi=mi,hi=_((function(e,t){return!tt(t)&&e in t})),gi=hi,vi=_(Qt),yi=E((function(e,t,n){return S(Math.max(e.length,t.length,n.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}))})),xi=yi,_i=T(1),Ni=_(nn),Ti=Pn((function(e,t){return t}),null),wi=_((function(e,t){return"function"!=typeof t.indexOf||V(t)?tn(t,e,0):t.indexOf(e)})),bi=Dt(0,-1),Ci=E((function(e,t,n){return ln((function(t){return Kt(e,t,n)}),t)})),ji=Ci,Si=E((function(e,t,n){e=e<n.length&&e>=0?e:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(e,0,t),r})),ki=E((function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))})),Ii=function(){function e(e,t){this.xf=t,this.f=e,this.set=new Fn}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){return this.set.add(this.f(t))?this.xf["@@transducer/step"](e,t):e},e}(),Ei=_((function(e,t){return new Ii(e,t)})),Pi=_(A([],Ei,(function(e,t){for(var n,r,i=new Fn,o=[],a=0;a<t.length;)n=e(r=t[a]),i.add(n)&&o.push(r),a+=1;return o}))),Li=Pi,Vi=Li(Yt),Oi=_((function(e,t){var n,r;return e.length>t.length?(n=e,r=t):(n=t,r=e),Vi(ln($r(nn)(n),r))})),Ai=_(Rt("intersperse",(function(e,t){for(var n=[],r=0,i=t.length;r<i;)r===i-1?n.push(t[r]):n.push(t[r],e),r+=1;return n}))),Ri="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)oe(o,i)&&(t[o]=i[o]);n+=1}return t},Di=_((function(e,t){var n={};return n[e]=t,n})),Zi={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":qt},Fi={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":qt},Mi={"@@transducer/init":Object,"@@transducer/step":function(e,t){return Ri(e,W(t)?Di(t[0],t[1]):t)},"@@transducer/result":qt},Bi=E((function(e,t,n){return O(e)?te(t(e),e["@@transducer/init"](),n):te(t(function(e){if(O(e))return e;if(W(e))return Zi;if("string"==typeof e)return Fi;if("object"===v(e))return Mi;throw new Error("Cannot create transformer for "+e)}(e)),jt(e,[],[],!1),n)})),Ui=x((function(e){for(var t=pe(e),n=t.length,r=0,i={};r<n;){var o=t[r],a=e[o],c=oe(a,i)?i[a]:i[a]=[];c[c.length]=o,r+=1}return i})),qi=Ui,Yi=x((function(e){for(var t=pe(e),n=t.length,r=0,i={};r<n;){var o=t[r];i[e[o]]=o,r+=1}return i})),Hi=Yi,Gi=_((function(e,t){return S(e+1,(function(){var n=arguments[e];if(null!=n&&lt(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(gn(n)+' does not have a method named "'+t+'"')}))})),Wi=Gi,zi=_((function(e,t){return t instanceof e||null!=t&&(t.constructor===e||"Object"===e.name&&"object"===v(t))})),Ki=x((function(e){return null!=e&&en(e,jr(e))})),Qi=Ki,Ji=Wi(1,"join"),Xi=x((function(e){return Sn((function(){return Array.prototype.slice.call(arguments,0)}),e)})),$i=Xi,eo=x((function(e){var t,n=[];for(t in e)n[n.length]=t;return n})),to=eo,no=_((function(e,t){if("function"!=typeof t.lastIndexOf||V(t)){for(var n=t.length-1;n>=0;){if(en(t[n],e))return n;n-=1}return-1}return t.lastIndexOf(e)}));function ro(e){return"[object Number]"===Object.prototype.toString.call(e)}var io=x((function(e){return null!=e&&ro(e.length)?e.length:NaN})),oo=_((function(e,t){return function(n){return function(r){return ge((function(e){return t(e,r)}),n(e(r)))}}})),ao=E((function(e,t,n){return L(e,je(t),n)})),co=ao,so=x((function(e){return oo(ye(e),co(e))})),lo=so,uo=_((function(e,t){return e.map((function(e){for(var n,r=t,i=0;i<e.length;){if(null==r)return;n=e[i],r=ve(n)?ye(n,r):r[n],i+=1}return r}))})),fo=uo,mo=_((function(e,t){return fo([e],t)[0]})),po=x((function(e){return oo(mo(e),nt(e))})),ho=po,go=x((function(e){return oo(_e(e),it(e))})),vo=go,yo=_((function(e,t){return e<t})),xo=yo,_o=_((function(e,t){return e<=t})),No=_o,To=E((function(e,t,n){for(var r=0,i=n.length,o=[],a=[t];r<i;)a=e(a[0],n[r]),o[r]=a[1],r+=1;return[a[0],o]})),wo=To,bo=E((function(e,t,n){for(var r=n.length-1,i=[],o=[t];r>=0;)o=e(o[0],n[r]),i[r]=o[1],r-=1;return[o[0],i]})),Co=bo,jo=_((function(e,t){return te((function(n,r){return n[r]=e(t[r],r,t),n}),{},pe(t))})),So=jo,ko=_((function(e,t){return t.match(e)||[]})),Io=_((function(e,t){return ve(e)?!ve(t)||t<1?NaN:(e%t+t)%t:NaN})),Eo=Io,Po=E((function(e,t,n){return e(n)>e(t)?n:t})),Lo=Po,Vo=we(T,0),Oo=x((function(e){return Vo(e)/e.length})),Ao=x((function(e){var t=e.length;if(0===t)return NaN;var n=2-t%2,r=(t-n)/2;return Oo(Array.prototype.slice.call(e,0).sort((function(e,t){return e<t?-1:e>t?1:0})).slice(r,r+n))})),Ro=Ao,Do=_((function(e,t){var n={};return b(t.length,(function(){var r=e.apply(this,arguments);return oe(r,n)||(n[r]=t.apply(this,arguments)),n[r]}))})),Zo=Do,Fo=x((function(e){return Ri.apply(null,[{}].concat(e))})),Mo=E((function(e,t,n){var r,i={};for(r in t)oe(r,t)&&(i[r]=oe(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)oe(r,n)&&!oe(r,i)&&(i[r]=n[r]);return i})),Bo=Mo,Uo=E((function e(t,n,r){return Bo((function(n,r,i){return un(r)&&un(i)?e(t,r,i):t(n,r,i)}),n,r)})),qo=Uo,Yo=_((function(e,t){return qo((function(e,t,n){return t}),e,t)})),Ho=_((function(e,t){return qo((function(e,t,n){return n}),e,t)})),Go=E((function(e,t,n){return qo((function(t,n,r){return e(n,r)}),t,n)})),Wo=Go,zo=_((function(e,t){return Ri({},t,e)})),Ko=zo,Qo=_((function(e,t){return Ri({},e,t)})),Jo=Qo,Xo=E((function(e,t,n){return Bo((function(t,n,r){return e(n,r)}),t,n)})),$o=Xo,ea=_((function(e,t){return t<e?t:e})),ta=ea,na=E((function(e,t,n){return e(n)<e(t)?n:t})),ra=na,ia=E((function e(t,n,r){if(!un(r)&&!V(r)||0===t.length)return r;var i=t[0];if(!oe(i,r))return r;if(1===t.length)return function(e,t,n){if(ve(e)&&V(n)){var r=[].concat(n);return r[e]=t(r[e]),r}var i={};for(var o in n)i[o]=n[o];return i[e]=t(i[e]),i}(i,n,r);var o=e(Array.prototype.slice.call(t,1),n,r[i]);return o===r[i]?r:$e(i,o,r)})),oa=ia,aa=E((function(e,t,n){return oa([e],t,n)})),ca=aa,sa=_((function(e,t){return e%t})),la=sa,ua=E((function(e,t,n){var r=n.length,i=n.slice(),o=e<0?r+e:e,a=t<0?r+t:t,c=i.splice(o,1);return o<0||o>=n.length||a<0||a>=n.length?n:[].concat(i.slice(0,a)).concat(c).concat(i.slice(a,n.length))})),da=_((function(e,t){return e*t})),fa=da,ma=_((function(e,t){return function(n){return e.call(void 0,Ho(t,n))}})),pa=x((function(e){return-e})),ha=pa,ga=_((function(e,t){return B(sn(e),t)})),va=ga,ya=x((function(e){return S(e<0?1:e+1,(function(){return ye(e,arguments)}))})),xa=ya,_a=E((function(e,t,n){return e(t(n))})),Na=_a;function Ta(e){return[e]}var wa=x(Ta),ba=_((function(e,t){for(var n={},r={},i=0,o=e.length;i<o;)r[e[i]]=1,i+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n})),Ca=ba,ja=C(4,[],(function(e,t,n,r){return e(t(n),t(r))})),Sa=ja,ka=x((function(e){var t,n=!1;return b(e.length,(function(){return n?t:(n=!0,t=e.apply(this,arguments))}))})),Ia=ka;function Ea(e,t){if(null==t||!lt(t.then))throw new TypeError("`"+e+"` expected a Promise, received "+hn(t,[]))}var Pa=_((function(e,t){return Ea("otherwise",t),t.then(null,e)})),La=Pa,Va=function e(t){return{value:t,map:function(n){return e(n(t))}}},Oa=E((function(e,t,n){return e((function(e){return Va(t(e))}))(n).value})),Aa=Oa,Ra=_((function(e,t){return[e,t]}));function Da(e){return _((function(t,n){return b(Math.max(0,t.length-n.length),(function(){return t.apply(this,e(n,arguments))}))}))}var Za=Da(w),Fa=Da($r(w)),Ma=$i([mn,pn]),Ba=E((function(e,t,n){return en(mo(e,n),t)})),Ua=E((function(e,t,n){return An(e,mo(t,n))})),qa=Ua,Ya=E((function(e,t,n){return e(mo(t,n))})),Ha=_((function(e,t){for(var n={},r=0;r<e.length;)e[r]in t&&(n[e[r]]=t[e[r]]),r+=1;return n})),Ga=_((function(e,t){for(var n={},r=0,i=e.length;r<i;){var o=e[r];n[o]=t[o],r+=1}return n})),Wa=_((function(e,t){var n={};for(var r in t)e(t[r],r,t)&&(n[r]=t[r]);return n})),za=Wa,Ka=_((function(e,t){return w([e],t)})),Qa=we(fa,1),Ja=_((function(e,t){return S(t.length,(function(){for(var n=[],r=0;r<t.length;)n.push(t[r].call(this,arguments[r])),r+=1;return e.apply(this,n.concat(Array.prototype.slice.call(arguments,t.length)))}))})),Xa=Ja,$a=Xa(Y,[Ga,Yt]);function ec(e,t,n){return function(r){return t(n(e(r)))}}var tc=function(){function e(e,t,n){this.xf=n,this.f=e,this.g=t}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,ec(this.f,this.g,t))},e}(),nc=E((function(e,t,n){return new tc(e,t,n)})),rc=E(A(["fantasy-land/promap","promap"],nc,ec)),ic=E((function(e,t,n){return en(t,_e(e,n))})),oc=E((function(e,t,n){return zi(e,_e(t,n))})),ac=E((function(e,t,n){return An(e,_e(t,n))})),cc=ac,sc=E((function(e,t,n){return e(_e(t,n))})),lc=_((function(e,t){return e.map((function(e){return mo([e],t)}))})),uc=lc,dc=_((function(e,t){if(!ro(e)||!ro(t))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=e;r<t;)n.push(r),r+=1;return n})),fc=dc,mc=E((function(e,t,n){for(var r=n.length-1;r>=0;){if((t=e(n[r],t))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r-=1}return t})),pc=mc,hc=C(4,[],(function(e,t,n,r){return te((function(n,r){return e(n,r)?t(n,r):R(n)}),n,r)})),gc=hc,vc=x(R),yc=_((function(e,t){var n,r=Number(t),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);i<r;)n[i]=e(i),i+=1;return n})),xc=yc,_c=_((function(e,t){return xc(je(e),t)})),Nc=_c,Tc=E((function(e,t,n){return n.replace(e,t)})),wc=E((function(e,t,n){for(var r=0,i=n.length,o=[t];r<i;)t=e(t,n[r]),o[r+1]=t,r+=1;return o})),bc=wc,Cc=_((function(e,t){return"function"==typeof t.sequence?t.sequence(e):pc((function(e,t){return Re(ge(Ka,e),t)}),e([]),t)})),jc=Cc,Sc=E((function(e,t,n){return Aa(e,je(t),n)})),kc=Sc,Ic=_((function(e,t){return Array.prototype.slice.call(t,0).sort(e)})),Ec=Ic,Pc=_((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0}))})),Lc=Pc,Vc=_((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){for(var r=0,i=0;0===r&&i<e.length;)r=e[i](t,n),i+=1;return r}))})),Oc=Vc,Ac=Wi(1,"split"),Rc=_((function(e,t){return[Dt(0,e,t),Dt(e,io(t),t)]})),Dc=_((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<t.length;)n.push(Dt(r,r+=e,t));return n})),Zc=Dc,Fc=_((function(e,t){for(var n=0,r=t.length,i=[];n<r&&!e(t[n]);)i.push(t[n]),n+=1;return[i,Array.prototype.slice.call(t,n)]})),Mc=C(2,[],(function(e,t){for(var n=[],r=[],i=0;i<t.length;i+=1)e(t[i])||r.push(t[i]),(i<t.length-1&&e(t[i+1])||i===t.length-1)&&r.length>0&&(n.push(r),r=[]);return n})),Bc=Mc,Uc=_((function(e,t){return en(ir(e.length,t),e)})),qc=_((function(e,t){return Number(e)-Number(t)})),Yc=qc,Hc=_((function(e,t){return yn(Bn(e,t),Bn(t,e))})),Gc=E((function(e,t,n){return yn(Un(e,t,n),Un(e,n,t))})),Wc=_((function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return Dt(n+1,1/0,t)})),zc=Wc,Kc=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):R(e)},e}(),Qc=_((function(e,t){return new Kc(e,t)})),Jc=_(A(["takeWhile"],Qc,(function(e,t){for(var n=0,r=t.length;n<r&&e(t[n]);)n+=1;return Dt(0,n,t)}))),Xc=Jc,$c=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}(),es=_((function(e,t){return new $c(e,t)})),ts=_(A([],es,(function(e,t){return e(t),t}))),ns=ts,rs=_((function(e,t){if(!function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e))throw new TypeError("\u2018test\u2019 requires a value of type RegExp as its first argument; received "+gn(e));return bt(e).test(t)})),is=rs,os=_((function(e,t){return Ea("andThen",t),t.then(e)})),as=os,cs=Wi(0,"toLowerCase"),ss=x((function(e){var t=[];for(var n in e)oe(n,e)&&(t[t.length]=[n,e[n]]);return t})),ls=ss,us=x((function(e){var t=[];for(var n in e)t[t.length]=[n,e[n]];return t})),ds=us,fs=Wi(0,"toUpperCase"),ms=S(4,(function(e,t,n,r){return te(e("function"==typeof t?K(t):t),n,r)})),ps=ms,hs=x((function(e){for(var t=0,n=[];t<e.length;){for(var r=e[t],i=0;i<r.length;)void 0===n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;t+=1}return n})),gs=hs,vs=E((function(e,t,n){return"function"==typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](t,e):"function"==typeof n.traverse?n.traverse(t,e):jc(e,ge(t,n))})),ys=vs,xs="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",_s=x("function"==typeof String.prototype.trim&&!xs.trim()&&"\u200b".trim()?function(e){return e.trim()}:function(e){var t=new RegExp("^["+xs+"]["+xs+"]*"),n=new RegExp("["+xs+"]["+xs+"]*$");return e.replace(t,"").replace(n,"")}),Ns=_((function(e,t){return b(e.length,(function(){try{return e.apply(this,arguments)}catch(e){return t.apply(this,w([e],arguments))}}))})),Ts=Ns,ws=x((function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}})),bs=ws,Cs=x((function(e){return at(1,e)})),js=Cs,Ss=_((function(e,t){return S(e,(function(){for(var n,r=1,i=t,o=0;r<=e&&"function"==typeof i;)n=r===e?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,n)),r+=1,o=n;return i}))})),ks=Ss,Is=_((function(e,t){for(var n=e(t),r=[];n&&n.length;)r[r.length]=n[0],n=e(n[1]);return r})),Es=Is,Ps=_(Bt(Vi,w)),Ls=function(){function e(e,t){this.xf=t,this.pred=e,this.items=[]}return e.prototype["@@transducer/init"]=D.init,e.prototype["@@transducer/result"]=D.result,e.prototype["@@transducer/step"]=function(e,t){return Kt(this.pred,t,this.items)?e:(this.items.push(t),this.xf["@@transducer/step"](e,t))},e}(),Vs=_(A([],_((function(e,t){return new Ls(e,t)})),(function(e,t){for(var n,r=0,i=t.length,o=[];r<i;)Kt(e,n=t[r],o)||(o[o.length]=n),r+=1;return o}))),Os=E((function(e,t,n){return Vs(e,w(t,n))})),As=E((function(e,t,n){return e(n)?n:t(n)})),Rs=As,Ds=Nt(qt),Zs=E((function(e,t,n){for(var r=n;!e(r);)r=t(r);return r})),Fs=Zs,Ms=_((function(e,t){return e in t&&V(t[e])?Y((function(n){return $e(e,n,t)}),t[e]):[t]})),Bs=x((function(e){var t,n=[];for(t in e)n[n.length]=e[t];return n})),Us=Bs,qs=function(e){return{value:e,"fantasy-land/map":function(){return this}}},Ys=_((function(e,t){return e(qs)(t).value})),Hs=Ys,Gs=E((function(e,t,n){return e(n)?t(n):n})),Ws=Gs,zs=_((function(e,t){for(var n in e)if(oe(n,e)&&!e[n](t[n]))return!1;return!0})),Ks=zs,Qs=_((function(e,t){for(var n in e)if(oe(n,e)&&e[n](t[n]))return!0;return!1})),Js=Qs,Xs=_((function(e,t){return Ks(ge(en,e),t)})),$s=_((function(e,t){return pn($r(nn)(e),t)})),el=_((function(e,t){return Boolean(!e^!t)})),tl=el,nl=_((function(e,t){for(var n,r=0,i=e.length,o=t.length,a=[];r<i;){for(n=0;n<o;)a[a.length]=[e[r],t[n]],n+=1;r+=1}return a})),rl=nl,il=_((function(e,t){for(var n=[],r=0,i=Math.min(e.length,t.length);r<i;)n[r]=[e[r],t[r]],r+=1;return n})),ol=il,al=_((function(e,t){for(var n=0,r=Math.min(e.length,t.length),i={};n<r;)i[e[n]]=t[n],n+=1;return i})),cl=al,sl=E((function(e,t,n){for(var r=[],i=0,o=Math.min(t.length,n.length);i<o;)r[i]=e(t[i],n[i]),i+=1;return r})),ll=sl,ul=x((function(e){return S(e.length,(function(){var t=arguments;return function(){return e.apply(this,t)}}))})),dl=ul;function fl(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}function ml(e,t,n){return(t=fl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gl(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var vl="function"==typeof Symbol&&Symbol.observable||"@@observable",yl=function(){return Math.random().toString(36).substring(7).split("").join(".")},xl={INIT:"@@redux/INIT"+yl(),REPLACE:"@@redux/REPLACE"+yl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yl()}};function _l(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(gl(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(gl(1));return n(_l)(e,t)}if("function"!=typeof e)throw new Error(gl(2));var i=e,o=t,a=[],c=a,s=!1;function l(){c===a&&(c=a.slice())}function u(){if(s)throw new Error(gl(3));return o}function d(e){if("function"!=typeof e)throw new Error(gl(4));if(s)throw new Error(gl(5));var t=!0;return l(),c.push(e),function(){if(t){if(s)throw new Error(gl(6));t=!1,l();var n=c.indexOf(e);c.splice(n,1),a=null}}}function f(e){if(!function(e){if("object"!==v(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(gl(7));if(void 0===e.type)throw new Error(gl(8));if(s)throw new Error(gl(9));try{s=!0,o=i(o,e)}finally{s=!1}for(var t=a=c,n=0;n<t.length;n++)(0,t[n])();return e}return f({type:xl.INIT}),(r={dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(gl(10));i=e,f({type:xl.REPLACE})}})[vl]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==v(e)||null===e)throw new Error(gl(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[vl]=function(){return this},e},r}function Nl(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:xl.INIT}))throw new Error(gl(12));if(void 0===n(void 0,{type:xl.PROBE_UNKNOWN_ACTION()}))throw new Error(gl(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},c=0;c<a.length;c++){var s=a[c],l=n[s],u=e[s],d=l(u,t);if(void 0===d)throw t&&t.type,new Error(gl(14));i[s]=d,r=r||d!==u}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Tl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(gl(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Tl.apply(void 0,o)(n.dispatch),hl(hl({},n),{},{dispatch:r})}}}var bl=s(256),Cl=s(848),jl=n(88967),Sl=function(e){e()},kl=function(){return Sl},Il=s(689),El=s.n(Il),Pl=(0,Il.createContext)(null);function Ll(){return(0,Il.useContext)(Pl)}var Vl=function(){throw new Error("uSES not initialized!")},Ol=Vl,Al=function(e,t){return e===t};function Rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pl,t=e===Pl?Ll:function(){return(0,Il.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Al,r=t(),i=r.store,o=r.subscription,a=r.getServerState,c=Ol(o.addNestedSub,i.getState,a||i.getState,e,n);return(0,Il.useDebugValue)(c),c}}var Dl=Rl();function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fl(e,t){if(e){if("string"==typeof e)return Zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zl(e,t):void 0}}function Ml(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||Fl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bl(e){return function(e){if(Array.isArray(e))return Zl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(this,arguments)}function ql(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Yl=s(650),Hl=s.n(Yl),Gl=s(913),Wl=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function zl(e,t,n,r,i){var o,a,c,s,l,u=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,m=!1;return function(i,p){return m?function(i,m){var p,h,g=!d(m,a),v=!u(i,o,m,a);return o=i,a=m,g&&v?(c=e(o,a),t.dependsOnOwnProps&&(s=t(r,a)),l=n(c,s,a)):g?(e.dependsOnOwnProps&&(c=e(o,a)),t.dependsOnOwnProps&&(s=t(r,a)),l=n(c,s,a)):v?(p=e(o,a),h=!f(p,c),c=p,h&&(l=n(c,s,a)),l):l}(i,p):(c=e(o=i,a=p),s=t(r,a),l=n(c,s,a),m=!0,l)}}function Kl(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function Ql(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Jl(e,t){return function(t,n){n.displayName;var r=function e(t,n){return e.mapToProps(t,e.dependsOnOwnProps?n:void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Ql(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Ql(i),i=r(t,n)),i},r}}function Xl(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(v(e)," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function $l(e,t,n){return Ul({},n,e,t)}var eu={notify:function(){},get:function(){return[]}};function tu(e,t){var n,r=eu;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=kl(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=eu)},getListeners:function(){return r}};return a}var nu="undefined"!=typeof r&&void 0!==r.document&&void 0!==r.document.createElement?Il.useLayoutEffect:Il.useEffect;function ru(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function iu(e,t){if(ru(e,t))return!0;if("object"!==v(e)||null===e||"object"!==v(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ru(e[n[i]],t[n[i]]))return!1;return!0}var ou=["reactReduxForwardedRef"],au=Vl,cu=[null,null];function su(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function lu(e,t){return e===t}var uu=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(r.pure,r.areStatesEqual),o=void 0===i?lu:i,a=r.areOwnPropsEqual,c=void 0===a?iu:a,s=r.areStatePropsEqual,l=void 0===s?iu:s,u=r.areMergedPropsEqual,d=void 0===u?iu:u,f=r.forwardRef,m=void 0!==f&&f,p=r.context,h=void 0===p?Pl:p,g=function(e){return e?"function"==typeof e?Jl(e):Xl(e,"mapStateToProps"):Kl((function(){return{}}))}(e),y=function(e){return e&&"object"===v(e)?Kl((function(t){return function(e,t){var n={},r=function(){var r=e[i];"function"==typeof r&&(n[i]=function(){return t(r.apply(void 0,arguments))})};for(var i in e)r();return n}(e,t)})):e?"function"==typeof e?Jl(e):Xl(e,"mapDispatchToProps"):Kl((function(e){return{dispatch:e}}))}(t),x=function(e){return e?"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,o=!1;return function(t,n,a){var c=e(t,n,a);return o?i(c,r)||(r=c):(o=!0,r=c),r}}}(e):Xl(e,"mergeProps"):function(){return $l}}(n),_=Boolean(e);return function(e){var t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),r={shouldHandleStateChanges:_,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:g,initMapDispatchToProps:y,initMergeProps:x,areStatesEqual:o,areStatePropsEqual:l,areOwnPropsEqual:c,areMergedPropsEqual:d};function i(t){var n=(0,Il.useMemo)((function(){var e=t.reactReduxForwardedRef,n=ql(t,ou);return[t.context,e,n]}),[t]),i=Ml(n,3),o=i[0],a=i[1],c=i[2],s=(0,Il.useMemo)((function(){return o&&o.Consumer&&(0,Gl.isContextConsumer)(El().createElement(o.Consumer,null))?o:h}),[o,h]),l=(0,Il.useContext)(s),u=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),d=Boolean(l)&&Boolean(l.store),f=u?t.store:l.store,m=d?l.getServerState:f.getState,p=(0,Il.useMemo)((function(){return function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=ql(t,Wl);return zl(n(e,o),r(e,o),i(e,o),e,o)}(f.dispatch,r)}),[f]),g=(0,Il.useMemo)((function(){if(!_)return cu;var e=tu(f,u?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,u,l]),v=Ml(g,2),y=v[0],x=v[1],N=(0,Il.useMemo)((function(){return u?l:Ul({},l,{subscription:y})}),[u,l,y]),T=(0,Il.useRef)(),w=(0,Il.useRef)(c),b=(0,Il.useRef)(),C=(0,Il.useRef)(!1),j=((0,Il.useRef)(!1),(0,Il.useRef)(!1)),S=(0,Il.useRef)();nu((function(){return j.current=!0,function(){j.current=!1}}),[]);var k,I,E,P=(0,Il.useMemo)((function(){return function(){return b.current&&c===w.current?b.current:p(f.getState(),c)}}),[f,c]),L=(0,Il.useMemo)((function(){return function(e){return y?function(e,t,n,r,i,o,a,c,s,l,u){if(!e)return function(){};var d=!1,f=null,m=function(){if(!d&&c.current){var e,n,m=t.getState();try{e=r(m,i.current)}catch(e){n=e,f=e}n||(f=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,u())}};return n.onStateChange=m,n.trySubscribe(),m(),function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}(_,f,y,p,w,T,C,j,b,x,e):function(){}}}),[y]);k=su,I=[w,T,C,c,b,x],nu((function(){return k.apply(void 0,Bl(I))}),void 0);try{E=au(L,P,m?function(){return p(m(),c)}:P)}catch(e){throw S.current&&(e.message+="\nThe error may be correlated with this previous error:\n".concat(S.current.stack,"\n\n")),e}nu((function(){S.current=void 0,b.current=void 0,T.current=E}));var V=(0,Il.useMemo)((function(){return El().createElement(e,Ul({},E,{ref:a}))}),[a,e,E]);return(0,Il.useMemo)((function(){return _?El().createElement(s.Provider,{value:N},V):V}),[s,V,N])}var a=El().memo(i);if(a.WrappedComponent=e,a.displayName=i.displayName=n,m){var s=El().forwardRef((function(e,t){return El().createElement(a,Ul({},e,{reactReduxForwardedRef:t}))})),u=s;return u.displayName=n,u.WrappedComponent=e,Hl()(u,e)}return Hl()(a,e)}},du=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,o=(0,Il.useMemo)((function(){var e=tu(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}}),[t,i]),a=(0,Il.useMemo)((function(){return t.getState()}),[t]);nu((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,a]);var c=n||Pl;return El().createElement(c.Provider,{value:o},r)};function fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pl,t=e===Pl?Ll:function(){return(0,Il.useContext)(e)};return function(){return t().store}}var mu=fu();function pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pl,t=e===Pl?mu:fu(e);return function(){return t().dispatch}}var hu,gu=pu();function vu(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yu(e){return!!e&&!!e[ad]}function xu(e){var t;return!!e&&(function(e){if(!e||"object"!=a(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===cd}(e)||Array.isArray(e)||!!e[od]||!!(null===(t=e.constructor)||void 0===t?void 0:t[od])||ju(e)||Su(e))}function _u(e,t,n){void 0===n&&(n=!1),0===Nu(e)?(n?Object.keys:sd)(e).forEach((function(r){n&&"symbol"==a(r)||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Nu(e){var t=e[ad];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ju(e)?2:Su(e)?3:0}function Tu(e,t){return 2===Nu(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wu(e,t){return 2===Nu(e)?e.get(t):e[t]}function bu(e,t,n){var r=Nu(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Cu(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function ju(e){return td&&e instanceof Map}function Su(e){return nd&&e instanceof Set}function ku(e){return e.o||e.t}function Iu(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ld(e);delete t[ad];for(var n=sd(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Eu(e,t){return void 0===t&&(t=!1),Lu(e)||yu(e)||!xu(e)||(Nu(e)>1&&(e.set=e.add=e.clear=e.delete=Pu),Object.freeze(e),t&&_u(e,(function(e,t){return Eu(t,!0)}),!0)),e}function Pu(){vu(2)}function Lu(e){return null==e||"object"!=a(e)||Object.isFrozen(e)}function Vu(e){var t=ud[e];return t||vu(18,e),t}function Ou(e,t){ud[e]||(ud[e]=t)}function Au(){return $u}function Ru(e,t){t&&(Vu("Patches"),e.u=[],e.s=[],e.v=t)}function Du(e){Zu(e),e.p.forEach(Mu),e.p=null}function Zu(e){e===$u&&($u=e.l)}function Fu(e){return $u={p:[],l:$u,h:e,m:!0,_:0}}function Mu(e){var t=e[ad];0===t.i||1===t.i?t.j():t.g=!0}function Bu(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Vu("ES5").S(t,e,r),r?(n[ad].P&&(Du(t),vu(4)),xu(e)&&(e=Uu(t,e),t.l||Yu(t,e)),t.u&&Vu("Patches").M(n[ad].t,e,t.u,t.s)):e=Uu(t,n,[]),Du(t),t.u&&t.v(t.u,t.s),e!==id?e:void 0}function Uu(e,t,n){if(Lu(t))return t;var r=t[ad];if(!r)return _u(t,(function(i,o){return qu(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Yu(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Iu(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),_u(o,(function(t,o){return qu(e,r,i,t,o,n,a)})),Yu(e,i,!1),n&&e.u&&Vu("Patches").N(r,n,e.u,e.s)}return r.o}function qu(e,t,n,r,i,o,a){if(yu(i)){var c=Uu(e,i,o&&t&&3!==t.i&&!Tu(t.R,r)?o.concat(r):void 0);if(bu(n,r,c),!yu(c))return;e.m=!1}else a&&n.add(i);if(xu(i)&&!Lu(i)){if(!e.h.D&&e._<1)return;Uu(e,i),t&&t.A.l||Yu(e,i)}}function Yu(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&Eu(t,n)}function Hu(e,t){var n=e[ad];return(n?ku(n):e)[t]}function Gu(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Wu(e){e.P||(e.P=!0,e.l&&Wu(e.l))}function zu(e){e.o||(e.o=Iu(e.t))}function Ku(e,t,n){var r=ju(t)?Vu("MapSet").F(t,n):Su(t)?Vu("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Au(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=dd;n&&(i=[r],o=fd);var a=Proxy.revocable(i,o),c=a.revoke,s=a.proxy;return r.k=s,r.j=c,s}(t,n):Vu("ES5").J(t,n);return(n?n.A:Au()).p.push(r),r}function Qu(e){return yu(e)||vu(22,e),function e(t){if(!xu(t))return t;var n,r=t[ad],i=Nu(t);if(r){if(!r.P&&(r.i<4||!Vu("ES5").K(r)))return r.t;r.I=!0,n=Ju(t,i),r.I=!1}else n=Ju(t,i);return _u(n,(function(t,i){r&&wu(r.t,t)===i||bu(n,t,e(i))})),3===i?new Set(n):n}(e)}function Ju(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Iu(e)}!function(e){Ol=e}(Cl.useSyncExternalStoreWithSelector),function(e){au=e}(bl.useSyncExternalStore),hu=jl.unstable_batchedUpdates,Sl=hu;var Xu,$u,ed="undefined"!=typeof Symbol&&"symbol"==a(Symbol("x")),td="undefined"!=typeof Map,nd="undefined"!=typeof Set,rd="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,id=ed?Symbol.for("immer-nothing"):((Xu={})["immer-nothing"]=!0,Xu),od=ed?Symbol.for("immer-draftable"):"__$immer_draftable",ad=ed?Symbol.for("immer-state"):"__$immer_state",cd=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),sd="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ld=Object.getOwnPropertyDescriptors||function(e){var t={};return sd(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ud={},dd={get:function(e,t){if(t===ad)return e;var n=ku(e);if(!Tu(n,t))return function(e,t,n){var r,i=Gu(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!xu(r)?r:r===Hu(e.t,t)?(zu(e),e.o[t]=Ku(e.A.h,r,e)):r},has:function(e,t){return t in ku(e)},ownKeys:function(e){return Reflect.ownKeys(ku(e))},set:function(e,t,n){var r=Gu(ku(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Hu(ku(e),t),o=null==i?void 0:i[ad];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Cu(n,i)&&(void 0!==n||Tu(e.t,t)))return!0;zu(e),Wu(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Hu(e.t,t)||t in e.t?(e.R[t]=!1,zu(e),Wu(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ku(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){vu(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){vu(12)}},fd={};_u(dd,(function(e,t){fd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),fd.deleteProperty=function(e,t){return fd.set.call(this,e,t,void 0)},fd.set=function(e,t,n){return dd.set.call(this,e[0],t,n,e[0])};var md=function(){function e(e){var t=this;this.O=rd,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),c=1;c<r;c++)a[c-1]=arguments[c];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var c;if("function"!=typeof n&&vu(6),void 0!==r&&"function"!=typeof r&&vu(7),xu(e)){var s=Fu(t),l=Ku(t,e,void 0),u=!0;try{c=n(l),u=!1}finally{u?Du(s):Zu(s)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return Ru(s,r),Bu(e,s)}),(function(e){throw Du(s),e})):(Ru(s,r),Bu(c,s))}if(!e||"object"!=a(e)){if(void 0===(c=n(e))&&(c=e),c===id&&(c=void 0),t.D&&Eu(c,!0),r){var d=[],f=[];Vu("Patches").M(e,c,d,f),r(d,f)}return c}vu(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){xu(e)||vu(8),yu(e)&&(e=Qu(e));var t=Fu(this),n=Ku(this,e,void 0);return n[ad].C=!0,Zu(t),n},t.finishDraft=function(e,t){var n=(e&&e[ad]).A;return Ru(n,t),Bu(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!rd&&vu(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Vu("Patches").$;return yu(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),pd=new md,hd=pd.produce,gd=pd.produceWithPatches.bind(pd),vd=(pd.setAutoFreeze.bind(pd),pd.setUseProxies.bind(pd),pd.applyPatches.bind(pd)),yd=(pd.createDraft.bind(pd),pd.finishDraft.bind(pd),hd);function xd(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var _d=xd();_d.withExtraArgument=xd;var Nd,Td=_d,wd=(Nd=function(e,t){return Nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Nd(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Nd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),bd=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Cd=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},jd=Object.defineProperty,Sd=Object.defineProperties,kd=Object.getOwnPropertyDescriptors,Id=Object.getOwnPropertySymbols,Ed=Object.prototype.hasOwnProperty,Pd=Object.prototype.propertyIsEnumerable,Ld=function(e,t,n){return t in e?jd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Vd=function(e,t){for(var n in t||(t={}))Ed.call(t,n)&&Ld(e,n,t[n]);if(Id)for(var r=0,i=Id(t);r<i.length;r++)n=i[r],Pd.call(t,n)&&Ld(e,n,t[n]);return e},Od=function(e,t){return Sd(e,kd(t))},Ad=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{c(n.next(e))}catch(e){i(e)}},a=function(e){try{c(n.throw(e))}catch(e){i(e)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};c((n=n.apply(e,t)).next())}))},Rd="undefined"!=typeof r&&r.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?r.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===v(arguments[0])?Tl:Tl.apply(null,arguments)};function Dd(e){if("object"!==v(e)||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}"undefined"!=typeof r&&r.__REDUX_DEVTOOLS_EXTENSION__&&r.__REDUX_DEVTOOLS_EXTENSION__;var Zd=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return wd(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Cd([void 0],e[0].concat(this)))):new(t.bind.apply(t,Cd([void 0],e.concat(this))))},t}(Array);function Fd(e){return xu(e)?yd(e,(function(){})):e}var Md=!0;function Bd(e){var t,n=function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Zd);return n&&(function(e){return"boolean"==typeof e}(n)?r.push(Td):r.push(Td.withExtraArgument(n.extraArgument))),r}(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,c=void 0===a?n():a,s=r.devTools,l=void 0===s||s,u=r.preloadedState,d=void 0===u?void 0:u,f=r.enhancers,m=void 0===f?void 0:f;if("function"==typeof o)t=o;else{if(!Dd(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Nl(o)}var p=c;if("function"==typeof p&&(p=p(n),!Md&&!Array.isArray(p)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!Md&&p.some((function(e){return"function"!=typeof e})))throw new Error("each middleware provided to configureStore must be a function");var h=wl.apply(void 0,p),g=Tl;l&&(g=Rd(Vd({trace:!Md},"object"===v(l)&&l)));var y=[h];return Array.isArray(m)?y=Cd([h],m):"function"==typeof m&&(y=m(y)),_l(t,d,g.apply(void 0,y))}function Ud(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Vd(Vd({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function qd(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Yd(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Fd(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},c={},s={};function l(){var t="function"==typeof e.extraReducers?qd(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,s=t[2],l=void 0===s?void 0:s,u=Vd(Vd({},i),c);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"==typeof t?qd(t):[t,n,r],a=o[0],c=o[1],s=o[2];if(function(e){return"function"==typeof e}(e))i=function(){return Fd(e())};else{var l=Fd(e);i=function(){return l}}function u(e,t){void 0===e&&(e=i());var n=Cd([a[t.type]],c.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(yu(e))return void 0===(r=n(e,t))?e:r;if(xu(e))return yd(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,u,a,l)}return o.forEach((function(e){var n,r,o=i[e],l=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,c[l]=n,s[e]=r?Ud(l,r):Ud(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:s,caseReducers:a,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}var Hd=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Gd=["name","message","stack","code"],Wd=function(e,t){this.payload=e,this.meta=t},zd=function(e,t){this.payload=e,this.meta=t},Kd=function(e){if("object"===v(e)&&null!==e){for(var t={},n=0,r=Gd;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function Qd(e,t,n){var r=Ud(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Od(Vd({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Ud(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Od(Vd({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=Ud(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||Kd)(e||"Rejected"),meta:Od(Vd({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(c,s,l){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Hd(),f=new a,m=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),p=!1,h=function(){return Ad(this,null,(function(){var a,u,h,g,y;return bd(this,(function(x){switch(x.label){case 0:return x.trys.push([0,4,,5]),null===(_=g=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:s,extra:l}))||"object"!==v(_)||"function"!=typeof _.then?[3,2]:[4,g];case 1:g=x.sent(),x.label=2;case 2:if(!1===g)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return p=!0,c(i(d,e,null==(u=null==n?void 0:n.getPendingMeta)?void 0:u.call(n,{requestId:d,arg:e},{getState:s,extra:l}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:c,getState:s,extra:l,requestId:d,signal:f.signal,rejectWithValue:function(e,t){return new Wd(e,t)},fulfillWithValue:function(e,t){return new zd(e,t)}})).then((function(t){if(t instanceof Wd)throw t;return t instanceof zd?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return h=x.sent(),[3,5];case 4:return y=x.sent(),h=y instanceof Wd?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(h)&&h.meta.condition||c(h),[2,h]}var _}))}))}();return Object.assign(h,{abort:function(e){p&&(u=e,f.abort())},requestId:d,arg:e,unwrap:function(){return h.then(Jd)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}function Jd(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Xd=function(e,t){return function(e){return e&&"function"==typeof e.match}(e)?e.match(t):e(t)};function $d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return Xd(e,t)}))}}function ef(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return Xd(e,t)}))}}function tf(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function nf(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function rf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return tf(e,["pending"])}:nf(e)?function(t){var n=e.map((function(e){return e.pending}));return $d.apply(void 0,n)(t)}:rf()(e[0])}function of(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return tf(e,["rejected"])}:nf(e)?function(t){var n=e.map((function(e){return e.rejected}));return $d.apply(void 0,n)(t)}:of()(e[0])}function af(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||nf(e)?function(t){return ef(of.apply(void 0,e),n)(t)}:af()(e[0])}function cf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return tf(e,["fulfilled"])}:nf(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return $d.apply(void 0,n)(t)}:cf()(e[0])}function sf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return tf(e,["pending","fulfilled","rejected"])}:nf(e)?function(t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];n.push(o.pending,o.rejected,o.fulfilled)}return $d.apply(void 0,n)(t)}:sf()(e[0])}Object.assign;var lf="listenerMiddleware";Ud(lf+"/add"),Ud(lf+"/removeAll"),Ud(lf+"/remove"),function(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ad];return dd.get(t,e)},set:function(t){var n=this[ad];dd.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ad];if(!i.P)switch(i.i){case 5:r(i)&&Wu(i);break;case 4:n(i)&&Wu(i)}}}function n(e){for(var t=e.t,n=e.k,r=sd(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==ad){var a=t[o];if(void 0===a&&!Tu(t,o))return!0;var c=n[o],s=c&&c[ad];if(s?s.t!==a:!Cu(c,a))return!0}}var l=!!t[ad];return r.length!==sd(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Ou("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=ld(n);delete o[ad];for(var a=sd(o),c=0;c<a.length;c++){var s=a[c];o[s]=e(s,t||!!o[s].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Au(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,ad,{value:o,writable:!0}),i},S:function(e,n,i){i?yu(n)&&n[ad].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==a(t)){var n=t[ad];if(n){var i=n.t,o=n.k,c=n.R,s=n.i;if(4===s)_u(o,(function(t){t!==ad&&(void 0!==i[t]||Tu(i,t)?c[t]||e(o[t]):(c[t]=!0,Wu(n)))})),_u(i,(function(e){void 0!==o[e]||Tu(o,e)||(c[e]=!1,Wu(n))}));else if(5===s){if(r(n)&&(Wu(n),c.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)c[l]=!1;else for(var u=i.length;u<o.length;u++)c[u]=!0;for(var d=Math.min(o.length,i.length),f=0;f<d;f++)o.hasOwnProperty(f)||(c[f]=!0),void 0===c[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}();var uf="NOT_FOUND",df=function(e,t){return e===t};function ff(e,t){var n="object"===v(t)?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?df:r,o=n.maxSize,a=void 0===o?1:o,c=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),l=1===a?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:uf},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return uf}return{get:r,put:function(t,i){r(t)===uf&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(a,s);function u(){var t=l.get(arguments);if(t===uf){if(t=e.apply(null,arguments),c){var n=l.getEntries().find((function(e){return c(e.value,t)}));n&&(t=n.value)}l.put(arguments,t)}return t}return u.clearCache=function(){return l.clear()},u}function mf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,a=0,c={memoizeOptions:void 0},s=r.pop();if("object"===v(s)&&(c=s,s=r.pop()),"function"!=typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+v(s)+"]");var l=c.memoizeOptions,u=void 0===l?n:l,d=Array.isArray(u)?u:[u],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":v(e)})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),m=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(d)),p=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=m.apply(null,e)}));return Object.assign(p,{resultFunc:s,memoizedResultFunc:m,dependencies:f,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),p}}var pf,hf,gf=mf(ff),vf=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},yf=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xf=Object.defineProperty,_f=Object.defineProperties,Nf=Object.getOwnPropertyDescriptors,Tf=Object.getOwnPropertySymbols,wf=Object.prototype.hasOwnProperty,bf=Object.prototype.propertyIsEnumerable,Cf=function(e,t,n){return t in e?xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},jf=function(e,t){for(var n in t||(t={}))wf.call(t,n)&&Cf(e,n,t[n]);if(Tf)for(var r=0,i=Tf(t);r<i.length;r++)n=i[r],bf.call(t,n)&&Cf(e,n,t[n]);return e},Sf=function(e,t){return _f(e,Nf(t))},kf=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{c(n.next(e))}catch(e){i(e)}},a=function(e){try{c(n.throw(e))}catch(e){i(e)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};c((n=n.apply(e,t)).next())}))};(hf=pf||(pf={})).uninitialized="uninitialized",hf.pending="pending",hf.fulfilled="fulfilled",hf.rejected="rejected";var If=function(e){return[].concat.apply([],e)},Ef=Dd;function Pf(e,t){if(e===t||!(Ef(e)&&Ef(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var n=Object.keys(t),r=Object.keys(e),i=n.length===r.length,o=Array.isArray(t)?[]:{},a=0,c=n;a<c.length;a++){var s=c[a];o[s]=Pf(e[s],t[s]),i&&(i=e[s]===o[s])}return i?e:o}var Lf,Vf,Of=function(e,t){void 0===t&&(t=void 0),this.value=e,this.meta=t},Af=Ud("__rtkq/focused"),Rf=Ud("__rtkq/unfocused"),Df=Ud("__rtkq/online"),Zf=Ud("__rtkq/offline");function Ff(e,t,n,r,i,o){return function(e){return"function"==typeof e}(e)?e(t,n,r,i).map(Mf).map(o):Array.isArray(e)?e.map(Mf).map(o):[]}function Mf(e){return"string"==typeof e?{type:e}:e}function Bf(e){return e}function Uf(e,t,n,r){return Ff(n[e.meta.arg.endpointName][t],cf(e)?e.payload:void 0,af(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function qf(e,t,n){var r=e[t];r&&n(r)}function Yf(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function Hf(e,t,n){var r=e[Yf(t)];r&&n(r)}(Vf=Lf||(Lf={})).query="query",Vf.mutation="mutation";var Gf={};function Wf(e){var t=e.reducerPath,n=e.queryThunk,r=e.mutationThunk,a=e.context,c=a.endpointDefinitions,s=a.apiUid,l=a.extractRehydrationInfo,u=a.hasRehydrationInfo,d=e.assertTagType,f=e.config,m=Ud(t+"/resetApiState"),p=Yd({name:t+"/queries",initialState:Gf,reducers:{removeQueryResult:function(e,t){delete e[t.payload.queryCacheKey]},queryResultPatched:function(e,t){var n=t.payload,r=n.queryCacheKey,i=n.patches;qf(e,r,(function(e){e.data=vd(e.data,i.concat())}))}},extraReducers:function(e){e.addCase(n.pending,(function(e,t){var n,r=t.meta,i=t.meta.arg;i.subscribe&&(null!=e[n=i.queryCacheKey]||(e[n]={status:pf.uninitialized,endpointName:i.endpointName})),qf(e,i.queryCacheKey,(function(e){e.status=pf.pending,e.requestId=r.requestId,void 0!==i.originalArgs&&(e.originalArgs=i.originalArgs),e.startedTimeStamp=r.startedTimeStamp}))})).addCase(n.fulfilled,(function(e,t){var n=t.meta,r=t.payload;qf(e,n.arg.queryCacheKey,(function(e){var t;e.requestId===n.requestId&&(e.status=pf.fulfilled,e.data=null==(t=c[n.arg.endpointName].structuralSharing)||t?Pf(e.data,r):r,delete e.error,e.fulfilledTimeStamp=n.fulfilledTimeStamp)}))})).addCase(n.rejected,(function(e,t){var n=t.meta,r=n.condition,i=n.arg,o=n.requestId,a=t.error,c=t.payload;qf(e,i.queryCacheKey,(function(e){if(r);else{if(e.requestId!==o)return;e.status=pf.rejected,e.error=null!=c?c:a}}))})).addMatcher(u,(function(e,t){for(var n=l(t).queries,r=0,i=Object.entries(n);r<i.length;r++){var o=i[r],a=o[0],c=o[1];(null==c?void 0:c.status)!==pf.fulfilled&&(null==c?void 0:c.status)!==pf.rejected||(e[a]=c)}}))}}),h=Yd({name:t+"/mutations",initialState:Gf,reducers:{removeMutationResult:function(e,t){var n=Yf(t.payload);n in e&&delete e[n]}},extraReducers:function(e){e.addCase(r.pending,(function(e,t){var n=t.meta,r=t.meta,i=r.requestId,o=r.arg,a=r.startedTimeStamp;o.track&&(e[Yf(n)]={requestId:i,status:pf.pending,endpointName:o.endpointName,startedTimeStamp:a})})).addCase(r.fulfilled,(function(e,t){var n=t.payload,r=t.meta;r.arg.track&&Hf(e,r,(function(e){e.requestId===r.requestId&&(e.status=pf.fulfilled,e.data=n,e.fulfilledTimeStamp=r.fulfilledTimeStamp)}))})).addCase(r.rejected,(function(e,t){var n=t.payload,r=t.error,i=t.meta;i.arg.track&&Hf(e,i,(function(e){e.requestId===i.requestId&&(e.status=pf.rejected,e.error=null!=n?n:r)}))})).addMatcher(u,(function(e,t){for(var n=l(t).mutations,r=0,i=Object.entries(n);r<i.length;r++){var o=i[r],a=o[0],c=o[1];(null==c?void 0:c.status)!==pf.fulfilled&&(null==c?void 0:c.status)!==pf.rejected||a===(null==c?void 0:c.requestId)||(e[a]=c)}}))}}),g=Yd({name:t+"/invalidation",initialState:Gf,reducers:{},extraReducers:function(e){e.addCase(p.actions.removeQueryResult,(function(e,t){for(var n=t.payload.queryCacheKey,r=0,i=Object.values(e);r<i.length;r++)for(var o=i[r],a=0,c=Object.values(o);a<c.length;a++){var s=c[a],l=s.indexOf(n);-1!==l&&s.splice(l,1)}})).addMatcher(u,(function(e,t){for(var n,r,i,o,a=l(t).provided,c=0,s=Object.entries(a);c<s.length;c++)for(var u=s[c],d=u[0],f=u[1],m=0,p=Object.entries(f);m<p.length;m++)for(var h=p[m],g=h[0],v=h[1],y=null!=(o=(r=null!=(n=e[d])?n:e[d]={})[i=g||"__internal_without_id"])?o:r[i]=[],x=0,_=v;x<_.length;x++){var N=_[x];y.includes(N)||y.push(N)}})).addMatcher($d(cf(n),af(n)),(function(e,t){for(var n,r,i,o,a=Uf(t,"providesTags",c,d),s=t.meta.arg.queryCacheKey,l=0,u=Object.values(e);l<u.length;l++)for(var f=u[l],m=0,p=Object.values(f);m<p.length;m++){var h=p[m],g=h.indexOf(s);-1!==g&&h.splice(g,1)}for(var v=0,y=a;v<y.length;v++){var x=y[v],_=x.type,N=x.id,T=null!=(o=(r=null!=(n=e[_])?n:e[_]={})[i=N||"__internal_without_id"])?o:r[i]=[];T.includes(s)||T.push(s)}}))}}),v=Yd({name:t+"/subscriptions",initialState:Gf,reducers:{updateSubscriptionOptions:function(e,t){var n,r=t.payload,i=r.queryCacheKey,o=r.requestId,a=r.options;(null==(n=null==e?void 0:e[i])?void 0:n[o])&&(e[i][o]=a)},unsubscribeQueryResult:function(e,t){var n=t.payload,r=n.queryCacheKey,i=n.requestId;e[r]&&delete e[r][i]}},extraReducers:function(e){e.addCase(p.actions.removeQueryResult,(function(e,t){delete e[t.payload.queryCacheKey]})).addCase(n.pending,(function(e,t){var n,r,i,o,a=t.meta,c=a.arg,s=a.requestId;if(c.subscribe){var l=null!=(r=e[n=c.queryCacheKey])?r:e[n]={};l[s]=null!=(o=null!=(i=c.subscriptionOptions)?i:l[s])?o:{}}})).addCase(n.rejected,(function(e,t){var n,r,i,o,a=t.meta,c=a.condition,s=a.arg,l=a.requestId;if(t.error,t.payload,c&&s.subscribe){var u=null!=(r=e[n=s.queryCacheKey])?r:e[n]={};u[l]=null!=(o=null!=(i=s.subscriptionOptions)?i:u[l])?o:{}}})).addMatcher(u,(function(e){return jf({},e)}))}}),y=Yd({name:t+"/config",initialState:jf({online:"undefined"==typeof i||void 0===i.onLine||i.onLine,focused:"undefined"==typeof o||"hidden"!==o.visibilityState,middlewareRegistered:!1},f),reducers:{middlewareRegistered:function(e,t){var n=t.payload;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&s===n||"conflict"}},extraReducers:function(e){e.addCase(Df,(function(e){e.online=!0})).addCase(Zf,(function(e){e.online=!1})).addCase(Af,(function(e){e.focused=!0})).addCase(Rf,(function(e){e.focused=!1})).addMatcher(u,(function(e){return jf({},e)}))}}),x=Nl({queries:p.reducer,mutations:h.reducer,provided:g.reducer,subscriptions:v.reducer,config:y.reducer});return{reducer:function(e,t){return x(m.match(t)?void 0:e,t)},actions:Sf(jf(jf(jf(jf({},y.actions),p.actions),v.actions),h.actions),{unsubscribeMutationResult:h.actions.removeMutationResult,resetApiState:m})}}var zf=Symbol.for("RTKQ/skipToken"),Kf={status:pf.uninitialized},Qf=yd(Kf,(function(){})),Jf=yd(Kf,(function(){})),Xf=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,(function(e,t){return Dd(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))+")"};function $f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=ff((function(e){var n,r;return null==(r=t.extractRehydrationInfo)?void 0:r.call(t,e,{reducerPath:null!=(n=t.reducerPath)?n:"api"})})),r=Sf(jf({reducerPath:"api",serializeQueryArgs:Xf,keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},t),{extractRehydrationInfo:n,tagTypes:yf([],t.tagTypes||[])}),i={endpointDefinitions:{},batch:function(e){e()},apiUid:Hd(),extractRehydrationInfo:n,hasRehydrationInfo:ff((function(e){return null!=n(e)}))},o={injectEndpoints:function(e){for(var t=e.endpoints({query:function(e){return Sf(jf({},e),{type:Lf.query})},mutation:function(e){return Sf(jf({},e),{type:Lf.mutation})}}),n=0,r=Object.entries(t);n<r.length;n++){var c=r[n],s=c[0],l=c[1];if(e.overrideExisting||!(s in i.endpointDefinitions)){i.endpointDefinitions[s]=l;for(var u=0,d=a;u<d.length;u++)d[u].injectEndpoint(s,l)}}return o},enhanceEndpoints:function(e){var t=e.addTagTypes,n=e.endpoints;if(t)for(var a=0,c=t;a<c.length;a++){var s=c[a];r.tagTypes.includes(s)||r.tagTypes.push(s)}if(n)for(var l=0,u=Object.entries(n);l<u.length;l++){var d=u[l],f=d[0],m=d[1];"function"==typeof m?m(i.endpointDefinitions[f]):Object.assign(i.endpointDefinitions[f]||{},m)}return o}},a=e.map((function(e){return e.init(o,r,i)}));return o.injectEndpoints({endpoints:t.endpoints})}}var em=function(e){var t=e.reducerPath,n=e.api,r=e.context,i=n.internalActions,o=i.removeQueryResult,a=i.unsubscribeQueryResult;return function(e){var i={};return function(o){return function(s){var l,u=o(s);if(a.match(s)){var d=e.getState()[t];c(N=s.payload.queryCacheKey,null==(l=d.queries[N])?void 0:l.endpointName,e,d.config)}if(n.util.resetApiState.match(s))for(var f=0,m=Object.entries(i);f<m.length;f++){var p=m[f],h=p[0],g=p[1];g&&clearTimeout(g),delete i[h]}if(r.hasRehydrationInfo(s)){d=e.getState()[t];for(var v=r.extractRehydrationInfo(s).queries,y=0,x=Object.entries(v);y<x.length;y++){var _=x[y],N=_[0],T=_[1];c(N,null==T?void 0:T.endpointName,e,d.config)}}return u}};function c(e,n,a,c){var s,l=r.endpointDefinitions[n],u=null!=(s=null==l?void 0:l.keepUnusedDataFor)?s:c.keepUnusedDataFor,d=Math.max(0,Math.min(u,2147482.647)),f=i[e];f&&clearTimeout(f),i[e]=setTimeout((function(){var n=a.getState()[t].subscriptions[e];n&&0!==Object.keys(n).length||a.dispatch(o({queryCacheKey:e})),delete i[e]}),1e3*d)}}},tm=function(e){var t=e.reducerPath,n=e.context,r=e.context.endpointDefinitions,i=e.mutationThunk,o=e.api,a=e.assertTagType,c=e.refetchQuery,s=o.internalActions.removeQueryResult;return function(e){return function(t){return function(n){var c=t(n);return $d(cf(i),af(i))(n)&&l(Uf(n,"invalidatesTags",r,a),e),o.util.invalidateTags.match(n)&&l(Ff(n.payload,void 0,void 0,void 0,void 0,a),e),c}}};function l(e,r){var i=r.getState(),a=i[t],l=o.util.selectInvalidatedBy(i,e);n.batch((function(){for(var e,t=0,n=Array.from(l.values());t<n.length;t++){var i=n[t].queryCacheKey,o=a.queries[i],u=null!=(e=a.subscriptions[i])?e:{};o&&(0===Object.keys(u).length?r.dispatch(s({queryCacheKey:i})):o.status!==pf.uninitialized&&r.dispatch(c(o,i)))}}))}},nm=function(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,i=e.refetchQuery;return function(e){var a={};return function(t){return function(i){var o=t(i);return(r.internalActions.updateSubscriptionOptions.match(i)||r.internalActions.unsubscribeQueryResult.match(i))&&s(i.payload,e),(n.pending.match(i)||n.rejected.match(i)&&i.meta.condition)&&s(i.meta.arg,e),(n.fulfilled.match(i)||n.rejected.match(i)&&!i.meta.condition)&&c(i.meta.arg,e),r.util.resetApiState.match(i)&&function(){for(var e=0,t=Object.keys(a);e<t.length;e++)l(t[e])}(),o}};function c(e,n){var r=e.queryCacheKey,c=n.getState()[t],s=c.queries[r],l=c.subscriptions[r];if(s&&s.status!==pf.uninitialized){var u=o(l);if(Number.isFinite(u)){var d=a[r];(null==d?void 0:d.timeout)&&(clearTimeout(d.timeout),d.timeout=void 0);var f=Date.now()+u,m=a[r]={nextPollTimestamp:f,pollingInterval:u,timeout:setTimeout((function(){m.timeout=void 0,n.dispatch(i(s,r))}),u)}}}}function s(e,n){var r=e.queryCacheKey,i=n.getState()[t],s=i.queries[r],u=i.subscriptions[r];if(s&&s.status!==pf.uninitialized){var d=o(u);if(Number.isFinite(d)){var f=a[r],m=Date.now()+d;(!f||m<f.nextPollTimestamp)&&c({queryCacheKey:r},n)}else l(r)}}function l(e){var t=a[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete a[e]}};function o(e){void 0===e&&(e={});for(var t=Number.POSITIVE_INFINITY,n=0,r=Object.values(e);n<r.length;n++){var i=r[n];i.pollingInterval&&(t=Math.min(i.pollingInterval,t))}return t}},rm=function(e){var t=e.reducerPath,n=e.context,r=e.api,i=e.refetchQuery,o=r.internalActions.removeQueryResult;return function(e){return function(t){return function(n){var r=t(n);return Af.match(n)&&a(e,"refetchOnFocus"),Df.match(n)&&a(e,"refetchOnReconnect"),r}}};function a(e,r){var a=e.getState()[t],c=a.queries,s=a.subscriptions;n.batch((function(){for(var t=0,n=Object.keys(s);t<n.length;t++){var l=n[t],u=c[l],d=s[l];d&&u&&(Object.values(d).some((function(e){return!0===e[r]}))||Object.values(d).every((function(e){return void 0===e[r]}))&&a.config[r])&&(0===Object.keys(d).length?e.dispatch(o({queryCacheKey:l})):u.status!==pf.uninitialized&&e.dispatch(i(u,l)))}}))}},im=new Error("Promise never resolved before cacheEntryRemoved."),om=function(e){var t=e.api,n=e.reducerPath,r=e.context,i=e.queryThunk,o=e.mutationThunk,a=sf(i),c=sf(o),s=cf(i,o);return function(e){var l={};return function(r){return function(d){var f=e.getState(),m=r(d),p=function(e){return a(e)?e.meta.arg.queryCacheKey:c(e)?e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?Yf(e.payload):""}(d);if(i.pending.match(d)){var h=f[n].queries[p],g=e.getState()[n].queries[p];!h&&g&&u(d.meta.arg.endpointName,d.meta.arg.originalArgs,p,e,d.meta.requestId)}else if(o.pending.match(d))(g=e.getState()[n].mutations[p])&&u(d.meta.arg.endpointName,d.meta.arg.originalArgs,p,e,d.meta.requestId);else if(s(d))(null==(N=l[p])?void 0:N.valueResolved)&&(N.valueResolved({data:d.payload,meta:d.meta.baseQueryMeta}),delete N.valueResolved);else if(t.internalActions.removeQueryResult.match(d)||t.internalActions.removeMutationResult.match(d))(N=l[p])&&(delete l[p],N.cacheEntryRemoved());else if(t.util.resetApiState.match(d))for(var v=0,y=Object.entries(l);v<y.length;v++){var x=y[v],_=x[0],N=x[1];delete l[_],N.cacheEntryRemoved()}return m}};function u(e,n,i,o,a){var c=r.endpointDefinitions[e],s=null==c?void 0:c.onCacheEntryAdded;if(s){var u={},d=new Promise((function(e){u.cacheEntryRemoved=e})),f=Promise.race([new Promise((function(e){u.valueResolved=e})),d.then((function(){throw im}))]);f.catch((function(){})),l[i]=u;var m=t.endpoints[e].select(c.type===Lf.query?n:i),p=o.dispatch((function(e,t,n){return n})),h=Sf(jf({},o),{getCacheEntry:function(){return m(o.getState())},requestId:a,extra:p,updateCachedData:c.type===Lf.query?function(r){return o.dispatch(t.util.updateQueryData(e,n,r))}:void 0,cacheDataLoaded:f,cacheEntryRemoved:d}),g=s(n,h);Promise.resolve(g).catch((function(e){if(e!==im)throw e}))}}}},am=function(e){var t=e.api,n=e.context,r=e.queryThunk,i=e.mutationThunk,o=rf(r,i),a=of(r,i),c=cf(r,i);return function(e){var r={};return function(i){return function(s){var l,u,d,f=i(s);if(o(s)){var m=s.meta,p=m.requestId,h=m.arg,g=h.endpointName,v=h.originalArgs,y=n.endpointDefinitions[g],x=null==y?void 0:y.onQueryStarted;if(x){var _={},N=new Promise((function(e,t){_.resolve=e,_.reject=t}));N.catch((function(){})),r[p]=_;var T=t.endpoints[g].select(y.type===Lf.query?v:p),w=e.dispatch((function(e,t,n){return n})),b=Sf(jf({},e),{getCacheEntry:function(){return T(e.getState())},requestId:p,extra:w,updateCachedData:y.type===Lf.query?function(n){return e.dispatch(t.util.updateQueryData(g,v,n))}:void 0,queryFulfilled:N});x(v,b)}}else if(c(s)){var C=s.meta,j=(p=C.requestId,C.baseQueryMeta);null==(l=r[p])||l.resolve({data:s.payload,meta:j}),delete r[p]}else if(a(s)){var S=s.meta,k=(p=S.requestId,S.rejectedWithValue);j=S.baseQueryMeta,null==(d=r[p])||d.reject({error:null!=(u=s.payload)?u:s.error,isUnhandledError:!k,meta:j}),delete r[p]}return f}}}},cm=function(e){var t=e.api,n=e.context.apiUid;return e.reducerPath,function(e){var r=!1;return function(i){return function(o){r||(r=!0,e.dispatch(t.internalActions.middlewareRegistered(n)));var a=i(o);return t.util.resetApiState.match(o)&&e.dispatch(t.internalActions.middlewareRegistered(n)),a}}}};function sm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,yf([e],t))}var lm=Symbol(),um=function(){return{name:lm,init:function(e,t,n){var r=t.baseQuery,i=(t.tagTypes,t.reducerPath),o=t.serializeQueryArgs,c=t.keepUnusedDataFor,s=t.refetchOnMountOrArgChange,l=t.refetchOnFocus,u=t.refetchOnReconnect;!function(){function e(t){if(!xu(t))return t;if(Array.isArray(t))return t.map(e);if(ju(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(Su(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return Tu(t,od)&&(n[od]=t[od]),n}function t(t){return yu(t)?e(t):t}var n="add";Ou("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,o=r.op,c=t,s=0;s<i.length-1;s++){var l=Nu(c),u=i[s];"string"!=typeof u&&"number"!=typeof u&&(u=""+u),0!==l&&1!==l||"__proto__"!==u&&"constructor"!==u||vu(24),"function"==typeof c&&"prototype"===u&&vu(24),"object"!=a(c=wu(c,u))&&vu(15,i.join("/"))}var d=Nu(c),f=e(r.value),m=i[i.length-1];switch(o){case"replace":switch(d){case 2:return c.set(m,f);case 3:vu(16);default:return c[m]=f}case n:switch(d){case 1:return"-"===m?c.push(f):c.splice(m,0,f);case 2:return c.set(m,f);case 3:return c.add(f);default:return c[m]=f}case"remove":switch(d){case 1:return c.splice(m,1);case 2:return c.delete(m);case 3:return c.delete(r.value);default:return delete c[m]}default:vu(17,o)}})),t},N:function(e,r,i,o){switch(e.i){case 0:case 4:case 2:return function(e,r,i,o){var a=e.t,c=e.o;_u(e.R,(function(e,s){var l=wu(a,e),u=wu(c,e),d=s?Tu(a,e)?"replace":n:"remove";if(l!==u||"replace"!==d){var f=r.concat(e);i.push("remove"===d?{op:d,path:f}:{op:d,path:f,value:u}),o.push(d===n?{op:"remove",path:f}:"remove"===d?{op:n,path:f,value:t(l)}:{op:"replace",path:f,value:t(l)})}}))}(e,r,i,o);case 5:case 1:return function(e,r,i,o){var a=e.t,c=e.R,s=e.o;if(s.length<a.length){var l=[s,a];a=l[0],s=l[1];var u=[o,i];i=u[0],o=u[1]}for(var d=0;d<a.length;d++)if(c[d]&&s[d]!==a[d]){var f=r.concat([d]);i.push({op:"replace",path:f,value:t(s[d])}),o.push({op:"replace",path:f,value:t(a[d])})}for(var m=a.length;m<s.length;m++){var p=r.concat([m]);i.push({op:n,path:p,value:t(s[m])})}a.length<s.length&&o.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,i,o);case 3:return function(e,t,r,i){var o=e.t,a=e.o,c=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([c]);r.push({op:"remove",path:o,value:e}),i.unshift({op:n,path:o,value:e})}c++})),c=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([c]);r.push({op:n,path:a,value:e}),i.unshift({op:"remove",path:a,value:e})}c++}))}(e,r,i,o)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===id?void 0:t}),r.push({op:"replace",path:[],value:e})}})}();var d=function(e){return e};Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:Df,onOffline:Zf,onFocus:Af,onFocusLost:Rf},util:{}});var f=function(e){var t=this,n=e.reducerPath,r=e.baseQuery,i=e.context.endpointDefinitions,o=e.serializeQueryArgs,a=e.api,c=function(e,n){return kf(t,[e,n],(function(e,t){var n,o,a,c,l,u,d=t.signal,f=t.rejectWithValue,m=t.fulfillWithValue,p=t.dispatch,h=t.getState,g=t.extra;return vf(this,(function(t){switch(t.label){case 0:n=i[e.endpointName],t.label=1;case 1:return t.trys.push([1,7,,8]),o=Bf,a=void 0,c={signal:d,dispatch:p,getState:h,extra:g,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?s(e,h()):void 0},n.query?[4,r(n.query(e.originalArgs),c,n.extraOptions)]:[3,3];case 2:return a=t.sent(),n.transformResponse&&(o=n.transformResponse),[3,5];case 3:return[4,n.queryFn(e.originalArgs,c,n.extraOptions,(function(e){return r(e,c,n.extraOptions)}))];case 4:a=t.sent(),t.label=5;case 5:if(a.error)throw new Of(a.error,a.meta);return l=m,[4,o(a.data,a.meta,e.originalArgs)];case 6:return[2,l.apply(void 0,[t.sent(),{fulfilledTimeStamp:Date.now(),baseQueryMeta:a.meta}])];case 7:if((u=t.sent())instanceof Of)return[2,f(u.value,{baseQueryMeta:u.meta})];throw console.error(u),u;case 8:return[2]}}))}))};function s(e,t){var r,i,o,a,c=null==(i=null==(r=t[n])?void 0:r.queries)?void 0:i[e.queryCacheKey],s=null==(o=t[n])?void 0:o.config.refetchOnMountOrArgChange,l=null==c?void 0:c.fulfilledTimeStamp,u=null!=(a=e.forceRefetch)?a:e.subscribe&&s;return!!u&&(!0===u||(Number(new Date)-Number(l))/1e3>=u)}var l=Qd(n+"/executeQuery",c,{getPendingMeta:function(){return{startedTimeStamp:Date.now()}},condition:function(e,t){var r,i,o=(0,t.getState)(),a=null==(i=null==(r=o[n])?void 0:r.queries)?void 0:i[e.queryCacheKey],c=null==a?void 0:a.fulfilledTimeStamp;return!("pending"===(null==a?void 0:a.status)||!s(e,o)&&c)},dispatchConditionRejection:!0});function u(e){return function(t){var n,r;return(null==(r=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:r.endpointName)===e}}return{queryThunk:l,mutationThunk:Qd(n+"/executeMutation",c,{getPendingMeta:function(){return{startedTimeStamp:Date.now()}}}),prefetch:function(e,t,n){return function(r,i){var o=function(e){return"force"in e}(n)&&n.force,c=function(e){return"ifOlderThan"in e}(n)&&n.ifOlderThan,s=function(n){return void 0===n&&(n=!0),a.endpoints[e].initiate(t,{forceRefetch:n})},l=a.endpoints[e].select(t)(i());if(o)r(s());else if(c){var u=null==l?void 0:l.fulfilledTimeStamp;if(!u)return void r(s());(Number(new Date)-Number(new Date(u)))/1e3>=c&&r(s())}else r(s(!1))}},updateQueryData:function(e,t,n){return function(r,i){var o,c,s=a.endpoints[e].select(t)(i()),l={patches:[],inversePatches:[],undo:function(){return r(a.util.patchQueryData(e,t,l.inversePatches))}};if(s.status===pf.uninitialized)return l;if("data"in s)if(xu(s.data)){var u=gd(s.data,n),d=u[1],f=u[2];(o=l.patches).push.apply(o,d),(c=l.inversePatches).push.apply(c,f)}else{var m=n(s.data);l.patches.push({op:"replace",path:[],value:m}),l.inversePatches.push({op:"replace",path:[],value:s.data})}return r(a.util.patchQueryData(e,t,l.patches)),l}},patchQueryData:function(e,t,n){return function(r){var c=i[e];r(a.internalActions.queryResultPatched({queryCacheKey:o({queryArgs:t,endpointDefinition:c,endpointName:e}),patches:n}))}},buildMatchThunkActions:function(e,t){return{matchPending:ef(rf(e),u(t)),matchFulfilled:ef(cf(e),u(t)),matchRejected:ef(of(e),u(t))}}}}({baseQuery:r,reducerPath:i,context:n,api:e,serializeQueryArgs:o}),m=f.queryThunk,p=f.mutationThunk,h=f.patchQueryData,g=f.updateQueryData,y=f.prefetch,x=f.buildMatchThunkActions,_=Wf({context:n,queryThunk:m,mutationThunk:p,reducerPath:i,assertTagType:d,config:{refetchOnFocus:l,refetchOnReconnect:u,refetchOnMountOrArgChange:s,keepUnusedDataFor:c,reducerPath:i}}),N=_.reducer,T=_.actions;sm(e.util,{patchQueryData:h,updateQueryData:g,prefetch:y,resetApiState:T.resetApiState}),sm(e.internalActions,T),Object.defineProperty(e.util,"updateQueryResult",{get:function(){return e.util.updateQueryData}}),Object.defineProperty(e.util,"patchQueryResult",{get:function(){return e.util.patchQueryData}});var w=function(e){var t=e.reducerPath,n=e.queryThunk,r={invalidateTags:Ud(t+"/invalidateTags")},i=[cm,em,tm,nm,rm,om,am].map((function(t){return t(Sf(jf({},e),{refetchQuery:o}))}));return{middleware:function(e){return function(n){var r=Tl.apply(void 0,i.map((function(t){return t(e)})))(n);return function(i){return e.getState()[t]?r(i):n(i)}}},actions:r};function o(e,t,r){return void 0===r&&(r={}),n(jf({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t},r))}}({reducerPath:i,context:n,queryThunk:m,mutationThunk:p,api:e,assertTagType:d}),b=w.middleware,C=w.actions;sm(e.util,C),sm(e,{reducer:N,middleware:b});var j=function(e){var t=e.serializeQueryArgs,n=e.reducerPath;return{buildQuerySelector:function(e,n){return function(o){var a=gf(i,(function(r){var i,a;return null!=(a=o===zf||null==(i=null==r?void 0:r.queries)?void 0:i[t({queryArgs:o,endpointDefinition:n,endpointName:e})])?a:Qf}));return gf(a,r)}},buildMutationSelector:function(){return function(e){var t,n;n="object"===v(e)?null!=(t=Yf(e))?t:zf:e;var o=gf(i,(function(e){var t,r;return null!=(r=n===zf||null==(t=null==e?void 0:e.mutations)?void 0:t[n])?r:Jf}));return gf(o,r)}},selectInvalidatedBy:function(e,t){for(var r,i=e[n],o=new Set,a=0,c=t.map(Mf);a<c.length;a++){var s=c[a],l=i.provided[s.type];if(l)for(var u=0,d=null!=(r=void 0!==s.id?l[s.id]:If(Object.values(l)))?r:[];u<d.length;u++){var f=d[u];o.add(f)}}return If(Array.from(o.values()).map((function(e){var t=i.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]})))}};function r(e){return jf(jf({},e),{status:t=e.status,isUninitialized:t===pf.uninitialized,isLoading:t===pf.pending,isSuccess:t===pf.fulfilled,isError:t===pf.rejected});var t}function i(e){return e[n]}}({serializeQueryArgs:o,reducerPath:i}),S=j.buildQuerySelector,k=j.buildMutationSelector,I=j.selectInvalidatedBy;sm(e.util,{selectInvalidatedBy:I});var E=function(e){var t=e.serializeQueryArgs,n=e.queryThunk,r=e.mutationThunk,i=e.api,o=e.context,a={},c={},s=i.internalActions,l=s.unsubscribeQueryResult,u=s.removeMutationResult,d=s.updateSubscriptionOptions;return{buildInitiateQuery:function(e,r){return function o(c,s){var u=void 0===s?{}:s,f=u.subscribe,m=void 0===f||f,p=u.forceRefetch,h=u.subscriptionOptions;return function(s,u){var f=t({queryArgs:c,endpointDefinition:r,endpointName:e}),g=n({type:"query",subscribe:m,forceRefetch:p,subscriptionOptions:h,endpointName:e,originalArgs:c,queryCacheKey:f}),v=s(g),y=v.requestId,x=v.abort,_=Object.assign(Promise.all([a[f],v]).then((function(){return i.endpoints[e].select(c)(u())})),{arg:c,requestId:y,subscriptionOptions:h,queryCacheKey:f,abort:x,unwrap:function(){return kf(this,null,(function(){var e;return vf(this,(function(t){switch(t.label){case 0:return[4,_];case 1:if((e=t.sent()).isError)throw e.error;return[2,e.data]}}))}))},refetch:function(){s(o(c,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){m&&s(l({queryCacheKey:f,requestId:y}))},updateSubscriptionOptions:function(t){_.subscriptionOptions=t,s(d({endpointName:e,requestId:y,queryCacheKey:f,options:t}))}});return a[f]||(a[f]=_,_.then((function(){delete a[f]}))),_}}},buildInitiateMutation:function(e){return function(t,n){var i=void 0===n?{}:n,o=i.track,a=void 0===o||o,s=i.fixedCacheKey;return function(n,i){var o=r({type:"mutation",endpointName:e,originalArgs:t,track:a,fixedCacheKey:s}),l=n(o),d=l.requestId,f=l.abort,m=l.unwrap,p=l.unwrap().then((function(e){return{data:e}})).catch((function(e){return{error:e}})),h=function(){n(u({requestId:d,fixedCacheKey:s}))},g=Object.assign(p,{arg:l.arg,requestId:d,abort:f,unwrap:m,unsubscribe:h,reset:h});return c[d]=g,g.then((function(){delete c[d]})),s&&(c[s]=g,g.then((function(){c[s]===g&&delete c[s]}))),g}}},getRunningOperationPromises:function(){return yf(yf([],Object.values(a)),Object.values(c)).filter((function(e){return!!e}))},getRunningOperationPromise:function(e,n){var r=o.endpointDefinitions[e];if(r.type===Lf.query){var i=t({queryArgs:n,endpointDefinition:r,endpointName:e});return a[i]}return c[n]}}}({queryThunk:m,mutationThunk:p,api:e,serializeQueryArgs:o,context:n}),P=E.buildInitiateQuery,L=E.buildInitiateMutation,V=E.getRunningOperationPromises,O=E.getRunningOperationPromise;return sm(e.util,{getRunningOperationPromises:V,getRunningOperationPromise:O}),{name:lm,injectEndpoint:function(t,n){var r,i=e;null!=(r=i.endpoints)[t]||(r[t]={}),n.type!==Lf.query?function(e){return e.type===Lf.mutation}(n)&&sm(i.endpoints[t],{select:k(),initiate:L(t)},x(p,t)):sm(i.endpoints[t],{select:S(t,n),initiate:P(t,n)},x(m,t))}}}}},dm=(um(),function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}),fm=Object.defineProperty,mm=Object.defineProperties,pm=Object.getOwnPropertyDescriptors,hm=Object.getOwnPropertySymbols,gm=Object.prototype.hasOwnProperty,vm=Object.prototype.propertyIsEnumerable,ym=function(e,t,n){return t in e?fm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},xm=function(e,t){for(var n in t||(t={}))gm.call(t,n)&&ym(e,n,t[n]);if(hm)for(var r=0,i=hm(t);r<i.length;r++)n=i[r],vm.call(t,n)&&ym(e,n,t[n]);return e},_m=function(e,t){return mm(e,pm(t))};function Nm(e,t,n,r){var i=(0,Il.useMemo)((function(){return{queryArgs:e,serialized:"object"==v(e)?t({queryArgs:e,endpointDefinition:n,endpointName:r}):e}}),[e,t,n,r]),o=(0,Il.useRef)(i);return(0,Il.useEffect)((function(){o.current.serialized!==i.serialized&&(o.current=i)}),[i]),o.current.serialized===i.serialized?o.current.queryArgs:e}var Tm=Symbol();function wm(e){var t=(0,Il.useRef)(e);return(0,Il.useEffect)((function(){iu(t.current,e)||(t.current=e)}),[e]),iu(t.current,e)?t.current:e}var bm,Cm="undefined"!=typeof r&&r.document&&r.document.createElement?Il.useLayoutEffect:Il.useEffect,jm=function(e){return e},Sm=function(e){return e},km=function(e){return e.isUninitialized?_m(xm({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:pf.pending}):e};function Im(e){return e.replace(e[0],e[0].toUpperCase())}function Em(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,dm([e],t))}!function(e){e.query="query",e.mutation="mutation"}(bm||(bm={}));var Pm=Symbol(),Lm=$f(um(),function(e){var t={},n=t.batch,r=void 0===n?jl.unstable_batchedUpdates:n,i=t.useDispatch,o=void 0===i?gu:i,a=t.useSelector,c=void 0===a?Dl:a,s=t.useStore,l=void 0===s?mu:s,u=t.unstable__sideEffectsInRender,d=void 0!==u&&u;return{name:Pm,init:function(e,t,n){var i=t.serializeQueryArgs,a=e,s=function(e){var t=e.api,n=e.moduleOptions,r=n.batch,i=n.useDispatch,o=n.useSelector,a=n.useStore,c=n.unstable__sideEffectsInRender,s=e.serializeQueryArgs,l=e.context,u=c?function(e){return e()}:Il.useEffect;return{buildQueryHooks:function(e){var n=function(n,r){var a=void 0===r?{}:r,c=a.refetchOnReconnect,d=a.refetchOnFocus,f=a.refetchOnMountOrArgChange,m=a.skip,p=void 0!==m&&m,h=a.pollingInterval,g=void 0===h?0:h,v=t.endpoints[e].initiate,y=i(),x=Nm(p?zf:n,s,l.endpointDefinitions[e],e),_=wm({refetchOnReconnect:c,refetchOnFocus:d,pollingInterval:g}),N=(0,Il.useRef)(),T=N.current||{},w=T.queryCacheKey,b=T.requestId,C=o((function(e){var n;return!!w&&!!b&&!(null==(n=e[t.reducerPath].subscriptions[w])?void 0:n[b])}));return u((function(){N.current=void 0}),[C]),u((function(){var e,t=N.current;if(x===zf)return null==t||t.unsubscribe(),void(N.current=void 0);var n=null==(e=N.current)?void 0:e.subscriptionOptions;if(t&&t.arg===x)_!==n&&t.updateSubscriptionOptions(_);else{null==t||t.unsubscribe();var r=y(v(x,{subscriptionOptions:_,forceRefetch:f}));N.current=r}}),[y,v,f,x,_,C]),(0,Il.useEffect)((function(){return function(){var e;null==(e=N.current)||e.unsubscribe(),N.current=void 0}}),[]),(0,Il.useMemo)((function(){return{refetch:function(){var e;null==(e=N.current)||e.refetch()}}}),[])},c=function(n){var o=void 0===n?{}:n,a=o.refetchOnReconnect,c=o.refetchOnFocus,s=o.pollingInterval,l=void 0===s?0:s,d=t.endpoints[e].initiate,f=i(),m=(0,Il.useState)(Tm),p=m[0],h=m[1],g=(0,Il.useRef)(),v=wm({refetchOnReconnect:a,refetchOnFocus:c,pollingInterval:l});u((function(){var e,t,n=null==(e=g.current)?void 0:e.subscriptionOptions;v!==n&&(null==(t=g.current)||t.updateSubscriptionOptions(v))}),[v]);var y=(0,Il.useRef)(v);u((function(){y.current=v}),[v]);var x=(0,Il.useCallback)((function(e,t){var n;return void 0===t&&(t=!1),r((function(){var r;null==(r=g.current)||r.unsubscribe(),g.current=n=f(d(e,{subscriptionOptions:y.current,forceRefetch:!t})),h(e)})),n}),[f,d]);return(0,Il.useEffect)((function(){return function(){var e;null==(e=null==g?void 0:g.current)||e.unsubscribe()}}),[]),(0,Il.useEffect)((function(){p===Tm||g.current||x(p,!0)}),[p,x]),(0,Il.useMemo)((function(){return[x,p]}),[x,p])},f=function(n,r){var i=void 0===r?{}:r,c=i.skip,u=void 0!==c&&c,f=i.selectFromResult,m=void 0===f?jm:f,p=t.endpoints[e].select,h=Nm(u?zf:n,s,l.endpointDefinitions[e],e),g=(0,Il.useRef)(),v=(0,Il.useMemo)((function(){return gf([p(h),function(e,t){return t},function(e){return h}],d)}),[p,h]),y=(0,Il.useMemo)((function(){return gf([v],m)}),[v,m]),x=o((function(e){return y(e,g.current)}),iu),_=a(),N=v(_.getState(),g.current);return Cm((function(){g.current=N}),[N]),x};return{useQueryState:f,useQuerySubscription:n,useLazyQuerySubscription:c,useLazyQuery:function(e){var t=c(e),n=t[0],r=t[1],i=f(r,_m(xm({},e),{skip:r===Tm})),o=(0,Il.useMemo)((function(){return{lastArg:r}}),[r]);return(0,Il.useMemo)((function(){return[n,i,o]}),[n,i,o])},useQuery:function(e,t){var r=n(e,t),i=f(e,xm({selectFromResult:e===zf||(null==t?void 0:t.skip)?void 0:km},t)),o=i.data,a=i.status,c=i.isLoading,s=i.isSuccess,l=i.isError,u=i.error;return(0,Il.useDebugValue)({data:o,status:a,isLoading:c,isSuccess:s,isError:l,error:u}),(0,Il.useMemo)((function(){return xm(xm({},i),r)}),[i,r])}}},buildMutationHook:function(e){return function(n){var a=void 0===n?{}:n,c=a.selectFromResult,s=void 0===c?Sm:c,l=a.fixedCacheKey,u=t.endpoints[e],d=u.select,f=u.initiate,m=i(),p=(0,Il.useState)(),h=p[0],g=p[1];(0,Il.useEffect)((function(){return function(){(null==h?void 0:h.arg.fixedCacheKey)||null==h||h.reset()}}),[h]);var v=(0,Il.useCallback)((function(e){var t=m(f(e,{fixedCacheKey:l}));return g(t),t}),[m,f,l]),y=(h||{}).requestId,x=(0,Il.useMemo)((function(){return gf([d({fixedCacheKey:l,requestId:null==h?void 0:h.requestId})],s)}),[d,h,s,l]),_=o(x,iu),N=null==l?null==h?void 0:h.arg.originalArgs:void 0,T=(0,Il.useCallback)((function(){r((function(){h&&g(void 0),l&&m(t.internalActions.removeMutationResult({requestId:y,fixedCacheKey:l}))}))}),[m,l,h,y]),w=_.endpointName,b=_.data,C=_.status,j=_.isLoading,S=_.isSuccess,k=_.isError,I=_.error;(0,Il.useDebugValue)({endpointName:w,data:b,status:C,isLoading:j,isSuccess:S,isError:k,error:I});var E=(0,Il.useMemo)((function(){return _m(xm({},_),{originalArgs:N,reset:T})}),[_,N,T]);return(0,Il.useMemo)((function(){return[v,E]}),[v,E])}},usePrefetch:function(e,n){var r=i(),o=wm(n);return(0,Il.useCallback)((function(n,i){return r(t.util.prefetch(e,n,xm(xm({},o),i)))}),[e,r,o])}};function d(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){var r=t.endpointName,i=l.endpointDefinitions[r];s({queryArgs:t.originalArgs,endpointDefinition:i,endpointName:r})===s({queryArgs:n,endpointDefinition:i,endpointName:r})&&(t=void 0)}var o=e.isSuccess?e.data:null==t?void 0:t.data;void 0===o&&(o=e.data);var a=void 0!==o,c=e.isLoading,u=!a&&c,d=e.isSuccess||c&&a;return _m(xm({},e),{data:o,currentData:e.data,isFetching:c,isLoading:u,isSuccess:d})}}({api:e,moduleOptions:{batch:r,useDispatch:o,useSelector:c,useStore:l,unstable__sideEffectsInRender:d},serializeQueryArgs:i,context:n}),u=s.buildQueryHooks,f=s.buildMutationHook,m=s.usePrefetch;return Em(a,{usePrefetch:m}),Em(n,{batch:r}),{injectEndpoint:function(t,n){if(n.type===bm.query){var r=u(t),i=r.useQuery,o=r.useLazyQuery,c=r.useLazyQuerySubscription,s=r.useQueryState,l=r.useQuerySubscription;Em(a.endpoints[t],{useQuery:i,useLazyQuery:o,useLazyQuerySubscription:c,useQueryState:s,useQuerySubscription:l}),e["use"+Im(t)+"Query"]=i,e["useLazy"+Im(t)+"Query"]=o}else if(function(e){return e.type===bm.mutation}(n)){var d=f(t);Em(a.endpoints[t],{useMutation:d}),e["use"+Im(t)+"Mutation"]=d}}}}}}()),Vm=s(647),Om=s(410),Am=s.n(Om);function Rm(e){return Rm="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(e){return v(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":v(e)},Rm(e)}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zm(e){return Zm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zm(e)}function Fm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mm(e,t){return Mm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mm(e,t)}function Bm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Um=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=function(e,t){return!t||"object"!==Rm(t)&&"function"!=typeof t?Fm(e):t}(this,(e=Zm(t)).call.apply(e,[this].concat(i))),Bm(Fm(n),"state",{bootstrapped:!1}),Bm(Fm(n),"_unsubscribe",void 0),Bm(Fm(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mm(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&Dm(n.prototype,r),t}(Il.PureComponent);Bm(Um,"defaultProps",{children:null,loading:null});var qm="persist:",Ym="persist/FLUSH",Hm="persist/REHYDRATE",Gm="persist/PAUSE",Wm="persist/PERSIST",zm="persist/PURGE",Km="persist/REGISTER",Qm=-1;function Jm(e){return Jm="function"==typeof Symbol&&"symbol"===v(Symbol.iterator)?function(e){return v(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":v(e)},Jm(e)}function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ep(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xm(n,!0).forEach((function(t){$m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===Jm(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function tp(e){return JSON.stringify(e)}function np(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:qm).concat(e.key),i=e.storage;return e.debug,t=!1===e.deserialize?function(e){return e}:"function"==typeof e.deserialize?e.deserialize:rp,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(e){throw e}}))}function rp(e){return JSON.parse(e)}function ip(e){}function op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?op(n,!0).forEach((function(t){cp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):op(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp=5e3;function lp(e,t){var n=void 0!==e.version?e.version:Qm,r=(e.debug,void 0===e.stateReconciler?ep:e.stateReconciler),i=e.getStoredState||np,o=void 0!==e.timeout?e.timeout:sp,a=null,c=!1,s=!0,l=function(e){return e._persist.rehydrated&&a&&!s&&a.update(e),e};return function(u,d){var f=u||{},m=f._persist,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(f,["_persist"]);if(d.type===Wm){var h=!1,g=function(t,n){h||(d.rehydrate(e.key,t,n),h=!0)};if(o&&setTimeout((function(){!h&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),o),s=!1,a||(a=function(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,a="".concat(void 0!==e.keyPrefix?e.keyPrefix:qm).concat(e.key),c=e.storage;t=!1===e.serialize?function(e){return e}:"function"==typeof e.serialize?e.serialize:tp;var s=e.writeFailHandler||null,l={},u={},d=[],f=null,m=null;function p(){if(0===d.length)return f&&clearInterval(f),void(f=null);var e=d.shift(),n=i.reduce((function(t,n){return n.in(t,e,l)}),l[e]);if(void 0!==n)try{u[e]=t(n)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete u[e];0===d.length&&(Object.keys(u).forEach((function(e){void 0===l[e]&&delete u[e]})),m=c.setItem(a,t(u)).catch(g))}function h(e){return!(r&&-1===r.indexOf(e)&&"_persist"!==e||n&&-1!==n.indexOf(e))}function g(e){s&&s(e)}return{update:function(e){Object.keys(e).forEach((function(t){h(t)&&l[t]!==e[t]&&-1===d.indexOf(t)&&d.push(t)})),Object.keys(l).forEach((function(t){void 0===e[t]&&h(t)&&-1===d.indexOf(t)&&void 0!==l[t]&&d.push(t)})),null===f&&(f=setInterval(p,o)),l=e},flush:function(){for(;0!==d.length;)p();return m||Promise.resolve()}}}(e)),m)return ap({},t(p,d),{_persist:m});if("function"!=typeof d.rehydrate||"function"!=typeof d.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),i(e).then((function(t){var r=e.migrate||function(e,t){return Promise.resolve(e)};r(t,n).then((function(e){g(e)}),(function(e){g(void 0,e)}))}),(function(e){g(void 0,e)})),ap({},t(p,d),{_persist:{version:n,rehydrated:!1}})}if(d.type===zm)return c=!0,d.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:qm).concat(e.key);return t.removeItem(n,ip)}(e)),ap({},t(p,d),{_persist:m});if(d.type===Ym)return d.result(a&&a.flush()),ap({},t(p,d),{_persist:m});if(d.type===Gm)s=!0;else if(d.type===Hm){if(c)return ap({},p,{_persist:ap({},m,{rehydrated:!0})});if(d.key===e.key){var v=t(p,d),y=d.payload,x=ap({},!1!==r&&void 0!==y?r(y,u,v,e):v,{_persist:ap({},m,{rehydrated:!0})});return l(x)}}if(!m)return t(u,d);var _=t(p,d);return _===p?u:l(ap({},_,{_persist:m}))}}function up(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dp(n,!0).forEach((function(t){mp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dp(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pp={registry:[],bootstrapped:!1},hp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Km:return fp({},e,{registry:[].concat(up(e.registry),[t.key])});case Hm:var n=e.registry.indexOf(t.key),r=up(e.registry);return r.splice(n,1),fp({},e,{registry:r,bootstrapped:0===r.length});default:return e}};function gp(e,t,n){var r=n||!1,i=_l(hp,pp,t&&t.enhancer?t.enhancer:void 0),o=function(e){i.dispatch({type:Km,key:e})},a=function(t,n,o){var a={type:Hm,payload:n,err:o,key:t};e.dispatch(a),i.dispatch(a),r&&c.getState().bootstrapped&&(r(),r=!1)},c=fp({},i,{purge:function(){var t=[];return e.dispatch({type:zm,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:Ym,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:Gm})},persist:function(){e.dispatch({type:Wm,register:o,rehydrate:a})}});return t&&t.manualPersist||c.persist(),c}var vp,yp,xp,_p,Np=n(92954),Tp=s.n(Np),wp=!1,bp=function(){return"function"!=typeof Tp().getLaunchOptionsSync?{fakeDate:!1}:(null===(e=Tp().getLaunchOptionsSync())||void 0===e?void 0:e.query)||{fakeDate:!1};var e},Cp=function(){var e,t;return"release"!==("function"==typeof(null===Tp()||void 0===Tp()?void 0:Tp().getAccountInfoSync)&&(null===(e=Tp().getAccountInfoSync())||void 0===e||null===(t=e.miniProgram)||void 0===t?void 0:t.envVersion))&&(bp().playback||wp)},jp=function(e,t,n){var r=e[t];e[t]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=r.apply(void 0,t);if(!n({args:t,res:o}))return o}},Sp={base64:{key:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",btoa:function(e,t){for(var n=(t=t||{}).key||Sp.base64.key,r="",i=0,o=t.charCodeArray?function(t){return e[t]}:function(t){return e.charCodeAt(t)};i<e.length;){var a=o(i++),c=o(i++),s=o(i++);r+=n[a>>2]+n[(3&a)<<4|c>>4]+n[isNaN(c)?64:(15&c)<<2|s>>6]+n[isNaN(s)?64:63&s]}return r},encode:function(e){return Sp.base64.btoa(unescape(encodeURIComponent(e)))}}},kp=Sp.base64.encode,Ip=function(){return!!bp().coffeebean},Ep=function(e){return e instanceof Error?{message:e.message,stack:e.stack}:"string"==typeof e?e:JSON.stringify(e)};function Pp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fl(r.key),r)}}function Vp(e,t,n){return t&&Lp(e.prototype,t),n&&Lp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.MINI_INIT="MINI_INIT",e.INIT_PAGE="INIT_PAGE",e.AJAX="AJAX",e.FN="FN",e.STORAGE_LOAD="STORAGE_LOAD",e.GET_AJAX_LIST="GET_AJAX_LIST",e.GET_STORAGE="GET_STORAGE",e.MINI_PAGE_SCROLL="MINI_PAGE_SCROLL",e.SCROLL_VIEW_SCROLL="SCROLL_VIEW_SCROLL",e.INIT_LOAD_DATA="INIT_LOAD_DATA"}(vp||(vp={})),function(e){e.REQUEST_RUN_TYPE="REQUEST_RUN_TYPE",e.READY="READY",e.STEP="STEP",e.ERROR="ERROR",e.REPLAY_STEP="REPLAY_STEP",e.EXEC_STEP="EXEC_STEP",e.STOP_RECORD="STOP_RECORD",e.EXPECT="EXPECT"}(yp||(yp={})),function(e){e.RECORD="RECORD",e.REPLAY="REPLAY"}(xp||(xp={})),function(e){e.ADD="ADD"}(_p||(_p={}));var Op,Ap="%c[coffeebean]",Rp=Ip(),Dp=Rp?console.log.bind(console,Ap,"color:cyan"):function(){},Zp=Rp?console.error.bind(console,Ap,"color:cyan"):function(){},Fp="0.6.3",Mp="$COFFEEBEAN_INIT$",Bp=0,Up=function(e){return e.replace(/.+(\d{4})(\d{2})(\d{2}).+/,"$1-$2-$3")},qp=function(){function e(t){Pp(this,e),ml(this,"devData",[]),ml(this,"data",[]),ml(this,"routeMap",new Map),ml(this,"lastIdx",-1),ml(this,"idx",0),ml(this,"prevScrollInfo",null),ml(this,"prevScrollID",void 0),ml(this,"reqBaseParam",{}),ml(this,"sendLocker",!1),ml(this,"token",function(){var e=new Date,t=e.getFullYear(),n="0"+(e.getMonth()+1),r="0"+e.getDate();return Bp++,"".concat("PRD","-").concat(0,"-").concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),"-").concat(t).concat(n.slice(-2)).concat(r.slice(-2),"-").concat(Bp,"-").concat(Fp,"-MINI")}()),ml(this,"collectSwitch",!0),e.$instanceList.push(this),e.instance=this,t&&this.setSaveReqParam(t)}return Vp(e,[{key:"bindRoute",value:function(e){this.routeMap.set(e,!0)}},{key:"unBindRoute",value:function(e){return this.routeMap.delete(e),0===this.routeMap.size&&(this.save(!1),!0)}},{key:"hasRoute",value:function(){return this.routeMap.size>0}},{key:"setSaveReqParam",value:function(e){this.reqBaseParam=hl({},e)}},{key:"createSaveReqParam",value:function(e){return hl(hl({},this.reqBaseParam),{},{token:this.token,replayContent:e})}},{key:"setCollectSwitch",value:function(e){this.collectSwitch=e}},{key:"getLastItem",value:function(){return this.data[this.data.length-1]}},{key:"isScrollItem",value:function(e){return[vp.SCROLL_VIEW_SCROLL,vp.MINI_PAGE_SCROLL].includes(e)}},{key:"add",value:function(t){if(this.collectSwitch){var n=hl({ts:Date.now(),idx:this.idx},t);this.data.push(n),Ip()&&this.devData.push(n),this.idx++,this.isScrollItem(t.eventType)||(this.prevScrollInfo=null),e.events[_p.ADD]&&e.events[_p.ADD].forEach((function(e){return e(n)}))}}},{key:"addPage",value:function(t,n){this.add({eventType:vp.INIT_PAGE,eventParam:t,eventExtend:{params:n,miniInitData:e.miniInitData}})}},{key:"addInit",value:function(t){this.add(t),e.miniInitData=t}},{key:"checkScrollInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case"+":return t>=n?"":"-";case"-":return t<=n?"":"+";default:return t>n?"+":t<n?"-":""}}},{key:"addScroll",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vp.SCROLL_VIEW_SCROLL,i=t.scrollTop,o=t.scrollLeft,a=t.route,c=this.getLastItem();this.prevScrollID&&clearTimeout(this.prevScrollID),this.prevScrollID=setTimeout((function(){n.prevScrollInfo=null}),1e3);var s=!0,l="",u="";c&&this.prevScrollInfo&&this.prevScrollInfo.eventType===r&&((l=this.checkScrollInfo(this.prevScrollInfo.scrollLeftType,o,this.prevScrollInfo.scrollLeft))||(c.ts=+new Date,c.eventExtend.scrollLeft=o,s=!1),(u=this.checkScrollInfo(this.prevScrollInfo.scrollTopType,i,this.prevScrollInfo.scrollTop))||(c.ts=+new Date,c.eventExtend.scrollTop=i,s=!1)),this.prevScrollInfo&&(this.prevScrollInfo.scrollLeftType=l,this.prevScrollInfo.scrollTopType=u),s&&(this.prevScrollInfo={eventType:r,scrollTop:i||0,scrollLeft:o||0,scrollLeftType:l,scrollTopType:u},this.add({eventType:r,eventParam:e,eventExtend:{scrollTop:i,scrollLeft:o,route:a}}))}},{key:"addGetStorage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.add({eventType:vp.STORAGE_LOAD,eventParam:e,eventExtend:{params:{value:t},isCWX:n}})}},{key:"addInitLoadData",value:function(e,t){this.add({eventType:vp.INIT_LOAD_DATA,eventParam:e,eventExtend:{data:t}})}},{key:"addFn",value:function(e,t){this.add({eventType:vp.FN,eventParam:e,eventExtend:t})}},{key:"getSendData",value:function(){return this.data}},{key:"getSendContentList",value:function(){return Dp("getSendContentList",this.data),this.data.length?(this.lastIdx=this.data[this.data.length-1].idx,function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5,n=[],r=Math.ceil(e.length/t),i=0;i<r;i++)n.push(e.slice(0,t)),e=e.slice(t);return n}(kp(JSON.stringify(this.data)))):[]}},{key:"clearData",value:function(){var e=this;this.data=this.data.filter((function(t){return t.idx>e.lastIdx}))}},{key:"addRequest",value:function(e,t){this.add({eventType:vp.AJAX,eventParam:e,eventExtend:t})}},{key:"validate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Dp("validate",JSON.stringify(this.reqBaseParam)),!(e&&this.sendLocker||!this.collectSwitch||!this.getSendData().length)}},{key:"send",value:function(t){var n=e.cwx;return new Promise((function(e,r){n.request({url:"/restapi/soa2/20589/SaveTraceInfo?_fxpcqlniredt",header:{"Content-Type":"application/json"},data:t,success:function(t){e(t)},fail:function(e){r(e)}})}))}},{key:"save",value:function(e){var t=this;if(this.validate(e)){this.sendLocker=!0;var n=+new Date,r=this.getSendContentList()||[],i=r.length;Promise.all(r.map((function(e,r){var o="{spID=".concat(r,",gID=").concat(n,",len=").concat(i,"}")+e,a=t.createSaveReqParam(o);return t.send(a)}))).then((function(e){t.sendLocker=!1,t.clearData(),Dp(t.token,"save success",e)})).catch((function(e){t.sendLocker=!1,Zp(t.token,"save error",e)}))}}},{key:"getToken",value:function(){return this.token}}],[{key:"on",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}},{key:"onPageUnload",value:function(t){var n=e.instance.unBindRoute(t);if(Dp("onPageUnload",n),n){var r=e.$instanceList.pop();e.instance=e.$instanceList[e.$instanceList.length-1],r&&e.instance.setSaveReqParam(r.reqBaseParam)}}},{key:"useNewToken",value:function(t){return new e(hl({},e.instance.reqBaseParam)),e.instance.bindRoute(t),e.instance.token}}]),e}();ml(qp,"cwx",void 0),ml(qp,"$instanceList",[]),ml(qp,"instance",void 0),ml(qp,"miniInitData",void 0),ml(qp,"events",{}),Object.defineProperty(qp,"instance",{get:function(){return Op||(Op=new qp)},set:function(e){Op=e}}),new Map;var Yp=function(e){return"object"===v(e[0])?e[0].key:e[0]},Hp=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=n.args,i=n.res;Promise.resolve(i).then((function(n){var i=Yp(r);!e.has(i)&&n&&(qp.instance.addGetStorage(i,n,t),e.add(i))}))}},Gp=function(e){return function(t){var n=t.args,r=Yp(n);e.add(r)}},Wp=function(e){return function(t){var n=t.args,r=Yp(n);e.delete(r)}},zp=function(e,t,n){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){var r=t[0];if("object"===v(r)&&(r.success||r.complete))return t[0]=hl(hl({},r),{},{success:function(e){n({args:t,res:e}),r.success&&r.success(e)},complete:function(e){n({args:t,res:e}),r.complete&&r.complete(e)}}),e.apply(void 0,Bl(t))}var i=e.apply(void 0,Bl(t));if(!n({args:t,res:i}))return i},Kp=function(e){var t=new Set;return{getStorage:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return zp(e.getStorage,r,Hp(t,!0),!0)},setStorage:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return zp(e.setStorage,r,Gp(t))},getStorageSync:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return zp(e.getStorageSync,r,Hp(t,!0))},setStorageSync:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return zp(e.setStorageSync,r,Gp(t))}}},Qp={},Jp=function(){function e(t,n){var i,o,a,c;Pp(this,e),ml(this,"config",void 0),ml(this,"tid",void 0),ml(this,"sendLocker",void 0),ml(this,"dep",void 0),this.dep=n,this.config=hl({code:"",env:Tp().getEnv(),extendCommon:"",autoInterval:5e3,path:""},t),this.sendLocker=!1,this.initQConfig(),t.requestConfig&&(c=t.requestConfig,Qp=hl(hl({},Qp),c));var l=n.cwx,u=l.getSystemInfoSync(),d=u.windowWidth,f=u.windowHeight,m=u.pixelRatio,p=u.language,h=null===(i=function(){switch("weapp"){case"weapp":return wx;case"swan":return swan;case"alipay":return my;case"tt":return Page;case"qq":return qq;case"quickapp":default:return{};case"h5":return r}}())||void 0===i?void 0:i.buildId,g="function"==typeof(null===Tp()||void 0===Tp()?void 0:Tp().getAccountInfoSync)&&(null===(o=Tp().getAccountInfoSync())||void 0===o||null===(a=o.miniProgram)||void 0===a?void 0:a.envVersion);Ip()&&(s.g.ActionList=qp.instance),qp.cwx=l;var v,y={code:this.config.code||"",bizCode:this.config.bizCode||"",orderid:this.config.orderid||0,tsid:this.config.transactionid||"",replayType:"MINI-"+this.config.env,uid:this.config.uid||"",version:Fp,extend:this.config.extendCommon||""};qp.instance.setSaveReqParam(y),qp.instance.addInit({eventType:vp.MINI_INIT,eventParam:h,eventExtend:{w:d,h:f,pr:m,locale:p,taroEnv:this.config.env,tzo:(new Date).getTimezoneOffset()}}),v=new Set,jp(Tp(),"getStorageSync",Hp(v)),jp(Tp(),"getStorage",Hp(v)),jp(Tp(),"setStorageSync",Gp(v)),jp(Tp(),"setStorage",Gp(v)),jp(Tp(),"removeStorageSync",Wp(v)),jp(Tp(),"removeStorage",Wp(v)),this.auto(),"release"===g&&h&&l.mcdAppId&&qp.instance.send(hl(hl({},y),{},{extend:JSON.stringify({buildId:h,mcdAppId:l.mcdAppId}),token:qp.instance.token,replayType:"MINI",replayContent:"START"})).catch(Zp)}return Vp(e,[{key:"auto",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;this.tid=setTimeout((function(){e.save(),e.auto(t)}),t)}},{key:"initQConfig",value:function(){var e=this;return Dp("initQConfig"),new Promise((function(t,n){e.dep.cwx.request({url:"/restapi/soa2/16163/GetConfigInfo?_fxpcqlniredt",header:{"Content-Type":"application/json"},data:{},success:t,fail:n})})).then((function(e){var t=JSON.parse(e.data.text);return bp().coffeebean||t.switch&&Math.random()<=t.ratio?(Dp("initQConfig 1"),qp.instance.setCollectSwitch(!0)):(Dp("initQConfig 2"),qp.instance.setCollectSwitch(!1)),e})).catch((function(e){qp.instance.setCollectSwitch(!1),Zp("initQConfig catch",e)}))}},{key:"save",value:function(){qp.instance.save(this.dep.cwx)}},{key:"trackPage",value:function(){var e,t=this.config.path,n=Tp().getCurrentPages(),r=n[n.length-2],i=n[n.length-1],o=(null==r||null===(e=r.route)||void 0===e?void 0:e.indexOf(t))>-1;if(i&&(o||!qp.instance.hasRoute()?qp.instance.bindRoute(i.route):qp.useNewToken(i.route),!i[Mp])){var a=i.onUnload;i.onUnload=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.apply(i,t),Dp("currentPage.route",i.route,t),qp.onPageUnload(i.route)},i[Mp]=!0}}},{key:"getToken",value:function(){return qp.instance.token}}]),e}(),Xp=s(691),$p=s.n(Xp);function eh(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function th(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){eh(o,r,i,a,c,"next",e)}function c(e){eh(o,r,i,a,c,"throw",e)}a(void 0)}))}}var nh=function(){function e(t,n){if(Pp(this,e),ml(this,"token",void 0),ml(this,"res",void 0),e.current=this,this.token=t,!n)throw Error("\u56de\u6eaf\u6570\u636e\u4e0d\u5b58\u5728 res:".concat(n," token:").concat(t));this.res=n}return Vp(e,[{key:"getActionList",value:function(){return this.res.actionList.filter((function(e){return![vp.MINI_INIT].includes(e.eventType)}))}},{key:"getRequestItem",value:function(e){return this.res.requestList.filter((function(t){return!t.played&&t.eventParam.indexOf(e.replace(/.+\/platform-taro/,""))>-1}))[0]}},{key:"getInitItem",value:function(){return this.res.actionList.filter((function(e){return e.eventType===vp.MINI_INIT}))[0]}},{key:"getJumpInfo",value:function(){var e,t,n=this.res.actionList.filter((function(e){return e.eventType===vp.INIT_PAGE}))[0];if(!n)return null;var r=null==n?void 0:n.eventParam;return{url:r?"/"+r:"",data:null===(e=n.eventExtend)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.data}}},{key:"getInitLoadData",value:function(e){var t,n=this.res.actionList.filter((function(t){return t.eventParam===e&&t.eventType===vp.INIT_LOAD_DATA}))[0];return null==n||null===(t=n.eventExtend)||void 0===t?void 0:t.data}}]),e}();ml(nh,"current",void 0);var rh,ih={code:"",setConfig:function(e){ih.code=e.code},fetch:(rh=th($p().mark((function e(t,n,r){var i;return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){var o=Up(n);Dp("tokenDate",o),r({url:t,header:{"Content-Type":"application/json"},data:{code:ih.code,token:n,sTime:"".concat(o," 00:00:00"),eTime:"".concat(o," 23:59:59")},success:e,fail:i})}));case 2:return i=e.sent,Dp("data",i.data),e.abrupt("return",new nh(n,i.data));case 5:case"end":return e.stop()}}),e)}))),function(e,t,n){return rh.apply(this,arguments)})},oh={},ah=function(){},ch=function(e){Dp("mockFn",e.eventParam);var t=oh[e.eventParam];if(!t)return!0;try{t&&t.apply(void 0,Bl(e.eventExtend.args.map((function(e){return"TaroEvent"===e.__type__&&(e.stopPropagation=ah),e}))))}catch(e){console.error(e)}},sh=function(e){Dp("fireScroll",e);var t=o.getElementById(e.eventParam);Dp("elem",t,null==t?void 0:t.scrollTo,Tp()),t?Tp().createSelectorQuery().select("#"+e.eventParam).node().exec((function(t){t[0].node.scrollTo({top:e.eventExtend.scrollTop,left:e.eventExtend.scrollLeft})})):Tp().pageScrollTo({scrollTop:e.eventExtend.scrollTop})},lh=function(e){Tp().pageScrollTo({scrollTop:e.eventExtend.scrollTop})},uh=n(32180),dh=!0;function fh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mh(e,t){return mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mh(e,t)}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ph(e)}function hh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var gh=n(71515);function vh(e,t,n){return vh=hh()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&mh(i,n.prototype),i},vh.apply(null,arguments)}var yh,xh=function(e){r.__RealDate=r.__RealDate||r.Date;var t=r.__RealDate,n=t.now(),i=new t(e).getTime(),o=function(){return+(t.now()-n+i)};r.Date=new Proxy(r.Date,{construct:function(e,t){return 0===t.length?new e(o()):vh(e,Bl(t))},get:function(e,t){return"now"===t?function(){return new e(o()).getTime()}:Reflect.get(e,t)}})},_h=function(){function e(t,n,r){var i=this,o=r.onFinish,a=r.isRecordModel;Pp(this,e),ml(this,"handlerMap",void 0),ml(this,"processList",void 0),ml(this,"totalDelay",void 0),ml(this,"tid",void 0),this.handlerMap=n,this.totalDelay=0,this.processList=t,function e(){i.tid=setTimeout((function(){i.run(),a||i.processList.length?e():o&&o()}),300)}()}return Vp(e,[{key:"stop",value:function(){clearTimeout(this.tid)}},{key:"addAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.processList.push(hl(hl({},e),{},{delay:t}))}},{key:"run",value:function(){var e=this;this.totalDelay+=300;var t=[];this.processList.forEach((function(n){if(n.delay>e.totalDelay)t.push(n);else{var r=(n.retryTimes||0)+1;Dp("fire action",n,"times:",r),e.handlerMap[n.eventType]&&e.handlerMap[n.eventType](n)&&(r<10?t.push(hl(hl({},n),{},{retryTimes:r})):(i="o_flight_coffeebean_mini_dev",o=n,(c=(a=Tp().getCurrentPages())[a.length-1])&&c.ubtDevTrace?(c.ubtDevTrace(i,o),Dp("[ubtDevTrace]",i,o)):Dp("[ubtDevTrace error]","page",!c,"ubtTrace",!c.ubtDevTrace,i,o),Dp("error action",n)))}var i,o,a,c})),this.processList=t}}]),e}(),Nh=function(){function e(t){Pp(this,e),ml(this,"socketTask",void 0),ml(this,"messageQueue",[]),ml(this,"config",void 0),this.config=hl({},t),this.init()}return Vp(e,[{key:"init",value:function(){var e=this,t=this.config,n=t.cwx,r=t.url,i=n.connectSocket({url:r,header:{sourceGroup:"fltest_minitset"},success:function(){Dp("WebSocket connection success")},fail:function(e){Zp("WebSocket connection fail",e)}});i.onOpen((function(){Dp("WebSocket connection opened"),e.socketTask=i,i.send({data:JSON.stringify({name:"coffeebean_client"})}),e.messageQueue.forEach((function(t){e.socketTask.send({data:JSON.stringify(t.message)})}))})),i.onClose((function(){Dp("WebSocket connection closed"),e.socketTask=null})),i.onError((function(e){Tp().showModal({title:"WebSocket connection error",content:JSON.stringify({url:r,error:e})}),Zp("WebSocket connection error",e)})),i.onMessage((function(t){try{var n,r,o=JSON.parse(t.data);e.messageQueue=e.messageQueue.filter((function(e){return e.message.messageID===o.messageID&&e.resolve(o),e.message.messageID!==o.messageID})),null===(n=(r=e.config.onReceiveMessage)[o.cmd])||void 0===n||n.call(r,{message:o,sendFn:function(e){i.send({data:JSON.stringify(hl(hl({},o),{},{data:e,name:"coffeebean_client"}))})}}),Dp("WebSocket received message",o)}catch(e){Zp("WebSocket received message Error",e)}}))}},{key:"waitAllMessageSend",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return new Promise((function(n,r){var i=setTimeout((function(){r("waitAllMessageSend timeout")}),t),o=setInterval((function(){0===e.messageQueue.length&&(clearTimeout(i),clearInterval(o),n())}),100)}))}},{key:"send",value:function(e){var t=this;return new Promise((function(n,r){var i=setTimeout((function(){r("socket send timeout")}),1e4),o=hl(hl({},e),{},{messageID:"C_"+Date.now()});t.messageQueue.push({message:o,resolve:function(e){clearTimeout(i),n(e)}}),Dp("WebSocket send message",o),t.socketTask&&t.socketTask.send({data:JSON.stringify(o)})}))}},{key:"sendError",value:function(e){return this.send({cmd:yp.ERROR,data:{detail:Ep(e)}})}}]),e}(),Th=new Map,wh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return new Promise((function(t,n){var r=setTimeout((function(){n("waitAllRequestMapDone timeout")}),e),i=setInterval((function(){0===Th.size&&(clearTimeout(r),clearInterval(i),t())}),100)}))},bh=function e(t,n,r){var i=n.url,o=n.data,a=r.times,c=void 0===a?0:a,s=r.guid,l=void 0===s?i+Date.now():s,u=new Promise((function(n,r){t({url:i,header:{"Content-Type":"application/json"},data:o,success:function(a){Dp(a),a.data.isSuccess?(Th.delete(l),Dp("saveRequest success",a.data),n(a.data)):c<3?n(e(t,{url:i,data:o},{times:c+1,guid:l})):(Th.delete(l),r(a.data))},fail:function(a){c<3?n(e(t,{url:i,data:o},{times:c+1,guid:l})):(Th.delete(l),r(a))}})}));return Th.has(l)||Th.set(l,u),u},Ch=function(e){var t=e.socketService,n=e.cwx,r=e.page,i=e.message,o=i.data.url||"/pages/flight/pages/home/index",a=i.data.saveUrl||"http://test.storage.fws.qa.nt.ctripcorp.com/api/saveEventData";new _h([],{},{onFinish:function(){},isRecordModel:!0}),Dp("navigateTo",o),qp.on(_p.ADD,function(){var e=th($p().mark((function e(r){return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(![vp.FN,vp.SCROLL_VIEW_SCROLL,vp.MINI_PAGE_SCROLL].includes(r.eventType)){e.next=5;break}return e.next=3,t.send({cmd:yp.STEP,data:{token:qp.instance.token,action:r}});case 3:e.next=7;break;case 5:Dp("saveRequest",qp.instance.token,r.eventType),bh(n.request,{url:a,data:{token:qp.instance.token,eventData:JSON.stringify([r])}},{}).then((function(e){Dp("saveRequest success",e)})).catch((function(e){t.sendError(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.navigateTo({url:o,success:function(){return Dp("navigateTo success")},fail:function(e){return Zp("navigateTo fail",e)}})},jh=function(){var e=th($p().mark((function e(t){var n,r,i,o,a,c,s,l,u,d,f;return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.socketService,r=t.cwx,i=t.page,o=t.message,wp=!0,a=o.data,c=a.queryUrl,s=void 0===c?"http://test.storage.fws.qa.nt.ctripcorp.com/api/queryEventData":c,l=a.token,e.next=5,bh(r.request,{url:s,data:{token:l}},{}).catch((function(e){n.sendError(e)}));case 5:if(u=e.sent){e.next=8;break}return e.abrupt("return");case 8:["storageList","requestList"].forEach((function(e){u[e]=u[e].map((function(e){return e.eventExtend=JSON.parse(e.eventExtendString),e}))})),d=new nh(l,u),i.mockEnv(d),i.mockStorage(d),Dp("uiReplay",l,u,d),f=d.getJumpInfo(),Dp("info",f),i.navigateTo(hl(hl({},f),{},{complete:function(){n.send({cmd:yp.READY,data:{}})},fail:function(e){n.sendError(e)}}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sh=function(){var e=th($p().mark((function e(t){return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("expectFn",t),e.abrupt("return",{result:!0,msg:""});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kh=function(e){Sh=e},Ih=function(){var e=th($p().mark((function e(t){return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Eh=function(){var e=th($p().mark((function e(t,n,r){var i,o,a,c,s;return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml(i={},vp.FN,ch),ml(i,vp.SCROLL_VIEW_SCROLL,sh),ml(i,vp.MINI_PAGE_SCROLL,lh),a=i,c=new Nh({cwx:n,url:decodeURIComponent(t),onReceiveMessage:(o={},ml(o,yp.EXPECT,function(){var e=th($p().mark((function e(t){var n,r,i;return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.message,r=t.sendFn,e.next=3,Ih(n.data).catch((function(e){return Zp(e),{result:!1,detail:Ep(e)}}));case 3:i=e.sent,r(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ml(o,yp.STOP_RECORD,function(){var e=th($p().mark((function e(t){var n,r,i;return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sendFn,qp.instance.collectSwitch=!1,e.next=4,wh().catch((function(e){return e}));case 4:return r=e.sent,e.next=7,c.waitAllMessageSend().catch((function(e){return e}));case 7:i=e.sent,n({isFinish:!(r||i),requestErrMsg:r,socketErrMsg:i});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ml(o,yp.REPLAY_STEP,function(){var e=th($p().mark((function e(t){var n,r,i;return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.message,r=t.sendFn,e.next=3,new Promise((function(e,t){var r=setTimeout((function(){clearInterval(i),t("REPLAY_STEP timeout")}),15e3),i=setInterval((function(){a[n.data.eventType](n.data)||(clearInterval(i),clearTimeout(r),e({result:!0,msg:""}))}),100)})).catch((function(e){return Zp(e),{result:!1,detail:Ep(e)}}));case 3:i=e.sent,r(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ml(o,yp.EXEC_STEP,(function(e){var t=e.message,n=e.sendFn;Dp(t),n({result:!0,msg:""})})),o)}),e.next=4,c.send({cmd:yp.REQUEST_RUN_TYPE,data:{}});case 4:s=e.sent,e.t0=s.data.runType,e.next=e.t0===xp.RECORD?8:e.t0===xp.REPLAY?10:13;break;case 8:return Ch({socketService:c,cwx:n,page:r,message:s}),e.abrupt("break",14);case 10:return e.next=12,jh({socketService:c,cwx:n,page:r,message:s});case 12:case 13:return e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();!function(e){e[e.START_RECORD=1]="START_RECORD",e[e.STOP_RECORD=2]="STOP_RECORD"}(yh||(yh={}));var Ph,Lh=function(e,t,n){var r=function(){var e=th($p().mark((function e(n,r){var i;return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){Ip()?(Dp("changeUITaskStatus",e.url,e.data),setTimeout((function(){e.success({data:{success:!0}})}),1e3)):t.request(e)},e.abrupt("return",new Promise((function(e){i({url:decodeURIComponent(null==r?void 0:r.aUrl),header:{"Content-Type":"application/json"},data:{key:null==r?void 0:r.airTestToken,status:n},success:function(t){t.data.success?e(!0):(Zp(t.data),e(!1))},fail:function(t){Zp(t),e(!1)}})})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return n&&n({setExpectFn:kh}),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mh(e,t)}(s,e);var n,i,o,a,c=(o=s,a=hh(),function(){var e,t=ph(o);if(a){var n=ph(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fh(e)}(this,e)});function s(){var e;Pp(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ml(fh(e=c.call.apply(c,[this].concat(n))),"coffeebeanActionRunner",void 0),e}return Vp(s,[{key:"mockEnv",value:function(e){var t=e.getInitItem();null!=t&&t.ts&&new xh(+t.ts)}},{key:"mockStorage",value:function(e){Dp("replayData",e),Tp().setStorageSync("flight_scrollView_enhanced",1),e.res.storageList.forEach((function(e){var n,r=e.eventExtend.isCWX,i="string"==typeof e.eventExtend.params.value?e.eventExtend.params.value:null===(n=e.eventExtend.params.value)||void 0===n?void 0:n.data;r?t.setStorageSync(e.eventParam,i):Tp().setStorageSync(e.eventParam,i)}))}},{key:"jump",value:(i=th($p().mark((function e(t){var n,i,o,a,c=this;return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getJumpInfo(),o=null===(n=(0,Np.getCurrentInstance)().router)||void 0===n?void 0:n.params,Dp("navigateTo",i),a=Boolean((null==o?void 0:o.airTestToken)&&(null==o?void 0:o.aUrl)),!i){e.next=14;break}if(!a){e.next=11;break}return e.next=8,r(yh.START_RECORD,o);case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:this.navigateTo(hl(hl({},i),{},{complete:function(e){var t;Dp("navigateTo complete",e);var n=nh.current.getActionList();Dp("actionList",n);var i=(ml(t={},vp.FN,ch),ml(t,vp.SCROLL_VIEW_SCROLL,sh),ml(t,vp.MINI_PAGE_SCROLL,lh),t);c.coffeebeanActionRunner=new _h(n,i,{isRecordModel:!1,onFinish:function(){a&&r(yh.STOP_RECORD,o)}})}})),e.next=15;break;case 14:console.error("\u672a\u83b7\u53d6\u5230\u8df3\u8f6curl\uff0c\u65e0\u6cd5\u56de\u6eaf \uff08\u53ef\u80fd\u6570\u636e\u4e0d\u5168\uff09",t);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"autoCheckPage",value:function(e){setInterval((function(){var n=Tp().getCurrentPages(),r=n[n.length-1];null!=r&&r.route&&!e.res.pageList.includes(null==r?void 0:r.route)&&(Dp("autoCheckPage navigateBack"),t.navigateBack()),console.log("currentPage",r)}),5e3)}},{key:"onLoad",value:(n=th($p().mark((function e(){var n,r,i;return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(n=(0,Np.getCurrentInstance)().router)||void 0===n?void 0:n.params,Dp("before fetch"),null==r||!r.flyTestSocket){e.next=4;break}return e.abrupt("return",Eh(r.flyTestSocket,t,this));case 4:if(null==r||!r.url||null==r||!r.token){e.next=8;break}return e.next=7,ih.fetch(decodeURIComponent(r.url),r.token,t.request).catch((function(e){Dp("err",e)}));case 7:i=e.sent;case 8:if(!i){e.next=16;break}return this.mockEnv(i),this.mockStorage(i),this.autoCheckPage(i),e.next=14,this.jump(i);case 14:e.next=17;break;case 16:console.error("token",null==r?void 0:r.token,"replayData\u83b7\u53d6\u5931\u8d25\u65e0\u6cd5\u56de\u6eaf");case 17:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return El().createElement(gh.View,null,El().createElement(gh.Text,null,"loading...."))}}]),s}(e)},Vh=function(e,t){var n=t.cwx;Tp().getEnv()!==Np.ENV_TYPE.WEB&&(Cp()?(ih.setConfig(e),Dp("isPlaybackModel")):Ph||(Ph=new Jp(e,{cwx:n})))},Oh=function(e,t){return Cp()?function(e,t){return oh[e]=function(){t.apply(void 0,arguments)},function(){t.apply(void 0,arguments)}}(e,t):function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];try{var o,a,c={args:r.map((function(e){return e instanceof uh.TaroEvent?(a=e,{__type__:"TaroEvent",detail:e.detail,type:e.type}):e}))};if(1===c.args.length&&"scroll"===(null===(o=a)||void 0===o?void 0:o.type)){var s={scrollTop:a.detail.scrollTop,scrollLeft:a.detail.scrollLeft,route:(l=Tp().getCurrentPages(),l.length?l[l.length-1].route:"")};qp.instance.addScroll(e,s)}else dh&&(Dp(e),qp.instance.addFn(e,c),dh=!1)}catch(e){console.error(e)}var l;try{t&&t.apply(void 0,r)}catch(e){throw dh=!0,e}dh=!0}}(e,t)},Ah=function(e){return Cp()?function(e){var t=e||{},n=t.url,r=t.success,i=t.fail,o=nh.current.getRequestItem(n);return o?(o.played=!0,Dp("inject",n),setTimeout((function(){"fail"===o.eventExtend.type?i(o.eventExtend.response):r(o.eventExtend.response)}),100),{url:"/",data:{ori:n}}):(Dp("pass",n),e)}(e):function(e){var t=e||{},n=t.url,r=t.success,i=t.fail;if(/\/20589\/SaveTraceInfo/.test(n))return e;var o=Date.now();return e.success=function(e){var t,i,a,c=Qp.getRootID?Qp.getRootID(n,e):Qp.useRootMessageId&&(null==e||null===(t=e.data)||void 0===t||null===(i=t.ResponseStatus)||void 0===i||null===(a=i.Extension)||void 0===a?void 0:a.filter((function(e){return"RootMessageId"===(null==e?void 0:e.Id)}))[0].Value)||0;qp.instance.addRequest(n,{startTime:o,url:n,responseTime:Date.now(),response:c?"":e,rootID:c}),r&&r(e)},e.fail=function(e){qp.instance.addRequest(n,{startTime:o,url:n,type:"fail",responseTime:Date.now(),response:e,rootID:""}),i&&i(e)},e}(e)},Rh=function(){return Ph?Ph.getToken():""},Dh=function(){return Tp().getEnv()===Np.ENV_TYPE.WEB||Cp()?void 0:(Ph.trackPage(),function(){var e=Tp().getCurrentPages();if(e.length){var t=e[e.length-1];qp.instance.addPage(t.$taroPath,t.$taroParams),t.$cb$onPageScroll||(t.$cb$onPageScroll=t.onPageScroll||function(){},t.onPageScroll=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];try{var i;Dp("onPageScroll",n),n[0]&&null!==(i=n[0])&&void 0!==i&&i.scrollTop&&qp.instance.addScroll(t.route,{scrollTop:n[0].scrollTop},vp.MINI_PAGE_SCROLL)}catch(e){console.error(e)}t.$cb$onPageScroll.apply(t,n)})}}())},Zh=function(e){return Cp()?function(e){null==e||e.callback({ReturnCode:"0"})}:e},Fh=function(e){return Cp()?function(){}:e},Mh=function(e){var t=e.height,n=e.availableFullHeight,r=void 0===n?0:n,i=e.className,o=void 0===i?"":i,a=e.show,c=void 0!==a&&a,s=e.animation,l=void 0===s||s,u=e.mask,d=void 0===u||u,f=e.zIndex,m=void 0===f?10:f,p=e.noRound,h=void 0!==p&&p,g=e.fullHeight,v=void 0!==g&&g,y=e.backgroundColor,x=void 0===y?"":y,_=e.iconClosable,N=void 0===_||_,T=e.slotTitle,w=void 0!==T&&T,b=e.limitHeight,C=void 0===b||b,j=e.useScrollViewContent,S=void 0===j||j,k=e.render,I=e.confirmText,E=void 0===I?"":I,P=e.preRender,L=void 0===P||P,V=e.renderTitle,O=void 0===V?"":V,A=e.position,R=void 0===A?"bottom":A,D=e.cancelBtnText,Z=void 0===D?"\u53d6\u6d88":D,F=e.confirmBtnText,M=void 0===F?"\u786e\u5b9a":F,B=e.onClose,U=void 0===B?function(){}:B,q=e.onConfirm,Y=void 0===q?function(){}:q,H=e.onCancel,G=void 0===H?function(){}:H,W=e.children,z=Ml((0,Il.useState)(!1),2),K=z[0],Q=z[1];(0,Il.useEffect)((function(){setTimeout((function(){L&&Q(!0)}),500)}),[L]);var J=k||c||K,X=v?{height:"".concat(r,"px"),maxHeight:"100%",borderTop:"1px solid #eee"}:{},$=m?{zIndex:m}:{},ee=x?{backgroundColor:x}:{};return J&&El().createElement(gh.View,{className:Am()("popup",o,{"popup-show":c,animation:l}),onTouchMove:function(e){return e.stopPropagation&&e.stopPropagation()},catchtouchmove:function(){}},d&&El().createElement(gh.View,{className:"popup-mask",style:$,onClick:Oh("onClose--5fc6d",U)}),El().createElement(gh.View,{className:Am()("popup-container","popup-".concat(R),{"no-round":h}),style:hl(hl(hl({},$),X),ee)},(O||w)&&El().createElement(gh.View,{className:Am()("popup-header",{"btn-header":!N}),style:v?{borderRadius:0}:{}},N?El().createElement(El().Fragment,null,El().createElement(gh.View,{style:{display:"flex",flexDirection:"row",alignItems:"center"}},El().createElement(gh.View,{className:"icon-content",onClick:Oh("onClose--2b2af",U)},El().createElement(gh.Text,{className:"iconfont-h5 icon-close"})),El().createElement(gh.View,{className:"title-content"},O),E?El().createElement(gh.View,{className:"new-btn-confirm",onClick:Oh("onConfirm--3a222",Y)},E):null)):El().createElement(El().Fragment,null,El().createElement(gh.View,{className:"btn-cancel",onClick:Oh("onCancel--d192d",G)},Z),El().createElement(gh.View,{className:"title-content"},O),El().createElement(gh.View,{className:"btn-confirm",onClick:Oh("onConfirm--43c4e",Y)},M))),S&&El().createElement(gh.ScrollView,{scrollY:!0,className:"popup-content",style:C?v?{height:"100%"}:{maxHeight:t+"px"}:{height:t+"px"},id:"id_a6429",onScroll:Oh("id_a6429")},W),!S&&El().createElement(gh.View,{className:"popup-content",style:C?v?{height:"100%"}:{}:{height:t+"px"}},W)))||null},Bh=function(e){var t=e.checked,n=e.disabled,r=e.classNames,i=e.text,o=e.onChange,a=Ml((0,Il.useState)(t),2),c=a[0],s=a[1],l=(0,Il.useCallback)((function(){n||(s(!c),o(!c),(0,Np.vibrateShort)())}),[s,o,n,c]),u=Ml(i,2),d=u[0],f=u[1];return El().createElement(gh.View,{className:Am()("switch-pinyin",r),onClick:Oh("onSwitch--a75d8",l)},El().createElement(gh.View,{key:"checked",className:Am()("switch-pinyin-item",{checked:t})},d),El().createElement(gh.View,{key:"unchecked",className:Am()("switch-pinyin-item",{checked:!t})},f))},Uh=function(e){var t=v(e);return null!=e&&("object"===t||"function"===t)};function qh(e){var t,n,i,o,a,c,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=0,d=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(r){var i=t,a=n;return t=n=void 0,u=r,o=e.apply(a,i)}function h(e,t){return setTimeout(e,t)}function g(e){var t=e-c;return void 0===c||t>=s||t<0||f&&e-u>=i}function v(){var e=r.Date.now();if(g(e))return y(e);a=h(v,function(e){var t=e-u,n=s-(e-c);return f?Math.min(n,i-t):n}(e))}function y(e){return a=void 0,m&&t?p(e):(t=n=void 0,o)}function x(){for(var e=r.Date.now(),i=g(e),l=arguments.length,m=new Array(l),y=0;y<l;y++)m[y]=arguments[y];if(t=m,n=this,c=e,i){if(void 0===a)return function(e){return u=e,a=h(v,s),d?p(e):o}(c);if(f)return a=h(v,s),p(c)}return void 0===a&&(a=h(v,s)),o}return s=+s||0,Uh(l)&&(d=!!l.leading,i=(f="maxWait"in l)?Math.max(+l.maxWait||0,s):i,m="trailing"in l?!!l.trailing:m),x.cancel=function(){void 0!==a&&clearTimeout(a),u=0,t=c=n=a=void 0},x.flush=function(){return void 0===a?o:y(r.Date.now())},x.pending=function(){return void 0!==a},x}function Yh(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Uh(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qh(e,t,{leading:r,trailing:i,maxWait:t})}var Hh={title:"",time:2e3},Gh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?hl(hl({},Hh),{},{title:e}):hl(hl({},Hh),e),n=t.time,r=t.icon||"none";(0,Np.showToast)({title:t.title||"",duration:n,icon:r,complete:function(){t.onHide&&setTimeout((function(){t.onHide&&t.onHide()}),n-200)}})};function Wh(e){return e.replace(/(<table)|(<tr)|(<td)/g,"$& class='addborder'").replace(/<li/g,"$& class='item'").replace(/(<ul)|(<ol)/g,"$& class='list'")}var zh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=r.match(e),o=[];if(i&&i.length>0){var a=0;i.forEach((function(e){var i=r.indexOf(e);if(!(i<=-1||a>i)){var c=r.slice(a,i);a=i+e.length,o.push({text:c,active:!1},{text:e.slice(t,n),active:!0})}}));var c=r.slice(a);o.push({text:c,active:!1})}else o.push({text:r,active:!1});return o}},Kh=zh(/\[(.*?)\]/gm,1,-1),Qh=zh(/<HLink>(.*?)<\/HLink>/gm,7,-8),Jh=zh(/<img>(.*?)<\/img>/gm,5,-6),Xh=function(){return Tp().getEnv()===Tp().ENV_TYPE.WEB};function $h(e){var t=e.listComponent,n=e.indexMenuStyle,r=e.list,i=e.className,a=e.jumpTargetIndexKey,c=e.jumpTargetIndex,s=e.isVibrate,l=void 0!==s&&s,u=e.onScroll,d=Ml((0,Il.useState)(!1),2),f=d[0],m=d[1],p=Ml((0,Il.useState)(""),2),h=p[0],g=p[1],v=Ml((0,Il.useState)(0),2),y=v[0],x=v[1],_=Ml((0,Il.useState)(""),2),N=_[0],T=_[1],w=Ml((0,Il.useState)(-1),2),b=w[0],C=w[1],j=Ml((0,Il.useState)(0),2),S=j[0],k=j[1],I=Ml((0,Il.useState)(0),2),E=I[0],P=I[1],L=(0,Il.useMemo)((function(){var e=mn((function(e){return!!e.indexTitle}),r);return e.map((function(e){return{indexTitle:e.indexTitle||"",indexKey:e.indexKey||""}}))}),[r]);(0,Il.useEffect)((function(){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return new Promise((function(n){var r=(0,Np.createSelectorQuery)();(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;return new Promise((function(t){setTimeout((function(){t()}),e)}))})(t).then((function(){r.select(e).boundingClientRect().exec((function(e){n(e)}))}))}))})(".m-indexes__menu").then((function(e){if(e&&e[0]){var t=e[0].height;k(e[0].top),P(Math.floor(t/(L.length+1)))}}))}),[L]);var V=(0,Il.useMemo)((function(){return"js-list"}),[]),O=(0,Il.useCallback)((function(e,t){var n="m-indexes__list-".concat(e),i=Zr((function(t){return t.indexKey===e}),r),a=null==i?void 0:i.indexTitle;if(Xh()){var c=o.getElementById(V);if(c){var s=c.children[t].offsetTop;x(s)}g(n),a&&T(a)}else g(n),a&&T(a),l&&Tp().vibrateShort();m(!0)}),[l,r,V]),A=(0,Il.useCallback)((function(e){e.stopPropagation(),e.preventDefault();var t=e.touches[0].pageY,n=Math.floor((t-S)/E);if(n>=0&&n<r.length&&b!==n){C(n);var i=r[n].indexKey;i&&O(i,n)}}),[S,E,r,b,O]),R=function(){m(!1),C(-1)};(0,Il.useEffect)((function(){a&&!tt(c)&&(O(a,c),R())}),[O,a,c]);var D=(0,Il.useCallback)((function(e){e&&e.detail&&x(e.detail.scrollTop),u&&u(e)}),[u]),Z=(0,Il.useMemo)((function(){var e=Ur(ic("indexTitle",N),r);return r.map((function(n,i){return El().createElement(gh.View,{id:"m-indexes__list-".concat(n.indexKey||i),style:i===r.length-1?{paddingBottom:"300rpx"}:{},key:"segments-".concat(i)},t({item:n,index:i,isShow:!f||i>=e-2&&i<=e+5}))}))}),[r,t,f,N]);return El().createElement(gh.View,{className:"m-indexes"},El().createElement(gh.ScrollView,{scrollY:!0,enableBackToTop:!0,id:V,scrollTop:Xh()?y:void 0,scrollIntoView:Xh()?void 0:h,onScroll:Oh(V,D),className:Am()("m-indexes__scroll-view",i)},Z),El().createElement(gh.View,{className:"m-indexes__menu",style:n,catchMove:!0,onTouchMove:A,onTouchEnd:R},L.map((function(e,t){var n=e.indexTitle,r=e.indexKey,i=(null==n?void 0:n.length)>1;return El().createElement(gh.View,{className:Am()("m-indexes__menu-item",{first:i,active:f&&!i&&n===N}),key:r,id:"".concat(r),onClick:Oh("".concat(r)+r,(function(){O(r,t),setTimeout((function(){R()}),500)}))},f&&n===N&&El().createElement(gh.View,{className:Am()("m-indexes__menu-symbol",{first:i})},n),El().createElement(gh.Text,{className:"m-indexes__menu-txt"},n))}))))}var eg=function(e){var t,n=e.bottom,r=void 0===n?150:n,i=e.onClick,o=void 0===i?function(e){}:i;return El().createElement(gh.View,{className:"back-top-icon",onClick:Oh("onClick--6af7f",o),style:{bottom:(t=r,(0,Np.pxTransform)(t,750))}},El().createElement(gh.Image,{className:"back-top-icon-svc",src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-backtop/icon-backtop.svg"}))};function tg(e,t){if(null==e)return{};var n,r,i=ql(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ng=["scrollIntoView","children"];var rg=function(e){var t=e.scrollIntoView,n=e.children,r=tg(e,ng);(0,Il.useRef)();return Tp().getEnv()===Tp().ENV_TYPE.WEB?El().createElement(gh.View,hl(hl({},r),{},{scrollIntoView:t}),n):El().createElement(gh.ScrollView,Ul({},hl(hl({},r),{},{scrollIntoView:t}),{id:"id_c8be3",onScroll:Oh("id_c8be3")}),n)},ig=["className","label","iconNodes","leftNodes"],og=El().forwardRef((function(e,t){var n=e.className,r=void 0===n?"":n,i=e.label,o=void 0===i?"":i,a=e.iconNodes,c=void 0===a?null:a,s=e.leftNodes,l=void 0===s?null:s,u=tg(e,ig);return El().createElement(gh.View,{className:"input-container ".concat(r)},o&&El().createElement(gh.Text,{className:"mini-input"},o),l,El().createElement(gh.View,{className:"inner-input-box"},El().createElement(gh.CustomWrapper,null,El().createElement(gh.Input,Ul({className:"inner-input",ref:t},u)))),c)}));og.displayName="MiniInput";var ag=s(509),cg=s.n(ag),sg=["nodes"];function lg(e){var t=e.nodes,n=tg(e,sg),r=Ml((0,Il.useState)(t),2),i=r[0],o=r[1];return(0,Il.useEffect)((function(){o(t)}),[t]),El().createElement(gh.RichText,Ul({},n,{nodes:i}))}var ug=function(e,t){switch(t.type){case"FETCH_INIT":return hl(hl({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return hl(hl({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"FETCH_FAILURE":return hl(hl({},e),{},{isLoading:!1,isError:!0});default:throw new Error}},dg=function(e){var t=e.names,n=e.cityName;if(!t)return!1;var r=t.map((function(e){return e&&e.trim()}));return r.indexOf("\u4e2d\u56fd")<0||[/\u6fb3\u95e8/,/\u9999\u6e2f/,/\u53f0\u5317/,/\u53f0\u4e2d/,/\u53f0\u5357/,/\u53f0\u4e1c/,/\u9ad8\u96c4/,/\u82b1\u83b2/,/\u91d1\u95e8/].some((function(e){return e.test(n)}))};function fg(e,t){if(1===(null==t?void 0:t.length)){var n=[],r=t.map((function(e){return hl(hl({},e),{},{isTheme:!0})}));return n.push([].concat(Bl(r),Bl(ir(2,e)))),n.push(kr(e.length-2,e)),n}return e}function mg(e,t){return Array.isArray(e)?e.map((function(e){return Array.isArray(e)?mg(e,t):hl(hl({},e),{},{regionType:t})})):hl(hl({},e),{},{regionType:t})}var pg="\u5386\u53f2/\u70ed\u95e8",hg="\u70ed\u95e8",gg="\u5f53\u524d/\u5386\u53f2(\u542b\u56fd\u5185\u3001\u56fd\u9645/\u4e2d\u56fd\u6e2f\u6fb3\u53f0)",vg="\u5386\u53f2(\u542b\u56fd\u5185\u3001\u56fd\u9645/\u4e2d\u56fd\u6e2f\u6fb3\u53f0)",yg="\u5f53\u524d\u57ce\u5e02/\u673a\u573a",xg=function(e,t,n){var r=[];if(1===(null==t?void 0:t.length)&&null!=n&&n.length?r.push({indexTitle:"\u5386\u53f2",indexKey:"history",indexSegments:[{title:gg,type:"cities",segments:[].concat(Bl(t),Bl(n))}]}):(null!=t&&t.length&&r.push({indexTitle:"",indexKey:"",indexSegments:[{title:yg,type:"cities",segments:t}]}),null!=n&&n.length&&r.push({indexTitle:"\u5386\u53f2",indexKey:"history",indexSegments:[{title:vg,type:"history",segments:n}]})),e){var i=e.cities,o=void 0===i?{}:i,a=e.hotCities,c=void 0===a?[]:a,s=e.themes,l=function(e,t){if(null!=t&&t.length){var n=[],r=t.map((function(e){return hl(hl({},e),{},{isTheme:!0})})),i=Zc(2,r),o=i.some((function(e){return 2!==e.length})),a=i.length;return o?(1!==a&&n.push(ir(a-1,i)),n.push([].concat(Bl(kr(1,i)[0]),Bl(ir(4,e)))),n.push(kr(e.length-4,e))):(n.push.apply(n,Bl(i)),n.push(e)),n}return e}(c,void 0===s?[]:s);r.push({indexTitle:hg,indexKey:"hotCities",indexSegments:[{title:"\u70ed\u95e8\u57ce\u5e02",type:"hotCities",segments:mg(l,"DOMESTIC")},{title:"\u5b57\u6bcd\u7d22\u5f15",type:"letter",segments:Object.keys(o)}]})}return r},_g=(0,Il.memo)((function(e){var t=e.segmentItem,n=e.className,r=e.onCleanCityHistory,i=t.type,o=t.title;return["cities","history","hotCities"].includes(i)?El().createElement(gh.View,{className:Am()("module-title","title-".concat(o),n)},El().createElement(gh.View,{className:"module-title__left"},o),"history"===i&&El().createElement(gh.View,{className:"module-title__right",onClick:Oh("onCleanCityHistory--476de",r)},El().createElement(gh.View,{className:"iconfont-h5 icon-delete"}," \u6e05\u9664"))):"letter"===i?El().createElement(gh.View,{className:Am()("module-title",n)},o):null})),Ng=function(e){var t=e.segmentItem,n=e.index,r=e.className,i=e.currentTab,o=e.selectedCityCode,a=e.onClickAlphabet,c=e.onSelectCity,s=e.regionType,l=e.column,u=e.tagsConfigs,d=void 0===u?[]:u,f=t.type,m=t.segments,p=d.find((function(e){return"rightTag"===(null==e?void 0:e.type)&&(null==e?void 0:e.show)}))||{},h=p.codeList,g=void 0===h?[]:h,v=p.content,y=void 0===v?"":v,x=function(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Bl(e);n&&r.length%l!=0;)r.push({});return r.map((function(e,n){return 0===Object.keys(e).length?El().createElement(gh.View,{key:t+"-"+n,className:Am()("city-item empty")}):El().createElement(gh.View,{key:"".concat(e.cityCode,"-").concat(n,"-").concat(t),className:Am()("city-item",{"super-long":(e.airportName||e.cityName).length>4,active:o&&o===e.cityCode,distance:!!e.distance}),onClick:Oh("".concat(e.cityCode,"-").concat(n,"-").concat(t)+"--39e46",(function(){return c(e)}))},"INTERNATIONAL"===s&&e.tag&&El().createElement(gh.View,{className:"city-tag"},e.tag),El().createElement(gh.View,{className:Am()("city-name",{"location iconfont-h5 icon-location":e.isLocation})},e.airportName||e.cityName),("A-Z"===i||"\u514d\u7b7e\u843d\u5730\u7b7e"===i)&&"INTERNATIONAL"===s&&El().createElement(gh.View,{className:"city-country-code"},e.countryName,"A-Z"===i?" ".concat(e.cityCode):""),e.distance&&El().createElement(gh.View,{className:"distance"},"\u8ddd\u79bb".concat(e.distance,"KM")),g.includes(e.cityCode)&&El().createElement(gh.View,{className:"bubble"},y))}))};if("letter"===f)return El().createElement(gh.View,{className:"letter-content"},m.map((function(e,t){return El().createElement(gh.View,{key:"content_".concat(e,"_").concat(t,"_").concat(n),className:Am()("letter-item",r),onClick:Oh("content_".concat(e,"_").concat(t,"_").concat(n)+"--ff732",(function(){return a(e,t)}))},e)})));if(["cities","history"].includes(f))return El().createElement(gh.View,{className:Am()("city-content",r,{"hot-city":i===pg})},x(m,n));if(["hotCities"].includes(f)){var _=m.filter((function(e){return Array.isArray(e)})),N=m.filter((function(e){return!Array.isArray(e)}));return El().createElement(El().Fragment,null,_.map((function(e,t){return function(e,t){var n=e.filter((function(e){return e.isTheme})),i=e.filter((function(e){return!e.isTheme})),o=n.length&&i.length,a=n.map((function(e){return El().createElement(gh.View,{key:e.themeName+t,className:"theme-box",onClick:Oh(e.themeName+t+"--8b4d7",(function(){return c(e)}))},e.iconUrl&&El().createElement(gh.Image,{src:e.iconUrl,className:"theme-icon"}),El().createElement(gh.View,{className:"theme-name"},e.themeName))}));return El().createElement(gh.View,{className:Am()("city-content",r),key:t},a,o?El().createElement(gh.View,{className:"city-mixed"},x(i,t,!1)):x(i,t))}(e,n+"-"+t+"theme")})),El().createElement(gh.View,{className:Am()("city-content",r)},x(N,n+"-regular")))}return null},Tg=(0,Il.memo)(Ng),wg=(0,Il.memo)((function(e){var t=e.selectedCityCode,n=e.currentCityAirport,r=e.cityHistory,i=e.domesticCityGalleryData,o=e.onSelectCity,a=e.onCleanCityHistory,c=e.tagsConfigs,s=Ml((0,Il.useState)(""),2),l=s[0],u=s[1],d=Ml((0,Il.useState)(0),2),f=d[0],m=d[1],p=Ml((0,Il.useState)(!0),2),h=p[0],g=p[1],v=Ml((0,Il.useState)([]),2),y=v[0],x=v[1];(0,Il.useEffect)((function(){if(i)if(h){var e=xg(i,n,r);x(e),g(!1)}else x(function(e,t,n){var r=xg(e,t,n);if(e){var i=e.cities,o=ls(void 0===i?{}:i),a=ge((function(e){var t=Ml(e,2),n=t[0];return{indexTitle:n,indexKey:n,indexSegments:[{title:n,type:"cities",segments:mg(t[1],"DOMESTIC")}]}}),o);return[].concat(Bl(r),Bl(a))}return r}(i,n,r))}),[r,n,i,h]);var _=(0,Il.useCallback)((function(e,t){m(t),u(e)}),[]);return El().createElement($h,{list:y,jumpTargetIndexKey:l,jumpTargetIndex:f,onScroll:Oh("onScroll--2faf4",(function(){})),className:"scroll-board",listComponent:function(e){var n=e.item,r=n.indexSegments,i=n.indexTitle,s=e.isShow;return r.map((function(e,n){return El().createElement(El().Fragment,{key:"indexSegments_".concat(n)},El().createElement(_g,{segmentItem:e,className:"domestic-title",indexTitle:i,onCleanCityHistory:a}),El().createElement(Tg,{segmentItem:e,indexTitle:i,index:n,isShow:s,className:"domestic",selectedCityCode:t,onClickAlphabet:Oh("indexSegments_".concat(n)+"--onClickAlphabet-531a9",_),onSelectCity:o,regionType:"DOMESTIC",column:4,tagsConfigs:c}))}))}})})),bg=(0,Il.memo)((function(e){var t,n=e.tripType,r=e.selectedCityCode,i=e.selectedCurrentTab,o=e.currentCityAirport,a=e.cityHistory,c=e.internationalCityGalleryData,s=e.onSelectCity,l=e.onCleanCityHistory,u=e.tagsConfigs,d=Ml((0,Il.useState)(0),2),f=d[0],m=d[1],p=Ml((0,Il.useState)(i||pg),2),h=p[0],g=p[1],v=(0,Il.useMemo)((function(){var e=[];return 1===(null==o?void 0:o.length)&&null!=a&&a.length?e.push({title:gg,type:"cities",segments:[].concat(Bl(o),Bl(a))}):(null!=o&&o.length&&e.push({title:yg,type:"cities",segments:o}),null!=a&&a.length&&e.push({title:vg,type:"history",segments:a})),e}),[o,a]),y=(0,Il.useMemo)((function(){var e,t,n=null==c||null===(e=c.tabs)||void 0===e||null===(e=e[pg])||void 0===e?void 0:e[hg];return n?hl(hl({},c),{},{tabs:hl(hl({},null==c?void 0:c.tabs),{},ml({},pg,hl(hl({},null==c||null===(t=c.tabs)||void 0===t?void 0:t[pg]),{},ml({},hg,fg(n,null==c?void 0:c.themes)))))}):c}),[c]),x=(0,Il.useMemo)((function(){if(!y)return{};var e=y.tabs,t=ls(e);return we((function(e,t){var n=Ml(t,2),r=n[0],i=n[1],o=ls(i),a=[];return r===pg&&a.push.apply(a,Bl(v||[])),"A-Z"===r&&a.push({title:"\u5b57\u6bcd\u7d22\u5f15",type:"letter",segments:Object.keys(i)}),hl(hl({},e),{},ml({},r,[].concat(a,Bl(ge((function(e){var t=Ml(e,2),n=t[0],i=t[1];return{type:pg===r?"hotCities":"cities",title:n,segments:mg(i,"INTERNATIONAL")}}))(o)))))}),{},t)}),[y,v]),_=(0,Il.useMemo)((function(){if(y){var e=y.tabs;return Object.keys(e)}return[]}),[y]),N=(0,Il.useCallback)((function(e){if("MULTIPLE_TRIP"===n)return Gh("\u6682\u4e0d\u652f\u6301\u56fd\u9645\u591a\u7a0b\u67e5\u8be2\uff0c\u656c\u8bf7\u671f\u5f85");g(e)}),[n]),T=(0,Il.useCallback)((function(e){var t,n=(0,Np.createSelectorQuery)();n.select(".international-title").boundingClientRect((function(e){t=e&&e.top})).exec(),setTimeout((function(){n.select(".title-".concat(e)).boundingClientRect((function(e){e&&e.top&&m(e.top-t)})).exec()}),200)}),[]);return El().createElement(El().Fragment,null,El().createElement(gh.View,{className:"_div side-nav-container"},_.map((function(e,t){return El().createElement(gh.View,{key:"tabName_".concat(e,"_").concat(t),className:"_div nav ".concat(e===h?"active":""),onClick:Oh("tabName_".concat(e,"_").concat(t)+"--6420e",(function(){return N(e)}))},e)}))),El().createElement(gh.ScrollView,{scrollY:!0,scrollTop:f,className:"scroll-board",style:{left:"125%",right:"-100%"},id:"id_67883",onScroll:Oh("id_67883")},null===(t=x[h])||void 0===t?void 0:t.map((function(e,t){return El().createElement(gh.View,{key:"header_".concat(e.title,"_").concat(t),className:Am()({"last-child":t===x[h].length-1})},El().createElement(_g,{segmentItem:e,indexTitle:t,className:"international-title",onCleanCityHistory:l}),El().createElement(Tg,{segmentItem:e,index:t,className:"international",selectedCityCode:r,currentTab:h,onClickAlphabet:Oh("id_67883--"+"header_".concat(e.title,"_").concat(t)+"--onClickAlphabet-6c529",T),onSelectCity:s,regionType:"INTERNATIONAL",column:3,tagsConfigs:u}))}))))})),Cg=El().memo((function(e){var t=e.flag,n=e.children,r=(0,Il.useRef)(0);return(0,Il.useEffect)((function(){t&&r.current++}),[t]),0===r.current?t?n:null:n})),jg=(0,Il.memo)((function(e){var t=e.isSearching,n=e.inputText,r=e.tripType,i=e.regionType,o=e.selectedCityCode,a=e.selectedCurrentTab,c=e.onSelectCity,s=e.domesticCityGalleryData,l=e.internationalCityGalleryData,u=e.onCleanCityHistory,d=e.currentCityAirport,f=e.cityHistory,m=e.disableIndex,p=e.sendTrace,h=e.tagsConfigs,g=Ml((0,Il.useState)({DOMESTIC:0,INTERNATIONAL:1}[i]||0),2),v=g[0],y=g[1],x=(0,Il.useCallback)((function(e){if(m!==e){if("MULTIPLE_TRIP"===r&&1===e)return Gh("\u6682\u4e0d\u652f\u6301\u56fd\u9645\u591a\u7a0b\u67e5\u8be2\uff0c\u656c\u8bf7\u671f\u5f85");e!==v&&y(e),p("c_flt_xcx_home_citypage","c_flt_xcx_home_citypage_nation")}}),[m,r,v,p]);return El().createElement(gh.View,{className:Am()("plus-content",{city_hidden:t}),style:t&&n?{display:"none"}:{}},El().createElement(gh.View,{className:"tabs",style:t&&n?{display:"none"}:{}},["\u56fd\u5185","\u56fd\u9645/\u4e2d\u56fd\u6e2f\u6fb3\u53f0"].map((function(e,t){return El().createElement(gh.View,{className:Am()("tab-wrapper",{disable:m===t}),onClick:Oh(t+"--3a4c4",(function(){return x(t)})),key:t},El().createElement(gh.View,{className:Am()("tab",{active:v===t})},e,m===t?"(\u6682\u4e0d\u652f\u6301)":""))}))),El().createElement(gh.View,{className:Am()("pane-wrap","animated",{city_hidden:t}),style:{transform:"translateX(".concat(0===v?"0":"-100%",") translateZ(0)")}},El().createElement(gh.View,{className:"tab-panel domestic"},El().createElement(Cg,{flag:0===v},El().createElement(wg,{selectedCityCode:o,currentCityAirport:d,cityHistory:f,onSelectCity:c,onCleanCityHistory:u,domesticCityGalleryData:s,tagsConfigs:h}))),El().createElement(gh.View,{className:"tab-panel international"},El().createElement(Cg,{flag:1===v},El().createElement(bg,{tripType:r,selectedCityCode:o,selectedCurrentTab:a,currentCityAirport:d,cityHistory:f,onSelectCity:c,onCleanCityHistory:u,internationalCityGalleryData:l,tagsConfigs:h})))))})),Sg={SIGHT:"\u666f\u70b9",COUNTRY:"\u56fd\u5bb6",PROVINCE:"\u7701/\u5dde",AIRPORT:"\u673a\u573a",NEAR_CITY:"\u57ce\u5e02",CITY:"\u57ce\u5e02"},kg=function(e,t,n){var r,i=" ";"CITY"===n?i=" (\u6240\u6709\u673a\u573a)":"NEAR_CITY"===n&&(i=" (\u65e0\u673a\u573a)"),e.airportCode?r="".concat(e.cityName," ").concat(e.airportName," ").concat(e.airportCode):e.cityName?r="".concat(e.cityName," ").concat(e.cityCode):(Bl(e)[0]+=i,r=e.join(" "));var o=RegExp("^\\s+|\\s+$","g");return r=r.replace(o,""),RegExp("^[\u4e00-\u9fa5]+$").test(t)&&(r=r.replace(t,'<label class="highlight">'.concat(t,"</label>"))),r},Ig=function(e){return e.airports&&e.airports.length?e.airports:e.cities},Eg=(0,Il.memo)((function(e){var t=e.searchItems,n=e.isError,r=e.onClickFuzzyItem;if(null==t||!t.length)return null;var i=function(e,t){return function(){r(e,t)}};return El().createElement(gh.ScrollView,{scrollY:!0,className:"scroll-board",id:"id_f0e8b",onScroll:Oh("id_f0e8b")},El().createElement(gh.View,{className:"poi-panel-container"},t.map((function(e){return El().createElement(gh.View,{style:n||t.length<=0?{display:"none"}:{},key:"".concat(e.cityCode,"-").concat(e.airportCode),className:"_div"},El().createElement(gh.View,{onClick:Oh("id_f0e8b--"+"".concat(e.cityCode,"-").concat(e.airportCode)+"--a71c4",i(e)),className:"father-class father-container"},El().createElement(gh.View,{className:"label-tag"},e.typeName),El().createElement(gh.View,{className:"content"},El().createElement(gh.View,{className:"_span",dangerouslySetInnerHTML:{__html:e.nodes}}))),e.subItems.map((function(t){return El().createElement(gh.View,{key:"".concat(e.cityCode,"-").concat(e.airportCode,"-").concat(t.cityCode,"-").concat(t.airportCode),onClick:Oh("id_f0e8b--"+"".concat(e.cityCode,"-").concat(e.airportCode,"-").concat(t.cityCode,"-").concat(t.airportCode)+"--2b7d0",i(t,e)),className:"children-class father-container"},"SIGHT"!==e.poiType&&"AIRPORT"!==e.poiType&&"NEAR_CITY"!==e.poiType?El().createElement(gh.Image,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/index-searchcard/icon-layer-morecity.svg",className:"symbol symbol-morecity"}):El().createElement(gh.View,{className:"label-tag"},"\u90bb\u8fd1"),El().createElement(gh.View,{className:"content"},El().createElement(gh.View,{className:"near-label",style:{marginRight:"6px"},dangerouslySetInnerHTML:{__html:t.nodes}})),El().createElement(gh.View,{className:"other distance"},t.distance?"".concat(t.distance,"km"):""))})))}))))}));function Pg(e){var t=e.switchTabFn,n=e.searchType,r=e.selects,i=e.placeholder,o=e.onInput,a=e.className,c=e.searchRef,s=e.value,l=e.cityClickCb,u=e.confirmCb,d=e.sendTrace;return(0,Il.useEffect)((function(){n&&d("s_flt_xcx_home_citypage","s_flt_xcx_home_citypage_confirm")}),[n,d]),El().createElement(gh.View,{className:"city-input-container ".concat(a)},El().createElement(gh.View,{className:"city-left-nodes"},El().createElement(gh.View,{className:"city-select-tabs"},El().createElement(gh.View,{className:Am()("select-tabs",{left:!n})},El().createElement(gh.View,{className:Am()("tab",{active:!n}),onClick:Oh("onClick--c4620",(function(){d("c_flt_xcx_home_citypage","c_flt_xcx_home_citypage_choice"),t(!1)}))},El().createElement(gh.View,{className:"tab-txt"},"\u5355\u9009")),El().createElement(gh.View,{className:Am()("tab",{active:n}),onClick:Oh("onClick--e1795",(function(){d("c_flt_xcx_home_citypage","c_flt_xcx_home_citypage_choice"),t(!0)}))},El().createElement(gh.View,{className:"tab-txt"},"\u591a\u9009"))))),r.length&&n?El().createElement(gh.ScrollView,{className:"select-scroll-view",style:{flexShrink:1===r.length?0:1},scrollX:!0,enableFlex:!0,enhanced:!0,scrollWithAnimation:!0,scrollIntoView:"".concat(r[r.length-1].cityCode),id:"id_85dde",onScroll:Oh("id_85dde")},El().createElement(gh.View,{className:"select-box"},r.map((function(e){return El().createElement(gh.View,{className:"select-city",key:e.cityCode,id:e.cityCode,onClick:Oh(e.cityCode+e.cityCode,(function(){return l(e)}))},El().createElement(gh.Text,{className:"city-name"},function(e){var t=e.airportName;return t&&(t=t.replace(/(\u56fd\u9645)?\u673a\u573a/,"")),t&&e.cityName!==t?e.cityName+t:e.cityName}(e)),El().createElement(gh.Text,{className:"icon iconfont-h5 icon-close"}))})))):n?null:El().createElement(gh.View,{className:"iconfont-h5 icon-magnifying-glass search-bar__left-icon"}),El().createElement(gh.View,{className:"input-box"},El().createElement(gh.Input,{className:"inner-input",ref:c,value:s,onInput:Oh("onInput--9f38a",o),placeholder:r.length&&n?"":i})),n&&El().createElement(gh.View,{className:"btn-confirm",onClick:Oh("confirmCb--6694f",u)},"\u786e\u8ba4"))}function Lg(e,t){return"DEPARTURE"===t&&e?hl(hl({},e),{},{themes:void 0}):e}var Vg=function(e){var t,n=e.onSelectCity,r=e.cityInfo,i=e.tripType,o=void 0===i?"":i,a=e.selectedCurrentTab,c=e.regionType,s=e.airportFuzzySearch,l=e.domesticCityGalleryData,u=e.internationalCityGalleryData,d=e.sendSpeed,f=e.ubtTrace,m=e.currentCityAirport,p=e.disableIndex,h=e.cityHistoryStorage,g=void 0===h?{get:function(){return[]},set:function(e){},remove:function(){}}:h,v=e.sideName,y=e.multiChoice,x=e.tagsConfigs,_=void 0===x?[]:x;try{r&&"string"==typeof r&&(t=JSON.parse(decodeURIComponent(r)))}catch(e){}var N,T,w,b,C,j=Ml((0,Il.useState)(""),2),S=j[0],k=j[1],I=Ml((0,Il.useState)(""),2),E=I[0],P=I[1],L=y&&Array.isArray(t)&&t.filter((function(e){return!e.isTheme})).length>0,V=Ml((0,Il.useState)(Array.isArray(t)?t:t?[t]:[]),2),O=V[0],A=V[1],R=Ml((0,Il.useState)(L),2),D=R[0],Z=R[1],F=Ml((N=S,T=s,w=Ml((0,Il.useReducer)(ug,{isLoading:!1,isError:!1,requestData:N}),2),b=w[0],C=w[1],(0,Il.useEffect)((function(){var e=!1;return C({type:"FETCH_INIT"}),T(N).then((function(t){e||C({type:"FETCH_SUCCESS",payload:t})})).catch((function(){e||C({type:"FETCH_FAILURE"})})),function(){e=!0}}),[T,N]),[b]),1)[0],M=F.data,B=F.isLoading,U=F.isError,q=(0,Il.useMemo)((function(){return function(e,t){return null!=e&&e.length?ge((function(e){return{cityCode:e.cityCode,cityName:e.cityName,cityId:e.cityId,cityCodeType:e.cityCodeType,airportName:e.airportName||"",airportCode:e.airportCode||"",names:e.names||[],typeName:Sg[e.poiType],poiType:e.poiType,country:e.country,nodes:kg(e.names,t,e.poiType),subItems:Ig(e).map((function(e){return{nodes:kg(e,t),distance:e.distance,cityCode:e.cityCode,cityName:e.cityName,airportName:e.airportName||"",airportCode:e.airportCode||""}}))}}),e):[]}(null==M?void 0:M.data,S)}),[M,S]),Y=(0,Il.useRef)(null),H=(0,Il.useCallback)((function(){P(""),k("")}),[Y,k]),G=(0,Il.useMemo)((function(){return!Qi(S)}),[S]),W=(0,Il.useMemo)((function(){return qh((function(e){var t=e.detail&&e.detail.value;t=t.replace(/\s+/g,""),k(t),P(t)}),500)}),[]),z=Ml((0,Il.useState)([]),2),K=z[0],Q=z[1],J=(0,Il.useCallback)((function(){f&&"function"==typeof f&&f.apply(void 0,arguments)}),[f]),X=(0,Il.useCallback)((function(){g.remove(),Q([])}),[g]);(0,Il.useEffect)((function(){Q(g.get()||[])}),[g]);var $=(0,Il.useCallback)((function(e){if(function(e){return!!e.isTheme}(e))return J("c_flt_xcx_home_citypage","98"===e.themeType?"c_flt_xcx_home_citypage_nationprice":"c_flt_xcx_home_citypage_globalprice"),void n(hl(hl({},e),{},{type:e.themeType,cityCode:e.code,cityName:e.themeName}));var t=D&&O.find((function(t){return t.cityCode===e.cityCode})),r=D&&O.length>=3;if(H(),t)return J("s_flt_xcx_home_citypage","s_flt_xcx_home_citypage_same"),void Gh("\u4f60\u5df2\u7ecf\u9009\u62e9\u6b64\u9879\u4e86~");if(r)return J("s_flt_xcx_home_citypage_three","s_flt_xcx_home_citypage_three"),void Gh("\u6700\u591a\u53ef\u90093\u9879~");if(e.cityCode&&e.cityName&&e.regionType){var i=g.get()||[],o=mn((function(t){return t.cityCode!==e.cityCode}),i),a=[{cityCode:e.cityCode,cityId:e.cityId,cityName:e.cityName,cityCodeType:e.cityCodeType,regionType:e.regionType}].concat(Bl(ir(7,o)));Q(a),g.set(a)}if(D){if(O.length&&O.some((function(e){return e.airportCode})))return Gh("\u591a\u9009\u6a21\u5f0f\u4e0b\u5df2\u4e3a\u60a8\u81ea\u52a8\u9009\u62e9\u673a\u573a\u6240\u5728\u57ce\u5e02"),void A([].concat(Bl(O),[e]).map((function(e){return hl(hl({},e),{},{airportCode:"",airportName:""})})));A([].concat(Bl(O),[e]))}else n(e)}),[D,O,H,J,n,g]),ee=(0,Il.useCallback)((function(e,t){t=t||e,e.cityCode&&$(hl(hl({},e),{},{regionType:dg(t)?"INTERNATIONAL":"DOMESTIC"}))}),[$]);return El().createElement(gh.View,{className:Am()("city-picker",{multiChoice:y})},El().createElement(gh.View,{className:Am()("plus-header",{city_hidden:G})},El().createElement(gh.View,{className:"search-bar-wrap"},El().createElement(gh.View,{className:Am()("search-bar",{stretch:!G})},y?El().createElement(Pg,{isSearching:G,searchRef:Y,searchType:D,switchTabFn:Z,selects:O,cityClickCb:function(e){J("c_flt_xcx_home_citypage","c_flt_xcx_home_citypage_unconfirm");var t=Bl(O);t.splice(O.findIndex((function(t){return t.cityCode===e.cityCode})),1),A(t)},confirmCb:function(){J("c_flt_xcx_home_citypage","c_flt_xcx_home_citypage_confirm"),n(O)},value:E,placeholder:D?"\u6700\u591a\u53ef\u652f\u63013\u9879\u9009\u62e9":"\u8bf7\u8f93\u5165\u57ce\u5e02\u540d(\u5982\u5317\u4eac/beijing/bj)",onInput:Oh("onSearchCity--6e268",W),className:"input-block",placeholderClass:"placeholderStyle",sendTrace:J}):El().createElement(og,{leftNodes:El().createElement(gh.View,{className:"iconfont-h5 icon-magnifying-glass search-bar__left-icon"}),iconNodes:G&&S&&El().createElement(gh.View,{className:"iconfont-h5 icon-clear-input search-bar__right-icon",onClick:Oh("onClearInput--7c959",H)})||void 0,placeholder:"\u8bf7\u8f93\u5165\u57ce\u5e02\u540d(\u5982\u5317\u4eac/beijing/bj)",onInput:Oh("onSearchCity--65534",W),className:"input-block",placeholderClass:"placeholderStyle",ref:Y})),!y&&El().createElement(gh.View,{className:"btn-cancel",style:G?{}:{display:"none"},onClick:Oh("onClearInput--bddcf",H)},"\u53d6\u6d88"))),El().createElement(gh.View,{className:Am()("poi-content-container",{city_hidden:!G})},El().createElement(gh.View,{className:"poi-border"}),G&&B&&!S&&El().createElement(gh.View,{className:"empty",onClick:Oh("onClearInput--78a29",H)}),(q.length<=0||U)&&El().createElement(gh.View,{className:"no-result",onClick:Oh("onClearInput--a86ea",H)},El().createElement(gh.Image,{className:"no-result__img-search",src:"https://pages.c-ctrip.com/flight_h5/swift/poi-no-result.png"}),El().createElement(gh.Label,{className:"no-result__hint"},"\u6ca1\u6709\u7ed3\u679c"),El().createElement(gh.Label,{className:"no-result__tip"},"\u8bf7\u6362\u4e2a\u641c\u7d22\u8bcd\u8bd5\u8bd5")),El().createElement(Eg,{isLoading:B,isError:U,searchItems:q,onClickFuzzyItem:Oh("onClickFuzzyItem--d3297",ee)})),!G&&El().createElement(jg,{currentCityAirport:m,isSearching:G,inputText:S,tripType:o,regionType:c,onSelectCity:$,selectedCurrentTab:a,domesticCityGalleryData:Lg(l,v),internationalCityGalleryData:Lg(u,v),cityHistory:K,onCleanCityHistory:X,sendSpeed:d,disableIndex:Number(p),sendTrace:J,tagsConfigs:_}))},Og=(0,Il.memo)(Vg),Ag={title:"",time:2e3},Rg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?hl(hl({},Ag),{},{title:e}):hl(hl({},Ag),e),n=t.time,r=t.icon||"none";(0,Np.showToast)({title:t.title||"",duration:n,icon:r,complete:function(){t.onHide&&setTimeout((function(){t.onHide&&t.onHide()}),n-200)}})},Dg=["scrollIntoView","children"],Zg=function(e){var t=e.scrollIntoView,n=e.children,r=tg(e,Dg);(0,Il.useRef)(t);return Tp().getEnv()===Tp().ENV_TYPE.WEB?El().createElement(gh.View,hl(hl({},r),{},{scrollIntoView:t}),n):El().createElement(gh.ScrollView,Ul({},hl(hl({},r),{},{scrollIntoView:t}),{id:"id_3ilr3",onScroll:Oh("id_3ilr3")}),n)},Fg=function(e){var t=e.dateList,n=void 0===t?[]:t,r=e.festivalDate,i=void 0===r?{}:r,o=e.lowestPrice,a=void 0===o?[]:o,s=e.onClickDateItem,l=e.start,u=e.end,d=e.tripType,f=e.disableChangeStart;if(!n||0===n.length)return El().createElement(gh.View,{className:"date-placeholder"});var m=c()(),p="ROUND_TRIP"===d;return El().createElement(gh.View,{className:"date-list-content"},n.map((function(e){var t=!!e.date;t&&m&&(t=!m.isAfter(e.moment,"day"));var n=l===e.dateString,r=u===e.dateString,o=n||r,d=c()(l).isBefore(e.moment,"day")&&c()(u).isAfter(e.moment,"day"),h=u&&c()(e.moment).isAfter(u,"day"),g=i[e.dateString],v=a&&a.find((function(t){return p?(null==t?void 0:t.departDate)&&t.departDate.includes(l)&&(null==t?void 0:t.returnDate)&&(null==t?void 0:t.returnDate.includes(e.dateString)):(null==t?void 0:t.departDate)&&(null==t?void 0:t.departDate.includes(e.dateString))}))||{},y=v.price,x=v.lowestOfMonth,_=n&&r?"\u53bb/\u8fd4":n?"\u53bb\u7a0b":r?"\u8fd4\u7a0b":g||void 0;return El().createElement(gh.View,{id:"date-item-".concat(e.dateString),key:e.dateString,className:Am()("date-item date-".concat(e.dateString),{disabled:!t,"padding-top":!g||!o,"padding-bottom":!v,selected:o,between:d,"disabled-bg":f&&n}),onClick:Oh("date-item-".concat(e.dateString)+e.dateString,t?function(){return s(e)}:void 0)},e.date&&El().createElement(El().Fragment,null,_&&El().createElement(gh.View,{className:Am()("date-remark",{dateSelected:o,work:"\u73ed"===_})},_),El().createElement(gh.View,{className:"date-label"},e.isToday?"\u4eca\u5929":e.date),!!y&&!h&&El().createElement(gh.View,{className:"date-lowest-price ".concat(o?" dateSelected":x?"red":"")},"\xa5".concat(y))))})))},Mg=(0,Il.memo)(Fg),Bg=(0,Il.memo)((function(e){var t=e.start,n=e.select,r=e.lowestPrice,i=e.onClickDate,o=e.festivalDate,a=e.end,s=e.tripType,l=e.disableChangeStart,u=(0,Il.useMemo)((function(){return function(){for(var e=c()().format("YYYY-MM-DD"),t=c()(),n=[],r=0;r<12;){for(var i={monthName:t.format("YYYY\u5e74M\u6708"),time:t.format("YYYY-MM"),dateList:[]},o=t.clone().date(1),a=o.day(),s=o.daysInMonth(),l=0;l<a;l++)i.dateList.push({dateString:l});for(var u=1;u<=s;u++){var d=(o=o.clone().date(u)).format("YYYY-MM-DD"),f={date:o.date(),weekday:o.day(),isToday:e===d,dateString:d,moment:o};i.dateList.push(f)}n.push(i),t=t.add(1,"month"),r++}return n}()}),[]),d=(0,Il.useState)((function(){return function(e,t){if(!c()(t).isValid())return e;var n=c()(t).date(1),r=c()(n).add(1,"month");return e.map((function(e){var t=c()(e.time).isBefore(n,"month"),i=c()(e.time).isAfter(r,"month");return t||i?hl(hl({},e),{},{dateList:[]}):e}))}(u,n)})),f=Ml(d,2),m=f[0],p=f[1],h=function(e){e.date&&i&&i(e.dateString)};(0,Il.useEffect)((function(){(0,Np.nextTick)((function(){p(u)}))}),[u]);var g=n?"label-"+c()(n).format("YYYY-MM"):void 0;return El().createElement(gh.View,{className:"DateList"},El().createElement(gh.View,{className:"list-head"},El().createElement(gh.View,{className:"week-wrap"},El().createElement(gh.View,{className:"week-item weekend"},"\u65e5"),El().createElement(gh.View,{className:"week-item"},"\u4e00"),El().createElement(gh.View,{className:"week-item"},"\u4e8c"),El().createElement(gh.View,{className:"week-item"},"\u4e09"),El().createElement(gh.View,{className:"week-item"},"\u56db"),El().createElement(gh.View,{className:"week-item"},"\u4e94"),El().createElement(gh.View,{className:"week-item weekend"},"\u516d"))),El().createElement(Zg,{className:"calendar-wrap",scrollY:!0,scrollWithAnimation:!0,scrollIntoView:g},m.map((function(e){return El().createElement(gh.View,{className:"month-wrap",key:e.monthName},El().createElement(gh.View,{className:"month-label",id:"label-".concat(e.time)},e.monthName),El().createElement(Mg,{dateList:e.dateList,start:t,end:a,festivalDate:o,lowestPrice:r,onClickDateItem:Oh(e.monthName+"--99a8f",h),tripType:s,disableChangeStart:l}))})),El().createElement(gh.View,{className:"bottom-wrap"})))})),Ug=Bg,qg=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=e.departDate,n=e.flag,i=e.price,o=e.returnDate;return{departDate:null!=t&&t.includes("Date")?c()(new r.Date(parseInt(t.slice(6,19)))).format("YYYY-MM-DD HH:mm:ss"):t,lowestOfMonth:n,price:i,returnDate:null!=o&&o.includes("Date")?c()(new r.Date(parseInt(t.slice(6,19)))).format("YYYY-MM-DD HH:mm:ss"):o}}))},Yg=function(e){var t,n=e.lowestPriceSearch,r=e.resolve,i=e.festivalDate,o=e.start,a=e.end,s=e.sendSpeed,l=e.ubtTrace,u=e.tripType,d=e.disableChangeStart,f=Ml((0,Il.useState)([]),2),m=f[0],p=f[1],h=Ml((0,Il.useState)(o||c()().format("YYYY-MM-DD")),2),g=h[0],v=h[1],y=Ml((0,Il.useState)(a||c()(o).add(2,"day").format("YYYY-MM-DD")),2),x=y[0],_=y[1],N=Ml((0,Il.useState)(!1),2),T=N[0],w=N[1],b=(0,Il.useCallback)((function(e){if(s&&s("click_date_picker_date",{clickDate:e,startDate:g,endDate:x}),d){if(!g||!x)return;c()(e).isBefore(c()(g))?Rg("\u8fd4\u7a0b\u65e5\u671f\u4e0d\u80fd\u65e9\u4e8e\u53bb\u7a0b\u65e5\u671f"):_(e)}else g&&x||c()(e).isBefore(c()(g))?(l&&l("c_flt_xcx_home_calendar","c_flt_xcx_home_calendar_ddate"),v(e),_(""),w(!0)):g&&!x&&(l&&l("c_flt_xcx_home_calendar","c_flt_xcx_home_calendar_adate"),_(e))}),[s,g,x,d,l]);(0,Il.useEffect)((function(){n(g).then((function(e){p(qg(e))}))}),[n,g]);var C=(0,Il.useCallback)((function(){c()(g).isAfter(c()(x))?Rg("\u53bb\u7a0b\u65e5\u671f\u4e0d\u80fd\u665a\u4e8e\u8fd4\u7a0b\u65e5\u671f"):(l&&l("c_flt_xcx_home_calendar","c_flt_xcx_home_calendar_confirm"),r({start:g,end:x}))}),[g,x,l,r]),j=m&&(null===(t=m.find((function(e){return e.departDate&&e.departDate.includes(g)&&e.returnDate&&e.returnDate.includes(x)})))||void 0===t?void 0:t.price),S=!g||!x;return El().createElement(gh.View,{className:"LowestDatePicker newVersion roundTrip",onTouchStart:function(){T&&w(!1)}},El().createElement(Ug,{festivalDate:i,lowestPrice:m,select:g,onClickDate:Oh("onClickDate--a7f97",b),start:g,end:x,tripType:u,disableChangeStart:d}),El().createElement(gh.View,{className:"calendar-footer"},El().createElement(gh.View,{className:"price-confirm-box"},El().createElement(gh.View,{className:"date-info-box"},El().createElement(gh.View,{className:"date-info"},"\u53bb: ",El().createElement(gh.Text,{className:"date-txt"},g.slice(-5))),El().createElement(gh.View,{className:"date-info"},"\u8fd4: ",El().createElement(gh.Text,{className:"date-txt"},x.slice(-5)||"\u672a\u9009\u62e9")),El().createElement(gh.View,{className:"total-price"},"\u5f80\u8fd4\u603b\u4ef7:",El().createElement(gh.Text,{className:"price "+(j?"":"disabled")},j?"\xa5".concat(j):"--"))),El().createElement(gh.View,{className:Am()("btn-confirm",{disable:S}),onClick:Oh("onClick--2e1c8",(function(){S||C()}))},"\u786e\u5b9a")),El().createElement(gh.View,{className:"text-warning"},"\u6240\u9009\u65e5\u671f\u4e3a\u51fa\u53d1\u5730\u65e5\u671f\uff0c\u663e\u793a\u5355\u6210\u4eba\u4ef7\uff0c\u53d8\u4ef7\u9891\u7e41\u4ee5\u5b9e\u9645\u652f\u4ed8\u4ef7\u4e3a\u51c6")),El().createElement(gh.View,null,T&&El().createElement(gh.View,{className:"date-tip"},"\u8bf7\u9009\u62e9\u8fd4\u7a0b\u65e5\u671f")))},Hg=(0,Il.memo)(Yg),Gg=function(e){var t=e.dateList,n=void 0===t?[]:t,r=e.start,i=e.select,o=e.festivalDate,a=void 0===o?{}:o,s=e.lowestPrice,l=void 0===s?[]:s,u=e.onClickDateItem,d=e.tripType;if(!n||0===n.length)return El().createElement(gh.View,{className:"date-placeholder"});var f=r?c()(r):c()(),m="ROUND_TRIP"===d;return El().createElement(gh.View,{className:"date-list-content"},n.map((function(e){var t=!!e.date;t&&f&&(t=!f.isAfter(e.moment,"day"));var n=i===e.dateString,o=a[e.dateString],c=l&&l.find((function(t){return m?(null==t?void 0:t.departDate)&&t.departDate.includes(r)&&(null==t?void 0:t.returnDate)&&(null==t?void 0:t.returnDate.includes(e.dateString)):(null==t?void 0:t.departDate)&&(null==t?void 0:t.departDate.includes(e.dateString))}))||{},s=c.price,d=c.lowestOfMonth;return El().createElement(gh.View,{id:"date-item-".concat(e.dateString),key:e.dateString,className:"date-item"+(t?"":" disabled")+(n?" selected":"")+" date-".concat(e.dateString)+(o?"":" padding-top")+(c?"":" padding-bottom"),onClick:Oh("date-item-".concat(e.dateString)+e.dateString,t?function(){return u(e)}:void 0)},e.date&&El().createElement(El().Fragment,null,o&&El().createElement(gh.View,{className:"date-remark"+(n?" dateSelected":"\u73ed"===o?" work":"")},o),El().createElement(gh.View,{className:"date-label"},e.isToday?"\u4eca\u5929":e.date),!!s&&El().createElement(gh.View,{className:"date-lowest-price ".concat(n?" dateSelected":d?"red":"")},"\xa5".concat(s))))})))},Wg=(0,Il.memo)(Gg),zg=(0,Il.memo)((function(e){var t=e.start,n=e.select,r=e.lowestPrice,i=e.onClickDate,o=e.festivalDate,a=e.tripType,s=(0,Il.useMemo)((function(){return function(){for(var e=c()().format("YYYY-MM-DD"),t=c()(),n=[],r=0;r<12;){for(var i={monthName:t.format("YYYY\u5e74M\u6708"),time:t.format("YYYY-MM"),dateList:[]},o=t.clone().date(1),a=o.day(),s=o.daysInMonth(),l=0;l<a;l++)i.dateList.push({dateString:l});for(var u=1;u<=s;u++){var d=(o=o.clone().date(u)).format("YYYY-MM-DD"),f={date:o.date(),weekday:o.day(),isToday:e===d,dateString:d,moment:o};i.dateList.push(f)}n.push(i),t=t.add(1,"month"),r++}return n}()}),[]),l=Ml((0,Il.useState)(""),2),u=l[0],d=l[1],f=(0,Il.useState)((function(){return function(e,t){if(!c()(t).isValid())return e;var n=c()(t).date(1),r=c()(n).add(1,"month");return e.map((function(e){var t=c()(e.time).isBefore(n,"month"),i=c()(e.time).isAfter(r,"month");return t||i?hl(hl({},e),{},{dateList:[]}):e}))}(s,n)})),m=Ml(f,2),p=m[0],h=m[1],g=function(e){e.date&&i&&i(e.dateString)};return(0,Il.useEffect)((function(){if(n){var e="label-"+c()(n).format("YYYY-MM");d(e),(0,Np.nextTick)((function(){h(s)}))}}),[n,s]),El().createElement(gh.View,{className:"DateList"},El().createElement(gh.View,{className:"list-head"},El().createElement(gh.View,{className:"week-wrap"},El().createElement(gh.View,{className:"week-item weekend"},"\u65e5"),El().createElement(gh.View,{className:"week-item"},"\u4e00"),El().createElement(gh.View,{className:"week-item"},"\u4e8c"),El().createElement(gh.View,{className:"week-item"},"\u4e09"),El().createElement(gh.View,{className:"week-item"},"\u56db"),El().createElement(gh.View,{className:"week-item"},"\u4e94"),El().createElement(gh.View,{className:"week-item weekend"},"\u516d"))),El().createElement(Zg,{className:"calendar-wrap",scrollY:!0,scrollWithAnimation:!0,scrollIntoView:u},p.map((function(e){return El().createElement(gh.View,{className:"month-wrap",key:e.monthName},El().createElement(gh.View,{className:"month-label",id:"label-".concat(e.time)},e.monthName),El().createElement(Wg,{dateList:e.dateList,start:t,select:n,festivalDate:o,lowestPrice:r,onClickDateItem:Oh(e.monthName+"--94baa",g),tripType:a}))})),El().createElement(gh.View,{className:"bottom-wrap"})))})),Kg=zg,Qg=function(e){var t=e.festivalDate,n=e.resolve,r=e.start,i=e.lowestPriceSearch,o=e.sendSpeed,a=e.ubtTrace,c=e.tripType,s=Ml((0,Il.useState)([]),2),l=s[0],u=s[1];return(0,Il.useEffect)((function(){i().then((function(e){u(qg(e))}))}),[i]),El().createElement(gh.View,{className:Am()("LowestDatePicker")},El().createElement(Kg,{festivalDate:t,lowestPrice:l,select:r,start:"",onClickDate:Oh("onClickDate--52050",(function(e){a&&a("c_flt_xcx_home_calendar","c_flt_xcx_home_calendar_onewaydate"),n({start:e})})),sendSpeed:o,tripType:c}),El().createElement(gh.View,{className:"single-text-warning-container"},El().createElement(gh.View,{className:"text-warning"},"\u6240\u9009\u65e5\u671f\u4e3a\u51fa\u53d1\u5730\u65e5\u671f\uff0c\u663e\u793a\u5355\u6210\u4eba\u4ef7\uff0c\u53d8\u4ef7\u9891\u7e41\u4ee5\u5b9e\u9645\u652f\u4ed8\u4ef7\u4e3a\u51c6")))},Jg=(0,Il.memo)(Qg),Xg=(0,Il.memo)((function(e){var t=e.start,n=e.end,r=e.tripType,i=void 0===r?"ONE_WAY":r,o=e.resolve,a=e.festivalDate,c=e.lowestPriceSearch,s=e.sendSpeed,l=e.ubtTrace,u=e.disableChangeStart;return"ROUND_TRIP"===i?El().createElement(Hg,{resolve:o,lowestPriceSearch:c,festivalDate:a,sendSpeed:s,start:t,end:n,ubtTrace:l,tripType:i,disableChangeStart:u}):El().createElement(Jg,{start:t,resolve:o,lowestPriceSearch:c,festivalDate:a,sendSpeed:s,ubtTrace:l,tripType:i})})),$g=function(e){var t=e.list,n=e.segmentNum,r=e.renderFn,i=e.LoadingView,o=e.selectorQueryFields,a=e.isNeedLoading,c=void 0===a||a,s=Ml((0,Il.useState)([]),2),l=s[0],u=s[1],d=(0,Il.useRef)([]),f=(0,Il.useRef)([]),m=(0,Il.useCallback)((function(e){return o(".wrap_".concat(e),{rect:!0,size:!0,retry:3}).then((function(t){var n;null!=t&&t.height&&(f.current[e]={height:null==t?void 0:t.height,itemLength:null===(n=d.current[e])||void 0===n?void 0:n.length,isHidden:(null==t?void 0:t.top)>600||(null==t?void 0:t.top)<-1e3})}))}),[o]),p=(0,Il.useCallback)((function(e,t){var r=[],i=[];e.forEach((function(e,n){r.push(e),(n+1)%t==0&&(i.push(r),r=[])}));var o=e.slice(i.length*t);null!=o&&o.length&&i.push(o),d.current=i;var a=i.map((function(e,t){var r;return f.current[t]||0===t?null!==(r=f.current[t])&&void 0!==r&&r.isHidden?f.current[t]:e:{height:1e3,itemLength:(n||10)-1,isHidden:!0}}));u(a),i.forEach((function(e,t){m(t).then((function(){!function(e,t,n,r){(0,Np.nextTick)((function(){var i=(0,Np.getCurrentInstance)().page||{};(0,Np.createIntersectionObserver)(i,{thresholds:[0]}).relativeToViewport({top:500,bottom:300}).observe(".wrap_".concat(e),(function(i){var o;(null==i?void 0:i.intersectionRatio)<=0?(n.current[e].isHidden=!0,t((function(t){var r=Bl(t);return r[e]=n.current[e],r}))):(n.current[e].isHidden=!1,null!=i&&null!==(o=i.boundingClientRect)&&void 0!==o&&o.height&&(n.current[e]=hl(hl({},n.current[e]),{},{height:i.boundingClientRect.height})),t((function(t){var n=Bl(t);return n[e]=r.current[e],n})))}))}))}(t,u,f,d)}))}))}),[n,m]);return(0,Il.useEffect)((function(){p(t,n)}),[p,t,n]),!d.current.length&&c?El().createElement(i,null):El().createElement(gh.View,{className:"zt-main-list"},l.map((function(e,t){return El().createElement(gh.View,{className:"wrap_".concat(t),key:t},r({VirtualListDataItem:e,pageIndex:t}))})))},ev=function(e){var t=e.list,n=e.renderFn;return El().createElement(El().Fragment,null,n({VirtualListDataItem:t,pageIndex:0}))},tv=function(e){var t=e.list,n=e.children,r=e.segmentNum,i=e.isShow,o=void 0!==i&&i,a=e.LoadingView,c=e.selectorQueryFields,s=e.isNeedLoading;return o?El().createElement($g,{list:t,renderFn:n,segmentNum:r,LoadingView:a,selectorQueryFields:c,isNeedLoading:s}):El().createElement(ev,{list:t,renderFn:n,LoadingView:a,selectorQueryFields:c,isNeedLoading:s})},nv=(0,Il.memo)(tv),rv=function(e){return e[e.flightInfo=0]="flightInfo",e[e.priceDetail=1]="priceDetail",e[e.restrictedInfo=2]="restrictedInfo",e[e.totalPriceArea=3]="totalPriceArea",e[e.checkPassengerValidation=4]="checkPassengerValidation",e[e.payLayerItem=5]="payLayerItem",e}({}),iv={Component:function(){return null},promise:function(){return new Promise((function(e){return e(void 0)}))},loadData:function(){},isFlightHotel:!1,orderTotalPrice:0,orderCreateInfo:[],getCouponInfo:function(){return[!0,0,""]},passengerSelected:!1,orderErrorHandler:function(){return!1},checkBeforeOrder:function(){return!0},getPassengerValidInfo:function(){return[!0,""]},getPayDetailInfo:function(){},jumpToFlightBunldeReload:function(){},logTrace:function(){}};c().extend(d()),c().extend(m())}(),e.exports=l}()},84608:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(91425),i=n(90201),o=n(67107),a=n(99531),c=n(92660),s=n(48935),l=n(17321),u=n(65325),d=n(84295),f=n(29085),m=function(e){var t=e.cabin,n=e.dCityCode,r=e.aCityCode,o=e.departureDate,a=e.tripType,c=e.regionType,s=e.PassengerList,l=e.arrivalDate,u=e.children,m=e.isHasTax,p=(0,i.useMemo)((function(){return(0,f.G)({cabin:t,departureCode:n,arrivalCode:r,departureDate:o,tripType:a,regionType:c,PassengerList:s,arrivalDate:l,isHasTax:m})}),[s,r,l,t,n,o,m,c,a]),h=(0,d.Zj)(p)||[],g=h.data,v=void 0===g?[]:g;return u({calendarData:v})},p=(0,i.memo)(m),h=p,g=n(45023),v=n(22276),y=n(298),x=n(90129),_=n(71515),N=n(97659),T=n(68277),w=n(2269),b=["scrollId","children","cls"],C=function(e){var t=e.scrollId,n=e.children,i=e.cls,o=(0,T.Z)(e,b);return(0,w.jsx)(_.ScrollView,(0,y.Z)((0,y.Z)({},o),{},{className:i,scrollIntoView:t,id:"id_323da",onScroll:(0,r.trackFn)("id_323da"),children:n}))},j=n(93652),S=n(4091);function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=[],o=n?(0,r.dayjs)(n):(0,r.dayjs)(e).add(-15,"day"),a=t?(0,r.dayjs)(t):(0,r.dayjs)(e).add(15,"day");o.isBefore((0,r.dayjs)())&&(o=(0,r.dayjs)().startOf("day"));for(var c=a.diff(o,"day"),s=0;s<=c;s++){var l=o.add(s,"day"),u=l.format("YYYY-MM-DD");i.push({dDate:u,date:l.format("MM-DD"),day:S.ps[l.format("d")],price:"\u67e5\u4ef7"})}for(var d=c+1;d<5;d++)i.push({date:"---",day:"---",price:"\u67e5\u4ef7"});return i}var I=k,E=n(18228),P=n(6941),L=n(24417),V={CalendarWrapper:"Calendar-module_n4cEr",ScrollHorizontal:"Calendar-module_Afe44","calendar-container":"Calendar-module_BFtnA","calendar-wrap":"Calendar-module_nah4b","calendar-item-young":"Calendar-module_PJi5z","item-container":"Calendar-module_fUCMD",selected:"Calendar-module_S2vCX",dateBox:"Calendar-module_dPdI1",dayBox:"Calendar-module_Bb2QP",priceBox:"Calendar-module_NyOkK",verticalBar:"Calendar-module_q445E",moreDate:"Calendar-module_hrk7a",shadowBg:"Calendar-module_pyfOx",img:"Calendar-module_yyAIQ",iconBox:"Calendar-module_COvsP",iconTop:"Calendar-module_C6lcA",disable:"Calendar-module_nblNJ"},O="calender-date-item-",A=function(e,t,n,r){if("first"===e){var i="ONE_WAY"===t?"":r;return I(n,i)}return I(r,"",n)},R=function(e){var t=e.name,n=e.selectedDate,a=e.clickFn,u=e.currentLowestPrice,d=e.calendarData,f=e.isHasTax,m=void 0===f||f,p=(0,o.C)(l.pW),h=(0,o.C)(l.sq),T=(0,o.C)(l.e_),b=(0,o.C)(l.W$),S=(0,o.C)(l.Wt),k=(0,o.C)(l.ww),I=(0,o.T)(),R=(0,i.useState)((function(){return A(t,T,p,h)})),D=(0,x.Z)(R,2),Z=D[0],F=D[1];(0,i.useEffect)((function(){null!==d&&void 0!==d&&d.length&&-1!==Z.findIndex((function(e){return e.dDate===p}))?F((function(e){var n=e.reduce((function(e,n){var r,i;i="ONE_WAY"===T?d.find((function(e){return n.dDate&&e.departDate.includes(n.dDate)})):"first"===t?d.find((function(e){return e.returnDate&&e.departDate&&e.returnDate.includes(h)&&n.dDate&&e.departDate.includes(n.dDate)})):d.find((function(e){return e.returnDate&&e.departDate&&e.departDate.includes(p)&&n.dDate&&e.returnDate.includes(n.dDate)}));var o=null===(r=i)||void 0===r?void 0:r.price;return n.lowestPrice||!o?e.push(n):e.push((0,y.Z)((0,y.Z)({},n),{},{price:String(o)})),e}),[]);return n})):F(A(t,T,p,h))}),[d,m,t,T,h,p]),(0,i.useEffect)((function(){u&&u>0&&F((function(e){var t=e.findIndex((function(e){return e.dDate===n}));if(e[t]){var r=[].concat((0,v.Z)(e.slice(0,t)),[(0,y.Z)((0,y.Z)({},e[t]),{},{lowestPrice:String(u)})],(0,v.Z)(e.slice(t+1)));return r}return e}))}),[u,n]);var M=function(){if(!n||!Z.length)return"";var e=Z.findIndex((function(e){return e.dDate===n}));if(-1===e)return"";var r=Z[e>1?e-2:0].dDate,i="".concat(t,"-").concat(O,"-").concat(r);return i},B=(0,i.useCallback)((function(){(0,E.jq)("c_list_calendar_more"),(0,P.j)({disableChangeStart:(0,j.SA)(T)&&"second"===t,isHasTax:m,departureCityCode:S,arrivalCityCode:k,departureDate:p,arrivalDate:h,regionType:b,tripType:T}).then((function(e){if(e){(0,E.jq)("click_calender_date_departure_from_more",{date:e.start}),I((0,c.AO)(e.start)),e.end&&((0,E.jq)("click_calender_date_arrival_from_more",{date:e.end}),I((0,s.FS)(e.end)));var n=A(t,T,e.start,e.end);F(n)}}))}),[k,h,S,p,I,m,t,b,T]);return(0,w.jsx)(_.View,{className:(0,r.classnames)(V.CalendarWrapper,L.Z.pageTop,(0,g.Z)({},L.Z["pageTop-alipay"],!1)),children:(0,w.jsxs)(_.View,{className:V.ScrollHorizontal,children:[(0,w.jsx)(C,{enhanced:!0,scrollX:!0,scrollWithAnimation:!0,enableFlex:!0,cls:V["calendar-container"],scrollId:M(),children:(0,w.jsx)(_.View,{className:V["calendar-wrap"],children:Z.map((function(e,i){var o=e.dDate,c=e.date,s=e.day,l=e.price,u=e.lowestPrice,d=(0,r.dayjs)(o).add(1,"day").format("YYYY-MM-DD")!==n&&o!==n,f=o?"".concat(t,"-").concat(O,"-").concat(o):"".concat(t,"-").concat(O,"-").concat(i),m="\u67e5\u4ef7";return(u||Number(l)>0)&&(m="\xa5"+(u||l)),(0,w.jsxs)(_.View,{className:(0,r.classnames)((0,g.Z)((0,g.Z)({},V["calendar-item-young"],!0),V.disable,!o)),id:"".concat(t,"-").concat(O,"-").concat(o),onClick:(0,r.trackFn)("".concat(t,"-").concat(O,"-").concat(o)+f,(function(){o&&a(o)})),"data-testid":"click-fn-".concat(i),children:[(0,w.jsxs)(_.View,{className:(0,r.classnames)(V["item-container"],(0,g.Z)({},V.selected,o===n)),children:[(0,w.jsx)(_.View,{className:V.dateBox,children:c}),(0,w.jsx)(_.View,{className:V.dayBox,children:s}),(0,w.jsx)(_.View,{className:V.priceBox,children:m})]}),d&&(0,w.jsx)(_.View,{className:V.verticalBar})]},f)}))})}),(0,w.jsxs)(_.View,{className:V.moreDate,children:[(0,w.jsx)(_.View,{className:V.shadowBg,children:(0,w.jsx)(N.Z,{className:V.img,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/shadow.png"})}),(0,w.jsxs)(_.View,{onClick:(0,r.trackFn)("openDatePicker--e0f4a",B),className:V.iconBox,"data-testid":"open-date-picker",children:[(0,w.jsx)(_.View,{className:(0,r.classnames)("iconfont-h5","icon-calendar",V.iconTop)}),(0,w.jsx)(_.View,{className:(0,r.classnames)("iconfont-h5","icon-arrow-down")})]})]})]})})},D=(0,i.memo)(R),Z=function(e){var t=e.pageName,n=e.lowestPrice,d=e.forbidden,f=void 0!==d&&d,m=e.isHasTax,p=(0,o.C)(l.e_),g=(0,o.C)(l.Wt),v=(0,o.C)(l.ww),y=(0,o.C)(l.kM),x=(0,o.C)(l.pW),_=(0,o.C)(l.sq),N=(0,o.C)(l.Se),T=(0,o.C)(l.uV),b=(0,o.C)(l.W$),C=(0,o.T)(),j=(0,i.useCallback)((function(e){f||(0,r.dayjs)(e).isValid()&&("first"===t?((0,a.jq)("click_calender_date_departure",{date:e}),C((0,c.AO)(e))):((0,a.jq)("click_calender_date_arrival",{date:e}),C((0,s.FS)(e))))}),[C,f,t]),S=(0,i.useMemo)((function(){return"first"===t?x:_}),[_,x,t]);return(0,w.jsx)(h,{cabin:"INTERNATIONAL"===b?T:N,dCityCode:g,aCityCode:v,departureDate:x,tripType:p,regionType:b,arrivalDate:_,PassengerList:(0,u.E)(y,!0),isHasTax:m,children:function(e){var r=e.calendarData;return(0,w.jsx)(D,{isHasTax:m,name:t,currentLowestPrice:n,calendarData:r,selectedDate:S,clickFn:j})}})},F=(0,i.memo)(Z),M=F},89541:function(e,t,n){"use strict";n.d(t,{RK:function(){return h}});var r=n(45023),i=n(298),o=n(91425),a=(n(90201),n(71515)),c=n(94892),s=n(18228),l=n(89808),u=n(1137),d=n(95518),f=(n(50826),n(9361),{container:"openPopup-module_eNqJx",title:"openPopup-module_HMOB4",content:"openPopup-module_P6I9l",box:"openPopup-module_WVqVZ",t0:"openPopup-module_NrnnH"}),m=n(2269),p=function(e,t){var n=e.map((function(e){var n=e.flgs.map((function(e){var n=t.find((function(t){var n;return(null===t||void 0===t?void 0:t.flgno)===(null===(n=e.basinfo)||void 0===n?void 0:n.flgno)}));return n?(0,i.Z)((0,i.Z)({},e),{},{cabinName:n.rmk}):e}));return(0,i.Z)((0,i.Z)({},e),{},{flgs:n})}));return n},h=function(e){var t=e.sections,n=e.isIntl,i=void 0!==n&&n,h=e.segs,g=e.page,v=e.grades,y=void 0===v?[]:v,x=e.isMiddleFloatLayer,_=void 0!==x&&x,N=e.fromBookingPage,T=void 0===N||N;return(0,s.jq)("\u67e5\u770b\u822a\u73ed\u8be6\u60c5"),(0,c.K4)({close:{position:"top-left"},closeMethod:"close",content:(0,m.jsxs)(a.View,{catchMove:!0,className:f.container,id:"flight-detail-popup",children:[(0,m.jsx)(a.View,{className:f.title,children:"\u822a\u73ed\u8be6\u60c5"}),(0,m.jsx)(d.Z,{scrollY:!0,className:(0,o.classnames)(f.box,(0,r.Z)({},f.t0,i)),id:"flight-detail-popup_id_e4265",onScroll:(0,o.trackFn)("flight-detail-popup_id_e4265"),children:i?(0,m.jsx)(u.K,{flights:p(h,y),hiddenArrow:!0,hiddenRightArrow:!0,hideComfortArrow:!0}):(0,m.jsx)(l.k,{flights:t,fromBookingPage:T,page:g,isMiddleFloatLayer:_})})]}),position:"bottom"})}},50317:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(298),i=(n(91425),n(13768));function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.rS.jump((0,r.Z)({},e))}},18145:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=n(91425),i=n(90201),o=n(298),a=n(90129),c=n(29557),s=n(9021),l=n(18228),u=n(82933),d=(n(5644),n(67107)),f=n(17321),m=n(71098),p=n(56262),h=new m.ZP({version:"2022-04-14",key:function(){return"showGiftPopCountStore"},expires:function(){return 3650*m.v0},default:function(){return{}}}),g=function(e){var t=e.children,n=e.pageSource,r=(0,i.useState)({}),m=(0,a.Z)(r,2),g=m[0],v=m[1],y=(0,i.useState)({}),x=(0,a.Z)(y,2),_=x[0],N=x[1],T=(0,i.useState)({}),w=(0,a.Z)(T,2),b=w[0],C=w[1],j=(0,i.useState)(!1),S=(0,a.Z)(j,2),k=S[0],I=S[1],E=(0,i.useState)({}),P=(0,a.Z)(E,2),L=P[0],V=P[1],O=(0,i.useState)(!1),A=(0,a.Z)(O,2),R=A[0],D=A[1],Z=(0,d.C)(f.e_),F=(0,d.C)(f.W$),M=(0,i.useCallback)((function(){var e={};(0,l.jq)("o_flt_home_new_guest_request_start"),s.lH.promise({trip:"ONE_WAY"===Z?1:"ROUND_TRIP"===Z?2:"MULTIPLE_TRIP"===Z?4:1,grade:0,biztype:"DOMESTIC"===F?1:2,stpe:9,sCode:"",flag:1}).then((function(t){if(t&&0===t.result&&t.coupons&&t.coupons.length>0){var n=t.coupons.filter((function(e){return 1===e.ctype||2===e.ctype||3===e.ctype||4===e.ctype}));n&&n.length>0?((0,l.jq)("o_flt_home_new_guest_request_success"),e={couponsList:n,noteList:t.nlst,flagMap:t.flagMap},v(e)):((0,l.jq)("o_flt_home_new_guest_request_unvalid"),v({}))}else(0,l.jq)("o_flt_home_new_guest_request_fail",{message:t&&t.message}),v({})})).catch((function(e){(0,l.jq)("o_flt_home_new_guest_request_error",{message:JSON.stringify(e)}),v({})}))}),[Z,F]),B=(0,i.useCallback)((function(){(0,l.$J)("o_flt_home_popup_activity_request_start"),s.Ck.promise({sourceType:n,extension:[{name:"sotpCtxpersonal-recommend",value:"1"},{name:"weichat",value:"1"}]}).then((function(e){if(2===(null===e||void 0===e?void 0:e.flag)){var t,r,i=null===e||void 0===e||null===(t=e.activity)||void 0===t?void 0:t.giftPackage;null!==i&&void 0!==i&&i.backImage&&null!==i&&void 0!==i&&i.buttonImage&&null!==i&&void 0!==i&&null!==(r=i.couponList)&&void 0!==r&&r.length?((0,l.$J)("c_home_advertiseActivity_old_guest"),C((0,o.Z)((0,o.Z)({},i),{},{posterId:e.activity.posterId}))):(0,l.$J)("o_flt_home_popup_activity_old_guest_null")}else if(1===(null===e||void 0===e?void 0:e.flag)){var a,c=null===e||void 0===e||null===(a=e.activity)||void 0===a?void 0:a.giftPackage;if(c&&Object.keys(c).length){var s=n===p.ZD.LIST?"c_list_advertiseActivity_new_guest_V3":"c_home_advertiseActivity_new_guest_V2";(0,l.$J)(s),N((0,o.Z)((0,o.Z)({},c),{},{posterId:e.activity.posterId}))}else(0,l.$J)("c_home_advertiseActivity_new_guest"),M()}else{var u=null===e||void 0===e?void 0:e.activity;null!==u&&void 0!==u&&u.posterFile&&(null!==u&&void 0!==u&&u.buttonUrl||null!==u&&void 0!==u&&u.jumpUrl)&&null!==u&&void 0!==u&&u.buttonFile?((0,l.$J)("c_home_advertiseActivity_popup_show"),V(e.activity),D(!0)):(0,l.$J)("o_flt_home_popup_activity_null")}}),(function(){(0,l.$J)("o_flt_home_popup_activity_request_fail")})).catch((function(){(0,l.$J)("o_flt_home_popup_activity_request_error")}))}),[M,n]),U=(0,c.Sl)("homePopupSwitch");(0,i.useEffect)((function(){var e=g||{},t=e.couponsList,n=void 0===t?[]:t,r=e.noteList,i=n.length>0,o=r&&r.find((function(e){return 36===e.ntype})),a=o&&o.nconent&&parseInt(o.nconent),c=h.getAttr("count",0);i&&a&&(c<a?((0,l.jq)("o_home_gift_package_pop_show",{message:"\u7b2c".concat(c,"\u6b21\u5f39\u7a97")}),I(!0)):((0,l.jq)("o_home_gift_package_pop_unshow",{message:"\u8d85\u8fc7\u5f39\u7a97\u9650\u5236\u6b21\u6570"}),I(!1)))}),[g]),(0,i.useEffect)((function(){var e=h.getAttr("count",0);k&&h.setAttr("count",e+1)}),[k]),(0,i.useEffect)((function(){U&&u.Y8.getPRSetting().then((function(e){e.personalRecommendSwitch&&B()}),(function(){u.Y8.hideLoading({})})).catch((function(e){console.log("cwx_getPRSetting_err",e),(0,l.$J)("cwx_getPRSetting_err")}))}),[U,B]);var q=function(){D(!1)},Y=function(){(0,l.jq)("c_home_gift_package_pop_close"),I(!1)};return t({showHomeNewGuestModal:k,giftData:_,oldGiftData:b,giftPackageData:g,closeAdvertisePopup:q,closeGiftPackPop:Y,advertiseActivity:L,advertisePopupSwitch:R})},v=g,y=v,x=n(79301),_=n(95308),N=n(60933),T=n(72546),w=n(71515),b=n(97659),C=n(95518),j=n(94892),S=n(9361),k={activityDescriptionPop:"ShowDescription-module_KPpFg",activityDescription:"ShowDescription-module_RgD1U",descriptionContainer:"ShowDescription-module_l2L5W",title:"ShowDescription-module_QwmXs",content:"ShowDescription-module_UbPk2"},I=n(2269),E=function(e){var t;(0,l.ff)("S_FLT_Activity_Description_Pop");try{t=JSON.parse(e)}catch(n){t=e}var n,i="string"===typeof t;if(i){var o=e.replace(/\$/gi,"<br />");n=(0,I.jsx)(r.MiniRichText,{nodes:o})}else t.length&&(n=(0,I.jsx)(I.Fragment,{children:t.map((function(e){var t=e.noteTitle,n=e.noteContent,i=n.replace(/\$/gi,"<br />");return(0,I.jsxs)(w.View,{className:k.descriptionContainer,children:[(0,I.jsx)(w.View,{className:k.title,children:t}),(0,I.jsx)(w.View,{className:k.content,children:(0,I.jsx)(r.MiniRichText,{nodes:i})})]},t)}))}));var a=0===(0,S.R2)().bottom?15:(0,S.R2)().bottom;(0,j.K4)({close:{position:"top-left"},title:p.iB,content:(0,I.jsx)(C.Z,{className:k.activityDescription,scrollY:!0,style:{paddingBottom:"".concat(a,"px")},id:"id_9b4c2",onScroll:(0,r.trackFn)("id_9b4c2"),children:n}),position:"bottom",className:"".concat(k.activityDescriptionPop),style:{height:"78%",top:"23%",bottom:0,left:0,padding:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}})},P=n(32180)["window"],L=function(e){var t=e.data,n=e.callback,o=e.clsName,s=e.pageSource,d=(0,i.useState)(!1),f=(0,a.Z)(d,2),m=f[0],h=f[1],g=(0,i.useState)(!1),v=(0,a.Z)(g,2),y=v[0],x=v[1],_=(0,i.useRef)({timer:0,animateClose:!1}),N=(0,c.Gm)("imageLoadTime",1500);if((0,i.useEffect)((function(){setTimeout((function(){(0,u.I8)()}),50)}),[t]),y||!t||!Object.keys(t).length)return null;_.current.timer||(_.current.timer=P.Date.now());var T=t.backImage,C=t.buttonImage,j=t.description,S=function(){var e=P.Date.now()-_.current.timer;if(e>N){var t=s===p.ZD.LIST?"new_guset_gift_load_image_timeout_V3":"new_guset_gift_load_image_timeout";(0,l.jq)(t,{loadTime:N})}else h(!0)},k=function(){var e=s===p.ZD.LIST?"new_guset_gift_click_btn_V3":"new_guset_gift_click_btn";(0,l.jq)(e,{name:o?"\u4e00\u952e\u81a8\u80c0":"\u5f00\u5fc3\u6536\u4e0b"}),h(!1),_.current.animateClose=!0,n()},L=function(){var e=s===p.ZD.LIST?"new_guset_gift_click_close_V3":"new_guset_gift_click_close";(0,l.jq)(e,{name:o?"\u4e00\u952e\u81a8\u80c0":"\u5f00\u5fc3\u6536\u4e0b"}),h(!1),_.current.animateClose=!0},V=(0,r.classnames)(o,{"giftPack-container-second animate__animated animate__fast autoExpose":!0,animate__zoomIn:m,animate__zoomOut:_.current.animateClose&&!m}),O=(0,r.classnames)({"giftPack-wrapper animate__animated animate__fast":!0}),A=function(){_.current.animateClose&&x(!0)};return(0,I.jsxs)(I.Fragment,{children:[m&&(0,I.jsx)(w.View,{className:"giftPack-mask"}),(0,I.jsx)(w.View,{className:V,catchMove:!0,onAnimationEnd:A,"data-expose":{speed:"".concat(s===p.ZD.LIST?"giftPack_V3":"giftPack"," ").concat(o||"")},children:(0,I.jsxs)(w.View,{className:O,children:[(0,I.jsx)(b.Z,{className:"backImage",src:T,onLoad:S}),(0,I.jsx)(b.Z,{ubtKey:"new_guset_gift_click_btn"+o,className:"buttonImage",src:C,onClick:(0,r.trackFn)("new_guset_gift_click_btn"+o,k)}),(0,I.jsxs)(w.View,{className:"activity",onClick:(0,r.trackFn)("onClick--8a181",(function(){return E(j)})),children:[(0,I.jsx)(w.Text,{className:"text",children:p.iB}),(0,I.jsx)(w.Text,{className:"iconfont-h5 icon-arrow-right"})]}),(0,I.jsx)(b.Z,{onClick:(0,r.trackFn)("close--e85af",L),className:"giftPack-close",src:"https://pages.c-ctrip.com/flight_h5/tinyapp/home/newGuest/close.png"})]})})]})},V=L,O=function(e){var t=e.giftPackageData,n=e.pageSource,o=(0,i.useState)(void 0),c=(0,a.Z)(o,2),u=c[0],d=c[1],f=(0,N._n)(),m=function(){var e=(0,_.Z)((0,x.Z)().mark((function e(){var i,o;return(0,x.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,f){e.next=5;break}return(0,l.jq)("receiveCoupon not login"),e.next=5,(0,N.fN)();case 5:return e.next=7,s.sq.promise({sourceType:n,posterId:null===t||void 0===t?void 0:t.posterId,extension:[{name:"weichat",value:"1"}]});case 7:i=e.sent,o=null===i||void 0===i?void 0:i.couponExpand,(0,l.jq)("receiveCoupon result",{couponExpand:o}),o&&Object.keys(o).length?d({backImage:o.backImage,buttonImage:o.buttonImage,description:o.desc,jumpUrl:o.jumpUrl}):i.errMsg&&(0,r.showToast)(i.errMsg),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),(0,l.jq)("receiveCoupon error");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=null===u||void 0===u?void 0:u.jumpUrl;(0,l.jq)("expand coupon jump",{jumpUrl:e}),e&&(0,T.G)(e)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(V,{data:t,callback:m,pageSource:n}),(0,I.jsx)(V,{data:u,callback:p,clsName:"expand"})]})},A=O,R=n(45023),D={oldGiftPop:"OldGuestGiftPackagePop-module_rbKbL",oldGiftPackContainer:"OldGuestGiftPackagePop-module_WPwYz",giftPackWrapper:"OldGuestGiftPackagePop-module_FFbYa",topTitleBox:"OldGuestGiftPackagePop-module_CXPb1",topTitle:"OldGuestGiftPackagePop-module_vR7zN",topSubTitle:"OldGuestGiftPackagePop-module_tzcYN",normalSubTitle:"OldGuestGiftPackagePop-module_mtAVA",activeSubTitle:"OldGuestGiftPackagePop-module_XlAlH",labelStyle:"OldGuestGiftPackagePop-module_MseBU",couponContainer:"OldGuestGiftPackagePop-module_NsnTF",couponWrapper:"OldGuestGiftPackagePop-module_t21CE",couponItemBox:"OldGuestGiftPackagePop-module_arC8r",couponBackImage:"OldGuestGiftPackagePop-module_GON86",couponLeft:"OldGuestGiftPackagePop-module_FyV0M",money:"OldGuestGiftPackagePop-module_gbx7S",priceLabel:"OldGuestGiftPackagePop-module_T_CK3",couponLeftAlipay:"OldGuestGiftPackagePop-module_lGE8F",couponRight:"OldGuestGiftPackagePop-module_hqUBJ",nameBox:"OldGuestGiftPackagePop-module_HssC4",couponName:"OldGuestGiftPackagePop-module_KYFom",nameActive:"OldGuestGiftPackagePop-module_qXjv_",validityBox:"OldGuestGiftPackagePop-module_gCZAi",validity:"OldGuestGiftPackagePop-module_Chpa5",validityActive:"OldGuestGiftPackagePop-module__Az57",couponRightAlipay:"OldGuestGiftPackagePop-module_YE6k5",backImage:"OldGuestGiftPackagePop-module_yStHv",buttonImage:"OldGuestGiftPackagePop-module_xDfPL",activity:"OldGuestGiftPackagePop-module_eJLtn",titleText:"OldGuestGiftPackagePop-module_qQ7Ts",subTitleText:"OldGuestGiftPackagePop-module_RBnUE",giftPackClose:"OldGuestGiftPackagePop-module_WtemW"},Z=n(32180)["window"],F=function(e){return e[e["Instant_Discount"]=0]="Instant_Discount",e[e["Full_Discount"]=1]="Full_Discount",e[e["Discount"]=2]="Discount",e}(F||{}),M=function(e){var t=e.content,n=e.boxStyle,o=e.normalStyle,a=e.activeStyle,c=e.addMoneyLabel,s=void 0!==c&&c,l=e.labelStyle,u=(0,r.handleHighlight)(t);return u.length>0?(0,I.jsx)(w.View,{className:n,children:u.map((function(e,t){return(0,I.jsxs)(i.Fragment,{children:[s&&e.active&&(0,I.jsx)(w.Text,{className:l,children:"\uffe5"}),(0,I.jsx)(w.Text,{className:e.active?a:o,children:e.text},e.text)]},"light_".concat(t))}))}):null},B=function(e){var t,n=e.coupon;if(!n||null===(t=Object.keys(n))||void 0===t||!t.length)return null;var i=n.amount,o=n.backImage,a=n.name,c=n.type,s=n.validity,l=!1;return(0,I.jsxs)(w.View,{className:D.couponItemBox,children:[(0,I.jsx)(b.Z,{src:o,className:D.couponBackImage}),(0,I.jsxs)(w.View,{className:(0,r.classnames)((0,R.Z)((0,R.Z)({},D.couponLeft,!0),D.couponLeftAlipay,l)),children:[c!==F.Discount&&(0,I.jsx)(w.Text,{className:D.priceLabel,children:"\uffe5"}),(0,I.jsx)(w.Text,{className:D.money,children:i}),c===F.Discount&&(0,I.jsx)(w.Text,{className:D.priceLabel,children:"\u6298"})]}),(0,I.jsxs)(w.View,{className:(0,r.classnames)((0,R.Z)((0,R.Z)({},D.couponRight,!0),D.couponRightAlipay,l)),children:[(0,I.jsx)(M,{content:a,boxStyle:D.nameBox,normalStyle:D.couponName,activeStyle:D.nameActive}),(0,I.jsx)(M,{content:s,boxStyle:D.validityBox,normalStyle:D.validity,activeStyle:D.validityActive})]})]})},U=function(e){var t=e.giftPackageData,n=e.pageSource,o=(0,i.useState)(!1),d=(0,a.Z)(o,2),f=d[0],m=d[1],h=(0,i.useState)(!1),g=(0,a.Z)(h,2),v=g[0],y=g[1],j=(0,i.useRef)({timer:0,animateClose:!1}),S=(0,c.Gm)("imageLoadTime",1500),k=(0,N._n)();if((0,i.useEffect)((function(){setTimeout((function(){(0,u.I8)()}),50)}),[t]),v||!t||!Object.keys(t).length)return null;j.current.timer||(j.current.timer=Z.Date.now());var P=t.backImage,L=t.buttonImage,V=t.description,O=t.jumpUrl,A=t.couponList,R=void 0===A?[]:A,F=t.amount,U=t.subTitle,q=t.title,Y=F?U.replace(/price/g,F):U.replace(/\[[^\)]*\]/g,""),H=function(){var e=Z.Date.now()-j.current.timer;e>S?(0,l.jq)("old_guest_gift_load_image_timeout",{loadTime:S}):m(!0)},G=function(){var e=(0,_.Z)((0,x.Z)().mark((function e(){var i,o,a,c;return(0,x.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,k){e.next=5;break}return(0,l.jq)("receiveCoupon not login"),e.next=5,(0,N.fN)();case 5:return e.next=7,s.sq.promise({sourceType:n,posterId:null===t||void 0===t?void 0:t.posterId,extension:[{name:"weichat",value:"1"}]});case 7:i=e.sent,o=i.errMsg,a=void 0===o?"":o,c=i.errCode,(0,l.jq)("receiveCoupon result",{errMsg:a,errCode:c}),a&&(0,r.showToast)(a),!c&&O&&((0,l.jq)(" coupon jump",{jumpUrl:O}),setTimeout((function(){(0,T.G)(O)}),1e3)),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),(0,l.jq)("receiveCoupon error");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),W=function(){(0,l.jq)("old_guest_gift_click_btn",{name:"\u5f00\u5fc3\u6536\u4e0b"}),m(!1),j.current.animateClose=!0,G()},z=function(){(0,l.jq)("old_guest_gift_click_close",{name:"\u5f00\u5fc3\u6536\u4e0b"}),m(!1),j.current.animateClose=!0},K=function(){j.current.animateClose&&y(!0)};return(0,I.jsxs)(I.Fragment,{children:[f&&(0,I.jsx)(w.View,{className:D.oldGiftPop}),(0,I.jsx)(w.View,{className:"".concat(D.oldGiftPackContainer," animate__animated animate__fast autoExpose ").concat(f?"animate__zoomIn":""," ").concat(j.current.animateClose&&!f?"animate__zoomOut":""),catchMove:!0,onAnimationEnd:K,"data-expose":"old_guest_gift_pop",children:(0,I.jsxs)(w.View,{className:"".concat(D.giftPackWrapper," animate__animated animate__fast"),children:[(0,I.jsx)(b.Z,{className:D.backImage,src:P,onLoad:H}),(0,I.jsxs)(w.View,{className:D.topTitleBox,children:[(0,I.jsx)(w.View,{className:D.topTitle,children:q}),(0,I.jsx)(M,{content:Y,boxStyle:D.topSubTitle,normalStyle:D.normalSubTitle,activeStyle:D.activeSubTitle,addMoneyLabel:!0,labelStyle:D.labelStyle})]}),(0,I.jsx)(w.View,{className:D.couponContainer,children:(0,I.jsx)(C.Z,{scrollY:!0,className:D.couponWrapper,id:"id_b208f",onScroll:(0,r.trackFn)("id_b208f"),children:R.map((function(e,t){return(0,I.jsx)(B,{coupon:e},"coupon_".concat(t))}))})}),(0,I.jsx)(b.Z,{ubtKey:"old_guest_gift_click_btn",className:D.buttonImage,src:L,onClick:(0,r.trackFn)("old_guest_gift_click_btn",W)}),(0,I.jsxs)(w.View,{className:D.activity,onClick:(0,r.trackFn)("onClick--73b55",(function(){return E(V)})),children:[(0,I.jsx)(w.View,{children:(0,I.jsx)(w.Text,{className:D.titleText,children:p.Cx})}),(0,I.jsxs)(w.View,{children:[(0,I.jsx)(w.Text,{className:D.subTitleText,children:p.iB}),(0,I.jsx)(w.Text,{className:"iconfont-h5 icon-arrow-right ".concat(D.subTitleText)})]})]}),(0,I.jsx)(b.Z,{onClick:(0,r.trackFn)("close--8e473",z),className:D.giftPackClose,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/home/newGuest/close.png"})]})})]})},q=U,Y=n(13612);function H(e){var t=e.useIntroPopData,n=e.handleShowUseIntroPop;if(!t)return null;var i=JSON.parse(t);return(0,I.jsx)(w.View,{className:"giftUsePop",onClick:(0,r.trackFn)("onClick--7ce58",(function(){n(!1)})),"data-testid":"handle-show-use-intro-pop-1",children:(0,I.jsxs)(w.View,{className:"gift-container",children:[(0,I.jsxs)(w.View,{className:"gift-pop-title",children:[(0,I.jsx)(w.View,{className:"icon-content",onClick:(0,r.trackFn)("onClick--87d0c",(function(){n(!1)})),"data-testid":"handle-show-use-intro-pop-2",children:(0,I.jsx)(w.Text,{className:"iconfont-h5 icon-close"})}),(0,I.jsx)(w.View,{className:"title",children:"\u4f7f\u7528\u8bf4\u660e"})]}),(0,I.jsx)(w.View,{className:"gift-pop-content",onClick:(0,r.trackFn)("onClick--e41d5",(function(e){e.stopPropagation()})),children:(0,I.jsx)(C.Z,{scrollY:!0,className:"scrollBox",id:"id_7bd41",onScroll:(0,r.trackFn)("id_7bd41"),children:i.map((function(e,t){var n=e.noteContent&&e.noteContent.split("$"),r=n&&n.filter((function(e){return!!e}));return(0,I.jsxs)(w.View,{className:"info-item",children:[(0,I.jsx)(w.View,{className:"info-title",children:(0,I.jsx)(w.Text,{children:e.noteTitle})}),r&&r.length>0&&r.map((function(e,t){return(0,I.jsx)(w.View,{className:"info-con",children:(0,I.jsx)(w.Text,{children:e})},"note".concat(t))}))]},t)}))})})]})})}var G={SINGLE_COUPON:1,COUPON:3,FLIGHT_RIGHT:2,X_RIGHT:4},W="https://pages.c-ctrip.com/flight_h5/tinyapp/giftPack/giftPack_top.png",z="https://pages.c-ctrip.com/flight_h5/tinyapp/giftPack/giftPack_btm.png",K="https://pages.c-ctrip.com/flight_h5/tinyapp/giftPack/accept_gift.png",Q="https://pages.c-ctrip.com/flight_h5/tinyapp/giftPack/float_close.png",J=function(e){var t=e.giftPackageData,n=e.closeGiftPackPop,o=t||{},c=o.couponsList,u=void 0===c?[]:c,f=o.noteList,m=o.flagMap,p=null===u||void 0===u?void 0:u.find((function(e){return e.ctype===G.COUPON})),h=null===p||void 0===p?void 0:p.pstr,g=!(128!==(128&m)),v=(0,d.C)(Y.c7),y=(0,i.useMemo)((function(){var e,t=[];return t=g?u.filter((function(e){return e.ctype!==G.COUPON})):u.filter((function(e){return e.ctype!==G.SINGLE_COUPON})),(null===(e=t)||void 0===e?void 0:e.length)>0&&(0,l.ff)("O_Old_Version_NewGuest_Show"),t}),[u,g]),T=(0,i.useState)(!1),C=(0,a.Z)(T,2),j=C[0],S=C[1],k=function(e,t){var n=e.find((function(e){return e.ntype===t}));return n&&n.ncontent},E=function(e,t){var n=e.find((function(e){return e.ntype===t}));return n&&n.nconent},P=E(f,10),L=E(f,12),V=(0,i.useCallback)((0,_.Z)((0,x.Z)().mark((function e(){var t;return(0,x.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if((0,l.jq)("c_home_receive_coupons_request"),t=v,t){e.next=5;break}return e.next=5,(0,N.fN)();case 5:s.Q$.promise({pstr:h,sctype:5}).then((function(e){e&&e.sr&&0===e.sr.rt?((0,l.jq)("o_home_receive_coupons_success"),(0,r.showToast)("\u9886\u53d6\u6210\u529f")):((0,l.jq)("o_home_receive_coupons_fail"),(0,r.showToast)("\u53d1\u5238\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d~")),setTimeout((function(){n()}),1e3)})).catch((function(e){(0,l.jq)("o_home_receive_coupons_err"),console.log(e&&e.message),(0,r.showToast)("\u53d1\u5238\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d~"),setTimeout((function(){n()}),1e3)}));case 6:case"end":return e.stop()}}),e)}))),[v,h,n]),O=function(e){S(e),e?(0,l.jq)("c_open_useIntroPop"):(0,l.jq)("c_close_useIntroPop")};return(null===y||void 0===y?void 0:y.length)>0?(0,I.jsxs)(w.View,{className:"giftPack-container",catchMove:!0,children:[(0,I.jsxs)(w.View,{className:"giftPack-wrapper",children:[(0,I.jsxs)(w.View,{className:"positionR",children:[(0,I.jsx)(b.Z,{className:"giftPackBg",src:W}),(0,I.jsxs)(w.View,{className:"useIntrTxt",onClick:(0,r.trackFn)("onClick--ba3f9",(function(){O(!0)})),"data-testid":"handle-show-use-intro-pop",children:[(0,I.jsx)(w.Text,{children:"\u4f7f\u7528\u8bf4\u660e"}),(0,I.jsx)(w.Text,{className:"iconfont-h5 icon-arrow-right"})]})]}),(0,I.jsx)(w.View,{className:"cou-container",children:y.map((function(e,t){if(e&&e.cnotes){var n=e.ctype,r=e&&e.amount,i=e.cnotes,o=e&&e.name,a=k(i,3),c=o&&n===G.SINGLE_COUPON?o:a,s=n===G.SINGLE_COUPON?k(i,1):k(i,4),l=k(i,5),u=k(i,6);return(0,I.jsxs)(w.View,{className:"couponItem",children:[(0,I.jsx)(w.View,{className:"leftBox",children:(0,I.jsx)(b.Z,{src:l,className:"leftIcon"})}),u&&(0,I.jsx)(w.View,{className:"rightCornerTxt "+(n===G.X_RIGHT?"orange":""),children:(0,I.jsx)(w.Text,{children:u})}),(0,I.jsx)(w.View,{className:"rightBox",children:(0,I.jsxs)(w.View,{className:"content",children:[(0,I.jsxs)(w.View,{children:[r&&n===G.COUPON?(0,I.jsxs)(w.Text,{className:"money",children:["\xa5",r]}):null,(0,I.jsx)(w.Text,{className:"couName",children:c})]}),s?(0,I.jsx)(w.View,{children:(0,I.jsx)(w.Text,{className:"couInfo",children:s})}):null]})})]},t)}return null}))}),(0,I.jsxs)(w.View,{className:"positionR",children:[(0,I.jsx)(b.Z,{className:"giftPackBtmBg",src:z}),(0,I.jsx)(w.View,{className:"couponLmtTxt",children:(0,I.jsx)(w.Text,{children:L})})]}),(0,I.jsx)(b.Z,{className:"acceptCouBtn",src:K,onClick:(0,r.trackFn)("sendCouponClick--1eedc",V),"data-testid":"send-coupon-click"}),(0,I.jsx)(b.Z,{src:Q,className:"giftPack-pop-close",onClick:(0,r.trackFn)("closeGiftPackPop--bd6c9",n),"data-testid":"close-gift-pack-pop"})]}),j&&(0,I.jsx)(H,{useIntroPopData:P,handleShowUseIntroPop:O})]}):null},X=J,$={advertiseMask:"AdvertisePopup-module_hXLTF",advertiseContainer:"AdvertisePopup-module_TKdk0",advertiseBg:"AdvertisePopup-module_hoJxH",btnBox:"AdvertisePopup-module_SCqv8",advertisePopClose:"AdvertisePopup-module_kEsQG"},ee=function(e){var t=e.closeAdvertisePopup,n=e.AdvertiseActivity,o=n||{},a=o.buttonUrl,c=o.couponId,u=void 0===c?0:c,d=o.jumpUrl,f=o.posterFile,m=o.buttonFile,p=(0,i.useCallback)((function(){(0,l.jq)("c_home_advertiseActivity_popup_close"),t()}),[t]),h=(0,i.useCallback)((function(){u>0?((0,l.jq)("c_home_advertiseActivity_receive_coupons_click"),s.Zs.promise({couponId:u}).then((function(e){var n=e.result;0===n?((0,r.showToast)("\u9886\u5238\u6210\u529f"),(0,l.$J)("c_home_advertiseActivity_receive_coupons_success"),setTimeout((function(){t(),d&&(0,T.G)(d)}),1e3)):((0,r.showToast)("\u9886\u5238\u5931\u8d25"),(0,l.$J)("c_home_advertiseActivity_receive_coupons_fail",{result:n}),setTimeout((function(){t()}),1e3))})).catch((function(){(0,r.showToast)("\u9886\u5238\u5931\u8d25"),(0,l.$J)("c_home_advertiseActivity_receive_coupons_error"),setTimeout((function(){t()}),1e3)}))):a&&((0,l.jq)("c_home_advertiseActivity_jump_click"),t(),(0,T.G)(a))}),[a,u,d,t]);return(0,I.jsxs)(w.View,{children:[(0,I.jsx)(w.View,{className:$.advertiseMask}),(0,I.jsxs)(w.View,{className:$.advertiseContainer,children:[(0,I.jsx)(b.Z,{className:$.advertiseBg,src:f}),(0,I.jsx)(b.Z,{"data-testid":"jump-to-activity",className:$.btnBox,onClick:(0,r.trackFn)("jumpToActivity--747c1",h),src:m}),(0,I.jsx)(w.View,{className:$.advertisePopClose,onClick:(0,r.trackFn)("onClick--d0c3b",(function(){return p()})),children:(0,I.jsx)(w.Text,{className:"iconfont-h5 icon-close"})})]})]})},te=ee,ne=function(e){var t=e.pageSource;return(0,I.jsx)(y,{pageSource:t,children:function(e){var n=e.giftPackageData,r=e.giftData,i=e.oldGiftData,o=e.advertiseActivity,a=e.advertisePopupSwitch,c=e.closeAdvertisePopup,s=e.showHomeNewGuestModal,l=e.closeGiftPackPop;return(0,I.jsxs)(I.Fragment,{children:[a&&(0,I.jsx)(te,{AdvertiseActivity:o,closeAdvertisePopup:c}),(0,I.jsx)(A,{giftPackageData:r,pageSource:t}),(0,I.jsx)(q,{giftPackageData:i,pageSource:t}),s&&(0,I.jsx)(X,{giftPackageData:n,closeGiftPackPop:l})]})}})},re=ne,ie=re},321:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(91425),i=n(90201),o=n(92954),a=n(60328),c=n(82933),s=n(74711),l=n(29557),u=n(75552),d=n(22276),f=n(89872);function m(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(null!==e&&void 0!==e&&e.length){var o=null===e||void 0===e?void 0:e.map((function(e){var n=(0,f.M3)({policys:e.policys,passengerType:t,isHasTax:i}),r=i?null===n||void 0===n?void 0:n.hasTaxPrice:null===n||void 0===n?void 0:n.realPrice;return{prices:{realPrice:Math.ceil(r||9999999)}}})),a=Math.min.apply(Math,(0,d.Z)(r.R.flatten(o.map((function(e){return Object.values(e.prices)})))));return a}}var p=n(49956),h=function(e){var t=e.tripType,n=e.segno,d=e.polid,f=e.prdid,h=e.passengerType,g=e.children,v=e.isHasTax,y=(0,p.Q)({segno:n,polid:d,prdid:f}),x=(0,l.Gm)("Flight.Mobile.TaroH5.ListSearch.SkipInterByAlliance",""),_=(0,c.Gm)(),N=(0,o.useRouter)(),T=N.params,w=(null===T||void 0===T?void 0:T.allianceid)||_.allianceid,b=(null===T||void 0===T?void 0:T.sid)||_.sid,C=(0,i.useMemo)((function(){return x.includes("".concat(w,"-").concat(b))}),[w,b,x]),j=(0,u.X)(y,{skip:C}),S=j.data,k=j.isFetching,I=j.isError,E=j.requestNum,P=j.refetch,L=(0,i.useMemo)((function(){return k?-1:m(null===S||void 0===S?void 0:S.segs,h,y,v)}),[k,null===S||void 0===S?void 0:S.segs,h,v,y]);return(0,i.useEffect)((function(){if(null!==S&&void 0!==S&&S.segs||!k&&S){if(1===n){var e=r.R.path(["INTERNATIONAL",t,"DEPARTURE"],a.IY);s.ZP.emit(s.mT,e)}if(2===n){var i=r.R.path(["INTERNATIONAL",t,"ARRIVAL"],a.IY);s.ZP.emit(s.JU,i)}}}),[S,k,n,t]),g({isFetching:k,isError:I,isSkip:C,lowestPrice:L,requestNum:E,refetch:P,data:S})},g=h},37170:function(e,t,n){"use strict";n.d(t,{kQ:function(){return o},F7:function(){return a}});n(91425);var r=n(58637),i=r.Z.injectEndpoints({endpoints:function(e){return{interListSearch:e.query({query:function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.sortinfo)&&void 0!==t&&t.token?{url:"/14780/listSearchNextForH5",queryObject:{subEnv:"fat36"},cver:"856.006",queryParams:e}:{url:"/14780/listSearchForH5",queryObject:{subEnv:"fat128"},cver:"856.006",queryParams:e}},keepUnusedDataFor:5,transformResponse:function(e){return e}})}}}),o=i.useInterListSearchQuery,a=i.usePrefetch},75552:function(e,t,n){"use strict";n.d(t,{X:function(){return d}});var r=n(79301),i=n(95308),o=n(298),a=n(90129),c=(n(91425),n(90201)),s=n(67107),l=n(17321),u=n(37170),d=function(e,t){var n=t||{},d=n.skip,f=(0,c.useState)(null),m=(0,a.Z)(f,2),p=m[0],h=m[1],g=(0,c.useState)(!0),v=(0,a.Z)(g,2),y=v[0],x=v[1],_=(0,c.useState)(!1),N=(0,a.Z)(_,2),T=N[0],w=N[1],b=(0,c.useState)(0),C=(0,a.Z)(b,2),j=C[0],S=C[1],k=(0,c.useState)(),I=(0,a.Z)(k,2),E=I[0],P=I[1],L=(0,s.C)(l.QY),V=(0,c.useMemo)((function(){return(0,o.Z)((0,o.Z)({},e),{},{sortinfo:(0,o.Z)((0,o.Z)({},e.sortinfo),{},{token:E})})}),[e,E]),O=(0,u.kQ)(V,{skip:!V||!L||d}),A=O.isError,R=O.isFetching,D=O.data,Z=(0,c.useCallback)((function(){P(void 0),x(!0),h(null),S(0)}),[]);return(0,c.useEffect)((function(){Z()}),[e]),(0,c.useEffect)((function(){if(A)return w(!0),x(!1),void S(0);if(!R){S((function(e){return e+1}));var e=D||{},t=e.segs,n=e.searchrate,o=n||{},a=o.token,c=o.nxttime;if(null!==t&&void 0!==t&&t.length&&h(D||null),a){var s=setTimeout((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:P(a);case 1:case"end":return e.stop()}}),e)}))),c);return function(){clearInterval(s)}}x(!1)}}),[A,R,D]),{data:p,isFetching:R||y&&!d,isError:T,requestNum:j,refetch:Z}}},49956:function(e,t,n){"use strict";n.d(t,{Q:function(){return d}});var r=n(298),i=n(91425),o=n(90201),a=n(67107),c=n(17321),s=(0,i.createSelector)([c.Wt,c.ww,c.pW,c.sq,c.e_,c.W$],(function(e,t,n,r,i){var o=[{dcode:e,acode:t,ddate:n}];return"ROUND_TRIP"===i&&o.push({dcode:t,acode:e,ddate:r}),{segs:o,tripType:"ROUND_TRIP"===i?2:1}})),l={ECONOMY:0,SUPER_ECONOMY:1,"ECONOMY\u3001SUPER_ECONOMY":4,"BUSINESS\u3001FIRST":9,BUSINESS:2,FIRST:3},u=function(e){var t=e||{},n=t.ADULT,r=void 0===n?1:n,i=t.CHILD,o=void 0===i?0:i,a=t.INFANT,c=void 0===a?0:a;return[{psgtype:1,psgcnt:r},{psgtype:2,psgcnt:o},{psgtype:3,psgcnt:c}]},d=function(e){var t=e.segno,n=e.polid,i=e.prdid,d=(0,a.C)(s),f=(0,a.C)(c.kM),m=(0,a.C)(c.uV);return(0,o.useMemo)((function(){return(0,r.Z)((0,r.Z)({},d),{},{psglst:u(f),segno:t,grade:l[m],sortinfo:{idx:1,size:0,ordby:105,meyordby:2,dir:2,token:""},polid:decodeURIComponent(n),prdid:decodeURIComponent(i)})}),[m,f,d,t,n,i])}},66298:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ht}});var r=n(90129),i=n(91425),o=n(90201),a=n(92954),c=n(71515),s=n(67107),l=n(17321),u=n(97659),d={wideStyle:"index-module_tz9lR",thinStyle:"index-module_PMuIW",marginStyle:"index-module_OyoBf",BoxStyle:"index-module_Gdo1C",ImageStyle:"index-module_dTEg7"},f=n(2269),m=function(e){var t=e.isSecond,n=e.arrivalDate,r="".concat((0,i.dayjs)(n).locale("zh-cn").format("MM-DD(ddd)")),o=t?"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/second.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/one.png";return(0,f.jsxs)(c.View,{className:"".concat(d.BoxStyle," ").concat(d.marginStyle),children:[(0,f.jsx)(u.Z,{src:o,className:d.ImageStyle}),(0,f.jsx)(c.Text,{className:d.wideStyle,children:t?"\u9009\u8fd4\u7a0b":"\u9009\u53bb\u7a0b"}),(0,f.jsxs)(c.Text,{className:d.thinStyle,children:[t?"":"\u4e0b\u4e00\u6b65\u9009\u8fd4\u7a0b"," ",r]})]})},p=(0,o.memo)(m),h=n(46535),g=n(84608),v={textBox:"ListCardTab-module_orUTt",textContainer:"ListCardTab-module_ZCkMS",timeStyle:"ListCardTab-module_KDBVG",totalStyle:"ListCardTab-module_kxgYf",textStyle:"ListCardTab-module_Q4QYa",taxStyle:"ListCardTab-module_adOYW",LoadingContainer:"ListCardTab-module_Uy5eq",blockView:"ListCardTab-module_fjL2h",loadingBlink:"ListCardTab-module_ceVXw"},y=function(e){var t="\u5f53\u5730\u65f6\u95f4",n="\u5f53\u5730\u65f6\u95f4";return null===e||void 0===e||e.forEach((function(e){1===e.nntype?t=1===+e.nncnt||2===+e.nncnt?"\u5317\u4eac\u65f6\u95f4":"\u5f53\u5730\u65f6\u95f4":2===e.nntype&&(n=1===+e.nncnt||2===+e.nncnt?"\u5317\u4eac\u65f6\u95f4":"\u5f53\u5730\u65f6\u95f4")})),{depTimeZone:t,arrTimeZone:n}},x=function(e){var t,n,r=e.isFetching,i=e.isHasTax,o=void 0===i||i,a=e.data,s=null===a||void 0===a||null===(t=a.nlst)||void 0===t||null===(t=t.find((function(e){return 14===e.category})))||void 0===t?void 0:t.detaillst,l=y(s),u=!(null!==a&&void 0!==a&&null!==(n=a.segs)&&void 0!==n&&n.length);return(0,f.jsx)(c.View,{className:v.textBox,children:r&&u?(0,f.jsx)(c.View,{className:v.LoadingContainer,children:[1,2,3,4].map((function(e,t){return(0,f.jsx)(c.View,{className:v.blockView},t)}))}):(0,f.jsxs)(c.View,{className:v.textContainer,children:[(0,f.jsx)(c.Text,{className:"".concat(v.timeStyle," ").concat(v.textStyle),children:l.depTimeZone}),(0,f.jsx)(c.Text,{className:"".concat(v.totalStyle," ").concat(v.textStyle),children:"\u603b\u65f6\u957f"}),(0,f.jsx)(c.Text,{className:"".concat(v.textStyle),children:l.arrTimeZone}),(0,f.jsx)(c.Text,{className:"".concat(v.textStyle," ").concat(v.taxStyle),children:o?"\u542b\u7a0e\u4ef7":"\u4e0d\u542b\u7a0e\u4ef7"})]})})},_=(0,o.memo)(x),N=_,T=n(321),w=n(298),b=n(26099),C=n(29557),j=n(13768),S=n(54102),k=n(22077),I=n(14506),E=n(74711),P=n(13896),L=n(9423),V=n(84211),O=n(51070),A=n(9361),R=n(18228),D=n(1098),Z=n(80615),F=n(45023),M=n(40127),B={leftTopFlag:"InterMemoCard-module_dzve8",text:"InterMemoCard-module_jZSnK",imageStyle:"InterMemoCard-module_ciDj6",commonCardBox:"InterMemoCard-module_w2OME",pTop:"InterMemoCard-module_i7UhG",CardContentBox:"InterMemoCard-module_DCG1U","fill-loading":"InterMemoCard-module_OfJXa",commonCard:"InterMemoCard-module_Kh17E",newBg:"InterMemoCard-module_iCwvr"},U=n(22276),q=n(56262),Y=n(96306),H=n(6951),G=n(99519),W=n(45523),z=n(31174);function K(e){return e.length>4?e.slice(0,4)+"...":e}var Q={"flight-info-top":"InterCardContent-module_w9CwE","flight-logo-container":"InterCardContent-module_akplE",imgBox:"InterCardContent-module_GOGRv","flight-info-left":"InterCardContent-module_kWs_r",textRight:"InterCardContent-module_M4_AA",rowFlex:"InterCardContent-module_iF1Gt",grayText:"InterCardContent-module_B2CEA",tagStyle:"InterCardContent-module_tbPD_",rightTag:"InterCardContent-module_BER2g",gradeTip:"InterCardContent-module_mg_Le",taxStyle:"InterCardContent-module_f4c55",originTaxStyle:"InterCardContent-module_F0bde",TextStyle:"InterCardContent-module_Pnoq2","remain-ticket":"InterCardContent-module__PkvO","price-style":"InterCardContent-module_RCdrA",boothStyle:"InterCardContent-module_hkRf4",marginLeft:"InterCardContent-module_NaF1I",CardContentContainer:"InterCardContent-module_ySV7N",CardContentDiv:"InterCardContent-module_HTwh0"},J=function(e){if(!e||0===e.length)return null;if(1===e.length){var t;t=e[0][0].length>4?K(e[0][0])+e[0][1]:e[0].slice(0,2).join(" ");var n=e[0].slice(2);return[[t].concat((0,U.Z)(n))]}return e},X=function(e){var t=e.tax;return(0,f.jsxs)(c.View,{className:Q.taxStyle,children:[(0,f.jsx)(c.Text,{className:Q.TextStyle,children:"\u7a0e\u8d39"}),(0,f.jsx)(c.Text,{children:"\xa5"}),(0,f.jsx)(c.Text,{children:t})]})},$=function(e){var t=e.originTax;return t?(0,f.jsxs)(c.View,{className:Q.originTaxStyle,children:[(0,f.jsx)(c.Text,{className:Q.TextStyle,children:"\u7a0e\u8d39"}),(0,f.jsx)(c.Text,{children:"\xa5"}),(0,f.jsx)(c.Text,{children:t})]}):null},ee=function(e){var t,n,r=e.item;return(0,f.jsx)(H.Z,{value:null===r||void 0===r||null===(t=r.flightTag)||void 0===t?void 0:t[0].content,borderColor:null===r||void 0===r||null===(n=r.flightTag)||void 0===n?void 0:n[0].borderColor})},te=function(e){var t=e.item;return(0,f.jsx)(c.View,{className:Q["price-style"],children:(0,f.jsx)(c.View,{className:Q["remain-ticket"],children:"\u5269"+t.ticketCount+"\u5f20"})})},ne=function(e){var t=e.item;return(0,f.jsx)(c.View,{className:Q.gradeTip,children:null===t||void 0===t?void 0:t.gradeText})},re=function(e){var t=e.cabinSoldOut;return(0,f.jsxs)(c.Text,{className:Q.grayText,children:[t,"\u552e\u7f44"]})},ie=function(e){var t,n=e.item;return(0,f.jsx)(c.View,{className:Q.grayText,children:null===n||void 0===n||null===(t=n.flightTag)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.content})},oe=function(e){var t=e.item;return(0,f.jsxs)(c.View,{className:Q.boothStyle,children:[(0,f.jsx)(c.View,{className:Q["price-style"],children:(0,f.jsx)(c.View,{className:Q["remain-ticket"],children:"\u5269"+t.ticketCount+"\u5f20"})}),(0,f.jsx)(c.View,{className:"".concat(Q.gradeTip," ").concat(Q.marginLeft),children:null===t||void 0===t?void 0:t.gradeText})]})},ae={tax:X,originTax:$,haveGreenTag:ee,haveSurplus:te,isBooth:oe,haveGradeText:ne,cabinSoldOut:re,isInterTag:ie},ce=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[];if(t){var o=e.slice(0,1)[0];for(var a in o)i.push((0,f.jsx)(c.View,{children:ae[a]((0,w.Z)({item:n},o))},a))}else{var s=e.slice(1);r&&s.push({isInterTag:r}),s.forEach((function(e){for(var t in e)i.push((0,f.jsx)(c.View,{children:ae[t]((0,w.Z)({item:n},e))},t))}))}return i},se=function(e){var t,n=e.item,r=e.code,i=void 0===r?void 0:r,a=e.logoSrc,d=void 0===a?"":a,m=e.crossDateStr,p=void 0===m?void 0:m,h=n.arrivalTime,g=n.arrivalName,v=n.crossDays,y=n.departureTime,x=n.departureName,_=n.stopItem,N=n.totalDuration,T=n.ticketCount,w=n.price,b=n.originPrice,C=n.segno,j=n.tax,S=n.originTax,k=n.gradeText,I=n.airlines,E=(0,s.C)(l.uV),P=J(_),L=(null===n||void 0===n||null===(t=n.flightTag)||void 0===t?void 0:t[0])||{},V=L.content,O=L.atype,A=L.tcode,R=(null===I||void 0===I?void 0:I[0])||{},D=R.displayName,Z=R.havepAirCode,F=V&&7===O,M=(0,o.useMemo)((function(){if(["BUSINESS\u3001FIRST","ECONOMY\u3001SUPER_ECONOMY","ECONOMY\u3001SUPER_ECONOMY\u3001BUSINESS\u3001FIRST"].includes(E))return!1;var e=q.Ni[E];return!(!k||null!==k&&void 0!==k&&k.includes(e))&&e}),[E,k]),B="BOGO_POLICY_HX"===A&&!1,U=S&&B,H=V&&4===O,K=(null===n||void 0===n?void 0:n.gradeText)&&"\u7ecf\u6d4e\u8231"!==(null===n||void 0===n?void 0:n.gradeText),X=T&&T<5&&(null===n||void 0===n?void 0:n.isShowSurplus),$=K&&X,ee=$?[{isBooth:$}]:[!F&&X&&{haveSurplus:X},K&&{haveGradeText:K}],te=n.airCode?"https://pic.c-ctrip.com/AssetCatalog/airline/32/".concat(n.airCode,".png"):!(!i&&!d)&&(d||"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+i+".png"),ne=[j&&{tax:j,originTax:U?S:null},H&&{haveGreenTag:H}].concat(ee,[M&&{cabinSoldOut:M}]).filter((function(e){return e})),re=(null===I||void 0===I?void 0:I.length)>1||Z?"".concat(D,"\u7b49\u822a\u53f8"):D,ie=n.craftText&&(!n.stopItem||0===n.stopItem.length)&&(null===I||void 0===I?void 0:I.length)<=1?n.craftText:"",oe=V&&1===O?V:"";return(0,f.jsxs)(c.View,{className:Q.CardContentContainer,children:[(0,f.jsxs)(c.View,{className:"".concat(Q.CardContentContainer," ").concat(Q.CardContentDiv),children:[(0,f.jsxs)(c.View,{className:Q["flight-info-left"],style:{flex:0},children:[te&&(0,f.jsx)(c.View,{className:Q["flight-logo-container"],children:(0,f.jsx)(u.Z,{className:Q.imgBox,src:te})}),(0,f.jsxs)(c.View,{className:Q["flight-info-top"],children:[(0,f.jsx)(Y.Z,{Time:y,Name:x}),(0,f.jsx)(W.Z,{stopItem:P,totalDuration:N}),(0,f.jsx)(Y.Z,{Time:h,Name:g,crossDays:v,crossDateStr:p,isAddDay:!0})]})]}),(0,f.jsxs)(c.View,{className:Q.textRight,children:[(0,f.jsx)(G.Z,{ticketCount:T,price:w,originPrice:b,isInter:!0,segno:C,tax:j,twoFroOne:B}),ce(ne,!0,n)]})]}),(0,f.jsxs)(c.View,{className:Q.rowFlex,children:[(0,f.jsx)(z.Z,{item:n,airlineName:re,moreTicketText:oe,craftText:ie,isInter:!0}),(null===ne||void 0===ne?void 0:ne.length)>1&&(0,f.jsx)(c.View,{className:Q.rightTag,children:ce(ne,!1,n,F)})]})]})},le=se,ue=function(e){var t,n,r,i,o=e.listDataItem,a=e.visitedCache,s=e.tripType,l=e.haveLeftTag,d=(0,M.n6)(o,!0),m=o.flightTag;return o?(0,f.jsxs)(f.Fragment,{children:[l&&(0,f.jsxs)(c.View,{className:B.leftTopFlag,children:[(0,f.jsx)(c.Text,{className:B.text,children:null===m||void 0===m||null===(t=m[0])||void 0===t?void 0:t.content}),(0,f.jsx)(u.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/green_trangel.png",className:B.imageStyle})]}),(0,f.jsx)(c.View,{className:B.CardContentBox,children:(0,f.jsx)(le,{crossDateStr:d,code:(null===o||void 0===o||null===(n=o.airlines)||void 0===n?void 0:n.length)<=1&&(null===o||void 0===o||null===(r=o.airlines[0])||void 0===r?void 0:r.code),logoSrc:(null===o||void 0===o||null===(i=o.airlines)||void 0===i?void 0:i.length)>1?"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-others/transit-icon.png":"",item:o,tripType:s,visited:!(null===o||void 0===o||!o.indexId||!a.includes(o.indexId))})})]}):null},de=function(e){var t=e.VirtualListDataItem,n=e.tripType,r=e.goToNextPage,o=(0,s.C)((function(e){return e.visitedFlight}));return t?(0,f.jsx)(f.Fragment,{children:Array.isArray(t)?(0,f.jsx)(f.Fragment,{children:t.map((function(e){var t,a,s=e.flightTag,l=e.crossDays,u=(null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.content)&&![1,4,7].includes(null===s||void 0===s||null===(a=s[0])||void 0===a?void 0:a.atype);return(0,f.jsx)(c.View,{className:(0,i.classnames)(B.commonCard,B.commonCardBox,(0,F.Z)({},B.pTop,u||l>0),(0,F.Z)({},B.newBg,(null===e||void 0===e?void 0:e.indexId)&&o.includes(e.indexId))),ubtKey:e.polid,onClick:(0,i.trackFn)(e.polid+e.polid,(function(){return r(e)})),children:(0,f.jsx)(ue,{listDataItem:e,visitedCache:o,tripType:n,haveLeftTag:u})},e.polid)}))}):(0,f.jsx)(c.View,{style:{height:"".concat(null===t||void 0===t?void 0:t.height,"px")},children:(0,f.jsx)(P.Z,{itemLength:t.itemLength-1})})}):null},fe=(0,o.memo)(de),me={"listCard-new":"InterListCard-module_Y7z24"};function pe(e){var t=e.cards,n=e.name,r=e.goToNextPage,l=(0,s.C)((function(e){return e.tripType.value})),u=t.length,d=Math.ceil(u/O.YL),m=(0,o.useMemo)((function(){return!!a.createIntersectionObserver}),[]);(0,o.useEffect)((function(){m||(0,R.ff)("S_FLT_xcx_N_List_Flightcard",{hasIntersectionObserver:!!IntersectionObserver,hasCreateIntersectionObserver:!!a.createIntersectionObserver,env:"weapp"})}),[m]);var p=(0,C.h0)(".card-bottom-observe",d,m,m),h=p.pageNo,g=p.renderNext;(0,o.useEffect)((function(){var e=(0,I.Vj)();return E.ZP.on(E.J2,(function(e){e===n&&g()}),e),function(){E.ZP.off(E.J2,e)}}),[g,n]);var v=m?t:t.slice(0,O.YL*h),y=(0,A.R2)(),x=y.bottom,_=void 0===x?0:x;return t&&0!==t.length?(0,f.jsx)(c.View,{id:"list-card-selector",className:me["listCard-new"],children:(0,f.jsxs)(c.View,{style:{paddingBottom:"".concat(107+_,"px")},children:[(0,f.jsx)(i.MiniVirtualList,{list:v,segmentNum:10,isShow:m,LoadingView:P.Z,selectorQueryFields:D.Mc,children:function(e){var t=e.VirtualListDataItem;return(0,f.jsx)(fe,{VirtualListDataItem:t,tripType:l,goToNextPage:r})}}),(0,f.jsx)(c.View,{className:"card-bottom-observe",children:d>h&&!m?(0,f.jsx)(Z.Z,{}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(L.Z,{pageName:"\u5217\u8868\u9875"})})})]})}):null}var he=pe,ge=n(4091),ve=function(e){if(e){var t=e.aportsname,n=void 0===t?"":t,r=e.bsname,i=void 0===r?"":r,o=n.replace(/\u56fd\u9645|\u673a\u573a/g,""),a=(i||"").replace(/\u56fd\u9645|\u673a\u573a/g,""),c="";return c=a?a&&1===a.length?o.length>4?o.substr(0,3)+"\u2026"+a:o+a:a&&2===a.length?o.length>3?o.substr(0,3)+"\u2026"+a:o+a:a&&3===a.length?o.length>2?o.substr(0,2)+"\u2026"+a:o+a:(0,I.NJ)(o+a)>9?o.length>4?o.substr(0,4)+"\u2026":o:o+a:o.length>4?o.substr(0,4)+"\u2026":o,c}},ye=function(e){if(e){var t=e.substr(8,2),n=e.substr(10,2);return e.indexOf("-")>-1&&(t=e.substr(11,2),n=e.substr(14,2)),"".concat(t,":").concat(n)}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aportinfo,n=e.basinfo,r=e.dateinfo;return{arrivalName:ve(t),arrivalTime:ye(null===r||void 0===r?void 0:r.adate),arriveDateTime:r.adate,airCode:n.pAirCode||n.aircode,arrivalAirportName:null===t||void 0===t?void 0:t.aportsname,arrivalAirportCode:null===t||void 0===t?void 0:t.aport}},_e=function(e){var t=(null===e||void 0===e?void 0:e[0])||{},n=t.dateinfo,r=t.dportinfo,i=ye(null===n||void 0===n?void 0:n.ddate),o=ve(r),a=r.aport,c=r.aportsname,s=null===n||void 0===n?void 0:n.ddate,l=e.length,u={};return u=xe(l>1?null===e||void 0===e?void 0:e[l-1]:null===e||void 0===e?void 0:e[0]),(0,w.Z)({departureTime:i,departureAirportCode:a,departureAirportName:c,departDateTime:s,departureName:o},u)},Ne=n(89872),Te={0:"\u7ecf\u6d4e\u8231",1:"\u8d85\u7ea7\u7ecf\u6d4e\u8231",2:"\u516c\u52a1\u8231",3:"\u5934\u7b49\u8231",4:"\u7ecf\u6d4e\u548c\u8d85\u7ea7\u7ecf\u6d4e\u8231",5:"\u516c\u52a1\u8231+\u5934\u7b49\u8231"},we={0:"\u7ecf\u6d4e",1:"\u8d85\u7ecf",2:"\u516c\u52a1",3:"\u5934\u7b49",4:"\u7ecf\u6d4e+\u8d85\u7ecf",5:"\u516c\u52a1+\u5934\u7b49"},be=function(e){var t=null===e||void 0===e?void 0:e.find((function(e){var t=e.ntkey,n=e.category;return 101===n||"indexId"===t}));return null===t||void 0===t?void 0:t.ntvalue},Ce=function(e){return e?e.map((function(e){return null===e||void 0===e?void 0:e.classgrade})):[]},je=function(e){return e?e.map((function(e){return we[null===e||void 0===e?void 0:e.classgrade]})):[]},Se=function(e,t){var n=2===(2&t);if(!n)return{gradeText:"",isShowSurplus:!0};var r=!0,i=[],o=Ce(e),a=Array.from(new Set(o));return i=a.map((function(e){return Te[e]})),a.length>2?(r=!1,i=a.slice(0,2).map((function(e){return we[e]})),i.push("...")):2===a.length&&(r=!1,i=a.slice(0,2).map((function(e){return we[e]}))),{gradeText:i.join("+"),isShowSurplus:r}},ke=function(e){return e[e["IMAGE"]=1]="IMAGE",e[e["TEXT"]=2]="TEXT",e[e["BACKGROUND_TEXT"]=3]="BACKGROUND_TEXT",e[e["BORDER_TEXT"]=4]="BORDER_TEXT",e[e["IMAGE_TEXT"]=8]="IMAGE_TEXT",e}({}),Ie=function(e){return e.map((function(e){var t=e.taglst,n=void 0===t?[]:t,r=e.atype,i=e.tcode,o=n[0]||{},a=o.subtype,c=o.coninfo,s=((null===c||void 0===c?void 0:c.content)||"").split("|")||{},l={atype:r,tagType:0,tcode:i,styleType:a,content:s[0]||"",contentAnoth:"",contentColor:"",borderColor:"",backgroundColor:"",prefixUrl:""};if(a===ke.IMAGE)console.error("\u5feb\u53bb\u770b\u770b\u5dee\u5f02");else if(a===ke.TEXT||a===ke.BORDER_TEXT||a===ke.BACKGROUND_TEXT||a===ke.IMAGE_TEXT){var u=(c.tcolor||"").split(";")||[],d=(c.bcolor||"").split(";")||[],f=u[0]||"#00AE73",m=a===ke.TEXT?"transparent":a===ke.BACKGROUND_TEXT?d[1]||d[0]||"#F2FBF8":d[1]||"#00AE73",p=a===ke.BACKGROUND_TEXT?d[0]||"#F2FBF8":"transparent",h=a===ke.IMAGE_TEXT&&c.pUrl||void 0;l=(0,w.Z)((0,w.Z)({},l),{},{contentAnoth:s[1],contentColor:f,borderColor:m,backgroundColor:p,prefixUrl:h})}return l}))},Ee=function(e,t){var n=e.map((function(e){var n=t.find((function(t){return t.tagidx==e.acnt}));return(0,w.Z)((0,w.Z)({},n),{},{atype:e.atype,tcode:e.tcode})}));return Ie(n)},Pe=function(e){return e[e["\u5927"]=0]="\u5927",e[e["\u4e2d"]=1]="\u4e2d",e[e["\u5c0f"]=2]="\u5c0f",e}({}),Le=function(e,t){var n;if(!e||e.length<0||!t)return null;var r=[],o=(null===e||void 0===e?void 0:e.length)>1?"Transit":null!==e&&void 0!==e&&null!==(n=e[0])&&void 0!==n&&null!==(n=n.stopinfo)&&void 0!==n&&n.isstop?"Stop":"Direct";if("Stop"===o)return r.push([null===e||void 0===e?void 0:e[0].city,(0,ge.xF)(null===e||void 0===e?void 0:e[0].duration)]),r;for(var a=function(n){if(n){var o,a,c,s=(0,i.dayjs)(null===e||void 0===e||null===(o=e[n])||void 0===o||null===(o=o.dateinfo)||void 0===o?void 0:o.ddate).unix()-(0,i.dayjs)(null===e||void 0===e||null===(a=e[n-1])||void 0===a||null===(a=a.dateinfo)||void 0===a?void 0:a.adate).unix(),l=Math.floor(s/60/60),u=Math.floor(s/60-60*l),d=(null===(c=t.find((function(t){var r;return t.city===(null===e||void 0===e||null===(r=e[n])||void 0===r||null===(r=r.dportinfo)||void 0===r?void 0:r.city)})))||void 0===c?void 0:c.cityname)||"",f=[d,"".concat(l>0?l+"h":"").concat(u>0?u+"m":"")];32===(32&e[n-1].flag)&&f.push("\u9700\u8fc7\u5883\u7b7e"),128===(128&e[n-1].flag)&&f.push("\u4e0d\u540c\u673a\u573a"),r.push(f)}e[n].isstop&&(null===e||void 0===e||e[n].fsitem.forEach((function(e){var t=e.city;t>4&&(t=t.slice(0,4)+"..."),r.push([t,(0,ge.xF)(e.duration)])})))},c=0;c<e.length;c++)a(c);return r},Ve=function(e,t){return e.reduce((function(e,n){var r=n.basinfo.pAirCode||n.basinfo.aircode,o=null===t||void 0===t?void 0:t.find((function(e){var t=e.aircode;return t===r}));return!o||i.R.any((function(e){var t=e.code;return t===(null===o||void 0===o?void 0:o.aircode)}),e)?e:[].concat((0,U.Z)(e),[{code:o.aircode,displayName:o.airsname,havepAirCode:!!n.basinfo.pAirCode}])}),[])},Oe=function(e,t){var n=(null===e||void 0===e?void 0:e[0])||{},r=n.craftinfo;return!t||t.length>1||!r?null:["\u5927","\u4e2d"].includes(Pe[r.kind-1])?"".concat(null===r||void 0===r?void 0:r.cname,"(").concat(Pe[r.kind-1],")"):null},Ae=function(e){var t=e.item,n=e.airlst,r=e.ftaglst,i=e.lowestPrice,o=e.isHasTax,a=e.passengerType,c=e.clst,s=t.flgs,l=t.seginfo,u=t.policys,d=t.segno,f=t.flagmap,m=t.notelist,p=_e(s),h=(0,Ne.M3)({policys:u,lowestPrice:i,isHasTax:o,passengerType:a})||{},g=h.realPrice,v=h.realTax,y=h.originAvgPrice,x=h.originTax,_=u[0],N=_.quantity,T=_.aset,b=void 0===T?[]:T,C=_.grades,j=_.polid,S=_.dstr,k=Se(C,f),I=k.gradeText,E=k.isShowSurplus,P=Ee(b,r),L=Ve(s,n),V=Le(s,c),O=(0,ge.xF)(null===l||void 0===l?void 0:l.durtion),A=Oe(s,L),R=be(m);return(0,w.Z)((0,w.Z)({},p),{},{airlines:L,crossDays:(null===l||void 0===l?void 0:l.daycnt)||0,totalDuration:O,totalDurationSort:null===l||void 0===l?void 0:l.durtion,flagTags:[],flgs:s,price:Math.ceil(Number(g)),originPrice:Math.ceil(Number(y)),stopItem:V,ticketCount:N,flightTag:P,gradeText:I,polid:j,segno:d,ticketCounts:je(C),craftText:A,tax:Math.ceil(Number(v)),originTax:Math.ceil(Number(x)),isShowSurplus:E,dstr:S,indexId:R})},Re=function(e){var t=e.segs,n=e.airlst,r=e.ftaglst,i=e.lowestPrice,o=e.isHasTax,a=e.passengerType,c=e.clst,s=t.map((function(e){return Ae({item:e,airlst:n,ftaglst:r,lowestPrice:i,isHasTax:o,passengerType:a,clst:c})}));return s},De=n(34954),Ze=n(94892),Fe={boxContainer:"ProgressBar-module_qu4kB",sideBox:"ProgressBar-module_pPVKe",slide:"ProgressBar-module_wuvk0"},Me=function(e){var t=e.requestNum,n=void 0===t?0:t,i=e.isFetching,a=(0,o.useState)(0),s=(0,r.Z)(a,2),l=s[0],u=s[1];(0,o.useEffect)((function(){u(0===n?0:l+50/Math.pow(2,n-1))}),[n]);var d=(0,A.R2)(),m=d.bottom,p=void 0===m?0:m;return(0,f.jsx)(c.View,{style:{width:"".concat(l,"%"),display:"".concat(i?"block":"none"),bottom:"".concat(p,"px")},className:Fe.boxContainer,children:(0,f.jsx)(c.View,{className:Fe.sideBox})})},Be=(0,o.memo)(Me),Ue=Be,qe=n(79301),Ye=n(95308),He=n(90983),Ge=n(95518),We=n(5644),ze=n(99531),Ke=function(e){return e["DEPATURE_AIRPORT"]="DEPATURE_AIRPORT",e["ARRIVAL_AIRPORT"]="ARRIVAL_AIRPORT",e["CABIN"]="CABIN",e["AIRLINE"]="AIRLINE",e["DEPARTURE_TIME"]="DEPARTURE_TIME",e["TRANSIT_CITY"]="TRANSIT_CITY",e["MORE_TAG"]="MORE_TAG",e["CLEAR"]="CLEAR",e["CLEAR_SINGLE"]="CLEAR_SINGLE",e}({}),Qe={FilterModal:"FilterBar-module_H9PYk","side-tab":"FilterBar-module_Vsx6A","side-tab-item":"FilterBar-module_PPwIB","tab-active":"FilterBar-module_ewp2N",hasfilter:"FilterBar-module_vhSC0","right-content":"FilterBar-module_OJmv2","right-content-scroll":"FilterBar-module_RsxHi",airport:"FilterBar-module_rg9Q2","filter-selection":"FilterBar-module_o8uIW","iconfont-h5":"FilterBar-module__S0VV",selected:"FilterBar-module_ZEQ08","filter-disabled":"FilterBar-module_ZxE13",bottomBtn:"FilterBar-module_JFKc4",confirmBtn:"FilterBar-module_mGdTj",noResult:"FilterBar-module_QIPNG",clearBtn:"FilterBar-module_zzUjo",boxContainer:"FilterBar-module_pckQj",tab:"FilterBar-module_T7tBj",filterItemContainer:"FilterBar-module_xUPJO",check:"FilterBar-module_Yu5km","modal-title":"FilterBar-module_2EW0i",marginBottom:"FilterBar-module_e6DmS",marginTop:"FilterBar-module_OAD3j","filter-content":"FilterBar-module_IBVbc","filter-item":"FilterBar-module_PeEUz","filter-active":"FilterBar-module_u5skp","icon-styles":"FilterBar-module_NcPyX","item-label":"FilterBar-module_bT34E",whiteBorder:"FilterBar-module_uRW4r",active:"FilterBar-module_Q1Rhf","filter-tag":"FilterBar-module_jhhu1",disabled:"FilterBar-module_eiw5t",imageStyle:"FilterBar-module_nTh1i",longNameStyle:"FilterBar-module_rGviu",normalStyle:"FilterBar-module_DVFDD",marginRight:"FilterBar-module_qkfuq",scrollStyle:"FilterBar-module_C0ELg",uidViewStyle:"FilterBar-module_iCwCm",uidTextStyle:"FilterBar-module_J7WeB",btnStyle:"FilterBar-module_obAy2",iconCloseStyle:"FilterBar-module_V7Nkc",ImgStyle:"FilterBar-module_t8U9R",paddingBottom:"FilterBar-module_C_Qri"};function Je(e){var t=e.dispatch,n=e.data,r=e.type,o=e.clickFn,s=e.pageName,l=e.handleLongName,d=(0,a.useRouter)(),m=d.params.enforceFilter,p=m&&Number(m),h=function(e,n){var a=r===Ke.CABIN&&n.includes("\u8231"),c="second"===s&&a,l="second"===s&&n.includes("\u770b\u4e0d\u542b\u7a0e\u4ef7"),u=p&&a;return c?(0,i.showToast)("\u6682\u4e0d\u652f\u6301\u5f80\u8fd4\u9009\u62e9\u4e0d\u540c\u8231\u7b49"):u?(0,i.showToast)("\u7531\u4e8e\u516c\u53f8\u9650\u5236\uff0c\u4e0d\u5141\u8bb8\u5207\u6362\u8231\u4f4d"):l?(0,i.showToast)("\u6682\u4e0d\u652f\u6301\u5f80\u8fd4\u9009\u62e9\u4e0d\u540c\u65b9\u5f0f"):(!e&&t({type:r,payload:n}),void o(n))};return(0,f.jsx)(c.View,{className:"".concat(Qe.filterItemContainer),children:n.map((function(e){var t=e.name,n=e.checked,r=e.uid,o=e.disable,a=e.display,s=e.aircode,d=t&&t.length>7&&!t.includes("-");return a&&(0,f.jsxs)(c.View,{className:(0,i.classnames)(Qe["filter-selection"],(0,F.Z)((0,F.Z)((0,F.Z)((0,F.Z)({},Qe["filter-disabled"],o),Qe.check,n),Qe.longNameStyle,d),Qe.normalStyle,!d)),onClick:(0,i.trackFn)(t+"--3f4e8",(function(){return h(o,r)})),children:[s&&(0,f.jsx)(u.Z,{src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/".concat(s,".png"),className:Qe.ImgStyle}),l?K(t):t,n&&(0,f.jsx)(u.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/cornar.png",className:Qe.imageStyle})]},t)}))})}var Xe=[{name:"\u7cbe\u9009",value:["moreTag"],actionType:["MORE_TAG"],englishName:"concentration"},{name:"\u8d77\u98de\u65f6\u95f4",value:["departTimes"],actionType:["DEPARTURE_TIME"],englishName:"departTimes"},{name:"\u673a\u573a",value:["departureAirports","arrivalAirports"],actionType:["DEPATURE_AIRPORT","ARRIVAL_AIRPORT"],englishName:"airPort"},{name:"\u8231\u4f4d",value:["cabins"],actionType:["CABIN"],englishName:"cabins"},{name:"\u822a\u7a7a\u516c\u53f8",value:["airlines"],actionType:["AIRLINE"],englishName:"airlines"},{name:"\u4e2d\u8f6c\u57ce\u5e02",value:["transitCity"],actionType:["TRANSIT_CITY"],englishName:"transitCity"}];function $e(e,t){var n=e.findIndex((function(e){return e.uid===t})),r=e.findIndex((function(e){return!e.uid}));r=r>0?r:0;var i=e[n],o=!i.checked,a=[].concat((0,U.Z)(e.slice(0,n)),[(0,w.Z)((0,w.Z)({},i),{},{checked:o})],(0,U.Z)(e.slice(n+1)));if(o)if(r!==n)a[r].checked=!1;else{var c,s=(0,He.Z)(a);try{for(s.s();!(c=s.n()).done;){var l=c.value;l.checked=!1}}catch(e){s.e(e)}finally{s.f()}a[r].checked=!0}var u=a.every((function(e){return!e.checked}));return u&&(a[r].checked=!0),a}function et(e,t){var n=e.findIndex((function(e){return e.uid===t})),r=e[n];if(null!==r&&void 0!==r&&r.checked){var i=[(0,w.Z)((0,w.Z)({},e[0]),{},{checked:!0})].concat((0,U.Z)(e.slice(1)));return i.forEach((function(e,t){return 0!==t&&(e.checked=!1)})),i}var o=[].concat((0,U.Z)(e.slice(0,n)),[(0,w.Z)((0,w.Z)({},r),{},{checked:!0})],(0,U.Z)(e.slice(n+1)));return o.forEach((function(e,t){return n!==t&&(e.checked=!1)})),o}function tt(e,t){switch(t.type){case Ke.DEPATURE_AIRPORT:return(0,w.Z)((0,w.Z)({},e),{},{departureAirports:$e(e.departureAirports,t.payload)});case Ke.ARRIVAL_AIRPORT:return(0,w.Z)((0,w.Z)({},e),{},{arrivalAirports:$e(e.arrivalAirports,t.payload)});case Ke.CABIN:return(0,w.Z)((0,w.Z)({},e),{},{cabins:et(e.cabins,t.payload)});case Ke.AIRLINE:return(0,w.Z)((0,w.Z)({},e),{},{airlines:$e(e.airlines,t.payload)});case Ke.DEPARTURE_TIME:var n=$e(e.departTimes,t.payload);return(0,w.Z)((0,w.Z)({},e),{},{departTimes:n});case Ke.TRANSIT_CITY:var r=$e(e.transitCity,t.payload);return(0,w.Z)((0,w.Z)({},e),{},{transitCity:r});case Ke.MORE_TAG:return(0,w.Z)((0,w.Z)({},e),{},{moreTag:$e(e.moreTag,t.payload)});case Ke.CLEAR:return(0,w.Z)((0,w.Z)({},t.payload),{},{cabins:et(e.cabins,"\u7ecf\u6d4e\u8231/\u8d85\u7ea7\u7ecf\u6d4e\u8231")});default:throw new Error}}function nt(e){for(var t,n=e.conditions,l=e.conditionsClick,u=e.closeFilter,d=e.cards,m=e.name,p=e.setIsHasTax,h=e.setIsWait,g=(0,o.useState)(),v=(0,r.Z)(g,2),y=v[0],x=v[1],_=(0,o.useState)(null),N=(0,r.Z)(_,2),T=N[0],b=N[1],C=(0,o.useState)(Xe[0].englishName),j=(0,r.Z)(C,2),k=j[0],I=j[1],E=(0,o.useReducer)(tt,i.R.clone(n)),P=(0,r.Z)(E,2),L=P[0],V=P[1],O=(0,s.T)(),R=(0,o.useRef)(!1),Z=(0,o.useRef)(null),M=(0,s.C)((function(e){return null===e||void 0===e?void 0:e.departure.cityName})),B=(0,s.C)((function(e){return e.arrival.cityName})),U=(0,We.Pr)(),Y=(0,a.useRouter)(),H=Y.params.enforceFilter,G=H&&Number(H),W=[],z=[],K={},Q=(0,o.useState)(!1),J=(0,r.Z)(Q,2),X=J[0],$=J[1],ee=function(){var e=ne[te];if("cabins"===e)return 1;var t=[];L[e].forEach((function(e,n){if(e.checked&&0!==n&&e.uid){t.push(e.uid);var r=e.uid;K=(0,w.Z)((0,w.Z)({},K),{},(0,F.Z)({},r,e.name))}})),t.length>0&&(z.push(e),W.push(t))},te=0,ne=Object.keys(L);te<ne.length;te++)ee();(0,o.useEffect)((function(){var e,t=null===L||void 0===L||null===(e=L["cabins"].find((function(e){return"ECONOMY\u3001SUPER_ECONOMY"===e.value})))||void 0===e?void 0:e.checked;$(!t)}),[L]),(0,o.useEffect)((function(){(0,D.j_)(".tabItem",{rect:!0,size:!0,retry:3}).then((function(e){b(e)}))}),[]);var re=d.filter((function(e){if(!W.length)return e;var t=W.filter((function(e){return!!e.length&&"\u770b\u4e0d\u542b\u7a0e\u4ef7"!==e[0]})).every((function(t){return t.some((function(t){return e.condition.includes(t)}))}));return t?e:void 0})).length,ie=(0,o.useCallback)((function(){var e;h&&h(!0),u(),l(W),(0,ze.jq)("c_flt_filter_click_confirm");var t=null===(e=L.cabins.find((function(e){return e.checked})))||void 0===e?void 0:e.value;"first"===m&&O((0,S.dS)(t));var n=W.find((function(e){return e.includes("\u770b\u4e0d\u542b\u7a0e\u4ef7")}));p&&p(!n),setTimeout((function(){h&&h(!1)}),100)}),[O,u,l,m,p,h,L.cabins,W]),oe=function(e,t){(0,ze.jq)("c_flt_filter_click_".concat(e),{uid:t})},ae=function(e){e.forEach((function(e,t){e.forEach((function(e){de(z[t]||"cabins",e)}))}))},ce=function(){return(0,i.showToast)("\u7531\u4e8e\u516c\u53f8\u9650\u5236\uff0c\u4e0d\u5141\u8bb8\u6e05\u7a7a\u8231\u4f4d")},se=function(){return(0,i.showToast)("\u6682\u4e0d\u652f\u6301\u5f80\u8fd4\u9009\u62e9\u4e0d\u540c\u65b9\u5f0f")},le=0===(0,A.R2)().bottom?15:(0,A.R2)().bottom,ue=function(e,t){var n,r,i=(0,He.Z)(Xe);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.value.indexOf(e);if(a>=0){n=o.actionType[a];break}}}catch(e){i.e(e)}finally{i.f()}V({type:Ke[n],payload:t})},de=function(e,t){"\u770b\u4e0d\u542b\u7a0e\u4ef7"===t&&"second"===m||"cabins"===e&&"second"===m?se():"cabins"===e&&G?ce():ue(e,t)},fe=(0,o.useMemo)((function(){return T&&(null===T||void 0===T?void 0:T[0].top)}),[T]),me=function(e,t,n){R.current=!0,Z.current&&(clearTimeout(Z.current),Z.current=null);var r=setTimeout((function(){R.current=!1}),700);if(Z.current=r,oe(e.englishName,t),T&&(n||0===n)){var i=T[n].top-fe+10;x(i)}I(e.englishName)},pe=function(){var e=(0,Ye.Z)((0,qe.Z)().mark((function e(t){var n,r,i,o,a;return(0,qe.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!R.current&&T){e.next=2;break}return e.abrupt("return");case 2:for(o in i=0,T)a=Number(o),t.detail.scrollTop-(T[o].top-fe)>0&&(i=a+1);null!==(n=Xe[i])&&void 0!==n&&n.englishName&&(null===(r=Xe[i])||void 0===r?void 0:r.englishName)!==k&&I(Xe[i].englishName);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=(null===L||void 0===L?void 0:L["cabins"])&&(null===L||void 0===L||null===(t=L["cabins"].find((function(e){return e.checked})))||void 0===t?void 0:t.value),ge=[].concat(W,["ECONOMY\u3001SUPER_ECONOMY"!==he?[q.Ni[he]]:""]).filter((function(e){return!!e}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.View,{className:Qe["modal-title"],children:"\u7b5b\u9009"}),(0,f.jsxs)(c.View,{className:Qe.FilterModal,style:{paddingBottom:"".concat(le,"px")},children:[(0,f.jsx)(c.View,{className:Qe["side-tab"],children:Xe.map((function(e,t){if(e.value.every((function(e){var t;return(null===(t=L[e])||void 0===t?void 0:t.length)>1}))){var n=e.value&&e.value[0]&&"cabins"===e.value[0],r=e.value.some((function(e){return L[e].some((function(e,t){return e.checked&&(!U&&0!==t||U&&(!n&&0!==t||n))}))}));return(0,f.jsxs)(c.View,{className:(0,i.classnames)(Qe["side-tab-item"],(0,F.Z)({},Qe["tab-active"],e.englishName===(k||Xe[0].englishName))),onClick:(0,i.trackFn)(e.englishName+"--51293",(function(){return me(e,void 0,t)})),children:[r&&(0,f.jsx)(c.View,{className:Qe.hasfilter}),(0,f.jsx)(c.View,{children:e.name})]},e.englishName)}}))}),(0,f.jsx)(c.View,{className:Qe["right-content"],children:(0,f.jsx)(Ge.Z,{scrollY:!0,className:Qe["right-content-scroll"],scrollTop:y,onScroll:(0,i.trackFn)("id_5b92c",(0,i.throttle)(pe,100)),id:"id_5b92c",children:Xe.map((function(e,t){if(e.value.every((function(e){var t;return(null===(t=L[e])||void 0===t?void 0:t.length)>1})))return(0,f.jsxs)(c.View,{className:(0,i.classnames)(Qe.boxContainer,(0,F.Z)((0,F.Z)((0,F.Z)({},Qe.marginTop,0===t),Qe.marginBottom,!0),Qe.paddingBottom,t===Xe.length-1),"tabItem"),id:e.englishName,children:[(0,f.jsx)(c.View,{className:Qe.tab,children:e.name}),1===(null===e||void 0===e?void 0:e.value.length)?(0,f.jsx)(Je,{data:L[e.value[0]],dispatch:V,type:Ke[e.actionType[0]],clickFn:function(t){return me(e,t)},pageName:m,handleLongName:"\u4e2d\u8f6c\u57ce\u5e02"===e.name}):(0,f.jsxs)(c.View,{children:[(0,f.jsx)(c.View,{className:Qe.airport,children:"".concat("first"===m?M:B,"\u8d77\u98de")}),(0,f.jsx)(Je,{data:L[e.value[0]],dispatch:V,type:Ke[e.actionType[0]],clickFn:function(t){return me(e,t)}}),(0,f.jsx)(c.View,{className:Qe.airport,children:"".concat("first"===m?B:M,"\u964d\u843d")}),(0,f.jsx)(Je,{data:L[e.value[1]],dispatch:V,type:Ke[e.actionType[1]],clickFn:function(t){return me(e,t)}})]})]},e.englishName)}))})})]}),(0,f.jsxs)(c.View,{className:Qe.bottomBtn,children:[ge&&(0,f.jsx)(Ge.Z,{scrollX:!0,className:Qe.scrollStyle,id:"id_f45cd",onScroll:(0,i.trackFn)("id_f45cd"),children:ge.map((function(e,t){return e.map((function(e){var n;return(0,f.jsxs)(c.View,{className:Qe.uidViewStyle,onClick:(0,i.trackFn)("id_f45cd--"+e+"--1e873",(function(){return de(z[t]||"cabins",e)})),children:[(0,f.jsx)(c.Text,{className:Qe.uidTextStyle,children:(null===(n=K)||void 0===n?void 0:n[e])||e}),(0,f.jsx)(c.View,{className:"iconfont-h5 icon-close ".concat(Qe.iconCloseStyle)})]},e)}))}))}),(0,f.jsxs)(c.View,{className:Qe.btnStyle,children:[(0,f.jsx)(c.View,{className:"".concat(ge.length?Qe.clearBtn:Qe.disabled," ").concat(Qe.marginRight),onClick:(0,i.trackFn)("onClick--8ea6a",(function(){return ae(ge)})),children:ge.length?"\u6e05\u7a7a":"\u65e0\u5df2\u9009"}),re>0?(0,f.jsx)(c.View,{className:Qe.confirmBtn,onClick:(0,i.trackFn)("confirm--373c6",ie),children:X?"\u67e5\u770b\u7ed3\u679c":"\u67e5\u770b".concat(re,"\u4e2a\u7ed3\u679c")}):(0,f.jsx)(c.View,{className:"".concat(Qe.confirmBtn," ").concat(Qe.noResult),children:"\u65e0\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c"})]})]})]})}var rt={moreFilterBox:"MoreFilterModal-module__2Fp6",moreFilterTitle:"MoreFilterModal-module_mKFp0",firstLowerPrice:"MoreFilterModal-module_dpgTb",dateSortBox:"MoreFilterModal-module_dXNQm",dataSortItem:"MoreFilterModal-module_AEsI6",moreFilterText:"MoreFilterModal-module_jB27J",moreFilterImage:"MoreFilterModal-module_XQR6c",active:"MoreFilterModal-module_jG_6S"},it=[{value:"\u8d77\u98de\u65e9 \u2192 \u665a",imageSrc:["https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/list-late-to-early.png","https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/ic_late_n_gray.png"],realValue:"TIME_ASCEND"},{value:"\u8d77\u98de\u665a \u2192 \u65e9",imageSrc:["https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/list-late-to-early.png","https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/ic_late_n_gray.png"],realValue:"TIME_DESCEND"},{value:"\u5230\u8fbe\u65e9 \u2192 \u665a",imageSrc:["https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/list-early-to-late.png","https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/ic_early_n_gray.png"],realValue:"ARR_ASCEND"},{value:"\u5230\u8fbe\u665a \u2192 \u65e9",imageSrc:["https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/list-early-to-late.png","https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/ic_early_n_gray.png"],realValue:"ARR_DESCEND"}],ot=function(e){var t=e.orderClick,n=e.closeFilter,r=e.order,o=e.setIsWait,a=function(){n(),o(!0),setTimeout((function(){t("CONSUME_ASCEND"),o(!1)}),0)},s=function(e){return function(){n(),o(!0),t(e),setTimeout((function(){o(!1)}),0)}};return(0,f.jsxs)(c.View,{className:rt.moreFilterBox,id:"more-filter-box",children:[(0,f.jsx)(c.Text,{className:rt.moreFilterTitle,children:"\u66f4\u591a\u6392\u5e8f"}),(0,f.jsxs)(c.View,{className:"".concat(rt.firstLowerPrice," ").concat("CONSUME_ASCEND"===r?rt.active:""),onClick:(0,i.trackFn)("more-filter-box--handleConsuminglick--1cd6f",a),children:[(0,f.jsx)(u.Z,{src:"CONSUME_ASCEND"===r?"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/icon_time_often.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/icon_time_often_new.png",className:rt.moreFilterImage}),(0,f.jsx)(c.Text,{className:rt.moreFilterText,children:"\u8017\u65f6\u77ed \u2192 \u957f"})]}),(0,f.jsx)(c.View,{className:rt.dateSortBox,children:it.map((function(e){var t=e.value,n=e.imageSrc,o=e.realValue;return(0,f.jsxs)(c.View,{className:"".concat(rt.dataSortItem," ").concat(r===o?rt.active:""),onClick:(0,i.trackFn)("more-filter-box--"+t+"--5ce3a",s(o)),children:[(0,f.jsx)(u.Z,{src:r===o?n[1]:n[0],className:rt.moreFilterImage}),(0,f.jsx)(c.Text,{className:rt.moreFilterText,children:t})]},t)}))})]})},at=(0,o.memo)(ot),ct=[{value:"\u8017\u65f6\u77ed\u2192\u957f",realValue:"CONSUME_ASCEND"},{value:"\u8d77\u98de\u65e9\u2192\u665a",realValue:"TIME_ASCEND"},{value:"\u8d77\u98de\u665a\u2192\u65e9",realValue:"TIME_DESCEND"},{value:"\u5230\u8fbe\u65e9\u2192\u665a",realValue:"ARR_ASCEND"},{value:"\u5230\u8fbe\u665a\u2192\u65e9",realValue:"ARR_DESCEND"}],st=[{name:"\u4ef7\u683c\u4f4e\u2192\u9ad8",value:"PRICE_ASCEND"},{name:"\u4ef7\u683c\u9ad8\u2192\u4f4e",value:"PRICE_DESCEND"}],lt="DIRET_FIRST",ut=function(e,t,n){var r=function(){(0,Ze.Mr)(i)},i=(0,Ze.K4)({close:{position:"top-left"},content:(0,f.jsx)(at,{orderClick:e,closeFilter:r,order:t,setIsWait:n}),position:"bottom"})},dt=function(e,t,n,r,i,o){function a(){(0,Ze.Mr)(c)}var c=(0,Ze.K4)({close:{position:"top-left"},content:(0,f.jsx)(nt,{conditions:e,conditionsClick:t,closeFilter:a,cards:n,name:r,setIsHasTax:i,setIsWait:o}),position:"bottom",style:{height:"85%"}})};function ft(e){var t=e.order,n=e.orderClick,r=e.conditions,o=e.conditionsClick,a=e.count,s=e.cards,l=e.name,d=e.setIsHasTax,m=e.setIsWait,p=e.requestNum,h=e.isFetching,g=t===st[0].value,v=(0,A.R2)(),y=v.bottom,x=void 0===y?0:y,_=t===lt,N=ct.find((function(e){return e.realValue===t}));return(0,f.jsx)(c.View,{className:Qe.FilterBarNew,"catch-move":"true",children:(0,f.jsxs)(c.View,{className:Qe["filter-content"],id:"intl-filter",style:{paddingBottom:"".concat(x,"px")},children:[(0,f.jsx)(Ue,{requestNum:p,isFetching:h}),(0,f.jsxs)(c.View,{className:Qe["filter-item"],onClick:(0,i.trackFn)("intl-filter--onClick--1cd6f",(function(){(0,R.jq)("c_flt_open_filter_popup"),dt(r,o,s,l,d,m)})),children:[a?(0,f.jsx)(u.Z,{className:Qe["filter-active"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/list-filter-active-new.svg"}):(0,f.jsx)(c.View,{className:"iconfont-h5 icon-filter ".concat(Qe["icon-styles"])}),(0,f.jsx)(c.View,{className:Qe["item-label"],children:"\u7b5b\u9009"}),!!a&&(0,f.jsx)(c.View,{className:Qe["filter-tag"],children:a})]}),(0,f.jsx)(c.View,{className:Qe.whiteBorder}),(0,f.jsx)(c.View,{className:(0,i.classnames)(Qe["filter-item"],(0,F.Z)({},Qe.active,_)),onClick:(0,i.trackFn)("intl-filter--onClick--1bd08",(function(){_||(m(!0),(0,R.jq)("'c_flt_".concat(_?"NO_DIRET_FIRST":"DIRET_FIRST")),n("DIRET_FIRST"),setTimeout((function(){m(!1)}),0))})),children:(0,f.jsx)(c.View,{className:Qe["item-label"],children:"\u76f4\u98de\u4f18\u5148"})}),(0,f.jsx)(c.View,{className:(0,i.classnames)(Qe["filter-item"],(0,F.Z)({},Qe.active,g)),onClick:(0,i.trackFn)("intl-filter--onClick--232f6",(function(){g||(m(!0),(0,R.jq)("c_flt_".concat(g?"price_descend":"price_ascend")),n("PRICE_ASCEND"),setTimeout((function(){m(!1)}),0))})),children:(0,f.jsx)(c.View,{className:Qe["item-label"],children:"\u4ef7\u683c\u4f4e\u2192\u9ad8"})}),(0,f.jsxs)(c.View,{className:(0,i.classnames)(Qe["filter-item"],(0,F.Z)({},Qe.active,N)),children:[(0,f.jsx)(c.Text,{className:Qe["item-label"],onClick:(0,i.trackFn)("intl-filter--onClick--e1c55",(function(){return ut(n,t,m)})),"data-testid":"more-filter-click",children:(null===N||void 0===N?void 0:N.value)||"\u66f4\u591a\u6392\u5e8f"}),(0,f.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-up ".concat(Qe["icon-styles"])})]})]})})}var mt=function(e){return["PRICE_DESCEND","PRICE_ASCEND"].includes(e)?pt:["TIME_DESCEND","TIME_ASCEND"].includes(e)?vt:["ARR_ASCEND","ARR_DESCEND"].includes(e)?yt:["CONSUME_ASCEND"].includes(e)?xt:["DIRET_FIRST"].includes(e)?_t:pt},pt=function(e,t){return e.sort((function(e,n){var r=n.price,i=e.price,o="PRICE_DESCEND"===t?r-i:i-r;return o}))};function ht(e,t){return parseInt(e.split(":").join(""))-parseInt(t.split(":").join(""))}function gt(e,t){return e-t}var vt=function(e,t){return e.sort((function(e,n){if(e.departureTime===n.departureTime)return gt(e.price,n.price);var r="TIME_DESCEND"===t?ht(n.departureTime,e.departureTime):ht(e.departureTime,n.departureTime);return r}))},yt=function(e,t){return e.sort((function(e,n){if(e.arrivalTime===n.arrivalTime)return gt(e.price,n.price);var r="ARR_ASCEND"===t?ht(e.arrivalTime,n.arrivalTime):ht(n.arrivalTime,e.arrivalTime);return r}))},xt=function(e){return e.sort((function(e,t){return Number(e.totalDurationSort)===Number(t.totalDurationSort)?gt(e.price,t.price):Number(e.totalDurationSort)-Number(t.totalDurationSort)}))},_t=function(e){var t=e.sort((function(e,t){var n=e.stopItem&&0!==e.stopItem.length?0:1,r=t.stopItem&&0!==t.stopItem.length?0:1;if(n===r)return gt(e.price,t.price);var i=r-n;return i}));return t},Nt=function(e,t,n){var r,o=[];if(null!==n&&void 0!==n&&n.flgs){var a,c=(null===(a=n.flgs)||void 0===a?void 0:a.map((function(e){var t=e.dateinfo,n=e.basinfo,r=e.aportinfo,o=e.dportinfo,a=e.stopinfo;return{From:{CityName:o.cityname||"".concat(null===o||void 0===o?void 0:o.aportsname),CityCode:o.city},To:{CityName:r.cityname||"".concat(null===r||void 0===r?void 0:r.aportsname),CityCode:r.city},Stops:null===a||void 0===a?void 0:a.citys,StartTime:(0,i.dayjs)(t.ddate).format("YYYY-MM-DD HH:mm"),EndTime:(0,i.dayjs)(t.adate).format("YYYY-MM-DD HH:mm"),flightno:n.flgno,airline:n.aircode}})))||[];o.push.apply(o,(0,U.Z)(c))}var s=(null===t||void 0===t||null===(r=t.flgs)||void 0===r?void 0:r.map((function(e){var t=e.dateinfo,n=e.basinfo,r=e.aportinfo,o=e.dportinfo,a=e.stopinfo;return{From:{CityName:o.cityname||"".concat(null===o||void 0===o?void 0:o.aportsname),CityCode:o.city},To:{CityName:r.cityname||"".concat(null===r||void 0===r?void 0:r.aportsname),CityCode:r.city},Stops:null===a||void 0===a?void 0:a.citys,StartTime:(0,i.dayjs)(t.ddate).format("YYYY-MM-DD HH:mm"),EndTime:(0,i.dayjs)(t.adate).format("YYYY-MM-DD HH:mm"),flightno:n.flgno,airline:n.aircode}})))||[];return o.push.apply(o,(0,U.Z)(s)),{FlightClass:"I",FlightWay:"ONE_WAY"===e?"S":"D",Sequence:o,TriggerType:"Exit",version:"taro",Price:null===t||void 0===t?void 0:t.price}},Tt=n(39457);function wt(e,t){var n=t.departureDate,o=t.cabinChoice,a=t.isHasTax,c=t.isSecond,s=t.clst,l=(0,i.dayjs)(n).startOf("day"),u=l.add(6,"hour"),d=u.add(6,"hour"),f=d.add(6,"hour"),m=(0,i.dayjs)(n).endOf("day"),p=!a,h={moreTag:[{name:"\u4e0d\u9650",uid:"",checked:!1,disable:!1,display:!1},{name:"\u4ec5\u770b\u76f4\u98de",uid:"only_direct",checked:!1,disable:!1,display:!0},{name:"\u770b\u4e0d\u542b\u7a0e\u4ef7",uid:"\u770b\u4e0d\u542b\u7a0e\u4ef7",checked:p,disable:c,display:!0}],departTimes:[{name:"\u4e0d\u9650",uid:"",checked:!0,disable:!1,display:!1},{name:"00:00 - 06:00",value:[l,u],uid:"00:00 - 06:00",checked:!1,disable:!0,display:!0},{name:"06:00 - 12:00",value:[u,d],uid:"06:00 - 12:00",checked:!1,disable:!0,display:!0},{name:"12:00 - 18:00",value:[d,f],uid:"12:00 - 18:00",checked:!1,disable:!0,display:!0},{name:"18:00 - 24:00",value:[f,m],uid:"18:00 - 24:00",checked:!1,disable:!0,display:!0}],departureAirports:[{name:"\u4e0d\u9650",checked:!0,uid:"",disable:!1,display:!1}],arrivalAirports:[{name:"\u4e0d\u9650",checked:!0,uid:"",disable:!1,display:!1}],cabins:[{name:"\u7ecf\u6d4e\u8231/\u8d85\u7ea7\u7ecf\u6d4e\u8231",value:"ECONOMY\u3001SUPER_ECONOMY",checked:!0,uid:"\u7ecf\u6d4e\u8231/\u8d85\u7ea7\u7ecf\u6d4e\u8231",disable:!1,display:!0},{name:"\u7ecf\u6d4e\u8231",value:"ECONOMY",checked:!0,uid:"\u7ecf\u6d4e\u8231",disable:!1,display:!0},{name:"\u8d85\u7ea7\u7ecf\u6d4e\u8231",value:"SUPER_ECONOMY",checked:!0,uid:"\u8d85\u7ea7\u7ecf\u6d4e\u8231",disable:!1,display:!0},{name:"\u516c\u52a1\u8231/\u5934\u7b49\u8231",value:"BUSINESS\u3001FIRST",checked:!1,uid:"\u516c\u52a1\u8231/\u5934\u7b49\u8231",disable:!1,display:!0},{name:"\u516c\u52a1\u8231",value:"BUSINESS",checked:!1,uid:"\u516c\u52a1\u8231",disable:!1,display:!0},{name:"\u5934\u7b49\u8231",value:"FIRST",checked:!1,uid:"\u5934\u7b49\u8231",disable:!1,display:!0}],airlines:[{name:"\u4e0d\u9650",checked:!0,uid:"",disable:!1,display:!1,aircode:""}],transitCity:[{name:"\u4e0d\u9650",checked:!0,uid:"",disable:!1,display:!1,value:""}]},g=e.map((function(e){var t,n=(0,w.Z)((0,w.Z)({},e),{},{condition:[]}),a=(0,i.dayjs)(n.departDateTime),l=(0,He.Z)(h.departTimes);try{for(l.s();!(t=l.n()).done;){var u=t.value;if(u.uid){var d=u.value,f=(0,r.Z)(d,2),m=f[0],p=f[1];a.isBetween(m,p)&&(u.disable&&(u.disable=!1),n.condition.push(u.uid))}}}catch(e){l.e(e)}finally{l.f()}var g=n.departureAirportName,v=n.departureAirportCode,y=n.arrivalAirportName,x=n.arrivalAirportCode,_=h.departureAirports.find((function(e){return e.name===g}));_||h.departureAirports.push({name:g,uid:v,checked:!1,disable:!1,display:!0}),n.condition.push(v);var N=h.arrivalAirports.find((function(e){return e.name===y}));N||h.arrivalAirports.push({name:y,uid:x,checked:!1,disable:!1,display:!0}),n.condition.push(x);var T,b=(0,He.Z)(h.cabins);try{for(b.s();!(T=b.n()).done;){var C=T.value;C.value===o?C.checked=!0:(C.checked=!1,c&&(C.disable=!0))}}catch(e){b.e(e)}finally{b.f()}var j=n.airlines;j.forEach((function(e){var t=h.airlines.find((function(t){return t.uid===e.code}));t||h.airlines.push({name:e.displayName,uid:e.code,checked:!1,disable:!1,display:!0,aircode:e.code}),n.condition.push(e.code)}));var S=n.stopItem;S&&S.forEach((function(e){var t,r=h.transitCity.find((function(t){return t.value===e[0]})),i="\u4e2d\u8f6c"+e[0];s&&(t="\u4e2d\u8f6c"+(s.find((function(t){return t.cityname===e[0]}))||{}).city),r||h.transitCity.push({name:e[0],uid:t||i,value:e[0],checked:!1,disable:!1,display:!0}),n.condition.push(i),t&&n.condition.push(t)}));var k=h.moreTag;return S&&S.length||n.condition.push(k[1].uid),n.condition=Array.from(new Set(n.condition)),n}));return{conditions:h,cardsWithCondition:g}}var bt=function(e,t){var n=[];return e&&n.push(e),t&&n.push(t),n},Ct=function(e){var t=e.isError,n=e.noCards,r=e.isSkip;return r?"NO_RESULT":t?"ERROR":n?"NO_RESULT":"NO_FILTERED"};function jt(e){var t=e.data,n=e.pageName,u=e.isError,d=e.isSkip,m=e.refetch,p=e.isFetching,h=e.lowestPrice,g=e.isHasTax,v=void 0===g||g,y=e.setIsHasTax,x=e.requestNum,_=(0,s.C)((function(e){return e.tripType.value})),N=(0,s.C)((function(e){return null===e||void 0===e?void 0:e.departure.date})),T=(0,s.C)((function(e){return null===e||void 0===e?void 0:e.arrival.date})),O=(0,s.C)((function(e){return e.passengerType.value})),A=(0,s.C)((function(e){return e.departure.airportCode})),D=(0,s.C)((function(e){return e.arrival.airportCode})),Z=(0,s.C)((function(e){return e.arrival.cityCode})),F=(0,s.C)((function(e){return e.departure.cityCode})),M=(0,s.C)(l.uV),B=(0,s.C)(l.q),U=(0,s.T)(),q=(0,a.useRouter)(),Y=q.params,H=Y.seat,G=Y.enforceFilter,W=Y.direct,z=G&&Number(G),K=Y.dfilter,Q=Y.afilter,J=Y.cabins,X=t||{},$=X.segs,ee=void 0===$?[]:$,te=X.airlst,ne=void 0===te?[]:te,re=X.ftaglst,ie=void 0===re?[]:re,oe=X.prdid,ae=void 0===oe?"":oe,ce=X.clst,se=X.msgtoken,le=void 0===se?"":se,ue=(0,o.useState)(!1),de=(0,r.Z)(ue,2),fe=de[0],me=de[1],pe=Re({segs:ee,airlst:ne,ftaglst:ie,isHasTax:v,passengerType:O,clst:ce,lowestPrice:"second"===n?h:0}),ge=(0,o.useMemo)((function(){return wt(pe,{departureDate:"second"===n?T:N,cabinChoice:M,isHasTax:v,clst:ce,isSecond:"second"===n})}),[T,M,pe,ce,N,v,n]),ve=ge.conditions,ye=ge.cardsWithCondition,xe=(0,o.useState)((function(){return(0,De.zi)({name:n,cabinsFromParams:J,aFilterFromParams:Q,dFilterFromParams:K,cabin:M,isHasTax:v,isInter:!0,direct:W,dAirportCode:A,aAirportCode:D})})),_e=(0,r.Z)(xe,2),Ne=_e[0],Te=_e[1],we=Ne.length+(["ECONOMY\u3001SUPER_ECONOMY"].includes(M)?0:1),be=function(e){var t=e.polid,r=e.indexId;if(U((0,b.xE)(r)),"ONE_WAY"===_||"second"===n){var i=Nt(_,e);(0,R.ff)("flt_oversea_search_result_h5_basic",(0,w.Z)((0,w.Z)({},i),{},{DFlst:{type:"\u6700\u4f4e\u4ef7",price:h}})),j.rc.jump({policyId:t,messageToken:le,isHasTax:v,seat:H,enforce:z})}else j.CW.jump({polid:t,prdid:ae,ptype:v?1:2,seat:H,enforceFilter:G,afilter:Q})},Ce=(0,C.aT)(be,m),je=Ce.callback,Se=(0,o.useCallback)((function(){Te([]),U((0,S.dS)("ECONOMY\u3001SUPER_ECONOMY"))}),[U]),ke=(0,o.useCallback)((function(e){U((0,k.QA)(e))}),[U]);(0,o.useEffect)((function(){var e=(0,I.Vj)();return E.ZP.on(E.Od,(function(){Te(bt(A,D))}),e),function(){E.ZP.off(E.Od,e)}}),[M,A,D]),(0,o.useEffect)((function(){var e=Nt(_),t=[{From:{CityCode:F},To:{CityCode:Z},StartTime:(0,i.dayjs)(N).format("YYYY-MM-DD HH:mm")}];(0,R.ff)("flt_oversea_search_result_h5_basic",(0,w.Z)((0,w.Z)({},e),{},{Sequence:t}))}),[N,T,_,F,Z]);var Ie=(0,o.useMemo)((function(){if(Ne.length){var e=function(e){if("cabins"===e)return 1;ve[e].forEach((function(t,n){var r=(0,De.ap)(Ne,t.uid);0!==n&&t.uid&&r?(t.checked=!0,ve[e][0].checked=!1):0!==n&&t.uid&&!r?t.checked=!1:0!==n||"\u7ecf\u6d4e\u8231"!==t.uid||(0,De.ap)(Ne,"\u516c\u52a1\u8231/\u5934\u7b49\u8231")||(t.checked=!0)}))};for(var t in ve)e(t)}return ve}),[Ne,ve]),Ee=(0,o.useMemo)((function(){var e=Ne.filter((function(e){return"\u770b\u4e0d\u542b\u7a0e\u4ef7"!==e[0]}));return ye.map((function(t){return e.length?e.every((function(e){return Array.isArray(e)?e.some((function(e){return t.condition.includes(e)})):t.condition.includes(e)}))?t:void 0:t})).filter((function(e){return e}))}),[ye,Ne]),Pe=mt(B),Le=Pe(Ee,B),Ve=!ee.length,Oe=!Ee.length;if(fe||p&&(Oe||Ve))return(0,f.jsx)(c.View,{className:Tt.Z["flight-card-padding"],children:(0,f.jsx)(c.View,{className:Tt.Z["FlightListCard-new"],children:(0,f.jsx)(P.Z,{})})});if(u||Ve||Oe||d){var Ae=Ct({isError:u,noCards:Ve,isSkip:d});return(0,f.jsx)(c.View,{className:Tt.Z["flight-card-padding"],children:(0,f.jsx)(c.View,{className:"".concat(Tt.Z["FlightListCard-new"]," ").concat(Tt.Z.marginB),children:(0,f.jsxs)(c.View,{className:Tt.Z["fill-loading"],children:[(0,f.jsx)(V.Z,{state:Ae,clickFn:Se}),(0,f.jsx)(L.Z,{pageName:"\u5217\u8868\u9875"})]})})})}return p&&Ve?null:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(he,{name:n,cards:Le,goToNextPage:je}),(0,f.jsx)(ft,{requestNum:x,isFetching:p,order:B,orderClick:ke,conditions:Ie,conditionsClick:Te,count:we,cards:ye,name:n,setIsHasTax:y,setIsWait:me})]})}var St=n(45438),kt=n(58637),It=kt.Z.injectEndpoints({endpoints:function(e){return{getInterFio:e.query({query:function(e){return{url:"/17964/hornContent",queryObject:{subEnv:"fat36"},queryParams:e}},keepUnusedDataFor:15,transformResponse:function(e){return e}})}}}),Et=It.useGetInterFioQuery,Pt=(It.usePrefetch,function(e,t,n,r){if(r&&0!==r.length){var i;i=e?[{dcname:n,acname:t,seg:1},{dcname:t,acname:n,seg:2}]:[{dcname:n,acname:t,seg:1}];var o={cname:"",notis:[]};return r.forEach((function(e){var t;if(null!==e&&void 0!==e&&e.rules&&0!==(null===e||void 0===e||null===(t=e.rules)||void 0===t?void 0:t.length)){var n,r,a,c,s=e.rules,l=e.segs,u=i[l[0].seg-1];if(l[0].dcitycode===(null===(n=s[0])||void 0===n||null===(n=n.detail)||void 0===n?void 0:n.sc))if(u["depart"])u["depart"].notis.unshift((0,w.Z)({},e));else u["depart"]={cname:null===(a=s[0])||void 0===a||null===(a=a.detail)||void 0===a?void 0:a.sn,notis:[(0,w.Z)({},e)]};if(l[0].acitycode===(null===(r=s[0])||void 0===r||null===(r=r.detail)||void 0===r?void 0:r.sc))if(u["arrive"])u["arrive"].notis.unshift((0,w.Z)({},e));else u["arrive"]={cname:null===(c=s[0])||void 0===c||null===(c=c.detail)||void 0===c?void 0:c.sn,notis:[(0,w.Z)({},e)]}}else o.notis.push((0,w.Z)((0,w.Z)({},e),{},{type:null===e||void 0===e?void 0:e.notiType}))})),{commonNoti:o,segNotiList:i}}}),Lt=function(e){var t=e.dCityCode,n=e.aCityCode,r=e.dDate,i=e.aDate,o=e.tripType,a=[{dCity:t,aCity:n,dDate:r,segment:1}];return"ROUND_TRIP"===o&&a.push({dCity:n,aCity:t,dDate:i,segment:2}),{flights:a,tripType:"ROUND_TRIP"===o?"RT":"OW",ftype:2,pageId:0x5af5a0242252}},Vt=function(e){var t=e.tripType,n=e.aCityName,r=e.dCityName,i=e.dCityCode,a=e.aCityCode,c=e.dDate,s=e.aDate,l=e.children,u="ROUND_TRIP"===t,d=(0,o.useMemo)((function(){return Lt({dCityCode:i,aCityCode:a,dDate:c,aDate:s,tripType:t})}),[a,s,i,c,t]),f=Et(d),m=f.data,p=f.isFetching,h=f.isError;if(p||h||!m)return null;var g=m||{},v=g.notiList,y=Pt(u,n,r,v);return l({flightNotification:y})},Ot=(0,o.memo)(Vt),At=Ot,Rt=function(){var e=(0,s.C)(l.e_),t=(0,s.C)(l.cY),n=(0,s.C)(l.R1),r=(0,s.C)(l.Wt),i=(0,s.C)(l.ww),o=(0,s.C)(l.pW),a=(0,s.C)(l.sq),c="ROUND_TRIP"===e,u=c?2:1;return(0,f.jsx)(At,{tripType:e,aCityName:t,dCityName:n,dCityCode:r,aCityCode:i,dDate:o,aDate:a,children:function(e){var t=e.flightNotification;return(0,f.jsx)(St.Y,{pageTitle:"\u51fa\u884c\u63d0\u9192",tripType:u,flightNotification:t})}})},Dt=(0,o.memo)(Rt),Zt=n(89541),Ft={departure:"SecondDetail-module_fqABN","departure-title":"SecondDetail-module_Sx6E1",departureBox:"SecondDetail-module_QKzhh",textBox:"SecondDetail-module_hNgIl",BoxStyle:"SecondDetail-module_muSi1",flagDetail:"SecondDetail-module_XffDe","icon-style":"SecondDetail-module_sDXr0",PriceStyle:"SecondDetail-module_Q_B0V",blueColor:"SecondDetail-module_WsiEA",boxContainer:"SecondDetail-module_nPJY7",dayCountStyle:"SecondDetail-module_PpPCc",dayBox:"SecondDetail-module_gO7PE"},Mt=function(e){var t=e.renderData,n=e.passengerType,r=e.departureDate,a=(0,o.useMemo)((function(){var e,n=null===t||void 0===t||null===(e=t.nlst)||void 0===e||null===(e=e.find((function(e){return 100===e.category})))||void 0===e?void 0:e.ntvalue;return JSON.parse(n||"{}")}),[t]),s=a||{},l=s.flgs,u=void 0===l?[]:l,d=s.seginfo,m=void 0===d?{}:d,p=!(null===u||void 0===u||!u.length),h=(0,o.useMemo)((function(){var e,t=null===(e=i.R.head(u))||void 0===e||null===(e=e.dateinfo)||void 0===e?void 0:e.ddate;return t?(0,i.dayjs)(t).format("HH:mm"):""}),[u]),g=(0,o.useMemo)((function(){var e,t=null===(e=i.R.last(u))||void 0===e||null===(e=e.dateinfo)||void 0===e?void 0:e.adate;return t?(0,i.dayjs)(t).locale("zh-cn").format("MM-DD"):""}),[u]),v=(0,o.useMemo)((function(){var e,t=null===(e=i.R.last(u))||void 0===e||null===(e=e.dateinfo)||void 0===e?void 0:e.adate;return t?(0,i.dayjs)(t).format("HH:mm"):""}),[u]),y=(0,o.useMemo)((function(){return"".concat((0,i.dayjs)(r).locale("zh-cn").format("MM-DD(ddd)")," ").concat(decodeURIComponent(h),"-").concat(decodeURIComponent(v))}),[v,r,h]),x=(0,o.useMemo)((function(){var e=null===m||void 0===m?void 0:m.daycnt;if(e)return e>0?"+".concat(m.daycnt,"\u5929"):g}),[g,null===m||void 0===m?void 0:m.daycnt]),_=function(){(0,Zt.RK)({isIntl:!0,segs:[a]})},N=(0,Ne.kc)(t,n);return(0,f.jsx)(c.View,{className:Ft.departure,children:(0,f.jsxs)(c.View,{className:Ft.departureBox,children:[(0,f.jsx)(c.Text,{className:Ft["departure-title"],children:"\u5df2\u9009 \u53bb\u7a0b"}),(0,f.jsxs)(c.View,{className:Ft.boxContainer,children:[(0,f.jsxs)(c.View,{className:"".concat(Ft.textBox," ml-2"),children:[(0,f.jsxs)(c.View,{className:Ft.dayBox,children:[(0,f.jsx)(c.Text,{children:y}),x&&(0,f.jsx)(c.Text,{className:"".concat(Ft.dayCountStyle),children:x})]}),p&&(0,f.jsxs)(c.View,{className:Ft.BoxStyle,children:[(0,f.jsx)(c.Text,{className:Ft.flagDetail,onClick:(0,i.trackFn)("showDetail--ef123",_),children:"\u822a\u73ed\u8be6\u60c5"}),(0,f.jsx)(c.Text,{className:"iconfont-h5 icon-arrow-right ".concat(Ft["icon-style"])})]})]}),N!==1/0&&N&&(0,f.jsxs)(c.View,{className:"".concat(Ft.BoxStyle," ").concat(Ft.blueColor),children:[(0,f.jsx)(c.Text,{className:"dfn",children:"\xa5"}),(0,f.jsx)(c.Text,{className:Ft.PriceStyle,children:N}),(0,f.jsx)(c.Text,{className:"dfn",children:"\u8d77"})]})]})]})})},Bt=(0,o.memo)(Mt),Ut=Bt,qt=function(e){var t=e.isHasTax;console.log("useReplaceUrl",t)},Yt=function(e){var t=e.pageName,n=void 0===t?"first":t,i=(0,a.useRouter)(),u=i.params,d=u.polid,m=void 0===d?"":d,v=u.prdid,y=void 0===v?"":v,x=u.ptype,_=void 0===x?"1":x,w=(0,o.useState)("2"!==_),b=(0,r.Z)(w,2),C=b[0],j=b[1],S=(0,s.C)(l.e_),k=(0,s.C)(l.pW),I=(0,s.C)(l.sq),E=(0,s.C)((function(e){return e.passengerType.value}));qt({isHasTax:C});var P="ROUND_TRIP"===S,L="second"===n;return(0,f.jsx)(T.Z,{tripType:S,segno:L?2:1,polid:m,prdid:y,passengerType:E,isHasTax:C,children:function(e){var t=e.data,r=e.lowestPrice,i=e.isFetching,o=e.isError,a=e.isSkip,s=e.refetch,l=e.requestNum;return(0,f.jsx)(h.Z,{name:n,children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.View,{children:(0,f.jsx)(g.Z,{pageName:n,lowestPrice:r,forbidden:0===l&&i,isHasTax:C})}),(0,f.jsxs)(c.View,{children:[(0,f.jsx)(Dt,{}),L&&(0,f.jsx)(Ut,{renderData:t,passengerType:E,departureDate:k}),P&&(0,f.jsx)(p,{isSecond:L,arrivalDate:I}),(0,f.jsx)(N,{isFetching:i,isHasTax:C,data:t}),(0,f.jsx)(jt,{pageName:n,isHasTax:C,isFetching:i,isError:o,isSkip:a,data:t,refetch:s,setIsHasTax:j,requestNum:l,lowestPrice:r})]})]})})}})},Ht=Yt},89872:function(e,t,n){"use strict";n.d(t,{jg:function(){return c},CU:function(){return s},M3:function(){return d},kc:function(){return f}});var r=n(22276),i=n(298),o=n(90983),a=(n(91425),n(90201)),c=function(e,t){var n,r=t||{},i=r.ADULT,a=void 0===i?1:i,c=r.CHILD,s=void 0===c?0:c,l=r.INFANT,u=void 0===l?0:l,d=Number(a),f=Number(s),m=Number(u),p=0,h=0,g=0,v=0,y=0,x=0,_=0,N=0,T=0,w=0,b=(0,o.Z)(e||[]);try{for(b.s();!(n=b.n()).done;){var C=n.value,j=null===C||void 0===C?void 0:C.price,S=(null===C||void 0===C?void 0:C.origPrice)||0,k=null===C||void 0===C?void 0:C.tax,I=(null===C||void 0===C?void 0:C.refTax)||0,E=(null===C||void 0===C?void 0:C.fuel)||0;"number"!==typeof j&&(j=j.priceValue&&j.priceValue/100||0,S=S.priceValue&&S.priceValue/100||0,k=k.priceValue&&k.priceValue/100||0,I=I.priceValue&&I.priceValue/100||0,E=E&&E.priceValue/100||0),1===C.psgtype||"Adult"===(null===C||void 0===C?void 0:C.passengerType)?(_+=d*j,T+=d*S,N+=d*(k+E),w+=d*(I+E),p=j,v=k+E):2===C.psgtype||"Child"===(null===C||void 0===C?void 0:C.passengerType)?(_+=f*j,T+=f*S,N+=f*(k+E),w+=f*(I+E),h=j,y=k+E):3!==C.psgtype&&"Baby"!==(null===C||void 0===C?void 0:C.passengerType)||(_+=m*j,T+=m*S,N+=m*(k+E),w+=m*(I+E),g=j,x=k+E)}}catch(e){b.e(e)}finally{b.f()}var P=d+f+m,L=_/P,V=T/P,O=(_+N)/P,A=(T+w)/P,R=N/P,D=w/P;return{price:_,tax:N,avgTax:R,originAvgTax:D,avgPrice:L,originAvgPrice:V,avgPriceWithTax:O,originAvgPriceWithTax:A,totalCount:P,adult:d,child:f,baby:m,adultPrice:p,childPrice:h,babyPrice:g,adultTax:v,childTax:y,babyTax:x}};function s(e){var t={1:"Adult",2:"Child",3:"Baby",4:"Old",0:"Unknow"};return t[e]||"Unknow"}function l(e){return null===e||void 0===e?void 0:e.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{passengerType:s(e.psgtype)})}))}function u(e,t,n){return e.map((function(e){var r=l(e.prices),o=c(r,n),a=t?o.avgPriceWithTax:o.avgPrice,s=t?o.originAvgPriceWithTax:o.originAvgPrice,u=t?null:o.avgTax,d=t?null:o.originAvgTax;return(0,i.Z)((0,i.Z)({},e),{},{priceList:r,price:a,originAvgPrice:s,tax:u,originTax:d,hasTaxPrice:o.avgPriceWithTax})}))}var d=function(e){var t,n=e.policys,r=e.passengerType,i=e.lowestPrice,o=e.isHasTax,a=void 0===o||o;if(!n)return null;var c=null===(t=u(n,a,r))||void 0===t?void 0:t.sort((function(e,t){return e.price-t.price})),s=null===c||void 0===c?void 0:c[0].price,l=(null===c||void 0===c?void 0:c[0])||{},d=l.tax,f=l.hasTaxPrice,m=l.originAvgPrice,p=l.originTax;return i&&c&&(s=c[0].price-i>0?c[0].price-i:0),{realPrice:s,realTax:d,hasTaxPrice:f,originAvgPrice:m,originTax:p}},f=function(e,t){return(0,a.useMemo)((function(){var n=(null===e||void 0===e?void 0:e.segs)&&e.segs.map((function(e){var n;return null===(n=d({policys:e.policys,passengerType:t}))||void 0===n?void 0:n.realPrice})).filter((function(e){return e}));return Math.ceil(Math.min.apply(Math,(0,r.Z)(n||[])))}),[e,t])}},79085:function(e,t,n){"use strict";n.d(t,{XF:function(){return r},hu:function(){return i},x0:function(){return o}});n(91425);var r=function(e){return e[e["Type_24"]=24]="Type_24",e[e["Type_8"]=8]="Type_8",e[e["Type_9"]=9]="Type_9",e[e["Type_10"]=10]="Type_10",e}({}),i=function(e){return e[e["Type_11"]=11]="Type_11",e[e["Type_15"]=15]="Type_15",e}({}),o=function(e){return e[e["IMAGE"]=1]="IMAGE",e[e["TEXT"]=2]="TEXT",e[e["BACKGROUND_TEXT"]=3]="BACKGROUND_TEXT",e[e["BORDER_TEXT"]=4]="BORDER_TEXT",e[e["IMAGE_TEXT"]=8]="IMAGE_TEXT",e}({})},23787:function(e,t,n){"use strict";n.d(t,{D1:function(){return R},s2:function(){return v},Nb:function(){return T},si:function(){return g},aZ:function(){return x},e3:function(){return w},kO:function(){return P},HQ:function(){return E},G5:function(){return q},dq:function(){return y},aJ:function(){return M},HZ:function(){return F},tS:function(){return Q},NQ:function(){return p},vk:function(){return K},ul:function(){return G},OI:function(){return Y},Lq:function(){return b},Mh:function(){return Z},Vy:function(){return A},qt:function(){return s},Mc:function(){return h},c6:function(){return m},z7:function(){return H}});var r=n(91425),i=n(298),o=n(51070),a=function(e){return e[e["specialLevel"]=1]="specialLevel",e[e["firstLevel"]=2]="firstLevel",e[e["secondLevel"]=3]="secondLevel",e}({}),c=function(e){return e[e["trip"]=1]="trip",e[e["noTrip"]=2]="noTrip",e}({}),s=function(e){return Array.isArray(e)&&e.length>0},l=function(e,t){return e?"".concat(t).concat(e):""};function u(e){return(null===e||void 0===e?void 0:e.filter((function(e){return 1!==e.pageId})).map((function(e){var t;return{notiLevel:e.notiLevel,notiType:e.notiType,notiId:e.notiId,iconUrl:e.iconUrl||"",ttl:e.ttl||"",flag:0,content:e.content||"",bntTxt:e.btnTxt||"",fmtcnt:e.fmtcnt||e.fContent||"",ver:e.ver||0,st:e.st||"",stw:e.stw||!1,crank:e.crank,sut:e.sut,ctriput:e.ctriput,source:e.source,urgent:e.urgent||!1,dc:e.dc||"",dctype:e.dctype||-1,scgy:e.scgy,etag:e.etags||(null===e||void 0===e?void 0:e.etagdetail)||[],type:e.type||(null===e||void 0===e||null===(t=e.rules)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.type),weight:e.weight}})))||[]}var d=function(e,t){if(t)return{cityName:(null===t||void 0===t?void 0:t.cname)||"",tabCityName:l((null===t||void 0===t?void 0:t.cname)||"",e),notiInfos:u((null===t||void 0===t?void 0:t.notis)||[]),typePre:e,seq:(null===t||void 0===t?void 0:t.sequence)||(null===t||void 0===t?void 0:t.seq)||1}},f=function(e,t,n){var i=[],a=(n||[]).map((function(e){return d(o.cD.STOP,e)})),c=null===a||void 0===a?void 0:a.find((function(e){return 1===(null===e||void 0===e?void 0:e.seq)}));if(c&&i.push(c),s(t)){var l=r.R.sort((function(e,t){return((null===e||void 0===e?void 0:e.sequence)||0)-((null===t||void 0===t?void 0:t.sequence)||0)}),t),u=l.map((function(e){return d(o.cD.TRANSFER,e)}));u.forEach((function(e){e&&i.push(e);var t=a&&a.find((function(t){return t&&t.seq===((null===e||void 0===e?void 0:e.seq)||1)+1}));t&&i.push(t)}))}else if(e){var f=d(o.cD.TRANSFER,e);f&&i.push(f);var m=a&&a.find((function(e){return 2===(null===e||void 0===e?void 0:e.seq)}));m&&i.push(m)}return i};function m(e){var t={segNoti:[],commonNoti:{cityName:"",notiInfos:[]}},n=e||{},r=n.segNotiList,i=n.commonNoti;return null===r||void 0===r||r.forEach((function(e){var n=e.depart,r=e.stop,i=e.arrive,a=e.transfer,c=e.transfers,s=[],l=d(o.cD.DEPART,n),u=f(a,c,r),m=d(o.cD.ARRIVE,i);l&&s.push(l),s=s.concat(u),m&&s.push(m),t.segNoti.push({departCityName:e.dcname||"",arriveCityName:e.acname||"",segmentNo:e.seg||-1,tripList:s})})),t.commonNoti={cityName:null===i||void 0===i?void 0:i.cname,notiInfos:u((null===i||void 0===i?void 0:i.notis)||[])},t}function p(e){return e?e.replace(/<HL>/g,"").replace(/<\/HL>/g,"").replace(/<HLink>/g,"").replace(/<\/HLink>/g,""):""}function h(e){if(!e)return[];var t=e.replace(/<HL>/g,"|<HL>");t=t.replace(/<\/HL>/g,"</HL>|"),t=t.replace(/<HLink>/g,"|<HLink>"),t=t.replace(/<\/HLink>/g,"</HLink>|");var n=t.split("|"),r=n.map((function(e){var t={content:"",isHighLight:!1,isLink:!1};return t.content=p(e||""),e&&e.startsWith("<HL>")&&e.endsWith("</HL>")&&(t.isHighLight=!0),e&&e.startsWith("<HLink>")&&e.endsWith("</HLink>")&&(t.isLink=!0),t}));return r}var g=function(e){var t;return e?((null===(t=e.commonNoti)||void 0===t?void 0:t.notiInfos)||[]).filter((function(e){return e.type===c.noTrip&&(e.crank===a.specialLevel||e.crank===a.firstLevel)})):[]},v=function(e){return e&&e.segNoti?e.segNoti.slice():[]},y=function(e){var t;return e?((null===(t=e.commonNoti)||void 0===t?void 0:t.notiInfos)||[]).filter((function(e){return e.type===c.noTrip&&e.crank===a.secondLevel})):[]},x=function(e){var t;return e?((null===(t=e.commonNoti)||void 0===t?void 0:t.notiInfos)||[]).filter((function(e){return(null===e||void 0===e?void 0:e.notiType)===c.trip&&e.crank===a.firstLevel})):[]},_=function(e){var t=[];return e?(e.tripList.forEach((function(e){t=t.concat((null===e||void 0===e?void 0:e.notiInfos)||[])})),t):t},N=function(e){if(!e)return[];var t=g(e),n=[],r=v(e);(r||[]).forEach((function(e){n=n.concat(_(e))}));var i=y(e);return t.concat(n).concat(i)},T=function(e){if(!e)return"";var t=N(e);if(s(t)){var n=t.map((function(e){return e.ttl})).join("  \xb7 ");return"  \xb7 ".concat(n)}return""};function w(e){var t=[];if(!e)return t;var n=e.segNoti,r=e.commonNoti;return t=t.concat(r.notiInfos||[]),null===n||void 0===n||n.forEach((function(e){null===e||void 0===e||e.tripList.forEach((function(e){t=t.concat((null===e||void 0===e?void 0:e.notiInfos)||[])}))})),t}var b=function(e){var t,n;if(!s(e))return[];var r=[],o=[];if(e.forEach((function(e){r=r.concat((null===e||void 0===e?void 0:e.etag)||[])})),null===(t=r)||void 0===t||t.forEach((function(e){e.type&&-1===o.indexOf(e.type)&&o.push(e.type)})),!s(o))return[];o=o.sort((function(e,t){return e-t}));var a=null===(n=o)||void 0===n?void 0:n.map((function(e){var t=(r||[]).filter((function(t){return(null===t||void 0===t?void 0:t.type)===e})),n=(t||[]).sort((function(e,t){return(t.priority||0)-(e.priority||0)})),o=null===n||void 0===n?void 0:n[0],a=(null===o||void 0===o?void 0:o.type)&&o.type<=4&&1===o.priority;return o?(0,i.Z)((0,i.Z)({},o),{},{isPositiveTag:a}):null}));return a},C=n(65325),j=function(e){return"ONE_WAY"===e?1:"ROUND_TRIP"===e?2:4},S=function(e){var t={1:"Y",2:"C",3:"F",4:"S",5:"YS",6:"CF"},n=e&&Number(e);return t[n]||""},k=function(e){var t={1:"Y",2:"S",3:"C",4:"F"},n=e&&Number(e);return t[n]||"Y"},I=function(e,t){var n=t.tripType,r=t.passengerType,i=e.dcode,o=e.acode,a=e.ddate,c=e.dfltno,s=e.dseat,l=void 0===s?"":s,u=e.afltno,d=e.adate,f=e.aseat,m=void 0===f?"":f,p=e.dofltno,h=void 0===p?"":p,g=e.aofltno,v=void 0===g?"":g,y=String(i).split("."),x=String(l).split("."),_=String(a).split("."),N=String(c).split("."),T=String(o).split("."),w=String(h).split(".");if(!(N.length!==_.length||_.length!==y.length||l&&y.length!==x.length)){var b=y.map((function(e,t){var n={h5DepartureDate:_[t],flightNo:N[t],fromCityCode:e,seatgrade:k(x[t]),seg:1,seq:t+1,toCityCode:t===y.length-1?T[0]:y[t+1]};return w[t]&&(n["operatingCarrierNo"]=w[t]),n})),j=String(d).split("."),S=String(u).split("."),I=String(m).split("."),E=String(v).split(".");if(!(j.length!==T.length||S.length!==T.length||m&&I.length!==S.length)){if("ROUND_TRIP"===n){var P=T.map((function(e,t){var n={h5DepartureDate:j[t],flightNo:S[t],fromCityCode:e,seatgrade:k(I[t]),seg:2,seq:t+1,toCityCode:t===T.length-1?y[0]:T[t+1]};return E[t]&&(n["operatingCarrierNo"]=w[t]),n}));b=b.concat(P)}return{channel:"middle.h5",flights:b,trip:{ONE_WAY:1,ROUND_TRIP:2}[n],traveler:(0,C.E)(r)}}}},E=function(e,t){var n=t.tripType,r=t.passengerType,i=r.ADULT,o=void 0===i?1:i,a=r.CHILD,c=void 0===a?0:a,s=r.INFANT,l=void 0===s?0:s,u="".concat(o,"|").concat(c,"|").concat(l),d=1===o&&!c&&!l,f=d?"F":"T",m=e.policyId,p=e.messageToken,h=e.isHasTax,g=e.seat,v=e.enforce,y=e.isshare,x=m?decodeURIComponent(m):"",_=[{idtype:4,ID:x},{idtype:5,ID:p||""}],N=S(g),T=[{extkey:2,extvalue:u},{extkey:3,extvalue:h?"T":"F"},{extkey:5,extvalue:"1"},{extkey:16,extvalue:f},{extkey:17,extvalue:"T"}];return N&&v&&T.push({extkey:1,extvalue:N}),y&&T.push({extkey:10,extvalue:JSON.stringify(I(e,{tripType:n,passengerType:r}))}),{triptype:j(n),idlst:_,extinfo:T,flag:1}},P=function(e,t,n){return{slst:[{stype:e,dstr:t&&decodeURIComponent(t),code:"",ualst:[{atype:1,acnt:n}]}],stype:0,extendInfos:[]}},L=n(90129),V=n(89872),O=function(e,t){if(1===e||2===e){var n=1===(1&t);return n?"https://pages.c-ctrip.com/flight_h5/tinyapp/domBooking/%20orange_tip.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/policyGou.png"}return 4===e?"https://pages.c-ctrip.com/flight_h5/tinyapp/domBooking/%20orange_tip.png":10===e?"https://pages.c-ctrip.com/flight_h5/tinyapp/internal/ctrip_group.png":""},A=function(e){if(null===e||void 0===e||!e.length)return[];var t=[1,2,10,3,4],n=r.R.filter((function(e){return t.includes(e.type)}),e),o=n.slice(),a=[];o=o.map((function(e){var t=null===e||void 0===e?void 0:e.type,n=a.find((function(e){return e===t}));return n||a.push(t),(0,i.Z)({},e)}));var c=a.map((function(e){var t,n=o.filter((function(t){return t.type===e})),r=null===(t=n.find((function(t){return t.type===e})))||void 0===t?void 0:t.fmap,a=n.map((function(e){if(e.desc.includes("\u8231")&&e.desc.includes("+")&&!e.desc.includes("(")){var t=e.desc.split("+"),n=(0,L.Z)(t,2),r=n[0],o=n[1];r!==o&&(e.desc="<HL>".concat(e.desc,"</HL>"))}var a=h(e.desc);return(0,i.Z)((0,i.Z)({},e),{},{descriptionTextList:a})})),c=O(e,r);return{descriptionType:e,descriptionFmap:r,contentList:a,iconUrl:c}})),s=r.R.sort((function(e,n){return t.indexOf(e.descriptionType)-t.indexOf(n.descriptionType)}),c);return s},R=function(e,t,n,r){return e||1===n&&[1,2].includes(t)?{color:"#ff7700"}:3===t||4===t?{color:"#888888"}:r?{color:r}:{color:"#111111"}},D=function(e){var t=e.policy,n=e.passengerType,r=e.isHasTax,o=void 0===r||r,a=t.prices,c=null===a||void 0===a?void 0:a.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{passengerType:(0,V.CU)(e.psgtype)})})),s=o?(0,V.jg)(c,n).avgPriceWithTax:(0,V.jg)(c,n).avgPrice,l=o?null:(0,V.jg)(c,n).avgTax,u=(0,V.jg)(c,n).avgPriceWithTax;return{realPrice:s,realTax:l,hasTaxPrice:u}},Z=function(e){var t=e.policies,n=e.passengerType,r=e.isHasTax,o=void 0===r||r;return null===t||void 0===t?void 0:t.map((function(e){var t=D({policy:e,passengerType:n,isHasTax:o})||{},r=t.realPrice,a=t.realTax;return(0,i.Z)((0,i.Z)({},e),{},{price:Math.ceil(Number(r)),tax:Math.ceil(Number(a))})}))},F=function(e){var t,n=null===e||void 0===e||null===(t=e.prices)||void 0===t?void 0:t[0],r=((null===n||void 0===n?void 0:n.price)||0)+((null===n||void 0===n?void 0:n.tax)||0);return r},M=function(e,t){if(e&&"1|0|0"!==e){var n=null===e||void 0===e?void 0:e.split("|"),r="";return(null===n||void 0===n?void 0:n.length)&&n.forEach((function(e,t){Number(e)&&(r+="".concat(t?"+":"").concat(Number(e)).concat(2===t?"\u5a74\u513f":1===t?"\u513f\u7ae5":"\u6210\u4eba"))})),[{isHight:!1,tip:"\u4ee5\u4e0b\u5747\u4e3a"},{isHight:!1,tip:'"'.concat(r,'"\u7684')},{isHight:!0,tip:"\u4eba\u5747\u4ef7"},{isHight:!1,tip:"\uff08".concat(t?"\u542b\u7a0e":"\u4e0d\u542b\u7a0e","\uff09")}]}},B=n(22276),U=n(79085),q=function(e){var t={isMultiTickets:!1,Title:"",Content:"",ConfirmButtonText:"",CancelButtonText:"",ContentList:[],Desc:""},n=e.actionset||[];return n.forEach((function(e){if(1===e.atype&&8===e.tptype){t.isMultiTickets=!0;var n,r=e.amsg?JSON.parse(e.amsg):null;if(r)t.Title=r.title||"",t.ContentList=null!==r&&void 0!==r&&null!==(n=r.contents)&&void 0!==n&&n.length?r.contents:[],t.Desc=r.desc||"";t.ConfirmButtonText=e.btinfo[0].btname}})),t},Y=function(e,t){if(null===e||void 0===e||!e.length)return null;var n=[];return e.filter((function(e){return e.tagtype===t})).forEach((function(e){var t=e.taglst;t&&n.push.apply(n,(0,B.Z)(t))})),n},H=function(e,t){if(null===e||void 0===e||!e.length)return"";var n=e.map((function(e){return 2===(null===e||void 0===e?void 0:e.subtype)&&(null===e||void 0===e?void 0:e.coninfo)&&(1===t?e.coninfo.content:e.coninfo.subtext)})).filter((function(e){return!!e}));return n.length?n.join(" "):""},G=function(e,t){var n=[];return null!==e&&void 0!==e&&e.length&&null!==t&&void 0!==t&&t.length&&t.forEach((function(t){return e.filter((function(e){return e.tagidx===t})).forEach((function(e){var t=e.taglst;null!==t&&void 0!==t&&t.length&&n.push(e)}))})),n},W=function(e,t){return null!==e&&void 0!==e&&e.length?e.map((function(e){var t;return e.includes("|")?null===(t=e.split("|"))||void 0===t?void 0:t[0]:e})):[t]};function z(e){var t=e.subtype,n=e.size,r=e.coninfo;if(t&&n&&r&&r.content){var o=(r.content||"").split("|")||[],a={tagType:0,styleType:t,content:o[0]||""};if(t===U.x0.IMAGE){var c=40,s=124,l=n.width,u=void 0===l?s:l,d=n.height,f=void 0===d?c:d,m=c,p=s;return f>c?(p=u&&f?Math.floor(c/f*u):s,m=c):(m=f||c,p=u&&f?Math.floor(m/f*u):s),(0,i.Z)((0,i.Z)({},a),{},{width:p,height:m})}if(t===U.x0.TEXT||t===U.x0.BORDER_TEXT||t===U.x0.BACKGROUND_TEXT||t===U.x0.IMAGE_TEXT){var h=(r.tcolor||"").split(";")||[],g=(r.bcolor||"").split(";")||[];h=W(h,"#00AE73"),g=W(g,t===U.x0.BACKGROUND_TEXT?"#F2FBF8":"#00AE73");var v=h[0],y=t===U.x0.TEXT?"transparent":t===U.x0.BACKGROUND_TEXT?g[1]||g[0]:g[1],x=t===U.x0.BACKGROUND_TEXT?g[0]||"#F2FBF8":"transparent",_=t===U.x0.IMAGE_TEXT&&r.pUrl||void 0;return(0,i.Z)((0,i.Z)({},a),{},{content2:o[1]||"",contentColor:v,borderColor:y,backgroundColor:x,prefixUrl:_})}return a}}function K(e,t){if(!e||0===e.length||!t)return[];var n=e.find((function(e){return e.atype===t}));if(!n||!n.acnt)return[];var r=n.acnt.split("|");return r?r.map((function(e){return parseInt(e)})):[]}var Q=function(e,t){var n=[];return null!==e&&void 0!==e&&e.length&&null!==t&&void 0!==t&&t.length&&e.forEach((function(r){var o=r.atype,a=8===o||9===o||10===o;if(a){var c=G(t,K(e,o));null!==c&&void 0!==c&&c.length&&c.forEach((function(e){var t=e.tagtype,r=e.taglst;null!==r&&void 0!==r&&r.length&&r.forEach((function(e){var r=z(e);if(r){var o=(0,i.Z)((0,i.Z)({},r),{},{tagType:t});n.push(o)}}))}))}})),n}},12603:function(e,t,n){"use strict";n.d(t,{Z:function(){return Vn}});var r=n(90129),i=n(298),o=n(91425),a=n(90201),c=n(92954),s=n(71515),l=n(67107),u=n(17321),d=n(24773),f=n(26099),m=n(22402),p=n(29557),h=n(92660),g=n(48935),v=n(51070),y=n(18228),x=n(13768),_=n(14506),N=n(74711),T=n(60328),w=n(9423),b=n(84211),C=n(27759),j=n(94892),S=n(45023),k=n(95518),I=n(34954),E=n(9361),P=n(35232),L=n(13612),V=n(55823),O=n(85897),A={loadingContainer:"LoadingFloatLayer-module_TYPtI",loadingTop:"LoadingFloatLayer-module_JMuWM",blockBox:"LoadingFloatLayer-module_gKaFW",loadingBlink:"LoadingFloatLayer-module_bsMht",b1:"LoadingFloatLayer-module_z8OR6",b2:"LoadingFloatLayer-module__BIZ3",b3:"LoadingFloatLayer-module_ELYqB",b4:"LoadingFloatLayer-module_vl64L",b5:"LoadingFloatLayer-module_OMew2",b6:"LoadingFloatLayer-module_HZONU",b7:"LoadingFloatLayer-module_golEO",b8:"LoadingFloatLayer-module_GHlOa",b9:"LoadingFloatLayer-module_JVbET",b10:"LoadingFloatLayer-module_OyOLf",b11:"LoadingFloatLayer-module_wfKWX",b12:"LoadingFloatLayer-module_VhP8M",b13:"LoadingFloatLayer-module_XQV2w",b14:"LoadingFloatLayer-module_y14D9",b15:"LoadingFloatLayer-module_u2EGy",b16:"LoadingFloatLayer-module_WbCyG",b17:"LoadingFloatLayer-module_iVvSu",b18:"LoadingFloatLayer-module_zsZzz",b19:"LoadingFloatLayer-module_ASZbY",divBox:"LoadingFloatLayer-module__iiYO",d1:"LoadingFloatLayer-module_g3rFw",d2:"LoadingFloatLayer-module_RGsYR",d3:"LoadingFloatLayer-module_Sx13Z",d4:"LoadingFloatLayer-module_iMAR2",d5:"LoadingFloatLayer-module_i6Kqv",d6:"LoadingFloatLayer-module_c0ar9",viewBox:"LoadingFloatLayer-module_XaniB",v1:"LoadingFloatLayer-module_zUgcg"},R=n(2269),D=function(){var e=(0,E.R2)(),t=e.bottom,n=void 0===t?0:t;return(0,R.jsx)(a.Fragment,{children:(0,R.jsxs)(s.View,{className:A.loadingContainer,style:{paddingBottom:"".concat(n,"px")},children:[(0,R.jsxs)(s.View,{className:A.loadingTop,children:[(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b16)}),(0,R.jsxs)(s.View,{className:"".concat(A.divBox," ").concat(A.d6),children:[(0,R.jsxs)(s.View,{className:"".concat(A.divBox," ").concat(A.d4),children:[(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b17)}),(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b18)})]}),(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b19)})]})]}),(0,R.jsx)(s.View,{className:"".concat(A.viewBox," ").concat(A.v1),children:(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b7)})}),(0,R.jsxs)(s.View,{className:"".concat(A.viewBox," ").concat(A.divBox," ").concat(A.d3),children:[(0,R.jsxs)(s.View,{className:"".concat(A.divBox," ").concat(A.d4),children:[(0,R.jsxs)(s.View,{className:"".concat(A.divBox," ").concat(A.d5),children:[(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b8)}),(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b9)})]}),(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b10)}),(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b11)}),(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b12)})]}),(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b13),children:" "})]}),[1,2].map((function(e){return(0,R.jsxs)(s.View,{className:"".concat(A.viewBox," ").concat(A.divBox," ").concat(A.d3),children:[(0,R.jsxs)(s.View,{className:"".concat(A.divBox," ").concat(A.d4),children:[(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b14),children:" "}),(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b15),children:" "})]}),(0,R.jsx)(s.View,{className:"".concat(A.blockBox," ").concat(A.b13),children:" "})]},e)}))]})})},Z=D,F=n(8502),M={MiddleFloaterPageNew:"MiddleFloatLayer-module_gRwln",middleFloaterWrapper:"MiddleFloatLayer-module_ltClR",realHeight:"MiddleFloatLayer-module_o1c5U",modalBottom:"MiddleFloatLayer-module_dg8XK",smallModalBottom:"MiddleFloatLayer-module_c4Pl1",MiddleContainer:"MiddleFloatLayer-module_m678X",HeaderBackground:"MiddleFloatLayer-module_bM9hF"},B=n(97659),U=n(96306),q={"new-line-arrow":"index-module_fIu70","middle-text":"index-module_esGL7","middle-content":"index-module_KzHar","white-bg":"index-module_NaHww","grey-bg":"index-module_jUz_E","middle-time":"index-module_ASLb0","middle-stop-transit":"index-module_ATHpl",visitedBg:"index-module_VnF6v",city:"index-module_NFInc","more-line-arrow":"index-module_mToxC","more-text":"index-module_HWqiP","more-container":"index-module_CQs0y"},Y=function(e){var t=e.virtualCities,n=e.stops,r=void 0===n?[]:n,i=e.transitDuration,a=e.transit,c=e.stopTimes,l=e.visited,u=void 0!==l&&l,d=e.isMdiileFloat,f=void 0!==d&&d,m=!(!t||!t.length),p=!!r.length,h=Number.isInteger(a)&&Number(a)>1,g=r.length>1;if(f&&(g||a&&p||h)){var v=function(){return a&&p?(0,R.jsx)(s.View,{className:q["more-text"],children:"\u8f6c+\u505c"}):h?(0,R.jsxs)(s.View,{className:q["more-text"],children:["\u8f6c",a,"\u6b21"]}):g?(0,R.jsxs)(s.View,{className:q["more-text"],children:["\u505c",r.length,"\u6b21"]}):void 0};return(0,R.jsxs)(s.View,{className:q["more-container"],children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/transitMoreArrow.png",className:q["more-line-arrow"]}),v()]})}return a&&(p||h)&&f?(0,R.jsxs)(s.View,{className:q["more-container"],children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/transitMoreArrow.png",className:q["more-line-arrow"]}),p&&(0,R.jsx)(s.View,{className:q["more-text"],children:"\u8f6c+\u505c"}),!p&&h&&(0,R.jsxs)(s.View,{className:q["more-text"],children:["\u8f6c",a,"\u6b21"]})]}):(0,R.jsxs)(s.View,{children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/direct_arrow.png",className:q["new-line-arrow"]}),(p||a||m)&&(0,R.jsxs)(R.Fragment,{children:[i&&(0,R.jsx)(s.View,{className:"".concat(q["middle-text"]," ").concat(q["middle-time"]),children:i}),!i&&c&&!!c.length&&(0,R.jsx)(s.View,{className:"".concat(q["middle-text"]," ").concat(q["middle-time"]),children:c[0]}),(0,R.jsx)(s.View,{className:"".concat(q["middle-text"]," ").concat(q["middle-stop-transit"]),children:(0,R.jsx)(s.View,{className:(0,o.classnames)(q["middle-content"],f?q["grey-bg"]:q["white-bg"],(0,S.Z)({},q.visitedBg,u)),children:a?"\u8f6c":m?"\u901a\u7a0b":"\u7ecf\u505c"})}),(0,R.jsx)(s.View,{className:"".concat(q["middle-text"]," ").concat(q.city),children:a||(m?t[0]:r[0])})]})]})},H=(0,a.memo)(Y),G=n(22276),W=n(9486),z=n(89541),K=n(7532),Q={TextStyle:"top-module_ufBfK",VerticalLine:"top-module_rI8vd",iconfontWarning:"top-module_sfhTq",flexRow:"top-module_kDKAR",iconfontWithLeft:"top-module_cnbgI",topBox:"top-module_JqSnR",marginBottom:"top-module_zh3gG"},J=[{title:"\u7a0e\u8d39\u53ca\u822a\u7a7a\u516c\u53f8",content:"1.\u6bcf\u6bb5\u822a\u73ed\u5747\u9700\u7f34\u7eb3\u673a\u573a\u5efa\u8bbe\u8d39\u548c\u71c3\u6cb9\u7a0e<br>2.\u5efa\u8bae\u8d2d\u4e70\u540c\u4e00\u822a\u7a7a\u516c\u53f8\u7684\u4e2d\u8f6c\u8054\u7a0b\u673a\u7968\uff0c\u4fbf\u4e8e\u786e\u8ba4\u673a\u7968\uff0c\u53ca\u53d1\u751f\u822a\u73ed\u5ef6\u8bef\u65f6\u4fdd\u969c\u6743\u76ca\u3002"},{title:"\u8f6c\u673a\u65f6\u95f4",content:"1. \u4e58\u5ba2\u5e94\u8be5\u9884\u7559\u5145\u8db3\u7684\u8f6c\u673a\u65f6\u95f4\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u540e\u4e00\u7a0b\u822a\u73ed\u65e0\u6cd5\u53ca\u65f6\u767b\u673a\uff1b<br>2. \u8f6c\u673a\u8fc7\u7a0b\u4e2d\uff0c\u4e58\u5ba2\u9700\u5904\u7406\u884c\u674e\u548c\u91cd\u65b0\u529e\u7406\u767b\u673a\u624b\u7eed\u3002"},{title:"\u6f5c\u5728\u98ce\u9669",content:"1. \u4e58\u5ba2\u5982\u653e\u5f03\u540e\u7eed\u884c\u7a0b\uff0c\u5219\u540e\u7eed\u822a\u73ed\u4ec5\u80fd\u4eab\u53d7\u81ea\u613f\u9000\u7968\u7684\u6743\u76ca\uff1b<br>2. \u5982\u53d1\u751f\u822a\u73ed\u5ef6\u8bef\uff0c\u5efa\u8bae\u4e58\u5ba2\u4e0e\u822a\u7a7a\u516c\u53f8\u534f\u5546\u89e3\u51b3\uff1b<br>3. \u901a\u5e38\u540c\u4e00\u822a\u7a7a\u516c\u53f8\u7684\u822a\u73ed\u5ef6\u8bef\u5904\u7406\u8f83\u4e3a\u59a5"},{title:"\u81ea\u8eab\u6743\u76ca",content:"1. \u5982\u53d1\u751f\u822a\u73ed\u5ef6\u8bef\uff0c\u60a8\u6709\u6743\u7d22\u8981\u5ef6\u8bef\u8bc1\u660e\u4ee5\u4fbf\u4e8e\u4e0e\u822a\u7a7a\u516c\u53f8\u534f\u5546\u5904\u7406\u3002\u53c2\u8003:\u300a\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u6c11\u7528\u822a\u7a7a\u6cd5\u300b\u7b2c\u4e00\u767e\u4e8c\u5341\u516d\u6761\u65c5\u5ba2\u3001\u884c\u674e\u6216\u8005\u8d27\u7269\u5728\u822a\u7a7a\u8fd0\u8f93\u4e2d\u56e0\u5ef6\u8bef\u9020\u6210\u7684\u635f\u5931\uff0c\u627f\u8fd0\u4eba\u5e94\u5f53\u627f\u62c5\u8d23\u4efb\uff1b\u4f46\u662f\uff0c\u627f\u8fd0\u4eba\u8bc1\u660e\u672c\u4eba\u6216\u8005\u5176\u53d7\u96c7\u4eba\u3001\u4ee3\u7406\u4eba\u4e3a\u4e86\u907f\u514d\u635f\u5931\u7684\u53d1\u751f\uff0c\u5df2\u7ecf\u91c7\u53d6\u4e00\u5207\u5fc5\u8981\u63aa\u65bd\u6216\u8005\u4e0d\u53ef\u80fd\u91c7\u53d6\u6b64\u79cd\u63aa\u65bd\u7684\uff0c\u4e0d\u627f\u62c5\u8d23\u4efb\u3002<br>2. \u8f6c\u673a\u8fc7\u7a0b\u4e2d\uff0c\u4e58\u5ba2\u9700\u5904\u7406\u884c\u674e\u548c\u91cd\u65b0\u529e\u7406\u767b\u673a\u624b\u7eed\u3002"}],X=function(e){var t=e.sectionsItem,n=e.index,r=void 0===n?0:n,i=e.isAllDirect,c=e.sections,l=e.notificationInfos,u=e.tips,d=t||{},f=d.date,m=void 0===f?"":f,p=d.duration,h=d.segments,g=(0,K.x4)(null===c||void 0===c?void 0:c[0].transitTags),v=(0,a.useCallback)((function(){(0,z.RK)({sections:c,page:"MIDDLE",isMiddleFloatLayer:!0,fromBookingPage:!1}),(0,y.ff)("C_FLT_xcx_N_middle_flightinfo_button")}),[c]),x=(0,a.useMemo)((function(){if(l){var e=o.R.filter((function(e){return e.contentRank<=3&&"ANN"===e.category}),l);return o.R.sort((function(e,t){return e.contentRank-t.contentRank}),e)}return[]}),[l]),_=(0,a.useMemo)((function(){return(null===c||void 0===c?void 0:c.length)>1||(null===h||void 0===h?void 0:h.length)>1?J:[]}),[null===c||void 0===c?void 0:c.length,null===h||void 0===h?void 0:h.length]),N=(0,a.useMemo)((function(){return[].concat((0,G.Z)(u||[]),(0,G.Z)(g),(0,G.Z)(_),(0,G.Z)(x)).filter(Boolean)}),[_,x,u,g]),T=(0,a.useCallback)((function(){(0,y.ff)("C_FLT_xcx_N_middle_tripreminder_button"),(0,W.P)(N,!1,!0,!1)}),[N]);return(0,R.jsxs)(s.View,{className:(0,o.classnames)(Q.topBox,Q.marginBottom),children:[(0,R.jsxs)(s.View,{className:Q.flexRow,children:[(0,R.jsx)(s.Text,{className:Q.TextStyle,children:m}),!i&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.View,{className:Q.VerticalLine}),(0,R.jsxs)(s.View,{className:Q.TextStyle,children:["\u603b",p]})]}),0===r&&!!N.length&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.View,{className:Q.VerticalLine}),(0,R.jsxs)(s.View,{className:Q.flexRow,onClick:(0,o.trackFn)("goTipsClick--b5612",T),children:[(0,R.jsx)(s.View,{className:Q.TextStyle,children:"\u51fa\u884c\u63d0\u9192"}),(0,R.jsx)(B.Z,{className:(0,o.classnames)(Q.iconfontWarning,Q.flexRow),src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/black_Icon_information.png"})]})]})]}),0===r&&(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(s.View,{className:Q.flexRow,onClick:(0,o.trackFn)("flightDetailClick--bcb63",v),children:[(0,R.jsx)(s.View,{className:Q.TextStyle,children:"\u822a\u73ed\u8be6\u60c5"}),(0,R.jsx)(s.View,{className:"iconfont-h5 icon-arrow-right ".concat(Q.iconfontWithLeft," ").concat(Q.flexRow)})]})})]})},$=(0,a.memo)(X),ee=function(e){if(!e)return[0,0];var t=/(\d+)h/g,n=/(\d+)m/g,r=/(\d+)/g,i=e.match(t),o=e.match(n),a=null!==i&&void 0!==i&&i[0]?parseInt(i[0].match(r)[0]):0,c=null!==o&&void 0!==o&&o[0]?parseInt(o[0].match(r)[0]):0;return[a,c]},te=function(e,t){if(!e||!t)return 0;var n=e.split(":"),r=parseInt((null===n||void 0===n?void 0:n[0])||0),i=parseInt((null===n||void 0===n?void 0:n[1])||0),o=ee(t),a=o[0],c=o[1],s=Math.floor((c+i)/60),l=Math.floor((s+a+r)/24);return l>0?l:0},ne=function(e,t){if(!e)return"";var n=ee(t),r=e.reduce((function(e,t){if(null!==t&&void 0!==t&&t.stopInfoList&&t.stopInfoList.length>0){var n=e,r=function(){var e,r=ee(null===(e=t.stopInfoList[i])||void 0===e?void 0:e.stopCostTime);n=n.map((function(e,t){return e+r[t]}))};for(var i in t.stopInfoList)r();return n}return e}),n),i=r[0]+Math.floor(r[1]/60),o=r[1]%60;return"".concat(i>0?i+"h":"").concat(o>0?o+"m":"")},re=function(e){return!!e&&e.some((function(e){var t;return(null===e||void 0===e||null===(t=e.stops)||void 0===t?void 0:t.length)>0}))},ie=function(e){return e.every((function(e){return 1===e.segments.length&&0===e.segments[0].stops.length}))},oe={goAndReturnTextBox:"header-module_iw6Wn",imgBox:"header-module_RiYMe",goAndReturnImage:"header-module_S4xR3",BoxContainer:"header-module_XUZpk","flight-info-top":"header-module_n4IAM",stopTransit:"header-module_Imdg8",Container:"header-module_qudPR",flightIconStyle:"header-module_BMJ26",MiddleHeaderContainer:"header-module_BY7E2",shareText:"header-module_h2nDo",ShareFlightStyle:"header-module_zYe7j"},ae=function(e){var t=e.sections,n=void 0===t?[]:t,r=e.code,i=e.logoSrc,c=void 0===i?"":i,l=e.notificationInfos,u=void 0===l?[]:l,d=e.tripType,f=void 0===d?"":d,m=e.tips,p="ROUND_TRIP"===f,h=ie(n),g=(0,a.useCallback)((function(e){(0,o.showToast)({title:"".concat(e.airlineName,"\u548c").concat(e.shareAirlineName,"\u5171\u540c\u9500\u552e\uff0c\u5b9e\u9645\u4e58\u5750").concat(e.shareAirline),time:2e3})}),[]);return(0,R.jsx)(s.View,{className:oe.MiddleHeaderContainer,children:n.map((function(e,t){var i=e||{},a=i.segments,l=void 0===a?[]:a,d=i.transitDuration,f=i.duration,v=l[0]||{},y=v.departureTime,x=void 0===y?"":y,_=v.departureName,N=l[l.length-1]||{},T=N.arrivalTime,w=void 0===T?"":T,b=N.arrivalName,C=l.length-1,j=l.length>1?l[1].departureCityName:"",S=l.reduce((function(e,t){return e.concat(t.stops)}),[]),k=l.reduce((function(e,t){if(t.stopInfoList){var n=t.stopInfoList.map((function(e){return e.stopCostTime}));return e.concat(n)}return e}),[]),I=te(x,f),E=!1,P=1===n.length&&l.map((function(e){return null!==e&&void 0!==e&&e.shareAirlineName?(E=!0,{text:e.airlineName+"\u2192\u5b9e\u9645\u4e58\u5750"+e.shareAirlineName,isShare:!0,airlineName:e.airlineName,shareAirlineName:e.shareAirlineName,shareAirline:e.shareAirline}):{text:e.airlineName,isShare:!1}}));return(0,R.jsxs)(s.View,{className:oe.BoxContainer,children:[(0,R.jsx)($,{sectionsItem:e,index:t,isAllDirect:h,sections:n,notificationInfos:u,tips:m}),(0,R.jsxs)(s.View,{className:oe.Container,children:[(0,R.jsxs)(s.View,{className:(0,o.classnames)(oe.flightIconStyle,Q.flexRow),children:[!(!r&&!c)&&!p&&(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(B.Z,{className:oe.imgBox,src:c||"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+r+".png"})}),p&&(0,R.jsx)(s.View,{className:(0,o.classnames)(oe.imgBox,oe.goAndReturnTextBox),children:(0,R.jsx)(B.Z,{src:0===t?"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/go_icon.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/return_icon.png",className:oe.goAndReturnImage})})]}),(0,R.jsxs)(s.View,{className:oe["flight-info-top"],children:[(0,R.jsx)(U.Z,{Time:x,Name:_}),(0,R.jsx)(s.View,{className:oe.stopTransit,children:(0,R.jsx)(H,{transit:C>1?C:j,stops:S,transitDuration:d,stopTimes:k,isMdiileFloat:!0})}),(0,R.jsx)(U.Z,{Time:w,Name:b,isAddDay:!0,crossDateStr:"+".concat(I,"\u5929"),crossDays:I,isAddDaytoRight:!0})]})]}),E&&P&&(0,R.jsx)(s.View,{className:oe.ShareFlightStyle,children:P.map((function(e,t){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(s.View,{className:Q.flexRow,onClick:(0,o.trackFn)(t+"--63d79",(function(){return e.isShare&&g(e)})),children:[(0,R.jsx)(s.View,{className:oe.shareText,children:e.text},e.text),e.isShare&&(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(B.Z,{className:(0,o.classnames)(Q.iconfontWarning,Q.flexRow),src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/black_Icon_information.png"})})]}),t!==P.length-1&&(0,R.jsx)(s.View,{className:Q.VerticalLine})]})}))})]},t)}))})},ce=(0,a.memo)(ae),se=n(27933),le=n(82761),ue=n(53052),de=n(72546),fe={tagscontainer:"index-module_TkUv0",yesStyles:"index-module_dPUJT",moreTagstextStyle:"index-module_l8wv9",swiperContainer:"index-module_MtVL4",boxTitle:"index-module_y8Mo2",marginBottom:"index-module_VsY2r",warningStyle:"index-module_fCE0B",partStyle:"index-module_fT7PH",marginLeft:"index-module_X9_eV",greenText:"index-module_gEdku",flexRow:"index-module_J90ly",boxContainer:"index-module_GTayS"},me={titleStyle:"TransitTipsModal-module_KIFBe",mainTextStyle:"TransitTipsModal-module_mjOCm",timeStyle:"TransitTipsModal-module_VzwQa",secondaryTextStyle:"TransitTipsModal-module_yenIZ",ScrollViewStyle:"TransitTipsModal-module_V6pk8",greyboxConatiner:"TransitTipsModal-module_TH3dF",boxTitle:"TransitTipsModal-module_b2Kda",containerStyle:"TransitTipsModal-module_HyBHa",boxStyle:"TransitTipsModal-module_imPKn",pointStyle:"TransitTipsModal-module_exAxh",littleMargin:"TransitTipsModal-module_vui4k",ModaltextStyle:"TransitTipsModal-module_AfxNn",iconFontStyle:"TransitTipsModal-module_XEqld",lineStyle:"TransitTipsModal-module_snN6l",secondaryBox:"TransitTipsModal-module_g2hZx"},pe=function(e){var t=(0,_.uk)(18),n=(0,_.uk)(32),r=(0,_.uk)(36);(0,j.K4)({close:{style:{top:n,left:t,color:"#666",fontWeight:"lighter",fontSize:r},isBack:!0},title:(0,R.jsxs)(s.View,{className:me.titleStyle,children:[(0,R.jsx)(s.View,{className:me.mainTextStyle,children:e.title}),(0,R.jsxs)(s.View,{className:fe.flexRow,children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/time_icon.png",className:(0,o.classnames)(me.timeStyle)}),(0,R.jsx)(s.View,{className:me.secondaryTextStyle,children:e.subTitle})]})]}),content:(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(k.Z,{className:me.ScrollViewStyle,scrollY:!0,id:"id_c17e1",onScroll:(0,o.trackFn)("id_c17e1"),children:[(0,R.jsxs)(s.View,{className:me.greyboxConatiner,children:[(0,R.jsx)(s.View,{className:me.boxTitle,children:e.oneTypeTitle}),((null===e||void 0===e?void 0:e.advantageInfo)||[]).map((function(e,t){return(0,R.jsx)(R.Fragment,{children:(null===e||void 0===e?void 0:e.tagdesc)&&(0,R.jsxs)(s.View,{className:me.containerStyle,children:[(0,R.jsxs)(s.View,{className:me.boxStyle,children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/green_arrow.png",className:(0,o.classnames)(fe.yesStyles)}),(0,R.jsx)(s.Text,{className:(0,o.classnames)(fe.greenText,fe.littleMargin),children:null===e||void 0===e?void 0:e.tagvalue})]}),(0,R.jsx)(s.View,{className:me.ModaltextStyle,children:null===e||void 0===e?void 0:e.tagdesc})]},t)})})),((null===e||void 0===e?void 0:e.disadvantageInfo)||[]).map((function(e){return(0,R.jsxs)(s.View,{className:me.containerStyle,children:[(0,R.jsxs)(s.View,{className:me.boxStyle,children:[(0,R.jsx)(s.View,{className:me.pointStyle}),(0,R.jsx)(s.Text,{className:(0,o.classnames)(fe.partStyle,fe.littleMargin),children:e.tagvalue})]}),(0,R.jsx)(s.View,{className:me.ModaltextStyle,children:e.tagdesc})]},e.tagdesc)}))]}),(0,R.jsx)(s.View,{className:(0,o.classnames)((0,S.Z)({},me.greyboxConatiner,null===e||void 0===e?void 0:e.twoTypeTitle),fe.marginBottom),children:(null===e||void 0===e?void 0:e.twoTypeTitle)&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.View,{className:me.boxTitle,children:null===e||void 0===e?void 0:e.twoTypeTitle}),((null===e||void 0===e?void 0:e.secondaryInfoArr)||[]).map((function(t,n){return(0,R.jsxs)(s.View,{children:[(0,R.jsxs)(s.View,{className:me.secondaryBox,children:[(0,R.jsx)(s.View,{className:me.iconFontStyle,children:n+1}),(0,R.jsx)(s.View,{className:me.ModaltextStyle,children:t.tagvalue})]}),n!==e.secondaryInfoArr.length-1&&(0,R.jsx)(s.View,{className:me.lineStyle})]},n)}))]})})]})}),style:{position:"fixed",bottom:"0px",left:"0px",width:"100%",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",maxHeight:"70%"}})},he=pe,ge={dialogTextContainer:"comfortable-module_zswcC",arrowContainer:"comfortable-module_vJWS_",shadow:"comfortable-module_wZ4lz",iconfontWithLeft:"comfortable-module_Vc7ER",textStyle:"comfortable-module_edIKl",textContainer:"comfortable-module_vDqBk"},ve={"\u51c6\u70b9\u7387":3,"\u6709\u9910\u98df":2,"\u6709\u5c0f\u98df":1,"\u5927\u673a\u578b":0},ye={"\u51c6\u70b9\u7387\u9ad8":["\u8be5\u822a\u73ed","\u51c6\u65f6\u5230\u8fbe\u66f4\u653e\u5fc3"],"\u6709\u9910\u98df":["\u8be5\u822a\u73ed","\u98de\u673a\u4e0a\u7f8e\u7f8e\u5403\u4e00\u987f"],"\u5927\u673a\u578b":["\u4f60\u9009\u5230\u4e86","\u5ea7\u4f4d\u5bbd\u655e\u53ef\u9163\u7761"],"\u6709\u5c0f\u98df":["\u8be5\u822a\u73ed","\u98de\u673a\u4e0a\u4e5f\u80fd\u5403\u4e00\u987f"]},xe=function(e,t,n){return(0,R.jsxs)(s.View,{className:ge.textContainer,children:[(0,R.jsx)(s.Text,{className:ge.textStyle,children:t||"\u8be5\u822a\u73ed"}),e&&(0,R.jsx)(s.Text,{className:fe.greenText,children:e}),n&&(0,R.jsx)(s.Text,{className:ge.textStyle,children:n})]})},_e=function(e,t){var n,r,i=t||(null===(n=ye[e])||void 0===n?void 0:n[0]),o=null===(r=ye[e])||void 0===r?void 0:r[1];return xe(e,i,o)},Ne=function(e,t){var n=e.sectionFlagData,r=e.value,i=n&&Object.keys(n).sort((function(e,t){return ve[e]-ve[t]})).slice(0,2)||[];if(1===i.length)return(0,R.jsxs)(s.View,{className:fe.tagscontainer,children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/green_arrow.png",className:fe.yesStyles}),_e(i[0],r)]});if(i.length>=2){var o=i.slice(0,2).reverse();return t(o,r)}return(0,R.jsx)(s.View,{className:fe.tagscontainer,children:xe(void 0,"\u70b9\u51fb\u67e5\u770b\u673a\u8231\u5185\u8bbe\u65bd\u3001\u5ea7\u4f4d\u7b49",void 0)})},Te=function(e){var t=e.renderObj,n=e.handleMoreTags;return(0,a.useEffect)((function(){(0,y.jq)("S_FLT_xcx_N_middle_Comfort_button")}),[]),(0,R.jsxs)(s.SwiperItem,{children:[(0,R.jsx)(s.View,{className:(0,o.classnames)(ge.dialogTextContainer,fe.flexRow),children:Ne(t,n)}),(0,R.jsxs)(s.View,{className:ge.arrowContainer,children:[(0,R.jsx)(s.View,{className:ge.shadow}),(0,R.jsx)(s.View,{className:"iconfont-h5 icon-arrow-right ".concat(ge.iconfontWithLeft," ").concat(fe.flexRow)})]})]})},we=Te,be=["\u822a\u53d8\u65e0\u5fe7","\u4ef7\u683c\u4fdd\u969c"],Ce={advantageInfo:"\u4e2d\u8f6c\u53ef\u4eab",disadvantageInfo:"\u4e2d\u8f6c\u63d0\u793a"},je=function(e){var t=e.transitTabInfoObj,n=e.isRoundAndTransit,r=e.handleMoreTags;return(0,a.useEffect)((function(){(n||t&&t.advantageInfo&&0!==t.advantageInfo.length)&&(0,y.jq)("S_FLT_xcx_N_middle_Transitguide_button")})),n?(0,R.jsx)(s.SwiperItem,{children:(0,R.jsxs)(s.View,{className:fe.boxContainer,children:[(0,R.jsx)(s.View,{className:(0,o.classnames)(ge.dialogTextContainer,fe.flexRow),children:r(be,"\u4e2d\u8f6c\u53ef\u4eab")}),(0,R.jsxs)(s.View,{className:ge.arrowContainer,children:[(0,R.jsx)(s.View,{className:ge.shadow}),(0,R.jsx)(s.View,{className:"iconfont-h5 icon-arrow-right ".concat(ge.iconfontWithLeft," ").concat(ge.flexRow)})]})]})}):t&&t.advantageInfo&&0!==t.advantageInfo.length?Object.keys(t).sort((function(e){return"advantageInfo"===e?-1:1})).map((function(e){if(!["advantageInfo","disadvantageInfo"].includes(e))return null;var n=t[e].map((function(e){return e.tagvalue})).slice(0,2);return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(s.SwiperItem,{children:(0,R.jsxs)(s.View,{children:[(0,R.jsx)(s.View,{className:(0,o.classnames)(ge.dialogTextContainer,fe.flexRow),children:r(n,Ce[e])}),(0,R.jsxs)(s.View,{className:ge.arrowContainer,children:[(0,R.jsx)(s.View,{className:ge.shadow}),(0,R.jsx)(s.View,{className:"iconfont-h5 icon-arrow-right ".concat(ge.iconfontWithLeft," ").concat(fe.flexRow)})]})]})},e)})})):null},Se=je,ke={"\u6709\u9910\u98df":"\u98de\u673a\u4e0a\u6709\u9910\u98df","\u51c6\u70b9\u7387\u9ad8":"\u5230\u8fbe\u51c6\u70b9\u7387\u9ad8","\u5927\u673a\u578b":"\u5927\u673a\u578b\u5ea7\u4f4d\u5bbd\u655e","\u6709\u5c0f\u98df":"\u98de\u673a\u4e0a\u6709\u5c0f\u98df"},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,R.jsx)(s.View,{className:(0,o.classnames)(fe.tagscontainer),children:e.map((function(e,n){return(0,R.jsxs)(R.Fragment,{children:["\u4e2d\u8f6c\u63d0\u793a"!==t&&0===n&&(0,R.jsx)(s.Text,{className:"".concat("\u90e8\u5206\u884c\u7a0b"===t?fe.partStyle:fe.moreTagstextStyle),children:t}),"\u4e2d\u8f6c\u63d0\u793a"===t&&0===n&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/Icon_information.png",className:(0,o.classnames)(fe.yesStyles)}),(0,R.jsx)(s.Text,{className:fe.warningStyle,children:t})]}),(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/green_arrow.png",className:(0,o.classnames)(fe.yesStyles,(0,S.Z)({},fe.marginLeft,1===n))}),(0,R.jsx)(s.Text,{className:fe.greenText,children:["\u4e2d\u8f6c\u53ef\u4eab","\u4e2d\u8f6c\u63d0\u793a","\u90e8\u5206\u884c\u7a0b"].includes(t)?e:ke[e]})]})}))})},Ee=function(e){var t=e.sections,n=e.renderObj,r=e.transitTabInfoObj,i=e.tips,c=(0,a.useMemo)((function(){var e;return t.length>1||(null===t||void 0===t||null===(e=t[0].segments)||void 0===e?void 0:e.length)>1}),[t]),l=(0,a.useMemo)((function(){var e,n;return t.length>1&&((null===t||void 0===t||null===(e=t[0].segments)||void 0===e?void 0:e.length)>1||(null===t||void 0===t||null===(n=t[1].segments)||void 0===n?void 0:n.length)>1)}),[t]),u=(0,K.x4)(null===t||void 0===t?void 0:t[0].transitTags),d=(0,a.useRef)(0),f=(0,a.useCallback)((function(){if((0,y.jq)("openComfort"),c){var e=t.reduce((function(e,t){var n=t.segments.map((function(e){return{arrivalCityName:e.arrivalCityName,departureCityName:e.departureCityName,comfortPopupLink:encodeURIComponent(e.comfortPopupLink)}}));return e.concat(n)}),[]),n={fat:"m.ctrip.fat33.qa.nt.ctripcorp.com",prd:"m.ctrip.com"}[(0,le.i)()],r=(0,ue.Nv)({url:"https://"+n+"/html5/flight/taro/comfortPage",query:{flightData:JSON.stringify(e)}});(0,de.G)(r,{url:encodeURIComponent(r)})}else(0,K.cL)(null===t||void 0===t?void 0:t[0])}),[c,t]),m=function(e){d.current=e.detail.current},p=function(){0===d.current?((0,y.jq)("C_FLT_xcx_N_middle_Comfort_button"),f()):((0,y.jq)("C_FLT_xcx_N_middle_Transitguide_button"),l?(0,se.C)({name:"\u4e2d\u8f6c/\u9884\u8ba2\u63d0\u793a",transitTips:u,tips:i,isTransitValue:!0}):he(r))};return(0,R.jsx)(s.View,{onClick:(0,o.trackFn)("onClick--5cb9d",(function(){return p()})),children:(0,R.jsxs)(s.Swiper,{className:fe.swiperContainer,vertical:!0,circular:!0,snapToEdge:!0,autoplay:!0,interval:2e3,onChange:m,children:[(0,R.jsx)(we,{renderObj:n,handleMoreTags:Ie}),(0,R.jsx)(Se,{isRoundAndTransit:l,transitTabInfoObj:r,handleMoreTags:Ie})]})})},Pe=Ee,Le={imageContainer:"dialogImage-module_cT79T",dialogContainer:"dialogImage-module_VpVjK",dialogImage:"dialogImage-module_WmHD7",imgBox:"dialogImage-module_b05d9",penguinImage:"dialogImage-module_oPARB"},Ve=function(e){if(1===e.length||JSON.stringify(e[0])===JSON.stringify(e[1]))return{sectionFlagData:e[0]};if(Object.keys(e[0]).length&&!Object.keys(e[1]).length)return{sectionFlagData:e[0],value:"\u53bb\u7a0b"};if(Object.keys(e[1]).length&&!Object.keys(e[0]).length)return{sectionFlagData:e[1],value:"\u8fd4\u7a0b"};var t=(0,i.Z)((0,i.Z)({},e[0]),e[1]);return{sectionFlagData:t,value:"\u90e8\u5206\u884c\u7a0b"}},Oe=function(e){var t=e.map((function(e){var t={};return e.segments.forEach((function(e){var n=e.flightTags,r=void 0===n?{}:n;r.IN_TIME&&(t["\u51c6\u70b9\u7387\u9ad8"]=t["\u51c6\u70b9\u7387\u9ad8"]?t["\u51c6\u70b9\u7387\u9ad8"]+1:1),"\u6709\u9910\u98df"===r.MEAT&&(t["\u6709\u9910\u98df"]=t["\u6709\u9910\u98df"]?t["\u6709\u9910\u98df"]+1:1),"\u5927\u673a\u578b"===r.CRAFT&&(t["\u5927\u673a\u578b"]=t["\u5927\u673a\u578b"]?t["\u5927\u673a\u578b"]+1:1),"\u6709\u5c0f\u98df"===r.MEAT&&(t["\u6709\u5c0f\u98df"]=t["\u6709\u5c0f\u98df"]?t["\u6709\u5c0f\u98df"]+1:1)})),t}));return t},Ae=function(e){var t=e.sections,n=void 0===t?[]:t,r=e.transitTipsInfo,i=void 0===r?[]:r,o=e.tips,c=(0,a.useMemo)((function(){var e,t,n=i.reduce((function(e,t){var n;e.title||(e.title=t.title),e.subTitle||(e.subTitle=t.subTitle);var r=null===t||void 0===t||null===(n=t.transitTipsDetailInfo)||void 0===n?void 0:n.infos;if(r)for(var i in r){var o,a=r[i]||{};if(1===Number(a.type))e.oneTypeTitle||(e.oneTypeTitle=a.title),null===(o=a.tagsinfo)||void 0===o||o.forEach((function(t){1===Number(t.tagcolor)&&(e.advantageInfo=[].concat((0,G.Z)(e.advantageInfo||[]),[t])),2===Number(t.tagcolor)&&(e.disadvantageInfo=[].concat((0,G.Z)(e.disadvantageInfo||[]),[t]))}));else 2===Number(a.type)&&(e.twoTypeTitle||(e.twoTypeTitle=a.title),e.secondaryInfoArr=[].concat((0,G.Z)(e.secondaryInfoArr||[]),(0,G.Z)(a.tagsinfo||[])))}return e}),{});return(null===n||void 0===n||null===(e=n.advantageInfo)||void 0===e||!e.length)&&(null===n||void 0===n||null===(t=n.disadvantageInfo)||void 0===t?void 0:t.length)>0&&(n.advantageInfo=[{tagvalue:"\u4ef7\u683c\u4fdd\u969c",tagcolor:"1"},{tagvalue:"\u51fa\u884c\u65e0\u5fe7",tagcolor:"1"}]),n}),[i]),l=Oe(n),u=Ve(l);return n.length?(0,R.jsxs)(s.View,{className:Le.imageContainer,children:[(0,R.jsxs)(s.View,{className:Le.dialogContainer,children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-others/dialog-image.png",className:Le.dialogImage}),(0,R.jsx)(Pe,{renderObj:u,sections:n,transitTabInfoObj:c,tips:o})]}),(0,R.jsx)(s.View,{className:Le.imgBox,children:(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/white_yoyo_icon.png",className:Le.penguinImage})})]}):null},Re=Ae,De=function(e){var t=e.code,n=void 0===t?"":t,c=e.searchKey,u=void 0===c?"":c,f=e.price,m=void 0===f?0:f,p=e.closeMiddleModal,h=(0,l.C)((function(e){var t;return null===e||void 0===e||null===(t=e.tripType)||void 0===t?void 0:t.value})),g=(0,l.C)((function(e){var t;return null===e||void 0===e||null===(t=e.departure)||void 0===t?void 0:t.cabin})),v=(0,l.C)((function(e){return e.arrival.cabin})),x=(0,l.C)(L.c7),_="ONE_WAY"===h?[g]:[g,v],N=(0,l.C)(d.P),T=(0,a.useState)(!1),w=(0,r.Z)(T,2),C=w[0],j=w[1],A=(0,E.R2)(),D=A.bottom,B=void 0===D?0:D;return(0,a.useEffect)((function(){(0,y.ff)("S_FLT_xcx_middle_float")}),[]),setTimeout((function(){j(!0)}),100),(0,R.jsx)(F.Z,{tripType:h,price:m,middleParams:{data:(0,i.Z)((0,i.Z)({},N),{},{searchKey:decodeURIComponent(u)}),extension:(0,I.nE)(_)},children:function(e){var t=e.isFetching,r=e.isError,i=e.notificationInfos,a=e.sections,c=e.transitTipsInfo,l=e.tips,u=e.policies,d=e.refetch,f=e.logoSrc,m=e.fastTransNotes;if(t)return(0,R.jsx)(Z,{});if(r||null===u||void 0===u||!u.length){var g=r?"ERROR":"NO_RESULT";return(0,R.jsx)(b.Z,{state:g})}return(0,R.jsxs)(s.View,{className:M.MiddleFloaterPageNew,style:{paddingBottom:"".concat(x?B:B+70,"px")},id:"middle-floater-page",catchMove:!0,children:[(0,R.jsx)(k.Z,{scrollY:!0,className:(0,o.classnames)(M.middleFloaterWrapper,(0,S.Z)({},M.realHeight,C||!t)),id:"middle-floater-page_id_e4265",onScroll:(0,o.trackFn)("middle-floater-page_id_e4265"),children:(0,R.jsxs)(s.View,{className:"".concat(x?M.modalBottom:M.smallModalBottom," ").concat(M.MiddleContainer),children:[(0,R.jsx)(ce,{sections:a,code:n,notificationInfos:i,tripType:h,logoSrc:f,tips:l}),(0,R.jsx)(Re,{sections:a,transitTipsInfo:c,tips:l}),(0,R.jsx)(O.Z,{policies:u,flights:a,cabinClasses:_,refetch:d,newPolicyVersion:!1,isMiddleFloatLayer:!0})]})}),(0,R.jsx)(P.Z,{userId:x,refetch:d}),(0,R.jsx)(V.g,{notes:m,closeMiddleModal:p})]})}})},Ze=(0,a.memo)(De),Fe={floatBox:"ArrowCompontOne-module_sSHcr",transitBox:"ArrowCompontOne-module_Njfv7",floatText:"ArrowCompontOne-module_Iu1eu",columnBox:"ArrowCompontOne-module_LOlSc",floatImageStyle:"ArrowCompontOne-module_hZPNO",pFloatText:"ArrowCompontOne-module_jM2qs",directWidth:"ArrowCompontOne-module_w1s9b",TextBox:"ArrowCompontOne-module_mZKaF",TextStyle:"ArrowCompontOne-module_Db2FC",marginBottom:"ArrowCompontOne-module_CjRvI",AddStyle:"ArrowCompontOne-module_qCzdv"},Me=function(e){var t=e.isStop,n=e.isTransit,r=e.totalTransitAndStopTime,i=e.arrivalTime,c=e.departureTime,l=e.duration,u=(0,a.useMemo)((function(){return[{isTrue:t&&n,imageSrc:"https://pages.c-ctrip.com/flight_h5/tinyapp/middle/transit_and_stop_arrow.png",TextValue:"\u8f6c+\u505c"},{isTrue:t&&!n,imageSrc:"https://pages.c-ctrip.com/flight_h5/tinyapp/middle/stop_arrow.png",TextValue:"\u7ecf\u505c"},{isTrue:!t&&n,imageSrc:"https://pages.c-ctrip.com/flight_h5/tinyapp/middle/transit_arrow.png",TextValue:"\u8f6c"},{isTrue:!t&&!n,imageSrc:"https://pages.c-ctrip.com/flight_h5/tinyapp/middle/arrow.png",extrnalClassname:Fe.directWidth}]}),[t,n]),d=u.find((function(e){return e.isTrue})),f=te(c,l);return d?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.View,{className:(0,o.classnames)(Fe.floatBox,null===d||void 0===d?void 0:d.extrnalClassname,(0,S.Z)({},Fe.marginBottom,null===d||void 0===d?void 0:d.extrnalClassname)),children:(0,R.jsxs)(s.View,{className:Fe.columnBox,children:[d.TextValue&&(0,R.jsx)(s.View,{className:Fe.floatText,children:r}),(0,R.jsxs)(s.View,{className:Fe.transitBox,children:[(0,R.jsx)(B.Z,{src:d.imageSrc,className:(0,o.classnames)(Fe.floatImageStyle,null===d||void 0===d?void 0:d.extrnalClassname)}),d.TextValue&&(0,R.jsx)(s.View,{className:Fe.pFloatText,children:d.TextValue})]})]})}),(0,R.jsxs)(s.View,{className:Fe.TextBox,children:[(0,R.jsx)(s.View,{className:Fe.TextStyle,children:i}),f>0&&(0,R.jsx)(s.View,{className:Fe.AddStyle,children:"+".concat(f)})]})]}):null},Be=(0,a.memo)(Me),Ue={TextStyle:"topOne-module_VWnQr",imageStyle:"topOne-module_pbQDL",marginLeft:"topOne-module_SJe5Y",TextContainer:"topOne-module_wTSQV",goAndReturnTextBox:"topOne-module_CAzV9",goAndReturnText:"topOne-module_I6KJl",topBox:"topOne-module_Bv9Mn",goAndReturnTextContainer:"topOne-module_iHTOn",marginBottom:"topOne-module_z7mvM"},qe=function(e){var t=e.sections,n=void 0===t?[]:t,r=e.tripType,i=void 0===r?"":r,a="ROUND_TRIP"===i;return(0,R.jsx)(s.View,{children:n.map((function(e,t){if(!(t>2)){var n=e||{},r=n.date,i=void 0===r?"":r,c=n.segments,l=void 0===c?[]:c,u=n.transitDuration,d=n.duration,f=l[0]||{},m=f.departureTime,p=void 0===m?"":m,h=l[l.length-1]||{},g=h.arrivalTime,v=void 0===g?"":g,y=l.length>1,x=i+" "+p,_=ne(l,u),N=re(l);return(0,R.jsxs)(s.View,{className:(0,o.classnames)(Ue.topBox,Ue.marginBottom),children:[a&&(0,R.jsx)(s.View,{className:Ue.goAndReturnTextContainer,children:(0,R.jsx)(s.View,{className:(0,o.classnames)(Ue.goAndReturnTextBox),children:(0,R.jsx)(s.Text,{className:Ue.goAndReturnText,children:0===t?"\u53bb":"\u8fd4"})})}),(0,R.jsx)(s.Text,{className:Ue.TextStyle,children:x}),(0,R.jsx)(Be,{isStop:N,isTransit:y,totalTransitAndStopTime:_,arrivalTime:v,departureTime:p,duration:d})]},i)}}))})},Ye=(0,a.memo)(qe),He={mariginLeft:"headerOne-module_XzQhJ",MiddleHeaderContainer:"headerOne-module_c29_d",imgBox:"headerOne-module_vc4cB",containerStyles:"headerOne-module_YRmgR",timeStyles:"headerOne-module_Gyr1l",flightDetail:"headerOne-module_eURZB",iconfont:"headerOne-module_hDqNu",tipsStyles:"headerOne-module_L43iC",VerticalLine:"headerOne-module_nN_9Y",iconfontWarning:"headerOne-module_u436K",iconfontWithLeft:"headerOne-module_jL8Ah",TextGrayStyles:"headerOne-module_WgNVf",TravelContainer:"headerOne-module_q824W",textBox:"headerOne-module_w5tt3"},Ge=function(e){var t,n=e.sections,i=void 0===n?[]:n,c=e.code,l=e.logoSrc,u=void 0===l?"":l,d=e.notificationInfos,f=void 0===d?[]:d,m=e.tripType,p=void 0===m?"":m,h=e.tips,g=e.isMiddleFloatLayer,v=(0,K.x4)(null===i||void 0===i?void 0:i[0].transitTags),x=(0,a.useMemo)((function(){var e=o.R.filter((function(e){return e.contentRank<=3&&"ANN"===e.category}),f);return o.R.sort((function(e,t){return e.contentRank-t.contentRank}),e)}),[f]),_=(0,a.useCallback)((function(){(0,z.RK)({sections:i,page:"MIDDLE",isMiddleFloatLayer:g}),(0,y.ff)("C_FLT_xcx_N_middle_flightinfo_button")}),[g,i]),N="ROUND_TRIP"===p,T=N?i.reduce((function(e,t){var n=ee(e),i=(0,r.Z)(n,2),o=i[0],a=i[1],c=ee(t.duration),s=(0,r.Z)(c,2),l=s[0],u=s[1],d=Math.floor((u+a)/60),f=(u+a)%60;return"".concat(d+l+o,"h").concat(f,"m")}),"0h0m"):null===(t=i[0])||void 0===t?void 0:t.duration,w="\u603b\u65f6\u957f".concat(T),b=(0,K.uM)(i),C=(0,K.gl)(i),j=h&&h.length>0,k=(0,a.useMemo)((function(){return b?"\u4e2d\u8f6c/\u9884\u8ba2\u63d0\u793a":j?"\u9884\u8ba2\u63d0\u793a":""}),[j,b]);(0,a.useEffect)((function(){k&&(0,y.ff)("S_FLT_xcx_middle_float_Bookingreminder")}),[k]);var I=(0,a.useCallback)((function(){(0,y.ff)("C_FLT_xcx_N_middle_tripreminder_button"),(0,W.P)(x,!0,!0)}),[x]);if(!i||!i.length)return null;var E=function(){(0,y.ff)("C_FLT_xcx_N_middle_Bookingreminder_button"),(0,se.C)({name:k,transitTips:v,tips:h,isTransitValue:b})};return(0,R.jsxs)(s.View,{className:He.MiddleHeaderContainer,id:"middle-floater-header",children:[!(!c&&!u)&&!N&&(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(B.Z,{className:He.imgBox,src:u||"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+c+".png"})}),(0,R.jsxs)(s.View,{className:(0,o.classnames)(He.containerStyles,(0,S.Z)({},He.mariginLeft,N)),children:[(0,R.jsxs)(s.View,{className:He.timeStyles,children:[(0,R.jsx)(Ye,{sections:i,tripType:p}),(0,R.jsxs)(s.View,{className:He.flightDetail,onClick:(0,o.trackFn)("middle-floater-header--flightDetailClick--a34c6",_),"data-testid":"flight-detail-click",children:[(0,R.jsx)(s.View,{className:He.TextGrayStyles,children:"\u822a\u73ed\u8be6\u60c5"}),(0,R.jsx)(s.View,{className:"iconfont-h5 icon-arrow-right ".concat(He.iconfontWithLeft)})]})]}),(0,R.jsxs)(s.View,{className:He.tipsStyles,children:[!!C&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.View,{className:He.TextGrayStyles,children:"\u505c".concat(C,"\u6b21")}),(0,R.jsx)(s.View,{className:He.VerticalLine})]}),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.View,{className:He.TextGrayStyles,children:w}),(k||!(null===x||void 0===x||!x.length))&&(0,R.jsx)(s.View,{className:He.VerticalLine})]}),k&&(0,R.jsxs)(s.View,{className:He.textBox,onClick:(0,o.trackFn)("middle-floater-header--bookingTipsFn--709dd",E),"data-testid":"booking-tips-fn",children:[(0,R.jsx)(s.View,{className:He.TextGrayStyles,children:k}),(0,R.jsx)(s.View,{className:"iconfont-h5 icon-arrow-right ".concat(He.iconfontWithLeft)}),!(null===x||void 0===x||!x.length)&&(0,R.jsx)(s.View,{className:He.VerticalLine})]}),!(null===x||void 0===x||!x.length)&&(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(s.View,{className:He.TravelContainer,onClick:(0,o.trackFn)("middle-floater-header--goOutTipsClick--76531",I),"data-testid":"go-out-tips-click",children:[(0,R.jsx)(B.Z,{className:He.iconfontWarning,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-others/green-tip-icon.png"}),(0,R.jsx)(s.View,{className:He.TextGrayStyles,children:"\u51fa\u884c\u63d0\u9192"}),(0,R.jsx)(s.View,{className:"iconfont-h5 icon-arrow-right ".concat(He.iconfontWithLeft)})]})})]})]})]})},We=(0,a.memo)(Ge),ze=n(95277),Ke={imageContainer:"dialogImageOne-module_aHQqu","imageContainer-pop":"dialogImageOne-module__Mxde","imageContainer-swiper":"dialogImageOne-module_zwenh","pop-text":"dialogImageOne-module_a8aPA","text-area":"dialogImageOne-module_rRjtv","common-content":"dialogImageOne-module_lqKGl",penguinImage:"dialogImageOne-module_NKb8J",dialogContainer:"dialogImageOne-module_NJ54F",dialogImage:"dialogImageOne-module_p3ZKM",singleTagscontainer:"dialogImageOne-module_MS6oY",yesStyles:"dialogImageOne-module_AY069",textContainer:"dialogImageOne-module_QnDty",marginLeft:"dialogImageOne-module_cNRRs",dialogTextContainer:"dialogImageOne-module_zDHCV",greenText:"dialogImageOne-module_kKl6N",textStyle:"dialogImageOne-module_qpXEs",partStyle:"dialogImageOne-module_a7ZzL",shadow:"dialogImageOne-module_LWszK",imgBox:"dialogImageOne-module_pSJV_"},Qe={"\u6709\u9910\u98df":"\u98de\u673a\u4e0a\u6709\u9910\u98df","\u51c6\u70b9\u7387\u9ad8":"\u5230\u8fbe\u51c6\u70b9\u7387\u9ad8","\u5927\u673a\u578b":"\u5927\u673a\u578b\u5ea7\u4f4d\u5bbd\u655e","\u6709\u5c0f\u98df":"\u98de\u673a\u4e0a\u6709\u5c0f\u98df"},Je={"\u51c6\u70b9\u7387\u9ad8":["\u8be5\u822a\u73ed","\u51c6\u65f6\u5230\u8fbe\u66f4\u653e\u5fc3"],"\u6709\u9910\u98df":["\u8be5\u822a\u73ed","\u98de\u673a\u4e0a\u7f8e\u7f8e\u5403\u4e00\u987f"],"\u5927\u673a\u578b":["\u4f60\u9009\u5230\u4e86","\u5ea7\u4f4d\u5bbd\u655e\u53ef\u9163\u7761"],"\u6709\u5c0f\u98df":["\u8be5\u822a\u73ed","\u98de\u673a\u4e0a\u4e5f\u80fd\u5403\u4e00\u987f"]},Xe={"\u51c6\u70b9\u7387":3,"\u6709\u9910\u98df":2,"\u6709\u5c0f\u98df":1,"\u5927\u673a\u578b":0},$e=function(e,t,n){return(0,R.jsxs)(s.View,{className:Ke.textContainer,children:[(0,R.jsx)(s.Text,{className:Ke.textStyle,children:t||"\u8be5\u822a\u73ed"}),(0,R.jsx)(s.Text,{className:Ke.greenText,children:e}),(0,R.jsx)(s.Text,{className:Ke.textStyle,children:n})]})},et=function(e,t){var n,r,i=t||(null===(n=Je[e])||void 0===n?void 0:n[0]),o=null===(r=Je[e])||void 0===r?void 0:r[1];return $e(e,i,o)},tt=function(e,t){return(0,R.jsx)(s.View,{className:Ke.singleTagscontainer,children:e.reverse().map((function(e,n){return(0,R.jsxs)(R.Fragment,{children:[t&&0===n&&(0,R.jsx)(s.Text,{className:"".concat("\u90e8\u5206\u884c\u7a0b"===t?Ke.partStyle:Ke.textStyle),children:t}),(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-others/icon_yes.png",className:(0,o.classnames)(Ke.yesStyles,(0,S.Z)({},Ke.marginLeft,1===n))}),(0,R.jsx)(s.Text,{className:Ke.greenText,children:"\u90e8\u5206\u884c\u7a0b"===t?e:Qe[e]})]})}))})},nt=function(e){var t=e.sectionFlagData,n=e.content,r=e.value;if(n){var i=(0,ze.Z)(n);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.View,{className:Ke["common-content"],dangerouslySetInnerHTML:{__html:i}}),(0,R.jsx)(s.Text,{className:"iconfont-h5 icon-help-circle"})]})}var o=t&&Object.keys(t).sort((function(e,t){return Xe[e]-Xe[t]})).slice(0,2)||[];if(1===o.length)return(0,R.jsxs)(s.View,{className:Ke.singleTagscontainer,children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/servicePackage/sp-yes.png",className:Ke.yesStyles}),et(o[0],r)]});if(o.length>=2){var a=o.slice(0,2);return tt(a,r)}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){var t={};return e.segments.forEach((function(e){var n=e.flightTags,r=void 0===n?{}:n;r.IN_TIME&&(t["\u51c6\u70b9\u7387\u9ad8"]=t["\u51c6\u70b9\u7387\u9ad8"]?t["\u51c6\u70b9\u7387\u9ad8"]+1:1),"\u6709\u9910\u98df"===r.MEAT&&(t["\u6709\u9910\u98df"]=t["\u6709\u9910\u98df"]?t["\u6709\u9910\u98df"]+1:1),"\u5927\u673a\u578b"===r.CRAFT&&(t["\u5927\u673a\u578b"]=t["\u5927\u673a\u578b"]?t["\u5927\u673a\u578b"]+1:1),"\u6709\u5c0f\u98df"===r.MEAT&&(t["\u6709\u5c0f\u98df"]=t["\u6709\u5c0f\u98df"]?t["\u6709\u5c0f\u98df"]+1:1)})),t}));return t},it=function(e){if(1===Object.keys(e).length)return{sectionFlagData:e[0]};if(JSON.stringify(e[0])===JSON.stringify(e[1]))return{sectionFlagData:e[0]};if(0!==Object.keys(e[0]).length&&0===Object.keys(e[1]).length)return{sectionFlagData:e[0],value:"\u53bb\u7a0b"};if(0!==Object.keys(e[1]).length&&0===Object.keys(e[0]).length)return{sectionFlagData:e[1],value:"\u8fd4\u7a0b"};var t=(0,i.Z)((0,i.Z)({},e[0]),e[1]);return{sectionFlagData:t,value:"\u90e8\u5206\u884c\u7a0b"}},ot=function(e){var t=e.sections;if(!t&&!t.length)return null;var n=rt(t),r=it(n),i=[r];return null!==n&&void 0!==n&&n[0]&&0!==Object.keys(null===n||void 0===n?void 0:n[0]).length||null!==n&&void 0!==n&&n[1]&&0!==Object.keys(null===n||void 0===n?void 0:n[1]).length?(0,R.jsxs)(s.View,{className:Ke.imageContainer,id:"dialog-image",children:[(null===i||void 0===i?void 0:i.length)&&(0,R.jsxs)(s.View,{className:Ke.dialogContainer,children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-others/dialog-image.png",className:Ke.dialogImage}),(0,R.jsx)(s.View,{className:Ke.dialogTextContainer,children:nt(i[0])})]}),(0,R.jsxs)(s.View,{className:Ke.imgBox,children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/youNew.png",className:Ke.penguinImage}),(0,R.jsx)(s.View,{className:Ke.shadow})]})]}):null},at=ot,ct=function(e){var t=e.code,n=void 0===t?"":t,c=e.searchKey,u=void 0===c?"":c,f=e.price,m=void 0===f?0:f,p=e.closeMiddleModal,h=(0,l.C)((function(e){var t;return null===e||void 0===e||null===(t=e.tripType)||void 0===t?void 0:t.value})),g=(0,l.C)((function(e){var t;return null===e||void 0===e||null===(t=e.departure)||void 0===t?void 0:t.cabin})),v=(0,l.C)((function(e){return e.arrival.cabin})),x=(0,l.C)(L.c7),_="ONE_WAY"===h?[g]:[g,v],N=(0,l.C)(d.P),T=(0,a.useState)(!1),w=(0,r.Z)(T,2),C=w[0],j=w[1],A=(0,E.R2)(),D=A.bottom,B=void 0===D?0:D;return(0,a.useEffect)((function(){(0,y.ff)("S_FLT_xcx_middle_float")}),[]),setTimeout((function(){j(!0)}),100),(0,R.jsx)(F.Z,{tripType:h,price:m,middleParams:{data:(0,i.Z)((0,i.Z)({},N),{},{searchKey:decodeURIComponent(u)}),extension:(0,I.nE)(_)},children:function(e){var t=e.isFetching,r=e.isError,i=e.notificationInfos,a=e.sections,c=e.tips,l=e.policies,u=e.refetch,d=e.logoSrc,f=e.fastTransNotes;if(t)return(0,R.jsx)(Z,{});if(r||null===l||void 0===l||!l.length){var m=r?"ERROR":"NO_RESULT";return(0,R.jsx)(b.Z,{state:m})}return(0,R.jsxs)(s.View,{className:M.MiddleFloaterPageNew,style:{paddingBottom:"".concat(x?B:B+70,"px")},id:"middle-floater-page",children:[(0,R.jsx)(k.Z,{scrollY:!0,className:(0,o.classnames)(M.middleFloaterWrapper,(0,S.Z)({},M.realHeight,C||!t)),id:"middle-floater-page_id_e4265",onScroll:(0,o.trackFn)("middle-floater-page_id_e4265"),children:(0,R.jsx)(s.View,{className:"".concat(x?M.modalBottom:M.smallModalBottom),children:(0,R.jsxs)(s.View,{className:M.MiddleContainer,children:[(0,R.jsx)(s.View,{className:M.HeaderBackground}),(0,R.jsx)(We,{sections:a,code:n,notificationInfos:i,tripType:h,logoSrc:d,tips:c,isMiddleFloatLayer:!0}),(0,R.jsx)(at,{sections:a}),(0,R.jsx)(O.Z,{policies:l,flights:a,cabinClasses:_,refetch:u,newPolicyVersion:!1,isMiddleFloatLayer:!0})]})})}),(0,R.jsx)(P.Z,{userId:x,refetch:u}),(0,R.jsx)(V.g,{notes:f,closeMiddleModal:p})]})}})},st=(0,a.memo)(ct),lt=function(e,t){(0,y.ff)("S_FLT_N_H5_InputPage_Fwb_Pageup");var n=function(){(0,y.ff)("C_FLT_xcx_N_middle_Closebutton_button")},r=function(){(0,y.ff)("C_FLT_xcx_N_middle_Maskclick_button")},o=function(){(0,j.Mr)(l)},a=(0,_.uk)(40),c=(0,_.uk)(-60),s=(0,_.uk)(24),l=(0,j.K4)({close:{position:"top-left",style:{width:a,height:a,top:c,borderRadius:"50%",border:"1px solid #fff",left:s},callback:n},mask:{enableClose:!0,callback:r},className:"MiddleFloatLayer",content:t?(0,R.jsx)(Ze,(0,i.Z)((0,i.Z)({},e),{},{closeMiddleModal:o})):(0,R.jsx)(st,(0,i.Z)((0,i.Z)({},e),{},{closeMiddleModal:o})),style:{position:"absolute",bottom:0,width:"100%",padding:0,zIndex:10,background:"#F5F7F7",borderBottomLeftRadius:0,borderBottomRightRadius:0}});return!0},ut=lt,dt=n(13896),ft=n(93212),mt=n(99531),pt=n(5644),ht=n(90983),gt=function(e){return e["DEPATURE_AIRPORT"]="DEPATURE_AIRPORT",e["ARRIVAL_AIRPORT"]="ARRIVAL_AIRPORT",e["CABIN"]="CABIN",e["AIRLINE"]="AIRLINE",e["DEPARTURE_TIME"]="DEPARTURE_TIME",e["TRANSIT_CITY"]="TRANSIT_CITY",e["FEATURED"]="FEATURED",e}({}),vt={FilterModal:"Filter-module_ySYZ6","side-tab":"Filter-module_fkif1","side-tab-item":"Filter-module_E2Ysq",active:"Filter-module_h9lOl",hasfilter:"Filter-module_m3zba","right-content":"Filter-module_yYGHu","right-content-scroll":"Filter-module_PTEIg",airport:"Filter-module_lsPO2","filter-selection":"Filter-module_ds2wa","iconfont-h5":"Filter-module_BlCVq",selected:"Filter-module_P37qK",disabled:"Filter-module_MPH3P",bottomBtn:"Filter-module_O4NWl",confirmBtn:"Filter-module_kla9w",noResult:"Filter-module_xacWO"};function yt(e){var t=e.dispatch,n=e.data,r=e.type,i=(0,c.useRouter)(),a=i.params.enforceFilter,l=a&&Number(a),u=function(e,n,i,a){e||("CABIN"===r||"\u4e0d\u9650"===i)&&a||(0,mt.jq)("c_flt_".concat(r.toLowerCase(),"_").concat(a?"cancel":"check"),{name:i});var c=(0,pt.Pr)()&&r===gt.CABIN&&l&&n.indexOf("\u8231")>-1;if(c)return(0,o.showToast)("\u7531\u4e8e\u516c\u53f8\u9650\u5236\uff0c\u4e0d\u5141\u8bb8\u5207\u6362\u8231\u4f4d");!e&&t({type:r,payload:n}),e&&["\u516c\u52a1\u8231/\u5934\u7b49\u8231","\u7ecf\u6d4e\u8231"].includes(n)&&(0,I.ZO)()};return n?(0,R.jsx)(R.Fragment,{children:n.map((function(e){var t=e.name,n=e.checked,r=e.uid,i=e.disable,a=e.display;return a?(0,R.jsxs)(s.View,{className:(0,o.classnames)(vt["filter-selection"],(0,S.Z)({},vt.disabled,i)),onClick:(0,o.trackFn)(t+"--65437",(function(){return u(i,r,t,n)})),children:[t,r?(0,R.jsx)(s.Text,{className:(0,o.classnames)(vt["iconfont-h5"],"iconfont-h5",{"icon-selected":n,"icon-unselected":!n})}):n&&(0,R.jsx)(s.Text,{className:"".concat(vt["iconfont-h5"]," iconfont-h5 icon-tick")})]},t):null}))}):null}var xt=[{name:"\u7cbe\u9009",value:["Featured"]},{name:"\u8d77\u98de\u65f6\u95f4",value:["departTimes"]},{name:"\u673a\u573a",value:["departureAirports","arrivalAirports"]},{name:"\u8231\u4f4d",value:["cabins"]},{name:"\u822a\u7a7a\u516c\u53f8",value:["airlines"]},{name:"\u4e2d\u8f6c\u57ce\u5e02",value:["transitCity"]}];function _t(e,t){var n=e.findIndex((function(e){return e.uid===t})),r=e.findIndex((function(e){return!e.uid}));r=r>0?r:0;var o=e[n],a=!o.checked,c=[].concat((0,G.Z)(e.slice(0,n)),[(0,i.Z)((0,i.Z)({},o),{},{checked:a})],(0,G.Z)(e.slice(n+1)));if(a)if(r!==n)c[r].checked=!1;else{var s,l=(0,ht.Z)(c);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.checked=!1}}catch(e){l.e(e)}finally{l.f()}c[r].checked=!0}var d=c.every((function(e){return!e.checked}));return d&&(c[r].checked=!0),c}function Nt(e,t){var n=e.findIndex((function(e){return e.uid===t})),r=e[n];if(!r.checked){var o=[].concat((0,G.Z)(e.slice(0,n)),[(0,i.Z)((0,i.Z)({},r),{},{checked:!0})],(0,G.Z)(e.slice(n+1)));return o.forEach((function(e,t){return n!==t&&(e.checked=!1)})),o}return e}function Tt(e,t){var n=e.findIndex((function(e){return e.uid===t})),r=e[n],o=[].concat((0,G.Z)(e.slice(0,n)),[(0,i.Z)((0,i.Z)({},r),{},{checked:!r.checked})],(0,G.Z)(e.slice(n+1)));return o}function wt(e,t){switch(t.type){case gt.FEATURED:return(0,i.Z)((0,i.Z)({},e),{},{Featured:Tt(e.Featured,t.payload)});case gt.DEPATURE_AIRPORT:return(0,i.Z)((0,i.Z)({},e),{},{departureAirports:_t(e.departureAirports,t.payload)});case gt.ARRIVAL_AIRPORT:return(0,i.Z)((0,i.Z)({},e),{},{arrivalAirports:_t(e.arrivalAirports,t.payload)});case gt.CABIN:return(0,i.Z)((0,i.Z)({},e),{},{cabins:Nt(e.cabins,t.payload)});case gt.AIRLINE:return(0,i.Z)((0,i.Z)({},e),{},{airlines:_t(e.airlines,t.payload)});case gt.DEPARTURE_TIME:var n=_t(e.departTimes,t.payload);return(0,i.Z)((0,i.Z)({},e),{},{departTimes:n});case gt.TRANSIT_CITY:var r=_t(e.transitCity,t.payload);return(0,i.Z)((0,i.Z)({},e),{},{transitCity:r});default:throw new Error}}function bt(e){for(var t=e.conditions,n=e.conditionsClick,i=e.closeFilter,c=e.cards,u=e.fastFilterIndex,d=e.setCabinsCode,f=(0,a.useReducer)(wt,o.R.clone(t)),m=(0,r.Z)(f,2),p=m[0],v=m[1],y=(0,l.T)(),x=p.departTimes,_=p.departureAirports,N=p.arrivalAirports,T=p.cabins,w=p.airlines,b=p.transitCity,C=p.Featured,j=C&&C.every((function(e){return e.display})),I=u&&u+1||(j?0:1),P=(0,a.useState)(I),L=(0,r.Z)(P,2),V=L[0],O=L[1],A=(0,l.C)((function(e){return e.departure.cityName})),D=(0,l.C)((function(e){return e.arrival.cityName})),Z=(0,pt.Pr)(),F=[],M=function(){var e=U[B],t=[];p[e].forEach((function(e,n){e.checked&&(0!==n||"only_direct"===e.uid)&&e.uid&&t.push(e.uid)})),t.length>0&&F.push(t)},B=0,U=Object.keys(p);B<U.length;B++)M();var q=c.map((function(e){if(!F.length)return e;var t=F.filter((function(e){return!!e.length})).every((function(t){return t.some((function(t){return e.condition.includes(t)}))}));return t?e:void 0})).filter((function(e){return e})).length,Y=function(){var e;(0,mt.jq)("c_flt_filter_click_confirm"),d&&d(3),n(F);var t=null===(e=p.cabins.find((function(e){return e.checked})))||void 0===e?void 0:e.value;y((0,h.jW)(t)),y((0,g.Pc)(t)),i()},H=function(e){var t=["time","airport","cabin","airline","transit"];(0,mt.jq)("c_flt_filter_click_".concat(t[e]))},G=0===(0,E.R2)().bottom?15:(0,E.R2)().bottom;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(s.View,{className:"modal-title",children:["\u5171 ",q," \u4e2a\u7ed3\u679c"]}),(0,R.jsxs)(s.View,{className:vt.FilterModal,style:{paddingBottom:"".concat(G,"px")},children:[(0,R.jsx)(s.View,{className:vt["side-tab"],children:xt.map((function(e,t){if(("Featured"===e.value[0]||!e.value.every((function(e){var t;return(null===(t=p[e])||void 0===t?void 0:t.length)<2})))&&e.value.every((function(e){var t;return null===(t=p[e])||void 0===t?void 0:t.every((function(e){return e.display}))}))){var n=e.value&&e.value[0]&&"cabins"===e.value[0],r=e.value.some((function(e){return p[e].some((function(e,t){return e.checked&&(!Z&&(0!==t||"only_direct"===e.uid)||Z&&(!n&&0!==t||n))}))}));return(0,R.jsxs)(s.View,{className:(0,o.classnames)(vt["side-tab-item"],(0,S.Z)({},vt.active,t===V)),onClick:(0,o.trackFn)(e.name+"--d01de",(function(){H(t),O(t)})),children:[r&&(0,R.jsx)(s.View,{className:vt.hasfilter}),(0,R.jsx)(s.View,{children:e.name})]},e.name)}}))}),(0,R.jsx)(s.View,{className:vt["right-content"],children:(0,R.jsxs)(k.Z,{scrollY:!0,className:vt["right-content-scroll"],id:"id_703ac",onScroll:(0,o.trackFn)("id_703ac"),children:[0===V&&(0,R.jsx)(yt,{data:C,dispatch:v,type:gt.FEATURED}),1===V&&(0,R.jsx)(yt,{data:x,dispatch:v,type:gt.DEPARTURE_TIME}),2===V&&(0,R.jsxs)(s.View,{children:[(0,R.jsx)(s.View,{className:"".concat(vt["filter-selection"]," ").concat(vt.airport),children:A+"\u8d77\u98de"}),(0,R.jsx)(yt,{data:_,dispatch:v,type:gt.DEPATURE_AIRPORT}),(0,R.jsx)(s.View,{className:"".concat(vt["filter-selection"]," ").concat(vt.airport),children:D+"\u964d\u843d"}),(0,R.jsx)(yt,{data:N,dispatch:v,type:gt.ARRIVAL_AIRPORT})]}),3===V&&(0,R.jsx)(yt,{data:T,dispatch:v,type:gt.CABIN}),4===V&&(0,R.jsx)(yt,{data:w,dispatch:v,type:gt.AIRLINE}),5===V&&(0,R.jsx)(yt,{data:b,dispatch:v,type:gt.TRANSIT_CITY})]})})]}),(0,R.jsx)(s.View,{className:vt.bottomBtn,children:q>0?(0,R.jsx)(s.View,{className:vt.confirmBtn,onClick:(0,o.trackFn)("confirm--f1c28",Y),children:"\u786e\u8ba4"}):(0,R.jsx)(s.View,{className:"".concat(vt.confirmBtn," ").concat(vt.noResult),children:"\u65e0\u7ed3\u679c\uff0c\u4fee\u6539\u7b5b\u9009\u9879\u8bd5\u8bd5"})})]})}var Ct=bt,jt={moreFilterBox:"MoreFilterModal-module_yptjB",moreFilterTitle:"MoreFilterModal-module_ZrFvI",firstLowerPrice:"MoreFilterModal-module_R4d34",dateSortBox:"MoreFilterModal-module_kgHrq",dataSortItem:"MoreFilterModal-module_ERGwW",moreFilterText:"MoreFilterModal-module_wZx0A",moreFilterImage:"MoreFilterModal-module_HN3Su",active:"MoreFilterModal-module_a6LXL"},St=[{value:"\u65f6\u95f4\u65e9\u2192\u665a",imageSrc:["https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/list-early-to-late.png","https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/ic_early_n_gray.png"],realValue:"TIME_ASCEND"},{value:"\u65f6\u95f4\u665a\u2192\u65e9",imageSrc:["https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/list-late-to-early.png","https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/ic_late_n_gray.png"],realValue:"TIME_DESCEND"}],kt=function(e){var t=e.orderClick,n=e.closeFilter,r=e.order,i=function(){t("PRICE_ASCEND"),n()},a=function(e){return function(){t(e),n()}};return(0,R.jsxs)(s.View,{className:jt.moreFilterBox,children:[(0,R.jsx)(s.Text,{className:jt.moreFilterTitle,children:"\u66f4\u591a\u6392\u5e8f"}),(0,R.jsxs)(s.View,{className:"".concat(jt.firstLowerPrice," ").concat("PRICE_ASCEND"===r?jt.active:""),onClick:(0,o.trackFn)("handlePriceClick--227d5",i),children:[(0,R.jsx)(B.Z,{src:"PRICE_ASCEND"===r?"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/ic_cost_low_up.png":"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/ic_low2.png",className:jt.moreFilterImage}),(0,R.jsx)(s.Text,{className:jt.moreFilterText,children:"\u4f4e\u4ef7\u4f18\u5148"})]}),(0,R.jsx)(s.View,{className:jt.dateSortBox,children:St.map((function(e){var t=e.value,n=e.imageSrc,i=e.realValue;return(0,R.jsxs)(s.View,{className:"".concat(jt.dataSortItem," ").concat(r===i?jt.active:""),onClick:(0,o.trackFn)(t+"--fb4df",a(i)),children:[(0,R.jsx)(B.Z,{src:r===i?n[1]:n[0],className:jt.moreFilterImage}),(0,R.jsx)(s.Text,{className:jt.moreFilterText,children:t})]},t)}))})]})},It=(0,a.memo)(kt),Et={FilterBarBox:"FilterBar-module_gDQ8J",selectImageBox:"FilterBar-module_nFanG",FilterBarNew:"FilterBar-module_S_ldq",filterScrollBox:"FilterBar-module_ZHzXm",filterItemBox:"FilterBar-module_Tg83K",filterItem:"FilterBar-module_iFYqq",filterItemActive:"FilterBar-module_HNQTL",filterIcon:"FilterBar-module_nrhRq",filterIconfontH5:"FilterBar-module_PviaM",itemLabel:"FilterBar-module_Dlzq0",filterTag:"FilterBar-module_Mk0Cn",moreFilterBox:"FilterBar-module_JwoTu",shadow:"FilterBar-module_nFV8P",moreFilter:"FilterBar-module_QoVrA",moreFilterText:"FilterBar-module_sSBUb",openIconfontH5:"FilterBar-module_idDpT",disableStyle:"FilterBar-module_vY5L8",marginRight:"FilterBar-module_FrMGs",FilterIcon:"FilterBar-module_HJd_u"},Pt=[{name:"\u4f4e\u4ef7\u4f18\u5148",value:"PRICE_ASCEND"},{name:"\u65f6\u95f4\u65e9\u2192\u665a",value:"TIME_ASCEND"},{name:"\u65f6\u95f4\u665a\u2192\u65e9",value:"TIME_DESCEND"}],Lt=[{value:"\u7b5b\u9009",icon:"",realvalue:[],valueIndex:0},{value:"\u673a\u573a",icon:"iconfont-h5 icon-arrow-down",realvalue:["arrivalAirports","departureAirports"],valueIndex:1},{value:"\u516c\u52a1\u8231/\u5934\u7b49\u8231",icon:null,realvalue:["cabins"],valueIndex:2},{value:"\u822a\u53f8",icon:"iconfont-h5 icon-arrow-down",realvalue:["airlines"],valueIndex:3},{value:"\u4e2d\u8f6c\u57ce\u5e02",icon:"iconfont-h5 icon-arrow-down",realvalue:["transitCity"],valueIndex:4}],Vt=function(e,t,n,r,i,o){var a=(0,j.K4)({close:{position:"top-left"},content:(0,R.jsx)(Ct,{conditions:e,conditionsClick:t,closeFilter:function(){return(0,j.Mr)(a)},cards:n,fastFilterIndex:i,setCabinsCode:o}),position:"bottom"})},Ot=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=void 0;o="cabins"===i?e[i].filter((function(e){return"ECONOMY"!==e.value&&e.checked})).length:e[i].filter((function(e){return e.uid&&e.checked})).length,o>0&&(t[i]=o)}return t},At=function(e,t){var n=function(){(0,j.Mr)(r)},r=(0,j.K4)({close:{position:"top-left"},content:(0,R.jsx)(It,{orderClick:e,closeFilter:n,order:t}),position:"bottom"})};function Rt(e){var t=e.order,n=e.orderClick,r=e.conditions,i=e.conditionsClick,c=e.uids,u=e.cards,d=e.name,f=e.setIsWait,m=e.setCabinsCode,p=e.cabinsCode,v=c.reduce((function(e,t){return"object"===(0,ft.Z)(t)?e+t.length:e+1}),0),y=Pt.find((function(e){return e.value===t}))||{},x=Lt.filter((function(e){if("\u673a\u573a"===e.value)return!(r.arrivalAirports.length+r.departureAirports.length<=4);if("\u516c\u52a1\u8231/\u5934\u7b49\u8231"===e.value){var t=(0,pt.Pr)();return!t}return"\u7b5b\u9009"===e.value||e.realvalue[0]&&!!r[e.realvalue[0]]&&r[e.realvalue[0]].length>1})),_=Ot(r),N=(0,l.T)(),T=(0,a.useRef)(!1);(0,a.useEffect)((function(){(0,mt.ff)("S_FLT_N_XCX_List_Quickly_Select_Button_Infor",{button_name:[].concat((0,G.Z)(x.filter((function(e){return"\u7b5b\u9009"!==e.value})).map((function(e){return"object"===(0,ft.Z)(e.value)?_["cabins"]>0?e.value[1]:e.value[0]:e.value}))),[y.name||"\u4f4e\u4ef7\u4f18\u5148"]).join(";")})}),[]);var w=(0,a.useCallback)((function(e){return function(){return At(e,t)}}),[t]),b=function(e,t,n,a,l){var y,x=Object.keys(_),T=o.R.intersection(a,x);y=3!==p&&"cabins"===a[0]?!!p:T.length>0||v>0&&"\u7b5b\u9009"===e;var w=(null===T||void 0===T?void 0:T.reduce((function(e,t){return e+_[t]}),0))||0,b=function(){return"cabins"===a[0]&&N?function(){m(y?0:1),f(!0),setTimeout((function(){if(y){var t=c.filter((function(e){return"\u516c\u52a1\u8231/\u5934\u7b49\u8231"!==(null===e||void 0===e?void 0:e[0])}));i(t)}else i([].concat((0,G.Z)(c),[["\u516c\u52a1\u8231/\u5934\u7b49\u8231"]]));(0,mt.ff)(y?"C_FLT_N_XCX_List_Quickly_Select_Cancel_Button":"C_FLT_N_XCX_List_Quickly_Select_Click_Button",{button_name:e});var n=y?"ECONOMY":"BUSINESS,FIRST";N((0,h.jW)(n)),N((0,g.Pc)(n)),f(!1)}),0)}:function(){return Vt(r,i,u,d,n,m)}},C="second"===l&&"\u516c\u52a1\u8231/\u5934\u7b49\u8231"===e,j=Et.filterItem;return C&&(j=Et.disableStyle),y&&(j=Et.filterItemActive),(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(s.View,{className:j,onClick:(0,o.trackFn)("onClick--3648f",C?I.ZO:b()),"data-testid":"fast-filter-".concat(e||""),children:[(0,R.jsx)(s.Text,{className:Et.itemLabel,children:e}),!!v&&"\u7b5b\u9009"===e&&(0,R.jsx)(B.Z,{className:Et.FilterIcon,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domList/select_active.png"}),!v&&"\u7b5b\u9009"===e&&(0,R.jsx)(B.Z,{className:Et.FilterIcon,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domList/filter_no_select.png"}),!!t&&(0,R.jsx)(s.View,{className:"".concat(Et.filterIconfontH5," ").concat(t)}),(w>1||v>0&&"\u7b5b\u9009"===e)&&(0,R.jsx)(s.View,{className:Et.filterTag,children:w||v}),y&&(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-filter/tag_select.png",className:Et.selectImageBox})]})})},C=function(){T.current||((0,mt.ff)("C_FLT_N_XCX_List_Quickly_Select_Button_Slide"),T.current=!0)};return(0,R.jsxs)(s.View,{className:Et.FilterBarBox,children:[(0,R.jsx)(s.View,{className:Et.FilterBarNew,children:(0,R.jsx)(k.Z,{className:Et.filterScrollBox,scrollX:!0,onScroll:(0,o.trackFn)("id_ad8bc",C),id:"id_ad8bc",children:x.map((function(e,t){var n=e.value,r=e.icon,i=e.realvalue,a=e.valueIndex;return(0,R.jsx)(s.View,{className:(0,o.classnames)(Et.filterItemBox,(0,S.Z)({},Et.marginRight,t===x.length-1)),children:b(n,r,a,i,d)},n)}))})}),(0,R.jsxs)(s.View,{className:Et.moreFilterBox,onClick:(0,o.trackFn)("handleMoreFilterClick$orderClick--d3a79",w(n)),"data-testid":"more-filter-click",children:[(0,R.jsx)(B.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/shadow.png",className:Et.shadow}),(0,R.jsxs)(s.View,{className:Et.moreFilter,children:[(0,R.jsx)(s.Text,{className:Et.moreFilterText,children:y.name||"\u4f4e\u4ef7\u4f18\u5148"}),(0,R.jsx)(s.Text,{className:"iconfont-h5 icon-arrow-down ".concat(Et.openIconfontH5)})]})]})]})}var Dt=n(1098),Zt=n(56262),Ft=n(40127),Mt={tagText:"index-module_iNPoO","card-top-left-tag":"index-module_Jvd3g"},Bt=function(e){var t,n,i,o=e.CardsItem,c=(null===o||void 0===o||null===(t=o.flightTags)||void 0===t?void 0:t.LOCK_PRICE_COUNTDOWN)||"",l=Number(c),u=(0,a.useState)(!1),d=(0,r.Z)(u,2),f=d[0],m=d[1],h=(0,a.useState)(l/1e3),g=(0,r.Z)(h,2),v=g[0],y=g[1],x=(0,a.useState)(""),_=(0,r.Z)(x,2),N=_[0],T=_[1];(0,a.useEffect)((function(){y(l/1e3)}),[l]),(0,a.useEffect)((function(){if(!(v<-1)){var e=setInterval((function(){var e=(0,Ft.ZS)(v);y(v-1),JSON.stringify(N)!==JSON.stringify(e)&&v>=0&&T(e),v<0&&m(!0)}),1e3);return function(){clearInterval(e)}}}),[v,N,T,m]);var w=(0,p.Sl)("lockSwitcher");i=c&&N&&!f?"\u9501\u4ef7\u4e2d | \u5269".concat(N):o.lowestTag;var b=w&&(null===o||void 0===o||null===(n=o.flagTags)||void 0===n?void 0:n.includes("LockPriceV3Use"));return o.recommend&&(i="\u4e2d\u8f6c\u63a8\u8350"),(0,R.jsx)(R.Fragment,{children:(b||i)&&(0,R.jsx)(s.View,{className:Mt["card-top-left-tag"],children:b?(0,R.jsx)(s.Text,{className:Mt.tagText,children:Zt.z}):(0,R.jsx)(s.Text,{className:Mt.tagText,children:i})})})},Ut=Bt,qt=n(6951),Yt=n(99519),Ht=n(45523),Gt=n(98140),Wt=n(39457);function zt(e){e.tripType;var t=e.soldout,n=e.discount;return(0,R.jsx)(s.View,{className:(0,o.classnames)((0,S.Z)({},Wt.Z["not-economy"],t)),children:t?n:null})}var Kt=zt,Qt={InterIcon:"index-module_H146t","recommend-description":"index-module_ap0S6",soldOutSTyle:"index-module_A2snr"},Jt=function(e){var t,n,r,i=e.limitTag,a=e.noneLimitTag,c=e.soldOutTag,l=e.tripType,u=e.item;return(0,R.jsx)(R.Fragment,{children:(!!i||!i&&(a||c))&&(0,R.jsxs)(s.View,{className:Qt["recommend-description"],children:[!!i&&(0,R.jsx)(s.View,{className:Wt.Z["flight-info-right-tag"],children:(0,R.jsxs)(s.View,{className:"".concat(Wt.Z["item-content"]," ").concat(Wt.Z["trip-limit-tag"]),children:[(0,R.jsx)(s.View,{className:Wt.Z["trip-limit-icon"],children:(0,R.jsx)(s.Text,{className:Wt.Z["limit-icon-title"],children:null===i||void 0===i||null===(t=i.value)||void 0===t?void 0:t.split("|")[0]})}),(0,R.jsx)(s.View,{className:(0,o.classnames)(Wt.Z["trip-limit-text"],{"inter-top":null===u||void 0===u||null===(n=u.flightTag)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.content}),children:null===i||void 0===i||null===(r=i.value)||void 0===r?void 0:r.split("|")[1]})]})}),!i&&(a||c)&&(0,R.jsx)(Kt,{tripType:l,soldout:u.economySoldOut,discount:u.discount})]})})},Xt=(0,a.memo)(Jt),$t=n(31174);function en(e){var t=e.item,n=e.tripType,r=e.noneLimitTag,i=e.soldOutTag,o=e.limitTag,c=(e.isInter,!(!t.virtualCities||!t.virtualCities.length));return(0,R.jsxs)(s.View,{className:Wt.Z.tripTagContainer,children:[(0,R.jsxs)(s.View,{className:"col ".concat(Wt.Z.tripTagBox),children:[(0,R.jsx)($t.Z,{item:t}),!t.transit&&t.flightTags&&(0,R.jsxs)(a.Fragment,{children:[t.flightTags.CRAFT&&(0,R.jsxs)(s.View,{className:"".concat(Wt.Z.airlineBox," ").concat(Wt.Z.boxContainer),children:[(0,R.jsx)(s.View,{className:Wt.Z.separateLine}),(0,R.jsx)(s.View,{className:"".concat(Wt.Z["item-content"]," airline-craft"),children:t.flightTags.CRAFT})]}),t.flightTags.MEAT&&(0,R.jsxs)(a.Fragment,{children:[(0,R.jsx)(s.View,{className:Wt.Z.airlineBox,children:(0,R.jsx)(s.View,{className:Wt.Z.separateLine})}),(0,R.jsx)(s.View,{className:Wt.Z.airlineBox,children:(0,R.jsx)(s.View,{className:Wt.Z["item-content"],children:t.flightTags.MEAT})})]}),t.flightTags.IN_TIME&&(0,R.jsxs)(a.Fragment,{children:[(0,R.jsx)(s.View,{className:Wt.Z.airlineBox,children:(0,R.jsx)(s.View,{className:Wt.Z.separateLine})}),(0,R.jsx)(s.View,{className:Wt.Z.airlineBox,children:(0,R.jsx)(s.View,{className:Wt.Z["item-content"],children:t.flightTags.IN_TIME})})]})]})]}),(0,R.jsx)(Xt,{limitTag:o,noneLimitTag:r,soldOutTag:i,item:t,tripType:n}),c&&(0,R.jsx)(s.View,{className:"row",children:(0,R.jsxs)(s.View,{className:"col ".concat(Wt.Z["virtual-description"]," pl-1 mt-2 pt-1"),children:[(0,R.jsx)(s.Text,{className:Wt.Z["txt-title"],children:"\u901a\u7a0b\u822a\u73ed\uff1a"}),(0,R.jsx)(s.Text,{children:"\u822a\u53f8\u4f18\u8d28\u4e13\u8f91\u4ea7\u54c1\uff0c\u63d0\u4f9b\u4e13\u4eba\u8f6c\u673a\u5f15\u5bfc\uff0c\u5168\u7a0b\u4e00\u6b21\u6027\u503c\u673a\uff0c\u884c\u674e\u76f4\u6302\u7b49\u670d\u52a1"})]})})]})}var tn=en;function nn(e){var t=e.labelText;return(0,R.jsx)(s.View,{className:Wt.Z.fltSecurityTag,children:(0,R.jsxs)(s.View,{className:Wt.Z["flt-security-box"],children:[(0,R.jsx)(s.Image,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domBooking/gou_icon.png",className:Wt.Z["flt-security-icon"]}),(0,R.jsx)(s.View,{className:Wt.Z["flt-security-text"],children:t})]})})}var rn=nn,on=o.R.find;function an(e){var t=e||{},n=t.tripTags,r=void 0===n?{}:n,i=[],o=[],a=[];return r&&Object.keys(r).forEach((function(e){"DISCOUNT_LABEL"!==e&&(["DISCOUNT_NEW_LABEL","FLIGHT_CHANGE_ENSURE"].includes(e)?o.push({type:e,value:r[e]}):["CONSUMER_COUPON"].includes(e)?a.push({type:e,value:r[e]}):["RECOMMEND_NUM","RECOMMEND_AGE"].includes(e)?i.push({type:e,value:r[e].includes("|")?r[e]:"\u8350|"+r[e]}):"DEBUG_TIP"!==e&&i.push({type:e,value:r[e]}))})),[i,o,a]}var cn=function(e){if(!e||0===e.length)return null;if(1===e.length){var t=e[0].slice(0,2).join(" "),n=e[0].slice(2);return[[t].concat((0,G.Z)(n))]}return e},sn=function(e){var t,n,r,i,o,c,l=e.item,u=e.tripType,d=e.visited,f=void 0!==d&&d,m=e.code,h=void 0===m?void 0:m,g=e.logoSrc,y=void 0===g?"":g,x=e.crossDateStr,N=void 0===x?void 0:x,T=e.isInter,w=void 0!==T&&T,b=(0,p.Gm)("priceLockConfigs",{priceLockIcon:""}),C=(0,p.Sl)("lockSwitcher"),j=an(l)[0],S=null===j||void 0===j?void 0:j.map((function(e){var t,n=Wt.Z["trip-tag"];-1!==v.Hu.indexOf(e.value)&&(n="".concat(n," ").concat(Wt.Z["member-tag"]," ").concat("\u8d85\u7ea7\u4f1a\u5458\u4ef7"===e.value?Wt.Z["super-member"]:"\u9ed1\u94bb\u8d35\u5bbe\u4ef7"===e.value?Wt.Z["black-member"]:"")),"ECONOMY_SOLD_OUT"===e.type&&(n="".concat(n," ").concat(Wt.Z["out-tag"])),["MERGE_DISCOUNT","DISCOUNT","DISCOUNT_REDUCE"].includes(e.type)&&(n="".concat(n," ").concat(Wt.Z.discountLabel));var r=["RECOMMEND_NUM","RECOMMEND_AGE"].includes(e.type),i=!r&&(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)>9?e.value.substring(0,9)+"...":e.value;return{type:e.type,value:i,tagClass:n,limit:r}})),k=an(l)[1],I=an(l)[2],E=on((function(e){return"DISCOUNT_NEW_LABEL"===e.type}),k),P=on((function(e){return"FLIGHT_CHANGE_ENSURE"===e.type}),k),L=on((function(e){return!e.limit&&"ECONOMY_SOLD_OUT"!==e.type}),S),V=on((function(e){return"ECONOMY_SOLD_OUT"===e.type}),S),O=on((function(e){return e.limit}),S),A=-1!==(null===l||void 0===l||null===(t=l.flagTags)||void 0===t?void 0:t.indexOf("NewLockPrice")),D=C&&-1!==(null===l||void 0===l||null===(n=l.flagTags)||void 0===n?void 0:n.indexOf("LockPriceV3Use")),Z=null===(r=on((function(e){return"CONSUMER_COUPON"===e.type}),I))||void 0===r?void 0:r.value,F=l.arrivalTime,M=l.arrivalName,q=l.crossDays,Y=l.departureTime,G=l.departureName,W=l.stopItem,z=l.totalDuration,K=l.ticketCount,Q=l.price,J=l.segno,X=l.tax,$=cn(W),ee=(0,a.useMemo)((function(){if(!$||$.length>=3)return null;if(1===$.length)return(0,_.uk)(22*($[0].length-1)>0?22*($[0].length-1):0);var e=Math.max($[0].length,$[1].length);return(0,_.uk)(22*(e-1)>0?22*(e-1)+5:0)}),[$]),te=l.airCode?"https://pic.c-ctrip.com/AssetCatalog/airline/32/".concat(l.airCode,".png"):!(!h&&!y)&&(y||"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+h+".png");return(0,R.jsxs)(s.View,{className:Wt.Z.CardContentContainer,children:[(0,R.jsxs)(s.View,{className:"".concat(Wt.Z.CardContentContainer," ").concat(Wt.Z.CardContentDiv),children:[(0,R.jsxs)(s.View,{className:Wt.Z["flight-info-left"],style:{flex:0},children:[te&&(0,R.jsx)(s.View,{className:Wt.Z["flight-logo-container"],children:(0,R.jsx)(B.Z,{className:Wt.Z["img-box"],src:te})}),(0,R.jsxs)(s.View,{className:Wt.Z["flight-info-top"],children:[(0,R.jsx)(U.Z,{Time:Y,Name:G}),(0,R.jsx)(s.View,{className:"col align-self-center text-center ".concat(Wt.Z.stopTransit),children:w?(0,R.jsx)(Ht.Z,{stopItem:$,totalDuration:z}):(0,R.jsx)(H,{virtualCities:l.virtualCities,stops:l.stops,transitDuration:l.transitDuration,transit:l.transit,stopTimes:l.stopTimes,visited:f})}),(0,R.jsx)(U.Z,{Time:F,Name:M,crossDays:q,crossDateStr:N,isAddDay:w})]})]}),(0,R.jsx)(Gt.Z,{info:l.tripTagsV2}),(0,R.jsxs)(s.View,{className:"col text-right ".concat(Wt.Z["price-box"]),children:[(0,R.jsx)(Yt.Z,{ticketCount:K,price:Q,isInter:w,segno:J,tax:X,sanYaLabel:Z}),(0,R.jsxs)(s.View,{className:"".concat(w?Wt.Z["inter-price-sub-title"]:Wt.Z["price-sub-title"]),children:[D&&(0,R.jsx)(s.View,{className:Wt.Z["flight-info-right-tag"],children:(0,R.jsx)(s.Text,{className:Wt.Z["lock-final-pay"],children:Zt.zw})}),!D&&A&&(0,R.jsx)(s.View,{className:Wt.Z["flight-info-right-tag"],children:(0,R.jsx)(B.Z,{className:Wt.Z["price-lock-tag"],src:null===b||void 0===b?void 0:b.priceLockIcon})}),!D&&!A&&(L||V)&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s.View,{className:Wt.Z["flight-info-right-tag"],children:(0,R.jsxs)(s.View,{className:"".concat(Wt.Z["item-content"]," ").concat(Wt.Z["tags-box"]),children:[L&&(0,R.jsx)(s.View,{className:null===L||void 0===L?void 0:L.tagClass,children:null===L||void 0===L?void 0:L.value}),V&&(0,R.jsx)(s.View,{className:null===V||void 0===V?void 0:V.tagClass,children:null===V||void 0===V?void 0:V.value})]})}),(null===E||void 0===E?void 0:E.value)&&(0,R.jsx)(qt.Z,{value:null===E||void 0===E?void 0:E.value})]}),!D&&!A&&!(L||V)&&(0,R.jsx)(Kt,{tripType:u,soldout:l.economySoldOut,discount:l.discount}),K&&K<5&&w&&(0,R.jsxs)(s.View,{className:Wt.Z["price-style"],children:[(null===l||void 0===l?void 0:l.isShowSurplus)&&(0,R.jsx)(s.View,{className:Wt.Z["remain-ticket"],children:"\u5269"+K+"\u5f20"}),(null===l||void 0===l?void 0:l.gradeText)&&"\u7ecf\u6d4e\u8231"!==(null===l||void 0===l?void 0:l.gradeText)&&(0,R.jsx)(s.Text,{className:Wt.Z.gradeTip,children:null===l||void 0===l?void 0:l.gradeText})]}),(null===l||void 0===l||null===(i=l.flightTag)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.content)&&4===(null===l||void 0===l||null===(o=l.flightTag)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.atype)&&(0,R.jsx)(qt.Z,{value:null===l||void 0===l||null===(c=l.flightTag)||void 0===c?void 0:c[0].content})]})]})]}),(0,R.jsx)(s.View,{style:{height:ee||0,width:"100%"}}),(0,R.jsx)(tn,{item:l,tripType:u,soldOutTag:V,noneLimitTag:L,limitTag:O,isInter:w}),(null===P||void 0===P?void 0:P.value)&&(0,R.jsx)(rn,{labelText:P.value})]})},ln=sn,un=function(e){var t=e.sequence,n=e.CardsItem,r=e.tripType,i=e.goToNextPage,a=e.hidden,c=e.hasDirect,u=(0,l.C)((function(e){return e.visitedFlight}));if(!n||a&&n.airlines.length>2&&(!n.recommend||!c))return null;var d=(null===n||void 0===n?void 0:n.airlines)&&n.airlines.length<2,f=d?"":"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-others/transit-icon.png",m=d?n&&n.airlines&&n.airlines[0]&&n.airlines[0].code:"",p=(0,Ft.n6)(n);return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(s.View,{ubtKey:n.searchKey,className:(0,o.classnames)(Wt.Z.commonCard,(0,S.Z)({},Wt.Z.newBg,u.includes(n.searchKey))),onClick:(0,o.trackFn)(n.searchKey,(function(){return i(n)})),"data-testid":"common-card-".concat(t),children:(0,R.jsxs)(s.View,{className:(0,o.classnames)(Wt.Z.commonCardBox,(0,S.Z)({},Wt.Z.pTop,p&&n.crossDays>0||n.lowestTag||n.recommend)),children:[(0,R.jsx)(Ut,{CardsItem:n}),(0,R.jsx)(s.View,{className:Wt.Z.CardContentBox,children:(0,R.jsx)(ln,{crossDateStr:p,code:m,item:n,logoSrc:f,tripType:r,visited:u.includes(n.searchKey)})})]})})})},dn=un,fn={"list-tabs-wrapper-new":"listCards-module_CcTb8","list-tabs":"listCards-module_ZRtYI",left:"listCards-module_pk_v3",tab:"listCards-module_IApnB","tab-txt":"listCards-module_LZqeP","tab-price":"listCards-module_gq_gv","listCard-new":"listCards-module_seBhB"},mn=function(e){var t=e.Cards,n=e.pageIndex,r=e.tripType,i=e.goToNextPage,a=e.hidden,c=e.switchTab,l=e.activeTab,u=e.nearDateLowestPrice,d=e.transitLowestPrice,f=e.canShowTransitTitle,m=e.showTab,p=e.isChoseTrans,h=e.hasDirect;return t?(0,R.jsx)(R.Fragment,{children:Array.isArray(t)?(0,R.jsx)(R.Fragment,{children:t.map((function(e,t){return null!==e&&void 0!==e&&e.isSpecial?(0,R.jsxs)(s.View,{children:[f&&(0,R.jsx)(s.View,{children:(0,R.jsxs)(s.View,{className:Wt.Z["flight-recommend"],children:[(0,R.jsx)(s.View,{className:Wt.Z["separate-line"]}),(0,R.jsx)(s.Text,{className:Wt.Z.recommendText,children:h||p?"\u4ee5\u4e0b\u4e3a\u4e2d\u8f6c\u822a\u73ed":"\u5f53\u5929\u65e0\u76f4\u98de\u822a\u73ed\uff0c\u5efa\u8bae\u770b\u770b\u66f4\u591a\u51fa\u884c\u65b9\u6848"}),(0,R.jsx)(s.View,{className:"".concat(Wt.Z["separate-line"]," ").concat(Wt.Z["to-left"])})]})}),m&&(0,R.jsx)(s.View,{children:(0,R.jsx)(s.View,{className:fn["list-tabs-wrapper-new"],children:(0,R.jsxs)(s.View,{className:(0,o.classnames)(fn["list-tabs"],(0,S.Z)({},fn.left,v.e3.Transit===l)),children:[(0,R.jsxs)(s.View,{className:(0,o.classnames)(fn.tab,{active:v.e3.Transit===l}),onClick:(0,o.trackFn)(e+"--d973b",(function(){return c&&c(v.e3.Transit)})),children:[(0,R.jsx)(s.View,{className:fn["tab-txt"],children:"\u4e2d\u8f6c\u822a\u73ed"}),(0,R.jsxs)(s.View,{className:fn["tab-price"],children:["\xa5",d]})]}),(0,R.jsxs)(s.View,{className:(0,o.classnames)(fn.tab,{active:v.e3.NearDate===l}),onClick:(0,o.trackFn)(e+"--78412",(function(){return c&&c(v.e3.NearDate)})),children:[(0,R.jsx)(s.View,{className:fn["tab-txt"],children:"\u4e34\u8fd1\u65e5\u671f"}),(0,R.jsxs)(s.View,{className:fn["tab-price"],children:["\xa5",u]})]})]})})})]},e):(0,R.jsx)(dn,{sequence:"".concat(n,"_").concat(t),CardsItem:e,tripType:r,goToNextPage:i,hidden:a,hasDirect:h},e.searchKey)}))}):(0,R.jsx)(s.View,{style:{height:"".concat(null===t||void 0===t?void 0:t.height,"px")},children:(0,R.jsx)(dt.Z,{itemLength:t.itemLength-1})})}):null},pn=mn,hn={separateAresCard:"separateAresCards-module_EeFMs",topImage:"separateAresCards-module_lGw4b",bottomImage:"separateAresCards-module_aWoU9",tinyPriority:"separateAresCards-module_LNAFy",otherFlt:"separateAresCards-module_ftW7w"},gn=function(e){var t=e.Cards,n=e.tripType,r=e.goToNextPage,i=e.hidden;if((0,a.useEffect)((function(){(null===t||void 0===t?void 0:t.length)>0&&(0,y.ff)("s_FLT_Search_distinctprice")}),[null===t||void 0===t?void 0:t.length]),null===t||void 0===t||!t.length)return null;var o=function(e){(0,y.ff)("c_FLT_Search_distinctprice_click"),r(e)},c=t.some((function(e){return(null===e||void 0===e?void 0:e.airlines)&&e.airlines.length<2}));return(0,R.jsxs)(s.View,{className:hn.separateAresCard,children:[(0,R.jsx)(s.View,{className:hn.topImage,children:(0,R.jsx)(s.Image,{className:hn.tinyPriority,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/tiny_priority.png"})}),(0,R.jsx)(pn,{pageIndex:0,Cards:t,tripType:n,hidden:i,goToNextPage:o,hasDirect:c}),(0,R.jsx)(s.View,{className:hn.bottomImage,children:(0,R.jsx)(s.Image,{className:hn.otherFlt,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/order_flt.png"})})]})},vn=gn,yn={"near-date-outer-new":"NearDateListCards-module_vhryB",logo:"NearDateListCards-module_EyiNs","info-wrapper":"NearDateListCards-module_oh_Gc","time-price":"NearDateListCards-module_C7JF1",time:"NearDateListCards-module_aWvcz",active:"NearDateListCards-module_fbTEr",week:"NearDateListCards-module_NiSZi","departure-time":"NearDateListCards-module_fWH28","price-symbol":"NearDateListCards-module_AvV6C","port-discount":"NearDateListCards-module_PUVnA",port:"NearDateListCards-module_v_vyB","line-arrow":"NearDateListCards-module_kzDvR",discount:"NearDateListCards-module_CbBwK","airline-tip":"NearDateListCards-module_POgZc",airline:"NearDateListCards-module_tjILZ","sold-out":"NearDateListCards-module_jqhUD"};function xn(e){var t=e.nearDateListCards,n=e.goToNextPage,r=e.hidden;return!t||t.length<=0||r?null:(0,R.jsx)(s.View,{children:t.map((function(e,t){return(0,R.jsx)(Nn,{item:e,goToNextPage:n,index:t},e.searchKey)}))})}function _n(e){var t=e.item,n=e.goToNextPage,r=e.index,i=(0,l.C)((function(e){return e.visitedFlight})),a=(null===t||void 0===t?void 0:t.airlines[0])||{},c=a.code,u=a.craft,d=a.displayName,f=t||{},m=f.prices,p=f.discounts,h=f.departDateTime,g=f.departureWeek,v=f.departureTime,y=f.departureName,x=f.arrivalName,_=[d,u];return(0,R.jsxs)(s.View,{ubtKey:t.searchKey,className:"".concat(yn["near-date-outer-new"]," ").concat(Wt.Z.commonCard," ").concat(i.includes(t.searchKey)?Wt.Z.visited:""),onClick:(0,o.trackFn)(t.searchKey,(function(){return n(t)})),"data-testid":"near-date-card-".concat(r),children:[(0,R.jsx)(s.View,{className:"".concat(yn.logo," col-1"),children:!!c&&(0,R.jsx)(B.Z,{className:Wt.Z["airline-logo"],src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+c+".png"})}),(0,R.jsxs)(s.View,{className:yn["info-wrapper"],children:[(0,R.jsxs)(s.View,{className:yn["time-port-wrapper"],children:[(0,R.jsxs)(s.View,{className:yn["time-price"],children:[(0,R.jsxs)(s.View,{className:yn.time,children:[Tn(h).map((function(e){return(0,R.jsx)(s.Text,{className:"".concat(e.highlight&&yn.active),children:e.text},e.text)})),(0,R.jsxs)(s.Text,{className:yn.week,children:["(",g,")"]}),(0,R.jsx)(s.Text,{className:yn["departure-time"],children:v})]}),(0,R.jsxs)(s.View,{className:yn["price-symbol"],children:[(0,R.jsx)(s.Text,{className:Wt.Z["currency-symbol"],children:"\xa5"}),(0,R.jsx)(s.Text,{className:Wt.Z.price,children:m.ECONOMY||m.BUSINESS})]})]}),(0,R.jsxs)(s.View,{className:yn["port-discount"],children:[(0,R.jsxs)(s.View,{className:yn.port,children:[y,(0,R.jsx)(s.View,{className:"".concat(Wt.Z["line-arrow"]," ").concat(yn["line-arrow"])}),x]}),(0,R.jsx)(s.Text,{className:yn.discount,children:p.ECONOMY||p.BUSINESS})]})]}),(0,R.jsxs)(s.View,{className:yn["airline-tip"],children:[(0,R.jsx)(s.View,{className:yn.airline,children:_.filter((function(e){return!!e})).join(" | ")}),!m.ECONOMY&&(0,R.jsx)(s.View,{className:yn["sold-out"],children:"\u7ecf\u6d4e\u8231\u5df2\u552e\u7f44"})]})]})]})}var Nn=_n;function Tn(e){var t=(0,o.dayjs)(e);if(!e||!o.dayjs.isDayjs(t))return e;var n=(0,o.dayjs)(),r=[],i=!1,a=!1;return t.month()!==n.month()?i=!0:t.date()!==n.date()&&(a=!0),i?r.push({highlight:!0,text:t.month()+1},{highlight:!1,text:"\u6708"},{highlight:!0,text:t.date()},{highlight:!1,text:"\u65e5"}):a?r.push({highlight:!1,text:t.format("MM\u6708")},{highlight:!0,text:t.date()},{highlight:!1,text:"\u65e5"}):r.push({highlight:!1,text:t.format("MM\u6708DD\u65e5")}),r}var wn=xn,bn=n(80615);function Cn(e){var t=e.nearTrips,n=(0,l.T)();if(!(t&&t.length>0))return null;var r=function(e){var t=e.departureCityName,r=e.departureCityCode,i=e.arrivalCityName,o=e.arrivalCityCode;n((0,h.b7)({cityCode:r,cityName:t})),n((0,g.oC)({cityCode:o,cityName:i})),N.ZP.emit(N.rM)};return(0,R.jsxs)(s.View,{children:[(0,R.jsxs)(s.View,{className:"".concat(Wt.Z["flight-recommend"]," mb-3 mt-2"),children:[(0,R.jsx)(s.View,{className:Wt.Z["separate-line"]}),(0,R.jsx)(s.Text,{className:Wt.Z.recommendText,children:"\u66f4\u591a\u51fa\u884c\u65b9\u6848"}),(0,R.jsx)(s.View,{className:"".concat(Wt.Z["separate-line"]," ").concat(Wt.Z["to-left"])})]}),(0,R.jsx)(a.Fragment,{children:t.map((function(e,n){var i;return(0,R.jsx)(s.View,{ubtKey:e.searchKey+n,className:"".concat(Wt.Z.commonCard," ").concat(Wt.Z.noMarginT," ").concat(n===t.length-1?"mb-2":""),onClick:(0,o.trackFn)(e.searchKey+n+n,(function(){return r(e)})),"data-testid":"near-card-".concat(n),children:(0,R.jsxs)(s.View,{className:Wt.Z["near-trip-card"],children:[(0,R.jsx)(s.View,{className:Wt.Z["near-trip-title"],children:"\u90bb\u8fd1\u822a\u7ebf"}),(0,R.jsx)(s.View,{className:"container ".concat(Wt.Z.padding),children:(0,R.jsxs)(s.View,{className:"flex-middle",style:{justifyContent:"space-between"},children:[(0,R.jsxs)(s.View,{className:"flex-middle",style:{justifyContent:"space-between"},children:[(0,R.jsx)(s.View,{className:Wt.Z["near-city"],children:e.departureCityName}),(0,R.jsx)(B.Z,{className:Wt.Z["near-symbol"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/home/single_trip.png"}),(0,R.jsx)(s.View,{className:Wt.Z["near-city"],children:e.arrivalCityName})]}),(0,R.jsx)(s.View,{className:"col-4 text-right",children:(0,R.jsxs)(s.View,{className:"flex-middle right ".concat(Wt.Z["near-price-box"]),children:[(0,R.jsxs)(s.View,{className:"ml-1",children:[(0,R.jsx)(s.Text,{className:Wt.Z["currency-symbol"],children:"\xa5"}),(0,R.jsx)(s.Text,{className:"".concat(Wt.Z["near-price"]," ").concat(Wt.Z.price),children:e.price})]}),(null===e||void 0===e||null===(i=e.recommendTags)||void 0===i?void 0:i.NEAR_CITY_SAVE)&&(0,R.jsx)(s.View,{className:Wt.Z["economize-price"],children:e.recommendTags.NEAR_CITY_SAVE})]})})]})})]})},n)}))})]})}var jn=Cn,Sn=function(e,t){var n,r,i=[{From:{CityName:t.departureName,CityCode:t.departureAirportCode},To:{CityName:t.arrivalName,CityCode:t.arrivalAirportCode},Transit:t.transit,Stops:t.stops,StartTime:t.departDateTime,EndTime:t.arriveDateTime,flightno:null===(n=t.airlines)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.flightNo,airline:null===(r=t.airlines)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.code}];return{FlightClass:"N",FlightWay:"ONE_WAY"===e?"S":"D",Sequence:i,TriggerType:"Exit",version:"taro",Price:t.price}};function kn(e){var t=e.cards,n=void 0===t?[]:t,r=e.recommendCards,d=void 0===r?[]:r,f=e.nearDateListCards,m=void 0===f?[]:f,h=e.name,g=e.goToNextPage,x=e.activeTab,b=e.switchTab,C=e.fromMarket,j=e.marketLowestPrice,S=e.uids,k="first"===h?"departure":"arrival",P=(0,l.C)((function(e){return e[k].cabin})),L=(0,p.Sl)("lockSwitcher"),V=(0,l.C)(u.e_),O="ROUND_TRIP"===V,A=(0,Ft.g6)(n,P,C),D=(0,Ft.k3)(n,P,C),Z=(0,a.useMemo)((function(){return(0,Ft.zZ)({cards:D,recommendCards:d,cabin:P})}),[D,d,P]),F=Z.initDirectTrips,M=Z.initTransitTrips,B=Z.initRecommendTransfer,U=Z.initNearTrips,q=M.length>0&&m.length>0,Y=M.length>0||m.length>0,H=[].concat((0,G.Z)(B),(0,G.Z)(F),[(Y||q)&&{isSpecial:!0}],(0,G.Z)(M)).filter(Boolean),W=Math.ceil(H.length/v.YL),z=(0,a.useMemo)((function(){return!!c.createIntersectionObserver}),[]);(0,a.useEffect)((function(){z||(0,y.ff)("S_FLT_xcx_N_List_Flightcard",{hasIntersectionObserver:!!IntersectionObserver,hasCreateIntersectionObserver:!!c.createIntersectionObserver,env:"weapp"})}),[z]);var K=(0,p.h0)(".card-bottom-observe",W,q||z,!z),Q=K.pageNo,J=K.renderNext,X=z?H:H.slice(0,v.YL*Q);(0,a.useEffect)((function(){var e=(0,_.Vj)();return N.ZP.on(N.J2,(function(e){e===h&&J()}),e),function(){N.ZP.off(N.J2,e)}}),[J,h]);var $=S&&S.some((function(e){return e[0].includes("\u4e2d\u8f6c")})),ee=(0,Ft.nd)(M),te=(0,Ft.nd)(m),ne=F.length>0,re=!F.length&&!M.length&&!B.length&&!U.length&&!m.length,ie=F&&F.length>0;(0,a.useEffect)((function(){if(null!==n&&void 0!==n&&n.length){var e=n.find((function(e){var t;return(null===e||void 0===e||null===(t=e.flagTags)||void 0===t?void 0:t.length)&&e.flagTags.indexOf("NewLockPrice")>-1}));e&&(0,y.$J)("list have lock price card");var t=(0,Ft.g6)(n,P,C);if(C)if(null!==t&&void 0!==t&&t.length){var r=(0,Ft.Cz)(t,j);(0,y.jq)(r?"o_list_market_data_fresh":"o_list_market_data_unfresh")}else(0,y.jq)("o_list_market_data_unfresh")}}),[n,j,P,C]);var oe=(0,a.useMemo)((function(){return re?"NONE":ie?O?"first"===h?"DEPARTURE":"ARRIVAL":"DEFAULT":"NO_DIRECT"}),[ie,re,O,h]);(0,a.useEffect)((function(){var e=o.R.path(["DOMESTIC",O?"ROUND_TRIP":"ONE_WAY",oe],T.IY);N.ZP.emit("SEND_PV_"+h,e)}),[O,h,oe]);var ae=(0,a.useMemo)((function(){var e=(0,I.E8)(F,"PRICE_ASCEND",P,L);return(0,I.aS)(null===e||void 0===e?void 0:e[0],P,L)}),[F,P,L]),ce=(0,a.useMemo)((function(){var e=[];return[B,m,U].forEach((function(t,n){if(null!==t&&void 0!==t&&t.length){var r=null===t||void 0===t?void 0:t.map((function(e){var t;return{type:2===n?"\u4e34\u8fd1\u822a\u7ebf\u63a8\u8350\u4f4d":1===n?"\u4e34\u8fd1\u65e5\u671f\u63a8\u8350\u4f4d":"\u4e2d\u8f6c\u63a8\u8350\u4f4d",price:1===n?null===e||void 0===e||null===(t=e.prices)||void 0===t?void 0:t[P]:null===e||void 0===e?void 0:e.price}}));e.push.apply(e,(0,G.Z)(r))}})),e}),[P,B,m,U]),se=function(e){var t=Sn(V,e);(0,y.ff)("NO_DIRECT"===oe?"flt_inland_search_nodr_h5_basic":"flt_inland_search_result_h5_basic",(0,i.Z)((0,i.Z)({},t),{},{recommendProduct:ce,DFlst:{type:"\u76f4\u98de\u6700\u4f4e\u4ef7",price:ae}})),g(e)},le=(0,E.R2)(),ue=le.bottom,de=void 0===ue?0:ue,fe=X&&X.length>0;return(0,R.jsx)(s.View,{id:"list-card-selector",className:fn["listCard-new"],children:(0,R.jsxs)(s.View,{style:{paddingBottom:"".concat(67+de,"px")},children:[(0,R.jsx)(s.View,{className:Wt.Z["FlightListCard-new"],children:(0,R.jsxs)(s.View,{className:Wt.Z["fill-loading"],children:[(0,R.jsx)(vn,{Cards:A,tripType:V,goToNextPage:se,hidden:q&&v.e3.Transit!==x}),(0,R.jsx)(o.MiniVirtualList,{list:X,segmentNum:v.YL,isShow:z,LoadingView:dt.Z,selectorQueryFields:Dt.Mc,isNeedLoading:fe,children:function(e){var t=e.VirtualListDataItem,n=e.pageIndex;return(0,R.jsx)(pn,{Cards:t,pageIndex:n,tripType:V,goToNextPage:se,switchTab:b,activeTab:x,transitLowestPrice:ee,nearDateLowestPrice:te,canShowTransitTitle:Y,showTab:q,isChoseTrans:$,hasDirect:ne,hidden:q&&v.e3.Transit!==x})}}),(0,R.jsx)(wn,{nearDateListCards:m,goToNextPage:se,hidden:q&&v.e3.NearDate!==x}),(0,R.jsx)(jn,{nearTrips:U})]})}),(0,R.jsx)(s.View,{className:"card-bottom-observe",children:W>Q&&!z?(0,R.jsx)(bn.Z,{}):(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(w.Z,{pageName:"\u5217\u8868\u9875"})})})]})})}var In=kn,En=function(e){var t=e.item,n=e.tripType,r=e.goToNextPage,i=(0,l.C)((function(e){return e.visitedFlight}));if(!t)return null;var a=(0,Ft.n6)(t),c=t.airlines&&t.airlines.length<2,u=t.flightTags.ORDER_AGAIN,d=c?"":"https://pages.c-ctrip.com/flight_h5/tinyapp/icons/list-others/transit-icon.png",f=c?t&&t.airlines&&t.airlines[0]&&t.airlines[0].code:"";return(0,R.jsx)(s.View,{ubtKey:t.searchKey,className:(0,o.classnames)(Wt.Z.commonCard,(0,S.Z)({},Wt.Z.newBg,i.includes(t.searchKey))),onClick:(0,o.trackFn)(t.searchKey,(function(){return r(t)})),"data-testid":"common-card",children:(0,R.jsxs)(s.View,{className:(0,o.classnames)(Wt.Z.commonCardBox,(0,S.Z)({},Wt.Z.pTop,a&&t.crossDays>0||t.lowestTag)),children:[u&&(0,R.jsx)(s.View,{className:Wt.Z["card-top-left-tag"],children:(0,R.jsx)(s.Text,{className:Wt.Z.tagText,children:u})}),(0,R.jsx)(s.View,{className:Wt.Z.CardContentBox,children:(0,R.jsx)(ln,{crossDateStr:a,code:f,item:t,logoSrc:d,tripType:n,visited:i.includes(t.searchKey)})})]})})},Pn=En,Ln=n(73255);function Vn(e){var t=e.data,n=e.pageName,j=e.isError,S=e.isFetching,k=e.refetch,E=(0,c.useRouter)(),P=E.params,L=P.flightNo,V=P.filterSCabin,O=P.dfilter,A=P.afilter,D=P.cabins,Z=P.enforceFilter,F=void 0===Z?"":Z,M=P.fromMarket,B=void 0===M?"":M,U=P.marketprice,q=P.direct,Y=(0,l.C)(u.pW),H=(0,l.C)(u.sq),G=(0,l.C)(u.Wt),W=(0,l.C)(u.ww),z=(0,l.C)((function(e){return null===e||void 0===e?void 0:e.departure.airportCode})),K=(0,l.C)((function(e){return null===e||void 0===e?void 0:e.arrival.airportCode})),Q=(0,l.C)(u.e_),J="ROUND_TRIP"===Q,X="first"===n?"departure":"arrival",$=(0,l.C)((function(e){var t;return null===(t=e[X])||void 0===t?void 0:t.cabin})),ee=(0,l.C)((function(e){return e.departure.cabin})),te=(0,l.C)((function(e){return e.arrival.cabin})),ne=(0,a.useMemo)((function(){return"ONE_WAY"===Q?[ee]:[ee,te]}),[te,ee,Q]),re=(0,p.bE)(C.wJ,"A"),ie="B"===re,oe=(0,p.Sl)("lockSwitcher"),ae=(0,l.T)(),ce=(0,Ln.$p)(),se=(0,m.l)(),le=(0,l.C)(d.P),ue=(0,a.useCallback)((function(e){if(ae((0,f.xE)(e.searchKey)),"ONE_WAY"===Q||"second"===n){var t,r,o,a,c=-1!==(null===e||void 0===e||null===(t=e.flagTags)||void 0===t?void 0:t.indexOf("LockPriceV3Use")),s=null===e||void 0===e||null===(r=e.specialPrices)||void 0===r?void 0:r.ACTUAL_PRICE;if(oe&&c&&s)(0,y.ff)("C_Flt_N_TinyApp_PriceFreeze_AfterSale_ListClick",{dCityCode:G,aCityCode:W,takeofftime:e.departDateTime,flightNo:null===(a=e.airlines[0])||void 0===a?void 0:a.displayName,currentPrice:s});se({data:(0,i.Z)((0,i.Z)({},le),{},{searchKey:e.searchKey}),skipCaptcha:!0,extension:(0,I.nE)(P,ne)}),null!==e&&void 0!==e&&null!==(o=e.flagTags)&&void 0!==o&&o.length&&e.flagTags.indexOf("NewLockPrice")>-1&&(0,y.jq)("select lockPrice card to middle");var l=encodeURIComponent(e.searchKey);(0,y.jq)("c_list_go_to_middle_page",{desc:"Goto Middle page",searchKey:l,tripType:Q,dCityCode:G,aCityCode:W,departureDate:Y,arrivalDate:H});var u={searchKey:l,filterSCabin:V,price:e.price,dfilter:O,code:e.airlines[0].code};ut(u,ie)||x.xo.jump(u)}else{var d;ce();var m=null===(d=e.airlines[0])||void 0===d?void 0:d.shortName,p=encodeURIComponent(e.departureTime),h=encodeURIComponent(e.arrivalTime),g=encodeURIComponent(e.searchKey);(0,y.jq)("c_list_go_to_second_page",{desc:"Goto Second page",searchKey:g,tripType:Q,dCityCode:G,aCityCode:W,departureDate:Y,arrivalDate:H}),x.wS.jump({afilter:A,searchKey:g,filterSCabin:V,enforceFilter:F,shortName:encodeURIComponent(m),departureTime:p,arrivalTime:h})}}),[ae,Q,n,oe,se,le,P,ne,G,W,Y,H,V,O,ce,A,F]),de=(0,p.aT)(ue,k),fe=de.callback,me=(0,a.useState)("PRICE_ASCEND"),pe=(0,r.Z)(me,2),he=pe[0],ge=pe[1],ve=(0,a.useMemo)((function(){return(0,y.jq)("c_list_order_by_".concat(he),{desc:"\u6392\u5e8f"}),"PRICE_DESCEND"===he||"PRICE_ASCEND"===he?I.E8:I.jk}),[he]),ye=(0,a.useState)((function(){return(0,I.zi)({name:n,cabinsFromParams:D,aFilterFromParams:A,dFilterFromParams:O,cabin:$,direct:q,dAirportCode:z,aAirportCode:K})})),xe=(0,r.Z)(ye,2),_e=xe[0],Ne=xe[1];(0,a.useEffect)((function(){var e=(0,_.Vj)();return N.ZP.on(N.rM,(function(){Ne((0,I.Us)($,z,K))}),e),function(){N.ZP.off(N.rM,e)}}),[$,z,K]);var Te=(0,a.useState)(v.e3.Transit),we=(0,r.Z)(Te,2),be=we[0],Ce=we[1],je=t||{},Se=je.listCards,ke=void 0===Se?[]:Se,Ie=je.nearDateListCards,Ee=void 0===Ie?[]:Ie,Pe=je.recommendCards,Le=void 0===Pe?[]:Pe,Ve=(0,a.useMemo)((function(){return(0,I.bu)(ke,{departureDate:"second"===n?H:Y,dAirportCode:z,cabinChoice:$,name:n})}),[ke,Y,H,z,$,n]),Oe=Ve.conditions,Ae=Ve.cardsWithCondition,Re=(0,a.useState)(!1),De=(0,r.Z)(Re,2),Ze=De[0],Fe=De[1],Me=(0,a.useState)(3),Be=(0,r.Z)(Me,2),Ue=Be[0],qe=Be[1],Ye=(0,a.useCallback)((function(){ae((0,h.jW)("ECONOMY")),ae((0,g.Pc)("ECONOMY")),qe(3),Ne([])}),[ae]);if(S)return(0,R.jsx)(s.View,{className:Wt.Z["flight-card-padding"],children:(0,R.jsx)(s.View,{className:Wt.Z["FlightListCard-new"],children:(0,R.jsx)(dt.Z,{})})});_e.length?Object.values(Oe).forEach((function(e){e.forEach((function(t,n){var r=(0,I.ap)(_e,t.uid);0!==n&&t.uid&&r?(t.checked=!0,e[0].checked=!1):0!==n&&t.uid&&!r?t.checked=!1:0!==n||"\u7ecf\u6d4e\u8231"!==t.uid||(0,I.ap)(_e,"\u516c\u52a1\u8231/\u5934\u7b49\u8231")?0===n&&"only_direct"===t.uid&&r&&(t.checked=!0):t.checked=!0}))})):Object.values(Oe).forEach((function(e){e.forEach((function(e,t){0!==t&&e.uid||"only_direct"===e.uid?e.checked=!1:e.checked=!0}))})),(0,I.i_)(Ae,$,oe),(0,I.On)(Ae,Y);var He=Ae.map((function(e){return _e.length?_e.every((function(t){return Array.isArray(t)?t.some((function(t){return e.condition.includes(t)})):e.condition.includes(t)}))?e:void 0:e})).filter((function(e){return e})),Ge=!ke.length&&!Le.length&&!Ee.length,We=ke.length&&!He.length;if(j||Ge||We){var ze=j?"ERROR":Ge?"NO_RESULT":"NO_FILTERED";return N.ZP.emit("SEND_PV_"+n,o.R.path(["DOMESTIC",J?"ROUND_TRIP":"ONE_WAY","NONE"],T.IY)),(0,R.jsx)(s.View,{className:Wt.Z["flight-card-padding"],children:(0,R.jsx)(s.View,{className:"".concat(Wt.Z["FlightListCard-new"]," ").concat(Wt.Z.marginB),children:(0,R.jsxs)(s.View,{className:Wt.Z["fill-loading"],children:[(0,R.jsx)(b.Z,{state:ze,clickFn:Ye}),(0,R.jsx)(w.Z,{pageName:"\u5217\u8868\u9875"})]})})})}var Ke=ve(He,he,$,oe),Qe=[],Je=Ke.findIndex((function(e){var t=e.flightTags&&Object.keys(e.flightTags).includes("ORDER_AGAIN");return t}));Je>-1&&(Qe=Ke.splice(Je,1));var Xe=L&&!Qe.length;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(s.View,{className:Wt.Z["FlightListCard-new"],children:[Xe&&(0,R.jsxs)(s.View,{className:Wt.Z["last-order"],children:[(0,R.jsx)(s.View,{className:"".concat(Wt.Z["last-order-line"]," ").concat(Wt.Z["line-left"])}),(0,R.jsx)(s.View,{className:Wt.Z["last-order-txt"],children:"\u540c\u884c\u7a0b\u822a\u73ed\u5df2\u8fc7\u671f\uff0c\u770b\u770b\u5176\u4ed6\u822a\u73ed"}),(0,R.jsx)(s.View,{className:"".concat(Wt.Z["last-order-line"]," ").concat(Wt.Z["line-right"])})]}),(0,R.jsx)(Pn,{item:Qe[0],tripType:Q,goToNextPage:fe})]}),be===v.e3.Transit&&(0,R.jsx)(Rt,{order:he,orderClick:ge,conditions:Oe,conditionsClick:Ne,uids:_e,cards:Ae,name:n,setIsWait:Fe,setCabinsCode:qe,cabinsCode:Ue}),Ze?(0,R.jsx)(s.View,{className:Wt.Z["flight-card-padding"],children:(0,R.jsx)(s.View,{className:Wt.Z["FlightListCard-new"],children:(0,R.jsx)(dt.Z,{})})}):(0,R.jsx)(In,{uids:_e,name:n,cards:Ke,recommendCards:Le,nearDateListCards:Ee,goToNextPage:fe,activeTab:be,switchTab:Ce,fromMarket:B,marketLowestPrice:U})]})}},46535:function(e,t,n){"use strict";var r=n(90129),i=n(91425),o=n(90201),a=n(71515),c=n(74711),s=n(95518),l=n(18228),u=n(1098),d=n(9361),f=n(2269),m=function(e){var t=e.children,n=e.name,m=(0,o.useState)(!1),p=(0,r.Z)(m,2),h=p[0],g=p[1],v=(0,o.useRef)(),y=(0,o.useRef)(0),x=(0,o.useCallback)((function(e){y.current&&(clearTimeout(y.current),g(!1)),v.current&&e.detail.scrollTop>500?y.current=setTimeout((function(){g(!0)}),200):g(!1)}),[]);(0,o.useEffect)((function(){return function(){clearTimeout(y.current)}}),[]),(0,o.useEffect)((function(){v.current||(0,u._p)("#list-scroll-view",{retry:3}).then((function(e){e&&(v.current=e)}))}),[]);var _=(0,o.useCallback)((function(){g(!1),v.current&&v.current.scrollTo({top:0,duration:200,animated:!0})}),[]),N=(0,o.useCallback)((function(){c.ZP.emit(c.J2,n)}),[n]),T=(0,o.useMemo)((function(){return(0,d.R2)()}),[]),w=(0,o.useMemo)((function(){var e=(0,d.So)(),t=e.statusBarHeight,n=void 0===t?0:t,r=e.windowHeight,i=(0,d.tL)();return{alipay:"100vh",swan:"".concat(r-(i+n),"px")}["weapp"]||"calc(100vh - ".concat(i+n,"px)")}),[]);return(0,f.jsxs)(s.Z,{onScroll:(0,i.trackFn)("list-scroll-view",x),onScrollToLower:(0,i.trackFn)("list-scroll-view",N),enhanced:!0,id:"list-scroll-view",className:"list-scroll-view",scrollY:!0,style:{height:w},children:[(0,f.jsx)(a.View,{children:t}),(0,f.jsx)(a.View,{children:h&&(0,f.jsx)(i.BackTop,{bottom:200+T.bottom,onClick:(0,i.trackFn)("list-scroll-view--onScrollToTop--706d7",_),sendSpeed:l.jq})})]})};t["Z"]=m},40127:function(e,t,n){"use strict";n.d(t,{g6:function(){return c},k3:function(){return s},n6:function(){return f},zZ:function(){return m},Cz:function(){return p},nd:function(){return h},ZS:function(){return g}});var r=n(22276),i=n(90129),o=(n(91425),n(4091)),a=n(60452);function c(e,t,n){return null!==e&&void 0!==e&&e.length&&t===a.pI.ECONOMY&&"TinyPriority"===n?null===e||void 0===e?void 0:e.filter((function(e){var t;return-1!==(null===e||void 0===e||null===(t=e.flagTags)||void 0===t?void 0:t.indexOf("ChannelEXCLUSIVE_MINI_APP"))})):[]}function s(e,t,n){return null===e||void 0===e?void 0:e.filter((function(e){var r,i;return(null===e||void 0===e||null===(r=e.flagTags)||void 0===r?void 0:r.indexOf("ChannelEXCLUSIVE_MINI_APP"))<0||(null===e||void 0===e||null===(i=e.flagTags)||void 0===i?void 0:i.indexOf("ChannelEXCLUSIVE_MINI_APP"))>=0&&(t!==a.pI.ECONOMY||"TinyPriority"!==n)}))}function l(e){return null===e||void 0===e?void 0:e.filter((function(e){return e.airlines&&e.airlines.length<2}))}function u(e,t){return t!==a.pI.ECONOMY?[]:null===e||void 0===e?void 0:e.filter((function(e){return e.recommendType&&"NEAR_FLIGHT"===e.recommendType}))}function d(e){var t,n=[],r=null===e||void 0===e?void 0:e.filter((function(e){return e.airlines&&e.airlines.length<2})),i=null===e||void 0===e?void 0:e.filter((function(e){return e.airlines&&e.airlines.length>1}));if(null!==r&&void 0!==r&&r.length&&null!==(t=i)&&void 0!==t&&t.length){n=i.filter((function(e){return e.recommend})),i=i.filter((function(e){return!e.recommend}));var o=i.findIndex((function(e){return e.lowestTag&&"\u5f53\u65e5\u6700\u4f4e\u4ef7"===e.lowestTag}));if(o>-1){var a=i[o];i.splice(o,1),n.push(a),n.sort((function(e,t){return e.prices.ECONOMY-t.prices.ECONOMY}))}}return[n,i]}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return e.crossDays>0?"+".concat(e.crossDays,"\u5929"):e.arriveDateTime?(0,o.WU)(e.arriveDateTime.replace(/-/g,"/"),"MM-dd"):"";var n=e.arriveDateTime?(0,o.WU)(e.arriveDateTime.replace(/-/g,"/"),"MM-dd EE"):"+".concat(e.crossDays,"\u5929");return n}function m(e){var t=e.cards,n=e.recommendCards,r=e.cabin,o=l(t),a=d(t),c=(0,i.Z)(a,2),s=c[0],f=c[1],m=u(n,r);return{initRecommendTransfer:s,initDirectTrips:o,initTransitTrips:f,initNearTrips:m}}function p(e,t){if(e&&null!==e&&void 0!==e&&e.length&&t){var n=e&&Math.min.apply(Math,(0,r.Z)(e.map((function(e){var t;return null===(t=e.prices)||void 0===t?void 0:t.ECONOMY}))));return n&&String(n)===t}return!1}function h(e){return Math.min.apply(Math,(0,r.Z)(e.map((function(e){var t,n;return(null===(t=e.prices)||void 0===t?void 0:t.ECONOMY)||(null===(n=e.prices)||void 0===n?void 0:n.BUSINESS)}))))}function g(e){var t=Math.floor(e/60/60/24),n=Math.floor(e/60/60%24),r=Math.floor(e/60%60),i=Math.floor(e%60);return"".concat(t>0?t:"").concat(t>0?"\u5929":"").concat(n<10?"0":"").concat(n,":").concat(r<10?"0":"").concat(r,":").concat(i<10?"0":"").concat(i)}},13896:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});n(91425);var r=n(71515),i=(n(90201),n(24417)),o=n(2269);function a(e){var t=e.itemLength,n=void 0===t?7:t,a=new Array(n>1?n:7).fill(0);return(0,o.jsx)(r.View,{children:a.map((function(e,t){return(0,o.jsxs)(r.View,{className:"loading-section loading-section2 ".concat(i.Z.loadingView),children:[(0,o.jsx)(r.View,{className:"".concat(i.Z.blockBox," ").concat(i.Z.b1)}),(0,o.jsxs)(r.View,{className:i.Z.divBox,children:[(0,o.jsxs)(r.View,{className:"".concat(i.Z.divBox," ").concat(i.Z.d1),children:[(0,o.jsxs)(r.View,{className:i.Z.divBox,children:[(0,o.jsx)(r.View,{className:i.Z.blockBox}),(0,o.jsx)(r.View,{className:"".concat(i.Z.blockBox," ").concat(i.Z.b2)})]}),(0,o.jsx)(r.View,{className:"".concat(i.Z.blockBox," ").concat(i.Z.b3)}),(0,o.jsxs)(r.View,{className:i.Z.divBox,children:[(0,o.jsx)(r.View,{className:i.Z.blockBox}),(0,o.jsx)(r.View,{className:"".concat(i.Z.blockBox," ").concat(i.Z.b2)})]})]}),(0,o.jsx)(r.View,{className:"".concat(i.Z.blockBox," ").concat(i.Z.b4)})]}),(0,o.jsxs)(r.View,{className:"".concat(i.Z.divBox," ").concat(i.Z.d2),children:[(0,o.jsx)(r.View,{className:i.Z.blockBox}),(0,o.jsx)(r.View,{className:"".concat(i.Z.blockBox," ").concat(i.Z.b5)})]})]},t)}))})}},80615:function(e,t,n){"use strict";n(91425),n(90201);var r=n(71515),i=n(39457),o=n(2269);function a(){return(0,o.jsx)(r.View,{className:i.Z["card-spin"],children:"\u52a0\u8f7d\u4e2d"})}t["Z"]=a},73255:function(e,t,n){"use strict";n.d(t,{ZP:function(){return T},$p:function(){return N}});var r=n(91425),i=n(90129),o=n(90201),a=n(92954),c=n(67107),s=n(17321),l=(0,r.createSelector)([s.Wt,s.iJ,s.LL,s.ww,s.Cy,s.NX,s.pW,s.sq,s.e_,s.W$],(function(e,t,n,r,i,o,a,c,s,l){var u="CityID"===n||"CityID"===o?"id":"code",d="CityID"===n?"":e,f="CityID"===o?"":r,m=[{departureCode:d,departureCityId:String(t),arrivalCode:f,arrivalCityId:String(i),departureDate:a,cityType:u}];return"ROUND_TRIP"===s&&m.push({departureCode:f,departureCityId:String(i),arrivalCode:d,arrivalCityId:String(t),departureDate:c,cityType:u}),{searchFlightItems:m,tripType:s,regionType:l,passengers:{ADULT:1,CHILD:0,INFANT:0}}})),u=n(99531),d=n(37549),f=n(34954),m=n(58637),p=m.Z.injectEndpoints({endpoints:function(e){return{getFirst:e.query({query:function(e){return{url:"/14488/flightList",queryObject:{subEnv:"fat128"},queryParams:e}},keepUnusedDataFor:15,transformResponse:function(e){return null===e||void 0===e?void 0:e.data}})}}}),h=p.useGetFirstQuery,g=p.usePrefetch,v=n(22276);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ECONOMY";if(null!==e&&void 0!==e&&e.length){var n=Math.min.apply(Math,(0,v.Z)(r.R.flatten(e.map((function(e){var n=Object.keys(e.prices).filter((function(e){return t&&t.includes(e)}));return n.map((function(t){return e.prices[t]||0}))})))));return n}}var x=function(e){var t=e.searchKey,n=e.children,r=(0,a.useRouter)(),m=r.params,p=(0,c.C)(l),g=(0,c.C)(s.Se);(0,o.useEffect)((function(){t?(0,u.jq)("use_get_second_query",{searchParameter:p,searchKey:t}):(0,u.jq)("use_get_first_query",{searchParameter:p})}),[p]);var v=h({data:{searchParameter:p,searchKey:t},extension:(0,f.nE)(m)}),x=v.data,_=v.error,N=v.isFetching,T=v.isError,w=v.refetch;(0,d.Z)(_,w);var b=(0,o.useMemo)((function(){return N?0:y(null===x||void 0===x?void 0:x.listCards,g)}),[null===x||void 0===x?void 0:x.listCards,g,N]),C=(0,o.useState)(!1),j=(0,i.Z)(C,2),S=j[0],k=j[1];return(0,o.useEffect)((function(){if(N)k(!1);else{var e,t=null===x||void 0===x||null===(e=x.flightNotes)||void 0===e||null===(e=e.noteItemList)||void 0===e||null===(e=e.find((function(e){return 81===(null===e||void 0===e?void 0:e.type)})))||void 0===e?void 0:e.content;(0,u.jq)("canShowSanYaPop",{canShowSanYaPop:!!S}),k(!!t)}}),[null===x||void 0===x?void 0:x.flightNotes]),n({isFetching:N,isError:T,lowestPrice:b,refetch:w,data:x,showSanYaPop:S})},_=x,N=function(){var e=(0,c.C)(l),t=g("getFirst",{force:!1});return(0,o.useCallback)((function(){t({data:{searchParameter:e},skipCaptcha:!0})}),[t,e])},T=_},34954:function(e,t,n){"use strict";n.d(t,{nE:function(){return E},ZO:function(){return P},bu:function(){return p},aS:function(){return b},ap:function(){return I},zi:function(){return k},E8:function(){return C},jk:function(){return w},i_:function(){return x},On:function(){return _},Us:function(){return S}});var r=n(22276),i=n(90129),o=n(90983),a=n(298),c=n(91425),s=n(1098),l=n(5644),u=n(53052),d=n(60452),f=n(51070);function m(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DOMESTIC";return r===d.Og.INTERNATIONAL?(null===(n=f.Yd.find((function(t){return t.value===e})))||void 0===n?void 0:n.name)||"":(null===(t=f.yc.find((function(t){return t.value===e})))||void 0===t?void 0:t.name)||""}function p(e,t){var n=t.departureDate,r=t.dAirportCode,l=t.cabinChoice,u=t.name,d=(0,c.dayjs)(n).startOf("day"),f=d.add(6,"hour"),m=f.add(6,"hour"),p=m.add(6,"hour"),h=(0,c.dayjs)(n).endOf("day"),g={Featured:[{name:"\u4ec5\u770b\u76f4\u98de",uid:"only_direct",checked:!1,disable:!1,display:!1}],departTimes:[{name:"\u4e0d\u9650",uid:"",checked:!0,disable:!1,display:!0},{name:"00:00 - 06:00",value:[d,f],uid:"00:00 - 06:00",checked:!1,disable:!0,display:!0},{name:"06:00 - 12:00",value:[f,m],uid:"06:00 - 12:00",checked:!1,disable:!0,display:!0},{name:"12:00 - 18:00",value:[m,p],uid:"12:00 - 18:00",checked:!1,disable:!0,display:!0},{name:"18:00 - 24:00",value:[p,h],uid:"18:00 - 24:00",checked:!1,disable:!0,display:!0}],departureAirports:[{name:"\u4e0d\u9650",checked:!0,uid:"",disable:!1,display:!0}],arrivalAirports:[{name:"\u4e0d\u9650",checked:!0,uid:"",disable:!1,display:!0}],cabins:[{name:"\u7ecf\u6d4e\u8231",value:"ECONOMY",checked:!0,uid:"\u7ecf\u6d4e\u8231",disable:!0,display:!0},{name:"\u516c\u52a1\u8231/\u5934\u7b49\u8231",value:"BUSINESS,FIRST",checked:!1,uid:"\u516c\u52a1\u8231/\u5934\u7b49\u8231",disable:!0,display:!0}],airlines:[{name:"\u4e0d\u9650",checked:!0,uid:"",disable:!1,display:!0}],transitCity:[{name:"\u4e0d\u9650",checked:!0,uid:"",disable:!1,display:!0,value:""}]},v=e.map((function(e){var t,n,d=(0,a.Z)((0,a.Z)({},e),{},{condition:[]}),f=(0,c.dayjs)(d.departDateTime),m=(0,o.Z)(g.departTimes);try{for(m.s();!(n=m.n()).done;){var p=n.value;if(p.uid){var h=p.value,v=(0,i.Z)(h,2),y=v[0],x=v[1];f.isBetween(y,x)&&(p.disable&&(p.disable=!1),d.condition.push(p.uid))}}}catch(e){m.e(e)}finally{m.f()}var _=d.departureAirportName,N=d.departureAirportCode,T=d.arrivalAirportName,w=d.arrivalAirportCode,b=g.departureAirports.find((function(e){return e.name===_}));b||g.departureAirports.push({name:_,uid:N,checked:!1,disable:!1,display:!0}),d.condition.push(N);var C=g.arrivalAirports.find((function(e){return e.name===T}));C||g.arrivalAirports.push({name:T,uid:w,checked:r===N,disable:!1,display:!0}),d.condition.push(w);var j,S=d.ticketCounts,k=null===(t=(0,s.Qf)())||void 0===t?void 0:t.enforceFilter,I=k&&Number(k),E=(0,o.Z)(g.cabins);try{for(E.s();!(j=E.n()).done;){var P=j.value,L=Object.keys(S),V=l.indexOf(P.value)<0;if("second"!==u||P.value.includes(l)){for(var O=0,A=L;O<A.length;O++){var R=A[O];P.value.includes(R)&&(P.disable&&(P.disable=!1),d.condition.push(P.uid))}P.display&&I&&V&&(P.display=!1)}}}catch(e){E.e(e)}finally{E.f()}var D=d.airlines,Z=d.stops;D.forEach((function(e){var t=g.airlines.find((function(t){return t.name===e.name}));t||g.airlines.push({name:e.name,uid:e.code,checked:!1,disable:!1,display:!0}),d.condition.push(e.code)})),D.length<2&&Z.length<1&&(g.Featured[0].display||(g.Featured[0].display=!0),d.condition.push("only_direct"));var F=d.transit,M=d.transitCode;if(M){var B=g.transitCity.find((function(e){return e.value===M})),U="\u4e2d\u8f6c"+M;B||g.transitCity.push({name:F,uid:U,value:M,checked:!1,disable:!1,display:!0}),d.condition.push(U)}return d.condition=Array.from(new Set(d.condition)),d}));return{conditions:g,cardsWithCondition:v}}function h(e,t){var n="",r=0,i=e.prices,o=e.economySoldOut;for(var a in i)n&&!(i[a]<r)||t&&0!==t.length&&!t.includes(a)&&!o||(n=a,r=i[a]);return n}function g(e,t){if(t.length)if(t.includes("ECONOMY")){var n=e.prices||{},r=n.ECONOMY,i=n.BUSINESS,o=n.FIRST;e.economySoldOut="undefined"===typeof r&&("undefined"!==typeof i||"undefined"!==typeof o)}else e.economySoldOut=!1}function v(e,t){var n,r=e.tripTagsV2||{};e.tripTags=(0,a.Z)({},r[t]);var i=e.flightTagsV2||{};i&&(null===(n=Object.keys(i))||void 0===n?void 0:n.length)>0&&(e.flightTags=(0,a.Z)({},i[t]))}function y(e,t,n){var r=e.specialPrices,i=e.prices,o=e.flagTags,a=r||{},c=a.ACTUAL_PRICE,s=void 0===c?0:c;return n&&"ECONOMY"===t&&i[t]&&-1!==(null===o||void 0===o?void 0:o.indexOf("LockPriceV3Use"))&&s>0?s:i[t]}function x(e,t,n){var r=null===t||void 0===t?void 0:t.split(",");e.forEach((function(e){g(e,r);var t=h(e,r);v(e,t),e.price=y(e,t,n),e.discount=e.discounts[t],e.lowestPrices?(e.childPrice=e.lowestPrices.CHILD&&e.lowestPrices.CHILD[t]?"\u513f\u7ae5\xa5".concat(e.lowestPrices.CHILD[t]):e.lowestPrices.CHILD_BOOK_ADULT&&e.lowestPrices.CHILD_BOOK_ADULT[t]?"\u513f\u7ae5\xa5".concat(e.lowestPrices.CHILD_BOOK_ADULT[t]):"\u513f\u7ae5\u4e0d\u53ef\u8ba2",e.infantPrice=e.lowestPrices.INFANT&&e.lowestPrices.INFANT[t]?"\u5a74\u513f\xa5".concat(e.lowestPrices.INFANT[t]):"\u5a74\u513f\u4e0d\u53ef\u8ba2"):(e.childPrice="\u513f\u7ae5\u4e0d\u53ef\u8ba2",e.infantPrice="\u5a74\u513f\u4e0d\u53ef\u8ba2"),e.ticketCounts&&(e.ticketCount=e.ticketCounts[t])}))}function _(e,t){var n=(0,c.dayjs)(t).startOf("day"),i=n.add(6,"hour"),o=i.add(6,"hour"),a=o.add(6,"hour"),s=(0,c.dayjs)(t).endOf("day"),l=[{name:"\u7279\u60e0\u822a\u73ed",value:[n,s],price:0},{name:"\u51cc\u6668\u4f4e\u4ef7",value:[n,i],price:0},{name:"\u4e0a\u5348\u4f4e\u4ef7",value:[i,o],price:0},{name:"\u4e0b\u5348\u4f4e\u4ef7",value:[o,a],price:0},{name:"\u665a\u4e0a\u4f4e\u4ef7",value:[a,s],price:0}],u=l;u.forEach((function(t){var n=e.filter((function(e){return(0,c.dayjs)(e.departDateTime).isBetween(t.value[0],t.value[1])})).map((function(e){return e.price}));t.price=Math.min.apply(Math,(0,r.Z)(n))})),u=u.filter((function(e){return e.price})),e.forEach((function(e){var t=e.tripTags&&Object.values(e.tripTags).indexOf("\u4e13\u5c5e\u4f4e\u4ef7");if(-1!==t)e.lowestTag="\u4e13\u5c5e\u4f4e\u4ef7",e.tripTags.splice(t,1);else if(u.map((function(e){return e.price})).includes(e.price)){var n=u.filter((function(t){return t.price===e.price&&(0,c.dayjs)(e.departDateTime).isBetween(t.value[0],t.value[1])}));n.length&&(e.lowestTag=n[0].name)}}))}function N(e,t){return parseInt(e.split(":").join(""))-parseInt(t.split(":").join(""))}function T(e){var t=!1,n=e.stops,r=void 0===n?[]:n;return r&&r.length>0&&(t=!0),t}function w(e,t,n){return(0,r.Z)(e).sort((function(e,r){var i="TIME_DESCEND"===t?N(r.departureTime,e.departureTime):N(e.departureTime,r.departureTime);if(0===i&&1===e.airlines.length){var o=T(e),a=T(r);o&&!a&&(i=1),!o&&a&&(i=-1)}return 0===i&&(i=e.prices[n]-r.prices[n]),i}))}function b(e,t,n){var r=null===t||void 0===t?void 0:t.split(","),i=0;return null===r||void 0===r||r.forEach((function(t){null!==e&&void 0!==e&&e.prices[t]&&(i=y(e,t,n))})),0===i&&(i=(null===e||void 0===e?void 0:e.price)||0),i}function C(e,t,n,i){return(0,r.Z)(e).sort((function(e,r){var o=b(e,n,i),a=b(r,n,i),c="PRICE_DESCEND"===t?a-o:o-a;if(0===c&&1===e.airlines.length){var s=T(e),l=T(r);s&&!l&&(c=1),!s&&l&&(c=-1)}return 0===c&&(c=N(e.departureTime,r.departureTime)),c}))}function j(){for(var e=[],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&"string"===typeof t&&e.push.apply(e,(0,r.Z)(t.split(",")))})),Array.from(new Set(e))}var S=function(e,t,n){var r=[];if("ECONOMY"!==e){var i=m(e,d.Og.DOMESTIC);i&&r.push([i])}return t&&r.push(t),n&&r.push(n),r};function k(e){var t,n=e.aFilterFromParams,r=e.dFilterFromParams,i=e.cabinsFromParams,o=void 0===i?"[]":i,a=e.name,c=e.cabin,s=e.isHasTax,l=void 0===s||s,d=e.isInter,f=void 0!==d&&d,m=e.direct,p=e.dAirportCode,h=void 0===p?"":p,g=e.aAirportCode,v=void 0===g?"":g,y="second"===a?n:r,x=[],_=(0,u.Qc)(decodeURIComponent(y||"").replace(/\|/g,"&").replace(/:/g,"=")),N=[];try{N=JSON.parse(o)}catch(e){console.log(e)}var T,w="first"===a?N[0]:N[1],b=null===_||void 0===_||null===(t=_.cabin)||void 0===t||null===(t=t.split(","))||void 0===t?void 0:t[0];if(b)switch(b){case"2":case"3":T="BUSINESS,FIRST";break;case"1":T="ECONOMY";break;case"0":default:break}var C=w||T||c;"BUSINESS,FIRST"!==C||f||x.push(["\u516c\u52a1\u8231/\u5934\u7b49\u8231"]),!l&&f&&x.push(["\u770b\u4e0d\u542b\u7a0e\u4ef7"]);var S="1"===b;!f&&S&&"ECONOMY"===C&&x.push(["\u7ecf\u6d4e\u8231"]);var k=j(_.dport||h);k.length&&x.push(k);var I=j(_.aport||v);return I.length&&x.push(I),_.airline&&x.push(_.airline.split(",")),_.tcity&&x.push(_.tcity.split(",").map((function(e){return"\u4e2d\u8f6c"+e}))),1===Number(m)&&x.push(["only_direct"]),x}function I(e,t){var n=!1;return e.forEach((function(e){Array.isArray(e)&&e.forEach((function(e){return e===t&&(n=!0)})),e===t&&(n=!0)})),n}function E(e,t){var n,r=e||{},i=r.filterSCabin,o=r.dfilter,a=[];"YES"===i&&l.CL&&a.push({name:"filterSCabin",value:"YES"});var c=decodeURIComponent(o||""),s=(0,u.Qc)(c.replace(/\|/g,"&").replace(/:/g,"="))||{},d=null===s||void 0===s||null===(n=s.cabin)||void 0===n||null===(n=n.split(","))||void 0===n?void 0:n[0],f="1"===d&&(null===t||void 0===t?void 0:t.some((function(e){return"ECONOMY"===e})));return f&&l.CL&&a.push({name:"filterCabin",value:"ECONOMY"}),(null===a||void 0===a?void 0:a.length)>0?a:void 0}var P=function(){(0,c.showToast)("\u6682\u4e0d\u652f\u6301\u5f80\u8fd4\u9009\u62e9\u4e0d\u540c\u8231\u7b49")}},6941:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});n(91425);var r=n(35111),i=function(e){var t=e.inSpecial,n=void 0!==t&&t,i=e.disableChangeStart,o=void 0!==i&&i,a=e.isHasTax,c=void 0===a||a,s=e.departureCityCode,l=e.arrivalCityCode,u=e.departureDate,d=e.arrivalDate,f=e.regionType,m=e.tripType;return(0,r.z)({departureCode:s,arrivalCode:l,start:u,end:d,regionType:f,tripType:m,pageName:"HOME",inSpecial:n?"1":"",isHasTax:c?"1":"0",disableChangeStart:o?"1":""}).then((function(e){if(e)return e}))}},35111:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(298),i=(n(91425),n(13768));function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.zC.jump((0,r.Z)({},e))}},55823:function(e,t,n){"use strict";n.d(t,{g:function(){return f}});var r=n(91425),i=n(90201),o=n(14506),a=n(45023),c=n(94892),s=n(71515),l=(n(13768),n(95260),{"fastTransformPop-wrapper":"FastTransModal-module_HFn0x","fastTransformPop-top":"FastTransModal-module_vd10b",fastTransform:"FastTransModal-module__CODW","fastTransformPop-content":"FastTransModal-module_Gyvvl","fastTransformPop-title":"FastTransModal-module_lTLrZ",titleIcon:"FastTransModal-module_e2Rrl","fastTransformPop-desc":"FastTransModal-module_WyX9w",descText:"FastTransModal-module_KdVXs",hightLight:"FastTransModal-module_GJ93x"}),u=n(2269),d=function(e){var t=e.notetit,n=e.textList,i=e.closeMiddleModal,o=function(){var e=(0,c.K4)({closeMethod:"close",mask:{enableClose:!1,style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},content:(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(s.View,{className:l["fastTransformPop-wrapper"],children:[(0,u.jsxs)(s.View,{className:l["fastTransformPop-top"],children:[(0,u.jsx)(s.Text,{children:" \u60a8\u9009\u62e9\u4e86"}),(0,u.jsx)(s.Image,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/fastTransform.png",className:l.fastTransform}),(0,u.jsx)(s.Text,{children:"\u822a\u73ed"})]}),(0,u.jsxs)(s.View,{className:l["fastTransformPop-content"],children:[(0,u.jsxs)(s.View,{className:l["fastTransformPop-title"],children:[(0,u.jsx)(s.Image,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domBooking/%20orange_tip.png",className:l.titleIcon}),t]}),(0,u.jsx)(s.View,{className:l["fastTransformPop-desc"],children:n.map((function(e,t){var n=e.text,i=e.hightLight;return(0,u.jsx)(s.View,{className:(0,r.classnames)(l.descText,(0,a.Z)({},l.hightLight,i)),children:n},t)}))})]})]})}),animationClassName:"animate__animated animate__slideInUp animate__faster",buttons:[{text:"\u91cd\u65b0\u9009\u62e9",class:"default",callback:function(){(0,c.Mr)(e),i&&i()}},{text:"\u7ee7\u7eed\u9884\u8ba2",class:"primary",callback:function(){return(0,c.Mr)(e)}}],style:{bottom:0,top:0,left:0,right:0,padding:"24px 16px 16px"}})};return o},f=function(e){var t,n=e.notes,r=e.closeMiddleModal,a=n.notetit,c=(null===n||void 0===n||null===(t=n.notes)||void 0===t?void 0:t[0])||"",s=c.desc,l=(0,o.i9)(s),u=d({notetit:a,textList:l,closeMiddleModal:r});return(0,i.useEffect)((function(){a&&s&&u()}),[a,s]),null}},42658:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(57042),i=n(24460),o=n(81876),a=n(21867),c=n(86066),s=n(45023),l=(n(91425),n(90201)),u=n(71515),d={loadingTop:"Loading-module_Zos8H",blockBox:"Loading-module_eH93k",loadingBlink:"Loading-module_SdzlN",b1:"Loading-module_a9jjA",b2:"Loading-module_JofoW",b3:"Loading-module_MtB5V",b4:"Loading-module_RfYqP",b5:"Loading-module_OtMSO",b6:"Loading-module_cOUAV",b7:"Loading-module_a8gYP",b8:"Loading-module_xPrDO",b9:"Loading-module_cizJp",b10:"Loading-module_ZCJg5",b11:"Loading-module_ri133",b12:"Loading-module_UFpf1",b13:"Loading-module_f6Ibf",b14:"Loading-module_teCf9",b15:"Loading-module_pO7Z_",c1:"Loading-module_uImSM",c2:"Loading-module_GkdOa",c3:"Loading-module_FMduI",c5:"Loading-module_qwkiz",c6:"Loading-module_JHZdm",divBox:"Loading-module_Nabu_",d1:"Loading-module_xfwMM",c4:"Loading-module_DQ62f",d2:"Loading-module_tDCTA",d3:"Loading-module_Qjky3",d4:"Loading-module_W8ykv",d5:"Loading-module_iWgM8",viewBox:"Loading-module_IVJkP",v1:"Loading-module_aPRSy"},f=n(2269),m=function(e){(0,a.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,s.Z)((0,o.Z)(e),"config",{component:!0}),e}return(0,i.Z)(n,[{key:"render",value:function(){var e,t=!(null===(e=this.props)||void 0===e||!e.isInterMiddle);return(0,f.jsx)(l.Fragment,{children:(0,f.jsxs)(u.View,{className:d.loadingContainer,children:[(0,f.jsxs)(u.View,{className:d.loadingTop,children:[(0,f.jsxs)(u.View,{className:d.divBox,children:[(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b1)}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b2)})]}),t?(0,f.jsxs)(u.View,{className:"".concat(d.divBox," ").concat(d.c4),children:[(0,f.jsxs)(u.View,{className:"".concat(d.divBox," ").concat(d.d2),children:[(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.c2)}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.c2," ").concat(d.c5)})]}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.c1)}),(0,f.jsxs)(u.View,{className:"".concat(d.divBox," ").concat(d.d2),children:[(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.c3)}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.c3," ").concat(d.c5)}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.c6)})]})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(u.View,{className:"".concat(d.divBox," ").concat(d.d1),children:[(0,f.jsxs)(u.View,{className:"".concat(d.divBox," ").concat(d.d2),children:[(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b3)}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b4)})]}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b5)}),(0,f.jsxs)(u.View,{className:"".concat(d.divBox," ").concat(d.d2),children:[(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b3)}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b4)})]})]}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b6)})]})]}),(0,f.jsx)(u.View,{className:"".concat(d.viewBox," ").concat(d.v1),children:(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b7)})}),(0,f.jsxs)(u.View,{className:"".concat(d.viewBox," ").concat(d.divBox," ").concat(d.d3),children:[(0,f.jsxs)(u.View,{className:"".concat(d.divBox," ").concat(d.d4),children:[(0,f.jsxs)(u.View,{className:"".concat(d.divBox," ").concat(d.d5),children:[(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b8)}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b9)})]}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b10)}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b11)}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b12)})]}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b13),children:" "})]}),[1,2].map((function(e){return(0,f.jsxs)(u.View,{className:"".concat(d.viewBox," ").concat(d.divBox," ").concat(d.d3),children:[(0,f.jsxs)(u.View,{className:"".concat(d.divBox," ").concat(d.d4),children:[(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b14),children:" "}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b15),children:" "})]}),(0,f.jsx)(u.View,{className:"".concat(d.blockBox," ").concat(d.b13),children:" "})]},e)}))]})})}}]),n}(l.Component),p=m},35232:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(79301),i=n(95308),o=n(90129),a=n(91425),c=n(90201),s=n(71515),l=n(99531),u=n(60933),d={loginContainer:"LoginBar-module_GBl_0",loginBox:"LoginBar-module_TMUpl",loginTip:"LoginBar-module_J_Dn_",loginBtn:"LoginBar-module_PAMfG",btnText:"LoginBar-module_nqwsm"},f=n(2269);function m(e){var t=e.userId,n=e.refetch,m=(0,c.useState)(!1),p=(0,o.Z)(m,2),h=p[0],g=p[1],v=(0,c.useCallback)((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return(0,l.jq)("c_middle_login_bar_btn"),(0,l.ff)("c_xcx_FLT_Middle_loadingbutton"),e.next=4,(0,u.fN)().then((function(){g(!1),n()}));case 4:case"end":return e.stop()}}),e)}))),[n]);return(0,c.useEffect)((function(){t?g(!1):((0,l.ff)("s_xcx_FLT_Middle_loadingplate"),g(!0))}),[g,t]),h?(0,f.jsx)(s.View,{className:d.loginContainer,children:(0,f.jsxs)(s.View,{className:d.loginBox,children:[(0,f.jsx)(s.View,{className:d.loginTip,children:"\u70b9\u51fb\u767b\u5f55\u89e3\u9501\u66f4\u591a\u4f4e\u4ef7"}),(0,f.jsx)(s.View,{className:d.loginBtn,onClick:(0,a.trackFn)("goToLogin--b6612",v),children:(0,f.jsx)(s.Text,{className:d.btnText,children:"\u7acb\u5373\u767b\u5f55"})})]})}):null}},85897:function(e,t,n){"use strict";n.d(t,{Z:function(){return Je}});var r=n(90129),i=n(91425),o=n(90201),a=n(71515),c=n(92954),s=n(18228),l=n(29557),u=n(95518),d=n(94892),f={"pop-title":"index-module_ukKuJ"},m=n(2269),p=function(e){var t=e.priceLockPop,n=void 0===t?[]:t;return(0,m.jsx)(a.View,{className:f["price-lock-pop"],children:(0,m.jsx)(u.Z,{scrollY:!0,className:f["container-box"],id:"id_a6334",onScroll:(0,i.trackFn)("id_a6334"),children:(0,m.jsx)(a.View,{className:f["scroll-div"],children:n.map((function(e,t){var n=e.title,r=e.content;return(0,m.jsxs)(a.View,{className:f["detail-box"],children:[(0,m.jsxs)(a.View,{className:f["detail-title"],children:[(0,m.jsx)(a.Text,{className:f["title-number"],children:t+1}),(0,m.jsx)(a.Text,{className:f["title-text"],children:n}),(0,m.jsx)(a.View,{className:f["title-bg"]})]}),(0,m.jsx)(a.View,{className:f["detail-content"],children:r})]},t)}))})})})},h=function(e){var t=e||{},n=t.priceLockPop,r=void 0===n?[]:n,i=t.pageTitle,o=void 0===i?"":i;r.length&&(0,d.K4)({close:{position:"top-left"},closeMethod:"close",title:o,content:(0,m.jsx)(p,{priceLockPop:r,pageTitle:o}),position:"bottom"})},g=function(){return function(){}},v=g,y=n(98082),x=n(97659),_=n(56262),N=n(42891),T=n(51070),w=n(30993),b=n(98140),C=n(63779),j={policyNew:"Policy-module_Falbg",policyNew2:"Policy-module_n7Lgl",policyTopBox:"Policy-module_cnTui",policyTopText:"Policy-module_lp4r6",SeparatorComp:"Policy-module_GjKbY",cardNewBody:"Policy-module_c1mFR",policyInfo:"Policy-module_rK9Pf",policyInfo2:"Policy-module_Q7S33",haveLockTag:"Policy-module_mwBer",cardContainer:"Policy-module_UHP5c",newTitle:"Policy-module_XS2sN",FBCabin:"Policy-module_jruKn",lockService:"Policy-module_HcrE6",lockPolicy:"Policy-module_kySiK",newTitleText:"Policy-module_kBavo",highLockTitle:"Policy-module_GNhz4",lockTitleText:"Policy-module_eY2im",greenTxt:"Policy-module_QNgJh",lockSubtitle:"Policy-module_G2wJf",lockTrend:"Policy-module_HhkdD","policy-priceLock":"Policy-module_lIm7z",policyBody:"Policy-module_xuXlH",policyBody2:"Policy-module_fWtCu",policyContainer:"Policy-module_dDWTF",policyBox:"Policy-module_pc1uU",priceBox:"Policy-module_PsWq9",priceSymbol:"Policy-module_ZB9T2",priceNumber:"Policy-module_bY4NM",subtitle:"Policy-module_RwsCp",plySubtitle:"Policy-module_rLcrD",lowPricePoolLeft:"Policy-module_wQF5F",icon:"Policy-module_X_lyS",lowPriceLabelLeft:"Policy-module_JguZv",strong:"Policy-module_ylHGm",lowPriceRightIcon:"Policy-module_mpVap",airlineLabelBox:"Policy-module_A799k",addMargin:"Policy-module_rklW4",airlineTag:"Policy-module_ZkpCI",lowPricePoolRight:"Policy-module_x1qG7",discountLabelBox:"Policy-module_qSDpn",labelMargin:"Policy-module_DvIpK",lowPriceLabelRight:"Policy-module_OzwRt",discountLabelText:"Policy-module_IJBqz",price:"Policy-module_y2Lex",rightIcon:"Policy-module_HoH2O",policyTitleTag:"Policy-module_DW48H",moreTag:"Policy-module_bWtxd",policyBottom:"Policy-module_abLzW",policyLeft:"Policy-module_pRwBT",cabinInfo:"Policy-module_qrigz",cabinInfo2:"Policy-module__w_qg",airlineType:"Policy-module_ImZTP",tagsMapBox:"Policy-module_pS2To",tagsMapBoxNew:"Policy-module_cZtUw",baggageBox:"Policy-module_ULb1q",flightBaggage:"Policy-module_NJh2a",lockDesc:"Policy-module_yaj62",policyGou:"Policy-module_KzVX0",tag_highlight:"Policy-module_Qzmee",extraTags:"Policy-module_JoL9A",limitInfo:"Policy-module_Tb1ir",flightLimit:"Policy-module_xfnpR",policyTag:"Policy-module_UxEaA",memberTag:"Policy-module_c9pid",superMember:"Policy-module_x41Sk",blackMember:"Policy-module_Bh3El",addTopMargin:"Policy-module_WRqri",priceLockDetail:"Policy-module_U8M2u",priceLockTop:"Policy-module_f0sbV",priceLockTag:"Policy-module_mTdqV",priceLockText:"Policy-module_kb5Xy",rightIconLock:"Policy-module_ltpvj",priceLockBottom:"Policy-module_qEGRe",lotteryContainer:"Policy-module_GaH9S",lotteryWrapper:"Policy-module_fkB3z",absoluteCenter:"Policy-module_RoRVN",lotteryBg:"Policy-module_X5OZH",lotteryFg:"Policy-module_gJjNL",coupon:"Policy-module_AN1c4",lotteryCoupon:"Policy-module_lYALR",couponNum:"Policy-module_fMUtV",couponText:"Policy-module_x2cnb",animationScroll:"Policy-module_nn4Bt",lotterySuccessText:"Policy-module_hTIcM",lotteryBtn:"Policy-module_Okcn0","btn-bg":"Policy-module_LqAZ7",btnText:"Policy-module_bnB6M",lotteryPopClose:"Policy-module_e0dfy","icon-close":"Policy-module_Spk9d",_span:"Policy-module_XiCZz",priceExplanation:"Policy-module_sxkU_",priceContainer:"Policy-module_mnEwH",describeText:"Policy-module_imV88",originPrice:"Policy-module_rNJLQ",discount:"Policy-module_OeLue",originTitle:"Policy-module_b6y_n",discountTitle:"Policy-module_BsCwy",listHeaderDashed:"Policy-module_uIALz",discountAfterPrice:"Policy-module_djEle",discountStrong:"Policy-module_BDmyq",lockDetail:"Policy-module_se9k7",second:"Policy-module_Zd8aV",reduceTop:"Policy-module_LO1RH",secondLeft:"Policy-module_AX_tV",lockIcon:"Policy-module_7Iq0R",listDashed:"Policy-module_ZcE_c",hlGreen:"Policy-module_n3915",firstTitle:"Policy-module_EK0zH",totalTitle:"Policy-module_qhK5Z",totalPrice:"Policy-module_XD4Ml",secondTitle:"Policy-module_IUnw4",rowAround:"Policy-module_a8d5O",totalPriceBox:"Policy-module_KMaa9",priceTip:"Policy-module_qdjKc",addBottom:"Policy-module_y6JCr",bookButton:"Policy-module_dkjTh",limit:"Policy-module_K74Kd",lockBtnTxt:"Policy-module_fpYzq",describeBox:"Policy-module_DLfM9",greenColor:"Policy-module_pr2dq",blueColor:"Policy-module_x32Hr",newTagContainer:"Policy-module_xedrl",tagImage:"Policy-module_OzXs_",arrowRightStyle:"Policy-module_OEoPt"},S=function(e){var t=e.closeLotteryPop,n=e.lowPriceNoteList,c=e.lotteryClick,l=e.goToBooking,u=e.lotteryFinish,d=e.clickPayFlag,f=(0,o.useState)({lotteryBg:"",lotteryFg:"",couponListBg:"",lowPoolBtn:""}),p=(0,r.Z)(f,2),h=p[0],g=p[1],v=(0,o.useState)("\u6b63\u5728\u62bd\u5956..."),y=(0,r.Z)(v,2),_=y[0],N=y[1],T=(0,o.useState)(!1),w=(0,r.Z)(T,2),b=w[0],S=w[1],k=function(){(u||b)&&((0,s.jq)("\u70b9\u51fb\u4e2d\u95f4\u9875\u4f4e\u4ef7\u6c60\u62bd\u5956\u8d2d\u7968"),l(),t())};(0,o.useEffect)((function(){C.Z.initPromise.then((function(){var e=C.Z.get("lowPricePool");g(null===e||void 0===e?void 0:e.imgUrl)}))}),[]),(0,o.useEffect)((function(){setTimeout((function(){N("\u4ee5\u4f18\u60e0\u4ef7\u8ba2\u7968")}),1e3),setTimeout((function(){c(),S(!0)}),2500)}),[N,c]);var I=(0,o.useCallback)((function(){d&&l(),t()}),[d,t,l]),E=function(e,t){var n=e&&e.find((function(e){return e.type===t}));return n&&n.content||""};return(0,m.jsx)(a.View,{className:j.lotteryContainer,catchMove:!0,children:(0,m.jsxs)(a.View,{className:j.lotteryWrapper,children:[(0,m.jsx)(x.Z,{className:j.lotteryBg,src:null===h||void 0===h?void 0:h.lotteryBg}),(0,m.jsx)(x.Z,{className:j.lotteryFg,src:null===h||void 0===h?void 0:h.lotteryFg}),(0,m.jsx)(a.View,{className:"".concat(j.absoluteCenter," ").concat(j.animationScroll," ").concat(j.coupon),style:{backgroundImage:"url(".concat(null===h||void 0===h?void 0:h.couponListBg,")"),backgroundSize:"cover"},children:(0,m.jsxs)(a.View,{className:j.lotteryCoupon,children:[(0,m.jsx)(a.Text,{className:j.couponNum,children:E(n,11)}),(0,m.jsx)(a.Text,{className:j.couponText,children:E(n,12)})]})}),(0,m.jsx)(a.View,{className:"".concat(j.absoluteCenter," ").concat(j.lotteryBtn),onClick:(0,i.trackFn)("gotoLottery--db037",k),"data-testid":"go-to-lottery",style:{backgroundImage:"url(".concat(null===h||void 0===h?void 0:h.lowPoolBtn,")"),backgroundSize:"cover"},children:(0,m.jsx)(a.Text,{className:j.btnText,children:_})}),(u||b)&&(0,m.jsx)(a.Text,{className:"".concat(j.absoluteCenter," ").concat(j.lotterySuccessText),children:"\u62bd\u5956\u6210\u529f!"}),(0,m.jsx)(a.View,{className:j.lotteryPopClose,onClick:(0,i.trackFn)("clickClosePop--56f8e",I),"data-testid":"click-close-pop",children:(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-close"})})]})})},k=function(e,t){var n=e&&e.find((function(e){return e.type===t}));return n&&n.content||""},I=function(e){return e&&e.find((function(e){return 10===e.type}))};function E(e){var t=e.policyNoteList,n=e.openPriceDetail,r=e.lotteryFinish,o=e.openLotteryPop,c=e.policyIndex;if(!I(t))return null;var l=function(){(0,s.jq)("\u4e2d\u95f4\u9875\u70b9\u51fb\u4f4e\u4ef7\u6c60\u62bd\u5956\u6807\u7b7e"),o()};return(0,m.jsxs)(m.Fragment,{children:[r&&(0,m.jsxs)(a.View,{className:j.lowPricePoolRight,onClick:(0,i.trackFn)("onClick--a1f45",(function(){return n("lowPricePool")})),"data-testid":"open-price-detail-".concat(c-1),children:[(0,m.jsxs)(a.View,{className:"".concat(j.lowPriceLabelRight," tracking-tighter"),children:[(0,m.jsx)(a.Text,{children:k(t,14).split("|")[0]}),(0,m.jsx)(a.Text,{className:j.price,children:k(t,14).split("|")[1]})]}),(0,m.jsx)(a.Text,{className:j.rightIcon})]}),!r&&(0,m.jsxs)(a.View,{className:j.lowPricePoolLeft,onClick:(0,i.trackFn)("openLottery--d972d",l),"data-testid":"open-lottery-".concat(c-1),children:[(0,m.jsx)(x.Z,{className:j.icon,src:"https://pages.c-ctrip.com/flight_h5/swift/redPacketIcon.png"}),(0,m.jsxs)(a.View,{className:j.lowPriceLabelLeft,children:[k(t,10).split("|")[0],(0,m.jsx)(a.Text,{className:j.strong,children:k(t,10).split("|")[1]})]}),(0,m.jsx)(a.Text,{className:j.rightIcon})]})]})}var P=n(99531),L=n(65550),V=n(7138),O=n(68425),A=n(52050),R=n(57042),D=n(24460),Z=n(81876),F=n(21867),M=n(86066),B=n(45023),U=function(){function e(){return{onSwitchPopup:function(e,t){var n="string"===typeof e?e:e.dataset.name;t.setData?t.setData((0,B.Z)({},"popup."+n,!t.data.popup[e.dataset.name])):t.setState({popup:Object.assign(t.state.popup,(0,B.Z)({},n,!t.state.popup[n]))})},onOpenPopup:function(e,t){var n="string"===typeof e?e:e.dataset.name;t.setData?t.setData((0,B.Z)({},"popup."+n,!0)):t.setState({popup:Object.assign(t.state.popup,(0,B.Z)({},n,!0))})},onClosePopup:function(e,t){var n="string"===typeof e?e:e.dataset.name;t.setData?t.setData((0,B.Z)({},"popup."+n,!1)):t.setState({popup:Object.assign(t.state.popup,(0,B.Z)({},n,!1))})}}}return{getInstance:function(){return e()}}}(),q=U.getInstance(),Y=q,H={"refund-info":"RmkRefund-module_lzI6T","item-title":"RmkRefund-module_jNGJo",placeholder:"RmkRefund-module_Vf3Eh","price-detail":"RmkRefund-module_x_9e9",supplier:"RmkRefund-module_tWz9W","price-detail-title":"RmkRefund-module_Az1Rm","rule-title":"RmkRefund-module_yamqW","item-rule":"RmkRefund-module_SF9ne","price-detail-comment":"RmkRefund-module_vrFAT","price-detail-content-text":"RmkRefund-module_MW_cH","price-detail-content":"RmkRefund-module_oIAi7","item-table":"RmkRefund-module_Y2d7y","table-head":"RmkRefund-module_xDgFO","table-content":"RmkRefund-module_fnB6M",tr:"RmkRefund-module_wuugd","tr-title":"RmkRefund-module_QtQZI",half:"RmkRefund-module_yrol0","tr-content":"RmkRefund-module_EZDkI","tr-content-row":"RmkRefund-module_KYUGv","td-default":"RmkRefund-module_oYQST",dtime:"RmkRefund-module_PV1Pl",dprice:"RmkRefund-module_jaVBu",overdue:"RmkRefund-module_PsKd7",comment:"RmkRefund-module_yMovx","quote-icon":"RmkRefund-module_fjE_h","quote-tip":"RmkRefund-module_ZpDNN"},G={changeDesc:"RmkLayer-module_v8VsP",changeContent:"RmkLayer-module_u8zVN",changeQue:"RmkLayer-module_BCPrL",changeTitle:"RmkLayer-module__vquI","change-ans":"RmkLayer-module_VcggW",changeSign:"RmkLayer-module_t837F",rmkLayerItem:"RmkLayer-module_POHgy"},W=function(){return(0,m.jsxs)(a.View,{className:"".concat(G.changeDesc," px-3 pt-2"),children:[(0,m.jsxs)(a.View,{className:G.changeContent,children:[(0,m.jsxs)(a.View,{className:G.changeQue,children:[(0,m.jsx)(a.Text,{children:"Q:"}),(0,m.jsx)(a.Text,{children:"\u7b7e\u8f6c\u4ed6\u822a\u662f\u4ec0\u4e48\u610f\u601d\uff1f"})]}),(0,m.jsxs)(a.View,{className:G.changeTitle,children:[(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:G.changeSign,children:"A\uff1a"})}),(0,m.jsxs)(a.View,{children:[(0,m.jsx)(a.Text,{children:"\u7b7e\u8f6c\u4ed6\u822a\u662f\u6307\u6539\u7b7e\u81f3\u4e0d\u540c\u822a\u7a7a\u516c\u53f8\u822a\u73ed\u3002"}),(0,m.jsx)(a.Text,{children:"\u4f8b\u5982\u60a8\u539f\u8ba2\u7684\u662f\u4e1c\u65b9\u822a\u7a7a\u516c\u53f8\u7684\u822a\u73ed\uff0c\u5982\u679c\u4e1c\u65b9\u822a\u7a7a\u548c\u5357\u65b9\u822a\u7a7a\u4e4b\u524d\u6709\u7b7e\u8f6c\u534f\u8bae\uff0c\u540c\u610f\u4e24\u4e2a\u822a\u7a7a\u516c\u53f8\u7684\u5ba2\u4eba\u8fdb\u884c\u7b7e\u8f6c\uff0c\u90a3\u60a8\u9664\u4e86\u53ef\u4ee5\u6539\u671f\u5230\u4e1c\u65b9\u822a\u7a7a\u7684\u822a\u73ed\u4ee5\u5916\uff0c\u8fd8\u53ef\u4ee5\u9009\u62e9\u7b7e\u8f6c\u81f3\u5357\u65b9\u822a\u7a7a\u7684\u822a\u73ed\u3002"})]})]})]}),(0,m.jsxs)(a.View,{className:G.changeContent,children:[(0,m.jsxs)(a.View,{className:G.changeQue,children:[(0,m.jsx)(a.Text,{children:"Q:"}),(0,m.jsx)(a.Text,{children:"\u7b7e\u8f6c\u548c\u6539\u671f\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f"})]}),(0,m.jsxs)(a.View,{className:G.changeTitle,children:[(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:G.changeSign,children:"A\uff1a"})}),(0,m.jsxs)(a.View,{children:[(0,m.jsx)(a.Text,{children:"\u6539\u671f\u662f\u66f4\u6539\u51fa\u884c\u65e5\u671f\uff0c\u4f46\u627f\u8fd0\u7684\u822a\u7a7a\u516c\u53f8\u4e0d\u53d8\u3002"}),(0,m.jsx)(a.Text,{children:"\u7b7e\u8f6c\u662f\u6307\u7b7e\u8f6c\u5230\u4e0d\u540c\u822a\u7a7a\u516c\u53f8\u7684\u822a\u73ed\u3002"})]})]})]})]})},z=W,K=function(){(0,d.K4)({content:(0,m.jsx)(u.Z,{style:{maxHeight:"80vh"},scrollY:!0,id:"id_5fc70",onScroll:(0,i.trackFn)("id_5fc70"),children:(0,m.jsx)(z,{})}),title:"\u7b7e\u8f6c\u4ed6\u822a\u8bf4\u660e",position:"bottom",style:{width:"100vw"},close:{position:"top-left"}})},Q=function(){return(0,m.jsxs)(a.View,{className:"".concat(G.changeDesc," px-3 pt-2"),children:[(0,m.jsxs)(a.View,{className:G.changeContent,children:[(0,m.jsxs)(a.View,{className:G.changeQue,children:[(0,m.jsx)(a.Text,{children:"Q:"}),(0,m.jsx)(a.Text,{children:"\u4ec0\u4e48\u662f\u540c\u8231\u6539\u671f\uff1f"})]}),(0,m.jsxs)(a.View,{className:G.changeTitle,children:[(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:G.changeSign,children:"A\uff1a"})}),(0,m.jsxs)(a.View,{children:[(0,m.jsx)(a.Text,{children:"\u6539\u671f\u5206\u4e3a\u4e24\u79cd\uff1a\u540c\u8231\u4f4d\u66f4\u6539\u548c\u5347\u8231\u3002"}),(0,m.jsx)(a.Text,{children:"\u540c\u8231\u6539\u671f\u5c31\u662f\u76f8\u540c\u8231\u4f4d\u6539\u671f\uff0c\u5982\u60a8\u539f\u5148\u9884\u8ba2\u7684\u662f\u7ecf\u6d4e\u82315\u6298\u7968\uff0c\u540c\u8231\u6539\u671f\u6307\u7684\u662f\u66f4\u6539\u5230\u5176\u4ed6\u822a\u73ed\u7684\u540c\u7b49\u6298\u6263\u7ecf\u6d4e\u8231\uff0c\u6b64\u65f6\u6309\u7167\u540c\u8231\u6539\u671f\u6536\u8d39\u89c4\u5219\u8ba1\u7b97\u6539\u671f\u8d39\u3002"})]})]})]}),(0,m.jsxs)(a.View,{className:G.changeContent,children:[(0,m.jsxs)(a.View,{className:G.changeQue,children:[(0,m.jsx)(a.Text,{children:"Q:"}),(0,m.jsx)(a.Text,{children:"\u5982\u679c\u6539\u671f\u65f6\uff0c\u53ea\u5269\u4e0b\u66f4\u9ad8\u6298\u6263\u8231\u4f4d\uff0c\u600e\u4e48\u6536\u8d39\u5462\uff1f"})]}),(0,m.jsxs)(a.View,{className:G.changeTitle,children:[(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:G.changeSign,children:"A\uff1a"})}),(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{children:"\u5982\u679c\u60a8\u6240\u6539\u822a\u73ed\u7684\u8231\u4f4d\u6298\u6263\u9ad8\u4e8e\u539f\u6765\u9884\u8ba2\u7684\u8231\u4f4d\u6298\u6263\uff0c\u5c5e\u4e8e\u5347\u8231\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u822a\u7a7a\u516c\u53f8\u90fd\u4f1a\u8981\u6c42\u8865\u4ea4\u673a\u7968\u5dee\u4ef7\u3002\u6b64\u65f6\u6539\u7b7e\u9700\u6536\u53d6\uff1a\u540c\u8231\u6539\u671f\u8d39+\u673a\u7968\u5dee\u4ef7\u3002"})})]})]}),(0,m.jsxs)(a.View,{className:G.changeContent,children:[(0,m.jsxs)(a.View,{className:G.changeQue,children:[(0,m.jsx)(a.Text,{children:"Q:"}),(0,m.jsx)(a.Text,{children:"\u5982\u679c\u6539\u671f\u65f6\uff0c\u6709\u66f4\u4f4e\u4ef7\u683c\u822a\u73ed\uff0c\u80fd\u9000\u6211\u94b1\u4e48\uff1f"})]}),(0,m.jsxs)(a.View,{className:G.changeTitle,children:[(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:G.changeSign,children:"A\uff1a"})}),(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{children:"\u822a\u7a7a\u516c\u53f8\u53ea\u5141\u8bb8\u540c\u8231\u6216\u5347\u8231\u6539\u671f\uff0c\u6539\u671f\u662f\u65e0\u6cd5\u6539\u5230\u66f4\u4f4e\u4ef7\u683c\u822a\u73ed\u7684\u3002\u5982\u679c\u6539\u671f\u65f6\uff0c\u60a8\u53d1\u73b0\u6709\u66f4\u4f4e\u4ef7\u683c\u822a\u73ed\uff0c\u53ef\u8ba1\u7b97\u4e00\u4e0b\uff0c\u9000\u7968\u91cd\u8ba2\u4e00\u5f20\u662f\u5426\u6bd4\u6539\u671f\u66f4\u5212\u7b97\u3002"})})]})]})]})},J=function(){(0,d.K4)({content:(0,m.jsx)(u.Z,{style:{maxHeight:"80vh"},scrollY:!0,id:"id_2c4ea",onScroll:(0,i.trackFn)("id_2c4ea"),children:(0,m.jsx)(Q,{})}),title:"\u540c\u8231\u6539\u671f\u6536\u8d39\u8bf4\u660e",position:"bottom",style:{width:"100vw",maxHeight:"80vh"},close:{position:"top-left"}})},X=function(e){(0,F.Z)(n,e);var t=(0,M.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,B.Z)((0,Z.Z)(e),"state",{popup:{MODIFY:!1,RESCHEDULE:!1}}),(0,B.Z)((0,Z.Z)(e),"config",{component:!0}),(0,B.Z)((0,Z.Z)(e),"onSwitchPopup",(function(t){Y.onSwitchPopup(t,(0,Z.Z)(e))})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e,t,n,r,c=this,s=this.state.popup,l=this.props.noteDetail||{},u=l||{},d=u.refund,f=u.change,p=u.endorse,h=u.supplierNote,g=u.type,v=u.notes;return(0,m.jsxs)(a.View,{className:H["refund-info"],children:[(null===d||void 0===d||null===(e=d.refundEndorses)||void 0===e?void 0:e.length)>0&&(0,m.jsxs)(a.View,{className:"".concat(H["price-detail"]," refund mt-2"),children:[(0,m.jsxs)(a.View,{className:H["price-detail-title"],children:[(0,m.jsxs)(a.View,{className:H["rule-title"],children:[(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-info"}),(0,m.jsx)(a.Text,{className:H["item-title"],children:d.title})]}),(0,m.jsxs)(a.View,{className:H["item-rule"],onClick:(0,i.trackFn)("onClick--649a4",(function(){return c.onSwitchPopup("REFUND_DESCRIPTION")})),children:["\u822a\u7a7a\u516c\u53f8\u539f\u6587",(0,m.jsx)(a.Text,{className:"iconfont-h5 ".concat(s.REFUND_DESCRIPTION?"icon-arrow-up":"icon-arrow-down")})]})]}),s.REFUND_DESCRIPTION&&(0,m.jsx)(a.View,{className:H["price-detail-comment"],children:d.airlineTexts.map((function(e,t){return(0,m.jsx)(a.View,{children:e},t)}))}),(0,m.jsxs)(a.View,{className:H["price-detail-content"],children:[d.refundEndorses.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:"".concat(H["item-table"]," rmk-table"),width:"100%",children:[(0,m.jsx)(a.View,{className:H["table-head"],children:(0,m.jsx)(a.Text,{children:e.title})}),(0,m.jsx)(a.View,{className:H["table-content"],children:e.passengerRefundEndorses.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:H.tr,children:[(0,m.jsx)(a.View,{className:H["tr-title"],children:e.passengerType}),(0,m.jsx)(a.View,{className:H["tr-content"],children:e.refundEndorsePriceDetails.map((function(e,t){return(0,m.jsxs)(a.View,{className:"".concat(H["tr-content-row"]," ").concat(e.disabled?H.overdue:"active"),children:[(!e.subText||""==e.subText)&&(0,m.jsx)(a.View,{className:H["td-default"],children:e.texts[0]}),e.subText&&""!=e.subText&&(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(a.View,{className:"".concat(H["td-default"]," ").concat(H.dtime),children:e.subText}),(0,m.jsx)(a.View,{className:"".concat(H["td-default"]," ").concat(H.dprice),children:e.texts.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:e},t)}))})]})]},t)}))})]})},t)}))})]})},t)})),null!=d.tips&&(0,m.jsx)(a.View,{className:H.comment,children:d.tips.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsx)(a.View,{children:e})},t)}))})]})]}),(null===f||void 0===f||null===(t=f.refundEndorses)||void 0===t?void 0:t.length)>0&&(0,m.jsxs)(a.View,{className:"".concat(H["price-detail"]," ").concat(H.change),children:[(0,m.jsxs)(a.View,{className:H["price-detail-title"],children:[(0,m.jsxs)(a.View,{className:H["rule-title"],children:[(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-info"}),(0,m.jsx)(a.Text,{className:H["item-title"],children:f.title}),(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-help-circle",onClick:(0,i.trackFn)("showModifyDesc--3a6fc",J)})]}),(0,m.jsxs)(a.View,{className:H["item-rule"],onClick:(0,i.trackFn)("onClick--92f9b",(function(){return c.onSwitchPopup("MODIFY_DESCRIPTION")})),children:["\u822a\u7a7a\u516c\u53f8\u539f\u6587",(0,m.jsx)(a.Text,{className:"iconfont-h5 ".concat(s.MODIFY_DESCRIPTION?"icon-arrow-up":"icon-arrow-down")})]})]}),s.MODIFY_DESCRIPTION&&(0,m.jsx)(a.View,{className:H["price-detail-comment"],children:f.airlineTexts.map((function(e,t){return(0,m.jsx)(a.View,{children:e},t)}))}),(0,m.jsxs)(a.View,{className:H["price-detail-content"],children:[f.refundEndorses.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:"".concat(H["item-table"]," rmk-table"),width:"100%",children:[(0,m.jsx)(a.View,{className:H["table-head"],children:(0,m.jsx)(a.Text,{children:e.title})}),(0,m.jsx)(a.View,{className:H["table-content"],children:e.passengerRefundEndorses.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:H.tr,children:[(0,m.jsx)(a.View,{className:H["tr-title"],children:e.passengerType}),(0,m.jsx)(a.View,{className:H["tr-content"],children:e.refundEndorsePriceDetails.map((function(e,t){return(0,m.jsxs)(a.View,{className:"".concat(H["tr-content-row"]," ").concat(e.disabled?H.overdue:"active"),children:[(!e.subText||""==e.subText)&&(0,m.jsx)(a.View,{className:H["td-default"],children:e.texts[0]}),e.subText&&""!=e.subText&&(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(a.View,{className:"".concat(H["td-default"]," ").concat(H.dtime),children:e.subText}),(0,m.jsx)(a.View,{className:"".concat(H["td-default"]," ").concat(H.dprice),children:e.texts.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:e},t)}))})]})]},t)}))})]})},t)}))})]})},t)})),null!=f.tips&&(0,m.jsx)(a.View,{className:H.comment,children:f.tips.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsx)(a.View,{children:e})},t)}))})]})]}),(null===p||void 0===p||null===(n=p.refundEndorses)||void 0===n?void 0:n.length)>0&&(0,m.jsxs)(a.View,{className:"".concat(H["price-detail"]," ").concat(H.reschedule),children:[(0,m.jsx)(a.View,{className:H["price-detail-title"],children:(0,m.jsxs)(a.View,{className:H["rule-title"],children:[(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-info"}),(0,m.jsx)(a.Text,{className:H["item-title"],children:p.title}),(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-help-circle",onClick:(0,i.trackFn)("showRescheduleDesc--e4c32",K)})]})}),(0,m.jsxs)(a.View,{className:H["price-detail-content"],children:[p.refundEndorses.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:"".concat(H["item-table"]," rmk-table"),width:"100%",children:[(0,m.jsx)(a.View,{className:H["table-head"],children:(0,m.jsx)(a.Text,{children:e.title})}),(0,m.jsxs)(a.View,{className:H["table-content"],children:[e.passengerRefundEndorses.length>0&&(0,m.jsx)(a.View,{children:e.passengerRefundEndorses.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:H.tr,children:[(0,m.jsx)(a.View,{className:H["tr-title"],children:e.passengerType}),(0,m.jsx)(a.View,{className:H["tr-content"],children:e.refundEndorsePriceDetails.map((function(e,t){return(0,m.jsxs)(a.View,{className:"tr-content-row "+(e.disabled?"overdue":"active"),children:[(!e.subText||""==e.subText)&&(0,m.jsx)(a.View,{className:H["td-default"],children:e.texts[0]}),e.subText&&""!=e.subText&&(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(a.View,{className:"".concat(H["td-default"]," ").concat(H.dtime),children:e.subText}),(0,m.jsx)(a.View,{className:"".concat(H["td-default"]," ").concat(H.dprice),children:e.texts.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:e},t)}))})]})]},t)}))})]})},t)}))}),0===e.passengerRefundEndorses.length&&(0,m.jsx)(a.View,{className:H.tr,children:(0,m.jsx)(a.View,{className:H["tr-content"],children:(0,m.jsx)(a.View,{className:H["tr-content-row"],children:(0,m.jsx)(a.View,{className:"".concat(H["td-default"]," col-12"),children:e.defaltDesc})})})})]})]})},t)})),null!=p.tips&&(0,m.jsxs)(a.View,{className:H.comment,children:[(0,m.jsx)(x.Z,{className:H["quote-icon"],src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/quote.png"}),p.tips.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsx)(a.Text,{className:H["quote-tip"],children:e})},t)}))]})]})]}),9===g&&(0,m.jsx)(a.View,{className:"".concat(H["price-detail"]," fee"),children:v.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:e.textInfos.map((function(e,t){return(0,m.jsx)(a.View,{className:H["price-detail-content-text"],children:(0,m.jsx)(a.Text,{children:e.text})},t)}))},t)}))}),9999===g&&(0,m.jsx)(a.View,{className:"".concat(H["price-detail"]," remark"),children:v.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:4==e.type&&(0,m.jsxs)(a.View,{children:[(0,m.jsxs)(a.View,{className:H["price-detail-title"],children:[(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-supplier"}),(0,m.jsx)(a.Text,{className:H["item-title"],children:"\u4f9b\u5e94\u5546"})]}),e.textInfos.map((function(e,t){return(0,m.jsx)(a.View,{className:H["price-detail-content-text"],children:(0,m.jsx)(a.View,{children:e.text})},t)}))]})},t)}))}),(null===h||void 0===h||null===(r=h.supplier)||void 0===r?void 0:r.length)>0&&(0,m.jsx)(a.View,{className:"".concat(H["price-detail"]," ").concat(H.supplier),children:(0,m.jsxs)(a.View,{className:H.supplier,children:[(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-supplier"})}),(0,m.jsxs)(a.View,{children:[(0,m.jsx)(a.View,{className:H["price-detail-title"],children:(0,m.jsx)(a.Text,{className:H["item-title"],children:h.title})}),h.supplier.map((function(e,t){return(0,m.jsxs)(a.View,{className:"".concat(H["price-detail-content-text"]," mt-1"),children:[h.supplier.length>1&&(0,m.jsx)(a.View,{children:e.journey}),e.desc.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsx)(a.View,{children:e})},t)}))]},t)}))]})]})})]})}}]),n}(o.Component);X.defaultProps={noteDetail:{},onChangeRulePopup:function(){}};var $=X,ee={baggageInfo:"RmkBaggage-module_V93Vy",itemTitle:"RmkBaggage-module_sm0lY",priceDetailTitle:"RmkBaggage-module_nt3wE",itemTable:"RmkBaggage-module_aRh39",tableHead:"RmkBaggage-module_w5Sz1",tableContent:"RmkBaggage-module_DThod",trNav:"RmkBaggage-module_xCCFf",trTab:"RmkBaggage-module_rpwCz",trTabItem:"RmkBaggage-module_MmxeB",_span:"RmkBaggage-module_xg_A4",active:"RmkBaggage-module_a0Pgr",tr:"RmkBaggage-module_xi8r_",trTitle:"RmkBaggage-module_ubNEc",checkedBaggage:"RmkBaggage-module_nypjx",checkedSize:"RmkBaggage-module_YdMc6",checkedSizeWidth:"RmkBaggage-module_UzppX",checkedSizeLength:"RmkBaggage-module_NMWz6",checkedSizeHeight:"RmkBaggage-module_OEju2",handBaggage:"RmkBaggage-module_ia7WG",handSize:"RmkBaggage-module_Oemju",handSizeWidth:"RmkBaggage-module_OgH8C",handSizeLength:"RmkBaggage-module_cWvkT",handSizeHeight:"RmkBaggage-module_ytOcB",tdTitle:"RmkBaggage-module_WUZoa",tdContent:"RmkBaggage-module_cwkJ5",tdContentItem:"RmkBaggage-module_uInBv",green:"RmkBaggage-module_B_B3I",orange:"RmkBaggage-module_r6_TP",trTxt:"RmkBaggage-module_hg9YU",comment:"RmkBaggage-module_Rpwpb"},te=function(e){(0,F.Z)(n,e);var t=(0,M.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,B.Z)((0,Z.Z)(e),"state",{active:[0,0,0,0]}),(0,B.Z)((0,Z.Z)(e),"config",{component:!0}),(0,B.Z)((0,Z.Z)(e),"onBaggageToggle",(function(t,n){var r=e.state.active;r[n]=t,e.setState({active:r})})),e}return(0,D.Z)(n,[{key:"_splitBaggageSize",value:function(e){return e.map((function(e){return e.passengerLuggages.forEach((function(e){e.checkinLuggage.size&&"string"===typeof e.checkinLuggage.size&&(e.checkinLuggage.size=e.checkinLuggage.size.split(/[*\xd7]/)),e.handLuggage.size&&"string"===typeof e.handLuggage.size&&(e.handLuggage.size=e.handLuggage.size.split(/[*\xd7]/))})),e}))}},{key:"render",value:function(){var e=this,t=this.state.active,n=this.props.luggageNote,r=this._splitBaggageSize(n&&n.loungeDetails||[]);return r.length?(0,m.jsx)(a.View,{className:ee.baggageInfo,children:(0,m.jsxs)(a.View,{className:"".concat(ee.priceDetail," mt-2"),children:[(0,m.jsxs)(a.View,{className:ee.priceDetailTitle,children:[(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-baggage"}),(0,m.jsx)(a.Text,{className:ee.itemTitle,children:n.title})]}),(0,m.jsxs)(a.View,{className:"price-detail-content",children:[r.map((function(n,r){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:"".concat(ee.itemTable," rmk-table"),width:"100%",children:[(0,m.jsx)(a.View,{className:ee.tableHead,children:(0,m.jsx)(a.Text,{children:n.journey})}),(0,m.jsxs)(a.View,{className:ee.tableContent,children:[n.passengerLuggages.length>1&&(0,m.jsx)(a.View,{className:ee.trNav,children:(0,m.jsx)(a.View,{className:ee.trTab,children:n.passengerLuggages.map((function(n,o){return(0,m.jsx)(a.View,{className:ee.trTabItem,children:(0,m.jsx)(a.View,{className:"".concat(ee._span," ").concat(o===t[r]?ee.active:""),onClick:(0,i.trackFn)(o+"--1d6ce",(function(){return e.onBaggageToggle(o,r)})),children:n.passengerType})},o)}))})}),n.passengerLuggages.map((function(e,n){return(0,m.jsx)(o.Fragment,{children:n===t[r]&&(0,m.jsxs)(o.Fragment,{children:[(0,m.jsxs)(a.View,{className:ee.tr,children:[(0,m.jsxs)(a.View,{className:ee.trTitle,children:[(0,m.jsx)(x.Z,{src:"https://pages.c-ctrip.com/flight_h5/swift/baggage/handBaggage1.png",className:ee.handBaggage}),3===e.handLuggage.size.length&&(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(x.Z,{src:"https://pages.c-ctrip.com/flight_h5/swift/baggage/handBaggage-size.png",className:ee.handSize}),(0,m.jsx)(a.View,{className:ee.handSizeWidth,children:e.handLuggage.size[0]+"cm"}),(0,m.jsx)(a.View,{className:ee.handSizeLength,children:e.handLuggage.size[1]+"cm"}),(0,m.jsx)(a.View,{className:ee.handSizeHeight,children:e.handLuggage.size[2]+"cm"})]})]}),(0,m.jsxs)(a.View,{className:ee.trContent,children:[(0,m.jsx)(a.View,{className:ee.tdTitle,children:e.handLuggage.title}),e.handLuggage.luggageDescs.map((function(e,t){return(0,m.jsx)(a.View,{className:ee.tdContent,children:(0,m.jsx)(a.View,{className:(0,i.classnames)(ee.tdContentItem,(0,B.Z)((0,B.Z)((0,B.Z)({},ee.green,"POSITIVE"===e.colorEnum),ee.orange,"NEGATIVE"===e.colorEnum),ee.black,[!1,"NEGATIVE"].includes(e.colorEnum))),children:e.desc})},t)}))]})]}),(0,m.jsxs)(a.View,{className:ee.tr,children:[(0,m.jsxs)(a.View,{className:ee.trTitle,children:[(0,m.jsx)(x.Z,{src:"https://pages.c-ctrip.com/flight_h5/swift/baggage/checkedBaggage.png",className:ee.checkedBaggage}),3===e.checkinLuggage.size.length&&(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(x.Z,{src:"https://pages.c-ctrip.com/flight_h5/swift/baggage/checkedBaggage-size.png",className:ee.checkedSize}),(0,m.jsx)(a.View,{className:ee.checkedSizeWidth,children:e.checkinLuggage.size[0]+"cm"}),(0,m.jsx)(a.View,{className:ee.checkedSizeLength,children:e.checkinLuggage.size[1]+"cm"}),(0,m.jsx)(a.View,{className:ee.checkedSizeHeight,children:e.checkinLuggage.size[2]+"cm"})]})]}),(0,m.jsxs)(a.View,{className:ee.trContent,children:[(0,m.jsx)(a.View,{className:ee.tdTitle,children:e.checkinLuggage.title}),e.checkinLuggage.luggageDescs.map((function(e,t){return(0,m.jsx)(a.View,{className:ee.tdContent,children:(0,m.jsx)(a.View,{className:(0,i.classnames)(ee.tdContentItem,(0,B.Z)((0,B.Z)((0,B.Z)({},ee.green,"POSITIVE"===e.colorEnum),ee.orange,"NEGATIVE"===e.colorEnum),ee.black,[!1,"NEGATIVE"].includes(e.colorEnum))),children:e.desc})},t)}))]})]}),null!=e.extras[0]&&""!==e.extras[0]&&(0,m.jsx)(a.View,{children:e.extras.map((function(e,t){return(0,m.jsx)(a.View,{className:ee.trTxt,children:(0,m.jsx)(a.Text,{children:"\u5907\u6ce8\uff1a"+e})},t)}))})]})},n)}))]})]})},r)})),n.tip&&(0,m.jsx)(a.View,{className:ee.comment,children:n.tip})]})]})}):null}}]),n}(o.Component);te.defaultProps={luggageNote:{}};var ne=te,re={"travel-package":"TravelPackage-module_WjzQd","coupon-container":"TravelPackage-module_c1OIK","coupon-hd":"TravelPackage-module_BWPE0","coupon-title":"TravelPackage-module_nYQWZ","coupon-subTitle":"TravelPackage-module_aLQYl","coupon-expiry":"TravelPackage-module_oM9oS","coupon-bd":"TravelPackage-module_sdaIy"},ie=(0,o.memo)((function(e){var t=e.noticeDetail,n=void 0===t?{}:t,r=(null===n||void 0===n?void 0:n.couponDetails)||[];return(0,m.jsx)(a.View,{className:re["travel-package"],children:(0,m.jsx)(a.View,{className:"notice-main",children:r.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:re["coupon-container"],children:[(0,m.jsxs)(a.View,{className:re["coupon-hd"],children:[(0,m.jsx)(a.View,{className:re["coupon-title"],children:e.title}),(0,m.jsx)(a.View,{className:re["coupon-subTitle"],children:e.subTitle}),(0,m.jsx)(a.View,{className:re["coupon-expiry"],children:e.expiry})]}),(0,m.jsx)(a.View,{className:re["coupon-bd"],children:e.desc.map((function(e,t){return(0,m.jsx)(a.View,{className:"coupon-descList",children:e},t)}))})]})},t)}))})})})),oe=ie,ae=function(e){var t=e.noticeDetail;(0,d.K4)({content:(0,m.jsx)(u.Z,{style:{maxHeight:"80vh"},scrollY:!0,id:"id_1903f",onScroll:(0,i.trackFn)("id_1903f"),children:(0,m.jsx)(oe,{noticeDetail:t})}),title:t.title,position:"bottom",style:{width:"100vw"},close:{position:"top-left"}})},ce={"product-info":"RmkProduct-module_eFuII","product-tips":"RmkProduct-module_DvR6u","product-content":"RmkProduct-module_yVmWi","item-title":"RmkProduct-module_JvlJ2","policy-info":"RmkProduct-module_gVjZq",title:"RmkProduct-module_AfmeX","add-top":"RmkProduct-module_Kq5JG","info-tag":"RmkProduct-module_Ux5em","member-tag":"RmkProduct-module_Cpzvx","super-member":"RmkProduct-module_dJWZ9","black-member":"RmkProduct-module_ABNdn","discount-label":"RmkProduct-module_kVs38","travel-package":"RmkProduct-module_UTN00","travel-info-tag":"RmkProduct-module_wvGU7","travel-member-tag":"RmkProduct-module_lxWSV","travel-super-member":"RmkProduct-module_fFuiM","travel-black-member":"RmkProduct-module_gBetu",desc:"RmkProduct-module_SBMCY",detail:"RmkProduct-module_kE3bg","detail-item":"RmkProduct-module_MtzI_",highlight:"RmkProduct-module_PXzIu",more:"RmkProduct-module_IZYOA","product-item":"RmkProduct-module_m3W1v","item-content":"RmkProduct-module_uHsS1","item-content-new":"RmkProduct-module_QDnIF",noteTitle:"RmkProduct-module_fZwoC",noteText:"RmkProduct-module_wyRpB",priceDetail:"RmkProduct-module_bMXWs","table-head":"RmkProduct-module_y5B56","table-content":"RmkProduct-module_lb87G",tr:"RmkProduct-module_Xx8y_","tr-title":"RmkProduct-module_krrK5","tr-content":"RmkProduct-module_kI1Z_","tr-content-row":"RmkProduct-module_mFehI","td-default":"RmkProduct-module_Wyv4h"},se=function(e){var t=e.travelPackageNote;if(t){var n=t.title,r=t.desc,c=t.detailNotes,s=void 0===c?[]:c,l=t.noticeDetail,u=ce["travel-info-tag"];-1!==T.Hu.indexOf(n)&&(u=u+" ".concat(ce["travel-member-tag"])+("\u8d85\u7ea7\u4f1a\u5458\u4ef7"===n?" ".concat(ce["travel-super-member"]):"\u9ed1\u94bb\u8d35\u5bbe\u4ef7"===n?" ".concat(ce["travel-black-member"]):""));var d=function(e){if(e){if(Array.isArray(e)&&e.length>0)return(0,m.jsx)(m.Fragment,{children:e.map((function(t,n){return(0,m.jsx)(a.Text,{className:"".concat(e.highlight?ce.highlight:""),children:t.text},n)}))});var t=e.texts;return t&&Array.isArray(t)&&t.length>0?(0,m.jsx)(m.Fragment,{children:t.map((function(e){return(0,m.jsx)(a.Text,{className:"".concat(e.highlight?ce.highlight:""),children:e.text},e.text)}))}):void 0}};return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:ce["travel-package"],children:[(0,m.jsx)(a.View,{className:ce.title,children:(0,m.jsx)(a.Text,{className:u,children:n})}),(0,m.jsx)(a.View,{className:ce.desc,children:r}),(0,m.jsxs)(a.View,{className:ce.detail,children:[s.map((function(e,t){return(0,m.jsx)(a.View,{className:ce["detail-item"],children:d(e)},t)})),(0,m.jsxs)(a.View,{className:ce.more,onClick:(0,i.trackFn)("onClick--95010",(function(){return ae({noticeDetail:l})})),children:["\u67e5\u770b\u8be6\u60c5",(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-arrow-right"})]})]})]})})}},le=function(e){(0,F.Z)(n,e);var t=(0,M.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,B.Z)((0,Z.Z)(e),"config",{component:!0}),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props.noteDetail,t=e||{},n=t.noteTags,r=void 0===n?[]:n,i=t.travelPackageNote,c=t.attentionPoints,s=void 0===c?[]:c,l=t.bookRemind,u=void 0===l?{}:l,d=t.priceDetail,f=u||{},p=f.remindTexts,h=void 0===p?[]:p,g=d||{},v=g.segmentPrices,y=void 0===v?[]:v;return(0,m.jsxs)(a.View,{className:"".concat(ce["product-info"]," pt-3"),children:[r&&r.length>0&&(0,m.jsx)(a.View,{className:"policytags",children:(0,m.jsx)(a.View,{className:ce["policy-info"],children:r.map((function(e,t){var n=e||{},r=n.title,i=n.descs,c=void 0===i?[]:i,s=n.noteTagEnum,l=ce["info-tag"];return-1!==T.Hu.indexOf(r)&&(l=l+" ".concat(ce["member-tag"])+("\u8d85\u7ea7\u4f1a\u5458\u4ef7"===r?" ".concat(ce["super-member"]):"\u9ed1\u94bb\u8d35\u5bbe\u4ef7"===r?" ".concat(ce["black-member"]):"")),"VIRTUAL_DISCOUNT"===s&&(l+=" ".concat(ce["discount-label"])),(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(a.View,{className:"".concat(ce.title,"  ").concat(t>0?ce["add-top"]:""),children:(0,m.jsx)(a.Text,{className:l,children:r})}),(0,m.jsx)(a.View,{className:ce["item-content"],children:(0,m.jsx)(a.View,{children:c[0]})})]},t)}))})}),se({travelPackageNote:i}),s.length>0&&(0,m.jsx)(a.View,{className:"".concat(ce["product-tips"]," container"),children:s.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:"row flex-nowrap mb-2 justify-start items-start",children:[(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-support mr-1"})}),(0,m.jsxs)(a.View,{className:"col-11",children:[(0,m.jsx)(a.View,{className:ce["item-title"],children:(0,m.jsx)(a.Text,{children:e.title})}),e.descs.map((function(t,n){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:"".concat(ce["product-content"]," mb-1"),children:[e.descs.length>1&&(0,m.jsx)(o.Fragment,{children:(0,m.jsx)(a.Text,{className:ce.noteText,children:t.journeyTitle+":"})}),(0,m.jsx)(a.View,{className:ce.noteText,dangerouslySetInnerHTML:{__html:t.desc}})]})},n)}))]})]})},t)}))}),h.length>0&&(0,m.jsx)(a.View,{className:"".concat(ce["product-tips"]," ").concat(ce["product-limit"]," container"),children:(0,m.jsxs)(a.View,{className:"row items-start",children:[(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-warning mr-1"})}),(0,m.jsxs)(a.View,{className:"col-11",children:[(0,m.jsx)(a.View,{className:ce["item-title"],children:u.title}),h.map((function(e,t){return(0,m.jsxs)(a.View,{className:ce["item-content-new"],children:[(0,m.jsx)(a.Text,{className:ce.noteTitle,children:e.title+"\uff1a"}),e.descs.map((function(e,t){return(0,m.jsx)(a.Text,{className:ce.noteText,children:e},t)}))]},t)}))]})]})}),y.length>0&&(0,m.jsxs)(a.View,{className:"container ".concat(ce.priceDetail," mt-2"),children:[(0,m.jsxs)(a.View,{className:"row price-detail-title items-start",children:[(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-ticket-detail mr-1"})}),(0,m.jsx)(a.View,{children:(0,m.jsx)(a.Text,{className:ce["item-title"],children:e.priceDetail.title})})]}),(0,m.jsx)(a.View,{className:"row price-detail-content",children:y.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:"col-12 ".concat(ce["item-table"]," mt-2"),children:[(0,m.jsx)(a.View,{className:ce["table-head"],children:e.journey}),(0,m.jsx)(a.View,{className:ce["table-content"],children:e&&e.passengerPrices&&e.passengerPrices.map((function(e,t){return(0,m.jsx)(o.Fragment,{children:(0,m.jsxs)(a.View,{className:ce.tr,children:[(0,m.jsx)(a.View,{className:ce["tr-title"],children:e.passengerType}),(0,m.jsx)(a.View,{className:ce["tr-content"],children:(0,m.jsxs)(a.View,{className:ce["tr-content-row"],children:[(0,m.jsx)(a.View,{className:ce["td-default"],children:e.price}),(0,m.jsx)(a.View,{className:ce["td-default"],children:e.classRate})]})})]})},t)}))})]})},t)}))})]})]})}}]),n}(o.Component);le.defaultProps={noteDetail:{}};var ue=le,de=function(e){var t=e.noteDetail,n=[{title:"\u4ea7\u54c1\u8bf4\u660e",id:"productFeture",content:(0,m.jsx)(a.View,{className:G.rmkLayerItem,children:(0,m.jsx)(ue,{noteDetail:t})})},{title:"\u514d\u8d39\u884c\u674e\u89c4\u5b9a",id:"luggageDetails",content:(0,m.jsx)(a.View,{className:G.rmkLayerItem,children:(0,m.jsx)(ne,{luggageNote:t.luggageNote})})},{title:"\u9000\u6539\u7b7e\u8bf4\u660e",id:"refundInformations",content:(0,m.jsx)(a.View,{className:G.rmkLayerItem,children:(0,m.jsx)($,{noteDetail:t})})}];return(0,m.jsx)(O.Z,{tabs:n,title:(0,m.jsx)(A.Z,{})})},fe=(0,o.memo)(de),me=n(9361),pe={highLight:"PriceSummary-module_Y1OOY",colContainerBox:"PriceSummary-module_EC8Hf",alignSelfCenter:"PriceSummary-module_mZhtt",colContainer:"PriceSummary-module_BIrqr",containerBox:"PriceSummary-module_uCgRi",lineH:"PriceSummary-module_TLRaB",cabin:"PriceSummary-module_gN3sb",totalSummary:"PriceSummary-module_nndN5",policyTag:"PriceSummary-module_mA9aH",policyTagText:"PriceSummary-module_o6bb6",bubble:"PriceSummary-module_X8CgR",totalCurrencySymbol:"PriceSummary-module_AQIOh",totalPrice:"PriceSummary-module_bXVTa",next:"PriceSummary-module_DBKe1",nextBtn:"PriceSummary-module_QQDzn"};function he(e){var t=e.ticketCount,n=e.isFromBooking,r=e.virtualPriceTag,o=e.price,c=e.cabinDisounts,s=e.goToBooking,l=(0,me.R2)(),u=l.bottom,d=void 0===u?0:u;return(0,m.jsxs)(a.View,{className:"".concat(pe.PriceSummaryNew," fixed-bottom ").concat(pe.highLight),style:{zIndex:1e3},id:"price-summary",children:[n&&t<5&&(0,m.jsx)(a.View,{className:pe.bubble,children:"\u8be5\u4ef7\u683c\u4ec5\u5269"+t+"\u5f20\u7968\uff0c\u5efa\u8bae\u7acb\u5373\u8d2d\u4e70"}),(0,m.jsx)(a.View,{className:pe.totalSummary,style:{paddingBottom:"".concat(d,"px")},children:(0,m.jsx)(a.View,{className:"container h-100",children:(0,m.jsxs)(a.View,{className:"".concat(pe.colContainerBox," h-100"),children:[(0,m.jsxs)(a.View,{className:pe.colContainer,children:[(0,m.jsxs)(a.View,{className:"".concat(pe.containerBox," ").concat(pe.lineH),children:[(0,m.jsxs)(a.View,{className:pe.containerBox,children:[(0,m.jsx)(a.Text,{className:pe.totalCurrencySymbol,children:"\xa5"}),(0,m.jsx)(a.Text,{className:pe.totalPrice,children:o})]}),r&&(0,m.jsx)(a.View,{className:"".concat(pe.policyTag," text-center ml-1"),children:(0,m.jsx)(a.Text,{className:pe.policyTagText,children:r})})]}),c&&(0,m.jsx)(a.View,{className:pe.cabin,children:c})]}),(0,m.jsx)(a.View,{className:pe.alignSelfCenter,"data-testid":"price-summary-go-to-booking",onClick:(0,i.trackFn)("price-summary--goToBooking--42524",s),children:t<5?(0,m.jsx)(a.Button,{type:"primary",className:"".concat(pe.nextBtn," mr-0"),children:"\u53bb\u62a2\u7968"},"ticket"):(0,m.jsx)(a.Button,{type:"primary",className:"".concat(pe.next," mr-0"),children:"\u9884\u8ba2"},"next")})]})})})]})}var ge=he;function ve(e){var t="";return e&&e.length&&e.forEach((function(e){null!==e&&void 0!==e&&e.CABIN_CLASS&&(t+=t?" + "+e.CABIN_CLASS:e.CABIN_CLASS)})),t}function ye(e){var t=e.searchKey,n=e.noteDetail,r=e.refundState,i=e.policy,o=e.goToBooking,a=i.policyTags&&(i.policyTags.DISCOUNT||i.policyTags.MERGE_DISCOUNT||i.policyTags.DISCOUNT_REDUCE)||"";return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ge,{cabinDisounts:ve(null===i||void 0===i?void 0:i.segmentTags),isFromBooking:L.Z.pageName.last===V.m8.BOOKING,ticketCount:i.ticketCount,virtualPriceTag:a,price:i.price,searchKey:decodeURIComponent(t),goToBooking:o}),"SUCCESS"===r&&(0,m.jsx)(fe,{noteDetail:n})]})}var xe=function(e){var t=e.policy,n=e.searchKey,r=e.noteDetail,o=e.refundState,a=e.goToBooking;if("NO_RESULT"===o)return(0,P.jq)("c_middle_rmk_no_result"),void(0,i.showToast)("\u8be5\u822a\u73ed\u5df2\u552e\u7f44\uff0c\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u822a\u73ed\u4fe1\u606f");(0,P.jq)("c_middle_click_rmk",{desc:"\u9000\u6539\u884c\u674e\u989d\u8bf4\u660e\u70b9\u51fb"}),(0,d.K4)({content:(0,m.jsx)(ye,{policy:t,searchKey:n,noteDetail:r,refundState:o,goToBooking:a}),close:{position:"top-left"},position:"bottom",style:{height:"78vh"}})},_e=xe,Ne=function(e,t){var n=e&&e.find((function(e){return e.type===t}));return n&&n.content||""},Te=function(e){return e&&e.length?e.filter((function(e){return"MERGE_DISCOUNT"===e.type||"DISCOUNT"===e.type||"DISCOUNT_REDUCE"===e.type})):[]},we=function(e){return e&&e.length?e.filter((function(e){return"MERGE_DISCOUNT"!==e.type&&"DISCOUNT"!==e.type&&"DISCOUNT_REDUCE"!==e.type})):[]},be=function(e){var t={CABIN_CLASS:e.CABIN_CLASS||"",REFUND_ENDORSE:e.REFUND_ENDORSE||"",BAGGAGE:{value:e.BAGGAGE||e.BAGGAGE_NOT_FREE||e.BAGGAGE_DIFFERENT||"",type:e.BAGGAGE_NOT_FREE||e.BAGGAGE_DIFFERENT?"warning":""}};return t},Ce=function(e,t,n){var r=e&&Te(e).length&&!t,i=n&&n.find((function(e){return 10===e.type}));return!r&&!i},je=function(e){var t,n,r=e.priceDetails;return(0,m.jsx)(a.View,{className:j.priceExplanation,id:"price-discount-explanation",children:(0,m.jsxs)(a.View,{className:j.priceContainer,children:[(0,m.jsx)(a.Text,{className:j.describeText,children:"\u4ee5\u4e0b\u4f18\u60e0\u9002\u7528\u4e8e\u6210\u4eba\u7968\u53ef\u4eab\uff0c\u5982\u9700\u9000\u6539\u7b7e\uff0c\u9700\u8981\u8865\u9f50\u4f18\u60e0\u5dee\u989d"}),(0,m.jsxs)(a.View,{children:[(0,m.jsxs)(a.View,{className:j.originPrice,children:[(0,m.jsx)(a.Text,{className:j.originTitle,children:"\u673a\u7968\u539f\u4ef7"}),(0,m.jsx)(a.View,{className:j.listHeaderDashed}),(0,m.jsx)(a.Text,{children:null===r||void 0===r?void 0:r.originPrice})]}),null===r||void 0===r||null===(t=r.discount)||void 0===t?void 0:t.map((function(e,t){var n,r;return(0,m.jsxs)(a.View,{className:j.discount,children:[(0,m.jsx)(a.Text,{className:j.discountTitle,children:null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.split("|")[0]}),(0,m.jsx)(a.View,{className:j.listHeaderDashed}),(0,m.jsxs)(a.Text,{children:["-",null===e||void 0===e||null===(r=e.content)||void 0===r?void 0:r.split("|")[1]]})]},t)}))]}),(0,m.jsxs)(a.View,{className:j.discountAfterPrice,children:[null===r||void 0===r?void 0:r.discountAfter.split("|")[0],(0,m.jsx)(a.Text,{className:j.discountStrong,children:null===r||void 0===r||null===(n=r.discountAfter)||void 0===n?void 0:n.split("|")[1]})]})]})})};function Se(e){var t,n,c,l,u,f,p=e.flights,h=e.policy,g=e.policyIndex,v=e.goToBooking,y=e.openPriceLockDetail,C=e.newPolicy,k=e.priceLockConfigs,I=e.cabinClasses,P=e.isMiddleFloatLayer,L=e.policyLength,V=h.searchKey,O=h.price,A=h.ticketCount,R=h.policyTags,D=void 0===R?{}:R,Z=h.extraTags,F=void 0===Z?{}:Z,M=h.restrictionTags,B=void 0===M?[]:M,U=h.policyNoteList,q=void 0===U?[]:U,Y=h.segmentTags,H=h.cornerTitle,G=h.policyIncentiveList,W=void 0===G?[]:G,z=(0,o.useState)(!1),K=(0,r.Z)(z,2),Q=K[0],J=K[1],X=(0,o.useState)(!1),$=(0,r.Z)(X,2),ee=$[0],te=$[1],ne=(0,o.useState)(null),re=(0,r.Z)(ne,2),ie=re[0],oe=re[1],ae=(0,o.useState)(""),ce=(0,r.Z)(ae,2),se=ce[0],le=ce[1],ue=null===(t=W.find((function(e){return 1===e.type})))||void 0===t?void 0:t.content,de=null===(n=W.find((function(e){return 2===e.type})))||void 0===n?void 0:n.content,fe=null===q||void 0===q||null===(c=q.find((function(e){return e.type===T.NF.DebugInfo&&e.content})))||void 0===c?void 0:c.content;(0,o.useEffect)((function(){w.u0.promise({data:{searchKey:V}}).then((function(e){var t=e.data;t&&Object.keys(t).length?(oe(t),le("SUCCESS")):le("NO_RESULT")})).catch((function(){le("NO_RESULT")}))}),[V]);var me=[],pe="",he="";D&&Object.keys(D).length&&Object.keys(D).forEach((function(e){if("DISCOUNT_LABEL"!==e){var t=j.policyTag;-1!==T.Hu.indexOf(D[e])&&(t=(0,i.classnames)(t,j.memberTag,{"super-member":"\u8d85\u7ea7\u4f1a\u5458\u4ef7"===D[e],"black-member":"\u9ed1\u94bb\u8d35\u5bbe\u4ef7"===D[e]})),"DISCOUNT_NEW_LABEL"!==e&&"AIRLINE_MARKETING"!==e&&me.push({type:e,tagClass:t,value:D[e]}),"DISCOUNT_NEW_LABEL"===e&&(pe=D[e]),"AIRLINE_MARKETING"===e&&(he=D[e])}}));var ge=function(e){var t={originPrice:"",discount:[],discountAfter:""};if("lowPricePool"===e)(0,s.jq)("openLotteryDetailPop"),t={originPrice:"\xa5"+O,discount:[{content:Ne(q,T.NF.ImmediatelyDiscountBombFlag)}],discountAfter:Ne(q,T.NF.ImmediatelyDiscountAfter)};else if("discount"===e){(0,s.jq)("openDiscountDetailPop");var n=[],r="";q.forEach((function(e){if(e.type===T.NF.PolicyNoteType16||e.type===T.NF.PolicyNoteType17)n.push({content:e.content});else if(e.type===T.NF.PolicyNoteType15){var t;r=null===(t=e.content)||void 0===t?void 0:t.split("|")[1]}})),t={originPrice:r||"\xa5"+O,discount:n,discountAfter:Ne(q,T.NF.ImmediatelyDiscountAfter)}}t.originPrice&&t.discount&&t.discountAfter&&(0,d.K4)({close:{position:"top-left"},closeMethod:"close",title:_.Aq,content:(0,m.jsx)(je,{priceDetails:t}),position:"bottom"})},ve=(0,o.useCallback)((function(e){var t,n,r=e.productTypeList;(0,s.ff)("C_FLT_N_XCX_Flight_Type_Select",{productTypeList:r,segments:null===p||void 0===p||null===(t=p[0])||void 0===t||null===(t=t.segments)||void 0===t?void 0:t.map((function(e){var t=e.airline,n=e.departDateTime,r=e.arriveDateTime;return{airline:t,departDateTime:n,arriveDateTime:r}})),policyIndex:g,policyLength:L,isRound:(null===p||void 0===p?void 0:p.length)>1,isTransit:(null===p||void 0===p||null===(n=p[0])||void 0===n||null===(n=n.segments)||void 0===n?void 0:n.length)>1}),v(e,g)}),[p,v,g,L]),ye=(0,o.useCallback)((function(){var e=(0,d.K4)({title:"",content:(0,m.jsx)(S,{lowPriceNoteList:q,clickPayFlag:ee,closeLotteryPop:function(){return(0,d.Mr)(e)},lotteryClick:function(){return J(!0)},goToBooking:function(){return ve(h)},lotteryFinish:Q}),style:{padding:0}})}),[ee,ve,Q,h,q]),xe=(0,o.useCallback)((function(e){if(!Q&&q&&q.find((function(e){return 10===e.type})))return(0,s.jq)("c_middle_show_lottery"),ye(),void te(!0);ve(e)}),[Q,ve,ye,q]),Se=(0,o.useCallback)((function(){ie&&_e({policy:h,searchKey:V,noteDetail:ie,refundState:se,goToBooking:function(){return xe(h)}})}),[xe,ie,h,se,V]),ke=(0,o.useMemo)((function(){return i.R.find(i.R.propEq("type",T.NF.LockPriceNoteNew),q)}),[q]),Ie=F&&Object.keys(F),Ee=Ce(me,pe,q);return(0,m.jsxs)(a.View,{className:"".concat(j.policyInfo," ").concat(j.cardContainer,"\n\t\t\t\t").concat(C?j.policyInfo2:"","\n\t\t\t\t").concat(ke?j.haveLockTag:"","\n\t\t\t"),id:"policy-dom-".concat(g-1),children:[C&&H&&(0,m.jsx)(a.View,{className:"".concat(j.newTitle," ").concat(null===I||void 0===I||!I.length||-1===I.indexOf("FIRST")&&-1===I.indexOf("BUSINESS")?"":j.FBCabin),children:(0,m.jsx)(a.View,{className:j.newTitleText,children:H})}),P&&ue&&(0,m.jsxs)(a.View,{className:j.newTagContainer,children:[(0,m.jsx)(x.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/hot_sales.png",className:j.tagImage}),(0,m.jsx)(a.View,{className:"".concat(j.describeBox," ").concat(j.blueColor),children:ue})]}),P&&de&&(0,m.jsxs)(a.View,{className:j.newTagContainer,children:[(0,m.jsx)(x.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/student_only.png",className:j.tagImage}),(0,m.jsx)(a.View,{className:"".concat(j.describeBox," ").concat(j.greenColor),children:de})]}),(0,m.jsxs)(a.View,{className:"".concat(j.policyBody," ").concat(C?j.policyBody2:""),children:[(0,m.jsx)(b.E,{info:fe}),(0,m.jsxs)(a.View,{className:j.policyContainer,children:[(0,m.jsxs)(a.View,{className:j.policyBox,children:[(0,m.jsxs)(a.View,{className:j.priceBox,children:[(0,m.jsx)(a.Text,{className:j.priceSymbol,children:"\xa5"}),(0,m.jsx)(a.Text,{className:j.priceNumber,children:O})]}),(0,m.jsx)(E,{policyNoteList:q,openPriceDetail:ge,openLotteryPop:function(){return ye()},lotteryFinish:Q,policyIndex:g}),me&&(null===(l=Te(me))||void 0===l?void 0:l.length)>=1&&!pe&&(0,m.jsx)(a.View,{className:j.policyTitleTag,children:Te(me).map((function(e,t){return(0,m.jsxs)(a.View,{className:j.lowPricePoolRight,onClick:(0,i.trackFn)("policy-dom-".concat(g-1)+"--"+g+"_tag"+t+"--fecc2",(function(){return ge("discount")})),"data-testid":"open-price-detail-".concat(g-1),children:[(0,m.jsx)(a.Text,{className:j.lowPriceLabelRight,children:e.value}),(0,m.jsx)(a.Text,{className:j.rightIcon})]},g+"_tag"+t)}))}),Ee&&he&&(0,m.jsx)(a.View,{className:j.airlineLabelBox,ubtKey:g+"_airline-logo-label",children:(0,m.jsx)(x.Z,{src:he,className:j.airlineTag})})]}),me&&(null===(u=Te(me))||void 0===u?void 0:u.length)>=1&&pe&&(0,m.jsxs)(a.View,{className:"".concat(j.discountLabelBox," ").concat(j.labelMargin),ubtKey:g+"_discount-label",onClick:(0,i.trackFn)(g+"_discount-label",(function(){return ge("discount")})),children:[(0,m.jsx)(a.Text,{className:j.discountLabelText,children:pe+" | "+Te(me)[0].value}),(0,m.jsx)(a.Text,{className:j.rightIcon})]}),!Ee&&he&&(0,m.jsx)(a.View,{className:"".concat(j.airlineLabelBox,"  ").concat(j.labelMargin),ubtKey:g+"_airline-log-label",children:(0,m.jsx)(x.Z,{src:he,className:j.airlineTag})}),me&&(null===(f=we(me))||void 0===f?void 0:f.length)>0&&(0,m.jsx)(a.View,{className:"".concat(j.policyTitleTag," row ").concat(j.moreTag),children:we(me).map((function(e,t){return(0,m.jsx)(a.Text,{className:e.tagClass,children:e.value},t)}))}),(0,m.jsx)(a.View,{className:j.policyBottom,children:(0,m.jsxs)(a.View,{className:j.policyLeft,children:[Y.map((function(e,t){var n,r,c=be(e);return(0,m.jsxs)(a.View,{ubtKey:g+"_policy-bottom",className:"".concat(j.cabinInfo," ").concat(C?j.cabinInfo2:""),onClick:(0,i.trackFn)(g+"_policy-bottom"+t,Se),"data-testid":"click-rmk-".concat(g-1),children:[p.length>1&&(0,m.jsx)(a.Text,{className:"".concat(j.airlineType," mr-1"),children:0===t?"\u53bb":"\u8fd4"}),C?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(a.View,{className:"".concat(j.tagsMapBox," ").concat(j.tagsMapBoxNew),children:[(0,m.jsx)(x.Z,{className:j.policyGou,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/policyGou.png"}),(0,m.jsx)(a.Text,{children:c.CABIN_CLASS}),(0,m.jsx)(N.Z,{}),(0,m.jsx)(a.Text,{children:c.REFUND_ENDORSE}),(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-arrow-right"})]}),c.BAGGAGE.value&&(0,m.jsxs)(a.View,{className:"".concat(j.tagsMapBox," ").concat(j.tagsMapBoxNew," ").concat(j.baggageBox),children:[c.BAGGAGE.type?(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-warning"}):(0,m.jsx)(x.Z,{className:j.policyGou,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/policyGou.png"}),(0,m.jsx)(a.View,{className:j.flightBaggage,children:!(null===(n=c.BAGGAGE.value.split("#"))||void 0===n||!n.length)&&c.BAGGAGE.value.split("#").map((function(e,t){return(0,m.jsxs)(o.Fragment,{children:[0!==t&&(0,m.jsx)(N.Z,{}),(0,m.jsx)(a.View,{dangerouslySetInnerHTML:{__html:e}})]},t)}))}),(0,m.jsx)(a.Text,{className:(0,i.classnames)("iconfont-h5","icon-arrow-right")})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(a.View,{className:j.tagsMapBox,children:[(0,m.jsx)(a.Text,{children:c.CABIN_CLASS}),(0,m.jsx)(N.Z,{})]}),(0,m.jsxs)(a.View,{className:j.tagsMapBox,children:[(0,m.jsx)(a.Text,{children:c.REFUND_ENDORSE}),(0,m.jsx)(N.Z,{})]}),c.BAGGAGE.value&&(0,m.jsxs)(a.View,{className:j.tagsMapBox,children:[(0,m.jsx)(a.View,{className:"".concat(j.flightBaggage," ").concat(""!==c.BAGGAGE.type?j.tag_highlight:""),children:!(null===(r=c.BAGGAGE.value.split("#"))||void 0===r||!r.length)&&c.BAGGAGE.value.split("#").map((function(e,t){return(0,m.jsxs)(o.Fragment,{children:[0!==t&&(0,m.jsx)(N.Z,{}),(0,m.jsx)(a.View,{dangerouslySetInnerHTML:{__html:e}})]},t)}))}),(0,m.jsx)(a.Text,{className:(0,i.classnames)("iconfont-h5","icon-arrow-right",j.arrowRightStyle)})]})]})]},t)})),!(null===Ie||void 0===Ie||!Ie.length)&&(0,m.jsxs)(a.View,{className:j.limitInfo,children:[(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-warning"}),Ie.map((function(e,t){return(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(a.Text,{children:F[e]}),t<Ie.length-1&&(0,m.jsx)(N.Z,{})]},t)}))]},((null===Y||void 0===Y?void 0:Y.length)||0)+1),B.length>0&&(0,m.jsx)(a.View,{className:j.limitInfo,children:B.map((function(e,t){return(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(a.Text,{className:j.flightLimit,children:e}),t<B.length-1&&(0,m.jsx)(N.Z,{})]},t)}))},((null===Y||void 0===Y?void 0:Y.length)||0)+2)]})})]}),(0,m.jsxs)(a.View,{className:j.bookButton,ubtKey:g+"_book-button",onClick:(0,i.trackFn)(g+"_book-button",(function(){return xe(h)})),"data-testid":"go-booking-".concat(g-1),children:[A&&-1!==A&&A<5&&(0,m.jsx)(a.Text,{className:j.limit,children:"\u5269"+A+"\u5f20"}),(0,m.jsx)(a.Text,{children:"\u8ba2"})]})]}),ke&&(0,m.jsxs)(a.View,{className:j.priceLockDetail,ubtKey:g+"_price-lock-detail",onClick:(0,i.trackFn)(g+"_price-lock-detail",(function(){return y()})),children:[(0,m.jsxs)(a.View,{className:j.priceLockTop,children:[(0,m.jsx)(x.Z,{className:j.priceLockTag,src:null===k||void 0===k?void 0:k.priceLockIcon}),(0,m.jsx)(a.View,{className:j.priceLockText,children:null===ke||void 0===ke?void 0:ke.title}),(0,m.jsx)(a.Text,{className:j.rightIconLock})]}),(0,m.jsx)(a.View,{className:j.priceLockBottom,children:null===ke||void 0===ke?void 0:ke.content})]})]})}var ke=n(298),Ie=n(72546),Ee=n(82761);function Pe(e,t,n){var r=e;if(!r){var i=(0,ke.Z)((0,ke.Z)({},V.AA.common),{},{fat:"https://m.ctrip.fat10.qa.nt.ctripcorp.com"});r=i[(0,Ee.i)()]+"/webapp/cw/flight/xsop/BookConfirmPage.html?"}(0,Ie.G)(r,{needLogin:!0,query:t?(0,ke.Z)({commonFrom:"package_lock_price",productType:23,pagetype:"commoneditbook",activityCode:"lockprice",isHideNavBar:"YES",isWHeader:1},n):(0,ke.Z)({commonFrom:"package_lock_price",productType:23,pageName:"BookConfirmPage",activityCode:"lockprice",isHideNavBar:"YES",isWHeader:1},n)})}var Le=n(72008),Ve={lockFlightCard:"LockFlightCard-module_Kgroi",directCardBox:"LockFlightCard-module_W3eNQ",leftArea:"LockFlightCard-module_Gyo7c",rightArea:"LockFlightCard-module_IgG_u",moneyUnit:"LockFlightCard-module_w4vRX",price:"LockFlightCard-module_D_OCa",rightTag:"LockFlightCard-module_qEKJb",alignCenter:"LockFlightCard-module_BkCSa",lockIcon:"LockFlightCard-module_nSjtg",staticText:"LockFlightCard-module_SIVdX",time:"LockFlightCard-module_rXbWT",timePlus:"LockFlightCard-module_BIIV8",newColor:"LockFlightCard-module_GeZke",lineH:"LockFlightCard-module_mvgzb",paddingX:"LockFlightCard-module_zMsV4",airport:"LockFlightCard-module_lruH7",isNewAirport:"LockFlightCard-module_iglvN",arrowRight:"LockFlightCard-module_akcS1",comTags:"LockFlightCard-module_jLN1H",airlineDescription:"LockFlightCard-module_vvvCk",airlineImage:"LockFlightCard-module_cSywt",airlineLogo:"LockFlightCard-module_EFMkH",marginX:"LockFlightCard-module_hYDUJ",cityBox:"LockFlightCard-module_zoQEf",airlineBox:"LockFlightCard-module_Bp3Mv","img-box":"LockFlightCard-module_RFsDy",boxUnion:"LockFlightCard-module_CrwJA"};function Oe(e){var t=e.flights,n=e.lockPrice;return(0,m.jsx)(a.View,{className:Ve.lockFlightCard,children:t.map((function(e,t){var r,c,s,l;return(0,m.jsxs)(o.Fragment,{children:[(0,m.jsxs)(a.View,{className:Ve.directCardBox,children:[(0,m.jsxs)(a.View,{className:Ve.leftArea,children:[(0,m.jsxs)(a.View,{className:"align-self-center text-left",children:[(0,m.jsxs)(a.View,{className:Ve.time,children:[(null===e||void 0===e||null===(r=e.segments[0])||void 0===r?void 0:r.crossDays)>0&&(0,m.jsx)(a.Text,{className:Ve.timePlus,children:(0,i.dayjs)(e.segments[0].departDateTime).locale("zh-cn").format("MM-DD ddd")}),(0,m.jsx)(a.Text,{className:Ve.lineH,children:e.segments[0].departureTime})]}),(0,m.jsx)(a.View,{className:"".concat((0,Le.U)(e.segments[0].departureName)?Ve.isNewAirport:""," ").concat(Ve.airport," text-left"),children:e.segments[0].departureName})]}),(0,m.jsx)(a.View,{className:"align-self-center text-center ".concat(Ve.paddingX),children:(0,m.jsx)(x.Z,{className:Ve.arrowRight,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/priceLock/lock_flt.png"})}),(0,m.jsxs)(a.View,{className:"align-self-center text-right",children:[(0,m.jsxs)(a.View,{className:Ve.time,children:[e.segments[0].crossDays>0&&(0,m.jsx)(a.Text,{className:"".concat(Ve.timePlus," ").concat(Ve.newColor),children:(0,i.dayjs)(e.segments[0].arriveDateTime).locale("zh-cn").format("MM-DD ddd")}),(0,m.jsx)(a.Text,{className:Ve.lineH,children:e.segments[0].arrivalTime})]}),(0,m.jsx)(a.View,{className:"".concat((0,Le.U)(e.segments[0].arrivalName)?Ve.isNewAirport:""," ").concat(Ve.airport," text-left"),children:e.segments[0].arrivalName})]})]}),(0,m.jsxs)(a.View,{className:Ve.rightArea,children:[(0,m.jsxs)(a.View,{children:[(0,m.jsx)(a.Text,{className:Ve.moneyUnit,children:"\xa5"}),(0,m.jsx)(a.Text,{className:Ve.price,children:n})]}),(0,m.jsxs)(a.View,{className:Ve.rightTag,children:[(0,m.jsx)(a.View,{className:Ve.alignCenter,children:(0,m.jsx)(x.Z,{className:Ve.lockIcon,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/priceLock/lock_icon.png"})}),(0,m.jsx)(a.View,{className:Ve.alignCenter,children:(0,m.jsx)(a.Text,{className:Ve.staticText,children:"\u9501\u5b9a\u4ef7\u683c"})})]})]})]}),(0,m.jsxs)(a.View,{className:Ve.comTags,children:[(0,m.jsx)(a.View,{className:Ve.boxUnion,children:(0,i.dayjs)(e.segments[0].departDateTime).locale("zh-cn").format("YYYY-MM-DD ddd")}),(null===(c=e.segments[0])||void 0===c?void 0:c.departureCityName)&&(0,m.jsxs)(a.View,{className:"".concat(Ve.cityBox," ").concat(Ve.boxUnion),children:[null===(s=e.segments[0])||void 0===s?void 0:s.departureCityName,"-",null===(l=e.segments[e.segments.length-1])||void 0===l?void 0:l.arrivalCityName]}),(0,m.jsxs)(a.View,{className:"".concat(Ve.airlineBox," ").concat(Ve.boxUnion),children:[(0,m.jsx)(x.Z,{className:Ve.airlineLogo,src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+e.segments[0].airlineCode+".png"}),e.segments[0].airline,e.segments[0].shareFlightNo&&(0,m.jsxs)(a.View,{className:Ve.airlineDescription,children:[(0,m.jsx)(x.Z,{src:"https://pages.c-ctrip.com/flight_h5/tinyapp/list_young/arrowright.png",className:Ve.airlineImage}),"\u5b9e\u9645\u627f\u8fd0",e.segments[0].shareAirlineCode&&(0,m.jsx)(x.Z,{className:"".concat(Ve.airlineLogo," ").concat(Ve.marginX),src:"https://pic.c-ctrip.com/AssetCatalog/airline/32/"+e.segments[0].shareAirlineCode+".png"}),e.segments[0].shareAirline||e.segments[0].shareFlightNo]})]})]})]},"lock-flight-".concat(t))}))})}var Ae={lockPriceLayer:"LockPriceLayer-module_YXyyL",headTitle:"LockPriceLayer-module_tOnX9",title:"LockPriceLayer-module_AsYwO",headUnit:"LockPriceLayer-module_EJsXJ",headPrice:"LockPriceLayer-module_YtRZ_",showed:"LockPriceLayer-module_BZ1uR",unshow:"LockPriceLayer-module_c7xxd",flexRowCenter:"LockPriceLayer-module_g6GPO",lockBottomAres:"LockPriceLayer-module_Thnbv",selectCircle:"LockPriceLayer-module_HCiZY",itemSelectIcon:"LockPriceLayer-module_q38Xd",greyText:"LockPriceLayer-module_StQyn",linkText:"LockPriceLayer-module_iuCOU",lockBtn:"LockPriceLayer-module_IwXHP",lockPriceInfo:"LockPriceLayer-module_dv1Zl",normal:"LockPriceLayer-module_OrQFJ",highGreen:"LockPriceLayer-module_GK_Mu",lockService:"LockPriceLayer-module_hJ2VG",serviceTitle:"LockPriceLayer-module_gCi23",lockText:"LockPriceLayer-module_HehrC",moneyUnit:"LockPriceLayer-module_rnyux",price:"LockPriceLayer-module_Xyyij",lockScene:"LockPriceLayer-module_yhveb",backImage:"LockPriceLayer-module_rmSjJ",addBottom:"LockPriceLayer-module_yacbG","add-top":"LockPriceLayer-module_DMxnl",itemGou:"LockPriceLayer-module_yIEr1",tagIcon:"LockPriceLayer-module_NJaf7",lockInfo:"LockPriceLayer-module_t9rKg",mainTitle:"LockPriceLayer-module_JaP_Z",lockFlight:"LockPriceLayer-module_qYuSi",processBox:"LockPriceLayer-module_O1LmK",processItem:"LockPriceLayer-module_VPOCx",processLeft:"LockPriceLayer-module_EreBD",numberBool:"LockPriceLayer-module_QX5iN",processRight:"LockPriceLayer-module_f_u5O",titleBox:"LockPriceLayer-module_tv3L4",tagBox:"LockPriceLayer-module_uORXD",subtitle:"LockPriceLayer-module_HmQjH",content:"LockPriceLayer-module__vQUa",reduceBorder:"LockPriceLayer-module_oe8eE"},Re=function(e){var t=e.key,n=e.proLen,r=e.processIdx,o=e.title,c=e.subNoteList,s=e.content,l=e.iconUrl,u=c.find((function(e){return 1===e.type})),d=c.find((function(e){return 2===e.type}));return(0,m.jsxs)(a.View,{className:Ae.processItem,children:[(0,m.jsx)(a.View,{className:Ae.processLeft,children:(0,m.jsx)(a.Image,{className:Ae.numberBool,src:l})}),(0,m.jsxs)(a.View,{className:(0,i.classnames)(Ae.processRight,(0,B.Z)({},Ae.reduceBorder,r===n)),children:[(0,m.jsxs)(a.View,{className:Ae.titleBox,children:[(0,m.jsxs)(a.View,{children:[(0,m.jsx)(a.Text,{className:Ae.title,children:o}),null!==u&&void 0!==u&&u.content?(0,m.jsx)(a.Text,{className:Ae.subtitle,children:u.content}):null]}),null!==d&&void 0!==d&&d.content?(0,m.jsx)(a.View,{className:Ae.tagBox,children:d.content}):null]}),(0,m.jsx)(a.View,{className:Ae.content,children:s})]})]},t)},De=function(e){var t=e.lockPriceInfo,n=e.lockInfo,r=e.lockProcess,c=e.flights,s=e.lockPrice,l=e.xSalePrice,d=e.onScroll,f=(0,me.So)(),p=f.windowHeight,h=null===t||void 0===t?void 0:t.lockTitle,g=null===t||void 0===t?void 0:t.lockText,v=null===t||void 0===t?void 0:t.lockImg;return(0,m.jsxs)(u.Z,{scrollY:!0,id:"lock-pop-selector",className:Ae.lockPriceInfo,style:{maxHeight:"".concat(.7*p,"px")},onScroll:(0,i.trackFn)("lock-pop-selector",d),children:[(0,m.jsxs)(a.View,{className:Ae.lockService,children:[(0,m.jsxs)(a.View,{children:[(0,m.jsx)(a.Text,{className:Ae.serviceTitle,children:h}),(0,m.jsx)(a.Text,{className:Ae.moneyUnit,children:"\xa5"}),(0,m.jsx)(a.Text,{className:Ae.price,children:l})]}),(0,m.jsx)(a.View,{className:Ae.lockText,children:g}),(null===n||void 0===n?void 0:n.length)>0&&(0,m.jsxs)(a.View,{className:Ae.lockScene,children:[n.map((function(e,t){var n=(0,i.handleHighlight)(e.content);return(0,m.jsxs)(a.View,{className:"".concat(Ae.flexRowCenter," ").concat(Ae.addBottom),children:[(0,m.jsx)(a.Image,{className:Ae.itemGou,src:e.iconUrl}),(null===n||void 0===n?void 0:n.length)>0?(0,m.jsx)(a.View,{className:Ae.flexRowCenter,children:n.map((function(e){return(0,m.jsx)(a.Text,{className:"".concat(e.active?Ae.highGreen:Ae.normal),children:e.text},e.text)}))}):null]},"lockinfo".concat(t))})),(0,m.jsxs)(a.View,{className:Ae.flexRowCenter,children:[(0,m.jsx)(a.Image,{className:Ae.tagIcon,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/priceLock/lock_tag.png"}),(0,m.jsx)(a.Text,{className:Ae.normal,children:_.bl})]}),(0,m.jsx)(a.Image,{className:Ae.backImage,src:v})]})]}),(0,m.jsxs)(a.View,{className:Ae.lockInfo,children:[(0,m.jsx)(a.View,{className:Ae.mainTitle,children:_.TB}),(0,m.jsx)(a.View,{className:Ae.lockFlight,children:(0,m.jsx)(Oe,{flights:c,lockPrice:s})}),(0,m.jsx)(a.View,{className:Ae.mainTitle,children:_.Ru}),(0,m.jsx)(a.View,{className:Ae.processBox,children:(null===r||void 0===r?void 0:r.length)>0&&r.map((function(e,t){return(0,o.createElement)(Re,(0,ke.Z)((0,ke.Z)({},(0,ke.Z)((0,ke.Z)({},e),{},{processIdx:t+1,proLen:null===r||void 0===r?void 0:r.length})),{},{key:"process".concat(t+1)}))}))})]})]})},Ze=function(e){var t=e.lockItemChecked,n=e.highLink,r=e.goToXBooking,o=e.jumpToLockNoteItem,c=e.onSureLockItem;if(!n)return null;var s=n&&n.highTitle,l=n&&n.jumpUrl;return(0,m.jsxs)(a.View,{className:Ae.lockBottomAres,children:[(0,m.jsxs)(a.View,{className:"".concat(Ae.flexRowCenter," ").concat(Ae.selectCircle),onClick:(0,i.trackFn)("onClick--679e2",(function(){return c(t)})),children:[(0,m.jsx)(a.Image,{className:Ae.itemSelectIcon,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/insurance/"+"".concat(t?"selected.png":"unselect.png")}),s?(0,m.jsxs)(a.View,{className:Ae.flexRowCenter,onClick:(0,i.trackFn)("onClick--e90fc",(function(){return o(l)})),children:[(0,m.jsx)(a.Text,{className:Ae.greyText,children:_.XU}),(0,m.jsx)(a.Text,{className:Ae.linkText,children:s})]}):null]}),(0,m.jsx)(a.View,{onClick:(0,i.trackFn)("goToXBooking--b183e",r),className:Ae.lockBtn,children:_.BP})]})};function Fe(e){var t=e.flights,n=e.searchKey,c=e.priceLockConfigs,l=e.lockPrice,u=e.xSalePrice,d=e.productId,f=e.serviceCharge,p=e.deposit,h=e.cabinClass,g=null===c||void 0===c?void 0:c.priceLockServicePop,v=null===g||void 0===g?void 0:g.lockInfoList,y=null===g||void 0===g?void 0:g.lockProcessList,x=null===g||void 0===g?void 0:g.lockPriceInfo,_=null===g||void 0===g?void 0:g.highLink,N=(0,o.useState)(!1),T=(0,r.Z)(N,2),w=T[0],b=T[1],C=(0,o.useState)(!1),j=(0,r.Z)(C,2),S=j[0],k=j[1],I=null===x||void 0===x?void 0:x.lockTitle,E=(null===c||void 0===c?void 0:c.xBookingConfig)||{},P=E.toXBookingUrl,L=E.isOldVersion,V=function(e){console.log(e.detail),!S&&(null===e||void 0===e?void 0:e.detail.scrollTop)>35&&k(!0),S&&(null===e||void 0===e?void 0:e.detail.scrollTop)<=35&&k(!1)},O=function(e){(0,s.jq)(e?"c_unChoose_lockRule":"c_choose_lockRule"),b(!e)},A=function(e){return(0,s.jq)("c_click_ruleLink"),e&&(0,Ie.G)(e)},R=function(){if(!w)return(0,s.jq)("c_unChoose_lockRule_V"),void(0,i.showToast)("\u8bf7\u5148\u52fe\u9009\u9501\u4ef7\u670d\u52a1\u7ec6\u5219");(0,s.jq)("c_lockPrice_Btn");var e={salePrice:u,serviceCharge:f,deposit:p,cabinClass:h};Pe(P,L,{searchKey:n,lockPrice:l,productId:d,queryParam:encodeURIComponent(JSON.stringify(e))})};return(0,m.jsxs)(a.View,{className:Ae.lockPriceLayer,children:[(0,m.jsxs)(a.View,{className:(0,i.classnames)(Ae.headTitle,(0,B.Z)((0,B.Z)({},Ae.showed,S),Ae.unshow,!S)),children:[(0,m.jsx)(a.Text,{className:Ae.title,children:I}),(0,m.jsx)(a.Text,{className:Ae.headUnit,children:"\xa5"}),(0,m.jsx)(a.Text,{className:Ae.headPrice,children:u})]}),(0,m.jsx)(De,{lockInfo:v,lockProcess:y,flights:t,lockPriceInfo:x,lockPrice:l,xSalePrice:u,onScroll:(0,i.trackFn)("showHeadScroll--c3de6",V)}),(0,m.jsx)(Ze,{jumpToLockNoteItem:A,highLink:_,lockItemChecked:w,onSureLockItem:O,goToXBooking:R})]})}var Me=function(e,t){var n=e&&e.find((function(e){return e.type===t}));return n&&n.content||""},Be=function(e){var t=e.lockAmount,n=e.salePrice,r=e.serviceCharge,i=e.deposit,o=e.productId,a=e.flights,c=e.searchKey,l=e.cabinClasses,u=e.priceLockConfigs,f=e.dCityCode,p=e.aCityCode,h=e.departTime,g=e.flightNo;(0,s.$J)("lockPrice_XService_Pop_show",{lockPrice:t,xSalePrice:n,productId:o}),(0,s.ff)("O_Flt_N_Middle_PriceFreeze_Window",{dCityCode:f,aCityCode:p,takeofftime:h,flightNo:g,lockPrice:t}),(0,d.K4)({close:{position:"top-left"},closeMethod:"close",title:"",content:(0,m.jsx)(Fe,{flights:a,searchKey:c,priceLockConfigs:u,lockPrice:t,xSalePrice:n,productId:o,serviceCharge:r,deposit:i,cabinClass:l[0]}),position:"bottom",style:{borderBottomLeftRadius:0,borderBottomRightRadius:0,paddingTop:"44px"}})};function Ue(e){var t=e.flights,n=e.policy,r=e.newPolicy,c=e.priceLockConfigs,l=e.cabinClasses,u=e.dCityCode,d=e.aCityCode,f=e.departTime,p=e.flightNo,h=n||{},g=h.searchKey,v=h.policyNoteList,y=void 0===v?[]:v,x=h.lockAmount,N=(0,o.useMemo)((function(){var e=i.R.find(i.R.propEq("type",T.NF.LockPriceService),y),t=(null===e||void 0===e?void 0:e.extendNoteEntityList)||[],n=Me(t,1),r=Me(t,2),o=Me(t,3),a=Me(t,4),c=Me(t,5);return{lockTitle:null===e||void 0===e?void 0:e.title,lockSubTle:null===e||void 0===e?void 0:e.content,salePrice:n,serviceCharge:r,deposit:o,productId:a,lockDesc:c}}),[y]),w=N.lockTitle,b=N.lockSubTle,C=N.salePrice,S=N.serviceCharge,k=N.deposit,I=N.productId,E=N.lockDesc,P=(0,i.handleHighlight)(w),L=function(){(0,s.ff)("C_Flt_N_Middle_PriceFreeze_Entrance",{dCityCode:u,aCityCode:d,takeofftime:f,flightNo:p,lockPrice:x}),(0,s.jq)("c_buy_lock_service"),Be({lockAmount:x,salePrice:C,serviceCharge:S,deposit:k,productId:I,flights:t,searchKey:g,cabinClasses:l,priceLockConfigs:c,dCityCode:u,aCityCode:d,departTime:f,flightNo:p})};return(0,m.jsxs)(a.View,{className:"".concat(j.policyInfo," ").concat(j.cardContainer," ").concat(r?j.policyInfo2:""),children:[(0,m.jsxs)(a.View,{className:"".concat(j.newTitle," ").concat(j.lockService),children:[(0,m.jsx)(a.Image,{className:j.lockTrend,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/priceLock/lock_trend.png"}),P.length>0?(0,m.jsx)(a.View,{className:j.flexRowCenter,children:P.map((function(e){return(0,m.jsx)(a.Text,{className:"".concat(e.active?j.highLockTitle:j.lockTitleText),children:e.text},e.text)}))}):null]}),(0,m.jsxs)(a.View,{className:"".concat(j.policyBody," ").concat(r?j.policyBody2:""),children:[(0,m.jsxs)(a.View,{className:j.policyContainer,children:[(0,m.jsx)(a.View,{className:j.policyBox,children:(0,m.jsxs)(a.View,{className:j.priceBox,children:[(0,m.jsx)(a.Text,{className:j.priceSymbol,children:"\xa5"}),(0,m.jsx)(a.Text,{className:j.priceNumber,children:C}),(0,m.jsx)(a.Text,{className:j.subtitle,children:b})]})}),(0,m.jsx)(a.View,{className:j.policyBottom,children:(0,m.jsx)(a.View,{className:j.policyLeft,children:(0,m.jsx)(a.View,{className:"".concat(j.cabinInfo," ").concat(r?j.cabinInfo2:""),onClick:(0,i.trackFn)("onClick--d8a0c",(function(){L()})),children:r?(0,m.jsxs)(a.View,{className:"".concat(j.tagsMapBox," ").concat(j.tagsMapBoxNew),children:[(0,m.jsx)(a.Image,{className:j.policyGou,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/policyGou.png"}),(0,m.jsx)(a.Text,{className:j.lockDesc,children:E}),(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-arrow-right"})]}):(0,m.jsxs)(a.View,{className:j.tagsMapBox,children:[(0,m.jsx)(a.Text,{className:j.lockDesc,children:E}),(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-arrow-right"})]})})})})]}),(0,m.jsx)(a.View,{className:j.bookButton,onClick:(0,i.trackFn)("onClick--12ac5",(function(){L()})),children:(0,m.jsx)(a.Text,{className:j.lockBtnTxt,children:_.hL})})]})]})}var qe=function(e,t){var n=e&&e.find((function(e){return e.type===t}));return n&&n.content||""},Ye=function(e){var t=e.priceDetails,n=e.lockTip,r=e.totalPrice;return(0,m.jsx)(a.View,{className:j.priceExplanation,children:(0,m.jsxs)(a.View,{className:"".concat(j.priceContainer," ").concat(j.addBottom),children:[t.map((function(e,t){var n;return(0,m.jsxs)(a.View,{className:j.lockDetail,children:[(0,m.jsxs)(a.View,{className:j.rowAround,children:[(0,m.jsx)(a.Text,{className:j.firstTitle,children:e.title}),(0,m.jsx)(a.View,{className:j.listDashed}),(0,m.jsx)(a.Text,{className:j.firstTitle,children:e.price})]}),null===e||void 0===e||null===(n=e.discount)||void 0===n?void 0:n.map((function(e,t){return(0,m.jsxs)(a.View,{className:"".concat(j.rowAround," ").concat(j.second," ").concat(t?j.reduceTop:""),children:[(0,m.jsxs)(a.View,{className:j.secondLeft,children:[null!==e&&void 0!==e&&e.icon?(0,m.jsx)(a.Image,{className:j.lockIcon,src:e.icon}):null,(0,m.jsx)(a.Text,{className:"".concat(j.secondTitle," ").concat(null!==e&&void 0!==e&&e.icon?j.hlGreen:""),children:null===e||void 0===e?void 0:e.title})]}),(0,m.jsx)(a.View,{className:j.secondLeft,children:(0,m.jsx)(a.Text,{className:"".concat(j.secondTitle," ").concat(null!==e&&void 0!==e&&e.icon?j.hlGreen:""),children:null===e||void 0===e?void 0:e.price})})]},t)}))]},"lock_detail".concat(t))})),(0,m.jsxs)(a.View,{className:"".concat(j.rowAround," ").concat(j.totalPriceBox),children:[(0,m.jsx)(a.View,{className:j.totalTitle,children:_.uR}),(0,m.jsxs)(a.View,{className:j.totalPrice,children:["\xa5",r]})]}),(0,m.jsx)(a.View,{className:j.priceTip,children:n})]})})};function He(e){var t,n=e.policy,r=e.newPolicy,c=e.priceLockConfigs,l=e.dCityCode,u=e.aCityCode,f=e.departTime,p=e.flightNo,h=e.goToBooking,g=n||{},v=g.policyNoteList,y=void 0===v?[]:v,x=g.price,N=null===c||void 0===c||null===(t=c.middleLockPriceDetail)||void 0===t?void 0:t.lockTip,w=(0,o.useMemo)((function(){var e=i.R.find(i.R.propEq("type",T.NF.LockPricePolicy),y);if(e){var t=(null===e||void 0===e?void 0:e.extendNoteEntityList)||[],n=qe(t,1),r=qe(t,2),o=qe(t,3),a=qe(t,4),c=qe(t,5),s=qe(t,6),l=qe(t,7),u=qe(t,8),d=qe(t,9);return{lockTitle:null===e||void 0===e?void 0:e.title,lockSubTle:null===e||void 0===e?void 0:e.content,salePrice:n,actuallyPay:r,favouredPrice:o,depositPrice:a,tax:c,oil:s,total:l,tag:u,lockDesc:d}}}),[y]);if(!w||Object.keys(w).length<0)return null;var b=w.lockTitle,C=w.lockSubTle,S=w.salePrice,k=w.lockDesc,I=w.tag,E=w.actuallyPay,P=w.favouredPrice,L=w.depositPrice,V=w.tax,O=w.oil,A=w.total,R=[{title:"\u673a\u7968\u6b3e",price:"\xa5".concat(E),discount:[{title:"\u5f53\u524d\u673a\u7968\u4ef7",price:"\xa5".concat(S)},{title:"\u9501\u4ef7\u670d\u52a1\u627f\u62c5",price:"-\xa5".concat(P),icon:"https://pages.c-ctrip.com/flight_h5/tinyapp/priceLock/lock_icon.png"}]},{title:"\u673a\u7968\u9884\u4ed8\u6b3e",price:"-\xa5".concat(L)},{title:"\u673a\u5efa",price:"\xa5".concat(V)},{title:"\u71c3\u6cb9",price:"\xa5".concat(O)}],D=function(){(0,s.jq)("openLockPriceDetailPop"),R&&((0,s.$J)("lock_detail_price_pop_show"),(0,d.K4)({close:{position:"top-left"},closeMethod:"close",title:_.OG,content:(0,m.jsx)(Ye,{priceDetails:R,lockTip:N,totalPrice:A}),position:"bottom"}))},Z=function(e){(0,s.jq)("c_goBooking_lock_btn"),(0,s.ff)("C_Flt_N_TinyApp_PriceFreeze_AfterSale_MiddleClick",{dCityCode:l,aCityCode:u,departTime:f,flightNo:p,currentPrice:x}),h(e,1,!0)};return(0,m.jsxs)(a.View,{className:"".concat(j.policyInfo," ").concat(j.cardContainer," ").concat(r?j.policyInfo2:""),children:[(0,m.jsxs)(a.View,{className:"".concat(j.newTitle," ").concat(j.lockPolicy),children:[(0,m.jsx)(a.Image,{className:j.lockTrend,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/priceLock/lock_icon.png"}),(0,m.jsx)(a.Text,{className:j.greenTxt,children:null===b||void 0===b?void 0:b.split("|")[0]}),(0,m.jsx)(a.Text,{className:j.lockSubtitle,children:null===b||void 0===b?void 0:b.split("|")[1]})]}),(0,m.jsxs)(a.View,{className:"".concat(j.policyBody," ").concat(r?j.policyBody2:""),children:[(0,m.jsxs)(a.View,{className:j.policyContainer,children:[(0,m.jsx)(a.View,{className:j.policyBox,children:(0,m.jsxs)(a.View,{className:j.priceBox,children:[(0,m.jsx)(a.Text,{className:j.priceSymbol,children:"\xa5"}),(0,m.jsx)(a.Text,{className:j.priceNumber,children:E}),(0,m.jsx)(a.Text,{onClick:(0,i.trackFn)("openLockPriceDetailLayer--9f906",D),children:(0,m.jsxs)(a.Text,{className:j.plySubtitle,children:[C," ",(0,m.jsx)(a.Text,{className:"iconfont-h5 icon-arrow-right"})]})})]})}),(0,m.jsx)(a.View,{className:"".concat(j.policyTag," ").concat(j.addTopMargin),children:I}),(0,m.jsx)(a.View,{className:j.policyBottom,children:(0,m.jsx)(a.View,{className:j.policyLeft,children:(0,m.jsx)(a.View,{className:"".concat(j.cabinInfo," ").concat(r?j.cabinInfo2:""),children:r?(0,m.jsxs)(a.View,{className:"".concat(j.tagsMapBox," ").concat(j.tagsMapBoxNew),children:[(0,m.jsx)(a.Image,{className:j.policyGou,src:"https://pages.c-ctrip.com/flight_h5/tinyapp/domMiddle/policyGou.png"}),(0,m.jsx)(a.Text,{className:j.lockDesc,children:k})]}):(0,m.jsx)(a.View,{className:j.tagsMapBox,children:(0,m.jsx)(a.Text,{className:j.lockDesc,children:k})})})})})]}),(0,m.jsx)(a.View,{className:j.bookButton,onClick:(0,i.trackFn)("onClick--fb13a",(function(){Z(n)})),children:(0,m.jsx)(a.Text,{className:j.lockBtnTxt,children:_.I6})})]})]})}var Ge=function(){return!1},We=Ge,ze=n(13768),Ke=function(e){var t=e.filterSCabin,n=e.dfilter,r=void 0===n?"":n;return(0,o.useCallback)((function(e,n){var i=e||{},o=i.policyNoteList,a=i.searchKey,c=void 0===a?"":a,s=null===o||void 0===o?void 0:o.find((function(e){return e.type===T.NF.PolicyNoteType18&&"LimitedRealNameRegisterProduct"===e.title})),l=null===o||void 0===o?void 0:o.find((function(e){return e.type===T.NF.LockPriceNoteNew}));if(null!==l&&void 0!==l&&l.title&&(0,P.jq)("select lockPrice policy to booking"),!We(s))return ze.QY.jump({params:{searchKey:encodeURIComponent(c),filterSCabin:t,dfilter:r,LockPriceV3Use:n,key:"middle-to-booking"}})}),[t,r])},Qe=function(e){var t=e.policies,n=e.flights,u=e.newPolicyVersion,d=e.cabinClasses,f=e.refetch,p=e.isMiddleFloatLayer,g=void 0!==p&&p,x=(0,c.useRouter)(),_=x.params,N=(0,o.useState)(!1),T=(0,r.Z)(N,2),w=T[0],b=T[1],C=(0,o.useState)(!1),S=(0,r.Z)(C,2),k=S[0],I=S[1],E=(0,o.useState)(!1),P=(0,r.Z)(E,2),L=P[0],V=P[1],O=(0,o.useState)(!1),A=(0,r.Z)(O,2),R=A[0],D=A[1],Z=(0,o.useState)(void 0),F=(0,r.Z)(Z,2),M=F[0],B=F[1],U=(0,o.useState)(void 0),q=(0,r.Z)(U,2),Y=q[0],H=q[1],G=(0,l.Sl)("lockSwitcher"),W=v(),z=(0,y.Z)(),K=n&&n[0],Q=K&&K.segments&&K.segments[0],J=null===Q||void 0===Q?void 0:Q.departureCityCode,X=null===Q||void 0===Q?void 0:Q.arrivalCityCode,$=null===Q||void 0===Q?void 0:Q.departDateTime,ee=Q.airline,te=Ke(_),ne=(0,o.useMemo)((function(){return(0,i.debounce)((function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.searchKey,a=e.productTypeList,c=!(null===a||void 0===a||!a.length)&&a.indexOf("LimitedStudent")>-1,l=[{name:"searchKey",value:o}],u=G&&r,d=u?"true":"false";u&&l.push({name:"LockPriceV3Use",value:"true"}),(0,s.jq)("c_middle_go_booking",{desc:"\u4e2d\u95f4\u9875\u5230\u586b\u5199\u9875",policyIndex:t,policyTitle:e.title,cabinClasses:i.R.join("_",e.cabinClasses)}),W({searchKey:o,extension:l}),z({isStudent:c}),null===(n=te(e,d))||void 0===n||n.then((function(e){return(null===e||void 0===e?void 0:e.hasRefetch)&&f()})),(0,s.ff)("flight_tinyapp_goto_booking",{speed:"Goto booking page",policyIndex:t,routeSearchToken:o,policy:JSON.stringify(e)})}),500,{leading:!0,trailing:!1})}),[G,W,te,z,f]),re=(0,l.aT)(ne,f),ie=re.callback,oe=(0,l.Gm)("priceLockConfigs",{priceLockPop:[],priceLockIcon:"",priceLockServicePop:{}});(0,o.useEffect)((function(){I(u&&1===(null===n||void 0===n?void 0:n.length))}),[u,n]),(0,o.useEffect)((function(){t.forEach((function(e){var t=e||{},n=t.policyNoteList,r=t.price,i=null===n||void 0===n?void 0:n.find((function(e){return 22===e.type&&e.content})),o=null===n||void 0===n?void 0:n.find((function(e){return 23===e.type&&e.content}));G&&i&&Object.keys(i).length>0?((0,s.jq)("\u4e2d\u95f4\u9875\u9501\u4ef7\u670d\u52a1\u5305\u66dd\u5149"),(0,s.ff)("O_Flt_N_Middle_PriceFreeze_Entrance",{dCityCode:J,aCityCode:X,takeofftime:$,flightNo:ee,lockPrice:r,showPriceFreeze:1}),B(e),V(!0)):((0,s.jq)("\u4e2d\u95f4\u9875\u9501\u4ef7\u670d\u52a1\u5305\u672a\u66dd\u5149"),(0,s.ff)("O_Flt_N_Middle_PriceFreeze_Entrance",{dCityCode:J,aCityCode:X,takeofftime:$,flightNo:ee,lockPrice:r,showPriceFreeze:0})),G&&o&&Object.keys(o).length>0&&((0,s.jq)("\u4e2d\u95f4\u9875\u9501\u4ef7\u8fd0\u4ef7\u653f\u7b56\u66dd\u5149"),(0,s.ff)("S_Flt_N_TinyApp_PriceFreeze_AfterSale_MiddleShow",{dCityCode:J,aCityCode:X,takeofftime:$,flightNo:ee,currentPrice:r}),H(e),D(!0))}))}),[J,X,$,ee,G,t]),(0,o.useEffect)((function(){if(!w){var e=t&&t.find((function(e){return e.lotteryFinish}));t&&t.forEach((function(t){var n=t.policyNoteList&&t.policyNoteList.find((function(e){return 10===e.type}));n&&!e&&((0,s.jq)("\u4e2d\u95f4\u9875\u4f4e\u4ef7\u6c60\u62bd\u5956\u6807\u7b7e\u66dd\u5149"),b(!0))}))}}),[t,w,b]);var ae=(0,o.useCallback)((function(){(0,s.jq)("click lockPrice popup in middle"),h(oe)}),[oe]);return(0,m.jsxs)(a.View,{className:"".concat(j.policyNew," ").concat(k?j.policyNew2:""),children:[k&&(0,m.jsx)(a.View,{className:j.policyTopBox,children:(0,m.jsx)(a.View,{className:j.policyTopText,children:"\u8bf7\u9009\u62e9\u4ea7\u54c1\u4ef7\u683c"})}),(0,m.jsx)(a.View,{style:{display:t&&t[0]?"":"none"},children:(0,m.jsxs)(a.View,{className:j.cardNewBody,children:[L?(0,m.jsx)(Ue,{flights:n,policy:M,newPolicy:k,priceLockConfigs:oe,cabinClasses:d,dCityCode:J,aCityCode:X,departTime:$,flightNo:ee}):null,R?(0,m.jsx)(He,{policy:Y,newPolicy:k,priceLockConfigs:oe,dCityCode:J,aCityCode:X,departTime:$,flightNo:ee,goToBooking:ie}):null,t.map((function(e,r){return(0,m.jsx)(o.Fragment,{children:(0,m.jsx)(Se,{policy:e,policyIndex:r+1,flights:n,goToBooking:ie,newPolicy:k,priceLockConfigs:oe,cabinClasses:d,openPriceLockDetail:ae,isMiddleFloatLayer:g,policyLength:t.length})},r)}))]})})]})},Je=(0,o.memo)(Qe)},29465:function(e,t,n){"use strict";var r=n(68277),i=n(93212),o=n(298),a=n(57042),c=n(24460),s=n(45023),l=n(91425),u=n(90201),d=n(82761),f=n(72546),m=n(39352),p=n(94892),h=n(99531),g=n(7138),v=n(86428),y=n(95260),x=n(32180)["window"],_=["type","isLayer","targetEnv1","comp","params"],N="weapp"===y.t.h5,T=function(e){var t=g.Xl.find((function(t){return t.name===e}));if(!t)throw new Error("\u8def\u7531config\u914d\u7f6e\u4e0d\u6b63\u786e");return t},w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,a.Z)(this,e),(0,s.Z)(this,"config",void 0),(0,s.Z)(this,"targetEnv",void 0),(0,s.Z)(this,"option",void 0),(0,s.Z)(this,"params",void 0),this.option=(0,o.Z)({prefix:"/pages/flight",type:y.F.navigateTo},n),this.params=r,this.config="string"===typeof t?T(t):t,this.targetEnv=this.getTargetEnv()}return(0,c.Z)(e,[{key:"getTargetEnv",value:function(){var e,t=(null===(e=this.config)||void 0===e?void 0:e.target)||{},n=t.mini,r=void 0===n?y.t.mini:n,i=t.h5,o=void 0===i?y.t.taroH5:i;return N?o:r}},{key:"getTargetUrl",value:function(e){var t=this.targetEnv;if(N&&this.targetEnv===y.t.taroH5&&(t=y.t.mini),this.config){var n=this.config[t];return l.R.is(Array,n)?l.R.head(n):l.R.is(Function,n)?n(e):n}}},{key:"getTaroH5Url",value:function(){var e="";if(this.config){var t=this.config["taroH5"];l.R.is(Array,t)&&(e=l.R.head(t)||""),l.R.is(String,t)&&(e=t)}return g.AA.taroH5[(0,d.i)()]+e}},{key:"jumpTaroH5",value:function(e,t){var n=(0,d.i)(),r=g.AA.taroH5[n]+this.getTargetUrl(e);(0,f.G)(r,(0,o.Z)({query:e},t))}},{key:"jumpH5",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.config||{},c=a.needLogin,s=void 0!==c&&c,l=this.getTargetUrl(n),u=l;l&&"object"===(0,i.Z)(l)&&(u=l.url,e=l.query,t=l.opt),(0,f.G)(u,(0,o.Z)((0,o.Z)({query:(0,o.Z)((0,o.Z)({},e),n),needLogin:s},t),r))}},{key:"jumpMini",value:function(){}},{key:"jump",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,i=t.isLayer,a=t.targetEnv1,c=t.comp,s=t.params,l=(0,r.Z)(t,_),d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=a||this.targetEnv,g=s||l,T=this.getTargetUrl(g);if(!T)return console.error("\u8def\u5f84\u4e0d\u5b58\u5728"),Promise.reject(new Error("\u8def\u5f84\u4e0d\u5b58\u5728"));var w=this.config||{},b=w.needLogin,C=void 0!==b&&b,j=n||this.option.type;if(N)if(f===y.t.mini)console.log("taro H5\u8df3\u8f6cTaro");else{if(f!==y.t.h5){if(i&&c){var S=this.option.layerId;return m.n.history.pushState(null,"","".concat(m.n.location.href,"#")),(0,p.DE)({layerId:S||this.config.name,content:function(t){return(0,h.jq)("layer_page_show",{layerId:S,params:g,props:t}),u.createElement(c,(0,o.Z)((0,o.Z)((0,o.Z)({isLayer:i},e.option),t),g))},position:"bottom"}).catch((function(){}))}return v[j]({url:T},{params:(0,o.Z)({from:"inner"},g),data:{needLogin:C},taroH5Url:this.getTaroH5Url()})}console.log("taro H5\u8df3\u8f6cH5"),this.jumpH5(g,d)}else{if(f===y.t.mini)return v[j]({url:T},{params:(0,o.Z)((0,o.Z)({from:"inner"},this.params),g),data:{needLogin:C,timestamp:x.Date.now()}});f===y.t.h5?this.jumpH5(g,d):f===y.t.taroH5&&this.jumpTaroH5(g,d)}return Promise.resolve()}}]),e}();t["Z"]=w},13768:function(e,t,n){"use strict";n.d(t,{U8:function(){return a},pW:function(){return c},gY:function(){return s},MQ:function(){return l},wS:function(){return u},CW:function(){return d},xo:function(){return f},QY:function(){return m},rc:function(){return p},M1:function(){return h},zC:function(){return g},rS:function(){return v}});n(91425);var r=n(7138),i=n(29465),o=n(95260),a=new i.Z(r.m8.BIGHOME,{prefix:"",type:o.F.switchTab}),c=new i.Z(r.m8.HOME),s=new i.Z(r.m8.FIRST),l=new i.Z(r.m8.INTER_FIRST),u=new i.Z(r.m8.SECOND),d=new i.Z(r.m8.INTER_SECOND),f=new i.Z(r.m8.MIDDLE),m=new i.Z(r.m8.FlIGHT_BOOKING),p=new i.Z(r.m8.INTER_MIDDLE),h=new i.Z(r.m8.FlIGHT_INTER_BOOKING),g=(new i.Z(r.m8.SHARE_PASSENGER_COMPLETE),new i.Z(r.m8.DATE_PICKER,{layerId:"DATE_PICKER"})),v=new i.Z(r.m8.CITY_PICKER,{layerId:"CITY_PICKER"});new i.Z(r.m8.PASSENGER_LIST,{layerId:"PASSENGER_LIST"}),new i.Z(r.m8.PASSENGER_EDIT,{layerId:"PASSENGER_EDIT"}),new i.Z(r.m8.APPLICANT_LIST,{layerId:"APPLICANT_LIST"}),new i.Z(r.m8.APPLICANT_EDIT,{layerId:"APPLICANT_EDIT"}),new i.Z(r.m8.REGION_LIST,{layerId:"REGION_LIST"}),new i.Z(r.m8.CITY_LIST,{layerId:"CITY_LIST"})},5437:function(e,t,n){"use strict";n.d(t,{l0:function(){return c},Ss:function(){return s},z_:function(){return l},Hm:function(){return u}});var r=n(298),i=(n(91425),n(18228)),o=n(86428),a=n(13768);function c(){(0,i.jq)("c_home"),a.U8.jump()}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.navigateBack)((0,r.Z)({catchJump:function(){return a.U8.jump()}},e))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.navigateBack)((0,r.Z)({catchJump:function(){return a.pW.jump({type:"reLaunch"})}},e))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.navigateBack)({catchJump:function(){return a.pW.jump({type:"reLaunch"})},resolve:e,result:t})}},7138:function(e,t,n){"use strict";n.d(t,{m8:function(){return o},AA:function(){return a},Xl:function(){return c}});n(91425);var r=n(82761),i=n(95260),o={COMFORTPAGE:"COMFORTPAGE",BIGHOME:"BIGHOME",HOME:"HOME",FIRST:"FIRST",INTER_FIRST:"INTER_FIRST",INTER_SECOND:"INTER_SECOND",SECOND:"SECOND",MIDDLE:"MIDDLE",BOOKING:"BOOKING",FlIGHT_BOOKING:"FlIGHT_BOOKING",FlIGHT_INTER_BOOKING:"FlIGHT_INTER_BOOKING",INTER_MIDDLE:"INTER_MIDDLE",INTER_BOOKING:"INTER_BOOKING",PASSENGER_LIST:"PASSENGER_LIST",PASSENGER_EDIT:"PASSENGER_EDIT",APPLICANT_LIST:"APPLICANT_LIST",APPLICANT_EDIT:"APPLICANT_EDIT",COMPLETION:"COMPLETE",SHARE_PASSENGER:"SHARE_PASSENGER",SHARE_PASSENGER_EDIT:"SHARE_PASSENGER_EDIT",SHARE_PASSENGER_EDIT_NEW:"SHARE_PASSENGER_EDIT_NEW",SHARE_PASSENGER_COMPLETE:"SHARE_PASSENGER_COMPLETE",INSURANCE_AGENT_CALLBACK:"INSURANCE_AGENT_CALLBACK",CITY_PICKER:"CITY_PICKER",REGION_LIST:"REGION_LIST",CITY_LIST:"CITY_LIST",DATE_PICKER:"DATE_PICKER",ORDER_LIST:"ORDER_LIST",HOTEL_SEARCH_LIST:"HOTEL_SEARCH_LIST",REAL_NAME:"REAL_NAME",PROMO_CODE:"PROMO_CODE"},a={taroH5:{dev:"https://m.ctrip.dev.qa.nt.ctripcorp.com/html5/flight",fat:"https://m.ctrip.fat33.qa.nt.ctripcorp.com/html5/flight",prd:"https://m.ctrip.com/html5/flight"},h5:{dev:"http://m.ctrip.fat.qa.nt.ctripcorp.com/html5/flight",fat:"https://m.ctrip.fat336.qa.nt.ctripcorp.com/html5/flight",prd:"https://m.ctrip.com/html5/flight"},common:{fat:"https://m.ctrip.fat466.qa.nt.ctripcorp.com",prd:"https://m.ctrip.com"},realName:{dev:"https://secure.fat18.qa.nt.ctripcorp.com",fat:"https://secure.fat18.qa.nt.ctripcorp.com",prd:"https://secure.ctrip.com"}},c=[{name:o.BIGHOME,h5:function(){return a.common[(0,r.i)()]+"/html5/"},mini:"/pages/home/homepage",target:{h5:i.t.h5}},{name:o.HOME,taroH5:["/home","/index","/taro/home","/home/index","/swift/index"],mini:"/pages/flight/pages/home/index"},{name:o.FIRST,taroH5:["/pages/first","/taro/first","/pages/list/first","/swift/domestic/:dCityCodeParam/:aCityCodeParam/:dDateParam","/swift/domestic/:dCityCodeParam/:aCityCodeParam/:dDateParam/:aDateParam"],mini:"/pages/flight/pages/list/first",h5:function(e){var t=e.dcity,n=e.acity,i=e.ddate,o=e.adate,c=e.dfilter,s=a.h5[(0,r.i)()]+"/swift/domestic/".concat(t,"/").concat(n,"/").concat(i);return o&&(s+="/".concat(o)),{url:s,query:{dfilter:c,fromTinyHome:!0,envIsMini:!0,fromminiapp:"weixin"},opt:{isNavigate:!1}}},target:{mini:i.t.mini,h5:i.t.taroH5}},{name:o.INTER_FIRST,taroH5:["/taro/interFirst","/pages/interList","/pages/interFirst","/swift/international/:dCityCodeParam/:aCityCodeParam","/swift/international/:dCityCodeParam/:aCityCodeParam/:passengerType","/swift/international/:dCityCodeParam/:aCityCodeParam/:dDateParam/:passengerType","/swift/international/:dCityCodeParam/:aCityCodeParam/:dDateParam/:aDateParam/:passengerType"],mini:"/pages/flight/pages/interList/interFirst",target:{mini:i.t.mini,h5:i.t.taroH5}},{name:o.INTER_SECOND,taroH5:["/taro/interSecond","/pages/interList","/pages/interSecond","/swift/international/:dCityCodeParam/:aCityCodeParam/:dDateParam/:aDateParam/2/:passengerType"],mini:"/pages/flight/pages/interList/interSecond"},{name:o.SECOND,taroH5:["/taro/second","/pages/second","/pages/list/second","/swift/domestic/:dCityCodeParam/:aCityCodeParam/:dDateParam/:aDateParam/2"],mini:"/pages/flight/pages/list/second"},{name:o.MIDDLE,taroH5:["/taro/middle","/pages/middle"],mini:"/pages/flight/pages/middle/index"},{name:o.INTER_MIDDLE,taroH5:["/taro/interMiddle","/pages/interMiddle","/swift/international/cabinlist"],mini:"/pages/flight/pages/interMiddle/index"},{name:o.BOOKING,taroH5:["/taro/bookingNew","/pages/booking","/pages/bookingNew","/taro/booking"],mini:"/pages/flight/pages/booking/index",needLogin:!0},{name:o.INTER_BOOKING,taroH5:["/taro/interBooking","/pages/interBooking"],mini:"/pages/flight/pages/interBooking/index",needLogin:!0},{name:o.FlIGHT_BOOKING,taroH5:["/taro/bookingNew","/pages/bookingNew"],mini:"/pages/flightBooking/pages/booking/index",needLogin:!0},{name:o.FlIGHT_INTER_BOOKING,taroH5:["/taro/interBooking","/pages/interBooking"],mini:"/pages/flightBooking/pages/interBooking/index",needLogin:!0},{name:o.PASSENGER_LIST,taroH5:["/taro/booking/passengerList","/pages/booking/passengerList"],mini:"/pages/flightBooking/pages/booking/passengerList/index",needLogin:!0},{name:o.PASSENGER_EDIT,taroH5:["/taro/booking/passengerEdit","/pages/booking/passengerEdit"],mini:"/pages/flightBooking/pages/booking/passengerEdit/index",needLogin:!0},{name:o.APPLICANT_EDIT,taroH5:["/taro/booking/applicantEdit","/pages/booking/applicantEdit"],mini:"/pages/flightBooking/pages/booking/applicantEdit/index",needLogin:!0},{name:o.APPLICANT_LIST,taroH5:["/taro/booking/applicantList","/pages/booking/applicantList"],mini:"/pages/flightBooking/pages/booking/applicantList/index",needLogin:!0},{name:o.SHARE_PASSENGER,taroH5:["/taro/shareEditPsg","/pages/shareEditPsg"],mini:"/pages/flightBooking/pages/shareEditPsg/index"},{name:o.SHARE_PASSENGER_COMPLETE,taroH5:["/taro/shareCompletePsg","/pages/shareCompletePsg"],mini:"/pages/flightBooking/pages/shareCompletePsg/index"},{name:o.INSURANCE_AGENT_CALLBACK,taroH5:["/taro/insuranceCallback","/pages/insuranceCallback"],mini:"/pages/flight/pages/insuranceCallback/index"},{name:"/orderdetail",mini:"/pages/flight/orderdetail"},{name:"/webview",mini:"/pages/flight/webview"},{name:o.DATE_PICKER,taroH5:["/taro/datePicker","/pages/datePicker"],mini:"/pages/flight/pages/lowestDatePicker/index"},{name:o.CITY_PICKER,taroH5:["/taro/cityPicker","/pages/cityPicker"],mini:"/pages/flight/pages/cityPicker/index"},{name:o.REGION_LIST,taroH5:["/taro/regionList","/pages/regionList"],mini:"/pages/flightBooking/pages/regionList/index"},{name:o.CITY_LIST,taroH5:["/taro/cityList","/pages/cityList"],mini:"/pages/flightBooking/pages/cityList/index"}]},59293:function(e,t,n){"use strict";n.d(t,{F_:function(){return s.F},Iy:function(){return l.Iy}});n(91425),n(86428);var r=n(24460),i=n(57042),o=n(21867),a=n(86066),c=n(28009),s=(Error,n(83535)),l=n(75424)},75424:function(e,t,n){"use strict";n.d(t,{Iy:function(){return o},gj:function(){return a}});var r=n(22276),i=(n(91425),[]);function o(e,t){i.push({middlewares:[e],condition:t})}function a(e){return i.filter((function(t){return!t.condition||t.condition(e)})).map((function(e){return e.middlewares})).reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(t))}),[])}},96575:function(e,t,n){"use strict";n.d(t,{wR:function(){return c},MV:function(){return d},QS:function(){return m},FB:function(){return h},of:function(){return g},uq:function(){return v}});n(91425);var r=n(71098),i=n(84706),o=new r.ZP({version:"2020-05-29",key:function(){return"pageDataStorage"},expires:function(){return 1*r.v0}}),a=function(e){o.setAttr(e,void 0)},c=function(e,t){o.setAttr(e,t)},s=new r.ZP({version:"2020-05-29",key:function(){return"routeKeyStorage"},expires:function(){return 1*r.v0}}),l=function(){var e=(0,i.I2)();return s.getAttr(e,void 0)},u=function(e){s.setAttr(e,void 0)},d=function(e,t){s.setAttr(e,t)},f=new Map,m=function(e,t){f.set(e,t)},p=new r.ZP({version:"2020-05-29",key:function(){return"backResultStorage"},expires:function(){return 1*r.v0}}),h=function(e){var t=f.get(e);if(t){f.delete(e);var n=p.getAttr(e,void 0);n?(p.setAttr(e,void 0),t.res(n)):t.res(null)}},g=function(e){h(l()),a(e),u(e)},v=function(e){p.setAttr(l(),e)}},86428:function(e,t,n){"use strict";n.r(t),n.d(t,{navigate:function(){return v},navigateBack:function(){return T},navigateTo:function(){return N},reLaunch:function(){return y},redirectTo:function(){return x},switchTab:function(){return _}});n(91425);var r=n(79301),i=n(298),o=n(95308),a=n(92954),c=n(53052),s=(n(5644),n(72546),n(23266)),l=n(18228),u=n(14140),d=n(84706),f=n(90983);function m(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");var t,n=(0,f.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("function"!==typeof r)throw new TypeError("Middleware must be composed of functions!")}}catch(e){n.e(e)}finally{n.f()}return function(t,n){var r=-1;function i(o){if(o<=r)return Promise.reject(new Error("next() called multiple times"));r=o;var a=e[o];if(o===e.length&&(a=n),!a)return Promise.resolve();try{return Promise.resolve(a(t,i.bind(null,o+1)))}catch(e){return Promise.reject(e)}}return i(0)}}var p=n(75424),h=n(96575),g=n(83535),v=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){var o,a,l,f,v,y,x,_,N,T,w,b,C,j,S;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n||{},a=o.taroH5Url,l=o.type,f=void 0===l?g.F.navigateTo:l,v=o.params,y=void 0===v?{}:v,x=o.data,u.ZP.add(),_=t.url,N=(0,d.I2)(),x&&(0,h.wR)(_,x),(0,h.MV)(_,N),T=(0,c.en)(t.url),w=(0,c.Nv)({url:T.url,query:(0,i.Z)((0,i.Z)({},T.query),y)},{encode:!1}),b=(0,c.en)(a||""),C=(0,c.Nv)({url:b.url,query:(0,i.Z)((0,i.Z)({},b.query),y)},{encode:!1}),j={route:t,type:f,params:y,data:x},S=(0,p.gj)(j),e.next=14,m(S)((0,i.Z)((0,i.Z)({},j),{},{url:C}));case 14:return e.abrupt("return",new Promise((function(e){switch((0,h.QS)(N,{res:e}),f){case g.F.reLaunch:(0,s.UY)({url:w});break;case g.F.redirectTo:(0,s.gB)({url:w});break;case g.F.switchTab:(0,s.MR)({url:w});break;default:(0,s.T8)({url:w});break}})));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t,(0,i.Z)((0,i.Z)({},n),{type:g.F.reLaunch})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t,(0,i.Z)((0,i.Z)({},n),{type:g.F.redirectTo})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t,(0,i.Z)((0,i.Z)({},n),{type:g.F.switchTab})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t,(0,i.Z)((0,i.Z)({},n),{type:g.F.navigateTo})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,n,i,o,c,u=arguments;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=u.length>0&&void 0!==u[0]?u[0]:{},n.resolve,i=n.result,o=n.catchJump,c=void 0===o?function(){}:o,i&&(0,h.uq)(i),(0,l.jq)("c_backlast",{desc:"\u8fd4\u56de\u4e0a\u4e00\u9875"}),e.next=6;break;case 6:if(!((null===(t=(0,a.getCurrentPages)())||void 0===t?void 0:t.length)>1)){e.next=8;break}return e.abrupt("return",(0,s.n)().catch((function(){c()})));case 8:e.next=13;break;case 12:return e.abrupt("return",(0,s.n)().catch((function(){c()})));case 13:return e.abrupt("return",c());case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},83535:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});n(91425);var r={navigateTo:"navigateTo",redirectTo:"redirectTo",reLaunch:"reLaunch",switchTab:"switchTab",navigateBack:"navigateBack"}},95260:function(e,t,n){"use strict";n.d(t,{t:function(){return i},F:function(){return r.F_}});n(91425);var r=n(59293),i=function(e){return e["h5"]="h5",e["taroH5"]="taroH5",e["mini"]="mini",e}({})},63928:function(e,t,n){"use strict";n.d(t,{CU:function(){return a},kK:function(){return c}});var r=n(91425),i=n(84706),o=n(7138),a=function(e){var t=(0,i.SU)(e);return r.R.find((function(e){return!!e.mini&&r.R.includes(e.mini,"/"+t)}),o.Xl)},c=function(e){var t;return(null===(t=a(e))||void 0===t?void 0:t.name)||""}},65550:function(e,t,n){"use strict";n(91425);var r=n(7138),i=n(63928);t["Z"]={init:!1,pageName:{last:"",current:""},setPageName:function(e){if(e){var t=(0,i.kK)(e);t&&r.m8[t]&&(this.pageName.last=this.pageName.current,this.pageName.current=t)}}}},67107:function(e,t,n){"use strict";n.d(t,{T:function(){return i},C:function(){return o}});var r=n(91425),i=function(){return(0,r.useDispatch)()},o=r.useSelector},32532:function(e,t,n){"use strict";n.d(t,{TP:function(){return p},BD:function(){return h},BZ:function(){return v},Uc:function(){return y},BK:function(){return x},Ll:function(){return _},ZD:function(){return N}});var r=n(45023),i=n(298),o=n(90983),a=n(91425),c=n(21367),s=n(56262),l=n(53052),u=n(18228),d=n(51070),f=n(60452),m=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.filter((function(e){return e}));if(!e&&(!i||!i.length))return{ADULT:1,CHILD:0,INFANT:0};if(i&&i.length>0)return{ADULT:Number(i[0])||1,CHILD:Number(i[1])||0,INFANT:Number(i[2])||0};var o=e.split("-");return{ADULT:Number(o[0])||1,CHILD:Number(o[1])||0,INFANT:Number(o[2])||0}},p={tripType:"ONE_WAY",regionType:"DOMESTIC",departure:{cityName:"\u5317\u4eac",cityId:1,cityCode:"BJS",date:(0,a.dayjs)().add(1,"day").format("YYYY-MM-DD"),regionType:"DOMESTIC",cabin:"ECONOMY",cityCodeType:"CityCode"},arrival:{cityName:"\u4e0a\u6d77",cityId:2,cityCode:"SHA",date:(0,a.dayjs)().add(3,"day").format("YYYY-MM-DD"),regionType:"DOMESTIC",cabin:"ECONOMY",cityCodeType:"CityCode"},cabin:{name:"\u7ecf\u6d4e\u8231",value:"ECONOMY"}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=[];Array.isArray(t)?n=t:t&&(n=t.split(","));var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=e[a];if(c)return decodeURIComponent(c)}}catch(e){i.e(e)}finally{i.f()}}},g=function(e){var t="";switch(e){case 1:t="DOMESTIC";break;case 2:t="INTERNATIONAL";break;default:break}return t};function v(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.departure||(n.departure=p.departure),n.arrival||(n.arrival=p.arrival),n.departure.date&&(0,a.dayjs)(null===(e=n.departure)||void 0===e?void 0:e.date).isValid()&&(0,a.dayjs)().isSameOrBefore((0,a.dayjs)(null===(t=n.departure)||void 0===t?void 0:t.date),"day")||(n.departure.date=p.departure.date),n.arrival.date&&(0,a.dayjs)(n.arrival.date).isValid()||(n.arrival.date=p.arrival.date),(0,a.dayjs)(n.departure.date).isSameOrBefore((0,a.dayjs)(n.arrival.date),"day")||(n.arrival.date=(0,a.dayjs)(n.departure.date).add(2,"day").format("YYYY-MM-DD")),n.specialOffers){var r,o=null===(r=n.specialOffers.date)||void 0===r?void 0:r.departDateRange;if(null!==o&&void 0!==o&&o.length){var c=o.map((function(e){if(e.end&&e.begin&&!(0,a.dayjs)().isAfter((0,a.dayjs)(e.end)))return(0,a.dayjs)().isBefore((0,a.dayjs)(e.begin))?e:(0,i.Z)({begin:(0,a.dayjs)().format("YYYY-MM-DD")},e)})).filter(Boolean);n.specialOffers.date.departDateRange=c.length?c:[d.Ti]}else n.specialOffers.date={departDateRange:[d.Ti]}}return n}var y=function(e){var t=h(e),n=t("from")||"",r=t("isshare")||"";return["outer","coupon"].includes(n)||["yes","true"].includes(r)},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.X9.ONE_WAY;return(0,r.Z)((0,r.Z)({1:f.X9.ONE_WAY,2:f.X9.ROUND_TRIP},f.X9.ONE_WAY,f.X9.ONE_WAY),f.X9.ROUND_TRIP,f.X9.ROUND_TRIP)[e]||t},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.X9.ONE_WAY;return(0,r.Z)((0,r.Z)({},f.X9.ONE_WAY,1),f.X9.ROUND_TRIP,2)[e]||1};function N(e){var t,n=h(e),r=n(["channel","subchannel"]),i=n(["dfilter"])||"";i&&(0,u.ff)("flight_taro_dFilter",{speed:JSON.stringify(i)});var o=(0,l.Qc)(i.replace(/\|/g,"&").replace(/:/g,"=")),d=n(["afilter"]);d&&(0,u.ff)("flight_taro_afliter",{speed:JSON.stringify(d)}),(r||o.channel)&&c.cm.setAttr("channel",r||o.channel);var y=null===o||void 0===o||null===(t=o.cabin)||void 0===t||null===(t=t.split(","))||void 0===t?void 0:t[0],_={cabin:""};if(y)switch(y){case"0":case"1":_.cabin="ECONOMY";break;case"2":case"3":_.cabin="BUSINESS,FIRST";break;default:break}var N=n(["regionType","RegionTypeParam"])||p.regionType,T=Number(n(["disic"])),w=g(T),b=Number(n(["aisic"])),C=g(b),j=Number(n(["doffset","doffsetParam"])),S=Number(n(["aoffset","aoffsetParam"])),k=n(["ddate","dDateParam"]),I=n(["dcode","dcity","dCityCodeParam"]),E=n(["dname","dcityName"])||"",P=n(["dPortName"])||"",L=n(["dPortCode"])||o.dport,V=n(["adate","aDateParam"]),O=n(["acode","acity","aCityCodeParam"]),A=n(["aname","acityName"])||"",R=n(["aPortName"])||"",D=n(["aPortCode"])||o.aport,Z=n(["adult"]),F=n(["child"]),M=n(["baby"]),B=m(n(["passengerType"])||n(["type"]),Z,F,M),U=n("cabin"),q=n("cabins")||"[]";q&&(0,u.ff)("flight_taro_cabins",{speed:JSON.stringify(q)});var Y=[];try{Y=JSON.parse(q)}catch(e){console.log(e)}var H=s.Be[Number(n("seat"))]||s.Be[5];!k&&j&&(k=(0,a.dayjs)().add(j,"day").format("YYYY-MM-DD")),!V&&S&&(V=(0,a.dayjs)().add(S,"day").format("YYYY-MM-DD"));var G=k&&V?f.X9.ROUND_TRIP:p.tripType,W=x(n(["tripType","triptype","tripTypeParam"]),G),z={tripType:W,regionType:N,departure:{cityName:decodeURIComponent(E)||I,cityCode:I,airportName:decodeURIComponent(P),airportCode:L,date:k?(0,a.dayjs)(k).format("YYYY-MM-DD"):void 0,regionType:w||N,cabin:U||Y[0]||_.cabin||p.cabin.value},arrival:{cityName:decodeURIComponent(A)||O,cityCode:O,airportName:decodeURIComponent(R),airportCode:D,date:V?(0,a.dayjs)(V).format("YYYY-MM-DD"):void 0,regionType:C||N,cabin:U||Y[1]||p.cabin.value},passengerType:B,interCabin:H};if(!z.departure.cityCode||!z.arrival.cityCode){if("ROUND_TRIP"!==z.tripType)return null;if(!z.arrival.date)return null}return v(z),z}},24773:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(91425),i=n(17321),o=(0,r.createSelector)([i.Se,i.Rg,i.e_],(function(e,t,n){var r="ONE_WAY"===n?[e]:[e,t],i={middle:!0,cabinClasses:r};return i}))},72713:function(e,t,n){"use strict";n.d(t,{e5:function(){return a},Fg:function(){return c},K:function(){return s},sP:function(){return l},wV:function(){return d}});var r=n(91425),i=n(60452),o=n(17321),a=function(e){return e.specialOffers},c=function(e){return e.specialOffers.depatureCity},s=function(e){return e.specialOffers.arrivalCity},l=function(e){return e.specialOffers.date};function u(e,t,n){return null!==e&&void 0!==e&&e.some((function(e){return e.regionType===i.Og.INTERNATIONAL}))||null!==t&&void 0!==t&&t.some((function(e){return e.regionType===i.Og.INTERNATIONAL}))||n===i.Og.INTERNATIONAL?i.Og.INTERNATIONAL:i.Og.DOMESTIC}var d=function(e){return(0,r.createSelector)([o.W$,c,s],(function(t,n,r){return e?u(n,r,t):t}))}},13612:function(e,t,n){"use strict";n.d(t,{c7:function(){return o}});var r=n(91425),i=function(e){return e.user.tripUserInfo},o=((0,r.createSelector)([i],(function(e){return e.nickname})),(0,r.createSelector)([i],(function(e){return e.portraitUrl})),(0,r.createSelector)([i],(function(e){return e.userid})))},48935:function(e,t,n){"use strict";n.d(t,{oC:function(){return l},FS:function(){return u},Pc:function(){return d},nR:function(){return f},gN:function(){return m}});var r=n(298),i=n(91425),o=n(32532),a=(0,r.Z)({airportName:"",airportCode:""},o.TP.arrival),c=(0,i.createSlice)({name:"arrival",initialState:a,reducers:{changeArrivalCity:function(e,t){var n=t.payload,r=n.airportCode,i=n.airportName,o=n.cityCode,a=n.cityName,c=n.regionType,s=n.cityId,l=n.cityCodeType;e.airportCode=r,e.airportName=i,e.cityCode=o,e.cityName=a,e.regionType=c,e.cityId=s,e.cityCodeType=l||"CityCode"},changeArrivalDate:function(e,t){e.date=t.payload},changeArrivalCabin:function(e,t){e.cabin=t.payload},changeArrivalCityName:function(e,t){e.cityName=t.payload},changeArrivalCityRegionType:function(e,t){e.regionType=t.payload}}}),s=c.actions,l=s.changeArrivalCity,u=s.changeArrivalDate,d=s.changeArrivalCabin,f=s.changeArrivalCityName,m=s.changeArrivalCityRegionType;t["ZP"]=c.reducer},92660:function(e,t,n){"use strict";n.d(t,{b7:function(){return l},AO:function(){return u},jW:function(){return d},Mb:function(){return f},ro:function(){return m}});var r=n(298),i=n(91425),o=n(32532),a=(0,r.Z)({airportName:"",airportCode:""},o.TP.departure),c=(0,i.createSlice)({name:"departure",initialState:a,reducers:{changeDepartureCity:function(e,t){var n=t.payload,r=n.airportCode,i=n.airportName,o=n.cityCode,a=n.cityName,c=n.regionType,s=n.cityId,l=n.cityCodeType;e.airportCode=r,e.airportName=i,e.cityCode=o,e.cityName=a,e.regionType=c,e.cityId=s,e.cityCodeType=l||"CityCode"},changeDepartureDate:function(e,t){e.date=t.payload},changeDepartureCabin:function(e,t){e.cabin=t.payload},changeDepartureCityName:function(e,t){e.cityName=t.payload},changeDepartureRegionType:function(e,t){e.regionType=t.payload}}}),s=c.actions,l=s.changeDepartureCity,u=s.changeDepartureDate,d=s.changeDepartureCabin,f=s.changeDepartureCityName,m=s.changeDepartureRegionType;t["ZP"]=c.reducer},53012:function(e,t,n){"use strict";n.d(t,{mI:function(){return a}});var r=n(91425),i={value:!1},o=(0,r.createSlice)({name:"initializedSlice",initialState:i,reducers:{changeInitialized:function(e,t){e.value=t.payload}}}),a=o.actions.changeInitialized;t["ZP"]=o.reducer},54102:function(e,t,n){"use strict";n.d(t,{dS:function(){return a}});var r=n(91425),i={cabin:"ECONOMY\u3001SUPER_ECONOMY"},o=(0,r.createSlice)({name:"interCabin",initialState:i,reducers:{changeInterCabin:function(e,t){e.cabin=t.payload}}}),a=o.actions.changeInterCabin;t["ZP"]=o.reducer},22077:function(e,t,n){"use strict";n.d(t,{QA:function(){return a}});var r=n(91425),i={value:"DIRET_FIRST"},o=(0,r.createSlice)({name:"listSort",initialState:i,reducers:{changeListSort:function(e,t){e.value=t.payload}}}),a=o.actions.changeListSort;t["ZP"]=o.reducer},22772:function(e,t,n){"use strict";n.d(t,{wl:function(){return a}});var r=n(91425),i={value:{ADULT:1,CHILD:0,INFANT:0}},o=(0,r.createSlice)({name:"passengerTypeSlice",initialState:i,reducers:{changePassengerType:function(e,t){var n=t.payload;n&&(e.value=n)}}}),a=o.actions.changePassengerType;t["ZP"]=o.reducer},19479:function(e,t,n){"use strict";n.d(t,{tl:function(){return c}});var r=n(79301),i=n(95308),o=n(91425),a=n(9021),c=(0,o.createAsyncThunk)("sameCity/sameCity",function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.jo.promise({cityCode:t,source:"TaroFlight"});case 2:return n=e.sent,e.abrupt("return",{name:t,canSearch:n.sameCityFlight||!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s=5,l=(0,o.createSlice)({name:"sameCity",initialState:[],reducers:{changeSameCitySlice:function(e,t){t.payload}},extraReducers:function(e){e.addCase(c.fulfilled,(function(e,t){e.length>=s&&e.shift(),e.push(t.payload)}))}});l.actions.changeSameCitySlice;t["ZP"]=l.reducer},17321:function(e,t,n){"use strict";n.d(t,{Ae:function(){return O},Rg:function(){return _},ww:function(){return g},NX:function(){return y},Cy:function(){return v},cY:function(){return x},sq:function(){return T},_H:function(){return w},PM:function(){return N},wG:function(){return h},Se:function(){return d},Wt:function(){return c},LL:function(){return l},iJ:function(){return s},R1:function(){return u},pW:function(){return m},KX:function(){return p},Fo:function(){return f},wQ:function(){return a},QY:function(){return E},uV:function(){return P},q:function(){return V},kM:function(){return L},W$:function(){return j},VL:function(){return S},e_:function(){return C}});var r=n(91425);function i(e){var t=e.airportName;return t&&(t=t.replace(/(\u56fd\u9645)?\u673a\u573a/,"")),t&&e.cityName!==t?e.cityName+t:e.cityName}var o=n(13248),a=function(e){return e.departure},c=(0,r.createSelector)([a],(function(e){return e.cityCode})),s=(0,r.createSelector)([a],(function(e){return e.cityId})),l=(0,r.createSelector)([a],(function(e){return e.cityCodeType})),u=((0,r.createSelector)([a],(function(e){return e.airportCode})),(0,r.createSelector)([a],(function(e){return e.cityName}))),d=(0,r.createSelector)([a],(function(e){return e.cabin})),f=(0,r.createSelector)([a],(function(e){return e.regionType})),m=(0,r.createSelector)([a],(function(e){return e.date})),p=(0,r.createSelector)([a],(function(e){return i(e)})),h=function(e){return e.arrival},g=(0,r.createSelector)([h],(function(e){return e.cityCode})),v=(0,r.createSelector)([h],(function(e){return e.cityId})),y=(0,r.createSelector)([h],(function(e){return e.cityCodeType})),x=((0,r.createSelector)([h],(function(e){return e.airportCode})),(0,r.createSelector)([h],(function(e){return e.cityName}))),_=(0,r.createSelector)([h],(function(e){return e.cabin})),N=(0,r.createSelector)([h],(function(e){return e.regionType})),T=(0,r.createSelector)([h],(function(e){return e.date})),w=(0,r.createSelector)([h],(function(e){return i(e)})),b=function(e){return e.tripType},C=(0,r.createSelector)([b],(function(e){return e.value})),j=(0,r.createSelector)([f,N],o.B),S=function(e){return e.sameCity},k=function(e){return e.interCabin},I=function(e){return e.initialized},E=(0,r.createSelector)([I],(function(e){return e.value})),P=(0,r.createSelector)([k],(function(e){return e.cabin})),L=function(e){return e.passengerType.value},V=function(e){return e.listSort.value},O=function(e){return(0,r.createSelector)([P,d],(function(t,n){return"INTERNATIONAL"===e?t:n}))}},70958:function(e,t,n){"use strict";n.d(t,{jz:function(){return u},hO:function(){return d},wP:function(){return f},n1:function(){return m}});var r=n(298),i=n(91425),o=n(51070),a={depatureCity:[],arrivalCity:[],date:{departDateRange:[o.Ti]}};function c(e){return e.length>1?e.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{airportCode:"",airportName:""})})):e}var s=(0,i.createSlice)({name:"specialOffers",initialState:a,reducers:{changeSpeicialOffersDepatureCity:function(e,t){e.depatureCity=c(t.payload)},changeSpeicialOffersArrivalCity:function(e,t){e.arrivalCity=c(t.payload)},changeSpeicialOffersDate:function(e,t){e.date=t.payload},resetSpeicialOffersDate:function(e){e.date.departDateRange=[],e.date.stayRange=void 0,e.date.weekDays=void 0}}}),l=s.actions,u=l.changeSpeicialOffersDepatureCity,d=l.changeSpeicialOffersArrivalCity,f=l.changeSpeicialOffersDate,m=l.resetSpeicialOffersDate;t["ZP"]=s.reducer},49578:function(e,t,n){"use strict";n.d(t,{mA:function(){return a}});var r=n(91425),i={value:"ONE_WAY"},o=(0,r.createSlice)({name:"tripType",initialState:i,reducers:{changeTripType:function(e,t){e.value=t.payload}}}),a=o.actions.changeTripType;t["ZP"]=o.reducer},90558:function(e,t,n){"use strict";n.d(t,{Xq:function(){return s}});var r=n(79301),i=n(298),o=n(95308),a=n(91425),c=n(9021),s=(0,a.createAsyncThunk)("users/tripUserInfo",(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.u$.promise({});case 2:if(t=e.sent,!t.userid){e.next=5;break}return e.abrupt("return",(0,i.Z)((0,i.Z)({},t),{portraitUrl:(t.portraitUrl||"").replace("http://","https://")}));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))),l={tripUserInfo:{bmobile:"",ccode:"",ccodef:"",cityCode:"",clvName:"",id:"",mfphone:"",mobile:"",nickname:"",portraitUrl:"",userName:"",userid:"",vipgrade:!1}},u=(0,a.createSlice)({name:"users",initialState:l,reducers:{changeTripUserInfo:function(e,t){e.tripUserInfo=t.payload}},extraReducers:function(e){e.addCase(s.fulfilled,(function(e,t){e.tripUserInfo=t.payload}))}});u.actions.changeTripUserInfo;t["ZP"]=u.reducer},26099:function(e,t,n){"use strict";n.d(t,{xE:function(){return a}});var r=n(91425),i=10,o=(0,r.createSlice)({name:"visitedFlight",initialState:[],reducers:{addVisitedFlight:function(e,t){e.length>i&&e.shift(),e.includes(t.payload)||e.push(t.payload)}}}),a=o.actions.addVisitedFlight;t["ZP"]=o.reducer},91321:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(91425),i=10,o=(0,r.createSlice)({name:"visitedInterPolicy",initialState:[],reducers:{addVisitedInterPolicy:function(e,t){e.length>i&&e.shift(),e.includes(t.payload)||e.push(t.payload)}}}),a=o.actions.addVisitedInterPolicy;t["ZP"]=o.reducer},92258:function(e,t,n){"use strict";n.d(t,{Dj:function(){return L},h:function(){return P}});var r=n(298),i=n(45023),o=n(91425),a=n(95537),c={getItem:function(e){return(0,a.cF)({key:e}).then((function(e){return e.data}))},setItem:function(e,t){return(0,a.po)({key:e,data:t})},removeItem:function(e){return(0,a.Li)({key:e})},clear:function(){return(0,a.B$)()},getAllKeys:function(){return new Promise((function(e,t){(0,a.nQ)({success:function(t){e(t.keys)},fail:function(e){t(e)}})}))}},s={key:"root",storage:c,version:20220615,keyPrefix:"flight_"},l=n(18228),u=function(){return function(e){return function(t){"persist/REHYDRATE"===t.type&&(0,l.bd)("flight_taro_h5_redux",{payload:t.payload,type:t.type}),(t.type.startsWith("departure/")||t.type.startsWith("arrival/")||t.type.startsWith("tripType/"))&&(0,l.bd)("flight_taro_h5_redux",{payload:t.payload,type:t.type});var n=e(t);return n}}},d=n(49578),f=n(92660),m=n(48935),p=n(26099),h=n(19479),g=n(22077),v=n(91321),y=n(90558),x=n(53012),_=n(54102),N=n(22772),T=n(70958),w=n(58637),b=n(32532),C=n(86944),j=[];(0,o.initCoffeebeanTaro)({path:"pages/flight/",code:"CB16aec1d53e49102eb1aa1a1531c2abc1",bizCode:"",orderid:0,transactionid:"",extendCommon:"mini-flight",requestConfig:{getRootID:function(e,t){try{if("string"===typeof t.data.data&&j.some((function(t){return e.indexOf(t)>-1}))){var n=JSON.parse(t.data.data);return n.msgID?n.msgID:""}}catch(e){return""}}}},{cwx:C.Y8});var S=(0,i.Z)({tripType:d.ZP,departure:f.ZP,arrival:m.ZP,visitedFlight:p.ZP,sameCity:h.ZP,listSort:g.ZP,user:y.ZP,initialized:x.ZP,passengerType:N.ZP,interCabin:_.ZP,visitedInterPolicy:v.ZP,specialOffers:T.ZP},w.F.reducerPath,w.F.reducer);function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.combineReducers)((0,r.Z)((0,r.Z)({},S),e))}var I=(0,o.persistReducer)((0,r.Z)((0,r.Z)({},s),{},{whitelist:["tripType","departure","arrival","visitedFlight","sameCity","listSort","passengerStore","visitedInterPolicy","passengerType","specialOffers"],migrate:function(e){var t=(0,b.BZ)(e);return Promise.resolve(t)}}),k()),E=function(e){var t=[w.F.middleware];t.push(u);var n=(0,o.configureStore)({reducer:I,preloadedState:e,middleware:function(e){return e({serializableCheck:!1}).concat(t)}});return n.asyncReducers={},n.createReducer=k,n},P=E(),L=(0,o.persistStore)(P)},60933:function(e,t,n){"use strict";n.d(t,{Zw:function(){return s},fN:function(){return l},_n:function(){return u}});n(91425);var r=n(67107),i=n(13612),o=n(89188),a=n(92258),c=n(90558),s=function(){return a.h.dispatch((0,c.Xq)()).unwrap().then((function(e){return!!e.userid||Promise.reject(!1)}))},l=function(e){return(0,o.x)(e).then((function(){return a.h.dispatch((0,c.Xq)()),!0})).catch((function(){return Promise.reject(!1)}))},u=function(){var e=(0,r.C)(i.c7);return!!e}},74711:function(e,t,n){"use strict";n.d(t,{rM:function(){return w},Od:function(){return b},Nz:function(){return C},xU:function(){return j},WI:function(){return S},JU:function(){return I},mT:function(){return E},II:function(){return P},Ke:function(){return V},J2:function(){return A}});n(91425);var r="LIST_FILTER_CHANGE_first",i="LIST_FILTER_CHANGE_second",o="LIST_FILTER_CHANGE_INIT_first",a="LIST_FILTER_CHANGE_INIT_second",c="SWITCH_NEAR_DATE_first",s="SWITCH_NEAR_DATE_second",l="LIST_PAGE_SHOW_first",u="LIST_PAGE_SHOW_second",d="SELECTED_PASSENGER_CHANGE",f="EDIT_PASSENGER_VALIDATE",m="EDIT_PASSENGER_VALIDATOR",p="BOOKING_X_PRODUCT_CHANGE",h="FLIGHT_FILTER_POPUP",g="INSURANCE_SELECT_CLEAN",v="HEADER_TITLE_CHANGE",y="XPRODUCTS_DATA_RESPONSE",x="UPDATE_CALENDAR_DATE",_="UPDATE_FIO_MSG",N="UPDATE_ADVERTISEMENT",T="BACK_TO_HOME_TOP",w="RESEARCH",b="RESEARCH_INTRL",C="SEND_PV_first",j="SEND_PV_second",S="SEND_PV_MIDDLE",k="SEND_PV_BOOKING",I="SEND_PV_INTER_second",E="SEND_PV_INTER_first",P="SEND_PV_INTER_MIDDLE",L="SEND_PV_INTER_BOOKING",V="onShow",O="calendar_update_price",A="LIST_PAGE_UPDATE",R=[r,i,o,a,c,s,d,f,m,p,h,g,v,y,l,u,x,_,N,T,w,b,C,j,S,k,V,O,A,I,E,P,L];t["ZP"]={data:{listener:{},state:{},uuid:{}},emit:function(e){if(R.includes(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log("%ccEvent.emit","color:cyan",e,n),this._invoke.apply(this,[e].concat(n))}},on:function(e,t,n,r){return!R.includes(e)||this.data.uuid[n]||(this.data.uuid[n]=!0,this.data.listener[e]||(this.data.listener[e]=[]),this.data.listener[e].push({uuid:n,listener:t}),console.log("%ccEvent.on","color:cyan",e,n,r,this.data.listener[e].length),"WAITING"===this.data.state[e]&&this._invoke(e)),t},off:function(e,t,n){delete this.data.uuid[t],console.log("%ccEvent.off","color:cyan",e,t,n);var r=(this.data.listener[e]||[]).map((function(e){return e.uuid})).indexOf(t);-1!==r&&this.data.listener[e].splice(r,1)},_invoke:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this.data.listener[e];i&&i.length>0?(i.forEach((function(e){e.listener.apply(e,n)})),this.data.state[e]="DONE"):this.data.state[e]="WAITING"}}},60452:function(e,t,n){"use strict";n.d(t,{pI:function(){return o},IS:function(){return a},c2:function(){return c},Og:function(){return s},X9:function(){return l}});n(91425);var r=n(298),i=n(45023),o=(0,i.Z)({ECONOMY:"ECONOMY"},"BUSINESS,FIRST","BUSINESS,FIRST"),a=(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},"ECONOMY\u3001SUPER_ECONOMY","ECONOMY\u3001SUPER_ECONOMY"),"BUSINESS\u3001FIRST","BUSINESS\u3001FIRST"),"BUSINESS","BUSINESS"),"FIRST","FIRST"),c=(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},"ECONOMY","ECONOMY"),"SUPER_ECONOMY","SUPER_ECONOMY"),"BUSINESS","BUSINESS"),"FIRST","FIRST"),s=((0,r.Z)((0,r.Z)({},c),a),{DOMESTIC:"DOMESTIC",INTERNATIONAL:"INTERNATIONAL"}),l={ONE_WAY:"ONE_WAY",ROUND_TRIP:"ROUND_TRIP",MULTIPLE_TRIP:"MULTIPLE_TRIP"}}}]);
//# sourceMappingURL=taroCommon.js.map