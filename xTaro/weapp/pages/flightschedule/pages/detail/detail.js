/*! For license information please see detail.js.LICENSE.txt */
require("../../taroCommon"),(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[5958],{25949:function(e,t,n){var i,a,r=n(32180)["window"],s=n(66371)["default"];(function(){"use strict";var c={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=s(n);if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var r in n)c.call(n,r)&&n[r]&&e.push(r)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):"object"===s(n.amdO)&&n.amdO?(i=[],a=function(){return o}.apply(t,i),void 0===a||(e.exports=a)):r.classNames=o})()},14938:function(e,t,n){"use strict";n.d(t,{Vi:function(){return i},wc:function(){return a},aF:function(){return r},Ui:function(){return s},FD:function(){return c},Nr:function(){return o},pR:function(){return l},pw:function(){return u},s8:function(){return p},sr:function(){return d},hM:function(){return h},$M:function(){return m},nj:function(){return f},F4:function(){return g},g$:function(){return x},g8:function(){return N},Dk:function(){return w},Tq:function(){return _},Fe:function(){return y},Y6:function(){return I},OO:function(){return v},Js:function(){return j},I9:function(){return T},Fv:function(){return C},ut:function(){return S},EA:function(){return Z},un:function(){return A},Rp:function(){return E},gd:function(){return D},Lr:function(){return M},Ak:function(){return L},HE:function(){return V},D2:function(){return b},vz:function(){return k},ni:function(){return O},ZM:function(){return P},IZ:function(){return R},ps:function(){return F},p3:function(){return H},nQ:function(){return z},hX:function(){return Y},jO:function(){return U},vo:function(){return G},SJ:function(){return B},wz:function(){return W},zT:function(){return q},iq:function(){return Q},b$:function(){return K},XH:function(){return J},mo:function(){return X},c3:function(){return $},OH:function(){return ee},lI:function(){return te},cA:function(){return ne},dG:function(){return ie},ss:function(){return ae},ym:function(){return re},z4:function(){return se},tl:function(){return ce},iu:function(){return oe},fU:function(){return le},C3:function(){return ue},gE:function(){return pe},H3:function(){return de},L:function(){return he},Ie:function(){return me},gw:function(){return fe},MU:function(){return ge},eM:function(){return xe},UL:function(){return Ne},BG:function(){return we},Iu:function(){return _e},I4:function(){return ye},AZ:function(){return Ie},f6:function(){return ve},cY:function(){return je},Fw:function(){return Te},MW:function(){return Ce},cM:function(){return Se},zQ:function(){return Ze},gt:function(){return Ae},MY:function(){return Ee},Mo:function(){return De},Lg:function(){return Me},g:function(){return Le},Bb:function(){return Ve},Tl:function(){return be}});var i={FAT:"fat",UAT:"uat",PROD:"prod"},a=3,r=1,s=2,c={LEFT:"depart",RIGHT:"arrival"},o={DEPART:"\u51fa\u53d1\u5730\u9009\u62e9",ARRIVAL:"\u76ee\u7684\u5730\u9009\u62e9"},l={INPUT_PLACEHOLDER:"\u641c\u7d22\u57ce\u5e02/\u56fd\u5bb6\u4e2d\u82f1\u6587\u6216\u62fc\u97f3",SEARCH_CANCEL:"\u53d6\u6d88",INLAND:"inland",INTER:"inter",TAB_INLAND_TEXT:"\u56fd\u5185",TAB_INTER_TEXT:"\u56fd\u9645/\u4e2d\u56fd\u6e2f\u6fb3\u53f0",HISTORY:"\u5386\u53f2",CLEAR_HISTORY:"\u6e05\u9664\u5386\u53f2",HOT:"\u70ed\u95e8\u57ce\u5e02",LETTER_INDEX:"\u5b57\u6bcd\u7d22\u5f15",MORE:"\u66f4\u591a",NO_RESULT:"\u6ca1\u6709\u7ed3\u679c",CITY_TEXT:"\u57ce\u5e02",AIRPORT_TEXT:"\u673a\u573a",SERVICE_ERROR:"\u670d\u52a1\u51fa\u9519\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff5e",ROW_MAX_LENGTH:5,MAX_CITY_COUNT:19,MAX_HISTORY_COUNT_FIRST:7,SERVICE_SUCCESS:"Success",HISTORY_CITY_CACHE_KEY:"CITY_POPUP_SEARCH_HISTORY",INLAND_CITY_CACHE_KEY:"CITY_POPUP_INLAND_CITY_CACHE",INTER_CITY_CACHE_KEY:"CITY_POPUP_INTER_CITY_CACHE"},u={AIRPORT_FLOW:"\u673a\u573a\u6d41\u91cf",ARRIVE_PORT:"\u5230\u8fbe\u53e3",DEPART_PORT:"\u767b\u673a\u53e3",CHECK_IN:"\u503c\u673a\u67dc\u53f0",DEAD_LINE:"\u622a\u529e\u65f6\u95f4",DEPART_AIRPORT:"\u51fa\u53d1\u673a\u573a",FLIGHT_DISTANCE:"\u98de\u884c\u8ddd\u79bb",FLIGHT_TIPS:"\u4e58\u673a\u6307\u5357",FLIGHT_COMMENTS:"\u822a\u73ed\u70b9\u8bc4",CAROUSEL:"\u884c\u674e\u8f6c\u76d8",MEAL:"\u9910\u98df",FLIGHT_MODEL:"\u673a\u578b",PRE_ORDER_FLIGHT:"\u524d\u5e8f\u822a\u73ed",PASSING_CARD:"\u5165\u5883\u5361",WIFI:"\u673a\u4e0aWi-Fi"},p={CHANGE_OFTEN:"\u53d8\u66f4\u9891\u7e41",BOARD_METRO:"\u9700\u4e58\u6377\u8fd0"},d={LOCAL_TIME_POPUP_TITLE:"\u65f6\u5dee\u8bf4\u660e",LOCAL_TIME_POPUP_FIRST_SUBTITLE:"\u8d77\u98de\u65f6\u95f4",LOCAL_TIME_POPUP_SECOND_SUBTITLE:"\u5230\u8fbe\u65f6\u95f4"},h={TITLE:"\u9009\u62e9\u8ba2\u5355",ORDER_NUM_TEXT:"\u8ba2\u5355\u53f7",TIPS:"\u8be5\u884c\u7a0b\u4e3a\u591a\u8ba2\u5355\u9884\u8ba2\u884c\u7a0b\uff0c\u8bf7\u9009\u62e9\u524d\u5f80\u8ba2\u5355"},m="\u822a\u73ed\u52a9\u624b",f="\u822a\u73ed\u52a8\u6001\u6570\u636e\u7531\u98de\u53cb\u63d0\u4f9b",g="\u7cfb\u7edf\u5f00\u5c0f\u5dee\u5566, \u8bf7\u7a0d\u540e\u518d\u8bd5",x="\u62b1\u6b49, \u6682\u672a\u67e5\u8be2\u5230\u822a\u73ed",N="\u7f51\u7edc\u4e0d\u7ed9\u529b, \u8bf7\u7a0d\u540e\u518d\u8bd5",w="\u518d\u8bd5\u4e00\u6b21",_="\u5173\u6ce8\u822a\u73ed",y="\u4ee5\u4e0b\u65f6\u95f4\u5747\u4e3a\u5f53\u5730\u65f6\u95f4",I="\u5b9e\u9645\u627f\u8fd0",v="\u5b9e\u540d\u540c\u6b65",j="\u67e5\u770b\u8ba2\u5355",T="\u4e0a\u6d77",C="\u5317\u4eac",S={ATTEND_SUCCESS:"\u5173\u6ce8\u6210\u529f",ATTEND_FAIL:"\u5173\u6ce8\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff5e",DELETE_SUCCESS:"\u5df2\u5220\u9664\u884c\u7a0b",DELETE_FAIL:"\u5220\u9664\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff5e"},Z={ATTEND:1,DELETE:64},A=5,E={CACHE_KEY:"DETAIL_REFRESH_FROM_LIST_CACHE_KEY",REFRESH:"yes"},D="\u822a\u7a0b\u8be6\u60c5",M={1:"\u51fa\u53d1",2:"\u5230\u8fbe",3:"\u7ecf\u505c",4:"\u5907\u964d",5:"\u8fd4\u822a"},L={FLYTO:"\u98de\u5f80",VOYAGE:"\u7684\u884c\u7a0b",NO_TRIP_TITLE:"\u822a\u73ed\u52a9\u624b | \u5b9e\u65f6\u5173\u6ce8\u822a\u73ed\u4fe1\u606f"},V="https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/miniapp_share_empty_v2.png",b="https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/miniapp_share_bg_v2.png",k="https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/miniapp_share_airplane.png",O=5,P="\u4eca\u5929",R="\u5468",F="\u661f\u671f",H={MONDAY:"\u4e00",TUESDAY:"\u4e8c",WEDNESDAY:"\u4e09",THURSDAY:"\u56db",FRIDAY:"\u4e94",SATURDAY:"\u516d",SUNDAY:"\u65e5",WEEKDAY:"\u5929"},z="\u51fa\u53d1\u65e5\u671f",Y="*\u56fd\u9645\u822a\u73ed\u8bf7\u6309\u7167\u51fa\u53d1\u57ce\u5e02\u5f53\u5730\u8d77\u98de\u65e5\u671f\u67e5\u8be2",U="\u51fa\u53d1\u57ce\u5e02",G="\u5230\u8fbe\u57ce\u5e02",B="\u822a\u73ed\u53f7",W="\u8bf7\u8f93\u5165\u822a\u73ed\u53f7",q="MM\u6708dd\u65e5",Q="\u6682\u65e0\u641c\u7d22\u5386\u53f2",K="\u641c\u822a\u73ed\u53f7",J="\u641c\u8d77\u964d\u5730",X="\u641c\u7d22",$={NO_FLIGHTNO:"\u8bf7\u586b\u5199\u822a\u73ed\u53f7",FLIGHTNO_ERR:"\u60a8\u8f93\u5165\u7684\u822a\u73ed\u53f7\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",SAME_DEP_ARR_CITY:"\u51fa\u53d1\u57ce\u5e02\u548c\u5230\u8fbe\u57ce\u5e02\u76f8\u540c\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"},ee={CITY_KEY:"LOCATION_CACHE_CITY",GEO_POINT_KEY:"LOCATION_CACHE_GEO_POINT"},te={FLIGHT_NO:0,CITY:1},ne={KEY_FLIGHT_NO:"EMPTY_SEARCH_CACHE_FLIGHT_NO",KEY_CITY:"EMPTY_SEARCH_CACHE_CITY"},ie={SEVEN_GATE_POPUP_FLAG:1},ae=[{name:"\u987a\u5e8f"},{name:"\u822a\u73ed\u53f7"},{name:"\u9884\u8ba1\u8d77\u98de"},{name:"\u72b6\u6001"}],re={TIP:"\u5373\u523b\u767b\u5f55\u5173\u6ce8\u822a\u73ed\u52a8\u6001",BUTTON:"\u7acb\u5373\u767b\u5f55"},se={CHECK_IN:1001,LUGGAGE:1002,MY_FLIGHT:1003,FLIGHT_QUEUE:1015,FLIGHT_PUNCTUAL:1016,HEALTH_TRAVEL:1023},ce="43",oe={NOTICE:"\u6ce8\u610f\u4e8b\u9879\uff1a",CENTIMETER:"cm",UNFOLD:"\u8be6\u60c5",POPUP_TITLE:"\u6ce8\u610f\u4e8b\u9879",CARD_TITLE:"\u4e58\u98de\u673a\uff0c\u54ea\u4e9b\u884c\u674e\u4e0d\u80fd\u5e26\uff1f"},le={internalNoOrder_new:3,internalHasOrder_new:4,internationNoOrder_new:5,internationHasOrder_new:6},ue="https://pic.c-ctrip.com/AssetCatalog/knr/mix/mix2/baggageV3/",pe={1:"checkin",3:"handinV2"},de={1:"orange",2:"green"},he="\u6d82\u88c5: ",me="*\u4ee5\u5b9e\u9645\u4e58\u5750\u4e3a\u51c6",fe="https://pic.c-ctrip.com/AssetCatalog/knr/mix/mix2/myflight-card/",ge="https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/mini_",xe="\u7cfb\u7edf\u5f00\u5c0f\u5dee\u5566, \u8bf7\u7a0d\u540e\u518d\u8bd5",Ne="\u518d\u8bd5\u4e00\u6b21",we={SEVEN_DAY_DELAY_INFO:"\u67e5\u770b\u8fd1\u4e03\u5929\u5ef6\u8bef\u60c5\u51b5",DEPART_DELAY_INFO:"\u51fa\u53d1\u51c6\u70b9\u7387",ARRIVE_DELAY_INFO:"\u5230\u8fbe\u51c6\u70b9\u7387",AVEG_DELAY_INFO:"\u5e73\u5747\u5ef6\u8bef\u65f6\u957f",AVEG_ADVANCE_INFO:"\u5e73\u5747\u63d0\u524d\u65f6\u957f",MINUTE:"\u5206\u949f"},_e={ERROR_CODE:1,NO_DATA_CODE:2,NO_NETWORK_CODE:-1},ye="https://pic.c-ctrip.com/AssetCatalog/knr/mix/exception/",Ie="\u822a\u73ed\u52a8\u6001\u6570\u636e\u6765\u6e90\u4e8e\u98de\u53cb\uff0c\u8bf7\u4ee5\u5b9e\u9645\u4e3a\u51c6",ve="\u5b9e\u540d\u8ba4\u8bc1",je=2,Te={NOT_ECHO:"notEcho",RECEIVED:"received",NOT_RECEIVE:"notReceive"},Ce={COLLAPSE:"collapse",EXPAND:"expand",CLOSE:"close"},Se={SUCCESS:"\u5df2\u5168\u90e8\u6536\u4e0b",FAIL:"\u9886\u53d6\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u8fdb\u5165\u9875\u9762\u518d\u8bd5"},Ze={SEARCH:"\u641c\u822a\u73ed",GIFT:"\u65b0\u5ba2\u793c",COUPON:"\u5238\u5305"},Ae="\u7b2c\u4e00\u65f6\u95f4\u83b7\u53d6\u822a\u73ed\u52a8\u6001\u4fe1\u606f",Ee="\u5f00\u542f\u901a\u77e5",De=["7kQ9U2zpFA1pU86AWbNKnl8A029nwzWuXWCIRKXtaJk"],Me={INIT:"init",YES:"yes",NO:"no"},Le={SUBTIME:"subTime",BOARDING_GATE:"boardingGate",ARRIVE_GATE:"arriveGate",LUGGAGE_CAROUSEL:"luggageCarousel",AIRCRAFT:"aircraft"},Ve={BUTTON_OK:"\u7acb\u5373\u8ba2\u9605",BUTTON_CANCEL:"\u6682\u4e0d\u5904\u7406",CONFIRM_TITEL:"\u8ba2\u9605\u63d0\u9192",CONFIRM_INFO:"\u5df2\u4e3a\u60a8\u5173\u6ce8\u822a\u73ed\uff0c\u5f00\u542f\u901a\u77e5\u6743\u9650\u540e\u624d\u80fd\u4e3a\u60a8\u63a8\u9001\u5c0f\u7a0b\u5e8f\u7684\u822a\u73ed\u52a8\u6001\u63d0\u9192"},be={BUTTON_OK:"\u4e00\u952e\u5f00\u542f",BUTTON_CANCEL:"\u6682\u4e0d\u5f00\u542f"}},82896:function(e,t,n){"use strict";var i=n(32180),a=n(298),r=n(57042),s=n(24460),c=n(81876),o=n(21867),l=n(86066),u=n(45023),p=n(92954),d=n.n(p),h=n(71515),m=n(29187),f=n(65542),g=n(33675),x=n.n(g),N=n(14938),w={appId:"wx6ac21b7b0fb3b226",miniProgramList:["weapp","swan","alipay","tt"],h5:"h5"},_=n(32180)["window"],y=(n(32180)["document"],function(){return j()?"http://gateway.m.fws.qa.nt.ctripcorp.com/restapi/soa2/":"https://m.ctrip.com/restapi/soa2/"}),I=function(){return N.Vi.PROD},v=function(){var e=d().getSystemInfoSync(),t=e.model,n=e.brand,i=/iPhone.*X/i.test(t),a=n&&n.includes("iPhone")&&t.includes("12");return i||a},j=function(){var e=I()===N.Vi.FAT;if(C()){if(e)return!0;var t=_.location||{},n=t.host;return n&&n.includes("fat")}return e},T=function(){var e="weapp";return w.miniProgramList.indexOf(e)>-1},C=function(){var e="weapp";return e===w.h5},S=function(){if("undefined"!==typeof _){var e=_.navigator.userAgent;return/ctrip/i.test(e)}return!1},Z=function(){var e=d().getCurrentPages(),t=e&&e.length?e[e.length-1]:null;return t},A=function(){return-(new _.Date).getTimezoneOffset()/60},E=function(e){var t=/[\u4E00-\u9FA5\uFE30-\uFFA0]+/;return t.test(e)},D=function(e){if("string"===typeof e){var t=/\d{4}-\d{2}-\d{2}/,n=e.match(t);return n?n[0]:""}return""},M=function(e){var t=e.title,n=e.duration,i=void 0===n?3e3:n,a=e.icon,r=void 0===a?"none":a;t&&d().showToast({title:t,duration:i,mask:!0,icon:r})},L={get:function(e){var t=d().getStorageSync(e);if(!t)return null;var n=t||{},i=n.value,a=n.createTime,r=n.timeout,s=+new _.Date;return s-a<r?i:(d().removeStorageSync(e),null)},set:function(e,t,n){n?d().setStorageSync(e,{value:t,timeout:n,createTime:+new _.Date}):d().setStorageSync(e,t)},remove:function(e){d().removeStorageSync(e)}},V=function(){var e=d().getStorageSync("cwx_market_new"),t=e||{},n=t.openid;return n||""},b=function(e){var t=e.url,n=e.callback,i={AccountHead:{},Data:{accountHead:{locale:"zh_CN",platform:"MINIAPP"}}};R("14458/checkCrossTicket.json",i).then((function(e){var i=e||{},a=i.resultStatus,r=i.token,s=a||{},c=s.returnCode;if(0===c){var o=k(r,t);n(o)}else n(t)})).catch((function(){n(t)}))},k=function(e,t){var n=j()?"https://accounts.fat466.qa.nt.ctripcorp.com":"https://accounts.ctrip.com",i="".concat(n,"/H5Login/writecrossticket?ctok=").concat(e,"&backurl=").concat(encodeURIComponent(t));return i},O=function(e){var t=Z();if(!t)return null;var n=t.options;return e?n?n[e]:null:n},P=function(){var e=O()||{},t=e.origin,n=e.highType;return"112"===t||"113"===t?n:""},R=function(e,t){var n=y()+e,i=(0,a.Z)({head:{cver:(null===g.__global||void 0===g.__global?void 0:g.__global.cversion)||"",extension:[{name:"source",value:T()?"miniapp":""}]}},t);return new Promise((function(e,t){x().request({method:"POST",url:n,data:i,success:function(n){n&&200===n.statusCode?e(n.data):t(n)},fail:function(e){t(e)}})}))},F=function(e){if(e&&e.isMock){var t={};return new Promise((function(e){setTimeout((function(){return e(t)}),300)}))}return R("14566/FlightVarDetailSearchV2",e)},H=function(e){if(e&&e.isMock){var t={};return new Promise((function(e){setTimeout((function(){return e(t)}),300)}))}return R("14863/mixdetail",e)},z=n(90201),Y=function(e){var t=e.url,n=e.isNeedLogin,i=e.callback,a=/^(?!http).*/.test(t);if(x().isFake)n?b({url:t,callback:function(e){U(e,i)}}):U(t,i);else{var r="flightScheduleListEvent",s={url:encodeURIComponent(t),needLogin:n,observerKey:i?r:""};"function"===typeof i&&x().Observer.addObserverForKey(r,(function(e){var t=e.type,n=e.options;if("message"===t){var a=n&&n.detail||{},s=a.data;i(s),x().Observer.removeAllObserversForKey(r)}}));var c=a?t:"/cwx/component/cwebview/cwebview?data=".concat(JSON.stringify(s));console.log("jumpUrljumpUrl",c),x().navigateTo({url:c})}},U=function(e,t){var n="".concat(C()?"/pages":"..","/webview/webview?url=").concat(encodeURIComponent(e));x().navigateTo({url:n,events:{acceptDataFromOpenedPage:function(e){"function"===typeof t&&t(e)}}})},G=function(e,t,n,i){if("undefined"!==typeof CtripUtil&&"function"===typeof CtripUtil.app_show_photo_broswer)CtripUtil.app_show_photo_broswer(e,t,n,i);else{var a=e&&e.map((function(e){return e.imageUrl}));a&&a.length>0&&d().previewImage({urls:a,current:a[n]})}},B={app_open_url:Y,app_show_photo_broswer:G};function W(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e&&n.reduce((function(e,t){return null==e||void 0===e?void 0:e[t]}),e)}var q=n(12473),Q=function(){return d().getSetting().then((function(e){if(e&&e.authSetting&&e.authSetting["scope.userLocation"])return q.locate.startGetGeoPoint({type:"wgs84"}).then((function(e){var t=e||{},n=t.latitude,i=t.longitude;return n&&i&&L.set(N.OH.GEO_POINT_KEY,{latitude:n,longitude:i},12e4),e}))}))},K=function(){return Q().then((function(e){var t=e||{},n=t.latitude,i=t.longitude;if(n&&i)return R("12378/json/lBS",{appId:"5003",coordType:"GCJ02",head:{},isNeedCityID:!0,language:"CN",latitude:n,longitude:i,type:1,source:"pages/flightschedule",extension:{openid:V()}}).then((function(e){var t=W(e,"ctripPOIInfo");return L.set(N.OH.CITY_KEY,t,6e5),t}))}))},J=function(){var e=L.get(N.OH.GEO_POINT_KEY)||null;return e},X=function(){var e=L.get(N.OH.CITY_KEY)||null;return e},$=(function(){for(var e=16384,t=3,n=127+t,i=16383,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",r=[],s=0;s<64;s++)r[a.charCodeAt(s)]=s}(),n(32180)["window"],function(){return S()?"_flight_hybird_ctrip":"o_flt_miniprogram_speed"}),ee=(function(){var e={};function t(){"undefined"!==typeof d()&&(d().getNetworkType({success:function(t){e["networkType"]=t.networkType}}),d().getSystemInfo({success:function(t){if("getSystemInfo:ok"==t.errMsg){var n=t||{},i=n.language,a=n.version,r=n.model,s=n.pixelRatio,c=n.windowWidth,o=n.windowHeight,l=n.system,u=n.platform,p=n.SDKVersion;e["language"]=i,e["version"]=a,e["model"]=r,e["pixelRatio"]=s,e["windowWidth"]=c,e["windowHeight"]=o,e["system"]=l,e["platform"]=u,e["ver"]=p}}}))}function n(){var e=d().getStorageSync("mkt_union");e=e?JSON.parse(e):null;var t=e||{},n=t.allianceid,i=t.sid,a=t.ouid,r=t.sourceid,s=t.exmktid,c=parseInt(n),o=parseInt(i);return{allianceid:c||0,sid:o||0,ouid:a||"",sourceid:r||0,exmktid:s||0}}function i(){var t=n()||{};e["allianceid"]=t["allianceid"],e["alliancesid"]=t["sid"],e["allianceouid"]=t["ouid"],e["sourceid"]=t["sourceid"],e["exmktid"]=t["exmktid"]}var a=new Promise((function(t,n){var i=J();i?(e["geo"]=i,t()):T()?Q().then((function(n){var i=n||{},a=i.longitude,r=i.latitude;a&&r&&(e["geo"]={longitude:a,latitude:r}),t()})).catch((function(){return n()})):t({})})),r=new Promise((function(t,n){var i=X();if(i){var a=W(i,"cityIDList",0,"cityName");e["ctripcity"]=a,t()}else T()?K().then((function(n){var i=W(n,"cityIDList",0,"cityName");i&&(e["ctripcity"]=i),t()})).catch((function(){return n()})):t({})}));function s(){return Promise.all([a,r])}function c(){return new Promise((function(e,n){t(),i(),s().then((function(){e()})).catch((function(){n()}))}))}}(),function(){var e=[],t=!0;function n(){t=!1;var i=e.shift(),a=j()?"https://s.uat.qa.nt.ctripcorp.com/bf.gif?":"https://s.c-ctrip.com/bf.gif?";d().request({url:a+i,header:{"Content-Type":"image/gif"},method:"GET",dataType:"image",complete:function(){e.length<1?t=!0:setTimeout(n,50)}})}}(),function(e){var t=$(),n={speed:e};x().sendUbtByPage.ubtTrace(t,n)}),te=function(e,t){x().sendUbtByPage.ubtTrace(e,t)},ne=function(e,t){x().sendUbtByPage.ubtDevTrace(e,t)},ie={greenArrow:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwRDc5NiIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGZpbGwtb3BhY2l0eT0iLjEiIGN4PSIxNiIgY3k9IjE2IiByPSIxNiIvPjxwYXRoIGQ9Ik0xMy45OTggMjVjLS4yNTIgMC0uNTA0LS4wODMtLjY3Mi0uMjQ4LS40Mi0uMzMtLjQyLS45OS0uMDg0LTEuMzJMMjAuNTUgMTZsLTcuMzA3LTcuNDMxYy0uMzM2LS40MTMtLjMzNi0uOTkxLjA4NC0xLjMyMS40MTgtLjMzIDEuMDEtLjMzIDEuNDI4IDBsNy44OTQgOC4wOTFjLjMzNi4zMy4zMzYuOTA5IDAgMS4zMjJsLTcuODk0IDguMDkxYTEuMzcgMS4zNyAwIDAxLS43NTYuMjQ4IiBzdHJva2U9IiMwMEQ3OTYiIHN0cm9rZS13aWR0aD0iLjUiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvZz48L3N2Zz4=",orangeArrow:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0ZGOEIyNiIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGZpbGwtb3BhY2l0eT0iLjEiIGN4PSIxNiIgY3k9IjE2IiByPSIxNiIvPjxwYXRoIGQ9Ik0xMy45OTggMjVjLS4yNTIgMC0uNTA0LS4wODMtLjY3Mi0uMjQ4LS40Mi0uMzMtLjQyLS45OS0uMDg0LTEuMzJMMjAuNTUgMTZsLTcuMzA3LTcuNDMxYy0uMzM2LS40MTMtLjMzNi0uOTkxLjA4NC0xLjMyMS40MTgtLjMzIDEuMDEtLjMzIDEuNDI4IDBsNy44OTQgOC4wOTFjLjMzNi4zMy4zMzYuOTA5IDAgMS4zMjJsLTcuODk0IDguMDkxYTEuMzcgMS4zNyAwIDAxLS43NTYuMjQ4IiBzdHJva2U9IiNGRjhCMjYiIHN0cm9rZS13aWR0aD0iLjUiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvZz48L3N2Zz4=",redArrow:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0ZDNTI0NiIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGZpbGwtb3BhY2l0eT0iLjEiIGN4PSIxNiIgY3k9IjE2IiByPSIxNiIvPjxwYXRoIGQ9Ik0xMy45OTggMjVjLS4yNTIgMC0uNTA0LS4wODMtLjY3Mi0uMjQ4LS40Mi0uMzMtLjQyLS45OS0uMDg0LTEuMzJMMjAuNTUgMTZsLTcuMzA3LTcuNDMxYy0uMzM2LS40MTMtLjMzNi0uOTkxLjA4NC0xLjMyMS40MTgtLjMzIDEuMDEtLjMzIDEuNDI4IDBsNy44OTQgOC4wOTFjLjMzNi4zMy4zMzYuOTA5IDAgMS4zMjJsLTcuODk0IDguMDkxYTEuMzcgMS4zNyAwIDAxLS43NTYuMjQ4IiBzdHJva2U9IiNGQzUyNDYiIHN0cm9rZS13aWR0aD0iLjUiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvZz48L3N2Zz4=",topArrow:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQwIiB3aWR0aD0iMzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE3LjUgMTEuNjIxVjQwaC0zVjExLjYyMUwzLjA2IDIzLjA2MS45NCAyMC45MzkgMTYgNS44OGwxNS4wNiAxNS4wNi0yLjEyIDIuMTIyek0wIDMuNXYtM2gzMnYzeiIgZmlsbD0iIzU2NzhhOCIgb3BhY2l0eT0iLjkiLz48L3N2Zz4=",nextIcon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuNTkpIiBmaWxsPSIjQ0NDIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjI5IiByeD0iLjUiLz48cGF0aCBkPSJNMjYuODMgMjguMDk0bC02LjA0OS05LjA1NGEuNS41IDAgMDEtLjAyLS41MjRsLjAzOC0uMDY2YS4yMzYuMjM2IDAgMDEuNDAyLS4wMTVsNi4xOTYgOS4yNzNhLjUuNSAwIDAxLjAyLjUyNGwtLjAzOC4wNjZhLjIzOC4yMzggMCAwMS0uMDE5LjAyOS40NTMuNDUzIDAgMDEtLjM5Ni42NzNILjQ1NGEuNDUzLjQ1MyAwIDAxMC0uOTA2SDI2LjgzeiIvPjwvZz48L3N2Zz4=",myFlight:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjYiIGhlaWdodD0iMjYiIHZpZXdCb3g9IjAgMCAyNiAyNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjYgMjIuNjdjMCAxLjg0LTEuNTEgMy4zMy0zLjM3IDMuMzNIMy4zbC4wMDItLjAwN0MxLjQ3MyAyNS45NTcgMCAyNC40ODYgMCAyMi42NzFjMC0uNjYuMi0xLjI3LjUzNC0xLjc4N2wtLjA1Ny0uMDIyQzIuNzUyIDE3LjcxIDcuNDk3IDE1Ljg1NCAxMyAxNS44NTRjNS4zNiAwIDEwLjAxIDEuNzQzIDEyLjM1IDQuNzYybC0uMDUzLjA0MWMuNDM1LjU2LjcwMyAxLjI1My43MDMgMi4wMTR6bS0xMy04LjcxOWMtMy40MTkgMC02LjE5LTMuMTIzLTYuMTktNi45NzVDNi44MSAzLjEyMyA5LjU4IDAgMTMgMGMzLjQxOSAwIDYuMTkgMy4xMjMgNi4xOSA2Ljk3NiAwIDMuODUyLTIuNzcxIDYuOTc1LTYuMTkgNi45NzV6IiBmaWxsPSIjMDA4NkY2IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=",airplaneIcon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iMzgiIHZpZXdCb3g9IjAgMCA0MCAzOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTUuMzMyIDE2LjQxOWMtLjA1NiAwLS40NDQuMDEyLTEuMTY4LjA0LS43MjQuMDI3LTEuNDcyLjA0LTIuMjQ4LjA0LS43OCAwLTEuNjY4LjAzOS0yLjY2OC4xMjMtMSAuMDgzLTEuODA0LjE3OS0yLjQxNi4yOS0uMTEyLjA1Ni0uMTk2LjA1Ni0uMjQ4IDBsLS4yMDgtLjIwN2MtLjA4NC0uMDgzLS4xMjQtLjE1MS0uMTI0LS4yMDdMMy41IDEyLjI3MmwtLjY2OC0uMjQ3LTEuNS0uMDgzIDEuMzM2IDUuNjM1TDAgMTguNTdsMi42NjguOTk1LTEuMzM2IDUuNjM5IDEuNS0uMDg0Yy4zMzItLjA1NS41NTYtLjExMS42NjgtLjE2N2wyLjc1Mi00LjMxYzAtLjA1NS4wNTItLjEzOS4xNjgtLjI0Ni4xMDgtLjE2Ny4yNDgtLjIyMy40MTItLjE2Ny42MTIuMTExIDEuNDIuMjA3IDIuNDIuMjlhNTUuMDAyIDU1LjAwMiAwIDAgMCA0LjkxNi4yMDdoMS4xNjhjLjE2OCAwIC4yOC4wNTYuMzMyLjE2N2EuNzYzLjc2MyAwIDAgMSAuMDg0LjMzdi4xNjhsLTEuMDg0IDUuMTM3LTQuMDg0IDEwLjYxM2MuNjY4IDAgMS4xNTItLjAyOCAxLjQ1Ni0uMDg0LjMwNC0uMDU1LjUyOC0uMTIzLjY2OC0uMjA3LjEzNi0uMDgzLjI5Mi0uMjM0LjQ2LS40NTNsMTAuOTE2LTE1LjE3M2MzLjUtLjI3NSA2LjYzNi0uNDE0IDkuNDE2LS40MTQgMS4xNjggMCAyLjU0LS4yMzUgNC4xMjQtLjcwNSAxLjU4NC0uNDcgMi4zNzYtLjk4MiAyLjM3Ni0xLjUzNiAwLS41NTMtLjc4LTEuMDYyLTIuMzMyLTEuNTMyLTEuNTU2LS40Ny0yLjk0OC0uNzA0LTQuMTY4LS43MDQtMS4zMzIgMC0yLjc4LS4wNC00LjMzMi0uMTIzQTcwOS40ODMgNzA5LjQ4MyAwIDAgMSAyNS40MTYgMTZsLTEuMzMyLS4wODRMMTMuMTY4Ljc0NEMxMi43OC4yNDcgMTEuOTE2IDAgMTAuNTg0IDBsNC4wODQgMTAuNjEzIDEuMDg0IDUuMTQxYy4xMDguNDQyLS4wMzIuNjY1LS40Mi42NjV6IiBmaWxsPSIjODlBMEMyIi8+PC9zdmc+"},ae=n(2269),re=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.className,i=ie[t];return i?(0,ae.jsx)(h.Image,{className:n,src:i}):null}}]),n}(z.Component),se=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"state",{marqueeRate:1}),(0,u.Z)((0,c.Z)(e),"timer",null),(0,u.Z)((0,c.Z)(e),"initMarquee",(function(){var t=(0,c.Z)(e),n=d().createSelectorQuery();n.select(".primary-info").boundingClientRect(),n.select(".primary-text").boundingClientRect(),e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){n.exec((function(e){if(Array.isArray(e)){var n=e[0]&&e[0].width,i=e[1]&&e[1].width;if(n&&i){var a=Math.ceil(i/n);t.setState({marqueeRate:a})}}}))}),0)})),(0,u.Z)((0,c.Z)(e),"jumpToDelay",(function(){ee("c_ianalysis_click");var t=W(e.props,"statusInfo","url");t&&B.app_open_url({url:t})})),e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.initMarquee()}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"render",value:function(){var e=this.props.statusInfo,t=this.state.marqueeRate,n=e||{},i=n.status,a=n.statusColor,r=n.statusMsg,s=n.statusTags,c=W(r,0),o=t*N.un,l="marquee".concat(t," ").concat(o,"s linear infinite"),u="marquee".concat(t,"Reverse ").concat(o,"s linear infinite");return(0,ae.jsxs)(h.View,{className:"flight-status-section ".concat(a),onClick:this.jumpToDelay,children:[(0,ae.jsx)(h.View,{className:"status",children:i}),(0,ae.jsxs)(h.View,{className:"notice-info",children:[c?(0,ae.jsxs)(h.View,{className:"primary-info",children:[(0,ae.jsx)(h.View,{className:"primary-text",style:{animation:l,WebkitAnimation:l,MozAnimation:l},children:c}),t>1&&(0,ae.jsx)(h.View,{className:"primary-text-reverse",style:{animation:u,WebkitAnimation:u,MozAnimation:u},children:c})]}):null,(0,ae.jsx)(h.View,{className:"info-addition",children:Array.isArray(s)&&s.map((function(e){var t=e.title,n=e.content;return(0,ae.jsxs)(h.View,{className:"info-addition-item",children:[t&&(0,ae.jsx)(h.Text,{className:"title",children:"".concat(t,"\uff1a")}),n&&(0,ae.jsx)(h.Text,{className:"content",children:n})]},t||"addition")}))})]}),(0,ae.jsx)(re,{name:"".concat(a,"Arrow"),className:"svg-arrow"})]})}}]),n}(z.Component),ce=n(32180)["window"],oe=N.pw.AIRPORT_FLOW,le=N.pw.ARRIVE_PORT,ue=N.pw.DEPART_PORT,pe=N.pw.CHECK_IN,de=N.pw.DEAD_LINE,he=N.pw.DEPART_AIRPORT,me=N.pw.FLIGHT_TIPS,fe=N.pw.FLIGHT_COMMENTS,ge=N.pw.MEAL,xe=N.pw.FLIGHT_MODEL,Ne=N.pw.PRE_ORDER_FLIGHT,we=N.pw.PASSING_CARD,_e=N.pw.WIFI,ye=function(e,t,n){if(!e)return{};var i=e.fltNo,a=e.dpcode,r=e.apcode,s=e.dpDate,c=e.apDate,o={ver:1,token:"",attList:[{fNo:i,dpCode:a,apCode:r,dDate:D(s),toTime:s,apTime:c,oType:t,source:n||""}]};return o};function Ie(e){if(!e||"string"!==typeof e)return null;var t=null;return e.includes(oe)?t=je.AIRPORT_FLOW:e.includes(le)?t=je.EXIT_NODE:e.includes(ue)?t=je.BOARDING_GATE:e.includes(pe)?t=je.CHECK_IN_COUNTER:e.includes(de)?t=je.DEADLINE_CHECK_IN:e.includes(he)?t=je.DEP_HUMAN_FLOW:e.includes(me)?t=je.BOARDING_GUID:e.includes(fe)?t=je.FLIGHT_COMMENT:e.includes(ge)?t=je.MEALS:e.includes(xe)?t=je.CRAFT_TYPE:e.includes(Ne)?t=je.PRE_FLIGHT:e.includes(we)?t=je.ENTRY:e.includes(_e)&&(t=je.WIFI),t}function ve(e){if(!e||"string"!==typeof e)return null;var t=null;return e.includes(pe)?t=Te.CHECK_IN_COUNTER:e.includes(ue)?t=Te.BOARDING_GATE:e.includes(de)?t=Te.DEADLINE_CHECK_IN:e.includes(le)&&(t=Te.EXIT_NODE),t}var je={CHECK_IN_COUNTER:{click:"c_checkin_click"},BOARDING_GATE:{click:"c_boardgate_click"},WIFI:{click:"c_wifiapply_click"},DEADLINE_CHECK_IN:{click:"c_checkinendtime_click"},MEALS:{click:"c_food_click"},CRAFT_TYPE:{click:"c_planemodel_click"},EXIT_NODE:{click:"c_exitnode_click"},AIRPORT_FLOW:{click:"c_airport_click"},DEP_HUMAN_FLOW:{click:"c_dport_human_click"},FLIGHT_COMMENT:{click:"c_comment_click"},BOARDING_GUID:{click:"c_flightknow_click"},ENTRY:{click:"c_entry_click"},PRE_FLIGHT:{click:"c_preflight_click"}},Te={CHECK_IN_COUNTER:{click:"c_checkin_alret_close_click"},BOARDING_GATE:{click:"c_boardgate_alret_close_click"},DEADLINE_CHECK_IN:{click:"c_checkinendtime_alret_close_click"},EXIT_NODE:{click:"c_exitnode_alret_close_click"}},Ce=function(e,t){if(!e)return 0;var n=t?+t:8,i=new ce.Date(Ze(e)).getTime()-60*n*60*1e3;return i},Se=function(e){var t=60*e.getTimezoneOffset()*1e3;return+e+t},Ze=function(e){return e.replace(/-/g,"/")},Ae=function(e,t){var n=(e-t)/1e3/60/60;return n.toFixed(2)},Ee=n(32180)["window"],De=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"state",{timeZoneInfo:null}),(0,u.Z)((0,c.Z)(e),"timer",null),(0,u.Z)((0,c.Z)(e),"handleChangeHeight",(function(){var t=e.props.basicItemInfo||{},n=t.isDisplayLocalText,i=t.timeExplainTip;if(n||i){e.timer&&(clearTimeout(e.timer),e.timer=null);var a=(0,c.Z)(e);e.timer=setTimeout((function(){d().createSelectorQuery().select("#swiper-card").boundingClientRect((function(e){var t=null===e||void 0===e?void 0:e.height;t&&a.props.handleChangeHeight("".concat(t,"px"))})).exec()}),0)}})),(0,u.Z)((0,c.Z)(e),"sendFlightTrace",(function(){var t=e.props.varItemInfo,n=t||{},i=n.fltNo,a=n.dpDate,r=n.apDate,s=n.depZones,c=void 0===s?"8":s,o=n.dcode,l=n.acode,u=n.deDate,p=n.oids,d=Ce(a,c),h=Ce(u,c),m=Se(new Ee.Date),f=Ae(d,m),g=Ae(h,m),x=e.getOrderIds(p),N={orderid:x,FlightNo:i,dcitycode:o,acitycode:l,StartTime:a,EndTime:r,BeforeDTime:f,BeforeRDTime:g};te("O_FLT_Mix_Basic_Wechat",N)})),(0,u.Z)((0,c.Z)(e),"getOrderIds",(function(e){return e&&e[0]?e:[]})),(0,u.Z)((0,c.Z)(e),"openThreeTimePopup",(function(){var t=e.props.basicItemInfo,n=t||{},i=n.threeTimeInfo;i&&"function"===typeof e.props.controlThreeTimePopup&&e.props.controlThreeTimePopup(!0)})),(0,u.Z)((0,c.Z)(e),"openMidStopPopup",(function(){"function"===typeof e.props.controlMidStopPopup&&e.props.controlMidStopPopup(!0)})),(0,u.Z)((0,c.Z)(e),"calcProgress",(function(e){if(!e)return 0;var t=.75;return e*t})),(0,u.Z)((0,c.Z)(e),"renderMidStop",(function(){var t=e.props.basicItemInfo,n=t||{},i=n.isStopOrAlternate,a=n.stopOrAlternateText,r=n.stopOrAlternateCityName,s=n.progress,c=e.calcProgress(s);return i?(0,ae.jsxs)(h.View,{className:"baseinfo__time-progress baseinfo__time--midstop",onClick:e.openMidStopPopup,children:[(0,ae.jsxs)(h.View,{className:"midstop__stopover",children:[a,(0,ae.jsx)(h.View,{className:"midstop__stopover-line"})]}),(0,ae.jsx)(h.View,{className:"midstop__city",children:r})]}):(0,ae.jsxs)(h.View,{className:"baseinfo__time-progress progress__icon-flight",children:[(0,ae.jsx)(h.View,{className:(0,m.classnames)("progress__left",{"progress--pass":s>0}),style:{width:"".concat(c,"%")}}),(0,ae.jsx)(h.View,{className:"progress__airplane",style:{left:"".concat(c,"%")},children:(0,ae.jsx)(re,{name:"airplaneIcon",className:"progress__airplane-svg"})}),(0,ae.jsx)(h.View,{className:(0,m.classnames)("progress__right",{"progress--pass":100===s})})]})})),(0,u.Z)((0,c.Z)(e),"renderDepartAndArriveLocal",(function(t,n){if(!t||!n)return null;var i=[t,n],a=e.props.showTimeZonePopup;return te("S_Flt_N_Detail_Local_Time",{}),(0,ae.jsxs)(h.View,{className:"local",onClick:function(){return a(i)},children:[(0,ae.jsx)(h.Text,{children:N.Fe}),(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/question_icon.svg",className:"svg-question"})]})})),(0,u.Z)((0,c.Z)(e),"renderDisclaimerEntrance",(function(){var t=e.props,n=t.basicItemInfo,i=t.showDisclaimerPopup,a=n||{},r=a.timeExplainTip,s=a.timeExplainInfo;return r?(te("S_Flt_N_Detail_Disclaimer_Entrance",{}),(0,ae.jsxs)(h.View,{className:"disclaimer-entrance",onClick:function(){return i(s)},children:[(0,ae.jsx)(h.Text,{children:r}),(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/arrow_right.svg",className:"svg-blue-arrow-right"})]})):null})),(0,u.Z)((0,c.Z)(e),"renderTransit",(function(){return(0,ae.jsx)(h.View,{className:"baseinfo__transit",children:(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/transit/label.svg",className:"svg-transit"})})})),e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.sendFlightTrace(),this.handleChangeHeight()}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"componentDidUpdate",value:function(e){var t=this.props.varItemInfo&&this.props.varItemInfo.oids,n=e.varItemInfo&&e.varItemInfo.oids;t&&!n&&this.sendFlightTrace()}},{key:"render",value:function(){var e=this.props.basicItemInfo,t=e||{},n=t.dItemInfo,i=t.aItemInfo,a=t.isDisplayLocalText,r=t.threeTimeInfo;if(!n||!i)return null;var s=P()===N.g.SUBTIME&&"--:--"!==n.subTime;return(0,ae.jsxs)(h.View,{className:"depart-arrive",children:[a?this.renderDepartAndArriveLocal(n.timeZoneInfo,i.timeZoneInfo):null,(0,ae.jsxs)(h.View,{className:"city",children:[(0,ae.jsxs)(h.View,{className:"depart",children:[(0,ae.jsx)(h.View,{className:"airport",children:n.apName}),n.terminalName?(0,ae.jsx)(h.View,{className:"terminal",children:n.terminalName}):null,n.connectingFlightTag?this.renderTransit():null]}),(0,ae.jsxs)(h.View,{className:"arrive",children:[i.connectingFlightTag?this.renderTransit():null,(0,ae.jsx)(h.View,{className:"airport",children:i.apName}),i.terminalName?(0,ae.jsx)(h.View,{className:"terminal",children:i.terminalName}):null]})]}),(0,ae.jsxs)(h.View,{className:"estimate",children:[(0,ae.jsx)(h.View,{className:"depart",children:n.mStatus}),(0,ae.jsx)(h.View,{className:"arrive",children:i.mStatus})]}),(0,ae.jsxs)(h.View,{className:"time",children:[(0,ae.jsx)(h.View,{className:"depart",children:(0,ae.jsx)(h.View,{className:"time-text",children:n.mTime})}),(0,ae.jsx)(h.View,{className:"middle-wrapper",children:this.renderMidStop()}),(0,ae.jsx)(h.View,{className:"arrive",children:(0,ae.jsx)(h.View,{className:"time-text",children:i.mTime})})]}),(0,ae.jsxs)(h.View,{className:(0,m.classnames)("plantime",{change:!!r}),onClick:this.openThreeTimePopup,children:[(0,ae.jsx)(h.View,{className:(0,m.classnames)("depart",{"depart--orange":s}),children:"".concat(n.subStatus," ").concat(n.subTime)}),(0,ae.jsx)(h.View,{className:"divide-vertical"}),(0,ae.jsx)(h.View,{className:"arrive",children:"".concat(i.subStatus," ").concat(i.subTime)}),r?(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/blue_arrow_right.svg",className:"blue-right-arrow"}):null]}),this.renderDisclaimerEntrance()]})}}]),n}(z.Component),Me="CHANGE_FLIGHT_NO",Le="SWITCH_CITYS",Ve=function(e){d().eventCenter.on(Me,e)},be=function(e){d().eventCenter.trigger(Me,e)},ke=function(e){d().eventCenter.on(Le,e)},Oe=function(e){d().eventCenter.trigger(Le,e)},Pe=function(e){d().eventCenter.off(e)},Re=N.lI.FLIGHT_NO,Fe=N.lI.CITY,He=N.cA.KEY_FLIGHT_NO,ze=N.cA.KEY_CITY,Ye=864e5,Ue=function(e,t){if(!Array.isArray(e))return-1;var n=-1;return n="string"===typeof t?e.findIndex((function(e){return e===t})):e.findIndex((function(e){var n=e.aName,i=void 0===n?"":n,a=e.dName,r=void 0===a?"":a,s=t||{},c=s.aName,o=s.dName;return i===c&&r===o})),n},Ge=function(e){var t=[];return t=e===Re?L.get(He):L.get(ze),t||[]},Be=function(e){if(e)if("string"===typeof e){var t=Ge(Re),n=e.toUpperCase(),i=Ue(t,n);i>-1&&t.splice(i,1),t.unshift(n),L.set(He,t,Ye)}else{var a=Ge(Fe),r=Ue(a,e);r>-1&&a.splice(r,1),a.unshift(e),L.set(ze,a,Ye)}},We=function(e){e===Re?L.remove(He):L.remove(ze)},qe=function(e){var t=Ge(e),n=e===Re?He:ze;t.pop(),L.set(n,t,Ye)},Qe=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,u.Z)((0,c.Z)(i),"changeFltNo",(function(e){var t=e.target.value;i.props.onFltNoChange(t)})),i}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props.flightNo;return(0,ae.jsxs)(h.View,{className:"search-fltno",children:[(0,ae.jsx)(h.View,{className:"input-title",children:N.SJ}),(0,ae.jsx)(h.View,{className:"input-body",children:(0,ae.jsx)(h.Input,{className:"input-fltno",type:"text",placeholder:N.wz,"placeholder-style":"color: #ccc",value:e,onInput:this.changeFltNo})})]})}}]),n}(z.Component),Ke=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,u.Z)((0,c.Z)(i),"clicked",!1),(0,u.Z)((0,c.Z)(i),"timer",null),(0,u.Z)((0,c.Z)(i),"switchCity",(function(){i.clicked||(i.clicked=!0,i.setState({animation:!0}),"function"===typeof i.props.onSwitchCity&&i.props.onSwitchCity(),i.timer&&clearTimeout(i.timer),i.timer=setTimeout((function(){i.clicked=!1,i.setState({animation:!1})}),300))})),(0,u.Z)((0,c.Z)(i),"showCity",(function(e){"function"===typeof i.props.showOrCloseCityPopup&&i.props.showOrCloseCityPopup(e)})),i.state={animation:!1,side:"left"},i}return(0,s.Z)(n,[{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=W(this.props,"arrival","name"),n=W(this.props,"depart","name"),i=this.state.animation;return(0,ae.jsxs)(h.View,{className:"search-city",children:[(0,ae.jsxs)(h.View,{className:"search-city-title",children:[(0,ae.jsx)(h.View,{children:N.jO}),(0,ae.jsx)(h.View,{children:N.vo})]}),(0,ae.jsxs)(h.View,{className:"search-city-body",children:[(0,ae.jsx)(h.View,{className:(0,m.classnames)("depart-city",{"trans-right":i}),onClick:function(){return e.showCity(N.FD.LEFT)},children:n}),(0,ae.jsxs)(h.View,{className:"reverse",onClick:this.switchCity,children:[(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/flight_arrow_search_change.svg",className:(0,m.classnames)("city-arrow",{rotate:i})}),(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/flight_arrow_search_dot.svg",className:"city-arrow-plane"})]}),(0,ae.jsx)(h.View,{className:(0,m.classnames)("arrival-city",{"trans-left":i}),onClick:function(){return e.showCity(N.FD.RIGHT)},children:t})]})]})}}]),n}(z.Component),Je=n(32180)["window"];n(68197);var Xe=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.showCalendar,n=e.selectedDate,i=e.holiday,a=void 0===i?"":i,r=new Je.Date(n).customFormat(N.zT),s=a||new Je.Date(n).customFormat("ee");return(0,ae.jsxs)(h.View,{className:"search-date",children:[(0,ae.jsx)(h.View,{className:"date-title",children:N.nQ}),(0,ae.jsx)(h.View,{className:"date-body",onClick:t,children:(0,ae.jsxs)(h.View,{className:"depart-date",children:[(0,ae.jsx)(h.Text,{children:r}),(0,ae.jsx)(h.Text,{className:"week-day",children:s})]})}),(0,ae.jsx)(h.View,{className:"date-tip",children:N.hX})]})}}]),n}(z.Component),$e=function(e){return R("14566/FlightVarListQuery",e)},et=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.tabIndex,n=e.tabClick,i=0===t;return(0,ae.jsxs)(h.View,{className:"search-tab-wrap",children:[(0,ae.jsx)(h.View,{className:(0,m.classnames)("tab",{"tab-number-active":i}),onClick:function(){return n(0)},children:N.b$}),(0,ae.jsx)(h.View,{className:(0,m.classnames)("tab",{"tab-city-active":!i}),onClick:function(){return n(1)},children:N.XH})]})}}]),n}(z.Component),tt=n(32180)["window"];n(68197);var nt=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,u.Z)((0,c.Z)(i),"hasClickSearchBtn",!1),(0,u.Z)((0,c.Z)(i),"tabChange",(function(e){var t=i.state.tabIndex;e!==t&&(i.setState({tabIndex:e}),i.props.tabClick(e))})),(0,u.Z)((0,c.Z)(i),"getListQueryParams",(function(e,t){return{ver:1,token:"",queryType:1,dPort:"",aPort:"",extparam:"",flightNo:e,srchDate:t}})),(0,u.Z)((0,c.Z)(i),"validate",(function(){var e=i.state,t=e.flightNo,n=e.tabIndex;if(0===n){if(!t)return M({title:N.c3.NO_FLIGHTNO}),!1;if(t.length<3||E(t))return M({title:N.c3.FLIGHTNO_ERR}),!1}else{var a=W(i.props,"depArrCitys","arrival","code"),r=W(i.props,"depArrCitys","depart","code");if(r===a)return M({title:N.c3.SAME_DEP_ARR_CITY}),!1}return!0})),(0,u.Z)((0,c.Z)(i),"onFltNoChange",(function(e){var t=e?e.toUpperCase():"";i.setState({flightNo:t})})),(0,u.Z)((0,c.Z)(i),"switchCity",(function(){var e=i.props.depArrCitys,t=e||{},n=t.depart,a=t.arrival;Oe({depart:a,arrival:n}),ee("c_search_switch_click")})),(0,u.Z)((0,c.Z)(i),"jumpToListPage",(function(e){B.app_open_url({url:e,isNeedLogin:!0,callback:function(e){Array.isArray(e)&&e.map((function(e){var t=e.listAttendJoinOrCancel;t&&d().setStorageSync(N.Rp.CACHE_KEY,N.Rp.REFRESH)}))}})})),(0,u.Z)((0,c.Z)(i),"getListPageUrl",(function(e){var t=j()?"m.fat35.qa.nt.ctripcorp.com":"m.ctrip.com",n="/webapp/flight/schedule/list.html?",i=T()?"&fromtype=miniapp":C()?"&fromtype=miniappH5":"";return"https://".concat(t).concat(n).concat(e).concat(i)})),(0,u.Z)((0,c.Z)(i),"search",(function(){if(!i.hasClickSearchBtn&&i.validate()){ee("c_search_go_click"),i.hasClickSearchBtn=!0;var e=i.props.selectedDate,t=i.state,n=t.flightNo,a=t.tabIndex,r=new tt.Date(e).customFormat("y-MM-dd");if(0===a){var s=i.getListQueryParams(n,r);$e(s).then((function(e){if(e.flst&&1===e.flst.length&&4===e.rt){var t=W(e,"flst",0,"acode"),a=W(e,"flst",0,"dcode"),s="detail?queryDate=".concat(r,"&flightNo=").concat(n,"&dcode=").concat(a,"&acode=").concat(t);x().navigateTo({url:s}),ee("c_search_flight_num_to_detail_click")}else{var c="flightNo=".concat(n,"&srchDate=").concat(r,"&queryType=1"),o=i.getListPageUrl(c);i.jumpToListPage(o)}i.hasClickSearchBtn=!1})).catch((function(e){console.log("flightList fetch error ",e),i.hasClickSearchBtn=!1})),Be(n)}else{var c=i.props.depArrCitys,o=c||{},l=o.depart,u=o.arrival,p=W(u,"port")||"",d=W(l,"port")||"",h=W(u,"code")||"",m=W(l,"code")||"",f=W(u,"name")||"",g=W(l,"name")||"",N=p?"&aAirport=".concat(p):"",w=d?"&dAirport=".concat(d):"",_="srchDate=".concat(r,"&aPort=").concat(h).concat(N,"&dPort=").concat(m).concat(w,"&queryType=2&dName=").concat(g,"&aName=").concat(f),y=i.getListPageUrl(_);i.jumpToListPage(y),i.hasClickSearchBtn=!1;var I={aPort:p,dPort:d,aCode:h,dCode:m,aName:f,dName:g};Be(I)}"function"===typeof i.props.updateSearchHistory&&i.props.updateSearchHistory()}})),i.state={flightNo:"",departDate:"",history:[],tabIndex:0},i}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){Ve(this.onFltNoChange)}},{key:"componentWillUnmount",value:function(){Pe(Me)}},{key:"render",value:function(){var e=this.state,t=e.flightNo,n=e.tabIndex,i=this.props,a=i.holiday,r=i.showCalendar,s=i.selectedDate,c=i.depArrCitys,o=i.showOrCloseCityPopup,l=c||{},u=l.depart,p=l.arrival,d=0===n;return(0,ae.jsxs)(h.View,{className:"swiper-card",children:[(0,ae.jsx)(et,{tabIndex:n,tabClick:this.tabChange}),(0,ae.jsxs)(h.View,{className:"swiper-item swiper-item--empty",children:[(0,ae.jsxs)(h.View,{className:"search-form",children:[d?(0,ae.jsx)(Qe,{flightNo:t,onFltNoChange:this.onFltNoChange}):(0,ae.jsx)(Ke,{depart:u,arrival:p,onSwitchCity:this.switchCity,showOrCloseCityPopup:o}),(0,ae.jsx)(Xe,{showCalendar:r,selectedDate:s,holiday:a})]}),(0,ae.jsx)(h.View,{className:"search-button-wrap",children:(0,ae.jsx)(m.AtButton,{type:"primary",size:"normal",className:"search-button",onClick:this.search,children:N.mo})})]})]})}}]),n}(z.Component);function it(){var e=function(){return(0,ae.jsx)(h.View,{className:"mix-loading__content__detail",children:[1,2].map((function(e){return(0,ae.jsxs)(h.View,{className:"mix-loading__content__detail__item",children:[(0,ae.jsx)(h.View,{className:"mix-loading__content__left bg-change"}),(0,ae.jsxs)(h.View,{className:"mix-loading__content__right",children:[(0,ae.jsx)(h.View,{className:"mix-loading__content__right__title bg-change"}),(0,ae.jsx)(h.View,{className:"mix-loading__content__right__sub-title bg-change"})]})]},e)}))})};return(0,ae.jsxs)(h.View,{className:"mix-loading",children:[(0,ae.jsx)(h.View,{className:"mix-loading__navigation-title bg-change"}),(0,ae.jsx)(h.View,{className:"mix-loading__navigation-sub-title bg-change"}),(0,ae.jsxs)(h.View,{className:"mix-loading__content",children:[(0,ae.jsx)(h.View,{className:"mix-loading__content__title bg-change"}),e()]})]})}var at=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"renderHeader",(function(){return(0,ae.jsxs)(h.View,{className:"skeleton-flight-header",children:[(0,ae.jsx)(h.View,{className:"skeleton-block width-220"}),(0,ae.jsx)(h.View,{className:"skeleton-block width-540 marginTop-16"})]})})),(0,u.Z)((0,c.Z)(e),"renderSwiperItem",(function(){return(0,ae.jsxs)(h.View,{className:"swiper-item skeleton-swiper-item",children:[(0,ae.jsxs)(h.View,{className:"flight-status",children:[(0,ae.jsx)(h.View,{className:"skeleton-circle-gray"}),(0,ae.jsxs)(h.View,{className:"notice-info",children:[(0,ae.jsx)(h.View,{className:"skeleton-block-gray width-370 marginTop-8"}),(0,ae.jsx)(h.View,{className:"skeleton-block-gray width-520 marginTop-16"})]})]}),(0,ae.jsxs)(h.View,{className:"flight-info",children:[(0,ae.jsx)(h.View,{className:"skeleton-circle-gray"}),(0,ae.jsxs)(h.View,{className:"notice-info",children:[(0,ae.jsx)(h.View,{className:"skeleton-block-gray width-210 marginTop-14"}),(0,ae.jsx)(h.View,{className:"skeleton-block-gray width-370 marginTop-32"}),(0,ae.jsx)(h.View,{className:"skeleton-block-gray width-520 marginTop-24"}),(0,ae.jsx)(h.View,{className:"skeleton-block-gray width-520 marginTop-24"})]})]})]})})),(0,u.Z)((0,c.Z)(e),"renderExtra",(function(){return(0,ae.jsxs)(h.View,{className:"flight-extra skeleton-flight-extra",children:[e.renderExtraCore(),(0,ae.jsxs)(h.View,{className:"extra normal",children:[(0,ae.jsx)(h.View,{className:"skeleton-block width-350 marginTop-33"}),(0,ae.jsx)(h.View,{className:"skeleton-block width-622 marginTop-16"})]})]})})),(0,u.Z)((0,c.Z)(e),"renderExtraCore",(function(){return(0,ae.jsx)(h.View,{className:"extra core",children:[1,2,3].map((function(e){return(0,ae.jsxs)(h.View,{className:"extra-item",children:[(0,ae.jsx)(h.View,{className:"skeleton-block width-106 marginTop-33"}),(0,ae.jsx)(h.View,{className:"skeleton-block width-150 marginTop-24"}),(0,ae.jsx)(h.View,{className:"skeleton-block width-150 marginTop-24"})]},e)}))})})),(0,u.Z)((0,c.Z)(e),"renderExtraAndMix",(function(){return(0,ae.jsxs)(h.View,{className:"skeleton-flight-recommend",children:[e.renderExtra(),(0,ae.jsx)(it,{})]})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.header,n=e.swiperItem,i=e.switchFetch;return t?this.renderHeader():n?this.renderSwiperItem():i?this.renderExtraAndMix():(0,ae.jsxs)(h.View,{className:"flight-schedule-skeleton",children:[this.renderHeader(),this.renderSwiperItem(),this.renderExtraAndMix()]})}}]),n}(z.PureComponent);function rt(e){var t=e.fltInfo,n=e.tripTypeInfo,i=e.handleRealNamePopup,a=e.handleOrderPopup,r=t||{},s=r.airlineIcon,c=r.airlineName,o=r.fltNo,l=r.isCarrier,u=r.cAairlineName,p=r.crrFno,d=n||{},m=d.orderType,f=d.url,g=m===N.wc,x=m===N.Ui,w=m===N.aF||x;if(!t)return(0,ae.jsx)(h.View,{className:"flight-header"});var _=g?N.OO:w?N.Js:"",y=function(){var e=g?"c_passenger_click":x?"c_order_multi_click":"c_order_click";ee(e),x?a(!0):m===N.aF&&f&&B.app_open_url({url:f})};return(0,ae.jsx)(h.View,{className:"flight-header",children:(0,ae.jsxs)(h.View,{className:"flight-info-wrapper",children:[(0,ae.jsx)(h.View,{className:"flight-logo",children:(0,ae.jsx)(h.Image,{className:"flight-logo-img",src:"https://pic.c-ctrip.com/AssetCatalog/airline/70/".concat(s)})}),(0,ae.jsxs)(h.View,{className:"flight-info",children:[(0,ae.jsxs)(h.View,{className:"flightNo",children:[c," ",o,_&&(w?(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/order_entrance.svg",className:"order_entrance",onClick:y}):(0,ae.jsxs)(h.View,{className:"order-verify-real-name",children:[(0,ae.jsx)(h.View,{className:"order-tag",onClick:function(){return i(!0)},children:_}),g&&(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/new_question.svg",className:"svg-question"})]}))]}),l&&(0,ae.jsxs)(h.View,{className:"carry-flight",children:[(0,ae.jsx)(h.Text,{children:N.Y6}),(0,ae.jsx)(h.Text,{className:"carry-airline",children:"/ ".concat(u).concat(p)})]})]})]})})}var st=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return!e.showLoading}},{key:"render",value:function(){var e=this.props,t=e.holiday,n=e.statusInfo,i=e.varItemInfo,a=e.showLoading,r=e.isEmptyCard,s=e.depArrCitys,c=e.selectedDate,o=e.showCalendar,l=e.basicItemInfo,u=e.showOrCloseCityPopup,p=e.fltInfo,d=e.tripTypeInfo,m=e.isSwitchFetch,f=e.tabClick,g=e.handleRealNamePopup,x=e.handleOrderPopup;return r?(0,ae.jsx)(nt,{depArrCitys:s,showCalendar:o,selectedDate:c,holiday:t,showOrCloseCityPopup:u,updateSearchHistory:this.props.updateSearchHistory,tabClick:f}):a?(0,ae.jsx)(at,{swiperItem:!0}):(0,ae.jsxs)(h.View,{className:"swiper-card",id:"swiper-card",children:[m?(0,ae.jsx)(at,{header:!0}):(0,ae.jsx)(rt,{fltInfo:p,tripTypeInfo:d,handleRealNamePopup:g,handleOrderPopup:x}),(0,ae.jsxs)(h.View,{className:"swiper-item",children:[(0,ae.jsx)(se,{statusInfo:n}),(0,ae.jsx)(De,{varItemInfo:i,basicItemInfo:l,showTimeZonePopup:this.props.showTimeZonePopup,showDisclaimerPopup:this.props.showDisclaimerPopup,controlThreeTimePopup:this.props.controlThreeTimePopup,controlMidStopPopup:this.props.controlMidStopPopup,handleChangeHeight:this.props.handleChangeHeight})]})]})}}]),n}(z.Component),ct=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onClose;return(0,ae.jsxs)(m.AtActionSheet,{isOpened:t,onClose:n,children:[(0,ae.jsxs)(h.View,{className:"popup-header",children:[(0,ae.jsx)(h.View,{className:"popup-header-left",children:this.props.renderHeaderLeft}),(0,ae.jsx)(h.View,{className:"popup-header-title",children:this.props.renderHeaderTitle}),(0,ae.jsx)(h.View,{className:"popup-header-right",children:this.props.renderHeaderRight})]}),(0,ae.jsx)(h.View,{className:"popup-body",children:this.props.children})]})}}]),n}(z.Component),ot=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"renderBody",(function(t){if(!t||!Array.isArray(t))return null;var n=[N.sr.LOCAL_TIME_POPUP_FIRST_SUBTITLE,N.sr.LOCAL_TIME_POPUP_SECOND_SUBTITLE];return(0,ae.jsx)(h.View,{className:"timezone-body",children:t.map((function(t,i){var a=t.title,r=void 0===a?"":a,s=t.detailInfo,c=s&&s.length&&1===i?s.slice().reverse():s;return(0,ae.jsxs)(h.View,{className:"timezone-item",children:[(0,ae.jsx)(h.Text,{className:"timezone-item-title",children:n[i]}),e.renderTimeZonzeContent(c)]},r||i)}))})})),(0,u.Z)((0,c.Z)(e),"renderTimeZonzeContent",(function(e){return(0,ae.jsx)(h.View,{className:"timezone-content",children:e&&e.map((function(e,t){var n=e.cityName,i=void 0===n?"":n,a=e.zone,r=void 0===a?"":a,s=e.date,c=void 0===s?"":s,o=e.crossDay,l=void 0!==o&&o,u=e.time,p=void 0===u?"":u;return(0,ae.jsxs)(h.View,{className:"timezone-content-info",children:[(0,ae.jsxs)(h.View,{className:"timezone-content-info-cityInfo",children:[(0,ae.jsx)(h.View,{className:"cityName",children:i}),(0,ae.jsx)(h.View,{className:"zone",children:r})]}),(0,ae.jsxs)(h.View,{className:"timezone-content-info-dateInfo",children:[(0,ae.jsx)(h.View,{className:(0,m.classnames)("date",{"cross-date":l}),children:c}),(0,ae.jsx)(h.View,{className:"time",children:p})]})]},i||t)}))})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.timeZoneInfo,i=e.close;return(0,ae.jsx)(ct,{visible:t,onClose:this.props.close,renderHeaderTitle:(0,ae.jsx)(h.Text,{children:N.sr.LOCAL_TIME_POPUP_TITLE}),renderHeaderRight:(0,ae.jsx)(h.View,{className:"popup-header-close",onClick:i,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})}),children:this.renderBody(n)})}}]),n}(z.Component),lt=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.timeExplainItemList,i=e.close;return(0,ae.jsx)(ct,{visible:t,onClose:i,renderHeaderRight:(0,ae.jsx)(h.View,{className:"popup-header-close",onClick:i,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})}),children:(0,ae.jsx)(h.View,{className:"disclaimer-popup",children:n.map((function(e,t){var n=e.type,i=e.content;return(0,ae.jsx)(ae.Fragment,{children:"question"===n?(0,ae.jsx)(h.View,{className:"disclaimer-popup-question",children:(0,ae.jsx)(h.Text,{className:"disclaimer-popup-question-content",children:i})},t):"answer"===n?(0,ae.jsx)(h.View,{className:"disclaimer-popup-answer",children:(0,ae.jsx)(h.Text,{className:"disclaimer-popup-answer-content",children:i})},t):null})}))})})}}]),n}(z.Component),ut=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"closeThreeTimePopup",(function(){"function"===typeof e.props.onClose&&e.props.onClose(!1)})),(0,u.Z)((0,c.Z)(e),"renderTimeItem",(function(e){var t=e||{},n=t.title,i=t.timeInfo,a=t.description;return(0,ae.jsxs)(h.View,{className:"three-time-item",children:[(0,ae.jsx)(h.View,{className:"subtitle",children:(0,ae.jsx)(h.Text,{className:"name",children:n})}),(0,ae.jsxs)(h.View,{className:"container",children:[(0,ae.jsx)(h.View,{className:"description",children:a}),(0,ae.jsx)(h.View,{className:"line"}),(0,ae.jsx)(h.View,{className:"timeinfo",children:i})]})]})})),(0,u.Z)((0,c.Z)(e),"renderBody",(function(){var t=e.props.threeTimeInfo,n=t||{},i=n.estimateTime,a=n.planTime,r=n.originalPlanTime;return(0,ae.jsx)(h.View,{className:"three-time-popup-body",children:t?(0,ae.jsxs)(h.View,{className:"three-time-popup-content",children:[e.renderTimeItem(r),e.renderTimeItem(a),e.renderTimeItem(i)]}):null})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.threeTimeInfo,i=n||{},a=i.title;return(0,ae.jsx)(ct,{visible:t,onClose:this.closeThreeTimePopup,renderHeaderTitle:(0,ae.jsx)(h.Text,{children:a}),renderHeaderRight:(0,ae.jsx)(h.View,{className:"popup-header-close",onClick:this.closeThreeTimePopup,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})}),children:this.renderBody()})}}]),n}(z.Component),pt=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"closePopup",(function(){"function"===typeof e.props.onClose&&e.props.onClose(!1)})),(0,u.Z)((0,c.Z)(e),"bscInfoCalculate",(function(e){var t=e||{},n=t.mStatus,i=t.fTime,a=t.subStatus,r=t.tagInfo,s=n&&i&&a?"".concat(n," ").concat(i," ").concat(a):"";return{title:s,fltRmdItms:r}})),(0,u.Z)((0,c.Z)(e),"dataTransform",(function(t){var n=t||{},i=n.stopOrAlternateInfo,a=i||{},r=a.detailnfoV2,s=a.progress2,c=void 0===s?0:s;if(!r)return null;var o=0,l=0,u=[],p=r.length-1;if(3===p)100===c?(o=4,l=0):c>=66?(o=3,l=(c-66)/34):(o=Math.floor(c/33)+1,l=c/33-o+1);else{var d=100/p;o=100===c?p+1:Math.floor(c/d)+1,l=100===c?0:c/d-o+1}return r&&r.forEach((function(t,n){var i=t.type,a=t.apName,r=t.terminalName,s=t.tagInfoList,c="".concat(a||""," ").concat(r||""),o=0,l=null,d=null;0===n?(o=1,d=e.bscInfoCalculate(s&&s[0])):n===p?(o=2,l=e.bscInfoCalculate(s&&s[0])):(o=i+2,l=e.bscInfoCalculate(s&&s[0]),d=e.bscInfoCalculate(s&&s[1])),u.push({title:c,type:o,arrBscInfo:l,depBscInfo:d})})),{iconSegIndex:o,percent:l,bscInfo:u}})),(0,u.Z)((0,c.Z)(e),"renderBscInfo",(function(e,t,n){return(0,ae.jsxs)(h.View,{children:[t?(0,ae.jsx)(h.View,{className:"plan",children:t}):null,n>=3?(0,ae.jsx)(h.View,{className:"detail",children:e&&e.map((function(e,t){var n=e.title,i=e.content;return(0,ae.jsxs)(h.View,{className:"item",children:[(0,ae.jsx)(h.View,{className:"title",children:n}),(0,ae.jsx)(h.View,{className:"content",children:i})]},n||t)}))}):null]})})),(0,u.Z)((0,c.Z)(e),"renderBody",(function(){var t=e.props.basicItemInfo,n=e.dataTransform(t),i=n||{},a=i.bscInfo,r=i.iconSegIndex,s=void 0===r?0:r,c=i.percent,o=void 0===c?0:c,l=s-1;return(0,ae.jsx)(h.ScrollView,{className:"midstop-popup-body",scrollY:!0,children:n?(0,ae.jsx)(h.View,{className:"timeline-content",children:a&&a.map((function(t,n){var i=t||{},a=i.title,r=i.type,s=i.depBscInfo,c=i.arrBscInfo,u=s||{},p=u.title,d=u.fltRmdItms,f=c||{},g=f.title,x=f.fltRmdItms,w=n===l?"now":n<l?"pass":"",_=o>=0?100*o+"%":"",y=r>=3;return(0,ae.jsxs)(h.View,{className:"segment",children:[(0,ae.jsxs)(h.View,{className:"timeline ".concat(w),children:[(0,ae.jsx)(h.View,{className:"line",children:(0,ae.jsx)(h.View,{className:"schedule",style:{height:_}})}),(0,ae.jsx)(h.View,{className:"dot"}),(0,ae.jsx)(h.View,{className:"flight",style:{top:_},children:(0,ae.jsx)(h.Image,{className:"svg-stopover-flight",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/stopover_flight.svg"})})]}),(0,ae.jsxs)(h.View,{className:"main",children:[(0,ae.jsxs)(h.View,{className:(0,m.classnames)("site",{special:y}),children:[a,y?(0,ae.jsx)(h.Text,{className:(0,m.classnames)("status",{red:r>=4}),children:N.Lr[r]}):null]}),(0,ae.jsxs)(h.View,{className:(0,m.classnames)("detail-card",{special:y}),children:[x||g?e.renderBscInfo(x,g,r):null,d||p?e.renderBscInfo(d,p,r):null]})]})]},a||n)}))}):null})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props.visible;return(0,ae.jsx)(ct,{visible:e,onClose:this.closePopup,renderHeaderTitle:(0,ae.jsx)(h.Text,{children:N.gd}),renderHeaderRight:(0,ae.jsx)(h.View,{className:"popup-header-close",onClick:this.closePopup,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})}),children:this.renderBody()})}}]),n}(z.Component),dt=function(e){return R("14420/8466/json/fuzzySearch",e)},ht=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"state",{value:""}),(0,u.Z)((0,c.Z)(e),"timer",null),(0,u.Z)((0,c.Z)(e),"onInput",(function(t){var n=t.detail.value;e.setState({value:n}),e.searchCityByKeyword(n)})),(0,u.Z)((0,c.Z)(e),"searchCityByKeyword",(function(t){var n=e.props.setSearchResult,i=[];e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){t?dt({key:t}).then((function(e){var a=e||{},r=a.dataInfo;if(r){var s=r.filter((function(e){return 5===e.type||3===e.type}));s.forEach((function(e){var t=e.cityInfo,n=e.countryName,a=e.type;i.push({cityInfo:t,countryName:n,type:a})})),n({resultData:i,showFilter:!0,keyword:t})}else n({resultData:[],showFilter:!0,keyword:t})})):n({resultData:[],showFilter:!0,keyword:""})}),200)})),(0,u.Z)((0,c.Z)(e),"onFocus",(function(){var t=e.state.value;t||"function"!==typeof e.props.setSearchResult||e.props.setSearchResult({showFilter:!0})})),(0,u.Z)((0,c.Z)(e),"cancel",(function(){"function"===typeof e.props.setSearchResult&&e.props.setSearchResult({showFilter:!1}),e.clearInput()})),(0,u.Z)((0,c.Z)(e),"clearInput",(function(){e.setState({value:""})})),e}return(0,s.Z)(n,[{key:"componentDidUpdate",value:function(e){var t=this.state.value;t&&!e.showFilter&&this.clearInput()}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"render",value:function(){var e=this.props.showFilter,t=this.state.value;return(0,ae.jsxs)(h.View,{className:"city-popup-search-wrapper",children:[(0,ae.jsx)(h.Icon,{className:"city-icon",type:"search",size:"18"}),(0,ae.jsx)(h.Input,{className:"city-input",value:t,adjustPosition:!1,placeholder:N.pR.INPUT_PLACEHOLDER,onFocus:this.onFocus,onInput:this.onInput}),e&&(0,ae.jsx)(h.View,{className:"search-cancel",onClick:this.cancel,children:N.pR.SEARCH_CANCEL})]})}}]),n}(z.Component),mt=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"tabCallback",(function(t){"function"===typeof e.props.onTabClick&&e.props.onTabClick(t)})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.showFilter,i=t.cityType,a=i===N.pR.INLAND;return(0,ae.jsx)(h.View,{className:(0,m.classnames)("city-popup-tab-wrap",{change:n}),children:(0,ae.jsxs)(h.View,{className:"city-popup-tab",children:[(0,ae.jsx)(h.View,{className:"tab-inland",onClick:function(){return e.tabCallback(N.pR.INLAND)},children:(0,ae.jsx)(h.Text,{className:(0,m.classnames)({active:a}),children:N.pR.TAB_INLAND_TEXT})}),(0,ae.jsx)(h.View,{className:"tab-inter",onClick:function(){return e.tabCallback(N.pR.INTER)},children:(0,ae.jsx)(h.Text,{className:(0,m.classnames)({active:!a}),children:N.pR.TAB_INTER_TEXT})})]})})}}]),n}(z.Component),ft=n(90983),gt=(0,z.createContext)(null),xt=function(e){return R("13516/airportCityList",e)},Nt=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"state",{allCity:null}),(0,u.Z)((0,c.Z)(e),"isShowMore",(function(t){var n=e.props.letter,i=e.state.allCity;if("hot"===n)return!1;var a=e.getMaxCount();return t===a&&!i})),(0,u.Z)((0,c.Z)(e),"getMaxCount",(function(){var t=e.props.letter,n="history"===t?N.pR.MAX_HISTORY_COUNT_FIRST:N.pR.MAX_CITY_COUNT;return n})),(0,u.Z)((0,c.Z)(e),"getRenderCityData",(function(){var t=e.props,n=t.cityArray,i=t.letter,a=e.state.allCity,r=e.getMaxCount();return Array.isArray(n)?"hot"===i?n:a||n.slice(0,r+1):[]})),(0,u.Z)((0,c.Z)(e),"selectCity",(function(t){var n=e.context||{},i=n.onSelectCity;"function"===typeof i&&i(t)})),(0,u.Z)((0,c.Z)(e),"showAllCity",(function(){var t=e.props,n=t.letter,i=t.cityType,a=t.cityArray;"history"!==n?xt({q:i===N.pR.INLAND?1:2,b:2,intial:n}).then((function(t){var n=W(t,"ResponseStatus","Ack");if(n===N.pR.SERVICE_SUCCESS){var i=W(t,"pl",0,"cl");e.setState({allCity:i})}})):e.setState({allCity:a})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.context||{},n=t.curCityName,i=this.props.cityArray;if(!Array.isArray(i))return null;var a=this.getRenderCityData();return(0,ae.jsx)(h.View,{className:"city-popup-city-list",children:a.map((function(t,i){var a=t.name,r=t.code,s=a&&a.trim().length>N.pR.ROW_MAX_LENGTH,c=e.isShowMore(i),o=N.pR.MORE;return c?(0,ae.jsx)(h.View,{className:"city-list-item more-city",onClick:e.showAllCity,children:(0,ae.jsx)(h.Text,{className:"city-name",children:o})},"more"):(0,ae.jsx)(h.View,{className:(0,m.classnames)("city-list-item",{small:s},{blue:a===n}),onClick:function(){return e.selectCity(t)},children:(0,ae.jsx)(h.Text,{className:"city-name",children:a})},r)}))})}}]),n}(z.Component);(0,u.Z)(Nt,"contextType",gt);var wt=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"clickLetter",(function(t){"function"===typeof e.props.onClickLetter&&e.props.onClickLetter(t)})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.letterArr;return Array.isArray(t)?(0,ae.jsx)(h.View,{className:"city-popup-letter-index",children:t.map((function(t){return(0,ae.jsx)(h.View,{className:"city-letter-item",onClick:function(){e.clickLetter(t)},children:(0,ae.jsx)(h.Text,{className:"letter-name",children:t})},t)}))}):null}}]),n}(z.Component),_t=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"state",{inlandData:null,interData:null,scrollTop:0,showFloatBtn:!1,historyData:null}),(0,u.Z)((0,c.Z)(e),"getLetterArr",(function(e){var t,n=W(e,"pl")||[],i=[],a=(0,ft.Z)(n);try{for(a.s();!(t=a.n()).done;){var r=t.value,s=r.p;s&&i.push(s)}}catch(e){a.e(e)}finally{a.f()}return i})),(0,u.Z)((0,c.Z)(e),"fetchCityData",(function(){var t=L.get(N.pR.INLAND_CITY_CACHE_KEY),n=L.get(N.pR.INTER_CITY_CACHE_KEY);t&&n?e.setState({inlandData:t,interData:n}):Promise.all([e.fetchInlandData(),e.fetchInterData()]).then((function(t){if(Array.isArray(t)){var n=t[0],i=t[1];e.setState({inlandData:n,interData:i});var a=W(n,"ResponseStatus","Ack"),r=W(i,"ResponseStatus","Ack");a===N.pR.SERVICE_SUCCESS&&r===N.pR.SERVICE_SUCCESS&&(L.set(N.pR.INLAND_CITY_CACHE_KEY,n,864e5),L.set(N.pR.INTER_CITY_CACHE_KEY,i,864e5))}})).catch((function(){M({title:N.pR.SERVICE_ERROR})}))})),(0,u.Z)((0,c.Z)(e),"fetchInlandData",(function(){return xt({q:1,b:3,count:20})})),(0,u.Z)((0,c.Z)(e),"fetchInterData",(function(){return xt({q:2,b:3,count:20})})),(0,u.Z)((0,c.Z)(e),"getHistory",(function(){var e=L.get(N.pR.HISTORY_CITY_CACHE_KEY);return e})),(0,u.Z)((0,c.Z)(e),"getOffsetTop",(function(e,t){var n=d().createSelectorQuery();n.select(e).boundingClientRect(),n.select(".city-popup-scrollview").boundingClientRect(),n.select(".city-popup-scrollview").scrollOffset(),n.exec((function(e){if(Array.isArray(e)){var n=e[0]&&e[0].top,i=e[1]&&e[1].top,a=e[2]&&e[2].scrollTop,r=n-i+a;"number"===typeof r&&t(r)}}))})),(0,u.Z)((0,c.Z)(e),"onClickLetter",(function(t){var n=(0,c.Z)(e);e.getOffsetTop("#".concat(t),(function(e){n.setState({scrollTop:e})}))})),(0,u.Z)((0,c.Z)(e),"scrollToLetterIndex",(function(){var t=(0,c.Z)(e);e.getOffsetTop("#letter-index",(function(e){t.setState({scrollTop:e})}))})),(0,u.Z)((0,c.Z)(e),"onScroll",(function(t){var n=e.state.showFloatBtn,i=t.detail&&t.detail.scrollTop;e.getOffsetTop("#A",(function(t){i>t&&!n?e.setState({showFloatBtn:!0}):i<=t&&n&&e.setState({showFloatBtn:!1})}))})),(0,u.Z)((0,c.Z)(e),"handleClearBtnClick",(function(){e.setState({historyData:null}),L.remove(N.pR.HISTORY_CITY_CACHE_KEY),ee("c_clearcityrecords_click")})),e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.fetchCityData(),this.setState({historyData:this.getHistory()})}},{key:"componentDidUpdate",value:function(e){if(this.props.cityType!==e.cityType){var t=this.props.cityType===N.pR.INLAND?0:1;this.setState({scrollTop:t})}}},{key:"render",value:function(){var e=this.props.cityType,t=this.state,n=t.inlandData,i=t.interData,a=t.scrollTop,r=t.showFloatBtn,s=t.historyData,c=e===N.pR.INLAND?n:i,o=this.getLetterArr(c),l=c||{},u=l.hl,p=l.pl;return(0,ae.jsxs)(h.View,{className:"scrollview-wrap",children:[p?(0,ae.jsx)(h.ScrollView,{className:"city-popup-scrollview",scrollY:!0,scrollTop:a,onScroll:this.onScroll,children:(0,ae.jsxs)(h.View,{className:"scrollview-content",children:[Array.isArray(s)&&s.length>0?(0,ae.jsxs)(h.View,{className:"city-popup-scroll-item",children:[(0,ae.jsxs)(h.View,{className:"scroll-item-container",children:[(0,ae.jsx)(h.View,{className:"scroll-item-title",children:N.pR.HISTORY}),(0,ae.jsxs)(h.View,{className:"scroll-item-clearBtn",onClick:this.handleClearBtnClick,children:[(0,ae.jsx)(h.Image,{className:"scroll-item-clearBtn__icon",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/city_popup/delete_black.svg"}),N.pR.CLEAR_HISTORY]})]}),(0,ae.jsx)(Nt,{cityType:e,cityArray:s,letter:"history"})]}):null,(0,ae.jsxs)(h.View,{className:"city-popup-scroll-item",children:[(0,ae.jsx)(h.View,{className:"scroll-item-title",children:N.pR.HOT}),(0,ae.jsx)(Nt,{cityType:e,cityArray:u,letter:"hot"})]}),(0,ae.jsxs)(h.View,{className:"city-popup-scroll-item",id:"letter-index",children:[(0,ae.jsx)(h.View,{className:"scroll-item-title",children:N.pR.LETTER_INDEX}),(0,ae.jsx)(wt,{letterArr:o,onClickLetter:this.onClickLetter})]}),Array.isArray(p)&&p.map((function(t){var n=t.p,i=t.cl;return(0,ae.jsxs)(h.View,{id:n,className:"city-popup-scroll-item",children:[(0,ae.jsx)(h.View,{className:"scroll-item-title",children:n}),(0,ae.jsx)(Nt,{cityType:e,cityArray:i,letter:n})]},n)})),(0,ae.jsx)(h.View,{className:"scroll-blank"})]})}):null,(0,ae.jsxs)(h.View,{className:(0,m.classnames)("float-btn",{"float-btn--show":r}),onClick:this.scrollToLetterIndex,children:[(0,ae.jsx)(h.View,{className:"btn-icon",children:(0,ae.jsx)(re,{className:"top-arrow",name:"topArrow"})}),(0,ae.jsx)(h.View,{className:"btn-text",children:"A-Z"})]})]})}}]),n}(z.Component),yt=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,c.Z)(e),"convertData",(function(){var t=e.props.searchResult;if(!t)return[];var n,i=new Map,a=[],r=(0,ft.Z)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value,c=s.cityInfo,o=c[0]||{},l=o.cityId;i.has(l)?(s.type=5,i.set(l,s)):i.set(l,s)}}catch(e){r.e(e)}finally{r.f()}return i.forEach((function(e){a.push(e)})),a})),(0,u.Z)((0,c.Z)(e),"pushCityAndCountry2AirPort",(function(e,t,n){if(!Array.isArray(e))return[];var i=[];return e.map((function(e){var r=(0,a.Z)((0,a.Z)({},e),{},{countryName:t,cityName:n});i.push(r)})),i})),(0,u.Z)((0,c.Z)(e),"select",(function(t,n,i){var a=e.context||{},r=a.onSelectCity;"function"===typeof r&&r({name:t,code:n,port:i||""})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.keyword,n=this.convertData();return Array.isArray(n)&&0!==n.length||!t?(0,ae.jsx)(h.ScrollView,{className:"city-popup-search-result-wrap",scrollY:!0,children:(0,ae.jsx)(h.View,{className:"city-popup-search-result",children:n.map((function(t){var n=t.cityInfo,i=void 0===n?[]:n,a=t.countryName,r=void 0===a?"":a,s=t.type,c=i&&i[0]||{},o=c.airportInfo,l=void 0===o?[]:o,u=c.cityName,p=void 0===u?"":u,d=c.cityCode,m=l&&1===l.length,f=l&&l[0]&&l[0].airportName||"",g=l&&l[0]&&l[0].nameAlias||"",x=e.pushCityAndCountry2AirPort(l,r,p);return(0,ae.jsxs)(h.View,{className:"search-result-list",children:[5===s?(0,ae.jsxs)(h.View,{className:"row",onClick:function(){return e.select(p,d)},children:[(0,ae.jsx)(h.View,{className:"label",children:N.pR.CITY_TEXT}),(0,ae.jsxs)(h.View,{className:"cityInfo",children:[(0,ae.jsx)(h.Text,{children:"".concat(p," ")}),(0,ae.jsx)(h.Text,{children:"".concat(m?g||f:""," ")}),(0,ae.jsx)(h.Text,{children:"".concat(r," ")}),(0,ae.jsx)(h.Text,{children:"".concat(d)})]})]},d):(0,ae.jsx)(h.View,{className:"result-airport-wrap",children:x.map((function(t){var n=t.cityName,i=t.airportName,a=t.countryName,r=t.airportCode,s=t.nameAlias,c="".concat(s?"".concat(s,"\uff08").concat(i,"\uff09"):i);return(0,ae.jsxs)(h.View,{className:"row",onClick:function(){return e.select(s||i,d,r)},children:[(0,ae.jsx)(h.View,{className:"label",children:N.pR.AIRPORT_TEXT}),(0,ae.jsxs)(h.View,{className:"airportInfo",children:[(0,ae.jsx)(h.Text,{children:"".concat(n," ")}),(0,ae.jsx)(h.Text,{children:"".concat(c," ")}),(0,ae.jsx)(h.Text,{children:"".concat(a," ")}),(0,ae.jsx)(h.Text,{children:"".concat(r)})]})]},r)}))},d),Array.isArray(x)&&!m&&(0,ae.jsx)(h.View,{className:"result-airport-wrap",children:x.map((function(t){var n=t.cityName,i=t.airportName,a=t.airportCode,r=t.nameAlias,s="".concat(r?"".concat(r,"\uff08").concat(i,"\uff09"):i);return(0,ae.jsxs)(h.View,{className:"row row-airport",onClick:function(){return e.select(r||i,d,a)},children:[(0,ae.jsx)(re,{className:"city-popup-next-icon",name:"nextIcon"}),(0,ae.jsxs)(h.View,{className:"airportInfo",children:[(0,ae.jsx)(h.Text,{children:"".concat(n," ")}),(0,ae.jsx)(h.Text,{children:"".concat(s," ")}),(0,ae.jsx)(h.Text,{children:"".concat(a)})]})]},a)}))},d)]},d)}))})}):(0,ae.jsxs)(h.View,{className:"city-popup-search-result-wrap",children:[(0,ae.jsx)(h.View,{className:"shadow"}),(0,ae.jsx)(h.View,{className:"no-result",children:N.pR.NO_RESULT})]})}}]),n}(z.Component);(0,u.Z)(yt,"contextType",gt);var It=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"state",{keyword:"",resultData:[],showFilter:!1,cityType:"inland"}),(0,u.Z)((0,c.Z)(e),"closePopup",(function(){"undefined"!==typeof e.props.close&&e.props.close()})),(0,u.Z)((0,c.Z)(e),"onTabClick",(function(t){e.setState({cityType:t})})),(0,u.Z)((0,c.Z)(e),"setSearchResult",(function(t){var n=t.resultData,i=void 0===n?[]:n,a=t.showFilter,r=t.keyword,s=void 0===r?"":r;e.setState({keyword:s,resultData:i,showFilter:a})})),(0,u.Z)((0,c.Z)(e),"renderBody",(function(){var t=e.state,n=t.cityType,i=t.showFilter,a=t.keyword,r=t.resultData;return(0,ae.jsxs)(h.View,{className:(0,m.classnames)("city-popup-body",{showFilter:i}),children:[(0,ae.jsx)(ht,{setSearchResult:e.setSearchResult,showFilter:i}),(0,ae.jsx)(mt,{cityType:n,showFilter:i,onTabClick:e.onTabClick}),i?(0,ae.jsx)(yt,{searchResult:r,keyword:a}):(0,ae.jsx)(_t,{cityType:n})]})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.state.showFilter,t=this.props,n=t.visible,i=t.side,a=i===N.FD.LEFT?N.Nr.DEPART:N.Nr.ARRIVAL;return(0,ae.jsxs)(m.AtActionSheet,{className:"city-popup-wrap",isOpened:n,onClose:this.closePopup,children:[(0,ae.jsxs)(h.View,{className:(0,m.classnames)("city-popup-header",{hide:e}),children:[(0,ae.jsx)(h.View,{className:"city-popup-header-title",children:a}),(0,ae.jsx)(h.View,{className:"city-popup-header-right",children:(0,ae.jsx)(h.View,{className:"city-popup-header-close",onClick:this.closePopup,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})})})]}),n?this.renderBody():null]})}}]),n}(z.Component),vt=n(32180)["window"];n(68197);var jt=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835],Tt=new vt.Date,Ct=Tt.addDay(-3),St=Tt.addDay(365),Zt={startTime:Ct.customFormat("y/MM/dd"),startValidTime:Ct.customFormat("y/MM/dd"),monthsNum:13,animateTime:300,animateSwitch:"top",format:"Y-m-d",days:"min",monthFormate:"Y\u5e74n\u6708",todayCls:"isnearby",holidayCls:"isholiday",invalidCls:"invalid",selectedCls:"date_selected",endValidTime:St.customFormat("y/MM/dd"),solarHoliday:{"0101":"\u5143\u65e6","0214":"\u60c5\u4eba\u8282","0404":"\u6e05\u660e","0501":"\u52b3\u52a8\u8282",1001:"\u56fd\u5e86",1225:"\u5723\u8bde\u8282"},lunarHoliday:{1230:"\u9664\u5915","0101":"\u6625\u8282","0115":"\u5143\u5bb5","0505":"\u7aef\u5348","0707":"\u4e03\u5915","0815":"\u4e2d\u79cb","0909":"\u91cd\u9633"},_lunarHoliday:{},constant:{days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],daysShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],daysMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthsShort:["01\u6708","02\u6708","03\u6708","04\u6708","05\u6708","06\u6708","07\u6708","08\u6708","09\u6708","10\u6708","11\u6708","12\u6708"]},Notes:["\u4eca\u5929","\u660e\u5929","\u540e\u5929","\u53bb\u7a0b","\u8fd4\u7a0b","\u9009\u62e9\u53bb\u7a0b\u65e5\u671f","\u5b8c\u6210","\u9009\u62e9\u8fd4\u7a0b\u65e5\u671f"],Ins:[864e5,1728e5,2592e5]};function At(e){if(e%100===0){if(e%400===0)return!0}else if(e%4===0)return!0;return!1}function Et(e,t){return[31,At(e)?29:28,31,30,31,30,31,31,30,31,30,31][t-1]}function Dt(e){return 15&jt[e-1900]}function Mt(e,t){return jt[e-1900]&65536>>t?30:29}function Lt(e){return Dt(e)?65536&jt[e-1900]?30:29:0}function Vt(e){var t,n=0,i={},a=new vt.Date(1900,0,31),r=(e-a)/864e5-42022;for(t=2015;t<2050&&r>0;t++)n=bt(t),r-=n;r<0&&(r+=n,t--),i.year=t,i.isLeap=!1;var s=Dt(t);for(t=1;t<13&&r>0;t++)s>0&&t===s+1&&!1===i.isLeap?(--t,i.isLeap=!0,n=Lt(i.year)):n=Mt(i.year,t),!0===i.isLeap&&t===s+1&&(i.isLeap=!1),r-=n;return 0===r&&s>0&&t===s+1&&(i.isLeap?i.isLeap=!1:(i.isLeap=!0,--t)),r<0&&(r+=n,--t),i.month=t,i.day=r+1,i}function bt(e){for(var t=348,n=32768;n>8;n>>=1)t+=jt[e-1900]&n?1:0;return t+Lt(e)}function kt(){for(var e=Zt.monthsNum,t=new vt.Date(Zt.startTime),n=t.getFullYear(),i=t.getMonth()+1,a=[],r=0;r<e;r++){var s=n+Math.ceil((i+r)/12)-1,c=(i+r-1)%12+1;a.push(Ot(Pt(s,c),s,c))}return a}function Ot(e,t,n){var i=[],a=e[0].originDate,r=e[e.length-1].originDate,s=a.getDay(),c=r.getDay(),o=[],l=[];o.length=s,e=o.concat(e),l.length=6-c,e=e.concat(l);for(var u=0,p=e.length;u<p;u++){var d=Math.floor(u/7);i[d]=i[d]?i[d]:[],i[d].push(e[u])}return{weekArray:i,year:t,month:n}}function Pt(e,t){for(var n=[],i=Et(e,t),a=0;a<i;a++)n.push(Rt(new vt.Date(+new vt.Date(e+"/"+t+"/1")+Zt.Ins[0]*a)));return n}function Rt(e){var t=e.getDay(),n={originDate:e,date:e.getDate(),nearby:Ht(e),weekDay:{des:Zt.constant.daysShort[t],isWeekend:0===+t||6===+t},isValid:Ft(e),holiday:zt(e)};return n.styleClass="unit_date "+(n.isValid?"":" invalid js_invalid")+(n.weekDay&&n.weekDay.isWeekend?" isweekend js_weekend":"")+(n.holiday?" isholiday js_holiday":"")+(n.nearby?" isnearby js_nearby":""),n}function Ft(e){var t=Zt.startValidTime?new vt.Date(Zt.startValidTime):null,n=Zt.endValidTime?new vt.Date(Zt.endValidTime):null;return t&&n?e-n<=0&&e-t>=0:t?e-t>=0:!n||e-n<=0}function Ht(e){if(!e)return"";var t=new vt.Date,n=+new vt.Date(e)-t.setHours(0,0,0,0),i=Zt.Ins,a=Zt.Notes;return n<i[0]&&n>=0?a[0]:""}function zt(e){var t,n,i,a={},r=Yt(e.getMonth()+1,e.getDate());return Zt.solarHoliday[r]?a.desc=Zt.solarHoliday[r]:(n=Vt(e),t=Yt(n.month,n.day),i=e.getFullYear()+t,Zt.lunarHoliday[t]&&(Zt._lunarHoliday[i]&&Zt._lunarHoliday[i]===r?a.desc=Zt.lunarHoliday[t]:Zt._lunarHoliday[i]||(a.desc=Zt.lunarHoliday[t],Zt._lunarHoliday[i]=r))),a.desc||""}function Yt(e,t){return e<10&&(e="0"+e),t<10&&(t="0"+t),""+e+t}var Ut=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"state",{dataArray:[]}),(0,u.Z)((0,c.Z)(e),"close",(function(){e.props.close()})),(0,u.Z)((0,c.Z)(e),"selectDate",(function(t,n,i,a){var r="".concat(t,"/").concat(n,"/").concat(i),s=new vt.Date(r).customFormat("y/MM/dd");e.props.onDateChange(s,a),e.props.close()})),e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=kt();this.setState({dataArray:e})}},{key:"render",value:function(){var e=this,t=this.state.dataArray,n=void 0===t?[]:t,i=this.props,a=i.showCal,r=i.selectedDate,s=i.close;return(0,ae.jsx)(ct,{visible:a,onClose:s,renderHeaderTitle:(0,ae.jsx)(h.Text,{children:"\u9009\u62e9\u65e5\u671f"}),renderHeaderRight:(0,ae.jsx)(h.View,{className:"popup-header-close",onClick:s,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})}),children:a?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(h.View,{className:"calenard-tab",children:(0,ae.jsxs)(h.View,{className:"cui_cldweek",children:[(0,ae.jsx)(h.View,{className:"weekday-item isweekend",children:"\u65e5"}),(0,ae.jsx)(h.View,{className:"weekday-item",children:"\u4e00"}),(0,ae.jsx)(h.View,{className:"weekday-item",children:"\u4e8c"}),(0,ae.jsx)(h.View,{className:"weekday-item",children:"\u4e09"}),(0,ae.jsx)(h.View,{className:"weekday-item",children:"\u56db"}),(0,ae.jsx)(h.View,{className:"weekday-item",children:"\u4e94"}),(0,ae.jsx)(h.View,{className:"weekday-item isweekend",children:"\u516d"})]})}),(0,ae.jsx)(h.ScrollView,{className:"cui_cldwrap",id:"cui_cldwrap",scrollY:!0,children:(0,ae.jsx)(h.View,{className:"cui_cldwrap_content",children:n.map((function(t,n){var i=t.year+"/"+t.month,a=t.year+"\u5e74"+t.month+"\u6708";return(0,ae.jsxs)(h.View,{className:"cui_cldunit","data-month":i,children:[(0,ae.jsx)(h.View,{className:"cui_cldmonth",children:a}),(0,ae.jsx)(h.View,{className:"cui_cld_daybox",children:t.weekArray&&t.weekArray.map((function(i,a){return(0,ae.jsx)(h.View,{className:"unit_week",children:(0,ae.jsx)(h.View,{className:"unit_week_item",children:i&&i.map((function(i,s){if(i){var c="".concat(t.year,"/").concat(t.month,"/").concat(i.date),o=new vt.Date(c).customFormat("y/MM/dd");return(0,ae.jsxs)(h.View,{"data-day":JSON.stringify(i),className:"".concat(i.styleClass," ").concat(new vt.Date(r).customFormat("y/MM/dd")===o?"date_selected":""),onClick:function(){return e.selectDate(t.year,t.month,i.date,i.holiday)},children:[i.holiday&&(0,ae.jsx)(h.View,{className:"cal_holiday",children:i.holiday}),(0,ae.jsx)(h.View,{className:"js_s_val",children:i.nearby||i.date||""})]},"m"+s+"_"+n+"_"+a)}return(0,ae.jsx)(h.View,{className:"unit_date invalid",children:(0,ae.jsx)(h.View,{className:"js_s_val"})},"m"+s+"_"+n+"_"+a)}))},"u"+a)},"w"+a+"_"+n)}))})]},"i"+n)}))})})]}):null})}}]),n}(z.Component),Gt=Ut;function Bt(e){var t=e.certificationTipInfo,n=e.visible,i=e.close,a=t||{},r=a.tipDetailInfo,s=function(){i(!1)},c=function(e){ee("c_passenger_alert_more_click"),e&&B.app_open_url({url:e})},o=function(e){return e?(0,ae.jsx)(h.View,{className:"real-name-info-wrapper",children:e.map((function(e,t){var n=e.title,i=e.content,a=e.type,r=e.jumpText,s=e.jumpUrl;return(0,ae.jsxs)(h.View,{className:(0,m.classnames)("real-name-info__item",{"with-bg":a===N.cY}),children:[(0,ae.jsx)(h.View,{className:"real-name-info__item__title",children:n}),(0,ae.jsxs)(h.View,{className:"real-name-info__item__content",children:[i,r&&(0,ae.jsx)(h.Text,{className:"real-name-info__item__blue",onClick:function(){return c(s)},children:r})]})]},a||t)}))}):null};return(0,ae.jsx)(ct,{visible:n,renderHeaderTitle:(0,ae.jsx)(h.Text,{children:N.f6}),renderHeaderRight:(0,ae.jsx)(h.View,{className:"popup-header-close",onClick:s,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})}),children:o(r)})}var Wt=N.hM.TITLE,qt=N.hM.ORDER_NUM_TEXT,Qt=N.hM.TIPS;function Kt(e){var t=e.visible,n=e.close,i=e.orderInfo,a=function(e){e&&B.app_open_url({url:e})},r=function(){n(!1)},s=function(){return i&&i.map((function(e,t){var n=e||{},i=n.oid,r=n.passengers,s=n.url,c=r&&r.join("\u3001");return(0,ae.jsxs)(h.View,{className:"order-popup__content",onClick:function(){return a(s)},children:[(0,ae.jsx)(h.View,{className:"order-popup__content__num",children:"".concat(Wt,":").concat(i)}),(0,ae.jsxs)(h.View,{className:"order-popup__content__info",children:[(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/person_blue.svg",className:"order-popup__content-svg"}),c]})]},t)}))};return(0,ae.jsx)(ct,{visible:t,onClose:r,renderHeaderTitle:(0,ae.jsx)(h.Text,{children:qt}),renderHeaderRight:(0,ae.jsx)(h.View,{className:"popup-header-close",onClick:r,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})}),children:(0,ae.jsxs)(h.View,{className:"order-popup-wrapper",children:[s(),(0,ae.jsxs)(h.View,{className:"order-popup__tips",children:[(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/info.svg",className:"order-popup__tip-icon"}),Qt]})]})})}var Jt=n(32180)["window"];n(68197);var Xt=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),(0,u.Z)((0,c.Z)(e),"state",{isShowTimeZonePopup:!1,isShowDisclaimerPopup:!1,timeZoneInfo:null,timeExplainItemList:null,cityPopupsProps:{side:"",visible:!1,curCityName:""},selectedDate:(new Jt.Date).getTime(),isShowCal:!1,holiday:"",threeTimePopupVisible:!1,midStopPopupVisible:!1,swiperMarginRatio:1,isShowRealNamePopup:!1,isShowOrderPopup:!1,flightSwiperWrapperHeight:"556rpx"}),(0,u.Z)((0,c.Z)(e),"showTimeZonePopup",(function(t){e.setState({isShowTimeZonePopup:!0,timeZoneInfo:t}),te("C_Flt_N_Detail_Local_Time",{})})),(0,u.Z)((0,c.Z)(e),"closeTimeZonePopup",(function(){e.setState({isShowTimeZonePopup:!1})})),(0,u.Z)((0,c.Z)(e),"showDisclaimerPopup",(function(t){var n;null!==t&&void 0!==t&&null!==(n=t.timeExplainItemList)&&void 0!==n&&n.length&&(e.setState({isShowDisclaimerPopup:!0,timeExplainItemList:t.timeExplainItemList}),te("C_Flt_N_Detail_Disclaimer_Entrance",{}))})),(0,u.Z)((0,c.Z)(e),"closeDisclaimerPopup",(function(){e.setState({isShowDisclaimerPopup:!1})})),(0,u.Z)((0,c.Z)(e),"controlThreeTimePopup",(function(t){e.setState({threeTimePopupVisible:t})})),(0,u.Z)((0,c.Z)(e),"controlMidStopPopup",(function(t){e.setState({midStopPopupVisible:t})})),(0,u.Z)((0,c.Z)(e),"showCalendar",(function(){ee("c_search_date_click"),e.setState({isShowCal:!0})})),(0,u.Z)((0,c.Z)(e),"onDateChange",(function(t,n){e.setState({selectedDate:new Jt.Date(t).customFormat("y-MM-dd"),holiday:n})})),(0,u.Z)((0,c.Z)(e),"closeCalendar",(function(){e.setState({isShowCal:!1})})),(0,u.Z)((0,c.Z)(e),"showOrCloseCityPopup",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.props.depArrCitys,i=void 0===n?{}:n,r=e.state.cityPopupsProps,s=i[t]||{},c=s.name;e.setState({cityPopupsProps:(0,a.Z)((0,a.Z)({},r),{},{side:t,visible:!!t,curCityName:c||""})})})),(0,u.Z)((0,c.Z)(e),"setCityHistory",(function(e){var t=L.get(N.pR.HISTORY_CITY_CACHE_KEY)||[];if(Array.isArray(t)){var n=t.findIndex((function(t){var n=t||{},i=n.code,a=void 0===i?"":i,r=n.name,s=void 0===r?"":r,c=W(e,"code"),o=W(e,"name");return a===c&&s===o}));n>-1&&t.splice(n,1),t.unshift(e),t.length>11&&t.pop(),L.set(N.pR.HISTORY_CITY_CACHE_KEY,t,864e5)}})),(0,u.Z)((0,c.Z)(e),"onSelectCity",(function(t){var n=e.state.cityPopupsProps,i=n||{},r=i.side;if(r){var s=t||{},c=s.code,o=s.name,l=s.port;e.setState({cityPopupsProps:(0,a.Z)((0,a.Z)({},n),{},{visible:!1})}),e.props.updateEmptyCardProps((0,u.Z)({},r,{code:c,name:o,port:l})),e.setCityHistory(t)}})),(0,u.Z)((0,c.Z)(e),"handleChange",(function(t){var n=t.detail,i=n||{},a=i.current,r=i.source,s=e.props.swiperIndex;s!==a&&"touch"===r&&(e.props.fetchDetailSearch({index:a}),ee("c_detail_swipe"))})),(0,u.Z)((0,c.Z)(e),"handleRealNamePopup",(function(t){e.setState({isShowRealNamePopup:t})})),(0,u.Z)((0,c.Z)(e),"handleOrderPopup",(function(t){e.setState({isShowOrderPopup:t})})),(0,u.Z)((0,c.Z)(e),"handleChangeHeight",(function(t){e.setState({flightSwiperWrapperHeight:t})})),e}return(0,s.Z)(n,[{key:"componentWillMount",value:function(){var e=d().getSystemInfoSync(),t=e.windowWidth,n=t/375;this.setState({swiperMarginRatio:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.index,i=t.swiperIndex,a=t.depArrCitys,r=t.searchList,s=t.statusInfo,c=t.varItemInfo,o=t.basicItemInfo,l=t.containNoneTrip,u=t.fltInfo,p=t.tripTypeInfo,d=t.isSwitchFetch,f=t.tabClick,g=o||{},x=g.threeTimeInfo,w=g.isStopOrAlternate,_=g.isDisplayLocalText,y=g.timeExplainTip,I=p||{},v=I.orderType,j=I.certificationTipInfo,T=I.orderInfo,C=this.state,S=C.threeTimePopupVisible,Z=C.midStopPopupVisible,A=C.isShowTimeZonePopup,E=C.isShowDisclaimerPopup,D=C.timeZoneInfo,M=C.timeExplainItemList,L=C.cityPopupsProps,V=C.selectedDate,b=C.isShowCal,k=C.holiday,O=C.swiperMarginRatio,P=C.isShowRealNamePopup,R=C.isShowOrderPopup,F=C.flightSwiperWrapperHeight,H=L.side,z=L.visible,Y=L.curCityName,U={curCityName:Y,onSelectCity:this.onSelectCity},G=0===i&&l;return(0,ae.jsxs)(h.View,{className:"flight-swiper",children:[(0,ae.jsx)(h.Swiper,{className:"flight-swiper-wrapper",previousMargin:"".concat(16*O,"px"),nextMargin:"".concat(8*O,"px"),onChange:this.handleChange,current:i,skipHiddenItemLayout:!0,style:{height:F},children:Array.isArray(r)&&r.map((function(t,i){var r=t.fltno,m=n!==i,g=!i&&l;return(0,ae.jsx)(h.SwiperItem,{children:(0,ae.jsx)(st,{depArrCitys:a,statusInfo:s,varItemInfo:c,basicItemInfo:o,showLoading:m,showTimeZonePopup:e.showTimeZonePopup,showDisclaimerPopup:e.showDisclaimerPopup,isEmptyCard:g,showOrCloseCityPopup:e.showOrCloseCityPopup,showCalendar:e.showCalendar,selectedDate:V,holiday:k,controlThreeTimePopup:e.controlThreeTimePopup,controlMidStopPopup:e.controlMidStopPopup,updateSearchHistory:e.props.updateSearchHistory,fltInfo:u,tripTypeInfo:p,isSwitchFetch:d,tabClick:f,handleRealNamePopup:e.handleRealNamePopup,handleOrderPopup:e.handleOrderPopup,handleChangeHeight:e.handleChangeHeight})},r||"notrip")}))}),Array.isArray(r)&&r.length>1?(0,ae.jsx)(h.View,{className:"indicator-dots",children:r.map((function(e,t){var n=e.fltno;return(0,ae.jsx)(h.View,{className:(0,m.classnames)("dot",{"dot-icon":0===t,active:t===i})},n||"notrip")}))}):null,_?(0,ae.jsx)(ot,{visible:A,timeZoneInfo:D,close:this.closeTimeZonePopup}):null,y&&M?(0,ae.jsx)(lt,{visible:E,timeExplainItemList:M,close:this.closeDisclaimerPopup}):null,x?(0,ae.jsx)(ut,{visible:S,threeTimeInfo:x,onClose:this.controlThreeTimePopup}):null,w?(0,ae.jsx)(pt,{visible:Z,basicItemInfo:o,onClose:this.controlMidStopPopup}):null,G?(0,ae.jsx)(gt.Provider,{value:U,children:(0,ae.jsx)(It,{visible:z,side:H,close:this.showOrCloseCityPopup})}):null,G?(0,ae.jsx)(Gt,{showCal:b,selectedDate:V,onDateChange:this.onDateChange,close:this.closeCalendar}):null,v===N.wc?(0,ae.jsx)(Bt,{visible:P,close:this.handleRealNamePopup,certificationTipInfo:j}):null,v===N.Ui?(0,ae.jsx)(Kt,{visible:R,close:this.handleOrderPopup,orderInfo:T}):null]})}}]),n}(z.PureComponent),$t=N.dG.SEVEN_GATE_POPUP_FLAG,en=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"renderSevenGate",(function(e){return(0,ae.jsx)(h.View,{className:"sevenGate-popup-content",children:(0,ae.jsx)(h.View,{className:"popup-content",children:e&&e.map((function(e){var t=W(e,"title"),n=W(e,"content"),i=W(e,"desc");return(0,ae.jsxs)(h.View,{className:"item",children:[(0,ae.jsx)(h.View,{className:"title",children:t}),(0,ae.jsx)(h.View,{className:"content",children:n}),(0,ae.jsx)(h.View,{className:"description",children:i})]},"gateway")}))})})})),(0,u.Z)((0,c.Z)(e),"renderExtraInfo",(function(t,n){var i=W(e.props,"extendInfo","tips");return"exitnode"===n&&ee("c_leave_airport_time_".concat(i?"data":"nodata","_show")),(0,ae.jsx)(h.View,{className:"extra-info-popup-content",children:t&&t.map((function(e){var t=W(e,"title"),n=W(e,"content"),i=n?n.split("|"):[];return(0,ae.jsxs)(h.View,{className:"item",children:[(0,ae.jsx)(h.View,{className:"title",children:t}),i&&i.length>0&&i.map((function(e,t){return(0,ae.jsx)(h.View,{className:"content",children:e},t+e)}))]},t||"extra")}))})})),(0,u.Z)((0,c.Z)(e),"renderBody",(function(t,n,i,a){return(0,ae.jsxs)(h.View,{className:"extra-info-popup-body",children:[i===$t?e.renderSevenGate(t):e.renderExtraInfo(t,a),n&&n.map((function(e){return(0,ae.jsxs)(h.View,{className:"tips",children:[(0,ae.jsx)(h.Image,{className:"icon-info",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/info.svg"}),e]},e)}))]})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.extendInfo,i=e.showSevenGatePopupflag,a=e.close,r=e.type,s=n||{},c=s.title,o=s.subTitle,l=s.extendDetialInfo,u=s.tips,p=i===$t?"sevenGateTitle":"extra-info-popup-notice";return(0,ae.jsxs)(ct,{visible:t,onClose:this.props.close,renderHeaderTitle:(0,ae.jsx)(h.Text,{children:c}),renderHeaderRight:(0,ae.jsx)(h.View,{className:"popup-header-close",onClick:a,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})}),children:[o&&(0,ae.jsx)(h.View,{className:p,children:o}),this.renderBody(l,u,i,r)]})}}]),n}(z.Component),tn={boardgate:N.g.BOARDING_GATE,luggagecarousel:N.g.LUGGAGE_CAROUSEL,planemodel:N.g.AIRCRAFT,exitnode:N.g.ARRIVE_GATE},nn=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"state",{showExtraInfoPop:!1,extendInfo:null,showSevenGatePopupflag:null,type:""}),(0,u.Z)((0,c.Z)(e),"handleClick",(function(t,n,i,a,r){var s=Ie(i)||{},c=s.click;c&&ee(c),t?B.app_open_url({url:t}):n&&e.setState({showExtraInfoPop:!0,showSevenGatePopupflag:a,extendInfo:n,type:r})})),(0,u.Z)((0,c.Z)(e),"closeExtraInfoPop",(function(){var t=W(e.state,"extendInfo","title")||"",n=ve(t)||{},i=n.click;i&&ee(i),e.setState({showExtraInfoPop:!1,extendInfo:null})})),(0,u.Z)((0,c.Z)(e),"isPushHighLight",(function(e,t){return!!e&&(tn[e]&&tn[e]===P()&&"--"!==t)})),(0,u.Z)((0,c.Z)(e),"renderCoreInfo",(function(t){return t&&Array.isArray(t)?(0,ae.jsx)(h.View,{className:"extra core",children:t.map((function(t,n){var i=t.title,a=t.content,r=t.subContent,s=t.url,c=t.extendInfo,o=t.flag,l=t.type,u=t.subContentColor,p=!(!s&&!c),d=r&&r.includes(N.s8.CHANGE_OFTEN),f=r&&r.includes(N.s8.BOARD_METRO),g=e.isPushHighLight(l,a),x=r&&r.replace(/\n/g,"<div/>");return(0,ae.jsxs)(h.View,{className:(0,m.classnames)("extra-item",{orange:d||f}),onClick:function(){return e.handleClick(s,c,i,o,null)},children:[(0,ae.jsxs)(h.View,{className:(0,m.classnames)("title",{"has-icon":p}),children:[(0,ae.jsx)(h.Text,{className:"title-text",children:i}),p&&(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/new_question.svg",className:"svg-question"})]}),(0,ae.jsx)(h.View,{className:(0,m.classnames)("content",{"content--orange":g}),children:a}),x&&(0,ae.jsx)(h.View,{className:(0,m.classnames)("tag",{doublelines:"doublelines"===u}),children:(0,ae.jsx)(h.View,{className:"tag-content",dangerouslySetInnerHTML:{__html:x}})})]},i||n)}))}):null})),(0,u.Z)((0,c.Z)(e),"renderNormalInfo",(function(t){return t&&Array.isArray(t)?(0,ae.jsx)(h.View,{className:"extra normal",children:t.map((function(t,n){var i=t.title,a=t.content,r=t.subContent,s=t.url,c=t.extendInfo,o=t.type,l=!(!s&&!c),u=e.isPushHighLight(o,a);return(0,ae.jsxs)(h.View,{className:"extra-item",onClick:function(){return e.handleClick(s,c,i,null,o)},children:[(0,ae.jsxs)(h.View,{className:(0,m.classnames)("title",{"has-icon":l}),children:[(0,ae.jsx)(h.Text,{className:"title-text",children:i}),l&&(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/new_question.svg",className:"svg-question"})]}),(0,ae.jsxs)(h.View,{className:"info",children:[(0,ae.jsx)(h.View,{className:(0,m.classnames)("content",{"content--orange":u}),children:a}),r&&(0,ae.jsx)(h.View,{className:"tag",children:(0,ae.jsx)(h.View,{className:"tag-content",children:r})})]})]},i||n)}))}):null})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props.recommendInfo,t=e||{},n=t.coreInfo,i=t.normalInfo,a=this.state,r=a.showExtraInfoPop,s=a.extendInfo,c=a.showSevenGatePopupflag,o=a.type;return e?(0,ae.jsxs)(h.View,{className:"flight-extra",children:[this.renderCoreInfo(n),this.renderNormalInfo(i),(0,ae.jsx)(en,{visible:r,extendInfo:s,showSevenGatePopupflag:c,close:this.closeExtraInfoPop,type:o})]}):null}}]),n}(z.Component);function an(e){var t=e.reFetch,n=e.errCode,i=N.Iu.NO_DATA_CODE,a=N.Iu.NO_NETWORK_CODE,r="",s="";switch(n){case a:r="no_network_v2.png",s=N.g8;break;case i:r="no_result_v2.png",s=N.g$;break;default:r="error_v2.png",s=N.F4}var c="".concat(N.I4).concat(r);return(0,ae.jsxs)(h.View,{className:"flight-schedule-error",children:[(0,ae.jsx)(h.Image,{className:"error-img",src:c}),(0,ae.jsx)(h.View,{className:"error-text",children:s}),(0,ae.jsx)(h.View,{className:"btn-retry",onClick:function(){return t({isRetry:!0})},children:N.Dk})]})}var rn=function(e){return R("14566/flightVarAttend",e)},sn=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"timer",null),(0,u.Z)((0,c.Z)(e),"reFetchDetail",(function(){e.props.fetchDetailSearch({isRetry:!0}),d().pageScrollTo({scrollTop:0})})),(0,u.Z)((0,c.Z)(e),"deleteFlight",(function(){var t=e.props.varItemInfo,n=ye(t,N.EA.DELETE);rn(n).then((function(t){var n="";t&&t.res?(n=N.ut.DELETE_SUCCESS,e.timer&&clearTimeout(e.timer),e.timer=setTimeout(e.reFetchDetail,1e3)):n=t&&t.resMsg||N.ut.DELETE_FAIL,M({title:n})})).catch((function(){M({title:N.ut.DELETE_FAIL})})),ee("c_delete_click")})),e}return(0,s.Z)(n,[{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){return(0,ae.jsx)(h.View,{className:"flight-delete",onClick:this.deleteFlight,children:(0,ae.jsx)(h.Image,{className:"icon-flight-delete",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/delete.svg"})})}}]),n}(z.Component),cn=n(90129),on={search:{id:1,icon:"search.svg",text:N.zQ.SEARCH},gift:{id:2,icon:"gift.svg",text:N.zQ.GIFT},coupon:{id:3,icon:"coupon.svg",text:N.zQ.COUPON}};function ln(e){var t=e.isTripCard,n=e.miniProgramFuncSwitch,i=e.fetchDetailSearch,r=e.onVisibleChange,s=(0,z.useState)(N.Fw.NOT_ECHO),c=(0,cn.Z)(s,2),o=c[0],l=c[1],u=(0,z.useState)(""),d=(0,cn.Z)(u,2),f=d[0],g=d[1];(0,z.useEffect)((function(){f&&r(f),v()||r(N.MW.CLOSE)}),[f]);var x=function(){"function"===typeof i&&(i({index:0}),ee("c_add_click"))},w=function(){B.app_open_url({url:"https://m.ctrip.com/webapp/flight_marketing/MyCoupon?isHideNavBar=YES"}),ee("c_checkcoupon_icon_click")},_=function(){var e=(0,p.getCurrentInstance)(),t=e.page,n=t.selectComponent("#coupon");n&&n.showCoupon&&(n.showCoupon(),g(N.MW.EXPAND),ee("c_getcoupon_icon_click"))},y=function(e){var t=e.detail,n=t||{},i=n.isShow,a=n.isSend,r=n.isSendSuccess,s=N.Fw.NOT_ECHO,c="";r?(s=N.Fw.RECEIVED,c=N.MW.CLOSE,i&&(M({title:N.cM.SUCCESS,icon:"success"}),c=N.MW.COLLAPSE,ee("c_coupon_get_toast_show"))):i&&!a?(s=N.Fw.NOT_RECEIVE,c=N.MW.COLLAPSE):i&&a?(M({title:N.cM.FAIL}),c=N.MW.CLOSE,ee("c_coupon_fail_toast_show")):c=N.MW.CLOSE,l(s),g(c)},I=function(){var e=[];return o===N.Fw.RECEIVED?e.push((0,a.Z)((0,a.Z)({},on.coupon),{},{onClick:w})):o===N.Fw.NOT_RECEIVE&&e.push((0,a.Z)((0,a.Z)({},on.gift),{},{onClick:_})),t&&e.push((0,a.Z)((0,a.Z)({},on.search),{},{onClick:x})),e},v=function(){var e=n||[],t=e.find((function(e){return"newUserPackage"===e.bizName}));return!(null===t||void 0===t||!t.open)},j=I(),T=j.length,C=v();return(0,ae.jsxs)(ae.Fragment,{children:[T?(0,ae.jsx)(h.View,{className:(0,m.classnames)("float-tools",{"float-tools--oval":T>1}),children:j.map((function(e){var t=e.id,n=e.icon,i=e.text,a=e.onClick;return(0,ae.jsxs)(h.View,{className:"float-tools__item",onClick:a,children:[(0,ae.jsx)(h.Image,{className:"float-tools__item__icon",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/".concat(n)}),(0,ae.jsx)(h.Text,{children:i})]},t)}))}):null,C?(0,ae.jsx)(h.View,{className:"coupon-wrapper coupon-wrapper--".concat(f),children:(0,ae.jsx)("coupon",{id:"coupon",hideTime:"300",subChannel:"hbzs",onendevent:y})}):null]})}var un=function(e){return R("14912/addSmartTrip",e)},pn=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.content,i=e.okText,a=e.cancelText,r=e.topImage,s=e.handelOk,c=e.handelCancel;return(0,ae.jsx)(h.View,{className:"confirm-component",children:(0,ae.jsx)(h.View,{className:"confirm-modal-wrapper",children:(0,ae.jsxs)(h.View,{className:"modal-body",children:[r?(0,ae.jsx)(h.Image,{className:"modal-image",src:r}):null,(0,ae.jsxs)(h.View,{className:"confirm-modal-context",children:[(0,ae.jsx)(h.View,{className:"confirm-modal-context__title",children:t}),(0,ae.jsx)(h.View,{className:"confirm-modal-context__info",children:n})]}),(0,ae.jsxs)(h.View,{className:"confirm-modal-operate",children:[(0,ae.jsx)(h.View,{className:"cancel-btn",onClick:c,children:(0,ae.jsx)(h.Text,{className:"text-btn",children:a})}),(0,ae.jsx)(h.View,{className:"ok-btn",onClick:s,children:(0,ae.jsx)(h.Text,{className:"text-btn",children:i})})]})]})})})}}]),n}(z.Component),dn={SUBSCRIBE_BTN:"miniProgramSubscribe",SUBSCRIBE_ALERT:"subscribeAlert"},hn="REFUSE_REQ_DIALOG",mn=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"state",{showButton:!0,remindDialogVisible:!1,footFollowshow:!0,isCancelOpt:!1,isSubscribe:N.Lg.INIT,requestDialogVisible:!1}),(0,u.Z)((0,c.Z)(e),"getSubscribeSwitch",(function(t){var n=e.props.miniProgramFuncSwitch,i=n||[],a=i.find((function(e){return e.bizName===t}));return!(null===a||void 0===a||!a.open)})),(0,u.Z)((0,c.Z)(e),"setRequestDialogVisible",(function(){var t=e.props.couponAnimation,n=L.get(hn),i=e.getSubscribeSwitch(dn.SUBSCRIBE_ALERT),a=i&&t===N.MW.CLOSE&&!n;e.setState({requestDialogVisible:a})})),(0,u.Z)((0,c.Z)(e),"closeReqDialog",(function(){L.set(hn,"REFUSED",144e4),e.setState({requestDialogVisible:!1}),ee("c_popup_cancelpush_click")})),(0,u.Z)((0,c.Z)(e),"handleReqDialogOK",(function(){e.handleSubscribeMsg((function(){e.getSubscribeInfo((function(){e.setState({requestDialogVisible:!1})}))})),ee("c_popup_addpush_click")})),(0,u.Z)((0,c.Z)(e),"getSubscribeInfo",(function(t){var n=function(n){var i=n||{},a=i.templateSubscribeStateInfos,r=a&&a.length>0&&a.every((function(e){return e&&0!==e.subscribeState}));e.setState({isSubscribe:r?N.Lg.YES:N.Lg.NO}),t&&t()},i=function(){t&&t(),ee("c_get_subscribe_fail")};try{x().mkt.getSubscribeMsgInfo(N.Mo,n,i)}catch(e){i()}})),(0,u.Z)((0,c.Z)(e),"handleOpenSetting",(function(){ee("c_addpush_click"),d().openSetting()})),(0,u.Z)((0,c.Z)(e),"handleCancel",(function(){ee("c_cancelpush_click"),e.setState({remindDialogVisible:!1})})),(0,u.Z)((0,c.Z)(e),"handleConfirmShow",(function(){e.setState({isCancelOpt:!0})})),(0,u.Z)((0,c.Z)(e),"handleSubscribeMsg",(function(t){var n=e.props.varItemInfo,i=e.state.isSubscribe,a=n||{},r=a.isAttend;ee(r?"c_addpush_buttom_click":"c_addflight_andpush_click"),e.setState({isCancelOpt:!1});var s=function(n){var i=n||{},a=i.templateSubscribeStateInfos;a||e.handleConfirmShow(),t&&t()},c=function(){e.handleConfirmShow(),t&&t(),ee("c_set_subscribe_fail")};try{i===N.Lg.YES?e.handleOpenSetting():x().mkt.subscribeMsg(N.Mo,s,c)}catch(e){c()}})),(0,u.Z)((0,c.Z)(e),"attendFlight",(function(){var t=e.props.varItemInfo,n=e.state.isCancelOpt,i=ye(t,N.EA.ATTEND);rn(i).then((function(t){t&&t.res?(n?e.setState({remindDialogVisible:!0}):(M({title:t.resMsg||N.ut.ATTEND_SUCCESS}),e.setState({showButton:!1})),d().setStorageSync(N.Rp.CACHE_KEY,N.Rp.REFRESH),e.syncSchedule()):(t&&t.resMsg&&M({title:t.resMsg}),e.setState({showButton:!0}))})).catch((function(){e.setState({showButton:!0}),M({title:N.ut.ATTEND_FAIL})})),ee("c_addflight_click")})),(0,u.Z)((0,c.Z)(e),"syncSchedule",(function(){var t=e.props.varItemInfo,n=t||{},i=n.fltNo,a=n.dpcode,r=n.apcode,s=n.dpDate,c={source:8,generalAddInfo:{addType:3,flight:{flightNo:i,departureDate:s,departureAirportCode:a,arrivalAirportCode:r}}};un(c).catch((function(e){console.log(e)}))})),(0,u.Z)((0,c.Z)(e),"renderFootBtn",(function(){var t=e.props,n=t.varItemInfo,i=t.allowNotificationContent,a=n||{},r=a.isAttend,s=a.weChatAttendType,c=a.canAttend,o=e.state,l=o.showButton,u=o.isSubscribe,p=o.requestDialogVisible,d=e.getSubscribeSwitch(dn.SUBSCRIBE_BTN),m="undefined"===typeof r,f=d&&s,g=f&&u===N.Lg.NO,x=f&&u===N.Lg.INIT;if(!c||m||!l||x||!g&&r)return null;var w=r?null:e.attendFlight,_=i||{},y=_.title,I=void 0===y?"":y,v=_.content,j=void 0===v?"":v;return g?p?(0,ae.jsx)(pn,{title:I,content:j,okText:N.Tl.BUTTON_OK,cancelText:N.Tl.BUTTON_CANCEL,topImage:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/message_subscribe.png",handelOk:e.handleReqDialogOK,handelCancel:e.closeReqDialog}):(0,ae.jsxs)(h.View,{className:"flight-follow flyin-bottom",onClick:function(){return e.handleSubscribeMsg(w)},children:[(0,ae.jsxs)(h.View,{className:"primary-wrap",children:[(0,ae.jsx)(h.Image,{className:"icon-follow",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/".concat(r?"ic_notification":"ic_follow",".png")}),(0,ae.jsx)(h.Text,{className:"follow-primary-text",children:r?N.MY:N.Tq})]}),(0,ae.jsx)(h.Text,{className:"follow-second-text",children:N.gt})]}):(0,ae.jsx)(h.View,{className:"flight-follow",onClick:e.attendFlight,children:(0,ae.jsx)(h.Text,{className:"follow-primary-text follow-primary-large",children:N.Tq})})})),e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.varItemInfo,t=e||{},n=t.weChatAttendType;this.getSubscribeInfo(),ee(n?"c_not_attend_or_not_subscribe":"c_attend_and_subscribe"),this.setRequestDialogVisible()}},{key:"componentDidUpdate",value:function(e){var t=this.props.varItemInfo,n=t||{},i=n.fltNo,a=n.acode,r=n.dpcode,s=n.dpDate,c=e.varItemInfo,o=c||{},l=o.fltNo,u=o.acode,p=o.dpcode,d=o.dpDate;i!==l&&a!==u&&r!==p&&s!==d&&this.getSubscribeInfo()}},{key:"render",value:function(){var e=this.state.remindDialogVisible;return(0,ae.jsxs)(ae.Fragment,{children:[this.renderFootBtn(),e?(0,ae.jsx)(pn,{title:N.Bb.CONFIRM_TITEL,content:N.Bb.CONFIRM_INFO,okText:N.Bb.BUTTON_OK,cancelText:N.Bb.BUTTON_CANCEL,handelOk:this.handleOpenSetting,handelCancel:this.handleCancel}):null]})}}]),n}(z.Component),fn=n(93212),gn=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,u.Z)((0,c.Z)(i),"convertItem",(function(e){var t=(0,fn.Z)(e);if("string"===t)return e;if("object"===t){var n=e,i=n.dName,a=n.aName;return"".concat(i,"-").concat(a)}return null})),(0,u.Z)((0,c.Z)(i),"clickRecord",(function(e){"function"===typeof i.props.clickSearchHistory&&i.props.clickSearchHistory(e)})),(0,u.Z)((0,c.Z)(i),"clear",(function(){"function"===typeof i.props.clearSearchHistory&&i.props.clearSearchHistory()})),i}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.history,n=Array.isArray(t)&&t.length>0;return(0,ae.jsx)(h.View,{className:"search-history",children:n?(0,ae.jsxs)(h.View,{className:"history-content-list",children:[t.map((function(t,n){var i=e.convertItem(t);return(0,ae.jsx)(h.View,{className:"history-item",onClick:function(){return e.clickRecord(t)},children:i},"".concat(i).concat(n))})),(0,ae.jsx)(h.View,{className:"history-item history-clear",onClick:this.clear,children:"\u6e05\u7a7a"})]}):(0,ae.jsxs)(h.View,{className:"history-no-value",children:[(0,ae.jsx)(h.View,{className:"history-no-value__line"}),(0,ae.jsx)(h.View,{className:"history-no-value__text",children:N.iq}),(0,ae.jsx)(h.View,{className:"history-no-value__line"})]})})}}]),n}(z.Component),xn=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,c.Z)(e),"gotoLoginPage",(function(){var t=e.props.onLogin;ee("c_loginbtn_click"),t()})),e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){ee("c_loginbtn_show")}},{key:"render",value:function(){return(0,ae.jsxs)(h.View,{className:"login-guide",children:[(0,ae.jsx)(h.Text,{className:"login-guide__tip",children:N.ym.TIP}),(0,ae.jsx)(h.Button,{className:"login-guide__btn",onClick:this.gotoLoginPage,children:N.ym.BUTTON})]})}}]),n}(z.Component);function Nn(e){var t=e.passengers,n=e.passLength,i=e.onChange;if(n<1)return null;var a=(0,z.useState)(0),r=(0,cn.Z)(a,2),s=r[0],c=r[1],o=t&&JSON.parse(JSON.stringify(t)),l=function(e){i(e),c(e)};return(0,ae.jsxs)(h.View,{className:"luggage-tab",children:[(0,ae.jsx)(h.View,{className:(0,m.classnames)("tab-list",{"tab-list-multi":n>3,"tab-list-single":1===n}),children:o&&o.map((function(e,t){var n=t===s,i=e||{},a=i.name;return a&&(0,ae.jsx)(h.View,{className:"tab-list-item",children:(0,ae.jsx)(h.View,{className:(0,m.classnames)("tab-list-item-name",{active:n}),onClick:function(){return l(t)},children:a})},a)}))}),(0,ae.jsx)(h.View,{className:"tab-list-line"})]})}function wn(e){var t=e.subitem,n=e.bsinfo,i=e.index,a=function(e){var t=e||{},n=t.btype,i=t.sizes,a=t.htype,r=n&&N.gE[n];0===a?r+="_nodata":i&&i.length||(r+="_nosize");var s=N.C3,c=r&&"".concat(s).concat(r,".png"),o=1===n;return(0,ae.jsx)(h.View,{children:c&&(0,ae.jsxs)(h.View,{className:"luggage-body-left",children:[(0,ae.jsx)(h.Image,{className:(0,m.classnames)("body-left-imge",{checkin:o}),src:c}),i&&i.length>0&&(0,ae.jsxs)(h.View,{className:(0,m.classnames)("body-left-baggage-size",{checkin:o}),children:[(0,ae.jsxs)(h.View,{className:"size-text-length",children:[i[0],N.iu.CENTIMETER]}),(0,ae.jsxs)(h.View,{className:"size-text-width",children:[i[1],N.iu.CENTIMETER]}),(0,ae.jsxs)(h.View,{className:"size-text-height",children:[i[2],N.iu.CENTIMETER]})]})]})})},r=function(e,t){var n=e||{},i=(n.btype,n.name),a=n.descs,r=n.bsEntrance;return(0,ae.jsxs)(h.View,{className:"luggage-body-right",children:[(0,ae.jsxs)(h.View,{className:"body-right-baggage-type",children:[(0,ae.jsx)(h.Text,{children:i}),r?(0,ae.jsxs)(h.Text,{className:"body-right-luggage-size",children:["(",r,")"]}):null]}),a&&(0,ae.jsx)(h.View,{className:"body-right-description",children:a.map((function(e,t){var n=e||{},i=n.dtype,a=n.desc,r=i&&N.H3[i]||0===t&&N.H3[2]||"";return(0,ae.jsx)(h.View,{className:(0,m.classnames)("body-right-desc-text","".concat(r)),children:a},(a||"")+t)}))})]})},s=t||{},c=s.tip;return(0,ae.jsx)(h.View,{className:"item-content-subitem-".concat(i),children:c?(0,ae.jsx)(h.View,{className:"content-subitem-tip",children:(0,ae.jsx)(h.Text,{className:"content-subitem-text",children:c})}):(0,ae.jsxs)(h.View,{className:"content-subitem-subcard",children:[a(t),r(t,n)]})})}function _n(e){var t=e.content,n=e.visible,i=e.close;return(0,ae.jsx)(ct,{visible:n,onClose:i,renderHeaderTitle:(0,ae.jsx)(h.Text,{children:N.iu.POPUP_TITLE}),renderHeaderRight:(0,ae.jsx)(h.View,{className:"popup-header-close",onClick:i,children:(0,ae.jsx)(h.Image,{className:"icon-close",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/close_circle_grey.svg"})}),children:(0,ae.jsx)(h.View,{className:"notice-content",children:t})})}var yn=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,u.Z)((0,c.Z)(i),"renderItem",(function(e,t){var n=e||{},i=n.details,a=n.name,r=n.bsinfo;return(0,ae.jsx)(h.View,{className:(0,m.classnames)("luggage-body-item",{single:!a}),children:(0,ae.jsx)(h.View,{className:"body-item-content",children:i&&i.map((function(e,t){return(0,ae.jsx)(wn,{subitem:e,bsinfo:r,index:t},(a||"")+t)}))})})})),(0,u.Z)((0,c.Z)(i),"changeTab",(function(e){i.setState({selIndex:e})})),(0,u.Z)((0,c.Z)(i),"openRulePage",(function(){ee("c_luggage_rules_click"),B.app_open_url({url:"https://m.ctrip.com/webapp/flight/schedule/luggage.html"})})),(0,u.Z)((0,c.Z)(i),"renderFooter",(function(e,t){return e?(0,ae.jsx)(h.View,{className:(0,m.classnames)("luggage-footer",{"luggage-footer-hasorder":t===N.fU.internalHasOrder_new}),onClick:i.openRulePage,children:e}):null})),(0,u.Z)((0,c.Z)(i),"renderNoOrderImage",(function(){var e="".concat(N.C3,"luggage_bg.png");return(0,ae.jsx)(h.View,{className:"luggage-body-noorder",children:(0,ae.jsx)(h.Image,{className:"noorder-img",src:e})})})),(0,u.Z)((0,c.Z)(i),"showNotice",(function(){i.setState({showNoticeInfo:!0})})),(0,u.Z)((0,c.Z)(i),"closeNotice",(function(){i.setState({showNoticeInfo:!1})})),(0,u.Z)((0,c.Z)(i),"renderNoticeInfo",(function(e){return e?(0,ae.jsxs)(h.View,{className:"luggage-notice",onClick:i.showNotice,children:[(0,ae.jsx)(h.Text,{className:"luggage-notice-title",children:N.iu.NOTICE}),(0,ae.jsx)(h.Text,{className:"luggage-notice-text",children:e}),(0,ae.jsx)(h.Image,{src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/luggage_notice_arrow.svg",className:"svg-right-arrow"})]}):null})),(0,u.Z)((0,c.Z)(i),"renderGroup",(function(e){var t=e||{},n=t.passengers,a=t.tnotice,r=t.defaultText,s=i.state,c=s.selIndex,o=s.showNoticeInfo,l=n&&n[c]||{},u=l.notice,p=a||u||null;return(0,ae.jsxs)(h.View,{children:[r?(0,ae.jsx)(h.View,{className:"info-content",children:r}):null,n&&(0,ae.jsxs)(h.View,{children:[i.renderNoticeInfo(p),n&&n[c]&&i.renderItem(n[c],c)]}),p?(0,ae.jsx)(_n,{content:p,visible:o,close:i.closeNotice}):null]})})),(0,u.Z)((0,c.Z)(i),"renderTitle",(function(e){var t=e||{},n=t.title,i=t.stype,a=n;return i===N.fU.internalNoOrder_new&&(a=N.iu.CARD_TITLE),(0,ae.jsx)(h.Text,{className:"luggage-card-title",children:a})})),(0,u.Z)((0,c.Z)(i),"renderTabline",(function(e){var t=e&&e.length||-1,n=!1;if(e&&t>0){var a=e[0].name;(a||e.length>1)&&(n=!0)}return e&&e.length&&n?(0,ae.jsx)(Nn,{passengers:e,onChange:i.changeTab,passLength:t}):(0,ae.jsx)(h.View,{className:"body-content-line"})})),i.state={selIndex:0,showNoticeInfo:!1},i}return(0,s.Z)(n,[{key:"render",value:function(){var e=W(this.props,"cardInfo","cards");if(!e)return null;var t=e.findIndex((function(e){return 45===e.id})),n=e.filter((function(e){return 45===e.id}))[0],i=n||{},a=i.baggageV3,r=a||{},s=r.passengers,c=r.stype,o=r.accode,l=r.ruleText;return-1===t||!a||5===c||3===c&&"NZ"===o?null:(0,ae.jsxs)(h.View,{className:"mix-card",children:[this.renderTitle(a),(0,ae.jsxs)(h.View,{className:"voyage-card-body",children:[this.renderTabline(s),c===N.fU.internalNoOrder_new?this.renderNoOrderImage():this.renderGroup(a),this.renderFooter(l,c)]})]})}}]),n}(z.Component);function In(e){var t=e.cardInfo,n=t||{},i=n.cards,a=n.binfo;if(!i)return null;var r=i.filter((function(e){return 12===e.id}))[0];if(!t)return null;var s=W(r,"myflt","topicInfo","topicPic"),c=r||{},o=c.myflt,l=o||{},u=l.fltcabininfo,p=l.topicInfo,d=l.title,f=(0,z.useState)(s),g=(0,cn.Z)(f,2),x=g[0],w=g[1],_=function(){var e=u||{},t=e.fltinfos;return t?(0,ae.jsx)(h.View,{className:"service__content-fbu",children:t&&t.map((function(e,t){var n=e||{},i=n.cnt,a=n.icon,r=n.htype;return(0,ae.jsxs)(h.View,{className:(0,m.classnames)("service__content-item",{"service__content-item-highlight":0===r}),children:[(0,ae.jsx)(h.Image,{src:"".concat(N.MU).concat(a,".svg"),className:"service__svg-icon"}),(0,ae.jsx)(h.View,{className:"service__item-content",children:i})]},a||t)}))}):null},y=function(e){e&&B.app_open_url({url:e})},I=function(){var e=u||{},t=e.newcontents,n=e.jurl;return t&&t.length?(0,ae.jsx)(h.View,{className:"cabin__content",onClick:function(){ee("c_my_flight_seat_click"),y(n)},children:(0,ae.jsx)(h.View,{className:"cabin__seat-info",children:t.map((function(e){var t=e||{},n=t.cnt,i=t.title,a=t.icon,r=t.htype;return(0,ae.jsxs)(h.View,{className:"seat-info__item",children:[(0,ae.jsx)(h.View,{className:"info__item-pic",children:(0,ae.jsx)(h.Image,{src:"".concat(N.gw).concat(a,".svg"),className:"svg-seat"})}),(0,ae.jsxs)(h.View,{className:"info-item",children:[(0,ae.jsx)(h.View,{className:"info__item-name",children:i}),(0,ae.jsx)(h.View,{className:(0,m.classnames)("info__item-info",{"info__item-info-highlight":0===r}),children:n})]})]},a||"")}))})}):null},v=function(e){w(null),e.target.onerror=null},j=function(){var e=a||{},t=e.url,n=p||{},i=n.topicDesc;return p&&x?(0,ae.jsxs)(h.View,{className:"aircraft__content",onClick:function(){ee("c_flight_aircraft_img_click"),y(t)},children:[(0,ae.jsx)(h.Image,{className:"aircraft__image",src:x,onError:v}),i?(0,ae.jsx)(h.View,{className:"aircraft__content-info",children:(0,ae.jsxs)(h.Text,{className:"aircraft__info-name",children:[N.L,i]})}):null]}):null},T=function(){var e=a||{},t=e.url,n=e.text;return t?(0,ae.jsx)(h.View,{className:"voyage-card__footer",onClick:function(){ee("c_flight_more_click"),y(t)},children:n}):null};return(0,ae.jsxs)(h.View,{className:"mix-card",children:[(0,ae.jsx)(h.View,{className:"voyage-card-header",children:(0,ae.jsx)(h.View,{className:"aircraft-card-title",children:d})}),(0,ae.jsx)(h.View,{children:(0,ae.jsxs)(h.View,{className:"voyage-card-body",children:[(0,ae.jsx)(h.View,{className:"aircraft__content-hint",children:N.Ie}),(0,ae.jsx)(h.View,{className:"aircraft__content-line"}),j(),I(),_(),a&&T()]})})]})}function vn(e){var t=e.navigation,n=t||{},i=n.title;return(0,ae.jsxs)(h.View,{className:"mix-navigation",children:[(0,ae.jsx)(h.View,{className:"mix__nav-title",children:i}),(0,ae.jsx)(h.Text,{className:"mix__nav-subtitle",children:N.AZ})]})}function jn(e){var t=e.retry;return(0,ae.jsx)(h.View,{className:"mix-err",children:(0,ae.jsx)(h.View,{className:"voyage-card",children:(0,ae.jsxs)(h.View,{className:"mix-err-body",children:[(0,ae.jsx)(h.View,{className:"err-body-img"}),(0,ae.jsxs)(h.View,{className:"err-body-text",children:[(0,ae.jsx)(h.Text,{className:"mix-err-hint",children:N.eM}),(0,ae.jsx)(h.View,{className:"mix-err-button",onClick:t,children:N.UL})]})]})})})}var Tn=function(e){switch(e){case 1:return"psg-one";case 2:return"psg-two";default:return"psg-more"}};function Cn(e){var t=e.cardInfo,n=t||{},i=n.cards;if(!i)return null;var a=i.filter((function(e){return 46===e.id}))[0]||{},r=a||{},s=r.checkInDInfo;if(!s)return null;var c=s||{},o=c.title,l=c.subTitle,u=c.ishighlight,p=c.passengerInfo,d=c.buttonInfo,f=d&&d[0]?d[0]:{},g=f.text,x=f.jurl,N=function(e){if(e.length<=0)return null;var t=Tn(e.length);return(0,ae.jsx)(h.View,{className:"checkin-card__psg-detail-wrap ".concat(t),children:e&&e.map((function(n,i){var a=n.passengerName,r=n.seatInfo,s=!r||1===e.length;return(0,ae.jsxs)(h.View,{className:"checkin-card__psg-detail__item ".concat(t),onClick:w,children:[(0,ae.jsx)(h.View,{className:"checkin-card__psg-detail__psgName",children:a}),(0,ae.jsxs)(h.View,{className:(0,m.classnames)("checkin-card__psg-detail__seat-num ".concat(t),{blue:s}),children:[r||"".concat(g),s&&(0,ae.jsx)(h.View,{className:"checkin-card__psg-detail__arrow-right"})]})]},a||i)}))})},w=function(){ee("c_seat_check_click"),x&&B.app_open_url({url:x})};return(0,ae.jsxs)(h.View,{className:"checkin-card",children:[(0,ae.jsx)(h.View,{className:"checkin-card__title",children:o}),(0,ae.jsx)(h.View,{className:(0,m.classnames)("checkin-card__sub-title",{ishighlight:u}),children:l}),s&&p&&N(p),g&&x?(0,ae.jsx)(h.View,{className:"checkin-card__button",onClick:w,children:g}):null,(0,ae.jsx)(h.View,{})]})}function Sn(e){var t=e.cardInfo,n=t||{},i=n.cards;if(!i)return null;var a=i.filter((function(e){return 58===e.id}))[0]||{},r=a.fltqueue,s=r||{},c=s.queues,o=s.title,l=s.buttoninfo,u=l&&l[0]?l[0]:{},p=u.text,d=u.jurl;if(!c||c.length<1)return null;var f=function(){return(0,ae.jsx)(h.View,{className:"flight-queue-card__detail-info__title",children:N.ss.map((function(e,t){var n=e.name;return(0,ae.jsx)(h.View,{className:"flight-queue-card__detail-info__title__item",children:n},n||t)}))})},g=function(){return(0,ae.jsx)(h.View,{className:"flight-queue-card__detail-info__content",children:c&&c.map((function(e,t){var n=e||{},i=n.seqNo,a=n.flightNo,r=n.userFlight,s=n.edTime,c=n.flightStatus,o=n.statusColor;return(0,ae.jsxs)(h.View,{className:(0,m.classnames)("flight-queue-card__detail-info__content__item__wrap",{userFlight:r}),children:[(0,ae.jsx)(h.View,{className:(0,m.classnames)("flight-queue-card__detail-info__content__item seq-no",{userFlight:r}),children:r?(0,ae.jsx)(re,{name:"myFlight",className:"svg-myFlight"}):(0,ae.jsx)(h.Text,{children:i})}),(0,ae.jsx)(h.View,{className:"flight-queue-card__detail-info__content__item flight-no",children:a}),(0,ae.jsx)(h.View,{className:"flight-queue-card__detail-info__content__item time",children:s}),(0,ae.jsx)(h.View,{className:(0,m.classnames)("flight-queue-card__detail-info__content__item status","".concat(o)),children:c})]},i||t)}))})},x=function(e,t){return(0,ae.jsx)(h.View,{className:"flight-queue-card__button",onClick:function(){return w(t)},children:e})},w=function(e){ee("c_flightqueue_click"),e&&B.app_open_url({url:e})};return(0,ae.jsxs)(h.View,{className:"flight-queue-card",children:[(0,ae.jsx)(h.View,{className:"flight-queue-card__title",children:o}),(0,ae.jsxs)(h.View,{className:"flight-queue-card__detail-info__wrap",children:[f(),g(),p&&d?x(p,d):null]})]})}function Zn(e){var t=e.cardInfo,n=t||{},i=n.cards;if(!i)return null;var a=i.filter((function(e){return 7===e.id}))[0]||{},r=a.fltpunct;if(!r)return null;var s=r||{},c=(s.hisdelayinfo,s.title),o=(0,z.useState)(!0),l=(0,cn.Z)(o,2),u=(l[0],l[1],function(){N.BG.SEVEN_DAY_DELAY_INFO;return(0,ae.jsxs)(h.View,{className:"flight-punctual-card__top",children:[(0,ae.jsx)(h.View,{className:"flight-punctual-card__top__left",children:"".concat(c)}),!1]})}),p=function(e,t){return Number.isNaN(e)||0===e?"0%":t?e>=-30&&e<=30?"12.5%":e>30&&e<60||e<-30&&e>-60?"25%":"37.5%":e>100?"100%":"".concat(e,"%")},d=function(){var e=N.BG.DEPART_DELAY_INFO,t=N.BG.ARRIVE_DELAY_INFO,n=N.BG.AVEG_DELAY_INFO,i=N.BG.AVEG_ADVANCE_INFO,a=N.BG.MINUTE,s=r||{},c=s.avgpunct,o=s.avgdelay,l=s.arravgpunct,u=[{name:e,value:c,unit:"%",isMiddle:!1},{name:t,value:l,unit:"%",isMiddle:!1},{name:parseFloat(o)<0?i:n,value:o,unit:a,isMiddle:!0}];return(0,ae.jsx)(h.View,{className:"flight-punctual-card__punctual-info-wrapper",children:u.map((function(e,t){var n=e.name,i=e.value,a=e.unit,r=e.isMiddle,s=parseFloat(i),c=Math.abs(s)>=0?Math.abs(s):"--",o=p(s,r),l=r?s>0?"middle-right":"middle-left":"left";return(0,ae.jsxs)(h.View,{className:"flight-punctual-card__punctual-info-item",children:[(0,ae.jsxs)(h.View,{className:"flight-punctual-card__punctual-info-item__value",children:[(0,ae.jsx)(h.View,{className:"value",children:c}),Math.abs(s)>=0?(0,ae.jsx)(h.View,{className:"unit",children:a}):null]}),(0,ae.jsx)(h.View,{className:(0,m.classnames)("flight-punctual-card__punctual-info-item__delay-line-base",{isMiddle:r}),children:(0,ae.jsx)(h.View,{className:"".concat(l),style:"width: ".concat(o)})}),(0,ae.jsx)(h.View,{className:"flight-punctual-card__punctual-info-item__name",children:n})]},n||t)}))})};return(0,ae.jsxs)(h.View,{className:"flight-punctual-card",children:[u(),(0,ae.jsx)(h.View,{className:"flight-punctual-card__detail-info__wrap",children:d()})]})}var An=n(25949),En=n.n(An),Dn={healthcode:"health_code",travelcode:"itinerary_code",urbanpolicy:"city_policy",nuclein:"nucleic_acid_test"},Mn=function(e){var t=e.icon,n=e.title,i=e.jurl,a=e.acname,r=e.isRowLastOne,s=function(e,t,n){if(t)if(ee("c_".concat(e,"_click")),n)try{x().cwx_navigateToMiniProgram({envVersion:"release",appId:n,path:t,success:function(t){ee("".concat(e,"_jump_success"))},fail:function(t){ee("".concat(e,"_jump_fail"))}})}catch(t){ee("".concat(e,"_jump_error")),console.error(t)}else B.app_open_url({url:t})};return(0,ae.jsxs)(h.View,{className:En()("health-card__item",{"health-card__item--last":r}),onClick:function(){return s(t,i,a)},children:[(0,ae.jsx)(h.Image,{className:"health-card__item__img",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/".concat(Dn[t],".png")}),(0,ae.jsx)(h.Text,{className:"health-card__item__text",children:n})]})},Ln=function(e){var t=e.healthNoticeInfo,n=t||{},i=n.tip,a=n.noticeRank,r=n.noticeText,s=n.noticeHighlightTextList,c=n.jumpUrl;if(!r)return null;var o=r;s&&s.forEach((function(e){var t=new RegExp("".concat(e,"(?!<)")),n='<span class="health-notice__txt--hl">'.concat(e,"</span>");o=o.replace(t,n)}));var l=function(){c&&B.app_open_url({url:c})};return(0,ae.jsxs)(h.View,{className:En()("health-notice-wrap",{"health-notice-wrap--large":i}),onClick:function(){return l()},children:[(0,ae.jsxs)(h.View,{className:"health-notice",children:[(0,ae.jsx)(h.Image,{className:"health-notice__warn",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/transit/".concat(a&&a>1?"warning":"danger",".svg")}),(0,ae.jsxs)(h.View,{className:"health-notice__txt-wrap",children:[(0,ae.jsx)(h.View,{className:"health-notice__txt",dangerouslySetInnerHTML:{__html:o}}),i?(0,ae.jsx)(h.View,{className:"notice-tip",children:i}):null]})]}),(0,ae.jsx)(h.Image,{className:"health-notice__arrow",src:"https://pic.c-ctrip.com/AssetCatalog/knr/mix/miniapp/blue_arrow_right.svg"})]})};function Vn(e){var t=e.cardInfo,n=t||{},i=n.cards;if(!i)return null;var a=i.filter((function(e){return 67===e.id}))[0]||{},r=a.info,s=a.name,c=a.healthNoticeInfo,o=r||{},l=o.contents,u=o.tip;return l?(0,ae.jsxs)(h.View,{className:"health-card",children:[(0,ae.jsx)(h.Text,{className:"health-card__title",children:s}),(0,ae.jsx)(Ln,{healthNoticeInfo:c}),(0,ae.jsx)(h.View,{className:En()("health-card__content",{"health-card__content--bottomMargin":!!(l&&l.length>4)}),children:l&&l.map((function(e,t){var n=e||{},i=n.icon,a=n.title,r=n.jurl,s=n.acname;return(0,ae.jsx)(Mn,{icon:i,title:a,acname:s,jurl:r,isRowLastOne:(t+1)%4===0},t+i)}))}),u?(0,ae.jsx)(h.View,{className:"health-card__bt-tip",children:u}):null]}):null}var bn=[];x().configService.watch("coffeebeanConfig",(function(e){"true"===(null===e||void 0===e?void 0:e.observerMode)&&(0,m.initCoffeebeanTaro)({path:"pages/flightschedule/",code:"CBd3b2a134f17c5712463218a15c1a26a1",bizCode:"",orderid:0,transactionid:"",extendCommon:"mini-flight",requestConfig:{getRootID:function(e,t){try{if("string"===typeof t.data.data&&bn.some((function(t){return e.indexOf(t)>-1}))){var n=JSON.parse(t.data.data);return n.msgID?n.msgID:""}}catch(e){return""}}}},{cwx:x()})}));var kn=n(32180)["window"],On=d().getSystemInfoSync().pixelRatio,Pn=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,e),(0,u.Z)((0,c.Z)(i),"pageId",10650034759),(0,u.Z)((0,c.Z)(i),"askId",0),(0,u.Z)((0,c.Z)(i),"mixAskId",0),(0,u.Z)((0,c.Z)(i),"current",(0,p.getCurrentInstance)()),(0,u.Z)((0,c.Z)(i),"checkPerformance",void 0),(0,u.Z)((0,c.Z)(i),"acName",""),(0,u.Z)((0,c.Z)(i),"shareCover",""),(0,u.Z)((0,c.Z)(i),"shareImgPath",{bg:"",airplane:""}),(0,u.Z)((0,c.Z)(i),"hasGotoLogin",!1),(0,u.Z)((0,c.Z)(i),"didShowCount",0),(0,u.Z)((0,c.Z)(i),"timer",null),(0,u.Z)((0,c.Z)(i),"startLoadTs",0),(0,u.Z)((0,c.Z)(i),"gotoLoginPage",(function(){i.hasGotoLogin=!0,ee("c_login_show"),x().user.login({callback:function(e){var t=e.ReturnCode;i.setState({showLoginBtn:0!==+t})}})})),(0,u.Z)((0,c.Z)(i),"addEventListener",(function(){ke(i.updateEmptyCardProps)})),(0,u.Z)((0,c.Z)(i),"drawShareCover",(function(e){var t=e||{},n=t.fltInfo,a=t.basicItemInfo,r=n||{},s=r.airlineIcon,c=r.airlineName,o=r.fltNo,l=a||{},u=l.aItemInfo,p=l.dItemInfo;if(s&&u&&p&&T())try{var h=d().createCanvasContext("shareCanvas");i.getShareImgInfo({logo:s,callback:function(e){var t=e.bgPath,n=e.logoPath,a=e.airplanePath;h.scale(On,On),h.drawImage(t,0,0,260,208),h.beginPath(),h.arc(24,26,8,0,2*Math.PI),h.setFillStyle("#fff"),h.fill(),h.drawImage(n,19,21,10,10),h.font="bold 16px PingFangSC",h.setTextBaseline("top"),h.setTextAlign("left"),h.fillText("".concat(c).concat(o),38,17),h.font="normal 13px PingFangSC",h.setTextAlign("left"),h.fillText("".concat(p.mStatus),16,53),h.setTextAlign("right"),h.fillText("".concat(u.mStatus),244,53),h.font="bold 32px SFProDisplay-Semibold",h.setTextAlign("left"),h.fillText("".concat(p.mTime),16,72),h.drawImage(a,121,82,18,18),h.setTextAlign("right"),h.fillText("".concat(u.mTime),244,72),h.font="bold 13px PingFangSC",h.setTextAlign("left"),h.fillText("".concat(i.convertAirportName(p.apName)).concat(p.terminalName),16,111),h.setTextAlign("right"),h.fillText("".concat(i.convertAirportName(u.apName)).concat(u.terminalName),244,111),h.draw(!1,i.canvasToImg)}})}catch(e){ee(e.toString())}})),(0,u.Z)((0,c.Z)(i),"getShareImgInfo",(function(e){var t=e.logo,n=e.callback,a=(0,c.Z)(i),r=a.shareImgPath,s=r.bg,o=r.airplane,l=a.shareImgPath[t];if(s&&o&&l)n({bgPath:s,airplanePath:o,logoPath:l});else if(s&&o&&!l)d().getImageInfo({src:"https://pic.c-ctrip.com/AssetCatalog/airline/70/".concat(t)}).then((function(e){var i=e.path;a.shareImgPath[t]=i,n({bgPath:s,airplanePath:o,logoPath:i})})).catch((function(e){ee(e.toString())}));else{var p=d().getImageInfo({src:N.D2}),h=d().getImageInfo({src:"https://pic.c-ctrip.com/AssetCatalog/airline/70/".concat(t)}),m=d().getImageInfo({src:N.vz});Promise.all([p,h,m]).then((function(e){if(Array.isArray(e)){var i=e[0].path,r=e[1].path,s=e[2].path;a.shareImgPath=(0,u.Z)({bg:i,airplane:s},t,r),n({bgPath:i,airplanePath:s,logoPath:r})}})).catch((function(e){ee(e.toString())}))}})),(0,u.Z)((0,c.Z)(i),"canvasToImg",(function(){d().canvasToTempFilePath({canvasId:"shareCanvas",width:260*On,height:208*On,destWidth:260*On,destHeight:208*On}).then((function(e){i.shareCover=e.tempFilePath}))})),(0,u.Z)((0,c.Z)(i),"convertAirportName",(function(e){return e?e.length>N.ni?"".concat(e.substring(0,N.ni),"..."):e:""})),(0,u.Z)((0,c.Z)(i),"tabClick",(function(e){var t=i.state.tabIndex;e!==t&&i.updateEmptyCardProps({tabIndex:e}),i.updateSearchHistory(e);var n=0===e?"flight":"city";ee("c_search_".concat(n,"_click"))})),(0,u.Z)((0,c.Z)(i),"fetchDetailSearch",(function(e){var t=e||{},n=t.isRetry,a=t.index;n&&i.setState({isFail:!1,isFirstLoading:!0}),"number"===typeof a&&i.setState({currentIndex:a,isSwitchFetch:!!a,mixState:{mixData:null,loading:!0,error:!1}});var r=i.getDetailSearchReqParams(a);i.askId=r.askId,F(r).then((function(e){if(e&&e.serviceResult&&0===e.serviceResult.rt){var t=e.varItemInfo,n=e.askId,a=e.detailItem,r=e.index;n===i.askId&&(i.setState({isFail:!1,currentIndex:r,isSwitchFetch:!1,isFirstLoading:!1,detailSearchData:e}),i.setNavBarTitle(t),i.drawShareCover(a),i.fetchMix(e))}else{var s=e&&e.serviceResult||{},c=s.rt;i.setState({isFail:!0,errCode:c,isSwitchFetch:!1})}})).catch((function(){var e=N.Iu.NO_NETWORK_CODE;i.setState({isFail:!0,errCode:e,isSwitchFetch:!1})}))})),(0,u.Z)((0,c.Z)(i),"getDetailSearchReqParams",(function(e){var t=i.current.router,n=t&&t.params,a=n||{},r=a.flightNo,s=a.queryDate,c=a.dcode,o=a.acode,l=a.origin,u=a.oid,p={askId:(new kn.Date).getTime(),uzone:A().toString(),origin:l||"",oid:"number"!==typeof e&&u?Number(u):void 0};if("number"===typeof e){var d=W(i.state,"detailSearchData","searchList",e),h=W(i.state,"detailSearchData","containNoneTrip");0===e&&h?p.isNoneTripAsk=!0:d&&(p.fltItem=d)}else r&&s&&o&&c&&(p.fltItem={queryDate:s,dPort:c.toUpperCase(),aPort:o.toUpperCase(),fltno:r.toUpperCase()});return p})),(0,u.Z)((0,c.Z)(i),"getAlliance",(function(e,t,n){var i=null,a=N.tl||"",r=a.split(",");return r.indexOf(n)>-1&&e&&t&&(i={aid:e,sid:t}),i})),(0,u.Z)((0,c.Z)(i),"getMixRequestParam",(function(e){var t=e.varItemInfo,n=e.index,a=e.containNoneTrip,r=i.current.router,s=r&&r.params,c=s||{},o=c.allianceid,l=c.sid,u=c.origin,p=void 0===u?"":u,d=i.getAlliance(o,l,p);if(0===n&&a)return{asid:+new kn.Date,mnTrip:!0,alliance:d,mixV2:!0};if(!t||!t.dpDate)return null;var h=t.dpcode,m=t.apcode,f=t.dcode,g=t.acode,x=t.dcid,N=t.acid,w=t.fltNo,_=t.dpDate,y=t.dTerminal,I=t.aTerminal,v=t.oids,j={dpcode:h,apcode:m,dccode:f,accode:g,dcid:x,acid:N,fno:w,ddate:_,dbdname:y,abdname:I};return{finfo:j,oids:v,asid:+new kn.Date,noNotice:!0,alliance:d,mixV2:!0}})),(0,u.Z)((0,c.Z)(i),"fetchMix",(function(e){var t=i.state,n=t.detailSearchData,r=t.mixState,s=e||n,c=s||{},o=c.varItemInfo,l=c.index,u=c.containNoneTrip;if(!u||l){var p=i.getMixRequestParam({varItemInfo:o,index:l,containNoneTrip:u});p&&(i.mixAskId=p.asid,H(p).then((function(e){var t=e||{},n=t.srt,s=t.asid,c=n||{},o=c.rt;0===o?i.mixAskId===s&&i.setState({mixState:(0,a.Z)((0,a.Z)({},r),{},{mixData:e,loading:!1,error:!1})}):i.setState({mixState:(0,a.Z)((0,a.Z)({},r),{},{mixData:null,loading:!1,error:!0})})})).catch((function(){i.setState({mixState:(0,a.Z)((0,a.Z)({},r),{},{mixData:null,loading:!1,error:!0})})})))}})),(0,u.Z)((0,c.Z)(i),"setNavBarTitle",(function(e){var t=e||{},n=t.dcName,a=t.acName;n&&a?(i.acName=a,d().setNavigationBarTitle({title:"".concat(n," \u21c0 ").concat(a)})):(i.acName="",d().setNavigationBarTitle({title:N.$M}))})),(0,u.Z)((0,c.Z)(i),"updateSearchHistory",(function(e){var t=W(i.state,"tabIndex")||0,n="undefined"===typeof e?t:e,a=[];a=Ge(n),i.setState({history:a})})),(0,u.Z)((0,c.Z)(i),"clearSearchHistory",(function(){var e=W(i.state,"tabIndex");"number"===typeof e&&(We(e),i.updateSearchHistory())})),(0,u.Z)((0,c.Z)(i),"clickSearchHistory",(function(e){if("string"===typeof e)i.updateEmptyCardProps({flightNo:e});else{var t=e||{},n=t.aPort,a=t.dPort,r=t.aCode,s=t.dCode,c=t.aName,o=t.dName;i.updateEmptyCardProps({depart:{code:s,port:a,name:o},arrival:{code:r,port:n,name:c}})}})),(0,u.Z)((0,c.Z)(i),"judgeHisIn2Rows",(function(){var e=W(i.state,"tabIndex"),t=d().createSelectorQuery();i.timer&&(clearTimeout(i.timer),i.timer=null),i.timer=setTimeout((function(){t.select(".detail-flight-dynamic >>> .history-content-list").fields({size:!0}),t.select(".detail-flight-dynamic >>> .history-item").fields({size:!0}),t.exec((function(t){var n=W(t,0,"height")||0,a=W(t,1,"height")||0;n>3*a&&"number"===typeof e&&(qe(e),i.updateSearchHistory())}))}),0)})),(0,u.Z)((0,c.Z)(i),"updateEmptyCardProps",(function(e){var t=e.flightNo,n=e.tabIndex;if(t)i.changeFltNo(t);else if("number"===typeof n)i.setState({tabIndex:n});else{var r=i.state.depArrCitys;i.setState({depArrCitys:(0,a.Z)((0,a.Z)({},r),e)})}})),(0,u.Z)((0,c.Z)(i),"changeFltNo",(function(e){be(e)})),(0,u.Z)((0,c.Z)(i),"changeCouponVisible",(function(e){var t=i.state.couponAnimation;e!==t&&i.setState({couponAnimation:e})})),(0,u.Z)((0,c.Z)(i),"renderDetailPage",(function(){var e=i.state,t=e.detailSearchData,n=e.isSwitchFetch,a=e.history,r=e.depArrCitys,s=e.showLoginBtn,c=e.currentIndex,o=e.couponAnimation,l=t||{},u=l.index,p=l.detailItem,d=l.searchList,f=l.varItemInfo,g=l.containNoneTrip,x=l.miniProgramFuncSwitch,w=p||{},_=w.fltInfo,y=w.basicItemInfo,I=w.statusInfo,j=w.recommendInfo,T=w.tripTypeInfo,C=w.allowNotificationContent,S=0===c&&!!g,Z=!S&&d&&d.length>1,A=f||{},E=A.isAttend;return(0,ae.jsxs)(h.View,{className:(0,m.classnames)("detail-view",{ipx:v()}),children:[(0,ae.jsxs)(h.View,{className:"detail-flight-dynamic",children:[(0,ae.jsx)(Xt,{index:u,swiperIndex:c,depArrCitys:r,searchList:d,statusInfo:I,varItemInfo:f,basicItemInfo:y,containNoneTrip:g,fetchDetailSearch:i.fetchDetailSearch,updateSearchHistory:i.updateSearchHistory,updateEmptyCardProps:i.updateEmptyCardProps,fltInfo:_,tripTypeInfo:T,isSwitchFetch:n,tabClick:i.tabClick}),n?(0,ae.jsx)(at,{switchFetch:!0}):S?(0,ae.jsx)(gn,{history:a,clickSearchHistory:i.clickSearchHistory,clearSearchHistory:i.clearSearchHistory}):(0,ae.jsx)(nn,{recommendInfo:j})]}),S?null:i.renderMix(),(0,ae.jsxs)(h.View,{className:"detail-footer",children:[(0,ae.jsxs)(h.View,{className:"mix_del__tip",children:[(0,ae.jsx)(h.View,{className:"mix__tip__line"}),(0,ae.jsx)(h.Text,{className:"mix__tip__text",children:N.nj}),(0,ae.jsx)(h.View,{className:"mix__tip__line"})]}),E&&(0,ae.jsx)(sn,{varItemInfo:f,fetchDetailSearch:i.fetchDetailSearch})]}),s?(0,ae.jsx)(xn,{onLogin:i.gotoLoginPage}):(0,ae.jsxs)(h.View,{children:[(0,ae.jsx)(ln,{isTripCard:!!Z,miniProgramFuncSwitch:x,fetchDetailSearch:i.fetchDetailSearch,onVisibleChange:i.changeCouponVisible}),o?(0,ae.jsx)(mn,{varItemInfo:f,couponAnimation:o,miniProgramFuncSwitch:x,allowNotificationContent:C}):null]}),(0,ae.jsx)(h.Canvas,{canvasId:"shareCanvas",style:"width: ".concat(260*On,"px; height: ").concat(208*On,"px; position:fixed; left: 100%; bottom: 0;")})]})})),(0,u.Z)((0,c.Z)(i),"getRenderMixData",(function(e,t){var n=new Map(e.map((function(e){var t=e.id;return[t,e]}))),i=[];return t.forEach((function(e){var t=e||{},a=t.siteType,r=t.cardIds;if(2===a){if(!r)return;r.forEach((function(e){var t=n.get(e);t&&i.push(t)}))}})),i})),(0,u.Z)((0,c.Z)(i),"renderCards",(function(e,t){return e===N.z4.CHECK_IN?(0,ae.jsx)(Cn,{cardInfo:t},e):e===N.z4.FLIGHT_PUNCTUAL?(0,ae.jsx)(Zn,{cardInfo:t},e):e===N.z4.FLIGHT_QUEUE?(0,ae.jsx)(Sn,{cardInfo:t},e):e===N.z4.LUGGAGE?(0,ae.jsx)(yn,{cardInfo:t},e):e===N.z4.MY_FLIGHT?(0,ae.jsx)(In,{cardInfo:t},e):e===N.z4.HEALTH_TRAVEL?(0,ae.jsx)(Vn,{cardInfo:t},e):null})),(0,u.Z)((0,c.Z)(i),"renderMix",(function(){var e=i.state,t=e.mixState,n=e.detailSearchData,a=t||{},r=a.error,s=a.loading;return r?(0,ae.jsx)(jn,{retry:function(){return i.fetchMix(n)}}):s?(0,ae.jsx)(it,{}):i.renderMixBody()})),(0,u.Z)((0,c.Z)(i),"renderMixBody",(function(){var e=W(i.state,"mixState","mixData"),t=e||{},n=t.mixCardAggs,a=t.newcards,r=t.navigation;if(!a||!n)return null;var s=i.getRenderMixData(a,n);return s&&s.length?(0,ae.jsxs)(h.View,{className:"mix-page",children:[(0,ae.jsx)(vn,{navigation:r}),s&&s.map((function(e){var t=e||{},n=t.id;return i.renderCards(n,e)}))]}):null})),i.state={isFail:!1,errCode:1,tabIndex:0,history:[],currentIndex:0,showLoginBtn:!1,isSwitchFetch:!1,isFirstLoading:!0,detailSearchData:null,depArrCitys:{depart:{code:"SHA",port:"",name:N.I9},arrival:{code:"BJS",port:"",name:N.Fv}},mixState:{mixData:null,loading:!0,error:!1},couponAnimation:""},i.checkPerformance=!0,x().configService.watch("coffeebeanConfig",(function(e){"true"===(null===e||void 0===e?void 0:e.observerMode)&&m.trackPage&&(0,m.trackPage)()})),i}return(0,s.Z)(n,[{key:"onLoad",value:function(){this.startLoadTs=+new kn.Date}},{key:"onReady",value:function(){var e=+new kn.Date-this.startLoadTs;ne("flight_schedule_mini_first_render_custom",e)}},{key:"onShareAppMessage",value:function(){var e=W(this.state,"detailSearchData","detailItem","fltSmsInfo","url"),t=j()?"/pages/detail/detail?origin=103&":"/pages/flightschedule/pages/detail/detail?origin=103&";if(e){var n=e.match(/\?(\S*)/);Array.isArray(n)&&(t+=n[1])}return ee("c_repost_click"),{title:this.acName?"".concat(N.Ak.FLYTO).concat(this.acName).concat(N.Ak.VOYAGE):N.Ak.NO_TRIP_TITLE,path:t,imageUrl:this.acName?this.shareCover:N.HE}}},{key:"componentWillMount",value:function(){if(wx.canIUse("getPerformance")){var e=wx.getPerformance(),t=e.createObserver((function(e){var n=e.getEntries();n.forEach((function(e){var t=e.name,n=e.duration;ne("flight_schedule_mini_".concat(t,"_official"),n)})),t.disconnect()}));t.observe({entryTypes:["render","script","navigation"]})}var n=x().user.isLogin();n||this.gotoLoginPage()}},{key:"componentDidMount",value:function(){this.fetchDetailSearch(),this.updateSearchHistory()}},{key:"componentDidShow",value:function(){this.didShowCount++;var e=x().user.isLogin();this.hasGotoLogin&&this.didShowCount>1&&(e?(this.fetchDetailSearch(),this.setState({showLoginBtn:!1}),ee("c_login_success_show")):ee("c_login_fail_show"),this.hasGotoLogin=!1);var t=d().getStorageSync(N.Rp.CACHE_KEY);t===N.Rp.REFRESH&&(this.fetchDetailSearch(),d().removeStorageSync(N.Rp.CACHE_KEY)),this.addEventListener()}},{key:"componentDidUpdate",value:function(e,t){var n=W(this.state,"history","length"),i=W(t,"history","length");n!==i&&this.judgeHisIn2Rows()}},{key:"componentWillUnmount",value:function(){Pe(Le),this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isFirstLoading,i=t.isFail,a=t.errCode;return(0,ae.jsxs)(h.View,{className:(0,m.classnames)("page-detail",{fail:i}),children:[i?(0,ae.jsx)(an,{reFetch:this.fetchDetailSearch,errCode:a}):n?(0,ae.jsx)(at,{}):this.renderDetailPage(),(0,ae.jsx)(h.View,{className:"view-check",onAnimationEnd:function(){return e.viewReadyHandle()}})]})}}]),n}(f.Z),Rn={navigationBarTitleText:"\u822a\u73ed\u52a9\u624b",navigationBarBackgroundColor:"#0086f6",navigationBarTextStyle:"white",backgroundColor:"#0086f6",backgroundColorTop:"#0086f6",backgroundColorBottom:"#001c41",usingComponents:{coupon:"../../outerComponents/coupon"}};Pn.enableShareAppMessage=!0;Page((0,i.createPageConfig)(Pn,"pages/flightschedule/pages/detail/detail",{root:{cn:[]}},Rn||{}))},68197:function(e,t,n){"use strict";n.r(t);var i=n(14938),a=n(32180)["window"],r=i.p3.MONDAY,s=i.p3.TUESDAY,c=i.p3.WEDNESDAY,o=i.p3.THURSDAY,l=i.p3.FRIDAY,u=i.p3.SATURDAY,p=i.p3.SUNDAY,d=i.p3.WEEKDAY;a.Date.prototype.customFormat=function(e){var t=this,n=a.Date._formators,h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return n||(a.Date._formators=n={y:function(e,t){return e=e.getFullYear(),e<0?"BC"+-e:t<3&&e<2e3?e%100:e},M:function(e){return e.getMonth()+1},d:function(e){return e.getDate()},H:function(e){return e.getHours()},m:function(e){return e.getMinutes()},N:function(e){return h[e.getMonth()]},s:function(e){return e.getSeconds()},e:function(e,t){var n=new a.Date,h=new a.Date(e),m=n.getFullYear()+""+n.getMonth()+n.getDate(),f=h.getFullYear()+""+h.getMonth()+h.getDate();return m===f?i.ZM:(1===t?"":2===t?i.IZ:i.ps)+[2===t?p:d,r,s,c,o,l,u][e.getDay()]}}),(e||"yyyy/MM/dd HH:mm:ss").replace(/(\w)\1*/g,(function(e,i){if(i in n){i=""+n[i](t,e.length);while(i.length<e.length)i="0"+i;e=i}return e}))},a.Date.from=function(e,t){if(e&&!(e instanceof Date))if(t){var n=[0],i={},r=new RegExp(t.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1").replace(/([yMdHms])\1*/g,(function(e,t){return n.push(t),"\\s*(\\d+)?\\s*"}))).exec(e);if(r)for(var s=1;s<r.length;s++)i[n[s]]=+r[s];e=new a.Date(i.y||(new a.Date).getFullYear(),i.M?i.M-1:(new a.Date).getMonth(),i.d||1,i.H||0,i.m||0,i.s||0)}else e=new a.Date(e.constructor===String?e.replace(/(\d{4})\D*(\d\d?)\D*(\d\d?)/,"$1/$2/$3"):e);return e},a.Date.prototype.addDay=function(e){return new a.Date(+this+864e5*e)},a.Date.prototype.addMinute=function(e){return new a.Date(+this+6e4*e)},a.Date.prototype.addMonth=function(e){var t=new a.Date(+this);return t.setMonth(t.getMonth()+e),this.getDate()!==t.getDate()&&t.setDate(0),t},a.Date.prototype.toDay=function(){return new a.Date(this.getFullYear(),this.getMonth(),this.getDate())},a.Date.now=a.Date.now||function(){return+new a.Date}},79181:function(e){"use strict";e.exports=require("../../../../cwx/cpage/initNavigator")},91783:function(e){"use strict";e.exports=require("../../../../cwx/cpage/ubt_wx")},56884:function(e){"use strict";e.exports=require("../../../../cwx/cwx")},12473:function(e){"use strict";e.exports=require("../../../../cwx/cwx.js")},65238:function(e){"use strict";e.exports=require("../../../../cwx/ext/global")},33675:function(e){"use strict";e.exports=require("../../../../cwx/cwx")}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[4687,2107,1216,8592],(function(){return t(82896)}));e.O()}]);
//# sourceMappingURL=detail.js.map