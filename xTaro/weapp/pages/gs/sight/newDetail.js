/*! For license information please see newDetail.js.LICENSE.txt */
"use strict";require("../taroCommon"),(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[7817],{49056:function(e,t,n){var i=n(32180),o=n(79301),a=n(298),r=n(95308),l=n(57042),s=n(24460),c=n(81876),d=n(21867),u=n(86066),m=n(45023),x=n(90201),h=n(73484),v=n(65542),p=v.Z,g=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(p),f=n(90129);function _(e){return e}var b,y,j,N,I,T=0,w=(0,h.xI)(),S=w.windowWidth,k=w.windowHeight,E=h.hj.isAlipay()?(null===w||void 0===w||null===(b=w.screen)||void 0===b?void 0:b.width)||S:w.screenWidth,Z=h.hj.isAlipay()?(null===w||void 0===w||null===(y=w.screen)||void 0===y?void 0:y.height)||k:w.screenHeight;console.log("systemInfo======",w);var R=h.hj.isAlipay()&&h.hj.isAndroid()?Z:k,C=h.hj.isH5()?0:20,D=h.hj.isAlipay()?(null===w||void 0===w?void 0:w.statusBarHeight)||(null===w||void 0===w||null===(j=w.safeArea)||void 0===j?void 0:j.top)||C:(null===w||void 0===w||null===(N=w.safeArea)||void 0===N?void 0:N.top)||(null===w||void 0===w?void 0:w.statusBarHeight)||C,L=(null!==(I=w.safeArea)&&void 0!==I&&I.bottom?Z-w.safeArea.bottom:0)||T,A=D+_(44),P=540,H=60+L,F=Z-60,U={isIos:h.hj.isIOS(),isAndroid:h.hj.isAndroid(),isXiaoMi:/mi/.test(w.brand.toLowerCase()),MODAL_MAXHEIGHT:.85*R,MODAL_MINHEIGHT:.4*R,flexCenter:{alignItems:"center",justifyContent:"center"},flexRow:{flexDirection:"row"},SCREENWIDTH:E,SCREENHEIGHT:Z,WIDTH:S,HEIGHT:R,MAX_WIDTH:h.hj.isMini()?S:P,CAROUSEL_HEIGHT:Math.max(A+147,230),CAROUSEL_HEIGHT_ACTIVITY:Math.max(A+147,229),safeAreaTop:D,safeAreaBottom:L,isH5:h.hj.isH5(),isApp:h.hj.isApp(),isInApp:h.hj.isInApp,isInMini:h.hj.isInMini,isInWechat:h.hj.isInWechat,isInKuaiShou:h.hj.isInKuaiShou,isWechat:h.hj.isWechat(),isAlipay:h.hj.isAlipay(),isMini:h.hj.isMini(),screenMargin:12,getNavigationBarHeight:function(e){return e?0:A},bottomMenuHeight:H,FULL_SCREEN_HEIGHT:F,headerMarginTop:-32,tabBarMarginTop:-21,getWindowHeightAsync:function(){return(0,r.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===h.ZP||void 0===h.ZP||null===(t=h.ZP.getSystemInfo)||void 0===t?void 0:t.call(h.ZP);case 2:return n=e.sent,e.abrupt("return",(null===n||void 0===n?void 0:n.windowHeight)||k);case 4:case"end":return e.stop()}}),e)})))()}},M=n(92954),O=n(71515),B=n(93212),V="",X=n(32180)["window"];function G(e,t){var n=/\.(png|jpg|gif)/,i=n.exec(e);if(i){var o=i.index,a=i[0];return e.slice(0,o)+t+a+"?proc=autoorient"}return e}var Y={formatImage:G,getNetworkType:function(e){var t=e||{},n=t.success,i=t.fail,o=t.complete;U.isMini&&h.Y8.getNetworkType({success:function(e){var t;return null===n||void 0===n?void 0:n((0,a.Z)((0,a.Z)({},e),{},{networkType:(null===e||void 0===e||null===(t=e.networkType)||void 0===t?void 0:t.toLowerCase())||""}))},fail:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null===i||void 0===i?void 0:i.apply(void 0,t)},complete:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null===o||void 0===o?void 0:o.apply(void 0,t)}})}};function W(e){var t={};switch(parseInt(e)){case 7:t={poiTypeBz:4,businessType:26,myBusType:"airport",photoType:"airport"};break;case 8:t={poiTypeBz:5,businessType:28,myBusType:"port",photoType:"harbour"};break;case 9:t={poiTypeBz:6,businessType:27,myBusType:"train",photoType:"train"};break;case 10:t={poiTypeBz:7,businessType:34,myBusType:"station",photoType:"bus"};break;case 70:t={poiTypeBz:70,businessType:70,myBusType:"airportterminal"};break;case 66:t={poiTypeBz:66,businessType:66,myBusType:"play"};break;default:t={poiTypeBz:0,businessType:11,myBusType:"sight",photoType:"sight"}}return t}function z(e){return null===e||void 0===e?void 0:e.replace(/[\u0391-\uFFE5]/g,"aa").length}function q(e){var t=/[\u0600-\u06FF]+/;return!!e&&t.test(e)}function K(e){var t=/[\u0E00-\u0E7F]+/;return!!e&&t.test(e)}function J(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.headInfoList||[],i=t.rankingInfo,o=void 0===i?{}:i,a=o.ranking,r=o.title,l=t.shortFeatures,s=void 0===l?[]:l,c=t.sightNoticeInfo,d=void 0===c?{}:c,u=d.noticeTitle,m=d.noticeItemInfoList,x=d.warningInfo,h=t.travelGuide,v=void 0===h?{}:h,p=v.detailModuleList,g=void 0===p?[]:p,f=(v.scenicFeature,v.highStarInfo),_=void 0===f?{}:f;g.length;return{isShowOpenTime:n.includes("OPEN_TIME"),isShowAddress:n.includes("ADDRESS"),isShowTaxi:n.includes("TAXI"),isShowRank:Number(a)>0&&!!r&&n.includes("RANKING")&&n.includes("RANKING"),isShowFeatures:(null===s||void 0===s?void 0:s.length)>0&&n.includes("SHORT_FEATURE"),isShowNotice:u||(null===m||void 0===m?void 0:m.length)||(null===x||void 0===x||null===(e=x.warningList)||void 0===e?void 0:e.length),isShowTravelGuide:!1}}function Q(e){return e=e||"",e=e.replace(/<\/?[^>]*>/g,""),e=e.replace(/[ | ]*\n/g,"\n"),e}function $(e){return e=e||"",e=e.replace(/&amp;/g,"&"),e=e.replace(/&#x09;/g,"\t"),e=e.replace(/&#x0A;/g,"\n"),e=e.replace(/&#x0C;/g,"\f"),e=e.replace(/&#x0D;/g,"\r"),e=e.replace(/&#x20;/g," "),e=e.replace(/&nbsp;/g," "),e=e.replace(/&quot;/g,'"'),e=e.replace(/&#39;/g,"'"),e=e.replace(/&#x2F;/g,"/"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&#x5C;/g,"\\"),e=e.replace(/&#x2028;/g,"\u2028"),e=e.replace(/&#x2029;/g,"\u2029"),e=e.replace(/&#160;/g,""),e=e.replace(/&middot;/g,"\xb7"),e=e.replace(/&#183;/g,"\xb7"),e=e.replace(/&#12539;/g,"\xb7"),e=e.replace(/&#8226;/g,"\xb7"),e=e.replace(/&ldquo;/g,"\u201c"),e=e.replace(/&rdquo;/g,"\u201d"),e=e.replace(/&rsquo;/g,"\u2018"),e=e.replace(/&rdquo;/g,"\u2019"),e=e.replace(/&ndash;/g,"\u2013"),e=e.replace(/&mdash;/g,"\u2014"),e=e.replace(/&rarr;/g,"\u2192"),e=e.replace(/&darr;/g,"\u2193"),e=e.replace(/&uarr;/g,"\u2191"),e=e.replace(/&larr;/g,"\u2190"),e=e.replace(/&hellip;/g,"..."),e=e.replace(/&yen;/g,"\xa5"),e}function ee(e){var t=e.imgUrl,n=e.width,i=e.height;return t?t.replace(/(?:_D_.*\.|\.)(?=(?:jpg|png|webp))/,"_D_".concat(n,"_").concat(i,".")):""}function te(e){return null===e||void 0===e||(Array.isArray(e)?0===e.length:"object"===(0,B.Z)(e)&&0===Object.keys(e).length)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isSmallType,n=e.imageInfo;return!!t&&!(null===n||void 0===n||!n.onlyDefault)}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isSmallType;return!!t}function oe(e){var t=e.imageUrl,n=void 0===t?"":t;return["_W_","_D_"].some((function(e){return n.includes(e)}))?n:G(n,"_W_750_0")}function ae(e,t){var n=Object.entries(t).map((function(e){var t=(0,f.Z)(e,2),n=t[0],i=t[1];return"".concat(n,"=").concat(i)})).join("&");return"".concat(e).concat(e.includes("?")?"&":"?").concat(n)}function re(e){var t="weapp";switch(t){case"h5":var n=X.location.origin+X.location.pathname,i=X.location.search,o=null===V||void 0===V?void 0:V(i),r=0;return Object.entries(o).forEach((function(e){var t=(0,f.Z)(e,2),i=t[0],o=t[1];"from"!=i&&"envObj"!=i&&(n=r?"".concat(n,"&").concat(i,"=").concat(o):"".concat(n,"?").concat(i,"=").concat(o),r++)})),ae(e,(0,a.Z)({},!/from=/.test(e)&&{from:encodeURIComponent(n)}));default:return e}}function le(e){var t=e.jumpUrl,n=e.needLogin,i=void 0!==n&&n,o=e.isNavigate,a=void 0!==o&&o,r={url:encodeURIComponent(t),needLogin:i,isNavigate:a};return"/cwx/component/cwebview/cwebview?data=".concat(JSON.stringify(r))}function se(e){var t,n={};return e&&(null===(t=Object.keys(e))||void 0===t?void 0:t.length)>0&&Object.keys(e).map((function(t){Array.isArray(e[t])?n[t]=e[t][0]:n[t]=e[t]})),n}function ce(e){return"baidurank"===(null===e||void 0===e?void 0:e.scene)}function de(){return(new Date).getTime()}var ue,me={"header-swiper-box":"index-module_B20rD","swiper-box":"index-module_aDqiT","swiper-item-video":"index-module_x9Lag","video-cover":"index-module_km_Ji","video-play-icon-view":"index-module_C1_MV","video-play-icon":"index-module_q_rsD","video-item":"index-module_QKfxs","image-view-box":"index-module_jLHIr","image-view":"index-module_iqXOy","sub-box":"index-module_a1bOZ","sub-item-view":"index-module_dbwM8","sub-item-text":"index-module_hX3vI","sub-item-arrow-icon":"index-module_Bn2lP","sub-item-image":"index-module_rZvHy","full-video":"index-module_hteHc"},xe={getSightOverview:"18254/json/GetSightOverview",getSightExtendInfo:"18254/json/getSightExtendInfo",getSightTemplateList:"18254/json/getSightTemplateList",getShareImage:"18254/json/getShareImage",addSubscribers:"18254/json/addSubscribers",cancelSubscribers:"18254/json/cancelSubscribers",getActivityPoiOverview:"18109/json/getActivityPoiOverview",getActivityPoiTemplateList:"18109/json/getActivityPoiTemplateList",addActivityPoiSubscribers:"20036/json/addActivityPoiSubscribers",hasActivityPoiSubscribed:"20036/json/hasActivityPoiSubscribed"},he={overview:"GetSightOverview",sightExtend:"getSightExtendInfo",poiExtend:"getPoiExtendInfo",supplement:"getSightSupplementInfo",moduleList:"getSightTemplateList",activityPoiOverview:"getActivityPoiOverview",activityPoiModuleList:"getActivityPoiTemplateList"},ve={afterOverview:"afterOverview",afterSupplement:"afterSupplement",afterSightAndPOIExtend:"afterSightAndPOIExtend",afterCommentNote:"afterCommentNote",afterRecommendation:"afterRecommendation",afterSightExtend:"afterSightExtend",afterActivityOverview:"afterActivityOverview",afterActivityTemplate:"getActivityPoiTemplateList"},pe={BOTTOM_STYLE_108:"220809_UCC_bar",NATIVE_TAB_BAR:"221109_UCC_abar",SIGHT_STORE_S119:"230117_UCC_119ld",SIGHT_STORE_S123:"230321_UCC_123dp",TAXI_ENTRANCE_AB:"230403_UCC_car",POI_MORE_DETAIL_AB:"230420_UCC_more",SIGHT_STORE_S129:"230620_UCC_shop"},ge={RANK_BG:"https://pages.c-ctrip.com/you/ttd/sightDetail/sight_store_rank_icon_v2.png",RANK_BG_YEARLY:"https://pages.c-ctrip.com/you/ttd/sightDetail/sight_store_rankinng_icon_year.png",RANK_BG_4:"https://pages.c-ctrip.com/you/ttd/sightDetail/sight_store_rank_icon_v4.png",S117_MAP_ICON:"https://pages.c-ctrip.com/you/ttd/sightDetail/sight_store_s115/s117_map_icon.png",RANKING_HINT_TEXT:"https://pages.c-ctrip.com/you/ttd/sightDetail/rank_icon.png",RANKING_HINT_TEXT_DARK:"https://pages.c-ctrip.com/you/ttd/sightDetail/rank_hint_text_dark.png",RANKING_FASHION_TEXT:"https://pages.c-ctrip.com/you/ttd/sightDetail/rank_icon_hot.png",RANKING_FASHION:"https://pages.c-ctrip.com/you/ttd/activityDetail/rank-fashion.png",LEVEL4_TAG_GRAY:"https://pages.c-ctrip.com/you/ttd/poiDetail/4A_gray_v2.png",LEVEL4_TAG:"https://pages.c-ctrip.com/you/ttd/poiDetail/4A_v2.png",LEVEL5_TAG_GRAY:"https://pages.c-ctrip.com/you/ttd/poiDetail/5A_gray_v2.png",LEVEL5_TAG:"https://pages.c-ctrip.com/you/ttd/poiDetail/5A_v2.png",TALENT_VIDEO:"https://pages.c-ctrip.com/you/ttd/poiDetail/ugcListPlay.png",QUOTATION__MARK:"https://pages.c-ctrip.com/you/ttd/sightDetail/quotation_mark_icon.png",ASK_ICON:"https://pages.c-ctrip.com/you/ttd/poiDetail/ic_ask.png",ERROR_BG:"https://pages.c-ctrip.com/you/ttd/sightDetail/err_bg.png",LOGO_2013:"http://pic.c-ctrip.com/common/c_logo2013.png",PAGE_BLANK:"https://pages.c-ctrip.com/you/common/im_blank.png",TALENT_ICON:"https://pages.c-ctrip.com/you/ttd/poiDetail/expert-note-icon.png",VENUE_ICON:"https://pages.c-ctrip.com/you/ttd/activityDetail/venue.png",MAP_ICON:"https://pages.c-ctrip.com/you/ttd/activityDetail/map.png",HEAD_VIDEO_PLAY:"https://pages.c-ctrip.com/you/ttd/poiDetail/videoPlay.png",ARROW_NOREMAL:"https://pages.c-ctrip.com/you/ttd/activityDetail/normal@3x.png",DEFAULT_IMAGE:"https://pages.c-ctrip.com/you/ttd/activityDetail/default_750x200.png"},fe={YEAR:"annual",FASHION:"fashion"},_e={COMMODITY:"marketing",COMMENT_NOTE:"commentScene",RELATED_REC:"recommendScene"},be=[{type:_e.COMMODITY,name:"\u63a8\u8350\u5546\u54c1",icon:""}],ye={local:"http://localhost:8080/",fat:"https://m.ctrip.fat325.qa.nt.ctripcorp.com/",uat:"https://m.uat.qa.nt.ctripcorp.com/",prod:"https://m.ctrip.com/"},je=ye[null===(ue=h.GI.getDevEnv())||void 0===ue?void 0:ue.toLocaleLowerCase()],Ne={H5:"04SCWMPC0425GLKROG1141",MINI:"04041XKJGVUMXHGNHQKLIBH"},Ie=n(2269),Te=function(e,t){var n=e.liveTelecastUrl,i=e.coverImage,o=(0,x.useState)(!1),a=(0,f.Z)(o,2),r=a[0],l=a[1],s=(0,x.useState)(!0),c=(0,f.Z)(s,2),d=c[0],u=(c[1],(0,x.useRef)()),m=(0,x.useRef)(!1),v=U.isAlipay?"fill":"cover";function p(e){e.stopPropagation(),u.current||(u.current=(0,M.createVideoContext)("bannerVideo")),l(!0),m.current=!0}function g(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.play)||void 0===t||t.call(e)}function _(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.pause)||void 0===t||t.call(e)}return(0,x.useImperativeHandle)(t,(function(){return{togglePlay:function(e){(!r&&e&&m.current||r&&!e)&&l(e)}}})),(0,x.useEffect)((function(){Y.getNetworkType({success:function(e){"wifi"==(null===e||void 0===e?void 0:e.networkType)&&(u.current=(0,M.createVideoContext)("bannerVideo"),m.current=!0,l(!0))}})}),[]),(0,x.useEffect)((function(){r?g():_()}),[r]),(0,Ie.jsxs)(h.En,{className:me["swiper-item-video"],children:[(0,Ie.jsx)(O.Video,{id:"bannerVideo",className:me["video-item"],src:n,poster:i,objectFit:v,controls:!1,muted:d,loop:!0,"poster-size":"cover",enableProgressGesture:!1,showCenterPlayBtn:!1,showFullscreenBtn:!1,showPlayBtn:!1,showProgress:!1,showMuteBtn:!1}),!r&&(0,Ie.jsxs)(h.En,{className:me["video-cover"],children:[(0,Ie.jsx)(h.Y,{className:me["image-view"],style:{height:U.FULL_SCREEN_HEIGHT},src:i,mode:"aspectFit"}),(0,Ie.jsx)(h.En,{className:me["video-play-icon-view"],onClick:p,children:(0,Ie.jsx)(h.Y,{src:ge.HEAD_VIDEO_PLAY,className:me["video-play-icon"]})})]})]})},we=(0,x.forwardRef)(Te),Se=n(68277),ke=["children","iconClassName","className"],Ee=function(e){var t=e.children,n=e.iconClassName,i=void 0===n?"":n,o=e.className,r=void 0===o?"":o,l=(0,Se.Z)(e,ke);return(0,Ie.jsx)(h.rD,(0,a.Z)((0,a.Z)({fontFamily:"crn_font_xtaro_poi",className:"".concat(i," ").concat(r)},l),{},{children:t}))},Ze=Ee;function Re(e){var t=e.jumpUrl;U.isInKuaiShou()||t&&(t=re(t),U.isMini&&0===t.search(/pages|cwx/i)&&(t="/"+t),h.Px.navigateTo({url:t}))}var Ce={prod:"https://m.ctrip.com",fat:"https://gateway.m.fws.qa.nt.ctripcorp.com",uat:"https://gateway.m.uat.qa.nt.ctripcorp.com",dev:"https://m.ctrip.com"};function De(e){var t;return e=(null===(t=e)||void 0===t?void 0:t.toLowerCase())||e,Ce[e]}function Le(e){var t=e.url,n=void 0===t?"":t,i=e.data,o=void 0===i?{}:i,r=h.GI.getDevEnv(),l=De(r),s=[];return h.x.request([(0,a.Z)({url:"".concat(l,"/restapi/soa2/").concat(n),data:o},U.isApp?{others:{extension:s}}:{head:{extension:s}})]).then((function(e){var t=(0,f.Z)(e,1),i=t[0];return null!==i&&void 0!==i&&i.isSuccess?(console.log(">>>>>>>>>>\u63a5\u53e3",n,">>>>\u4e0b\u53d1\u7684\u6570\u636e>>>>>>>",i.data),i.data):{}}))}var Ae=11;function Pe(e){var t=e.businessId,n=e.poiId,i={BusinessId:t,BusinessType:t,PoiId:n};return Le({url:"13444/json/GetUserIsCommentPoi",data:i}).then((function(e){if(console.log("\u8bf7\u6c42 \u662f\u5426\u53ef\u4ee5\u5199\u70b9\u8bc4===",e),e&&e.ResponseStatus&&"Success"===e.ResponseStatus.Ack)return e.ResponseResult;throw"GetUserIsCommentPoi\u63a5\u53e3\u51fa\u9519"}))}function He(e){var t=e.businessId,n=e.poiId;h.Y8.user.getToken((function(e){e&&h.ZP.navigateToMiniProgram({appId:"wxd8c133444ecfdec8",path:"/pages/comment/add?BusinessId=".concat(t,"&BusinessType=").concat(Ae,"&PoiId=").concat(n,"&token=").concat(e,"&type=poi"),envVersion:"trial"})}))}function Fe(e){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,r.Z)((0,o.Z)().mark((function e(t){var n,i;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!U.isAlipay){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Pe(t);case 5:n=e.sent,console.log("\u8bf7\u6c42 \u5199\u70b9\u8bc4====\u901a\u8fc7",n),i=h.Y8.user.isLogin(),i?He(t):h.Y8.user.login({callback:function(e){console.log("\u8bf7\u6c42 \u767b\u5f55\u540e",e),"0"==(null===e||void 0===e?void 0:e.ReturnCode)&&He(t)}}),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])}))),Ue.apply(this,arguments)}function Me(e){e&&h.ZP.makePhoneCall({phoneNumber:e})}function Oe(e){var t=e.baseData,n=t.businessId,i=t.districtId,o=t.poiType,a=W(o),r=a.myBusType,l="https://m.ctrip.com/webapp/you/comment/".concat(i,"/").concat(n,"-").concat(r,".html?fromWechatApp=1&isHideNavBar=YES"),s=le({jumpUrl:l});Re({jumpUrl:s})}function Be(e){var t=e.baseData||{},n=t.ggCoordinate,i=t.poiName,o=t.address;null!==n&&void 0!==n&&n.latitude&&n.longitude&&h.ZP.openLocation({latitude:n.latitude,longitude:n.longitude,scale:13,name:i,address:o})}var Ve=function(e){return e["OPEN_TIME"]="openTime",e}({});function Xe(e){var t=e.poiId,n=e.href,i="https://m.ctrip.com/webapp/you/gspoi/poiMoreDetail/".concat(t,".html?seo=0&isMiniApp=yes&ishidenavbar=yes");i=ae(i,(0,a.Z)({},n?{hash:n}:{})),i=le({jumpUrl:i}),Re({jumpUrl:i})}function Ge(e){var t=e.urlParams,n=e.poiId;Xe({urlParams:t,poiId:n,href:Ve.OPEN_TIME})}function Ye(e){var t=e.rankingInfo,n=void 0===t?{}:t,i=n.rankingId,o=n.moreUrl,a=void 0===o?"":o;i&&Re({jumpUrl:a})}function We(e){var t=e||{},n=t.baseData,i=t.hideReserve,o=t.isFromServer,r=t.jumpUrl,l=void 0===r?"":r;if(o)Re({jumpUrl:l});else{var s=n||{},c=s.poiId,d=s.imageInfo,u=void 0===d?{}:d,m=u.videoId,x=void 0===m?0:m,h="https://m.ctrip.com/webapp/you/gspoi/photos/".concat(c,".html?seo=0");h=ae(h,(0,a.Z)((0,a.Z)({ishidenavbar:"yes"},x&&{videoId:x}),i&&{hideReserve:"yes"}));var v={url:encodeURIComponent(h),needLogin:!1,isNavigate:!1,observerKey:"photos"},p="/cwx/component/cwebview/cwebview?data=".concat(JSON.stringify(v));Re({jumpUrl:p})}}function ze(e){var t=e.jumpUrl;Re({jumpUrl:t})}function qe(e){var t=e.jumpUrl;Re({jumpUrl:t})}function Ke(e){var t=e.jumpUrl;Re({jumpUrl:t})}function Je(e){var t=e.jumpUrl;Re({jumpUrl:t})}function Qe(e){var t=e.jumpUrl;Re({jumpUrl:t})}function $e(e){var t=e.jumpUrl;Re({jumpUrl:t})}function et(e){var t=e.jumpUrl;Re({jumpUrl:t})}function tt(e){var t=e.jumpUrl;Re({jumpUrl:t})}function nt(e){var t=e.jumpUrl;Re({jumpUrl:t})}function it(e){var t=e.jumpUrl;Re({jumpUrl:t})}var ot=function(e){var t=e.extendData,n=void 0===t?{}:t,i=e.gotoPhotoList,o=n.talentNote,a=void 0===o?{}:o,r=a.desc,l=void 0===r?"":r,s=a.moreUrl,c=void 0===s?"":s;return(0,Ie.jsxs)(h.En,{className:me["sub-box"],children:[(0,Ie.jsxs)(h.En,{className:me["sub-item-view"],onClick:i,children:[(0,Ie.jsx)(h.X_,{className:me["sub-item-text"],children:"\u76f8\u518c"}),(0,Ie.jsx)(Ze,{className:me["sub-item-arrow-icon"],children:"\ue944"})]}),!!l&&(0,Ie.jsxs)(h.En,{className:me["sub-item-view"],onClick:function(){ze({jumpUrl:c})},children:[(0,Ie.jsx)(h.Y,{src:ge.TALENT_ICON,className:me["sub-item-image"]}),(0,Ie.jsx)(Ze,{className:me["sub-item-arrow-icon"],children:"\ue944"})]})]})},at=ot,rt=function(e,t){var n=e.baseData,i=void 0===n?{}:n,o=i.imageInfo,a=void 0===o?{}:o,r=i.poiId,l=e.extendData,s=e.urlParams,c=e.hasCommodity,d=e.updateMuteVisible,u=function(){We({jumpUrl:(null===a||void 0===a?void 0:a.jumpUrl)||"",baseData:e.baseData,hideReserve:(null===s||void 0===s?void 0:s.hideTicket)||0==c})},m=(null===a||void 0===a?void 0:a.poiPhotoImageList)||[],v=(null===a||void 0===a?void 0:a.liveTelecastUrl)||"",p=Y.formatImage((null===m||void 0===m?void 0:m[0])||"","_W_750_0"),g=m.length+(v?1:0),f=(0,x.useRef)(null),_=(0,x.useRef)(!1),b=(0,x.useRef)(0);function y(e){b.current=e.detail.current,0==e.detail.current&&N(!0),f.current&&(null===d||void 0===d||d({swiperIndex:b.current}))}function j(e){var t=e.detail.current;b.current=t,0!=t&&N(!1),t==g-1?_.current?null===u||void 0===u||u():_.current=!0:_.current=!1}function N(e){var t;0!==b.current&&e||null===(t=f.current)||void 0===t||t.togglePlay(e)}function I(){U.isMini&&141207034==r?setTimeout(u,1e3):u()}return(0,x.useImperativeHandle)(t,(function(){var e;return{toggleVideoPlay:N,toggleMute:null===(e=f.current)||void 0===e?void 0:e.toggleMute,getSwiperIndex:function(){return b.current}}})),null!==m&&void 0!==m&&m.length?(0,Ie.jsxs)(h.En,{className:me["header-swiper-box"],children:[(0,Ie.jsx)(h.En,{onClick:I,children:(0,Ie.jsxs)(h.tq,{className:me["swiper-box"],style:{height:U.CAROUSEL_HEIGHT},onChange:y,onAnimationFinish:j,children:[!!v&&(0,Ie.jsx)(h.t3,{children:(0,Ie.jsx)(we,{liveTelecastUrl:v,coverImage:p,ref:f})}),m.map((function(e){return(0,Ie.jsx)(h.t3,{children:(0,Ie.jsx)(h.En,{className:me["image-view-box"],children:(0,Ie.jsx)(h.Y,{src:Y.formatImage(e,"_W_750_0"),className:me["image-view"],style:{height:U.FULL_SCREEN_HEIGHT},mode:"aspectFit"})})},e)}))]})}),(0,Ie.jsx)(at,{extendData:l,gotoPhotoList:I})]}):(0,Ie.jsx)(h.En,{className:me["swiper-box"]})},lt=(0,x.forwardRef)(rt),st={box:"index-module_y9SIY","tab-bar-view":"index-module_HWOqW","tab-bar-view-one":"index-module_ZUiTd","item-view":"index-module_suQ7t","item-view-empty":"index-module_ZF1_q","item-one-image":"index-module_thtEb",name:"index-module_Tq9AM","name-selected":"index-module_WgZM_","item-selected-line":"index-module_fsqBF"},ct=function(e){console.log("loaded======??/\uff1f\u3001\u3001");var t=e.style,n=void 0===t?{}:t;return(0,Ie.jsx)(h.En,{className:st["tab-bar-view"],style:(0,a.Z)({height:pt,padding:"0 ".concat(_(24),"px")},n),children:Array.from({length:3}).map((function(e,t){return(0,Ie.jsx)(h.En,{className:st["item-view-empty"]},t)}))})},dt=ct,ut=function(e){var t=e.name,n=e.selected,i=e.onClick,o=e.onTouchStart;return(0,Ie.jsxs)(h.En,{className:st["item-view"],onClick:i,onTouchStart:o,children:[(0,Ie.jsx)(h.X_,{className:"".concat(st.name," ").concat(n&&st["name-selected"]),children:t}),n&&(0,Ie.jsx)(h.cn,{start:{x:0,y:0},end:{x:1,y:0},colors:["#71A8F6","#0066F6"],className:st["item-selected-line"]})]})},mt=ut,xt=(0,m.Z)((0,m.Z)((0,m.Z)({},_e.COMMODITY,"https://pages.c-ctrip.com/you/ttd/sightDetail/sight_store_s115/tab_only_ticket.png"),_e.COMMENT_NOTE,"https://pages.c-ctrip.com/you/ttd/sightDetail/sight_store_s115/tab_only_note.png"),_e.RELATED_REC,"https://pages.c-ctrip.com/you/ttd/sightDetail/sight_store_s115/tab_only_rec.png"),ht=function(e,t){var n,i=e.initIndex,o=e.onUpdateTabIndex,r=e.onLoad,l=e.onTabTouchStart,s=(0,x.useState)(be),c=(0,f.Z)(s,2),d=c[0],u=c[1],m=(0,x.useState)(!1),v=(0,f.Z)(m,2),p=v[0],g=v[1],b=(0,x.useState)(i),y=(0,f.Z)(b,2),j=y[0],N=y[1];function I(e){g(e)}function T(e){null===u||void 0===u||u(e)}return(0,x.useImperativeHandle)(t,(function(){return{updateLoaded:I,updateTabList:T,updateTabIndex:N}})),(0,x.useEffect)((function(){var e=pt;p?1==d.length&&(e=_(44),null===r||void 0===r||r({height:e})):null===r||void 0===r||r({height:e})}),[d.length,p]),p?1==d.length?(0,Ie.jsx)(h.En,{className:"".concat(st["tab-bar-view"]," ").concat(st["tab-bar-view-one"]),children:(0,Ie.jsx)(h.Y,{src:xt[(null===(n=d[0])||void 0===n?void 0:n.type)||""],style:{},className:st["item-one-image"]})}):d.length>1?(0,Ie.jsx)(h.En,{className:st["tab-bar-view"],style:{height:pt},children:d.map((function(e,t){return(0,Ie.jsx)(mt,(0,a.Z)((0,a.Z)({},e),{},{selected:t===j,onClick:function(){return null===o||void 0===o?void 0:o(t)},onTouchStart:function(){return null===l||void 0===l?void 0:l(t)}}),e.type)}))}):null:(0,Ie.jsx)(dt,{})},vt=(0,x.forwardRef)(ht),pt=59,gt=function(e,t){var n=e.initIndex,i=e.onUpdateTabIndex,o=e.onTabTouchStart,a=e.onLoad,r=e.urlParams,l=(0,x.useRef)(null),s=(0,x.useRef)(),c=(0,x.useRef)(!0);function d(e){s.current&&(c.current&&!e?(console.log("=======\u662f\u5426\u5438\u9876================",e),s.current.style.borderRadius="".concat(_(12),"PX ").concat(_(12),"PX 0 0"),c.current=e):!c.current&&e&&(console.log("=======\u662f\u5426\u5438\u9876===1111",e),s.current.style.borderRadius="0",c.current=e))}return(0,x.useImperativeHandle)(t,(function(){var e,t,n;return{updateFixed:d,updateLoaded:null===(e=l.current)||void 0===e?void 0:e.updateLoaded,updateTabList:null===(t=l.current)||void 0===t?void 0:t.updateTabList,updateTabIndex:null===(n=l.current)||void 0===n?void 0:n.updateTabIndex}})),(0,Ie.jsx)(h.G7,{className:st.box,style:{top:U.getNavigationBarHeight(null===r||void 0===r?void 0:r.hideNavBar)},ref:s,children:(0,Ie.jsx)(vt,{ref:l,initIndex:n,onUpdateTabIndex:i,onLoad:a,onTabTouchStart:o})})},ft=(0,x.forwardRef)(gt),_t=n(22276),bt={container:"index-module_KHTXA","title-view":"index-module_FbOkV","title-text":"index-module_dRi4i","ugc-falls-box":"index-module_RSgD0","ugc-falls-list":"index-module_BYYQc","ugc-falls-list-top-shadow":"index-module_dWthF","ugc-falls-list-bottom-shadow":"index-module_Jsw04","look-more":"index-module_udkDE","look-more-btn":"index-module_VDOvu","look-more-text":"index-module_BRrl7","look-more-icon":"index-module_viNBo","no-more-view":"index-module_pE_NQ","no-more":"index-module_Dhf5l","bottom-more-box":"index-module_UwJnS","look-more-shadow":"index-module_Yn5pk","ugc-item":"index-module_jyxih","ugc-cover-box":"index-module_h_sTP","ugc-main":"index-module_RrUsR","ugc-content":"index-module_Sn_BG","ugc-bottom":"index-module_HD66q","ugc-author":"index-module_Wep4u","ugc-author-position":"index-module_ntjBV","ugc-author-img":"index-module_bd9Wa","ugc-author-v":"index-module_utb0O","ugc-author-info":"index-module_NWdJ4","ugc-author-name-box":"index-module_w_ckW","ugc-author-name":"index-module_pTySo","ugc-author-tag":"index-module_txodD","ugc-author-user-tag":"index-module_qs3vo","ugc-author-user-tag-text":"index-module_ow2AY","ugc-text-item":"index-module_uD1kO","ugc-text-content":"index-module_pd3_P","ugc-text-content-text":"index-module_HeYog","video-icon":"index-module_Rkf5R","read-count":"index-module_hOFDH","read-count-icon":"index-module_s00SK","read-count-text":"index-module_YWTBy","ask-item":"index-module_mQDyu","tag-view":"index-module_UpIlD","tag-text":"index-module_eC51p","ask-title-text":"index-module_GLnpI","ask-content":"index-module_fYX4R","ask-content-text":"index-module_thwg4","ask-icon":"index-module_fdvky","ask-icon-left":"index-module_HcPyk","ask-icon-right":"index-module_BWYop"},yt={transparent:"transparent",black:"#000000",black1:"#111111",white:"#FFFFFF",black2:"#222222",black3:"#333333",black5:"#555555",gray:"#666666",gray9:"#999999",gray8:"#888888",grayB:"#BBBBBB",blue:"#0086F6",blue2:"#0066F6",red:"#f5190a",orange:"#FF6912",grayE:"#EEEEEE",backgroundColor:"#EEF1F6",backgroundColorFA:"#FAFAFA",skeletonBoxColor:"#F6F8FA",colorRGBA:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!(e&&e.length>0))return console.error("colorRGBA \u4e2d sHex \u5fc5\u987b\u662f\u5b57\u7b26\u4e32"),"transparent";var n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,i=e.toLowerCase();if(i&&n.test(i)){if(4===i.length){for(var o="#",a=1;a<4;a+=1)o+=i.slice(a,a+1).concat(i.slice(a,a+1));i=o}for(var r=[],l=1;l<7;l+=2)r.push(parseInt("0x".concat(i.slice(l,l+2))));return"rgba(".concat(r.join(","),",").concat(t,")")}return console.log("\u989c\u8272\u8f6c\u6362\u5931\u8d25"),i}};function jt(e){var t;if(!Array.isArray(e)||null===(t=e)||void 0===t||!t.length)return{};var n=24,i=10,o=(U.SCREENWIDTH-n-i)/2,r=10,l=60,s=40,c=20,d=8,u=8,m=16,x=10,h=0,v=0,p=[],g=[];e=e.map((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{index:t})}));var f=e.map((function(e){return 2==(null===e||void 0===e?void 0:e.type)?"QAC_"+e.id:"LvPai_"+e.noteId}));return e.forEach((function(e,t){if(!(t>4)){var n,i,a=(null===e||void 0===e?void 0:e.imageInfo)||{},f=a.width,_=void 0===f?0:f,b=a.height,y=void 0===b?0:b;a.imageUrl?(i=Math.floor(o*y/_),i>240&&(i=240),a.imageHeight=i):i=0,e.coverImageInfo=a;var j=e.title&&z(e.title)<=22?c:s,N=r+j+d,I=38;if(2==e.type){var T=2*r+j+d,w=z(e.content)<=22?c:z(e.content)<=44?s:l;e.itemHeight=n=T+w+x+m}else e.itemHeight=n=i+N+I;if(h<=v){h+=n+u;var S=parseInt(h+"");e.offsetHeight=S,p.push(e)}else{v+=n+u;var k=parseInt(v+"");e.offsetHeight=k,g.push(e)}}})),{leftList:p,rightList:g,leftHeight:h,rightHeight:v,ids:f}}var Nt=function(e){var t=e.data,n=e.ITEM_WIDTH,i=e.gotoDetail,o=t||{},a=o.title,r=o.content;return(0,Ie.jsx)(h.En,{activeOpacity:1,className:bt["ugc-item"],style:{width:n},onClick:function(){return null===i||void 0===i?void 0:i()},children:(0,Ie.jsxs)(h.En,{className:bt["ask-item"],children:[(0,Ie.jsx)(h.En,{className:bt["tag-view"],children:(0,Ie.jsx)(h.X_,{className:bt["tag-text"],children:"\u95ee\u7b54"})}),(0,Ie.jsx)(h.En,{children:(0,Ie.jsx)(h.X_,{className:bt["ask-title-text"],numberOfLines:2,children:a})}),(0,Ie.jsxs)(h.En,{className:bt["ask-content"],children:[(0,Ie.jsx)(h.Y,{className:"".concat(bt["ask-icon"]," ").concat(bt["ask-icon-left"]),src:ge.QUOTATION__MARK}),(0,Ie.jsx)(h.X_,{className:bt["ask-content-text"],numberOfLines:3,children:r}),(0,Ie.jsx)(h.Y,{className:"".concat(bt["ask-icon"]," ").concat(bt["ask-icon-right"]),src:ge.QUOTATION__MARK})]})]})})},It=Nt,Tt=function(e){var t,n;return"style"in e&&(n=e.style),(0,Ie.jsx)(h.X_,(0,a.Z)((0,a.Z)({},e),{},{style:(0,a.Z)((0,a.Z)((0,a.Z)({},e.vertical&&!U.isApp?{WebkitBoxOrient:"vertical"}:{}),n||{}),null!==(t=n)&&void 0!==t&&t.lineHeight?{lineHeight:U.isApp?n.lineHeight:n.lineHeight+"PX"}:{})}))},wt=Tt,St=function(e){var t=e.data||{},n=t.author,i=t.readCount;return(0,Ie.jsx)(h.En,{className:bt["ugc-bottom"],children:(0,Ie.jsxs)(h.En,{className:bt["ugc-author"],children:[(0,Ie.jsxs)(h.En,{className:bt["ugc-author-position"],children:[(0,Ie.jsx)(h.Y,{className:bt["ugc-author-img"],src:(null===n||void 0===n?void 0:n.avatar)||""}),!(null===n||void 0===n||!n.vIcon)&&(0,Ie.jsx)(h.Y,{className:bt["ugc-author-v"],src:n.vIcon})]}),(0,Ie.jsxs)(h.En,{className:bt["ugc-author-info"],children:[(0,Ie.jsx)(h.En,{className:bt["ugc-author-name-box"],children:(0,Ie.jsx)(wt,{className:bt["ugc-author-name"],vertical:!0,children:null===n||void 0===n?void 0:n.nickName})}),!(null===n||void 0===n||!n.identityName)&&(0,Ie.jsx)(h.En,{className:"".concat(bt["ugc-author-tag"]," ").concat(bt["ugc-author-user-tag"]),children:(0,Ie.jsx)(wt,{className:bt["ugc-author-user-tag-text"],children:n.identityName})})]}),!!i&&(0,Ie.jsxs)(h.En,{className:bt["read-count"],children:[(0,Ie.jsx)(Ze,{className:bt["read-count-icon"],children:"\uf407"}),(0,Ie.jsx)(wt,{className:bt["read-count-text"],children:i})]})]})})},kt=St,Et=function(e){var t=e.data,n=e.ITEM_WIDTH,i=e.gotoDetail,o=t||{},r=o.title,l=o.coverImageInfo,s=o.hasVideo,c=l?(0,a.Z)({},l):{},d=c.imageUrl,u=(0,h.SY)({imageUrl:c.imageUrl,height:2*(c.imageHeight||0),width:2*n,ext:{pageId:"214070"}}),m=(0,x.useRef)();return(0,Ie.jsxs)(h.En,{activeOpacity:1,style:{width:n},className:bt["ugc-item"],onClick:function(){return null===i||void 0===i?void 0:i()},children:[(0,Ie.jsxs)(h.En,{className:bt["ugc-cover-box"],children:[!!s&&(0,Ie.jsx)(h.Y,{className:bt["video-icon"],src:ge.TALENT_VIDEO}),(0,Ie.jsx)(h.Y,{ref:m,style:{width:n,height:c.imageHeight,maxHeight:600},mode:"aspectFill",src:u.dynamicUrl||d})]}),(0,Ie.jsxs)(h.En,{className:bt["ugc-main"],children:[(0,Ie.jsx)(wt,{className:bt["ugc-content"],vertical:!0,numberOfLines:2,children:Q($(r))}),(0,Ie.jsx)(kt,{data:t})]})]})},Zt=Et,Rt=function(e){var t=e.data,n=e.toDetail,i=t||{},o=i.type,r=i.detailUrl,l=_(24),s=_(10),c=(U.SCREENWIDTH-l-s)/2,d={data:t,ITEM_WIDTH:c,gotoDetail:u};function u(){null===n||void 0===n||n(r)}return 2==o?(0,Ie.jsx)(It,(0,a.Z)({},d)):(0,Ie.jsx)(Zt,(0,a.Z)({},d))},Ct=Rt,Dt=yt.colorRGBA,Lt=yt.white,At=function(e){var t=e.initHasMore,n=e.minHeight,i=void 0===n?0:n,o=e.noteCount,a=void 0===o?0:o,r=e.expandAll,l=e.goToMore,s=(0,x.useState)(t),c=(0,f.Z)(s,2),d=c[0],u=c[1];if(!d)return null;function m(){a>=5?null===l||void 0===l||l():(null===r||void 0===r||r(),u(!1))}return(0,Ie.jsxs)(h.En,{className:bt["bottom-more-box"],style:{backgroundColor:yt.white},children:[!!i&&(0,Ie.jsx)(h.cn,{start:{x:0,y:0},end:{x:0,y:1},colors:[Dt("#eef1f6",0),Dt(Lt,1),Lt],locations:[0,.4,1],className:bt["look-more-shadow"]}),(0,Ie.jsx)(h.En,{className:bt["look-more"],children:(0,Ie.jsxs)(h.En,{className:bt["look-more-btn"],activeOpacity:1,onClick:m,children:[(0,Ie.jsx)(h.X_,{className:bt["look-more-text"],children:"\u67e5\u770b\u66f4\u591a"}),(0,Ie.jsx)(Ze,{className:bt["look-more-icon"],children:"\ue944"})]})})]})},Pt=At,Ht=function(e){var t=e.moduleName,n=e.moduleData,i=e.onLoad,o=n||{},a=o.talentNoteList,r=void 0===a?[]:a,l=o.moreUrl,s=void 0===l?"":l,c=(o.traceId,(0,x.useState)()),d=(0,f.Z)(c,2),u=d[0],m=d[1],v=(0,x.useState)(),p=(0,f.Z)(v,2),g=p[0],_=p[1],b=(0,x.useState)(0),y=(0,f.Z)(b,2),j=(y[0],y[1]),N=(0,x.useState)(0),I=(0,f.Z)(N,2),T=I[0],w=I[1],S=(0,x.useState)(0),k=(0,f.Z)(S,2),E=k[0],Z=k[1],R=(0,x.useState)(0),C=(0,f.Z)(R,2),D=C[0],L=C[1],A=(null===r||void 0===r?void 0:r.length)>2;function P(){Z(D)}function H(e){it({jumpUrl:e})}function F(){ze({jumpUrl:s})}(0,x.useEffect)((function(){var e=jt(null===n||void 0===n?void 0:n.talentNoteList),t=e.leftList,o=void 0===t?[]:t,a=e.rightList,l=void 0===a?[]:a,s=e.leftHeight,c=void 0===s?0:s,d=e.rightHeight,u=void 0===d?0:d;if((null===r||void 0===r?void 0:r.length)>2){var x=Math.min(c,u),h=Math.max(c,u);w(x),Z(x),L(h),j(x)}console.log("======= talentNote",o,l),m(o),_(l),null===i||void 0===i||i()}),[]);var U=function(e){var t=e.list;return(0,Ie.jsx)(h.En,{children:t.map((function(e){e.noteId,e.index;return(0,Ie.jsx)(Ct,{data:e,toDetail:H},e.noteId)}))})};return(0,Ie.jsxs)(h.En,{className:bt.container,children:[(0,Ie.jsx)(h.En,{className:bt["title-view"],children:(0,Ie.jsx)(h.X_,{className:bt["title-text"],children:t||"\u8fbe\u4eba\u7b14\u8bb0"})}),(0,Ie.jsxs)(h.En,{className:bt["ugc-falls-box"],children:[(0,Ie.jsxs)(h.En,{className:bt["ugc-falls-list"],style:D?{maxHeight:E}:{},children:[(0,Ie.jsx)(h.cn,{locations:[0,1],colors:[yt.white,yt.backgroundColor],className:bt["ugc-falls-list-top-shadow"]}),!T&&(0,Ie.jsx)(h.cn,{locations:[0,1],colors:[yt.backgroundColor,yt.colorRGBA(yt.white,.5)],className:bt["ugc-falls-list-bottom-shadow"]}),!!u&&U({list:u}),!!g&&U({list:g})]}),(0,Ie.jsx)(Pt,{initHasMore:A,minHeight:T,noteCount:null===r||void 0===r?void 0:r.length,expandAll:P,goToMore:F})]})]})},Ft=Ht,Ut="10108/json/IsMyFavorites",Mt="10108/json/MyFavoritesDelete",Ot="10108/json/MyFavoritesAdd",Bt=function(){function e(t){(0,l.Z)(this,e),(0,m.Z)(this,"favoriteID",void 0),(0,m.Z)(this,"poiId",void 0),(0,m.Z)(this,"H5Url",void 0),(0,m.Z)(this,"AppUrl",void 0),(0,m.Z)(this,"poiName",void 0),(0,m.Z)(this,"poiSubtitleName",void 0),(0,m.Z)(this,"originalImageUrl",void 0),(0,m.Z)(this,"needUpdateisLogin",void 0),(0,m.Z)(this,"addText",void 0),(0,m.Z)(this,"cancelText",void 0),(0,m.Z)(this,"isLogin",void 0);var n=t.favoriteID,i=void 0===n?0:n,o=t.poiId,a=t.H5Url,r=void 0===a?"":a,s=t.AppUrl,c=void 0===s?"":s,d=t.originalImageUrl,u=void 0===d?"":d,x=t.poiName,v=void 0===x?"":x,p=t.poiSubtitleName,g=void 0===p?"":p,f=t.addText,_=void 0===f?"":f,b=t.cancelText,y=void 0===b?"":b;this.favoriteID=i,this.poiId=o,this.H5Url=r,this.AppUrl=c,this.poiName=v,this.poiSubtitleName=g,this.originalImageUrl=u,this.needUpdateisLogin=!1,this.addText=_||"\u6536\u85cf\u6210\u529f",this.cancelText=y||"\u53d6\u6d88\u6536\u85cf\u6210\u529f",this.isLogin=h.g.isLogin()}return(0,s.Z)(e,[{key:"_isFavorite",value:function(){var e=this;return new Promise((function(t){e.isLogin?Le({url:Ut,data:{QueryList:{BizType:"DEST",ProductType:"DEST_SPOTPOI",ProductID:e.poiId,ExtendList:[{Name:"UrlForH5",Value:e.H5Url},{Name:"UrlForApp",Value:e.AppUrl}]}}}).then((function(n){if(n&&!n.ResultCode){var i,o=(null===(i=n.ResultList[0])||void 0===i?void 0:i.FavoriteID)||0;e.favoriteID=o,t(o)}else t(0)})).catch((function(){t(0)})):t(0)}))}},{key:"_handleFavorite",value:function(){var e=this;return new Promise((function(t,n){e.isLogin?(e.needUpdateisLogin=!1,e.favoriteID?Le({url:Mt,data:{FavoriteIdList:[e.favoriteID]}}).then((function(n){n&&0==n.ResultCode?(e.showToast(e.cancelText),e.favoriteID=0,t(0)):e.showToast("\u53d6\u6d88\u6536\u85cf\u5931\u8d25")}),(function(){e.showToast("\u53d6\u6d88\u6536\u85cf\u5931\u8d25")})):Le({url:Ot,data:{FavoriteList:[{BizType:"DEST",ProductType:"DEST_SPOTPOI",ProductID:e.poiId,ExtendList:[{Name:"Title",Value:e.poiName},{Name:"SubTitle",Value:e.poiSubtitleName},{Name:"ImageUrl",Value:e.originalImageUrl||""},{Name:"UrlForH5",Value:e.H5Url},{Name:"UrlForApp",Value:e.AppUrl},{Name:"ProductTag",Value:"\u666f\u70b9"}]}]}}).then((function(n){n&&0==n.ResultCode?(e.favoriteID=n.FavoriteIdList.join(","),t(e.favoriteID),e.showToast(e.addText)):e.showToast("\u6536\u85cf\u5931\u8d25")}),(function(){e.showToast("\u6536\u85cf\u5931\u8d25")}))):h.g.login({callback:function(){h.g.isLogin()&&(e.isLogin=!0,e.needUpdateisLogin=!0,e.checkIsFavorite().then((function(e){t(e)})))}})}))}},{key:"showToast",value:function(e,t){h.ZP.showToast({title:e,icon:"none",duration:t||1e3,mask:!0})}},{key:"updateIsLogin",value:function(){var e=(0,r.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isLogin=t;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkIsFavorite",value:function(){var e=(0,r.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._isFavorite();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleFavorite",value:function(){var e=(0,r.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._handleFavorite();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Vt=function(e){var t;return"style"in e&&(t=e.style),(0,Ie.jsx)(h.En,(0,a.Z)((0,a.Z)({},e),{},{style:(0,a.Z)({display:"flex",position:"relative",boxSizing:"border-box"},t||{})}))},Xt=Vt,Gt={popContentContainer:"index-module_fBreE",popContentText:"index-module_NFwvQ",popCaretBorder:"index-module_k9ceh"},Yt=_(156);function Wt(e){var t=e.contentStyle,n=void 0===t?{}:t,i=(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({position:"absolute"},n),n.top>0&&{top:n.top-_(10)}),n.left>0&&{left:n.left+_(8)}),n.right>0&&{right:n.right+_(8)});return(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(Xt,{className:Gt.popContentContainer,style:(0,a.Z)((0,a.Z)({position:"absolute"},n),{},{width:Yt}),children:(0,Ie.jsx)(Xt,{children:(0,Ie.jsx)(h.X_,{className:Gt.popContentText,children:"\u6839\u636e\u7528\u6237\u8bbf\u95ee\u91cf\u548c\u70b9\u8bc4\u91cf\u7efc\u5408\u8ba1\u7b97\u540e\u5f97\u51fa"})})}),(0,Ie.jsx)(Xt,{className:Gt.popCaretBorder,style:i})]})}var zt=["sightId","poiId","districtId"];function qt(e){var t,n=e.districtId,i=e.poiId,o=e.businessId,a=e.scene,r="https://m.ctrip.com/webapp/you/gspoi/sight/".concat(n,"/").concat(o,".html?seo=0&poiId=").concat(i,"&scene=").concat(a),l="ctrip://wireless/h5?type=5&url="+(null===h.Y8||void 0===h.Y8||null===(t=h.Y8.util)||void 0===t?void 0:t.base64Encode("/rn_destination_poi/main.js?CRNModuleName=rn_destination_poi&CRNType=1&initialPage=sightDetail&businessId=".concat(o,"&districtId=").concat(n,"&scene=").concat(a,"&poiId=").concat(i)));return{H5Url:r,AppUrl:l}}function Kt(e){var t=e.poiId,n=e.AppUrl,i=e.H5Url,o=e.poiName,a=e.poiSubtitleName;return new Bt({poiId:t,AppUrl:n,H5Url:i,poiName:o,poiSubtitleName:a})}function Jt(e){var t=e.baseData,n=e.unionData,i=e.shareImageInfo,o=t||{},a=o.poiId,r=o.poiName,l=o.imageInfo,s=void 0===l?{}:l,c=r,d="/pages/gs/sight/newDetail?poiId=".concat(a),u="",m=n||{},x=m.allianceid,h=m.sid;if(x&&h&&(d+="&allianceid="+x+"&sid="+h),s){var v,p=(null===s||void 0===s||null===(v=s.poiPhotoImageList)||void 0===v?void 0:v[0])||"";u=Y.formatImage(p,"_D_500_500")}return console.log("path",d),{title:c,path:d,imageUrl:(null===i||void 0===i?void 0:i.imageUrl)||u}}function Qt(e){var t=e.poiId,n=e.businessId,i=e.fromCategoryId,o=e.scene,a=e.noJumpApp,r=e.disableRedirectMiniApp;if(U.isInMini()&&!r){var l="/pages/gs/sight/newDetail?";t?l+="poiId=".concat(t):n&&(l+="sightId=".concat(n)),o&&(l+="&scene=".concat(o)),h.Px.redirectTo({url:l,isUseHybridgeMini:!0})}if(U.isInApp()&&!a){var s,c="/rn_destination_poi/main.js?CRNModuleName=rn_destination_poi&CRNType=1&hidedefaultloading=yes&disableAnimation=YES&closeCurrentPage=YES&initialPage=sightDetail";t&&(c+="&poiId=".concat(t)),n&&(c+="&businessId=".concat(n)),o&&(c+="&scene=".concat(o)),i&&(c+="&rankingId=".concat(i));var d="ctrip://wireless/h5?type=5&url="+(null===h.Y8||void 0===h.Y8||null===(s=h.Y8.util)||void 0===s?void 0:s.base64Encode(c));h.Px.redirectTo({url:d,isUseHybridgeApp:!0})}}function $t(e){var t=e.sightId,n=e.poiId,i=e.districtId,o=void 0===i?0:i,r=(0,Se.Z)(e,zt),l="".concat(je,"webapp/you/gspoi/sight/0/0.html");t&&(l="".concat(je,"webapp/you/gspoi/sight/").concat(o,"/").concat(t,".html")),l=ae(l,(0,a.Z)((0,a.Z)((0,a.Z)({seo:0},n&&{poiId:n}),r),{},{disableRedirectMiniApp:"yes"}));var s={url:encodeURIComponent(l)},c="/cwx/component/cwebview/cwebview?data=".concat(JSON.stringify(s));h.Px.redirectTo({url:c})}function en(){var e="weapp",t=214070;switch(e){case"h5":t=214070;break;case"weapp":t=10650014615;break;case"tt":t=10650068984;break;case"alipay":t=10650068986;break;case"swan":t=10650068982;break;case"quickapp":t=10650068988;break}return t}function tn(){var e="basic",t="weapp";switch(t){case"weapp":e="basic_wechat";break;case"tt":e="basic_tt";break;case"alipay":e="basic_alipay";break;case"swan":e="basic_swan";break;case"quickapp":e="basic_quickapp";break}return e}function nn(e){e.width;var t=e.height,n=e.top,i=e.left,o=e.right,r={top:n+t+_(10)};return i+Yt>U.WIDTH?(0,a.Z)((0,a.Z)({},r),{},{right:U.WIDTH-o}):(0,a.Z)((0,a.Z)({},r),{},{left:i})}var on={};function an(e,t){on[e]=t}function rn(e){return on[e]}function ln(){on={}}function sn(e){var t=e.data,n=void 0===t?{}:t,i=new h.Zu({constructorTime:rn("sightPackageConstructorTime"),apiName:he.overview,logFunc:h.hS.logDevTrace,pageId:String(en())});return Le({url:xe.getSightOverview,data:n}).then((function(e){if(0==(null===e||void 0===e?void 0:e.result))return e.isPublished?i.successRes():i.errorRes(),e;throw i.error1Res(),"\u63a5\u53e3\u5f02\u5e38"})).catch((function(e){i.errorOtherRes(e)}))}function cn(e){var t=e.data,n=void 0===t?{}:t,i=new h.Zu({constructorTime:rn("sightPackageConstructorTime"),apiName:he.sightExtend,logFunc:h.hS.logDevTrace,pageId:String(en())});return Le({url:xe.getSightExtendInfo,data:n}).then((function(e){if(0==(null===e||void 0===e?void 0:e.result))return e.trackingInfo?i.successRes():i.errorRes(),e;throw i.error1Res(),"\u63a5\u53e3\u5f02\u5e38"})).catch((function(e){i.errorOtherRes(e)}))}function dn(e){var t=e.data,n=void 0===t?{}:t;return Le({url:xe.getShareImage,data:n}).then((function(e){if(0==(null===e||void 0===e?void 0:e.result))return e;throw"\u63a5\u53e3\u5f02\u5e38"}))}function un(e){var t=e.data,n=void 0===t?{}:t,i=new h.Zu({constructorTime:rn("sightPackageConstructorTime"),apiName:he.moduleList,logFunc:h.hS.logDevTrace,pageId:String(en())});return Le({url:xe.getSightTemplateList,data:n}).then((function(e){var t;if(0==(null===e||void 0===e?void 0:e.result))return Number(null===(t=e.templateList)||void 0===t?void 0:t.length)>0?i.successRes():i.errorRes(),e;i.error1Res()})).catch((function(e){i.errorOtherRes(e)}))}var mn={container:"index-module_IdA8m","template-item":"index-module_U41_n","module-item":"index-module_MWay1","module-part-line":"index-module__nva9","loading-header":"index-module_x1ATK","loading-main":"index-module_CaqNX","loading-box":"index-module_bzPEU","loading-item":"index-module_zgZF2","loading-item-bg":"index-module_PbRM8","loading-item-title":"index-module_l9Nf9","loading-item-bottom":"index-module_SwLhx","bottom-hint-box":"index-module_Zs5Kl"},xn=function(e){var t=e.style,n=void 0===t?{}:t,i=Array.from({length:2},(function(e,t){return t+1}));return(0,Ie.jsxs)(h.En,{className:mn["loading-box"],style:(0,a.Z)({},n),children:[(0,Ie.jsx)(h.En,{className:mn["loading-header"]}),(0,Ie.jsx)(h.En,{className:mn["loading-main"],children:[1,2].map((function(e){return(0,Ie.jsx)(h.En,{style:{marginLeft:e>1?_(8):0},children:i.map((function(t){return(0,Ie.jsxs)(h.En,{className:mn["loading-item"],children:[(0,Ie.jsx)(h.En,{className:mn["loading-item-bg"],style:{margin:0,height:_(e>1?210:160)}}),(0,Ie.jsx)(h.En,{className:"".concat(mn["loading-item-bg"]," ").concat(mn["loading-item-title"]),style:{height:_(40)}}),(0,Ie.jsx)(h.En,{className:"".concat(mn["loading-item-bg"]," ").concat(mn["loading-item-bottom"])})]},t)}))},e)}))})]})},hn=xn,vn={wrapper:"index-module_X_bnH","list-box":"index-module_wAh0L","item-box":"index-module_S2Jx6","item-box-last":"index-module_V3JcN",icon:"index-module_iESV5","right-box":"index-module_MSK4D","item-title":"index-module_AnuLD","right-text":"index-module_rQ1_z","no-content-title-box":"index-module_EhvrY","no-content-title":"index-module_xdwSh","no-content":"index-module_uinqG","no-content-notice":"index-module_SeGY0","btn-box":"index-module_H7g1U","btn-text":"index-module_YMl_G","more-btn-box":"index-module_uVNmR","more-btn-view":"index-module_fj5Uo","more-btn-text":"index-module_fUga7","more-btn-icon":"index-module_y4bl0"},pn={box:"index-module_rHQPK","title-name":"index-module_ESKby","title-right":"index-module_qIpnn","title-right-text":"index-module_DxlLk"},gn=function(e){var t=e.title,n=void 0===t?"":t,i=e.hasRight,o=e.renderRight,a=e.onRightClick,r=o?null===o||void 0===o?void 0:o():i?(0,Ie.jsxs)(h.En,{className:pn["title-right"],onClick:function(){return null===a||void 0===a?void 0:a()},children:[(0,Ie.jsx)(h.X_,{className:pn["title-right-text"],children:"\u67e5\u770b\u5168\u90e8"}),(0,Ie.jsx)(Ze,{className:pn["title-right-text"],children:"\ue944"})]}):null;return n?(0,Ie.jsxs)(h.En,{className:pn.box,children:[(0,Ie.jsx)(h.X_,{className:pn["title-name"],children:n}),r]}):null},fn=gn,_n=function(e){var t=e.goToAddAsk;return(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(fn,{title:"\u6682\u65e0\u95ee\u7b54"}),(0,Ie.jsxs)(h.En,{className:vn["no-content"],children:[(0,Ie.jsx)(h.X_,{className:vn["no-content-notice"],children:"\u4e0d\u77e5\u9053\u600e\u4e48\u73a9\uff1f\u95ee\u95ee\u65c5\u884c\u8fbe\u4eba"}),(0,Ie.jsx)(h.En,{activeOpacity:1,className:vn["btn-box"],onClick:t,children:(0,Ie.jsx)(h.X_,{className:vn["btn-text"],children:"\u53bb\u63d0\u95ee"})})]})]})},bn=_n,yn=2,jn=function(e){var t,n=e.moduleData,i=e.moduleName,o=n||{},a=o.totalCount,r=o.askList,l=o.askListUrl,s=void 0===l?"":l,c=o.askUrl,d=void 0===c?"":c,u=(null===r||void 0===r||null===(t=r.slice)||void 0===t?void 0:t.call(r,0,yn))||[];function m(){et({jumpUrl:d})}function x(e){tt({jumpUrl:e})}function v(){nt({jumpUrl:s})}return a?(0,Ie.jsxs)(h.En,{className:vn.wrapper,children:[(0,Ie.jsx)(fn,{title:"".concat(i||"\u7528\u6237\u95ee\u7b54"," (").concat(a,")")}),(0,Ie.jsx)(h.En,{className:vn["list-box"],children:u.map((function(e,t){var n,i;return(0,Ie.jsxs)(h.En,{className:"".concat(vn["item-box"]," ").concat(!!t&&t==u.length-1&&vn["item-box-last"]),activeOpacity:1,onClick:function(){return x(e.detailUrl)},children:[(0,Ie.jsx)(h.Y,{className:vn.icon,src:ge.ASK_ICON}),(0,Ie.jsx)(wt,{className:vn["item-title"],vertical:!0,children:null===(n=e.title)||void 0===n||null===(i=n.replace)||void 0===i?void 0:i.call(n,"\n","")}),(0,Ie.jsx)(h.En,{className:vn["right-box"],children:(0,Ie.jsx)(wt,{className:vn["right-text"],children:e.replyCount?"".concat(e.replyCount,"\u4e2a\u56de\u7b54"):"\u6682\u65e0\u56de\u7b54"})})]},t)}))}),a>1&&(0,Ie.jsx)(h.En,{className:vn["more-btn-box"],onClick:v,children:(0,Ie.jsxs)(h.En,{className:vn["more-btn-view"],children:[(0,Ie.jsx)(wt,{className:vn["more-btn-text"],children:"\u67e5\u770b\u66f4\u591a"}),(0,Ie.jsx)(Ze,{className:vn["more-btn-icon"],children:"\ue944"})]})})]}):(0,Ie.jsx)(h.En,{className:vn.wrapper,children:(0,Ie.jsx)(bn,{goToAddAsk:m})})},Nn=jn,In={wrapper:"index-module_Zaxoo","module-main-box":"index-module_qlRAU","empty-notice-box":"index-module_Nvv8a","empty-notice":"index-module_EFK45","empty-btn-box":"index-module_FQBlq","empty-btn-text":"index-module_c5X4g","advisor-score-box":"index-module_dNACX","advisor-score-img":"index-module_UTFWN","advisor-score":"index-module_j4XPk","advisor-avatar-box":"index-module_vXNDl","advisor-content-box":"index-module_adJdc","advisor-title":"index-module_MUhja","advisor-content":"index-module_KUC0f"},Tn=function(e){var t=e.gotoAddComment;return(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(fn,{title:"\u6682\u65e0\u70b9\u8bc4"}),(0,Ie.jsxs)(h.En,{className:In["empty-notice-box"],children:[(0,Ie.jsx)(h.X_,{className:In["empty-notice"],children:"\u5feb\u6765\u53d1\u8868\u7b2c\u4e00\u6761\u70b9\u8bc4~"}),(0,Ie.jsx)(h.En,{className:In["empty-btn-box"],onClick:t,children:(0,Ie.jsx)(h.X_,{className:In["empty-btn-text"],children:"\u5199\u70b9\u8bc4"})})]})]})},wn=Tn,Sn={"avatar-box":"index-module_dBKic","avatar-view":"index-module_ijmjg","avatar-info-view":"index-module_zhX5w","avatar-img-box":"index-module_p9999","avatar-img":"index-module_E7EkQ","avatar-level-icon":"index-module_QOY0F","avatar-right-view":"index-module_EXgCi","avatar-content-view":"index-module_TMw92","avatar-username":"index-module_Yblo5","avatar-title-box-view":"index-module_gmdU8","avatar-title-box":"index-module_k2n3F","avatar-title":"index-module_UnH1H","avatar-score-view":"index-module_jo9fI","score-container":"index-module__Vl0o","score-list":"index-module_MZ0ls","score-big-img":"index-module_AhDT9","score-img":"index-module_XB4yA","score-info-view":"index-module_dd3mH","score-num":"index-module_wPGVH","score-text":"index-module_nV06M"},kn=function(e){var t=e.onlyFace,n=e.className,i=void 0===n?"":n,o=e.score||3,a="",r="";switch(o>=1&&o<=5&&(a="https://pages.c-ctrip.com/you/livestream/gs-dianping-score-"+parseInt(o+"",10)+".png"),o){case 1:r="\u4e0d\u4f73";break;case 2:r="\u4e00\u822c";break;case 3:r="\u4e0d\u9519";break;case 4:r="\u6ee1\u610f";break;case 5:r="\u8d85\u68d2";break}return(0,Ie.jsx)(h.En,{className:"".concat(Sn["score-container"]," ").concat(i),children:(0,Ie.jsxs)(h.En,{className:Sn["score-list"],children:[t&&(0,Ie.jsx)(h.Y,{src:a,className:Sn["score-big-img"]}),!t&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(h.Y,{src:a,className:Sn["score-img"]}),(0,Ie.jsxs)(h.En,{className:Sn["score-info-view"],children:[(0,Ie.jsx)(h.X_,{className:Sn["score-num"],children:o+"\u5206"}),(0,Ie.jsx)(h.X_,{className:Sn["score-text"],children:r})]})]})]})})},En=kn,Zn=function(e){var t=e.avatar,n=e.nickName,i=e.medalName,o=e.vIcon,a=e.className,r=void 0===a?"":a,l=e.medalFontColor,s=e.medalBgColor,c=e.score,d=e.style,u=void 0===d?{}:d;return(0,Ie.jsxs)(h.En,{className:"".concat(Sn["avatar-view"]," ").concat(r),style:u,children:[(0,Ie.jsxs)(h.En,{className:Sn["avatar-info-view"],children:[!!t&&(0,Ie.jsxs)(h.En,{className:Sn["avatar-img-box"],children:[(0,Ie.jsx)(h.Y,{src:t,className:Sn["avatar-img"]}),!!o&&(0,Ie.jsx)(h.Y,{src:o,className:Sn["avatar-level-icon"]})]}),(0,Ie.jsxs)(h.En,{className:Sn["avatar-right-view"],children:[(0,Ie.jsx)(h.En,{className:Sn["avatar-content-view"],children:(0,Ie.jsx)(h.X_,{className:Sn["avatar-username"],children:n})}),!!i&&(0,Ie.jsx)(h.En,{className:Sn["avatar-title-box-view"],children:(0,Ie.jsx)(h.En,{className:Sn["avatar-title-box"],style:{backgroundColor:s||""},children:(0,Ie.jsx)(h.X_,{className:Sn["avatar-title"],style:{color:l||""},children:i})})})]})]}),!!c&&(0,Ie.jsx)(En,{score:parseFloat(c),className:Sn["avatar-score-view"]})]})},Rn=Zn,Cn=function(e){var t=e.moduleData,n=e.moduleName,i=t||{},o=i.totalCount,r=i.commentList,l=i.scoreIcon,s=i.commentListUrl,c=void 0===s?"":s,d=(null===r||void 0===r?void 0:r[0])||{};function u(){$e({jumpUrl:c})}return(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(fn,{title:"".concat(n," (").concat(o,")"),hasRight:!0,onRightClick:u}),(0,Ie.jsxs)(h.En,{className:In["module-main-box"],children:[(0,Ie.jsxs)(h.En,{className:In["advisor-score-box"],children:[!!l&&(0,Ie.jsx)(h.Y,{className:In["advisor-score-img"],src:l,mode:"aspectFill"}),(0,Ie.jsxs)(h.X_,{className:In["advisor-score"],children:[o,"\u6761\u70b9\u8bc4\xa0\xa0\u6765\u81eaTripadvisor\u732b\u9014\u9e70\u7528\u6237"]})]}),(0,Ie.jsx)(Rn,(0,a.Z)({className:In["advisor-avatar-box"]},d.author)),(0,Ie.jsxs)(h.En,{className:In["advisor-content-box"],onClick:u,children:[(0,Ie.jsx)(h.X_,{className:In["advisor-title"],children:null===d||void 0===d?void 0:d.title}),(0,Ie.jsx)(h.X_,{className:In["advisor-content"],numberOfLines:3,children:null===d||void 0===d?void 0:d.content})]})]})]})},Dn=Cn,Ln={box:"index-module_Y2a4H","score-box":"index-module_w3O5K","score-box-layout":"index-module__I4wF","score-num":"index-module_dPksv",evaluation:"index-module_cUjwm","eval-item":"index-module_XESj1","big-text":"index-module_QzLqp","little-text":"index-module_ZQsXT","little-text-num":"index-module_AeI9i",tags:"index-module_ZpNlU","tag-box":"index-module_qirV2",tag:"index-module_Hsmnq","avatar-box":"index-module_QSItJ","user-content-box":"index-module_m8g82","user-content":"index-module_HfdUD","img-list-box":"index-module_lwZhE",gap:"index-module_CGNr2","img-box":"index-module_xikmS","img-box2":"index-module_hZetv","img-box-only":"index-module_9KNyu",img:"index-module_j8mxa","count-box":"index-module_Z_GvD",count:"index-module_xO8qv","check-more-view":"index-module_BKgzQ","check-more-text":"index-module_S7e98","arrow-icon":"index-module_Y4os6","play-icon-image":"index-module_tA2BG","video-cover":"index-module_jW8LJ","more-btn-box":"index-module_QNMU5","more-btn-view":"index-module_zLwYb","more-btn-text":"index-module_eP1cI","more-btn-icon":"index-module__1cSR","item-box":"index-module__1XM5","epic-icon":"index-module_BHvaC"},An=3,Pn=function(e){var t,n=e.avgScore,i=void 0===n?"":n,o=e.scoreList,a=void 0===o?[]:o;return(0,Ie.jsxs)(h.En,{className:Ln["score-box"],children:[(0,Ie.jsx)(En,{score:parseFloat(i),onlyFace:!0}),(0,Ie.jsxs)(h.En,{className:Ln["score-box-layout"],children:[(0,Ie.jsxs)(h.En,{className:Ln["score-num"],children:[(0,Ie.jsx)(h.X_,{className:Ln["big-text"],children:i}),(0,Ie.jsx)(h.X_,{className:Ln["little-text-num"],children:"/5\u5206"})]}),(null===a||void 0===a?void 0:a.length)>0&&(0,Ie.jsx)(h.En,{className:Ln.evaluation,children:null===a||void 0===a||null===(t=a.slice(0,An))||void 0===t?void 0:t.map((function(e,t){return(0,Ie.jsxs)(h.En,{className:Ln["eval-item"],children:[(0,Ie.jsx)(h.X_,{className:Ln["little-text"],children:e.name}),(0,Ie.jsx)(h.X_,{className:Ln["little-text-num"],children:e.score})]},t)}))})]})]})},Hn=Pn,Fn=6,Un=function(e){var t=e.tagList,n=void 0===t?[]:t,i=e.goto;return(0,Ie.jsx)(h.En,{className:Ln.tags,children:null===n||void 0===n?void 0:n.slice(0,Fn).map((function(e,t){return(0,Ie.jsx)(h.En,{onClick:function(){return null===i||void 0===i?void 0:i(e.jumpUrl||"")},className:Ln["tag-box"],children:(0,Ie.jsxs)(h.X_,{className:Ln.tag,children:[e.name," ",e.commentCount]})},t)}))})},Mn=Un,On=3,Bn=function(e){var t,n,i=e.commentVideoList,o=void 0===i?[]:i,a=e.imageList,r=(U.SCREENWIDTH-2*U.screenMargin)/2,l=2*r/3;if((null===o||void 0===o||null===(t=o[0])||void 0===t||!t.coverImageUrl)&&(null===a||void 0===a||!a.length))return null;var s=function(e){var t=ee({imgUrl:e,width:660,height:440});return(0,Ie.jsxs)(h.En,{className:Ln["img-box-only"],children:[(0,Ie.jsx)(h.Y,{className:Ln["play-icon-image"],src:ge.TALENT_VIDEO}),(0,Ie.jsx)(h.Y,{src:t,className:Ln["video-cover"],style:{width:r,height:l}})]})},c=function(e,t,n){return 1==n?(0,Ie.jsx)(h.En,{className:Ln["img-box-only"],children:(0,Ie.jsx)(h.Y,{src:e,style:{width:r,height:l},mode:"aspectFill"})},t):n>1?(0,Ie.jsxs)(h.En,{className:Ln["img-box"],style:{margin:1===t?"0 ".concat(_(8),"PX"):0},children:[(0,Ie.jsx)(h.En,{className:Ln["img-box2"]}),(0,Ie.jsx)(h.Y,{src:e,className:Ln.img,mode:"aspectFill"}),n>On&&2==t&&(0,Ie.jsx)(h.En,{className:Ln["count-box"],children:(0,Ie.jsxs)(h.X_,{className:Ln.count,children:[n,"+"]})})]},t):void 0};return(0,Ie.jsx)(h.En,{className:Ln["img-list-box"],children:null!==o&&void 0!==o&&null!==(n=o[0])&&void 0!==n&&n.coverImageUrl?s(o[0].coverImageUrl):null===a||void 0===a?void 0:a.slice(0,On).map((function(e,t){return c(e,t,null===a||void 0===a?void 0:a.length)}))})},Vn=Bn,Xn=function(e){var t=e.commentList,n=e.gotoDetail;if(null===t||void 0===t||!t.length)return null;var i=function(e){var t,i,o,r,l,s=e.item,c=s||{},d=c.commentId,u=c.author,m=c.score,x=c.content,v=c.commentVideoList,p=c.imageList,g=c.jumpUrl,f=void 0===g?"":g,_=(c.isBest,null===u||void 0===u||null===(t=u.tagList)||void 0===t?void 0:t[0]);if(_&&(i=null===_||void 0===_?void 0:_.name,null!==(l=_.styleList)&&void 0!==l&&l.length)){var b,y=null===_||void 0===_||null===(b=_.styleList)||void 0===b?void 0:b.filter((function(e){return"white"===(null===e||void 0===e?void 0:e.type)})),j=(null===y||void 0===y?void 0:y[0])||{};o=null===j||void 0===j?void 0:j.fontColor,r=null===j||void 0===j?void 0:j.backgroundColor}return(0,Ie.jsxs)(h.En,{className:Ln["item-box"],children:[!!u&&(0,Ie.jsx)(Rn,(0,a.Z)((0,a.Z)({},u),{},{className:Ln["avatar-box"],medalName:i,score:m,medalBgColor:r,medalFontColor:o})),(0,Ie.jsxs)(h.En,{onClick:function(){return null===n||void 0===n?void 0:n(f)},children:[(0,Ie.jsx)(h.En,{className:Ln["user-content-box"],children:(0,Ie.jsx)(wt,{className:Ln["user-content"],vertical:!0,children:!!x&&$(Q(x))})}),(0,Ie.jsx)(Vn,{commentVideoList:v,imageList:p})]})]},d)};return(0,Ie.jsx)(h.En,{style:1==t.length?{marginBottom:_(16)}:{},children:t.map((function(e,t){return i({item:e,index:t})}))})},Gn=Xn,Yn=function(e){var t=e.totalCount,n=void 0===t?0:t,i=e.gotoMore;return n<=1?null:(0,Ie.jsx)(h.En,{className:Ln["more-btn-box"],onClick:i,children:(0,Ie.jsxs)(h.En,{className:Ln["more-btn-view"],children:[(0,Ie.jsx)(h.X_,{className:Ln["more-btn-text"],children:"\u67e5\u770b\u66f4\u591a"}),(0,Ie.jsx)(Ze,{className:Ln["more-btn-icon"],children:"\ue944"})]})})},Wn=Yn,zn=function(e){var t=e.moduleName,n=e.moduleData,i=n||{},o=i.totalCount,a=void 0===o?"":o,r=i.avgScore,l=void 0===r?"":r,s=i.scoreList,c=i.tagList,d=i.commentList,u=i.commentListUrl,m=void 0===u?"":u;function x(){$e({jumpUrl:m})}function v(e){Qe({jumpUrl:e})}function p(e){$e({jumpUrl:e})}return(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(fn,{title:"".concat(t," (").concat(a,")")}),(0,Ie.jsxs)(h.En,{className:In["module-main-box"],style:{paddingBottom:0},children:[(0,Ie.jsx)(Hn,{avgScore:l,scoreList:s}),(0,Ie.jsx)(Mn,{tagList:c,goto:p}),(0,Ie.jsx)(Gn,{commentList:d,gotoDetail:v}),(0,Ie.jsx)(Wn,{totalCount:Number(a),gotoMore:x})]})]})},qn=zn,Kn=["moduleData","gotoAddComment"],Jn=function(e){var t,n=e.moduleData,i=e.gotoAddComment,o=(0,Se.Z)(e,Kn),r=n||{},l=r.source,s=r.totalCount,c=(0,a.Z)((0,a.Z)({},o),{},{moduleData:n}),d=U.isAlipay;return Number(s)?("ctrip"==l&&(t=(0,Ie.jsx)(qn,(0,a.Z)({},c))),"tripadvisor"==l&&(t=(0,Ie.jsx)(Dn,(0,a.Z)({},c)))):t=d?null:(0,Ie.jsx)(wn,{gotoAddComment:i}),(0,Ie.jsx)(h.En,{className:In.wrapper,children:t})},Qn=Jn,$n={box:"index-module_y_G_y"},ei=function(){var e=U.WIDTH,t=e/3.2;return(0,Ie.jsx)(h.En,{className:$n.box,children:(0,Ie.jsx)("ad-sdk",{impId:Ne.MINI,width:e,height:t})})},ti=ei,ni=function(e,t){for(var n=Object.keys(e),i=["renderBottomHint"],o=0;o<n.length;o++){var a=n[o];if(("function"!==typeof e[a]||"function"==typeof e[a]&&i.includes(a))&&e[a]!==t[a])return!1}return!0},ii=x.createContext({createExposure:function(){return{ubtKey:"",data:{}}},clickTrace:function(){}}),oi=ii,ai=function(e){var t=e.type,n=e.shouldRender,i=e.requestScene,l=e.baseData,s=e.urlParams,c=void 0===s?{}:s,d=e.bottomHeight,u=e.renderBottomHint,m=e.tabLoaded,h=e.onLoad,v=l||{},p=v.poiId,g=v.businessId,_=v.poiName,b=v.poiType,y=(0,x.useContext)(oi),j=y.renderTrace,N=c.ignorePublishStatus,I=(0,x.useState)([]),T=(0,f.Z)(I,2),w=T[0],S=T[1],k=(0,x.useState)(),E=(0,f.Z)(k,2),Z=E[0],R=E[1],C=["COMMENT"],D=d?{height:d,overflow:"hidden"}:{};function L(){return A.apply(this,arguments)}function A(){return A=(0,r.Z)((0,o.Z)().mark((function e(){var t,n,r,l,s;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(0,a.Z)((0,a.Z)((0,a.Z)({},p&&{poiId:p}),g&&{businessId:g}),{},{scene:i},N&&{ignorePublishStatus:N}),e.next=3,un({data:t});case 3:n=e.sent,r=n||{},l=r.templateList,s=void 0===l?[]:l,S(s);case 6:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function P(){null===Fe||void 0===Fe||Fe({poiName:_,poiType:b,businessId:g,poiId:p})}function H(){R(!0)}function F(e){var t,n=e||{},i=n.moduleType,o=n.moduleName,r=n.commentModule,l=n.askModule,s=n.talentNoteModule,c=(null===e||void 0===e||null===(t=e.flagshipModule)||void 0===t||t.type,{moduleName:o});switch(i){case"comment":return(0,Ie.jsx)(Qn,(0,a.Z)((0,a.Z)({},c),{},{moduleData:r,gotoAddComment:P}));case"ask":return!!l&&(0,Ie.jsx)(Nn,(0,a.Z)((0,a.Z)({},c),{},{moduleData:l}));case"talentNote":var d=s||{},u=d.talentNoteList,m=void 0===u?[]:u,x=(null===m||void 0===m?void 0:m.length)>0?m.filter((function(e){return 1==(null===e||void 0===e?void 0:e.type)})):[];return(null===x||void 0===x?void 0:x.length)>=2?(void 0===Z&&R(!1),(0,Ie.jsx)(Ft,(0,a.Z)((0,a.Z)({},c),{},{moduleData:s,onLoad:H}))):null;case"advertisement":return(0,Ie.jsx)(ti,{});case"flagship":return null}}return console.log("CommentsAndNotes========== render"),(0,x.useEffect)((function(){n&&L()}),[n]),(0,x.useEffect)((function(){w.length&&(null===h||void 0===h||h(t),null===j||void 0===j||j.trace(ve.afterCommentNote,(0,a.Z)({},rn("commentClickTime")&&{timeFromClick:de()-rn("commentClickTime")})))}),[w]),(0,Ie.jsxs)(Xt,{className:mn.container,style:!1===Z?D:{},children:[w.length>0&&n?(0,Ie.jsxs)(Ie.Fragment,{children:[w.map((function(e,t){var n=e.moduleList,i=e.templateType;return Array.isArray(n)&&n.length>0&&(0,Ie.jsx)(Xt,{className:mn["template-item"],style:(0,a.Z)((0,a.Z)({},"COMMENT"===i&&{paddingBottom:0}),t===w.length-1&&{marginBottom:0}),children:n.map((function(e,t){var o=(null===n||void 0===n?void 0:n.length)||0;return(0,Ie.jsxs)(Xt,{className:mn["module-item"],children:[F(e),C.includes(i||"")&&t!==o-1&&(0,Ie.jsx)(Xt,{className:mn["module-part-line"]})]},e.moduleType)}))},i)})),!1===Z&&(0,Ie.jsx)(hn,{style:{position:"absolute"}})]}):(0,Ie.jsx)(hn,{style:D}),m&&w.length>0&&(0,Ie.jsx)(Xt,{className:mn["bottom-hint-box"],children:null===u||void 0===u?void 0:u(t)})]})},ri=(0,x.memo)(ai,ni),li=n(5838),si={"filter-box":"index-module_tk85y","side-box":"index-module_eF2GH"},ci="ottd-xtaro-shelf-wrapper",di=function(e,t){var n=e.type,i=e.tabBarHeight,a=void 0===i?0:i,l=e.height,s=void 0===l?0:l,c=e.urlParams,d=e.baseData,u=(e.shouldRender,e.isInitShopTab),m=e.onSeverCallBack,v=e.renderBottomHint,p=e.scrollTo,g=(0,x.useState)(0),_=(0,f.Z)(g,2),b=_[0],y=_[1],j=(0,x.useState)(0),N=(0,f.Z)(j,2),I=N[0],T=N[1],w=(0,x.useRef)(),S=(0,x.useRef)(),k=(0,x.useRef)(),E=U.getNavigationBarHeight(null===c||void 0===c?void 0:c.hideNavBar)+a,Z=E+I,R=s-I,C=ce(c);function D(){var e,t,n,i,o,a,r,l;null===(e=S.current)||void 0===e||null===(t=e.getInSideRef)||void 0===t||t.call(e,k.current),null===(n=S.current)||void 0===n||null===(i=n.getInnerTabRef)||void 0===i||i.call(n,w.current),null===(o=k.current)||void 0===o||null===(a=o.getMainRef)||void 0===a||a.call(o,S.current),null===(r=w.current)||void 0===r||null===(l=r.getMainRef)||void 0===l||l.call(r,S.current)}function L(e){return A.apply(this,arguments)}function A(){return A=(0,r.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&!I){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h.c0.getBoundingClientRect({node:t});case 4:n=e.sent,n&&n.height&&(console.log("shelf---=====height=====",n.height),T(n.height));case 6:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}console.log("shelfWapper==============render======="),(0,x.useImperativeHandle)(t,(function(){return{updateScroll:function(e){var t,n;null===(t=S.current)||void 0===t||null===(n=t.onScroll)||void 0===n||n.call(t,e)},setTopDistance:y,updateScrollEnable:function(e){var t,n;null===(t=k.current)||void 0===t||null===(n=t.changeScrollEnabled)||void 0===n||n.call(t,e)},updateIsShop:function(e){var t,n;null===(t=S.current)||void 0===t||null===(n=t.changeTitleTab)||void 0===n||n.call(t,e)},proceedShelfRender:function(){var e,t;null===(e=S.current)||void 0===e||null===(t=e.proceedShelfRender)||void 0===t||t.call(e)}}}));var P=(0,x.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===p||void 0===p||p.apply(void 0,t)}),[]),H=(0,x.useCallback)((function(){return null===v||void 0===v?void 0:v(n)}),[n]);return(0,Ie.jsxs)(h.En,{className:ci,children:[(0,Ie.jsx)(h.G7,{className:si["filter-box"],style:{top:E},ref:function(e){setTimeout((function(){L(e)}),500)},children:(0,Ie.jsx)(li.jo,{ref:function(e){e&&(w.current=e),D()}})}),(0,Ie.jsxs)(h.G7,{style:{display:"flex",backgroundColor:"#f5f8fa"},children:[(0,Ie.jsx)(h.G7,{className:si["side-box"],style:{top:Z},children:(0,Ie.jsx)(li.YE,{sidebarHeight:s?R:"100%",inner:!0,prefixCls:ci,ref:function(e){e&&(k.current=e),D()}})}),(0,Ie.jsx)(li.VJ,{onSeverCallBack:m,ref:function(e){e&&(S.current=e),D()},showSideBar:!1,stickySideBar:!0,isShop:!0,disableRecord:!0,topDistance:b,menuId:(null===c||void 0===c?void 0:c.menuId)||"",scrollTo:P,spotId:null===c||void 0===c?void 0:c.businessId,spotName:null===d||void 0===d?void 0:d.poiName,poiId:null===c||void 0===c?void 0:c.poiId,passThroughParameters:[{key:"scene",value:(null===c||void 0===c?void 0:c.scene)||""},{key:"anchorCategory",value:(null===c||void 0===c?void 0:c.ticketCategory)||""}],isInit:u,defaultFilters:(null===c||void 0===c?void 0:c.shelfFilters)||[],businessIdTop:(null===c||void 0===c?void 0:c.businessIdTop)||"",ticketGroupId:(null===c||void 0===c?void 0:c.ticketGroupId)||"",anchorCategory:(null===c||void 0===c?void 0:c.ticketCategory)||"",urlParams:{ctm_ref:(null===c||void 0===c?void 0:c.ctm_ref)||"",ext:(null===c||void 0===c?void 0:c.ext)||"",traceid:null===c||void 0===c?void 0:c.traceid,"ext-osspotid":null===c||void 0===c?void 0:c["ext-osspotid"]},renderScrollViewBottomHint:H,blockShelfRender:C})]})]})},ui=(0,x.memo)((0,x.forwardRef)(di)),mi={"no-result-view":"index-module_gsCnm","no-result-bg-image":"index-module_MJP_T","no-result-content":"index-module_k0g6d","no-result-sub-content":"index-module_NhgC1","loading-header":"index-module_drpbA","loading-header-item":"index-module_FDeYR","loading-main":"index-module_sEOee","loading-box":"index-module__zhUt","loading-item":"index-module__CqIu","loading-item-cover":"index-module_Z4fIc","loading-item-inner":"index-module_NxLx3",bottomWrapper:"index-module_BX28w"},xi=function(e){var t=e.height,n=Array.from({length:2},(function(e,t){return t+1})),i=t?{height:t,overflow:"hidden"}:{};return(0,Ie.jsxs)(h.En,{className:mi["loading-box"],style:i,children:[(0,Ie.jsx)(h.En,{className:mi["loading-header"],children:Array.from({length:4},(function(e,t){return t+1})).map((function(e){return(0,Ie.jsx)(h.En,{className:mi["loading-header-item"]},e)}))}),(0,Ie.jsx)(h.En,{className:mi["loading-main"],children:[1,2].map((function(e){return(0,Ie.jsx)(h.En,{style:{marginLeft:e>1?_(8):0},children:n.map((function(t){return(0,Ie.jsxs)(h.En,{className:mi["loading-item"],children:[(0,Ie.jsx)(h.En,{className:mi["loading-item-cover"],style:{height:e>1?210:160}}),(0,Ie.jsx)(h.En,{className:mi["loading-item-inner"],style:{height:20}}),(0,Ie.jsx)(h.En,{className:mi["loading-item-inner"],style:{height:14}}),(0,Ie.jsx)(h.En,{className:mi["loading-item-inner"],style:{height:16}}),(0,Ie.jsx)(h.En,{className:mi["loading-item-inner"],style:{height:22,marginBottom:_(8)}})]},t)}))},e)}))})]})},hi=xi,vi=function(){return(0,Ie.jsxs)(h.En,{className:mi["no-result-view"],children:[(0,Ie.jsx)(h.Y,{src:ge.ERROR_BG,className:mi["no-result-bg-image"]}),(0,Ie.jsx)(h.X_,{className:mi["no-result-content"],children:"\u52a0\u8f7d\u672a\u6210\u529f"}),(0,Ie.jsx)(h.X_,{className:mi["no-result-sub-content"],children:"\u5982\u957f\u65f6\u95f4\u65e0\u6cd5\u89e3\u51b3\u8bf7\u622a\u5c4f\u53cd\u9988\u7ed9\u6211\u4eec"})]})},pi=vi,gi=24,fi=8,_i=(U.SCREENWIDTH-gi-fi)/2,bi=8,yi=8,ji=18,Ni=6,Ii=20,Ti=4,wi=10,Si=4,ki=14,Ei=7,Zi=16,Ri=4,Ci=8,Di=36,Li=28,Ai={SIGHT:"SIGHT",HOTEL:"HOTEL",HOMESTAY:"HOMESTAY",RESTAURANT:"RESTAURANT",SHOP:"SHOP"},Pi={foodRank:"index-module_jScGg",foodRankIcon:"index-module_t_Ox5",foodRankText:"index-module_Y1i9Z"},Hi=function(e){var t=e.gourmetListName,n=void 0===t?"":t,i=e.gourmetListType,o=void 0===i?0:i;function a(){switch(o){case 1:return(0,Ie.jsx)(Ze,{className:Pi.foodRankIcon,children:"\udb82\udc86"});case 2:return(0,Ie.jsx)(Ze,{className:Pi.foodRankIcon,children:"\udb82\udc89"});case 3:return(0,Ie.jsx)(Ze,{className:Pi.foodRankIcon,children:"\udb82\udc85"});case 4:return(0,Ie.jsx)(Ze,{className:Pi.foodRankIcon,children:"\udb82\udc87"});case 5:return(0,Ie.jsx)(Ze,{className:Pi.foodRankIcon,children:"\udb82\udc88"})}}return(0,Ie.jsxs)(h.cn,{className:Pi.foodRank,locations:[0,1],colors:["#3D3D3D","#272727"],children:[a(),(0,Ie.jsx)(h.X_,{className:Pi.foodRankText,children:n})]})},Fi=x.memo(Hi),Ui={foodPackageView:"index-module_q6OH9",foodPackagePriceView:"index-module_n6Yn1",foodPackageInfo:"index-module_R6pWB",foodPackageTitle:"index-module_zYBk8",foodPackagePrice:"index-module_bd8vB",foodPackageRealPriceSymbol:"index-module_QmE13",foodPackageRealPrice:"index-module_MB10J",foodPackageDelectPrice:"index-module_dN82G",foodPackagePriceTag:"index-module_TwzMU",foodPackagePriceTagText:"index-module_dnqTF",foodPackageBtn:"index-module_ZZaFm",foodPackageBtnIcon:"index-module_qqNOr",foodRank:"index-module_DB4OV",foodRankText:"index-module_Eoj5o"},Mi=function(e){var t,n,i,o=e.packageInfo||{};function a(e){null===e||void 0===e||e.stopPropagation(),(null===o||void 0===o?void 0:o.jumpUrl)&&Je({jumpUrl:o.jumpUrl})}return(0,Ie.jsxs)(Xt,{className:Ui.foodPackageView,activeOpacity:1,onClick:a,children:[(0,Ie.jsxs)(Xt,{className:Ui.foodPackageInfo,children:[(0,Ie.jsx)(h.X_,{className:Ui.foodPackageTitle,numberOfLines:1,children:o.name}),(0,Ie.jsxs)(Xt,{className:Ui.foodPackagePriceView,children:[(0,Ie.jsxs)(Xt,{style:{flexDirection:"row",alignItems:"baseline"},children:[(null===o||void 0===o||null===(t=o.price)||void 0===t?void 0:t.price)>0&&(0,Ie.jsxs)(x.Fragment,{children:[(0,Ie.jsx)(h.X_,{className:Ui.foodPackageRealPriceSymbol,children:"\xa5"}),(0,Ie.jsx)(h.X_,{className:Ui.foodPackageRealPrice,children:o.price.price})]}),(null===o||void 0===o||null===(n=o.price)||void 0===n?void 0:n.marketPrice)>0&&(0,Ie.jsxs)(h.X_,{className:Ui.foodPackageDelectPrice,children:["\xa5",o.price.marketPrice]})]}),!(null===o||void 0===o||null===(i=o.price)||void 0===i||!i.preferentialPrice)&&(0,Ie.jsx)(Xt,{className:Ui.foodPackagePriceTag,children:(0,Ie.jsxs)(h.X_,{className:Ui.foodPackagePriceTagText,children:["\u5df2\u51cf",o.price.preferentialPrice]})})]})]}),(0,Ie.jsx)(Xt,{className:Ui.foodPackageBtn,children:(0,Ie.jsx)(Ze,{className:Ui.foodPackageBtnIcon,children:"\ue944"})})]})},Oi=x.memo(Mi),Bi={tabItemView:"index-module_FFXqN",coverImage:"index-module_hf81r",videoIconView:"index-module_UK5RY",videoIconText:"index-module_Lce2U",distanceViewWrapper:"index-module_djEDj",distanceView:"index-module_wcA80",distanceIcon:"index-module_JosYv",distanceText:"index-module_yJbDY",contentView:"index-module_yE5a8",rankView:"index-module_kqqPh",rankIcon:"index-module_uMr7z",rankText:"index-module_pgsZJ",titleText:"index-module_aBBDI",hotelStarView:"index-module_Df8F2",hotelStarIcon:"index-module_CERYf",tagInfoView:"index-module_IruWp",shortFeatureView:"index-module_T1D8j",shortFeatureText:"index-module_BTnPF",foodRankView:"index-module_unovJ",tagView:"index-module_pz2QM",tagText:"index-module_tA6uB",tagListView:"index-module_GSRRK",hotelTagView:"index-module_zEdms",hotelTagText:"index-module_bbCbk",activeHotelTagView:"index-module_u7EYM",activeHotelTagText:"index-module_wXfq4",commentInfoView:"index-module_s4n7U",scoreView:"index-module_nR_BV",scoreNumText:"index-module_dxox6",scoreUnitText:"index-module_MgK4G",commentView:"index-module_Wym7N",commentText:"index-module_I9Ofd",restaurantPriceText:"index-module_tpoUj",bottomView:"index-module_kvazQ",realPriceView:"index-module_J4JTL",realPrice:"index-module_Ei1_R",normalPrice:"index-module_neav7",realPriceSymbolText:"index-module_xAmBM",normalPriceSymbolText:"index-module_OmNgU",priceCommonText:"index-module_n31oH",priceDescText:"index-module__C7JT",couponBriefView:"index-module_mBFyN",couponLabelView:"index-module_PZivD",couponLabelText:"index-module_j1wNp",couponTitleView:"index-module_vSj4W",couponTitleText:"index-module_nrcdU"},Vi={overlay:"index-module_LgZEU"},Xi={container:"index-module_laBl4",caretBorder:"index-module_EKGJv",text:"index-module_t9Pkd"},Gi=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.parentLayout,n=void 0===t?{}:t,i=e.content,o=e.showCaret,r=e.textStyle,l=e.offsetTop,s=void 0===l?0:l;console.log("===parentLayout===",n);var c=(null===n||void 0===n?void 0:n.height)||47,d=n.pageX>U.SCREENWIDTH/2?{right:0}:{left:0};if(!i)return null;var u=i;return"string"===typeof i&&(u=(0,Ie.jsx)(h.X_,{className:Xi.text,style:r,children:i})),(0,Ie.jsxs)(x.Fragment,{children:[(0,Ie.jsx)(h.En,{className:Xi.container,style:(0,a.Z)({backgroundColor:"rgba(0,0,0,0.7)",top:c+10+s},d),children:u}),o&&(0,Ie.jsx)(h.En,{className:Xi.caretBorder,style:{right:_(16),top:c+s}})]})}}]),n}(x.PureComponent);(0,m.Z)(Gi,"defaultProps",{content:null,showCaret:!0});x.PureComponent;var Yi=Ai.SIGHT,Wi=Ai.HOTEL,zi=Ai.HOMESTAY,qi=Ai.RESTAURANT,Ki=Ai.SHOP;function Ji(e){var t=e.type,n=e.videoInfo,i=e.imageInfo,o=e.imageHeight,a=e.distanceDesc,r=e.name,l=e.rankingDesc,s=e.hotelStar,c=e.shortFeature,d=e.gourmetInfo,u=void 0===d?{}:d,m=e.themeTags,v=e.tagList,p=void 0===v?[]:v,g=e.score,f=e.commentCount,b=e.price,y=e.comboInfo,j=e.couponBrief,N=e.isLast,I=[Wi,zi].includes(t)?"_D_320_480":"_D_320_320",T=function(){return(null===i||void 0===i?void 0:i.imageUrl)&&(0,Ie.jsxs)(Xt,{style:{height:_(o),flexDirection:"column"},children:[!(null===i||void 0===i||!i.imageUrl)&&(0,Ie.jsx)(h.Y,{className:Bi.coverImage,mode:"aspectFill",style:{height:_(o)},src:Y.formatImage(i.imageUrl,I)}),!(null===n||void 0===n||!n.videoUrl)&&(0,Ie.jsx)(Xt,{className:Bi.videoIconView,style:{position:"absolute"},children:(0,Ie.jsx)(Ze,{className:Bi.videoIconText,style:{lineHeight:1},children:"\uef63"})}),!!a&&(0,Ie.jsx)(h.cn,{start:{x:0,y:0},end:{x:0,y:1},colors:["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0.5)"],className:Bi.distanceViewWrapper,children:(0,Ie.jsxs)(Xt,{className:Bi.distanceView,children:[(0,Ie.jsx)(Ze,{className:Bi.distanceIcon,children:"\ue37d"}),(0,Ie.jsx)(wt,{className:Bi.distanceText,numberOfLines:1,vertical:!0,children:a})]})})]})},w=function(){return l&&(0,Ie.jsxs)(Xt,{className:Bi.rankView,style:{height:_(ji),marginBottom:_(Ni)},children:[(0,Ie.jsx)(Ze,{className:Bi.rankIcon,children:"\udb82\udd6b"}),(0,Ie.jsx)(wt,{className:Bi.rankText,numberOfLines:1,vertical:!0,children:l})]})},S=function(){var e=(0,Ie.jsx)(Ie.Fragment,{});switch(t){case Wi:e=1==(null===s||void 0===s?void 0:s.displayWay)?(0,Ie.jsx)(Ze,{className:Bi.hotelStarIcon,children:"\udb80\ude0f"}):(0,Ie.jsx)(Ze,{className:Bi.hotelStarIcon,children:"\udb80\ude10"});break;case zi:e=(0,Ie.jsx)(Ze,{className:Bi.hotelStarIcon,children:"\udb80\ude0e"});break}for(var n=[],i=0;i<(null===s||void 0===s?void 0:s.star);i++)n.push(e);return(null===s||void 0===s?void 0:s.star)>0?(0,Ie.jsx)(Xt,{className:Bi.hotelStarView,style:{marginBottom:_(Si)},children:n.map((function(e,t){return(0,Ie.jsx)(x.Fragment,{children:e},t)}))}):null},k=function(){return(0,Ie.jsxs)(Xt,{className:Bi.tagInfoView,style:{maxHeight:_(ki+Ei)},children:[t===Yi&&!(null===c||void 0===c||!c[0])&&(0,Ie.jsx)(h.cn,{start:{x:1,y:0},end:{x:0,y:0},colors:["rgb(0, 134, 246)","rgb(45, 204, 193)"],className:Bi.shortFeatureView,style:{height:_(ki),marginBottom:_(Ei)},children:(0,Ie.jsx)(h.X_,{className:Bi.shortFeatureText,numberOfLines:1,children:c[0]})}),t===qi&&!(null===u||void 0===u||!u.gourmetListType)&&(0,Ie.jsx)(Xt,{className:Bi.foodRankView,style:{height:_(ki),marginBottom:_(Ei)},children:(0,Ie.jsx)(Fi,{gourmetListName:u.gourmetListName,gourmetListType:u.gourmetListType})}),[Yi,qi,Ki].includes(t)&&!(null===m||void 0===m||!m[0])&&(0,Ie.jsx)(Xt,{className:Bi.tagView,style:{height:_(ki),marginBottom:_(Ei)},children:(0,Ie.jsx)(h.X_,{className:Bi.tagText,children:m[0]})}),[Wi,zi].includes(t)&&!!p.length&&(0,Ie.jsx)(Xt,{className:Bi.tagListView,style:{height:_(ki),marginBottom:_(Ei)},children:p.map((function(e,t){return(0,Ie.jsx)(Xt,{className:"".concat(Bi.hotelTagView," ").concat(1==e.color&&Bi.activeHotelTagView),children:(0,Ie.jsx)(h.X_,{className:"".concat(Bi.hotelTagText," ").concat(1==e.color&&Bi.activeHotelTagText),children:e.tagName})},t)}))})]})},E=function(){return g>0||f>0||null!==b&&void 0!==b&&b.price?(0,Ie.jsxs)(Xt,{className:Bi.commentInfoView,style:{height:_(Zi),marginBottom:_(Ri)},children:[g>0&&(0,Ie.jsxs)(Xt,{className:Bi.scoreView,children:[(0,Ie.jsx)(h.X_,{className:Bi.scoreNumText,children:g}),(0,Ie.jsx)(h.X_,{className:Bi.scoreUnitText,children:"\u5206"})]}),f>0&&(0,Ie.jsx)(Xt,{className:Bi.commentView,children:(0,Ie.jsxs)(h.X_,{className:Bi.commentText,numberOfLines:1,children:[f>1e4?(f/1e4).toFixed(1)+"\u4e07":f,"\u6761\u70b9\u8bc4"]})}),!(null===b||void 0===b||!b.price)&&t===qi&&(0,Ie.jsx)(Xt,{children:(0,Ie.jsxs)(h.X_,{className:Bi.restaurantPriceText,children:["\xa5",b.price,"/\u4eba"]})})]}):null},Z=function(){var e=(0,Ie.jsx)(Ie.Fragment,{}),n=b||{},i=n.priceTypeDesc,o=n.priceType,a=(null===b||void 0===b?void 0:b.price)>=0&&!["1","4","6"].includes(o);switch(t){case Yi:case Wi:case zi:b&&(e=(0,Ie.jsx)(x.Fragment,{children:((null===b||void 0===b?void 0:b.price)>=0||!!i)&&(0,Ie.jsxs)(Xt,{className:Bi.realPriceView,style:{height:_(a&&"3"!==o?22:14)},children:[!!i&&(0,Ie.jsx)(h.X_,{className:"".concat(Bi.priceCommonText," ").concat(Bi.priceDescText),children:i}),a&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)(h.X_,{className:"".concat(Bi.realPrice," ").concat("3"==o&&Bi.normalPrice),children:[(0,Ie.jsx)(h.X_,{className:"".concat(Bi.realPriceSymbolText," ").concat(Bi.normalPriceSymbolText),children:"\xa5"}),(0,Ie.jsx)(h.X_,{children:null===b||void 0===b?void 0:b.price})]}),(0,Ie.jsx)(h.X_,{className:Bi.priceCommonText,children:"\u8d77"})]})]})}));break;case qi:y&&(e=(0,Ie.jsx)(Oi,{packageInfo:y}));break;case Ki:e=(0,Ie.jsx)(x.Fragment,{children:!!j&&(0,Ie.jsxs)(Xt,{className:Bi.couponBriefView,style:{height:_(Li)},children:[(0,Ie.jsx)(Xt,{className:Bi.couponLabelView,children:(0,Ie.jsx)(h.X_,{className:Bi.couponLabelText,children:j.couponLabel})}),(0,Ie.jsx)(Xt,{className:Bi.couponTitleView,children:(0,Ie.jsx)(h.X_,{className:Bi.couponTitleText,children:j.couponTitle})})]})});break;default:break}return(0,Ie.jsx)(Xt,{style:{marginBottom:_(Ci),flexDirection:"column"},children:e})};return(0,Ie.jsxs)(Xt,{className:Bi.tabItemView,style:N&&{marginBottom:0},activeOpacity:1,onClick:function(){var t;null===(t=e.onPress)||void 0===t||t.call(e)},children:[T(),(0,Ie.jsxs)(Xt,{style:{paddingTop:_(yi),flexDirection:"column"},className:Bi.contentView,children:[w(),(0,Ie.jsx)(Xt,{style:{marginBottom:_(Ti)},children:(0,Ie.jsx)(h.X_,{numberOfLines:2,className:Bi.titleText,children:r})}),S(),k(),E(),Z()]})]})}var Qi=Ji,$i={viewWrap:"index-module_zMnCZ",tabs:"index-module_LDAY1",tabItem:"index-module_k4Pn3",gradient:"index-module_TjSrE",tabItemView:"index-module_eObAF",text:"index-module_EFiQ_",activeText:"index-module_IRI7d"};function eo(e){var t=e.active,n=e.testID,i=e.index,o=e.text,r=e.style,l=e.renderTag;return(0,Ie.jsxs)(Xt,{testID:n,className:"".concat($i.tabItem),style:(0,a.Z)({},r),onClick:function(){e.onPress&&e.onPress(i)},children:[l&&l(),t?(0,Ie.jsx)(h.cn,{start:{x:0,y:0},end:{x:1,y:0},locations:[.05,.99],colors:["#73BCFA","#0086F6"],className:$i.gradient,children:(0,Ie.jsx)(h.X_,{numberOfLines:1,className:$i.activeText,children:o},i)}):(0,Ie.jsx)(Xt,{className:$i.tabItemView,children:(0,Ie.jsx)(h.X_,{numberOfLines:1,className:$i.text,children:o},i)})]})}var to=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i;return(0,l.Z)(this,n),i=t.call(this,e),(0,m.Z)((0,c.Z)(i),"_renderTabItem",(function(e){var t=e.item,n=e.index;return(0,Ie.jsx)(eo,{index:n,active:i.props.curIndex===n,text:t.name,onPress:function(){i.props.tabSwitch(t,n)}},n)})),i}return(0,s.Z)(n,[{key:"scrollToIndex",value:function(e){this.flatList&&this.flatList.scrollToIndex({viewPosition:.5,index:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,i=t.renderTabItem,o=t.renderFooterComponent,r=t.disableScroll,l=t.style;return r?(0,Ie.jsx)(Xt,{className:"".concat($i.viewWrap," ").concat($i.tabs),style:(0,a.Z)({},l),children:!!n&&n.map((function(t,n){return i?i({item:t,index:n}):e._renderTabItem({item:t,index:n})}))}):(0,Ie.jsx)(h.vQ,{ref:function(t){return e.flatList=t},className:$i.tabs,itemData:n,keyExtractor:function(e,t){return t.toString()},renderItem:i||this._renderTabItem,ListFooterComponent:o||null,horizontal:!0,showsHorizontalScrollIndicator:!1})}}]),n}(x.Component);function no(e){return new Promise((function(t,n){Le({url:"18254/json/getRecommendPoi",data:e}).then((function(i){console.log("\u5feb\u7b5bgetRecommendPoi\u63a5\u53e3\u8fd4\u56de\u6570\u636e",e,i);var o=i.result,a=i.itemList,r=void 0===a?[]:a;!o&&r.length>0?t(i):n("getRecommendPoi\u63a5\u53e3\u62a5\u9519")})).catch((function(e){console.error(e),n(e)}))}))}var io={boxView:"index-module_eRiOz",boxContentView:"index-module_hGCUO",tabNameView:"index-module_irCrA",tabNameActiveView:"index-module_TVITb",tabNameText:"index-module_ZtSHe",tabNameActiveText:"index-module_cbjuo",tabListBoxView:"index-module_KKeAs"},oo=Ai.SIGHT,ao=Ai.HOTEL,ro=Ai.HOMESTAY,lo=Ai.RESTAURANT,so=Ai.SHOP,co=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i,o,r;return(0,l.Z)(this,n),r=t.call(this,e),(0,m.Z)((0,c.Z)(r),"renderTabItemView",(function(e){var t=e.item,n=e.index,i=r.state.activeIndex===n;return(0,Ie.jsx)(Xt,{className:"".concat(io.tabNameView," ").concat(i&&io.tabNameActiveView),onClick:function(){return r.handleTabSwitch({item:t,index:n})},children:(0,Ie.jsx)(h.X_,{className:"".concat(io.tabNameText," ").concat(i&&io.tabNameActiveText),children:t.name})},t.name)})),r.state={activeIndex:0,loading:!0,filterLoading:!1,loadingMore:!1},r.suggestList=(null===(i=e.moduleData)||void 0===i?void 0:i.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{pageIndex:1,hasMore:e.itemList.length<e.totalCount})})))||[],r.params=(0,a.Z)((0,a.Z)({},e.params),{},{pageSize:6}),r.curType=null===(o=r.suggestList[0])||void 0===o?void 0:o.type,r.handleMore=r.handleMore.bind((0,c.Z)(r)),r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e,t;this.initData(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t)}},{key:"initData",value:function(){var e=this;this.suggestList.forEach((function(t){e.formatWaterfallData(!1,t)})),this.setState({loading:!1})}},{key:"getStrLength",value:function(e){return e.replace(/[\u0391-\u201b\u201e-\uFFE5]/g,"aa").length}},{key:"formatWaterfallData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=n.type,a=n.itemList,r=void 0===a?[]:a,l=n.leftHeight,s=void 0===l?0:l,c=n.rightHeight,d=void 0===c?0:c,u=n.leftArr,m=void 0===u?[]:u,x=n.rightArr,h=void 0===x?[]:x,v=[],p=[],g=r;e&&(g=i,o=this.curType),g.forEach((function(e){var n=e.imageInfo,i=e.name,a=e.hotelStar,r=e.rankingDesc,l=e.shortFeature,c=void 0===l?[]:l,u=e.themeTags,x=void 0===u?[]:u,v=e.tagList,p=void 0===v?[]:v,g=e.score,f=e.commentCount,_=e.price,b=e.comboInfo,y=0,j=0,N=0,I=0,T=0,w=0,S=0,k=0;if(null!==n&&void 0!==n&&n.imageUrl&&(null===n||void 0===n?void 0:n.width)>0){var E=n.width,Z=n.height;j=Math.min(Math.floor(_i*Z/E),240)}if(e.imageHeight=j,r&&(N=ji+Ni),i){var R=_i-16,C=t.getStrLength(i)>R/7?2:1;I=Ii*C+Ti}if((null===a||void 0===a?void 0:a.star)>0&&(T=wi+Si),([oo,lo,so].includes(o)&&(c[0]||x[0])||ro.includes(o)&&p.length)&&(w=ki+Ei),(g>0||f>0||null!==_&&void 0!==_&&_.price&&o===lo)&&(S=Zi+Ri),[oo,ao,ro].includes(o)&&_){var D=_||{},L=D.priceTypeDesc,A=D.priceType;((null===_||void 0===_?void 0:_.price)>=0||L)&&(L&&(k=14),(null===_||void 0===_?void 0:_.price)>=0&&![1,4,6].includes(Number(A))&&(k=3===Number(A)?14:22))}else o===lo&&b?k=Di:o===so&&(k=Li);k+=Ci,e.itemHeight=y=j+yi+N+I+T+w+S+k,s<=d?(s+=y+bi,e.offsetHeight=parseInt(s),m.push(e)):(d+=y+bi,e.offsetHeight=parseInt(d),h.push(e))})),n.leftArr=[].concat((0,_t.Z)(m),v),n.rightArr=[].concat((0,_t.Z)(h),p),n.leftHeight=s,n.rightHeight=d,n.itemList=[].concat((0,_t.Z)(r),(0,_t.Z)(i))}},{key:"render",value:function(){var e=this,t=this.suggestList,n=this.sizeInfo;return(0,Ie.jsx)(Xt,{className:io.boxView,testID:this.props.createExposureId("c_spotdetail_nearby_view"),children:(0,Ie.jsxs)(Xt,{className:io.boxContentView,children:[t.length>1&&(0,Ie.jsx)(h.cn,{start:{x:0,y:0},end:{x:0,y:1},colors:["rgb(255, 255, 255)","rgb(246, 248, 250)"],children:(0,Ie.jsx)(to,{data:t,disableScroll:!0,renderTabItem:this.renderTabItemView})}),!!t.length&&t.map((function(t,i){var o,r;return(0,Ie.jsx)(x.Fragment,{children:e.state.activeIndex===i&&(0,Ie.jsxs)(Xt,{className:io.tabListBoxView,testID:e.state.tabName===t.name?e.props.createExposureId("c_spotdetail_nearby_view_tab",{tabname:e.state.tabName}):null,style:{paddingLeft:_(gi/2),paddingRight:_(gi/2)},children:[(0,Ie.jsx)(Xt,{style:{width:_(_i),flexDirection:"column"},children:null===(o=t.leftArr)||void 0===o?void 0:o.map((function(i,o){return e.state.filterLoading&&e.curType===t.type?null:(0,Ie.jsx)(Qi,(0,a.Z)((0,a.Z)({type:t.type},i),{},{sizeInfo:n,isLast:o==t.leftArr.length-1,onPress:function(){Ke({jumpUrl:i.detailUrl})}}),"".concat(o,"-").concat(i.poiId))}))}),(0,Ie.jsx)(Xt,{style:{width:_(_i),flexDirection:"column"},children:null===(r=t.rightArr)||void 0===r?void 0:r.map((function(i,o){return e.state.filterLoading&&e.curType===t.type?null:(0,Ie.jsx)(Qi,(0,a.Z)((0,a.Z)({type:t.type},i),{},{sizeInfo:n,isLast:o==t.leftArr.length-1,onPress:function(){Ke({jumpUrl:i.detailUrl})}}),"".concat(o,"-").concat(i.poiId))}))})]},t.type)},i)}))]})})}},{key:"handleTabSwitch",value:function(e){var t=e.item,n=e.index,i=this.state.activeIndex;n!==i&&(this.curType=this.suggestList[n].type,this.props.ubtTrace("c_spotdetail_nearby_tab",{tab:t.name},!0),this.setState({activeIndex:n,tabName:t.name}),this.props.onChangeLoadMore(t.hasMore))}},{key:"handleMore",value:function(){var e=(0,r.Z)((0,o.Z)().mark((function e(){var t,n,i,r,l;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=(0,_t.Z)(this.suggestList),n=t[this.state.activeIndex],n.hasMore&&!this.isLoadingRequest){e.next=4;break}return e.abrupt("return",!1);case 4:return i=n.pageIndex+1,r=(0,a.Z)((0,a.Z)({},this.params),{},{type:n.type,pageIndex:i,pageSize:6}),this.isLoadingRequest=!0,e.prev=7,e.next=10,no(r);case 10:return l=e.sent,console.log("wf res",l),this.formatWaterfallData(!0,n,l.itemList),n.pageIndex=i,n.moreUrl=l.moreUrl,n.totalCount=l.totalCount,n.hasMore=n.itemList.length<n.totalCount,this.props.ubtTrace("c_spotdetail_nearby_all",{tab:this.state.tabName}),this.setState({reload:!0}),this.isLoadingRequest=!1,e.abrupt("return",!0);case 23:return e.prev=23,e.t0=e["catch"](7),console.log("wf err \u62a5\u9519",e.t0),e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e,this,[[7,23]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(x.Component),uo=co,mo=function(e,t){var n=e.baseData,i=void 0===n?{}:n,l=e.shouldRender,s=e.requestScene,c=e.urlParams,d=void 0===c?{}:c,u=e.bottomHeight,m=e.ubtTrace,v=e.createExposureId,p=e.renderBottomHint,g=e.type,_=e.tabLoaded,b=e.onLoad,y=i.poiId,j=i.businessId,N=i.districtId,I=i.coordinate,T=d.scene,w=d.ignorePublishStatus,S=(0,x.useContext)(oi),k=S.renderTrace,E=(0,x.useRef)(null),Z=(0,x.useRef)(!0),R=(0,x.useState)([]),C=(0,f.Z)(R,2),D=C[0],L=C[1],A=(0,x.useState)(!1),P=(0,f.Z)(A,2),H=P[0],F=P[1];function U(){return M.apply(this,arguments)}function M(){return M=(0,r.Z)((0,o.Z)().mark((function e(){var t,n,i,r,l;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(0,a.Z)((0,a.Z)((0,a.Z)({},y&&{poiId:y}),j&&{businessId:j}),{},{scene:s},w&&{ignorePublishStatus:w}),e.prev=1,e.next=4,un({data:t});case 4:n=e.sent,i=n||{},r=i.templateList,l=void 0===r?[]:r,L(l),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),F(!0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),M.apply(this,arguments)}function O(e){Z.current=e}(0,x.useImperativeHandle)(t,(function(){return{handleEndReached:B}})),(0,x.useEffect)((function(){l&&U()}),[l]),(0,x.useEffect)((function(){D.length&&(null===k||void 0===k||k.trace(ve.afterRecommendation,(0,a.Z)({},rn("recClickTime")>0&&{timeFromClick:de()-rn("recClickTime")})))}),[D]);var B=function(){var e=(0,r.Z)((0,o.Z)().mark((function e(){var t,n,i,a;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("xixi handleEndReached, isLoadingMoreRef: ",Z.current),Z.current){e.next=3;break}return e.abrupt("return");case 3:if(O(!1),null===E||void 0===E||null===(t=E.current)||void 0===t||!t.handleMore){e.next=11;break}return e.next=7,null===E||void 0===E||null===(n=E.current)||void 0===n||null===(i=n.handleMore)||void 0===i?void 0:i.call(n);case 7:a=e.sent,O(a),e.next=12;break;case 11:O(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function V(e){var t,n=e.moduleType,i={poiId:y,districtId:N,scene:T,poiCoordinate:{coordinateType:null===I||void 0===I?void 0:I.coordinateType,latitude:null===I||void 0===I?void 0:I.latitude,longitude:null===I||void 0===I?void 0:I.longitude}};switch(n){case"relatedSuggest":return(null===(t=e.relatedSuggestModule)||void 0===t||null===(t=t.subModuleList)||void 0===t?void 0:t.length)>0&&(0,Ie.jsx)(uo,{ref:E,moduleData:e.relatedSuggestModule.subModuleList,params:i,createExposureId:v,ubtTrace:m,onChangeLoadMore:O,onLoad:function(){return null===b||void 0===b?void 0:b(g)}})}}return 0==(null===D||void 0===D?void 0:D.length)&&H?(0,Ie.jsx)(pi,{}):(0,Ie.jsxs)(h.En,{children:[(null===D||void 0===D?void 0:D.length)>0&&l?(0,Ie.jsx)(h.En,{children:D.map((function(e){return Array.isArray(e.moduleList)&&e.moduleList.length>0&&(0,Ie.jsx)(h.En,{children:e.moduleList.map((function(e){return(0,Ie.jsx)(h.En,{children:V(e)},e.moduleType)}))},e.templateType)}))}):(0,Ie.jsx)(hi,{height:u}),_&&D.length>0&&(0,Ie.jsx)(h.En,{className:mi.bottomWrapper,children:null===p||void 0===p?void 0:p(g)})]})},xo=(0,x.memo)((0,x.forwardRef)(mo),ni),ho={container:"index-module_DH8RW","wrapper-view":"index-module_ikmkl","hint-container":"index-module_MB7F2","hint-left-text":"index-module_H9f3J","hint-right-btn":"index-module_TCOF0","hint-right-text":"index-module_R4ePK","hint-arrow-icon":"index-module_RJdLo"},vo=_e.COMMODITY,po=_e.COMMENT_NOTE,go=_e.RELATED_REC,fo=function(e,t){var n,i=e.fromType,o=e.intialTabList,a=void 0===o?[]:o,r=e.onUpdateTabIndex,l=(e.createExposureId,e.onHintTouchStart),s=(0,x.useState)(a),c=(0,f.Z)(s,2),d=c[0],u=c[1],m="",v=0;if((0,x.useImperativeHandle)(t,(function(){return{updateTabList:u}})),1==d.length)return null;2==d.length&&(v=d.findIndex((function(e){return e.type!=i})),m=(null===(n=d[v])||void 0===n?void 0:n.type)||"");return 3==d.length&&(i!=po&&i!=go||(m=vo),i==vo&&(m=po),v=d.findIndex((function(e){return e.type==m}))),-1==v?null:(0,Ie.jsxs)(h.En,{className:ho["hint-container"],style:{paddingBottom:U.safeAreaBottom+16},children:[(0,Ie.jsx)(h.X_,{className:ho["hint-left-text"],children:"\u70b9\u51fb\u67e5\u770b"}),(0,Ie.jsxs)(h.En,{className:ho["hint-right-btn"],onTouchStart:function(){return null===l||void 0===l?void 0:l(v)},onClick:function(){return null===r||void 0===r?void 0:r(v)},children:[(0,Ie.jsx)(h.X_,{className:ho["hint-right-text"],children:d[v].name}),(0,Ie.jsx)(Ze,{className:ho["hint-arrow-icon"],children:"\ue944"})]})]})},_o=(0,x.memo)((0,x.forwardRef)(fo)),bo=_e.COMMODITY,yo=_e.COMMENT_NOTE,jo=_e.RELATED_REC,No=function(e,t){var n=e.tabInfoList,i=e.tabBarHeight,o=void 0===i?0:i,r=e.initIndex,l=void 0===r?0:r,s=e.isOverviewLoading,c=e.baseData,d=e.urlParams,u=void 0===d?{}:d,m=e.onTabListLoad,v=e.onUpdateTabIndex,p=e.onHintTouchStart,g=e.onCommodityCallback,_=e.scrollTo,b=e.createExposureId,y=e.ubtTrace,j=e.onModuleLoad,N=(0,x.useState)(be),I=(0,f.Z)(N,2),T=I[0],w=I[1],S=(0,x.useState)(!1),k=(0,f.Z)(S,2),E=k[0],Z=k[1],R=(0,x.useState)([]),C=(0,f.Z)(R,2),D=C[0],L=C[1],A=(0,x.useState)(l),P=(0,f.Z)(A,2),H=P[0],F=P[1],M=(0,x.useState)(!u.hideTicket&&null),O=(0,f.Z)(M,2),B=O[0],V=O[1],X=(0,x.useRef)({}),G=(0,x.useRef)(),Y=(0,x.useRef)(),W=(0,x.useRef)(null),z=(0,x.useRef)(null),q=(0,x.useRef)(),K=(0,x.useRef)(be),J=(0,x.useRef)(!0);console.log("bottomBox render=======");var Q=U.isAlipay?e.height:U.HEIGHT,$=Q-U.getNavigationBarHeight(u.hideNavBar)-o,ee={width:U.isMini?U.SCREENWIDTH:"100%",minHeight:U.isMini?$:$-1},te=ce(u);function ne(e){var t,n;F(e),Y.current=e;var i=(null===(t=K.current)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.type)||"";i==_e.COMMENT_NOTE&&an("commentClickTime",de()),i==_e.RELATED_REC&&an("recClickTime",de()),null===(n=z.current)||void 0===n||n.updateIsShop(i==bo),ie(i)}function ie(e){D.includes(e)||L([].concat((0,_t.Z)(D),[e]))}(0,x.useImperativeHandle)(t,(function(){return{updateBottomWrap:ne,updateScrollToShelf:function(e){var t;null===(t=z.current)||void 0===t||t.updateScroll(e)},updateScrollEnableToShlef:function(e){var t;null===(t=z.current)||void 0===t||t.updateScrollEnable(e)},setTopDistance:function(e){var t;null===(t=z.current)||void 0===t||t.setTopDistance(e)},relatedRecommendRef:G,proceedShelfRender:function(){var e,t;te&&(null===(e=z.current)||void 0===e||null===(t=e.proceedShelfRender)||void 0===t||t.call(e))}}})),(0,x.useEffect)((function(){!s&&n&&(q.current=n)}),[s]),(0,x.useEffect)((function(){if(!s&&null!=B){var e,t,i=n||T;if(!B)i=i.filter((function(e){return e.type!=bo})),ie(null===(t=i)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.type);J.current&&(null===m||void 0===m||m(i),ae(i)),K.current=i,w(i),Z(!0),null===g||void 0===g||g(X.current),null===(e=W.current)||void 0===e||e.updateTabList(i)}}),[s,B]);var oe=(0,x.useCallback)((function(e){var t,n,i,o=1==(null===e||void 0===e||null===(t=e.find((function(e){return"shelfTypeStatus"===e.key})))||void 0===t?void 0:t.value),a=null===e||void 0===e||null===(n=e.find((function(e){return"inventoryTip"===e.key})))||void 0===n?void 0:n.value;o&&(null===(i=h.hS.logTrace)||void 0===i||i.call(h.hS,"tkt_spotdetail_market_load_success",{}));if(X.current={hasCommodity:o,inventoryText:a},q.current){var r,l=q.current||T;if(!o)l=l.filter((function(e){return e.type!=bo})),ie(null===(r=l)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.type);K.current=l,J.current=!1,null===m||void 0===m||m(l),ae(l)}console.log("\u8d27\u67b6\u56de\u8c03======",o),V(o)}),[]);function ae(e){if(te){var t=null===e||void 0===e?void 0:e.findIndex((function(e){return e.type===yo}));t>0&&(null===v||void 0===v||v(t))}}var re=(0,x.useCallback)((function(e){return(0,Ie.jsx)(_o,{ref:W,intialTabList:T,onUpdateTabIndex:v,onHintTouchStart:p,fromType:e})}),[T]);return(0,Ie.jsx)(h.En,{className:ho.container,children:T.map((function(e,t){var n=e.type;switch(n){case bo:return!u.hideTicket&&(0,Ie.jsx)(h.En,{style:(0,a.Z)((0,a.Z)({},ee),{},{display:H==t?"flex":"none"}),className:ho["wrapper-view"],children:(0,Ie.jsx)(ui,{ref:z,type:n,tabBarHeight:o,height:ee.minHeight,baseData:c,urlParams:u,shouldRender:D.includes(bo),onSeverCallBack:oe,renderBottomHint:re,scrollTo:_})},n);case yo:return(0,Ie.jsx)(h.En,{style:(0,a.Z)((0,a.Z)({},ee),{},{display:H==t?"flex":"none"}),className:ho["wrapper-view"],children:(0,Ie.jsx)(ri,{type:n,baseData:c,requestScene:"".concat(u.scene,"_").concat(n),urlParams:u,shouldRender:D.includes(yo),bottomHeight:ee.minHeight,tabLoaded:E,renderBottomHint:re,onLoad:j})},n);case jo:return(0,Ie.jsx)(h.En,{style:(0,a.Z)((0,a.Z)({},ee),{},{display:H==t?"flex":"none"}),className:ho["wrapper-view"],children:(0,Ie.jsx)(xo,{ref:G,baseData:c,requestScene:"".concat(u.scene,"_").concat(n),urlParams:u,shouldRender:D.includes(jo),bottomHeight:ee.minHeight,createExposureId:b,ubtTrace:y,renderBottomHint:re,type:n,tabLoaded:E,onLoad:j})},n);default:return null}}))})},Io=(0,x.forwardRef)(No);function To(e){return wo.apply(this,arguments)}function wo(){return wo=(0,r.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.c0.getBoundingClientRect({node:t});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),wo.apply(this,arguments)}function So(e){(0,M.createSelectorQuery)().select("#sight-detail-scroll").scrollOffset((function(t){null===e||void 0===e||e(t)})).exec()}function ko(e){var t=e.prevIndex,n=e.scrollY,i=e.offsetTopToNav,o=e.isFixed,r=e.tabListWithY,l=[];return Array.isArray(r)&&r.length&&(l=o?null===r||void 0===r?void 0:r.map((function(e,o){return(0,a.Z)((0,a.Z)({},e),{},{y:t===o?n:Math.max(e.y||0,i||0)})})):null===r||void 0===r?void 0:r.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{y:n})}))),l}var Eo={container:"index-module_aa_t4",linearFromAddress:"index-module_nV_GL",box:"index-module_LBeeo",immerseIcon:"index-module_x45XL",unImmerseIcon:"index-module_Ogybg",isImmerseIcon:"index-module_g1Roc",openTimeTicketBox:"index-module_gYPFY",titleView:"index-module_HegLw"},Zo=ge.RANK_BG_YEARLY,Ro=ge.RANK_BG_4,Co=fe.YEAR,Do=fe.FASHION,Lo=function(e){var t=e.baseData,n=void 0===t?{}:t,i=e.createExposureId,o=n.rankingInfo,a=void 0===o?{}:o,r=J(n),l=r.isShowRank,s=a.type==Co?Zo:Ro;if(!l||(null===a||void 0===a?void 0:a.type)==Do)return null;var c=function(){Ye({rankingInfo:a,isShield:!0})};return(0,Ie.jsx)(Xt,{style:{marginLeft:_(2),position:"absolute",top:_(-47),right:_(12),zIndex:22},onClick:function(){c(2)},testID:null===i||void 0===i?void 0:i("c_spotdetail_ranking_view",{rankingname:a.description}),children:(0,Ie.jsx)(h.Y,{src:s,style:{width:_(64),height:_(76)}})})},Ao=Lo,Po={title:"index-module_GGq5V",inlineBlock:"index-module_yh8Ss",titleText:"index-module_fRip5",titleEnText:"index-module_gOwIV",titleTag:"index-module_oCrbC",titleTagText:"index-module_qTgyg",heatView:"index-module_xDDmr",triangle:"index-module_wHssZ",hypotenuse:"index-module_lSm9a"};function Ho(e){var t=e.heatScore,n=e.createExposureId,i=e.openHeatScoreMask,o=function(){i()};return(0,Ie.jsx)(Xt,{className:"heatscore",children:(0,Ie.jsxs)(Xt,{testID:null===n||void 0===n?void 0:n("c_spotdetail_view_hot"),style:{height:_(19),alignItems:"center",flexDirection:"row",borderRadius:4},onClick:o,children:[(0,Ie.jsx)(h.cn,{style:{position:"absolute",left:_(4),right:0,zIndex:-1,height:"100%",borderRadius:_(2)},start:{x:0,y:0},end:{x:1,y:0},colors:["#FF8378","#ff525a"]}),(0,Ie.jsx)(Ze,{style:{fontSize:_(14),color:"#fff",marginLeft:_(6),lineHeight:_(19)+"px"},children:"\udb83\ude82"}),(0,Ie.jsx)(h.X_,{style:{marginLeft:_(2),marginRight:_(3),fontWeight:"bold",fontSize:_(14),color:"#fff",lineHeight:_(19)+"px"},children:t})]})})}var Fo=Ho;function Uo(e){var t=e.subTitle,n=void 0===t?"":t,i=q(n)||K(n);return U.isIos&&U.isApp&&i?(0,Ie.jsx)(Xt,{className:Po.titleEnText,children:(0,Ie.jsx)(h.X_,{style:{fontSize:_(13),color:yt.black3,lineHeight:_(24)},children:n})}):(0,Ie.jsx)(h.X_,{className:Po.titleEnText,children:n})}var Mo=function(e){var t=e.baseData,n=void 0===t?{}:t,i=e.createExposureId,o=e.urlParams,a=e.openHeatScoreMask,r=n.poiName,l=n.poiSubtitleName,s=n.heatScore,c=n.poiLevel,d=(null===o||void 0===o?void 0:o.heatScore)||s,u=_(z(r)>=24?20:22),m=!!d&&(0,Ie.jsx)(Fo,{heatScore:d,openHeatScoreMask:a}),v=!!l&&l!==r;return(0,Ie.jsx)(Xt,{testID:null===i||void 0===i?void 0:i("gs_spotdetail_view_name"),className:Po.title,children:(0,Ie.jsx)(Xt,{style:{fontSize:u},className:Po.titleText,children:(0,Ie.jsxs)(Xt,{style:{display:"block"},children:[(0,Ie.jsx)(h.X_,{children:r}),v?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(Uo,{subTitle:l}),!!c&&Oo(c),(0,Ie.jsx)(Xt,{style:{display:"inline-block"},children:m})]}):(0,Ie.jsxs)(x.Fragment,{children:[!!c&&Oo(c),(0,Ie.jsx)(Xt,{style:{display:"inline-block"},children:m})]})]})})})};function Oo(e){var t="";return 4===e?(t=ge.LEVEL4_TAG,Bo(t,0,26)):5===e?(t=ge.LEVEL5_TAG,Bo(t,0,26)):void 0}function Bo(e,t,n){var i=n||56;return U.isIos?(0,Ie.jsx)(Xt,{className:Po.titleTag,style:{display:"inline-block"},children:(0,Ie.jsx)(h.Y,{style:{width:_(i),height:_(17)},src:e})},t):(0,Ie.jsx)(Xt,{style:{paddingLeft:_(5),paddingRight:_(5),display:"inline-block"},children:(0,Ie.jsx)(h.Y,{style:{width:_(i),height:_(17),marginBottom:_(-1)},src:e},t)})}var Vo=x.memo(Mo),Xo={commentView:"index-module_T4Pne",commentBottomView:"index-module_f3UHl","comment-score-view":"index-module_Kr5bt","score_text-unit":"index-module_FQ6ut",commentScoreView:"index-module__s8sS",commentScoreViewNoBgColor:"index-module_L3CAQ",noScoreView:"index-module_KtoAZ",commentScoreText:"index-module_zphnw",commentScoreTextUnit:"index-module_tSQTj",shortFeatureView:"index-module_sTa_e",shortFeatureText:"index-module__VW9Z",commentCountView:"index-module_iLwwz",commentCountText:"index-module_yJc1D","comment-count-lgt0-view":"index-module_Spzz6",commentArrowIcon:"index-module_MIzgD",commentFeaturebox:"index-module_TzOOw",commentScoreViewSmall:"index-module_WyFEk",scoreView:"index-module_po2_L",scoreText:"index-module_r_LpD",scoreUnitText:"index-module_c_jqI",countView:"index-module_PpyY2",countText:"index-module_dszga",countArrowIcon:"index-module_Y_1Zl",noScoreSupplyView:"index-module__wQiG",commentCountTextSmall:"index-module_Bw54x",commentArrowIconSmall:"index-module_Wsx9D",commentNoScoreView:"index-module_RTvnc",noScoreViewSmall:"index-module_Sdyki",featureText:"index-module_KLrFn"},Go={rankView:"index-module_Qq6nK",rankText:"index-module_U6Jol",rankArrowView:"index-module_b8sTW",rankArrowIcon:"index-module_M2WuI"},Yo=fe.YEAR,Wo=fe.FASHION,zo=ge.RANKING_HINT_TEXT,qo=ge.RANKING_HINT_TEXT_DARK,Ko=ge.RANKING_FASHION_TEXT,Jo=function(e){var t=e.baseData,n=void 0===t?{}:t,i=e.createExposureId,o=n.rankingInfo,a=void 0===o?{}:o,r=J(n),l=r.isShowRank,s=a.type==Yo,c=a.type===Wo,d=function(e){var t;null===e||void 0===e||null===(t=e.stopPropagation)||void 0===t||t.call(e),Ye({rankingInfo:a})};return l?c?(0,Ie.jsx)(Xt,{className:Go.rankView,style:{flexShrink:1,paddingRight:0},activeOpacity:1,onClick:d,testID:null===i||void 0===i?void 0:i("c_spotdetail_ranking_view"),children:(0,Ie.jsxs)(h.cn,{start:{x:0,y:0},end:{x:1,y:0},colors:["#E9F1FF","#F3EDFF"],style:{display:"flex",flexDirection:"row",alignItems:"center",borderTopRightRadius:_(2),borderBottomRightRadius:_(2)},children:[(0,Ie.jsx)(h.cn,{start:{x:0,y:0},end:{x:1,y:0},colors:s?["#673207","#3F1A01"]:["#F6DDC6","#F1B694"],style:{width:_(41),height:_(20),alignItems:"center",justifyContent:"center",borderRadius:_(2),marginRight:_(4)},children:(0,Ie.jsx)(h.Y,{src:Ko,style:{width:_(41),height:_(20)}})}),(0,Ie.jsx)(h.X_,{style:{flexShrink:1,fontWeight:"normal",color:"#333333"},className:Go.rankText,numberOfLines:1,children:a.description}),(0,Ie.jsx)(Xt,{className:Go.rankArrowView,style:{paddingRight:_(4)},children:(0,Ie.jsx)(Ze,{className:Go.rankArrowIcon,style:{color:"#333333"},children:"\ue944"})})]})}):c?null:(0,Ie.jsxs)(Xt,{style:{flexShrink:1},activeOpacity:1,className:Go.rankView,onClick:d,testID:null===i||void 0===i?void 0:i("c_spotdetail_ranking_view"),children:[(0,Ie.jsx)(h.cn,{start:{x:0,y:0},end:{x:1,y:0},colors:s?["#673207","#3F1A01"]:["#F6DDC6","#F1B694"],style:{display:"flex",width:_(41),height:_(20),alignItems:"center",justifyContent:"center",borderRadius:_(2),marginRight:_(4)},children:(0,Ie.jsx)(h.Y,{src:s?zo:qo,style:{width:_(31),height:_(12)}})}),(0,Ie.jsx)(h.X_,{className:Go.rankText,style:{flexShrink:1},numberOfLines:1,children:a.description}),(0,Ie.jsx)(Xt,{className:Go.rankArrowView,children:(0,Ie.jsx)(Ze,{className:Go.rankArrowIcon,children:"\ue944"})})]}):null},Qo=Jo,$o=function(e){var t=e.baseData,n=void 0===t?{}:t,i=e.createExposureId,o=e.urlParams,r=void 0===o?{}:o,l=n.shortFeatures,s=void 0===l?[]:l,c=n.commentScore,d=n.commentCount,u=n.isRedPoi,m=!0,x=m?"#0066F6":"#0086f6",v=J(n),p=v.isShowRank,g=v.isShowFeatures,f=u,b=function(){Oe({baseData:n,urlParams:r})},y=function(){Fe((0,a.Z)((0,a.Z)({},n),{},{hideToHome:r.hideToHome}))},j=b;return 0==c&&(j=0==d?y:b),f&&(j=function(){}),Number(c)>0&&Number(d)>0?(0,Ie.jsxs)(Xt,{style:{alignItems:"center"},activeOpacity:1,children:[(0,Ie.jsxs)(Xt,{style:(0,a.Z)((0,a.Z)({},U.flexCenter),{},{height:_(20),marginRight:_(8)}),onClick:j,children:[(0,Ie.jsxs)(Xt,{className:Xo["comment-score-view"],children:[(0,Ie.jsx)(h.X_,{className:Xo.commentScoreText,children:c}),(0,Ie.jsx)(h.X_,{className:Xo["score_text-unit"],children:"\u5206"})]}),(0,Ie.jsxs)(Xt,{className:Xo["comment-count-lgt0-view"],children:[(0,Ie.jsxs)(h.X_,{style:{fontSize:_(12),color:x},children:[d,"\u6761\u70b9\u8bc4"]}),(0,Ie.jsx)(Ze,{style:{fontSize:_(12),color:x},children:"\uef8c"})]})]}),p&&(0,Ie.jsx)(Qo,{baseData:n,createExposureId:i}),!p&&g&&(0,Ie.jsxs)(h.X_,{numberOfLines:1,style:{color:x,fontSize:_(12),flex:1},children:["\u201c",s[0],"\u201d"]})]}):(0,Ie.jsxs)(Xt,{className:Xo.commentView,activeOpacity:1,children:[(0,Ie.jsxs)(Xt,{style:{alignItems:"center"},activeOpacity:1,onClick:function(){Number(d)>0||j()},children:[(0,Ie.jsxs)(Xt,{className:Xo.commentScoreView,style:{backgroundColor:"transparent"},children:[(0,Ie.jsx)(h.X_,{className:Xo.commentCountText,style:{color:"#555",fontSize:_(13)},numberOfLines:1,children:"\u6682\u65e0\u8bc4\u5206"}),!!u&&(0,Ie.jsx)(h.X_,{className:Xo.commentCountText,style:{color:"#999"},numberOfLines:1,children:"\uff08\u8bc4\u5206\u7ec6\u5219\u8c03\u6574\u4e2d\uff09"})]}),!f&&!U.isAlipay&&(0,Ie.jsxs)(Xt,{className:Xo.commentCountView,activeOpacity:1,children:[Number(d)>0?(0,Ie.jsx)(h.X_,{className:Xo.commentCountText,numberOfLines:1,children:d+"\u6761\u7b14\u8bb0"}):(0,Ie.jsx)(h.X_,{numberOfLines:1,style:{color:"#555",fontSize:_(13)},children:"\u70b9\u8bc4\u6709\u5956"}),(0,Ie.jsx)(Ze,{className:Xo.commentArrowIcon,children:"\ue944"})]})]}),p&&(0,Ie.jsx)(Qo,{baseData:n,createExposureId:i}),!p&&g&&(0,Ie.jsxs)(h.X_,{style:{color:x,fontSize:_(12)},children:["\u201c",s[0],"\u201d"]})]})},ea=x.memo($o),ta=function(e){var t=e.baseData,n=void 0===t?{}:t,i=e.createExposureId,o=e.urlParams,r=void 0===o?{}:o,l=J(n),s=l.isShowRank,c=l.isShowFeatures,d=function(){Oe({baseData:n,urlParams:r})},u=function(){Fe((0,a.Z)((0,a.Z)({},n),{},{hideToHome:r.hideToHome}))},m=d,x=n.shortFeatures,v=void 0===x?[]:x,p=n.commentScore,g=void 0===p?0:p,f=n.commentCount,b=void 0===f?0:f,y=n.isRedPoi;0==g&&(m=0==b?u:d);var j=(0,Ie.jsxs)(Ie.Fragment,{children:[s&&(0,Ie.jsx)(Xt,{style:{marginTop:_(8),flexDirection:"row"},children:(0,Ie.jsx)(Qo,{baseData:n,createExposureId:i})}),!s&&c&&(0,Ie.jsxs)(h.X_,{className:Xo.featureText,numberOfLines:1,children:["\u201c",v[0],"\u201d"]})]});return g>0&&b>0?(0,Ie.jsxs)(Xt,{className:Xo.commentFeaturebox,children:[(0,Ie.jsxs)(Xt,{className:Xo.commentScoreViewSmall,onClick:m,children:[(0,Ie.jsxs)(Xt,{className:Xo.scoreView,children:[(0,Ie.jsx)(h.X_,{className:Xo.scoreText,children:g}),(0,Ie.jsx)(h.X_,{className:Xo.scoreUnitText,children:"\u5206"})]}),(0,Ie.jsxs)(Xt,{style:{backgroundColor:yt.colorRGBA(yt.blue2,.1)},className:Xo.countView,children:[(0,Ie.jsxs)(h.X_,{className:Xo.countText,children:[b,"\u6761\u70b9\u8bc4"]}),(0,Ie.jsx)(Ze,{className:Xo.countArrowIcon,children:"\uef8c"})]})]}),j]}):(0,Ie.jsxs)(Xt,{className:Xo.commentFeaturebox,children:[(0,Ie.jsxs)(Xt,{className:Xo.commentNoScoreView,onClick:m,activeOpacity:y?1:.2,children:[(0,Ie.jsxs)(Xt,{className:Xo.noScoreViewSmall,children:[(0,Ie.jsx)(h.X_,{className:Xo.commentCountTextSmall,numberOfLines:1,children:"\u6682\u65e0\u8bc4\u5206"}),!!y&&(0,Ie.jsx)(h.X_,{className:Xo.commentCountTextSmall,style:{color:"#888888"},numberOfLines:1,children:"\uff08\u8bc4\u5206\u7ec6\u5219\u8c03\u6574\u4e2d\uff09"})]}),!y&&!U.isAlipay&&(0,Ie.jsxs)(Xt,{className:Xo.noScoreSupplyView,children:[b>0?(0,Ie.jsx)(h.X_,{className:Xo.commentCountTextSmall,style:{color:"#888888"},numberOfLines:1,children:b+"\u6761\u7b14\u8bb0"}):(0,Ie.jsx)(h.X_,{className:Xo.commentCountTextSmall,style:{color:"#888888"},numberOfLines:1,children:"\u70b9\u8bc4\u6709\u5956"}),(0,Ie.jsx)(Ze,{className:Xo.commentArrowIconSmall,children:"\ue944"})]})]}),j]})},na=ta;function ia(e){var t=h.Y8.ABTestingManager.valueForKeySync(e);return t||"A"}var oa={wrapper:"index-module_poaqp",openTimeWrapper:"index-module_pVckA",tagWrapper:"index-module_fR0hn",tagText:"index-module_M8Zsz",wrapper2:"index-module_g3FzW",openStatusText:"index-module_wetEr",openTimeState:"index-module_T15DR",openTimeStateClose:"index-module_JTeLY",openTimeText:"index-module_rbS7I",arrow:"index-module_gq1hG",tagArrow:"index-module_fyjEF",s109Wrapper:"index-module_Xvzfm",s109Box:"index-module_KYwWR",s109TagWrapper:"index-module_H8BI0",s109TagBox:"index-module_M9PKI",s109TagTxt:"index-module_HIkCw",addressWrapper:"index-module_aPUd3",addressText:"index-module_VV_ia",s109AddressTxt:"index-module_lT9gH",s109AddressDescTxt:"index-module_qLPdW",deco_box:"index-module_kUpfU",s117TagWrapper:"index-module_l9fi5",orangeBorder:"index-module_sVd8k",orangeFont:"index-module_Gmm5E",addressMapImg:"index-module_K4Ieo",taxiIconWrapper:"index-module_kNcok",s117AskWayWrapper:"index-module__FAFu",askText:"index-module_hXFa0"},aa=function(e){var t=e.baseData,n=void 0===t?{}:t,i=e.extendData,o=void 0===i?{}:i,r=(e.createExposureId,e.urlParams),l=void 0===r?{}:r,s=n.openInfo,c=void 0===s?{}:s,d=c.openStatus,u=c.openTime,m=c.openStatusType,v=n.viewMoreDesctription,p=n.address,g=n.tagCollection,b=void 0===g?{}:g,y=(b.tagNameList,n.tagInfo),j=void 0===y?{}:y,N=j.tagDetailList,I=void 0===N?[]:N,T=n.telephoneList,w=void 0===T?[]:T,S=n.hasAskWay,k=void 0!==S&&S,E=(n.comfortDesc,function(){Be({baseData:n})}),Z=function(){Ge({poiId:n.poiId||0,urlParams:l})},R=function(e){Xe({poiId:n.poiId||0,urlParams:l,href:e})},C=function(e){e.stopPropagation(),Me(w[0])},D=(0,x.useState)("A"),L=(0,f.Z)(D,2),A=L[0],P=L[1];(0,x.useEffect)((function(){P(ia(pe.TAXI_ENTRANCE_AB))}),[]);var H=o.trackingInfo,F=void 0===H?{}:H,M=F.positionType,O=o.trackingInfo,B=o.distanceInfo,V=void 0===B?{}:B,X=o.taxiInfo,G=void 0===X?{}:X,Y=J(n),W=Y.isShowOpenTime,z=Y.isShowAddress,q=Y.isShowTaxi,K=I.length>0,Q=2==M||3==M,$="B"===A&&q&&(null===G||void 0===G?void 0:G.url)&&Q,ee=!!W&&(0,Ie.jsx)(Xt,{className:oa.wrapper,children:(0,Ie.jsxs)(Xt,{onClick:Z,activeOpacity:1,style:{paddingTop:_(12),paddingRight:_(16)},className:oa.openTimeWrapper,children:[(0,Ie.jsxs)(Xt,{className:oa.wrapper2,style:{marginTop:_(4),height:_((U.isXiaoMi,20))},children:[!!d&&(0,Ie.jsx)(h.X_,{className:"".concat(oa.openStatusText," ").concat(m?oa.openTimeStateClose:oa.openTimeState),children:d}),(0,Ie.jsx)(h.X_,{className:oa.openTimeText,children:u||v})]}),K&&(0,Ie.jsx)(Xt,{style:{marginTop:_(4),flexWrap:"wrap",overflow:"hidden",height:_((U.isXiaoMi||U.isMini,16))},children:I.map((function(e,t){return(0,Ie.jsxs)(Xt,{className:"".concat(oa.s117TagWrapper," ").concat("S"===(null===e||void 0===e?void 0:e.level)?oa.orangeBorder:""),style:{paddingRight:null!==e&&void 0!==e&&e.subTitle?0:"2px",marginLeft:1},onClick:function(t){null!==e&&void 0!==e&&e.subTitle&&null!==e&&void 0!==e&&e.type&&(t.stopPropagation(),R(null===e||void 0===e?void 0:e.type))},children:[(0,Ie.jsx)(h.X_,{className:"".concat(oa.tagText," ").concat("S"===(null===e||void 0===e?void 0:e.level)?oa.orangeFont:""),style:{transform:"translateY(".concat(U.isAndroid&&!U.isXiaoMi?"1px":0,")")},children:null===e||void 0===e?void 0:e.title}),!(null===e||void 0===e||!e.subTitle)&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(Xt,{style:{width:1,height:16,transform:"scale(0.5)",background:"S"===(null===e||void 0===e?void 0:e.level)?"#f27000":"#0f4999",marginLeft:4,marginRight:4}}),(0,Ie.jsx)(h.X_,{className:"".concat(oa.tagText," ").concat("S"===(null===e||void 0===e?void 0:e.level)?oa.orangeFont:""),style:{transform:"translateY(".concat(U.isAndroid&&!U.isXiaoMi?"1px":0,")")},children:null===e||void 0===e?void 0:e.subTitle}),(0,Ie.jsx)(Ze,{className:"".concat(oa.tagArrow," ").concat("S"===(null===e||void 0===e?void 0:e.level)?oa.orangeFont:""),children:"\uef8c"})]})]},t)}))}),(0,Ie.jsx)(Ze,{className:oa.arrow,children:"\ue944"})]})}),te=!!z&&(0,Ie.jsxs)(Xt,{style:(0,a.Z)({},!W&&{paddingTop:_(16)}),className:oa.addressWrapper,activeOpacity:1,onClick:E,children:[(0,Ie.jsxs)(Xt,{style:{flex:1,flexDirection:"column",flexShrink:1},children:[(0,Ie.jsxs)(h.X_,{className:oa.addressText,children:[Q&&!(null===V||void 0===V||!V.distanceDesc)&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(h.X_,{children:V.distanceDesc}),(0,Ie.jsx)(h.X_,{style:{letterSpacing:-1},children:"\xb7"})]}),p]}),k&&(0,Ie.jsx)(Xt,{className:oa.s117AskWayWrapper,children:(0,Ie.jsx)(h.X_,{className:oa.askText,children:"\u95ee\u8def\u5361"})})]}),(0,Ie.jsxs)(Xt,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[!$&&!!O&&(0,Ie.jsxs)(Xt,{style:(0,a.Z)({alignItems:"center",display:"flex"},k||$?{flexDirection:"column"}:{flexDirection:"row"}),children:[(0,Ie.jsx)(h.Y,{className:oa.addressMapImg,src:ge.S117_MAP_ICON}),(0,Ie.jsx)(h.X_,{style:(0,a.Z)({fontSize:_(13),color:"#111"},k||$?{marginTop:_(2)}:{marginLeft:_(2)}),children:Q?"\u5bfc\u822a":"\u5730\u56fe"})]}),w.length>0&&(0,Ie.jsxs)(Xt,{onClick:C,style:(0,a.Z)({display:"flex",flexDirection:"column",alignItems:"center",marginLeft:_(k?16:8)},!k&&{flexDirection:"row"}),children:[(0,Ie.jsx)(Xt,{style:{display:"flex",width:_(17),height:_(17),borderRadius:_(8.5),backgroundColor:"#EEF1F6",alignItems:"center",justifyContent:"center"},children:(0,Ie.jsx)(Ze,{style:{color:"#111",fontSize:_(12)},children:"\udb84\udccd"})}),(0,Ie.jsx)(h.X_,{style:(0,a.Z)({fontSize:_(13),color:"#111"},k?{marginTop:_(2)}:{marginLeft:_(2)}),children:"\u7535\u8bdd"})]})]})]});return(0,Ie.jsxs)(Xt,{style:{flexDirection:"column"},children:[ee,te]})},ra=aa,la={smallContainer:"index-module_qx0m5",smallHeadTop:"index-module_RQJFz",smallHeadTopInfo:"index-module_TmmBy",smallTitle:"index-module_wDDDN",smallHeadBox:"index-module_In0p9",smallPhoto:"index-module_V5Gol",smallPhotoImage:"index-module_TQk5u",smallPhotoItem:"index-module_xDxLD",smallPhotoItemIconView:"index-module_qmFN0",smallPhotoItemIcon:"index-module_mtN74",smallPhotoText:"index-module_y8wIS",uploadImgLayout:"index-module_LbQcH",uploadImg:"index-module_unmPd",uploadImgText:"index-module_wCBK1",toastView:"index-module_K7ekx",toastText:"index-module_sq93H",videoWrapper:"index-module_iLWd3",videoIcon:"index-module_mqELG"},sa=function(e){var t=e.baseData,n=void 0===t?{}:t,i=e.toImageList,o=n.imageInfo,a=void 0===o?{}:o,r=a.poiPhotoImageList,l=void 0===r?[]:r,s=a.liveTelecastUrl;return(0,Ie.jsxs)(Xt,{className:la.smallPhoto,onClick:i,children:[(0,Ie.jsx)(h.Y,{className:la.smallPhotoImage,src:oe({imageUrl:l[0]}),mode:"aspectFill"}),!!s&&(0,Ie.jsx)(Xt,{className:la.videoWrapper,style:{position:"absolute"},children:(0,Ie.jsx)(Ze,{className:la.videoIcon,children:"\uef63"})})]})},ca=sa,da=function(e){var t=e.LinearFromAddress,n=e.baseData,i=void 0===n?{}:n,o=e.urlParams,a=e.extendData,r=e.openHeatScoreMask;return(0,Ie.jsxs)(Xt,{className:la.smallHeadBox,children:[(0,Ie.jsxs)(Xt,{className:la.smallHeadTop,children:[(0,Ie.jsx)(ca,{baseData:i}),(0,Ie.jsxs)(Xt,{className:la.smallHeadTopInfo,children:[(0,Ie.jsx)(Xt,{style:{marginBottom:-_(8)},children:(0,Ie.jsx)(Vo,{baseData:i,urlParams:o,openHeatScoreMask:r})}),(0,Ie.jsx)(na,{baseData:i,urlParams:o})]})]}),(0,Ie.jsx)(Xt,{style:{flexDirection:"column",zIndex:10},children:(0,Ie.jsx)(ra,{baseData:i,extendData:a})}),t]})},ua=da,ma={notice:"index-module_Qk_iN",noticeLeft:"index-module_JW2xv",noticeIcon:"index-module_OlC_5",noticeText:"index-module_bOeUD",noticeRight:"index-module_fTiMp",noticeRightText:"index-module_VUm3B",noticeArrow:"index-module_AzJYE",titlePrefix:"index-module_S9_V5",noticeTitleText:"index-module_IuyGk",partLine:"index-module_WsF2Y"},xa=function(e){var t=e.baseData,n=void 0===t?{}:t,i=e.createExposureId,o=e.toggleNoticeModal,a=n.sightNoticeInfo,r=void 0===a?{}:a,l=r.noticeTitle,s=r.warningInfo,c=r.noticeItemInfoList,d=void 0===c?[]:c,u=s||{},m=u.warningList,x=void 0===m?[]:m;return(0,Ie.jsxs)(Xt,{className:"".concat(ma.notice),testID:null===i||void 0===i?void 0:i("c_spotdetail_notice_view"),onClick:function(){o(!0)},children:[(0,Ie.jsxs)(Xt,{className:ma.noticeLeft,children:[(0,Ie.jsx)(Xt,{style:{alignItems:"center"},children:(0,Ie.jsx)(Ze,{className:ma.noticeIcon,children:"\uef89"})}),(0,Ie.jsxs)(wt,{className:ma.noticeTitleText,vertical:!0,children:[(0,Ie.jsx)(wt,{className:ma.titlePrefix,children:"\u516c\u544a\uff1a"}),x.map((function(e,t){return(0,Ie.jsxs)(Ie.Fragment,{children:[!!t&&(0,Ie.jsx)(wt,{className:ma.partLine,children:"\u4e28"}),(0,Ie.jsx)(wt,{children:e.title})]})})),l?(0,Ie.jsxs)(Ie.Fragment,{children:[!!x.length&&(0,Ie.jsx)(wt,{className:ma.partLine,children:"\u4e28"}),(0,Ie.jsx)(wt,{children:l})]}):d.map((function(e,t){return(0,Ie.jsxs)(Ie.Fragment,{children:[(!!x.length||!!t)&&(0,Ie.jsx)(wt,{className:ma.partLine,children:"\u4e28"}),(0,Ie.jsx)(wt,{children:e.title})]})}))]})]}),(0,Ie.jsx)(Xt,{className:ma.noticeRight,children:(0,Ie.jsx)(Ze,{className:ma.noticeArrow,children:"\ue944"})})]})},ha=xa,va={box:"index-module_xx_2l",box_ss:"index-module_oVPy6",img:"index-module_GrQf4",img_ss:"index-module_aozZY"},pa=function(e){var t=e.baseData,n=void 0===t?{}:t,i=n.activityInfo,o=(e.createExposureId,e.onLoad),a=i||{},r=a.type,l=void 0===r?"":r,s=a.imageUrl,c=a.detailUrl,d=void 0===c?"":c,u="SS"==(null===l||void 0===l?void 0:l.toUpperCase()),m=(0,x.useState)(0),v=(0,f.Z)(m,2),p=v[0],g=v[1];function b(){Re({jumpUrl:d})}function y(e){if(u){var t=e.detail,n=t.width,i=t.height;g(i*U.SCREENWIDTH/n)}}return(0,x.useEffect)((function(){p&&(null===o||void 0===o||o())}),[p]),s?(0,Ie.jsx)(Ie.Fragment,{children:(0,Ie.jsx)(h.En,{className:"".concat(va.box," ").concat(u&&va.box_ss),onClick:b,children:(0,Ie.jsx)(h.Y,{src:s,className:"".concat(va.img," ").concat(u&&va.img_ss),style:{height:u?p:_(60)},mode:"aspectFill",onLoad:y})})}):null},ga=pa,fa={inner:"index-module_mD15h","content-view":"index-module_pZNdF",name:"index-module_ykzkh","comment-view":"index-module_xisgX","score-text":"index-module_yFudF","score-num":"index-module_SutHI","score-unit":"index-module_W3kIb","comment-desc":"index-module_tYJn5","no-comment-view":"index-module_TBwr4","no-comment-desc":"index-module_a8luc","ranking-view":"index-module_rw0uQ","arrow-view":"index-module_LPRuj","arrow-icon":"index-module_iZbpc","one-line":"index-module_NZzfd"},_a=ge.RANKING_HINT_TEXT,ba=ge.RANKING_HINT_TEXT_DARK;function ya(e){var t=e.feature;return(0,Ie.jsx)(h.X_,{className:fa["one-line"],style:{fontSize:_(12),color:yt.blue2},children:'"'.concat(t,'"')})}function ja(e){var t=e.rankingDesc,n=e.rankingType,i=n==fe.YEAR;return(0,Ie.jsxs)(Xt,{style:{borderRadius:_(2),height:_(16),paddingRight:_(4),backgroundColor:"#FFEEDF",flexDirection:"row",alignItems:"center",overflow:"hidden",maxWidth:"100%"},children:[(0,Ie.jsx)(h.cn,{start:{x:0,y:0},end:{x:1,y:0},colors:i?["#673207","#3F1A01"]:["#F6DDC6","#F1B694"],style:{width:_(34),height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:_(2),marginRight:_(4),overflow:"hidden",flexShrink:0},children:(0,Ie.jsx)(h.Y,{src:i?_a:ba,style:{width:_(29),height:_(11)}})}),(0,Ie.jsx)(h.X_,{style:{color:"#673114",fontSize:_(10),fontWeight:"bold",flexShrink:1},className:fa["one-line"],children:t})]})}var Na=function(e){var t=e.relatedScenicAreaModule||{},n=t.name,i=t.score,o=t.commentCount,a=t.coverImage,r=void 0===a?"":a,l=t.jumpUrl,s=void 0===l?"":l,c=t.shortFeature,d=void 0===c?[]:c,u=t.rankingDesc,m=t.rankingType,x=void 0===m?"":m,v=t.tagName;return(0,Ie.jsx)(Xt,{style:{margin:"0 ".concat(_(12),"px ").concat(_(8),"px")},onClick:function(){qe({jumpUrl:s})},children:(0,Ie.jsxs)(Xt,{className:fa.inner,children:[(0,Ie.jsxs)(Xt,{style:{width:_(68),height:_(68),borderRadius:_(4),overflow:"hidden"},children:[(0,Ie.jsx)(h.Y,{style:{width:"100%",height:"100%"},src:G(r,"_D_140_140")}),(0,Ie.jsx)(Xt,{style:{backgroundColor:"rgba(0,0,0,.7)",height:_(18),position:"absolute",width:"100%",bottom:_(0),left:_(0),alignItems:"center",justifyContent:"center"},children:(0,Ie.jsx)(h.X_,{style:{fontSize:_(12),color:"#fff"},children:v||"\u6240\u5c5e\u666f\u533a"})})]}),(0,Ie.jsxs)(Xt,{className:fa["content-view"],children:[(0,Ie.jsx)(h.X_,{className:fa.name,children:n}),Number(i)>0||Number(o)>0?(0,Ie.jsxs)(Xt,{className:fa["comment-view"],children:[Number(i)>0&&(0,Ie.jsxs)(h.X_,{className:fa["score-text"],children:[(0,Ie.jsx)(h.X_,{className:fa["score-num"],children:i}),(0,Ie.jsx)(h.X_,{className:fa["score-unit"],children:"\u5206"})]}),(0,Ie.jsxs)(h.X_,{className:fa["comment-desc"],children:[o,"\u6761\u70b9\u8bc4"]})]}):(0,Ie.jsx)(Xt,{className:fa["no-comment-view"],children:(0,Ie.jsx)(h.X_,{className:fa["no-comment-desc"],children:"\u6682\u65e0\u8bc4\u5206"})}),((null===d||void 0===d?void 0:d.length)>0||!!u)&&(0,Ie.jsxs)(Xt,{className:fa["ranking-view"],children:[u?(0,Ie.jsx)(ja,{rankingDesc:u,rankingType:x}):(0,Ie.jsx)(ya,{feature:d}),(0,Ie.jsx)(Xt,{style:{flex:1,backgroundColor:"white"}})]})]}),(0,Ie.jsx)(Xt,{className:fa["arrow-view"],children:(0,Ie.jsx)(Ze,{className:fa["arrow-icon"],children:"\udb81\udf8f"})})]})})},Ia=Na,Ta=fe.FASHION,wa=function(e){var t=e.baseData,n=void 0===t?{}:t,i=e.extendData,o=void 0===i?{}:i,r=e.createExposureId,l=e.urlParams,s=e.goto,c=e.toggleNoticeModal,d=e.openHeatScoreMask,u=e.onLoad,m=J(n),x=m.isShowNotice,v=m.isShowTravelGuide,p=n.relatedScenicAreaModule,g=void 0===p?{}:p,f=n.activityInfo,b=n.isSmallType,y=n.rankingInfo,j=void 0===y?{}:y,N={},I={},T={},w=x||!te(N)||!te(g)||!te(I)||"S"===(null===f||void 0===f?void 0:f.type)||"SS"===(null===f||void 0===f?void 0:f.type)||!!T,S=J(n),k=S.isShowRank,E=(0,Ie.jsx)(h.cn,{className:Eo.linearFromAddress,start:{x:0,y:0},end:{x:0,y:1},colors:["#FFFFFF","#EEF1F6"]}),Z=ne(n);return(0,Ie.jsxs)(Xt,{children:[!b&&(0,Ie.jsx)(Ao,{baseData:n,createExposureId:r}),!w&&E,(0,Ie.jsxs)(Xt,{className:"".concat(!ie(n)&&Eo.container),style:(0,a.Z)({},ie(n)&&{paddingBottom:_(4),flex:1,flexDirection:"column"}),children:[b?(0,Ie.jsx)(ua,{openHeatScoreMask:d,LinearFromAddress:E,baseData:n,extendData:o}):(0,Ie.jsxs)(Xt,{className:Eo.box,children:[(0,Ie.jsxs)(Xt,{style:{flex:1,flexDirection:"column",zIndex:1},children:[(0,Ie.jsxs)(Xt,{style:{zIndex:10},children:[(0,Ie.jsx)(Vo,{baseData:n,urlParams:l,openHeatScoreMask:d}),k&&(null===j||void 0===j?void 0:j.type)!=Ta&&(0,Ie.jsx)(Xt,{style:{width:_(64)}})]}),(0,Ie.jsx)(ea,{baseData:n}),(0,Ie.jsx)(ra,{baseData:n,extendData:o})]}),E]}),(0,Ie.jsxs)(Xt,{style:{backgroundColor:Z?"transparent":"#EEF1F6",flexDirection:"column"},children:[!!x&&(0,Ie.jsx)(Xt,{style:{marginTop:_(0),paddingBottom:!v&&te(I)||!x?_(0):_(20),marginBottom:!v&&te(I)||!x?_(12):_(0),marginLeft:_(12),marginRight:_(12),backgroundColor:"#FEF3F2",borderRadius:_(8)},children:(0,Ie.jsx)(ha,{toggleNoticeModal:c,baseData:n})}),!te(g)&&te(N)&&te(I)&&(0,Ie.jsx)(Ia,{relatedScenicAreaModule:g}),(0,Ie.jsx)(ga,{baseData:n,goto:s,onLoad:u})]})]})]})},Sa=wa;function ka(e){if(!e){var t,n=null===(t=(0,h.FN)())||void 0===t||null===(t=t.page)||void 0===t?void 0:t.animate,i="#sight-detail-scroll",o=".sight-detail-nav-bar",a=1e3,r={scrollSource:i,timeRange:a,startScrollOffset:0,endScrollOffset:2*U.getNavigationBarHeight()};n&&(0,M.createSelectorQuery)().select(i).fields({scrollOffset:!0,size:!0},(function(e){n("".concat(o," .nav-bg"),[{backgroundColor:"#fff",opacity:0},{backgroundColor:"#fff",opacity:1}],a,r),n("".concat(o," .nav-title"),[{opacity:0},{opacity:1}],a,r),n("".concat(o," .nav-icon"),[{color:"#fff"},{color:"#333"}],a,r),n("".concat(o," .collect-icon_active"),[{color:yt.red},{color:yt.red}],a,r),n("".concat(o," .nav-shadow"),[{opacity:.5},{opacity:0}],a,r)})).exec()}}var Ea=n(32180)["window"],Za=n(32180)["requestAnimationFrame"],Ra=.5;function Ca(e,t){var n=e.isOverviewLoading,i=e.baseData,l=e.sightExtendInfo,s=e.urlParams,c=e.tabBarStickyInShop,d=e.changeBarStyle,u=e.toggleMuteVisible,m=e.onUpdateTab,v=e.onScroll,p=e.onScrollEnd,g=e.ubtTrace,_=e.createExposureId,b=e.toggleNoticeModal,y=e.openHeatScoreMask,j=(0,x.useState)(0),N=(0,f.Z)(j,2),I=N[0],T=N[1],w=(0,x.useState)(""),S=(0,f.Z)(w,2),k=S[0],E=S[1],Z=(0,x.useState)(0),R=(0,f.Z)(Z,2),C=R[0],D=R[1],L=(0,x.useState)(c),A=(0,f.Z)(L,2),P=A[0],H=A[1],F=(0,x.useState)((null===s||void 0===s||!s.hideTicket)&&null),M=(0,f.Z)(F,2),O=M[0],B=M[1],V=(0,x.useState)(U.HEIGHT),X=(0,f.Z)(V,2),G=X[0],Y=X[1],W=(0,x.useRef)(0),z=(0,x.useRef)(null),q=(0,x.useRef)(null),K=(0,x.useRef)(0),J=(0,x.useRef)(null),Q=(0,x.useRef)(),$=0,ee=(0,x.useRef)($),te=(0,x.useRef)(0),ne=(0,x.useRef)(0),oe=(0,x.useRef)(""),ae=(0,x.useRef)(!1),re=(0,x.useRef)(!1),le=(0,x.useRef)(),se=(0,x.useRef)(null),ce=i.isSmallType,de=U.getNavigationBarHeight(null===s||void 0===s?void 0:s.hideNavBar),ue=ie(i),me=ue?de:0,xe=(0,x.useRef)([_e.COMMODITY]);function he(){Se()}function ve(e){re.current=!1;var t=ee.current;t!==e&&(Q.current=ko({prevIndex:t,tabListWithY:Q.current,isFixed:ae.current,offsetTopToNav:K.current,scrollY:te.current}),T(te.current))}function pe(){!re.current&&(re.current=!0)}function ge(e){var t,n,i,o,a,r=e.detail.scrollTop;(te.current=r,r>260)?null===(o=z.current)||void 0===o||o.toggleVideoPlay(!1):null===(a=z.current)||void 0===a||a.toggleVideoPlay(!0);ae.current=r>=K.current-1,null===(t=q.current)||void 0===t||t.updateFixed(ae.current),null===(n=J.current)||void 0===n||n.updateScrollToShelf(e),null===(i=J.current)||void 0===i||i.updateScrollEnableToShlef(ae.current),null===d||void 0===d||d(r),Le({top:r}),re.current&&(null===v||void 0===v||v()),fe(),Ne(e)}function fe(){clearTimeout(W.current),W.current=Ea.setTimeout((function(){clearTimeout(W.current),So((function(e){var t=null===e||void 0===e?void 0:e.scrollTop;null===d||void 0===d||d(t),te.current=t})),H(!1),re.current&&(null===p||void 0===p||p())}),300)}function be(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=q.current)||void 0===e||null===(t=e.updateTabIndex)||void 0===t||t.call(e,n);var i=ee.current;if(i!==n){var o,a,r;null===m||void 0===m||m({index:n,tabList:Q.current||[]}),null===(o=J.current)||void 0===o||o.updateBottomWrap(n),ee.current=n;var l=null===(a=Q.current)||void 0===a?void 0:a[n].y,s=(null===(r=Q.current)||void 0===r?void 0:r[n].type)||"";xe.current.includes(s)&&void 0!==l&&T(l)}}function ye(e){var t,n,i,o=null===(t=Q.current)||void 0===t?void 0:t[ee.current].y;xe.current.includes(e)||(void 0!==o&&T(o),xe.current.push(e),null===(n=J.current)||void 0===n||null===(i=n.proceedShelfRender)||void 0===i||i.call(n))}function je(e){var t,n,i,o;null===(t=q.current)||void 0===t||null===(n=t.updateTabList)||void 0===n||n.call(t,e),null===(i=q.current)||void 0===i||null===(o=i.updateLoaded)||void 0===o||o.call(i,!0),Q.current=e.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{y:0})}))||[],null===m||void 0===m||m({index:ee.current,tabList:Q.current})}function Ne(e){var t=e.detail,n=t.scrollHeight,i=t.scrollTop,o=U.SCREENHEIGHT;Q.current&&ee.current&&i+o*Ra>=n-o&&Q.current[ee.current].type===_e.RELATED_REC&&Te()}function Te(){var e;null===(e=J.current)||void 0===e||null===(e=e.relatedRecommendRef)||void 0===e||null===(e=e.current)||void 0===e||e.handleEndReached()}function we(e){null!==e&&void 0!==e&&e.height&&D(e.height)}function Se(){return ke.apply(this,arguments)}function ke(){return ke=(0,r.Z)((0,o.Z)().mark((function e(){var t,n,a;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,To(le.current);case 2:t=e.sent,console.log("\u5438\u9876 getHeaderHeight",t,Date.now()),null!==t&&void 0!==t&&t.height&&(a=t.height-de+(ie(i)?de:0),K.current=a,null===(n=J.current)||void 0===n||n.setTopDistance(a),Ze());case 5:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function Ee(e){se.current=e,null==O&&void 0!=e.hasCommodity&&B(e.hasCommodity),Ze()}function Ze(){var e;c&&(null===(e=se.current)||void 0===e?void 0:e.hasCommodity)&&Re()}function Re(){var e=K.current;e&&(T(te.current),Za((function(){T(e)})))}function Ce(){ee.current&&be(0),te.current<K.current&&Re()}console.log("main render======="),(0,x.useEffect)((function(){U.isAlipay&&U.getWindowHeightAsync().then((function(e){Y(e)}))}),[]),(0,x.useImperativeHandle)(t,(function(){var e;return{changeToShop:Ce,toggleMute:null===(e=z.current)||void 0===e?void 0:e.toggleMute}})),(0,x.useEffect)((function(){i.poiId&&(Se(),ka(ue))}),[i]),(0,x.useEffect)((function(){ne.current=I}),[I]),(0,x.useEffect)((function(){oe.current=k}),[k]);var De=(0,x.useCallback)((function(e,t){var n=e||{},i=n.y,o=n.anchor;null===t||void 0===t||t(),o?o==oe.current?(E(""),Za((function(){E(o)}))):E(o):void 0!==i&&(i==ne.current?(T(te.current),Za((function(){T(i)}))):T(i))}),[]);function Le(e){var t,n,i=e.top,o=e.swiperIndex;void 0==o&&(o=null===(t=z.current)||void 0===t||null===(n=t.getSwiperIndex)||void 0===n?void 0:n.call(t));void 0==i&&(i=te.current);var a=!o,r=te.current<4;null===u||void 0===u||u(a&&r)}return(0,Ie.jsx)(h.pf,{scrollY:!0,id:"sight-detail-scroll",style:{width:U.WIDTH,maxWidth:U.MAX_WIDTH,height:G,position:"relative",boxSizing:"border-box",zIndex:n?-1:"auto"},scrollWithAnimation:P,scrollTop:I,scrollIntoView:k,onScroll:ge,children:(0,Ie.jsxs)(h.G7,{onTouchMove:pe,children:[(0,Ie.jsxs)(h.G7,{ref:le,id:"sight-detail-header-box",style:{marginTop:me},children:[!ce&&(0,Ie.jsx)(lt,{baseData:i,extendData:l,ref:z,urlParams:s,hasCommodity:O,updateMuteVisible:Le}),(0,Ie.jsx)(Sa,{toggleNoticeModal:b,baseData:i,extendData:l,urlParams:s,openHeatScoreMask:y,onLoad:he})]}),(0,Ie.jsx)(ft,{ref:q,urlParams:s,initIndex:$,onLoad:we,onTabTouchStart:ve,onUpdateTabIndex:be}),(0,Ie.jsx)(Io,{ref:J,height:G,tabInfoList:i.tabInfoList,tabBarHeight:C,initIndex:$,baseData:i,urlParams:s,isOverviewLoading:n,ubtTrace:g,createExposureId:_,onTabListLoad:je,onHintTouchStart:ve,onUpdateTabIndex:be,onCommodityCallback:Ee,scrollTo:De,onModuleLoad:ye})]})})}var Da=(0,x.forwardRef)(Ca),La={"pop-container":"index-module_UpvL6","pop-mask":"index-module_j3BqU","pop-body":"index-module_bWsa1","pop-title_view":"index-module_fpbJl","pop-title_icon":"index-module_M3sRp","pop-title_text":"index-module_V3jMq","main-title-list":"index-module_ljlZl","main-title-item_view":"index-module_Bva3w","center-empty-view":"index-module_vkJxm","main-title-item_text":"index-module_Zv1ZK","main-title-item_text_active":"index-module_behHb","active-line":"index-module_MhY7w","main-html-scroll-view":"index-module_GeLMB","main-html-item":"index-module_DKZZC","main-html-item-first":"index-module_mC91P","main-html-item-last":"index-module_X3jdv","item-emphasize":"index-module_s5j3P","main-html-item-title-text":"index-module_MOEuq","main-html-item-title-view":"index-module_Ziz0G","main-html-item-title-time":"index-module_GGFY9"},Aa={fontFamily:"System",fontSize:_(15),lineHeight:_(24)+"PX",fontStyle:"normal",fontWeight:"normal",color:"#333"},Pa=(0,a.Z)({margin:0,marginBottom:_(20),width:"auto",whiteSpace:"normal"},Aa),Ha=["p","div","i","a","span","b","em","h1","h2","h3","h4","h5","h6","strong"];function Fa(){var e={};return Ha.forEach((function(t){return e[t]=(0,a.Z)({},Aa)})),e}var Ua=(0,a.Z)({},Pa),Ma=(0,a.Z)((0,a.Z)({},Fa()),{},{p:(0,a.Z)((0,a.Z)({},Aa),{},{marginBottom:_(16)}),strong:(0,a.Z)((0,a.Z)({},Aa),{},{fontWeight:"normal"}),li:{listStyle:"none"},a:(0,a.Z)((0,a.Z)({},Aa),{},{color:U.isMini?"#333":"#0066f6"}),img:{width:"100%"}});function Oa(e,t){var n,i,o=null===(n=(0,h.FN)().page)||void 0===n||null===(i=n.selectComponent)||void 0===i?void 0:i.call(n,"#customWrapper");if(e){var a=(0,M.createSelectorQuery)();U.isMini&&o&&(a=a.in(o)),a.selectAll(e).boundingClientRect((function(e){Array.isArray(e)&&e.length&&(null===t||void 0===t||t(e))})).exec()}}var Ba=function(e){var t=e.sightNoticeInfo,n=t||{},i=n.noticeItemInfoList,o=void 0===i?[]:i,a=n.warningInfo,r=a||{},l=r.warningList,s=void 0===l?[]:l,c=(0,x.useState)([]),d=(0,f.Z)(c,2),u=d[0],m=d[1],v=(0,x.useState)(""),p=(0,f.Z)(v,2),g=p[0],_=p[1],b=(0,x.useRef)([]),y=(0,x.useRef)(),j=(0,x.useRef)(null),N=(0,x.useRef)(0),I=(0,x.useRef)(!1),T=(0,x.useState)(0),w=(0,f.Z)(T,2),S=w[0],k=w[1];function E(){g&&Oa("#sight-detail-notice_poplayer .notice-item-box",(function(e){e.forEach((function(t){if(t.height){var n=t.top-e[0].top;b.current.push(n)}}))}))}function Z(){var e;null!==(e=b.current)&&void 0!==e&&e.length||E()}function R(e){var t=e.title,n=e.content,i=e.updateTime,a=void 0===i?"":i,r=e.level,l=e.index,c=0==l,d=l==(null===s||void 0===s?void 0:s.length)+(null===o||void 0===o?void 0:o.length)-1;return"<div class='\n                notice-item-box ".concat(La["main-html-item"]," \n                ").concat(c&&La["main-html-item-first"],"  \n                ").concat(d&&La["main-html-item-last"]," \n                ").concat([0,"S"].includes(r)?La["item-emphasize"]:"","\n            '>\n            <div class=\"").concat(La["main-html-item-title-view"]," \">\n                <span class='").concat(La["main-html-item-title-text"],"'>").concat(t||"","</span>\n                <span class='").concat(La["main-html-item-title-time"],"'>").concat(a?a+"\u66f4\u65b0":"","</span>\n            </div>\n            ").concat(n,"\n        </div>")}function C(e){N.current=e,I.current=!1;var t=b.current[e];k(t)}function D(e){if(I.current){e.stopPropagation();var t,n=e.detail.scrollTop,i=0;if(b.current.forEach((function(e,t){n>e&&(i=t)})),i!==N.current)N.current=i,null===(t=j.current)||void 0===t||t.updateActiveIndex(i)}}function L(){I.current=!0}return(0,x.useEffect)((function(){var e=[],t="",n=0;null!==u&&void 0!==u&&u.length||(Array.isArray(s)&&s.forEach((function(i,o){i.title&&e.push(i.title)&&n++,i.richText&&(t+=R({title:i.title,content:i.richText,level:i.urgencyLevel,index:o}))})),Array.isArray(o)&&o.forEach((function(i,o){i.title&&e.push(i.title),i.content&&(t+=R({title:i.title,content:i.content,updateTime:i.changeLastTime||"",level:i.noticeLevel,index:n+o}))})),e.length&&m(e),t=t.replace(/&nbsp;/g," "),t&&_(t))}),[o,s]),(0,Ie.jsxs)(h.G7,{onTouchStart:Z,id:"notice-poplayer-main",children:[u.length>1&&(0,Ie.jsx)(Ga,{titleList:u,scrollToIndex:C,ref:j}),!!g&&(0,Ie.jsx)(h.pf,{className:La["main-html-scroll-view"],id:"sight-detail-notice_poplayer",style:{maxHeight:U.MODAL_MAXHEIGHT-88,minHeight:U.MODAL_MINHEIGHT-88},scrollY:!0,ref:y,scrollTop:S,scrollWithAnimation:!0,onTouchStart:L,onScroll:D,children:(0,Ie.jsx)(h.t_,{html:g,baseFontStyle:Ua,tagsStyles:Ma})})]})},Va=Ba,Xa=function(e,t){var n=e.titleList,i=e.scrollToIndex,o=(0,x.useState)(0),a=(0,f.Z)(o,2),r=a[0],l=a[1],s=(0,x.useRef)(null),c=(0,x.useRef)([]);function d(e){e!==r&&l(e)}(0,x.useImperativeHandle)(t,(function(){return{updateActiveIndex:d}}));var u=function(e){var t=e.item,n=e.index,o=r===n;return(0,Ie.jsxs)(h.G7,{className:"".concat(La["main-title-item_view"]),onClick:function(){d(n),i(n)},ref:function(e){return c.current[n]=e},children:[(0,Ie.jsx)(h.xv,{className:"".concat(La["main-title-item_text"]," ").concat(o?La["main-title-item_text_active"]:""),children:t}),(0,Ie.jsx)(h.G7,{className:La["center-empty-view"],id:"main-title-item_view_".concat(n),style:{transform:"translateX(".concat(-U.SCREENWIDTH/2,"px)")}}),o&&(0,Ie.jsx)(h.G7,{className:La["active-line"]})]},"".concat(t,"-").concat(n))};return(0,Ie.jsx)(h.pf,{className:La["main-title-list"],id:"sight-detail-notice-html-title",enableFlex:!0,scrollX:!0,ref:s,scrollIntoView:"main-title-item_view_".concat(r),children:n.map((function(e,t){return u({item:e,index:t})}))})},Ga=(0,x.forwardRef)(Xa);function Ya(e){}var Wa=function(e,t){var n=e.sightNoticeInfo,i=(0,x.useState)(!1),o=(0,f.Z)(i,2),a=o[0],r=o[1];function l(){r(!1)}return(0,x.useImperativeHandle)(t,(function(){return{toggleVisible:r}})),(0,x.useEffect)((function(){Ya(a)}),[a]),(0,Ie.jsx)(h.fV,{id:"customWrapper",children:(0,Ie.jsxs)(h.G7,{style:{display:a?"flex":"none"},className:La["pop-container"],children:[(0,Ie.jsx)(h.G7,{className:La["pop-mask"],onClick:l}),(0,Ie.jsxs)(h.G7,{className:La["pop-body"],children:[(0,Ie.jsxs)(h.G7,{className:La["pop-title_view"],children:[(0,Ie.jsx)(h.G7,{onClick:l,children:(0,Ie.jsx)(Ze,{className:La["pop-title_icon"],children:"\ue004"})}),(0,Ie.jsx)(h.xv,{className:La["pop-title_text"],children:"\u666f\u533a\u516c\u544a"})]}),(0,Ie.jsx)(Va,{sightNoticeInfo:n})]})]})})},za=(0,x.forwardRef)(Wa),qa=function(e){return null},Ka=qa,Ja={box:"index-module_fJgkS",box_bg:"index-module_c6yJ8","head-shadow":"index-module_uStxE","center-view":"index-module_qjaUW","center-text":"index-module_B4_Oj","right-view":"index-module_LxG4a","icon-item":"index-module_W3za5","icon-item-last":"index-module_RXETp","icon-item-text":"index-module_bqfBK","icon-item-text_dark":"index-module_pPm8v","collect-icon_active":"index-module_ZY1kI"},Qa=function(e){var t=e.text,n=e.children,i=e.last,o=e.isDark,r=e.style,l=void 0===r?{}:r,s=e.onClick,c="".concat(Ja["icon-item-text"]," ").concat(o&&Ja["icon-item-text_dark"]," nav-icon");return(0,Ie.jsx)(h.En,{className:"".concat(Ja["icon-item"]," ").concat(i&&Ja["icon-item-last"]),style:(0,a.Z)({},l),onClick:s,children:n?n.length>1?n:(0,x.cloneElement)(n,{iconClassName:c}):(0,Ie.jsx)(Ze,{className:c,children:t})})},$a=Qa,er=function(e){var t=e.isDark,n=(0,x.useState)(),i=(0,f.Z)(n,2),o=i[0],a=i[1],r=o?"\ue943":"\uf8ea";if((0,x.useEffect)((function(){var e=(0,h.s_)();e[e.length-2]?a(!0):a(!1)}),[]),void 0==o)return null;function l(){o?h.Px.navigateBack():h.Y8.reLaunch({url:"/pages/home/homepage"})}return(0,Ie.jsx)($a,{text:r,last:!0,isDark:t,onClick:l})},tr=er,nr=function(e){var t=e.favoriteUtil,n=e.isDark,i=(0,x.useState)(0),a=(0,f.Z)(i,2),l=a[0],s=a[1],c=l?"\ue958":"\ue957";function d(){return u.apply(this,arguments)}function u(){return u=(0,r.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkIsFavorite();case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function m(){return h.apply(this,arguments)}function h(){return h=(0,r.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.handleFavorite();case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}return(0,x.useEffect)((function(){t&&d()}),[]),(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)($a,{isDark:n,onClick:m,style:{display:l?"none":"flex"},children:(0,Ie.jsx)(Ze,{children:c})}),(0,Ie.jsx)($a,{isDark:n,onClick:m,style:{display:l?"flex":"none"},children:(0,Ie.jsx)(Ze,{className:"".concat(Ja["collect-icon_active"]," collect-icon_active"),children:c})})]})},ir=nr,or=function(e){return null},ar=(0,x.forwardRef)(or);function rr(e){var t=e.top,n=e.navBarHeight,i=e.wechatIsDark,o=e.setWechatIsDark,a=2*n;i&&(t<=a&&i.current?o(!1):t>a&&!i.current&&o(!0))}function lr(e){var t,n=e.setInnerPaddingRight,i=(null===h.ZP||void 0===h.ZP||null===(t=h.ZP.getMenuButtonBoundingClientRect)||void 0===t?void 0:t.call(h.ZP))||{};i.left>12&&n(U.SCREENWIDTH-i.left)}var sr=U.getNavigationBarHeight(),cr=function(e,t){var n=e.favoriteUtil,i=e.baseData,o=e.onMuteChange,r=i||{},l=r.poiId,s=r.poiType,c=r.poiName,d=void 0===c?"":c,u=r.isPublished,m=(0,x.useState)(12),v=(0,f.Z)(m,2),p=v[0],g=v[1],b=(0,x.useState)(0),y=(0,f.Z)(b,2),j=y[0],N=y[1],I=(0,x.useState)(!1),T=(0,f.Z)(I,2),w=T[0],S=T[1],k=(0,x.useRef)(!1),E=(0,x.useRef)(),Z=(0,x.useRef)(),R=(0,x.useRef)(),C=U.safeAreaTop;(0,x.useImperativeHandle)(t,(function(){var e;return{changeBarStyle:P,toggleMuteVisible:null===(e=R.current)||void 0===e?void 0:e.toggleMuteVisible}})),(0,x.useEffect)((function(){lr({setInnerPaddingRight:g,setInnerPaddingLeft:N})}),[]),(0,x.useEffect)((function(){H(w)}),[w]),(0,x.useEffect)((function(){w||0!=(null===i||void 0===i?void 0:i.isPublished)&&!ie(i)||S(!0)}),[i]);var D=function(){return(0,Ie.jsx)(tr,{isDark:w})},L=function(){return(0,Ie.jsxs)(h.En,{className:Ja["right-view"],children:[(0,Ie.jsx)(ar,{isDark:w,baseData:i,onMuteChange:o,ref:R}),!!n&&(0,Ie.jsx)(ir,{favoriteUtil:n,isDark:w}),(0,Ie.jsx)(Ka,{poiId:l,poiType:s,isDark:w})]})},A=function(){return(0,Ie.jsx)(h.G7,{className:"".concat(Ja["center-view"]," nav-title"),ref:Z,style:ie(i)?{opacity:1}:{},children:(0,Ie.jsx)(wt,{className:Ja["center-text"],vertical:!0,children:d})})};function P(e){var t=sr;0==(null===i||void 0===i?void 0:i.isPublished)||ie(i)?S(!0):rr({top:e,navBarHeight:t,barRef:E,centerRef:Z,isDark:w,setIsDark:S,wechatIsDark:k,setWechatIsDark:F})}function H(e){var t;null===h.ZP||void 0===h.ZP||null===(t=h.ZP.setNavigationBarColor)||void 0===t||t.call(h.ZP,{frontColor:e?"#000000":"#ffffff",backgroundColor:U.isWechat?"transparent":e?"#ffffff":"#f5f5f5"})}function F(e){k.current=e,H(e)}return(0,Ie.jsxs)(h.En,{className:"".concat(Ja.box," sight-detail-nav-bar"),style:(0,a.Z)((0,a.Z)({paddingTop:C,paddingBottom:_(1),paddingRight:p},j&&{paddingLeft:j}),{},{height:sr-C}),children:[(0,Ie.jsx)(h.G7,{ref:E,className:"".concat(Ja.box_bg," nav-bg"),style:ie(i)?{backgroundColor:"white"}:{}}),D(),A(),!!u&&L(),!!u&&(0,Ie.jsx)(h.cn,{locations:[0,1],colors:["#000","transparent"],className:"".concat(Ja["head-shadow"]," nav-shadow")})]})},dr=(0,x.forwardRef)(cr),ur={container:"index-module_Sj4cy","img-box":"index-module_EAJQD"},mr=function(){return(0,Ie.jsx)(h.En,{style:{width:U.SCREENWIDTH,height:U.SCREENHEIGHT},className:ur.container,children:(0,Ie.jsx)(h.Y,{src:"https://pages.c-ctrip.com/you/ttd/poiDetail/skeleton_screen.png",className:ur["img-box"]})})},xr=mr,hr={"float-container":"index-module_uOlcv","mask-box":"index-module_SE3pP","open-remind-container":"index-module_aW3EF","open-remin-view":"index-module_VCTf_","open-remind-icon":"index-module_tNuw2","open-remind-text":"index-module_Zb77g","open-remind-cancel-text":"index-module__a2JZ","add-note-view":"index-module_aZ1Tv","add-note-icon":"index-module_SAGpd"};function vr(e){var t=e.data,n=void 0===t?{}:t;return Le({url:xe.addSubscribers,data:n}).then((function(e){if(0==(null===e||void 0===e?void 0:e.result))return e;throw"\u63a5\u53e3\u5f02\u5e38"}))}function pr(e){var t=e.data,n=void 0===t?{}:t;return Le({url:xe.cancelSubscribers,data:n}).then((function(e){if(0==(null===e||void 0===e?void 0:e.result))return e;throw"\u63a5\u53e3\u5f02\u5e38"}))}function gr(e,t){return fr.apply(this,arguments)}function fr(){return fr=(0,r.Z)((0,o.Z)().mark((function e(t,n){var i,a,r;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=n.poiId,e.prev=1,!t){e.next=11;break}return e.next=5,pr({data:{poiId:i}});case 5:return a=e.sent,_r("\u5df2\u53d6\u6d88\u63d0\u9192"),console.log("\u53d6\u6d88\u5f00\u56ed\u63d0\u9192",t,a),e.abrupt("return",{remind:!1});case 11:return e.next=13,vr({data:{poiId:i}});case 13:return r=e.sent,_r("\u5df2\u6210\u529f\u8bbe\u7f6e\u5f00\u56ed\u63d0\u9192\uff0c\u5f00\u56ed\u65f6\u5c06\u901a\u8fc7\u77ed\u4fe1\u53ca\u7ad9\u5185\u4fe1\u901a\u77e5\u4f60"),console.log("\u8bbe\u7f6e\u5f00\u56ed\u63d0\u9192",t,r),e.abrupt("return",{remind:!0});case 17:e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](1),console.log("\u5f00\u56ed\u63d0\u9192\u51fa\u9519\u5566",t,e.t0),_r(t?"\u53d6\u6d88\u63d0\u9192\u5931\u8d25":"\u8bbe\u7f6e\u5f00\u56ed\u63d0\u9192\u5931\u8d25");case 23:case"end":return e.stop()}}),e,null,[[1,19]])}))),fr.apply(this,arguments)}function _r(e){(0,h.CF)({title:e,duration:2e3})}var br=function(e){var t=e.hasSubscribed,n=e.poiId,i=(0,x.useState)(t),a=(0,f.Z)(i,2),l=a[0],s=a[1],c=l?"\u53d6\u6d88\u63d0\u9192":"\u5f00\u56ed\u63d0\u9192",d=l?"\uf88f":"\uf486";function u(){return m.apply(this,arguments)}function m(){return m=(0,r.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!h.g.isLogin()){e.next=8;break}return e.next=4,gr(l,{poiId:n});case 4:t=e.sent,t&&s(t.remind),e.next=9;break;case 8:h.g.login({callback:function(){var e=(0,r.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!h.g.isLogin()){e.next=5;break}return e.next=3,gr(l,{poiId:n});case 3:t=e.sent,t&&s(t.remind);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])}))),m.apply(this,arguments)}return(0,Ie.jsx)(h.En,{className:hr["open-remind-container"],onClick:u,children:(0,Ie.jsxs)(h.En,{className:hr["open-remin-view"],children:[(0,Ie.jsx)(Ze,{className:"".concat(hr["open-remind-icon"]," ").concat(l&&hr["open-remind-cancel-text"]),children:d}),(0,Ie.jsx)(h.X_,{className:"".concat(hr["open-remind-text"]),children:c})]})})},yr=br,jr=function(e,t){var n=e.initVisible,i=e.hasSubscribed,o=e.poiId,a=(0,x.useRef)(h.ZP.createAnimation({duration:200})),r=(0,x.useState)(),l=(0,f.Z)(r,2),s=l[0],c=l[1],d=(0,x.useState)(n),u=(0,f.Z)(d,2),m=u[0],v=u[1],p=(0,x.useRef)(!0);function g(e){if(m&&e!==p.current){p.current=e;var t=e?0:45,n=e?300:0;a.current.translateX(t).step({delay:n}),c(a.current.export())}}return console.log("AnimateOpenTimeReminder \u91cd\u65b0\u6e32\u67d3====="),(0,x.useImperativeHandle)(t,(function(){return{startAni:g,updateVisible:v}})),(0,x.useEffect)((function(){c(a.current.export())}),[]),(0,Ie.jsx)(h.AF.View,{animation:s,style:{display:"".concat(m?"flex":"none")},children:(0,Ie.jsx)(Ir,{children:(0,Ie.jsx)(yr,{hasSubscribed:i,poiId:o})})})},Nr=(0,x.forwardRef)(jr),Ir=function(e){var t=e.children;return(0,Ie.jsx)(h.En,{className:hr["float-container"],style:{bottom:U.safeAreaBottom+_(32)},children:!!t&&t})},Tr=Nr;function wr(e){var t,n=(null===(t=(0,h.FN)())||void 0===t||null===(t=t.router)||void 0===t?void 0:t.params)||{},i={},o=encodeURIComponent(JSON.stringify(n));try{i=JSON.parse(decodeURIComponent(o))}catch(e){}return i}var Sr=function(e){},kr=function(e){};function Er(e){null===h.Y8||void 0===h.Y8||h.Y8.configService.watch("sightDetail",(function(t){console.log(">>>>>> MCD \u914d\u7f6e\u7684 sightDetail >>>>>> >>>>>> ",t),null!==t&&void 0!==t&&t.isOldSightDetail&&(null===e||void 0===e||e())}))}function Zr(e){var t;null===h.Y8||void 0===h.Y8||null===(t=h.Y8.Observer)||void 0===t||t.addObserverForKey("photos",(function(t){var n=t.type,i=t.options;if("message"===n){var o,a=null===(o=i.detail)||void 0===o?void 0:o.data;U.isAlipay?"TO_TICKET"===a.type&&(null===e||void 0===e||e()):a&&a[0]&&"TO_TICKET"===a[0].type&&(null===e||void 0===e||e())}}))}var Rr=function(){},Cr={box:"index-module_Tb9sg",img:"index-module_Rdmzk",desc:"index-module_m_ymK"},Dr=function(){return(0,Ie.jsxs)(h.En,{className:Cr.box,style:{top:U.getNavigationBarHeight()},children:[(0,Ie.jsx)(h.Y,{src:ge.PAGE_BLANK,className:Cr.img}),(0,Ie.jsx)(h.X_,{className:Cr.desc,children:"oops\uff5e\u8fd9\u4e2a\u666f\u70b9\u8fd8\u6709\u5f85\u5b8c\u5584"})]})},Lr=Dr;function Ar(e,t){var n=(0,x.useState)({}),i=(0,f.Z)(n,2),o=i[0],a=i[1],r=(0,x.useState)(!1),l=(0,f.Z)(r,2),s=l[0],c=l[1];return(0,x.useImperativeHandle)(t,(function(){return{toggleHeatScoreMask:function(e){var t=e.isShow,n=e.contentStyle;c(t),a(n)}}})),(0,Ie.jsx)(Xt,{onClick:function(e){e.stopPropagation(),c(!1)},style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:999,display:s?"flex":"none"},children:(0,Ie.jsx)(Wt,{contentStyle:o})})}var Pr=x.forwardRef(Ar),Hr=["weapp","swan","tt","alipay"].includes("weapp"),Fr=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i,s,d;(0,l.Z)(this,n),d=t.call(this,e),(0,m.Z)((0,c.Z)(d),"state",void 0),(0,m.Z)((0,c.Z)(d),"headerSwiperRef",void 0),(0,m.Z)((0,c.Z)(d),"noticePoplayerRef",void 0),(0,m.Z)((0,c.Z)(d),"navigationBarRef",void 0),(0,m.Z)((0,c.Z)(d),"floatOpenTimeReminderRef",void 0),(0,m.Z)((0,c.Z)(d),"mainRef",void 0),(0,m.Z)((0,c.Z)(d),"favoriteUtil",void 0),(0,m.Z)((0,c.Z)(d),"unionData",void 0),(0,m.Z)((0,c.Z)(d),"shareImageInfo",void 0),(0,m.Z)((0,c.Z)(d),"commonParams",void 0),(0,m.Z)((0,c.Z)(d),"H5Url",void 0),(0,m.Z)((0,c.Z)(d),"AppUrl",void 0),(0,m.Z)((0,c.Z)(d),"pageId",void 0),(0,m.Z)((0,c.Z)(d),"checkPerformance",void 0),(0,m.Z)((0,c.Z)(d),"needStikcyTabBarinCommodity",void 0),(0,m.Z)((0,c.Z)(d),"heatScoreMaskRef",void 0),(0,m.Z)((0,c.Z)(d),"renderTrace",void 0),(0,m.Z)((0,c.Z)(d),"initGetSightOverview",(0,r.Z)((0,o.Z)().mark((function e(){var t,n,i,r,l,s,c,u,m,x,h,v,p;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=d.state.urlParams,n=t.coverImageId,i=t.fromCategoryId,r=t.showNotice,e.next=4,sn({data:(0,a.Z)((0,a.Z)((0,a.Z)({},d.commonParams),{},{useSightExtend:!0},n&&{customCoverImageId:n}),i&&{customRankingId:i})});case 4:if(l=e.sent,console.log("initGetSightOverview====data===",l),l.isPublished){e.next=9;break}return d.setState({isOverviewLoading:!1,baseData:l}),e.abrupt("return");case 9:s=l.districtId,c=l.businessId,u=l.poiId,m=l.poiName,x=l.poiSubtitleName,h=qt({districtId:s,businessId:c,poiId:u,scene:d.state.urlParams.scene}),v=h.H5Url,p=h.AppUrl,d.H5Url=v,d.AppUrl=p,d.favoriteUtil=Kt({poiId:u,AppUrl:p,H5Url:v,poiName:m,poiSubtitleName:x}),Sr(l),kr(l),d.setState({isOverviewLoading:!1,baseData:l},(function(){d.renderTrace.trace(ve.afterOverview),r&&d.toggleNoticeModal(!0)})),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),d.setState({isOverviewLoading:!1,baseData:{hasPlayGuide:!1,isPublished:!1,isRedPoi:!1,isSmallType:!1}});case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))),(0,m.Z)((0,c.Z)(d),"initGetSightExtendInfo",(0,r.Z)((0,o.Z)().mark((function e(){var t;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cn({data:(0,a.Z)((0,a.Z)({},d.commonParams),{},{scene:"basicImageStore",templateScene:d.commonParams.scene})});case 3:t=e.sent,d.setState({sightExtendInfo:t},(function(){d.renderTrace.trace(ve.afterSightExtend)})),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))),(0,m.Z)((0,c.Z)(d),"initShareImage",(0,r.Z)((0,o.Z)().mark((function e(){var t,n,i,r,l,s;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=d.state.urlParams,n=t.poiId,i=t.businessId,e.next=4,dn({data:(0,a.Z)((0,a.Z)({},n&&{poiId:n}),i&&{businessId:i})});case 4:r=e.sent,l=r.imageUrl,s=r.imageId,d.shareImageInfo={imageUrl:l,imageId:s},e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))),(0,m.Z)((0,c.Z)(d),"openHeatScoreMask",(0,r.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.c0.getBoundingClientRect({node:{className:"heatscore"}});case 2:t=e.sent,t&&(null===(n=d.heatScoreMaskRef.current)||void 0===n||n.toggleHeatScoreMask({isShow:!0,contentStyle:nn(t)}));case 4:case"end":return e.stop()}}),e)})))),(0,m.Z)((0,c.Z)(d),"toggleNoticeModal",(function(e){var t;null===(t=d.noticePoplayerRef)||void 0===t||null===(t=t.current)||void 0===t||t.toggleVisible(e)})),(0,m.Z)((0,c.Z)(d),"initUnionData",(function(e){var t;null===h.Y8||void 0===h.Y8||null===(t=h.Y8.mkt)||void 0===t||t.getUnion((function(t){d.unionData={allianceid:t.allianceid,sid:t.sid},console.log("initUnionData",t),null===e||void 0===e||e()}))})),(0,m.Z)((0,c.Z)(d),"changeBarStyle",(function(e){var t;null===(t=d.navigationBarRef.current)||void 0===t||t.changeBarStyle(e)})),(0,m.Z)((0,c.Z)(d),"toggleMuteVisible",(function(e){var t,n;null===(t=d.navigationBarRef.current)||void 0===t||null===(n=t.toggleMuteVisible)||void 0===n||n.call(t,e)})),(0,m.Z)((0,c.Z)(d),"ubtTrace",(function(e){})),(0,m.Z)((0,c.Z)(d),"createExposureId",(function(e){return{ubtKey:"",data:{}}})),(0,m.Z)((0,c.Z)(d),"onUpdateTab",(function(e){var t,n,i=e.index,o=e.tabList;null!==o&&void 0!==o&&o[i]&&(o[i].type==_e.COMMODITY?null===(t=d.floatOpenTimeReminderRef.current)||void 0===t||t.updateVisible(!0):null===(n=d.floatOpenTimeReminderRef.current)||void 0===n||n.updateVisible(!1))})),(0,m.Z)((0,c.Z)(d),"onScroll",(function(){var e;null===(e=d.floatOpenTimeReminderRef.current)||void 0===e||e.startAni(!1)})),(0,m.Z)((0,c.Z)(d),"onScrollEnd",(function(){var e;console.log("\u6eda\u52a8=========\u7ed3\u675f"),null===(e=d.floatOpenTimeReminderRef.current)||void 0===e||e.startAni(!0)}));var u=tn(),v=wr(e);console.log("query",v),v=se(v);var p=de();an("sightPackageConstructorTime",p),console.log("query handled",v);var g={poiId:parseFloat(v.poiId||"0"),businessId:parseFloat(v.sightId||v.businessId||"0"),scene:v.scene||u,heatScore:v.heatScore||"",tagId:v.tagId,districtId:parseFloat(v.districtId||"0"),location:v.location,fromCategoryId:parseFloat(v.rankingId||"0"),coverImageId:parseFloat(v.coverImageId||"0"),currentUrlId:parseFloat(v.currentUrlId||"0"),noJumpApp:"yes"==v.noJumpApp,hideTicket:"yes"==v.hideTicket,showNotice:"yes"==v.showNotice,ctm_ref:v.ctm_ref,ext:v.ext,traceid:v.traceid,recTraceid:v.recTraceid,shelfFilters:(null===(i=v.shelfFilters)||void 0===i||null===(s=i.split)||void 0===s?void 0:s.call(i,","))||[],ticketGroupId:v.ticketGroupId,ticketCategory:v.ticketCategory,menuId:v.menuId,businessIdTop:v.businessIdTop,disableRedirectMiniApp:"yes"==v.disableRedirectMiniApp&&U.isH5,hideNavBar:"yes"==v.disableRedirectMiniApp&&U.isH5,ignorePublishStatus:!!v.ignorePublishStatus,"ext-osspotid":v["ext-osspotid"]};return d.state={urlParams:g,isOverviewLoading:!0,baseData:{},sightExtendInfo:{}},d.renderTrace=new h.P0({constructorTime:p,pageId:en(),logFunc:h.hS.logDevTrace}),d.headerSwiperRef=(0,x.createRef)(),d.noticePoplayerRef=(0,x.createRef)(),d.navigationBarRef=(0,x.createRef)(),d.floatOpenTimeReminderRef=(0,x.createRef)(),d.mainRef=(0,x.createRef)(),d.heatScoreMaskRef=(0,x.createRef)(),d.unionData={allianceid:0,sid:0},d.shareImageInfo=null,d.commonParams=(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({scene:g.scene},g.poiId&&{poiId:g.poiId}),g.businessId&&{businessId:g.businessId}),g.tagId&&{tagId:g.tagId}),g.ignorePublishStatus&&{ignorePublishStatus:g.ignorePublishStatus}),d.H5Url="",d.AppUrl="",d.checkPerformance=!0,d.needStikcyTabBarinCommodity=!!(g.ticketGroupId||g.ticketCategory||g.menuId||"ticket"==g.location),d.pageId=en(),d.changeBarStyle=d.changeBarStyle.bind((0,c.Z)(d)),Er((function(){$t(v)})),Rr(),d}return(0,s.Z)(n,[{key:"getPageId",value:function(){return this.pageId}},{key:"onLoad",value:function(e){this.initUnionData()}},{key:"onReady",value:function(){var e;Zr(null===(e=this.mainRef.current)||void 0===e?void 0:e.changeToShop)}},{key:"componentDidMount",value:function(){Qt(this.state.urlParams),this.initGetSightOverview(),this.initGetSightExtendInfo(),this.initShareImage()}},{key:"componentWillUnmount",value:function(){ln()}},{key:"render",value:function(){var e,t=this,n=this.state,i=n.baseData,o=void 0===i?{}:i,a=n.sightExtendInfo,r=n.urlParams,l=n.isOverviewLoading,s=0==(null===o||void 0===o?void 0:o.isPublished);return(0,Ie.jsx)(oi.Provider,{value:{renderTrace:this.renderTrace,clickTrace:this.ubtTrace,createExposure:this.createExposureId},children:(0,Ie.jsxs)(h.En,{className:"page-container xtaro-poi-shelf",children:[!!l&&(0,Ie.jsx)(xr,{}),!l&&s&&(0,Ie.jsx)(Lr,{}),!s&&(0,Ie.jsx)(Da,{ref:this.mainRef,baseData:o,isOverviewLoading:l,sightExtendInfo:a,urlParams:r,tabBarStickyInShop:this.needStikcyTabBarinCommodity,changeBarStyle:this.changeBarStyle,toggleMuteVisible:this.toggleMuteVisible,onUpdateTab:this.onUpdateTab,onScroll:this.onScroll,onScrollEnd:this.onScrollEnd,ubtTrace:this.ubtTrace,createExposureId:this.createExposureId,toggleNoticeModal:this.toggleNoticeModal,openHeatScoreMask:this.openHeatScoreMask}),!l&&!r.hideNavBar&&(0,Ie.jsx)(dr,{favoriteUtil:this.favoriteUtil,baseData:o,ref:this.navigationBarRef}),!!o.canSubscribed&&!(null===(e=o.tabInfoList)||void 0===e||!e.length)&&(0,Ie.jsx)(Tr,{ref:this.floatOpenTimeReminderRef,initVisible:!0,poiId:o.poiId,hasSubscribed:o.hasSubscribed}),!s&&(0,Ie.jsx)(za,{sightNoticeInfo:o.sightNoticeInfo||null,ref:this.noticePoplayerRef}),Hr&&(0,Ie.jsx)(h.G7,{className:"view-check",onAnimationEnd:function(){return t.viewReadyHandle()}}),(0,Ie.jsx)(Pr,{ref:this.heatScoreMaskRef})]})})}},{key:"onShareAppMessage",value:function(){return Jt({baseData:this.state.baseData,unionData:this.unionData,shareImageInfo:this.shareImageInfo})}}]),n}(g),Ur=Fr,Mr={navigationStyle:"custom",disableScroll:!0,usingComponents:{"ad-sdk":"/pages/market/advertiseNew/ad-sdk"}};Ur.enableShareAppMessage=!0;Page((0,i.createPageConfig)(Ur,"pages/gs/sight/newDetail",{root:{cn:[]}},Mr||{}))},79181:function(e){e.exports=require("../../../cwx/cpage/initNavigator")},91783:function(e){e.exports=require("../../../cwx/cpage/ubt_wx")},56884:function(e){e.exports=require("../../../cwx/cwx")},65238:function(e){e.exports=require("../../../cwx/ext/global")},33675:function(e){e.exports=require("../../../cwx/cwx")}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[5690,2107,1216,8592],(function(){return t(49056)}));e.O()}]);
//# sourceMappingURL=newDetail.js.map