{"version":3,"file":"pages/xtnt/taroCommon.js","mappings":"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","sources":["webpack://tarobaseproject/pages_xtnt_taroCommon.js"],"sourcesContent":["\"use strict\";\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[639],{\n\n/***/ 60499:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Z\": function() { return /* binding */ Page; }\n});\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(57042);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24460);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(81876);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(21867);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(86066);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(45023);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: external \"@/miniapp/cwx/cwx\"\nvar cwx_ = __webpack_require__(56884);\nvar cwx_default = /*#__PURE__*/__webpack_require__.n(cwx_);\n// EXTERNAL MODULE: ./node_modules/@tarojs/taro/index.js\nvar taro = __webpack_require__(92954);\n// EXTERNAL MODULE: ./src/taroCwx/base.js\nvar base = __webpack_require__(65542);\n;// CONCATENATED MODULE: ./src/pages/xtnt/common/base-page/index.tsx\n\n/* harmony default export */ var base_page = (base/* default */.Z);\n;// CONCATENATED MODULE: ./src/pages/xtnt/common/redirect-page/config.ts\nvar redirectMaps = {\n  // 原本在 taro-tnt 项目 tnt 路径重定向到 xtaro-tnt 的 tnt 路径\n  \"pages/tnt/booking/index\": \"/pages/tnt/business/booking/index\",\n  \"pages/tnt/detail/product-sku/index\": \"/pages/tnt/business/detail/product-sku/index\",\n  \"pages/tnt/booking/o2obooking/booking/index\": \"/pages/tnt/business/booking/o2obooking/booking/index\",\n  \"pages/tnt/booking/o2obooking/coupon/index\": \"/pages/tnt/business/booking/o2obooking/coupon/index\",\n  // xtnt 重定向到 tnt\n  \"pages/xtnt/business/detail/resource-detail/index\": \"/pages/tnt/business/detail/resource-detail/index\",\n  \"pages/xtnt/business/detail/queue/index\": \"/pages/tnt/business/detail/queue/index\",\n  \"pages/xtnt/business/detail/resource-detail/buy-notes/index\": \"/pages/tnt/business/detail/resource-detail/buy-notes/index\",\n  \"pages/xtnt/business/detail/ticket-detail/index\": \"/pages/tnt/business/detail/ticket-detail/index\",\n  \"pages/xtnt/business/detail/sight-detail/ticket-shelf/index\": \"/pages/gs/offline-shelf/index\"\n};\n/* harmony default export */ var config = (redirectMaps);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./src/pages/xtnt/common/redirect-page/index.tsx\n\n\n\n\n\n\n// @ts-ignore\n\n// @ts-ignore\n\n\n\n\n\n\n\nvar Page = /*#__PURE__*/function (_BasePage) {\n  (0,inherits/* default */.Z)(Page, _BasePage);\n  var _super = (0,createSuper/* default */.Z)(Page);\n  function Page() {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Page);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"onLoad\", function (options) {\n      var _getCurrentInstance;\n      var router = ((_getCurrentInstance = (0,taro.getCurrentInstance)()) === null || _getCurrentInstance === void 0 ? void 0 : _getCurrentInstance.router) || {};\n      var path = router[\"path\"] || \"\";\n      var taroPath = router[\"$taroPath\"] || \"\";\n      // path = 'router.path';\n      // taroPath = '';\n      var key = Object.keys(config).find(function (k) {\n        return path.includes(k);\n      });\n      // console.log(\"url key >>>\", key);\n      var redirectQuery = \"mini_reidrect=980\";\n      var isBaidu = (\"weapp\" || 0).toUpperCase() == taro.ENV_TYPE.SWAN;\n      try {\n        if (key) {\n          var url = config[key];\n          if (taroPath.includes(\"?\") && !isBaidu) {\n            var temp = taroPath.split(\"?\");\n            var query = temp[1] || \"\";\n            url = query ? \"\".concat(url, \"?\").concat(query, \"&\").concat(redirectQuery) : \"\".concat(url, \"?\").concat(redirectQuery);\n            // console.log(\"redirectTo url >>>\", url, query);\n          } else {\n            var keys = Object.keys(options);\n            var list = keys.map(function (k) {\n              if (isBaidu && k === \"token\") {\n                // 百度小程序token需要encode\n                return \"\".concat(k, \"=\").concat(encodeURIComponent(options[k]));\n              }\n              return \"\".concat(k, \"=\").concat(options[k]);\n            });\n            var _query = list.join(\"&\");\n            url = _query ? \"\".concat(url, \"?\").concat(_query, \"&\").concat(redirectQuery) : \"\".concat(url, \"?\").concat(redirectQuery);\n            // console.log(\"redirectTo url else >>>\", list, url, query);\n          }\n\n          cwx_default().redirectTo({\n            url: url\n          });\n        } else {\n          // 兜底逻辑，如果没有匹配的直接回到首页\n          cwx_default().switchTab({\n            url: \"/pages/home/homepage\"\n          });\n        }\n      } catch (e) {\n        cwx_default().switchTab({\n          url: \"/pages/home/homepage\"\n        });\n      }\n    });\n    return _this;\n  }\n  (0,createClass/* default */.Z)(Page, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {});\n    }\n  }]);\n  return Page;\n}(base_page);\n\n\n/***/ })\n\n}]);"],"names":["wx","push","__unused_webpack_module","__webpack_exports__","__webpack_require__","d","Page","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","defineProperty","cwx_","cwx_default","n","taro","base","base_page","redirectMaps","config","jsx_runtime","_BasePage","Z","_super","_this","this","_len","arguments","length","args","Array","_key","call","apply","concat","options","_getCurrentInstance","router","getCurrentInstance","path","taroPath","key","Object","keys","find","k","includes","redirectQuery","isBaidu","toUpperCase","ENV_TYPE","SWAN","url","temp","split","query","list","map","encodeURIComponent","_query","join","redirectTo","switchTab","e","value","jsx","Fragment"],"sourceRoot":""}