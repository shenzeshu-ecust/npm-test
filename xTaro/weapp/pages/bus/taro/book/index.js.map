{"version":3,"file":"pages/bus/taro/book/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_bus_taro_book_index.js"],"sourcesContent":["\"use strict\";\nrequire(\"../../taroCommon\");\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[6532],{\n\n/***/ 67402:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(57042);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24460);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(21867);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(86066);\n// EXTERNAL MODULE: ./src/pages/bus/lib/commonModule.prod.js\nvar commonModule_prod = __webpack_require__(91780);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: ./src/pages/bus/common/store.tsx + 25 modules\nvar store = __webpack_require__(1772);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(79301);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(298);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(95308);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(90129);\n// EXTERNAL MODULE: ./node_modules/@tarojs/taro/index.js\nvar taro = __webpack_require__(92954);\nvar taro_default = /*#__PURE__*/__webpack_require__.n(taro);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: ./src/pages/bus/components/BusTagModal/index.tsx + 1 modules\nvar BusTagModal = __webpack_require__(62234);\n// EXTERNAL MODULE: ./src/pages/bus/common/index.ts\nvar common = __webpack_require__(26875);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/RollNumber.js\n\n\n\n\n\n\n\n\nfunction RollCharDisplay(_ref) {\n  var _char = _ref.char;\n  var _useState = (0,react.useState)(\"0\"),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    current = _useState2[0],\n    setCurrent = _useState2[1];\n  var lastValue = (0,react.useRef)(\"0\");\n  var _useReducer = (0,react.useReducer)(function (state, action) {\n      return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), action);\n    }, {\n      charList: [],\n      animationDirection: \"forward\",\n      inAnimation: false\n    }),\n    _useReducer2 = (0,slicedToArray/* default */.Z)(_useReducer, 2),\n    _useReducer2$ = _useReducer2[0],\n    charList = _useReducer2$.charList,\n    animationDirection = _useReducer2$.animationDirection,\n    inAnimation = _useReducer2$.inAnimation,\n    setAnimationData = _useReducer2[1];\n  var timerRef = (0,react.useRef)(null);\n  // let\n  var showCharListAnimation = (0,react.useCallback)(function (charList, animationForward, value) {\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n    setAnimationData({\n      charList: charList,\n      animationDirection: animationForward ? \"forward\" : \"backward\",\n      inAnimation: true\n    });\n    timerRef.current = setTimeout(function () {\n      setCurrent(value);\n      lastValue.current = value;\n      setAnimationData({\n        charList: [],\n        animationDirection: \"forward\",\n        inAnimation: false\n      });\n      timerRef.current = null;\n    }, 1800);\n  }, []);\n  (0,react.useEffect)(function () {\n    var last = \"\" + lastValue.current;\n    var codePoint = last.codePointAt(0);\n    var nowCodePoint = _char.codePointAt(0);\n    var animationForward = false;\n    if (codePoint - nowCodePoint <= 0) {\n      animationForward = true;\n    }\n    var charList = [];\n    if (animationForward) {\n      for (var point = codePoint; point <= nowCodePoint; point++) {\n        charList.push(String.fromCodePoint(point));\n      }\n    } else {\n      for (var _point = nowCodePoint; _point <= codePoint; _point++) {\n        charList.push(String.fromCodePoint(_point));\n      }\n    }\n    showCharListAnimation(charList, animationForward, _char);\n  }, [_char]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"char-display\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"\".concat(inAnimation ? \"hidden\" : \"visible\"),\n      children: current\n    }), inAnimation && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"animation-view \".concat(animationDirection),\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"animation-content \".concat(animationDirection),\n        children: charList.map(function (item) {\n          return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"animation-item\",\n            children: item\n          }, item);\n        })\n      })\n    })]\n  });\n}\nvar RollCharDisplayMemo = /*#__PURE__*/react.memo(RollCharDisplay);\nfunction RollNumber(_ref2) {\n  var _ref2$value = _ref2.value,\n    value = _ref2$value === void 0 ? \"\" : _ref2$value;\n  var _useState3 = (0,react.useState)([\"0\"]),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    displayCharArray = _useState4[0],\n    setCharArray = _useState4[1];\n  (0,react.useLayoutEffect)(function () {\n    var charArray = (\"\" + value).split(\"\");\n    setCharArray(charArray);\n  }, [value]);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"char-display-container skeleton-item skeleton-square skeleton-shimmer\",\n    children: displayCharArray.map(function (item, index) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(RollCharDisplayMemo, {\n        char: item\n      }, index);\n    })\n  });\n}\n/* harmony default export */ var component_RollNumber = (/*#__PURE__*/react.memo(RollNumber));\n// EXTERNAL MODULE: ./src/pages/bus/components/BottomBar/BottomBar.tsx\nvar BottomBar = __webpack_require__(71148);\n;// CONCATENATED MODULE: ./src/pages/bus/components/PriceDetail/style/index.ts\n\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/PriceDetail/index.tsx\n\n\n\n\n\n\nfunction DetailRow(_ref) {\n  var title = _ref.title,\n    desc = _ref.desc,\n    tag = _ref.tag,\n    showExplain = _ref.showExplain,\n    _ref$isTitle = _ref.isTitle,\n    isTitle = _ref$isTitle === void 0 ? false : _ref$isTitle,\n    _ref$type = _ref.type,\n    type = _ref$type === void 0 ? \"\" : _ref$type,\n    icon = _ref.icon;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"detail-row \".concat(isTitle ? \"title-row\" : \"\"),\n    children: [icon && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"icon\",\n      children: icon\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"title\",\n      children: title\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"icon-font icon-question \".concat(showExplain ? \"\" : \"hidden\"),\n      onClick: (0,commonModule_prod.trackFn)(\"onClick--29873\", function () {\n        showExplain && showExplain();\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"tag\",\n      children: tag\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"flex1\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"desc \".concat(type),\n      children: desc\n    })]\n  });\n}\nfunction PriceDetail(_ref2) {\n  var priceList = _ref2.priceList,\n    toggleShowPriceDetail = _ref2.toggleShowPriceDetail,\n    showPriceDetail = _ref2.showPriceDetail,\n    showServiceFeeExplain = _ref2.showServiceFeeExplain;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"price-detail-container \".concat(showPriceDetail ? \"show\" : \"close\"),\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"mask\",\n      onClick: (0,commonModule_prod.trackFn)(\"toggleShowPriceDetail--e4940\", toggleShowPriceDetail)\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"price-detail-content\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"detail-title\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: \"\\u8D39\\u7528\\u660E\\u7EC6\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"close\",\n          onClick: (0,commonModule_prod.trackFn)(\"toggleShowPriceDetail--b502d\", toggleShowPriceDetail),\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"icon-font icon-close\"\n          })\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"content\",\n        children: [priceList.map(function (priceGroup, index) {\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"group\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(DetailRow, {\n              title: priceGroup.title,\n              desc: \"\".concat(priceGroup.type === \"deduction\" ? \"-¥\" : \"¥\", \" \").concat(priceGroup.totalPrice),\n              isTitle: true,\n              type: priceGroup.type\n            }), priceGroup.list.map(function (priceItem, idx) {\n              return /*#__PURE__*/(0,jsx_runtime.jsx)(DetailRow, {\n                title: priceItem.name,\n                tag: priceItem.tag,\n                showExplain: priceItem.showExplain ? showServiceFeeExplain : undefined,\n                desc: \"\".concat(priceItem.priceInfo),\n                icon: priceItem.icon,\n                type: priceGroup.type\n              }, idx);\n            })]\n          }, index);\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"group\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"desc-row\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"normal\",\n              children: \"\\u670D\\u52A1\\u8D39\\u5305\\u542B\\u4F9B\\u5E94\\u5546\\u624B\\u7EED\\u8D39\\uFF0C\\u6280\\u672F\\u652F\\u6301\\u8D39\\u7B49\\u57FA\\u7840\\u670D\\u52A1\\u4FDD\\u969C\\u8D39\\u7528\\uFF1B\\u5982\\u51FA\\u7968\\u5931\\u8D25\\uFF0C\\u81EA\\u52A8\\u9000\\u8FD8\\u81F3\\u539F\\u652F\\u4ED8\\u8D26\\u6237\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"high-light\",\n              onClick: (0,commonModule_prod.trackFn)(\"showServiceFeeExplain--291ee\", showServiceFeeExplain),\n              children: \"\\u5BF9\\u670D\\u52A1\\u8D39\\u4ECD\\u6709\\u7591\\u95EE\\uFF1F\"\n            })]\n          })\n        })]\n      })]\n    })]\n  });\n}\n/* harmony default export */ var components_PriceDetail = (/*#__PURE__*/react.memo(PriceDetail));\n// EXTERNAL MODULE: ./src/pages/bus/util/ubtKeys/index.ts + 2 modules\nvar ubtKeys = __webpack_require__(26345);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(22276);\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/getAllSelectedSales.js\n\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-20 13:34:38\n * @LastEditTime: 2023-02-24 14:53:36\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/getAllSelectedSales.js\n * @\n */\n\nfunction getAllSelectedSales() {\n  var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n  var bookSales = store/* default.getModelState */.Z.getModelState(\"bookSale\");\n  var _bookParams$busDetail = bookParams.busDetail,\n    busDetail = _bookParams$busDetail === void 0 ? {} : _bookParams$busDetail;\n  var selectX = busDetail.selectX;\n  var insuranceList = bookSales.insuranceList,\n    salePackageList = bookSales.salePackageList;\n  var sales = [];\n  if (insuranceList && insuranceList.length > 0) {\n    sales = sales.concat(insuranceList);\n  }\n  if (salePackageList && salePackageList.length > 0) {\n    sales = sales.concat(salePackageList);\n  }\n  sales = sales.filter(function (item) {\n    if ((item.open || item.selected) && !item.cancel && item.packageCode != 0) {\n      return true;\n    }\n  });\n  var selectedSales = [];\n  var hasInsurance = false;\n  var needCalX = !!selectX;\n  for (var i = 0; i < sales.length; i++) {\n    var item = sales[i];\n    if ((item.open || item.selected) && !item.cancel && item.packageCode != 0) {\n      selectedSales.push(item);\n      if (item.isInsurance) {\n        hasInsurance = true;\n      }\n    }\n    if (selectX) {\n      if (selectX.packageCode === item.packageCode || selectX.isInsurance && item.isInsurance) {\n        needCalX = false;\n      }\n    }\n  }\n  if (needCalX && (selectX.open || selectX.selected) && !selectX.cancel && selectX.packageCode != 0) {\n    if (selectX.isInsurance) {\n      hasInsurance = true;\n    }\n    selectedSales = [selectX].concat((0,toConsumableArray/* default */.Z)(selectedSales));\n  }\n  return {\n    sales: selectedSales,\n    hasInsurance: hasInsurance\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/BottomBar.js\n\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2022-12-29 16:58:56\n * @LastEditTime: 2023-03-02 15:37:54\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/taro/book/component/BottomBar.js\n * @\n */\n\n\n\n\n\n\n\n\n\n\n\n\nvar withTrace = common/* ubt.withTrace */.uM.withTrace;\nfunction PriceBar(_ref) {\n  var toggleShowPriceDetail = _ref.toggleShowPriceDetail,\n    showServiceFeeExplain = _ref.showServiceFeeExplain,\n    onSubmit = _ref.onSubmit,\n    loading = _ref.loading;\n  var _store$useModel = store/* default.useModel */.Z.useModel(\"bookParams\"),\n    _store$useModel2 = (0,slicedToArray/* default */.Z)(_store$useModel, 2),\n    bookParams = _store$useModel2[0],\n    dispatchBookParams = _store$useModel2[1];\n  var _store$useModel3 = store/* default.useModel */.Z.useModel(\"bookSale\"),\n    _store$useModel4 = (0,slicedToArray/* default */.Z)(_store$useModel3, 2),\n    bookSaleModel = _store$useModel4[0],\n    dispatchBookSale = _store$useModel4[1];\n  var insuranceList = bookSaleModel.insuranceList,\n    salePackageList = bookSaleModel.salePackageList;\n  var _bookParams$busDetail = bookParams.busDetail,\n    busDetail = _bookParams$busDetail === void 0 ? {} : _bookParams$busDetail,\n    totalPrice = bookParams.totalPrice,\n    totalOriginPrice = bookParams.totalOriginPrice,\n    savePrice = bookParams.savePrice,\n    priceList = bookParams.priceList,\n    phoneNumber = bookParams.phoneNumber,\n    showPriceDetail = bookParams.showPriceDetail,\n    confirmChildInfo = bookParams.confirmChildInfo,\n    showConfirmChildInfo = bookParams.showConfirmChildInfo,\n    confirmChildInfoMessage = bookParams.confirmChildInfoMessage;\n  var _busDetail$detail = busDetail.detail,\n    detail = _busDetail$detail === void 0 ? {} : _busDetail$detail,\n    selectX = busDetail.selectX,\n    isPresale = busDetail.isPresale;\n  var showAfterPay = (0,react.useMemo)(function () {\n    var _getAllSelectedSales = getAllSelectedSales(),\n      sales = _getAllSelectedSales.sales,\n      hasInsurance = _getAllSelectedSales.hasInsurance;\n    return isPresale && !hasInsurance;\n  }, [selectX, insuranceList, salePackageList, isPresale]);\n  var onPay = (0,react.useCallback)(withTrace(function () {\n    onSubmit && onSubmit(\"normal\");\n  }), [onSubmit]);\n  var onAfterPay = (0,react.useCallback)(withTrace(function () {\n    onSubmit && onSubmit(\"afterPay\");\n  }), [onSubmit]);\n  var clickShowPriceDetail = (0,react.useCallback)(withTrace(function () {\n    toggleShowPriceDetail && toggleShowPriceDetail();\n  }), [toggleShowPriceDetail]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(BottomBar/* default */.Z, {\n    className: \"price-bottom-bar\",\n    holdPlace: true,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_PriceDetail, {\n      isPresale: isPresale,\n      priceList: priceList,\n      showPriceDetail: showPriceDetail,\n      toggleShowPriceDetail: toggleShowPriceDetail,\n      showServiceFeeExplain: showServiceFeeExplain\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"price-bar \".concat(loading < 1 ? \"loading-mock-skeleton skeleton-shimmer\" : \"\"),\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"price flex1\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"unit skeleton-item skeleton-square \",\n            children: \"\\xA5\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(component_RollNumber, {\n            value: (isPresale ? totalOriginPrice : totalPrice) || 0\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"save-price-tag \".concat(savePrice > 0 ? \"\" : \"hidden\"),\n          children: [\"\\u5DF2\\u7701\\xA5\", savePrice]\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        id: ubtKeys/* default.book.BCWBooking_Pay_detail */.Z.book.BCWBooking_Pay_detail,\n        className: \"detail skeleton-item skeleton-square \".concat(showPriceDetail ? \"close\" : \"show\"),\n        onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_Pay_detail */.Z.book.BCWBooking_Pay_detail, clickShowPriceDetail),\n        children: \"\\u660E\\u7EC6\"\n      }), !isPresale ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        id: ubtKeys/* default.book.BCWBooking_Pay */.Z.book.BCWBooking_Pay,\n        className: \"operation-button main active-mask skeleton-item skeleton-square \",\n        onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_Pay */.Z.book.BCWBooking_Pay, onPay),\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"\",\n          children: \"\\u53BB\\u652F\\u4ED8\"\n        })\n      }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"operation-button-group skeleton-item skeleton-square \",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          id: ubtKeys/* default.book.BCWBooking_Pay_CommonPay */.Z.book.BCWBooking_Pay_CommonPay,\n          className: \"operation-button active-mask\",\n          onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_Pay_CommonPay */.Z.book.BCWBooking_Pay_CommonPay, onPay),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"\",\n            children: \"\\u666E\\u901A\\u652F\\u4ED8\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            className: \"sub-title\",\n            children: [\"\\u5F53\\u524D\\u9884\\u4F30\\u7968\\u4EF7\\xA5\", totalOriginPrice]\n          })]\n        }), showAfterPay && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          id: ubtKeys/* default.book.BCWBooking_Pay_CreditPay */.Z.book.BCWBooking_Pay_CreditPay,\n          className: \"operation-button active-mask\",\n          onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_Pay_CreditPay */.Z.book.BCWBooking_Pay_CreditPay, onAfterPay),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"\",\n            children: \"\\u4FE1\\u7528\\u652F\\u4ED8\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"sub-title\",\n            children: \"\\u5148\\u62A2\\u7968 \\u518D\\u652F\\u4ED8\"\n          })]\n        })]\n      })]\n    })]\n  });\n}\n/* harmony default export */ var component_BottomBar = (/*#__PURE__*/react.memo(PriceBar));\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(68277);\n;// CONCATENATED MODULE: ./src/pages/bus/components/Loadable/index.tsx\n\n\n\nvar _excluded = [\"requiredMap\", \"loadingView\"];\n\n\n\n// const Test = React.lazy(import);\n\nvar Pending = 0;\nvar Resolved = 1;\n// const Rejected = 2;\n\nvar checkFunction = function checkFunction(v, checker) {\n  if (typeof checker === \"function\") {\n    return checker(v);\n  }\n  return checker === v;\n};\nfunction Loadable(_ref) {\n  var Component = _ref.Component,\n    _ref$requiredMap = _ref.requiredMap,\n    requiredMap = _ref$requiredMap === void 0 ? {} : _ref$requiredMap,\n    Loading = _ref.Loading;\n  // let keyArray = Object.keys(requiredMap);\n  // let keyLength = Object.keys()\n  var LoadableComponent = /*#__PURE__*/react.forwardRef(function (props, ref) {\n    var _useState = (0,react.useState)(Pending),\n      _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n    var instanceRequiredKeyMap = props.requiredMap,\n      loadingView = props.loadingView,\n      restProps = (0,objectWithoutProperties/* default */.Z)(props, _excluded);\n    (0,react.useLayoutEffect)(function () {\n      if (state === Resolved) {\n        return;\n      }\n      var instanceRequiredKeys = Object.keys(instanceRequiredKeyMap || {});\n      // const instanceKeyArray = keyArray;\n      var mergedInstanceRequiredKeyMap = requiredMap;\n      if (instanceRequiredKeys.length > 0) {\n        // instanceLeyArray = [...keyArray ,instanceRequiredKeys]\n        mergedInstanceRequiredKeyMap = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, requiredMap), {}, {\n          instanceRequiredKeyMap: instanceRequiredKeyMap\n        });\n      }\n      var allRequiredKeys = Object.keys(mergedInstanceRequiredKeyMap);\n      var allRequiredKeyLength = allRequiredKeys.length;\n      var allChecked = true;\n      if (allRequiredKeyLength > 0) {\n        for (var i = 0; i < allRequiredKeyLength; i++) {\n          var key = allRequiredKeys[i];\n          var value = props[key];\n          var checker = mergedInstanceRequiredKeyMap[key];\n          var isChecked = checkFunction(value, checker);\n          if (!isChecked) {\n            allChecked = false;\n            break;\n          }\n        }\n        if (allChecked) {\n          setState(Resolved);\n        }\n      } else {\n        setState(Resolved);\n      }\n    }, [props]);\n    var setRef = (0,react.useCallback)(function (ref) {\n      ref.current = ref;\n    }, []);\n    if (state === Pending) {\n      return loadingView || /*#__PURE__*/(0,jsx_runtime.jsx)(Loading, {});\n    }\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(Component, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, restProps), {}, {\n      ref: setRef\n    }));\n  });\n  LoadableComponent.displayName = Component.displayName;\n  return LoadableComponent;\n}\nfunction Skeletonable(_ref2) {\n  var Component = _ref2.Component,\n    mockProps = _ref2.mockProps;\n  return /*#__PURE__*/react.memo(function () {\n    console.log(\"mockProps----\");\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(Component, (0,objectSpread2/* default */.Z)({}, mockProps));\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/BusInfoView.js\n\n\n\n\n\n\n\n\n\nvar BusInfoView_withTrace = common/* ubt.withTrace */.uM.withTrace;\nvar styles = {};\nfunction StationInfo(_ref) {\n  var _ref$fromStation = _ref.fromStation,\n    fromStation = _ref$fromStation === void 0 ? \"\" : _ref$fromStation,\n    _ref$toStationDisplay = _ref.toStationDisplay,\n    toStationDisplay = _ref$toStationDisplay === void 0 ? \"\" : _ref$toStationDisplay;\n  var isTwoLine = (0,react.useMemo)(function () {\n    return fromStation.length + toStationDisplay.length >= 18;\n  }, [fromStation, toStationDisplay]);\n  if (isTwoLine) {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"station-row-container\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"line-column\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"dot\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"line\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"dot end\"\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"station-column\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"station-line skeleton-item skeleton-square skeleton-shimmer\",\n          children: fromStation\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"base\",\n          children: \"1\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"station-line skeleton-item skeleton-square skeleton-shimmer\",\n          children: toStationDisplay\n        })]\n      })]\n    });\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"station-row\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"station-line skeleton-item skeleton-square\",\n      children: fromStation\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"icon-font icon-arrow-to\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"station-line skeleton-item skeleton-square\",\n      children: toStationDisplay\n    })]\n  });\n}\nfunction BusInfoView(_ref2) {\n  var detail = _ref2.detail,\n    onClickTag = _ref2.onClickTag,\n    onClickMap = _ref2.onClickMap,\n    onClickDesc = _ref2.onClickDesc,\n    mock = _ref2.mock;\n  var fromTime = detail.fromTime,\n    startTime = detail.startTime,\n    endTime = detail.endTime,\n    fromStation = detail.fromStation,\n    fromDate = detail.fromDate,\n    shiftType = detail.shiftType,\n    costTime = detail.costTime,\n    toStationShow = detail.toStationShow,\n    toStation = detail.toStation,\n    _detail$fromStationIn = detail.fromStationInfo,\n    fromStationInfo = _detail$fromStationIn === void 0 ? {} : _detail$fromStationIn,\n    _detail$busDetailTagL = detail.busDetailTagList,\n    busDetailTagList = _detail$busDetailTagL === void 0 ? [] : _detail$busDetailTagL,\n    _detail$passStationLi = detail.passStationList,\n    passStationList = _detail$passStationLi === void 0 ? [] : _detail$passStationLi,\n    isWayStation = detail.isWayStation,\n    transferPorts = detail.transferPorts,\n    formatDate = detail.formatDate,\n    displayTime = detail.displayTime,\n    weekDay = detail.weekDay,\n    toStationDisplay = detail.toStationDisplay,\n    showPassText = detail.showPassText,\n    busTagName = detail.busTagName,\n    showPassStationList = detail.showPassStationList,\n    timeDesc = detail.timeDesc;\n  console.log(\"detail-----\", detail);\n  var showTagDesc = (0,react.useCallback)(function () {\n    onClickTag && onClickTag(detail);\n  }, [detail, onClickTag]);\n  var clickMap = (0,react.useCallback)(BusInfoView_withTrace(function () {\n    onClickMap && onClickMap(fromStationInfo);\n  }), [onClickMap, fromStationInfo]);\n  var clickDesc = (0,react.useCallback)(BusInfoView_withTrace(function () {\n    onClickDesc && onClickDesc();\n  }), [onClickDesc]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"info-container \".concat(mock ? \"loading-mock-skeleton\" : \"\"),\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"date-wrap\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"date-content\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"time-line skeleton-item skeleton-square skeleton-shimmer\",\n          children: timeDesc\n        }), !!costTime && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          className: \"cost-time skeleton-item skeleton-square skeleton-shimmer\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: \" \"\n          }), \"\".concat(costTime, \"(\\u4EC5\\u4F9B\\u53C2\\u8003)\")]\n        })]\n      }), !!busTagName && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"b-tag-view skeleton-item skeleton-square skeleton-shimmer\",\n        onClick: (0,commonModule_prod.trackFn)(\"showTagDesc--29ae9\", showTagDesc),\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          className: \"tag-blue\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: busTagName\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"icon-font icon-arrow-right\"\n          })]\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"main\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"flex-row\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(StationInfo, {\n          fromStation: fromStation,\n          toStationDisplay: toStationDisplay,\n          showPassStationList: showPassStationList,\n          showPassText: showPassText\n        }), !!fromStationInfo && !!fromStationInfo.amapX && !!fromStationInfo.amapY && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          id: ubtKeys/* default.book.BCWBooking_TripInfo_StationMap */.Z.book.BCWBooking_TripInfo_StationMap,\n          className: \"map-button skeleton-item skeleton-circular skeleton-shimmer\",\n          onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_TripInfo_StationMap */.Z.book.BCWBooking_TripInfo_StationMap, clickMap),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            className: \"map-button-image\",\n            src: \"https://pages.c-ctrip.com/bus-images/rn_bus/book/station_map.png\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"map-button-text\",\n            children: \"\\u8F66\\u7AD9\\u5730\\u5740\"\n          })]\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"desc-button\",\n      id: ubtKeys/* default.book.BCWBooking_TripInfo_Notice */.Z.book.BCWBooking_TripInfo_Notice,\n      onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_TripInfo_Notice */.Z.book.BCWBooking_TripInfo_Notice, clickDesc),\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"desc-tag-container \",\n        children: busDetailTagList.map(function (item, index) {\n          if (index > 1) return null;\n          var tag = item.tag,\n            type = item.type;\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            className: \"skeleton-item skeleton-square skeleton-shimmer\",\n            style: [styles.descLine, {\n              marginRight: 16\n            }],\n            numberOfLines: 1,\n            children: [type === 2 ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"tag-icon icon-font icon-warning\"\n            }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"tag-icon  icon-font icon-right\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"tag-text\",\n              children: tag\n            })]\n          }, index);\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"skeleton-item skeleton-square skeleton-shimmer\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"desc-line\",\n          children: \"\\u8BA2\\u7968\\u987B\\u77E5\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"icon-font icon-arrow-right\"\n        })]\n      })]\n    })]\n  });\n}\nvar LoadableBusInfo = Loadable({\n  Component: BusInfoView,\n  Loading: Skeletonable({\n    Component: BusInfoView,\n    mockProps: {\n      mock: true,\n      detail: {\n        fromStation: \"------\",\n        toStationDisplay: \"--------\",\n        timeDesc: \"------ -- --:----\",\n        costTime: \"---\",\n        busTagName: \"----\",\n        fromStationInfo: {\n          fromStation: \"----\",\n          amapX: \"--\",\n          amapY: \"--\"\n        },\n        busDetailTagList: [{\n          type: 2,\n          tag: \"------------\"\n        }, {\n          type: 2,\n          tag: \"------------\"\n        }]\n      }\n    }\n  }),\n  requiredMap: {\n    detail: function detail(value) {\n      return value && value.fromStation && value.fromStation.length > 0;\n    }\n  }\n});\n/* harmony default export */ var component_BusInfoView = (/*#__PURE__*/react.memo(LoadableBusInfo));\n;// CONCATENATED MODULE: ./src/pages/bus/components/ChannelHeaderView/style/index.ts\n\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/ChannelHeaderView/index.tsx\n\n\n\n\n\n\nfunction ChannelHeaderView(_ref) {\n  var title = _ref.title,\n    subTitle = _ref.subTitle,\n    color = _ref.color,\n    headerImage = _ref.headerImage;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"sale-header-view sale-header-image skeleton-item skeleton-light\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"sale-header-image\",\n      src: headerImage\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"title-wrap skeleton-item skeleton-square skeleton-shimmer skeleton-light\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"sale-title skeleton-item skeleton-square skeleton-shimmer skeleton-dark\",\n        style: {\n          color: color\n        },\n        children: title || \"添加保障\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"sale-sub-title skeleton-item skeleton-square skeleton-shimmer skeleton-dark\",\n        style: {\n          color: color\n        },\n        children: subTitle || \" \"\n      })]\n    })]\n  });\n}\n/* harmony default export */ var components_ChannelHeaderView = (/*#__PURE__*/react.memo(ChannelHeaderView));\n;// CONCATENATED MODULE: ./src/pages/bus/components/InsuranceView/InsuranceItem.tsx\n\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-16 19:40:15\n * @LastEditTime: 2023-08-28 15:08:01\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/components/InsuranceView/InsuranceItem.tsx\n *\n */\n\n\n\n\n\n\nfunction InsuranceItem(_ref) {\n  var item = _ref.item,\n    index = _ref.index,\n    onSelectedInsurance = _ref.onSelectedInsurance;\n  var onSelected = (0,react.useCallback)(common/* ubt.withTrace */.uM.withTrace(function () {\n    onSelectedInsurance && onSelectedInsurance(item, index);\n  }), [onSelectedInsurance, item, index]);\n  var _useMemo = (0,react.useMemo)(function () {\n      var tag = item.tag,\n        title = item.title,\n        packageName = item.packageName,\n        _item$extraMap = item.extraMap,\n        extraMap = _item$extraMap === void 0 ? {} : _item$extraMap,\n        testID = item.testID,\n        showTagsLength = item.showTagsLength,\n        id = item.id;\n      var insuranceIconUrl = \"https://pages.c-ctrip.com/bus-images/busapp/book/insurance_icon_insecure.png\";\n      if (extraMap && extraMap.iconUrl && extraMap.iconUrl.length) {\n        insuranceIconUrl = extraMap.iconUrl;\n      }\n      var newTag = extraMap && extraMap.packageTitle && extraMap.packageTitle.length ? extraMap.packageTitle : tag || extraMap && extraMap.channelType || \"\"; // 兼容船票的packageTitle\n      var newTagColors = [\"#07BD7F\", \"#4CCDA2\"];\n      if (extraMap && extraMap.colors && extraMap.colors.length) {\n        newTagColors = JSON.parse(extraMap.colors);\n      }\n      var tagBackground = \"linear-gradient(to right, \".concat(newTagColors.map(function (color, idx) {\n        return \"\".concat(color, \" \").concat(idx / (newTagColors.length - 1) * 100, \"%\");\n      }).join(\",\"), \")\");\n      var insuranceTitle = extraMap && extraMap.fillinsuranceTitle && extraMap.fillinsuranceTitle.length ? extraMap.fillinsuranceTitle : title || packageName;\n      console.log(\"item-----\", item);\n      return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, item), {}, {\n        newTag: newTag,\n        newTagColors: newTagColors,\n        tagBackground: tagBackground,\n        insuranceIconUrl: insuranceIconUrl,\n        insuranceTitle: insuranceTitle\n      });\n    }, [item]),\n    tag = _useMemo.tag,\n    title = _useMemo.title,\n    packageName = _useMemo.packageName,\n    payShowPrice = _useMemo.payShowPrice,\n    _useMemo$tagList = _useMemo.tagList,\n    tagList = _useMemo$tagList === void 0 ? [] : _useMemo$tagList,\n    _useMemo$extraMap = _useMemo.extraMap,\n    extraMap = _useMemo$extraMap === void 0 ? {} : _useMemo$extraMap,\n    testID = _useMemo.testID,\n    showTagsLength = _useMemo.showTagsLength,\n    insuranceId = _useMemo.id,\n    insuranceIconUrl = _useMemo.insuranceIconUrl,\n    insuranceTitle = _useMemo.insuranceTitle,\n    newTag = _useMemo.newTag,\n    newTagColors = _useMemo.newTagColors,\n    tagBackground = _useMemo.tagBackground;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"insurance-item \".concat(item.packageCode == 0 ? \"place\" : \"\", \" \").concat(item.selected ? \"selected\" : \"\", \" skeleton-item skeleton-light skeleton-shimmer\"),\n    id: ubtKeys/* default.book.BCWBooking_XProduct_BaseGuarantee.buildWith */.Z.book.BCWBooking_XProduct_BaseGuarantee.buildWith(index),\n    onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_XProduct_BaseGuarantee.buildWith */.Z.book.BCWBooking_XProduct_BaseGuarantee.buildWith(index), onSelected),\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"insurance-tag skeleton-item skeleton-square skeleton-dark\",\n      style: {\n        background: tagBackground\n      },\n      children: newTag\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"title-row\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"item-icon skeleton-item skeleton-square skeleton-dark \",\n        src: insuranceIconUrl\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"item-title skeleton-item skeleton-square skeleton-dark\",\n        children: insuranceTitle\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"item-price skeleton-item skeleton-square skeleton-dark\",\n        children: payShowPrice ? \"\\xA5\".concat(payShowPrice, \"/\\u4EBA\") : \" \"\n      })]\n    }), showTagsLength.map(function (itemTag, idx) {\n      var tag = tagList[idx];\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"tag skeleton-item skeleton-square  skeleton-dark  skeleton-shimmer\",\n        children: [tag ? tag.tagList.map(function (text, index) {\n          return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"\".concat(text.highLight ? \"highlight-tag insurance-font-color\" : \"\", \" skeleton-item skeleton-square  skeleton-dark\"),\n            children: text.text\n          }, index);\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"icon-font red icon-no \"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"selected-icon \".concat(item.selected ? \"\" : \"hidden\"),\n          src: \"https://pages.c-ctrip.com/bus-images/ship/insurance/selected.png\"\n        })]\n      }, idx);\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/bus/components/InsuranceView/ClauseView.tsx\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-16 19:41:50\n * @LastEditTime: 2023-08-24 13:59:18\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/components/InsuranceView/ClauseView.tsx\n *\n */\n\n\n\n\nfunction ClauseView(_ref) {\n  var insurance = _ref.insurance,\n    channelDesc = _ref.channelDesc,\n    onClickClause = _ref.onClickClause,\n    _ref$showPre = _ref.showPre,\n    showPre = _ref$showPre === void 0 ? false : _ref$showPre;\n  var _ref2 = insurance || {},\n    insuranceClause = _ref2.localClause,\n    insuranceTitle = _ref2.title;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"desc-wrap \",\n    children: [!insuranceClause ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"desc-text skeleton-item skeleton-square skeleton-shimmer\",\n      children: channelDesc || \"本模块为投保页面，由携程保险代理有限公司管理并运营。请仔细阅读投保须知等内容，并知晓承保保险公司和产品条款内容。为确保您的投保权益，您的投保信息轨迹将被记录。\"\n    }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"desc-text skeleton-item skeleton-square skeleton-shimmer\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u672C\\u6A21\\u5757\\u7531\\u643A\\u7A0B\\u4FDD\\u9669\\u4EE3\\u7406\\u6709\\u9650\\u516C\\u53F8\\u7BA1\\u7406\\u5E76\\u8FD0\\u8425\\uFF0C\\u60A8\"\n      }), showPre && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u5728\\u524D\\u5E8F\\u9875\\u9762\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u6DFB\\u52A0\\u4E86\\u300C\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: insuranceTitle\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u300D\\uFF0C\\u8BF7\\u60A8\\u4ED4\\u7EC6\\u9605\\u8BFB\"\n      }), insuranceClause.leftClause.map(function (item, i) {\n        var title = item.title,\n          url = item.url;\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"high-light\",\n          onClick: (0,commonModule_prod.trackFn)(\"\" + (i + \"--f46e5\"), function () {\n            onClickClause(item);\n          }),\n          children: i === insuranceClause.leftClause.length - 1 ? title : \"\".concat(title, \"\\u3001\")\n        }, i);\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u4EE5\\u53CA\"\n      }), insuranceClause.rightClause.map(function (item, i) {\n        var title = item.title,\n          url = item.url;\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"high-light\",\n          onClick: (0,commonModule_prod.trackFn)(\"\" + (i + \"--79a30\"), function () {\n            onClickClause(item);\n          }),\n          children: i === insuranceClause.rightClause.length - 1 ? title : \"\".concat(title, \"\\u3001\")\n        }, i);\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u7B49\\u5176\\u4ED6\\u5185\\u5BB9\\uFF0C\\u5982\\u60A8\\u540C\\u610F\\u8BF7\\u70B9\\u51FB\\u53BB\\u652F\\u4ED8\\uFF0C\\u4E3A\\u786E\\u4FDD\\u60A8\\u7684\\u6295\\u4FDD\\u6743\\u76CA\\uFF0C\\u60A8\\u7684\\u6295\\u4FDD\\u4FE1\\u606F\\u8F68\\u8FF9\\u5C06\\u88AB\\u8BB0\\u5F55\\u3002\"\n      })]\n    }), !showPre && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"insurance-logo\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"security-image skeleton-item skeleton-square skeleton-shimmer\",\n        src: \"https://pages.c-ctrip.com/bus-images/ship/insurance/safe.png\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"skeleton-item skeleton-square skeleton-shimmer\",\n        children: \"\\u643A\\u7A0B\\u65D7\\u4E0B\\u4FDD\\u9669\\u4EE3\\u7406\\u81EA\\u8425\\u5E73\\u53F0\"\n      })]\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/bus/components/InsuranceView/style/index.tsx\n\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/InsuranceView/index.tsx\n\n\n\n\n\n\n\n\n\nvar emptyObj = {\n  key: \"productId\",\n  value: \"111\"\n};\nfunction InsuranceView(_ref) {\n  var title = _ref.title,\n    subTitle = _ref.subTitle,\n    color = _ref.color,\n    headerImage = _ref.headerImage,\n    _ref$insuranceList = _ref.insuranceList,\n    insuranceList = _ref$insuranceList === void 0 ? [] : _ref$insuranceList,\n    selectedIndex = _ref.selectedIndex,\n    onSelectedInsurance = _ref.onSelectedInsurance,\n    onClickClause = _ref.onClickClause,\n    _ref$channelDesc = _ref.channelDesc,\n    channelDesc = _ref$channelDesc === void 0 ? \"\" : _ref$channelDesc,\n    _ref$bizType = _ref.bizType,\n    bizType = _ref$bizType === void 0 ? \"bus\" : _ref$bizType,\n    mock = _ref.mock;\n  var currentInsurance = (0,react.useMemo)(function () {\n    var ins = insuranceList[selectedIndex];\n    return ins;\n  }, [selectedIndex, insuranceList]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"insurance-view-container \".concat(mock ? \"loading-mock-skeleton \" : \"\"),\n    id: \"InsuranceViewHeader\",\n    \"data-expose\": emptyObj,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_ChannelHeaderView, {\n      title: title,\n      subTitle: subTitle,\n      color: color,\n      headerImage: headerImage\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"insurance-group\",\n      children: insuranceList.map(function (item, index) {\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(InsuranceItem, {\n          onSelectedInsurance: onSelectedInsurance,\n          item: item,\n          index: index\n        }, item.id);\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"separator\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(ClauseView, {\n      insurance: currentInsurance,\n      channelDesc: channelDesc,\n      onClickClause: (0,commonModule_prod.trackFn)(\"InsuranceViewHeader\" + \"--onClickClause--47ebc\", onClickClause)\n    })]\n  });\n}\n/* harmony default export */ var components_InsuranceView = (/*#__PURE__*/react.memo(InsuranceView));\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/InsuranceComponent.js\n\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-23 11:17:21\n * @LastEditors: jhyi jhyi@trip.com\n * @LastEditTime: 2023-08-28 15:11:35\n * @FilePath: /taro-bus/src/pages/bus/taro/book/component/InsuranceComponent.js\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n\n\n\n\n\nfunction InsuranceComponent(props) {\n  var _store$useModel = store/* default.useModel */.Z.useModel(\"bookSale\"),\n    _store$useModel2 = (0,slicedToArray/* default */.Z)(_store$useModel, 2),\n    bookSales = _store$useModel2[0],\n    bookSalesDispatcher = _store$useModel2[1];\n  var insuranceList = bookSales.insuranceList,\n    insuranceHeaderConfig = bookSales.insuranceHeaderConfig,\n    insuranceChannelDesc = bookSales.insuranceChannelDesc;\n  var insurances = props.mock ? props.insuranceList : insuranceList;\n  var onSelectedInsurance = (0,react.useCallback)(function (item, index) {\n    bookSalesDispatcher.selectInsurance(index);\n  }, []);\n  var onClickClause = (0,react.useCallback)(function (clause) {\n    props.onClickClause && props.onClickClause(clause.url, clause.title);\n  }, []);\n  return insurances.length > 0 ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_InsuranceView, {\n    mock: props.mock,\n    insuranceList: insurances,\n    selectedIndex: insuranceHeaderConfig.selectedIndex,\n    channelDesc: insuranceChannelDesc,\n    title: insuranceHeaderConfig.title,\n    subTitle: insuranceHeaderConfig.subTitle,\n    color: insuranceHeaderConfig.color,\n    headerImage: insuranceHeaderConfig.image,\n    onSelectedInsurance: onSelectedInsurance,\n    onClickClause: (0,commonModule_prod.trackFn)(\"onClickClause--afd05\", onClickClause)\n  }) : null;\n}\nvar LoadableInsurance = Loadable({\n  Component: InsuranceComponent,\n  Loading: Skeletonable({\n    Component: InsuranceComponent,\n    mockProps: {\n      insuranceList: [{\n        showTagsLength: [0, 1, 2],\n        packageCode: \"0\"\n      }, {\n        showTagsLength: [0, 1, 2]\n      }],\n      mock: true\n    }\n  }),\n  requiredMap: {\n    loading: function loading(value) {\n      return value > 1;\n    }\n  }\n});\n/* harmony default export */ var component_InsuranceComponent = (/*#__PURE__*/react.memo(LoadableInsurance));\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/judgeToggle.js\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-15 15:31:59\n * @LastEditTime: 2023-02-27 21:55:10\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/judgeToggle.js\n * @\n */\n\nfunction checkDeletable(pas, adultCount, childCount, takeChildCount) {\n  if (pas.isChildTicket == 1 || pas.isTakeChildTicket == 1) {\n    return true;\n  }\n  var hasChild = takeChildCount > 0 || childCount > 0;\n  return hasChild ? adultCount > 1 : true;\n}\nfunction judgeTogglePassenger(pas, _ref) {\n  var adultCount = _ref.adultCount,\n    childCount = _ref.childCount,\n    takeChildCount = _ref.takeChildCount,\n    buyTicketRule = _ref.buyTicketRule;\n  var errMessage = \"\";\n  if (pas.selected) {\n    var canDelete = checkDeletable(pas, adultCount, childCount, takeChildCount);\n    if (!canDelete) {\n      errMessage = \"儿童不能单独出行，请先删除儿童。\";\n      return {\n        code: 1,\n        message: errMessage\n      };\n    }\n    if (!(pas.isChildTicket || pas.isTakeChildTicket)) {\n      if (adultCount - takeChildCount <= 0) {\n        errMessage = \"成人不能比携童数量少\";\n        return {\n          code: 2,\n          message: errMessage\n        };\n      }\n    }\n    return {\n      code: 0\n    };\n  } else {\n    if (pas.isTakeChildTicket) {\n      if (!buyTicketRule.isSaleTakeChildTicket) {\n        errMessage = \"该车次不支持免票携童\";\n        return {\n          code: 3,\n          message: errMessage\n        };\n      }\n      if (takeChildCount >= buyTicketRule.supportTakeChildNumber) {\n        errMessage = \"携童超过限定数量\";\n        return {\n          code: 4,\n          message: errMessage\n        };\n      }\n      if (takeChildCount >= adultCount) {\n        errMessage = \"携童数量不能超过成人\";\n        return {\n          code: 5,\n          message: errMessage\n        };\n      }\n    } else {\n      if (pas.isChildTicket) {\n        if (!buyTicketRule.isSaleChildTicket) {\n          errMessage = \"该车次不支持儿童票\";\n          return {\n            code: 6,\n            message: errMessage\n          };\n        }\n        if (adultCount == 0) {\n          errMessage = \"儿童不能单独出行，请先添加成人\";\n          return {\n            code: 7,\n            message: errMessage\n          };\n        }\n      }\n      if (childCount + adultCount >= buyTicketRule.maxSaleTicketNumber) {\n        errMessage = \"\\u4E00\\u4E2A\\u8BA2\\u5355\\u6700\\u591A\\u53EA\\u80FD\\u6DFB\\u52A0\".concat(buyTicketRule.maxSaleTicketNumber, \"\\u540D\\u4E58\\u5BA2\\uFF0C\\u8D85\\u8FC7\\u8BF7\\u5206\\u6279\\u8D2D\\u4E70\");\n        return {\n          code: 8,\n          message: errMessage\n        };\n      }\n    }\n  }\n  return {\n    code: 0\n  };\n}\n// EXTERNAL MODULE: ./src/pages/bus/components/Cell/index.tsx + 1 modules\nvar Cell = __webpack_require__(85169);\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/PassengerView.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar PassengerView_withTrace = common/* ubt.withTrace */.uM.withTrace;\nfunction PassengerRow(_ref) {\n  var passenger = _ref.passenger,\n    index = _ref.index,\n    onToggleSelectPassenger = _ref.onToggleSelectPassenger,\n    onEdit = _ref.onEdit;\n  var toggleSelectPassenger = (0,react.useCallback)(function () {\n    onToggleSelectPassenger && onToggleSelectPassenger(passenger, index);\n  }, [passenger, index, onToggleSelectPassenger]);\n  var edit = (0,react.useCallback)(PassengerView_withTrace(function () {\n    onEdit && onEdit(passenger, index);\n  }), [passenger, index, onEdit]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"passenger-row\",\n    onClick: (0,commonModule_prod.trackFn)(\"onClick--fc02c\", passenger.idcard && passenger.idcard.no ? null : edit),\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"select-icon-container\",\n      onClick: (0,commonModule_prod.trackFn)(\"toggleSelectPassenger--5b657\", toggleSelectPassenger),\n      children: passenger.selected ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont icon-checked-round \"\n      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont icon-check-round \"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"name skeleton-item skeleton-square skeleton-shimmer\",\n      children: passenger.name\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"id skeleton-item skeleton-square skeleton-shimmer\",\n      children: passenger.idcard && passenger.idcard.no || \"点击补充信息\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"type-tag skeleton-item skeleton-square skeleton-shimmer\",\n      children: passenger.ptypeText\n    }), passenger.isSelf && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"type-tag\",\n      children: \"本人\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"flex1\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"edit-icon-container active-opacity\",\n      id: ubtKeys/* default.book.BCWBooking_PassengerChange_EditPassenger.buildWith */.Z.book.BCWBooking_PassengerChange_EditPassenger.buildWith(index),\n      onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_PassengerChange_EditPassenger.buildWith */.Z.book.BCWBooking_PassengerChange_EditPassenger.buildWith(index), edit),\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont icon-edit-rect\"\n      })\n    })]\n  });\n}\nfunction PassengerView(_ref2) {\n  var showPsgLength = _ref2.showPsgLength,\n    passengerList = _ref2.passengerList,\n    onEditPassenger = _ref2.onEditPassenger,\n    onShowMore = _ref2.onShowMore,\n    children = _ref2.children,\n    _ref2$className = _ref2.className,\n    className = _ref2$className === void 0 ? \"\" : _ref2$className,\n    mock = _ref2.mock;\n  var _store$useModel = store/* default.useModel */.Z.useModel(\"passengers\"),\n    _store$useModel2 = (0,slicedToArray/* default */.Z)(_store$useModel, 2),\n    passengersModel = _store$useModel2[0],\n    dispatchPassengers = _store$useModel2[1];\n  var onToggleSelectPassenger = (0,react.useCallback)(function (item, index) {\n    var passengers = store/* default.getModelState */.Z.getModelState(\"passengers\");\n    var childCount = passengers.childCount,\n      adultCount = passengers.adultCount,\n      takeChildCount = passengers.takeChildCount;\n    var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n    var busDetail = bookParams.busDetail;\n    var detail = busDetail.detail;\n    var _detail$buyTicketRule = detail.buyTicketRule,\n      buyTicketRule = _detail$buyTicketRule === void 0 ? {} : _detail$buyTicketRule;\n    var _judgeTogglePassenger = judgeTogglePassenger(item, {\n        childCount: childCount,\n        adultCount: adultCount,\n        takeChildCount: takeChildCount,\n        buyTicketRule: buyTicketRule\n      }),\n      code = _judgeTogglePassenger.code,\n      message = _judgeTogglePassenger.message;\n    if (code !== 0) {\n      common/* cwx.showModal */.Y8.showModal({\n        title: \"提示\",\n        content: message,\n        showCancel: false,\n        success: function success(res) {\n          console.log(\"用户点击确定\");\n        }\n      });\n    } else {\n      dispatchPassengers.togglePassengerSelected(index);\n    }\n  }, []);\n  var _passengersModel$maxS = passengersModel.maxSaleTicketNumber,\n    maxSaleTicketNumber = _passengersModel$maxS === void 0 ? 5 : _passengersModel$maxS,\n    isSaleChildTicket = passengersModel.isSaleChildTicket,\n    isSaleTakeChildTicket = passengersModel.isSaleTakeChildTicket,\n    _passengersModel$adul = passengersModel.adultCount,\n    adultCount = _passengersModel$adul === void 0 ? 0 : _passengersModel$adul,\n    _passengersModel$chil = passengersModel.childCount,\n    childCount = _passengersModel$chil === void 0 ? 0 : _passengersModel$chil,\n    takeChildCount = passengersModel.takeChildCount;\n  var displayPassengerList = (0,react.useMemo)(function () {\n    return passengerList.slice(0, showPsgLength);\n  }, [showPsgLength, passengerList]);\n  var showMore = (0,react.useCallback)(PassengerView_withTrace(function () {\n    onShowMore && onShowMore();\n  }), [onShowMore]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    id: \"passenger-container-view\",\n    className: \"passenger-view \".concat(mock ? \"loading-mock-skeleton\" : \"\", \" \").concat(className || \"\"),\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"title-row\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"skeleton-item skeleton-square skeleton-shimmer\",\n        children: \"\\u5DF2\\u9009\\uFF1A\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"skeleton-item skeleton-square skeleton-shimmer\",\n        children: [adultCount, \" \\u6210\\u4EBA\"]\n      }), childCount > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        children: [childCount, \" \\u513F\\u7AE5\"]\n      }), takeChildCount > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        children: [takeChildCount, \" \\u643A\\u7AE5\"]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"flex1\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"count-desc skeleton-item skeleton-square\",\n        children: [\"\\u4E00\\u5355\\u6700\\u591A\\u6DFB\\u52A0\", maxSaleTicketNumber, \"\\u4EBA\"]\n      })]\n    }), displayPassengerList.map(function (item, index) {\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(PassengerRow, {\n          passenger: item,\n          onToggleSelectPassenger: onToggleSelectPassenger,\n          index: index,\n          onEdit: onEditPassenger\n        }, item.id), index !== displayPassengerList.length - 1 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"separator\"\n        })]\n      }, item.id);\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      id: ubtKeys/* default.book.BCWBooking_TripInfo_AddPassenger */.Z.book.BCWBooking_TripInfo_AddPassenger,\n      className: \"add-button active-mask skeleton-item skeleton-square\",\n      onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_TripInfo_AddPassenger */.Z.book.BCWBooking_TripInfo_AddPassenger, showMore),\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont icon-add\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        children: [\"\\u6DFB\\u52A0\\u4E58\\u5BA2\", isSaleChildTicket || isSaleTakeChildTicket ? \" (成人/儿童)\" : \"\"]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"separator\"\n    }), children]\n  });\n}\nvar LoadablePassengerView = Loadable({\n  Component: PassengerView,\n  Loading: Skeletonable({\n    Component: PassengerView,\n    mockProps: {\n      mock: true,\n      passengerList: [{\n        id: common/* Utils.randomString */.cQ.randomString(8),\n        name: \"----\",\n        ptypeText: \"----\"\n      }, {\n        id: common/* Utils.randomString */.cQ.randomString(8),\n        name: \"----\",\n        ptypeText: \"----\"\n      }],\n      showPsgLength: 2,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(Cell/* default */.Z, {\n        title: \"----\",\n        children: \"-----------\"\n      })\n    }\n  }),\n  requiredMap: {\n    loading: function loading(value) {\n      return value > 0;\n    }\n  }\n});\n/* harmony default export */ var component_PassengerView = (/*#__PURE__*/react.memo(LoadablePassengerView));\n;// CONCATENATED MODULE: ./src/pages/bus/components/SalePackageView/SaleItem.tsx\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-16 19:40:00\n * @LastEditTime: 2023-08-28 15:08:28\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/components/SalePackageView/SaleItem.tsx\n *\n */\n\n\n\n\n\n\nvar SaleItem_withTrace = common/* ubt.withTrace */.uM.withTrace;\nfunction SaleItem(_ref) {\n  var item = _ref.item,\n    index = _ref.index,\n    onSelectPackage = _ref.onSelectPackage,\n    onClickDesc = _ref.onClickDesc,\n    renderTag = _ref.renderTag;\n  var selectPackage = (0,react.useCallback)(SaleItem_withTrace(function () {\n    onSelectPackage && onSelectPackage(item, index);\n  }), [onSelectPackage, item, index]);\n  var clickDesc = (0,react.useCallback)(function () {\n    onClickDesc && onClickDesc(item, index);\n  }, [onClickDesc, item, index]);\n  var tag = item.tag,\n    _item$extraInfo = item.extraInfo,\n    extraInfo = _item$extraInfo === void 0 ? {} : _item$extraInfo,\n    extraMap = item.extraMap,\n    selected = item.selected,\n    cancel = item.cancel,\n    showPrice = item.showPrice,\n    sellType = item.sellType,\n    discountServiceFee = item.discountServiceFee,\n    displayQuality = item.displayQuality,\n    title = item.title,\n    subTitle = item.subTitle;\n  var _useMemo = (0,react.useMemo)(function () {\n      var iconUrlDisplay = \"https://pages.c-ctrip.com/bus-images/busapp/rnbus/bookAdjust/guarantee.png\";\n      var subTitleImageUrlDisplay = \"\";\n      var _ref2 = extraMap || {},\n        iconUrl = _ref2.iconUrl,\n        selectedSubtitledUrl = _ref2.selectedSubtitledUrl,\n        selectedIconUrl = _ref2.selectedIconUrl,\n        subTitleImageUrl = _ref2.subTitleImageUrl;\n      if (selected && !cancel) {\n        iconUrlDisplay = selectedIconUrl || iconUrl || iconUrlDisplay;\n        subTitleImageUrlDisplay = selectedSubtitledUrl || subTitleImageUrl || subTitleImageUrlDisplay;\n      } else {\n        iconUrlDisplay = iconUrl || iconUrlDisplay;\n        subTitleImageUrlDisplay = subTitleImageUrl || subTitleImageUrlDisplay;\n      }\n      return {\n        displayIconUrl: iconUrlDisplay,\n        displaySubTitleImageUrl: subTitleImageUrlDisplay,\n        checked: selected && !cancel\n      };\n    }, [extraMap, selected, cancel]),\n    displayIconUrl = _useMemo.displayIconUrl,\n    displaySubTitleImageUrl = _useMemo.displaySubTitleImageUrl,\n    checked = _useMemo.checked;\n  var _useMemo2 = (0,react.useMemo)(function () {\n      var isFree = showPrice <= 0;\n      var displayPrice = parseInt(sellType, 10) === 1 ? \"\".concat(showPrice, \"/\\u4EBA\") : showPrice;\n      var priceStyle = {};\n      var lineThroughPrice;\n      if (isFree) {\n        displayPrice = \"免费\";\n        if (discountServiceFee > 0) {\n          lineThroughPrice = discountServiceFee;\n        } else if (!!extraInfo && extraInfo.originPrice) {\n          lineThroughPrice = extraInfo.originPrice;\n        }\n      }\n      return {\n        displayPrice: displayPrice,\n        isFree: isFree,\n        lineThroughPrice: lineThroughPrice\n      };\n    }, [extraInfo, showPrice, discountServiceFee, sellType]),\n    displayPrice = _useMemo2.displayPrice,\n    isFree = _useMemo2.isFree,\n    lineThroughPrice = _useMemo2.lineThroughPrice;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"sale-item\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"sale-icon skeleton-item circular  skeleton-shimmer\",\n      src: displayIconUrl\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"sale-content\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"sale-row title-row\",\n        onClick: (0,commonModule_prod.trackFn)(\"clickDesc--588ae\", clickDesc),\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"sale-title skeleton-item skeleton-square  skeleton-shimmer\",\n          children: title\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"icon-font icon-question skeleton-item skeleton-square  skeleton-shimmer\"\n        }), renderTag && renderTag(item), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"flex1\"\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"sale-row subtitle-row\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"sale-subtitle skeleton-item skeleton-square  skeleton-shimmer\",\n          children: subTitle\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"flex1\"\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        mode: \"heightFix\",\n        className: \"sub-title-image \".concat(displaySubTitleImageUrl ? \"\" : \"none\"),\n        src: displaySubTitleImageUrl\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"price-area\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"sale-row title-row\",\n        children: [!!lineThroughPrice && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          className: \"price-save skeleton-item skeleton-square  skeleton-shimmer\",\n          children: [\"\\xA5\", lineThroughPrice]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          className: \"price skeleton-item skeleton-square  skeleton-shimmer \".concat(isFree ? \"highlight\" : \"\"),\n          children: [!isFree && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"unit\",\n            children: \"\\xA5\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: displayPrice\n          })]\n        })]\n      }), !!displayQuality && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"sale-row subtitle-row skeleton-item skeleton-square  skeleton-shimmer\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: displayQuality\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      id: ubtKeys/* default.book.BCWBooking_XProduct.buildWith */.Z.book.BCWBooking_XProduct.buildWith(index),\n      className: \"sale-check skeleton-item circular  skeleton-shimmer\",\n      onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_XProduct.buildWith */.Z.book.BCWBooking_XProduct.buildWith(index), selectPackage),\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"icon-font \".concat(checked ? \"icon-checked-round\" : \"icon-check-round\")\n      })\n    })]\n  });\n}\n/* harmony default export */ var SalePackageView_SaleItem = (SaleItem);\n;// CONCATENATED MODULE: ./src/pages/bus/components/SalePackageView/style/index.ts\n\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/SalePackageView/index.tsx\n\n\n\n\n\n\n\n\n\nfunction SalePackageView(_ref) {\n  var title = _ref.title,\n    subTitle = _ref.subTitle,\n    color = _ref.color,\n    headerImage = _ref.headerImage,\n    _ref$salePackageList = _ref.salePackageList,\n    salePackageList = _ref$salePackageList === void 0 ? [] : _ref$salePackageList,\n    renderTag = _ref.renderTag,\n    onSelectPackage = _ref.onSelectPackage,\n    onClickDesc = _ref.onClickDesc,\n    mock = _ref.mock;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"sale-package-container  \".concat(mock ? \"loading-mock-skeleton \" : \"\"),\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_ChannelHeaderView, {\n      title: title,\n      subTitle: subTitle,\n      color: color,\n      headerImage: headerImage\n    }), salePackageList.map(function (item, index) {\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(SalePackageView_SaleItem, {\n          renderTag: renderTag,\n          onSelectPackage: onSelectPackage,\n          onClickDesc: (0,commonModule_prod.trackFn)(\"\" + (item.id + \"--f8cf2\"), onClickDesc),\n          item: item,\n          index: index\n        }, item.id), salePackageList.length - 1 !== index && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"separator\"\n        })]\n      });\n    })]\n  });\n}\n/* harmony default export */ var components_SalePackageView = (/*#__PURE__*/react.memo(SalePackageView));\n;// CONCATENATED MODULE: ./src/pages/bus/components/SaleItemTag/utils/MemberUtils.js\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-20 10:55:30\n * @LastEditTime: 2023-02-20 10:55:32\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/components/SaleItemTag/utils/MemberUtils.js\n * @\n */\n\nvar prefix = \"https://pages.c-ctrip.com/bus-images/rn_bus/membership\";\nvar levelNames = {\n  0: \"normal\",\n  10: \"gold\",\n  20: \"pt\",\n  30: \"diamond\",\n  35: \"gdiamond\",\n  40: \"black\",\n  41: \"super\"\n};\nvar imageType = {\n  card: \"card\",\n  head: \"head\",\n  title: \"title\",\n  bookIcon: \"book_icon\",\n  bookBack: \"book_back\",\n  xIcon: \"x_icon\",\n  xBack: \"x_back\"\n};\nfunction getLevelName(level) {\n  return levelNames[parseInt(level, 10)] || \"gold\";\n}\nfunction getImageName(type, level, max) {\n  return \"\".concat(prefix, \"/member_\").concat(getLevelName(level), \"_\").concat(imageType[type]).concat(max ? \"_max\" : \"\", \".png\");\n}\nvar levelTitleColor = {\n  gold: \"#FFFFFF\",\n  pt: \"#FFFFFF\",\n  diamond: \"#FFFFFF\",\n  gdiamond: \"#FAE4C0\",\n  black: \"#FAE4C0\"\n};\nvar levelCountColor = {\n  gold: \"#AE8032\",\n  pt: \"#218DB1\",\n  diamond: \"#595CB3\",\n  gdiamond: \"#384B8E\",\n  black: \"#333333\"\n};\nvar levelTitle = {\n  normal: \"\",\n  gold: \"黄金\",\n  pt: \"铂金\",\n  diamond: \"钻石\",\n  gdiamond: \"金钻\",\n  black: \"黑钻\",\n  super: \"超级\"\n};\nvar levelTagTitleColor = {\n  gold: \"#F8E4C3\",\n  pt: \"#6d4e1b\",\n  diamond: \"#6d4e1b\",\n  gdiamond: \"#6d4e1b\",\n  black: \"#F8E4C3\"\n};\nvar levelTagBackColor = {\n  gold: \"#BC8C3F\",\n  pt: \"#218DB1\",\n  diamond: \"#393F8A\",\n  gdiamond: \"#F8E4C3\",\n  black: \"#F8E4C3\"\n};\nvar privilegeTagBorder = {\n  gold: \"#6d4e1b\",\n  pt: \"#6d4e1b\",\n  diamond: \"#6d4e1b\",\n  gdiamond: \"#6d4e1b\",\n  black: \"#333333\",\n  super: \"#6d4e1b\"\n};\nvar privilegeTagColor = {\n  gold: \"#6d4e1b\",\n  pt: \"#6d4e1b\",\n  diamond: \"#6d4e1b\",\n  gdiamond: \"#6d4e1b\",\n  black: \"#ffeabc\",\n  super: \"#6d4e1b\"\n};\nvar bookPGColor = {\n  gold: [\"#ffffff\", \"#ffffff\"],\n  pt: [\"#ffffff\", \"#ffffff\"],\n  diamond: [\"#ffffff\", \"#ffffff\"],\n  gdiamond: [\"#ffffff\", \"#ffffff\"],\n  black: [\"#666666\", \"#333333\"],\n  super: [\"#ffffff\", \"#ffffff\"]\n};\nvar getCardTitle = function getCardTitle(level) {\n  return \"\".concat(levelTitle[getLevelName(level)] || \"\", \"\\u4F1A\\u5458\");\n};\nvar getLevelTitle = function getLevelTitle(level) {\n  return \"\".concat(levelTitle[getLevelName(level)] || \"\");\n};\nvar newUserColor = \"#00b87a\";\nvar ColorUtils = {\n  getCardTextColor: function getCardTextColor(level) {\n    return levelTitleColor[getLevelName(level)];\n  },\n  getCardCountColor: function getCardCountColor(level) {\n    return levelCountColor[getLevelName(level)];\n  },\n  getLevelTagColor: function getLevelTagColor(level) {\n    return levelTagTitleColor[getLevelName(level)];\n  },\n  getLevelBackColor: function getLevelBackColor(level) {\n    return levelTagBackColor[getLevelName(level)];\n  },\n  // getLevelDisCountColor: (level) => levelDisCountColor[getLevelName(level)],\n  // getPrivilegeTagBackColor: (level) => privilegeTagBack[getLevelName(level)] || '#ffefe1',\n  getPrivilegeTagBorderColor: function getPrivilegeTagBorderColor(level) {\n    return privilegeTagBorder[getLevelName(level)] || \"#6d4e1b\";\n  },\n  getPrivilegeTagColor: function getPrivilegeTagColor(level) {\n    return privilegeTagColor[getLevelName(level)] || \"#6d4e1b\";\n  },\n  // getPrivilegeTagTextColor: (level) => privilegeTagTextColor[getLevelName(level)] || '#ffffff',\n  // getPrivilegeGradientColor: (level) => pgColor[getLevelName(level)] || ['#FF8B26', '#FF6600'],\n  getBookPrivilegeGradientColor: function getBookPrivilegeGradientColor(level) {\n    return bookPGColor[getLevelName(level)] || [\"#ffffff\", \"#ffffff\"];\n  },\n  getNewUserColor: function getNewUserColor() {\n    return newUserColor;\n  }\n};\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/SaleItemTag/style/index.ts\n\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/SaleItemTag/index.tsx\n\n\n\n\n\n\n\n\nvar getPrivilegeTagBorderColor = ColorUtils.getPrivilegeTagBorderColor,\n  getPrivilegeTagColor = ColorUtils.getPrivilegeTagColor,\n  getBookPrivilegeGradientColor = ColorUtils.getBookPrivilegeGradientColor,\n  getNewUserColor = ColorUtils.getNewUserColor;\nfunction getTag(type) {\n  var only = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var memberLevel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var tag;\n  // eslint-disable-next-line default-case\n  switch (type) {\n    case 'newUser':\n      tag = {\n        text: '新人专享',\n        borderColor: getNewUserColor(),\n        color: getNewUserColor()\n      };\n      break;\n    case 'grade':\n      {\n        var levelName = getLevelName(memberLevel || 0);\n        tag = {\n          text: \"\".concat(getLevelTitle(memberLevel || 0), \"\\u8D35\\u5BBE\").concat(only ? '本人享' : ''),\n          borderColor: getPrivilegeTagBorderColor(memberLevel || 0),\n          color: getPrivilegeTagColor(memberLevel || 0),\n          pgColor: getBookPrivilegeGradientColor(memberLevel || 0),\n          levelName: levelName\n        };\n      }\n      break;\n    case 'ali':\n      tag = {\n        text: \"\\u652F\\u4ED8\\u5B9D\".concat(only ? '权益' : ''),\n        borderColor: getPrivilegeTagBorderColor(41),\n        color: getPrivilegeTagColor(41)\n      };\n      break;\n    case 'member':\n      tag = {\n        text: \"\".concat(getLevelTitle(41), \"\\u4F1A\\u5458\").concat(only ? '专享' : ''),\n        borderColor: getPrivilegeTagBorderColor(41),\n        color: getPrivilegeTagColor(41)\n      };\n      break;\n    case 'marketing':\n      tag = {\n        text: '活动专享',\n        borderColor: getPrivilegeTagBorderColor(41),\n        color: getPrivilegeTagColor(41)\n      };\n      break;\n    default:\n      tag = {\n        text: \"\".concat(getLevelTitle(0), \"\\u4F1A\\u5458\").concat(only ? '专享' : ''),\n        borderColor: getPrivilegeTagBorderColor(41),\n        color: getPrivilegeTagColor(41)\n      };\n      break;\n  }\n  return tag;\n}\nfunction getTagList(useGrade, _ref, onlyShowUseTag, passengerCount, only, memberLevel) {\n  var gradeQuality = _ref.gradeQuality,\n    memberQuality = _ref.memberQuality,\n    aliQuality = _ref.aliQuality,\n    marketingQuality = _ref.marketingQuality;\n  var tagList = [];\n  var count = onlyShowUseTag ? passengerCount : Number.MAX_SAFE_INTEGER;\n  if (useGrade) {\n    tagList.push(getTag('grade', only, memberLevel));\n    count -= 1;\n    if (only) {\n      return tagList;\n    }\n  }\n  if (memberQuality && count > 0) {\n    tagList.push(getTag('member', false));\n    count -= memberQuality;\n  }\n  if (aliQuality && count > 0) {\n    tagList.push(getTag('ali', false));\n    count -= aliQuality;\n  }\n  if (marketingQuality && count > 0) {\n    tagList.push(getTag('marketing', false));\n    count -= marketingQuality;\n  }\n  if (tagList.length === 1) {\n    if (gradeQuality && useGrade) {\n      tagList = [getTag('grade', true, memberLevel)];\n    } else if (memberQuality) {\n      tagList = [getTag('member', true)];\n    } else if (aliQuality) {\n      tagList = [getTag('ali', true)];\n    }\n  }\n  return tagList;\n}\nfunction TagItem(_ref2) {\n  var tagList = _ref2.tagList;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"tag-container\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      children: tagList.map(function (item, index) {\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"tag-text\",\n            style: {\n              color: item.color\n            },\n            children: item.text\n          }), index !== tagList.length - 1 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"tag-text\",\n            style: {\n              paddingLeft: '2rpx',\n              paddingRight: '2rpx',\n              color: item.color\n            },\n            children: \"\\u2223\"\n          })]\n        });\n      })\n    })\n  });\n}\nfunction SaleItemTag(_ref3) {\n  var item = _ref3.item,\n    realNamePassenger = _ref3.realNamePassenger,\n    passengerCount = _ref3.passengerCount,\n    memberInfo = _ref3.memberInfo,\n    onlyShowUseTag = _ref3.onlyShowUseTag;\n  var tagList = (0,react.useMemo)(function () {\n    var tagList = [];\n    var _ref4 = item || {},\n      extraMap = _ref4.extraMap;\n    var _ref5 = extraMap || {},\n      gradeQuality = _ref5.gradeQuality,\n      newGuestQuality = _ref5.newGuestQuality,\n      checkRealName = _ref5.checkRealName;\n    if (newGuestQuality) {\n      tagList = [getTag('newUser')];\n    } else {\n      var useGrade = gradeQuality > 0;\n      var onlyGrade = false;\n      if (memberInfo && memberInfo.curLevelCode) {\n        if (onlyShowUseTag || parseInt(checkRealName, 10) !== 1) {\n          if (realNamePassenger) {\n            onlyGrade = passengerCount === 1;\n          } else {\n            useGrade = false;\n          }\n        }\n      } else {\n        useGrade = false;\n      }\n      var memberLevel = memberInfo && memberInfo.curLevelCode || 0;\n      tagList = getTagList(useGrade, extraMap || {}, onlyShowUseTag, passengerCount, onlyGrade, memberLevel);\n      // let;\n    }\n\n    return tagList;\n  }, [item, memberInfo]);\n  return tagList.length > 0 ? /*#__PURE__*/(0,jsx_runtime.jsx)(TagItem, {\n    tagList: tagList\n  }) : null;\n}\n/* harmony default export */ var components_SaleItemTag = (SaleItemTag);\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/SalePackageComponent.js\n\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-23 11:17:21\n * @LastEditors: jhyi jhyi@trip.com\n * @LastEditTime: 2023-08-28 16:48:58\n * @FilePath: /taro-bus/src/pages/bus/taro/book/component/SalePackageComponent.js\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n\n\n\n\n\n\nfunction SalePackageComponent(props) {\n  var _store$useModel = store/* default.useModel */.Z.useModel(\"bookSale\"),\n    _store$useModel2 = (0,slicedToArray/* default */.Z)(_store$useModel, 2),\n    bookSales = _store$useModel2[0],\n    bookSalesDispatcher = _store$useModel2[1];\n  var _bookSales$salePackag = bookSales.salePackageList,\n    salePackageList = _bookSales$salePackag === void 0 ? [] : _bookSales$salePackag,\n    salePackageHeaderConfig = bookSales.salePackageHeaderConfig;\n  var onSelectPackage = (0,react.useCallback)(function (item, index) {\n    bookSalesDispatcher.selectSalePackage(index);\n  }, []);\n  var onClickDesc = (0,react.useCallback)(function (item) {\n    props.onClickDesc && props.onClickDesc(item.descUrl);\n  }, []);\n  var renderTag = (0,react.useCallback)(function (item) {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_SaleItemTag, {\n      item: item\n    });\n  }, []);\n  var saleList = props.mock ? props.salePackageList : salePackageList;\n  return saleList.length > 0 ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_SalePackageView, {\n    renderTag: renderTag,\n    salePackageList: saleList,\n    title: salePackageHeaderConfig.title,\n    color: salePackageHeaderConfig.color,\n    subTitle: salePackageHeaderConfig.subTitle,\n    headerImage: salePackageHeaderConfig.image,\n    onSelectPackage: onSelectPackage,\n    onClickDesc: (0,commonModule_prod.trackFn)(\"onClickDesc--3325d\", onClickDesc),\n    mock: props.mock\n  }) : null;\n}\nvar LoadableSalePackageComponent = Loadable({\n  Component: SalePackageComponent,\n  Loading: Skeletonable({\n    Component: SalePackageComponent,\n    mockProps: {\n      salePackageList: [{\n        showPrice: 200,\n        sellType: 2,\n        discountServiceFee: 100,\n        displayQuality: 100,\n        title: \"--------------\",\n        subTitle: \"-----------------\"\n      }, {\n        showPrice: 200,\n        sellType: 2,\n        discountServiceFee: 100,\n        displayQuality: 100,\n        title: \"-----\",\n        subTitle: \"-----------------------\"\n      }],\n      mock: true\n    }\n  }),\n  requiredMap: {\n    loading: function loading(value) {\n      return value > 2;\n    }\n  }\n});\n/* harmony default export */ var component_SalePackageComponent = (/*#__PURE__*/react.memo(LoadableSalePackageComponent));\n;// CONCATENATED MODULE: ./src/pages/bus/components/InvoiceExplainModal/style/index.ts\n\n\n// EXTERNAL MODULE: ./src/pages/bus/components/Modal/index.tsx + 7 modules\nvar Modal = __webpack_require__(81225);\n;// CONCATENATED MODULE: ./src/pages/bus/components/InvoiceExplainModal/index.tsx\n\n\n\n\n\n\n\nfunction InvoiceExplainModal() {\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"modal-explain-container\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"title-view\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u5982\\u4F55\\u5F00\\u5177\\u62A5\\u9500\\u51ED\\u8BC1\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"desc\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: \"\\u652F\\u4ED8\\u6210\\u529F\\u540E\\uFF0C\\u67E5\\u770B\\u8BA2\\u5355\\uFF0C\\u70B9\\u51FB\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"bold\",\n          children: \"\\u201C\\u62A5\\u9500\\u51ED\\u8BC1\\u201D\"\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"image-container\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"invoice-image\",\n        mode: \"widthFix\",\n        src: \"https://pages.c-ctrip.com/bus-images/busapp/book/book_invoice_explain.png\"\n      })\n    })]\n  });\n}\n/* harmony default export */ var components_InvoiceExplainModal = ((0,Modal/* withModal */.LU)(InvoiceExplainModal));\n;// CONCATENATED MODULE: ./src/pages/bus/components/SellerInfoModal/style/index.ts\n\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/SellerInfoModal/index.tsx\n\n\n\n\n\n\n\n\nfunction SellerInfoModal(_ref) {\n  var carrierInfo = _ref.carrierInfo,\n    sellerName = _ref.sellerName,\n    businessLicense = _ref.businessLicense;\n  var clickImage = (0,react.useCallback)(function () {\n    taro_default().previewImage({\n      urls: [businessLicense]\n    });\n  }, [businessLicense]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"modal-seller-info-container\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"title-view\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u8D44\\u8D28\\u4FE1\\u606F\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"desc\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"title\",\n          children: \"\\u627F\\u8FD0\\u65B9\\uFF1A\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: carrierInfo\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"desc\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"title\",\n          children: \"\\u8F66\\u7968\\u9500\\u552E\\u4F9B\\u5E94\\u5546\\uFF1A\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: sellerName\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"image-container\",\n      onClick: (0,commonModule_prod.trackFn)(\"clickImage--4cfb8\", clickImage),\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"invoice-image\",\n        mode: \"widthFix\",\n        src: businessLicense\n      })\n    })]\n  });\n}\n/* harmony default export */ var components_SellerInfoModal = ((0,Modal/* withModal */.LU)(SellerInfoModal));\n// EXTERNAL MODULE: ./src/pages/bus/common/models/utils/getInsuranceClause.js\nvar getInsuranceClause = __webpack_require__(22937);\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/TipDesc.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar TipDesc_withTrace = common/* ubt.withTrace */.uM.withTrace;\nvar PolicyConfig = {\n  personalPrivacy: \"https://pages.c-ctrip.com/bus-resource/html/BUS-PersonalInformationProtectProtocol.html\",\n  bookNote: \"https://pages.c-ctrip.com/bush5/busbooknotes.html\"\n};\nfunction TipDesc(props) {\n  var _store$useModel = store/* default.useModel */.Z.useModel(\"bookParams\"),\n    _store$useModel2 = (0,slicedToArray/* default */.Z)(_store$useModel, 2),\n    bookParams = _store$useModel2[0],\n    dispatcher = _store$useModel2[1];\n  var _store$useModel3 = store/* default.useModel */.Z.useModel(\"bookSale\"),\n    _store$useModel4 = (0,slicedToArray/* default */.Z)(_store$useModel3, 1),\n    bookSales = _store$useModel4[0];\n  var busDetail = bookParams.busDetail;\n  var _ref = busDetail || {},\n    detail = _ref.detail,\n    selectX = _ref.selectX;\n  var _ref2 = (detail === null || detail === void 0 ? void 0 : detail.tempFields) || {},\n    businessLicense = _ref2.businessLicense,\n    carrierInfo = _ref2.carrierInfo,\n    sellerName = _ref2.sellerName,\n    sellerNote = _ref2.sellerNote;\n  var _useMemo = (0,react.useMemo)(function () {\n      var hasServicePrice = busDetail.hasServicePrice,\n        selectX = busDetail.selectX;\n      var _getAllSelectedSales = getAllSelectedSales(),\n        sales = _getAllSelectedSales.sales;\n      var insurance = null;\n      if (selectX && selectX.isInsurance && selectX.selected && !selectX.cancel) {\n        var clause = (0,getInsuranceClause/* default */.Z)(selectX);\n        insurance = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, selectX), {}, {\n          localClause: clause\n        });\n      }\n      var priceComposite = [\"汽车票\"];\n      if (sales.length > 0) {\n        priceComposite.push(\"附加选购产品\");\n      }\n      if (hasServicePrice) {\n        priceComposite.push(\"服务费\");\n      }\n      return {\n        priceComposite: priceComposite.join(\"、\"),\n        insurance: insurance\n      };\n    }, [busDetail, bookSales]),\n    priceComposite = _useMemo.priceComposite,\n    insurance = _useMemo.insurance;\n  var showInvoiceExplain = (0,react.useCallback)(TipDesc_withTrace(function () {\n    components_InvoiceExplainModal.show();\n  }), []);\n  var showSellerExplain = (0,react.useCallback)(TipDesc_withTrace(function () {\n    components_SellerInfoModal.show({\n      carrierInfo: carrierInfo,\n      sellerName: sellerName,\n      businessLicense: businessLicense\n    });\n  }), [businessLicense, carrierInfo, sellerName]);\n  var showPolicy = (0,react.useCallback)(TipDesc_withTrace(function (e) {\n    var _e$currentTarget, _e$currentTarget2;\n    var type = (_e$currentTarget = e.currentTarget) === null || _e$currentTarget === void 0 || (_e$currentTarget = _e$currentTarget.dataset) === null || _e$currentTarget === void 0 ? void 0 : _e$currentTarget.type;\n    var title = ((_e$currentTarget2 = e.currentTarget) === null || _e$currentTarget2 === void 0 || (_e$currentTarget2 = _e$currentTarget2.dataset) === null || _e$currentTarget2 === void 0 ? void 0 : _e$currentTarget2.title) || \"说明\";\n    if (type) {\n      common/* BusRouter.navigateTo */.cg.navigateTo(\"web\", {\n        url: encodeURIComponent(PolicyConfig[type]),\n        title: title,\n        naviColor: \"#0086f8\" || 0\n      });\n    }\n  }), []);\n  var openDescPage = (0,react.useCallback)(function (item) {\n    common/* BusRouter.navigateTo */.cg.navigateTo(item.url, {}, false);\n  }, []);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"tip-container\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"tip-item-title\",\n      children: \"\\xB7 \\u62A5\\u9500\\u51ED\\u8BC1\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"tip-item-desc\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: \"\\u8BA2\\u5355\\u652F\\u4ED8\\u5B8C\\u6210\\u540E\\u53EF\\u5F00\\u5177\\uFF0C\\u5B89\\u5FC3\\u8D2D\\u7968\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        id: ubtKeys/* default.book.BCWBooking_Pay_ExpenseVoucher */.Z.book.BCWBooking_Pay_ExpenseVoucher,\n        className: \"high-light\",\n        onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_Pay_ExpenseVoucher */.Z.book.BCWBooking_Pay_ExpenseVoucher, showInvoiceExplain),\n        children: \"\\u67E5\\u770B\\u7533\\u8BF7\\u5165\\u53E3\"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"tip-item-title\",\n      children: \"\\xB7 \\u9884\\u8BA2\\u534F\\u8BAE\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"tip-item-desc\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        children: [\"\\u6C7D\\u8F66\\u7968\\u4F9B\\u5E94\\u5546\\u4FE1\\u606F: \", sellerName]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        id: ubtKeys/* default.book.BCWBooking_Pay_EnterpriseQualification */.Z.book.BCWBooking_Pay_EnterpriseQualification,\n        className: \"high-light\",\n        onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_Pay_EnterpriseQualification */.Z.book.BCWBooking_Pay_EnterpriseQualification, showSellerExplain),\n        children: \"\\u67E5\\u770B\\u8D44\\u8D28\"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"tip-item-desc\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        children: [\"\\u8BA2\\u5355\\u5305\\u542B\", priceComposite, \",\\u8BF7\\u60A8\\u5728\\u63D0\\u4EA4\\u8BA2\\u5355\\u524D\\u4ED4\\u7EC6\\u9605\\u8BFB\"]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        id: ubtKeys/* default.book.BCWBooking_Pay_PrebookingAgreement */.Z.book.BCWBooking_Pay_PrebookingAgreement,\n        className: \"high-light\",\n        onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_Pay_PrebookingAgreement */.Z.book.BCWBooking_Pay_PrebookingAgreement, showPolicy),\n        \"data-type\": \"bookNote\",\n        \"data-title\": \"汽车票预订协议\",\n        children: \"\\u6C7D\\u8F66\\u7968\\u9884\\u8BA2\\u534F\\u8BAE\\u3001\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"high-light\",\n        onClick: (0,commonModule_prod.trackFn)(\"showPolicy--d147c\", showPolicy),\n        \"data-type\": \"personalPrivacy\",\n        \"data-title\": \"个人信息授权声明\",\n        children: \"\\u4E2A\\u4EBA\\u4FE1\\u606F\\u6388\\u6743\\u58F0\\u660E\"\n      })]\n    }), insurance && /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"tip-item-title\",\n        children: \"\\xB7 \\u6295\\u4FDD\\u8BF4\\u660E\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"tip-item-desc\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(ClauseView, {\n          showPre: true,\n          insurance: insurance,\n          onClickClause: (0,commonModule_prod.trackFn)(\"openDescPage--eda2a\", openDescPage)\n        })\n      })]\n    })]\n  });\n}\n/* harmony default export */ var component_TipDesc = (/*#__PURE__*/react.memo(TipDesc));\n// EXTERNAL MODULE: ./src/pages/bus/components/NavBar/NavBar.tsx\nvar NavBar = __webpack_require__(13699);\n// EXTERNAL MODULE: ./src/pages/bus/common/taroUtils.ts\nvar taroUtils = __webpack_require__(86308);\n// EXTERNAL MODULE: ./src/pages/bus/common/utils/systemInfo.ts + 1 modules\nvar utils_systemInfo = __webpack_require__(67928);\n// EXTERNAL MODULE: ./src/pages/bus/components/TopBar/TopBar.tsx\nvar TopBar = __webpack_require__(70792);\n// EXTERNAL MODULE: ./src/pages/bus/common/models/utils/passsengerUtil.js + 1 modules\nvar passsengerUtil = __webpack_require__(20132);\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/PassengerPicker.js\n/* provided dependency */ var PassengerPicker_window = __webpack_require__(32180)[\"window\"];\n\n\n\nvar PassengerPicker_excluded = [\"allPassengerList\"],\n  _excluded2 = [\"allPassengerList\"];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar PassengerPicker_withTrace = common/* ubt.withTrace */.uM.withTrace;\nfunction PassengerPicker_PassengerRow(_ref) {\n  var passenger = _ref.passenger,\n    index = _ref.index,\n    onToggleSelectPassenger = _ref.onToggleSelectPassenger,\n    onEdit = _ref.onEdit;\n  var _store$useModel = store/* default.useModel */.Z.useModel(\"passengers\"),\n    _store$useModel2 = (0,slicedToArray/* default */.Z)(_store$useModel, 2),\n    passengersModel = _store$useModel2[0],\n    dispatchPassengers = _store$useModel2[1];\n  var edit = (0,react.useCallback)(PassengerPicker_withTrace(function () {\n    onEdit && onEdit(passenger, index);\n  }), [passenger, index, onEdit]);\n  var toggleSelectPassenger = (0,react.useCallback)(function () {\n    if (passenger && passenger.idcard && passenger.idcard.no) {\n      onToggleSelectPassenger && onToggleSelectPassenger(passenger, index);\n    } else {\n      edit();\n    }\n  }, [passenger, index, onToggleSelectPassenger, edit]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"passenger-row \".concat(passenger.selected ? \"selected\" : \"\"),\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"select-icon-container active-opacity\",\n      onClick: (0,commonModule_prod.trackFn)(\"toggleSelectPassenger--255f9\", toggleSelectPassenger),\n      children: passenger.selected ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont icon-checked-round\"\n      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont icon-check-round\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"passenger-info\",\n      onClick: (0,commonModule_prod.trackFn)(\"onClick--475cb\", passenger.idcard && passenger.idcard.no ? function () {} : edit),\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"flex-row\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"name\",\n          children: passenger.name || \"姓名\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"type-tag\",\n          children: passenger.ptypeText\n        }), passenger.isSelf && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"type-tag\",\n          children: \"本人\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"flex1\"\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"flex-row\",\n        children: passenger.idcard && passenger.idcard.no ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"id-name\",\n            children: passenger.idcard.text\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"id\",\n            children: passenger.idcard.no\n          })]\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"id-placeholder\",\n          children: \"\\u70B9\\u51FB\\u5B8C\\u5584\\u8BC1\\u4EF6\\u4FE1\\u606F\"\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"flex1\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"edit-icon-container active-opacity\",\n      id: ubtKeys/* default.book.BCWBooking_PassengerChange_EditPassenger */.Z.book.BCWBooking_PassengerChange_EditPassenger,\n      onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_PassengerChange_EditPassenger */.Z.book.BCWBooking_PassengerChange_EditPassenger, edit),\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont icon-edit-rect\"\n      })\n    })]\n  });\n}\nfunction pickerDispatcher(prevState, action) {\n  switch (action.type) {\n    case \"reset\":\n      {\n        var selectedIds = prevState.selectedIds,\n          toggled = prevState.toggled;\n        var selectedIdsNew = [];\n        var passengers = action.payload.map(function (item) {\n          var selected = toggled ? selectedIds.indexOf(item.id) >= 0 : item.selected;\n          if (selected) {\n            selectedIdsNew.push(item.id);\n          }\n          return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, item), {}, {\n            selected: selected\n          });\n        });\n        var _calPassengerList = (0,passsengerUtil/* calPassengerList */.Do)(passengers),\n          allPassengerList = _calPassengerList.allPassengerList,\n          rest = (0,objectWithoutProperties/* default */.Z)(_calPassengerList, PassengerPicker_excluded);\n        return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, rest), {}, {\n          allPassengerList: allPassengerList,\n          selectedIds: selectedIdsNew\n        });\n      }\n    case \"toggle\":\n      {\n        var index = action.payload;\n        var prevPassengers = prevState.allPassengerList;\n        var _passengers = prevPassengers.map(function (item) {\n          return (0,objectSpread2/* default */.Z)({}, item);\n        });\n        _passengers[index].selected = !_passengers[index].selected;\n        var _calPassengerList2 = (0,passsengerUtil/* calPassengerList */.Do)(_passengers),\n          _allPassengerList = _calPassengerList2.allPassengerList,\n          _rest = (0,objectWithoutProperties/* default */.Z)(_calPassengerList2, _excluded2);\n        var _selectedIdsNew = [];\n        _allPassengerList.forEach(function (item) {\n          if (item.selected) {\n            _selectedIdsNew.push(item.id);\n          }\n        });\n        return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, _rest), {}, {\n          allPassengerList: _allPassengerList,\n          toggled: true,\n          selectedIds: _selectedIdsNew\n        });\n      }\n  }\n}\nfunction PassengerPicker(_ref2) {\n  var onEditPassenger = _ref2.onEditPassenger,\n    onClose = _ref2.onClose,\n    onConfirm = _ref2.onConfirm,\n    onAddPassenger = _ref2.onAddPassenger;\n  var _store$useModel3 = store/* default.useModel */.Z.useModel(\"passengers\"),\n    _store$useModel4 = (0,slicedToArray/* default */.Z)(_store$useModel3, 2),\n    passengersModel = _store$useModel4[0],\n    dispatchPassengers = _store$useModel4[1];\n  var passengerList = passengersModel.passengerList,\n    allPassengerListOrigin = passengersModel.allPassengerList,\n    _passengersModel$maxS = passengersModel.maxSaleTicketNumber,\n    maxSaleTicketNumber = _passengersModel$maxS === void 0 ? 5 : _passengersModel$maxS,\n    isSaleChildTicket = passengersModel.isSaleChildTicket,\n    isSaleTakeChildTicket = passengersModel.isSaleTakeChildTicket;\n  var _useReducer = (0,react.useReducer)(pickerDispatcher, {\n      toggled: false,\n      selectedIds: [],\n      allPassengerList: [],\n      realNamePassenger: null,\n      sortedPassengerList: [],\n      selPassengerList: [],\n      childCount: 0,\n      takeChildCount: 0,\n      adultCount: 0,\n      isHasAdult: false\n    }),\n    _useReducer2 = (0,slicedToArray/* default */.Z)(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatcher = _useReducer2[1];\n  var allPassengerList = state.allPassengerList,\n    _state$adultCount = state.adultCount,\n    adultCount = _state$adultCount === void 0 ? 0 : _state$adultCount,\n    _state$childCount = state.childCount,\n    childCount = _state$childCount === void 0 ? 0 : _state$childCount,\n    takeChildCount = state.takeChildCount;\n  (0,react.useLayoutEffect)(function () {\n    var passengers = JSON.parse(JSON.stringify(allPassengerListOrigin));\n    dispatcher({\n      type: \"reset\",\n      payload: passengers\n    });\n  }, [allPassengerListOrigin]);\n  var confirm = (0,react.useCallback)(PassengerPicker_withTrace(function () {\n    var chooseTime = new PassengerPicker_window.Date().getTime();\n    var passengers = allPassengerList.map(function (item, index) {\n      return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, item), {}, {\n        _choosetime: item.selected ? chooseTime - index : 0,\n        updateTime: item.selected ? chooseTime - index : chooseTime - 1000 - index\n      });\n    });\n    var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n    var busDetail = bookParams.busDetail;\n    var detail = busDetail.detail;\n    var _detail$buyTicketRule = detail.buyTicketRule,\n      buyTicketRule = _detail$buyTicketRule === void 0 ? {} : _detail$buyTicketRule;\n    if (childCount + adultCount > buyTicketRule.maxSaleTicketNumber) {\n      var message = \"\\u4E00\\u4E2A\\u8BA2\\u5355\\u6700\\u591A\\u53EA\\u80FD\\u6DFB\\u52A0\".concat(buyTicketRule.maxSaleTicketNumber, \"\\u540D\\u4E58\\u5BA2\\uFF0C\\u8D85\\u8FC7\\u8BF7\\u5206\\u6279\\u8D2D\\u4E70\");\n      common/* cwx.showModal */.Y8.showModal({\n        title: \"提示\",\n        content: message,\n        showCancel: false,\n        success: function success(res) {\n          console.log(\"用户点击确定\");\n        }\n      });\n      return;\n    }\n    onConfirm && onConfirm(passengers);\n  }), [allPassengerList, adultCount, childCount, takeChildCount]);\n  var addPassenger = (0,react.useCallback)(PassengerPicker_withTrace(function () {\n    onAddPassenger && onAddPassenger({\n      showOcr: common/* BusConfig.supportOcrComponent */.zB.supportOcrComponent\n    });\n  }), []);\n  var scanCard = (0,react.useCallback)(PassengerPicker_withTrace(function () {\n    onAddPassenger && onAddPassenger({\n      showOcr: common/* BusConfig.supportOcrComponent */.zB.supportOcrComponent,\n      autoScan: common/* BusConfig.supportOcrComponent */.zB.supportOcrComponent\n    });\n  }), []);\n  var onToggleSelectPassenger = (0,react.useCallback)(function (item, index) {\n    var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n    var busDetail = bookParams.busDetail;\n    var detail = busDetail.detail;\n    var _detail$buyTicketRule2 = detail.buyTicketRule,\n      buyTicketRule = _detail$buyTicketRule2 === void 0 ? {} : _detail$buyTicketRule2;\n    var _judgeTogglePassenger = judgeTogglePassenger(item, {\n        adultCount: adultCount,\n        childCount: childCount,\n        takeChildCount: takeChildCount,\n        buyTicketRule: buyTicketRule\n      }),\n      code = _judgeTogglePassenger.code,\n      message = _judgeTogglePassenger.message;\n    if (code !== 0) {\n      common/* cwx.showModal */.Y8.showModal({\n        title: \"提示\",\n        content: message,\n        showCancel: false,\n        success: function success(res) {\n          console.log(\"用户点击确定\");\n        }\n      });\n    } else {\n      dispatcher({\n        type: \"toggle\",\n        payload: index\n      });\n    }\n  }, [childCount, adultCount, takeChildCount]);\n  var onCancel = (0,react.useCallback)(function () {\n    onClose && onClose();\n  }, [onClose]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"passenger-picker-view\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(TopBar/* default */.Z, {\n      className: \"passenger-top-bar\",\n      left: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"left-item\",\n        onClick: (0,commonModule_prod.trackFn)(\"onCancel--68e47\", onCancel),\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"iconfont icon-close\"\n        })\n      }),\n      title: \"选择乘车人\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"passenger-notice-container\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"icon-font icon-warn\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"passenger-notice\",\n        children: [\"\\u4E00\\u5355\\u6700\\u591A\\u6DFB\\u52A0\", maxSaleTicketNumber, \"\\u4EBA\\uFF0C\\u643A\\u7AE5\\u7968\\u4E0D\\u8BA1\\u5165\\u4EBA\\u6570\\u5185\"]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"title-row\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        id: ubtKeys/* default.book.BCWBooking_PassengerChange_AddPassenger */.Z.book.BCWBooking_PassengerChange_AddPassenger,\n        className: \"add-button active-mask\",\n        onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_PassengerChange_AddPassenger */.Z.book.BCWBooking_PassengerChange_AddPassenger, addPassenger),\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"iconfont icon-add\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: \"\\u6DFB\\u52A0\\u4E58\\u5BA2\"\n        })]\n      }), common/* BusConfig.supportOcrComponent */.zB.supportOcrComponent && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        id: ubtKeys/* default.book.BCWBooking_PassengerChange_ScanIDCard */.Z.book.BCWBooking_PassengerChange_ScanIDCard,\n        className: \"add-button active-mask\",\n        onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_PassengerChange_ScanIDCard */.Z.book.BCWBooking_PassengerChange_ScanIDCard, scanCard),\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"iconfont icon-scan\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: \"\\u626B\\u63CF\\u8BC1\\u4EF6\\u6DFB\\u52A0\"\n        })]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"passenger-list-container\",\n      children: allPassengerList.map(function (item, index) {\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(PassengerPicker_PassengerRow, {\n            passenger: item,\n            onToggleSelectPassenger: onToggleSelectPassenger,\n            index: index,\n            onEdit: onEditPassenger\n          }), index !== allPassengerList.length - 1 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"separator\"\n          })]\n        }, item.id);\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(BottomBar/* default */.Z, {\n      className: \"passenger-bottom-bar\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"confirm-button\",\n        id: ubtKeys/* default.book.BCWBooking_PassengerChange */.Z.book.BCWBooking_PassengerChange,\n        onClick: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_PassengerChange */.Z.book.BCWBooking_PassengerChange, confirm),\n        children: \"\\u786E\\u8BA4\"\n      })\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./src/pages/bus/components/BusDesc/style/index.ts\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-01-16 16:55:37\n * @LastEditTime: 2023-01-16 16:55:57\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/components/BusDesc/style/index.tsx\n *\n */\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/BusDesc/DescItem.tsx\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-01-16 17:01:10\n * @LastEditTime: 2023-01-16 19:55:29\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/components/BusDesc/DescItem.tsx\n *\n */\n\n\n\n\nfunction DescItem(_ref) {\n  var item = _ref.descItem,\n    index = _ref.index;\n  // return null;\n  // if (!descItem) {\n  //     return null;\n  // }\n  // const title = descItem.title || \"\";\n  // const table = descItem.table || {};\n  // const tableList = table.data || [];\n  // const tableDesc = table.desc || \"\";\n  // const content = descItem.content || [];\n\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"desc-content\",\n    children: [typeof item.label === \"string\" && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"label\",\n      children: item.label\n    }), typeof item.label !== \"string\" && !!item.label && item.label, typeof item.value === \"string\" && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"value\",\n      children: item.value\n    }), typeof item.value !== \"string\" && !!item.value && item.value]\n  });\n}\n/* harmony default export */ var BusDesc_DescItem = (DescItem);\n;// CONCATENATED MODULE: ./src/pages/bus/components/BusDesc/DescTable.tsx\n\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-01-16 21:08:24\n * @LastEditTime: 2023-02-24 15:55:20\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/components/BusDesc/DescTable.tsx\n *\n */\n\n\n\n\nfunction Desc(_ref) {\n  var desc = _ref.desc;\n  var isArray = Array.isArray(desc);\n  return isArray ? desc.map(function (item, index) {\n    if (typeof item === \"string\") return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      children: item\n    }, index);\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"sub-desc \".concat(item.desc.length > 8 ? \"min\" : \"\"),\n      style: {\n        color: item.color\n      },\n      children: item.desc\n    }, index);\n  }) : desc;\n}\nfunction DescTable(_ref2) {\n  var data = _ref2.data;\n  console.log(data);\n  var _useMemo = (0,react.useMemo)(function () {\n      var head = data[0];\n      var body = (0,toConsumableArray/* default */.Z)(data);\n      body.shift();\n      return {\n        head: head,\n        body: body\n      };\n    }, [data]),\n    head = _useMemo.head,\n    body = _useMemo.body;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"desc-table-container\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"desc-table-view\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"t-head\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"t-tr\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"t-th time-col\",\n            children: head.time\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"t-th\",\n            children: head.type\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"t-th desc-col\",\n            children: head.desc\n          })]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"t-body\",\n        children: body.map(function (item, index) {\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"t-tr\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"t-td time-col\",\n              children: item.time\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"t-td\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"t-div\",\n                children: item.list ? item.list.map(function (subItem) {\n                  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"t-sub-td\",\n                    children: subItem.type\n                  });\n                }) : item.type\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"t-td\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"t-div\",\n                children: item.list ? item.list.map(function (subItem) {\n                  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"t-sub-td\",\n                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(Desc, {\n                      desc: subItem.desc\n                    })\n                  });\n                }) : /*#__PURE__*/(0,jsx_runtime.jsx)(Desc, {\n                  desc: item.desc\n                })\n              })\n            })]\n          });\n        })\n      })]\n    })\n  });\n}\n/* harmony default export */ var BusDesc_DescTable = (DescTable);\n;// CONCATENATED MODULE: ./src/pages/bus/components/BusDesc/DescBlock.tsx\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-01-16 19:33:29\n * @LastEditTime: 2023-01-16 21:09:43\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/components/BusDesc/DescBlock.tsx\n *\n */\n\n\n\n\n\n\nfunction DescBlock(_ref) {\n  var descBlock = _ref.descBlock,\n    index = _ref.index;\n  var title = descBlock.title,\n    isTable = descBlock.isTable,\n    data = descBlock.data;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"instruction-group\",\n    children: [typeof title === \"string\" && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"group-title\",\n      children: title\n    }), typeof title !== \"string\" && !!title && title, isTable ? /*#__PURE__*/(0,jsx_runtime.jsx)(BusDesc_DescTable, {\n      data: data\n    }) : data.map(function (item, index) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(BusDesc_DescItem, {\n        descItem: item,\n        index: index\n      });\n    })]\n  });\n}\n/* harmony default export */ var BusDesc_DescBlock = (DescBlock);\n// EXTERNAL MODULE: ./src/pages/bus/common/debounce.js\nvar debounce = __webpack_require__(32253);\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/hasEasyRefund.js\n\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-24 14:51:49\n * @LastEditors: jhyi jhyi@trip.com\n * @LastEditTime: 2023-08-28 15:14:31\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/hasEasyRefund.js\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n\n\nfunction hasEasyRefund() {\n  var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n  var bookSales = store/* default.getModelState */.Z.getModelState(\"bookSale\");\n  var _bookParams$busDetail = bookParams.busDetail,\n    busDetail = _bookParams$busDetail === void 0 ? {} : _bookParams$busDetail;\n  var selectX = busDetail.selectX;\n  var insuranceList = bookSales.insuranceList,\n    salePackageList = bookSales.salePackageList;\n  var sales = [];\n  if (insuranceList && insuranceList.length > 0) {\n    sales = sales.concat(insuranceList);\n  }\n  if (salePackageList && salePackageList.length > 0) {\n    sales = sales.concat(salePackageList);\n  }\n  var allSales = [];\n  var hasInsurance = false;\n  var needCalX = !!selectX;\n  for (var i = 0; i < sales.length; i++) {\n    var item = sales[i];\n    if (item.packageCode != 0) {\n      allSales.push(item);\n      if (item.isInsurance) {\n        hasInsurance = true;\n      }\n    }\n    if (selectX) {\n      if (selectX.packageCode === item.packageCode || selectX.isInsurance && item.isInsurance) {\n        needCalX = false;\n      }\n    }\n  }\n  if (needCalX && selectX.packageCode != 0) {\n    if (selectX.isInsurance) {\n      hasInsurance = true;\n    }\n    allSales = [selectX].concat((0,toConsumableArray/* default */.Z)(allSales));\n  }\n  var easyRefundSales = allSales.filter(function (item) {\n    var type = item.type,\n      _item$extraMap = item.extraMap,\n      extraMap = _item$extraMap === void 0 ? {} : _item$extraMap;\n    if (type && type.indexOf(\"easyRefund\") >= 0 || extraMap && extraMap.packageType && extraMap.packageType.indexOf(\"easyRefund\") >= 0) {\n      return true;\n    }\n  });\n  return {\n    sales: allSales,\n    easyRefundSales: easyRefundSales,\n    hasEasyRefund: easyRefundSales.length > 0\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/components/BusDesc/DescEasyRefund.tsx\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-24 15:58:30\n * @LastEditors: jhyi jhyi@trip.com\n * @LastEditTime: 2023-08-28 15:14:45\n * @FilePath: /taro-bus/src/pages/bus/components/BusDesc/DescEasyRefund.tsx\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n\n\n\n\n\n\nfunction DescEasyRefundItem(_ref) {\n  var item = _ref.item,\n    index = _ref.index,\n    refundPrice = _ref.refundPrice;\n  var toggleCheck = (0,react.useCallback)(function () {\n    var dispatcher = store/* default.getModelDispatchers */.Z.getModelDispatchers(\"bookSale\");\n    dispatcher.toggleCheckItem(item);\n  }, [item, index]);\n  var gotoDesc = (0,react.useCallback)(function () {\n    if (item.descUrl) {\n      common/* BusRouter.navigateTo */.cg.navigateTo(item.descUrl, {}, false);\n    }\n  }, [item]);\n  var _ref2 = refundPrice || {},\n    maxRefundPrice = _ref2.maxRefundPrice;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"easy-refund-item \".concat(item.selected ? \"selected\" : \"\"),\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"title-wrap\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"title-row\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"icon-image\",\n          src: \"https://pages.c-ctrip.com/bus-images/busapp/easy_refund_\".concat(item.selected ? \"select\" : \"unselect\", \"_icon.png\")\n        }), item.selected ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: \"\\u60A8\\u5DF2\\u4EAB\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"select-highlight\",\n            children: \"\\u5B89\\u5FC3\\u9000\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: \"\\u4FDD\\u969C\"\n          })]\n        }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: \"\\u62C5\\u5FC3\\u4F1A\\u9000\\u7968\\uFF1F\\u4E3A\\u4F60\\u63A8\\u8350\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"unselect-highlight\",\n            children: \"\\u5B89\\u5FC3\\u9000\"\n          })]\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"sub-title\",\n        onClick: (0,commonModule_prod.trackFn)(\"gotoDesc--1c12e\", gotoDesc),\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: \"\\u9000\\u7968\\u540E\\u9884\\u8BA1\\u6700\\u9AD8\\u8D54\\u4ED8\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n            style: {\n              color: item.checked ? \"#00B87A\" : \"#FF7700\"\n            },\n            children: [maxRefundPrice || 0, \"\\u5143\"]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: \"\\u73B0\\u91D1+\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            style: {\n              color: item.checked ? \"#00B87A\" : \"#FF7700\"\n            },\n            children: \"100\\u5143\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: \"\\u79DF\\u8F66\\u5238\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"icon-font icon-arrow-right\"\n          })]\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"check-box\",\n      onClick: (0,commonModule_prod.trackFn)(\"toggleCheck--dcb24\", toggleCheck),\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"price\",\n        children: [\"\\xA5\", item.payPrice]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"icon-font \".concat(item.selected ? \"icon-checked-round\" : \"icon-check-round\")\n      })]\n    })]\n  });\n}\nfunction DescEasyRefund(_ref3) {\n  var sales = _ref3.sales,\n    refundPrice = _ref3.refundPrice;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    children: sales.map(function (s, i) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(DescEasyRefundItem, {\n        item: s,\n        index: i,\n        refundPrice: refundPrice\n      });\n    })\n  });\n}\n/* harmony default export */ var BusDesc_DescEasyRefund = (DescEasyRefund);\n;// CONCATENATED MODULE: ./src/pages/bus/components/BusDesc/BusDescView.tsx\n\n\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-01-16 16:09:46\n * @LastEditTime: 2023-10-10 11:44:05\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/components/BusDesc/BusDescView.tsx\n *\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar BusDescView_withTrace = common/* ubt.withTrace */.uM.withTrace;\nfunction StationDesc(_ref) {\n  var desc = _ref.desc,\n    gotoStationMap = _ref.gotoStationMap;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"flex1\",\n    onClick: (0,commonModule_prod.trackFn)(\"gotoStationMap--4ebef\", gotoStationMap),\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n      className: \"desc value high-light\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"icon-font icon-location\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: desc\n      })]\n    })\n  });\n}\nfunction BusDescView(_ref2) {\n  var headerImg = _ref2.headerImg,\n    ticketExplainJsonData = _ref2.ticketExplainJsonData,\n    returnRuleJsonData = _ref2.returnRuleJsonData,\n    fromStationInfo = _ref2.fromStationInfo,\n    gotoMap = _ref2.gotoMap;\n  var _store$useModel = store/* default.useModel */.Z.useModel('bookParams'),\n    _store$useModel2 = (0,slicedToArray/* default */.Z)(_store$useModel, 1),\n    bookParams = _store$useModel2[0];\n  var _store$useModel3 = store/* default.useModel */.Z.useModel('bookSale'),\n    _store$useModel4 = (0,slicedToArray/* default */.Z)(_store$useModel3, 1),\n    bookSales = _store$useModel4[0];\n  var _store$useModel5 = store/* default.useModel */.Z.useModel('passengers'),\n    _store$useModel6 = (0,slicedToArray/* default */.Z)(_store$useModel5, 1),\n    passengers = _store$useModel6[0];\n  var busDetail = bookParams.busDetail;\n  var selectX = busDetail.selectX;\n  var salePackageList = bookSales.salePackageList,\n    insuranceList = bookSales.insuranceList;\n  var selPassengerList = passengers.selPassengerList;\n  var _useState = (0,react.useState)(0),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    selectedTabIndex = _useState2[0],\n    setSelectedTabIndex = _useState2[1];\n  var _useState3 = (0,react.useState)(''),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    scrollIntoView = _useState4[0],\n    setScrollIntoView = _useState4[1];\n  var gotoStationMap = (0,react.useCallback)(function () {\n    if (gotoMap) {\n      gotoMap(fromStationInfo);\n    }\n    return;\n  }, [fromStationInfo]);\n  var tabData = (0,react.useMemo)(function () {\n    var _hasEasyRefund = hasEasyRefund(),\n      sales = _hasEasyRefund.easyRefundSales,\n      has = _hasEasyRefund.hasEasyRefund;\n    var tabData = [];\n    if (returnRuleJsonData) {\n      var returnRuleData = [];\n      try {\n        var TICKET_CHANGES = '改签';\n        var REFUND_CHANGE_RULES = '退票收费规则';\n        var returnRuleJsonInfo = returnRuleJsonData && JSON.parse(returnRuleJsonData);\n        var returnRuleList = returnRuleJsonInfo[REFUND_CHANGE_RULES] || [];\n\n        // TODO  easyRefund\n        // const includeXEasyRefund = xPackageTypeList.includes('easyRefund');\n        var showRefundDesc = has;\n        var refundChecked = false;\n        (sales || []).forEach(function (pkg) {\n          if (pkg.selected) {\n            refundChecked = true;\n          }\n        });\n        // 退改表格 退票费  产品退款\n        returnRuleList.forEach(function (returnRuleItem, returnRuleIndex) {\n          if (returnRuleIndex === 0) {\n            var _returnRuleItem$table = returnRuleItem.table,\n              table = _returnRuleItem$table === void 0 ? {} : _returnRuleItem$table;\n            var _ref3 = table || {},\n              _ref3$data = _ref3.data,\n              data = _ref3$data === void 0 ? [] : _ref3$data;\n            data = data.map(function (item) {\n              var i = (0,objectSpread2/* default */.Z)({}, item);\n              if (i.list) {\n                i.list = i.list.map(function (d) {\n                  var descItem = (0,objectSpread2/* default */.Z)({}, d);\n                  if (showRefundDesc && descItem.refundDesc) {\n                    descItem.desc = [{\n                      desc: descItem.desc\n                    }, {\n                      desc: \"\\u5B89\\u5FC3\\u9000 \\u53EF\\u8FD4\\u73B0\\uFFE5\".concat(descItem.refundDesc),\n                      color: refundChecked ? '#00B87A' : '#FF6600'\n                    }];\n                  }\n                  return descItem;\n                });\n              }\n              return i;\n            });\n            returnRuleData.push({\n              // scrollToMark: tabData[1].id,\n              title: '退票收费规则',\n              isTable: true,\n              data: data\n            });\n          } else {\n            returnRuleData.push({\n              title: '',\n              data: [{\n                label: returnRuleItem.title,\n                value: returnRuleItem.desc\n              }]\n            });\n          }\n        });\n        // 安心退\n        var easyRefundData = returnRuleJsonInfo.easyRefund;\n        var isShowRefund = selPassengerList.length > 0 && showRefundDesc;\n        if (isShowRefund) {\n          returnRuleData.push({\n            layoutType: 'vertical',\n            data: [{\n              label: null,\n              value: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                style: {\n                  width: '100%'\n                },\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(BusDesc_DescEasyRefund, {\n                  refundPrice: easyRefundData,\n                  sales: sales\n                })\n              })\n            }]\n          });\n        }\n        // 改签\n        var ticketChanges = returnRuleJsonInfo[TICKET_CHANGES] || [];\n        returnRuleData.push({\n          title: TICKET_CHANGES,\n          data: ticketChanges.map(function (ticketChangeItem) {\n            return {\n              label: null,\n              value: ticketChangeItem.desc\n            };\n          })\n        });\n        tabData.push({\n          id: 'cancellation_rules',\n          tabId: ubtKeys/* default.book.BCWBooking_TripInfo_NoticeRefundRule */.Z.book.BCWBooking_TripInfo_NoticeRefundRule,\n          label: '退改规则',\n          data: returnRuleData\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    if (ticketExplainJsonData) {\n      var ticketExplainData = [];\n      try {\n        var ticketExplainInfo = ticketExplainJsonData && JSON.parse(ticketExplainJsonData);\n        var explainInfoKeys = Object.keys(ticketExplainInfo);\n        explainInfoKeys.forEach(function (explainInfoKey, explainInfoIndex) {\n          ticketExplainData.push({\n            // scrollToMark: explainInfoIndex === 0 ? tabData[1].id : null,\n            title: explainInfoKey,\n            data: ticketExplainInfo[explainInfoKey].map(function (explainInfoKeyItem) {\n              var isStation = explainInfoKeyItem.station;\n              return {\n                label: explainInfoKeyItem.title,\n                value: !isStation ? explainInfoKeyItem.desc : /*#__PURE__*/(0,jsx_runtime.jsx)(StationDesc, {\n                  desc: explainInfoKeyItem.desc,\n                  gotoStationMap: gotoStationMap\n                })\n              };\n            })\n          });\n        });\n        tabData.push({\n          id: 'buy_instruction',\n          tabId: ubtKeys/* default.book.BCWBooking_TripInfo_NoticeBuyExplanation */.Z.book.BCWBooking_TripInfo_NoticeBuyExplanation,\n          label: '购取说明',\n          data: ticketExplainData\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    return tabData;\n  }, [gotoStationMap, headerImg, ticketExplainJsonData, returnRuleJsonData, selectX, insuranceList, salePackageList, selPassengerList]);\n  var handleSelectedTab = (0,react.useCallback)(function (index) {\n    setSelectedTabIndex(index);\n    var id = tabData[index].id;\n    setScrollIntoView(id);\n    setTimeout(function () {\n      setScrollIntoView('');\n    }, 100);\n  }, [tabData]);\n  var buyInstructionTop = (0,react.useRef)(0);\n  var debouncedScroll = (0,react.useCallback)((0,debounce/* default */.Z)(function (scrollTop) {\n    var delta = scrollTop - buyInstructionTop.current;\n    if (delta < -50) {\n      setSelectedTabIndex(0);\n    } else if (delta >= 0) {\n      setSelectedTabIndex(1);\n    }\n  }, 16, {\n    trailing: true\n  }), []);\n  var onScroll = (0,react.useCallback)(function (e) {\n    var scrollTop = e.detail.scrollTop;\n    if (tabData.length > 1) {\n      debouncedScroll(scrollTop);\n    }\n  }, [tabData]);\n  var setRef = (0,react.useCallback)(function (ref) {\n    if (tabData.length > 1) {\n      (0,taroUtils/* selectorQueryFields */.M)(\"#cancellation_rules\").then(function (rect) {\n        console.log('#cancellation_rules---', rect);\n        if (rect) {\n          buyInstructionTop.current = rect.bottom - rect.top;\n        }\n      });\n    }\n  }, [tabData]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"bus-desc-container\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"title-view \",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"logo-image\",\n        mode: 'aspectFit',\n        src: headerImg || 'https://pages.c-ctrip.com/bus-images/busapp/serviceensure/service_ensure_header.png'\n      })\n    }), tabData && tabData.length > 1 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"tab-view\",\n      children: tabData.map(function (tabItem, index) {\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          id: tabItem.tabId,\n          className: \"tab-item\",\n          onClick: (0,commonModule_prod.trackFn)(tabItem.tabId + tabItem.id, BusDescView_withTrace(function () {\n            handleSelectedTab(index);\n          })),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"title-text \".concat(tabItem.id === tabData[selectedTabIndex].id ? 'selected' : ''),\n            children: tabItem.label\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"bottom-bar \".concat(tabItem.id === tabData[selectedTabIndex].id ? 'selected' : '')\n          })]\n        }, tabItem.id);\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"scroll-view-container\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.ScrollView, {\n        className: \"scroll-view\",\n        id: \"desc-scroll-view\",\n        scrollY: true,\n        enhanced: true,\n        ref: setRef,\n        onScroll: (0,commonModule_prod.trackFn)(\"desc-scroll-view\", onScroll),\n        scrollIntoView: scrollIntoView,\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"scroll-content\",\n          children: tabData.map(function (item, index) {\n            return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"desc-page\",\n              id: item.id,\n              children: item.data.map(function (descObj, index) {\n                return /*#__PURE__*/(0,jsx_runtime.jsx)(BusDesc_DescBlock, {\n                  descBlock: descObj,\n                  index: index\n                }, index);\n              })\n            }, item.id);\n          })\n        })\n      })\n    })]\n  });\n}\n/* harmony default export */ var BusDesc_BusDescView = (BusDescView);\n;// CONCATENATED MODULE: ./src/pages/bus/components/BusDesc/index.tsx\n\n\n\n/* harmony default export */ var BusDesc = ((0,Modal/* withModal */.LU)(BusDesc_BusDescView));\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/calTotalPrice.js\n\n\nfunction calTotalPrice() {\n  var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n  var passengers = store/* default.getModelState */.Z.getModelState(\"passengers\");\n  var isSaleChildTicket = passengers.isSaleChildTicket,\n    isSaleTakeChildTicket = passengers.isSaleTakeChildTicket,\n    adultCount = passengers.adultCount,\n    childCount = passengers.childCount,\n    takeChildCount = passengers.takeChildCount;\n  var _bookParams$busDetail = bookParams.busDetail,\n    busDetail = _bookParams$busDetail === void 0 ? {} : _bookParams$busDetail;\n  var _busDetail$detail = busDetail.detail,\n    detail = _busDetail$detail === void 0 ? {} : _busDetail$detail;\n  var priceList = [];\n  var priceTicket = [];\n  var serviceChargeInfo = detail.serviceChargeInfo,\n    isPresale = detail.isPresale;\n  var ticketPrice = detail.ticketUnitSalePrice;\n  var ticketChildPrice = detail.childTicketUnitSalePrice || ticketPrice;\n  var originPrice = detail.ticketUnitOriginalPrice || detail.ticketUnitSalePrice;\n  var originChildPrice = detail.childTicketUnitOriginalPrice || originPrice;\n  var showPresalePrice =  false && 0;\n  var totalPrice = 0;\n  var totalOriginPrice = 0;\n  var unit = \"人\";\n  if (adultCount > 0) {\n    var obj = {\n      name: showPresalePrice ? \"预约票\" : isSaleChildTicket || isSaleTakeChildTicket ? \"成人票\" : \"票价\",\n      price: showPresalePrice ? originPrice : ticketPrice,\n      count: adultCount,\n      unit: unit,\n      // tag: \"车站原价\",\n      priceInfo: \"\\xA5\".concat(showPresalePrice ? originPrice : ticketPrice, \" x \").concat(adultCount).concat(unit)\n    };\n    priceTicket.push(obj);\n    totalPrice += ticketPrice * adultCount;\n    totalOriginPrice += originPrice * adultCount;\n  }\n  if (childCount > 0) {\n    var _obj = {\n      name: \"儿童票\",\n      price: showPresalePrice ? originChildPrice : ticketChildPrice,\n      count: childCount,\n      unit: unit,\n      priceInfo: \"\\xA5\".concat(showPresalePrice ? originChildPrice : ticketChildPrice, \" x \").concat(childCount).concat(unit)\n    };\n    priceTicket.push(_obj);\n    totalPrice += ticketChildPrice * childCount;\n    totalOriginPrice += originChildPrice * adultCount;\n  }\n  if (takeChildCount > 0) {\n    var _obj2 = {\n      name: \"免票携童\",\n      price: 0,\n      count: takeChildCount,\n      unit: unit,\n      priceInfo: \"\\xA5\".concat(0, \" x \", takeChildCount).concat(unit)\n    };\n    priceTicket.push(_obj2);\n  }\n  if (serviceChargeInfo && serviceChargeInfo.price > 0) {\n    var _obj3 = {\n      name: serviceChargeInfo.title,\n      price: serviceChargeInfo.price,\n      count: adultCount + childCount,\n      showExplain: true,\n      unit: unit,\n      priceInfo: \"\\xA5\".concat(serviceChargeInfo.price, \" x \").concat(adultCount + childCount).concat(unit)\n    };\n    priceTicket.push(_obj3);\n    totalPrice += serviceChargeInfo.price * (adultCount + childCount);\n    totalOriginPrice += serviceChargeInfo.price * (adultCount + childCount);\n  }\n  totalPrice = totalPrice.toFixed(2) * 1;\n  totalOriginPrice = totalOriginPrice.toFixed(2) * 1;\n  priceList.push({\n    title: \"车票\",\n    list: priceTicket,\n    totalPrice: totalPrice,\n    totalOriginPrice: totalOriginPrice\n  });\n  return {\n    totalPrice: totalPrice,\n    totalOriginPrice: totalOriginPrice,\n    priceList: priceList\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/getSellCount.js\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-20 19:00:08\n * @LastEditTime: 2023-02-28 16:10:17\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/getSellCount.js\n * @\n */\n\n\nvar isEmpty = common._.isEmpty;\nfunction getSellCountAndUnit(item, _ref) {\n  var adultCount = _ref.adultCount,\n    childCount = _ref.childCount,\n    takeChildCount = _ref.takeChildCount,\n    realNamePassenger = _ref.realNamePassenger;\n  var title = item.title,\n    payShowPrice = item.payShowPrice,\n    giveProduct = item.giveProduct,\n    giveActivitys = item.giveActivitys,\n    extraMap = item.extraMap,\n    sellType = item.sellType;\n  var supChild = item.supChild != 0;\n  var count = supChild ? childCount + adultCount : adultCount;\n  var sellCount = sellType == 1 ? count : 1;\n  var unit = sellType == 1 ? \"人\" : \"份\";\n  if (sellType === 3 && !!extraMap) {\n    var _extraMap$gradeQualit = extraMap.gradeQuality,\n      gradeQuality = _extraMap$gradeQualit === void 0 ? 0 : _extraMap$gradeQualit,\n      _extraMap$memberQuali = extraMap.memberQuality,\n      memberQuality = _extraMap$memberQuali === void 0 ? 0 : _extraMap$memberQuali,\n      _extraMap$aliQuality = extraMap.aliQuality,\n      aliQuality = _extraMap$aliQuality === void 0 ? 0 : _extraMap$aliQuality,\n      _extraMap$marketingQu = extraMap.marketingQuality,\n      marketingQuality = _extraMap$marketingQu === void 0 ? 0 : _extraMap$marketingQu,\n      newGuestQuality = extraMap.newGuestQuality,\n      newGuestPackageCode = extraMap.newGuestPackageCode,\n      memberPackageCode = extraMap.memberPackageCode,\n      gradePackageCode = extraMap.gradePackageCode,\n      aliPackageCode = extraMap.aliPackageCode,\n      marketingPackageCode = extraMap.marketingPackageCode;\n    if (newGuestQuality) {\n      sellCount = count > newGuestQuality ? newGuestQuality : count;\n    } else {\n      qualityCount = memberQuality + aliQuality + marketingQuality;\n      if (!isEmpty(realNamePassenger)) {\n        qualityCount = qualityCount + (gradeQuality ? 1 : 0);\n      }\n      sellCount = count > qualityCount ? qualityCount : count;\n    }\n    unit = \"次\";\n  }\n  return {\n    sellCount: sellCount,\n    unit: unit\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/calSalesPrice.js\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-16 18:46:44\n * @LastEditTime: 2023-02-20 19:24:36\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/calSalesPrice.js\n * @\n */\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-01-17 14:31:05\n * @LastEditTime: 2023-02-16 18:46:13\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/calTotalPrice.js\n * @\n */\n\n\n\nfunction calSalesPrice() {\n  var _getAllSelectedSales = getAllSelectedSales(),\n    sales = _getAllSelectedSales.sales;\n  var passengers = store/* default.getModelState */.Z.getModelState(\"passengers\");\n  var isSaleChildTicket = passengers.isSaleChildTicket,\n    isSaleTakeChildTicket = passengers.isSaleTakeChildTicket,\n    adultCount = passengers.adultCount,\n    childCount = passengers.childCount,\n    takeChildCount = passengers.takeChildCount,\n    realNamePassenger = passengers.realNamePassenger;\n  var priceList = [];\n  var priceTicket = [];\n  var totalPrice = 0;\n  var totalOriginPrice = 0;\n  sales.forEach(function (item) {\n    if (item.packageCode === \"0\" || item.channelName === \"x_original\") return;\n    if ((item.selected || item.open) && !item.canceled) {\n      var title = item.title,\n        payShowPrice = item.payShowPrice,\n        giveProduct = item.giveProduct,\n        giveActivitys = item.giveActivitys;\n      var _getSellCountAndUnit = getSellCountAndUnit(item, {\n          adultCount: adultCount,\n          childCount: childCount,\n          takeChildCount: takeChildCount,\n          realNamePassenger: realNamePassenger\n        }),\n        sellCount = _getSellCountAndUnit.sellCount,\n        unit = _getSellCountAndUnit.unit;\n      var obj = {\n        name: title,\n        price: payShowPrice,\n        count: sellCount,\n        priceInfo: \"\\xA5\".concat(payShowPrice, \" x \").concat(sellCount).concat(unit),\n        unit: unit\n      };\n      if (giveActivitys) {\n        obj.giveActivitys = giveActivitys.map(function (give) {\n          return {\n            name: give.title,\n            price: give.showPrice,\n            count: sellCount,\n            unit: unit\n          };\n        });\n      }\n      if (giveProduct) {\n        obj.giveProduct = {\n          name: giveProduct.title || \"赠送产品\",\n          price: giveProduct.showPrice,\n          count: sellCount,\n          priceInfo: \"\\xA5\".concat(giveProduct.showPrice, \" x \").concat(sellCount).concat(unit),\n          unit: unit\n        };\n      }\n      priceTicket.push(obj);\n      totalPrice += sellCount * payShowPrice;\n    }\n  });\n  totalPrice = totalPrice.toFixed(2) * 1;\n  totalOriginPrice = totalPrice.toFixed(2) * 1;\n  if (priceTicket.length > 0) {\n    priceList.push({\n      title: \"增值产品\",\n      list: priceTicket,\n      totalPrice: totalPrice,\n      totalOriginPrice: totalOriginPrice\n    });\n  }\n  return {\n    totalPrice: totalPrice,\n    totalOriginPrice: totalOriginPrice,\n    priceList: priceList\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/calSavePrice.js\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-27 17:51:24\n * @LastEditors: jhyi jhyi@trip.com\n * @LastEditTime: 2023-08-28 15:06:27\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/calSavePrice.js\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n\nfunction calSavePrice() {\n  var couponState = store/* default.getModelState */.Z.getModelState(\"coupon\");\n  var checkedCoupon = couponState.checkedCoupon;\n  var priceList = [];\n  var itemList = [];\n  var totalPrice = 0;\n  var totalOriginPrice = 0;\n  if (checkedCoupon) {\n    var obj = {\n      icon: \"券\",\n      name: checkedCoupon.displayName,\n      price: checkedCoupon.deductionAmount,\n      count: 1,\n      priceInfo: \"-\\xA5\".concat(checkedCoupon.deductionAmount),\n      unit: \"\"\n    };\n    itemList.push(obj);\n    totalPrice += checkedCoupon.deductionAmount;\n  }\n  totalPrice = totalPrice.toFixed(2) * 1;\n  totalOriginPrice = totalPrice;\n  if (itemList.length > 0) {\n    priceList.push({\n      type: \"deduction\",\n      title: \"下单优惠\",\n      list: itemList,\n      totalPrice: totalPrice,\n      totalOriginPrice: totalOriginPrice\n    });\n  }\n  return {\n    totalPrice: totalPrice,\n    totalOriginPrice: totalOriginPrice,\n    priceList: priceList\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/useUpdate.ts\n\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-01-17 14:19:35\n * @LastEditTime: 2023-08-28 16:50:58\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/useUpdate.ts\n *\n */\n\n\n\n\n\n\nfunction useUpdateTotalPrice(deps) {\n  (0,react.useEffect)(function () {\n    // this.calTotalPrice();\n    var bookParamsDispatcher = store/* default.getModelDispatchers */.Z.getModelDispatchers(\"bookParams\");\n    var ticketTotalPrice = calTotalPrice();\n    var salesTotalPrice = calSalesPrice();\n    var saveTotalPrice = calSavePrice();\n    var totalPrice = ticketTotalPrice.totalPrice + salesTotalPrice.totalPrice - saveTotalPrice.totalPrice;\n    var totalOriginPrice = ticketTotalPrice.totalOriginPrice + salesTotalPrice.totalOriginPrice - saveTotalPrice.totalOriginPrice;\n    var priceList = [].concat((0,toConsumableArray/* default */.Z)(ticketTotalPrice.priceList), (0,toConsumableArray/* default */.Z)(salesTotalPrice.priceList), (0,toConsumableArray/* default */.Z)(saveTotalPrice.priceList));\n    bookParamsDispatcher.update({\n      totalPrice: totalPrice,\n      totalOriginPrice: totalOriginPrice,\n      priceList: priceList,\n      savePrice: saveTotalPrice.totalPrice\n    });\n  }, deps);\n}\n;// CONCATENATED MODULE: ./src/pages/bus/components/ServiceFeeModal/style/index.ts\n\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/ServiceFeeModal/index.tsx\n\n\n\n\n\n\n\nfunction ServiceFeeModal(_ref) {\n  var serviceFeeExplainData = _ref.serviceFeeExplainData,\n    hide = _ref.hide;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"servicefee-container\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"servicefee-head\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"title\",\n        children: \"\\u670D\\u52A1\\u8D39\\u8BF4\\u660E\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"servicefee-image\",\n      src: \"https://pages.c-ctrip.com/bus-images/busapp/rnbus/cious/serviceFeeDescBg.png\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"servicefee-content\",\n      children: [serviceFeeExplainData.content.map(function (content, index) {\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"text-content\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"descTit\",\n            children: content.title\n          }), content.desc.map(function (item, idx) {\n            return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"item-content\",\n              children: [content.desc.length > 1 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"item-icon\"\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                children: item\n              })]\n            });\n          })]\n        }, index);\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"desc\",\n        children: serviceFeeExplainData.desc\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"button\",\n        onClick: (0,commonModule_prod.trackFn)(\"hide--ba46f\", hide),\n        children: \"\\u7EE7\\u7EED\\u8D2D\\u7968\"\n      })]\n    })]\n  });\n}\n/* harmony default export */ var components_ServiceFeeModal = ((0,Modal/* withModal */.LU)(ServiceFeeModal));\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/buildOrderParams.js\n\n\n\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-07 15:58:55\n * @LastEditTime: 2023-03-02 14:20:30\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/buildOrderParams.js\n * @\n */\n\n\n\n\n\n\nfunction buildOrderParams(_x) {\n  return _buildOrderParams.apply(this, arguments);\n}\nfunction _buildOrderParams() {\n  _buildOrderParams = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(payMethod) {\n    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, getBusInfo()), getPassengerInfo()), getUnion()), getCoupon()), getAppendProductList()), getUseCardList()), {}, {\n            // 立减权益\n            busParams: {\n              payMethod: payMethod === \"afterPay\" ? 1 : 2,\n              channelId: \"1\",\n              activityId: \"0\"\n            }\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _buildOrderParams.apply(this, arguments);\n}\nfunction getUseCardList() {\n  return {\n    usedCardTypeList: []\n  };\n}\nfunction getAppendProductList() {\n  var _getAllSelectedSales = getAllSelectedSales(),\n    sales = _getAllSelectedSales.sales;\n  var passengers = store/* default.getModelState */.Z.getModelState(\"passengers\");\n  var adultCount = passengers.adultCount,\n    childCount = passengers.childCount,\n    takeChildCount = passengers.takeChildCount,\n    realNamePassenger = passengers.realNamePassenger;\n  var appendProductList = [];\n  sales.forEach(function (item) {\n    if (item.packageCode === \"0\") return;\n    if ((item.selected || item.open) && !item.canceled) {\n      var extraInfo = item.extraInfo,\n        sellType = item.sellType,\n        channelId = item.channelId,\n        packageCode = item.packageCode;\n      var page = item.xPosition === \"x\" ? 1 : item.xPosition === \"list\" ? 5 : 2;\n      var _getSellCountAndUnit = getSellCountAndUnit(item, {\n          adultCount: adultCount,\n          childCount: childCount,\n          takeChildCount: takeChildCount,\n          realNamePassenger: realNamePassenger\n        }),\n        sellCount = _getSellCountAndUnit.sellCount;\n      if (sellType === 3 && !common._.isEmpty(extraInfo)) {\n        var _extraInfo$gradeQuali = extraInfo.gradeQuality,\n          gradeQuality = _extraInfo$gradeQuali === void 0 ? 0 : _extraInfo$gradeQuali,\n          _extraInfo$memberQual = extraInfo.memberQuality,\n          memberQuality = _extraInfo$memberQual === void 0 ? 0 : _extraInfo$memberQual,\n          _extraInfo$aliQuality = extraInfo.aliQuality,\n          aliQuality = _extraInfo$aliQuality === void 0 ? 0 : _extraInfo$aliQuality,\n          _extraInfo$marketingQ = extraInfo.marketingQuality,\n          marketingQuality = _extraInfo$marketingQ === void 0 ? 0 : _extraInfo$marketingQ,\n          newGuestQuality = extraInfo.newGuestQuality,\n          newGuestPackageCode = extraInfo.newGuestPackageCode,\n          memberPackageCode = extraInfo.memberPackageCode,\n          gradePackageCode = extraInfo.gradePackageCode,\n          aliPackageCode = extraInfo.aliPackageCode,\n          marketingPackageCode = extraInfo.marketingPackageCode;\n        if (newGuestQuality) {\n          appendProductList.push({\n            packageCode: newGuestPackageCode,\n            buyNumber: sellCount,\n            channelId: channelId,\n            page: page\n          });\n        } else {\n          var excludeCount = count;\n          if (!common._.isEmpty(realNamePassenger) && gradeQuality) {\n            appendProductList.push({\n              packageCode: gradePackageCode,\n              buyNumber: 1,\n              channelId: channelId,\n              page: page\n            });\n          }\n          if (excludeCount > 0 && memberQuality) {\n            var buyMemberCount = memberQuality > excludeCount ? excludeCount : memberQuality;\n            appendProductList.push({\n              packageCode: memberPackageCode,\n              buyNumber: buyMemberCount,\n              channelId: channelId,\n              page: page\n            });\n            excludeCount = excludeCount - buyMemberCount;\n          }\n          if (excludeCount > 0 && aliQuality) {\n            var _buyMemberCount = aliQuality > excludeCount ? excludeCount : aliQuality;\n            appendProductList.push({\n              packageCode: aliPackageCode,\n              buyNumber: _buyMemberCount,\n              channelId: channelId,\n              page: page\n            });\n            excludeCount = excludeCount - _buyMemberCount;\n          }\n          if (excludeCount > 0 && marketingQuality) {\n            var _buyMemberCount2 = marketingQuality > excludeCount ? excludeCount : marketingQuality;\n            appendProductList.push({\n              packageCode: marketingPackageCode,\n              buyNumber: _buyMemberCount2,\n              channelId: channelId,\n              page: getChannelPage({\n                channelId: channelId,\n                xPackage: xPackage\n              })\n            });\n            excludeCount = excludeCount - _buyMemberCount2;\n          }\n        }\n      } else {\n        appendProductList.push({\n          packageCode: packageCode,\n          buyNumber: sellCount,\n          channelId: channelId,\n          page: page\n        });\n      }\n    }\n  });\n  return {\n    appendProductList: appendProductList\n  };\n}\nfunction getCoupon() {\n  var couponState = store/* default.getModelState */.Z.getModelState(\"coupon\");\n  var checkedCoupon = couponState.checkedCoupon;\n  return {\n    couponCode: common._.isEmpty(checkedCoupon) ? \"\" : checkedCoupon.couponCode\n  };\n}\nfunction getUnion() {\n  var union = common/* cwx.mkt.getUnion */.Y8.mkt.getUnion();\n  var systemInfo = (0,utils_systemInfo/* getSystemInfo */.So)();\n  var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n  var mUtmsource = common/* Utils.getUtmSource */.cQ.getUtmSource();\n  var busDetail = (bookParams === null || bookParams === void 0 ? void 0 : bookParams.busDetail) || {};\n  var scanId = busDetail.scanId;\n  return {\n    union: {\n      awakeUnion: JSON.stringify(union || {}),\n      clientType: systemInfo.platform + common/* BusConfig.suffix */.zB.suffix,\n      clientVersion: common/* BusConfig.client_version */.zB.client_version || systemInfo.version,\n      clientId: common/* cwx.clientID */.Y8.clientID,\n      utmSource: mUtmsource,\n      vid: common/* __global.vid */.z4.vid || \"\",\n      allianceId: \"\" + ((union || {}).allianceid || \"\"),\n      sid: \"\" + ((union || {}).sid || \"\"),\n      ouid: \"\" + ((union || {}).ouid || \"\"),\n      sourceId: \"\" + ((union || {}).sourceid || \"\"),\n      scanId: scanId\n    }\n  };\n}\nfunction getPassengerInfo() {\n  var _fetcherInfo$idcard, _fetcherInfo$idcard2;\n  var passengers = store/* default.getModelState */.Z.getModelState(\"passengers\");\n  var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n  var selPassengerList = passengers.selPassengerList;\n  var _bookParams$policyHol = bookParams.policyHolder,\n    policyHolder = _bookParams$policyHol === void 0 ? {} : _bookParams$policyHol,\n    phoneNumber = bookParams.phoneNumber;\n  var fetcherInfo = {};\n  var passengerList = selPassengerList.map(function (item) {\n    var isFetcher = false;\n    if (!(fetcherInfo && fetcherInfo.name) && !item.isChildTicket && !item.isTakeChildTicket) {\n      isFetcher = true;\n      fetcherInfo = item;\n    }\n    var passengerType = (item.passengerType || \"A\").toUpperCase();\n    var pType;\n    switch (passengerType) {\n      case \"X\":\n      case \"T\":\n      case \"TC\":\n        {\n          pType = 3;\n          break;\n        }\n      case \"C\":\n        {\n          pType = 2;\n          break;\n        }\n      case \"A\":\n        {\n          pType = 1;\n          break;\n        }\n      default:\n        pType = 1;\n    }\n    var cardInfo = item.idcard;\n    return {\n      name: item.name,\n      firstName: item.firstName || \"\",\n      lastName: item.lastName || \"\",\n      passengerType: pType,\n      birth: item.birth || \"\",\n      nationality: item.nationality || \"\",\n      idCard: [{\n        idType: cardInfo.type,\n        idNum: cardInfo.cardNo,\n        cardCount: null,\n        visaDate: cardInfo.cardTimelimit || \"\",\n        effectiveDate: null,\n        chinaEntry: null,\n        taiwanEntry: null\n      }],\n      stayDays: null,\n      address: null,\n      mobile: item.mobilePhone || \"\",\n      fetcher: isFetcher,\n      policyHolder: policyHolder.parentName ? {\n        name: policyHolder.parentName || \"\",\n        idNum: policyHolder.parentIdNumber || \"\",\n        idType: \"1\"\n      } : null\n    };\n  });\n  var fetcher = {\n    name: fetcherInfo.name || \"\",\n    lastName: fetcherInfo.lastName || \"\",\n    firstName: fetcherInfo.firstName || \"\",\n    idNum: ((_fetcherInfo$idcard = fetcherInfo.idcard) === null || _fetcherInfo$idcard === void 0 ? void 0 : _fetcherInfo$idcard.cardNo) || \"\",\n    idType: ((_fetcherInfo$idcard2 = fetcherInfo.idcard) === null || _fetcherInfo$idcard2 === void 0 ? void 0 : _fetcherInfo$idcard2.type) || \"\",\n    contactMobile: phoneNumber || \"\",\n    contactAreaCode: fetcherInfo.countryCode || \"\",\n    contactEmail: fetcherInfo.contactEmail || \"\"\n  };\n  return {\n    passengers: passengerList,\n    ticketCnt: passengerList.length,\n    fetcher: fetcher\n  };\n}\nfunction getBusInfo() {\n  var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n  var mUtmsource = common/* Utils.getUtmSource */.cQ.getUtmSource();\n  var isPromotion = mUtmsource.indexOf(\"ctripwx\") >= 0;\n  var busDetail = (bookParams === null || bookParams === void 0 ? void 0 : bookParams.busDetail) || {};\n  var detail = busDetail.detail,\n    alternativeData = busDetail.alternativeData;\n  var fromCity = detail.fromCity,\n    toCity = detail.toCity,\n    fromStation = detail.fromStation,\n    toStation = detail.toStation,\n    fromDate = detail.fromDate,\n    fromTime = detail.fromTime,\n    endTime = detail.endTime,\n    _detail$tempFields = detail.tempFields,\n    tempFields = _detail$tempFields === void 0 ? {} : _detail$tempFields,\n    symbol = detail.symbol,\n    busNumber = detail.busNumber,\n    shiftType = detail.shiftType,\n    isPresale = detail.isPresale;\n  var website = tempFields.website,\n    webiste = tempFields.webiste;\n  return {\n    productLine: 1,\n    fromCity: fromCity,\n    toCity: toCity,\n    fromStation: fromStation,\n    toStation: toStation,\n    fromDate: fromDate,\n    fromTime: fromTime,\n    website: website || webiste,\n    lineCode: symbol,\n    number: busNumber,\n    alternative: alternativeData,\n    // 备选班次;\n    useRedPackage: isPresale || isPromotion ? false : true\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/common/utils/isPhoneNumber.ts\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-20 13:27:22\n * @LastEditTime: 2023-02-20 13:30:59\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/utils/isPhoneNumber.ts\n *\n */\n\nfunction isPhoneNumber(str) {\n  str = (str || \"\").trim().replace(/\\s/gi, \"\");\n  return /^1[3-9]\\d{9}/.test(str);\n}\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/canBuyInsurance.js\n/* provided dependency */ var canBuyInsurance_window = __webpack_require__(32180)[\"window\"];\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-20 15:18:02\n * @LastEditTime: 2023-02-20 18:40:25\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/canBuyInsurance.js\n * @\n */\n\nfunction canBuyInsurance(passengerList) {\n  var code = 0;\n  var message = \"\";\n  var hasAdult = false;\n  var hasChild = false;\n  if (passengerList.length > 0) {\n    for (var i = 0; i < passengerList.length; i++) {\n      var pas = passengerList[i];\n      if (pas.idcard && parseInt(pas.idcard.cardType, 10) === 1) {\n        if (pas.idcard.cardNo && pas.idcard.cardNo.length == 18) {\n          var nowDateNum = new canBuyInsurance_window.Date().format(\"yyyyMMdd\") * 1;\n          var pasCardBirth = (pas.birth || nowDateNum + \"\").replace(/-/g, \"\");\n          if (nowDateNum - pasCardBirth > 180000) {\n            hasAdult = true;\n          } else {\n            //避免其他不通过情况出现\n            hasChild = true;\n          }\n        } else {\n          //可以终止\n          code = 4;\n          errMsg = \"\\u4E58\\u5BA2 \".concat(pas.name, \" \\u8BC1\\u4EF6\\u683C\\u5F0F\\u4E0D\\u652F\\u6301\\u6295\\u4FDD\\uFF0C\\u8BF7\\u586B\\u5199\\u6700\\u65B0\\u4E00\\u4EE3\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u7801\");\n          break;\n        }\n      } else {\n        code = 3;\n        message = \"\\u4E58\\u5BA2 \".concat(pas.name, \" \\u8BC1\\u4EF6\\u683C\\u5F0F\\u4E0D\\u652F\\u6301\\u6295\\u4FDD\\uFF0C\\u8BF7\\u586B\\u5199\\u6700\\u65B0\\u4E00\\u4EE3\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u7801\");\n        break;\n      }\n    }\n    if (code === 0 && !hasAdult && hasChild) {\n      code = 5;\n      message = \"目前保险不支持未成年人投保，请补充【父/母身份证信息】投保\";\n    }\n  }\n  return {\n    code: code,\n    message: message\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/checkPassenger.js\n/* provided dependency */ var checkPassenger_window = __webpack_require__(32180)[\"window\"];\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-20 15:39:56\n * @LastEditTime: 2023-02-20 15:53:35\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/checkPassenger.js\n * @\n */\n\n\nfunction checkPassenger(passengerList) {\n  var hasAdult = false;\n  var hasChild = false;\n  if (passengerList.length > 0) {\n    for (var i = 0; i < passengerList.length; i++) {\n      var pas = passengerList[i];\n      var birth = pas.birth;\n      if (!birth && pas.idcard && parseInt(pas.idcard.cardType, 10) === 1) {\n        if (pas.idcard.cardNo && pas.idcard.cardNo.length == 18) {\n          birth = (0,passsengerUtil/* formatBirthDay */.hk)(pas.idcard.cardNo);\n        }\n      }\n      var nowDateNum = new checkPassenger_window.Date().format(\"yyyyMMdd\") * 1;\n      var pasCardBirth = (birth || \"\").replace(/-/g, \"\") * 1;\n      if (isNaN(pasCardBirth)) {\n        hasAdult = true;\n      } else {\n        if (nowDateNum - pasCardBirth > 180000) {\n          hasAdult = true;\n        } else {\n          //避免其他不通过情况出现\n          hasChild = true;\n        }\n      }\n    }\n  }\n  return {\n    hasAdult: hasAdult,\n    hasChild: hasChild\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/validateBookInput.js\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-16 20:02:43\n * @LastEditTime: 2023-02-21 17:09:41\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/validateBookInput.js\n * @\n */\n\n\n\n\n\nfunction validateBookInput() {\n  var passengers = store/* default.getModelState */.Z.getModelState(\"passengers\");\n  var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n  var selPassengerList = passengers.selPassengerList;\n  var _bookParams$policyHol = bookParams.policyHolder,\n    policyHolder = _bookParams$policyHol === void 0 ? {} : _bookParams$policyHol,\n    phoneNumber = bookParams.phoneNumber,\n    _bookParams$confirmCh = bookParams.confirmChildInfo,\n    confirmChildInfo = _bookParams$confirmCh === void 0 ? false : _bookParams$confirmCh;\n  if (selPassengerList.length == 0) {\n    return {\n      code: 1,\n      message: \"请至少选择一名乘客\"\n    };\n  }\n  if (!isPhoneNumber(phoneNumber)) {\n    return {\n      code: 2,\n      message: \"请输入正确手机号码\"\n    };\n  }\n  var _getAllSelectedSales = getAllSelectedSales(),\n    hasInsurance = _getAllSelectedSales.hasInsurance;\n  if (hasInsurance) {\n    var _canBuyInsurance = canBuyInsurance(selPassengerList),\n      code = _canBuyInsurance.code,\n      message = _canBuyInsurance.message;\n    if (code != 0) {\n      if (code === 5) {\n        if (policyHolder && policyHolder.parentName && policyHolder.parentIdNumber) {\n          return {\n            code: 0\n          };\n        } else {\n          return {\n            code: code,\n            message: message\n          };\n        }\n      } else {\n        return {\n          code: code,\n          message: message\n        };\n      }\n    }\n  }\n  var _checkPassenger = checkPassenger(selPassengerList),\n    hasChild = _checkPassenger.hasChild,\n    hasAdult = _checkPassenger.hasAdult;\n  if (hasChild && !confirmChildInfo) {\n    return {\n      code: 6,\n      message: \"本人是订单中的未成年人监护人或已征得其监护人同意，允许平台提供产品或服务为目的处理未成年人信息\"\n    };\n  }\n  return {\n    code: 0\n  };\n}\n;// CONCATENATED MODULE: ./src/pages/bus/components/ConfirmChildInfo/style/index.tsx\n\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/ConfirmChildInfo/index.tsx\n\n\n\n\n\n\nfunction ConfirmChildInfo(_ref) {\n  var confirmChildInfoMessage = _ref.confirmChildInfoMessage,\n    confirmChildInfo = _ref.confirmChildInfo,\n    showConfirmChildInfo = _ref.showConfirmChildInfo,\n    _ref$className = _ref.className,\n    className = _ref$className === void 0 ? \"\" : _ref$className,\n    onCheck = _ref.onCheck;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    id: \"confirm-info-view\",\n    children: showConfirmChildInfo && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"confirm-info-view \".concat(className || \"\"),\n      onClick: (0,commonModule_prod.trackFn)(\"confirm-info-view--onCheck--4cdc8\", onCheck),\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"check \",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"icon-font \".concat(confirmChildInfo ? \"icon-checked-round\" : \"icon-check-round\", \" \")\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"confirm-info-text\",\n        children: confirmChildInfoMessage\n      })]\n    })\n  });\n}\n/* harmony default export */ var components_ConfirmChildInfo = (/*#__PURE__*/react.memo(ConfirmChildInfo));\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(45023);\n;// CONCATENATED MODULE: ./src/pages/bus/components/InsuranceParentModel/style/index.ts\n\n\n;// CONCATENATED MODULE: ./src/pages/bus/components/InsuranceParentModel/index.tsx\n\n\n\n\n\n\n\n\n\n\n\nfunction InsuranceParentModel(_ref) {\n  var message = _ref.message,\n    onCancel = _ref.onCancel,\n    onConfirm = _ref.onConfirm,\n    hide = _ref.hide,\n    idCardNoProps = _ref.idCardNo,\n    nameProps = _ref.name;\n  var _useReducer = (0,react.useReducer)(function (state, action) {\n      return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), action.payload);\n    }, {\n      idCardNo: idCardNoProps || \"\",\n      name: nameProps || \"\"\n    }),\n    _useReducer2 = (0,slicedToArray/* default */.Z)(_useReducer, 2),\n    _useReducer2$ = _useReducer2[0],\n    idCardNo = _useReducer2$.idCardNo,\n    name = _useReducer2$.name,\n    dispatch = _useReducer2[1];\n  var onChangeText = (0,react.useCallback)(function (e) {\n    console.log(e);\n    dispatch({\n      type: \"change\",\n      payload: (0,defineProperty/* default */.Z)({}, e.currentTarget.id, e.detail.value)\n    });\n  }, []);\n  var cancel = (0,react.useCallback)(function (e) {\n    onCancel && onCancel();\n  }, []);\n  var confirmParentInfo = (0,react.useCallback)(function (e) {\n    onConfirm && onConfirm({\n      idCardNo: idCardNo,\n      name: name\n    });\n  }, [idCardNo, name]);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"modal-insurance-parent-container \",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"insurance-parent\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"title\",\n        children: \"\\u6E29\\u99A8\\u63D0\\u793A\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"desc\",\n        children: message\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(Cell/* default */.Z, {\n        title: \"\\u7236/\\u6BCD\\u59D3\\u540D\\uFF1A\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Input, {\n          className: \"input\",\n          placeholder: \"\\u8BF7\\u586B\\u5199\\u59D3\\u540D\",\n          maxlength: 14,\n          type: \"text\",\n          id: \"name\",\n          value: name,\n          cursor: -1\n          // @ts-ignore\n          ,\n          onChange: onChangeText,\n          onInput: (0,commonModule_prod.trackFn)(\"name\", onChangeText),\n          onConfirm: onChangeText,\n          onBlur: (0,commonModule_prod.trackFn)(\"name\", onChangeText),\n          onFocus: onChangeText\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(Cell/* default */.Z, {\n        title: \"\\u8EAB\\u4EFD\\u8BC1\\uFF1A\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Input, {\n          className: \"input\",\n          placeholder: \"\\u8BF7\\u586B\\u5199\\u8BC1\\u4EF6\\u53F7\\u7801\",\n          maxlength: 18,\n          type: \"idcard\",\n          id: \"idCardNo\",\n          cursor: -1,\n          value: idCardNo\n          // @ts-ignore\n          ,\n          onChange: onChangeText,\n          onInput: (0,commonModule_prod.trackFn)(\"idCardNo\", onChangeText),\n          onConfirm: onChangeText,\n          onBlur: (0,commonModule_prod.trackFn)(\"idCardNo\", onChangeText),\n          onFocus: onChangeText\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"button-row\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"button left\",\n          onClick: (0,commonModule_prod.trackFn)(\"cancel--f1fb7\", cancel),\n          children: \"\\u53D6\\u6D88\\u4FDD\\u9669\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"button right\",\n          onClick: (0,commonModule_prod.trackFn)(\"confirmParentInfo--bd120\", confirmParentInfo),\n          children: \"\\u83B7\\u5F97\\u4FDD\\u969C\"\n        })]\n      })]\n    })\n  });\n}\n/* harmony default export */ var components_InsuranceParentModel = ((0,Modal/* withModal */.LU)(InsuranceParentModel, {\n  style: {\n    backgroundColor: \"transparent\"\n  },\n  close: {\n    hidden: true\n  },\n  mask: {\n    enableClose: false // 点击遮照是否可以关闭\n  }\n}));\n// EXTERNAL MODULE: ./src/pages/bus/common/models/utils/buildXProductParams.js\nvar buildXProductParams = __webpack_require__(14020);\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/SaveView.js\n\n\nvar SaveView_excluded = [\"loading\"];\n\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-02-27 18:52:29\n * @LastEditTime: 2023-05-15 10:47:55\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/taro/book/component/SaveView.js\n * @\n */\n\n\n\n\n\n\n\nfunction SaveViewItem(_ref) {\n  var item = _ref.item,\n    index = _ref.index,\n    isLast = _ref.isLast;\n  var action = (0,react.useCallback)(function (e) {\n    item.action && item.action();\n  }, [item]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Cell/* default */.Z, {\n      title: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"title-row\",\n        children: [item.icon && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"icon\",\n          children: item.icon\n        }), Array.isArray(item.title) ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: item.title.map(function (ele, index) {\n            return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n              className: \"\".concat(ele.highLight ? \"highlight\" : \"\"),\n              children: ele.text\n            }, index);\n          })\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: item.title\n        })]\n      }),\n      titleClass: \"save-item-title\",\n      childContainerClass: \"desc-container\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"desc-view\",\n        onClick: (0,commonModule_prod.trackFn)(\"action--c08d2\", action),\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"price\",\n          children: item.desc\n        }), item.actionIcon && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"icon-font \".concat(item.actionIcon)\n        })]\n      })\n    }), !isLast && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"separator\"\n    })]\n  }, index);\n}\nfunction SaveView(_ref2) {\n  var loading = _ref2.loading,\n    restProps = (0,objectWithoutProperties/* default */.Z)(_ref2, SaveView_excluded);\n  var _store$useModel = store/* default.useModel */.Z.useModel(\"coupon\"),\n    _store$useModel2 = (0,slicedToArray/* default */.Z)(_store$useModel, 1),\n    couponState = _store$useModel2[0];\n  var _store$useModel3 = store/* default.useModel */.Z.useModel(\"bookParams\"),\n    _store$useModel4 = (0,slicedToArray/* default */.Z)(_store$useModel3, 1),\n    bookParams = _store$useModel4[0];\n  var savePrice = bookParams.savePrice;\n  var checkedCoupon = couponState.checkedCoupon,\n    userCheckNotUseCoupon = couponState.userCheckNotUseCoupon,\n    couponList = couponState.couponList,\n    hotelCoupon = couponState.hotelCoupon;\n  var display = (0,react.useMemo)(function () {\n    var deductionItems = [];\n    {\n      var title = \"\";\n      var icon = \"券\";\n      if (couponList.length > 0) {\n        title = \"请选择优惠券\";\n      } else {\n        title = \"无可用优惠券\";\n      }\n      var couponPrice = 0;\n      var desc = \"\";\n      if (checkedCoupon) {\n        title = checkedCoupon.displayName;\n        couponPrice = checkedCoupon.deductionAmount;\n        desc = \"-\\xA5\".concat(couponPrice);\n      }\n      if (userCheckNotUseCoupon) {\n        title = \"不使用优惠券\";\n      }\n      var toCouponPage = function toCouponPage() {\n        restProps.onToCouponPage && restProps.onToCouponPage();\n      };\n      deductionItems.push({\n        id: \"coupon-row\",\n        title: title,\n        icon: icon,\n        desc: desc,\n        action: toCouponPage,\n        actionIcon: \"icon-arrow-right\"\n      });\n    }\n    if (hotelCoupon && hotelCoupon.hotelCouponDesc) {\n      deductionItems.push({\n        id: \"hotel-coupon-row\",\n        title: hotelCoupon.hotelCouponDesc,\n        icon: \"赠\",\n        desc: \"\",\n        action: function action() {},\n        actionIcon: \"\"\n      });\n    }\n    return deductionItems;\n  }, [couponList, checkedCoupon, userCheckNotUseCoupon, hotelCoupon]);\n  return display.length > 0 ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"save-container-view\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Cell/* default */.Z, {\n      title: \"\\u4E0B\\u5355\\u4F18\\u60E0\",\n      titleClass: \"save-group-title\",\n      childContainerClass: \"title-container\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"desc-view\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: \"\\u5171\\u7701\\uFF1A\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          className: \"price\",\n          children: [\"-\\xA5\", savePrice]\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"separator\"\n    }), display.map(function (item, index) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(SaveViewItem, {\n        item: item,\n        index: index,\n        isLast: index === display.length - 1\n      });\n    })]\n  }) : null;\n}\n/* harmony default export */ var component_SaveView = (/*#__PURE__*/react.memo(SaveView));\n// EXTERNAL MODULE: ./src/pages/bus/components/XprocuctModal/index.tsx + 1 modules\nvar XprocuctModal = __webpack_require__(45130);\n;// CONCATENATED MODULE: ./src/pages/bus/common/models/utils/getRecommendModalPackage.js\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-03-03 10:48:19\n * @LastEditors: jhyi jhyi@trip.com\n * @LastEditTime: 2023-08-28 15:06:43\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/getRecommendModalPackage.js\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-03-03 10:48:19\n * @LastEditTime: 2023-03-03 13:43:49\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/common/models/utils/getRecommendModalPackage.js\n * @\n */\n\n\n\nfunction getRecommendModalPackage() {\n  var _store$getModelState = store/* default.getModelState */.Z.getModelState(\"bookSale\"),\n    recommendList = _store$getModelState.recommendList;\n  var _getAllSelectedSales = getAllSelectedSales(),\n    hasInsurance = _getAllSelectedSales.hasInsurance;\n  var _hasEasyRefund = hasEasyRefund(),\n    sales = _hasEasyRefund.sales;\n  if (recommendList && recommendList.length > 0) {\n    var recommend = null;\n    outerLoop: for (var i = 0; i < recommendList.length; i++) {\n      var recommendPackage = recommendList[i];\n      if (recommendPackage.isInsurance && hasInsurance) continue outerLoop;\n      for (var j = 0; j < sales.length; j++) {\n        var salePackage = sales[j];\n        if (salePackage.packageCode === recommendPackage.packageCode && !salePackage.selected) {\n          recommend = recommendPackage;\n          break outerLoop;\n        }\n      }\n    }\n    return recommend;\n  }\n  return null;\n}\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/withRecommend.js\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-03-03 11:33:59\n * @LastEditors: jhyi jhyi@trip.com\n * @LastEditTime: 2023-07-25 19:19:51\n * @FilePath: /taro-bus/src/pages/bus/taro/book/component/withRecommend.js\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n/**\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-03-03 11:33:59\n * @LastEditTime: 2023-03-03 13:20:56\n * @LastEditors: jhyi jhyi@trip.com\n * @Description:\n * @FilePath: /taro-bus/src/pages/bus/taro/book/component/withRecommend.js\n * @\n */\n\n\n\n\nfunction withRecommend(action, next) {\n  var recommend = getRecommendModalPackage();\n  if (recommend) {\n    var modalId = XprocuctModal/* default.show */.Z.show({\n      data: recommend,\n      fromPage: \"book\",\n      showCloseIcon: true,\n      onCancelClick: function onCancelClick() {\n        XprocuctModal/* default.hide */.Z.hide(modalId);\n        next();\n      },\n      onConfirmClick: function onConfirmClick() {\n        XprocuctModal/* default.hide */.Z.hide(modalId);\n        action(recommend);\n      },\n      onPressDetail: function onPressDetail(item) {\n        var _ref = item || {},\n          descUrl = _ref.descUrl,\n          title = _ref.title,\n          channelName = _ref.channelName;\n        if (descUrl) {\n          var _url = common/* __global.env */.z4.env === \"uat\" ? \"https://m.uat.qa.nt.ctripcorp.com\" : \"https://m.ctrip.com\";\n          var url = \"\".concat(_url, \"/webapp/bus/support?hideNavbar=1&seo=0&title=\").concat(title, \"&url=\").concat(encodeURIComponent(descUrl));\n          common/* BusRouter.navigateTo */.cg.navigateTo(url, {}, false);\n        }\n      },\n      onClose: function onClose() {\n        console.log(\"close----\", close);\n      }\n    }, {\n      // close: { hidden: true },\n      mask: {\n        enableClose: false,\n        // 点击遮照是否可以关闭\n        callback: function callback() {}\n      }\n    });\n  } else {\n    next();\n  }\n}\n// EXTERNAL MODULE: ./src/pages/bus/common/models/utils/getBusTagInfo.js\nvar getBusTagInfo = __webpack_require__(28612);\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/component/BookPageComponent.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar BookPageComponent_withTrace = common/* ubt.withTrace */.uM.withTrace;\n\n\n\n\n\n\n\nvar _getSafeArea = (0,utils_systemInfo/* getSafeArea */.R2)(),\n  BookPageComponent_top = _getSafeArea.top,\n  bottom = _getSafeArea.bottom;\nvar navbarHeight = (0,utils_systemInfo/* getNavbarHeight */.tL)();\nvar safeArea = {\n  \"--safe-padding-bottom\": bottom + \"px\",\n  \"--status-bar-height\": BookPageComponent_top + \"px\",\n  \"--nav-bar-height\": navbarHeight + \"px\"\n};\nfunction BookPageComponent(_ref) {\n  var params = _ref.params;\n  var _useState = (0,react.useState)(\"\"),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    scrollIntoView = _useState2[0],\n    setScrollIntoView = _useState2[1];\n  var scrollToView = (0,react.useCallback)(function (id) {\n    setScrollIntoView(id);\n    setTimeout(function () {\n      setScrollIntoView();\n    }, 1000);\n  }, []);\n  var _useState3 = (0,react.useState)(0),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _store$useModel = store/* default.useModel */.Z.useModel(\"bookParams\"),\n    _store$useModel2 = (0,slicedToArray/* default */.Z)(_store$useModel, 2),\n    bookParams = _store$useModel2[0],\n    dispatchBookParams = _store$useModel2[1];\n  var _store$useModel3 = store/* default.useModel */.Z.useModel(\"passengers\"),\n    _store$useModel4 = (0,slicedToArray/* default */.Z)(_store$useModel3, 2),\n    passengersModel = _store$useModel4[0],\n    dispatchPassengers = _store$useModel4[1];\n  var _store$useModel5 = store/* default.useModel */.Z.useModel(\"bookSale\"),\n    _store$useModel6 = (0,slicedToArray/* default */.Z)(_store$useModel5, 2),\n    bookSaleModel = _store$useModel6[0],\n    dispatchBookSale = _store$useModel6[1];\n  var _store$useModel7 = store/* default.useModel */.Z.useModel(\"coupon\"),\n    _store$useModel8 = (0,slicedToArray/* default */.Z)(_store$useModel7, 2),\n    couponModel = _store$useModel8[0],\n    dispatchCoupon = _store$useModel8[1];\n  (0,react.useLayoutEffect)(function () {\n    var urlData = common/* URLUtil.parseURLParam */.WE.parseURLParam(params);\n    (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n      var detailD, bookParamsState, busDetail, phoneNumber, _ref3, selectX, detail, _buildXProductParams, couponParams, exclusionPackageCode, exclusionProducts, channelId, saleConfig;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return dispatchBookParams.getBusDetail(urlData);\n          case 2:\n            detailD = _context.sent;\n            if (detailD) {\n              _context.next = 5;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 5:\n            _context.next = 7;\n            return dispatchPassengers.useCommonPassenger();\n          case 7:\n            _context.next = 9;\n            return dispatchBookParams.getStoredPhoneNumber();\n          case 9:\n            setLoading(1);\n            bookParamsState = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n            busDetail = bookParamsState.busDetail, phoneNumber = bookParamsState.phoneNumber;\n            phoneNumberRef.current = phoneNumber;\n            _ref3 = busDetail || {}, selectX = _ref3.selectX, detail = _ref3.detail;\n            _buildXProductParams = (0,buildXProductParams/* default */.Z)({\n              selectX: selectX,\n              detail: detail\n            }), couponParams = _buildXProductParams.couponParams, exclusionPackageCode = _buildXProductParams.exclusionPackageCode, exclusionProducts = _buildXProductParams.exclusionProducts, channelId = _buildXProductParams.channelId;\n            _context.next = 17;\n            return dispatchBookSale.getBookActivityList((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, urlData), {}, {\n              exclusionPackageCode: exclusionPackageCode,\n              channelId: channelId,\n              selectX: selectX\n            }));\n          case 17:\n            saleConfig = _context.sent;\n            setLoading(2);\n            if (saleConfig && saleConfig.salePackageList && saleConfig.salePackageList.length > 0) {\n              setTimeout(function () {\n                setLoading(3);\n              }, 200);\n            } else {\n              setLoading(3);\n            }\n            _context.next = 22;\n            return dispatchCoupon.getCouponList(couponParams);\n          case 22:\n            _context.next = 24;\n            return dispatchCoupon.getHotelCoupon();\n          case 24:\n            setLoading(4);\n          case 25:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n    (0,taroUtils/* selectorQueryFields */.M)(\"page-container\", {\n      node: true,\n      context: true\n    }).then(function (res) {\n      console.log(\"page-elee----\", res);\n    });\n    common/* BusShared.watch */.fd.watch(\"usedCoupon\", function (data) {\n      if (Array.isArray(data)) {\n        if (data.length === 0) {\n          dispatchCoupon.unSelectCoupon();\n        } else {\n          dispatchCoupon.onSelectCoupon(data[0]);\n        }\n      }\n    });\n    return function () {\n      common/* BusShared.removeWatch */.fd.removeWatch(\"usedCoupon\");\n      dispatchCoupon.clear();\n      dispatchBookSale.clear();\n      dispatchBookParams.clear();\n      dispatchPassengers.clear();\n    };\n  }, [params]);\n  var passengerList = passengersModel.passengerList,\n    showPsgLength = passengersModel.showPsgLength,\n    selPassengerList = passengersModel.selPassengerList,\n    maxSaleTicketNumber = passengersModel.maxSaleTicketNumber,\n    isSaleChildTicket = passengersModel.isSaleChildTicket,\n    isSaleTakeChildTicket = passengersModel.isSaleTakeChildTicket,\n    adultCount = passengersModel.adultCount,\n    childCount = passengersModel.childCount,\n    takeChildCount = passengersModel.takeChildCount;\n  var _bookParams$busDetail = bookParams.busDetail,\n    busDetail = _bookParams$busDetail === void 0 ? {} : _bookParams$busDetail,\n    phoneNumber = bookParams.phoneNumber,\n    showPriceDetail = bookParams.showPriceDetail,\n    confirmChildInfo = bookParams.confirmChildInfo,\n    showConfirmChildInfo = bookParams.showConfirmChildInfo,\n    confirmChildInfoMessage = bookParams.confirmChildInfoMessage,\n    enableBackupLine = bookParams.enableBackupLine;\n  var phoneNumberRef = (0,react.useRef)(\"\");\n  var checkedCoupon = couponModel.checkedCoupon;\n  var _busDetail$detail = busDetail.detail,\n    detail = _busDetail$detail === void 0 ? {} : _busDetail$detail,\n    selectX = busDetail.selectX;\n  var insuranceList = bookSaleModel.insuranceList,\n    salePackageList = bookSaleModel.salePackageList;\n  var title = busDetail.title;\n  (0,react.useEffect)(function () {\n    dispatchBookParams.clear();\n  }, []);\n  (0,react.useEffect)(function () {\n    dispatchCoupon.updateCouponList();\n  }, [selPassengerList, selPassengerList, detail, selectX, insuranceList, salePackageList]);\n  useUpdateTotalPrice([selPassengerList, detail, selectX, insuranceList, salePackageList, checkedCoupon]);\n  var onPhoneNumberChange = (0,react.useCallback)( /*#__PURE__*/function () {\n    var _ref4 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2(e) {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return dispatchBookParams.update({\n              phoneNumber: e.detail.value\n            });\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function (_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }(), []);\n  var onFocusPhoneNumber = (0,react.useCallback)(BookPageComponent_withTrace(function (e) {\n    return onPhoneNumberChange(e);\n  }), []);\n  var onClickBack = (0,react.useCallback)(function () {\n    common/* cwx.navigateBack */.Y8.navigateBack();\n    //TODO 挽回弹窗\n  }, []);\n  var _useState5 = (0,react.useState)(false),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    showPassengerPicker = _useState6[0],\n    setShowPassengerPicker = _useState6[1];\n  var toggleShowPriceDetail = (0,react.useCallback)(function () {\n    dispatchBookParams.toggleShowPriceDetail();\n  }, []);\n  var showServiceFeeExplain = (0,react.useCallback)( /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee3() {\n    var serviceFeeExplainData;\n    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return dispatchBookParams.getServiceFeeExplain();\n        case 2:\n          serviceFeeExplainData = _context3.sent;\n          components_ServiceFeeModal.show({\n            serviceFeeExplainData: serviceFeeExplainData\n          }, {\n            enableClose: true,\n            callback: function callback() {}\n          });\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  })), []);\n  var openDescPage = (0,react.useCallback)(function (url, title) {\n    common/* BusRouter.navigateTo */.cg.navigateTo(url, {\n      title: title || \"产品说明\",\n      hideNavbar: 1,\n      popup: \"close\"\n    }, false);\n  }, []);\n  var toggleShowPassengerPicker = (0,react.useCallback)(function () {\n    setShowPassengerPicker(!showPassengerPicker);\n  }, [showPassengerPicker]);\n  var closePassengerPicker = (0,react.useCallback)(function () {\n    setShowPassengerPicker(false);\n  }, []);\n  var confirmPassengerPicker = (0,react.useCallback)(function (allPassengerList) {\n    setShowPassengerPicker(false);\n    dispatchPassengers.resetSelectedPassengers(allPassengerList);\n  }, []);\n  var toEditPassenger = (0,react.useCallback)(function (pas, _ref6) {\n    var showOcr = _ref6.showOcr,\n      autoScan = _ref6.autoScan;\n    var state = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n    var _state$busDetail = state.busDetail,\n      busDetail = _state$busDetail === void 0 ? {} : _state$busDetail;\n    var detail = busDetail.detail;\n    var _detail$buyTicketRule = detail.buyTicketRule,\n      rule = _detail$buyTicketRule === void 0 ? {} : _detail$buyTicketRule,\n      childTicketUnitSalePrice = detail.childTicketUnitSalePrice,\n      ticketUnitSalePrice = detail.ticketUnitSalePrice;\n    var supportPassengerIdentityTypes = rule && rule.supportPassengerIdentityTypes || [];\n    var json = JSON.stringify(supportPassengerIdentityTypes);\n    var params = {\n      ticketChild: rule.isSaleChildTicket ? 1 : 0,\n      ticketTakeChild: rule.isSaleTakeChildTicket ? 1 : 0,\n      supportPassengerTypes: encodeURIComponent(json),\n      childTicketUnitSalePrice: ticketUnitSalePrice || 0,\n      ticketUnitSalePrice: ticketUnitSalePrice || 0,\n      showOcr: showOcr ? 1 : 0,\n      autoScan: autoScan ? 1 : 0\n    };\n    if (pas) {\n      var key = common/* BusShared.genKey */.fd.genKey(\"passenger\");\n      common/* BusShared.save */.fd.save(key, pas);\n      params.savePasKey = key;\n    }\n    common/* BusRouter.navigateTo */.cg.navigateTo(\"newPassenger\", params);\n  }, []);\n  var onAddPassenger = (0,react.useCallback)(function (params) {\n    toEditPassenger(null, (0,objectSpread2/* default */.Z)({}, params));\n  }, []);\n  var onEditPassenger = (0,react.useCallback)(function (item, index) {\n    toEditPassenger(item, {\n      showOcr: false\n    });\n  }, []);\n  var onShowMore = (0,react.useCallback)(function () {\n    //\n\n    toggleShowPassengerPicker();\n  }, [toggleShowPassengerPicker]);\n  var onClickTag = (0,react.useCallback)(function (item) {\n    console.log(item);\n    var tagInfos = (0,getBusTagInfo/* default */.ZP)(item);\n    if (tagInfos.length > 0) {\n      BusTagModal/* default.show */.Z.show({\n        tagInfos: tagInfos\n      }, {\n        close: {\n          hidden: true\n        },\n        mask: {\n          enableClose: true,\n          // 点击遮照是否可以关闭\n\n          callback: function callback() {}\n        }\n      });\n    }\n  }, []);\n  var onClickMap = (0,react.useCallback)(function (station) {\n    console.log(station);\n    taro_default().openLocation({\n      latitude: +station.amapY,\n      longitude: +station.amapX,\n      address: station.address || \"\",\n      name: station.name || \"\",\n      scale: 15\n    });\n  }, []);\n  var onClickDesc = (0,react.useCallback)(function () {\n    var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n    var busDetail = bookParams.busDetail;\n    BusDesc.show({\n      headerImg: \"https://pages.c-ctrip.com/bus-images/busapp/serviceensure/service_ensure_header.png\",\n      ticketExplainJsonData: busDetail.ticketExplainJsonData,\n      returnRuleJsonData: busDetail.returnRuleJsonData,\n      // selPassengerList: selPassengerList,\n      // refundPackageList: refundPackageList,\n      fromStationInfo: busDetail.detail.fromStationInfo,\n      tabData: [{\n        id: \"cancellation_rules\",\n        label: \"退改规则\"\n      }, {\n        id: \"buy_instruction\",\n        label: \"购取说明\"\n      }],\n      gotoMap: onClickMap\n    }, {\n      mask: {\n        enableClose: true,\n        callback: function callback() {}\n      }\n    });\n  }, []);\n\n  // const setPageRef = (ref) => {\n  //     console.log(\"page-ref--\", ref);\n  // };\n\n  var toOrder = (0,react.useCallback)(function (_ref7) {\n    var orderNumber = _ref7.orderNumber,\n      paySuccess = _ref7.paySuccess,\n      ticketPrice = _ref7.ticketPrice,\n      payType = _ref7.payType;\n    var params = {\n      oid: orderNumber,\n      showCoupon: 1,\n      fromPage: paySuccess ? \"booking\" : \"\",\n      ticketUnitOriginalPrice: ticketPrice,\n      payType: payType\n    };\n    common/* BusRouter.redirectTo */.cg.redirectTo(\"orderdetail\", params, true, 5);\n  }, []);\n  var onCheckChildConfirmInfo = (0,react.useCallback)(function () {\n    dispatchBookParams.toggleCheckConfirmChildInfo();\n  }, []);\n  var toCouponPage = (0,react.useCallback)(function () {\n    var couponState = store/* default.getModelState */.Z.getModelState(\"coupon\");\n    var checkedCoupon = couponState.checkedCoupon,\n      couponList = couponState.couponList;\n    common/* BusShared.save */.fd.save(\"couponList\", couponList);\n    common/* BusShared.save */.fd.save(\"usedCoupon\", checkedCoupon);\n    common/* BusRouter.navigateTo */.cg.navigateTo(\"coupon\", {\n      couponList: \"couponList\",\n      usedCoupon: \"usedCoupon\"\n    });\n  }, []);\n  var toggleBackupLine = (0,react.useCallback)(BookPageComponent_withTrace(function () {\n    // dispatchBookParams.toggleBackupLine();\n  }), []);\n  var inLoading = (0,react.useRef)(false);\n  var submit = (0,react.useCallback)( /*#__PURE__*/function () {\n    var _ref8 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee8(e) {\n      var validate, addOrder, parentInfo, modelID;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee8$(_context8) {\n        while (1) switch (_context8.prev = _context8.next) {\n          case 0:\n            if (!(loading < 1)) {\n              _context8.next = 2;\n              break;\n            }\n            return _context8.abrupt(\"return\");\n          case 2:\n            validate = validateBookInput();\n            addOrder = /*#__PURE__*/function () {\n              var _ref9 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee4() {\n                var params, token;\n                return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee4$(_context4) {\n                  while (1) switch (_context4.prev = _context4.next) {\n                    case 0:\n                      if (!inLoading.current) {\n                        _context4.next = 3;\n                        break;\n                      }\n                      common/* cwx.showToast */.Y8.showToast({\n                        title: \"请勿重复操作\",\n                        icon: \"none\",\n                        duration: 2000\n                      });\n                      return _context4.abrupt(\"return\");\n                    case 3:\n                      inLoading.current = true;\n                      setTimeout(function () {\n                        // 强制解锁避免卡死\n                        inLoading.current = false;\n                      }, 10000);\n                      _context4.next = 7;\n                      return buildOrderParams(e);\n                    case 7:\n                      params = _context4.sent;\n                      token = (0,commonModule_prod.getToken)() || \"def\";\n                      console.log(\"coffeebean-token-------\".concat(token));\n                      params.transId = token;\n                      common/* orderUtils.addOrder */.oG.addOrder((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n                        optWrap: commonModule_prod.wrapOpt\n                      })).then(function (order) {\n                        dispatchBookParams.storePhoneNumber();\n                        if (order.orderNumber) {\n                          common/* orderUtils.pay */.oG.pay((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, order), {}, {\n                            optWrap: commonModule_prod.wrapOpt\n                          })).then(function (res) {\n                            common/* cwx.showModal */.Y8.showModal({\n                              title: \"提示\",\n                              content: \"支付成功\",\n                              success: function success() {\n                                var bookParams = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n                                var _bookParams$busDetail2 = bookParams.busDetail,\n                                  busDetail = _bookParams$busDetail2 === void 0 ? {} : _bookParams$busDetail2;\n                                var _busDetail$detail2 = busDetail.detail,\n                                  detail = _busDetail$detail2 === void 0 ? {} : _busDetail$detail2;\n                                var ticketPrice = detail.ticketUnitSalePrice;\n                                toOrder({\n                                  orderNumber: order.orderNumber,\n                                  paySuccess: true,\n                                  ticketPrice: ticketPrice\n                                });\n                              }\n                            });\n                            inLoading.current = false;\n                          }).catch(function (err) {\n                            console.log(err);\n                            //券被用掉了，要刷新\n                            dispatchCoupon.getCouponList();\n                            common/* cwx.showModal */.Y8.showModal({\n                              title: \"提示\",\n                              content: err.message || err.type == 0 ? \"支付取消\" : \"支付失败\"\n                            });\n                            inLoading.current = false;\n                          });\n                        } else {\n                          common/* cwx.showModal */.Y8.showModal({\n                            title: \"提示\",\n                            content: order.message || \"下单失败\"\n                          });\n                          inLoading.current = false;\n                        }\n                      });\n                    case 12:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }, _callee4);\n              }));\n              return function addOrder() {\n                return _ref9.apply(this, arguments);\n              };\n            }();\n            if (!(validate && validate.code == 0)) {\n              _context8.next = 8;\n              break;\n            }\n            withRecommend( /*#__PURE__*/function () {\n              var _ref10 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee5(recommend) {\n                return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee5$(_context5) {\n                  while (1) switch (_context5.prev = _context5.next) {\n                    case 0:\n                      _context5.next = 2;\n                      return dispatchBookSale.addRecommendPackage(recommend);\n                    case 2:\n                      addOrder();\n                    case 3:\n                    case \"end\":\n                      return _context5.stop();\n                  }\n                }, _callee5);\n              }));\n              return function (_x3) {\n                return _ref10.apply(this, arguments);\n              };\n            }(), addOrder);\n            _context8.next = 24;\n            break;\n          case 8:\n            _context8.t0 = validate.code;\n            _context8.next = _context8.t0 === 1 ? 11 : _context8.t0 === 2 ? 14 : _context8.t0 === 5 ? 17 : _context8.t0 === 6 ? 20 : 23;\n            break;\n          case 11:\n            scrollToView(\"passenger-container-view\");\n            common/* cwx.showToast */.Y8.showToast({\n              title: validate.message,\n              icon: \"none\",\n              duration: 2000\n            });\n            return _context8.abrupt(\"break\", 24);\n          case 14:\n            scrollToView(\"phone-input-view\");\n            common/* cwx.showToast */.Y8.showToast({\n              title: validate.message,\n              icon: \"none\",\n              duration: 2000\n            });\n            return _context8.abrupt(\"break\", 24);\n          case 17:\n            parentInfo = dispatchBookParams.getParentInfo();\n            modelID = components_InsuranceParentModel.show({\n              message: validate.message,\n              idCardNo: parentInfo.parentIdNumber,\n              name: parentInfo.parentName,\n              onCancel: function () {\n                var _onCancel = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee6() {\n                  return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee6$(_context6) {\n                    while (1) switch (_context6.prev = _context6.next) {\n                      case 0:\n                        components_InsuranceParentModel.hide(modelID);\n                        _context6.next = 3;\n                        return dispatchBookSale.cancelAllInsurance();\n                      case 3:\n                        submit(e);\n                      case 4:\n                      case \"end\":\n                        return _context6.stop();\n                    }\n                  }, _callee6);\n                }));\n                function onCancel() {\n                  return _onCancel.apply(this, arguments);\n                }\n                return onCancel;\n              }(),\n              onConfirm: function () {\n                var _onConfirm = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee7(_ref11) {\n                  var idCardNo, name, cNameReg;\n                  return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee7$(_context7) {\n                    while (1) switch (_context7.prev = _context7.next) {\n                      case 0:\n                        idCardNo = _ref11.idCardNo, name = _ref11.name;\n                        name = name.replace(/[^\\u4e00-\\u9fa5]/gi, \"\");\n                        cNameReg = /^[\\u4e00-\\u9fa5]+[\\u4e00-\\u9fa5]{1,14}$/;\n                        if (cNameReg.test(name)) {\n                          _context7.next = 6;\n                          break;\n                        }\n                        common/* cwx.showToast */.Y8.showToast({\n                          title: \"请输入正确名字\",\n                          icon: \"none\",\n                          duration: 2000\n                        });\n                        return _context7.abrupt(\"return\");\n                      case 6:\n                        if ((0,passsengerUtil/* isIdCard */.tR)(idCardNo)) {\n                          _context7.next = 9;\n                          break;\n                        }\n                        common/* cwx.showToast */.Y8.showToast({\n                          title: \"请输入正确身份证号\",\n                          icon: \"none\",\n                          duration: 2000\n                        });\n                        return _context7.abrupt(\"return\");\n                      case 9:\n                        components_InsuranceParentModel.hide(modelID);\n                        _context7.next = 12;\n                        return dispatchBookParams.setParentInfo({\n                          idCardNo: idCardNo,\n                          name: name\n                        });\n                      case 12:\n                        submit(e);\n                      case 13:\n                      case \"end\":\n                        return _context7.stop();\n                    }\n                  }, _callee7);\n                }));\n                function onConfirm(_x4) {\n                  return _onConfirm.apply(this, arguments);\n                }\n                return onConfirm;\n              }()\n            });\n            return _context8.abrupt(\"break\", 24);\n          case 20:\n            dispatchBookParams.showConfirmChildInfo(validate.message);\n            scrollToView(\"confirm-info-view\");\n            return _context8.abrupt(\"break\", 24);\n          case 23:\n            common/* cwx.showModal */.Y8.showModal({\n              title: \"提示\",\n              showCancel: false,\n              content: validate.message\n            });\n          case 24:\n          case \"end\":\n            return _context8.stop();\n        }\n      }, _callee8);\n    }));\n    return function (_x2) {\n      return _ref8.apply(this, arguments);\n    };\n  }(), [loading]);\n  var bookParamsState = store/* default.getModelState */.Z.getModelState(\"bookParams\");\n  var currentPhoneNumber = bookParamsState.phoneNumber;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"page-container\",\n    style: safeArea,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(NavBar/* default */.Z, {\n      onBack: onClickBack,\n      title: title\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"page-placeholder\"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(component_BusInfoView, {\n      detail: detail,\n      onClickTag: (0,commonModule_prod.trackFn)(\"onClickTag--c10d9\", onClickTag),\n      onClickMap: (0,commonModule_prod.trackFn)(\"onClickMap--c10d9\", onClickMap),\n      onClickDesc: (0,commonModule_prod.trackFn)(\"onClickDesc--c10d9\", onClickDesc)\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.ScrollView, {\n      id: \"book-page-scroll-view\",\n      className: \"page-content\",\n      scrollY: true,\n      enhanced: true,\n      scrollWithAnimation: true,\n      scrollIntoView: scrollIntoView,\n      onScroll: (0,commonModule_prod.trackFn)(\"book-page-scroll-view\"),\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"page-placeholder\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"passenger-container-view\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(component_PassengerView, {\n          className: \"\".concat(scrollIntoView === \"passenger-container-view\" ? \"shake\" : \"\"),\n          loading: loading,\n          passengerList: passengerList,\n          showPsgLength: showPsgLength,\n          onEditPassenger: onEditPassenger,\n          onShowMore: onShowMore\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(Cell/* default */.Z, {\n          title: \"取票电话\",\n          id: \"phone-input-view\",\n          className: \"\".concat(scrollIntoView === \"phone-input-view\" ? \"shake\" : \"\"),\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Input, {\n            id: ubtKeys/* default.book.BCWBooking_PassengerChange_PhoneNO */.Z.book.BCWBooking_PassengerChange_PhoneNO,\n            placeholder: \"\\u8BF7\\u586B\\u5199\\u53D6\\u7968\\u624B\\u673A\\u53F7\\u7801\",\n            maxlength: 11,\n            cursor: -1,\n            type: \"number\",\n            confirmType: \"done\",\n            value: currentPhoneNumber,\n            controlled: true\n            // onChange={onPhoneNumberChange}\n            // onInput={onPhoneNumberChange}\n            ,\n            onConfirm: onPhoneNumberChange,\n            onBlur: (0,commonModule_prod.trackFn)(ubtKeys/* default.book.BCWBooking_PassengerChange_PhoneNO */.Z.book.BCWBooking_PassengerChange_PhoneNO, onPhoneNumberChange),\n            onFocus: onFocusPhoneNumber\n          })\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(component_InsuranceComponent, {\n        loading: loading,\n        onClickClause: (0,commonModule_prod.trackFn)(\"book-page-scroll-view--openDescPage--a6646\", openDescPage)\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(component_SalePackageComponent, {\n        onClickDesc: (0,commonModule_prod.trackFn)(\"book-page-scroll-view--openDescPage--2f748\", openDescPage),\n        loading: loading\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(component_SaveView, {\n        loading: loading,\n        onToCouponPage: toCouponPage\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_ConfirmChildInfo, {\n        className: \"\".concat(scrollIntoView === \"confirm-info-view\" ? \"shake\" : \"\"),\n        showConfirmChildInfo: showConfirmChildInfo,\n        confirmChildInfo: confirmChildInfo,\n        confirmChildInfoMessage: confirmChildInfoMessage,\n        onCheck: onCheckChildConfirmInfo\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(component_TipDesc, {\n        loading: loading\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"slogan-container\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"slogan ctripSlogan\"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"padding-bottom\"\n      })]\n    }), showPassengerPicker && /*#__PURE__*/(0,jsx_runtime.jsx)(PassengerPicker, {\n      onClose: closePassengerPicker,\n      onConfirm: confirmPassengerPicker,\n      onEditPassenger: onEditPassenger,\n      onAddPassenger: onAddPassenger\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(component_BottomBar, {\n      loading: loading,\n      onSubmit: submit,\n      showServiceFeeExplain: showServiceFeeExplain,\n      toggleShowPriceDetail: toggleShowPriceDetail\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/bus/taro/book/index.js\n\n\n\n\nvar _class;\n\n/*\n * @Author: jhyi jhyi@trip.com\n * @Date: 2023-03-20 21:56:01\n * @LastEditors: jhyi jhyi@trip.com\n * @LastEditTime: 2023-08-28 15:09:03\n * @FilePath: /taro-bus/src/pages/bus/taro/book/index.js\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\n\n\n\n\n\n\n\nvar Book = (0,store/* withStore */.J)(_class = (0,Modal/* injectModal */._d)(_class = /*#__PURE__*/function (_Component) {\n  (0,inherits/* default */.Z)(Book, _Component);\n  var _super = (0,createSuper/* default */.Z)(Book);\n  function Book(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Book);\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n  (0,createClass/* default */.Z)(Book, [{\n    key: \"render\",\n    value: function render() {\n      var navbarData = this.state.navbarData;\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(BookPageComponent, {\n        navbarData: navbarData,\n        params: this.props.pageQuery\n      });\n    }\n  }]);\n  return Book;\n}(react.Component)) || _class) || _class;\n/* harmony default export */ var book = (Book);\n;// CONCATENATED MODULE: ./src/pages/bus/taro/book/index.js\n\n\nvar config = {\"navigationStyle\":\"custom\",\"navigationBarTitleText\":\"班次详情\",\"enablePullDownRefresh\":false,\"backgroundColor\":\"#f4f4f4\",\"navigationBarTextStyle\":\"black\",\"backgroundTextStyle\":\"dark\",\"navigationBarBackgroundColor\":\"#ffffff\"};\n\n\nvar inst = Page((0,runtime_esm.createPageConfig)(book, 'pages/bus/taro/book/index', {root:{cn:[]}}, config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/ext/global\");\n\n/***/ }),\n\n/***/ 39270:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../agreementConfig\");\n\n/***/ }),\n\n/***/ 33675:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 76678:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/BusDetail.js\");\n\n/***/ }),\n\n/***/ 3609:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/BusRouter.js\");\n\n/***/ }),\n\n/***/ 91525:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/BusShared.js\");\n\n/***/ }),\n\n/***/ 23946:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/PromiseBuilder.js\");\n\n/***/ }),\n\n/***/ 93935:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/Storage.js\");\n\n/***/ }),\n\n/***/ 13044:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/TaskScheduler.js\");\n\n/***/ }),\n\n/***/ 23600:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/URLUtil.js\");\n\n/***/ }),\n\n/***/ 84231:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/Utils.js\");\n\n/***/ }),\n\n/***/ 44750:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/bus.pageConfig.js\");\n\n/***/ }),\n\n/***/ 93125:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/busConfig.js\");\n\n/***/ }),\n\n/***/ 87809:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/createEventManager.js\");\n\n/***/ }),\n\n/***/ 57798:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/date.js\");\n\n/***/ }),\n\n/***/ 93850:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/orderUtils.js\");\n\n/***/ }),\n\n/***/ 95524:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/productservice\");\n\n/***/ }),\n\n/***/ 57897:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/ubt.js\");\n\n/***/ }),\n\n/***/ 62408:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../pages/bus/commons/utils/traceStep.js\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [2655,2107,1216,8592], function() { return __webpack_exec__(67402); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["require","wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","runtime_esm","classCallCheck","createClass","inherits","createSuper","commonModule_prod","react","store","regeneratorRuntime","objectSpread2","asyncToGenerator","slicedToArray","taro","taro_default","n","components_react","BusTagModal","common","jsx_runtime","RollCharDisplay","_ref","_char","char","_useState","useState","_useState2","Z","current","setCurrent","lastValue","useRef","_useReducer","useReducer","state","action","charList","animationDirection","inAnimation","_useReducer2","_useReducer2$","setAnimationData","timerRef","showCharListAnimation","useCallback","animationForward","value","clearTimeout","setTimeout","useEffect","last","codePoint","codePointAt","nowCodePoint","point","String","fromCodePoint","_point","jsxs","View","className","children","jsx","Text","concat","map","item","RollCharDisplayMemo","memo","RollNumber","_ref2","_ref2$value","_useState3","_useState4","displayCharArray","setCharArray","useLayoutEffect","charArray","split","index","component_RollNumber","BottomBar","DetailRow","title","desc","tag","showExplain","_ref$isTitle","isTitle","_ref$type","type","icon","onClick","trackFn","PriceDetail","priceList","toggleShowPriceDetail","showPriceDetail","showServiceFeeExplain","priceGroup","totalPrice","list","priceItem","idx","name","undefined","priceInfo","components_PriceDetail","ubtKeys","toConsumableArray","getAllSelectedSales","bookParams","getModelState","bookSales","_bookParams$busDetail","busDetail","selectX","insuranceList","salePackageList","sales","length","filter","open","selected","cancel","packageCode","selectedSales","hasInsurance","needCalX","i","isInsurance","withTrace","uM","PriceBar","onSubmit","loading","_store$useModel","useModel","_store$useModel2","_store$useModel3","_store$useModel4","bookSaleModel","totalOriginPrice","savePrice","phoneNumber","confirmChildInfo","showConfirmChildInfo","confirmChildInfoMessage","detail","isPresale","showAfterPay","useMemo","_getAllSelectedSales","onPay","onAfterPay","clickShowPriceDetail","holdPlace","id","book","BCWBooking_Pay_detail","BCWBooking_Pay_CommonPay","BCWBooking_Pay_CreditPay","BCWBooking_Pay","component_BottomBar","objectWithoutProperties","_excluded","Pending","Resolved","checkFunction","v","checker","Loadable","Component","_ref$requiredMap","requiredMap","Loading","LoadableComponent","forwardRef","props","ref","setState","instanceRequiredKeyMap","loadingView","restProps","instanceRequiredKeys","Object","keys","mergedInstanceRequiredKeyMap","allRequiredKeys","allRequiredKeyLength","allChecked","key","isChecked","setRef","displayName","Skeletonable","mockProps","console","log","BusInfoView_withTrace","styles","StationInfo","_ref$fromStation","fromStation","_ref$toStationDisplay","toStationDisplay","isTwoLine","BusInfoView","onClickTag","onClickMap","onClickDesc","mock","fromTime","startTime","endTime","costTime","fromDate","shiftType","_detail$fromStationIn","toStationShow","toStation","fromStationInfo","_detail$busDetailTagL","busDetailTagList","passStationList","isWayStation","transferPorts","formatDate","displayTime","weekDay","showPassText","busTagName","showPassStationList","timeDesc","showTagDesc","clickMap","clickDesc","amapX","amapY","BCWBooking_TripInfo_StationMap","Image","src","BCWBooking_TripInfo_Notice","style","descLine","marginRight","numberOfLines","LoadableBusInfo","component_BusInfoView","ChannelHeaderView","subTitle","color","headerImage","components_ChannelHeaderView","InsuranceItem","onSelectedInsurance","onSelected","_useMemo","packageName","_item$extraMap","extraMap","insuranceIconUrl","testID","showTagsLength","iconUrl","newTag","packageTitle","channelType","newTagColors","colors","JSON","parse","tagBackground","join","insuranceTitle","fillinsuranceTitle","payShowPrice","_useMemo$tagList","tagList","BCWBooking_XProduct_BaseGuarantee","buildWith","background","itemTag","text","highLight","ClauseView","insurance","channelDesc","onClickClause","_ref$showPre","showPre","insuranceClause","localClause","leftClause","url","rightClause","emptyObj","InsuranceView","_ref$insuranceList","selectedIndex","_ref$channelDesc","bizType","currentInsurance","ins","components_InsuranceView","InsuranceComponent","bookSalesDispatcher","insuranceHeaderConfig","insuranceChannelDesc","insurances","selectInsurance","clause","image","LoadableInsurance","component_InsuranceComponent","checkDeletable","pas","adultCount","childCount","takeChildCount","isChildTicket","isTakeChildTicket","hasChild","judgeTogglePassenger","buyTicketRule","errMessage","canDelete","code","message","isSaleTakeChildTicket","supportTakeChildNumber","isSaleChildTicket","maxSaleTicketNumber","Cell","PassengerView_withTrace","PassengerRow","passenger","onToggleSelectPassenger","onEdit","toggleSelectPassenger","edit","idcard","no","ptypeText","isSelf","BCWBooking_PassengerChange_EditPassenger","PassengerView","showPsgLength","passengerList","onEditPassenger","onShowMore","_ref2$className","passengersModel","dispatchPassengers","passengers","_detail$buyTicketRule","_judgeTogglePassenger","Y8","showModal","content","showCancel","success","res","togglePassengerSelected","_passengersModel$maxS","_passengersModel$adul","_passengersModel$chil","displayPassengerList","slice","showMore","Fragment","BCWBooking_TripInfo_AddPassenger","LoadablePassengerView","cQ","randomString","component_PassengerView","SaleItem_withTrace","SaleItem","onSelectPackage","renderTag","selectPackage","_item$extraInfo","extraInfo","showPrice","sellType","discountServiceFee","displayQuality","iconUrlDisplay","subTitleImageUrlDisplay","selectedSubtitledUrl","selectedIconUrl","subTitleImageUrl","displayIconUrl","displaySubTitleImageUrl","checked","_useMemo2","lineThroughPrice","isFree","displayPrice","parseInt","originPrice","mode","BCWBooking_XProduct","SalePackageView_SaleItem","SalePackageView","_ref$salePackageList","components_SalePackageView","levelNames","getLevelName","level","levelTitleColor","gold","pt","diamond","gdiamond","black","levelCountColor","levelTitle","normal","super","levelTagTitleColor","levelTagBackColor","privilegeTagBorder","privilegeTagColor","bookPGColor","getLevelTitle","newUserColor","ColorUtils","getCardTextColor","getCardCountColor","getLevelTagColor","getLevelBackColor","getPrivilegeTagBorderColor","getPrivilegeTagColor","getBookPrivilegeGradientColor","getNewUserColor","getTag","only","arguments","memberLevel","borderColor","levelName","pgColor","getTagList","useGrade","onlyShowUseTag","passengerCount","gradeQuality","memberQuality","aliQuality","marketingQuality","count","Number","MAX_SAFE_INTEGER","TagItem","paddingLeft","paddingRight","SaleItemTag","_ref3","realNamePassenger","memberInfo","_ref4","_ref5","newGuestQuality","checkRealName","onlyGrade","curLevelCode","components_SaleItemTag","SalePackageComponent","_bookSales$salePackag","salePackageHeaderConfig","selectSalePackage","descUrl","saleList","LoadableSalePackageComponent","component_SalePackageComponent","Modal","InvoiceExplainModal","components_InvoiceExplainModal","LU","SellerInfoModal","carrierInfo","sellerName","businessLicense","clickImage","previewImage","urls","components_SellerInfoModal","getInsuranceClause","TipDesc_withTrace","PolicyConfig","personalPrivacy","bookNote","TipDesc","tempFields","sellerNote","hasServicePrice","priceComposite","showInvoiceExplain","show","showSellerExplain","showPolicy","e","_e$currentTarget","_e$currentTarget2","currentTarget","dataset","cg","navigateTo","encodeURIComponent","naviColor","openDescPage","BCWBooking_Pay_ExpenseVoucher","BCWBooking_Pay_EnterpriseQualification","BCWBooking_Pay_PrebookingAgreement","component_TipDesc","NavBar","taroUtils","utils_systemInfo","TopBar","passsengerUtil","PassengerPicker_window","PassengerPicker_excluded","_excluded2","PassengerPicker_withTrace","PassengerPicker_PassengerRow","pickerDispatcher","prevState","selectedIds","toggled","selectedIdsNew","payload","indexOf","_calPassengerList","Do","allPassengerList","rest","prevPassengers","_passengers","_calPassengerList2","_allPassengerList","_rest","_selectedIdsNew","forEach","PassengerPicker","onClose","onConfirm","onAddPassenger","allPassengerListOrigin","sortedPassengerList","selPassengerList","isHasAdult","dispatcher","_state$adultCount","_state$childCount","stringify","confirm","chooseTime","Date","getTime","_choosetime","updateTime","addPassenger","showOcr","zB","supportOcrComponent","scanCard","autoScan","_detail$buyTicketRule2","onCancel","left","BCWBooking_PassengerChange_AddPassenger","BCWBooking_PassengerChange_ScanIDCard","BCWBooking_PassengerChange","DescItem","descItem","label","BusDesc_DescItem","Desc","isArray","Array","DescTable","data","head","body","shift","time","subItem","BusDesc_DescTable","DescBlock","descBlock","isTable","BusDesc_DescBlock","debounce","hasEasyRefund","allSales","easyRefundSales","packageType","DescEasyRefundItem","refundPrice","toggleCheck","getModelDispatchers","toggleCheckItem","gotoDesc","maxRefundPrice","payPrice","DescEasyRefund","s","BusDesc_DescEasyRefund","BusDescView_withTrace","StationDesc","gotoStationMap","BusDescView","headerImg","ticketExplainJsonData","returnRuleJsonData","gotoMap","_store$useModel5","_store$useModel6","selectedTabIndex","setSelectedTabIndex","scrollIntoView","setScrollIntoView","tabData","_hasEasyRefund","has","returnRuleData","TICKET_CHANGES","REFUND_CHANGE_RULES","returnRuleJsonInfo","returnRuleList","showRefundDesc","refundChecked","pkg","returnRuleItem","returnRuleIndex","_returnRuleItem$table","table","_ref3$data","d","refundDesc","easyRefundData","easyRefund","isShowRefund","layoutType","width","ticketChanges","ticketChangeItem","tabId","BCWBooking_TripInfo_NoticeRefundRule","err","error","ticketExplainData","ticketExplainInfo","explainInfoKeys","explainInfoKey","explainInfoIndex","explainInfoKeyItem","isStation","station","BCWBooking_TripInfo_NoticeBuyExplanation","handleSelectedTab","buyInstructionTop","debouncedScroll","scrollTop","delta","trailing","onScroll","M","then","rect","bottom","top","tabItem","ScrollView","scrollY","enhanced","descObj","BusDesc_BusDescView","BusDesc","calTotalPrice","_busDetail$detail","priceTicket","serviceChargeInfo","ticketPrice","ticketUnitSalePrice","ticketChildPrice","childTicketUnitSalePrice","ticketUnitOriginalPrice","originChildPrice","childTicketUnitOriginalPrice","showPresalePrice","unit","obj","price","_obj","_obj2","_obj3","toFixed","isEmpty","_","getSellCountAndUnit","giveProduct","giveActivitys","supChild","sellCount","_extraMap$gradeQualit","_extraMap$memberQuali","_extraMap$aliQuality","_extraMap$marketingQu","newGuestPackageCode","memberPackageCode","gradePackageCode","aliPackageCode","marketingPackageCode","qualityCount","calSalesPrice","channelName","canceled","_getSellCountAndUnit","give","calSavePrice","couponState","checkedCoupon","itemList","deductionAmount","useUpdateTotalPrice","deps","bookParamsDispatcher","ticketTotalPrice","salesTotalPrice","saveTotalPrice","update","ServiceFeeModal","serviceFeeExplainData","hide","components_ServiceFeeModal","buildOrderParams","_x","_buildOrderParams","apply","this","mark","_callee","payMethod","wrap","_context","prev","next","abrupt","getBusInfo","getPassengerInfo","getUnion","getCoupon","getAppendProductList","getUseCardList","busParams","channelId","activityId","stop","usedCardTypeList","appendProductList","page","xPosition","buyNumber","_extraInfo$gradeQuali","_extraInfo$memberQual","_extraInfo$aliQuality","_extraInfo$marketingQ","excludeCount","buyMemberCount","_buyMemberCount","_buyMemberCount2","getChannelPage","xPackage","couponCode","union","mkt","systemInfo","So","mUtmsource","getUtmSource","scanId","awakeUnion","clientType","platform","suffix","clientVersion","client_version","version","clientId","clientID","utmSource","vid","z4","allianceId","allianceid","sid","ouid","sourceId","sourceid","_fetcherInfo$idcard","_fetcherInfo$idcard2","_bookParams$policyHol","policyHolder","fetcherInfo","isFetcher","pType","passengerType","toUpperCase","cardInfo","firstName","lastName","birth","nationality","idCard","idType","idNum","cardNo","cardCount","visaDate","cardTimelimit","effectiveDate","chinaEntry","taiwanEntry","stayDays","address","mobile","mobilePhone","fetcher","parentName","parentIdNumber","contactMobile","contactAreaCode","countryCode","contactEmail","ticketCnt","isPromotion","alternativeData","fromCity","toCity","_detail$tempFields","symbol","busNumber","website","webiste","productLine","lineCode","number","alternative","useRedPackage","isPhoneNumber","str","trim","replace","test","canBuyInsurance_window","canBuyInsurance","hasAdult","cardType","errMsg","nowDateNum","format","pasCardBirth","checkPassenger_window","checkPassenger","hk","isNaN","validateBookInput","_bookParams$confirmCh","_canBuyInsurance","_checkPassenger","ConfirmChildInfo","_ref$className","onCheck","components_ConfirmChildInfo","defineProperty","InsuranceParentModel","idCardNoProps","idCardNo","nameProps","dispatch","onChangeText","confirmParentInfo","Input","placeholder","maxlength","cursor","onChange","onInput","onBlur","onFocus","components_InsuranceParentModel","backgroundColor","close","hidden","mask","enableClose","buildXProductParams","SaveView_excluded","SaveViewItem","isLast","ele","titleClass","childContainerClass","actionIcon","SaveView","userCheckNotUseCoupon","couponList","hotelCoupon","display","deductionItems","couponPrice","toCouponPage","onToCouponPage","hotelCouponDesc","component_SaveView","XprocuctModal","getRecommendModalPackage","_store$getModelState","recommendList","recommend","outerLoop","recommendPackage","j","salePackage","withRecommend","modalId","fromPage","showCloseIcon","onCancelClick","onConfirmClick","onPressDetail","_url","env","callback","_class","getBusTagInfo","BookPageComponent_withTrace","_getSafeArea","R2","BookPageComponent_top","navbarHeight","tL","safeArea","BookPageComponent","params","scrollToView","setLoading","dispatchBookParams","dispatchBookSale","_store$useModel7","_store$useModel8","couponModel","dispatchCoupon","urlData","WE","parseURLParam","detailD","bookParamsState","_buildXProductParams","couponParams","exclusionPackageCode","saleConfig","getBusDetail","sent","useCommonPassenger","getStoredPhoneNumber","phoneNumberRef","exclusionProducts","getBookActivityList","getCouponList","getHotelCoupon","node","context","fd","watch","unSelectCoupon","onSelectCoupon","removeWatch","clear","enableBackupLine","updateCouponList","onPhoneNumberChange","_callee2","_context2","onFocusPhoneNumber","onClickBack","navigateBack","_useState5","_useState6","showPassengerPicker","setShowPassengerPicker","_callee3","_context3","getServiceFeeExplain","hideNavbar","popup","toggleShowPassengerPicker","closePassengerPicker","confirmPassengerPicker","resetSelectedPassengers","toEditPassenger","_ref6","_state$busDetail","rule","supportPassengerIdentityTypes","json","ticketChild","ticketTakeChild","supportPassengerTypes","genKey","save","savePasKey","tagInfos","ZP","openLocation","latitude","longitude","scale","toOrder","_ref7","orderNumber","paySuccess","payType","oid","showCoupon","redirectTo","onCheckChildConfirmInfo","toggleCheckConfirmChildInfo","usedCoupon","inLoading","submit","_ref8","_callee8","validate","addOrder","parentInfo","modelID","_context8","_ref9","_callee4","token","_context4","showToast","duration","getToken","transId","oG","optWrap","wrapOpt","order","storePhoneNumber","pay","_bookParams$busDetail2","_busDetail$detail2","catch","_ref10","_callee5","_context5","addRecommendPackage","_x3","t0","getParentInfo","_onCancel","_callee6","_context6","cancelAllInsurance","_onConfirm","_callee7","_ref11","cNameReg","_context7","tR","setParentInfo","_x4","_x2","currentPhoneNumber","onBack","scrollWithAnimation","BCWBooking_PassengerChange_PhoneNO","confirmType","controlled","Book","J","_d","_Component","_super","_this","call","navbarData","pageQuery","config","Page","createPageConfig","root","cn","module","exports","__webpack_exec__","moduleId","O"],"sourceRoot":""}