{"version":3,"file":"pages/tourbooking/common/mp-html/node/node.js","mappings":"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","sources":["webpack://tarobaseproject/pages_tourbooking_common_mp-html_node_node.js"],"sourcesContent":["\"use strict\";\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[6680],{\n\n/***/ 7143:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n/* harmony import */ var _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(33675);\n/* harmony import */ var _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\nfunction t(t, e, i) {\n  return e in t ? Object.defineProperty(t, e, {\n    value: i,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : t[e] = i, t;\n}\nComponent({\n  data: {\n    ctrl: {}\n  },\n  properties: {\n    childs: Array,\n    opts: Array\n  },\n  attached: function attached() {\n    this.triggerEvent(\"add\", this, {\n      bubbles: !0,\n      composed: !0\n    });\n  },\n  methods: {\n    noop: function noop() {},\n    getNode: function getNode(t) {\n      for (var e = t.split(\"_\"), i = this.data.childs[e[0]], r = 1; r < e.length; r++) i = i.children[e[r]];\n      return i;\n    },\n    play: function play(t) {\n      if (this.root.data.pauseVideo) {\n        for (var e = !1, i = t.target.id, r = this.root._videos.length; r--;) this.root._videos[r].id === i ? e = !0 : this.root._videos[r].pause();\n        if (!e) {\n          var s = wx.createVideoContext(i, this);\n          s.id = i, this.root._videos.push(s);\n        }\n      }\n    },\n    imgTap: function imgTap(t) {\n      var e = this.getNode(t.target.dataset.i);\n      if (e.a) return this.linkTap(e.a);\n      if (!e.attrs.ignore && (this.root.triggerEvent(\"imgtap\", e.attrs), this.root.data.previewImg)) {\n        var i = this.root.imgList[e.i];\n        wx.previewImage({\n          current: i,\n          urls: this.root.imgList\n        });\n      }\n    },\n    imgLoad: function imgLoad(e) {\n      var i,\n        r = e.target.dataset.i,\n        s = this.getNode(r);\n      s.w ? (this.data.opts[1] && !this.data.ctrl[r] || -1 === this.data.ctrl[r]) && (i = 1) : i = e.detail.width, i && this.setData(t({}, \"ctrl.\" + r, i));\n    },\n    linkTap: function linkTap(t) {\n      var e = t.currentTarget ? this.getNode(t.currentTarget.dataset.i) : {},\n        i = e.attrs || t,\n        r = i.href;\n      this.root.triggerEvent(\"linktap\", Object.assign({\n        innerText: this.root.getText(e.children || [])\n      }, i)), r && (\"#\" === r[0] ? this.root.navigateTo(r.substring(1)).catch(function () {}) : r.includes(\"://\") ? this.root.data.copyLink && wx.setClipboardData({\n        data: r,\n        success: function success() {\n          return wx.showToast({\n            title: \"链接已复制\"\n          });\n        }\n      }) : _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0___default().navigateTo({\n        url: r,\n        fail: function fail() {\n          _miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0___default().switchTab({\n            url: r,\n            fail: function fail() {}\n          });\n        }\n      }));\n    },\n    mediaError: function mediaError(e) {\n      var i = e.target.dataset.i,\n        r = this.getNode(i);\n      if (\"video\" === r.name || \"audio\" === r.name) {\n        var s = (this.data.ctrl[i] || 0) + 1;\n        if (s > r.src.length && (s = 0), s < r.src.length) return this.setData(t({}, \"ctrl.\" + i, s));\n      } else \"img\" === r.name && this.data.opts[2] && this.setData(t({}, \"ctrl.\" + i, -1));\n      this.root && this.root.triggerEvent(\"error\", {\n        source: r.name,\n        attrs: r.attrs,\n        errMsg: e.detail.errMsg\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 33675:\n/***/ (function(module) {\n\nmodule.exports = require(\"../../../../../cwx/cwx\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [8592], function() { return __webpack_exec__(7143); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);"],"names":["wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0__","_miniapp_cwx_cwx__WEBPACK_IMPORTED_MODULE_0___default","n","t","e","i","Object","defineProperty","value","enumerable","configurable","writable","Component","data","ctrl","properties","childs","Array","opts","attached","this","triggerEvent","bubbles","composed","methods","noop","getNode","split","r","length","children","play","root","pauseVideo","target","id","_videos","pause","s","createVideoContext","imgTap","dataset","a","linkTap","attrs","ignore","previewImg","imgList","previewImage","current","urls","imgLoad","w","detail","width","setData","currentTarget","href","assign","innerText","getText","navigateTo","substring","catch","includes","copyLink","setClipboardData","success","showToast","title","url","fail","switchTab","mediaError","name","src","source","errMsg","module","exports","require","__webpack_exec__","moduleId","O"],"sourceRoot":""}