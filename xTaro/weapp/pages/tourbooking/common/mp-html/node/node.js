"use strict";(wx["tripTaroGlobal30"]=wx["tripTaroGlobal30"]||[]).push([[6680],{7143:function(t,i,r){var e=r(33675),a=r.n(e);function o(t,i,r){return i in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}Component({data:{ctrl:{}},properties:{childs:Array,opts:Array},attached:function(){this.triggerEvent("add",this,{bubbles:!0,composed:!0})},methods:{noop:function(){},getNode:function(t){for(var i=t.split("_"),r=this.data.childs[i[0]],e=1;e<i.length;e++)r=r.children[i[e]];return r},play:function(t){if(this.root.data.pauseVideo){for(var i=!1,r=t.target.id,e=this.root._videos.length;e--;)this.root._videos[e].id===r?i=!0:this.root._videos[e].pause();if(!i){var a=wx.createVideoContext(r,this);a.id=r,this.root._videos.push(a)}}},imgTap:function(t){var i=this.getNode(t.target.dataset.i);if(i.a)return this.linkTap(i.a);if(!i.attrs.ignore&&(this.root.triggerEvent("imgtap",i.attrs),this.root.data.previewImg)){var r=this.root.imgList[i.i];wx.previewImage({current:r,urls:this.root.imgList})}},imgLoad:function(t){var i,r=t.target.dataset.i,e=this.getNode(r);e.w?(this.data.opts[1]&&!this.data.ctrl[r]||-1===this.data.ctrl[r])&&(i=1):i=t.detail.width,i&&this.setData(o({},"ctrl."+r,i))},linkTap:function(t){var i=t.currentTarget?this.getNode(t.currentTarget.dataset.i):{},r=i.attrs||t,e=r.href;this.root.triggerEvent("linktap",Object.assign({innerText:this.root.getText(i.children||[])},r)),e&&("#"===e[0]?this.root.navigateTo(e.substring(1)).catch((function(){})):e.includes("://")?this.root.data.copyLink&&wx.setClipboardData({data:e,success:function(){return wx.showToast({title:"\u94fe\u63a5\u5df2\u590d\u5236"})}}):a().navigateTo({url:e,fail:function(){a().switchTab({url:e,fail:function(){}})}}))},mediaError:function(t){var i=t.target.dataset.i,r=this.getNode(i);if("video"===r.name||"audio"===r.name){var e=(this.data.ctrl[i]||0)+1;if(e>r.src.length&&(e=0),e<r.src.length)return this.setData(o({},"ctrl."+i,e))}else"img"===r.name&&this.data.opts[2]&&this.setData(o({},"ctrl."+i,-1));this.root&&this.root.triggerEvent("error",{source:r.name,attrs:r.attrs,errMsg:t.detail.errMsg})}}})},33675:function(t){t.exports=require("../../../../../cwx/cwx")}},function(t){var i=function(i){return t(t.s=i)};t.O(0,[8592],(function(){return i(7143)}));t.O()}]);
//# sourceMappingURL=node.js.map