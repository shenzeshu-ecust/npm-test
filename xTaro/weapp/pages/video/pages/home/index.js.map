{"version":3,"file":"pages/video/pages/home/index.js","mappings":"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","sources":["webpack://tarobaseproject/pages_video_pages_home_index.js"],"sourcesContent":["\n\n(wx[\"tripTaroGlobal30\"] = wx[\"tripTaroGlobal30\"] || []).push([[6555],{\n\n/***/ 12811:\n/***/ (function() {\n\n\n\n/***/ }),\n\n/***/ 14082:\n/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/@tarojs/runtime/dist/runtime.esm.js\nvar runtime_esm = __webpack_require__(32180);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(57042);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24460);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(81876);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(21867);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(86066);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(45023);\n// EXTERNAL MODULE: ./src/taroCwx/base.js\nvar base = __webpack_require__(65542);\n;// CONCATENATED MODULE: ./src/pages/video/constants/trace/enum.ts\n// 埋点说明文档：http://conf.ctripcorp.com/pages/viewpage.action?pageId=1435954678\n\nvar VIDEO_PAGE_ID = \"10650100326\";\nvar MEDIA_TYPE = /*#__PURE__*/function (MEDIA_TYPE) {\n  MEDIA_TYPE[\"VIDEO\"] = \"video\";\n  MEDIA_TYPE[\"PICTURE\"] = \"picture\";\n  MEDIA_TYPE[\"LIVE\"] = \"live\";\n  return MEDIA_TYPE;\n}({});\nvar GESTURE_TYPE = /*#__PURE__*/function (GESTURE_TYPE) {\n  GESTURE_TYPE[\"SWIPER_UP\"] = \"SWIPER_up\";\n  GESTURE_TYPE[\"SWIPER_DOWN\"] = \"SWIPER_down\";\n  GESTURE_TYPE[\"SWIPER_LEFT\"] = \"SWIPER_left\";\n  GESTURE_TYPE[\"SWIPER_RIGHT\"] = \"SWIPER_right\";\n  return GESTURE_TYPE;\n}({});\nvar ACTION_TYPE = /*#__PURE__*/function (ACTION_TYPE) {\n  ACTION_TYPE[\"EXPOSURE\"] = \"exposure\";\n  ACTION_TYPE[\"CLICK\"] = \"show\";\n  ACTION_TYPE[\"CLOSE\"] = \"close\";\n  return ACTION_TYPE;\n}({});\nvar IS_GRAVITY = /*#__PURE__*/function (IS_GRAVITY) {\n  IS_GRAVITY[\"Y\"] = \"Y\";\n  IS_GRAVITY[\"N\"] = \"N\";\n  return IS_GRAVITY;\n}({});\nvar AUTHOR_TYPE = /*#__PURE__*/function (AUTHOR_TYPE) {\n  AUTHOR_TYPE[\"IMAGE\"] = \"image\";\n  AUTHOR_TYPE[\"NAME\"] = \"name\";\n  AUTHOR_TYPE[\"SWIPE_LEFT\"] = \"swipeLeft\";\n  return AUTHOR_TYPE;\n}({});\nvar LIKE_TYPE = /*#__PURE__*/function (LIKE_TYPE) {\n  LIKE_TYPE[\"LIKE\"] = \"like\";\n  LIKE_TYPE[\"DISLIKE\"] = \"dislike\";\n  LIKE_TYPE[\"DOUBLELIKE\"] = \"doubleLike\";\n  return LIKE_TYPE;\n}({});\nvar COLLECT_TYPE = /*#__PURE__*/function (COLLECT_TYPE) {\n  COLLECT_TYPE[\"COLLECT\"] = \"collect\";\n  COLLECT_TYPE[\"DISCOLLECT\"] = \"disCollect\";\n  return COLLECT_TYPE;\n}({});\nvar SHARE_TYPE = /*#__PURE__*/function (SHARE_TYPE) {\n  SHARE_TYPE[\"WEIXIN\"] = \"weixin\";\n  SHARE_TYPE[\"POSTER\"] = \"template\";\n  return SHARE_TYPE;\n}({});\nvar POI_TYPE = /*#__PURE__*/function (POI_TYPE) {\n  POI_TYPE[\"POI\"] = \"poi\";\n  POI_TYPE[\"DESTRICT\"] = \"destrict\";\n  return POI_TYPE;\n}({});\nvar TITLE_BAR_TYPE = /*#__PURE__*/function (TITLE_BAR_TYPE) {\n  TITLE_BAR_TYPE[\"BACK\"] = \"back\";\n  TITLE_BAR_TYPE[\"MORE\"] = \"more\";\n  TITLE_BAR_TYPE[\"EXIT\"] = \"exit\";\n  TITLE_BAR_TYPE[\"HOME\"] = \"home\";\n  return TITLE_BAR_TYPE;\n}({});\nvar PLAY_TYPE = /*#__PURE__*/function (PLAY_TYPE) {\n  PLAY_TYPE[\"PLAY\"] = \"play\";\n  PLAY_TYPE[\"PAUSE\"] = \"pause\";\n  PLAY_TYPE[\"SPEED\"] = \"speed\";\n  PLAY_TYPE[\"BACKOFF\"] = \"backoff\";\n  return PLAY_TYPE;\n}({});\nvar ERROR_TYPE = /*#__PURE__*/function (ERROR_TYPE) {\n  ERROR_TYPE[\"PAGE_LOAD_FAILED\"] = \"pageLoadFailed\";\n  ERROR_TYPE[\"PRODUCT_VIEW_EMPTY\"] = \"productView\";\n  ERROR_TYPE[\"SLIDE_CATON\"] = \"slideCaton\";\n  ERROR_TYPE[\"NOT_FOUND\"] = \"notFound\";\n  return ERROR_TYPE;\n}({});\nvar VIDEO_TYPE = /*#__PURE__*/function (VIDEO_TYPE) {\n  VIDEO_TYPE[\"PLAY\"] = \"play\";\n  VIDEO_TYPE[\"PAUSE\"] = \"pause\";\n  return VIDEO_TYPE;\n}({});\nvar IS_RISK = /*#__PURE__*/function (IS_RISK) {\n  IS_RISK[IS_RISK[\"NONE\"] = 0] = \"NONE\";\n  IS_RISK[IS_RISK[\"RISK\"] = 1] = \"RISK\";\n  IS_RISK[IS_RISK[\"UNKNOW\"] = 2] = \"UNKNOW\";\n  return IS_RISK;\n}({});\nvar IS_INFO_SECURITY_RISK = /*#__PURE__*/function (IS_INFO_SECURITY_RISK) {\n  IS_INFO_SECURITY_RISK[IS_INFO_SECURITY_RISK[\"NONE\"] = 0] = \"NONE\";\n  IS_INFO_SECURITY_RISK[IS_INFO_SECURITY_RISK[\"RISK\"] = 1] = \"RISK\";\n  IS_INFO_SECURITY_RISK[IS_INFO_SECURITY_RISK[\"TIMEOUT\"] = 2] = \"TIMEOUT\";\n  IS_INFO_SECURITY_RISK[IS_INFO_SECURITY_RISK[\"FAIL\"] = 3] = \"FAIL\";\n  return IS_INFO_SECURITY_RISK;\n}({});\nvar IS_BUSINESS_RISK = /*#__PURE__*/function (IS_BUSINESS_RISK) {\n  IS_BUSINESS_RISK[IS_BUSINESS_RISK[\"NONE\"] = 0] = \"NONE\";\n  IS_BUSINESS_RISK[IS_BUSINESS_RISK[\"RISK\"] = 1] = \"RISK\";\n  IS_BUSINESS_RISK[IS_BUSINESS_RISK[\"TIMEOUT\"] = 2] = \"TIMEOUT\";\n  IS_BUSINESS_RISK[IS_BUSINESS_RISK[\"FAIL\"] = 3] = \"FAIL\";\n  return IS_BUSINESS_RISK;\n}({});\nvar GUIDE_TYPE = /*#__PURE__*/function (GUIDE_TYPE) {\n  GUIDE_TYPE[GUIDE_TYPE[\"SWIPER_UP_ENTRANCE\"] = 1] = \"SWIPER_UP_ENTRANCE\";\n  GUIDE_TYPE[GUIDE_TYPE[\"SWIPER_UP_FULLPLAY\"] = 2] = \"SWIPER_UP_FULLPLAY\";\n  GUIDE_TYPE[GUIDE_TYPE[\"DOUBLE_CLICK\"] = 3] = \"DOUBLE_CLICK\";\n  GUIDE_TYPE[GUIDE_TYPE[\"DOUBLE_CLICK_SHARE\"] = 4] = \"DOUBLE_CLICK_SHARE\";\n  GUIDE_TYPE[GUIDE_TYPE[\"ATTENTION\"] = 5] = \"ATTENTION\";\n  GUIDE_TYPE[GUIDE_TYPE[\"SEARCH\"] = 6] = \"SEARCH\";\n  GUIDE_TYPE[GUIDE_TYPE[\"SWIPER_UP_30_DAYS\"] = 7] = \"SWIPER_UP_30_DAYS\";\n  return GUIDE_TYPE;\n}({});\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(22276);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(298);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(79301);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(95308);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(90129);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(90201);\n// EXTERNAL MODULE: ./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js\nvar components_react = __webpack_require__(71515);\n// EXTERNAL MODULE: ./node_modules/@tarojs/taro/index.js\nvar taro = __webpack_require__(92954);\nvar taro_default = /*#__PURE__*/__webpack_require__.n(taro);\n;// CONCATENATED MODULE: ./src/pages/video/context/AppContext.tsx\n\nvar AppContext = /*#__PURE__*/react.createContext({});\n// EXTERNAL MODULE: ./src/pages/video/models/common.ts\nvar common = __webpack_require__(12811);\n;// CONCATENATED MODULE: ./src/pages/video/models/video.ts\nvar VIDEO_STATUS = /*#__PURE__*/function (VIDEO_STATUS) {\n  VIDEO_STATUS[VIDEO_STATUS[\"PLAY\"] = 1] = \"PLAY\";\n  VIDEO_STATUS[VIDEO_STATUS[\"PAUSE\"] = 2] = \"PAUSE\";\n  return VIDEO_STATUS;\n}({});\nvar VIDEO_ACTION_TYPE = /*#__PURE__*/function (VIDEO_ACTION_TYPE) {\n  VIDEO_ACTION_TYPE[\"LIKE\"] = \"like\";\n  VIDEO_ACTION_TYPE[\"COLLECT\"] = \"collect\";\n  VIDEO_ACTION_TYPE[\"ATTENTION\"] = \"attention\";\n  return VIDEO_ACTION_TYPE;\n}({});\nvar AUTHOR_LIVE_STATUS = /*#__PURE__*/function (AUTHOR_LIVE_STATUS) {\n  AUTHOR_LIVE_STATUS[AUTHOR_LIVE_STATUS[\"OFF\"] = 0] = \"OFF\";\n  AUTHOR_LIVE_STATUS[AUTHOR_LIVE_STATUS[\"ON\"] = 1] = \"ON\";\n  return AUTHOR_LIVE_STATUS;\n}({});\n\n// 参数说明：http://conf.ctripcorp.com/pages/viewpage.action?pageId=1319989421\n\n;\n;// CONCATENATED MODULE: ./src/pages/video/models/index.ts\n\n\n;// CONCATENATED MODULE: ./src/pages/video/constants/config.ts\n// 主站域名\nvar BASE_HOST = \"https://m.ctrip.com\";\n\n// 分享海报\nvar POSTER_SHARE_PATH = \"/pages/you/lvpai/shareImage/shareImage\";\n;// CONCATENATED MODULE: ./src/pages/video/constants/request.ts\n\n\n/**\n * 超时时间设置\n * 测试环境: 40s\n * 生产环境: 5s\n * 保底超时时间: 5s\n */\nvar REQUEST_CONFIG = {\n  baseUrl: \"\".concat(BASE_HOST, \"/restapi/soa2\"),\n  timeout: 5000\n};\nvar API_MAP = {\n  // 视频列表\n  getVideoList: '/13012/getContentList',\n  // 关注 / 点赞 / 收藏\n  operateVideo: '/13012/operateContent',\n  // 视频商品\n  contentProduct: '/13012/getContentProductList',\n  // 内容中心cpc风控接口\n  getRiskInfo: '/13012/getContentCenterRiskInfo',\n  // 订单归因\n  reportMktProduct: '/13012/reportMktProductClick',\n  // 订单归因\n  shareDoTask: '/16189/shareDoTask'\n};\nvar STATUS_CODE = /*#__PURE__*/function (STATUS_CODE) {\n  STATUS_CODE[STATUS_CODE[\"OK\"] = 200] = \"OK\";\n  STATUS_CODE[STATUS_CODE[\"PARAM_ERR\"] = 400] = \"PARAM_ERR\";\n  STATUS_CODE[STATUS_CODE[\"NETWORK_ERR\"] = 500] = \"NETWORK_ERR\";\n  return STATUS_CODE;\n}({});\n;// CONCATENATED MODULE: ./src/pages/video/global/video.ts\n\n// 当前播放的视频下标\nvar curVideoIndex = 0;\nvar setCurrentVideoIndex = function setCurrentVideoIndex(index) {\n  curVideoIndex = index;\n};\nvar getCurrentVideoIndex = function getCurrentVideoIndex() {\n  return curVideoIndex;\n};\n\n// 视频上下文\nvar videoContexts = {};\nvar resetVideoContext = function resetVideoContext() {\n  videoContexts = {};\n};\nvar getVideoContext = function getVideoContext(curIndex) {\n  return videoContexts[curIndex];\n};\nvar initVideoContext = function initVideoContext(curIndex, index) {\n  // delete videoContexts[index];\n  videoContexts[index] = (0,taro.createVideoContext)(\"videoIndex_\".concat(index));\n  if (curIndex == index) {\n    videoContexts[curIndex].play();\n    // console.error('123 play video: ', curIndex);\n  }\n};\n\nvar triggerVideoPlay = function triggerVideoPlay(curIndex, index) {\n  // console.error('123 trigger video == : ', index,);\n  if (+index == +curIndex) {\n    var _videoContexts$index;\n    // console.error('123 trigger video : ', curIndex, index,);\n    _stopOtherVideos(getCurrentVideoIndex());\n    (_videoContexts$index = videoContexts[index]) === null || _videoContexts$index === void 0 || _videoContexts$index.play();\n  }\n};\nvar _stopOtherVideos = function _stopOtherVideos(curIndex) {\n  for (var index in videoContexts) {\n    if (Object.prototype.hasOwnProperty.call(videoContexts, index)) {\n      var vCtx = videoContexts[index];\n      if (curIndex == index) continue;\n      // console.error('123 stop video: ', index);\n      // vCtx.seek(0);\n      vCtx.stop();\n    }\n  }\n};\nvar deleteVideoContext = function deleteVideoContext(index) {\n  if (videoContexts[index]) {\n    // console.error('123 delete video: ', index);\n    videoContexts[index].stop();\n    delete videoContexts[index];\n  }\n};\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js\nvar esm_typeof = __webpack_require__(93212);\n;// CONCATENATED MODULE: ./src/pages/video/utils/tool.ts\n\n\n\n// 检查字符串是否为空\nvar checkStringEmpty = function checkStringEmpty(str) {\n  return !str;\n};\n// 检查数值是否为空\nvar checkNumberEmpty = function checkNumberEmpty(num) {\n  return !num.toString();\n};\n// 检查对象是否为空\nvar checkObjectEmpty = function checkObjectEmpty(obj) {\n  return Object.keys(obj).length === 0;\n};\n// 检查数组是否为空\nvar checkArrayEmpty = function checkArrayEmpty(arr) {\n  return arr.length === 0;\n};\n// 各数据类型检查方法字典\nvar checkDataEmptyDict = {\n  string: checkStringEmpty,\n  number: checkNumberEmpty,\n  Object: checkObjectEmpty,\n  Array: checkArrayEmpty,\n  function: function _function() {\n    return false;\n  },\n  undefined: function undefined() {\n    return true;\n  },\n  boolean: function boolean(data) {\n    return !data;\n  },\n  Null: function Null() {\n    return true;\n  }\n};\n/**\n * @description 检查数据是否为空，为空返回true，不为空返回false\n * @param {any} data\n * @return {Boolean}\n * @example isEmpty({}) true\n */\nvar isEmpty = function isEmpty(data) {\n  var type = (0,esm_typeof/* default */.Z)(data);\n  // 基础数据类型\n  if (type !== 'object') return checkDataEmptyDict[type](data);\n  // 引用数据类型\n  type = Object.prototype.toString.call(data).replace(/^\\[object (\\S+)\\]$/, '$1');\n  return checkDataEmptyDict[type](data);\n};\nvar isUndefined = function isUndefined(param) {\n  return typeof param == 'undefined';\n};\nvar formatNum = function formatNum(num) {\n  if (num < 1e4) {\n    return num;\n  }\n  num = (num / 1e4).toFixed(1);\n  return \"\".concat(num, \"w\");\n};\n\n/**\n * @desc: 将时间戳格式化为 yyyy-MM-dd HH:mm:ss 星期几\n */\nvar getFormatDate = function getFormatDate(date) {\n  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"yyyy-MM-dd HH:mm:ss\";\n  if (!date) return;\n  date = new Date(date);\n  var day = date.getDay();\n  date.setHours(date.getHours());\n  // yyyy-MM-dd HH:mm:ss\n  var o = {\n    'M+': date.getMonth() + 1,\n    //month\n    'd+': date.getDate(),\n    //day\n    'H+': date.getHours(),\n    //hour\n    'm+': date.getMinutes(),\n    //minute\n    's+': date.getSeconds(),\n    //second\n    'q+': Math.floor((date.getMonth() + 3) / 3),\n    //quarter\n    'S': date.getMilliseconds() //millisecond\n  };\n\n  if (/(y+)/.test(format)) format = format.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  for (var k in o) if (new RegExp('(' + k + ')').test(format)) format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\n\n  // 星期\n  // if (hasWeek) {\n  //   const weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\n  //   format = `${format} ${weeks[day]}`\n  // }\n  return format;\n};\n\n/**\n * @param {Number} second 时间差：秒\n * @returns format as \"00:00:00\"\n */\nvar formatTime = function formatTime(second) {\n  var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var seconds = Math.round(second);\n  var result = [];\n  while (count >= 0) {\n    var current = Math.floor(seconds / Math.pow(60, count));\n    result.push(current);\n    seconds -= current * Math.pow(60, count);\n    --count;\n  }\n  return result.map(function (item) {\n    return (item < 0 ? 0 : item) <= 9 ? \"0\".concat(item) : item;\n  }).join(\":\");\n};\nvar getUniqueId = function () {\n  var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return function () {\n    var date = getFormatDate(new Date().getTime(), 'yyyyMMddHHmmss');\n    n++;\n    return \"\".concat(date).concat(n.toString().padStart(4, '0'));\n  };\n}();\nvar stopPropagation = function stopPropagation(e) {\n  e.stopPropagation();\n};\nvar rpxToPx = function rpxToPx() {\n  var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var hasUnit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var _cwx$getSystemInfoSyn = cwx.getSystemInfoSync(),\n    windowWidth = _cwx$getSystemInfoSyn.windowWidth;\n  var num = windowWidth / 750 * size;\n  if (num !== num) num = size / 2;\n  if (hasUnit) {\n    return \"\".concat(num, \"px\");\n  }\n  return num;\n};\n;// CONCATENATED MODULE: ./src/pages/video/global/timer.ts\n\n\n\n// 悬浮商品卡片定时器map\nvar floatProductTimerMap = {};\nvar setFloatProductTimer = function setFloatProductTimer(_ref) {\n  var index = _ref.index,\n    startTime = _ref.startTime,\n    startCallback = _ref.startCallback,\n    endTime = _ref.endTime,\n    endCallback = _ref.endCallback;\n  var curVideoIndex = getCurrentVideoIndex();\n  // 判断是否是当前视频\n  if (curVideoIndex != index) {\n    return;\n  }\n\n  // 设置前先清除其他所有的定时器\n  clearFloatProductTimer();\n  if (!floatProductTimerMap[curVideoIndex]) {\n    floatProductTimerMap[curVideoIndex] = {};\n  }\n  floatProductTimerMap[curVideoIndex].startTimer = setTimeout(function () {\n    startCallback();\n  }, startTime * 1000);\n  floatProductTimerMap[curVideoIndex].endTimer = setTimeout(function () {\n    delete floatProductTimerMap[curVideoIndex];\n    endCallback();\n  }, endTime * 1000);\n};\nvar clearFloatProductTimer = function clearFloatProductTimer() {\n  if (isEmpty(floatProductTimerMap)) return;\n  for (var key in floatProductTimerMap) {\n    if (!floatProductTimerMap[key]) {\n      continue;\n    }\n    if (floatProductTimerMap[key].startTimer) {\n      clearTimeout(floatProductTimerMap[key].startTimer);\n    }\n    if (floatProductTimerMap[key].endTimer) {\n      clearTimeout(floatProductTimerMap[key].endTimer);\n    }\n    delete floatProductTimerMap[key];\n  }\n};\n\n/**\n * cpc风控: 每个视频详情页停留5s后调用接口，落埋点数据\n */\nvar riskInfoTimer = null;\nvar clearRiskInfoTimer = function clearRiskInfoTimer() {\n  if (!riskInfoTimer) {\n    return;\n  }\n  clearTimeout(riskInfoTimer);\n};\nvar handleRiskInfoTimer = function handleRiskInfoTimer(callback) {\n  clearRiskInfoTimer();\n  riskInfoTimer = setTimeout(function () {\n    callback && callback();\n  }, 5 * 1000);\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/global/ubt.ts\nvar videoTotalTime = 0,\n  videoPlayTime = 0,\n  videoStartTime = 0;\nvar resetVideoTime = function resetVideoTime(type) {\n  if (type == \"start\") {\n    videoStartTime = 0;\n    return;\n  }\n  videoTotalTime = 0;\n  videoPlayTime = 0;\n  videoStartTime = 0;\n};\nvar setVideoTime = function setVideoTime(_ref) {\n  var _ref$totalTime = _ref.totalTime,\n    totalTime = _ref$totalTime === void 0 ? videoTotalTime : _ref$totalTime,\n    _ref$playTime = _ref.playTime,\n    playTime = _ref$playTime === void 0 ? videoPlayTime : _ref$playTime,\n    _ref$startTime = _ref.startTime,\n    startTime = _ref$startTime === void 0 ? videoStartTime : _ref$startTime;\n  videoTotalTime = +totalTime;\n  videoPlayTime = +playTime;\n  videoStartTime = +startTime;\n};\nvar getVideoTime = function getVideoTime(type) {\n  if (type == \"start\") {\n    return videoStartTime;\n  }\n  if (type == \"play\") {\n    return videoPlayTime;\n  }\n  return {\n    totalTime: videoTotalTime,\n    playTime: videoPlayTime,\n    startTime: videoStartTime\n  };\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/global/index.ts\n\nvar _require = __webpack_require__(33675),\n  cwx = _require.cwx,\n  __global = _require.__global;\n\n// APPID\nvar WECHAT_APPID = \"wx0e6ed4f51db9d078\";\n\n\n\n\n;// CONCATENATED MODULE: ./src/pages/video/utils/user.ts\n\nvar getAuthToken = function getAuthToken() {\n  // debugToast(JSON.stringify(cwx.user))\n  return cwx.user.auth;\n};\n\n/**\n * 判断是否登录，未登录则跳转登录页\n * @param {function} [callback] 已经登录的回调\n * @param {?function} [back] 未登录，且跳转登录成功后的回调\n * @return {*}\n */\nvar checkAndLogin = function checkAndLogin(callback, back) {\n  checkLogin(function (isLogin) {\n    if (isLogin) {\n      callback && callback();\n    } else {\n      login(function (isSuccess) {\n        if (isSuccess) {\n          // navigateBack();\n          back && back();\n        }\n      });\n    }\n  });\n};\n\n/**\n * 判断是否登录，有callback时，是异步\n * @param {function} [callback]\n * @return {*}\n */\nvar checkLogin = function checkLogin(callback) {\n  if (callback) {\n    cwx.user.checkLoginStatusFromServer(callback); // 异步判断，从服务端判断\n    return;\n  }\n  return cwx.user.isLogin(); // 同步判读，读取本地auth值，不确定auth是否还有效\n};\n\n/**\n * 去登录，若有callback，仅返回是否登录成功\n * @param {function} [callback]\n */\nvar login = function login(_callback) {\n  cwx.user.login({\n    param: {},\n    callback: function callback() {\n      if (_callback) {\n        // cwx.user.login 方法中，返回的isLogin是使用本地的登录态进行判断的。\n        // 所以存在一个问题：登录态被踢掉后，本地登录态未更新，误以为还是有登录态\n        // 解决方案：使用异步的方式获取登录态\n        checkLogin(_callback);\n      }\n    }\n  });\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/utils/request.ts\n\n\n\n\n\n\nfunction request(_x) {\n  return _request.apply(this, arguments);\n}\nfunction _request() {\n  _request = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(params) {\n    var url, cver, param, auth, head, body;\n    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          url = params.url, cver = params.cver, param = params.param;\n          auth = getAuthToken();\n          head = {\n            // test\n            auth: auth,\n            extension: []\n            // 用于服务端区分来源，小程序/APP\n            // extension: [{\n            //   \"name\": \"appId\",\n            //   \"value\": cwx.appId || WECHAT_APPID\n            // }]\n          };\n\n          if (cver) {\n            head['cver'] = cver;\n          }\n          body = (0,objectSpread2/* default */.Z)({\n            head: head\n          }, param);\n          return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n            cwx.request({\n              url: \"\".concat(REQUEST_CONFIG.baseUrl).concat(url),\n              method: 'POST',\n              data: body,\n              success: function success(res) {\n                // console.log(`----${url} request res-----`, res);\n                var statusCode = res.statusCode,\n                  data = res.data,\n                  errMsg = res.errMsg;\n                // 200-正常; 400-请求参数有误; 500-服务异常\n                if (statusCode !== STATUS_CODE.OK || !data) {\n                  reject(res);\n                } else {\n                  resolve(res);\n                }\n              },\n              fail: function fail(e) {\n                reject(e);\n              }\n            });\n          }));\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _request.apply(this, arguments);\n}\n;// CONCATENATED MODULE: ./src/pages/video/api/video/operateVideo.ts\n\n\n// URL契约：http://contract.mobile.flight.ctripcorp.com/#/operation-detail/3896/8/operateContent?lang=zh-CN\n\n\n\nfunction operateVideo(_x) {\n  return _operateVideo.apply(this, arguments);\n}\nfunction _operateVideo() {\n  _operateVideo = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(param) {\n    var reqParams, data;\n    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          reqParams = {\n            url: API_MAP.operateVideo,\n            param: param\n          };\n          _context.next = 3;\n          return request(reqParams);\n        case 3:\n          data = _context.sent;\n          if (!(data.statusCode != STATUS_CODE.OK)) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", false);\n        case 6:\n          return _context.abrupt(\"return\", true);\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _operateVideo.apply(this, arguments);\n}\n;// CONCATENATED MODULE: ./src/pages/video/constants/images.ts\nvar STATIC_URL = \"https://pages.c-ctrip.com/miniapp/miniapp_video\";\n\n// 头像兜底图片\nvar AVATAR_BAK = \"\".concat(STATIC_URL, \"/image/avatar.png\");\n\n// 微信\nvar WEAPP_IMAGE = \"\".concat(STATIC_URL, \"/image/weapp.png\");\n// 生成海报\nvar DOWNLOAD_IMAGE = \"\".concat(STATIC_URL, \"/image/download.png\");\n// 内容为空\nvar EMPTY_IMAGE = \"\".concat(STATIC_URL, \"/image/empty.png\");\n// 网络问题\nvar NETWORK_ERR_IMAGE = \"\".concat(STATIC_URL, \"/image/networkErr.png\");\n// export const NETWORK_ERR_IMAGE = `../static/img/status/networkErr.png`;\n// 加载失败\nvar LOAD_ERR_IMAGE = \"\".concat(STATIC_URL, \"/image/loadErr.png\");\n\n// 动画\n// 点赞\nvar LIKED_ANIMATION = \"\".concat(STATIC_URL, \"/animation/liked.png\");\n// 收藏\nvar COLLECTED_ANIMATION = \"\".concat(STATIC_URL, \"/animation/collected.png?11\");\n// 购物车\nvar SHOPPING_CART_ANIMATION = \"\".concat(STATIC_URL, \"/animation/shoppingcart.png\");\n// 双击点赞引导\nvar DOUBLE_CLICK_WEBP = \"\".concat(STATIC_URL, \"/animation/doubleClick.webp\");\n// 上滑引导\nvar SWIPE_UP_WEBP = \"\".concat(STATIC_URL, \"/animation/slideUp.webp\");\n\n// loading\nvar LOADING_EARTH = \"\".concat(STATIC_URL, \"/animation/loading_earth.gif\");\nvar LOADING_SIMPLE = \"\".concat(STATIC_URL, \"/animation/loading_circle.gif\");\n;// CONCATENATED MODULE: ./src/pages/video/utils/env.ts\n\n\n/**\n * 判断是否是本地debug环境\n * @returns boolean\n */\nvar env_isDebugEnv = function isDebugEnv() {\n  return __global.env === 'fat' || cwx.wxSystemInfo.platform == 'devtools';\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/constants/trace/name.ts\nvar METRIC_NAME = /*#__PURE__*/function (METRIC_NAME) {\n  METRIC_NAME[\"core_videoPlayTime\"] = \"o_wx_platform_video_length\";\n  METRIC_NAME[\"core_videoFinish\"] = \"o_wx_platform_video_length_finish\";\n  METRIC_NAME[\"core_videoBrowse\"] = \"o_wx_platform_video_browse\";\n  METRIC_NAME[\"core_isValidView\"] = \"o_cgc_content_isValidView\";\n  METRIC_NAME[\"core_mktProduct\"] = \"o_gs_tripshoot_detail_all_recommend_goods\";\n  METRIC_NAME[\"videoGuide\"] = \"o_wx_platform_video_guide\";\n  METRIC_NAME[\"videoGesture\"] = \"o_wx_platform_video_gesture\";\n  METRIC_NAME[\"videoTitleBar\"] = \"o_wx_platform_video_titlebar\";\n  METRIC_NAME[\"videoPlayer\"] = \"o_wx_platform_video_player\";\n  METRIC_NAME[\"videoError\"] = \"o_wx_platform_video_error\";\n  METRIC_NAME[\"videoVote\"] = \"o_wx_platform_video_vote_show\";\n  METRIC_NAME[\"videoLandscape\"] = \"o_wx_platform_video_landscape\";\n  METRIC_NAME[\"videoAuthor\"] = \"c_wx_platform_video_author\";\n  METRIC_NAME[\"videoFollowAuthor\"] = \"c_wx_platform_video_followauthor\";\n  METRIC_NAME[\"videoLike\"] = \"c_wx_platform_video_like\";\n  METRIC_NAME[\"videoShare\"] = \"c_wx_platform_video_share\";\n  METRIC_NAME[\"videoCollect\"] = \"c_wx_platform_video_collect\";\n  METRIC_NAME[\"videoComment\"] = \"c_wx_platform_video_comment\";\n  METRIC_NAME[\"videoShareView\"] = \"c_wx_platform_video_shareview\";\n  METRIC_NAME[\"videoViewAll\"] = \"c_wx_platform_video_viewall\";\n  METRIC_NAME[\"videoPoi\"] = \"c_wx_platform_video_articlepoi\";\n  METRIC_NAME[\"videoShoppingCart\"] = \"c_wx_platform_video_goodscard\";\n  METRIC_NAME[\"videoShoppingCartView\"] = \"c_wx_platform_video_goodscard_view\";\n  METRIC_NAME[\"videoRecommendGoods\"] = \"c_wx_platform_video_recommendgoods\";\n  METRIC_NAME[\"videoArticaleTag\"] = \"c_wx_platform_video_articaleTag\";\n  METRIC_NAME[\"videoArticaleTagView\"] = \"c_wx_platform_video_articaleTag_view\";\n  return METRIC_NAME;\n}({});\nvar MINIAPP_METRIC_SCENE_KEY = /*#__PURE__*/function (MINIAPP_METRIC_SCENE_KEY) {\n  MINIAPP_METRIC_SCENE_KEY[\"loadPageException\"] = \"load.page.exception\";\n  return MINIAPP_METRIC_SCENE_KEY;\n}({});\n\n// 开发埋点\nvar DEV_TRACE_KEY = 'devtrace_miniapp_taro_video';\n\n// 产品埋点\nvar TRACE_KEY = '';\n;// CONCATENATED MODULE: ./src/pages/video/utils/log.ts\n\nvar _cwx$getSystemInfoSyn;\n\n\n\n\n// 通用埋点数据: biztype，source，requestlist，extra，articleid，id，sessionid，index\nvar COMMON_TRACE_DATA = {\n  media: MEDIA_TYPE.VIDEO,\n  systemcode: (_cwx$getSystemInfoSyn = cwx.getSystemInfoSync()) === null || _cwx$getSystemInfoSyn === void 0 ? void 0 : _cwx$getSystemInfoSyn.platform\n};\n\n/**\n * 埋点通用数据\n */\nvar commonTrace = function commonTrace() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  COMMON_TRACE_DATA = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, COMMON_TRACE_DATA), params);\n};\n\n/**\n * MiniApp 埋点日志相关\n */\nvar Log = {\n  /**\n   * 开发环境控制台日志\n   */\n  dev: function dev() {\n    var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var data = arguments.length > 1 ? arguments[1] : undefined;\n    if (!env_isDebugEnv()) {\n      return;\n    }\n    data = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, COMMON_TRACE_DATA), data);\n    console.log(\"\\n%c [taro-video] \".concat(prefix, \" ----->\"), 'color:#009C67', data);\n  },\n  /**\n   * 产品业务埋点\n   * @param key traceKey\n   * @param info 信息\n   */\n  trace: function trace() {\n    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEV_TRACE_KEY;\n    var info = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    try {\n      if (!key) {\n        console.error('请初始化业务使用的key值');\n      }\n      info = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, COMMON_TRACE_DATA), info);\n      // test\n      // console.error(\"====> 触发产品埋点：\", key, info);\n      // return\n\n      // tiled 用于控制是否以对象形式在cdata中展示\n      cwx.sendUbtByPage.ubtTrace(key, info, {\n        tiled: true\n      });\n\n      // Log.dev(`trace ${key}`, info);\n    } catch (e) {\n      console.error('Log.logTrace failed', e.message, e.stack);\n    }\n  },\n  /**\n   * 开发埋点\n   */\n  devTrace: function devTrace(info) {\n    try {\n      Log.dev(\"devTrace\", info);\n      cwx.sendUbtByPage.ubtDevTrace(DEV_TRACE_KEY, {\n        data: JSON.stringify(info)\n      });\n    } catch (e) {\n      console.error('Log.logDevTrace failed', e.message, e.stack);\n    }\n  },\n  /**\n   * PV埋点\n   */\n  sendPV: function sendPV(pageId) {\n    cwx.sendUbtByPage.ubtSendPV({\n      pageId: pageId\n    });\n    Log.dev('pageId ===>>> ', pageId);\n  }\n  /**\n   * Metic埋点\n   */\n  // metric(\n  //     tag: IMetricTag,\n  //     metricName?: string\n  // ) {\n  //     const defaultTagInfo = {\n  //         name: 'taro-weixin',\n  //         type: 'list'\n  //     };\n  //     cwx.sendUbtByPage.ubtMetric({\n  //         name: metricName || MINIAPP_METRIC_NAME.orderList,\n  //         tag: { ...defaultTagInfo, ...tag },\n  //         value: 1\n  //     });\n  // },\n};\n/* harmony default export */ var log = (Log);\n;// CONCATENATED MODULE: ./src/pages/video/utils/base64.ts\nvar Base64 = {\n  // 转码表\n  tables: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+', '/'],\n  UTF16ToUTF8: function UTF16ToUTF8(str) {\n    var results = [],\n      len = str.length;\n    for (var i = 0; i < len; i++) {\n      var code = str.charCodeAt(i);\n      if (code > 0x0000 && code <= 0x007F) {\n        /* 一字节，不考虑0x0000，因为是空字节\n          U+00000000 – U+0000007F \t0xxxxxxx\n        */\n        results.push(str.charAt(i));\n      } else if (code >= 0x0080 && code <= 0x07FF) {\n        /* 二字节\n          U+00000080 – U+000007FF \t110xxxxx 10xxxxxx\n          110xxxxx\n        */\n        var byte1 = 0xC0 | code >> 6 & 0x1F;\n        // 10xxxxxx\n        var byte2 = 0x80 | code & 0x3F;\n        results.push(String.fromCharCode(byte1), String.fromCharCode(byte2));\n      } else if (code >= 0x0800 && code <= 0xFFFF) {\n        /* 三字节\n          U+00000800 – U+0000FFFF \t1110xxxx 10xxxxxx 10xxxxxx\n          1110xxxx\n        */\n        var _byte = 0xE0 | code >> 12 & 0x0F;\n        // 10xxxxxx\n        var _byte2 = 0x80 | code >> 6 & 0x3F;\n        // 10xxxxxx\n        var byte3 = 0x80 | code & 0x3F;\n        results.push(String.fromCharCode(_byte), String.fromCharCode(_byte2), String.fromCharCode(byte3));\n      } else if (code >= 0x00010000 && code <= 0x001FFFFF) {\n        // 四字节\n        // U+00010000 – U+001FFFFF \t11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      } else if (code >= 0x00200000 && code <= 0x03FFFFFF) {\n        // 五字节\n        // U+00200000 – U+03FFFFFF \t111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx\n      } else /** if (code >= 0x04000000 && code <= 0x7FFFFFFF)*/{\n          // 六字节\n          // U+04000000 – U+7FFFFFFF \t1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx\n        }\n    }\n    return results.join('');\n  },\n  UTF8ToUTF16: function UTF8ToUTF16(str) {\n    var results = [],\n      len = str.length;\n    var i = 0;\n    for (var _i = 0; _i < len; _i++) {\n      var code = str.charCodeAt(_i);\n      // 第一字节判断\n      if ((code >> 7 & 0xFF) == 0x0) {\n        // 一字节\n        // 0xxxxxxx\n        results.push(str.charAt(_i));\n      } else if ((code >> 5 & 0xFF) == 0x6) {\n        // 二字节\n        // 110xxxxx 10xxxxxx\n        var code2 = str.charCodeAt(++_i);\n        var byte1 = (code & 0x1F) << 6;\n        var byte2 = code2 & 0x3F;\n        var utf16 = byte1 | byte2;\n        results.push(Sting.fromCharCode(utf16));\n      } else if ((code >> 4 & 0xFF) == 0xE) {\n        // 三字节\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        var _code = str.charCodeAt(++_i);\n        var code3 = str.charCodeAt(++_i);\n        var _byte3 = code << 4 | _code >> 2 & 0x0F;\n        var _byte4 = (_code & 0x03) << 6 | code3 & 0x3F;\n        var _utf = (_byte3 & 0x00FF) << 8 | _byte4;\n        results.push(String.fromCharCode(_utf));\n      } else if ((code >> 3 & 0xFF) == 0x1E) {\n        // 四字节\n        // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      } else if ((code >> 2 & 0xFF) == 0x3E) {\n        // 五字节\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx\n      } else /** if (((code >> 1) & 0xFF) == 0x7E)*/{\n          // 六字节\n          // 1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx\n        }\n    }\n    return results.join('');\n  },\n  encode: function encode(str) {\n    if (!str) {\n      return '';\n    }\n    var utf8 = this.UTF16ToUTF8(str); // 转成UTF-8\n    var i = 0; // 遍历索引\n    var len = utf8.length;\n    var results = [];\n    while (i < len) {\n      var c1 = utf8.charCodeAt(i++) & 0xFF;\n      results.push(this.tables[c1 >> 2]);\n      // 补2个=\n      if (i == len) {\n        results.push(this.tables[(c1 & 0x3) << 4]);\n        results.push('==');\n        break;\n      }\n      var c2 = utf8.charCodeAt(i++);\n      // 补1个=\n      if (i == len) {\n        results.push(this.tables[(c1 & 0x3) << 4 | c2 >> 4 & 0x0F]);\n        results.push(this.tables[(c2 & 0x0F) << 2]);\n        results.push('=');\n        break;\n      }\n      var c3 = utf8.charCodeAt(i++);\n      results.push(this.tables[(c1 & 0x3) << 4 | c2 >> 4 & 0x0F]);\n      results.push(this.tables[(c2 & 0x0F) << 2 | (c3 & 0xC0) >> 6]);\n      results.push(this.tables[c3 & 0x3F]);\n    }\n    return results.join('');\n  },\n  decode: function decode(str) {\n    //判断是否为空\n    if (!str) {\n      return '';\n    }\n    var len = str.length;\n    var i = 0;\n    var results = [];\n    //循环解出字符数组\n    while (i < len) {\n      var code1 = this.tables.indexOf(str.charAt(i++));\n      var code2 = this.tables.indexOf(str.charAt(i++));\n      var code3 = this.tables.indexOf(str.charAt(i++));\n      var code4 = this.tables.indexOf(str.charAt(i++));\n      var c1 = code1 << 2 | code2 >> 4;\n      results.push(String.fromCharCode(c1));\n      if (code3 != -1) {\n        var c2 = (code2 & 0xF) << 4 | code3 >> 2;\n        results.push(String.fromCharCode(c2));\n      }\n      if (code4 != -1) {\n        var c3 = (code3 & 0x3) << 6 | code4;\n        results.push(String.fromCharCode(c3));\n      }\n    }\n    return this.UTF8ToUTF16(results.join(''));\n  }\n};\n;// CONCATENATED MODULE: ./src/pages/video/utils/url.ts\n\n\n\n\nvar getParamsFromURL = function getParamsFromURL() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _ref = params,\n    _ref$param = _ref.param,\n    param = _ref$param === void 0 ? \"\" : _ref$param,\n    _ref$_mktTaskActivity = _ref._mktTaskActivityId,\n    _mktTaskActivityId = _ref$_mktTaskActivity === void 0 ? \"\" : _ref$_mktTaskActivity,\n    _ref$sepopup = _ref.sepopup,\n    sepopup = _ref$sepopup === void 0 ? \"\" : _ref$sepopup;\n  var decodeParams = Base64.decode(param) || \"\";\n  var urlParams = JSON.parse(decodeParams);\n\n  // 抹平url与接口的参数差异\n  var _urlParams = urlParams,\n    bizType = _urlParams.bizType,\n    source = _urlParams.source,\n    requestListType = _urlParams.requestListType,\n    articleId = _urlParams.articleId,\n    productType = _urlParams.productType;\n  // console.log(\"----- urlParams ------\", urlParams);\n\n  urlParams = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, urlParams), {}, {\n    requestSource: requestListType,\n    contentIdList: [{\n      id: articleId,\n      productType: productType\n    }],\n    _mktTaskActivityId: _mktTaskActivityId\n  });\n\n  // 埋点通用数据初始化\n  commonTrace({\n    bizType: bizType,\n    source: source,\n    requestlist: requestListType\n  });\n  return urlParams;\n};\nvar isHttpUrl = function isHttpUrl(url) {\n  var reg = /http(s)?:\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- .\\/?%&=]*)?/;\n  return reg.test(url);\n};\nfunction parseUrlParams(url) {\n  var searchIndex = url.indexOf('?');\n  var hashIndex = url.indexOf('#');\n  var searchStr = searchIndex >= 0 ? url.slice(searchIndex + 1, hashIndex >= 0 ? hashIndex : undefined) : '';\n  var params = {};\n  if (searchStr) {\n    searchStr.split('&').forEach(function (paramStr) {\n      var _paramStr$split = paramStr.split('='),\n        _paramStr$split2 = (0,slicedToArray/* default */.Z)(_paramStr$split, 2),\n        key = _paramStr$split2[0],\n        value = _paramStr$split2[1];\n      params[key] = decodeURIComponent(value);\n    });\n  }\n  return params;\n}\n\n/**\n * 解析 URL 中的参数，并实现追加参数的功能\n * @param {string} url - 待解析的 URL\n * @param {Object} params - 需要追加的参数的键值对\n * @returns {string} - 解析和追加参数后的 URL\n */\nfunction parseAndAppendUrlParams(url, params) {\n  var urlParams = parseUrlParams(url);\n  for (var key in params) {\n    urlParams[key] = params[key];\n  }\n  var newUrl = url.split('?')[0];\n  var isFirst = true;\n  for (var _key in urlParams) {\n    if (isFirst) {\n      newUrl += '?' + _key + '=' + encodeURIComponent(urlParams[_key]);\n      isFirst = false;\n    } else {\n      newUrl += '&' + _key + '=' + encodeURIComponent(urlParams[_key]);\n    }\n  }\n  return newUrl;\n}\n\n;// CONCATENATED MODULE: ./src/pages/video/utils/jump.ts\n\n\n\n\n\n/**\n * 保留当前页面, 跳转到应用内另一个页面, 可以回退\n */\nvar navigateTo = function navigateTo() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  log.devTrace((0,objectSpread2/* default */.Z)({\n    msg: 'navigateTo'\n  }, args));\n  cwx.navigateTo.apply(cwx, args);\n};\n\n/**\n * 回退到上一个页面\n * 注意：只有在>1个页面的时候才会生效\n */\nvar navigateBack = function navigateBack() {\n  return cwx.navigateBack();\n};\n\n/**\n * 跳转H5直连地址\n */\nvar jumpToH5 = function jumpToH5(url) {\n  var needLogin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  log.devTrace({\n    msg: 'jumpToH5',\n    url: url\n  });\n  if (!url) {\n    console.warn('缺少H5 url');\n    return;\n  }\n  cwx.component.cwebview({\n    data: {\n      url: encodeURIComponent(url),\n      needLogin: needLogin\n    }\n  });\n};\nvar jumpToWxOrH5 = function jumpToWxOrH5(wxUrl, h5Url, isAppendParam) {\n  if (!wxUrl && !h5Url) {\n    return;\n  }\n  // \"/pages/tbnb/pages/common/webview/index?h5url=https%3A%2F%2Fm.tujia.com%2Fdetail%2F38172667.htm%3Fcode%3Dmp990%26beginDate%3D2023-07-20%26endDate%3D2023-07-21\";\n  if (wxUrl && !isHttpUrl(wxUrl)) {\n    // 用于告知 /pages/tbnb 页面，需要返回上一页\n    if (isAppendParam) {\n      wxUrl = parseAndAppendUrlParams(wxUrl, {\n        backpre: 1\n      });\n    }\n    console.log(\"[taro-video] jumpUrl: \", wxUrl);\n    navigateTo({\n      url: wxUrl\n    });\n    return;\n  }\n  if (h5Url) {\n    jumpToH5(h5Url);\n  }\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/utils/trace/index.ts\n\n// 埋点相关方法\n\n\n\n\n\n\n// 过度期，区分和旅拍自由埋点数据\nvar TRACE_FROM = \"public\";\n// \"view\": 组件级, \"page\": 页面级（沉浸式）\nvar TRACE_TYPE = \"page\";\n// 内容类型\nvar TRACE_CONTENT_TYPE = \"video\";\n// 根据商品接口的节点：推荐商品 recommends / 手工挂货商品 allGoods\nvar TRACE_VIDEO_GOODS_TYPE = /*#__PURE__*/function (TRACE_VIDEO_GOODS_TYPE) {\n  TRACE_VIDEO_GOODS_TYPE[\"ALLGOODS\"] = \"allGoods\";\n  TRACE_VIDEO_GOODS_TYPE[\"RECOMMENDS\"] = \"recommends\";\n  return TRACE_VIDEO_GOODS_TYPE;\n}({});\n\n/* 核心埋点 - 记录视频播放时长 */\n// 1. 正常播放：start=0，play=sliderValue\n// 2. 滑动进度条：play=滑动的最大值\n// 3. 切后台 / 跳别的页面，抛出埋点\n// 4. 从后台切回来 / 从别的页面返回，抛出埋点，此时startTime=10/...\n// 5. 循环播放也要重新抛\nvar videoPlayTimeTrace = function videoPlayTimeTrace(_ref) {\n  var totalTime = _ref.totalTime,\n    playTime = _ref.playTime,\n    startTime = _ref.startTime;\n  log.trace(METRIC_NAME.core_videoPlayTime, {\n    // 视频总时长\n    total_duration: totalTime,\n    // 视频开始播放的时间\n    start_duration: startTime,\n    // 离开时视频播放的时间\n    play_duration: playTime\n  });\n};\n\n/* 核心埋点 - 视频完播埋点 */\nvar videoFinishTrace = function videoFinishTrace(_ref2) {\n  var totalTime = _ref2.totalTime,\n    playTime = _ref2.playTime,\n    startTime = _ref2.startTime;\n  log.trace(METRIC_NAME.core_videoFinish, {\n    // 视频总时长\n    total_duration: totalTime,\n    // 视频开始播放的时间\n    start_duration: startTime,\n    // 离开时视频播放的时间\n    play_duration: playTime\n  });\n};\n\n/* 核心埋点 - 进入沉浸式页面就触发 */\nvar videoBrowseTrace = function videoBrowseTrace() {\n  log.trace(METRIC_NAME.core_videoBrowse);\n};\n\n/* 核心埋点 - 有效浏览≥5秒 */\nvar videoValidViewTrace = function videoValidViewTrace(params) {\n  var isRisk = params.isRisk,\n    isInfoSecurityRisk = params.isInfoSecurityRisk,\n    infoSecurityRiskLevel = params.infoSecurityRiskLevel,\n    isBusinessRisk = params.isBusinessRisk,\n    businessRiskLevel = params.businessRiskLevel,\n    requestId = params.requestId,\n    eventId = params.eventId;\n  log.trace(METRIC_NAME.core_isValidView, (0,objectSpread2/* default */.Z)({\n    from: TRACE_FROM,\n    type: TRACE_TYPE,\n    content_type: TRACE_CONTENT_TYPE\n  }, params));\n};\n\n/* 核心埋点 - 订单归因商品 */\nvar _handleProductTrace = function _handleProductTrace(data) {\n  var isAllGoods = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  for (var i = 0, len = data.length; i < len; i++) {\n    var _JSON$parse = JSON.parse(data[i]),\n      extInfo = _JSON$parse.extInfo;\n    if (isAllGoods && extInfo) {\n      // console.log(\"o_gs_tripshoot_detail_all_recommend_goods 触发埋点\");\n      log.trace(METRIC_NAME.core_mktProduct, {\n        from: TRACE_FROM,\n        type: TRACE_TYPE,\n        // getTripShootGoods接口中的extinfo信息，多商品拼接数组形式\n        product_infos: isAllGoods && extInfo || \"\"\n      });\n    }\n  }\n};\n\n// 只取allgoods节点, recomend/videogoods节点商品infos传空,一条商品一个记录\nvar videoMktProductTrace = function videoMktProductTrace(goods) {\n  var allGoods = goods.allGoods,\n    videoGoods = goods.videoGoods,\n    recommends = goods.recommends;\n  if (allGoods.totalCount) {\n    _handleProductTrace(allGoods.items, true);\n    return;\n  }\n  if (videoGoods.totalCount) {\n    _handleProductTrace(videoGoods.items, false);\n  }\n  if (recommends.totalCount) {\n    _handleProductTrace(recommends.items, false);\n  }\n};\n\n/* 引导曝光 */\nvar guideTrace = function guideTrace(guideType) {\n  log.trace(METRIC_NAME.videoGuide, {\n    guidetype: guideType\n  });\n};\n\n/* 滑动视频: 上下左右滑动 */\nvar gestureTrace = function gestureTrace(gestureType) {\n  log.trace(METRIC_NAME.videoGesture, {\n    gestureType: gestureType\n  });\n};\n\n// ! 顶部栏 事件监听？？？\nvar titleBarTrace = function titleBarTrace(titleBarType) {\n  log.trace(METRIC_NAME.videoTitleBar, {\n    titleBarType: titleBarType\n  });\n};\n\n/* 视频操作: 播放/暂停/快进/后退 */\nvar videoStatusTrace = function videoStatusTrace(playType) {\n  log.trace(METRIC_NAME.videoPlayer, {\n    playType: playType\n  });\n};\n\n/* 加载失败: 上滑失败/页面整体空态 */\n// !todo 上滑失败??\nvar videoFailTrace = function videoFailTrace(errorType) {\n  log.trace(METRIC_NAME.videoError, {\n    errorType: errorType\n  });\n};\n\n/* 投票挂件 */\nvar voteTrace = function voteTrace(actionType) {\n  log.trace(METRIC_NAME.videoVote, {\n    actionType: actionType\n  });\n};\n\n/* 横屏 */\nvar rotateScreenTrace = function rotateScreenTrace(params) {\n  var _params$actionType = params.actionType,\n    actionType = _params$actionType === void 0 ? '' : _params$actionType,\n    _params$isGravity = params.isGravity,\n    isGravity = _params$isGravity === void 0 ? '' : _params$isGravity;\n  // console.log(\"触发 landscape 埋点\", params);\n\n  log.trace(METRIC_NAME.videoLandscape, {\n    actionType: actionType,\n    isGravity: isGravity\n  });\n};\n\n/* 作者 */\nvar authorTrace = function authorTrace(authorType) {\n  log.trace(METRIC_NAME.videoAuthor, {\n    authorType: authorType\n  });\n};\nvar authorFollowTrace = function authorFollowTrace() {\n  log.trace(METRIC_NAME.videoFollowAuthor);\n};\n\n/* 互动 */\nvar videoLikeTrace = function videoLikeTrace(likeType) {\n  log.trace(METRIC_NAME.videoLike, {\n    likeType: likeType\n  });\n};\nvar videoCollectTrace = function videoCollectTrace(collectType) {\n  log.trace(METRIC_NAME.videoCollect, {\n    collectType: collectType\n  });\n};\nvar videoCommentTrace = function videoCommentTrace() {\n  log.trace(METRIC_NAME.videoComment);\n};\n\n/* 分享 */\nvar videoShareTrace = function videoShareTrace() {\n  log.trace(METRIC_NAME.videoShare);\n};\nvar videoShareViewTrace = function videoShareViewTrace(actionType, shareType) {\n  log.trace(METRIC_NAME.videoShareView, {\n    actionType: actionType,\n    shareType: shareType\n  });\n};\n\n/* 描述 */\nvar videoDetailsTrace = function videoDetailsTrace(actionType) {\n  if (!actionType) return;\n  log.trace(METRIC_NAME.videoViewAll, {\n    actionType: actionType\n  });\n};\nvar videoPoiTrace = function videoPoiTrace(poiType) {\n  log.trace(METRIC_NAME.videoPoi, {\n    poiType: poiType\n  });\n};\n\n// 商品埋点公共方法\nvar _productParamsUtil = function _productParamsUtil(productInfo, recommendIndex, video_goods) {\n  var protag = productInfo.protag,\n    id = productInfo.id,\n    cardSource = productInfo.cardSource,\n    distanceSubTitle = productInfo.distanceSubTitle;\n  // console.log(\"productInfo\", productInfo);\n\n  return {\n    // 商品类型，getContentProductList接口的protag，中文\n    prodcuttype: protag,\n    // 商品id\n    productid: id,\n    // 当前推荐顺序\n    number: recommendIndex,\n    // 商品类型，getContentProductList接口的cardSource，数字\n    goodsType: cardSource,\n    // 根据商品接口的节点：推荐商品 recommends / 手工挂货商品 allGoods\n    video_goods: video_goods,\n    // 商品卡片距离副标\n    distanceSubTitle: distanceSubTitle\n  };\n};\n\n/* 外露卡片 */\nvar floatProductTrace = function floatProductTrace(_ref3) {\n  var productInfo = _ref3.productInfo,\n    actionType = _ref3.actionType;\n  // console.log(\"productInfo\", productInfo);\n  if (isEmpty(productInfo)) {\n    return;\n  }\n  var params = _productParamsUtil(productInfo, 0, TRACE_VIDEO_GOODS_TYPE.ALLGOODS);\n  log.trace(METRIC_NAME.videoRecommendGoods, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, params), {}, {\n    actionType: actionType\n  }));\n};\n\n/* 购物车 */\nvar videoShoppingCartTrace = function videoShoppingCartTrace(actionType) {\n  log.trace(METRIC_NAME.videoShoppingCart, {\n    actionType: actionType\n  });\n};\n\n/* 购物车浮层 */\n// 购物车返回4个商品，则需要发四个埋点\nvar videoShoppingCartViewExposureTrace = function videoShoppingCartViewExposureTrace(products, goodsType) {\n  // const params = _productParamsUtil(videoInfo, sortIndex, \"allGoods\");\n  // console.error(\"shoppingcart show \", products)\n  for (var i = 0, len = products.length; i < len; i++) {\n    var productInfo = products[i];\n    productInfo = typeof productInfo === 'string' ? JSON.parse(productInfo) : productInfo;\n    var params = _productParamsUtil(productInfo, i, TRACE_VIDEO_GOODS_TYPE.ALLGOODS);\n    log.trace(METRIC_NAME.videoShoppingCartView, (0,objectSpread2/* default */.Z)({\n      actionType: ACTION_TYPE.EXPOSURE\n    }, params));\n  }\n};\n// ! 商品浮层关闭是将整个商品列表返回嘛？\nvar videoShoppingCartViewCloseTrace = function videoShoppingCartViewCloseTrace() {\n  // const params = _productParamsUtil(\"allGoods\");\n  log.trace(METRIC_NAME.videoShoppingCartView, {\n    actionType: ACTION_TYPE.CLOSE\n  });\n};\n// ! 商品点击返回当前这个商品的信息？？\nvar videoShoppingCartViewClickTrace = function videoShoppingCartViewClickTrace(productInfo, sortIndex) {\n  var params = _productParamsUtil(productInfo, sortIndex, TRACE_VIDEO_GOODS_TYPE.ALLGOODS);\n  log.trace(METRIC_NAME.videoShoppingCartView, (0,objectSpread2/* default */.Z)({\n    actionType: ACTION_TYPE.CLICK\n  }, params));\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/utils/author/index.ts\n\n\nvar jumpToAuthorHomePage = function jumpToAuthorHomePage(author, type) {\n  var wxUrl = author.wxUrl,\n    h5Url = author.h5Url,\n    jumpUrl = author.jumpUrl;\n  authorTrace(type);\n  jumpToWxOrH5(wxUrl, h5Url || jumpUrl);\n  // Log.devTrace(`jumpToAuthorHomePage error: ${JSON.stringify(author)}`)\n};\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2269);\n;// CONCATENATED MODULE: ./src/pages/video/components/common/Mask/index.tsx\n\n\n\nvar Mask = function Mask(props) {\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"video-mask\",\n    style: props.style,\n    onClick: props.handleClick\n  });\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/utils/toast.ts\n\n\n\n/**\n * 展示提示\n */\nvar showToast = function showToast(opt) {\n  if (!opt || !opt.title) {\n    return;\n  }\n  taro_default().showToast((0,objectSpread2/* default */.Z)({\n    duration: opt.duration || 2000,\n    mask: true\n  }, opt));\n};\n\n/**\n * 本地开发时的提示\n */\nvar debugToast = function debugToast(text) {\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3000;\n  var isDebug = arguments.length > 2 ? arguments[2] : undefined;\n  if (isDebug && !isDebugEnv()) {\n    return;\n  }\n  if (!text) {\n    console.error('请传入toast文案');\n    return;\n  }\n  showToast({\n    title: text,\n    duration: duration,\n    icon: 'none'\n  });\n};\n\n/**\n * 隐藏提示\n */\nvar hideToast = function hideToast(opt) {\n  Taro.hideToast(opt);\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/components/common/ShareButton/index.tsx\n\n\n\n\n\n\n\n\nvar ShareButton = /*#__PURE__*/(0,react.memo)(function (props) {\n  var text = props.text,\n    _props$size = props.size,\n    size = _props$size === void 0 ? \"default\" : _props$size;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"button\", {\n      type: \"default\",\n      \"open-type\": \"share\",\n      className: \"video-share__button\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"flex-column font-size22 color-333 line-height24\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          src: WEAPP_IMAGE,\n          className: \"\".concat(size)\n        }), text && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"margin-top16\",\n          children: \"\\u8F6C\\u53D1\\u7ED9\\u670B\\u53CB\"\n        })]\n      })\n    })\n  });\n});\n\n;// CONCATENATED MODULE: ./src/pages/video/components/popup/ShareModal.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ShareModal = /*#__PURE__*/(0,react.memo)(function (props) {\n  var title = props.title,\n    _props$bgColor = props.bgColor,\n    bgColor = _props$bgColor === void 0 ? \"\" : _props$bgColor,\n    videoInfo = props.videoInfo;\n  var contentId = videoInfo.contentId,\n    articleTitle = videoInfo.articleTitle,\n    author = videoInfo.author;\n  var _getShareImageUrl = function _getShareImageUrl() {\n    var params = {\n      title: articleTitle && encodeURIComponent(articleTitle),\n      imageType: \"tripshoot_multi\",\n      // 内容id\n      businessId: contentId,\n      // 图片类型\n      sourceType: \"front\",\n      // 来源，埋点使用\n      sourceFrom: \"video\",\n      from_native_page: 1,\n      // 图片初始\n      index: 0,\n      // 0 多图，1单图\n      styleType: 1\n    };\n    var query = Object.keys(params).reduce(function (prev, cur) {\n      prev.push(\"\".concat(cur, \"=\").concat(params[cur]));\n      return prev;\n    }, []);\n    var url = \"\".concat(POSTER_SHARE_PATH, \"?\").concat(query.join(\"&\"));\n    return url;\n  };\n  var generatePoster = function generatePoster(e) {\n    var url = _getShareImageUrl();\n    navigateTo({\n      url: url\n    });\n    videoShareViewTrace(ACTION_TYPE.CLICK, SHARE_TYPE.POSTER);\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-modal\",\n      style: {\n        backgroundColor: bgColor\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"video-modal__header\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"iconfont-close\",\n          onClick: props.handleClose\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: title\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"video-modal__content flex-spacebetween margin48X paddingX140\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(ShareButton, {\n          text: \"\\u8F6C\\u53D1\\u7ED9\\u670B\\u53CB\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"flex-column font-size22 color-333 line-height24\",\n          onClick: generatePoster,\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            src: DOWNLOAD_IMAGE,\n            className: \"video-modal__image margin-bottom16\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: \"\\u751F\\u6210\\u6D77\\u62A5\"\n          })]\n        })]\n      })]\n    })\n  });\n});\n\n;// CONCATENATED MODULE: ./src/pages/video/components/common/MyTag/index.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar TAG_STYLE = /*#__PURE__*/function (TAG_STYLE) {\n  TAG_STYLE[\"STRONG\"] = \"strong\";\n  TAG_STYLE[\"DISCOUNT\"] = \"discount\";\n  TAG_STYLE[\"NORMAL\"] = \"normal\";\n  return TAG_STYLE;\n}({});\nvar MyTag = /*#__PURE__*/(0,react.memo)(function (props) {\n  var text = props.text,\n    type = props.type,\n    _props$style = props.style,\n    style = _props$style === void 0 ? \"normal\" : _props$style,\n    iconUrl = props.iconUrl,\n    color = props.color,\n    bgColor = props.bgColor,\n    wxUrl = props.wxUrl,\n    h5Url = props.h5Url,\n    poiType = props.poiType;\n  var _useState = (0,react.useState)({}),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    customStyle = _useState2[0],\n    setCustomStyle = _useState2[1];\n  (0,react.useEffect)(function () {\n    var customStyle = {};\n    color && (customStyle[\"color\"] = color);\n    bgColor && (customStyle[\"backgroundColor\"] = bgColor);\n    setCustomStyle(customStyle);\n  }, []);\n  var handleJump = function handleJump() {\n    if (!wxUrl || !h5Url) {\n      // console.error('------ tag jump url empty ------');\n      return;\n    }\n    // console.log(\"handleJump tag\", wxUrl, h5Url);\n    poiType && videoPoiTrace(poiType != 4 ? POI_TYPE.POI : POI_TYPE.DESTRICT);\n    jumpToWxOrH5(wxUrl, h5Url);\n  };\n  var handleTagRender = function handleTagRender() {\n    switch (type) {\n      case \"location\":\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"video-tag location\",\n          onClick: function onClick() {\n            return handleJump(POI_TYPE.POI);\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            src: iconUrl,\n            className: \"video-tag__icon\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: text && text.length > 8 ? \"\".concat(text === null || text === void 0 ? void 0 : text.substring(0, 8), \"...\") : text\n          })]\n        });\n      case \"identity\":\n        return iconUrl && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"video-tag identity\",\n          style: customStyle,\n          onClick: handleJump,\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            src: iconUrl,\n            className: \"video-tag__icon\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: text\n          })]\n        }) || /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {});\n      case \"product\":\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-tag product \".concat(style),\n          onClick: handleJump,\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: text\n          })\n        });\n      default:\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {});\n    }\n  };\n  return handleTagRender();\n});\n\n;// CONCATENATED MODULE: ./src/pages/video/components/product/ProductCard/index.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar PRODUCT_CARD_TYPE = /*#__PURE__*/function (PRODUCT_CARD_TYPE) {\n  PRODUCT_CARD_TYPE[\"FLOAT\"] = \"float\";\n  PRODUCT_CARD_TYPE[\"LIST\"] = \"list\";\n  return PRODUCT_CARD_TYPE;\n}({}); // 列表卡片\n\n// 商品详情，根据productType显示\nvar PRODUCT_CARD_INFO_TYPE = /*#__PURE__*/function (PRODUCT_CARD_INFO_TYPE) {\n  PRODUCT_CARD_INFO_TYPE[PRODUCT_CARD_INFO_TYPE[\"NONE\"] = 0] = \"NONE\";\n  PRODUCT_CARD_INFO_TYPE[PRODUCT_CARD_INFO_TYPE[\"SCORE\"] = 1] = \"SCORE\";\n  PRODUCT_CARD_INFO_TYPE[PRODUCT_CARD_INFO_TYPE[\"PRICE\"] = 2] = \"PRICE\";\n  return PRODUCT_CARD_INFO_TYPE;\n}({});\nvar PRODUCT_CARD_INFO_TYPE_MAP = (0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)({}, PRODUCT_CARD_INFO_TYPE.NONE, [\"9998\"]), PRODUCT_CARD_INFO_TYPE.SCORE, [\"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"11\", \"14\", \"15\", \"20\", \"22\", \"25\", \"26\", \"29\"]), PRODUCT_CARD_INFO_TYPE.PRICE, [\"40\"]);\nvar ProductCardCmp = function ProductCardCmp(props) {\n  var _props$type = props.type,\n    type = _props$type === void 0 ? PRODUCT_CARD_TYPE.FLOAT : _props$type,\n    _props$closable = props.closable,\n    closable = _props$closable === void 0 ? true : _props$closable,\n    productInfo = props.productInfo;\n  var productType = productInfo.productType,\n    title = productInfo.title,\n    distanceSubTitle = productInfo.distanceSubTitle,\n    subTitle = productInfo.subTitle,\n    image = productInfo.image,\n    jumpText = productInfo.jumpText,\n    _productInfo$jumpUrl = productInfo.jumpUrl,\n    jumpUrl = _productInfo$jumpUrl === void 0 ? \"\" : _productInfo$jumpUrl,\n    score = productInfo.score,\n    salesText = productInfo.salesText,\n    commentText = productInfo.commentText,\n    goodsListShowStartSecond = productInfo.goodsListShowStartSecond,\n    goodsListShowEndSecond = productInfo.goodsListShowEndSecond,\n    _productInfo$itag = productInfo.itag,\n    itag = _productInfo$itag === void 0 ? [] : _productInfo$itag,\n    _productInfo$stag = productInfo.stag,\n    stag = _productInfo$stag === void 0 ? [] : _productInfo$stag,\n    _productInfo$tag = productInfo.tag,\n    tag = _productInfo$tag === void 0 ? [] : _productInfo$tag,\n    protag = productInfo.protag,\n    _productInfo$proTagIn = productInfo.proTagInfo,\n    _productInfo$proTagIn2 = _productInfo$proTagIn === void 0 ? {} : _productInfo$proTagIn,\n    startcolor = _productInfo$proTagIn2.startcolor,\n    endcolor = _productInfo$proTagIn2.endcolor,\n    graduallyAngle = _productInfo$proTagIn2.graduallyAngle,\n    textColor = _productInfo$proTagIn2.textColor,\n    priceUnit = productInfo.priceUnit,\n    currentPrice = productInfo.currentPrice,\n    originPrice = productInfo.originPrice,\n    startFromText = productInfo.startFromText;\n  var _useState = (0,react.useState)([]),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    tagList = _useState2[0],\n    setTagList = _useState2[1];\n  (0,react.useEffect)(function () {\n    var tempTagList = [];\n    if (!isEmpty(itag)) {\n      for (var i = 0; i < itag.length; i++) {\n        var item = itag[i];\n        tempTagList.push({\n          name: item,\n          style: TAG_STYLE.STRONG\n        });\n      }\n    }\n    if (!isEmpty(stag)) {\n      for (var _i = 0; _i < stag.length; _i++) {\n        var _item = stag[_i];\n        tempTagList.push({\n          name: _item,\n          style: TAG_STYLE.DISCOUNT\n        });\n      }\n    }\n    if (!isEmpty(tag)) {\n      for (var _i2 = 0; _i2 < tag.length; _i2++) {\n        var _item2 = tag[_i2];\n        tempTagList.push({\n          name: _item2,\n          style: TAG_STYLE.NORMAL\n        });\n      }\n    }\n    setTagList(tempTagList);\n  }, []);\n  var _getCardInfoType = function _getCardInfoType() {\n    var index = Object.values(PRODUCT_CARD_INFO_TYPE_MAP).findIndex(function (arr) {\n      return arr.some(function (type) {\n        return type == productType;\n      });\n    });\n    if (index > -1) {\n      return Object.keys(PRODUCT_CARD_INFO_TYPE_MAP)[index];\n    }\n    return PRODUCT_CARD_INFO_TYPE[\"NONE\"];\n  };\n  var cardInfoType = _getCardInfoType();\n  var closeBtnClick = function closeBtnClick(e) {\n    stopPropagation(e);\n    props.handleClose && props.handleClose();\n  };\n  var renderCloseButton = function renderCloseButton() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"iconfont-close video-product__close\",\n      onClick: closeBtnClick\n    });\n  };\n  var renderImage = function renderImage() {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-product__left\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-product__tag \".concat(textColor ? \"rank\" : \"\"),\n        style: {\n          background: \"linear-gradient(\".concat(graduallyAngle, \"deg, \").concat(startcolor, \" 0%, \").concat(endcolor, \" 100%)\"),\n          color: textColor\n        },\n        children: protag\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont-dolphin\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"video-product__img\",\n        src: image\n      })]\n    });\n  };\n  var _renderPrice = function _renderPrice() {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"price\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"color-price\",\n        children: priceUnit\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"bold\",\n        children: currentPrice\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        className: \"\",\n        children: startFromText\n      }), type == PRODUCT_CARD_TYPE.FLOAT ? salesText ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: salesText\n      }) : originPrice ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n        className: \"line-through\",\n        children: [priceUnit || \"￥\", originPrice]\n      }) : null : /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [originPrice && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          className: \"line-through\",\n          children: [priceUnit || \"￥\", originPrice]\n        }), salesText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          children: salesText\n        })]\n      })]\n    });\n  };\n  var renderProducntInfo = function renderProducntInfo() {\n    var tempSubTitle = cardInfoType == PRODUCT_CARD_INFO_TYPE[\"SCORE\"] ? distanceSubTitle || subTitle : subTitle;\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"flex-column-spacebetween flex1\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-product__title line-limited1\",\n          children: title\n        }), tempSubTitle && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-product__subtitle line-limited1\",\n          children: tempSubTitle\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-product__tags\",\n          children: tagList.map(function (item, index) {\n            return /*#__PURE__*/(0,jsx_runtime.jsx)(MyTag, {\n              text: item.name,\n              type: \"product\",\n              style: item.style\n            });\n          })\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-product__info\",\n        children: cardInfoType == PRODUCT_CARD_INFO_TYPE[\"SCORE\"] ? score && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"score\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"bold mark\",\n            children: score || 0\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"mark\",\n            children: \"\\u5206\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: commentText\n          })]\n        }) : currentPrice && _renderPrice()\n      })]\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, (0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)({\n    onClick: stopPropagation,\n    className: \"video-product \".concat(type == PRODUCT_CARD_TYPE.FLOAT ? \"product-float\" : \"\")\n  }, \"onClick\", props.handleClick), \"children\", [closable && renderCloseButton(), renderImage(), renderProducntInfo(), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"video-product__button\",\n    children: jumpText\n  })]));\n};\nvar areEqual = function areEqual(prevProps, nextProps) {\n  if (prevProps.productInfo == nextProps.productInfo) {\n    return true;\n  }\n  return false;\n};\nvar ProductCard = /*#__PURE__*/(0,react.memo)(ProductCardCmp, areEqual);\n\n;// CONCATENATED MODULE: ./src/pages/video/api/product/reportMktProduct.ts\n\n\n// 订单归因（reportMktProductClick）\n// 详细conf：V8.29 沉浸式视频服务#%EF%BC%886%EF%BC%89%E8%AE%A2%E5%8D%95%E5%BD%92%E5%9B%A0%EF%BC%88reportMktProductClick%EF%BC%89\n// 服务端契约：http://contract.mobile.flight.ctripcorp.com/#/operation-detail/3896/18/reportMktProductClick?lang=zh-CN\n\n\n\nvar REPORT_MKT_TYPE = /*#__PURE__*/function (REPORT_MKT_TYPE) {\n  REPORT_MKT_TYPE[\"VIEW\"] = \"view\";\n  REPORT_MKT_TYPE[\"EXPO\"] = \"expo_product\";\n  REPORT_MKT_TYPE[\"CLICK\"] = \"click_product\";\n  return REPORT_MKT_TYPE;\n}({});\nfunction reportMktProduct(_x) {\n  return _reportMktProduct.apply(this, arguments);\n}\nfunction _reportMktProduct() {\n  _reportMktProduct = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(param) {\n    var reqParams, data;\n    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          reqParams = {\n            url: API_MAP.reportMktProduct,\n            param: param\n          };\n          _context.next = 3;\n          return request(reqParams);\n        case 3:\n          data = _context.sent;\n          if (!(data.resultCode != 200)) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", false);\n        case 6:\n          return _context.abrupt(\"return\", true);\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _reportMktProduct.apply(this, arguments);\n}\n;// CONCATENATED MODULE: ./src/pages/video/components/common/Status/index.tsx\n\n\n\n\n\nvar STATUS_TYPE = /*#__PURE__*/function (STATUS_TYPE) {\n  STATUS_TYPE[\"EMPTY\"] = \"empty\";\n  STATUS_TYPE[\"NETWORK_ERROR\"] = \"networkError\";\n  STATUS_TYPE[\"LOAD_FAILED\"] = \"loadFailed\";\n  return STATUS_TYPE;\n}({});\nvar Status = function Status(props) {\n  var type = props.type,\n    title = props.title,\n    subTitle = props.subTitle,\n    buttonText = props.buttonText,\n    theme = props.theme;\n  // const imageUrl = STATUS_IMAGE_URL[type];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"video-status \".concat(theme),\n    children: [type && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"video-status__img \".concat(type)\n    }), title && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"video-status__title\",\n      children: title\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"video-status__subTitle\",\n      children: subTitle\n    }), buttonText && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Button, {\n      className: \"video-status__btn\",\n      onClick: props.handleClick,\n      children: buttonText\n    })]\n  });\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/components/common/Loading/index.tsx\n\n\n\n\n\nvar LOADING_TYPE = /*#__PURE__*/function (LOADING_TYPE) {\n  LOADING_TYPE[LOADING_TYPE[\"GLOBAL\"] = 0] = \"GLOBAL\";\n  LOADING_TYPE[LOADING_TYPE[\"PARTIAL\"] = 1] = \"PARTIAL\";\n  return LOADING_TYPE;\n}({});\nvar Loading = function Loading(props) {\n  var _props$type = props.type,\n    type = _props$type === void 0 ? LOADING_TYPE['PARTIAL'] : _props$type;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n    className: \"video-loading\",\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n      className: \"video-loading__img \".concat(type === LOADING_TYPE.GLOBAL ? \"\" : \"animation\"),\n      src: type === LOADING_TYPE.GLOBAL ? LOADING_EARTH : LOADING_SIMPLE\n    })\n  });\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/components/popup/ShoppingCartModal.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MAX_PRODUCT = 3;\nvar ShoppingCartModal = /*#__PURE__*/(0,react.memo)(function (props) {\n  var _products$groupedItem, _products$groupedItem2;\n  var videoInfo = props.videoInfo,\n    products = props.products,\n    netWorkErr = props.netWorkErr;\n  // netWorkErr = true;\n  var _useContext = (0,react.useContext)(AppContext),\n    urlParams = _useContext.urlParams;\n  var contentStyle = netWorkErr || isEmpty(products) || isEmpty(products.items) || (products === null || products === void 0 ? void 0 : products.items.length) > MAX_PRODUCT ? {\n    height: 'calc(62vh)'\n  } : {};\n  if (cwx.wxSystemInfo.platform != 'ios') {\n    contentStyle['marginBottom'] = '20px';\n  }\n  (0,react.useEffect)(function () {\n    !isEmpty(products === null || products === void 0 ? void 0 : products.items) && videoShoppingCartViewExposureTrace(products.items);\n  }, []);\n  var handleProductClick = function handleProductClick(productInfo, index) {\n    // console.log(\"------handleProductClick--------\", productInfo);\n    var author = videoInfo.author,\n      contentId = videoInfo.contentId;\n\n    // !feat 触发订单归因 - 点击\n    reportMktProduct({\n      clientAuth: author.clientAuth,\n      page_type: \"video_detail\",\n      // todo 待确认\n      pageid: VIDEO_PAGE_ID,\n      materialid: contentId,\n      product_infos: productInfo.extInfo,\n      click_type: REPORT_MKT_TYPE.CLICK,\n      note: JSON.stringify({\n        is_star: author.isStarAccount || false,\n        sourcefrom: urlParams.source\n      })\n    });\n    videoShoppingCartViewClickTrace(productInfo, index);\n    var wxUrl = productInfo.wxUrl,\n      h5Url = productInfo.h5Url,\n      productType = productInfo.productType;\n    // 民宿 productType = 18，需要添加参数用于返回上一页\n    jumpToWxOrH5(wxUrl, h5Url, productType == 18);\n    // console.error(\"jumpUrl empty!\");\n  };\n\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-modal\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"video-modal__header\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"iconfont-close\",\n          onClick: props.handleClose\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \" bold font-size34 color-333\",\n          children: (products === null || products === void 0 || (_products$groupedItem = products.groupedItems[0]) === null || _products$groupedItem === void 0 ? void 0 : _products$groupedItem.title) || (products === null || products === void 0 || (_products$groupedItem2 = products.groupedItems[1]) === null || _products$groupedItem2 === void 0 ? void 0 : _products$groupedItem2.title) || \"携程推荐\"\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-modal__content\",\n        style: contentStyle,\n        children: netWorkErr ? /*#__PURE__*/(0,jsx_runtime.jsx)(Status, {\n          type: STATUS_TYPE.NETWORK_ERROR,\n          title: \"\\u7F51\\u7EDC\\u4E0D\\u7ED9\\u529B\",\n          subTitle: \"\\u8BF7\\u68C0\\u67E5\\u7F51\\u7EDC\\u8BBE\\u7F6E\\u540E\\u518D\\u8BD5\",\n          buttonText: \"\\u518D\\u8BD5\\u4E00\\u6B21\"\n          // imageUrl = {NETWORK_ERR_IMAGE}\n          // handleClick={props.getProducts}\n        }) : isEmpty(products) ? /*#__PURE__*/(0,jsx_runtime.jsx)(Loading, {}) : isEmpty(products.items) ? /*#__PURE__*/(0,jsx_runtime.jsx)(Status, {\n          type: STATUS_TYPE.EMPTY,\n          title: \"\\u6682\\u65E0\\u5185\\u5BB9\"\n        }) :\n        /*#__PURE__*/\n        // 外层使用catchMove解决滚动穿透，但弹窗内部也不能滚动了；\n        // 此处使用scroll-view解决弹窗不能滚动的问题，一定要固定高度！\n        (0,jsx_runtime.jsxs)(components_react.ScrollView, {\n          style: {\n            height: \"100%\"\n          },\n          scrollY: true,\n          scrollWithAnimation: true,\n          scrollTop: 0,\n          lowerThreshold: 50,\n          upperThreshold: 20\n          // bounces\n          // onScrollToUpper={this.onScrollToUpper.bind(this)} // 使用箭头函数的时候 可以这样写 `onScrollToUpper={this.onScrollToUpper}`\n          // onScroll={this.onScroll}\n          ,\n          children: [products === null || products === void 0 ? void 0 : products.items.map(function (item, index) {\n            var productInfo = JSON.parse(item);\n            return /*#__PURE__*/(0,jsx_runtime.jsx)(ProductCard, {\n              type: PRODUCT_CARD_TYPE.LIST,\n              closable: false,\n              productInfo: productInfo,\n              handleClick: function handleClick() {\n                return handleProductClick(productInfo, index);\n              }\n            });\n          }), (products === null || products === void 0 ? void 0 : products.items.length) <= MAX_PRODUCT ? null : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"video-modal__bottom\",\n            children: \"\\u6CA1\\u6709\\u66F4\\u591A\\u4E86\"\n          })]\n        })\n      })]\n    })\n  });\n});\n\n// EXTERNAL MODULE: external \"@/miniapp/cwx/cwx\"\nvar cwx_ = __webpack_require__(56884);\n;// CONCATENATED MODULE: ./src/pages/video/commonModule/common_module_dir/node_modules/@ctrip/comment-list-modal-taro/src/api/index.js\n\nfunction doBeforeRequest(_ref) {\n  var url = _ref.url,\n    data = _ref.data,\n    _success = _ref.success,\n    _fail = _ref.fail,\n    _complete = _ref.complete;\n  var extensions = {\n    head: {\n      extension: [{\n        name: 'GsMiniPlantform',\n        value: 'wechatMiniapp'\n      }]\n    }\n  };\n  Object.assign(data, extensions);\n  cwx_.cwx.request({\n    url: url,\n    data: data,\n    //   method,\n    //   header: isCanary ? { 'x-ctrip-canary-req': '1' } : null,\n    success: function success(res) {\n      _success(res);\n    },\n    fail: function fail(res) {\n      var _res$ResponseStatus;\n      if (['MobileRequestFilterException', 'AccountMobileRequestFilterException'].indexOf(res === null || res === void 0 || (_res$ResponseStatus = res.ResponseStatus) === null || _res$ResponseStatus === void 0 || (_res$ResponseStatus = _res$ResponseStatus.Errors) === null || _res$ResponseStatus === void 0 || (_res$ResponseStatus = _res$ResponseStatus[0]) === null || _res$ResponseStatus === void 0 ? void 0 : _res$ResponseStatus.ErrorCode) > -1) {\n        cwx_.cwx.user.login({});\n      }\n      _fail && _fail(res);\n    },\n    complete: function complete() {\n      _complete && _complete();\n    }\n  });\n}\nvar ruleSortCommentList = function ruleSortCommentList(param, fn) {\n  doBeforeRequest({\n    url: '/restapi/soa2/14045/json/ruleSortCommentList',\n    data: param,\n    success: function success(res) {\n      fn(res);\n    },\n    fail: function fail(res) {\n      fn(res);\n    }\n  });\n};\n\n//详情页 发布点评\nvar comment = function comment(param, fn) {\n  doBeforeRequest({\n    url: '/restapi/soa2/14045/json/comment',\n    data: {\n      action: param.action,\n      commentId: param.commentId,\n      comment: param.comment,\n      isNeedInteractTag: true\n    },\n    success: function success(res) {\n      fn(res);\n    },\n    fail: function fail(res) {\n      fn(res);\n    }\n  });\n};\n\n//详情页分享、点赞调用，获取clientauth 和 token\nvar action = function action(param, fn) {\n  doBeforeRequest({\n    url: '/restapi/soa2/14045/json/action',\n    data: {\n      action: param.action,\n      targetId: param.targetId,\n      targetType: param.targetType\n    },\n    success: function success(res) {\n      fn(res);\n    },\n    fail: function fail(res) {\n      fn(res);\n    }\n  });\n};\n\n// 投票信息\nvar getPkVote = function getPkVote(param, fn) {\n  doBeforeRequest({\n    url: '/restapi/soa2/16189/json/getPkVote',\n    data: param,\n    success: function success(res) {\n      fn(res);\n    },\n    fail: function fail(res) {\n      fn(res);\n    }\n  });\n};\n\n// 提交投票\nvar interactionAction = function interactionAction(param, fn) {\n  doBeforeRequest({\n    url: '/restapi/soa2/14045/json/interactionAction',\n    data: param,\n    success: function success(res) {\n      fn(res);\n    },\n    fail: function fail(res) {\n      fn(res);\n    }\n  });\n};\n;// CONCATENATED MODULE: ./src/pages/video/commonModule/common_module_dir/node_modules/@ctrip/comment-list-modal-taro/src/utils/index.js\n\n\nvar checkResponseAck = function checkResponseAck(res, _callback, toastFlag) {\n  var status = false;\n  if (res &&\n  // res.statusCode == 200 &&\n  res.data && res.data.ResponseStatus && res.data.ResponseStatus.Ack.toLowerCase() === 'success') {\n    status = true;\n  } else if (res && res.data && res.data.ResponseStatus && res.data.ResponseStatus.Ack.toLowerCase() === 'failure' && res.data.ResponseStatus.Errors[0].ErrorCode == 'MobileRequestFilterException') {\n    toastFlag = false;\n    cwx_.cwx.user.logout(function (logoutres) {\n      cwx_.cwx.user.login({\n        callback: function callback(loginres) {\n          console.log('isLogin', loginres);\n          if (loginres && loginres.ReturnCode == 0) {\n            return _callback && _callback();\n          }\n        }\n      });\n    });\n  }\n  if (toastFlag == undefined) {\n    toastFlag = false;\n  }\n  if (!status && toastFlag) {\n    taro_default().showToast({\n      title: '请求异常，请重试~',\n      icon: 'none'\n    });\n  }\n  return status;\n};\n\n//跳转到webview页面\nvar jumpToWebview = function jumpToWebview(param) {\n  var methods = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'navigateTo';\n  if (false) {}\n  console.log('jumpToWebview', JSON.stringify(param));\n  var miniPath = '/cwx/component/cwebview/cwebview';\n  var url = \"\".concat(miniPath, \"?data=\").concat(JSON.stringify(param));\n  Taro[methods]({\n    url: url\n  });\n};\n\n// 把普通数据对象转换成可传入cemoji-converter组件的数据对象\nfunction assembleEmojiObj(obj, keyword, styleOptions) {\n  var emojiObj = {\n    text: '',\n    // 待转换文本\n    wrapperStyle: '',\n    // 组件壳的行内样式（注意：行内样式中，尺寸单位应为 px）\n    cemojiStyle: '' // 表情图片的行内样式（注意：行内样式中，尺寸单位应为 px）\n  };\n\n  if (obj) {\n    emojiObj.text = obj[keyword];\n    if (styleOptions) {\n      emojiObj.wrapperStyle = styleOptions.wrapperStyle;\n      emojiObj.cemojiStyle = styleOptions.cemojiStyle;\n    }\n  }\n  return emojiObj;\n}\nvar handleDataAfterCommentPraise = function handleDataAfterCommentPraise(commentList, commentId, topLevelCommentId) {\n  var childComments = [];\n  var mainCommentId = commentId; //主楼层id\n  if (topLevelCommentId) {\n    mainCommentId = topLevelCommentId;\n  }\n  commentList.forEach(function (item, index) {\n    if (item.commentId == mainCommentId) {\n      if (topLevelCommentId && commentId != topLevelCommentId) {\n        //2个id相等或者第二个没传，表示当前即为主楼层\n        childComments = commentList[index].childComments;\n        childComments.forEach(function (childItem, childIndex) {\n          if (childItem.commentId == commentId) {\n            if (childItem.isLike) {\n              childItem.isLike = false;\n              childItem.likeCount = (childItem.likeCount || 0) - 1;\n            } else {\n              childItem.isLike = true;\n              childItem.likeCount = (childItem.likeCount || 0) + 1;\n            }\n          }\n        });\n      } else {\n        if (item.isLike) {\n          item.isLike = false;\n          item.likeCount = (item.likeCount || 0) - 1;\n        } else {\n          item.isLike = true;\n          item.likeCount = (item.likeCount || 0) + 1;\n        }\n      }\n    }\n  });\n  return commentList;\n};\n;// CONCATENATED MODULE: ./src/pages/video/commonModule/common_module_dir/node_modules/@ctrip/comment-list-modal-taro/src/components/EmojiComp/index.jsx\n\n\n\n\n\n\n\nvar EmojiComp = /*#__PURE__*/function (_Component) {\n  (0,inherits/* default */.Z)(EmojiComp, _Component);\n  var _super = (0,createSuper/* default */.Z)(EmojiComp);\n  function EmojiComp() {\n    (0,classCallCheck/* default */.Z)(this, EmojiComp);\n    return _super.apply(this, arguments);\n  }\n  (0,createClass/* default */.Z)(EmojiComp, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        inputObj = _this$props.inputObj,\n        cwx = _this$props.cwx;\n      var showContent = '';\n      if (cwx) {\n        showContent = cwx.convertCEmojiInput(inputObj);\n      }\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(react.Fragment, {\n        children: !showContent ? /*#__PURE__*/(0,jsx_runtime.jsx)(\"cemoji-converter\", {\n          inputObj: this.props.inputObj\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.RichText, {\n          nodes: showContent\n        })\n      });\n    }\n  }]);\n  return EmojiComp;\n}(react.Component);\nfunction EmojiComp_areEqual(prevProps, nextProps) {\n  var pInputObj = prevProps.inputObj || {};\n  var nInputObj = nextProps.inputObj || {};\n  if (pInputObj.text == nInputObj.text && pInputObj.wrapperStyle == nInputObj.wrapperStyle && pInputObj.cemojiStyle == nInputObj.cemojiStyle) {\n    return true;\n  } else {\n    return false;\n  }\n}\n/* harmony default export */ var components_EmojiComp = (/*#__PURE__*/(0,react.memo)(EmojiComp, EmojiComp_areEqual));\n;// CONCATENATED MODULE: ./src/pages/video/commonModule/common_module_dir/node_modules/@ctrip/comment-list-modal-taro/src/components/InputMask.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar InputMask = /*#__PURE__*/function (_Component) {\n  (0,inherits/* default */.Z)(InputMask, _Component);\n  var _super = (0,createSuper/* default */.Z)(InputMask);\n  function InputMask(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, InputMask);\n    _this = _super.call(this, props);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"inpValueChange\", function (e) {\n      var value = e.detail && e.detail.value;\n      // console.log(\"inputValue:\", value);\n      // eslint-disable-next-line react/no-direct-mutation-state\n      _this.state.inputValue = value;\n      if (false) {}\n      _this.inputValueData = value;\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handleFocus\", function (e) {\n      _this.props.inputFocus(e);\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handleBlur\", function (e) {\n      if ( false || !_this.canHide) return;\n      _this.hideCommentInput(e);\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"hideCommentInput\", function () {\n      if (_this.isClickQuick) {\n        _this.isClickQuick = false;\n        return;\n      }\n      // this.props.hideNotify && this.props.hideNotify();\n      // this.inputValueData = \"\";\n      _this.setState({\n        // inputValue: \"\",\n        visible: false,\n        commentFocus: false\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"testInvalidStr\", function (str) {\n      var rule = /^[\\[\\]\\{\\}\\#\\%\\^\\*\\+\\=\\_\\\\\\|\\~\\<\\>\\€\\£\\¥\\•\\.\\,\\?\\!\\'\\-\\/\\:\\;\\(\\)\\$\\&\\@\\\"\\.\\-\\/\\：\\；\\（\\）\\¥\\“\\”\\。\\，\\、\\？\\！\\.\\【\\】\\｛\\｝\\#\\%\\—\\～\\《\\》\\·\\…\\,\\‘\\’\\s]+$/;\n      return rule.test(str);\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"toComment\", function () {\n      var params = {\n        action: 'post',\n        comment: {\n          articleId: _this.props.articleId,\n          content: _this.inputValueData,\n          replyCommentId: _this.replyCommentId\n        },\n        isContentEncode: true\n      };\n      // if (this.replyCommentId) {\n      // \tparams.comment.replyCommentId = this.props.replyCommentId;\n      // }\n      if (_this.inputValueData.length == 0) {\n        taro_default().showToast({\n          title: '您不能提交空评论哦~',\n          icon: 'none'\n        });\n        _this.hideCommentInput();\n        return;\n      }\n      if (_this.testInvalidStr(_this.inputValueData)) {\n        taro_default().showToast({\n          title: '请您留下有意义的一笔哦~',\n          icon: 'none'\n        });\n        _this.hideCommentInput();\n        return;\n      }\n      comment(params, function (res) {\n        var _result$comment;\n        console.log('toComment', res);\n        var result = res.data;\n        var toast = '';\n        if (result !== null && result !== void 0 && (_result$comment = result.comment) !== null && _result$comment !== void 0 && _result$comment.commentId) {\n          _this.props.ubtTrace('c_gs_tripshoot_comment_publishcomment', {\n            articleId: _this.props.articleId,\n            commentId: result.comment.commentId\n          });\n          console.log('c_gs_tripshoot_comment_publishcomment', {\n            articleId: _this.props.articleId,\n            commentId: result.comment.commentId\n          });\n          if (result.rewardInfo && result.rewardInfo.message) {\n            toast = result.rewardInfo.message;\n          } else {\n            toast = _this.tempReplyId ? '你的回复已发布' : '你的评论已发布';\n          }\n          _this.inputValueData = '';\n          taro_default().showToast({\n            title: toast,\n            icon: 'none'\n          });\n          _this.props.commentSubmitNotify(result.comment);\n          _this.hideCommentInput();\n          _this.setState({\n            inputValue: ''\n          });\n        } else {\n          if (result && result.result && result.result.resultId == 101) {\n            toast = '表情正在升级中，请输入文字～～';\n          } else if (result && result.result && result.result.resultId == 103) {\n            toast = '抱歉由于对方设置，你无法执行该操作';\n          } else if (result && result.result && result.result.resultText) {\n            toast = result.result.resultText;\n          } else {\n            toast = '评论失败，请稍后再试～';\n          }\n          taro_default().showToast({\n            title: toast,\n            icon: 'none'\n          });\n          _this.inputValueData = '';\n        }\n      }, function () {\n        taro_default().showToast({\n          title: '评论失败，请稍后再试～',\n          icon: 'none'\n        });\n        _this.inputValueData = '';\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"toFoucus\", function () {\n      _this.setState({\n        commentFocus: true\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handleClickQuickItemValue\", function (item) {\n      _this.isClickQuick = true;\n      _this.inputValueData = _this.inputValueData + item;\n      _this.props.ubtTrace('c_gs_tripshoot_detail_keyboardReply', {\n        articleId: _this.props.articleId\n      });\n      console.log('c_gs_tripshoot_detail_keyboardReply', {\n        articleId: _this.props.articleId\n      });\n      _this.setState({\n        inputValue: _this.inputValueData,\n        commentFocus: false\n      }, function () {\n        setTimeout(function () {\n          _this.setState({\n            commentFocus: true\n          }, function () {\n            _this.isClickQuick = false;\n          });\n        }, 100);\n      });\n    });\n    _this.inputValueData = '';\n    _this.isClickQuick = false;\n    _this.canHide = true;\n    _this.state = {\n      inputValue: '',\n      //\n      visible: false,\n      //\n      commentFocus: false,\n      placeholder: '说点什么...'\n    };\n    return _this;\n  }\n  (0,createClass/* default */.Z)(InputMask, [{\n    key: \"show\",\n    value: function show(text) {\n      var _this2 = this;\n      var text2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '说点什么...';\n      var id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var inputValue = text || this.state.inputValue;\n      var placeholder = text2 || this.state.placeholder;\n      this.replyCommentId = id;\n      this.canHide = false;\n      setTimeout(function () {\n        _this2.canHide = true;\n      }, 1000);\n      this.setState({\n        visible: true,\n        inputValue: inputValue,\n        placeholder: placeholder\n      }, function () {\n        setTimeout(function () {\n          _this2.toFoucus();\n          _this2.inputValueData = inputValue;\n        }, 200);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var replyList = this.props.replyList;\n      var _this$state = this.state,\n        visible = _this$state.visible,\n        commentFocus = _this$state.commentFocus,\n        placeholder = _this$state.placeholder;\n      // if (!visible) {\n      // \treturn null;\n      // }\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"comment-fixedsbg \".concat(visible ? 'show' : ''),\n          catchMove: true,\n          onClick: this.hideCommentInput\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"comp-fixedbottom \".concat(visible ? 'show' : ''),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"comp-quickReply_tab\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"commentbox\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Textarea, {\n                \"show-confirm-bar\": false,\n                fixed: true,\n                \"disable-default-padding\": true,\n                \"auto-height\": true,\n                className: \"commentbox-inp commentbox-inp-fixed commentbox-test\",\n                \"placeholder-className\": \"commentbox-inp\",\n                onFocus: this.handleFocus,\n                \"adjust-position\": true,\n                onInput: this.inpValueChange,\n                value: this.state.inputValue,\n                placeholder: placeholder,\n                onKeyboardHeightChange: this.props.keybordHeightChange,\n                focus: commentFocus\n                // onLineChange={this.props.lineChange}\n                ,\n                \"cursor-spacing\": replyList && replyList.length > 0 ? 54 : 20,\n                onBlur: this.handleBlur\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"comment-send\",\n              onClick: this.toComment,\n              children: \"\\u53D1\\u9001\"\n            })]\n          }), replyList && replyList.length > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"comp-quickReply comp-quickReply-Input\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"quickText\",\n              children: \"\\u5FEB\\u6377\\u56DE\\u590D:\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.ScrollView, {\n              className: \"quickScroll\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"comp-quickReplyList\",\n                children: replyList.slice(0, 3).map(function (replyItem, index) {\n                  return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"comp-quickReplyItem comp-quickReplyObserverTwo\",\n                    onClick: function onClick() {\n                      return _this3.handleClickQuickItemValue(replyItem);\n                    },\n                    children: replyItem\n                  }, index);\n                })\n              })\n            })]\n          })]\n        })]\n      });\n    }\n  }]);\n  return InputMask;\n}(react.Component);\nfunction InputMask_areEqual(prevProps, nextProps) {\n  if (prevProps.articleId == nextProps.articleId && prevProps.replyCommentId == nextProps.replyCommentId && prevProps.replyList == nextProps.replyList) {\n    return true;\n  } else {\n    return false;\n  }\n}\n/* harmony default export */ var components_InputMask = (/*#__PURE__*/(0,react.memo)(InputMask, InputMask_areEqual));\nInputMask.defaultProps = {\n  inputFocus: function inputFocus() {},\n  // 输入框聚焦回调\n  articleId: '',\n  // 文章id\n  // replyCommentId: '', // 回复的评论id\n  replyList: [],\n  // 下方快捷回复列表\n  ubtTrace: function ubtTrace() {},\n  // ubt埋点方法\n  commentSubmitNotify: function commentSubmitNotify() {} // 评论发送成功通知\n};\n;// CONCATENATED MODULE: ./src/pages/video/commonModule/common_module_dir/node_modules/@ctrip/comment-list-modal-taro/src/components/Vote.jsx\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vote = /*#__PURE__*/function (_Component) {\n  (0,inherits/* default */.Z)(Vote, _Component);\n  var _super = (0,createSuper/* default */.Z)(Vote);\n  function Vote(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Vote);\n    _this = _super.call(this, props);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"getVoteInfo\", function () {\n      var params = {\n        articleId: _this.props.articleId\n      };\n      getPkVote(params, function (res) {\n        var _res$data;\n        _this.isPushAction = false;\n        // res.data.interaction = {\n        // \tisInteract: false,\n        // \tisEnd: false,\n        // \ttype: 3,\n        // \tname: '测试投票',\n        // \tendDisplayTime: '2023-05-20',\n        // \tjoinCount: 100,\n        // \tinteractItems: [\n        // \t\t{\n        // \t\t\tisChecked: false,\n        // \t\t\tname: '选项A',\n        // \t\t\tpercentage: '50',\n        // \t\t\titemId: 1,\n        // \t\t},\n        // \t\t{\n        // \t\t\tisChecked: false,\n        // \t\t\tname: '选项B',\n        // \t\t\tpercentage: '50',\n        // \t\t\titemId: 2,\n        // \t\t},\n        // \t],\n        // };\n        if (res !== null && res !== void 0 && (_res$data = res.data) !== null && _res$data !== void 0 && _res$data.interaction) {\n          var _res$data2, _res$data3, _res$data4, _res$data5, _res$data6, _res$data7, _res$data8;\n          _this.props.ubtTrace('o_gs_tripshoot_detail_vote_expose', {\n            type: res === null || res === void 0 || (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.interaction.type\n          });\n          console.log('o_gs_tripshoot_detail_vote_expose', {\n            type: res === null || res === void 0 || (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.interaction.type\n          });\n          _this.setState({\n            voteInfo: res === null || res === void 0 || (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.interaction,\n            isInteract: res === null || res === void 0 || (_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.interaction.isInteract,\n            isEnd: res === null || res === void 0 || (_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : _res$data6.interaction.isEnd,\n            activeType: res === null || res === void 0 || (_res$data7 = res.data) === null || _res$data7 === void 0 ? void 0 : _res$data7.interaction.type,\n            interactItems: (res === null || res === void 0 || (_res$data8 = res.data) === null || _res$data8 === void 0 ? void 0 : _res$data8.interaction.interactItems) || []\n          });\n        }\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"_renderItem\", function (item, idx) {\n      var _this$state = _this.state,\n        isInteract = _this$state.isInteract,\n        activeType = _this$state.activeType;\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"vote-list-item \".concat(item.isChecked ? 'isChecked' : ''),\n        onClick: function onClick() {\n          return _this._handleClickItem(item, idx);\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"item-text\",\n          children: [item.name, item.isChecked && (activeType == 2 || activeType == 3 && isInteract) ? '(已选)' : '']\n        }), isInteract ? /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"item-per-bg\",\n            style: {\n              width: \"\".concat(item.percentage, \"%\")\n            }\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"item-per-num\",\n            children: [item.percentage, \"%\"]\n          })]\n        }) : null, !isInteract && activeType == 3 && item.isChecked ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"item-check\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n            className: \"check-img\",\n            src: \"https://pages.c-ctrip.com/livestream/tripshoot/selected.png\"\n          })\n        }) : null]\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"_handleClickItem\", function (item, idx) {\n      var isLogin = _this.props.cwx.user.isLogin();\n      if (!isLogin) {\n        _this.props.toLogin();\n        return;\n      }\n      var _this$state2 = _this.state,\n        activeType = _this$state2.activeType,\n        isInteract = _this$state2.isInteract,\n        isEnd = _this$state2.isEnd;\n      if (isInteract || _this.isPushAction || isEnd) return;\n      // eslint-disable-next-line react/no-direct-mutation-state\n      _this.state.interactItems[idx].isChecked = !_this.state.interactItems[idx].isChecked;\n      if (activeType == 2) {\n        // 单选\n        _this.props.ubtTrace('c_gs_tripshoot_detail_vote_option', {\n          type: 2\n        });\n        console.log('c_gs_tripshoot_detail_vote_option', {\n          type: 2\n        });\n        _this._interactionAction();\n      } else if (activeType == 3) {\n        _this.setState({\n          interactItems: _this.state.interactItems\n        });\n        _this.props.ubtTrace('c_gs_tripshoot_detail_vote_option', {\n          type: 3\n        });\n        console.log('c_gs_tripshoot_detail_vote_option', {\n          type: 3\n        });\n      }\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"_interactionAction\", function () {\n      if (_this.isPushAction) return;\n      var interactItems = _this.state.interactItems;\n      var interactionItems = [];\n      interactItems.forEach(function (item) {\n        if (item.isChecked) {\n          interactionItems.push({\n            title: item.name,\n            articleInteractionItemId: item.itemId\n          });\n        }\n      });\n      var params = {\n        // interactionId: voteInfo.interactionId,\n        action: 'interactive',\n        // expireDayType: '',\n        articleId: _this.props.articleId,\n        interaction: {\n          interactionItems: interactionItems\n        }\n      };\n      _this.isPushAction = true;\n      interactionAction(params, function (res) {\n        var _res$data9;\n        if (res !== null && res !== void 0 && (_res$data9 = res.data) !== null && _res$data9 !== void 0 && (_res$data9 = _res$data9.result) !== null && _res$data9 !== void 0 && _res$data9.result) {\n          _this.getVoteInfo();\n        } else {\n          _this.isPushAction = false;\n        }\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"_handleSubmitBtn\", function () {\n      if (!_this.isCanSubmit || _this.isPushAction || _this.state.isInteract) return;\n      _this._interactionAction();\n      _this.props.ubtTrace('c_gs_tripshoot_detail_vote_submit');\n      console.log('c_gs_tripshoot_detail_vote_submit');\n    });\n    _this.isPushAction = false; // 正在提交信息\n    _this.state = {\n      isInteract: false,\n      // 投票状态，false 未投票，true 已投票\n      isEnd: false,\n      //活动状态，true 已结束，false 进行中\n      activeType: 0,\n      // 活动类型，1: pk 2: 单选投票 3 多选投票*\n      activeTypeMap: {\n        1: 'pk',\n        2: '单选',\n        3: '多选'\n      },\n      voteInfo: null,\n      // 活动信息,\n\n      interactItems: [] // 选项列表\n    };\n    return _this;\n  }\n  (0,createClass/* default */.Z)(Vote, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n        articleId = _this$props.articleId,\n        userInit = _this$props.userInit;\n      if (!this.state.voteInfo && articleId && articleId != '0' && !userInit) {\n        this.getVoteInfo();\n      }\n    }\n  }, {\n    key: \"isCanSubmit\",\n    get: function get() {\n      return this.state.interactItems.find(function (item) {\n        return item.isChecked;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$state3 = this.state,\n        isInteract = _this$state3.isInteract,\n        isEnd = _this$state3.isEnd,\n        activeType = _this$state3.activeType,\n        activeTypeMap = _this$state3.activeTypeMap,\n        voteInfo = _this$state3.voteInfo,\n        interactItems = _this$state3.interactItems;\n      if (!voteInfo) return null;\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(react.Fragment, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"vote-content\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"vote-title\",\n            children: [voteInfo.name, \"\\uFF08\", activeTypeMap[activeType], \"\\uFF09\"]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"vote-list \".concat(isEnd ? 'isEnd' : '', \" \").concat(isInteract ? 'isInteract' : ''),\n            children: interactItems.map(function (item, idx) {\n              return _this2._renderItem(item, idx);\n            })\n          }), !isInteract && !isEnd && activeType == 3 ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            onClick: this._handleSubmitBtn,\n            className: \"vote-submit \".concat(this.isCanSubmit ? 'active' : ''),\n            children: \"\\u786E\\u8BA4\\u63D0\\u4EA4\"\n          }) : null, /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"vote-info\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"vote-time\",\n              children: voteInfo.endDisplayTime\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              children: [\"\\xB7 \", voteInfo.joinCount, \"\\u4EBA\\u5DF2\\u53C2\\u4E0E\"]\n            })]\n          })]\n        })\n      });\n    }\n  }]);\n  return Vote;\n}(react.Component);\n\n;// CONCATENATED MODULE: ./src/pages/video/commonModule/common_module_dir/node_modules/@ctrip/comment-list-modal-taro/src/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar CommentListModal = /*#__PURE__*/function (_Component) {\n  (0,inherits/* default */.Z)(CommentListModal, _Component);\n  var _super = (0,createSuper/* default */.Z)(CommentListModal);\n  function CommentListModal(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, CommentListModal);\n    _this = _super.call(this, props);\n    //   初始化\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"initCommentList\", function () {\n      _this.pageIndex = 1;\n      // eslint-disable-next-line react/no-direct-mutation-state\n      _this.state.commentList = [];\n      _this.getCommentList();\n    });\n    // 获取评论列表\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"getCommentList\", function () {\n      var param = {\n          articleId: _this.id,\n          para: {\n            pageIndex: _this.pageIndex,\n            pageSize: 10,\n            sortType: _this.state.sortType\n          },\n          isContentEncode: false,\n          displayType: 2,\n          showCommentCount: true,\n          sortDirection: 0,\n          excludeCommentIds: [],\n          levels: [0]\n        },\n        commentList = [],\n        totalCount = 0,\n        isLoadEnd = false;\n      _this.setState({\n        isloading: true\n      });\n      ruleSortCommentList(param, function (res) {\n        if (checkResponseAck(res) && res.data.comments && res.data.comments.length > 0) {\n          commentList = (res.data.comments || []).map(function (item) {\n            item.childCommentsPageIndex = 1;\n            item.childComments.forEach(function (childItem, childIndex) {\n              childItem.isPublic = true;\n            });\n            return item;\n          });\n          commentList = _this.state.commentList.concat(commentList);\n          totalCount = res.data.sceneTotalCount;\n          isLoadEnd = commentList.length >= res.data.totalCount;\n          _this.setState({\n            commentList: commentList,\n            totalCount: totalCount,\n            isloading: false,\n            isLoadEnd: isLoadEnd,\n            listLoading: false\n          });\n        } else {\n          _this.setState({\n            isloading: false,\n            isLoadEnd: true\n          });\n        }\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"switchSortType\", function (val) {\n      _this.props.ubtTrace('c_gs_tripshoot_comment_orderchange', {\n        articleId: _this.id\n      });\n      console.log('c_gs_tripshoot_comment_orderchange', {\n        articleId: _this.id\n      });\n      _this.setState({\n        sortType: val,\n        listLoading: true\n      }, function () {\n        _this.initCommentList();\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handleLoadMore\", function () {\n      if (!_this.state.isLoadEnd && !_this.state.isloading) {\n        _this.pageIndex++;\n        _this.getCommentList();\n      }\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"jumpToHome\", function (auth) {\n      _this.props.ubtTrace('c_gs_tripshoot_comment_mypic', {\n        articleId: _this.id\n      });\n      console.log('c_gs_tripshoot_comment_mypic', {\n        articleId: _this.id\n      });\n      var h5Url = '',\n        prefix = '';\n      if (cwx_.__global.env.toLowerCase() === 'uat') {\n        prefix = 'https://m.uat.qa.nt.ctripcorp.com/webapp/you/tripshoot/user/';\n      } else {\n        prefix = 'https://m.ctrip.com/webapp/you/tripshoot/user/'; //生产\n      }\n\n      h5Url = prefix + 'home?seo=0&isMini=2&autoawaken=close&popup=close&ishideheader=yes&clientAuth=' + auth;\n      var param = {\n        url: encodeURIComponent(h5Url),\n        needLogin: false,\n        isNavigate: true\n      };\n      if (true) {\n        var url = '/pages/ugc/user/index?clientAuth=' + auth;\n        cwx_.cwx.navigateTo({\n          url: url\n        });\n      } else {}\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"doCommentPraise\", function (item, topCommentId) {\n      _this.topCommentId = topCommentId;\n      var self = (0,assertThisInitialized/* default */.Z)(_this),\n        targetType = '',\n        isLogin = _this.props.cwx.user.isLogin(),\n        actionCode = '';\n      if (item.isLike) {\n        targetType = 'cancel_like';\n        actionCode = 'c_gs_tripshoot_comment_cancellike';\n      } else {\n        targetType = 'like';\n        actionCode = 'c_gs_tripshoot_comment_like';\n      }\n      self.props.ubtTrace(actionCode, {\n        articleId: _this.id,\n        commentId: item.commentId\n      });\n      console.log(actionCode, {\n        articleId: _this.id,\n        commentId: item.commentId\n      });\n      if (!isLogin) {\n        self.toLogin();\n      } else {\n        self.getActionInfo(targetType, 'comment', item.commentId);\n      }\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"getActionInfo\", function (type, targetType, targetId) {\n      var params = {\n        action: type,\n        //待定\n        targetId: targetId,\n        targetType: targetType //待定\n      };\n\n      action(params, function (res) {\n        if (checkResponseAck(res)) {\n          var _res$data;\n          if (res !== null && res !== void 0 && (_res$data = res.data) !== null && _res$data !== void 0 && (_res$data = _res$data.result) !== null && _res$data !== void 0 && _res$data.result) {\n            _this.refreshComment(targetId, _this.topCommentId);\n            _this.topCommentId = '';\n            var toastTitle = '';\n            var rewardInfo = '';\n            if (type == 'like') {\n              toastTitle = '点赞成功';\n              rewardInfo = res.data.rewardInfo;\n              if (rewardInfo && rewardInfo.message) {\n                toastTitle = toastTitle + ' ' + rewardInfo.message;\n              }\n              setTimeout(function () {\n                taro_default().showToast({\n                  title: toastTitle,\n                  icon: 'none'\n                });\n              }, 750);\n            } else {\n              toastTitle = '已取消点赞';\n            }\n            _this.props.praiseNotify && _this.props.praiseNotify(type, targetId);\n          } else {\n            if (type == 'like') {\n              taro_default().showToast({\n                title: '点赞失败',\n                icon: 'none'\n              });\n            } else if (type == 'cancel_like') {\n              taro_default().showToast({\n                title: '取消点赞失败',\n                icon: 'none'\n              });\n            }\n          }\n        }\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"toLogin\", function () {\n      var self = (0,assertThisInitialized/* default */.Z)(_this);\n      _this.props.cwx && _this.props.cwx.user.login({\n        callback: function callback(res) {\n          if (res && res.ReturnCode == 0) {\n            self.props.loginCallback && self.props.loginCallback();\n          }\n        }\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"toReply\", function (nickName, id, isself, commentId) {\n      _this.props.ubtTrace('c_gs_tripshoot_comment_clickcomment', {\n        articleId: _this.id,\n        commentId: commentId\n      });\n      var isLogin = _this.props.cwx && _this.props.cwx.user.isLogin();\n      if (!isLogin) {\n        _this.toLogin();\n        return;\n      }\n      _this.replyCommentId = id;\n      _this.topCommentId = id;\n      _this.inputMaskRef && _this.inputMaskRef.show('', '回复' + nickName + ':', id);\n      // this.props.handleToReply({\n      // \tnickName,\n      // \tid: commentId,\n      // \tisself,\n      // \ttopCommentId: id,\n      // });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"_renderCommentDetail\", function (item, topCommentId) {\n      var commentTextStyle = _this.props.commentTextStyle;\n      try {\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"comemnt-avat\",\n            onClick: function onClick() {\n              return _this.jumpToHome(item.author.clientAuth);\n            },\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n              className: \"comemnt-avat-img\",\n              src: item.author.coverImage && item.author.coverImage.dynamicUrl || 'https://pages.c-ctrip.com/you/lvpai-home-defaultavat.jpg'\n            }), item.author.vIcon && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n              className: \"comemnt-vip\",\n              src: item.author.vIcon\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"comemnt-content\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"comemnt-name-wrapper\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"comemnt-name\",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"name-reply-container\",\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"name-text\",\n                    children: item.author.nickName\n                  }), item.author.tag && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"comemnt-identity\",\n                    children: item.author.tag\n                  }), item.refComment && item.refComment.author && item.refComment.author.nickName && /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n                    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                      className: \"reply\",\n                      children: \"\\u56DE\\u590D\"\n                    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                      className: \"name-text\",\n                      children: item.refComment.author.nickName\n                    }), item.refComment.author.tag && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                      className: \"comemnt-identity\",\n                      children: item.refComment.author.tag\n                    })]\n                  })]\n                }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"common-comment-praise\",\n                  onClick: function onClick() {\n                    return _this.doCommentPraise(item, topCommentId);\n                  },\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"like-content\",\n                    children: item.isLike ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                      className: \"like-icon\",\n                      mode: \"widthFix\",\n                      src: \"https://pages.c-ctrip.com/livestream/tripshoot/vote-comment-liked.png\"\n                    }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                      className: \"like-icon\",\n                      mode: \"widthFix\",\n                      src: \"https://pages.c-ctrip.com/livestream/tripshoot/vote-comment-like.png\"\n                    })\n                  }), item.likeCount > 0 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"count\",\n                    children: item.likeCount\n                  }), item.publishStatus != 5 && item.publishStatus != 4 && item.publishStatus != 3 && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"item-more\",\n                    onClick: function onClick(e) {\n                      _this.showCommentAction(item.author.nickName, topCommentId, item.isOwner, item.commentId, e);\n                    },\n                    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                      className: \"item-more-img\",\n                      src: \"https://pages.c-ctrip.com/livestream/tripshoot/comment_ic_more.png\"\n                    })\n                  })]\n                })]\n              })\n            }), item.publishStatus == 5 || item.publishStatus == 3 ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"comment-detail\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"common-comment-delete\",\n                children: item.reportType > 0 ? '评论因违反携程社区规范被删除' : item.content\n              })\n            }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"comment-detail\",\n              onClick: function onClick() {\n                return _this.toReply(item.author.nickName, topCommentId, item.isOwner, item.commentId);\n              },\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_EmojiComp, {\n                cwx: _this.props.cwx,\n                inputObj: assembleEmojiObj(item, 'content', commentTextStyle)\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"common-comment-info\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"common-comment-time\",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  children: item.publishTimeDisplay\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                  className: \"ip\",\n                  children: item.ipLocatedName\n                })]\n              }), (item.tags || []).map(function (tag, tIdx) {\n                return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"tag\",\n                  children: tag.tagName\n                }, tIdx);\n              })]\n            })]\n          })]\n        });\n      } catch (error) {\n        //\n      }\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"_renderList\", function () {\n      var commentList = _this.state.commentList;\n      return commentList.map(function (item) {\n        return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"comment-item\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"comment-main-item\",\n            children: _this._renderCommentDetail(item, item.commentId)\n          }), (item.childComments || []).map(function (child, sIdx) {\n            return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"sub-item \".concat(sIdx == 0 ? 'sub-item-f' : ''),\n              children: _this._renderCommentDetail(child, item.commentId)\n            }, sIdx);\n          }), (item.childComments || []).length < item.childTotalCount && !item.showSubCommentLoading && \"weapp\" != 'swan' && \"weapp\" != 'alipay' && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            onClick: function onClick() {\n              return _this.fetchSubCommentList(item);\n            },\n            className: \"comment-show-more\",\n            children: \"\\u5C55\\u5F00\\u66F4\\u591A\\u56DE\\u590D\"\n          }), item.showSubCommentLoading && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"sub-loading\",\n            children: \"\\u52A0\\u8F7D\\u4E2D...\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"line\"\n          })]\n        }, item.commentId);\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"getExcludeCommentIds\", function (commentList) {\n      var excludeCommentIds = [];\n      if (commentList && commentList.length) {\n        commentList.forEach(function (item, index) {\n          if (item.isPublic) {\n            excludeCommentIds.push(item.commentId);\n          }\n        });\n      }\n      return excludeCommentIds;\n    });\n    // 加载子评论\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"fetchSubCommentList\", function (item) {\n      var topLevelCommentId = item.commentId;\n      var commentParam = {\n        displayType: 3,\n        levels: [2],\n        pageSize: 10,\n        pageIndex: 1,\n        sortDirection: 0,\n        sortType: 2 //默认是最新。2是最热\n      };\n\n      var commentList = _this.state.commentList;\n      var currentTopLevelCommentIndex = -1;\n      var pageIndex = 1;\n      var excludeCommentIds = [];\n      commentList.forEach(function (commentListItem, commentListIndex) {\n        if (commentListItem.commentId == topLevelCommentId) {\n          currentTopLevelCommentIndex = commentListIndex;\n          pageIndex = commentListItem.childCommentsPageIndex;\n          excludeCommentIds = _this.getExcludeCommentIds(commentListItem.childComments);\n        }\n      });\n      if (!topLevelCommentId) {\n        return;\n      }\n      if (commentList[currentTopLevelCommentIndex].showSubCommentLoading) {\n        return;\n      }\n      commentList[currentTopLevelCommentIndex].showSubCommentLoading = true;\n      _this.setState({\n        commentList: commentList\n      });\n      var param = {\n        articleId: _this.id,\n        topLevelCommentId: topLevelCommentId,\n        levels: commentParam.levels,\n        isContentEncode: false,\n        displayType: commentParam.displayType,\n        excludeCommentIds: excludeCommentIds,\n        addExcludeCount: true,\n        para: {\n          pageIndex: pageIndex || 1,\n          pageSize: commentParam.pageSize || 10,\n          sortType: commentParam.sortType || 0,\n          sortDirection: 0\n        }\n      };\n      var childComments = commentList[currentTopLevelCommentIndex].childComments;\n      ruleSortCommentList(param, function (res) {\n        if (checkResponseAck(res) && res.data.comments && res.data.comments.length > 0) {\n          res = res.data;\n          commentList[currentTopLevelCommentIndex].showSubCommentLoading = false;\n          if (res.comments && res.comments.length) {\n            var list = childComments.concat(res.comments);\n            if (list && list.length < res.totalCount) {\n              commentList[currentTopLevelCommentIndex].childCommentsPageIndex++;\n            }\n            commentList[currentTopLevelCommentIndex].childComments = list;\n          }\n          _this.setState({\n            commentList: commentList\n          });\n        } else {\n          commentList[currentTopLevelCommentIndex].showSubCommentLoading = false;\n          _this.setState({\n            commentList: commentList\n          });\n        }\n      }, function (err) {\n        _this.setState({\n          commentList: commentList\n        });\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"toInputFocus\", function () {\n      _this.props.ubtTrace('c_gs_tripshoot_comment_inputbox', {\n        articleId: _this.id\n      });\n      console.log('c_gs_tripshoot_comment_inputbox', {\n        articleId: _this.id\n      });\n      // this.props.toInputFocus(() => {\n\n      // });\n      _this.hideNotify();\n      _this.inputMaskRef && _this.inputMaskRef.show();\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"showCommentAction\", function (nickName, id, isself, commentId, e) {\n      e.stopPropagation();\n      _this.topCommentId = id;\n      _this.toReply_temp_currentCommentId = commentId;\n      _this.toReply_temp_nickname = nickName;\n      var isLogin = _this.props.cwx && _this.props.cwx.user.isLogin();\n      if (!isLogin) {\n        _this.toLogin();\n        return;\n      }\n      _this.setState({\n        actionVisible: true,\n        isself: isself\n      });\n      // this.props.handleShowCommentAction({\n      // \tnickName,\n      // \tid: commentId,\n      // \tisself,\n      // \ttopCommentId: id,\n      // });\n      _this.props.ubtTrace('c_gs_tripshoot_comment_commentspot', {\n        articleId: _this.id,\n        commentId: commentId\n      });\n      console.log('c_gs_tripshoot_comment_commentspot', {\n        articleId: _this.id,\n        commentId: commentId\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"hideAction\", function () {\n      _this.setState({\n        actionVisible: false\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"showAction\", function () {\n      _this.setState({\n        actionVisible: true\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handleReply\", function () {\n      _this.toReply(_this.toReply_temp_nickname, _this.toReply_temp_currentCommentId);\n      _this.setState({\n        actionVisible: false\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"actionDeleteComment\", function () {\n      _this.props.ubtTrace('c_gs_tripshoot_detail_commentmodule_delete', {\n        articleId: _this.id\n      });\n      var currentCommentId = _this.toReply_temp_currentCommentId;\n      var params = {\n        action: 'delete',\n        commentId: currentCommentId,\n        comment: {\n          articleId: _this.id\n        }\n      };\n      comment(params, function (res) {\n        var _res$data2;\n        var toastTitle = '';\n        if (checkResponseAck(res) && res !== null && res !== void 0 && (_res$data2 = res.data) !== null && _res$data2 !== void 0 && (_res$data2 = _res$data2.result) !== null && _res$data2 !== void 0 && _res$data2.result) {\n          var commentList = _this.deleteComment(currentCommentId, _this.topCommentId);\n          _this.topCommentId = '';\n          toastTitle = '删除评论成功';\n          // commentList.forEach((item, index) => {\n          // \tif (item.commentId !== currentCommentId) {\n          // \t\tnewList.push(item);\n          // \t}\n          // });\n          // self.setState({\n          // \tcommentList: newList,\n          // \tcommentCount: commentCount - 1,\n          // });\n          _this.props.deleteCommentNotify && _this.props.deleteCommentNotify(currentCommentId, commentList);\n        } else {\n          toastTitle = '删除评论失败';\n        }\n        _this.hideAction();\n        taro_default().showToast({\n          title: toastTitle,\n          icon: 'none'\n        });\n      });\n    });\n    //刷新数据\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"refreshComment\", function (commentId, replyCommentId) {\n      var commentList = handleDataAfterCommentPraise(_this.state.commentList, commentId, replyCommentId);\n      _this.setState({\n        commentList: commentList\n      });\n    });\n    // 发布评价后往上面添一条\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"addComment\", function (comment, replyCommentId, topCommentId) {\n      var commentList;\n      if (replyCommentId) {\n        if (topCommentId) {\n          _this.state.commentList.forEach(function (item) {\n            if (item.commentId == topCommentId) {\n              if (!item.childComments) {\n                item.childComments = [];\n              }\n              var idx = item.childComments.findIndex(function (child) {\n                return child.commentId == replyCommentId;\n              });\n              item.childComments.splice(idx + 1, 0, comment);\n              item.childTotalCount = (item.childTotalCount || 0) + 1;\n            }\n          });\n        } else {\n          _this.state.commentList.forEach(function (item) {\n            if (item.commentId == replyCommentId) {\n              if (!item.childComments) {\n                item.childComments = [];\n              }\n              item.childComments.push(comment);\n              item.childTotalCount = (item.childTotalCount || 0) + 1;\n            }\n          });\n        }\n        commentList = _this.state.commentList;\n      } else {\n        commentList = [comment].concat(_this.state.commentList);\n        _this.setState({\n          scrollTop: 0\n        });\n      }\n      _this.setState({\n        commentList: commentList,\n        totalCount: _this.state.totalCount + 1\n      });\n      return commentList;\n    });\n    // 删除评论\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"deleteComment\", function (commentId, replyCommentId) {\n      var commentList,\n        totalCount = _this.state.totalCount;\n      if (!replyCommentId || commentId == replyCommentId) {\n        commentList = _this.state.commentList.map(function (item) {\n          var deleteFlag = false;\n          if (item.commentId == commentId) {\n            item.publishStatus = 3;\n            item.content = '该评论已删除';\n            if (!item.childComments) {\n              deleteFlag = true;\n            } else {\n              var vaildComment = item.childComments.filter(function (sub) {\n                return sub.publishStatus != 5 && sub.publishStatus != 3;\n              });\n              deleteFlag = vaildComment.length > 0 ? false : true;\n            }\n            if (deleteFlag) totalCount--;\n          }\n          return deleteFlag ? null : item;\n        }).filter(function (item) {\n          return !!item;\n        });\n      } else {\n        commentList = _this.state.commentList.map(function (item) {\n          var deleteFlag = false;\n          if (item.commentId == replyCommentId) {\n            item.childTotalCount = item.childTotalCount - 1;\n            item.childComments = (item.childComments || []).map(function (sub) {\n              var subDeleteFalg = false;\n              if (sub.commentId == commentId) {\n                sub.publishStatus = 3;\n                sub.content = '该回复已删除';\n                var vaildComment = item.childComments.filter(function (subItem) {\n                  return subItem.publishStatus != 5 && subItem.publishStatus != 3 && subItem.refComment && subItem.refComment.commentId == commentId;\n                });\n                subDeleteFalg = vaildComment.length > 0 ? false : true;\n              }\n              if (subDeleteFalg) totalCount--;\n              return subDeleteFalg ? null : sub;\n            }).filter(function (sub) {\n              return !!sub;\n            });\n          }\n          if (item.publishStatus == 5 || item.publishStatus == 3) {\n            if (!item.childComments) {\n              deleteFlag = true;\n            } else {\n              var vaildComment = item.childComments.filter(function (sub) {\n                return sub.publishStatus != 5 && sub.publishStatus != 3;\n              });\n              deleteFlag = vaildComment.length > 0 ? false : true;\n            }\n          }\n          if (deleteFlag) totalCount--;\n          return deleteFlag ? null : item;\n        }).filter(function (item) {\n          return !!item;\n        });\n      }\n      _this.setState({\n        commentList: commentList,\n        totalCount: totalCount\n      });\n      _this.props.ubtTrace('c_gs_tripshoot_comment_delete', {\n        articleId: _this.id,\n        commentId: commentId\n      });\n      console.log('c_gs_tripshoot_comment_delete', {\n        articleId: _this.id,\n        commentId: commentId\n      });\n      return commentList;\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"handScroll\", function (e) {\n      var _e$detail;\n      // eslint-disable-next-line react/no-direct-mutation-state\n      _this.state.scrollTop = ((_e$detail = e.detail) === null || _e$detail === void 0 ? void 0 : _e$detail.scrollTop) || 0;\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"commentSubmitNotify\", function (comment) {\n      var commentList = _this.addComment(comment, _this.replyCommentId, _this.topCommentId);\n      _this.topCommentId = '';\n      _this.replyCommentId = 0;\n      _this.props.commentSubmitNotify(comment, commentList);\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"hideNotify\", function () {\n      _this.topCommentId = '';\n      _this.replyCommentId = 0;\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"show\", function () {\n      _this.setState({\n        visible: true\n      });\n    });\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"hide\", function (type) {\n      _this.props.ubtTrace('c_gs_tripshoot_comment_close', {\n        articleId: _this.id\n      });\n      console.log('c_gs_tripshoot_comment_close', {\n        articleId: _this.id\n      });\n      _this.setState({\n        visible: false\n      });\n      _this.props.closeNotify && _this.props.closeNotify(type);\n    });\n    _this.pageIndex = 1;\n    _this.id = '';\n    _this.topCommentId = '';\n    _this.replyCommentId = 0;\n    _this.inputMaskRef = null;\n    _this.state = {\n      commentList: [],\n      //\n      totalCount: 0,\n      isloading: false,\n      //\n      isLoadEnd: false,\n      //\n      sortType: 0,\n      // 0 默认，3、最新\n      listLoading: false,\n      scrollTop: 0,\n      visible: false,\n      actionVisible: false,\n      isself: false\n    };\n    return _this;\n  }\n  (0,createClass/* default */.Z)(CommentListModal, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var prevIsVisible = prevProps.isVisible;\n      var _this$props = this.props,\n        articleId = _this$props.articleId,\n        isVisible = _this$props.isVisible;\n      if (articleId && articleId != '0' && articleId != this.id) {\n        var _this$props$cwx, _this$props$cwx$getCE;\n        this.id = articleId;\n        (_this$props$cwx = this.props.cwx) === null || _this$props$cwx === void 0 || (_this$props$cwx$getCE = _this$props$cwx.getCEmojiMapData) === null || _this$props$cwx$getCE === void 0 || _this$props$cwx$getCE.call(_this$props$cwx);\n        this.initCommentList();\n      }\n      if (!prevIsVisible && isVisible) {\n        this.props.ubtTrace('o_gs_tripshoot_comment_expose', {\n          articleId: this.id\n        });\n        console.log('o_gs_tripshoot_comment_expose', {\n          articleId: this.id\n        });\n      }\n    }\n  }, {\n    key: \"showAll\",\n    value: function showAll(text) {\n      this.show();\n      this.inputMaskRef && this.inputMaskRef.show(text);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        replyList = _this$props2.replyList,\n        showVote = _this$props2.showVote;\n      var _this$state = this.state,\n        totalCount = _this$state.totalCount,\n        listLoading = _this$state.listLoading,\n        scrollTop = _this$state.scrollTop,\n        isloading = _this$state.isloading,\n        sortType = _this$state.sortType,\n        isLoadEnd = _this$state.isLoadEnd,\n        visible = _this$state.visible,\n        actionVisible = _this$state.actionVisible,\n        isself = _this$state.isself;\n      var showDelete = isself;\n      var touchStyle =  false ? 0 : {};\n      return /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n        children: [visible && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"comment-list-modal\",\n          onClick: function onClick() {\n            return _this2.hide('mask');\n          },\n          catchMove: true,\n          style: touchStyle,\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"comment-content\",\n            onClick: function onClick(e) {\n              return e.stopPropagation();\n            },\n            children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n              className: \"top-title\",\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                className: \"close-icon\",\n                onClick: function onClick(e) {\n                  e.stopPropagation();\n                  _this2.hide('icon');\n                },\n                src: \"https://pages.c-ctrip.com/livestream/tripshoot/Close.svg\"\n              }), showVote ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"total-count\",\n                children: \"\\u6295\\u7968\"\n              }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n                children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"total-count\",\n                  children: [\"\\u5168\\u90E8\\u8BC4\\u8BBA\", totalCount > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(react.Fragment, {\n                    children: [\"\\uFF08\", totalCount, \"\\uFF09\"]\n                  })]\n                }), totalCount > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"filter-content\",\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"filter-item \".concat(sortType === 0 ? 'active' : ''),\n                    onClick: function onClick() {\n                      return _this2.switchSortType(0);\n                    },\n                    children: \"\\u9ED8\\u8BA4\"\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"filter-item \".concat(sortType === 3 ? 'active' : ''),\n                    onClick: function onClick() {\n                      return _this2.switchSortType(3);\n                    },\n                    children: \"\\u6700\\u65B0\"\n                  })]\n                })]\n              })]\n            }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.ScrollView, {\n              \"scroll-top\": scrollTop,\n              \"scroll-with-animation\": true,\n              \"scroll-y\": true\n              // eslint-disable-next-line react/jsx-props-no-multi-spaces\n              ,\n              scrollTop: scrollTop,\n              scrollWithAnimation: true,\n              scrollY: true,\n              onScrollToLower: this.handleLoadMore,\n              className: \"common-commentList\",\n              onScroll: this.handScroll,\n              children: [showVote ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Vote, {\n                  articleId: this.props.articleId,\n                  cwx: this.props.cwx,\n                  ubtTrace: this.props.ubtTrace.bind(this),\n                  toLogin: this.toLogin.bind(this)\n                }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"top-title\",\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                    className: \"total-count-left\",\n                    children: [\"\\u5171 \", totalCount, \" \\u6761\\u8BC4\\u8BBA\"]\n                  }), totalCount > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                    className: \"filter-content\",\n                    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                      className: \"filter-item \".concat(sortType === 0 ? 'active' : ''),\n                      onClick: function onClick() {\n                        return _this2.switchSortType(0);\n                      },\n                      children: \"\\u9ED8\\u8BA4\"\n                    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                      className: \"filter-item \".concat(sortType === 3 ? 'active' : ''),\n                      onClick: function onClick() {\n                        return _this2.switchSortType(3);\n                      },\n                      children: \"\\u6700\\u65B0\"\n                    })]\n                  })]\n                })]\n              }) : null, !listLoading ? totalCount > 0 ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n                children: [this._renderList(), isloading && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"isloading\",\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                    className: \"loading-icon\",\n                    src: \"https://dimg02.c-ctrip.com/images/1008170000012pqy49C5D.png\"\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"loading-text\",\n                    children: \"\\u52A0\\u8F7D\\u4E2D...\"\n                  })]\n                }), isLoadEnd && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"load-end\",\n                  children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n                    className: \"a\",\n                    decode: true,\n                    children: \"- \\u5DF2\\u7ECF\\u5230\\u5E95\\u4E86\\u54DF -\"\n                  })\n                })]\n              }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                className: \"empty-content\",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                  className: \"empty-icon\",\n                  src: \"https://pages.c-ctrip.com/livestream/tripshoot/noComment.png\"\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                  className: \"empty-text\",\n                  children: \"\\u8FD8\\u6CA1\\u6709\\u4EBA\\u8BC4\\u8BBA\\uFF0C\\u6210\\u4E3A\\u7B2C\\u4E00\\u4E2A\\u62A2\\u6C99\\u53D1\\u7684\\u4EBA\\u5427\\uFF5E\"\n                })]\n              }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"loadingContainer\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n                  className: \"loading\",\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n                    className: \"loadingImg\",\n                    src: \"https://dimg02.c-ctrip.com/images/1008170000012pqy49C5D.png\"\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                    className: \"loadingText\",\n                    children: \"\\u52A0\\u8F7D\\u4E2D...\"\n                  })]\n                })\n              })]\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"prise-bottom\",\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n                className: \"prise-commentbox\",\n                onClick: this.toInputFocus,\n                children: \"\\u5185\\u5BB9\\u6709\\u7528\\u5417\\uFF1F\\u7559\\u4E0B\\u4F60\\u7684\\u60F3\\u6CD5\"\n              })\n            })]\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_InputMask, {\n          ref: function ref(e) {\n            return _this2.inputMaskRef = e;\n          },\n          articleId: this.props.articleId,\n          commentSubmitNotify: this.commentSubmitNotify.bind(this),\n          hideNotify: this.hideNotify.bind(this),\n          ubtTrace: this.props.ubtTrace,\n          replyCommentId: this.replyCommentId,\n          replyList: replyList\n        }), actionVisible && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"comp-mask comp-comment-hint-mask\",\n          onClick: this.hideAction,\n          catchMove: true,\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n            className: \"hint-mask-inner\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"btn \".concat(showDelete ? 'btn_reply ' : 'bottom_reply'),\n              onClick: this.handleReply,\n              children: \"\\u56DE\\u590D\"\n            }), showDelete && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"btn btn-delete\",\n              onClick: this.actionDeleteComment,\n              children: \"\\u5220\\u9664\"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n              className: \"btn btn-cancel\",\n              onClick: this.hideAction,\n              children: \"\\u53D6\\u6D88\"\n            })]\n          })\n        })]\n      });\n    }\n  }]);\n  return CommentListModal;\n}(react.Component);\nfunction src_areEqual(prevProps, nextProps) {\n  if (prevProps.articleId == nextProps.articleId) {\n    return true;\n  } else {\n    return false;\n  }\n}\n/* harmony default export */ var src = (/*#__PURE__*/(0,react.memo)(CommentListModal, src_areEqual));\nCommentListModal.defaultProps = {\n  cwx: null,\n  // 基础提供的cwx对象\n  articleId: '',\n  // 文章id\n  clientAuth: '',\n  //\n  ubtTrace: function ubtTrace() {},\n  // ubt埋点方法\n  showVote: false,\n  // 显示投票组件\n  commentTextStyle: {\n    wrapperStyle: '',\n    // 文字样式\n    cemojiStyle: '' //表情样式\n  },\n\n  //\n  replyList: [],\n  // 快捷回复列表\n  commentSubmitNotify: function commentSubmitNotify(comment) {},\n  // 评论发送成功通知\n  praiseNotify: function praiseNotify(type, commentId) {},\n  // （取消）点赞成功通知\n  deleteCommentNotify: function deleteCommentNotify(commentId) {},\n  // （取消）点赞成功通知\n  loginCallback: function loginCallback() {},\n  // 登录成功回调\n  closeNotify: function closeNotify(type) {} //  关闭通知, type = 'mask' 点击遮罩关闭， type = 'icon' 点击关闭icon关闭\n};\n;// CONCATENATED MODULE: ./src/pages/video/commonModule/common_module_dir/node_modules/@ctrip/comment-list-modal-taro/index.js\n\n/* harmony default export */ var comment_list_modal_taro = (src);\n;// CONCATENATED MODULE: ./src/pages/video/commonModule/commonModule.prod.js\n\n\n;// CONCATENATED MODULE: ./src/pages/video/components/common/Comment/index.tsx\n\n\n\n\n\n\nvar platform = cwx.getSystemInfoSync().platform;\nvar CommentModal = function CommentModal(props) {\n  var showVote = props.showVote,\n    articleId = props.articleId,\n    clientAuth = props.clientAuth,\n    closeCallback = props.closeCallback;\n  var commentRef = react.useRef();\n  var isAndroid = platform === \"android\";\n  (0,react.useEffect)(function () {\n    commentRef === null || commentRef === void 0 || commentRef.current.show();\n  }, []);\n  return !articleId || !clientAuth ? null : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.CustomWrapper, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(comment_list_modal_taro, {\n      cwx: cwx,\n      ref: function ref(f) {\n        commentRef.current = f;\n      },\n      articleId: articleId,\n      clientAuth: clientAuth,\n      showVote: showVote,\n      commentTextStyle: {\n        wrapperStyle: \"\\n              font-size: \".concat(rpxToPx(28), \";\\n              color: #333;\\n              line-height: \").concat(rpxToPx(38), \";\\n              font-weight: \").concat(isAndroid ? \"500\" : \"normal\", \";\\n            \"),\n        // 文字样式\n        cemojiStyle: \"\\n              height: \".concat(rpxToPx(34), \";\\n              vertical-align: text-bottom;\\n            \") //表情样式\n      },\n\n      commentSubmitNotify: function commentSubmitNotify(comment) {\n        // console.log(\"commentSubmitNotify\", comment);\n      } // 评论发送成功通知\n      ,\n      praiseNotify: function praiseNotify(type, commentId) {\n        // console.log(\"praiseNotify\", type, commentId);\n      } // （取消）点赞成功通知\n      ,\n      deleteCommentNotify: function deleteCommentNotify(commentId) {\n        // console.log(\"deleteCommentNotify\", commentId);\n      } // （取消）点赞成功通知\n      ,\n      loginCallback: function loginCallback() {\n        // console.log(\"loginCallback\");\n      } // 登录成功回调\n      ,\n      closeNotify: function closeNotify(type) {\n        // console.log(\"comment hide callback\", type);\n        // setVoteModalVisible(false);\n        closeCallback && closeCallback();\n      }\n    })\n  });\n};\n/* harmony default export */ var Comment = (CommentModal);\n;// CONCATENATED MODULE: ./src/pages/video/components/video/VideoTools/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar likeAnimationTimer, collectAnimationTimer;\n\n// const VideoTools = memo((props: propType) => {\nvar VideoToolsComp = function VideoToolsComp(props) {\n  var videoInfo = props.videoInfo,\n    products = props.products,\n    doubleClick = props.doubleClick,\n    netWorkErr = props.netWorkErr;\n  var _videoInfo$contentId = videoInfo.contentId,\n    contentId = _videoInfo$contentId === void 0 ? \"\" : _videoInfo$contentId,\n    isFollow = videoInfo.isFollow,\n    isLike = videoInfo.isLike,\n    isHost = videoInfo.isHost,\n    likeCount = videoInfo.likeCount,\n    isCollected = videoInfo.isCollected,\n    collectCount = videoInfo.collectCount,\n    commentCount = videoInfo.commentCount,\n    author = videoInfo.author,\n    shareInfo = videoInfo.shareInfo,\n    liveInfo = videoInfo.liveInfo;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    likeAnimation = _useState2[0],\n    setLikeAnimation = _useState2[1];\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    collectAnimation = _useState4[0],\n    setCollectAnimation = _useState4[1];\n  var _useState5 = (0,react.useState)(false),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    shareModalVisiable = _useState6[0],\n    setShareModalVisiable = _useState6[1];\n  var _useState7 = (0,react.useState)(false),\n    _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n    shoppingCartModalVisiable = _useState8[0],\n    setShoppingCartModalVisiable = _useState8[1];\n  var _useContext = (0,react.useContext)(AppContext),\n    urlParams = _useContext.urlParams,\n    videoList = _useContext.videoList,\n    setVideoList = _useContext.setVideoList;\n  var _useState9 = (0,react.useState)(false),\n    _useState10 = (0,slicedToArray/* default */.Z)(_useState9, 2),\n    commentModalVisiable = _useState10[0],\n    setCommentModalVisiable = _useState10[1];\n  var commentRef = (0,react.useRef)(null);\n\n  // 双击点赞\n  (0,react.useEffect)(function () {\n    if (doubleClick) {\n      handleLike();\n    }\n  }, [doubleClick]);\n  (0,taro.useDidHide)(function () {\n    if (shareModalVisiable) {\n      setShareModalVisiable(false);\n      return;\n    }\n    if (shoppingCartModalVisiable) {\n      setShoppingCartModalVisiable(false);\n      return;\n    }\n  });\n\n  // 关注\n  var handleAttention = function handleAttention() {\n    handleOperate(VIDEO_ACTION_TYPE.ATTENTION, !isFollow);\n  };\n\n  // 点赞\n  var handleLike = function handleLike() {\n    handleOperate(VIDEO_ACTION_TYPE.LIKE, !isLike);\n  };\n\n  // 收藏\n  var handleCollect = function handleCollect() {\n    handleOperate(VIDEO_ACTION_TYPE.COLLECT, !isCollected);\n  };\n\n  /**\n   * 更新视频状态：点赞、收藏、关注\n   */\n\n  var handleOperate = function handleOperate(action, status) {\n    checkAndLogin(function () {\n      return _handleOperateFunc(action, status);\n    });\n\n    // test\n    // _handleOperateFunc(action, status)\n  };\n\n  var _handleOperateFunc = function _handleOperateFunc(action, status) {\n    // 点赞、收藏动画\n    if (status) {\n      if (action == VIDEO_ACTION_TYPE.LIKE) {\n        setLikeAnimation(true);\n        likeAnimationTimer = setTimeout(function () {\n          clearTimeout(likeAnimationTimer);\n          setLikeAnimation(false);\n          props.resetDoubleClick();\n        }, 1500);\n      } else if (action == VIDEO_ACTION_TYPE.COLLECT) {\n        setCollectAnimation(true);\n        collectAnimationTimer = setTimeout(function () {\n          clearTimeout(collectAnimationTimer);\n          setCollectAnimation(false);\n        }, 1100);\n      }\n    }\n    _updateVideoListData({\n      vId: contentId,\n      type: action,\n      status: status\n    });\n\n    // todo？此处是否需要await\n    var isSuccess = operateVideo({\n      targetType: action == VIDEO_ACTION_TYPE.ATTENTION ? \"author\" : \"article\",\n      action: status ? action : \"cancel_\".concat(action),\n      contentId: {\n        id: action == VIDEO_ACTION_TYPE.ATTENTION ? author.clientAuth : contentId,\n        productType: urlParams.productType\n      }\n    });\n    if (!isSuccess) {\n      log.devTrace(\"operateVideo error: \".concat(action, \", \").concat(status));\n      return;\n    }\n  };\n  var _updateVideoListData = function _updateVideoListData(_ref) {\n    var vId = _ref.vId,\n      type = _ref.type,\n      status = _ref.status;\n    var tempVideoList = JSON.parse(JSON.stringify(videoList));\n    var index = getCurrentVideoIndex();\n    var _tempVideoList$index = tempVideoList[index],\n      isLike = _tempVideoList$index.isLike,\n      isFollow = _tempVideoList$index.isFollow,\n      isCollected = _tempVideoList$index.isCollected,\n      likeCount = _tempVideoList$index.likeCount,\n      collectCount = _tempVideoList$index.collectCount,\n      commentCount = _tempVideoList$index.commentCount,\n      author = _tempVideoList$index.author;\n    var isUpdateList = true;\n    if (type == VIDEO_ACTION_TYPE.LIKE) {\n      if (status == isLike) {\n        isUpdateList = false;\n      } else {\n        tempVideoList[index].isLike = status;\n        tempVideoList[index].likeCount = status ? likeCount + 1 : likeCount - 1;\n        videoLikeTrace(status ? LIKE_TYPE.LIKE : LIKE_TYPE.DISLIKE);\n      }\n    } else if (type == VIDEO_ACTION_TYPE.COLLECT) {\n      if (status == isCollected) {\n        isUpdateList = false;\n      } else {\n        tempVideoList[index].isCollected = status;\n        tempVideoList[index].collectCount = status ? collectCount + 1 : collectCount - 1;\n        showToast({\n          title: \"\".concat(status ? \"收藏成功\" : \"已取消收藏\"),\n          icon: \"none\"\n        });\n        videoCollectTrace(status ? COLLECT_TYPE.COLLECT : COLLECT_TYPE.DISCOLLECT);\n      }\n    } else if (type == VIDEO_ACTION_TYPE.ATTENTION) {\n      if (status == isFollow) {\n        isUpdateList = false;\n      } else {\n        showToast({\n          title: \"关注成功\",\n          icon: \"none\"\n        });\n        // 列表中该作者都设置为 关注\n        tempVideoList = tempVideoList.map(function (item) {\n          if (item.author.clientAuth === author.clientAuth) {\n            item.isFollow = status;\n          }\n          return item;\n        });\n        authorFollowTrace();\n      }\n    }\n    isUpdateList && setVideoList(tempVideoList);\n  };\n\n  // 评论\n  var handleComment = function handleComment(e) {\n    // console.log(\"comment：trigger\", videoInfo.contentId, new Date().getTime());\n    setCommentModalVisiable(true);\n    setTimeout(function () {\n      var _commentRef$current;\n      commentRef === null || commentRef === void 0 || (_commentRef$current = commentRef.current) === null || _commentRef$current === void 0 || _commentRef$current.show();\n    }, 0);\n    videoCommentTrace();\n  };\n  // 分享\n  var handleShare = function handleShare(e) {\n    setShareModalVisiable(true);\n    videoShareTrace();\n    videoShareViewTrace(ACTION_TYPE.EXPOSURE);\n  };\n  var _handleClose = function handleClose(type) {\n    switch (type) {\n      case \"shoppingCart\":\n        setShoppingCartModalVisiable(false);\n        videoShoppingCartViewCloseTrace();\n        break;\n      case \"share\":\n        setShareModalVisiable(false);\n        break;\n      default:\n        break;\n    }\n  };\n  var renderAvatar = function renderAvatar() {\n    var _ref2 = author || {},\n      liveStatus = _ref2.liveStatus,\n      coverImage = _ref2.coverImage;\n    var _ref3 = coverImage || {},\n      _ref3$dynamicUrl = _ref3.dynamicUrl,\n      dynamicUrl = _ref3$dynamicUrl === void 0 ? \"\" : _ref3$dynamicUrl;\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-tools__item\",\n      onClick: stopPropagation,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"video-tools__avatar \".concat(liveStatus == AUTHOR_LIVE_STATUS.ON && \"live\"),\n        onClick: function onClick() {\n          return jumpToAuthorHomePage(author, AUTHOR_TYPE.IMAGE);\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"video-tools__avatar__image\",\n          src: dynamicUrl,\n          mode: \"aspectFit\"\n        }), liveStatus == AUTHOR_LIVE_STATUS.ON && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-tools__avatar__live\",\n          children: \"\\u76F4\\u64AD\"\n        })]\n      }), !isFollow && !isHost && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-tools__avatar__follow \",\n        onClick: handleAttention,\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"iconfont-add\"\n        })\n      })]\n    });\n  };\n  var renderLikes = function renderLikes() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"video-tools__item\",\n        onClick: handleLike,\n        children: [likeAnimation ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          className: \"video-tools__item__icon video-tools__item__animation\",\n          src: LIKED_ANIMATION\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-tools__item__icon iconfont-liked \".concat(isLike ? \"color-red \" : \"\")\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-tools__item__text\",\n          children: formatNum(likeCount) || \"点赞\"\n        })]\n      })\n    });\n  };\n  var renderComment = function renderComment() {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-tools__item\",\n      onClick: handleComment,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont-comment video-tools__item__icon\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-tools__item__text\",\n        children: formatNum(commentCount) || \"评论\"\n      })]\n    });\n  };\n  var renderCollect = function renderCollect() {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-tools__item\",\n      onClick: handleCollect,\n      children: [collectAnimation ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"video-tools__item__icon video-tools__item__animation\",\n        src: COLLECTED_ANIMATION\n      }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-tools__item__icon \".concat(isCollected ? \"color-red iconfont-collected\" : \"color iconfont-collect\")\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-tools__item__text\",\n        children: formatNum(collectCount) || \"收藏\"\n      })]\n    });\n  };\n  var renderShare = function renderShare() {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-tools__item\",\n      onClick: handleShare,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-tools__item__icon\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"iconfont-share\"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-tools__item__text\",\n        children: \"\\u5206\\u4EAB\"\n      })]\n    });\n  };\n  var renderShareModal = function renderShareModal() {\n    // catchMove 用于解决滚动穿透问题\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      onClick: stopPropagation,\n      catchMove: true,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Mask, {\n        handleClick: function handleClick() {\n          return _handleClose(\"share\");\n        }\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(ShareModal, {\n        title: \"\\u56FE\\u7247\\u5206\\u4EAB\\u81F3\",\n        bgColor: \"#f4f4f4\",\n        handleClose: function handleClose() {\n          return _handleClose(\"share\");\n        },\n        videoInfo: videoInfo\n      })]\n    });\n  };\n  var handleShoppingCartClick = function handleShoppingCartClick() {\n    setShoppingCartModalVisiable(true);\n    videoShoppingCartTrace(ACTION_TYPE.CLICK);\n    // videoShoppingCartViewExposureTrace(products?.items);\n  };\n\n  var renderShoppingCart = function renderShoppingCart() {\n    var _ref4 = products || {},\n      totalCount = _ref4.totalCount,\n      type = _ref4.type;\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"video-tools__item\",\n      style: {\n        marginTop: 14\n      },\n      onClick: handleShoppingCartClick,\n      children: totalCount ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n          src: SHOPPING_CART_ANIMATION,\n          className: \"video-tools__item__shoppingcartImage\"\n        }), type == \"all\" && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-tools__item__shoppingcart\",\n          children: products === null || products === void 0 ? void 0 : products.totalCount\n        })]\n      }) : null\n    });\n  };\n  var renderShoppingCartModal = function renderShoppingCartModal() {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      onClick: stopPropagation,\n      catchMove: true,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Mask, {\n        handleClick: function handleClick() {\n          return _handleClose(\"shoppingCart\");\n        }\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(ShoppingCartModal, {\n        videoInfo: videoInfo,\n        products: products,\n        netWorkErr: netWorkErr,\n        handleClose: function handleClose() {\n          return _handleClose(\"shoppingCart\");\n        }\n      })]\n    });\n  };\n  var renderCommentModal = function renderCommentModal() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(Comment, {\n      articleId: contentId,\n      clientAuth: author === null || author === void 0 ? void 0 : author.clientAuth,\n      closeCallback: function closeCallback() {\n        setCommentModalVisiable(false);\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n    className: \"video-tools\",\n    children: [renderAvatar(), renderLikes(), renderComment(), renderCollect(), renderShare(), renderShoppingCart(), shareModalVisiable && renderShareModal(), shoppingCartModalVisiable && renderShoppingCartModal(), commentModalVisiable && renderCommentModal()]\n  });\n};\n\n// const areEqual = function (\n//   prevProps: { productInfo: any },\n//   nextProps: { productInfo: any }\n// ) {\n//   if (prevProps.productInfo == nextProps.productInfo) {\n//     return true;\n//   }\n//   return false;\n// };\n\nvar VideoTools = /*#__PURE__*/(0,react.memo)(VideoToolsComp);\n\n;// CONCATENATED MODULE: ./src/pages/video/constants/video.ts\n// author: 身份标识Tag 文字颜色（服务端下发）\nvar IDENTITY_TAG_COLOR = {\n  1: \"#FFC054\",\n  2: \"#99CEFB\"\n};\n;// CONCATENATED MODULE: ./src/pages/video/utils/color.ts\n/**\n * 255颜色值转16进制颜色值\n * @param n 255颜色值\n * @returns hex 16进制颜色值\n */\nvar toHex = function toHex(n) {\n  return \"\".concat(n > 15 ? '' : 0).concat(n.toString(16));\n};\n\n/**\n * 颜色对象转化为16进制颜色字符串\n * @param colorObj 颜色对象\n */\nvar toHexString = function toHexString(colorObj) {\n  var r = colorObj.r,\n    g = colorObj.g,\n    b = colorObj.b,\n    _colorObj$a = colorObj.a,\n    a = _colorObj$a === void 0 ? 1 : _colorObj$a;\n  return \"#\".concat(toHex(r)).concat(toHex(g)).concat(toHex(b)).concat(a === 1 ? '' : toHex(Math.floor(a * 255)));\n};\n\n/**\n * 颜色对象转化为rgb颜色字符串\n * @param colorObj 颜色对象\n */\nvar toRgbString = function toRgbString(colorObj) {\n  var r = colorObj.r,\n    g = colorObj.g,\n    b = colorObj.b;\n  return \"rgb(\".concat(r, \",\").concat(g, \",\").concat(b, \")\");\n};\n\n/**\n * 颜色对象转化为rgba颜色字符串\n * @param colorObj 颜色对象\n */\nvar toRgbaString = function toRgbaString(colorObj) {\n  var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10000;\n  var r = colorObj.r,\n    g = colorObj.g,\n    b = colorObj.b,\n    _colorObj$a2 = colorObj.a,\n    a = _colorObj$a2 === void 0 ? 1 : _colorObj$a2;\n  return \"rgba(\".concat(r, \",\").concat(g, \",\").concat(b, \",\").concat(Math.floor(a * n) / n, \")\");\n};\n\n/**\n * 16进制颜色字符串解析为颜色对象\n * @param color 颜色字符串\n * @returns IColorObj\n */\nvar parseHexColor = function parseHexColor(color) {\n  var hex = color.slice(1);\n  var a = 1;\n  if (hex.length === 3) {\n    hex = \"\".concat(hex[0]).concat(hex[0]).concat(hex[1]).concat(hex[1]).concat(hex[2]).concat(hex[2]);\n  }\n  if (hex.length === 8) {\n    a = parseInt(hex.slice(6), 16) / 255;\n    hex = hex.slice(0, 6);\n  }\n  var bigint = parseInt(hex, 16);\n  return {\n    r: bigint >> 16 & 255,\n    g: bigint >> 8 & 255,\n    b: bigint & 255,\n    a: a\n  };\n};\n\n/**\n * rgba颜色字符串解析为颜色对象\n * @param color 颜色字符串\n * @returns IColorObj\n */\nvar parseRgbaColor = function parseRgbaColor(color) {\n  var arr = color.match(/(\\d(\\.\\d+)?)+/g) || [];\n  var res = arr.map(function (s) {\n    return parseInt(s, 10);\n  });\n  return {\n    r: res[0],\n    g: res[1],\n    b: res[2],\n    a: parseFloat(arr[3])\n  };\n};\n\n/**\n * 颜色字符串解析为颜色对象\n * @param color 颜色字符串\n * @returns IColorObj\n */\nvar parseColorString = function parseColorString(color) {\n  if (color.startsWith('#')) {\n    return parseHexColor(color);\n  } else if (color.startsWith('rgb')) {\n    return parseRgbaColor(color);\n  } else if (color === 'transparent') {\n    return parseHexColor('#00000000');\n  }\n  throw new Error(\"color string error: \".concat(color));\n};\n\n/**\n * 颜色字符串解析为各种颜色表达方式\n * @param color 颜色字符串\n * @returns IColorObj\n */\nvar getColorInfo = function getColorInfo(color) {\n  var colorObj = parseColorString(color);\n  var hex = toHexString(colorObj);\n  var rgba = toRgbaString(colorObj);\n  var rgb = toRgbString(colorObj);\n  return {\n    hex: hex,\n    rgba: rgba,\n    rgb: rgb,\n    rgbaObj: colorObj\n  };\n};\n\n/**\n * 16进制颜色字符串转化为rgba颜色字符串\n * @param hex 16进制颜色字符串\n * @returns rgba颜色字符串\n */\nvar hexToRgba = function hexToRgba(hex) {\n  var colorObj = parseColorString(hex);\n  return toRgbaString(colorObj);\n};\n\n/**\n * rgba颜色字符串转化为16进制颜色字符串\n * @param rgba rgba颜色字符串\n * @returns 16进制颜色字符串\n */\nvar rgbaToHex = function rgbaToHex(rgba) {\n  var colorObj = parseColorString(rgba);\n  return toHexString(colorObj);\n};\n;// CONCATENATED MODULE: ./src/pages/video/components/video/VideoDetails/index.tsx\n/* provided dependency */ var VideoDetails_document = __webpack_require__(32180)[\"document\"];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar descMaxNum,\n  defaultDescMaxNum = 30;\nvar VideoDetailsCmp = function VideoDetailsCmp(props) {\n  var videoInfo = props.videoInfo,\n    curIndex = props.curIndex,\n    index = props.index;\n  var contentId = videoInfo.contentId,\n    location = videoInfo.location,\n    district = videoInfo.district,\n    articleTitle = videoInfo.articleTitle,\n    contentWithoutCtag = videoInfo.contentWithoutCtag,\n    description = videoInfo.description,\n    author = videoInfo.author,\n    articleLevel = videoInfo.articleLevel,\n    publishedLocation = videoInfo.publishedLocation,\n    voteInfo = videoInfo.voteInfo;\n  var descText = contentWithoutCtag || articleTitle;\n  var _useState = (0,react.useState)(true),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isFold = _useState2[0],\n    setFold = _useState2[1];\n  var _useState3 = (0,react.useState)(true),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    isOver2Lines = _useState4[0],\n    setIsOver2Lines = _useState4[1];\n  var _useState5 = (0,react.useState)(false),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    voteModalVisiable = _useState6[0],\n    setVoteModalVisible = _useState6[1];\n  // 一行文案显示发布日期及定位\n  var _useState7 = (0,react.useState)(false),\n    _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n    isShowLocation = _useState8[0],\n    setIsShowLocation = _useState8[1];\n  var _useState9 = (0,react.useState)(defaultDescMaxNum),\n    _useState10 = (0,slicedToArray/* default */.Z)(_useState9, 2),\n    maxNumForDesc = _useState10[0],\n    setMaxNumForDesc = _useState10[1]; // 描述文案最大字数\n  var isOver2LinesRef = (0,react.useRef)(false);\n  // const voteRef = useRef<any>(null);\n\n  // 无格式的文本\n\n  (0,react.useEffect)(function () {\n    // 计算文本\n    descMaxNum = descMaxNum || _getDescMaxNum();\n    setMaxNumForDesc(descMaxNum);\n  }, []);\n\n  // 文案截断\n  (0,react.useEffect)(function () {\n    if (isEmpty(videoInfo) || isEmpty(descText)) {\n      return;\n    }\n    if (index == getCurrentVideoIndex() && isOver2LinesRef.current) {\n      videoDetailsTrace(ACTION_TYPE.EXPOSURE);\n      return;\n    }\n    var formatText = descText === null || descText === void 0 ? void 0 : descText.replace(/\\r?\\n|\\r/g, \" \");\n    var _isOver2Lines = (formatText || \"\").length >= maxNumForDesc;\n    isOver2LinesRef.current = _isOver2Lines;\n    setIsOver2Lines(_isOver2Lines);\n  }, [curIndex]);\n\n  // 给 正文 绑定事件\n  (0,react.useEffect)(function () {\n    // 绑定点击事件\n    if (!isFold) {\n      var handleDescTap = function handleDescTap(e) {\n        stopPropagation(e);\n        var _e$target$dataset = e.target.dataset,\n          wxurl = _e$target$dataset.wxurl,\n          h5url = _e$target$dataset.h5url;\n        jumpToWxOrH5(wxurl, h5url);\n      };\n      var descEle = VideoDetails_document.getElementById(\"descEle\");\n      if (descEle) {\n        descEle.addEventListener(\"tap\", handleDescTap);\n        return function () {\n          descEle.removeEventListener(\"tap\", handleDescTap);\n        };\n      }\n    }\n  }, [isFold]);\n  var _getDescMaxNum = function _getDescMaxNum() {\n    var maxNumForDesc = defaultDescMaxNum;\n    var query = taro_default().createSelectorQuery();\n    if (query.select(\"#descContainer\").boundingClientRect()) {\n      query.exec(function (res) {\n        // 每行最多展示的字数 = 宽度/字号\n        // \"-7\" => \"精选 + ...展开\"\n        if (res[0] && res[0].width) {\n          var _cwx$getSystemInfoSyn = cwx.getSystemInfoSync(),\n            pixelRatio = _cwx$getSystemInfoSyn.pixelRatio;\n          maxNumForDesc = Math.floor(res[0].width / 16 * pixelRatio) - 7;\n        }\n      });\n    }\n    return maxNumForDesc;\n  };\n\n  // 正文Html: 标签替换 / 添加data-属性 / 添加超链接样式 / 绑定点击事件\n  var getDescHtml = function getDescHtml() {\n    if (description) {\n      var descHtml = description.replace(/<ctag/g, \"<span class='color-blue1' \");\n      descHtml = descHtml.replace(/\\/ctag>/g, \"/span>\");\n      descHtml = descHtml.replace(/<poi/g, \"<span class='color-blue1 marginX4'\");\n      descHtml = descHtml.replace(/\\/poi>/g, \"/span>\");\n      descHtml = descHtml.replace(/wxurl=/g, \"data-wxurl=\");\n      descHtml = descHtml.replace(/h5url=/g, \"data-h5url=\");\n      descHtml = \"<div id=\\\"descEle\\\" style=\\\"display: inline\\\">\".concat(descHtml, \"</div>\");\n      descHtml;\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        dangerouslySetInnerHTML: {\n          __html: descHtml\n        },\n        className: \"pre-wrap\",\n        style: {\n          display: \"inline\"\n        }\n      });\n    }\n  };\n  var handleFold = function handleFold(e) {\n    stopPropagation(e);\n    if (!isOver2Lines) {\n      setIsShowLocation(!isShowLocation);\n      return;\n    }\n    setFold(!isFold);\n    isFold && videoDetailsTrace(ACTION_TYPE.CLICK);\n  };\n  var articleLevelRender = function articleLevelRender() {\n    var tempArticleLevel = Number(articleLevel);\n    if (tempArticleLevel < 2) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {});\n    }\n    var isHighQuality = tempArticleLevel == 2;\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n      className: \"video-article__level margin-right8 \".concat(isHighQuality ? \"highQuality\" : \"featured\"),\n      children: isHighQuality ? \"优质\" : \"精选\"\n    });\n  };\n  var renderTags = function renderTags() {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"flex-align margin-top12\",\n      children: [district && district.districtName && /*#__PURE__*/(0,jsx_runtime.jsx)(MyTag, {\n        type: \"location\",\n        poiType: district.poiType,\n        text: district.districtName,\n        iconUrl: district.poiTypeIcon,\n        wxUrl: district.jumpWXUrl,\n        h5Url: district.jumpH5Url\n      }), location && location.text && /*#__PURE__*/(0,jsx_runtime.jsx)(MyTag, {\n        type: \"location\",\n        poiType: location.poiType,\n        text: location.text,\n        iconUrl: location.poiTypeIcon,\n        wxUrl: location.jumpWXUrl,\n        h5Url: location.jumpH5Url\n      })]\n    });\n  };\n  var renderAuthor = function renderAuthor() {\n    var tagStyleRgbaW = author.tagStyleRgbaW,\n      tagStyleRgba = author.tagStyleRgba,\n      tagStyleFontW = author.tagStyleFontW,\n      tagStyleFont = author.tagStyleFont,\n      identityTagStyle = author.identityTagStyle,\n      tagStyleBackW = author.tagStyleBackW,\n      tagStyleBack = author.tagStyleBack,\n      nickName = author.nickName,\n      identityTypeName = author.identityTypeName,\n      vIcon = author.vIcon;\n    // tagStyleBack: \"#804F3100\";\n    // tagStyleBackW: \"#14CC8408\";\n    // tagStyleFont: \"#FFC054\";\n    // tagStyleFontW: \"#CC8408\";\n    // tagStyleRgba: \"#4F310080\";\n    // tagStyleRgbaW: \"#CC840814\";\n    var color = tagStyleFont || tagStyleRgba || identityTagStyle && IDENTITY_TAG_COLOR[identityTagStyle];\n    var bgColor = tagStyleRgba || tagStyleBack;\n    return !nickName && !identityTypeName ? /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {}) : /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"flex-align margin12X\",\n      id: \"detailsContainer\",\n      children: [nickName && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"font-size32 margin-right32 bold line-limited1\",\n        onClick: function onClick() {\n          return jumpToAuthorHomePage(author, AUTHOR_TYPE.NAME);\n        },\n        children: [\"@\", nickName]\n      }), identityTypeName && /*#__PURE__*/(0,jsx_runtime.jsx)(MyTag, {\n        type: \"identity\",\n        text: identityTypeName,\n        iconUrl: vIcon,\n        color: hexToRgba(color),\n        bgColor: hexToRgba(bgColor)\n      })]\n    });\n  };\n  var renderFoldDesc = function renderFoldDesc() {\n    var formatDesc = descText === null || descText === void 0 ? void 0 : descText.replace(/\\r?\\n|\\r/g, \" \");\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      id: \"descContainer\",\n      children: !isOver2Lines ? /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n        children: formatDesc\n      }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.Text, {\n          children: [formatDesc === null || formatDesc === void 0 ? void 0 : formatDesc.substring(0, maxNumForDesc), \"... \"]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n          className: \"color-blue2\",\n          onClick: handleFold,\n          children: \"\\u5C55\\u5F00\"\n        })]\n      })\n    });\n  };\n  var renderUnFoldDesc = function renderUnFoldDesc() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.ScrollView, {\n        scrollY: true,\n        className: \"video-article__unfold\",\n        children: getDescHtml()\n      })\n    });\n  };\n  var renderVote = function renderVote() {\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-vote\",\n      onClick: handleVote,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont-vote\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"line-limited1\",\n        children: voteInfo === null || voteInfo === void 0 ? void 0 : voteInfo.title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont-forward\"\n      })]\n    });\n  };\n  var handleVote = function handleVote() {\n    voteTrace(ACTION_TYPE.CLICK);\n    setVoteModalVisible(true);\n    props.handleVote && props.handleVote(true);\n  };\n  var renderVoteModal = function renderVoteModal() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(Comment, {\n      articleId: contentId,\n      clientAuth: author === null || author === void 0 ? void 0 : author.clientAuth,\n      showVote: true,\n      closeCallback: function closeCallback() {\n        setVoteModalVisible(false);\n        props.handleVote && props.handleVote(false);\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"video-float\",\n      children: renderTags()\n    }), renderAuthor(), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"margin-top12\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"font-size30 line-height42\",\n        onClick: handleFold,\n        children: isFold ? renderFoldDesc() : renderUnFoldDesc()\n      }), isFold ? isShowLocation && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"margin-top24 line-height24 font-size22 opacity_5 line-ellipsis\",\n        children: publishedLocation || \"\"\n      }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Mask, {\n          style: {\n            backgroundColor: \"rgba(0,0,0,0.7)\",\n            zIndex: -1\n          },\n          handleClick: handleFold\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"flex-spacebetween margin-top12 line-height36\",\n          onClick: handleFold,\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"flex1 font-size22 opacity_5 line-ellipsis margin-right32\",\n            children: publishedLocation || \"\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"color-blue2 bold font-size28\",\n            children: \"\\u6536\\u8D77\"\n          })]\n        })]\n      })]\n    })]\n  });\n};\nvar VideoDetails = /*#__PURE__*/(0,react.memo)(VideoDetailsCmp);\n\n;// CONCATENATED MODULE: ./src/pages/video/api/product/getContentProductList.ts\n\n\n// URL契约：http://contract.mobile.flight.ctripcorp.com/#/operation-detail/3896/8/operateContent?lang=zh-CN\n\n\n\nvar times = 0;\n// export async function getContentProductList(param: IContentProductList){\nfunction getContentProductList(_x) {\n  return _getContentProductList.apply(this, arguments);\n}\nfunction _getContentProductList() {\n  _getContentProductList = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(params) {\n    var contentId, productType, param, reqParams;\n    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          times++;\n          contentId = params.contentId, productType = params.productType;\n          param = {\n            contentId: {\n              id: contentId,\n              productType: productType\n            },\n            coordinate: {\n              type: \"GCJ02\",\n              latitude: 0,\n              longitude: 0,\n              overSea: true\n            }\n          };\n          reqParams = {\n            url: API_MAP.contentProduct,\n            param: param\n          };\n          return _context.abrupt(\"return\", request(reqParams));\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _getContentProductList.apply(this, arguments);\n}\n;// CONCATENATED MODULE: ./src/pages/video/api/risk/getRiskInfo.ts\n\n\n// 内容中心cpc风控接口:\n// 详见conf：V8.29 沉浸式视频服务#%EF%BC%885%EF%BC%89%E8%8E%B7%E5%8F%96%E5%86%85%E5%AE%B9%E4%B8%AD%E5%BF%83%E9%A3%8E%E6%8E%A7%E6%95%B0%E6%8D%AE%EF%BC%88getContentCenterRiskInfo%EF%BC%89\n// 服务端契约：http://contract.mobile.flight.ctripcorp.com/#/operation-detail/3896/18/getContentCenterRiskInfo?lang=zh-CN\n\n\n\n\n\nvar RISK_INFO_EVENT_POINT = \"CP0031501\";\nvar combineRuleParams = function combineRuleParams() {\n  var clientid = cwx.clientID;\n  var AppId = cwx.appId || WECHAT_APPID;\n  return JSON.stringify({\n    AppId: AppId,\n    clientid: clientid\n    // IP\n    // UID\n    // mobile\n    // Email\n    // VID\n    // UA\n    // IMEI\n  });\n};\n\nvar combineEventBody = function combineEventBody() {\n  var clientId = cwx.clientID;\n  var scene = cwx.scene;\n  return {\n    clientId: clientId,\n    scene: scene\n    // uid,\n    // userIp,\n    // serverFrom,\n    // extension: JSON.stringify({\n    //   productID,\n    //   displayName,\n    //   productLine,\n    // })\n  };\n};\n\nfunction getRiskInfo() {\n  return _getRiskInfo.apply(this, arguments);\n}\nfunction _getRiskInfo() {\n  _getRiskInfo = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n    var param, result, data, _data$isRisk, isRisk, _data$isInfoSecurityR, isInfoSecurityRisk, _data$infoSecurityRis, infoSecurityRiskLevel, _data$isBusinessRisk, isBusinessRisk, _data$businessRiskLev, businessRiskLevel, _data$requestId, requestId, _data$eventId, eventId;\n    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          param = {};\n          param.eventPoint = RISK_INFO_EVENT_POINT;\n          param.ruleParams = combineRuleParams();\n          param.eventBody = combineEventBody();\n          _context.next = 6;\n          return request({\n            url: API_MAP.getRiskInfo,\n            param: param\n          });\n        case 6:\n          result = _context.sent;\n          data = result.data || {};\n          _data$isRisk = data.isRisk, isRisk = _data$isRisk === void 0 ? 2 : _data$isRisk, _data$isInfoSecurityR = data.isInfoSecurityRisk, isInfoSecurityRisk = _data$isInfoSecurityR === void 0 ? '' : _data$isInfoSecurityR, _data$infoSecurityRis = data.infoSecurityRiskLevel, infoSecurityRiskLevel = _data$infoSecurityRis === void 0 ? '' : _data$infoSecurityRis, _data$isBusinessRisk = data.isBusinessRisk, isBusinessRisk = _data$isBusinessRisk === void 0 ? '' : _data$isBusinessRisk, _data$businessRiskLev = data.businessRiskLevel, businessRiskLevel = _data$businessRiskLev === void 0 ? '' : _data$businessRiskLev, _data$requestId = data.requestId, requestId = _data$requestId === void 0 ? '' : _data$requestId, _data$eventId = data.eventId, eventId = _data$eventId === void 0 ? '' : _data$eventId;\n          videoValidViewTrace({\n            isRisk: isRisk,\n            isInfoSecurityRisk: isInfoSecurityRisk,\n            infoSecurityRiskLevel: infoSecurityRiskLevel,\n            isBusinessRisk: isBusinessRisk,\n            businessRiskLevel: businessRiskLevel,\n            requestId: requestId,\n            eventId: eventId\n          });\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _getRiskInfo.apply(this, arguments);\n}\n;// CONCATENATED MODULE: ./src/pages/video/utils/customHooks/click.ts\n\n\n/**\n * @desc 点击事件：单击/双击\n */\n\nvar CLICK_TYPE = /*#__PURE__*/function (CLICK_TYPE) {\n  CLICK_TYPE[CLICK_TYPE[\"SINGLE_CLICK\"] = 0] = \"SINGLE_CLICK\";\n  CLICK_TYPE[CLICK_TYPE[\"DOUBLE_CLICK\"] = 1] = \"DOUBLE_CLICK\";\n  return CLICK_TYPE;\n}({});\nvar singleClickTimer;\nvar useClick = function useClick() {\n  var _useState = (0,react.useState)(0),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    lastClickTime = _useState2[0],\n    setLastClickTime = _useState2[1];\n  return function (callback) {\n    return function (e) {\n      var currentTime = e.timeStamp;\n      var interval = currentTime - lastClickTime;\n      setLastClickTime(currentTime);\n      // 双击\n      if (interval < 300) {\n        // 成功触发双击事件时，取消单击事件的执行\n        clearTimeout(singleClickTimer);\n        callback && callback(CLICK_TYPE.DOUBLE_CLICK);\n      } else {\n        // 单击\n        // 此处添加timeout是为了防止单击、双击事件同时触发\n        singleClickTimer = setTimeout(function () {\n          clearTimeout(singleClickTimer);\n          callback && callback(CLICK_TYPE.SINGLE_CLICK);\n        }, 300);\n      }\n    };\n  };\n};\n;// CONCATENATED MODULE: ./src/pages/video/utils/customHooks/move.ts\n\n\n/**\n * @desc 监听左滑、右滑事件\n * @param {function} toLeft 为向左滑 callback\n * @param {function} toRight 为向右滑 callback\n * @param {boolean} disable 禁止滑动\n * @return onTouchStart onTouchEnd，传入公共组件容器 View 即可\n */\nvar getAngle = function getAngle(x, y) {\n  return Math.atan2(y, x) * (180 / Math.PI);\n};\nvar useMoveX = function useMoveX(_ref) {\n  var toLeft = _ref.toLeft,\n    toRight = _ref.toRight,\n    disable = _ref.disable;\n  var startX = (0,react.useRef)(0);\n  var startY = (0,react.useRef)(0);\n  var startTime = (0,react.useRef)(0);\n  var onTouchStart = (0,react.useCallback)(function (event) {\n    if (disable) return;\n    var _event$changedTouches = event.changedTouches[0],\n      pageX = _event$changedTouches.pageX,\n      pageY = _event$changedTouches.pageY;\n    startX.current = pageX;\n    startY.current = pageY;\n    startTime.current = Date.now();\n  }, [disable]);\n  var getAbsAngle = (0,react.useCallback)(function (diffX, pageY) {\n    var diffY = pageY - startY.current;\n    var angle = getAngle(diffX, diffY);\n    return Math.abs(angle);\n  }, []);\n  var onTouchEnd = (0,react.useCallback)(function (event) {\n    if (disable) return;\n    var _event$changedTouches2 = event.changedTouches[0],\n      pageX = _event$changedTouches2.pageX,\n      pageY = _event$changedTouches2.pageY;\n    var diffX = pageX - startX.current;\n    if (diffX > 0) {\n      if (!toRight || getAbsAngle(diffX, pageY) > 20) return;\n      if (diffX > 70 || diffX > 10 && Date.now() - startTime.current < 200) toRight();\n    } else {\n      if (!toLeft || getAbsAngle(diffX, pageY) < 160) return;\n      if (diffX < -70 || diffX < -10 && Date.now() - startTime.current < 200) toLeft();\n    }\n  }, [disable, getAbsAngle, toLeft, toRight]);\n  return {\n    onTouchStart: onTouchStart,\n    onTouchEnd: onTouchEnd\n  };\n};\n/* harmony default export */ var move = (useMoveX);\n;// CONCATENATED MODULE: ./src/pages/video/components/video/VideoProgress/index.tsx\n\n\n\n\n\n\n\n\n\n\nvar SLIDER_STYLE = {\n  activeColor: \"#4DAAF8\",\n  backgroundColor: \"#666\"\n};\nvar SCREEM_WIDTH;\nvar VideoProgressCmp = function VideoProgressCmp(props) {\n  var value = props.value,\n    duration = props.duration;\n  var _useContext = (0,react.useContext)(AppContext),\n    networkError = _useContext.networkError;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    isTouching = _useState2[0],\n    setIsTouching = _useState2[1];\n  var _useState3 = (0,react.useState)(0),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    initClientX = _useState4[0],\n    setInitClientX = _useState4[1];\n  var _useState5 = (0,react.useState)(0),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    initTouchingValue = _useState6[0],\n    setInitTouchValue = _useState6[1];\n  var _useState7 = (0,react.useState)(0),\n    _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n    touchingValue = _useState8[0],\n    setTouchingValue = _useState8[1];\n  (0,react.useEffect)(function () {\n    if (SCREEM_WIDTH) {\n      return;\n    }\n    SCREEM_WIDTH = taro_default().getSystemInfoSync().screenWidth - Number(rpxToPx(48, false));\n  }, []);\n  var onTouchEnd = function onTouchEnd(e) {\n    if (!isTouching) {\n      return;\n    }\n    setIsTouching(false);\n    props.onTouchEnd(touchingValue);\n  };\n  var onTouchMoveStart = function onTouchMoveStart(e) {\n    setIsTouching(true);\n    props.onTouching(true);\n    var clientX = e.touches[0].clientX;\n    setInitClientX(clientX);\n    var touchingValue = clientX / SCREEM_WIDTH * 100;\n    setInitTouchValue(touchingValue);\n  };\n  var onTouchMove = function onTouchMove(e) {\n    stopPropagation(e);\n    if (!isTouching) {\n      onTouchMoveStart(e);\n      return;\n    }\n    var clientX = e.touches[0].clientX;\n    var tempValue = initTouchingValue + (clientX - initClientX) / SCREEM_WIDTH * 100;\n    var curSliderValue = tempValue < 0 ? 0 : tempValue >= 100 ? 100 : tempValue;\n    setTouchingValue(curSliderValue);\n  };\n  var renderLoadingProgress = function renderLoadingProgress() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"video-progress__loading\"\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: networkError ? null : /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n      children: [isTouching && /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"video-progress__time\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          children: formatTime(+(touchingValue / 100) * duration)\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-progress__time__split opacity_4\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"opacity_4\",\n          children: formatTime(+duration)\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        id: \"slider\",\n        className: \"video-progress \".concat(isTouching ? \"active\" : \"inactive\"),\n        onTouchMove: onTouchMove,\n        onTouchEnd: onTouchEnd,\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Slider, {\n          step: 1,\n          min: 0,\n          max: 100,\n          disabled: true\n          // 该属性只支持支付宝小程序\n          ,\n          trackSize: isTouching ? \"4\" : \"1\",\n          value: isTouching ? touchingValue : value,\n          blockColor: isTouching ? \"#fff\" : \"transparent\",\n          blockSize: 16,\n          activeColor: SLIDER_STYLE.activeColor,\n          backgroundColor: SLIDER_STYLE.backgroundColor\n        })\n      })]\n    })\n  });\n};\nvar VideoProgress = /*#__PURE__*/(0,react.memo)(VideoProgressCmp);\n\n;// CONCATENATED MODULE: ./src/pages/video/event/index.ts\n\nvar SWIPER_CHANGE_EVENT = \"taro_video_swiper_change_event\";\n\n/**\n * SwiperChange，触发监听器\n * @param curIndex  当前视频下标\n * @param lastIndex 上一个视频下标\n */\nvar triggerSwiperChange = function triggerSwiperChange(curIndex, lastIndex) {\n  cwx.Observer.noti(SWIPER_CHANGE_EVENT, {\n    curIndex: curIndex,\n    lastIndex: lastIndex\n  });\n};\n/**\n * 监听Swiper Change\n * @param callback\n */\nvar listenSwiperChange = function listenSwiperChange(callback) {\n  cwx.Observer.addObserverForKey(SWIPER_CHANGE_EVENT, callback);\n};\n\n/**\n * 移除监听\n * @param eventName 事件名\n */\nvar removeListener = function removeListener(eventName) {\n  if (eventName) {\n    cwx.Observer.removeAllObserversForKey(eventName);\n    return;\n  }\n  cwx.Observer.removeAllObserversForKey(SWIPER_CHANGE_EVENT);\n};\n;// CONCATENATED MODULE: ./src/pages/video/components/video/VideoScroll/VideoItem.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar PRELOAD_TYPE = /*#__PURE__*/function (PRELOAD_TYPE) {\n  PRELOAD_TYPE[PRELOAD_TYPE[\"VIDEO\"] = 1] = \"VIDEO\";\n  PRELOAD_TYPE[PRELOAD_TYPE[\"DETAILS\"] = 3] = \"DETAILS\";\n  return PRELOAD_TYPE;\n}(PRELOAD_TYPE || {});\nvar sendFinishTraceEndTime = 0; // 防止视频播放完成埋点发送多次\n\n// const VideoItemComp = forwardRef((props: IVideoItemProps, ref) => {\nvar VideoItemComp = function VideoItemComp(props) {\n  var _useContext = (0,react.useContext)(AppContext),\n    urlParams = _useContext.urlParams,\n    networkError = _useContext.networkError;\n  var index = props.index,\n    videoInfo = props.videoInfo;\n  var _useState = (0,react.useState)(getCurrentVideoIndex()),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    curIndex = _useState2[0],\n    setCurIndex = _useState2[1]; // 当前视频index\n\n  var _useState3 = (0,react.useState)({}),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    cartProducts = _useState4[0],\n    setCartProducts = _useState4[1]; // 购物车数据\n  // const [floatProduct, setFloatProduct] = useState({}); // 浮层商品数据\n  var _useState5 = (0,react.useState)(undefined),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    floatProductVisible = _useState6[0],\n    setFloatProductVisible = _useState6[1];\n  var _useState7 = (0,react.useState)(false),\n    _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n    paused = _useState8[0],\n    setPaused = _useState8[1]; //当前视频播放状态\n  var _useState9 = (0,react.useState)(0),\n    _useState10 = (0,slicedToArray/* default */.Z)(_useState9, 2),\n    sliderValue = _useState10[0],\n    setSliderValue = _useState10[1]; //当前视频进度跳\n  var _useState11 = (0,react.useState)(false),\n    _useState12 = (0,slicedToArray/* default */.Z)(_useState11, 2),\n    sliderChanging = _useState12[0],\n    setSliderChanging = _useState12[1];\n  var _useState13 = (0,react.useState)({}),\n    _useState14 = (0,slicedToArray/* default */.Z)(_useState13, 2),\n    videoHeightStyle = _useState14[0],\n    setVideoHeightStyle = _useState14[1]; //视频宽高比\n  var _useState15 = (0,react.useState)(false),\n    _useState16 = (0,slicedToArray/* default */.Z)(_useState15, 2),\n    fetchErr = _useState16[0],\n    setFetchErr = _useState16[1];\n  var _useState17 = (0,react.useState)(false),\n    _useState18 = (0,slicedToArray/* default */.Z)(_useState17, 2),\n    rotateBtnVisible = _useState18[0],\n    setRotateBtnVisible = _useState18[1];\n  var _useState19 = (0,react.useState)(false),\n    _useState20 = (0,slicedToArray/* default */.Z)(_useState19, 2),\n    isHorizontalScreen = _useState20[0],\n    setIsHorizontalScreen = _useState20[1]; // 是否横屏\n  var _useState21 = (0,react.useState)(false),\n    _useState22 = (0,slicedToArray/* default */.Z)(_useState21, 2),\n    doubleClick = _useState22[0],\n    setDoubleClick = _useState22[1]; // 双击点赞事件\n  var _useState23 = (0,react.useState)(false),\n    _useState24 = (0,slicedToArray/* default */.Z)(_useState23, 2),\n    isLoadVideo = _useState24[0],\n    setIsLoadVideo = _useState24[1]; // 是否加载视频\n  var _useState25 = (0,react.useState)(false),\n    _useState26 = (0,slicedToArray/* default */.Z)(_useState25, 2),\n    voteModalVisiable = _useState26[0],\n    setVoteModalVisible = _useState26[1];\n\n  // const [isLoadDetails, setIsLoadDetails] = useState<boolean>(false); // 是否加载详情\n  var isLoadVideoRef = (0,react.useRef)(false);\n  var floatProductRef = (0,react.useRef)({});\n  var floatProductVisibleRef = (0,react.useRef)(undefined);\n  var videoClickEvent = useClick(); // 双击事件\n  var shareInfo = videoInfo.shareInfo,\n    _videoInfo$videoDurat = videoInfo.videoDurationSeconds,\n    videoDurationSeconds = _videoInfo$videoDurat === void 0 ? 0 : _videoInfo$videoDurat,\n    contentId = videoInfo.contentId,\n    _videoInfo$videoWidth = videoInfo.videoWidth,\n    videoWidth = _videoInfo$videoWidth === void 0 ? 0 : _videoInfo$videoWidth,\n    _videoInfo$videoHeigh = videoInfo.videoHeight,\n    videoHeight = _videoInfo$videoHeigh === void 0 ? 1 : _videoInfo$videoHeigh,\n    author = videoInfo.author,\n    videoUrl = videoInfo.videoUrl,\n    videoSize = videoInfo.videoSize,\n    imageUrl = videoInfo.imageUrl,\n    mediaId = videoInfo.mediaId;\n  (0,react.useEffect)(function () {\n    if (index == 0) {\n      if (isEmpty(videoUrl)) {\n        videoFailTrace(ERROR_TYPE.PAGE_LOAD_FAILED);\n        return;\n      }\n      setIsLoadVideo(true);\n      isLoadVideoRef.current = true;\n      // playCurrentVideo(index);\n      getARFunc();\n      getProducts();\n      // cpc风控\n      handleRiskInfoTimer(function () {\n        getRiskInfo();\n      });\n\n      // 微信分享引导\n      // handleShareGuide();\n    }\n\n    _checkIsPreLoadVideo(0);\n\n    // 监听swiper change\n    listenSwiperChange(handleSwiperChange);\n  }, []);\n  (0,react.useEffect)(function () {\n    if (isLoadVideo) {\n      initVideoContext(getCurrentVideoIndex(), index);\n    } else {\n      deleteVideoContext(index);\n    }\n  }, [isLoadVideo]);\n  (0,taro.useDidHide)(function () {\n    // 从别的页面返回时候，video_play_trace 重新计算\n    if (getCurrentVideoIndex() == index) {\n      _handleVideoPlayTrace();\n      setVideoTime({\n        startTime: +getVideoTime(\"play\")\n      });\n    }\n  });\n  var handleSwiperChange = function handleSwiperChange(_ref) {\n    var curIndex = _ref.curIndex,\n      lastIndex = _ref.lastIndex;\n    triggerVideoPlay(curIndex, index);\n    if (curIndex == lastIndex) {\n      return;\n    }\n    if (!isUndefined(lastIndex)) {\n      setPaused(false);\n    }\n    if (curIndex == index) {\n      _updateCurrentVideo(curIndex, lastIndex);\n    } else {\n      _checkIsPreLoadVideo(curIndex);\n    }\n  };\n  var _updateCurrentVideo = function _updateCurrentVideo(curIndex, lastIndex) {\n    if (isEmpty(videoUrl)) {\n      videoFailTrace(ERROR_TYPE.PAGE_LOAD_FAILED);\n      return;\n    }\n    setIsLoadVideo(true);\n    setCurIndex(curIndex);\n    isLoadVideoRef.current = true;\n    getARFunc();\n\n    // 商品\n    getProducts(curIndex);\n    // cpc风控\n    handleRiskInfoTimer(function () {\n      getRiskInfo();\n    });\n\n    // share_guide_visible = false;\n    !isUndefined(lastIndex) && _handleVideoPlayTrace({\n      lastIndex: lastIndex\n    });\n  };\n  var _checkIsPreLoadVideo = function _checkIsPreLoadVideo() {\n    var curIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    if (curIndex == index) {\n      return;\n    }\n    var _isLoadVideo = Math.abs(curIndex - index) <= PRELOAD_TYPE.VIDEO;\n    var isRemoveVideo = !_isLoadVideo;\n    if (_isLoadVideo) {\n      setIsLoadVideo(_isLoadVideo);\n      isLoadVideoRef.current = true;\n      getARFunc();\n    }\n    if (typeof floatProductVisibleRef.current != \"undefined\") {\n      floatProductVisibleRef.current = undefined;\n      setFloatProductVisible(undefined);\n    }\n    if (isRemoveVideo && isLoadVideoRef.current) {\n      setIsLoadVideo(false);\n      isLoadVideoRef.current = false;\n    }\n  };\n\n  // const handleShareGuide = function () {\n  //   if (curIndex == 0) {\n  //     share_guide_start_timer = setTimeout(() => {\n  //       clearTimeout(share_guide_start_timer);\n  //       share_guide_visible = true;\n  //     }, 5 * 1000);\n  //   }\n  // };\n\n  /**\n   * 商品\n   */\n  var getProducts = /*#__PURE__*/function () {\n    var _ref2 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n      var curIndex,\n        _yield$getContentProd,\n        data,\n        statusCode,\n        _ref3,\n        allGoods,\n        videoGoods,\n        recommends,\n        _cartProducts,\n        cardInfo,\n        goodsListShowStartSecond,\n        goodsListShowEndSecond,\n        _args = arguments;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            curIndex = _args.length > 0 && _args[0] !== undefined ? _args[0] : 0;\n            if (!(!contentId || index != getCurrentVideoIndex())) {\n              _context.next = 3;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 3:\n            _context.next = 5;\n            return getContentProductList({\n              contentId: contentId,\n              productType: urlParams.productType\n            });\n          case 5:\n            _yield$getContentProd = _context.sent;\n            data = _yield$getContentProd.data;\n            statusCode = _yield$getContentProd.statusCode;\n            if (!(statusCode !== STATUS_CODE.OK)) {\n              _context.next = 11;\n              break;\n            }\n            setFetchErr(true);\n            return _context.abrupt(\"return\");\n          case 11:\n            _ref3 = data || {}, allGoods = _ref3.allGoods, videoGoods = _ref3.videoGoods, recommends = _ref3.recommends;\n            _cartProducts = allGoods.totalCount ? (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, allGoods), {}, {\n              type: \"all\"\n            }) : (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, recommends), {}, {\n              type: \"recommends\"\n            });\n            setCartProducts(_cartProducts);\n            if (!isEmpty(videoGoods.items)) {\n              cardInfo = JSON.parse(videoGoods.items[0]);\n              goodsListShowStartSecond = cardInfo.goodsListShowStartSecond, goodsListShowEndSecond = cardInfo.goodsListShowEndSecond;\n              handleCardAppear(curIndex, goodsListShowStartSecond, goodsListShowEndSecond, cardInfo);\n            }\n            videoMktProductTrace(data);\n\n            // 埋点：购物车曝光\n            if (allGoods.totalCount || recommends.totalCount) {\n              videoShoppingCartTrace(ACTION_TYPE.EXPOSURE);\n            }\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function getProducts() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  // 悬浮卡片出现消失动画\n  var handleCardAppear = function handleCardAppear(curIndex, startTime, endTime, productInfo) {\n    if (!endTime) {\n      return;\n    }\n    setFloatProductTimer({\n      index: curIndex,\n      startTime: startTime,\n      endTime: endTime,\n      startCallback: function startCallback() {\n        floatProductRef.current = productInfo;\n        setFloatProductVisible(true);\n        floatProductVisibleRef.current = true;\n        floatProductTrace({\n          productInfo: productInfo,\n          actionType: ACTION_TYPE.EXPOSURE\n        });\n        // !feat 触发订单归因 - 曝光\n        _handleReportMkt(REPORT_MKT_TYPE.EXPO);\n      },\n      endCallback: function endCallback() {\n        setFloatProductVisible(false);\n        floatProductVisibleRef.current = false;\n      }\n    });\n  };\n\n  /**\n   * cpc风控: 每个视频详情页停留5s后调用接口，落埋点数据\n   */\n  // const handleRiskInfo = function () {\n  //   if (cpc_risk_info_timer) {\n  //     cpc_risk_info_timer = null;\n  //     clearTimeout(cpc_risk_info_timer);\n  //   }\n  //   cpc_risk_info_timer = setTimeout(() => {\n  //     cpc_risk_info_timer = null;\n  //     clearTimeout(cpc_risk_info_timer);\n  //     getRiskInfo();\n  //   }, cpc_risk_info_interval);\n  // };\n\n  /**\n   * 视频宽高比\n   */\n  var getARFunc = function getARFunc() {\n    var vWidth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : videoWidth;\n    var vHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : videoHeight;\n    var _cwx$getSystemInfoSyn = cwx.getSystemInfoSync(),\n      screenWidth = _cwx$getSystemInfoSyn.screenWidth,\n      screenHeight = _cwx$getSystemInfoSyn.screenHeight;\n    var videoHeightStyle = {};\n    var ar = vWidth / vHeight;\n    // console.log(\"======== ar ==========\", contentId)\n    // console.log(\"ar video 实际宽高\", vWidth, vHeight);\n    // console.log(\"ar video 接口返回的宽高\", videoWidth, videoHeight);\n    // console.log(\"ar\", ar);\n\n    if (ar <= 0) {\n      return;\n    }\n    // 宽高比 >= 1，视频向上移动 4vh\n    if (ar >= 1) {\n      setRotateBtnVisible(true);\n      videoHeightStyle[\"height\"] = Math.floor(screenWidth / ar) + \"px\";\n      if (getCurrentVideoIndex() == index) {\n        rotateScreenTrace({\n          actionType: ACTION_TYPE.EXPOSURE\n        });\n      }\n    } else {\n      // 高度占满，等比例放大\n      videoHeightStyle[\"height\"] = \"100vh\";\n      videoHeightStyle[\"width\"] = Math.floor(ar * screenHeight / screenWidth * 100) + \"vw\";\n    }\n    setVideoHeightStyle(videoHeightStyle);\n  };\n  var handleVideoClick = function handleVideoClick(type) {\n    // 单击暂停/播放\n    if (type == CLICK_TYPE.SINGLE_CLICK) {\n      handlePause();\n      setDoubleClick(false);\n      return;\n    }\n    // 双击点赞\n    if (type == CLICK_TYPE.DOUBLE_CLICK) {\n      var isLogin = checkLogin();\n      if (isLogin) {\n        if (!videoInfo.isLike) {\n          // console.log(\"双击点赞\", isLogin, videoInfo.isLike);\n          setDoubleClick(true);\n          videoLikeTrace(LIKE_TYPE.DOUBLELIKE);\n        }\n      } else {\n        login(function () {});\n      }\n    }\n  };\n\n  /**\n   * 单击: 暂停/播放\n   */\n  var handlePause = function handlePause() {\n    var videoCtx = getVideoContext(curIndex);\n    setPaused(!paused);\n    if (paused) {\n      videoCtx.play();\n      videoStatusTrace(PLAY_TYPE.PLAY);\n    } else {\n      videoCtx.pause();\n      videoStatusTrace(PLAY_TYPE.PAUSE);\n    }\n  };\n\n  // Video控制按钮\n  var handleVideoPause = function handleVideoPause(e) {\n    var _getVideoContext;\n    if (!isHorizontalScreen) {\n      return;\n    }\n    if (Math.abs(curIndex - index) >= 1) {\n      return;\n    }\n    if (!rotateBtnVisible || paused) {\n      return;\n    }\n    setPaused(true);\n    (_getVideoContext = getVideoContext(curIndex)) === null || _getVideoContext === void 0 || _getVideoContext.pause();\n  };\n  var handleVideoPlay = function handleVideoPlay() {\n    var _getVideoContext2;\n    if (Math.abs(curIndex - index) >= 1) {\n      return;\n    }\n    if (!rotateBtnVisible || !paused) {\n      return;\n    }\n    setPaused(false);\n    (_getVideoContext2 = getVideoContext(curIndex)) === null || _getVideoContext2 === void 0 || _getVideoContext2.play();\n  };\n  var renderVideoTools = function renderVideoTools() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        id: \"video_tools_\".concat(contentId, \"_\").concat(index),\n        onClick: stopPropagation,\n        catchMove: true,\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(VideoTools, {\n          videoInfo: videoInfo,\n          products: cartProducts,\n          netWorkErr: fetchErr,\n          doubleClick: doubleClick\n          // shareGuideVisible={share_guide_visible}\n          ,\n          resetDoubleClick: function resetDoubleClick() {\n            setDoubleClick(false);\n          }\n        })\n      })\n    });\n  };\n  var renderPauseIcon = function renderPauseIcon() {\n    return paused && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"video-swiper__item__ctrl__btns\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"iconfont-boradcast\"\n      })\n    });\n  };\n\n  // 页面左滑、右滑\n  var _useMoveX = move({\n      toLeft: function toLeft() {\n        if (sliderChanging) {\n          return;\n        }\n        gestureTrace(GESTURE_TYPE.SWIPER_LEFT);\n        jumpToAuthorHomePage(author, AUTHOR_TYPE.SWIPE_LEFT);\n      },\n      toRight: function toRight() {\n        if (sliderChanging) {\n          return;\n        }\n        // 右滑: 退出\n        navigateBack();\n        gestureTrace(GESTURE_TYPE.SWIPER_RIGHT);\n      },\n      disable: false\n    }),\n    onTouchEnd = _useMoveX.onTouchEnd,\n    onTouchStart = _useMoveX.onTouchStart;\n  var _handleVideoPlayTrace = function _handleVideoPlayTrace() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$isFinished = _ref4.isFinished,\n      isFinished = _ref4$isFinished === void 0 ? false : _ref4$isFinished,\n      _ref4$lastIndex = _ref4.lastIndex,\n      lastIndex = _ref4$lastIndex === void 0 ? 0 : _ref4$lastIndex;\n    var _getVideoTime = getVideoTime(),\n      totalTime = _getVideoTime.totalTime,\n      playTime = _getVideoTime.playTime,\n      startTime = _getVideoTime.startTime;\n    var formatPlayTime = isFinished || playTime > totalTime ? totalTime : playTime;\n    resetVideoTime(\"start\");\n    var params = {\n      totalTime: totalTime,\n      playTime: formatPlayTime,\n      startTime: startTime\n    };\n    if (isFinished) {\n      var tempTime = new Date().getTime() - sendFinishTraceEndTime;\n      sendFinishTraceEndTime = new Date().getTime();\n      if (tempTime < 500) {\n        return;\n      }\n      videoPlayTimeTrace(params);\n      videoFinishTrace(params);\n      return;\n    }\n    videoPlayTimeTrace(params);\n  };\n\n  /**\n   * 视频进度条\n   */\n  var onSlideChanged = function onSlideChanged(rate) {\n    var _getVideoContext3;\n    var changedSliderValue = Math.round(rate);\n    var seekValue = Math.round(rate / 100 * videoDurationSeconds);\n    videoStatusTrace(changedSliderValue >= sliderValue ? PLAY_TYPE.SPEED : PLAY_TYPE.BACKOFF);\n    setSliderValue(changedSliderValue);\n    (_getVideoContext3 = getVideoContext(curIndex)) === null || _getVideoContext3 === void 0 || _getVideoContext3.seek(seekValue);\n    setSliderChanging(false);\n  };\n  var onSlideChanging = function onSlideChanging(sliderChanging) {\n    setSliderChanging(sliderChanging);\n  };\n  var renderProgress = function renderProgress() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(VideoProgress, {\n        value: sliderValue,\n        duration: videoDurationSeconds,\n        onTouching: onSlideChanging,\n        onTouchEnd: onSlideChanged\n      })\n    });\n  };\n  var handleVideoProgress = function handleVideoProgress(e) {\n    if (sliderChanging) {\n      return;\n    }\n    var _e$detail = e.detail,\n      currentTime = _e$detail.currentTime,\n      duration = _e$detail.duration;\n    var formatCurrentTime = +(currentTime === null || currentTime === void 0 ? void 0 : currentTime.toFixed(2));\n    var formatDuration = +(duration === null || duration === void 0 ? void 0 : duration.toFixed(2));\n    setVideoTime({\n      totalTime: formatDuration,\n      playTime: formatCurrentTime\n    });\n    var currentValue = Math.round(formatCurrentTime / formatDuration * 100);\n    if (currentValue == sliderValue) {\n      return;\n    }\n    // 作差是因为，视频播放结束时，会有误差\n    if (Math.abs(formatCurrentTime - formatDuration) <= 0.5) {\n      _handleVideoPlayTrace({\n        isFinished: true\n      });\n    }\n    setSliderValue(currentValue);\n  };\n  var handleRotate = function handleRotate(e) {\n    var _getVideoContext4;\n    stopPropagation(e);\n    setIsHorizontalScreen(true);\n    (_getVideoContext4 = getVideoContext(curIndex)) === null || _getVideoContext4 === void 0 || _getVideoContext4.requestFullScreen({\n      direction: 90\n    });\n    rotateScreenTrace({\n      actionType: ACTION_TYPE.CLICK,\n      isGravity: IS_GRAVITY.N\n    });\n  };\n  var handleFullScreenChange = function handleFullScreenChange(e) {\n    if (curIndex != index) {\n      return;\n    }\n    stopPropagation(e);\n    var _e$detail2 = e.detail,\n      direction = _e$detail2.direction,\n      fullScreen = _e$detail2.fullScreen;\n    if (fullScreen == isHorizontalScreen) {\n      return;\n    }\n    if (direction != \"horizontal\") {\n      var _getVideoContext5;\n      setIsHorizontalScreen(false);\n      (_getVideoContext5 = getVideoContext(curIndex)) === null || _getVideoContext5 === void 0 || _getVideoContext5.exitFullScreen();\n      return;\n    }\n\n    // 全屏\n    if (fullScreen) {\n      setIsHorizontalScreen(true);\n      // 重力感应观横屏\n      rotateScreenTrace({\n        isGravity: IS_GRAVITY.Y\n      });\n      return;\n    }\n  };\n  var _handleReportMkt = function _handleReportMkt(type) {\n    var _floatProductRef$curr;\n    reportMktProduct({\n      clientAuth: author.clientAuth,\n      page_type: \"video_detail\",\n      // todo 待确认\n      pageid: \"\",\n      materialid: contentId,\n      product_infos: (_floatProductRef$curr = floatProductRef.current) === null || _floatProductRef$curr === void 0 ? void 0 : _floatProductRef$curr.extInfo,\n      click_type: type,\n      note: JSON.stringify({\n        is_star: author.isStarAccount,\n        sourcefrom: urlParams.source\n      })\n    });\n  };\n  var handleFloatProductClick = function handleFloatProductClick(e) {\n    // !feat 触发订单归因 - 点击\n    _handleReportMkt(REPORT_MKT_TYPE.CLICK);\n    if (isEmpty(floatProductRef.current)) {\n      return;\n    }\n    floatProductTrace({\n      productInfo: floatProductRef.current,\n      actionType: ACTION_TYPE.CLICK\n    });\n    var _floatProductRef$curr2 = floatProductRef.current,\n      _floatProductRef$curr3 = _floatProductRef$curr2.wxUrl,\n      wxUrl = _floatProductRef$curr3 === void 0 ? \"\" : _floatProductRef$curr3,\n      _floatProductRef$curr4 = _floatProductRef$curr2.h5Url,\n      h5Url = _floatProductRef$curr4 === void 0 ? \"\" : _floatProductRef$curr4,\n      _floatProductRef$curr5 = _floatProductRef$curr2.productType,\n      productType = _floatProductRef$curr5 === void 0 ? \"\" : _floatProductRef$curr5;\n    jumpToWxOrH5(wxUrl, h5Url, productType == 18);\n  };\n  var handleVideoError = function handleVideoError(e) {};\n  var onLoadedMetaData = function onLoadedMetaData(e) {\n    var _e$detail3 = e.detail,\n      width = _e$detail3.width,\n      height = _e$detail3.height;\n    if (videoWidth == width && videoHeight == height) {\n      return;\n    }\n    // console.log(\"ar onLoadedMetaData\", e.detail, curIndex, index);\n    getARFunc(width, height);\n  };\n  var renderVideo = function renderVideo() {\n    var _jsx2;\n    return isEmpty(videoUrl) ? /*#__PURE__*/(0,jsx_runtime.jsx)(Status, {\n      title: \"\\u89C6\\u9891\\u5DF2\\u5931\\u6548\",\n      theme: \"dark\"\n    }) : /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-swiper__video__wrap\",\n      onClick: videoClickEvent(function (type) {\n        return handleVideoClick(type);\n      }),\n      onTouchStart: onTouchStart,\n      onTouchEnd: onTouchEnd,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Video, (_jsx2 = {\n        poster: networkError ? \"\" : imageUrl,\n        src: videoUrl\n      }, (0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)(_jsx2, \"src\", videoUrl), \"id\", \"videoIndex_\".concat(index)), \"objectFit\", isHorizontalScreen ? \"contain\" : \"fill\"), \"className\", isHorizontalScreen ? \"\" : \"video-swiper__video\"), \"style\", videoHeightStyle), \"loop\", true), \"showFullscreenBtn\", false), \"showCenterPlayBtn\", false), \"enableProgressGesture\", false), \"showProgress\", isHorizontalScreen), (0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)(_jsx2, \"showPlayBtn\", isHorizontalScreen), \"onLoadedMetaData\", onLoadedMetaData), \"onPause\", handleVideoPause), \"onPlay\", handleVideoPlay), \"enableAutoRotation\", false), \"onFullScreenChange\", handleFullScreenChange), \"onError\", handleVideoError), \"onTimeUpdate\", handleVideoProgress))), rotateBtnVisible &&\n      /*#__PURE__*/\n      // 多嵌套一层，解决ios上1px边框显示不全的问题\n      (0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-swiper__rotateBtn\",\n        onClick: handleRotate,\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          className: \"video-swiper__rotateBtn__inner\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            className: \"iconfont-screen_rotation\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Text, {\n            children: \"\\u6A2A\\u5411\\u89C2\\u770B\"\n          })]\n        })\n      }), paused && renderPauseIcon()]\n    });\n  };\n  var handleFloatClose = function handleFloatClose() {\n    setFloatProductVisible(false);\n    floatProductVisibleRef.current = false;\n    clearFloatProductTimer();\n    floatProductTrace({\n      productInfo: floatProductRef.current,\n      actionType: ACTION_TYPE.CLOSE\n    });\n  };\n  var renderVideoDetails = function renderVideoDetails() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        onClick: stopPropagation,\n        catchMove: true,\n        className: \"video-swiper__item__ctrl__details\",\n        style: {\n          visibility: sliderChanging ? \"hidden\" : \"visible\",\n          // 会被videoTools遮挡\n          zIndex: voteModalVisiable ? 3 : 2\n        },\n        children: [curIndex != index || isUndefined(floatProductVisible) ? null : /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n          className: \"video-float-card__animation \".concat(floatProductVisible ? \"appear\" : \"disappear\"),\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(ProductCard, {\n            productInfo: floatProductRef.current,\n            handleClick: handleFloatProductClick,\n            handleClose: handleFloatClose\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(VideoDetails, {\n          videoInfo: videoInfo,\n          curIndex: curIndex,\n          index: index,\n          handleVote: handleVote\n        }, \"videoDetails_\".concat(contentId))]\n      })\n    });\n  };\n  var handleVote = function handleVote(visiable) {\n    setVoteModalVisible(visiable);\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.SwiperItem, {\n      itemId: \"video_\".concat(contentId, \"_\").concat(index),\n      skipHiddenItemLayout: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n        className: \"video-swiper__item\",\n        children: [isLoadVideoRef.current && isLoadVideo && renderVideo(), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.CustomWrapper, {\n          children: [videoDurationSeconds >= 30 && renderProgress(), renderVideoTools(), renderVideoDetails(), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            className: \"video-wrap__mask\"\n          })]\n        })]\n      })\n    }, \"video_\".concat(contentId, \"_\").concat(index))\n  });\n};\nvar VideoItem = /*#__PURE__*/(0,react.memo)(VideoItemComp);\n\n;// CONCATENATED MODULE: ./src/pages/video/utils/common.ts\n/**\n * 指定时间内多次触发将会取消fn的执行\n * @param fn\n * @param wait\n */\nvar debounce = function debounce(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n  var timer;\n  return function () {\n    var _this = this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, wait);\n  };\n};\n\n/**\n * 节流方法: 在指定时间内防止多次触发，只执行一次\n * @param fn\n * @param wait\n */\nvar throttle = function throttle(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n  var preTime = Date.now();\n  return function () {\n    var nowTime = Date.now();\n    if (nowTime - preTime >= wait) {\n      fn();\n      preTime = Date.now();\n    }\n  };\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/components/video/VideoScroll/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar VideoScroll = /*#__PURE__*/(0,react.memo)(function (props) {\n  var _useContext = (0,react.useContext)(AppContext),\n    videoList = _useContext.videoList;\n  var swiperToBottom = props.swiperToBottom;\n  var _useState = (0,react.useState)(false),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    bottomTransition = _useState2[0],\n    setBottomTransition = _useState2[1]; //视频下标\n  var swiperRefList = (0,react.useRef)([]);\n  var screenHeight = cwx.getSystemInfoSync().screenHeight;\n\n  /**\n   * 视频切换\n   * 1. 停止上一个视频播放\n   * 2. 播放当前视频\n   */\n  var onAnimationFinish = /*#__PURE__*/function () {\n    var _ref = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(e) {\n      var newIndex, curIndex, _videoList$newIndex, contentId, mediaId, videoUrl, author, ext;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            // console.log(\"---- video onAnimationFinish ------\");\n            newIndex = e.detail && e.detail.current || 0;\n            curIndex = getCurrentVideoIndex();\n            if (!(newIndex == curIndex)) {\n              _context.next = 4;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 4:\n            setCurrentVideoIndex(newIndex);\n            triggerSwiperChange(newIndex, curIndex);\n            props.handleVideoChange();\n\n            // handleCommentVisiable(false);\n            _videoList$newIndex = videoList[newIndex], contentId = _videoList$newIndex.contentId, mediaId = _videoList$newIndex.mediaId, videoUrl = _videoList$newIndex.videoUrl, author = _videoList$newIndex.author, ext = _videoList$newIndex.ext;\n            commonTrace({\n              // getContentlist接口rep.ext.burydata\n              extra: ext || \"\",\n              // 文章contentId\n              articleid: contentId,\n              // 视频mediaId\n              id: mediaId,\n              // 当前视频所在排序，从0开始\n              index: newIndex,\n              // 主详情接口中的videoUrl\n              url: videoUrl,\n              isStarAccount: author.isStarAccount || false\n            });\n            if (newIndex > curIndex) {\n              gestureTrace(GESTURE_TYPE.SWIPER_UP);\n            } else {\n              gestureTrace(GESTURE_TYPE.SWIPER_DOWN);\n            }\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function onAnimationFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var checkIsStuce = (0,react.useCallback)(debounce(function (e) {\n    var isCaton = +e.detail.dy % +screenHeight == 0;\n    if (!isCaton) {\n      videoFailTrace(ERROR_TYPE.SLIDE_CATON);\n    }\n  }, 500), []);\n  var onTransition = function onTransition(e) {\n    // 检验是否卡在半屏\n    checkIsStuce(e);\n    if (!swiperToBottom) {\n      return;\n    }\n    var bottomRange = 60;\n    if (e.detail.dy > bottomRange && !bottomTransition) {\n      setBottomTransition(true);\n      return;\n    }\n    if (bottomTransition && e.detail.dy < bottomRange) {\n      setBottomTransition(false);\n    }\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Swiper, {\n      className: \"video-swiper\",\n      current: getCurrentVideoIndex(),\n      disableTouch: true,\n      vertical: true,\n      duration: 300,\n      skipHiddenItemLayout: true,\n      onAnimationFinish: onAnimationFinish,\n      onTransition: onTransition,\n      children: videoList.map(function (item, index) {\n        return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(VideoItem, {\n            videoInfo: item,\n            index: index,\n            ref: function ref(f) {\n              swiperRefList.current[index] = f;\n            }\n          }, \"video_\".concat(item.contentId, \"_\").concat(index))\n        });\n      })\n    }), swiperToBottom && bottomTransition && /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n      className: \"video-swiper__bottom\",\n      children: \"\\u6CA1\\u6709\\u66F4\\u591A\\u4E86\"\n    }, \"video_bottom\")]\n  });\n});\n\n;// CONCATENATED MODULE: ./src/pages/video/api/video/getVideoList.ts\n\n\n\n// URL契约：http://conf.ctripcorp.com/pages/viewpage.action?pageId=1319989421\n\n\n\n\nfunction getVideoList(_x) {\n  return _getVideoList.apply(this, arguments);\n}\nfunction _getVideoList() {\n  _getVideoList = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(param) {\n    var _global$version;\n    var pageSize, _ref, _ref$latitude, latitude, _ref$longitude, longitude, reqParams;\n    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          pageSize = param.pageSize;\n          _ref = cwx.locate.getCachedGeoPoint() || {}, _ref$latitude = _ref.latitude, latitude = _ref$latitude === void 0 ? 0 : _ref$latitude, _ref$longitude = _ref.longitude, longitude = _ref$longitude === void 0 ? 0 : _ref$longitude;\n          reqParams = {\n            url: API_MAP.getVideoList,\n            param: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, param), {}, {\n              pageSize: pageSize || 10,\n              coordinate: {\n                type: \"GCJ02\",\n                latitude: latitude,\n                longitude: longitude,\n                overSea: true\n              }\n            }),\n            // head中小程序版本1.1.164，getContentList接口的cver必须>850.006，否则会走到老逻辑导致某些字段不返回\n            cver: \"850.\".concat((_global$version = __global.version) === null || _global$version === void 0 ? void 0 : _global$version.split(\".\").join(\"\"))\n          };\n          return _context.abrupt(\"return\", request(reqParams));\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _getVideoList.apply(this, arguments);\n}\n;// CONCATENATED MODULE: ./src/pages/video/constants/cookie.ts\nvar PREFIX = \"miniapp_video\";\nvar COOKIE_SOURCE = \"\".concat(PREFIX, \"_source\");\n;// CONCATENATED MODULE: ./src/pages/video/components/common/Guide/index.tsx\n\n\n\n\n\n\n\n\n\n// export enum GUIDE_TYPE {\n//   // 手势引导 - 上滑\n//   SWIPE_UP,\n//   // 手势引导 - 双击点赞\n//   DOUBLE_CLICK\n// }\n\n\n\nvar GUIDE_INFO = (0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)({}, GUIDE_TYPE.SWIPER_UP_ENTRANCE, {\n  url: SWIPE_UP_WEBP,\n  desc: \"上滑切换视频\"\n}), GUIDE_TYPE.DOUBLE_CLICK, {\n  url: DOUBLE_CLICK_WEBP,\n  desc: \"双击屏幕 点赞视频\"\n});\nvar Guide = function Guide(props) {\n  var type = props.type,\n    title = props.title;\n  return isEmpty(GUIDE_INFO[type]) ? null : /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Mask, {}), /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n      className: \"video-guide\",\n      onClick: props.handleClick,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.Image, {\n        className: \"video-guide__img\",\n        src: GUIDE_INFO[type].url,\n        webp: true\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-guide__title\",\n        children: GUIDE_INFO[type].desc\n      })]\n    })]\n  });\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/api/task/shareDoTask.ts\n\n\n\n\n// 规则：解析入口url中的参数，若存在clientAuth，则滑动一次调一次任务接口\n\n/* harmony default export */ function shareDoTask(_x) {\n  return _ref.apply(this, arguments);\n}\nfunction _ref() {\n  _ref = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee(param) {\n    var clientAuth, articleIds, reqParams;\n    return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          clientAuth = param.clientAuth, articleIds = param.articleIds;\n          reqParams = {\n            url: API_MAP.shareDoTask,\n            param: param\n          };\n          return _context.abrupt(\"return\", request(reqParams));\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _ref.apply(this, arguments);\n}\n;// CONCATENATED MODULE: ./src/pages/video/components/common/TaskCountDown/index.tsx\n\n\n\n// 红包倒计时组件;\n\nvar TaskCountDown = function TaskCountDown() {\n  var _useContext = (0,react.useContext)(AppContext),\n    urlParams = _useContext.urlParams;\n  if (!urlParams || !urlParams._mktTaskActivityId) {\n    return;\n  }\n  // @ts-ignore\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(\"task-count-down\", {});\n};\n\n;// CONCATENATED MODULE: ./src/pages/video/pages/home/home.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar SWIPER_UP_GUIDE_START_TIME = 10 * 1000;\nvar SWIPER_UP_GUIDE_END_TIME = 13 * 1000;\nvar DOUBLE_CLICK_GUIDE_START_TIME = 20 * 1000;\nvar DOUBLE_CLICK_GUIDE_END_TIME = 25 * 1000;\nvar traceSessionId;\nvar HomePage = function HomePage(_ref) {\n  var params = _ref.params;\n  // const HomePage = ({params}) => {\n  var _useState = (0,react.useState)(undefined),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    videoList = _useState2[0],\n    setVideoList = _useState2[1];\n  var _useState3 = (0,react.useState)({}),\n    _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n    urlParams = _useState4[0],\n    setUrlParams = _useState4[1];\n  var _useState5 = (0,react.useState)(0),\n    _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n    videoTotalCount = _useState6[0],\n    setVideoTotalCount = _useState6[1];\n  var _useState7 = (0,react.useState)(1),\n    _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n    pageIndex = _useState8[0],\n    setPageIndex = _useState8[1];\n  var _useState9 = (0,react.useState)(false),\n    _useState10 = (0,slicedToArray/* default */.Z)(_useState9, 2),\n    swipeUpGuideVisible = _useState10[0],\n    setSwipeUpGuideVisible = _useState10[1];\n  var _useState11 = (0,react.useState)(false),\n    _useState12 = (0,slicedToArray/* default */.Z)(_useState11, 2),\n    doubleClickVisible = _useState12[0],\n    setDoubleClickVisible = _useState12[1];\n  var _useState13 = (0,react.useState)(false),\n    _useState14 = (0,slicedToArray/* default */.Z)(_useState13, 2),\n    networkError = _useState14[0],\n    setNetworkErr = _useState14[1]; // 网络有误\n  var _useState15 = (0,react.useState)(false),\n    _useState16 = (0,slicedToArray/* default */.Z)(_useState15, 2),\n    pageLoadedErr = _useState16[0],\n    setPageLoadedErr = _useState16[1]; // 页面加载失败\n  var _useState17 = (0,react.useState)(false),\n    _useState18 = (0,slicedToArray/* default */.Z)(_useState17, 2),\n    pageNotFound = _useState18[0],\n    setPageNotFound = _useState18[1]; // 有id无详情\n  var _useState19 = (0,react.useState)(false),\n    _useState20 = (0,slicedToArray/* default */.Z)(_useState19, 2),\n    swiperToBottom = _useState20[0],\n    setSwiperToBottom = _useState20[1];\n  var _useState21 = (0,react.useState)(false),\n    _useState22 = (0,slicedToArray/* default */.Z)(_useState21, 2),\n    isFetching = _useState22[0],\n    setIsFetching = _useState22[1];\n  var swipeUpGuideStartTimer, doubleClickStartTimer, swipeUpGuideEndTimer, doubleClickEndTimer;\n  var isHomePage = (0,taro.getCurrentPages)().length == 1;\n  var navbarData = {\n    customBack: true,\n    customHome: true,\n    bgTransparent: true,\n    iconColor: \"white\",\n    showCapsule: isHomePage,\n    showBack: !isHomePage,\n    title: \"\"\n  };\n\n  // 初始化\n  (0,react.useEffect)(function () {\n    traceSessionId = getUniqueId();\n    var urlParams = {};\n    try {\n      urlParams = getParamsFromURL(params);\n    } catch (error) {\n      setPageLoadedErr(true);\n      videoFailTrace(ERROR_TYPE.PAGE_LOAD_FAILED);\n    }\n    if (isEmpty(urlParams)) {\n      return;\n    }\n    setUrlParams(urlParams);\n    (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee() {\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return getVideoListFunc(urlParams, pageIndex);\n          case 2:\n            // 成功浏览一次\n            videoBrowseTrace();\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n\n    // 监听网络状态\n    addNetworkListener();\n\n    // 监听切换后台\n    cwx.onAppHide(function () {\n      titleBarTrace(TITLE_BAR_TYPE.EXIT);\n    });\n\n    // 卸载\n    return function () {\n      clearGuideTimer();\n    };\n  }, []);\n  var addNetworkListener = function addNetworkListener() {\n    taro_default().onNetworkStatusChange(function (res) {\n      console.log(\"网络状态变化\", networkError);\n      var isConnected = res.isConnected,\n        networkType = res.networkType;\n      if (!isConnected || [\"none\", \"offline\"].includes(networkType)) {\n        // 网络异常埋点上报，仅上报一次\n        setNetworkErr(true);\n        taro_default().showToast({\n          title: \"网络异常，请检查网络状态\",\n          icon: \"none\",\n          duration: 3000\n        });\n        log.devTrace({\n          msg: \"network error\",\n          networkType: networkType,\n          isConnected: isConnected\n        });\n        return;\n      }\n      setNetworkErr(false);\n\n      // if (networkType != \"wifi\") {\n      //   Taro.showToast({\n      //     title: \"正在使用流量播放\",\n      //     icon: \"none\",\n      //     duration: 3000,\n      //   });\n      // }\n    });\n  };\n\n  var clearGuideTimer = function clearGuideTimer() {\n    clearTimeout(swipeUpGuideStartTimer);\n    clearTimeout(swipeUpGuideEndTimer);\n    clearTimeout(doubleClickStartTimer);\n    clearTimeout(doubleClickEndTimer);\n  };\n  (0,taro.useShareAppMessage)(function (res) {\n    if (isEmpty(videoList)) return {};\n    var _ref3 = videoList && videoList[getCurrentVideoIndex()] || {},\n      shareInfo = _ref3.shareInfo;\n    var _ref4 = shareInfo || {},\n      title = _ref4.title,\n      imageUrl = _ref4.imageUrl,\n      urls = _ref4.urls;\n    var weixinUrl = urls.weixinUrl,\n      h5Url = urls.h5Url;\n    videoShareViewTrace(ACTION_TYPE.CLICK, SHARE_TYPE.WEIXIN);\n    return {\n      title: title,\n      imageUrl: imageUrl,\n      path: weixinUrl\n    };\n  });\n  var getVideoListFunc = /*#__PURE__*/function () {\n    var _ref5 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee2(urlParams) {\n      var pageIndex,\n        isRefresh,\n        param,\n        videoListRes,\n        _ref6,\n        statusCode,\n        data,\n        _data$items,\n        items,\n        totalCount,\n        tempList,\n        _tempList,\n        _tempList$,\n        contentId,\n        mediaId,\n        videoUrl,\n        author,\n        ext,\n        _args2 = arguments;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            pageIndex = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : 1;\n            isRefresh = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : false;\n            if (!isFetching) {\n              _context2.next = 4;\n              break;\n            }\n            return _context2.abrupt(\"return\");\n          case 4:\n            setIsFetching(true);\n            param = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, urlParams), {}, {\n              pageIndex: pageIndex\n            });\n            _context2.prev = 6;\n            _context2.next = 9;\n            return getVideoList(param);\n          case 9:\n            videoListRes = _context2.sent;\n            _context2.next = 15;\n            break;\n          case 12:\n            _context2.prev = 12;\n            _context2.t0 = _context2[\"catch\"](6);\n            setIsFetching(false);\n          case 15:\n            _ref6 = videoListRes || {}, statusCode = _ref6.statusCode, data = _ref6.data;\n            _data$items = data.items, items = _data$items === void 0 ? [] : _data$items, totalCount = data.totalCount;\n            setIsFetching(false);\n            if (!(statusCode == STATUS_CODE.NETWORK_ERR)) {\n              _context2.next = 21;\n              break;\n            }\n            videoFailTrace(ERROR_TYPE.PAGE_LOAD_FAILED);\n            return _context2.abrupt(\"return\");\n          case 21:\n            if (!(totalCount == 0)) {\n              _context2.next = 25;\n              break;\n            }\n            setPageNotFound(true);\n            videoFailTrace(ERROR_TYPE.NOT_FOUND);\n            return _context2.abrupt(\"return\");\n          case 25:\n            tempList = videoList || [];\n            if (isRefresh) {\n              (_tempList = tempList) === null || _tempList === void 0 || _tempList.splice(-items.length);\n            }\n            tempList = tempList.concat(items);\n            // let tempList = videoList || []).concat(items);\n            // console.log(\">> 123 get videoList >>\", tempList.length, pageIndex);\n\n            // test 空态\n            // tempList[0].videoUrl = \"\";\n\n            // test bottom\n            // tempList = tempList.slice(0,5);\n            // tempList = [tempList[0]];\n            tempList.length == 1 && setSwiperToBottom(true);\n            setPageIndex(pageIndex);\n            setVideoList(tempList);\n            setVideoTotalCount(totalCount);\n            networkError && setNetworkErr(false);\n            pageLoadedErr && setPageLoadedErr(false);\n            pageNotFound && setPageNotFound(false);\n            if (pageIndex == 1) {\n              _tempList$ = tempList[0], contentId = _tempList$.contentId, mediaId = _tempList$.mediaId, videoUrl = _tempList$.videoUrl, author = _tempList$.author, ext = _tempList$.ext;\n              traceSessionId = traceSessionId || getUniqueId();\n              commonTrace({\n                sessionid: traceSessionId,\n                // getContentlist接口rep.ext.burydata\n                extra: ext || \"\",\n                // 文章contentId\n                articleid: contentId,\n                // 视频mediaId\n                id: mediaId,\n                // 当前视频所在排序，从0开始\n                index: 0,\n                // 主详情接口中的videoUrl\n                url: videoUrl,\n                isStarAccount: author.isStarAccount || false\n              });\n\n              // 首次进入且接口调用成功后，触发引导\n              handleOperationGuide(urlParams, tempList);\n\n              // 任务接口\n              handleShareTask(contentId, urlParams === null || urlParams === void 0 ? void 0 : urlParams.clientAuth);\n            }\n          case 36:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[6, 12]]);\n    }));\n    return function getVideoListFunc(_x) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleShareTask = function handleShareTask(contentId, clientAuth) {\n    if (!clientAuth || !contentId) {\n      return;\n    }\n    shareDoTask({\n      articleIds: [contentId],\n      clientAuth: clientAuth\n    });\n  };\n  var _handleVideoChange = /*#__PURE__*/function () {\n    var _ref7 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/(0,regeneratorRuntime/* default */.Z)().mark(function _callee3() {\n      var vIndex, vLen, _ref8, _ref8$contentId, contentId;\n      return (0,regeneratorRuntime/* default */.Z)().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            vIndex = getCurrentVideoIndex();\n            vLen = (videoList === null || videoList === void 0 ? void 0 : videoList.length) || 0;\n            _ref8 = videoList && videoList[vIndex] || {}, _ref8$contentId = _ref8.contentId, contentId = _ref8$contentId === void 0 ? \"\" : _ref8$contentId; // console.error(\" ==== get list ===>\", vIndex, vLen, videoTotalCount,pageIndex)\n            // setCurrentVideoIndex(vIndex);\n            if (!(vIndex + 1 === vLen)) {\n              _context3.next = 9;\n              break;\n            }\n            if (!(vLen == videoTotalCount)) {\n              _context3.next = 7;\n              break;\n            }\n            setSwiperToBottom(true);\n            return _context3.abrupt(\"return\");\n          case 7:\n            _context3.next = 9;\n            return getVideoListFunc(urlParams, pageIndex + 1);\n          case 9:\n            // 任务接口\n            handleShareTask(contentId, urlParams === null || urlParams === void 0 ? void 0 : urlParams.clientAuth);\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return function handleVideoChange() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var handleOperationGuide = function handleOperationGuide(urlParams, videoList) {\n    var source = urlParams.source;\n    var enteredSources = cwx.getStorageSync(COOKIE_SOURCE) || [];\n    clearGuideTimer();\n\n    // 首次进入某source场景\n    if (isEmpty(enteredSources) || !enteredSources.includes(source)) {\n      // 当前item停留时间达10s后，【触发向上滑动引导】，有且只有一次;\n      swipeUpGuideStartTimer = setTimeout(function () {\n        clearTimeout(swipeUpGuideStartTimer);\n        setSwipeUpGuideVisible(true);\n        if (!isEmpty(videoList[getCurrentVideoIndex()])) {\n          guideTrace(GUIDE_TYPE.SWIPER_UP_ENTRANCE);\n        }\n      }, SWIPER_UP_GUIDE_START_TIME);\n      swipeUpGuideEndTimer = setTimeout(function () {\n        clearTimeout(swipeUpGuideEndTimer);\n        setSwipeUpGuideVisible(false);\n      }, SWIPER_UP_GUIDE_END_TIME);\n\n      // 当前item（页面）停留时间≥20s后【双击点赞】\n      doubleClickStartTimer = setTimeout(function () {\n        clearTimeout(doubleClickStartTimer);\n        setDoubleClickVisible(true);\n        if (!isEmpty(videoList[getCurrentVideoIndex()])) {\n          guideTrace(GUIDE_TYPE.DOUBLE_CLICK);\n        }\n      }, DOUBLE_CLICK_GUIDE_START_TIME);\n      doubleClickEndTimer = setTimeout(function () {\n        clearTimeout(doubleClickEndTimer);\n        setDoubleClickVisible(false);\n      }, DOUBLE_CLICK_GUIDE_END_TIME);\n      cwx.setStorage({\n        key: COOKIE_SOURCE,\n        data: [].concat((0,toConsumableArray/* default */.Z)(enteredSources), [source]),\n        success: function success(res) {\n          // console.log(\"setCookie source success\", source, res);\n        },\n        fail: function fail(err) {\n          // console.log(\"setCookie source error\", source, err);\n        }\n      });\n    }\n  };\n  var handleCloseGuide = function handleCloseGuide(type) {\n    if (type == GUIDE_TYPE.SWIPER_UP_ENTRANCE) {\n      clearTimeout(swipeUpGuideEndTimer);\n      setSwipeUpGuideVisible(false);\n    } else if (type == GUIDE_TYPE.DOUBLE_CLICK) {\n      clearTimeout(doubleClickEndTimer);\n      setDoubleClickVisible(false);\n    }\n  };\n  var renderSwiperUpGuide = function renderSwiperUpGuide() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(Guide, {\n      type: GUIDE_TYPE.SWIPER_UP_ENTRANCE,\n      handleClick: function handleClick() {\n        return handleCloseGuide(GUIDE_TYPE.SWIPER_UP_ENTRANCE);\n      }\n    });\n  };\n  var renderLikeGuide = function renderLikeGuide() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(Guide, {\n      type: GUIDE_TYPE.DOUBLE_CLICK,\n      handleClick: function handleClick() {\n        return handleCloseGuide(GUIDE_TYPE.DOUBLE_CLICK);\n      }\n    });\n  };\n  var renderVideoScroll = function renderVideoScroll() {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(VideoScroll, {\n        handleVideoChange: function handleVideoChange(e) {\n          return _handleVideoChange(e);\n        },\n        swiperToBottom: swiperToBottom\n      })\n    });\n  };\n  var onPageBack = function onPageBack() {\n    navigateBack();\n    titleBarTrace(TITLE_BAR_TYPE.BACK);\n  };\n  var onHomeClick = function onHomeClick() {\n    titleBarTrace(TITLE_BAR_TYPE.HOME);\n    cwx.switchTab({\n      url: \"/pages/home/homepage\"\n    });\n  };\n  var renderNavBar = function renderNavBar() {\n    // @ts-ignore\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(\"nav-bar\", {\n      navbarData: navbarData,\n      onBack: onPageBack,\n      onHome: onHomeClick\n    });\n  };\n  var renderContent = function renderContent() {\n    if (getCurrentVideoIndex() == 0 && isFetching) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(Loading, {\n        type: LOADING_TYPE.GLOBAL\n      });\n    }\n    if (pageLoadedErr) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(Status, {\n        type: STATUS_TYPE.LOAD_FAILED,\n        theme: \"light\",\n        buttonText: \"\\u518D\\u8BD5\\u4E00\\u6B21\",\n        handleClick: function handleClick() {\n          return getVideoListFunc(urlParams, pageIndex);\n        }\n      });\n    }\n    if (pageNotFound) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(Status, {\n        theme: \"dark\",\n        type: STATUS_TYPE.EMPTY,\n        title: /*#__PURE__*/(0,jsx_runtime.jsxs)(components_react.View, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            children: \"\\u54CE\\u5440~\\u6CA1\\u6709\\u627E\\u5230\\u4F60\\u60F3\\u770B\\u5230\"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n            children: \"\\u7684\\u8FD9\\u6761\\u7B14\\u8BB0\"\n          })]\n        })\n      });\n    }\n    return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n      children: [renderVideoScroll(), /*#__PURE__*/(0,jsx_runtime.jsx)(TaskCountDown, {}), swipeUpGuideVisible && renderSwiperUpGuide(), doubleClickVisible && renderLikeGuide()]\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [renderNavBar(), /*#__PURE__*/(0,jsx_runtime.jsx)(AppContext.Provider, {\n      value: {\n        urlParams: urlParams,\n        videoList: videoList || [],\n        setVideoList: setVideoList,\n        networkError: networkError\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_react.View, {\n        className: \"video-wrap\",\n        children: renderContent()\n      })\n    })]\n  });\n};\n/* harmony default export */ var home = (HomePage);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./src/pages/video/pages/home/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Index = /*#__PURE__*/function (_TaroBase) {\n  (0,inherits/* default */.Z)(Index, _TaroBase);\n  var _super = (0,createSuper/* default */.Z)(Index);\n  function Index(props) {\n    var _this;\n    (0,classCallCheck/* default */.Z)(this, Index);\n    _this = _super.call(this, props);\n    (0,defineProperty/* default */.Z)((0,assertThisInitialized/* default */.Z)(_this), \"instance\", (0,taro.getCurrentInstance)());\n    _this.pageId = VIDEO_PAGE_ID;\n    return _this;\n  }\n  (0,createClass/* default */.Z)(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // 监听切换后台\n      cwx.onAppHide(function () {\n        // 切后台，不再出发cpc风控\n        clearRiskInfoTimer();\n        titleBarTrace(TITLE_BAR_TYPE.EXIT);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // console.error(\"------------ taro-video 页面卸载 ------------\");\n      // 变量重置\n      setCurrentVideoIndex(0);\n      resetVideoContext();\n\n      // 移除自定义监听事件\n      removeListener();\n\n      // 移除切后台监听事件\n      cwx.offAppHide();\n\n      // 发送length埋点\n      var _ref = getVideoTime() || {},\n        totalTime = _ref.totalTime,\n        startTime = _ref.startTime,\n        playTime = _ref.playTime;\n      videoPlayTimeTrace({\n        totalTime: totalTime,\n        startTime: startTime,\n        playTime: playTime\n      });\n      resetVideoTime();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$instance$router;\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(home, {\n        params: (_this$instance$router = this.instance.router) === null || _this$instance$router === void 0 ? void 0 : _this$instance$router.params\n      });\n    }\n  }]);\n  return Index;\n}(base/* default */.Z);\n\n;// CONCATENATED MODULE: ./src/pages/video/pages/home/index.tsx\n\n\nvar config = {\"navigationBarTitleText\":\"首页\",\"navigationStyle\":\"custom\",\"enableShareAppMessage\":true,\"pageOrientation\":\"portrait\",\"usingComponents\":{\"nav-bar\":\"@miniapp/cwx/component/navbar/navbar\",\"cemoji-converter\":\"@miniapp/cwx/component/cemojiConverter/cemojiConverter\",\"task-count-down\":\"@miniapp/pages/market/directory/components/taskCountDown/index\"},\"componentPlaceholder\":{\"task-count-down\":\"view\"}};\n\nIndex.enableShareAppMessage = true\nvar inst = Page((0,runtime_esm.createPageConfig)(Index, 'pages/video/pages/home/index', {root:{cn:[]}}, config || {}))\n\n\n\n\n/***/ }),\n\n/***/ 79181:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../../../../cwx/cpage/initNavigator\");\n\n/***/ }),\n\n/***/ 91783:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../../../../cwx/cpage/ubt_wx\");\n\n/***/ }),\n\n/***/ 56884:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../../../../cwx/cwx\");\n\n/***/ }),\n\n/***/ 65238:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../../../../cwx/ext/global\");\n\n/***/ }),\n\n/***/ 33675:\n/***/ (function(module) {\n\n\"use strict\";\nmodule.exports = require(\"../../../../cwx/cwx\");\n\n/***/ })\n\n},\n/******/ function(__webpack_require__) { // webpackRuntimeModules\n/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }\n/******/ __webpack_require__.O(0, [2107,1216,8592], function() { return __webpack_exec__(14082); });\n/******/ var __webpack_exports__ = __webpack_require__.O();\n/******/ }\n]);;"],"names":["wx","push","__unused_webpack_module","__unused_webpack___webpack_exports__","__webpack_require__","runtime_esm","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","defineProperty","base","VIDEO_PAGE_ID","MEDIA_TYPE","GESTURE_TYPE","ACTION_TYPE","IS_GRAVITY","AUTHOR_TYPE","LIKE_TYPE","COLLECT_TYPE","SHARE_TYPE","POI_TYPE","TITLE_BAR_TYPE","PLAY_TYPE","ERROR_TYPE","GUIDE_TYPE","toConsumableArray","objectSpread2","regeneratorRuntime","asyncToGenerator","slicedToArray","react","components_react","taro","taro_default","n","AppContext","createContext","VIDEO_ACTION_TYPE","AUTHOR_LIVE_STATUS","BASE_HOST","POSTER_SHARE_PATH","REQUEST_CONFIG","baseUrl","concat","timeout","API_MAP","getVideoList","operateVideo","contentProduct","getRiskInfo","reportMktProduct","shareDoTask","STATUS_CODE","curVideoIndex","setCurrentVideoIndex","index","getCurrentVideoIndex","videoContexts","resetVideoContext","getVideoContext","curIndex","initVideoContext","createVideoContext","play","triggerVideoPlay","_videoContexts$index","_stopOtherVideos","Object","prototype","hasOwnProperty","call","vCtx","stop","deleteVideoContext","esm_typeof","checkStringEmpty","str","checkNumberEmpty","num","toString","checkObjectEmpty","obj","keys","length","checkArrayEmpty","arr","checkDataEmptyDict","string","number","Array","function","undefined","boolean","data","Null","isEmpty","type","Z","replace","isUndefined","param","formatNum","toFixed","getFormatDate","date","format","arguments","Date","getDay","setHours","getHours","o","getMonth","getDate","getMinutes","getSeconds","Math","floor","getMilliseconds","k","test","RegExp","$1","getFullYear","substr","formatTime","second","count","seconds","round","result","current","pow","map","item","join","getUniqueId","getTime","padStart","stopPropagation","e","rpxToPx","size","hasUnit","_cwx$getSystemInfoSyn","cwx","getSystemInfoSync","windowWidth","floatProductTimerMap","setFloatProductTimer","_ref","startTime","startCallback","endTime","endCallback","clearFloatProductTimer","startTimer","setTimeout","endTimer","key","clearTimeout","riskInfoTimer","clearRiskInfoTimer","handleRiskInfoTimer","callback","videoTotalTime","videoPlayTime","videoStartTime","resetVideoTime","setVideoTime","_ref$totalTime","totalTime","_ref$playTime","playTime","_ref$startTime","getVideoTime","_require","__global","WECHAT_APPID","getAuthToken","user","auth","checkAndLogin","back","checkLogin","isLogin","login","isSuccess","checkLoginStatusFromServer","_callback","request","_x","_request","apply","this","mark","_callee","params","url","cver","head","body","wrap","_context","prev","next","extension","abrupt","Promise","resolve","reject","method","success","res","statusCode","errMsg","OK","fail","_operateVideo","reqParams","sent","STATIC_URL","WEAPP_IMAGE","DOWNLOAD_IMAGE","LIKED_ANIMATION","COLLECTED_ANIMATION","SHOPPING_CART_ANIMATION","DOUBLE_CLICK_WEBP","SWIPE_UP_WEBP","LOADING_EARTH","LOADING_SIMPLE","env_isDebugEnv","env","wxSystemInfo","platform","METRIC_NAME","DEV_TRACE_KEY","COMMON_TRACE_DATA","media","VIDEO","systemcode","commonTrace","Log","dev","prefix","console","log","trace","info","error","sendUbtByPage","ubtTrace","tiled","message","stack","devTrace","ubtDevTrace","JSON","stringify","sendPV","pageId","ubtSendPV","Base64","tables","UTF16ToUTF8","results","len","i","code","charCodeAt","charAt","byte1","byte2","String","fromCharCode","_byte","_byte2","byte3","UTF8ToUTF16","_i","code2","utf16","Sting","_code","code3","_byte3","_byte4","_utf","encode","utf8","c1","c2","c3","decode","code1","indexOf","code4","getParamsFromURL","_ref$param","_ref$_mktTaskActivity","_mktTaskActivityId","decodeParams","sepopup","urlParams","parse","_urlParams","bizType","source","requestListType","articleId","productType","requestSource","contentIdList","id","requestlist","isHttpUrl","reg","parseUrlParams","searchIndex","hashIndex","searchStr","slice","split","forEach","paramStr","_paramStr$split","_paramStr$split2","value","decodeURIComponent","parseAndAppendUrlParams","newUrl","isFirst","_key","encodeURIComponent","navigateTo","_len","args","msg","navigateBack","jumpToH5","needLogin","component","cwebview","warn","jumpToWxOrH5","wxUrl","h5Url","isAppendParam","backpre","TRACE_FROM","TRACE_TYPE","TRACE_CONTENT_TYPE","TRACE_VIDEO_GOODS_TYPE","videoPlayTimeTrace","core_videoPlayTime","total_duration","start_duration","play_duration","videoFinishTrace","_ref2","core_videoFinish","videoBrowseTrace","core_videoBrowse","videoValidViewTrace","isRisk","isInfoSecurityRisk","infoSecurityRiskLevel","isBusinessRisk","businessRiskLevel","requestId","eventId","core_isValidView","from","content_type","_handleProductTrace","isAllGoods","_JSON$parse","extInfo","core_mktProduct","product_infos","videoMktProductTrace","goods","allGoods","videoGoods","recommends","totalCount","items","guideTrace","guideType","videoGuide","guidetype","gestureTrace","gestureType","videoGesture","titleBarTrace","titleBarType","videoTitleBar","videoStatusTrace","playType","videoPlayer","videoFailTrace","errorType","videoError","rotateScreenTrace","_params$actionType","actionType","_params$isGravity","isGravity","videoLandscape","authorTrace","authorType","videoAuthor","authorFollowTrace","videoFollowAuthor","videoLikeTrace","likeType","videoLike","videoCollectTrace","collectType","videoCollect","videoCommentTrace","videoComment","videoShareTrace","videoShare","videoShareViewTrace","shareType","videoShareView","videoDetailsTrace","videoViewAll","videoPoiTrace","poiType","videoPoi","_productParamsUtil","productInfo","recommendIndex","video_goods","protag","cardSource","distanceSubTitle","prodcuttype","productid","goodsType","floatProductTrace","_ref3","ALLGOODS","videoRecommendGoods","videoShoppingCartTrace","videoShoppingCart","videoShoppingCartViewExposureTrace","products","videoShoppingCartView","EXPOSURE","videoShoppingCartViewCloseTrace","CLOSE","videoShoppingCartViewClickTrace","sortIndex","CLICK","jumpToAuthorHomePage","author","jumpUrl","jsx_runtime","Mask","props","jsx","View","className","style","onClick","handleClick","showToast","opt","title","duration","mask","ShareButton","memo","text","_props$size","Fragment","children","jsxs","Image","src","Text","ShareModal","_props$bgColor","bgColor","videoInfo","contentId","articleTitle","_getShareImageUrl","imageType","businessId","sourceType","sourceFrom","from_native_page","styleType","query","reduce","cur","generatePoster","POSTER","backgroundColor","handleClose","TAG_STYLE","MyTag","_props$style","iconUrl","color","_useState","useState","_useState2","customStyle","setCustomStyle","useEffect","handleJump","POI","DESTRICT","handleTagRender","substring","PRODUCT_CARD_TYPE","PRODUCT_CARD_INFO_TYPE","PRODUCT_CARD_INFO_TYPE_MAP","NONE","SCORE","PRICE","ProductCardCmp","_props$type","FLOAT","_props$closable","closable","subTitle","image","jumpText","score","salesText","commentText","_productInfo$itag","goodsListShowStartSecond","goodsListShowEndSecond","itag","_productInfo$stag","stag","_productInfo$tag","tag","_productInfo$proTagIn","proTagInfo","_productInfo$proTagIn2","startcolor","endcolor","graduallyAngle","textColor","priceUnit","currentPrice","originPrice","startFromText","tagList","setTagList","tempTagList","name","STRONG","_item","DISCOUNT","_i2","_item2","NORMAL","_getCardInfoType","values","findIndex","some","cardInfoType","closeBtnClick","renderCloseButton","renderImage","background","_renderPrice","renderProducntInfo","tempSubTitle","areEqual","prevProps","nextProps","ProductCard","REPORT_MKT_TYPE","_reportMktProduct","resultCode","STATUS_TYPE","Status","buttonText","theme","Button","LOADING_TYPE","Loading","GLOBAL","MAX_PRODUCT","ShoppingCartModal","_products$groupedItem","_products$groupedItem2","netWorkErr","_useContext","useContext","contentStyle","height","handleProductClick","clientAuth","page_type","pageid","materialid","click_type","note","is_star","isStarAccount","sourcefrom","groupedItems","NETWORK_ERROR","EMPTY","ScrollView","scrollY","scrollWithAnimation","scrollTop","lowerThreshold","upperThreshold","LIST","cwx_","doBeforeRequest","_success","_fail","_complete","complete","extensions","assign","_res$ResponseStatus","ResponseStatus","Errors","ErrorCode","ruleSortCommentList","fn","comment","action","commentId","isNeedInteractTag","targetId","targetType","getPkVote","interactionAction","checkResponseAck","toastFlag","status","Ack","toLowerCase","logout","logoutres","loginres","ReturnCode","icon","assembleEmojiObj","keyword","styleOptions","emojiObj","wrapperStyle","cemojiStyle","handleDataAfterCommentPraise","commentList","topLevelCommentId","childComments","mainCommentId","childItem","childIndex","isLike","likeCount","EmojiComp","_Component","_super","_this$props","inputObj","showContent","convertCEmojiInput","RichText","nodes","Component","EmojiComp_areEqual","pInputObj","nInputObj","components_EmojiComp","InputMask","_this","detail","state","inputValue","inputValueData","inputFocus","canHide","hideCommentInput","isClickQuick","setState","visible","commentFocus","rule","content","replyCommentId","isContentEncode","testInvalidStr","_result$comment","toast","rewardInfo","tempReplyId","commentSubmitNotify","resultId","resultText","placeholder","_this2","text2","toFoucus","_this3","replyList","_this$state","catchMove","Textarea","fixed","onFocus","handleFocus","onInput","inpValueChange","onKeyboardHeightChange","keybordHeightChange","focus","onBlur","handleBlur","toComment","replyItem","handleClickQuickItemValue","InputMask_areEqual","components_InputMask","defaultProps","Vote","_res$data","_res$data2","_res$data3","_res$data4","_res$data5","_res$data6","_res$data7","_res$data8","isPushAction","interaction","voteInfo","isInteract","isEnd","activeType","interactItems","idx","isChecked","_handleClickItem","width","percentage","_this$state2","_interactionAction","toLogin","interactionItems","articleInteractionItemId","itemId","_res$data9","getVoteInfo","isCanSubmit","activeTypeMap","userInit","get","find","_this$state3","_renderItem","_handleSubmitBtn","endDisplayTime","joinCount","CommentListModal","pageIndex","getCommentList","para","pageSize","sortType","displayType","showCommentCount","sortDirection","excludeCommentIds","levels","isLoadEnd","isloading","comments","childCommentsPageIndex","isPublic","sceneTotalCount","listLoading","val","initCommentList","topCommentId","self","actionCode","getActionInfo","refreshComment","toastTitle","praiseNotify","loginCallback","nickName","isself","inputMaskRef","show","commentTextStyle","jumpToHome","coverImage","dynamicUrl","vIcon","refComment","doCommentPraise","mode","publishStatus","showCommentAction","isOwner","reportType","toReply","publishTimeDisplay","ipLocatedName","tags","tIdx","tagName","_renderCommentDetail","child","sIdx","childTotalCount","showSubCommentLoading","fetchSubCommentList","commentParam","currentTopLevelCommentIndex","commentListItem","commentListIndex","getExcludeCommentIds","addExcludeCount","list","err","hideNotify","toReply_temp_currentCommentId","toReply_temp_nickname","actionVisible","currentCommentId","deleteComment","deleteCommentNotify","hideAction","splice","deleteFlag","sub","subDeleteFalg","vaildComment","filter","subItem","_e$detail","addComment","closeNotify","_this$props$cwx","_this$props$cwx$getCE","prevIsVisible","isVisible","getCEmojiMapData","_this$props2","showVote","showDelete","touchStyle","hide","switchSortType","onScrollToLower","handleLoadMore","onScroll","handScroll","bind","_renderList","toInputFocus","ref","handleReply","actionDeleteComment","src_areEqual","likeAnimationTimer","collectAnimationTimer","descMaxNum","comment_list_modal_taro","CommentModal","closeCallback","commentRef","useRef","isAndroid","CustomWrapper","f","Comment","VideoToolsComp","doubleClick","_videoInfo$contentId","isFollow","isHost","isCollected","collectCount","commentCount","shareInfo","liveInfo","likeAnimation","setLikeAnimation","_useState3","_useState4","collectAnimation","setCollectAnimation","_useState5","_useState6","shareModalVisiable","setShareModalVisiable","_useState7","_useState8","shoppingCartModalVisiable","setShoppingCartModalVisiable","videoList","setVideoList","_useState9","_useState10","commentModalVisiable","setCommentModalVisiable","handleLike","useDidHide","handleAttention","handleOperate","ATTENTION","LIKE","handleCollect","COLLECT","_handleOperateFunc","resetDoubleClick","_updateVideoListData","vId","tempVideoList","_tempVideoList$index","isUpdateList","DISLIKE","DISCOLLECT","handleComment","_commentRef$current","handleShare","_handleClose","renderAvatar","liveStatus","_ref3$dynamicUrl","ON","IMAGE","renderLikes","renderComment","renderCollect","renderShare","renderShareModal","handleShoppingCartClick","renderShoppingCart","_ref4","marginTop","renderShoppingCartModal","renderCommentModal","VideoTools","IDENTITY_TAG_COLOR","toRgbaString","colorObj","r","g","b","_colorObj$a2","a","parseHexColor","hex","parseInt","bigint","parseRgbaColor","match","s","parseFloat","parseColorString","startsWith","Error","hexToRgba","VideoDetails_document","defaultDescMaxNum","VideoDetailsCmp","location","district","contentWithoutCtag","description","publishedLocation","articleLevel","descText","isFold","setFold","isOver2Lines","setIsOver2Lines","isShowLocation","setIsShowLocation","maxNumForDesc","setMaxNumForDesc","isOver2LinesRef","_getDescMaxNum","formatText","_isOver2Lines","handleDescTap","_e$target$dataset","target","dataset","wxurl","h5url","descEle","getElementById","addEventListener","removeEventListener","createSelectorQuery","select","boundingClientRect","exec","pixelRatio","getDescHtml","descHtml","dangerouslySetInnerHTML","__html","display","handleFold","renderTags","districtName","poiTypeIcon","jumpWXUrl","jumpH5Url","renderAuthor","tagStyleRgbaW","tagStyleRgba","tagStyleFont","tagStyleFontW","identityTagStyle","tagStyleBack","tagStyleBackW","identityTypeName","NAME","renderFoldDesc","formatDesc","renderUnFoldDesc","zIndex","VideoDetails","getContentProductList","_getContentProductList","coordinate","latitude","longitude","overSea","RISK_INFO_EVENT_POINT","combineRuleParams","clientid","clientID","AppId","appId","combineEventBody","clientId","scene","_getRiskInfo","_data$isRisk","_data$isInfoSecurityR","_data$infoSecurityRis","_data$isBusinessRisk","_data$businessRiskLev","_data$requestId","_data$eventId","eventPoint","ruleParams","eventBody","singleClickTimer","SCREEM_WIDTH","CLICK_TYPE","useClick","lastClickTime","setLastClickTime","currentTime","timeStamp","interval","DOUBLE_CLICK","SINGLE_CLICK","getAngle","x","y","atan2","PI","useMoveX","toLeft","toRight","disable","startX","startY","onTouchStart","useCallback","event","_event$changedTouches","changedTouches","pageX","pageY","now","getAbsAngle","diffX","diffY","angle","abs","onTouchEnd","_event$changedTouches2","move","SLIDER_STYLE","activeColor","VideoProgressCmp","networkError","isTouching","setIsTouching","initClientX","setInitClientX","initTouchingValue","setInitTouchValue","touchingValue","setTouchingValue","screenWidth","Number","onTouchMoveStart","onTouching","clientX","touches","onTouchMove","tempValue","curSliderValue","Slider","step","min","max","disabled","trackSize","blockColor","blockSize","VideoProgress","SWIPER_CHANGE_EVENT","triggerSwiperChange","lastIndex","Observer","noti","listenSwiperChange","addObserverForKey","removeListener","eventName","removeAllObserversForKey","PRELOAD_TYPE","sendFinishTraceEndTime","VideoItemComp","setCurIndex","cartProducts","setCartProducts","floatProductVisible","setFloatProductVisible","paused","setPaused","sliderValue","setSliderValue","_useState11","_useState12","sliderChanging","setSliderChanging","_useState13","_useState14","videoHeightStyle","setVideoHeightStyle","_useState15","_useState16","fetchErr","setFetchErr","_useState17","_useState18","rotateBtnVisible","setRotateBtnVisible","_useState19","_useState20","isHorizontalScreen","setIsHorizontalScreen","_useState21","_useState22","setDoubleClick","_useState23","_useState24","isLoadVideo","setIsLoadVideo","_useState25","_useState26","voteModalVisiable","setVoteModalVisible","isLoadVideoRef","floatProductRef","floatProductVisibleRef","videoClickEvent","_videoInfo$videoDurat","videoDurationSeconds","_videoInfo$videoWidth","videoWidth","_videoInfo$videoHeigh","videoHeight","videoUrl","imageUrl","videoSize","mediaId","PAGE_LOAD_FAILED","getARFunc","getProducts","_checkIsPreLoadVideo","handleSwiperChange","_handleVideoPlayTrace","_updateCurrentVideo","_isLoadVideo","isRemoveVideo","_yield$getContentProd","_cartProducts","cardInfo","_args","handleCardAppear","_handleReportMkt","EXPO","vWidth","vHeight","screenHeight","ar","handleVideoClick","handlePause","DOUBLELIKE","videoCtx","PLAY","pause","PAUSE","handleVideoPause","_getVideoContext","handleVideoPlay","_getVideoContext2","renderVideoTools","renderPauseIcon","_useMoveX","SWIPER_LEFT","SWIPE_LEFT","SWIPER_RIGHT","_ref4$isFinished","isFinished","_getVideoTime","formatPlayTime","tempTime","onSlideChanged","rate","_getVideoContext3","changedSliderValue","seekValue","SPEED","BACKOFF","seek","onSlideChanging","renderProgress","handleVideoProgress","formatCurrentTime","formatDuration","currentValue","handleRotate","_getVideoContext4","requestFullScreen","direction","N","handleFullScreenChange","_getVideoContext5","_e$detail2","fullScreen","exitFullScreen","Y","_floatProductRef$curr","handleFloatProductClick","_floatProductRef$curr2","_floatProductRef$curr3","_floatProductRef$curr4","_floatProductRef$curr5","handleVideoError","onLoadedMetaData","_e$detail3","renderVideo","_jsx2","Video","poster","handleFloatClose","renderVideoDetails","visibility","handleVote","visiable","SwiperItem","skipHiddenItemLayout","VideoItem","debounce","timer","wait","VideoScroll","swiperToBottom","bottomTransition","setBottomTransition","swiperRefList","onAnimationFinish","newIndex","_videoList$newIndex","ext","handleVideoChange","extra","articleid","SWIPER_UP","SWIPER_DOWN","checkIsStuce","isCaton","dy","SLIDE_CATON","onTransition","bottomRange","Swiper","disableTouch","vertical","_getVideoList","_global$version","_ref$latitude","_ref$longitude","locate","getCachedGeoPoint","version","PREFIX","COOKIE_SOURCE","GUIDE_INFO","SWIPER_UP_ENTRANCE","desc","Guide","webp","articleIds","traceSessionId","TaskCountDown","SWIPER_UP_GUIDE_START_TIME","SWIPER_UP_GUIDE_END_TIME","DOUBLE_CLICK_GUIDE_START_TIME","DOUBLE_CLICK_GUIDE_END_TIME","HomePage","swipeUpGuideStartTimer","doubleClickStartTimer","swipeUpGuideEndTimer","doubleClickEndTimer","setUrlParams","videoTotalCount","setVideoTotalCount","setPageIndex","swipeUpGuideVisible","setSwipeUpGuideVisible","doubleClickVisible","setDoubleClickVisible","setNetworkErr","pageLoadedErr","setPageLoadedErr","pageNotFound","setPageNotFound","setSwiperToBottom","isFetching","setIsFetching","isHomePage","getCurrentPages","navbarData","customBack","customHome","bgTransparent","iconColor","showCapsule","showBack","getVideoListFunc","addNetworkListener","onAppHide","EXIT","clearGuideTimer","onNetworkStatusChange","isConnected","networkType","includes","useShareAppMessage","urls","weixinUrl","WEIXIN","path","_ref5","_callee2","isRefresh","videoListRes","_ref6","_data$items","tempList","_tempList","_tempList$","_args2","_context2","t0","NETWORK_ERR","NOT_FOUND","sessionid","handleOperationGuide","handleShareTask","_handleVideoChange","_ref7","_callee3","vIndex","vLen","_ref8","_ref8$contentId","_context3","enteredSources","getStorageSync","setStorage","handleCloseGuide","renderSwiperUpGuide","renderLikeGuide","renderVideoScroll","onPageBack","BACK","onHomeClick","HOME","switchTab","renderNavBar","onBack","onHome","renderContent","LOAD_FAILED","Provider","home","Index","_TaroBase","getCurrentInstance","offAppHide","_this$instance$router","instance","router","config","enableShareAppMessage","Page","createPageConfig","root","cn","module","exports","require","__webpack_exec__","moduleId","O"],"sourceRoot":""}